[{"tags": ["ruby"], "comments": [{"owner": {"reputation": 4230, "user_id": 945873, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d561be4c73996732e6639b5421abfb97?s=128&d=identicon&r=PG&f=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/945873/itdoesntwork"}, "edited": false, "score": 0, "creation_date": 1510185000, "post_id": 47191657, "comment_id": 81332685, "body": "Are you looking for <a href=\"https://ruby-doc.org/core-2.4.2/Object.html#method-i-send\" rel=\"nofollow noreferrer\">Object#send</a>?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1510189036, "post_id": 47191657, "comment_id": 81333780, "body": "Your question is very unclear. In your question title, in your first paragraph, and in your second paragraph you ask about <i>calling</i> a method, but then in your code you show examples of <i>defining</i> methods. Also, &quot;name of method is same as <code>@@location</code>&quot; and &quot;another name of method is same as <code>@@location</code>&quot; doesn&#39;t make sense. If both names are the as <code>@@location</code>, then both names are the same, or in other words: there is <i>only one name</i>, and not &quot;another name&quot;."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1510190438, "post_id": 47191657, "comment_id": 81334074, "body": "Can you provide a <i>precise</i> specification of what it is that you want to happen, including any and all rules, exceptions from those rules, corner cases, special cases, boundary cases, and edge cases? Can you provide sample inputs and outputs demonstrating what you expect to happen, both in normal cases, and in all the exceptions, corner cases, special cases, boundary cases, and edge cases?"}, {"owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1510195500, "post_id": 47191657, "comment_id": 81335296, "body": "@J&#246;rgWMittag I understand your confusion, and I apologize. @@location can be changed by a setter within the Player module, but that setter is not shown."}, {"owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1510195622, "post_id": 47191657, "comment_id": 81335322, "body": "@J&#246;rgWMittag Your other answer, about the &quot;defining methods&quot;: The method being called is found within Player.input.  module Player   @@location = &quot;location&quot;    def Player.input(input)     if input == &quot;look&quot;       &quot;Call Method from @@location&quot;     end   end end"}, {"owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "reply_to_user": {"reputation": 4230, "user_id": 945873, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d561be4c73996732e6639b5421abfb97?s=128&d=identicon&r=PG&f=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/945873/itdoesntwork"}, "edited": false, "score": 0, "creation_date": 1510202138, "post_id": 47191657, "comment_id": 81336961, "body": "@itdoesntwork Looking over Object#send, it appears to be what I am looking for, but in practice, I can&#39;t get it to convert a string into a means to call a Method."}, {"owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "reply_to_user": {"reputation": 4230, "user_id": 945873, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d561be4c73996732e6639b5421abfb97?s=128&d=identicon&r=PG&f=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/945873/itdoesntwork"}, "edited": false, "score": 0, "creation_date": 1510277293, "post_id": 47191657, "comment_id": 81378168, "body": "@itdoesntwork Object#send was it."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "edited": false, "score": 0, "creation_date": 1510277232, "post_id": 47196315, "comment_id": 81378149, "body": "That&#39;s exactly what I was looking for! Thank you!"}], "tags": [], "owner": {"reputation": 3286, "user_id": 1851041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/736f0189c216f8d9ece902e96fd37f6a?s=128&d=identicon&r=PG", "display_name": "BernardK", "link": "https://stackoverflow.com/users/1851041/bernardk"}, "is_accepted": true, "score": 0, "last_activity_date": 1510212849, "creation_date": 1510212849, "answer_id": 47196315, "question_id": 47191657, "link": "https://stackoverflow.com/questions/47191657/calling-a-method-using-the-input-of-the-user-using-their-string/47196315#47196315", "title": "Calling a Method using the Input of the User (using their String)", "body": "<p>What do you mean by <em>without having to nest</em> ? I wonder if your code is a contrived example. Defining methods in the special object <code>main</code> is OK for a quick test, if they are also called from <code>main</code>, otherwise they must be put in a class.</p>\n\n<p>So the answer could be as simple as that :</p>\n\n<pre><code>module Player\n  @location = 'location'\n\n  def Player.input(input)\n    puts \"in Player.input(#{input})\"\n    if input == 'look'\n      puts \"Calling method &lt;#{@location}&gt;\"\n      Switch.send(@location)\n    else\n      puts 'wrong input, must be \"look\"'\n    end\n  end\n\n  def Player.set_location(input)\n    @location = input\n  end\nend\n\ndef input\n  print \"&gt; \"\n  Player.input(gets.chomp)\nend\n\nclass Switch\n    def self.abc\n      puts 'in abc'\n    end\n\n    def self.def\n      puts 'in def'\n    end\n\n    def self.location\n      puts 'in location'\n    end\n\n    def self.method_missing(name, *args, &amp;block)\n      puts \"There is no method #{name} in #{self.name}\" \n    end\nend\n\ninput\ninput\nPlayer.set_location('abc')\ninput\nPlayer.set_location('xyz')\ninput\n</code></pre>\n\n<p>Execution :</p>\n\n<pre><code>$ ruby -w t.rb \n&gt; looc\nin Player.input(looc)\nwrong input, must be \"look\"\n&gt; look\nin Player.input(look)\nCalling method &lt;location&gt;\nin location\n&gt; look\nin Player.input(look)\nCalling method &lt;abc&gt;\nin abc\n&gt; look\nin Player.input(look)\nCalling method &lt;xyz&gt;\nThere is no method xyz in Switch\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5839663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CSFdy.jpg?s=128&g=1", "display_name": "Planet_Earth", "link": "https://stackoverflow.com/users/5839663/planet-earth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 47196315, "answer_count": 1, "score": -1, "last_activity_date": 1510212849, "creation_date": 1510184814, "last_edit_date": 1510202035, "question_id": 47191657, "link": "https://stackoverflow.com/questions/47191657/calling-a-method-using-the-input-of-the-user-using-their-string", "title": "Calling a Method using the Input of the User (using their String)", "body": "<p>I am attempting to use the String from a variable to call a Method within the program.</p>\n\n<p>How can one use the String from the Variable to call said Method without having to nest or make multiple checks?</p>\n\n<pre><code>module Player\n  @@location = \"location\"\n\n  def Player.input(input)\n    if input == \"look\"\n      \"Call Method from @@location\"\n    end\n  end\n\n  def Player.set_location(input)\n    @@location = input\n  end\nend\n\ndef input\n  print \"&gt; \"\n  Player.input(@stdin.gets.chomp)\nend\n\ndef \"name of Method can be same as @@location\"\n  ...\nend\n\ndef \"another name of Method can be same as @@location\"\n  ...\nend\n\ndef \"another name, etc\"\n  ...\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1510184028, "post_id": 47191515, "comment_id": 81332418, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3545870/in-ruby-what-are-the-vertical-lines\">In Ruby, what are the vertical lines?</a>"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510184201, "post_id": 47191515, "comment_id": 81332469, "body": "Can you refer a link where you find such sample?"}, {"owner": {"reputation": 165, "user_id": 4877027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cfe43f7b336fe690b2ccdcc0ca7d3b?s=128&d=identicon&r=PG&f=1", "display_name": "frostini", "link": "https://stackoverflow.com/users/4877027/frostini"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1510184364, "post_id": 47191515, "comment_id": 81332522, "body": "@OliverCharlesworth That post is for the pipes simply containing block parameters...such as | x , y | . In this case, they use a single vertical bar as the first character for defining a method, which is considerably different."}, {"owner": {"reputation": 165, "user_id": 4877027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cfe43f7b336fe690b2ccdcc0ca7d3b?s=128&d=identicon&r=PG&f=1", "display_name": "frostini", "link": "https://stackoverflow.com/users/4877027/frostini"}, "reply_to_user": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 1, "creation_date": 1510184428, "post_id": 47191515, "comment_id": 81332543, "body": "@AntonTkachov this is the article <a href=\"https://www.sitepoint.com/7-design-patterns-to-refactor-mvc-components-in-rails/\" rel=\"nofollow noreferrer\">sitepoint.com/&hellip;</a> . In the Query Objects section specifically"}, {"owner": {"reputation": 165, "user_id": 4877027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cfe43f7b336fe690b2ccdcc0ca7d3b?s=128&d=identicon&r=PG&f=1", "display_name": "frostini", "link": "https://stackoverflow.com/users/4877027/frostini"}, "edited": false, "score": 1, "creation_date": 1510184506, "post_id": 47191515, "comment_id": 81332560, "body": "omg, i think it&#39;s just the method&#39;s name...yeah ? I was thinking maybe it had something to do with alternative block or lambda notations"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1510184861, "post_id": 47191515, "comment_id": 81332648, "body": "@frostini yes, exactly."}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 1, "creation_date": 1510185141, "post_id": 47191515, "comment_id": 81332729, "body": "Funny thing :) To be honest I&#39;ve also haven&#39;t got it when saw it for the first time :)"}], "answers": [{"tags": [], "owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "is_accepted": false, "score": 1, "last_activity_date": 1510187522, "creation_date": 1510187522, "answer_id": 47192032, "question_id": 47191515, "link": "https://stackoverflow.com/questions/47191515/what-does-the-vertical-bar-character-do-at-the-beginning-of-a-method-definition/47192032#47192032", "title": "what does the vertical bar character do at the beginning of a method definition&#39;s name", "body": "<p>In <a href=\"https://www.sitepoint.com/7-design-patterns-to-refactor-mvc-components-in-rails/\" rel=\"nofollow noreferrer\">the site you linked to</a>, the example method can be read as <a href=\"https://en.wikipedia.org/wiki/Anonymous_pipe\" rel=\"nofollow noreferrer\">pipe</a> rather than <code>|</code>.</p>\n\n<p>For more information, see <a href=\"https://stackoverflow.com/questions/10542354/what-are-the-restrictions-for-method-names-in-ruby\">What are the restrictions for method names in Ruby?</a></p>\n"}, {"comments": [{"owner": {"reputation": 3286, "user_id": 1851041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/736f0189c216f8d9ece902e96fd37f6a?s=128&d=identicon&r=PG", "display_name": "BernardK", "link": "https://stackoverflow.com/users/1851041/bernardk"}, "edited": false, "score": 2, "creation_date": 1510214411, "post_id": 47193919, "comment_id": 81342012, "body": "Right answer. In other words, operators like <i>Bitwise or</i> or <i>Array union</i> are Ruby methods, predefined in some classes. Here <code>class BaseQuery</code> defines the <code>or</code> operator with parameter <code>(other)</code> for it&#39;s own use."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 2, "last_activity_date": 1510544470, "last_edit_date": 1510544470, "creation_date": 1510201745, "answer_id": 47193919, "question_id": 47191515, "link": "https://stackoverflow.com/questions/47191515/what-does-the-vertical-bar-character-do-at-the-beginning-of-a-method-definition/47193919#47193919", "title": "what does the vertical bar character do at the beginning of a method definition&#39;s name", "body": "<p>'\"|\" being used at the beginning of a method definition' <strong>indeed defines the method <code>|</code></strong>.</p>\n"}], "owner": {"reputation": 165, "user_id": 4877027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85cfe43f7b336fe690b2ccdcc0ca7d3b?s=128&d=identicon&r=PG&f=1", "display_name": "frostini", "link": "https://stackoverflow.com/users/4877027/frostini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 47193919, "answer_count": 2, "score": 2, "last_activity_date": 1510544470, "creation_date": 1510183896, "question_id": 47191515, "link": "https://stackoverflow.com/questions/47191515/what-does-the-vertical-bar-character-do-at-the-beginning-of-a-method-definition", "title": "what does the vertical bar character do at the beginning of a method definition&#39;s name", "body": "<p>I was reading over some code and saw a method being defined in the following way (Ruby):</p>\n\n<pre><code>class BaseQuery\n  def |(other)\n    ChainedQuery.new do |relation|\n      other.call(call(relation))\n    end\n  end\nend\n</code></pre>\n\n<p>I've tried searching ruby docs, as well as SO, but can't find examples of \"|\" being used at the beginning of a method definition. Can someone please explain the purpose of beginning a method definition with \"|\" and the effect that it has on that method ?</p>\n\n<p>Thank you so much, any insight would be much appreciated.</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6930180, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551012404925034/picture?type=large", "display_name": "Corbin Willis", "link": "https://stackoverflow.com/users/6930180/corbin-willis"}, "edited": false, "score": 0, "creation_date": 1510185942, "post_id": 47191679, "comment_id": 81332938, "body": "Thank you very much, I understand that now. I really appreciate it!"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1510199132, "post_id": 47191679, "comment_id": 81336198, "body": "<code>[&#39;a&#39;,&#39;b&#39;,&#39;a&#39;,&#39;c&#39;] &amp; [&#39;a&#39;,&#39;a&#39;,&#39;d&#39;,&#39;a&#39;] #=&gt; [&#39;a&#39;]</code>. Corbin, is that what you want, or do you want the return value to be <code>[&#39;a&#39;,&#39;a&#39;]</code> or possibly something else?"}], "tags": [], "owner": {"reputation": 635, "user_id": 7842011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbca165d2a40ba6819b02b6b956778e1?s=128&d=identicon&r=PG&f=1", "display_name": "jk_", "link": "https://stackoverflow.com/users/7842011/jk"}, "is_accepted": true, "score": 0, "last_activity_date": 1510184946, "creation_date": 1510184946, "answer_id": 47191679, "question_id": 47191478, "link": "https://stackoverflow.com/questions/47191478/whether-one-array-contains-the-same-element-with-another-array/47191679#47191679", "title": "Whether one array contains the same element with another array", "body": "<p>You can get an array which contains only the common elements of two arrays using the <a href=\"https://docs.ruby-lang.org/en/2.4.0/Array.html#method-i-26\" rel=\"nofollow noreferrer\"><code>&amp;</code> (or set intersection) operator</a>: </p>\n\n<pre><code>&gt; [1, 2, 3] &amp; [2, 3, 4]\n=&gt; [2, 3]\n\n&gt; [1,2,3] &amp; [4,5,6]\n=&gt; []\n</code></pre>\n\n<p>If you don't need to return the actual shared values, just check for emptiness on the intersection and get a boolean: </p>\n\n<pre><code>&gt; ([1,2,3] &amp; [4,5,6]).any?\n=&gt; false\n&gt; ([1,2,3] &amp; [3,5,6]).any?\n=&gt; true\n</code></pre>\n\n<p>Regarding the error you're currently getting: what your code is actually doing is iterating over each element in <code>guess_array</code>, where the inner variable in the block at each iteration, <code>x</code>, is the array element itself. <code>x</code> isn't an index, it's a string value in your case. Take a look: </p>\n\n<pre><code>&gt; ['a', 'b', 'c'].each{ |s| puts s }\na\nb\nc\n=&gt; [\"a\", \"b\", \"c\"]\n</code></pre>\n\n<p>So obviously something like <code>my_array['a']</code> wouldn't work. </p>\n\n<p>If you wanted to iterate with both a value and an index, you could invoke <a href=\"https://ruby-doc.org/core-2.4.2/Enumerable.html#method-i-each_with_index\" rel=\"nofollow noreferrer\"><code>each_with_index</code></a>: </p>\n\n<pre><code>&gt; ['a','b','c'].each_with_index{ |s, i| puts \"value is #{s} and index is #{i}\" }\nvalue is a and index is 0\nvalue is b and index is 1\nvalue is c and index is 2\n=&gt; [\"a\", \"b\", \"c\"]\n</code></pre>\n\n<p>And that would allow you to perform lookups based on the current index of the array in some other array. But for your particular problem this probably isn't the best solution -- use the set intersection.  </p>\n"}], "owner": {"reputation": 5, "user_id": 6930180, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551012404925034/picture?type=large", "display_name": "Corbin Willis", "link": "https://stackoverflow.com/users/6930180/corbin-willis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 47191679, "answer_count": 1, "score": 0, "last_activity_date": 1510194730, "creation_date": 1510183714, "last_edit_date": 1510194730, "question_id": 47191478, "link": "https://stackoverflow.com/questions/47191478/whether-one-array-contains-the-same-element-with-another-array", "title": "Whether one array contains the same element with another array", "body": "<p>I'm trying to recreate 'mastermind', handling five letter words instead of colors.</p>\n\n<p>I have a five letter word, lets say <code>\"Alice\"</code>, and I am splitting that into an array called <code>answer_array</code>. Then I am prompting the user to input a five letter word, and then that is split into <code>guess_array</code>. I am trying to compare if <code>guess_array</code> contains any of the same letters in the <code>answer_array</code>, and if so, it will return with appropriate feedback.</p>\n\n<p>This is along the lines of what I am trying to achieve:</p>\n\n<pre><code>guess_array.each { |x| puts guess_array[x] == answer_array[x]}\n</code></pre>\n\n<p>However it pings back an error message:</p>\n\n<pre><code>StringTest.rb:18:in `[]': no implicit conversion of String into Integer (TypeError)\n    from StringTest.rb:18:in `block in &lt;main&gt;'\n    from StringTest.rb:18:in `each'\n    from StringTest.rb:18:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ruby", "shoes", "lib"], "comments": [{"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510222471, "post_id": 47191409, "comment_id": 81346796, "body": "please include clear description of the issue and the code you implemented. <a href=\"https://stackoverflow.com/questions/ask/advice?newreg=602733c460564082957a56ec29144357\">stackoverflow.com/questions/ask/&hellip;</a>"}, {"owner": {"reputation": 19, "user_id": 8527859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/771a60ee6f1cbad9226c40ffe542614b?s=128&d=identicon&r=PG&f=1", "display_name": "Caden Grey", "link": "https://stackoverflow.com/users/8527859/caden-grey"}, "reply_to_user": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510231339, "post_id": 47191409, "comment_id": 81352604, "body": "Sorry, I fixed it."}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1510232906, "post_id": 47191409, "comment_id": 81353600, "body": "That error means that either libgif isn&#39;t installed or it can&#39;t be found on your system."}], "owner": {"reputation": 19, "user_id": 8527859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/771a60ee6f1cbad9226c40ffe542614b?s=128&d=identicon&r=PG&f=1", "display_name": "Caden Grey", "link": "https://stackoverflow.com/users/8527859/caden-grey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510183340, "creation_date": 1510183340, "question_id": 47191409, "link": "https://stackoverflow.com/questions/47191409/libgif-not-working-on-shoes", "title": "libgif not working on Shoes", "body": "<p>I am trying to use the shoes framework with ruby.  I ran the .run file from the website and installed it.  When I try to use ./shoes I get the error <code>error while loading shared libraries: libgif.so.4: cannot open shared object file: No such file or directory</code>  Any idea on how I can fix this problem.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "model-associations"], "comments": [{"owner": {"reputation": 460, "user_id": 2790169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SD9My.jpg?s=128&g=1", "display_name": "Jorge Caballero", "link": "https://stackoverflow.com/users/2790169/jorge-caballero"}, "edited": false, "score": 1, "creation_date": 1510181987, "post_id": 47190977, "comment_id": 81331742, "body": "I would do it directly, you can see this question <a href=\"https://stackoverflow.com/questions/34697634/same-model-for-two-belongs-to-associations-migration\" title=\"same model for two belongs to associations migration\">stackoverflow.com/questions/34697634/&hellip;</a> for reference."}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510183835, "post_id": 47190977, "comment_id": 81332373, "body": "Can Note has any other subject type except User?"}], "answers": [{"tags": [], "owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "is_accepted": true, "score": 1, "last_activity_date": 1510182229, "creation_date": 1510182229, "answer_id": 47191208, "question_id": 47190977, "link": "https://stackoverflow.com/questions/47190977/rails-model-associations/47191208#47191208", "title": "Rails model associations", "body": "<p>In my opinion, the cleanest way is to make a note belong to an author and a subject:</p>\n\n<pre><code>class Note &lt; ActiveRecord::base\n  belongs_to :author, class_name: 'Person', foreign_key: :author_id\n  belongs_to :subject, class_name: 'Person', foreign_key: :subject_id\nend\n\nclass Person &lt; ActiveRecord::base\n  has_many :authored_notes, class_name: 'Note', foreign_key: :author_id\n  has_many :notes_about_me, class_name: 'Note', foreign_key: :subject_id\nend\n</code></pre>\n\n<p>You may want to change the names of the relationships above, but you get the picture.</p>\n\n<p>I know we don't normally think of a note about someone as belonging to the subject of the note. However, from a Rails perspective, the <code>belongs_to</code> relationship allows us to place the <code>subject_id</code> foreign key on the <code>notes</code> table which is the simplest solution.  If you were to use the <code>has_one</code> relationship, you would have to create a join table which, in my opinion, adds unnecessary complexity.</p>\n\n<p>Make sure your <code>notes</code> table has has two indexed references to the <code>persons</code> table called <code>subject_id</code> and <code>author_id</code>.  You can do that with a migration like this:</p>\n\n<pre><code>class AddSubjectAndAuthorToNotes &lt; ActiveRecord::Migration\n  def change\n    add_reference :notes, :author, index: true\n    add_reference :notes, :subject, index: true\n\n    add_foreign_key :notes, :people, column: :author_id\n    add_foreign_key :notes, :people, column: :subject_id\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 565170, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Cj7E2.jpg?s=128&g=1", "display_name": "ArcGhost", "link": "https://stackoverflow.com/users/565170/arcghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1510209324, "accepted_answer_id": 47191208, "answer_count": 1, "score": 1, "last_activity_date": 1510182229, "creation_date": 1510181032, "question_id": 47190977, "link": "https://stackoverflow.com/questions/47190977/rails-model-associations", "closed_reason": "Not suitable for this site", "title": "Rails model associations", "body": "<p>I'm having trouble conceptualizing a good way to create associations between two different models within my Rails app.  </p>\n\n<p>At the moment I have a <strong>Person</strong> model and a <strong>Note</strong> model. A person can be the author or the subject of a note.  Therefore: </p>\n\n<ul>\n<li>A <strong>person</strong> can belong to many <strong>notes</strong> (as the subject). </li>\n<li>A <strong>person</strong> can have many <strong>notes</strong> (as the author). </li>\n<li>A <strong>note</strong> belongs to one author (<strong>person</strong>). </li>\n<li>A <strong>note</strong> can have one subject (<strong>person</strong>).</li>\n</ul>\n\n<p>I imagine the app needing to display <strong>Person</strong> profiles, in which we can see all <strong>Notes</strong> that the <strong>Person</strong> has <em>written</em>, as well as all <strong>Notes</strong> written <em>about</em> the <strong>Person</strong>.</p>\n\n<p>What's the best way to set up this model-association?  Directly, or through an intermediate relationship model? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby", "class", "module"], "comments": [{"owner": {"reputation": 3286, "user_id": 1851041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/736f0189c216f8d9ece902e96fd37f6a?s=128&d=identicon&r=PG", "display_name": "BernardK", "link": "https://stackoverflow.com/users/1851041/bernardk"}, "edited": false, "score": 0, "creation_date": 1510182089, "post_id": 47190506, "comment_id": 81331778, "body": "What do you mean by <i>when &lt;a Class&gt; is saved</i> ?"}, {"owner": {"reputation": 1, "user_id": 8909919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce308646da04649e89ce035c1cbd236?s=128&d=identicon&r=PG&f=1", "display_name": "mtthwwstnhvr", "link": "https://stackoverflow.com/users/8909919/mtthwwstnhvr"}, "reply_to_user": {"reputation": 3286, "user_id": 1851041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/736f0189c216f8d9ece902e96fd37f6a?s=128&d=identicon&r=PG", "display_name": "BernardK", "link": "https://stackoverflow.com/users/1851041/bernardk"}, "edited": false, "score": 0, "creation_date": 1510185404, "post_id": 47190506, "comment_id": 81332795, "body": "i mean when a model is saved into the database"}, {"owner": {"reputation": 1929, "user_id": 2599875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8df321b0acd6bc227bafe0ff4bd0ac5d?s=128&d=identicon&r=PG", "display_name": "mariowise", "link": "https://stackoverflow.com/users/2599875/mariowise"}, "edited": false, "score": 0, "creation_date": 1510328928, "post_id": 47190506, "comment_id": 81403088, "body": "Then it is important to inherit those classes from <code>ActiveRecord::Base</code> or <code>ApplicationRecord</code>. Otherwise everybody will think you&#39;re talking about plain Ruby classes."}], "answers": [{"tags": [], "owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "is_accepted": false, "score": 0, "last_activity_date": 1510182941, "creation_date": 1510182941, "answer_id": 47191339, "question_id": 47190506, "link": "https://stackoverflow.com/questions/47190506/calling-a-module-method-for-a-specific-class/47191339#47191339", "title": "Calling a Module Method for a Specific Class", "body": "<p>Say your module defines a <code>save</code> method, and you want it to behave differently based on which class it gets called on. You can put a conditional in there and check the value of <code>self.class</code>:</p>\n\n<pre><code>module MusicMaker\n  def save\n    case self.class\n    when Jazz\n      puts \"jazz saved\"\n    when ClassicRock\n      puts \"classic rock saved\"\n    end\n  end\nend\n\nJazz.new.save # =&gt; \"jazz saved\"\nClassicRock.new.save # =&gt; \"classic rock saved\"\n</code></pre>\n\n<p>This kind of begs the question of why you would use a module at all in this situation rather than define a different <code>save</code> method for each of the classes like so:</p>\n\n<pre><code>class Jazz\n  def save\n    puts \"jazz saved\"\n  end\nend\n\nclass ClassicRock\n  def save\n    puts \"classic rock saved\"\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8909919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce308646da04649e89ce035c1cbd236?s=128&d=identicon&r=PG&f=1", "display_name": "mtthwwstnhvr", "link": "https://stackoverflow.com/users/8909919/mtthwwstnhvr"}, "edited": false, "score": 0, "creation_date": 1510253707, "post_id": 47205486, "comment_id": 81368088, "body": "is it possible to do this without changing the code of any of the ActiveRecord models?"}, {"owner": {"reputation": 1929, "user_id": 2599875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8df321b0acd6bc227bafe0ff4bd0ac5d?s=128&d=identicon&r=PG", "display_name": "mariowise", "link": "https://stackoverflow.com/users/2599875/mariowise"}, "reply_to_user": {"reputation": 1, "user_id": 8909919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce308646da04649e89ce035c1cbd236?s=128&d=identicon&r=PG&f=1", "display_name": "mtthwwstnhvr", "link": "https://stackoverflow.com/users/8909919/mtthwwstnhvr"}, "edited": false, "score": 0, "creation_date": 1510328804, "post_id": 47205486, "comment_id": 81403019, "body": "what do you mean by changing the code? without the <code>before_save</code> method?"}], "tags": [], "owner": {"reputation": 1929, "user_id": 2599875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8df321b0acd6bc227bafe0ff4bd0ac5d?s=128&d=identicon&r=PG", "display_name": "mariowise", "link": "https://stackoverflow.com/users/2599875/mariowise"}, "is_accepted": false, "score": 0, "last_activity_date": 1510240913, "creation_date": 1510240913, "answer_id": 47205486, "question_id": 47190506, "link": "https://stackoverflow.com/questions/47190506/calling-a-module-method-for-a-specific-class/47205486#47205486", "title": "Calling a Module Method for a Specific Class", "body": "<p>If you're using activerecord, I believe you can use the <code>before_save</code> method in the <code>ClassicRock</code> class. Just like</p>\n\n<pre><code>class ClassicRock &lt; ApplicationRecord\n  include MusicMaker\n  before_save :good_music\nend\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8909919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce308646da04649e89ce035c1cbd236?s=128&d=identicon&r=PG&f=1", "display_name": "mtthwwstnhvr", "link": "https://stackoverflow.com/users/8909919/mtthwwstnhvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1510240913, "creation_date": 1510178788, "question_id": 47190506, "link": "https://stackoverflow.com/questions/47190506/calling-a-module-method-for-a-specific-class", "title": "Calling a Module Method for a Specific Class", "body": "<p>If I have two classes that both include the same module but want a module method to be called only when one of the classes is saved how would I do this?</p>\n\n<pre><code>    module MusicMaker\n      def good_music\n        puts \"this music rocks\"\n      end\n    end\n\n    class Jazz\n      include MusicMaker\n    end\n\n    class ClassicRock\n      include MusicMaker\n    end\n</code></pre>\n\n<p>So I want both classes to include the <code>MusicMaker</code> module but want the <code>good_music</code> method to be called only when <code>ClassicRock</code> is saved and not when <code>Jazz</code> is saved. I want to do this inside the <code>MusicMaker</code> module and not in the classes.</p>\n"}, {"tags": ["ruby", "solr", "openssl", "jruby"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510179038, "post_id": 47190464, "comment_id": 81330498, "body": "Are you setting the heap size to 500mb or you think it&#39;s 500mb?"}, {"owner": {"reputation": 22, "user_id": 1228022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670f26d0dfedc0026445c92345d627e4?s=128&d=identicon&r=PG", "display_name": "fitz", "link": "https://stackoverflow.com/users/1228022/fitz"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510179729, "post_id": 47190464, "comment_id": 81330809, "body": "No, just running the script without any -J-Xmx flags, it stop immediately when it starts to send the request. If run the script with -J-Xmx1024m, it runs for a minute or so, then runs out...go up to 2048m, it goes a bit longer...etc etc."}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510180062, "post_id": 47190464, "comment_id": 81330961, "body": "You could try VisualVM or similar tools to see where the memory is going ( e.g. <a href=\"https://stackoverflow.com/questions/9154785/how-to-find-memory-leaks-using-visualvm\" title=\"how to find memory leaks using visualvm\">stackoverflow.com/questions/9154785/&hellip;</a>) although unless you&#39;re particularly interested in debugging jruby-openssl, you might find it easier to just rewrite this particular thing in Java."}, {"owner": {"reputation": 22, "user_id": 1228022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670f26d0dfedc0026445c92345d627e4?s=128&d=identicon&r=PG", "display_name": "fitz", "link": "https://stackoverflow.com/users/1228022/fitz"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1510181714, "post_id": 47190464, "comment_id": 81331643, "body": "Yeah, I took a heap dump in VisualVM...97.5% of the memory was being used by byte[]..so i guess the stream is being read before it&#39;s being sent. Also..just tried this on jruby 1.7.9 and it ran withouth any problems, so, yeah looks like an issue with newer version of jruby-openssl..."}], "answers": [{"tags": [], "owner": {"reputation": 22, "user_id": 1228022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670f26d0dfedc0026445c92345d627e4?s=128&d=identicon&r=PG", "display_name": "fitz", "link": "https://stackoverflow.com/users/1228022/fitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1510222632, "creation_date": 1510222632, "answer_id": 47199202, "question_id": 47190464, "link": "https://stackoverflow.com/questions/47190464/jruby-sending-a-steam-over-ssl-causes-high-memory-usage/47199202#47199202", "title": "JRuby sending a steam over SSL causes high memory usage", "body": "<p>Posted an issue on the jruby github and got a response almost immediately: </p>\n\n<p><a href=\"https://github.com/jruby/jruby/issues/4842\" rel=\"nofollow noreferrer\">https://github.com/jruby/jruby/issues/4842</a></p>\n\n<p>As a temporary fix, I'm patching http: </p>\n\n<pre><code>class Net::HTTPGenericRequest\n\n  def send_request_with_body_stream(sock, ver, path, f)                                                                                                                                      \n    unless content_length() or chunked?                                                                                                                                                      \n      raise ArgumentError,                                                                                                                                                                   \n          \"Content-Length not given and Transfer-Encoding is not `chunked'\"                                                                                                                  \n    end                                                                                                                                                                                      \n    supply_default_content_type                                                                                                                                                              \n    write_header sock, ver, path                                                                                                                                                             \n    wait_for_continue sock, ver if sock.continue_timeout                                                                                                                                     \n    if chunked?                                                                                                                                                                              \n      chunker = Chunker.new(sock)                                                                                                                                                            \n      IO.copy_stream(f, chunker)                                                                                                                                                             \n      chunker.finish                                                                                                                                                                         \n    else                                                                                                                                                                                     \n      # copy_stream can sendfile() to sock.io unless we use SSL.                                                                                                                             \n      # If sock.io is an SSLSocket, copy_stream will hit SSL_write()                                                                                                                         \n      if  sock.io.is_a? OpenSSL::SSL::SSLSocket                                                                                                                                              \n        IO.copy_stream(f, sock.io, 16 * 1024 * 1024) until f.eof?                                                                                                                            \n      else                                                                                                                                                                                   \n        IO.copy_stream(f, sock.io)                                                                                                                                                           \n      end                                                                                                                                                                                    \n    end                                                                                                                                                                                      \n  end                                                                                                                                                                                        \nend \n</code></pre>\n"}], "owner": {"reputation": 22, "user_id": 1228022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/670f26d0dfedc0026445c92345d627e4?s=128&d=identicon&r=PG", "display_name": "fitz", "link": "https://stackoverflow.com/users/1228022/fitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510222632, "creation_date": 1510178592, "question_id": 47190464, "link": "https://stackoverflow.com/questions/47190464/jruby-sending-a-steam-over-ssl-causes-high-memory-usage", "title": "JRuby sending a steam over SSL causes high memory usage", "body": "<p>I am attempting to stream a large JSON file ( ~300mb ) to Solr using JRuby ( 9.1.8.0 using jruby-openssl 0.9.21 ). The remote Solr server is using SSL authentication. I've included my script below.</p>\n\n<p>When I use JRuby, I run out of heap space almost immediately using default 500mb. Using MRI, the usage never goes over 40mb. Not using SSL, JRuby works fine.\nI've done similar processes in pure Java, but never had these kinds of problems. Not sure what's happening here..</p>\n\n<p>Thanks for any suggestions...</p>\n\n<pre><code>require 'openssl'\nrequire 'net/http'\nrequire 'json'\n\nPEM_FILE = ENV[\"CLIENT_CERT\"]\nSOLR_URL = ENV[\"SOLR_URL\"]\n\nclass SolrClient\n\n  DEFAULT_OPTIONS = {\n    use_ssl: true,\n    verify_mode: OpenSSL::SSL::VERIFY_PEER,\n    keep_alive_timeout: 30,\n    cert: OpenSSL::X509::Certificate.new(IO.read(PEM_FILE)),\n    key:  OpenSSL::PKey::RSA.new(IO.read(PEM_FILE)),\n  }\n\n\n  def initialize(http = nil)\n    if http\n      @http = http\n    else\n      @http = Net::HTTP.start('my.solr.url', 443, DEFAULT_OPTIONS)\n    end\n  end\n\n  def update()\n    bytes = File.open('index_batch.json', 'rb').bytes.count.to_s\n    stream = File.open('index_batch.json', 'rb')\n    puts \"starting request...\" \n    request = Net::HTTP::Post.new \"/solr/archivesspace/update\" \n    request['Content-Type'] = 'application/json'\n    request['Content-Length'] = bytes\n    request.body_stream = stream\n\n    response = @http.request request\n    puts response.body\n  end\n\nend\n\n\nSolrClient.new.update\n</code></pre>\n"}, {"tags": ["ruby", "hash"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 8385606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10210010301119748/picture?type=large", "display_name": "Brian Ruff", "link": "https://stackoverflow.com/users/8385606/brian-ruff"}, "edited": false, "score": 0, "creation_date": 1510177699, "post_id": 47189590, "comment_id": 81329878, "body": "Okay thank you for clearing that up for me. I was making this entirely too complicated."}, {"owner": {"reputation": 1521, "user_id": 1274846, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/048371ccb94bbd3aae9ac0ca20c0a31c?s=128&d=identicon&r=PG", "display_name": "Trinculo", "link": "https://stackoverflow.com/users/1274846/trinculo"}, "reply_to_user": {"reputation": 91, "user_id": 8385606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10210010301119748/picture?type=large", "display_name": "Brian Ruff", "link": "https://stackoverflow.com/users/8385606/brian-ruff"}, "edited": false, "score": 0, "creation_date": 1510335001, "post_id": 47189590, "comment_id": 81406675, "body": "No problem!  You could also warn the user if the quantity they entered is more than is in inventory and have them re-enter the quantity."}], "tags": [], "owner": {"reputation": 1521, "user_id": 1274846, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/048371ccb94bbd3aae9ac0ca20c0a31c?s=128&d=identicon&r=PG", "display_name": "Trinculo", "link": "https://stackoverflow.com/users/1274846/trinculo"}, "is_accepted": true, "score": 1, "last_activity_date": 1510174704, "creation_date": 1510174704, "answer_id": 47189590, "question_id": 47189245, "link": "https://stackoverflow.com/questions/47189245/ruby-compare-specific-values-in-two-separate-hashes-beginner/47189590#47189590", "title": "Ruby - Compare specific values in two separate hashes (beginner)", "body": "<p>I am unsure what the <code>sell_inventory</code> hash is for.  If you simply want the user to enter an item and then subtract that from inventory, you can do.</p>\n\n<p>Example, say inventory is set as follows:</p>\n\n<pre><code>inventory = { 'pencil' =&gt; 3 }\nitems_to_sell = 'pencil' # user entered this\namount_to_sell = 1 # user entered this\ninventory[items_to_sell] -= amount_to_sell if amount_to_sell &lt;= inventory[items_to_sell]\n</code></pre>\n\n<p>inventory now contains a pencil with a quantity of 2:</p>\n\n<p><code>inventory = { 'pencil' =&gt; 2 }</code></p>\n\n<p>In the above example, there was a pencil with a quantity of 3.  The variable items_to_sell was set to pencil (perhaps via user input) and the amount_to_sell variable was set to 1 (again perhaps via user input).  Then that amount is subtracted from inventory only if it makes sense (the numbered entered was less than or equal to the amount currently in inventory).</p>\n"}], "owner": {"reputation": 91, "user_id": 8385606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10210010301119748/picture?type=large", "display_name": "Brian Ruff", "link": "https://stackoverflow.com/users/8385606/brian-ruff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47189590, "answer_count": 1, "score": 1, "last_activity_date": 1510174704, "creation_date": 1510173606, "last_edit_date": 1510173999, "question_id": 47189245, "link": "https://stackoverflow.com/questions/47189245/ruby-compare-specific-values-in-two-separate-hashes-beginner", "title": "Ruby - Compare specific values in two separate hashes (beginner)", "body": "<p>I am mainly looking at  when \"4\" under the case next_choice statement. I want to single out the key-value pair in the inventory hash and then compare it to the sell_inventory hash, and if the value of inventory is greater than the value in sell_inventory then subtract the difference of the two from the inventory value. After I have done all of that I would like to clear the sell_inventory hash so that if option 4 is chose again, I can repeat the process. I cannot figure out how to do this as I'm pretty green when it comes to ruby hashes.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>inventory = {}\nsell_inventory = {}\n\np \"Press enter to continue to program.\"\nchoice = gets.chomp.downcase\n\nuntil choice.empty?\nchoice = gets.chomp.downcase\np \"That is not a valid choice, please press enter to start.\"\nend\n\nwhile true\ncase choice\n    when \"\"\n        p \"1. Show items in inventory\"\n        p \"2. Add new item to inventory\"\n        p \"3. Remove item from inventory\"\n        p \"4. Sell items\"\n        p \"5. Buy items\"\n        next_choice = gets.chomp.downcase\n            case next_choice\n                when \"1\" \n                    p \"#{inventory}\"\n                when \"2\"\n                      p \"What item would you like to store?\"\n                      item = gets.chomp\n                      if inventory.has_key?(item)\n                      p \"You already have that item in storage.\"\n                    else\n                      inventory[item]\n                      p \"How many of the items would like to store?\"\n                      amount = gets.chomp.to_i\n                      inventory[item] = amount\n                      p \"Items added to inventory.\"\n                    end\n\n                    when \"3\"\n                      p \"What item would you like to remove from inventory?\"\n                      item_to_remove = gets.chomp.to_i\n                      if inventory.include?(item_to_remove)\n                        inventory.delete_if {|item, id| item == \n                        item_to_remove}\n                      else\n                         p \"That item is not in stock.\"\n                      end\n                    when \"4\"\n                      p \"What item would you like to sell?\"\n                      items_to_sell = gets.chomp\n                      sell_inventory[items_to_sell]\n                      p \"How many of that item would you like to sell?\"\n                      amount_to_sell = gets.chomp.to_i\n                      sell_inventory[items_to_sell] = amount_to_sell\n            end\n    when \"exit\"\n        break\n    end\nend\n</code></pre>\n\n\n"}, {"tags": ["ruby", "chef-infra", "chef-recipe", "cookbook"], "answers": [{"comments": [{"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 2, "creation_date": 1510179812, "post_id": 47189690, "comment_id": 81330845, "body": "Keep in mind this will check at compile time, nor converge time."}, {"owner": {"reputation": 177, "user_id": 5082981, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-0RqKldtlYZU/AAAAAAAAAAI/AAAAAAAAABc/chRH3LxWyfI/photo.jpg?sz=128", "display_name": "Manas ", "link": "https://stackoverflow.com/users/5082981/manas"}, "edited": false, "score": 0, "creation_date": 1510481241, "post_id": 47189690, "comment_id": 81445266, "body": "This worked but always gives 0 as the the number of files...need to figure that out.."}], "tags": [], "owner": {"reputation": 1376, "user_id": 427117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91d05b02cc6a43fadcbe417b66bceb4?s=128&d=identicon&r=PG", "display_name": "Roland", "link": "https://stackoverflow.com/users/427117/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1510179792, "last_edit_date": 1510179792, "creation_date": 1510175109, "answer_id": 47189690, "question_id": 47188777, "link": "https://stackoverflow.com/questions/47188777/chef-count-the-number-of-files-in-a-folder/47189690#47189690", "title": "Chef: Count the number of files in a folder", "body": "<p><code>count</code> seems to be <code>0</code> (Fixnum). </p>\n\n<p>You may wanna try:</p>\n\n<pre><code>file 'C:\\Users\\Desktop\\Chef-file\\count.txt' do\n  dir = 'C:\\Users\\Desktop\\Chef-Commands'\n  count = Dir[File.join(dir, '**', '*')].count { |file| File.file?(file)}\n  content count.to_s\nend\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 5082981, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-0RqKldtlYZU/AAAAAAAAAAI/AAAAAAAAABc/chRH3LxWyfI/photo.jpg?sz=128", "display_name": "Manas ", "link": "https://stackoverflow.com/users/5082981/manas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 47189690, "answer_count": 1, "score": 1, "last_activity_date": 1510179792, "creation_date": 1510171812, "question_id": 47188777, "link": "https://stackoverflow.com/questions/47188777/chef-count-the-number-of-files-in-a-folder", "title": "Chef: Count the number of files in a folder", "body": "<p>I am trying to get the count of files in a folder and skip or execute the further resources based on the count.</p>\n\n<pre><code>file 'C:\\Users\\Desktop\\Chef-file\\count.txt' do\n            dir = 'C:\\Users\\Desktop\\Chef-Commands'\n                count = Dir[File.join(dir, '**', '*')].count { |file| File.file?(file)}\n              content count\n            end\n</code></pre>\n\n<p>But getting the following error</p>\n\n<pre><code>Chef::Exceptions::ValidationFailed: Property content must be one of: String, nil!  You passed 0.\n</code></pre>\n\n<p>I am pretty new to chef and ruby so was wondering how to fix/solve this problem.</p>\n\n<p>Once the count is obtained, how to check its value in other resources?</p>\n\n<p>Also would like to know if  this is the right approach.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "regex", "gitlab"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "reply_to_user": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 2, "creation_date": 1510171640, "post_id": 47188358, "comment_id": 81326745, "body": "@SagarPandya Using the <code>{0}</code> quantifier is identical to not putting the preceding character or group in the regex in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 27333, "user_id": 309343, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0af367dc4d144a1580cac9500a29f16f?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/309343/moon"}, "edited": false, "score": 0, "creation_date": 1510171716, "post_id": 47188704, "comment_id": 81326787, "body": "Thanks a lot. This would have worked. But GitLab only supports Ruby version of Regex. Test of the same regex on <a href=\"http://rubular.com/\" rel=\"nofollow noreferrer\">rubular.com</a> was not successful."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1510249236, "post_id": 47188704, "comment_id": 81365637, "body": "Note that your regex ends <code>.+</code> but in your explanation it ends <code>.*</code>. The latter doesn&#39;t do anything; it&#39;s not clear that the former is needed or wanted."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 7, "last_activity_date": 1510171726, "last_edit_date": 1510171726, "creation_date": 1510171487, "answer_id": 47188704, "question_id": 47188358, "link": "https://stackoverflow.com/questions/47188358/ruby-regex-to-filter-out-word-ending-with-a-string-suffix/47188704#47188704", "title": "Ruby regex to filter out word ending with a &quot;string&quot; suffix", "body": "<p>You could use</p>\n\n<pre><code>^[-\\w]+:\\s*(?:(?!(?:ed|ing)\\b)\\w)+\\b.+\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/6FmTpx/1/\" rel=\"noreferrer\"><strong>a demo on regex101.com</strong></a>.\n<hr>\nBroken down this says:</p>\n\n<pre><code>^                     # start of the line/string\n[-\\w]+:\\s*            # match - and word characters, 1+ then :\n(?:                   # non-capturing group\n    (?!(?:ed|ing)\\b)  # neg. lookahead: no ed or ing followed by a word boundary\n    \\w                # match a word character\n)+\\b                  # as long as possible, followed by a boundary\n.*                    # match the rest of the string, if any\n</code></pre>\n\n<p><hr>\nI have no experience in <code>Ruby</code> but I guess you could alternatively do a split and check if the second word ends with <code>ed</code> or <code>ing</code>. The latter approach might be easier to handle for future programmers/colleagues.</p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 2, "last_activity_date": 1510247874, "last_edit_date": 1510247874, "creation_date": 1510197699, "answer_id": 47193359, "question_id": 47188358, "link": "https://stackoverflow.com/questions/47188358/ruby-regex-to-filter-out-word-ending-with-a-string-suffix/47193359#47193359", "title": "Ruby regex to filter out word ending with a &quot;string&quot; suffix", "body": "<pre><code>r = /\n    \\A             # match beginning of string\n    (?:            # begin a non-capture group\n      MAINT        # match 'MAINT'\n      |            # or\n      STRY\\-\\d+    # match 'STRY-' followed by one or more digits\n    )              # end non-capture group\n    :[ ]           # match a colon followed by a space\n    [[:alpha:]]+   # match one or more letters\n    (?&lt;!           # begin a negative lookbehind\n      ed           # match 'ed'\n      |            # or\n      ing          # match 'ing'\n    )              # end negative lookbehind\n    [ ]            # match a space\n    /x             # free-spacing regex definition mode\n\n   \"MAINT: Refactor something\".match?(r)   #=&gt; true\n   \"STRY-1: Add something\".match?(r)       #=&gt; true\n   \"STRY-2: Update something\".match?(r)    #=&gt; true\n\n   \"MAINT: Refactored something\".match?(r) #=&gt; false\n   \"STRY-1: Added something\".match?(r)     #=&gt; false\n   \"STRY-2: Updated something\".match?(r)   #=&gt; false\n\n   \"A MAINT: Refactor something\".match?(r) #=&gt; false\n   \"STRY-1A: Add something\".match?(r)      #=&gt; false\n</code></pre>\n\n<p>This regular expression is conventionally written as follows.</p>\n\n<pre><code>r = /\\A(?:MAINT|STRY\\-\\d+): [[:alpha:]]+(?&lt;!ed|ing) /\n</code></pre>\n\n<p>Expressed this way the two spaces can each be represented a space character. In free-spacing mode, however, all spaces outside character classes are removed, which is why I needed to enclose each space in a character class.</p>\n"}, {"tags": [], "owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "is_accepted": false, "score": 0, "last_activity_date": 1514735456, "creation_date": 1514735456, "answer_id": 48043842, "question_id": 47188358, "link": "https://stackoverflow.com/questions/47188358/ruby-regex-to-filter-out-word-ending-with-a-string-suffix/48043842#48043842", "title": "Ruby regex to filter out word ending with a &quot;string&quot; suffix", "body": "<p><em>(Posted on behalf of the question author)</em>.</p>\n\n<p>This is what I ended up using:</p>\n\n<pre><code>^(MAINT|(STRY|PRB)-\\d+):\\s(?:(?!(?:ed|ing)\\b)[A-Za-z])+\\s([a-zA-Z0-9._\\-].*)\n</code></pre>\n"}], "owner": {"reputation": 27333, "user_id": 309343, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0af367dc4d144a1580cac9500a29f16f?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/309343/moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 2, "accepted_answer_id": 47188704, "answer_count": 3, "score": 4, "last_activity_date": 1514735496, "creation_date": 1510170176, "last_edit_date": 1514735496, "question_id": 47188358, "link": "https://stackoverflow.com/questions/47188358/ruby-regex-to-filter-out-word-ending-with-a-string-suffix", "title": "Ruby regex to filter out word ending with a &quot;string&quot; suffix", "body": "<p>I am trying to come up with a Ruby Regex that will match the following string:</p>\n\n<pre><code>MAINT: Refactor something\nSTRY-1: Add something\nSTRY-2: Update something\n</code></pre>\n\n<p>But should not match the following:</p>\n\n<pre><code>MAINT: Refactored something\nSTRY-1: Added something\nSTRY-2: Updated something\n\nMAINT: Refactoring something\nSTRY-3: Adding something\nSTRY-4: Updating something\n</code></pre>\n\n<p>Basically, the first word after <code>:</code> should not end with either <code>ed</code> or <code>ing</code></p>\n\n<p>This is what I have currently:</p>\n\n<pre><code>^(MAINT|(STRY|PRB)-\\d+):\\s([A-Z][a-z]+)\\s([a-zA-Z0-9._\\-].*)\n</code></pre>\n\n<p>I have tried <code>[^ed]</code> and <code>[^ing]</code> but they would not work here since I am targeting more than single character.</p>\n\n<p>I am not able to come up with a proper solution to achieve this.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 5, "creation_date": 1510164489, "post_id": 47186694, "comment_id": 81322537, "body": "Because operator precedence matters."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1510164705, "post_id": 47186694, "comment_id": 81322658, "body": "This would have also worked (and been the right approach): <code>@quote.user.email.include?(&#39;test&#39;) || @quote.user.email.include?(&#39;test2&#39;)</code>"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1510164727, "post_id": 47186694, "comment_id": 81322672, "body": "Can you elaborate how this effects the execution? I&#39;m more familiar with Java and this type of syntax would work as expected there."}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510164767, "post_id": 47186694, "comment_id": 81322706, "body": "@SergioTulentsev That makes sense."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510164824, "post_id": 47186694, "comment_id": 81322749, "body": "@CannonMoyer: &quot;and this type of syntax would work as expected there&quot; - no, it wouldn&#39;t. Last I checked, java doesn&#39;t have parenthesesless method calls (didn&#39;t check java 8, tho)"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510164983, "post_id": 47186694, "comment_id": 81322862, "body": "@SergioTulentsev I see, I just didn&#39;t realize I had to add the parenthesis on the method call for Ruby."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 2, "creation_date": 1510165056, "post_id": 47186694, "comment_id": 81322902, "body": "@CannonMoyer: to remove ambiguity, you have to use parens. When there&#39;s no ambiguity, you&#39;re free to omit them."}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510165111, "post_id": 47186694, "comment_id": 81322933, "body": "@SergioTulentsev Makes sense. Thanks for the explanation!"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510170662, "post_id": 47186694, "comment_id": 81326221, "body": "You only have to check for <code>@quote.user.email.include? &quot;test&quot;</code>, the check for <code>&quot;test2&quot;</code> is redundant. (unless your actual values are different)"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510170828, "post_id": 47186694, "comment_id": 81326298, "body": "@Stefan Good catch, but the values are different. It&#39;s checking for two different domain names in production."}], "answers": [{"comments": [{"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 1, "creation_date": 1510165642, "post_id": 47186827, "comment_id": 81323251, "body": "The above operator isn&#39;t <code>or</code>. Actually, there wouldn&#39;t be any SyntaxError with <code>or</code>. It doesn&#39;t mean it should be used, though."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1510194259, "post_id": 47186827, "comment_id": 81335004, "body": "seattle style syntax --- lol. You have particular company/group of people in mind?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510216758, "post_id": 47186827, "comment_id": 81343230, "body": "@Stefan I see. Didn&#39;t know that."}, {"owner": {"reputation": 4543, "user_id": 3213605, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/a2HS8.jpg?s=128&g=1", "display_name": "PhilVarg", "link": "https://stackoverflow.com/users/3213605/philvarg"}, "edited": false, "score": 0, "creation_date": 1510257728, "post_id": 47186827, "comment_id": 81370395, "body": "i didnt come up with the name &#39;seattle style&#39;, thats just what its called lol"}], "tags": [], "owner": {"reputation": 4543, "user_id": 3213605, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/a2HS8.jpg?s=128&g=1", "display_name": "PhilVarg", "link": "https://stackoverflow.com/users/3213605/philvarg"}, "is_accepted": true, "score": 4, "last_activity_date": 1510165349, "last_edit_date": 1510165349, "creation_date": 1510164743, "answer_id": 47186827, "question_id": 47186694, "link": "https://stackoverflow.com/questions/47186694/in-ruby-unexpected-keyword-end/47186827#47186827", "title": "|| in Ruby - Unexpected Keyword End", "body": "<p>the compiler cant tell what you're trying to do.</p>\n\n<pre><code>@quote.user.email.include? \"test\" || @quote.user.email.include? \"test2\"\n</code></pre>\n\n<p>is very ambiguous, and so the compiler tries to figure out what this means.</p>\n\n<pre><code>@quote.user.email.include?(\"test\") || @quote.user.email.include?(\"test2\")\n@quote.user.email.include?(\"test\" || @quote.user.email.include?) \"test2\"\n@quote.user.email.include?(\"test\" || @quote.user.email.include?(\"test2\"))\n(@quote.user.email.include? \"test\") || (@quote.user.email.include? \"test2\")\n</code></pre>\n\n<p>in this case, the compiler grants preference to the <code>or</code> operator, which is the second case. this is not valid syntax, and consequently throws an error</p>\n\n<p>leaving off parens (seattle style syntax) is convenient, but sometimes it gets too ambiguous, and you need to use them</p>\n\n<p>i'd recommend adding parens to the method arguments</p>\n\n<pre><code>@quote.user.email.include?(\"test\") || @quote.user.email.include?(\"test2\")\n</code></pre>\n"}], "owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 47186827, "answer_count": 1, "score": 1, "last_activity_date": 1510165349, "creation_date": 1510164285, "question_id": 47186694, "link": "https://stackoverflow.com/questions/47186694/in-ruby-unexpected-keyword-end", "title": "|| in Ruby - Unexpected Keyword End", "body": "<p>I figure I am missing something trivial but for some reason this code doesn't work and gives an unexpected keyword end error:</p>\n\n<pre><code>if @quote.user.email.include? \"test\" || @quote.user.email.include? \"test2\"\n    email = \"\"\nelse\n    email = @quote.user.email\nend\n</code></pre>\n\n<p>However, this works if I wrap each statement in parenthesis like this.</p>\n\n<pre><code>if (@quote.user.email.include? \"test\") || (@quote.user.email.include? \"test2\")\n    email = \"\"\nelse\n    email = @quote.user.email\nend\n</code></pre>\n\n<p>Why is this the case? </p>\n"}, {"tags": ["ruby", "automation", "cucumber"], "comments": [{"owner": {"reputation": 1772, "user_id": 5743300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86b739012f3bafbce2e40f59f3291c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Emjey", "link": "https://stackoverflow.com/users/5743300/emjey"}, "edited": false, "score": 0, "creation_date": 1510390673, "post_id": 47186205, "comment_id": 81422545, "body": "Have you tried JellyScript?"}], "answers": [{"tags": [], "owner": {"reputation": 1772, "user_id": 5743300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86b739012f3bafbce2e40f59f3291c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Emjey", "link": "https://stackoverflow.com/users/5743300/emjey"}, "is_accepted": false, "score": 0, "last_activity_date": 1510390829, "creation_date": 1510390829, "answer_id": 47236153, "question_id": 47186205, "link": "https://stackoverflow.com/questions/47186205/extracting-test-outcome-passed-failed-test-case-feature-count-in-bdd-jenkins/47236153#47236153", "title": "Extracting Test Outcome( Passed , Failed Test Case/Feature Count) in BDD Jenkins", "body": "<p>Did you try Jelly script? </p>\n\n<p>You may want to look at these plugins that will help you.</p>\n\n<p><code>https://wiki.jenkins.io/display/JENKINS/Email-ext+plugin</code></p>\n\n<p><code>https://github.com/jenkinsci/email-ext-plugin</code></p>\n"}], "owner": {"reputation": 91, "user_id": 5877684, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/800681940025275/picture?type=large", "display_name": "Shubhra Goyal", "link": "https://stackoverflow.com/users/5877684/shubhra-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510390829, "creation_date": 1510162678, "question_id": 47186205, "link": "https://stackoverflow.com/questions/47186205/extracting-test-outcome-passed-failed-test-case-feature-count-in-bdd-jenkins", "title": "Extracting Test Outcome( Passed , Failed Test Case/Feature Count) in BDD Jenkins", "body": "<p>Our Requirement is to Publish a custom HTML Email Message after the completion of the Cucumber(Ruby) Test \nexecution. I need to Pass following in my html reports.</p>\n\n<p>Test Case Passed Count , \nTest Case Fail Count , \nPass% etc</p>\n\n<p>Please let us know how I can extract those value from cucumber json report and pass it. Is there any pre define environment variable which stores those value?</p>\n\n<p>Regards,\nShubhra Goyal</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 4, "creation_date": 1510162641, "post_id": 47186141, "comment_id": 81321421, "body": "Whatever your needs are, it is <b>never</b> a good idea to amend a fundamental ruby class like this."}, {"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510162778, "post_id": 47186141, "comment_id": 81321506, "body": "More curious on -is it doable- at this point.  I&#39;m sure I will just utilize .upcase method."}, {"owner": {"reputation": 1257, "user_id": 3708505, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/719900264/picture?type=large", "display_name": "Nate Beers", "link": "https://stackoverflow.com/users/3708505/nate-beers"}, "edited": false, "score": 0, "creation_date": 1510162913, "post_id": 47186141, "comment_id": 81321585, "body": "Anything is &quot;doable&quot;, just not advised. Better off creating your own method that does it automatically somehow"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 1257, "user_id": 3708505, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/719900264/picture?type=large", "display_name": "Nate Beers", "link": "https://stackoverflow.com/users/3708505/nate-beers"}, "edited": false, "score": 2, "creation_date": 1510163166, "post_id": 47186141, "comment_id": 81321740, "body": "@NateBeers <i>sidenote:</i> this particular \u201canything\u201d is doable only via patching ruby\u2019s <a href=\"https://stackoverflow.com/questions/tagged/c\">c</a> code and recompiling your own version of it, due to strings might be initialized with <i>literals</i>: <code>str = &quot;foo&quot;</code>."}, {"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510163353, "post_id": 47186141, "comment_id": 81321855, "body": "I figured that was the case, being so basic. @mudasobwa"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510164120, "post_id": 47186141, "comment_id": 81322326, "body": "<i>&quot;It will be interfacing with a management system&quot;</i> \u2013 how? And where does the data (names, birthdate) come from?"}, {"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510164469, "post_id": 47186141, "comment_id": 81322524, "body": "@stefan taking user data from my script and filling forms within the management system.  Data is input by user with a gets, to keep it simple."}, {"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "edited": false, "score": 0, "creation_date": 1510164577, "post_id": 47186141, "comment_id": 81322588, "body": "I understand the approach may not be advisable, Maybe I&#39;m just thinking too far out of the box \ud83e\udd14"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510169589, "post_id": 47186141, "comment_id": 81325621, "body": "<i>&quot;Data is input by user with a gets&quot;</i> \u2013 What about <code>def gets(*); super.upcase; end</code>? That would return any user input uppercased."}, {"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510171359, "post_id": 47186141, "comment_id": 81326585, "body": "@Stefan Ahh I didn&#39;t think of that! That seems like the best way to go about it"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "edited": false, "score": 0, "creation_date": 1510180757, "post_id": 47190434, "comment_id": 81331249, "body": "Thank you for the explanation."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 1, "last_activity_date": 1510178448, "creation_date": 1510178448, "answer_id": 47190434, "question_id": 47186141, "link": "https://stackoverflow.com/questions/47186141/modify-string-class-to-use-only-uppercase/47190434#47190434", "title": "Modify string class to use only uppercase", "body": "<p>The solution here is not to boil the ocean and make every string in Ruby force everything to uppercase, but to uppercase the things that system needs <strong>if and when</strong> you provide it to that system.</p>\n\n<p>Changing fundamental Ruby classes in this dramatic a way is bound to cause your entire code-base to implode. Many internals depend on being able to store arbitrary data in strings, and if those strings are arbitrarily uppercased you're in big trouble. It's like redefining what <code>Integer#+</code> does. You can, but you really, really shouldn't. This would be akin to redefining the electrical charge of a proton. The universe would literally explode.</p>\n\n<p>It's better to write some kind of adapter method that can operate on arbitrary strings or values and make sure they conform to whatever quirks or encoding your other system uses:</p>\n\n<pre><code>def to_arcahic(string)\n  string.upcase\nend\n</code></pre>\n\n<p>If, for example, they don't allow accented characters or emoji, you'll need to strip those out and/or convert them to something else. Maybe \"\u00e9\" becomes \"E\" or maybe you just delete it.</p>\n"}], "owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 47190434, "answer_count": 1, "score": 0, "last_activity_date": 1510178448, "creation_date": 1510162450, "question_id": 47186141, "link": "https://stackoverflow.com/questions/47186141/modify-string-class-to-use-only-uppercase", "title": "Modify string class to use only uppercase", "body": "<p>I have a small application that processes some basic data (Names, birthdate, etc.).  It will be interfacing with a management system that only accepts uppercase strings.  Thinking of ways to go about this, I know I could just use .upcase for all the variables.  I figured the most DRY way would be to modify the String class itself and make a conversion, but could not find any documentation as to the method within String that actually takes in the value of said string.  The more I think about it, I also do not know what the implications of doing it this way would be (if it's even possible).</p>\n\n<p>I tried monkey patching the String class</p>\n\n<pre><code>class String\n  def initialize\n    self = self.upcase\n  end\nend\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>class String\n  def new(str=\"\")\n    new_str = str.upcase\n  end\nend\n</code></pre>\n\n<p>But I haven't found any info on how a string is actually initialized.</p>\n\n<p><strong>Tl;Dr</strong></p>\n\n<ol>\n<li>How can I convert a lower case string to uppercase on said string's\ninitialization</li>\n<li>Are there any implications I should be aware of if it\n    is possible?</li>\n</ol>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["javascript", "ruby", "methods"], "comments": [{"owner": {"reputation": 8645, "user_id": 368167, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9596f533dcd61ecf75f150b0d9997b3?s=128&d=identicon&r=PG", "display_name": "Tamer Shlash", "link": "https://stackoverflow.com/users/368167/tamer-shlash"}, "edited": false, "score": 0, "creation_date": 1510162364, "post_id": 47186077, "comment_id": 81321249, "body": "TL;DR yes, methods in Ruby can be called without parenthesis, while in JavaScript you must have parenthesis when calling a method/function."}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1510166306, "post_id": 47186077, "comment_id": 81323618, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/340624/do-you-leave-parentheses-in-or-out-in-ruby\">Do you leave parentheses in or out in Ruby?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 1, "creation_date": 1510163811, "post_id": 47186354, "comment_id": 81322138, "body": "Parentheses in ruby are <b>not always</b> optional. If the local variable with the same name exists in the current scope, parentheses are mandatory."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510163895, "post_id": 47186354, "comment_id": 81322189, "body": "Also, one always might get a reference to the function with <code>obj.method(:hello_world)</code> which returns almost exactly the same thing (bound method) as <code>helloWorld</code> in your example."}], "tags": [], "owner": {"reputation": 2409, "user_id": 4008366, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5a9f80535627f21ba4191fea0c6a0771?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Kim", "link": "https://stackoverflow.com/users/4008366/andrew-kim"}, "is_accepted": false, "score": 1, "last_activity_date": 1510163141, "creation_date": 1510163141, "answer_id": 47186354, "question_id": 47186077, "link": "https://stackoverflow.com/questions/47186077/understanding-of-methods-in-ruby-compared-to-javascript/47186354#47186354", "title": "Understanding of Methods in Ruby Compared to Javascript", "body": "<p>Im ruby, methods are defined in the following way.</p>\n\n<pre><code>def hello_world\n  puts \"hello world!\"\nend\n</code></pre>\n\n<p>In javascript as you know is defined in this way:</p>\n\n<pre><code>function helloWorld(){\n  console.log(\"hello world!\")\n}\n</code></pre>\n\n<p>In javascript, the ability to pass around functions as callbacks and the like is relatively easy. </p>\n\n<p>In the above function, <code>helloWorld</code> and <code>helloWorld()</code> are two very disparate things. The first is a reference to a function where as the second is an actual invocation.</p>\n\n<p>This circles back to ruby, where ruby doesn't have the concept of a function in the same way as javascript, it has methods. They have a similar concept as referenced functions in the way of procs and lambdas but the implementation is different.</p>\n\n<p>All that to say this, ruby methods are called without parenthesis where as in JS they are</p>\n\n<p>In ruby, parenthesis are optional</p>\n"}], "owner": {"reputation": 1661, "user_id": 6951159, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca045af854ddb1025be551f2b044cf94?s=128&d=identicon&r=PG&f=1", "display_name": "The Chewy", "link": "https://stackoverflow.com/users/6951159/the-chewy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510163141, "creation_date": 1510162240, "question_id": 47186077, "link": "https://stackoverflow.com/questions/47186077/understanding-of-methods-in-ruby-compared-to-javascript", "title": "Understanding of Methods in Ruby Compared to Javascript", "body": "<p>I've recently started learning Ruby as a second programming language, having started with JavaScript a couple of months ago.</p>\n\n<p>I've noticed in tutorials that what people refer to in Ruby as methods, often don't have the parenthesis() following the method like they do in Javascript.</p>\n\n<p>Is it correct that all methods in JavaScript have parenthesis() and anything to the right of a dot without parenthesis is a property, but in Ruby a method can still be a method even without parenthesis?</p>\n\n<p>I hope this question doesn't make me look like a complete idiot, but I don't want to trip myself up in the early stages so to speak.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems"], "comments": [{"owner": {"reputation": 1325, "user_id": 3295284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUdP8.jpg?s=128&g=1", "display_name": "patkoperwas", "link": "https://stackoverflow.com/users/3295284/patkoperwas"}, "edited": false, "score": 0, "creation_date": 1510163689, "post_id": 47185973, "comment_id": 81322065, "body": "If you stick <code>require &#39;module&#47;gem_name&#39;</code> at the top of <code>application.rb</code> does it work?"}, {"owner": {"reputation": 70, "user_id": 4060949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f500078579de4ff8780fc7b9137a7b76?s=128&d=identicon&r=PG&f=1", "display_name": "Hedselu", "link": "https://stackoverflow.com/users/4060949/hedselu"}, "reply_to_user": {"reputation": 1325, "user_id": 3295284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUdP8.jpg?s=128&g=1", "display_name": "patkoperwas", "link": "https://stackoverflow.com/users/3295284/patkoperwas"}, "edited": false, "score": 0, "creation_date": 1510180477, "post_id": 47185973, "comment_id": 81331143, "body": "Yes. I wonder why it does not autoload."}], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 4060949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f500078579de4ff8780fc7b9137a7b76?s=128&d=identicon&r=PG&f=1", "display_name": "Hedselu", "link": "https://stackoverflow.com/users/4060949/hedselu"}, "edited": false, "score": 1, "creation_date": 1510212454, "post_id": 47191708, "comment_id": 81340991, "body": "Hey, thanks for answering. I know the way to make this work with additional require in Gemfile, but have a look at this one: <a href=\"https://github.com/exAspArk/graphql-guard\" rel=\"nofollow noreferrer\">github.com/exAspArk/graphql-guard</a> . No need to require anything extra, and it works out-of-the-box. Am I missing something there?"}, {"owner": {"reputation": 676, "user_id": 1611925, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/VVlis.jpg?s=128&g=1", "display_name": "Julien Lamarche", "link": "https://stackoverflow.com/users/1611925/julien-lamarche"}, "edited": false, "score": 0, "creation_date": 1565815652, "post_id": 47191708, "comment_id": 101472893, "body": "Do you think the repo name must me identical to the value of gem_name ?"}], "tags": [], "owner": {"reputation": 1325, "user_id": 3295284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUdP8.jpg?s=128&g=1", "display_name": "patkoperwas", "link": "https://stackoverflow.com/users/3295284/patkoperwas"}, "is_accepted": false, "score": 3, "last_activity_date": 1510185443, "last_edit_date": 1510185443, "creation_date": 1510185108, "answer_id": 47191708, "question_id": 47185973, "link": "https://stackoverflow.com/questions/47185973/custom-gem-not-loading-into-rails-app/47191708#47191708", "title": "Custom gem not loading into rails app", "body": "<p>The gem is not autoloading because the main file (<code>gem_name.rb</code>) is not at the root of the <code>lib</code> directory. It is recommended that your Gem adhere to the following structure:</p>\n\n<pre><code>% tree\n.\n\u251c\u2500\u2500 gem_name.gemspec\n\u2514\u2500\u2500 lib\n    \u251c\u2500\u2500 gem_name\n    \u2502   \u2514\u2500\u2500 some_file.rb\n    \u2502   \u2514\u2500\u2500 other_file.rb\n    \u2514\u2500\u2500 gem_name.rb\n</code></pre>\n\n<p>Yours has an extra <code>module</code> nesting. In your Rails <code>application.rb</code> you should see <code>Bundler.require(*Rails.groups)</code>. What this <a href=\"https://github.com/bundler/bundler/blob/914a4a8b8d0cf1a79dbc7b334fbb5c2db1ecdc16/lib/bundler/runtime.rb#L61-L103\" rel=\"nofollow noreferrer\">method</a> does is loop through every Gem in your Gemfile and call <code>require gem_name</code>. This works for Gem's that follow the convention mentioned above. Your gem does not - so the auto require being done by Bundler doesn't find the correct file to use.</p>\n\n<p>See the <a href=\"http://guides.rubygems.org/make-your-own-gem/\" rel=\"nofollow noreferrer\">Ruby Gems Guide</a> for creating your own Gem for a bit more information on proper code organization.</p>\n\n<p>If you don't want to change the structure of your application, either add \n<code>require \"module/gem_name\"</code> in an initializer, or within the Gemfile:</p>\n\n<pre><code>gem \"gem_name\", require: \"module/gem_name\"\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 4060949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f500078579de4ff8780fc7b9137a7b76?s=128&d=identicon&r=PG&f=1", "display_name": "Hedselu", "link": "https://stackoverflow.com/users/4060949/hedselu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1529, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1510185443, "creation_date": 1510161889, "question_id": 47185973, "link": "https://stackoverflow.com/questions/47185973/custom-gem-not-loading-into-rails-app", "title": "Custom gem not loading into rails app", "body": "<p>I've pushed gem into github &amp; rubygems, but constants of that gem are not being loaded into rails app. Tried this by loading from multiple sources and results are like this:</p>\n\n<ul>\n<li>rubygems = not loaded</li>\n<li>github = not loaded</li>\n<li>local path = loaded</li>\n</ul>\n\n<p>Interesting things is that when I load with rubygems/github I can load constants with <code>require 'module/gem_name'</code></p>\n\n<p>The gemspecs looks fine to me:</p>\n\n<pre><code># coding: utf-8\nlib = File.expand_path('../lib', __FILE__)\n$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)\nrequire 'module/gem_name/version'\n\nGem::Specification.new do |spec|\n  spec.name          = 'gem_name'\n  spec.version       = Module::GemName::VERSION\n  spec.authors       = ['Mike QWERTY']\n  spec.email         = ['mike.qwerty@gamil.com']\n\n  spec.summary       = 'some_desc'\n  spec.homepage      = 'https://github.com/mike/gem-name'\n  spec.license       = 'MIT'\n\n  if spec.respond_to?(:metadata)\n    spec.metadata['allowed_push_host'] = 'https://rubygems.org'\n  else\n    raise 'RubyGems 2.0 or newer is required to protect against public gem pushes.'\n  end\n\n  spec.files = `git ls-files -z`.split(\"\\x0\").reject do |f|\n    f.match(%r{^(test|spec|features)/})\n  end\n  spec.bindir        = 'exe'\n  spec.executables   = spec.files.grep(%r{^exe/}) { |f| File.basename(f) }\n  spec.require_paths = ['lib']\n  spec.required_ruby_version = '&gt;= 2.4.0'\n  spec.add_runtime_dependency 'graphql', '&gt;= 1.6.0'\n\n  spec.add_development_dependency 'bundler', '~&gt; 1.14'\n  spec.add_development_dependency 'rake', '~&gt; 10.0'\n  spec.add_development_dependency 'rspec', '~&gt; 3.0'\nend\n</code></pre>\n\n<p>And structure is:</p>\n\n<pre><code>lib/module/gem_name/stuff/others.rb\nlib/module/gem_name/extras.rb\nlib/module/gem_name.rb\n</code></pre>\n\n<p>Also, I've been working on this gem basing on other gem that has the same module name. But it loads correctly into app, if this matters.\nAny ideas on this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "web-services"], "comments": [{"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510161996, "post_id": 47185968, "comment_id": 81321062, "body": "Do you mean you want to count how many times your application was requested?"}, {"owner": {"reputation": 970, "user_id": 1647238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5549a27774a350211a075d323053d99d?s=128&d=identicon&r=PG", "display_name": "William Ardila", "link": "https://stackoverflow.com/users/1647238/william-ardila"}, "edited": false, "score": 0, "creation_date": 1510162937, "post_id": 47185968, "comment_id": 81321592, "body": "Do you mean something like <a href=\"https://stackoverflow.com/questions/5295026/is-there-a-super-simple-way-to-record-report-page-views-in-rails-2-3-x\">this</a>?"}, {"owner": {"reputation": 59, "user_id": 8908495, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gLc41kmoXdE/AAAAAAAAAAI/AAAAAAAAAGM/sYvFtLCbxM0/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/8908495/mike"}, "reply_to_user": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510164489, "post_id": 47185968, "comment_id": 81322539, "body": "@AntonTkachov the web service is consumed from movil app, but the web service in provided from a web application"}], "answers": [{"tags": [], "owner": {"reputation": 3590, "user_id": 1494245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a2dcc33b58918f27664b7646d92b7?s=128&d=identicon&r=PG", "display_name": "Sean Huber", "link": "https://stackoverflow.com/users/1494245/sean-huber"}, "is_accepted": true, "score": 0, "last_activity_date": 1510164405, "creation_date": 1510164405, "answer_id": 47186733, "question_id": 47185968, "link": "https://stackoverflow.com/questions/47185968/count-the-times-that-a-webservice-is-consumed-and-save-it-into-db-in-rails/47186733#47186733", "title": "count the times that a webservice is consumed and save it into db in rails", "body": "<p>Generally you'd want to do something like this in memory as an attribute on a singleton instance.  Alternatively you could write to an access logfile or database table and count the entries when you generate a report.</p>\n\n<p>Here's a good writeup on the singleton approach: <a href=\"http://konrad-reiche.com/posts/singleton-active-record-charade.html\" rel=\"nofollow noreferrer\">http://konrad-reiche.com/posts/singleton-active-record-charade.html</a></p>\n"}], "owner": {"reputation": 59, "user_id": 8908495, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gLc41kmoXdE/AAAAAAAAAAI/AAAAAAAAAGM/sYvFtLCbxM0/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/8908495/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 47186733, "answer_count": 1, "score": 0, "last_activity_date": 1510164405, "creation_date": 1510161880, "question_id": 47185968, "link": "https://stackoverflow.com/questions/47185968/count-the-times-that-a-webservice-is-consumed-and-save-it-into-db-in-rails", "title": "count the times that a webservice is consumed and save it into db in rails", "body": "<p>I need count the times that a webservice is consumed, take this number and save it in the database to generate a report, \nI need an idea of \u200b\u200bhow to do it.<br>\nI already investigated but I did not find anything useful</p>\n"}, {"tags": ["arrays", "ruby", "object"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510159624, "post_id": 47184968, "comment_id": 81319496, "body": "Note: It should be <code>initialize</code> not <code>initialize(*)</code>."}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "edited": false, "score": 0, "creation_date": 1510159680, "post_id": 47184968, "comment_id": 81319532, "body": "So  your <code>p patient</code> looks good... I can see the patient record, and that it contains a array of histories.  What do you want it to do now?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510159681, "post_id": 47184968, "comment_id": 81319533, "body": "What to do to do what?"}, {"owner": {"reputation": 31, "user_id": 4977749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161b49a81d0def6595da845e64264a84?s=128&d=identicon&r=PG&f=1", "display_name": "bartaspol", "link": "https://stackoverflow.com/users/4977749/bartaspol"}, "edited": false, "score": 0, "creation_date": 1510160510, "post_id": 47184968, "comment_id": 81320077, "body": "I wish to get to that patient_history object from Patient so I can print out Patient and the history from a method def print_patient.  I commented out in that method what was my intentions :)"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4977749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161b49a81d0def6595da845e64264a84?s=128&d=identicon&r=PG&f=1", "display_name": "bartaspol", "link": "https://stackoverflow.com/users/4977749/bartaspol"}, "edited": false, "score": 0, "creation_date": 1510164489, "post_id": 47186655, "comment_id": 81322535, "body": "YES! Thank you!"}], "tags": [], "owner": {"reputation": 1325, "user_id": 3295284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUdP8.jpg?s=128&g=1", "display_name": "patkoperwas", "link": "https://stackoverflow.com/users/3295284/patkoperwas"}, "is_accepted": true, "score": 0, "last_activity_date": 1510164114, "creation_date": 1510164114, "answer_id": 47186655, "question_id": 47184968, "link": "https://stackoverflow.com/questions/47184968/array-of-objects-as-a-field-in-a-class-how-to-access-parameters-of-single-objec/47186655#47186655", "title": "Array of objects as a field in a class. How to access parameters of single object?", "body": "<p>Question is a little vague, do you wish to print out the list of patient histories? You can iterate over each history using <a href=\"https://ruby-doc.org/core-2.2.0/Array.html#method-i-each\" rel=\"nofollow noreferrer\">#each</a>.</p>\n\n<pre><code>def print_patient\n  puts \"name: #{@name}\"\n  puts \"surname : #{@surname}\"\n\n  histories.each do |history|\n    puts \"History Date: #{history.date}\"\n    puts history.description\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4977749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161b49a81d0def6595da845e64264a84?s=128&d=identicon&r=PG&f=1", "display_name": "bartaspol", "link": "https://stackoverflow.com/users/4977749/bartaspol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 47186655, "answer_count": 1, "score": 1, "last_activity_date": 1510164114, "creation_date": 1510158860, "last_edit_date": 1510160747, "question_id": 47184968, "link": "https://stackoverflow.com/questions/47184968/array-of-objects-as-a-field-in-a-class-how-to-access-parameters-of-single-objec", "title": "Array of objects as a field in a class. How to access parameters of single object?", "body": "<p>I started yesterday with Ruby and have a problem.\nI have two classes: Patient and Patient_history.\nPatient can have multiple histories (from different appointments).</p>\n\n<p>Here is what i have now:</p>\n\n<pre><code>class Patient\n    attr_accessor :name,\n                  :surname,\n                  :histories\n\ndef initialize(*)\n  @histories = []\nend\n\ndef create_patient\n  @name = create_name_or_surname( \"name\")\n  @surname = create_name_or_surname(\"surname\")\nend\n\ndef create_name_or_surname( name_or_surname)\n  #not relevant in this case\nend\n\ndef add_history(history)\n  @histories.push(history)\nend\n\ndef print_patient\n  puts \"name: #{@name}\"\n  puts \"surname : #{@surname}\"\n\n  ## I wish to do sth like:\n  ## puts \"history date: #{@histories[1].date}\"\n  ## to print content of Patient_history\n\nend\nend\n</code></pre>\n\n<p>And </p>\n\n<pre><code>class Patient_history\n   attr_accessor :date,\n                 :description\n\n  def create_history\n    @date = create_date_or_desc(\"What is the date today?\")\n    @description = create_date_or_desc(\"Write about an illness:\")\n  end\nend\n</code></pre>\n\n<p>with a line:\np patient\nafter setting history and patient values i get:</p>\n\n<pre><code>What is your name?\njohn\nWhat is your surname?\nsmith\nWhat is the date today?\n12/12/2016\nWrite about an illness:\nsick\n#&lt;Patient:0x007ffcb50ab518 @histories=[#\n&lt;Patient_history:0x007ffcb50aad98 @date=\"12/12/2016\", \n@description=\"sick\"&gt;], @name=\"john\", @surname=\"smith\"&gt;\n</code></pre>\n\n<p>Can you give me a hint of what to do?</p>\n"}, {"tags": ["ruby", "bash", "shell", "escaping", "chef-recipe"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1510158859, "post_id": 47184918, "comment_id": 81318974, "body": "Would you please edit your Q to include more of the script, and the command by which you invoke it?  Are you using <code>#!&#47;bin&#47;bash</code> on line 1?  Is <code>STDERR:</code> actually printed on screen, or is that your comment so we know which pipe it&#39;s on?  I suspect you are using another program that captures I/O, and that other program may be part of the problem."}, {"owner": {"reputation": 1367, "user_id": 1323392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a838d0000c6deb320a76f046b59f842c?s=128&d=identicon&r=PG", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1323392/cesare"}, "edited": false, "score": 0, "creation_date": 1510159047, "post_id": 47184918, "comment_id": 81319093, "body": "I&#39;ve updated my question ...."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1510159233, "post_id": 47184918, "comment_id": 81319211, "body": "Try <code>code &lt;&lt;-&#39;EOH&#39;</code> (with single-quotes around <code>EOH</code>) to disable Ruby interpretation of the string contents.  I suspect Ruby is swallowing the backslash before the semicolon."}], "answers": [{"comments": [{"owner": {"reputation": 1367, "user_id": 1323392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a838d0000c6deb320a76f046b59f842c?s=128&d=identicon&r=PG", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1323392/cesare"}, "edited": false, "score": 0, "creation_date": 1510160185, "post_id": 47185163, "comment_id": 81319852, "body": "It doesn&#39;t work for me ... Unfortunately for Chef  <code>code &lt;&lt;- &#39;EOH&#39;</code> is a sintax error"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 1367, "user_id": 1323392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a838d0000c6deb320a76f046b59f842c?s=128&d=identicon&r=PG", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1323392/cesare"}, "edited": false, "score": 0, "creation_date": 1510161674, "post_id": 47185163, "comment_id": 81320870, "body": "@Cesare Edited - try escaping manually.  <b>Also</b> did you really do <code>&lt;&lt;- &#39;EOH&#39;</code> (with a space after the hyphen)?  If so, try it without the space --- <code>&lt;&lt;-&#39;EOH&#39;</code>"}, {"owner": {"reputation": 1367, "user_id": 1323392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a838d0000c6deb320a76f046b59f842c?s=128&d=identicon&r=PG", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1323392/cesare"}, "edited": false, "score": 0, "creation_date": 1510162473, "post_id": 47185163, "comment_id": 81321327, "body": "Ok it&#39;s working now .... I use <code>find .&#47; -iname &#39;*.xml&#39; -exec sed -i -e &#39;s&#47;&lt;value&gt;string&lt;\\\\&#47;value&gt;&#47;&lt;value&gt;string01&lt;\\\\&#47;value&gt;&#47;g&#39;  \\\\;</code> and NO need to use <code>code &lt;&lt;- &#39;EOH&#39;</code>, so I continue to use <code>code &lt;&lt;- EOH</code> as in my original code"}], "tags": [], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "is_accepted": true, "score": 3, "last_activity_date": 1510161569, "last_edit_date": 1510161569, "creation_date": 1510159349, "answer_id": 47185163, "question_id": 47184918, "link": "https://stackoverflow.com/questions/47184918/find-missing-argument-to-exec-when-used-in-bash-in-a-chef-recipe/47185163#47185163", "title": "find: missing argument to `-exec&#39; when used in bash in a Chef recipe", "body": "<p>Change the <code>code&lt;&lt;</code> line to <code>code &lt;&lt;-'EOH'</code> (with single-quotes around <code>EOH</code>).  This will <a href=\"https://makandracards.com/makandra/15003-how-to-ruby-heredoc-without-interpolation\" rel=\"nofollow noreferrer\">disable Ruby interpretation of the string contents</a>.  Ruby is swallowing the backslash before the semicolon.  Example (in <code>irb</code>; <code>**...</code> added):</p>\n\n<pre><code>irb(main):004:0&gt; print &lt;&lt;XX     ** No single-quotes\nirb(main):005:0\" \\;\nirb(main):006:0\" XX\n;                               ** the backslash is gone\n=&gt; nil\nirb(main):007:0&gt; print &lt;&lt;'XX'   ** with single-quotes\nirb(main):008:0' \\;\nirb(main):009:0' XX\n\\;                              ** the backslash is still there\n=&gt; nil\n</code></pre>\n\n<p>Since Ruby is stripping the backslash-semicolon at the end of your <code>find</code> command line, <code>find</code> never sees the end of the arguments to <code>-exec</code>.</p>\n\n<h2>Edit</h2>\n\n<p>For versions of Ruby not supporting non-interpolated here-docs, escape the contents manually.  E.g.:</p>\n\n<pre><code>find ./ -iname '*.xml' -exec sed -i -e 's/&lt;value&gt;string&lt;\\\\/value&gt;/&lt;value&gt;string01&lt;\\\\/value&gt;/g' {} \\\\;\n                                                         ^ extra backslashes  - - -^- - - - - - - -^\n</code></pre>\n\n<p><code>irb</code> example:</p>\n\n<pre><code>irb(main):001:0&gt; print &lt;&lt;-EOH   ** No quotes\nirb(main):002:0\" \\\\;            ** Extra backslash\nirb(main):003:0\" EOH\n\\;                              ** The backslash is printed\n</code></pre>\n"}], "owner": {"reputation": 1367, "user_id": 1323392, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a838d0000c6deb320a76f046b59f842c?s=128&d=identicon&r=PG", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1323392/cesare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 47185163, "answer_count": 1, "score": 0, "last_activity_date": 1510161569, "creation_date": 1510158723, "last_edit_date": 1510159615, "question_id": 47184918, "link": "https://stackoverflow.com/questions/47184918/find-missing-argument-to-exec-when-used-in-bash-in-a-chef-recipe", "title": "find: missing argument to `-exec&#39; when used in bash in a Chef recipe", "body": "<p>I need to substitute a string inside several files under a directory in Linux using bash.  This command works fine from the command line:</p>\n\n<pre><code>find ./ -iname '*.xml' -exec sed -i -e 's/&lt;value&gt;string&lt;\\/value&gt;/&lt;value&gt;string01&lt;\\/value&gt;/g' {} \\;\n</code></pre>\n\n<p>When I try to put it in a shell using bash I obtain this error: </p>\n\n<blockquote>\n  <p>STDERR: find: missing argument to `-exec'</p>\n</blockquote>\n\n<p>UPDATE: My bash code is inside a Chef recipe.  Here's the code:</p>\n\n<pre><code>bash \"change_string_dir\" do\n    code &lt;&lt;-EOH\n         find ./ -iname '*.xml' -exec sed -i -e 's/&lt;value&gt;string&lt;\\/value&gt;/&lt;value&gt;string01&lt;\\/value&gt;/g' {} \\;\n    EOH\nend\n</code></pre>\n"}, {"tags": ["ruby", "cucumber", "poltergeist"], "answers": [{"tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": false, "score": 0, "last_activity_date": 1510161510, "creation_date": 1510161510, "answer_id": 47185860, "question_id": 47183542, "link": "https://stackoverflow.com/questions/47183542/ruby-cucumber-rspec-poltergeist-test-fails-to-find-text-inside-an-iframe/47185860#47185860", "title": "Ruby cucumber rspec Poltergeist test fails to find text inside an iframe", "body": "<p>The <code>in \"\"</code> the error message would tend to imply one of 3 things</p>\n\n<ol>\n<li><p>You're in the wrong iframe - if the page only has one iframe that can't be it</p></li>\n<li><p>The iframe doesn't actually have content - Print out what <code>page.html</code> is inside the iframe</p></li>\n<li><p>The iframe hasn't loaded yet - Check the driver network traffic to see if the page actually loaded, and make sure the URL the iframe is loading is actually reachable </p></li>\n</ol>\n\n<p>I guess one other option could be you're running a different version of PhantomJS on Jenkins than you are locally (and are using something in your page/frame that isn't supported by an older version), but I assume you've already checked that. </p>\n"}], "owner": {"reputation": 1, "user_id": 4450164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3cd485161a03076ec18b1596d3b366f?s=128&d=identicon&r=PG&f=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/4450164/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510161510, "creation_date": 1510154814, "question_id": 47183542, "link": "https://stackoverflow.com/questions/47183542/ruby-cucumber-rspec-poltergeist-test-fails-to-find-text-inside-an-iframe", "title": "Ruby cucumber rspec Poltergeist test fails to find text inside an iframe", "body": "<p>I have a Ruby cucumber poltergeist test which constantly fails when running on the CI Jenkins server with the following error but runs ok locally.</p>\n\n<pre><code>expected to find text \"Medals table final positions\" in \"\" \n(RSpec::Expectations::ExpectationNotMetError)\n</code></pre>\n\n<p>This text is inside an iframe the piece of code which does this verification is </p>\n\n<pre><code>if page.has_css?(\"iframe\") #Check inside iframe if present\n        page.within_frame 0 do\n           expect(page).to have_content(text) \n     end   \n</code></pre>\n\n<p>Does anyone knows what can it be the reason of such behaviour?</p>\n"}, {"tags": ["ruby", "uri", "mailto"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6586613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rqbx.jpg?s=128&g=1", "display_name": "Hugo Barthelemy", "link": "https://stackoverflow.com/users/6586613/hugo-barthelemy"}, "edited": false, "score": 0, "creation_date": 1510155673, "post_id": 47183410, "comment_id": 81316672, "body": "Thank you for your answer Actually, that&#39;s how I do it for the moment but it&#39;s ugly and I think it&#39;s not very stable depending on the format. Deplus, we have a great tool (URI) and I think there is more simple. I would like to be able to do <code>uri.subject</code> &amp; <code>uri.body</code>"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 129, "user_id": 6586613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rqbx.jpg?s=128&g=1", "display_name": "Hugo Barthelemy", "link": "https://stackoverflow.com/users/6586613/hugo-barthelemy"}, "edited": false, "score": 0, "creation_date": 1510157397, "post_id": 47183410, "comment_id": 81317954, "body": "@HugoBarthelemy <code>URI</code> provides <code>decode_www_form_component</code> but I think you have to call it yourself. I&#39;ve updated my answer accordingly."}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 3, "last_activity_date": 1510157570, "last_edit_date": 1510157570, "creation_date": 1510154499, "answer_id": 47183410, "question_id": 47183256, "link": "https://stackoverflow.com/questions/47183256/how-to-find-the-body-and-the-subject-in-a-mailto-link/47183410#47183410", "title": "How to find the body and the subject in a mailto link?", "body": "<p>You can use <a href=\"http://ruby-doc.org/stdlib-2.4.2/libdoc/uri/rdoc/URI/MailTo.html#headers-attribute-method\" rel=\"nofollow noreferrer\"><code>URI::MailTo#headers</code></a> which returns an array of arrays:</p>\n\n<pre><code>uri.headers\n#=&gt; [[], [\"subject\", \"test\"], [\"body\", \"type%20your\"], [\"body\", \"message%20here\"]]\n</code></pre>\n\n<p>However, your mailto link is slightly broken. It should look like this:</p>\n\n<pre><code>uri = URI('mailto:email@address.com?subject=test&amp;body=type%20your%0D%0Amessage%20here')\n#                                   ^                            ^\n#                               no '&amp;' here                newline as %0D%0A\n</code></pre>\n\n<p>That gives:</p>\n\n<pre><code>uri.headers\n#=&gt; [[\"subject\", \"test\"], [\"body\", \"type%20your%0D%0Amessage%20here\"]]\n</code></pre>\n\n<p>Which can be accessed via <code>assoc</code>:</p>\n\n<pre><code>uri.headers.assoc('subject').last\n#=&gt; \"test\"\n</code></pre>\n\n<p>Or be converted to a hash:</p>\n\n<pre><code>headers = uri.headers.to_h\n#=&gt; {\"subject\"=&gt;\"test\", \"body\"=&gt;\"type%20your%0D%0Amessage%20here\"}\n</code></pre>\n\n<p>To get decoded values:</p>\n\n<pre><code>URI.decode_www_form_component(headers['body'])\n#=&gt; \"type your\\r\\nmessage here\"\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6586613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rqbx.jpg?s=128&g=1", "display_name": "Hugo Barthelemy", "link": "https://stackoverflow.com/users/6586613/hugo-barthelemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 47183410, "answer_count": 1, "score": 1, "last_activity_date": 1510157570, "creation_date": 1510154105, "last_edit_date": 1510154412, "question_id": 47183256, "link": "https://stackoverflow.com/questions/47183256/how-to-find-the-body-and-the-subject-in-a-mailto-link", "title": "How to find the body and the subject in a mailto link?", "body": "<p>I have this mailto link : </p>\n\n<p><code>mailto:email@address.com?&amp;subject=test&amp;body=type%20your&amp;body=message%20here</code></p>\n\n<p>I would like to find <code>to</code>, <code>subject</code>, <code>body</code>.</p>\n\n<p>Actually I use :</p>\n\n<pre><code>uri = URI('mailto:email@address.com?&amp;subject=test&amp;body=type%20your&amp;body=message%20here')\n</code></pre>\n\n<blockquote>\n  <p><code>&lt;URI::MailTo mailto:email@address.com?&amp;subject=test&amp;body=type%20your&amp;body=message%20here&gt;</code></p>\n</blockquote>\n\n<p>I have :to with that :\n<code>uri.to</code></p>\n\n<p>but I can not extract <code>subject</code> and <code>body</code>.</p>\n\n<p>Do you know how to do it ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510152873, "post_id": 47182516, "comment_id": 81314435, "body": "Provide your <code>Post</code> model code, please"}, {"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "reply_to_user": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510152939, "post_id": 47182516, "comment_id": 81314496, "body": "yep, i&#39;m on it !"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510153440, "post_id": 47182516, "comment_id": 81314879, "body": "in your context, looping through the <code>@posts</code>&#39;s content and assigning the same variables (<code>@task</code> or <code>@event</code>) will overwrite it. <code>@task</code> will be equal to the last <code>post.task</code> that was executed. Can you describe what you are trying to achieve? Are you trying to display the list of each post&#39;s task+users or task+reminds (depending on the post&#39;s cat) ?"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510153533, "post_id": 47182516, "comment_id": 81314966, "body": "Also, <code>post.task</code> and <code>post.event</code> return only 1 record, so you can&#39;t includes a relation on a single element because accessing this relation&#39;s records will always trigger 1 query (<code>select * from tasks where post_id = ?</code>)"}, {"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510153761, "post_id": 47182516, "comment_id": 81315173, "body": "Thanks for your answer @MrYoshiji, I&#39;m trying to load the element of the post in one request. But I don&#39;t want to search task, event, etc... for each post. So I would like to say if the post.cat == 3 {include the related task} As this I can reduce the number of SQL requests on my page"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510153861, "post_id": 47182516, "comment_id": 81315263, "body": "@stigGaret &#39;I already know the polymorphic association is not the best way to my situation&#39; Why do you think so? I am sure it is"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510154073, "post_id": 47182516, "comment_id": 81315437, "body": "Polymorphic associations are quite difficult to handle for optimization (can&#39;t preload the relation, for example)."}, {"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510154361, "post_id": 47182516, "comment_id": 81315659, "body": "Yep, I was responding the same thing, thanks @MrYoshiji to answer him. By the way, do you know a good way to solve this kind of preloading ?"}, {"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1510154571, "post_id": 47182516, "comment_id": 81315825, "body": "You can&#39;t preload a relation for a single record. On the other hand, you can preload the relation(s) from an <code>ActiveRecord::Relation</code>, something like <code>current_user.posts.includes(task: :users, event: :reminds)</code>."}, {"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "edited": false, "score": 0, "creation_date": 1510155518, "post_id": 47182516, "comment_id": 81316570, "body": "I was running this before, but it&#39;s searching task, event, etc.. for each post. And that&#39;s a lot of loading for one post. Because I simplified my example, but in my case, I have a lot more association to load. Thanks anyway !"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510156823, "post_id": 47182516, "comment_id": 81317507, "body": "I think that&#39;s also a good point to have a look: <a href=\"https://stackoverflow.com/questions/2390017/ruby-on-rails-include-on-a-polymorphic-association-with-submodels\" title=\"ruby on rails include on a polymorphic association with submodels\">stackoverflow.com/questions/2390017/&hellip;</a>. About includes with polymorphic"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510156840, "post_id": 47182516, "comment_id": 81317520, "body": "Please share your final solution with us ;)"}], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "edited": false, "score": 0, "creation_date": 1510152915, "post_id": 47182706, "comment_id": 81314476, "body": "Thanks for your answer @jk_, no there is no cases where the value can be nil or blank. And thanks for your suggestion I already know the polymorphic association is not the best way to my situation. Thanks anyway"}], "tags": [], "owner": {"reputation": 635, "user_id": 7842011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbca165d2a40ba6819b02b6b956778e1?s=128&d=identicon&r=PG&f=1", "display_name": "jk_", "link": "https://stackoverflow.com/users/7842011/jk"}, "is_accepted": false, "score": -1, "last_activity_date": 1510152626, "creation_date": 1510152626, "answer_id": 47182706, "question_id": 47182516, "link": "https://stackoverflow.com/questions/47182516/includes-with-a-related-element/47182706#47182706", "title": "Includes with a related element", "body": "<p>If you're getting an <code>undefined method: 'includes'</code> error, it means that either <code>post.task</code> or <code>post.event</code> are not returning ActiveRecord objects like your code is expecting. Are you sure there will always be values set for <code>.task</code> or <code>.event</code> at that point in execution? Are there any cases where that value might be <code>nil</code> or blank?</p>\n\n<p>By the way, have you heard about <a href=\"http://guides.rubyonrails.org/association_basics.html#polymorphic-associations\" rel=\"nofollow noreferrer\">'polymorphic associations'</a>? Defining an association as polymorphic allows you to associate records of arbitrary types with a specific column (by storing both object ID and class name on each record behind the scenes). It seems like this exactly matches your use case. It would be much easier to use the built-in mechanism than trying to do all the if-then switching based on category in your code. </p>\n"}, {"comments": [{"owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "edited": false, "score": 0, "creation_date": 1510155206, "post_id": 47183649, "comment_id": 81316361, "body": "Tanks for your answer @JacquesMesnet. This could be an elegant solution. Thanks for your advice. I&#39;ll try it now"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510156542, "post_id": 47183649, "comment_id": 81317278, "body": "I think this is really the simplest and best approach"}], "tags": [], "owner": {"reputation": 487, "user_id": 7847797, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-k7pSuJNJeV4/AAAAAAAAAAI/AAAAAAAAApY/6cIE0jxiCM8/photo.jpg?sz=128", "display_name": "jacques Mesnet", "link": "https://stackoverflow.com/users/7847797/jacques-mesnet"}, "is_accepted": false, "score": 2, "last_activity_date": 1510155120, "creation_date": 1510155120, "answer_id": 47183649, "question_id": 47182516, "link": "https://stackoverflow.com/questions/47182516/includes-with-a-related-element/47183649#47183649", "title": "Includes with a related element", "body": "<p>Why are you using @posts.each ?</p>\n\n<p>For me, the best solution for that is to find all the posts whith the defined cat to run the includes method. In your case, it would be like that :</p>\n\n<pre><code>@posts.where(cat: 1).includes(:message)\n@posts.where(cat: 2).includes(:question)\n@posts.where(cat: 3).includes(task: :users)\n@posts.where(cat: 4).includes(event: :reminds)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "is_accepted": true, "score": 2, "last_activity_date": 1510222532, "creation_date": 1510222532, "answer_id": 47199161, "question_id": 47182516, "link": "https://stackoverflow.com/questions/47182516/includes-with-a-related-element/47199161#47199161", "title": "Includes with a related element", "body": "<p>Well, after many tries, I opted for a scope method to run the includes method. It's not a really elegant solution, but I think it's the best in my case. </p>\n\n<p>So I'm preparing the scopes in my Post_Model:</p>\n\n<pre><code>scope :with_tasks, -&gt; { where(cat: 3).includes(:user).includes(task: :users) }\nscope :with_events, -&gt; { where(cat: 4).includes(:user).includes(event: :reminds) }\n</code></pre>\n\n<p>And after, I render them in my index action like this :</p>\n\n<pre><code>@posts = current_user.posts.with_tasks + current_user.posts.with_events\n</code></pre>\n\n<p>So the code is generating 2 SQL Requests to find the posts (one for each category). </p>\n\n<p>I think there is a way to join all that directly into a new global scope, but I don't know how. So if there is anyone knows that, he can edit the answer</p>\n\n<p>Enjoy !</p>\n"}], "owner": {"reputation": 554, "user_id": 8066456, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fcdc1b0ee11fa7ab705b178bd0a888da?s=128&d=identicon&r=PG&f=1", "display_name": "stig Garet", "link": "https://stackoverflow.com/users/8066456/stig-garet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 47199161, "answer_count": 3, "score": 2, "last_activity_date": 1510222532, "creation_date": 1510152084, "last_edit_date": 1510153123, "question_id": 47182516, "link": "https://stackoverflow.com/questions/47182516/includes-with-a-related-element", "title": "Includes with a related element", "body": "<p>I would like to use the includes method with the related element of my Post</p>\n\n<p>My Post can be associated with different type of element. And I use a value :cat to knows witch kind of element is associated. </p>\n\n<p>The value work as this (cat: (1 => Message, 2=>Question, 3=>Task, 4=>Event) with the association has_one</p>\n\n<p>Example : If post.cat == 3, I can call the task related with a method post.task</p>\n\n<p>Now, I would like to optimize the SQL requests of my Post/Index with the method includes. But is not working for the moment. Can you help me to find the error of my code ?</p>\n\n<p>Post_controller :</p>\n\n<pre><code>def index\n  @posts = current_user.posts\n  @posts.each do |post|\n    if post.cat == 3\n      @task = post.task.includes(:users)\n    elsif post.cat ==  4\n      @event = post.event.includes(:reminds)\n    end\n  end\nend\n</code></pre>\n\n<p>Error: undefined method `includes'</p>\n\n<p>Edit : </p>\n\n<p>Post_model:</p>\n\n<pre><code>class Post &lt; ApplicationRecord\n  has_one :post_message, dependent: :destroy\n  has_one :question, dependent: :destroy\n  has_one :task, dependent: :destroy\n  has_one :event, dependent: :destroy\nend\n</code></pre>\n\n<p>Task_model :</p>\n\n<pre><code>class Task &lt; ApplicationRecord\n  belongs_to :post\n  has_many :users_task, dependent: :destroy\n  has_many :users, through: :users_task\nend\n</code></pre>\n"}, {"tags": ["ruby", "method-chaining"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1510152855, "post_id": 47182184, "comment_id": 81314414, "body": "Returning <code>self</code> is a way to provide a <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">fluent interface</a>. It allows you to send several methods to the same receiver by chaining the method calls."}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "is_accepted": false, "score": 0, "last_activity_date": 1510162245, "last_edit_date": 1510162245, "creation_date": 1510151675, "answer_id": 47182381, "question_id": 47182184, "link": "https://stackoverflow.com/questions/47182184/ruby-method-chaining-beginner/47182381#47182381", "title": "Ruby Method Chaining (beginner)", "body": "<p>In your example the <code>@weight</code> is an instance variable and the set_weight is an instance method which adds weight to the instance variable <code>@weight</code>.<br>\n<code>self</code> returns the instance of the class with the updated <code>@weight</code>.  </p>\n\n<p>The <code>show_pet</code> method then called on the returned instance and prints its values.</p>\n"}, {"tags": [], "owner": {"reputation": 635, "user_id": 7842011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbca165d2a40ba6819b02b6b956778e1?s=128&d=identicon&r=PG&f=1", "display_name": "jk_", "link": "https://stackoverflow.com/users/7842011/jk"}, "is_accepted": false, "score": 1, "last_activity_date": 1510152643, "last_edit_date": 1510152643, "creation_date": 1510151816, "answer_id": 47182426, "question_id": 47182184, "link": "https://stackoverflow.com/questions/47182184/ruby-method-chaining-beginner/47182426#47182426", "title": "Ruby Method Chaining (beginner)", "body": "<p><code>show_pet</code> is an instance method of <code>Pet</code> (just like <code>set_weight</code>), and so it can be called only on instances of <code>Pet</code>. When you want to call this method after <code>set_weight</code> as you did, <code>set_weight</code> needs to return the instance of <code>Pet</code> that it was called on.</p>\n\n<p><code>self</code> is the return value you've set in <code>set_weight(weight)</code>, and inside an instance method, this is a reference to the <code>Pet</code> instance you're calling the method on. So whenever an instance of <code>Pet</code> calls that method, it returns the instance itself. </p>\n\n<p>To see this more clearly, you could experiment a little by doing something like this: </p>\n\n<pre><code>class Pet \n  ...\n  def return_instance\n    self\n  end\nend\n\npet1 = Pet.new('Chihuaha', 'Jill', 5)\npet1 == pet1.return_instance # =&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 443, "user_id": 6103484, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/66dd9f521f1f408c3cae829776ec8acc?s=128&d=identicon&r=PG", "display_name": "GPif", "link": "https://stackoverflow.com/users/6103484/gpif"}, "is_accepted": true, "score": 1, "last_activity_date": 1510159763, "creation_date": 1510159763, "answer_id": 47185293, "question_id": 47182184, "link": "https://stackoverflow.com/questions/47182184/ruby-method-chaining-beginner/47185293#47185293", "title": "Ruby Method Chaining (beginner)", "body": "<p>There a couple of thing to consider if you are a beginner.</p>\n\n<p>The last value call in a method is the return value of the methods. In your example :</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>def set_weight(weight)\n    @weight += weight\n    self\nend\n</code></pre>\n\n<p>is equivalent to :</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>def set_weight(weight)\n    @weight += weight\n    return self # &lt;- with return\nend\n</code></pre>\n\n<p>Then, about <strong>self</strong>, if you are used to other language, you may have seen the keyword <strong>this</strong>, it is equivalent.\nIt is a referent of the instance of the class you are currently using.</p>\n\n<p>As you are returning <strong>self</strong> you can chain the call like : </p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>rex_the_dog = Pet.new nil, 'rex', 20 #create rex_the_dog an instance of Pet\nrex_the_dog.set_weight(3).set_weight(2) #As you return self, you can chain call like this\nrex_the_dog.weight #return 25  (20 : set on init + 2 : first set_weight call + 3 : second set_weight call)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 8385606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10210010301119748/picture?type=large", "display_name": "Brian Ruff", "link": "https://stackoverflow.com/users/8385606/brian-ruff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 47185293, "answer_count": 3, "score": -1, "last_activity_date": 1510162245, "creation_date": 1510150993, "last_edit_date": 1510152319, "question_id": 47182184, "link": "https://stackoverflow.com/questions/47182184/ruby-method-chaining-beginner", "title": "Ruby Method Chaining (beginner)", "body": "<p>I wrote the code below:</p>\n\n<pre><code>class Pet\n  attr_accessor :breed, :name, :weight\n\n  def initialize(breed, name, weight)\n    @breed = breed\n    @name = name\n    @weight = weight\n  end\n\n  def show_pet\n    p \"Your pet is a #{@breed}, and their name is #{@name}. They weigh #{@weight} lbs.\"\n  end\n\n  def set_weight(weight)\n    @weight += weight\n    self\n  end\nend\n\npet1 = Pet.new(\"Chihuahua\", \"Jill\", 5)\npet1.set_weight(5).show_pet\n</code></pre>\n\n<p>but I don't fully understand how it works, primarily the <code>self</code> part. I hope someone could point me to a good explanation for method chaining.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "logstash"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1510149029, "post_id": 47181387, "comment_id": 81311667, "body": "Solve what? ..."}, {"owner": {"reputation": 21, "user_id": 8907149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7FW.jpg?s=128&g=1", "display_name": "Aswin KM", "link": "https://stackoverflow.com/users/8907149/aswin-km"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1510149381, "post_id": 47181387, "comment_id": 81311920, "body": "Splitting a single stacktrace to multiple lines"}, {"owner": {"reputation": 21, "user_id": 8907149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7FW.jpg?s=128&g=1", "display_name": "Aswin KM", "link": "https://stackoverflow.com/users/8907149/aswin-km"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1510149612, "post_id": 47181387, "comment_id": 81312094, "body": "The stack trace is getting split up, I can&#39;t debug when I get multiple errors."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 1, "creation_date": 1510149677, "post_id": 47181387, "comment_id": 81312131, "body": "Welcome to StackOverflow. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your problem, and for more tips see: <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. As your question is currently phrased, we don&#39;t know what you have tried so far, or how to reproduce your problem."}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510222915, "post_id": 47181387, "comment_id": 81347092, "body": "do you have an update?"}, {"owner": {"reputation": 21, "user_id": 8907149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7FW.jpg?s=128&g=1", "display_name": "Aswin KM", "link": "https://stackoverflow.com/users/8907149/aswin-km"}, "reply_to_user": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510234623, "post_id": 47181387, "comment_id": 81354945, "body": "I found out that there is a json field <code>tags</code> in the all the json lines, this is same for all the json lines in the same stack trace. I will have to search using that tag to get the complete stacktrace @FabrizioBertoglio"}], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "is_accepted": false, "score": 0, "last_activity_date": 1510235715, "creation_date": 1510235715, "answer_id": 47203663, "question_id": 47181387, "link": "https://stackoverflow.com/questions/47181387/logstash-logger-rails-stacktrace-splitting-into-multiple-json-lines/47203663#47203663", "title": "Logstash-logger: Rails stacktrace splitting into multiple json lines", "body": "<blockquote>\n  <h1><a href=\"https://github.com/dwbutler/logstash-logger#custom-log-fields\" rel=\"nofollow noreferrer\">Custom Log Fields</a></h1>\n  \n  <p>LogStashLogger by default will log a JSON object with the format below.</p>\n</blockquote>\n\n<pre><code>{\n  \"message\":\"Some Message\",\n  \"@timestamp\":\"2015-01-29T10:43:32.196-05:00\",\n  \"@version\":\"1\",\n  \"severity\":\"INFO\",\n  \"host\":\"hostname\"\n}\n</code></pre>\n\n<p>then I read </p>\n\n<blockquote>\n  <h1><a href=\"https://github.com/dwbutler/logstash-logger#rails-integration\" rel=\"nofollow noreferrer\">Rails Integration</a></h1>\n  \n  <p>Supports Rails 4 and 5.</p>\n  \n  <p>By default, every Rails log message will be written to logstash in LogStash::Event JSON format.</p>\n  \n  <p>For minimal, more-structured logstash events, try one of the following gems:</p>\n</blockquote>\n\n<p><a href=\"https://github.com/roidrage/lograge\" rel=\"nofollow noreferrer\">lograge</a></p>\n\n<p><a href=\"https://github.com/rurounijones/yarder\" rel=\"nofollow noreferrer\">yarder</a></p>\n\n<blockquote>\n  <p>Currently these gems output a JSON string, which LogStashLogger then parses. Future versions of these gems could potentially have deeper integration with LogStashLogger (e.g. by directly writing LogStash::Event objects).</p>\n</blockquote>\n\n<p>Did you dig deep in this documentation because they do on purpose give you a <code>json</code> format</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 2749471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001768850244/picture?type=large", "display_name": "Neodelf", "link": "https://stackoverflow.com/users/2749471/neodelf"}, "is_accepted": false, "score": 0, "last_activity_date": 1578996026, "creation_date": 1578996026, "answer_id": 59731373, "question_id": 47181387, "link": "https://stackoverflow.com/questions/47181387/logstash-logger-rails-stacktrace-splitting-into-multiple-json-lines/59731373#59731373", "title": "Logstash-logger: Rails stacktrace splitting into multiple json lines", "body": "<p>For getting rails logs in <code>json</code> format with multiple rows you should use <code>type: :json_lines</code>. </p>\n"}], "owner": {"reputation": 21, "user_id": 8907149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7FW.jpg?s=128&g=1", "display_name": "Aswin KM", "link": "https://stackoverflow.com/users/8907149/aswin-km"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1582124553, "creation_date": 1510148887, "last_edit_date": 1582124553, "question_id": 47181387, "link": "https://stackoverflow.com/questions/47181387/logstash-logger-rails-stacktrace-splitting-into-multiple-json-lines", "title": "Logstash-logger: Rails stacktrace splitting into multiple json lines", "body": "<p>I'm using logstash-logger to log my rails logs. It works for most cases, but when something goes wrong (ie; I get an error) Rails produces a stack trace. But the logger logs it into multiple Json lines. How can I solve this?</p>\n\n<p>I'm attaching a small part of the log here</p>\n\n<blockquote>\n  <p>{\"message\":\"Started GET \\\"/\\\" ... }</p>\n  \n  <p>{\"message\":\"  \",  ... }</p>\n  \n  <p>{\"message\":\"ActionController::RoutingError (No route matches [GET] \\\"/\\\"):\" ... }</p>\n  \n  <p>{\"message\":\"vendor/bundle/ruby/2 ... }</p>\n</blockquote>\n\n<p>This is single stack trace, but the logger is logging it as multiple logs.</p>\n\n<p>This is my logstash-logger configuration</p>\n\n<pre><code>logstash_logger = LogStashLogger.new(\n  type: :file,\n  path: \"log/#{Rails.env}.log\",\n  sync: true\n)\nif \"#{Rails.env}\" != \"development\"\n  config.logger = logstash_logger\nend\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510149148, "post_id": 47181309, "comment_id": 81311756, "body": "Convert <code>date_time</code> before using strftime."}, {"owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "reply_to_user": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510149263, "post_id": 47181309, "comment_id": 81311834, "body": "Im brand new to ruby, startet 1-2 days ago. How do i convert it :S ?"}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510149488, "post_id": 47181309, "comment_id": 81312004, "body": "You can use Date.strptime and pass the string to convert and a format string."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510149527, "post_id": 47181309, "comment_id": 81312035, "body": "@DanielOppenl&#230;nder The question was marked as a duplicate. If you click the link above, you will see that this answers your question fully."}, {"owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "reply_to_user": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510149839, "post_id": 47181309, "comment_id": 81312251, "body": "@Tom Lord The question is not answered fully. Iknow how to code it so it change 1 date,but that is not what im looking for, im looking for chaning dates from aproperties string."}, {"owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "reply_to_user": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510149877, "post_id": 47181309, "comment_id": 81312277, "body": "@Sebasti&#225;n Palma So i want to convert the time behind the  varible properties[&quot;CreationDate&quot;]"}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510150073, "post_id": 47181309, "comment_id": 81312424, "body": "You need to access its value before converting it, I think otherwise is impossible."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510150411, "post_id": 47181309, "comment_id": 81312663, "body": "@DanielOppenl&#230;nder I don&#39;t see what you&#39;re having trouble with here... What&#39;s the problem with using <code>DateTime.strptime(properties[&quot;CreationDate&quot;], ...)</code>?"}, {"owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "edited": false, "score": 0, "creation_date": 1510151108, "post_id": 47181309, "comment_id": 81313151, "body": "So i have tried that with this code <code>require &#39;date&#39; items = $current_selected_items items.each do |email| properties = email.getProperties puts DateTime.strptime(properties[&quot;CreationDate&quot;], &#39;%m&#47;%d&#47;%Y %H:%M:%S&#39;)              .strftime(&#39;%Y M%m %d, %a %H:%M:%S %Z&#39;)              end</code>"}, {"owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "edited": false, "score": 0, "creation_date": 1510151243, "post_id": 47181309, "comment_id": 81313256, "body": "Error: Script failed due to an error: org.jruby.embed.EvalFailedException: (ArgumentError) invalid date"}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510151714, "post_id": 47181309, "comment_id": 81313606, "body": "See the answer, and note the difference in the format being passed."}], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": true, "score": 1, "last_activity_date": 1510151681, "last_edit_date": 1510151681, "creation_date": 1510149070, "answer_id": 47181454, "question_id": 47181309, "link": "https://stackoverflow.com/questions/47181309/method-strftime-for-2-25-2014-1020string-convert-to-joba-time/47181454#47181454", "title": "method `strftime&#39; for &quot;2/25/2014 10:20&quot;:String. Convert to Joba time", "body": "<p>The variable in which you're using strftime is an String, that means you must convert it in order to use strftime on it.</p>\n\n<p>You could use strptime passing the correct format, something similar to what you're using in \"<code>date_time.strftime(\"%m/%d/%Y %H:%M:%S\")</code>\", try with:</p>\n\n<pre><code>require 'date'\nstring = DateTime.strptime(properties['CreationDate'], '%d/%M/%Y %H:%M')\nputs string.strftime(\"%Y M%m %d, %a %H:%M:%S %Z\")\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8694278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/714a26d66a35b636cf3f62ee07694be7?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8694278/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "closed_date": 1510148872, "accepted_answer_id": 47181454, "answer_count": 1, "score": 1, "last_activity_date": 1510151681, "creation_date": 1510148693, "last_edit_date": 1510149205, "question_id": 47181309, "link": "https://stackoverflow.com/questions/47181309/method-strftime-for-2-25-2014-1020string-convert-to-joba-time", "closed_reason": "Duplicate", "title": "method `strftime&#39; for &quot;2/25/2014 10:20&quot;:String. Convert to Joba time", "body": "<p>So im trying to make a script that convert the item behind the <code>\"properties{\"CreationDate\"]</code>to Joda-Time. But i keep getting errors.</p>\n\n<p>Creationdate is a properties field in my program with a date 2/25/2014 10:20. but i want it in Joba-time. Like this: 2014 M2 25, Wed 10:20:09 GMT+02:00</p>\n\n<p>so i cant make a script where i type in the date, as the date is behind the creationdate. And there will be alot of dates behind that one. </p>\n\n<p>I cant use the date in my code, as there will be alot of difference date behind \"creationdate\"</p>\n\n<pre><code>require 'date'\nitems = $current_selected_items\nitems.each do |email|\nproperties = email.getProperties\ndate_time = properties[\"CreationDate\"]\ndate_time.strftime(\"%m/%d/%Y %H:%M:%S\")\ndate_time.strftime(\"%Y M%m %d, %a %H:%M:%S %Z\")\n             end\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>NoMethodError: undefined method `strftime' for \"2/25/2014 10:20\":String\nDid you mean?  strip\n  block in (root) at &lt;script&gt;:6\n           &lt;main&gt; at &lt;script&gt;:3\nScript failed due to an error:\norg.jruby.embed.EvalFailedException: (NoMethodError) undefined method `strftime' for \"2/25/2014 10:20\":String\nDid you mean?  strip\n    at org.jruby.embed.internal.EmbedEvalUnitImpl.run(EmbedEvalUnitImpl.java:131)\n    at org.jruby.embed.jsr223.JRubyEngine.eval(JRubyEngine.java:90)\n    at org.jruby.embed.jsr223.JRubyEngine.eval(JRubyEngine.java:142)\n    at sun.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.nuix.script.e.a(SourceFile:59)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.nuix.script.e.a(SourceFile:56)\n    at com.sun.proxy.$Proxy46.eval(Unknown Source)\n    at com.nuix.script.j.a(SourceFile:53)\n    at com.nuix.investigator.script.m.e(SourceFile:326)\n    at com.nuix.investigator.script.m.c(SourceFile:277)\n    at com.nuix.investigator.script.m.doInBackground(SourceFile:180)\n    at javax.swing.SwingWorker$1.call(SwingWorker.java:295)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at javax.swing.SwingWorker.run(SwingWorker.java:334)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jruby.exceptions.RaiseException: (NoMethodError) undefined method `strftime' for \"2/25/2014 10:20\":String\nDid you mean?  strip\n    at RUBY.block in (root)(&lt;script&gt;:6)\n    at RUBY.&lt;main&gt;(&lt;script&gt;:3)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "firebase", "pagination"], "comments": [{"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 1, "creation_date": 1510148596, "post_id": 47181200, "comment_id": 81311353, "body": "Can you provide some code samples? Like controller method where you get your data loaded and pass it to the view"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "reply_to_user": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510148981, "post_id": 47181200, "comment_id": 81311620, "body": "@AntonTkachov added controller"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 2, "creation_date": 1510149991, "post_id": 47181200, "comment_id": 81312360, "body": "I see that you have very poor experience with Rails. Such codebase is unmaintainable.... You need to provide a page parameter to load_articles and then use it in your request to firebase (not sure about exact syntax). I am not ready to go into your code to research or provide a real sample. It&#39;s too big and creepy."}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 1, "creation_date": 1510150018, "post_id": 47181200, "comment_id": 81312381, "body": "Why do you use firebase in rails application? Why haven&#39;t you gone with sqlite/mysql/postgresql?"}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510223039, "post_id": 47181200, "comment_id": 81347165, "body": "hi, how can I help you to solve this issue? I read your post but I need to dig deeper to help you"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "reply_to_user": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510237529, "post_id": 47181200, "comment_id": 81357123, "body": "@AntonTkachov I use FireBase because all the data is being stored on Firebase, we get it from mobile applications."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "reply_to_user": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510237698, "post_id": 47181200, "comment_id": 81357241, "body": "@FabrizioBertoglio so, yes. I would like to paginate all the data by retrieving data from firebase url. Maybe by using filters and so on."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "edited": false, "score": 0, "creation_date": 1510254839, "post_id": 47204607, "comment_id": 81368730, "body": "So, I need to load firstly all data from my firebase and after show that? And it should be done whenever page gets loaded? Because it should work as realtime"}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510255572, "post_id": 47204607, "comment_id": 81369123, "body": "@AliTlekbay how slow is it? include your server log"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "edited": false, "score": 0, "creation_date": 1510256490, "post_id": 47204607, "comment_id": 81369658, "body": "well its not that slow, but I expect that in the future its going to be way more slower"}], "tags": [], "owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "is_accepted": false, "score": 0, "last_activity_date": 1510238409, "creation_date": 1510238409, "answer_id": 47204607, "question_id": 47181200, "link": "https://stackoverflow.com/questions/47181200/how-do-i-paginate-data-from-firebase-using-rails/47204607#47204607", "title": "How do I paginate data from Firebase using Rails?", "body": "<p>if I had to do this I would, first easily <code>get</code> the pages from firebase with <a href=\"https://github.com/oscardelben/firebase-ruby\" rel=\"nofollow noreferrer\"><code>firebase-ruby</code></a> gem</p>\n\n<pre><code>base_uri = 'https://&lt;your-firebase&gt;.firebaseio.com/'\n\nfirebase = Firebase::Client.new(base_uri)\n\nresponse = firebase.push(\"todos\", { :name =&gt; 'Pick the milk', :'.priority' =&gt; 1 })\nresponse.success? # =&gt; true\nresponse.code # =&gt; 200\nresponse.body # =&gt; { 'name' =&gt; \"-INOQPH-aV_psbk3ZXEX\" }\nresponse.raw_body # =&gt; '{\"name\":\"-INOQPH-aV_psbk3ZXEX\"}'\n</code></pre>\n\n<p>then to show them on pages, I would install <a href=\"https://github.com/mislav/will_paginate\" rel=\"nofollow noreferrer\"><code>will_paginate</code></a></p>\n\n<blockquote>\n  <h1><a href=\"https://github.com/mislav/will_paginate#basic-will_paginate-use\" rel=\"nofollow noreferrer\">Basic will_paginate use</a></h1>\n  \n  <p>perform a paginated query:</p>\n</blockquote>\n\n<pre><code>@posts = Post.paginate(:page =&gt; params[:page])\n</code></pre>\n\n<blockquote>\n  <p>or, use an explicit \"per page\" limit:</p>\n</blockquote>\n\n<pre><code>Post.paginate(:page =&gt; params[:page], :per_page =&gt; 30)\n</code></pre>\n\n<blockquote>\n  <p>render page links in the view:</p>\n</blockquote>\n\n<pre><code>&lt;%= will_paginate @posts %&gt;\n</code></pre>\n\n<blockquote>\n  <p>And that's it! You're done. You just need to add some CSS styles to make those pagination links prettier.\n  You can customize the default \"per_page\" value:</p>\n  \n  <p>for the Post model</p>\n</blockquote>\n\n<pre><code>class Post\n  self.per_page = 10\nend\n</code></pre>\n\n<blockquote>\n  <p>set per_page globally</p>\n</blockquote>\n\n<pre><code>WillPaginate.per_page = 10\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8239048"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510238409, "creation_date": 1510148333, "last_edit_date": 1510179661, "question_id": 47181200, "link": "https://stackoverflow.com/questions/47181200/how-do-i-paginate-data-from-firebase-using-rails", "title": "How do I paginate data from Firebase using Rails?", "body": "<p>As an application gets bigger, data in <code>Firebase</code> gets bigger too. I have an application in <code>Ruby on Rails</code> that stores all the data in <code>Firebase</code>. In order to show all the data I just load from url data as <code>JSON</code> and show it on views. Now it loads the data very slowly because it downloads whole <code>JSON</code>.</p>\n\n<p>Is there a way to make firebase paginate all that data and optimize the load?</p>\n\n<p>This is how I load the data:</p>\n\n<pre><code>    url = URI(\"******************\")\n\n    http = Net::HTTP.new(url.host, url.port)\n    http.use_ssl = true\n    http.verify_mode = OpenSSL::SSL::VERIFY_NONE\n\n    request = Net::HTTP::Get.new(url)\n    request[\"cache-control\"] = 'no-cache'\n    request[\"postman-token\"] = 'efe418a4-1dcc-335b-28c9-ba72cc2f5aa0'\n\n    response = http.request(request)\n    all_letters = JSON.parse(response.read_body)\n    im = 1\n    all_letters.each do |item|\n        ...\n    end\n</code></pre>\n"}, {"tags": ["ruby", "syntax"], "comments": [{"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 2, "creation_date": 1510148405, "post_id": 47181018, "comment_id": 81311221, "body": "<a href=\"https://ruby-doc.org/core-2.4.2/doc/syntax/literals_rdoc.html#label-Procs\" rel=\"nofollow noreferrer\">ruby-doc.org/core-2.4.2/doc/syntax/&hellip;</a>"}, {"owner": {"reputation": 172, "user_id": 6831572, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d0bdcbb13d6f5b35393b736e4d030f44?s=128&d=identicon&r=PG&f=1", "display_name": "Zonet", "link": "https://stackoverflow.com/users/6831572/zonet"}, "reply_to_user": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1510148828, "post_id": 47181018, "comment_id": 81311534, "body": "Thanks for the reference point."}], "answers": [{"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": true, "score": 2, "last_activity_date": 1510148187, "creation_date": 1510148187, "answer_id": 47181154, "question_id": 47181018, "link": "https://stackoverflow.com/questions/47181018/assistance-in-understanding-syntax/47181154#47181154", "title": "Assistance in understanding syntax", "body": "<p>It is a lambda that takes two block arguments and returns <code>nil</code> when executed.</p>\n\n<p>When <code>_</code> is used in an argument position of a method definition, lambda, or block, it indicates an argument that is not to be used in its scope. Unlike other argument names, <code>_</code> can appear multiple times in a scope.</p>\n"}], "owner": {"reputation": 172, "user_id": 6831572, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d0bdcbb13d6f5b35393b736e4d030f44?s=128&d=identicon&r=PG&f=1", "display_name": "Zonet", "link": "https://stackoverflow.com/users/6831572/zonet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 47181154, "answer_count": 1, "score": 0, "last_activity_date": 1510148214, "creation_date": 1510147793, "last_edit_date": 1510148214, "question_id": 47181018, "link": "https://stackoverflow.com/questions/47181018/assistance-in-understanding-syntax", "title": "Assistance in understanding syntax", "body": "<p>I am having trouble understanding the following: </p>\n\n<pre><code>@on_fallback = on_fallback || (-&gt;(_,  _){})\n</code></pre>\n\n<p>Could anybody please assist me in understanding the code that executes after the disjunciton operator?</p>\n"}, {"tags": ["ruby", "command-line", "terminal", "irb"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 3, "creation_date": 1510147775, "post_id": 47180889, "comment_id": 81310792, "body": "With <i>Ctrl</i> + <i>C</i> obviously."}, {"owner": {"reputation": 878, "user_id": 3256048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmJzF.png?s=128&g=1", "display_name": "slashpai", "link": "https://stackoverflow.com/users/3256048/slashpai"}, "edited": false, "score": 0, "creation_date": 1510149133, "post_id": 47180889, "comment_id": 81311746, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8358135/is-there-a-way-to-get-out-of-a-hung-state-in-irb\" title=\"is there a way to get out of a hung state in irb\">stackoverflow.com/questions/8358135/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "is_accepted": true, "score": 3, "last_activity_date": 1510158228, "creation_date": 1510158228, "answer_id": 47184743, "question_id": 47180889, "link": "https://stackoverflow.com/questions/47180889/command-line-irb-wont-return-values-ruby/47184743#47184743", "title": "Command line / IRB won&#39;t return values - Ruby", "body": "<p>This occurs when you have entered an incomplete expression that requires closing characters of some kind to complete it. Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PXjWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXjWR.png\" alt=\"Incomplete expression in IRB\"></a></p>\n\n<p>The <code>?</code> in the prompt indicates that the REPL is waiting on closing characters to evaluate the expression.</p>\n\n<p>You can exit this state by completing the expression or by aborting its evaluation with <em>Ctrl+c</em>.</p>\n"}], "owner": {"reputation": 1661, "user_id": 6951159, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca045af854ddb1025be551f2b044cf94?s=128&d=identicon&r=PG&f=1", "display_name": "The Chewy", "link": "https://stackoverflow.com/users/6951159/the-chewy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 47184743, "answer_count": 1, "score": 0, "last_activity_date": 1510158228, "creation_date": 1510147432, "last_edit_date": 1592644375, "question_id": 47180889, "link": "https://stackoverflow.com/questions/47180889/command-line-irb-wont-return-values-ruby", "title": "Command line / IRB won&#39;t return values - Ruby", "body": "<p>When I use irb in the command line for ruby, sometimes it won't return any values.  This seems to be happening after I've made a typo or entered incorrect code.</p>\n<p>How do I exit this mode and go back to using irb normally?  It won't let me quit with the 'quit' command, and I have to shut down the command line / Terminal and go back into it.</p>\n<p>When this happens in vim you can press esc ! q n enter in sequence and it brings you back into the editor.</p>\n<p>I've attached a screen shot showing what happens  - as you can see it won't return any value for i in this instance.</p>\n<p>Thanks\n<a href=\"https://i.stack.imgur.com/L8nOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L8nOx.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["ruby", "git", "heroku", "ruby-on-rails-5", "asset-pipeline"], "comments": [{"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1510150989, "post_id": 47179932, "comment_id": 81313070, "body": "Just to confirm: Did you pushed to <code>master</code> branch? As, heroku will use <code>master</code> branch by default."}, {"owner": {"reputation": 634, "user_id": 4788165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/62bb9b2e30fa2f0d1b17a2353e97ecb9?s=128&d=identicon&r=PG&f=1", "display_name": "JOSEMAFUEN", "link": "https://stackoverflow.com/users/4788165/josemafuen"}, "reply_to_user": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1510151255, "post_id": 47179932, "comment_id": 81313269, "body": "Yes, this is driving me crazy"}, {"owner": {"reputation": 7329, "user_id": 1232447, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001bb9923606697c5edf6b88955c73e8?s=128&d=identicon&r=PG&f=1", "display_name": "maximus \u30c4", "link": "https://stackoverflow.com/users/1232447/maximus-%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1510319224, "post_id": 47179932, "comment_id": 81396657, "body": "As per Heroku guide line, you are not suppose to push pre-compiled assets. Check this debugging steps <a href=\"https://devcenter.heroku.com/articles/rails-4-asset-pipeline#debugging\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/rails-4-asset-pipeline#debuggi&zwnj;&#8203;ng</a>"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510383905, "post_id": 47179932, "comment_id": 81420982, "body": "Do the images change? Or are they supposed to not change on a regular base - like js or css files change quite often while developing new features? Because you store references to that images into the DB, I guess they do not. And if they do not change why use the asset pipeline for that kind of images. Just put them into the public folder."}, {"owner": {"reputation": 634, "user_id": 4788165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/62bb9b2e30fa2f0d1b17a2353e97ecb9?s=128&d=identicon&r=PG&f=1", "display_name": "JOSEMAFUEN", "link": "https://stackoverflow.com/users/4788165/josemafuen"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510566331, "post_id": 47179932, "comment_id": 81473334, "body": "Thank you @spickermann, that solved my problem. I am new with rails and I thought every image had to be uploaded via assets pipeline. Write an answer and I will mark it as correct."}], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 2, "last_activity_date": 1550759560, "last_edit_date": 1550759560, "creation_date": 1510597708, "answer_id": 47271127, "question_id": 47179932, "link": "https://stackoverflow.com/questions/47179932/assets-pipeline-rails-heroku/47271127#47271127", "title": "Assets pipeline rails Heroku", "body": "<p>The asset pipeline has basically two use-cases: </p>\n\n<p>First, it precompiles and combines various stylesheets or javascript file into single bundles. Being able to precompile - for example - SCSS to CSS simplifies development. And one big combined files can be downloaded faster than many small files. </p>\n\n<p>Second, it adds hashes to the filenames. This allows caching these files for a long time which improves performance too. Even if there is only a small change in one of the files then the hash and therefore the filename will change. The changed filename will not be in the cache and therefore the browser reloads the file immediately.</p>\n\n<p>But in your case, your images are static anyway. There is no point precompiling images and adding hashes to files that are not supposed to change.</p>\n\n<p>Therefore I would just put that images directly into the public folder and would bypass the asset pipeline for this kind of static images.</p>\n"}], "owner": {"reputation": 634, "user_id": 4788165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/62bb9b2e30fa2f0d1b17a2353e97ecb9?s=128&d=identicon&r=PG&f=1", "display_name": "JOSEMAFUEN", "link": "https://stackoverflow.com/users/4788165/josemafuen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 2, "accepted_answer_id": 47271127, "answer_count": 1, "score": 1, "last_activity_date": 1550759560, "creation_date": 1510144652, "last_edit_date": 1510225538, "question_id": 47179932, "link": "https://stackoverflow.com/questions/47179932/assets-pipeline-rails-heroku", "title": "Assets pipeline rails Heroku", "body": "<p>Recently I upgraded my project to Rails 5 and I'm going crazy with the assets pipeline when trying to upload everything to Heroku.</p>\n\n<p>The issue is the following: I have a collection of Ejercicios and, when u click on one of them, the app should show its information, including an image. The routes to the images are stored in my db like this <code>img1: \"ejercicios/abdominales/1_4_I1.bmp\"</code>. That file, for example, would be on <code>app/assets/images/ejercicios/abdominales/1_4_I1.bmp</code>.</p>\n\n<p>The related view <code>show.html.haml</code> prints the images like this: <code>= image_tag(@ejercicio.img1) if @ejercicio.img1?</code>.  </p>\n\n<p>It worked perfectly on local but not in production in Heroku, so read about <a href=\"https://devcenter.heroku.com/articles/rails-4-asset-pipeline\" rel=\"nofollow noreferrer\">the assets pipeline</a> in order to make it work. So I changed my <code>show.html.haml</code> like this: <code>= image_tag asset_path(@ejercicio.img1) if @ejercicio.img1?</code> and I added the lines the tutorial mentions in Gemfile and application.rb. The executed <code>bundle install</code> and <code>bundle exec rake assets:precompile RAILS_ENV=production</code>, added the new 'public' folder to my git, committed and pushed my git, and finally pushed everything to heroku. </p>\n\n<p>But it doesn't work, the 'alt' of the image is shown. Using the inspector I can see that the images in the html follow the normal url to the image and not the one with the fingerprint, so the helper <code>asset_path</code> seems not to be working properly.</p>\n\n<p>Here's my <code>production.rb</code> in <code>config/environments</code></p>\n\n<pre><code>KeepMeFit::Application.configure do\n\n  config.eager_load = true\n  config.cache_classes = true\n\n  config.consider_all_requests_local       = false\n  config.action_controller.perform_caching = true\n\n  config.serve_static_assets = true\n\n  config.assets.compress = true\n\n  config.assets.compile = true\n\n  config.assets.digest = falsenginx\n\n  config.force_ssl = true\n\n  config.i18n.fallbacks = true\n\n  config.active_support.deprecation = :notify\n\n\n  config.action_mailer.default_url_options = { :host =&gt; \"http://keepmefit.herokuapp.com/\"}\nend\n</code></pre>\n\n<p>My 'application.rb' in 'config':</p>\n\n<pre><code>require File.expand_path('../boot', __FILE__)\n\nrequire 'rails/all'\n\nrequire 'will_paginate/array'\n\nif defined?(Bundler)\n  Bundler.require(*Rails.groups(:assets =&gt; %w(development test)))\nend\n\nmodule KeepMeFit\n  class Application &lt; Rails::Application\n    config.i18n.load_path += Dir[Rails.root.join('my', 'locales', '*.{rb,yml}').to_s]\n    config.i18n.default_locale = :es\n\n    config.encoding = \"utf-8\"\n\n    config.filter_parameters += [:password, :password_confirmation]\n\n    config.active_support.escape_html_entities_in_json = true\n\n    config.assets.enabled = true\n    config.serve_static_assets = true\n\n    config.assets.initialize_on_precompile = false\n\n    config.assets.version = '1.0'\n\n  end\nend\n</code></pre>\n\n<p>And my Gemfile:</p>\n\n<pre><code>source 'https://rubygems.org'\n\nruby '2.3.3'\n\ngem 'rails', '5.1.4'\n\ngroup :development, :test do\n    gem 'sqlite3'\n  gem 'activemodel'\n  gem 'json'\n\n    gem 'rspec-rails'\n    gem 'guard-rspec'\n    gem 'rb-notifu'\n    # gem 'railroady'\nend\n\ngem 'rails_12factor', group: :production\ngroup :production do\n    gem 'pg'\nend\n\ngroup :test do\n    gem 'capybara'\n    gem 'factory_girl_rails', '4.1.0'\n    gem 'launchy'\nend\n\ngroup :development do\n    gem 'annotate'\n    gem 'better_errors'\n    gem 'binding_of_caller'\n    gem 'meta_request'\nend\n\n\ngroup :assets do\n  gem 'sass-rails'\n  gem 'coffee-rails'\n    gem 'coffee-script-source', '1.8.0'\n\n  gem 'uglifier', '&gt;= 1.0.3'\nend\n\ngem 'jquery-rails'\ngem 'bcrypt', '~&gt; 3.1.11', platforms: [:ruby, :x64_mingw, :mingw]\n\ngem 'haml'\ngem 'haml-rails'\n\ngem 'bootstrap-sass'\n\nrequire 'rbconfig'\ngem 'wdm', '&gt;= 0.1.0' if RbConfig::CONFIG['target_os'] =~ /mswin|mingw/i\n\ngem 'modernizr-rails'\n\n#gem \"font-awesome-rails\"\n\ngem 'bootstrap-datepicker-rails'\ngem 'tzinfo-data'\n\ngem 'faker', '1.1.2'\n\ngem 'will_paginate', '~&gt; 3.1.0'\ngem 'bootstrap-will_paginate'\n\ngem 'turbolinks'\ngem 'jquery-turbolinks'\n\ngem 'friendly_id'\n\ngem 'gon'\n\ngem 'cloudinary'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1510141964, "post_id": 47178959, "comment_id": 81306915, "body": "You probably didn&#39;t add <code>app&#47;validators</code> to <code>autoload_paths</code>."}, {"owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1510142003, "post_id": 47178959, "comment_id": 81306938, "body": "@MarekLipka I was under the impression everything under <code>app</code> is auto-loaded in Rails? We have several other folders under there that are auto-loaded just fine."}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1510142071, "post_id": 47178959, "comment_id": 81306965, "body": "Well, it isn&#39;t. You have to do it manually."}, {"owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "reply_to_user": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1510142126, "post_id": 47178959, "comment_id": 81307003, "body": "If that&#39;s the case how come I can do <code>&#47;app&#47;random&#47;something.rb</code> and it loads up automatically?"}, {"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510142345, "post_id": 47178959, "comment_id": 81307141, "body": "@Cameron You are right. It&#39;s really autoloaded. Watch my answer"}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1510142395, "post_id": 47178959, "comment_id": 81307159, "body": "Ok, I was wrong and autoload does work like you expected. So I think there&#39;s namespacing issue here - rails probably expect <code>validators.rb</code> file somewhere in autoload directories and it doesn&#39;t find it."}], "answers": [{"comments": [{"owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "edited": false, "score": 0, "creation_date": 1510142587, "post_id": 47179162, "comment_id": 81307275, "body": "While you use validate_each... maybe you will need to go with <code>extend HexColorValidator</code>"}], "tags": [], "owner": {"reputation": 1655, "user_id": 1587541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f9a8cdad3107b443ceeee42bb4456e1?s=128&d=identicon&r=PG", "display_name": "AntonTkachov", "link": "https://stackoverflow.com/users/1587541/antontkachov"}, "is_accepted": true, "score": 1, "last_activity_date": 1510142359, "creation_date": 1510142359, "answer_id": 47179162, "question_id": 47178959, "link": "https://stackoverflow.com/questions/47178959/uninitialized-constant-when-including-validator/47179162#47179162", "title": "uninitialized constant when including validator", "body": "<p>Your class is not getting loaded, because you don't follow rails convention. You shouldn't put it to the Validations module. And I would go with module HexColor... not the class.</p>\n\n<p>So here is the solution... File <code>/app/validators/hex_color_validator.rb</code>:</p>\n\n<pre><code>module HexColorValidator &lt; ActiveModel::EachValidator\n  def validate_each(record, attribute, value)\n    unless value =~ /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i\n      record.errors[attribute] &lt;&lt; (options[:message] || 'must be a valid CSS hex color code')\n    end\n  end\nend\n\nclass BrandTheme &lt; ApplicationRecord\n  include HexColorValidator\n\n  validates :brand_1, presence: true, hex_color: true\nend\n</code></pre>\n\n<p>Then it will be autoloaded. If you want to require several modules, then go with module as a subfolder of <code>app/validators</code> or just include several separate modules</p>\n"}], "owner": {"reputation": 24638, "user_id": 302533, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/6rsH5.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/302533/cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "accepted_answer_id": 47179162, "answer_count": 1, "score": 1, "last_activity_date": 1510142359, "creation_date": 1510141755, "question_id": 47178959, "link": "https://stackoverflow.com/questions/47178959/uninitialized-constant-when-including-validator", "title": "uninitialized constant when including validator", "body": "<p>I have the following file <code>/app/validators/hex_color.rb</code> in my Rails app:</p>\n\n<pre><code>module Validators\n  class HexColorValidator &lt; ActiveModel::EachValidator\n\n    def validate_each(record, attribute, value)\n      unless value =~ /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i\n        record.errors[attribute] &lt;&lt; (options[:message] || 'must be a valid CSS hex color code')\n      end\n    end\n\n  end\nend\n</code></pre>\n\n<p>And then in my model at : <code>/app/models/brand_theme.rb</code> I have:</p>\n\n<pre><code>class BrandTheme &lt; ApplicationRecord\n\n  include Validators\n\n  validates :brand_1, presence: true, hex_color: true\n\nend\n</code></pre>\n\n<p>But I get the error:</p>\n\n<pre><code>uninitialized constant BrandTheme::Validators\n</code></pre>\n\n<p>Why isn't the validator being included? I have tried resetting server as well but the same issue comes up.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510142698, "post_id": 47178919, "comment_id": 81307331, "body": "RSpec &quot;magic&quot;. But it&#39;s not very magic, really. The <code>let</code> block gets re-called for each spec, possibly in a different context. So it&#39;s not very surprising that it has access to data about the test being run."}, {"owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "reply_to_user": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510142876, "post_id": 47178919, "comment_id": 81307451, "body": "@TomLord ohh, I just realised that <code>let</code> is different from method declaration in that it gets evaluated lazily. So this must be why? <code>it</code> block doesn&#39;t really &#39;pass&#39; the argument, it&#39;s just that let is called in the context of <code>it</code>?"}, {"owner": {"reputation": 1285, "user_id": 3491275, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/571855393/picture?type=large", "display_name": "oowowaee", "link": "https://stackoverflow.com/users/3491275/oowowaee"}, "edited": false, "score": 0, "creation_date": 1510196968, "post_id": 47178919, "comment_id": 81335663, "body": "@redFur let is evaluated whenever it&#39;s called - this could also be in the context of another let block."}], "answers": [{"tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": true, "score": 2, "last_activity_date": 1510143325, "last_edit_date": 1510143325, "creation_date": 1510143171, "answer_id": 47179445, "question_id": 47178919, "link": "https://stackoverflow.com/questions/47178919/passing-an-example-from-it-block-to-let-block-in-rspec/47179445#47179445", "title": "Passing an example from &quot;it&quot; block to &quot;let&quot; block in RSpec", "body": "<p><a href=\"https://github.com/rspec/rspec-core/blob/f4dc5ef5c6bded2b1ec348e856352b60a3e072e9/lib/rspec/core/memoized_helpers.rb#L296\" rel=\"nofollow noreferrer\">See this line in the <code>rspec-core</code> source:</a></p>\n\n<pre><code># Simplified version of the code:\ndef let(name, &amp;block)\n  # ...\n  if block.arity == 1\n    define_method(name) { super(RSpec.current_example, &amp;nil) }\n  # ...\nend\n</code></pre>\n\n<p>Because <code>let</code> is re-evaluated for each test, it can be re-defined to include knowledge of the current test context.</p>\n\n<p>Also worth noting is that <a href=\"https://github.com/rspec/rspec-core/blob/94dc75e23a352c9420b7116eb87ad055e2ce34b9/lib/rspec/core.rb#L122-L124\" rel=\"nofollow noreferrer\"><code>RSpec.current_example</code></a> is <strong>thread-safe</strong>:</p>\n\n<pre><code>def self.current_example\n  RSpec::Support.thread_local_data[:current_example]\nend\n</code></pre>\n\n<p>This means even if you are running parallel tests, each <code>let</code> block will always be able to re-evaluate the current example correctly.</p>\n"}], "owner": {"reputation": 1392, "user_id": 2922609, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/JRouJ.png?s=128&g=1", "display_name": "ivanibash", "link": "https://stackoverflow.com/users/2922609/ivanibash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 47179445, "answer_count": 1, "score": 1, "last_activity_date": 1510143325, "creation_date": 1510141630, "question_id": 47178919, "link": "https://stackoverflow.com/questions/47178919/passing-an-example-from-it-block-to-let-block-in-rspec", "title": "Passing an example from &quot;it&quot; block to &quot;let&quot; block in RSpec", "body": "<p>I was watching a codeschool screencast on using RSpec and it had the following lines:</p>\n\n<pre><code>describe Game do\n  describe '#call' do\n    let(:description) do |example|\n      example.description\n    end\n\n    context 'when the choices are different' do\n\n      subject(:game) { described_class.new }\n      it 'rock beats scissors' do |example|\n        expect(subject.call('rock', 'scissors')).to eq(description)\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>I don't quite see how <code>example</code> argument gets into the 'let' block? Is that a Ruby thing or RSpec magic? Thanks.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510141309, "post_id": 47178658, "comment_id": 81306518, "body": "May lion also be in the house of eeelionking?"}, {"owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "reply_to_user": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1510141526, "post_id": 47178658, "comment_id": 81306646, "body": "Unfortunately not, lion only has to be between the founded array of horse, buffallo and giraffe. row before eelionking is emouse (and it doesn&#39;t contain horse word). But it does possible lion in the house of fgeelionking5454"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 1, "creation_date": 1510143580, "post_id": 47178658, "comment_id": 81307902, "body": "what is the criteria for picking the various animals out of the array? say dgiraffeoiu9-0 vs fkcgiraffeoiu9087 for exmaple.  It is not at all clear."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1510143742, "post_id": 47178658, "comment_id": 81308014, "body": "What is the specific order in which you want to present the result? It is not clear at all."}, {"owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "reply_to_user": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1510144619, "post_id": 47178658, "comment_id": 81308636, "body": "@npn The animal has to be animals in variable big_animal order. It first order is  <code>#horse in the chorseride7679 #lion in the ceelionking5454 #buffallo in the crabuffallokjkj4 #giraffe in the dgiraffeoiu9-0</code>  @sawa sorry about that. I&#39;ll edit the question"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1510149104, "post_id": 47178658, "comment_id": 81311722, "body": "it is still not at all clear what defines the order other than listing the 4 items, that&#39;s why I guessed you wanted the ones ending in digits,  please clarify your question"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "edited": false, "score": 0, "creation_date": 1510145036, "post_id": 47179885, "comment_id": 81308920, "body": "It does work. Thank you so much!  I&#39;m very noob to regex. I&#39;ll try to understand your code then. Anyway, thank you very much."}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 0, "last_activity_date": 1510145003, "last_edit_date": 1510145003, "creation_date": 1510144498, "answer_id": 47179885, "question_id": 47178658, "link": "https://stackoverflow.com/questions/47178658/find-specific-word-in-array-in-order/47179885#47179885", "title": "Find specific word in array in order", "body": "<p>Just guessing that you are looking for the first animal with the matching name , ending in a digit.</p>\n\n<pre><code>ary = ['ahorseride', 'amparkeetjump', 'acatlive', 'adogwish', 'bmparkeetjump',\n 'bcatlive', 'bdogwish', 'bhorseride', 'brabuffallo', 'chorseride7679',\n 'ceelionking5454', 'crabuffallokjkj4', 'dgiraffeoiu9-0', 'chorseride767',\n 'ccatlive', 'dcatlive', 'ddogwish', 'emparkeetjump', 'emouse', 'eeelionking',\n 'erabuffallo', 'ffhorseride7679', 'fgeelionking5454', 'fhcrabuffallokjkj4', 'fkcgiraffeoiu9087' ]\n\nbig_animal = ['horse', 'lion', 'buffallo', 'giraffe']\n\nbig_animal.each do |ba|\n    rs = \"#{ba}.*\\\\d$\"\n    rexp = Regexp.new rs \n    entry = ary.find { |i| i.match(rs) }\n    puts \"#{ba} in the house of #{entry}\"\nend\n\n#horse in the house of chorseride7679\n#lion in the house of ceelionking5454\n#buffallo in the house of crabuffallokjkj4\n#giraffe in the house of dgiraffeoiu9-0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "edited": false, "score": 0, "creation_date": 1510146444, "post_id": 47180371, "comment_id": 81309822, "body": "Thank you so much! Yes i&#39;m looking only if they are in the same order. I also had an idea to store the loop with Hash.new actually, and you came with this Array.new solution. That&#39;s great! Thank you very much."}], "tags": [], "owner": {"reputation": 328, "user_id": 8879459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70063d2fb858142f933bd97d75678011?s=128&d=identicon&r=PG", "display_name": "Tornadowarnung", "link": "https://stackoverflow.com/users/8879459/tornadowarnung"}, "is_accepted": true, "score": 0, "last_activity_date": 1510145895, "creation_date": 1510145895, "answer_id": 47180371, "question_id": 47178658, "link": "https://stackoverflow.com/questions/47178658/find-specific-word-in-array-in-order/47180371#47180371", "title": "Find specific word in array in order", "body": "<p>First of all, I have to admit that this is the very first time I'm using Ruby which is why my code might be a bit messy.</p>\n\n<p>On a second note, I've seen the answer from nPn getting the output you want to have with a regex. However, this is not completely solving your problem because his solution will only retrieve values containing the big_animal and <strong>ending with a digit</strong>. This solution does not care about the right order of the houses.</p>\n\n<p>As far as I've understood your problem, you want all the <em>houses</em> that contain the <em>big_animal</em> but only if they are in the same order. This is why I've come up with this piece of code:</p>\n\n<pre><code>ary = ['ahorseride', 'amparkeetjump', 'acatlive', 'adogwish', 'bmparkeetjump', 'bcatlive', 'bdogwish', 'bhorseride', 'brabuffallo', 'chorseride7679', 'ceelionking5454', 'crabuffallokjkj4', 'dgiraffeoiu9-0', 'chorseride767', 'ccatlive', 'dcatlive', 'ddogwish', 'emparkeetjump', 'emouse', 'eeelionking', 'erabuffallo', 'ffhorseride7679', 'fgeelionking5454', 'fhcrabuffallokjkj4', 'fkcgiraffeoiu9087', ]\n\nbig_animal = ['horse', 'lion', 'buffallo', 'giraffe']\n\ncount = 0\nhouses = Array.new(big_animal.length)\n\nwhile count &lt; ary.length do\n    animals = 0\n    if ary[count].include?(big_animal[animals])\n        while animals &lt; big_animal.length do\n            if ary[count+animals].include?(big_animal[animals])\n                houses[animals] = ary[count+animals]\n                if animals == big_animal.length-1\n                    puts houses\n                end\n            else\n                houses = Array.new(big_animal.length)\n            end\n            animals = animals + 1\n        end\n    end\n    count = count + 1\nend\n</code></pre>\n\n<p>The above code gives me the following output:</p>\n\n<pre><code>chorseride7679\nceelionking5454\ncrabuffallokjkj4\ndgiraffeoiu9-0\nffhorseride7679\nfgeelionking5454\nfhcrabuffallokjkj4\nfkcgiraffeoiu9087\n</code></pre>\n\n<p>You can also <a href=\"https://tio.run/##jVJhb8IgEP3eX8G3zjiNS3TORLPsdxizQHu0WAqGlhl/fQe0WJRt7r5w3L337l2p0uTSdVhd0A7tU1xK1YBiOaTPKMX1CasKoD3q@uQKGW45@@qbuSzOrCltTu6BJACSEHijTxQmmlLMubTX7Npcv643rgLAmRQVE8VquVq60sipjtXR1fKCKUwpSKY3s0Uk5QqBoTzMA3NwvwXUUjcOBqMRd701TmnknBaxdVr@ZJ5WWWB/8WbtHpKEsOITC1Zj7h7GDbBwK@q@XTB/4KeGlkktWsNYJKX13pj0Qyl8mQs4P42acw6iaMtJkpxLxgH1tC0y/8HQQrlMkIke3zhJe2fUgvaOcJgzkXGdw3sgvR8Yh4nD2@hneKUtinz4YT7CIVOv989hPvr9rwCzQCwZkexgv/Au9jl7iRg2TrpthnlRH0R@UwPewC9eH73VX7LjM/lsikazHu1P/5f0p0WaTtd9Aw\" rel=\"nofollow noreferrer\">try it online here</a> and change the input array on that website to test different scenarios. I'd be happy to know if this is what you were searching for.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "edited": false, "score": 0, "creation_date": 1510154695, "post_id": 47181281, "comment_id": 81315932, "body": "thank you so much @marmeladze. It just still does printing animal not in the right order of array. The array supposed to print in the arrays contain the words of  big_animal in order the same as row as animals in big_animals"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "reply_to_user": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "edited": false, "score": 0, "creation_date": 1510157170, "post_id": 47181281, "comment_id": 81317765, "body": "replace outer iteration with inner -)) let me update my answer"}], "tags": [], "owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "is_accepted": false, "score": 0, "last_activity_date": 1510157277, "last_edit_date": 1510157277, "creation_date": 1510148610, "answer_id": 47181281, "question_id": 47178658, "link": "https://stackoverflow.com/questions/47178658/find-specific-word-in-array-in-order/47181281#47181281", "title": "Find specific word in array in order", "body": "<p><a href=\"https://repl.it/NxGr\" rel=\"nofollow noreferrer\">https://repl.it/NxGr</a></p>\n\n<p>By brazenly overriding String method. Better do not use this approach -))</p>\n\n<pre><code>class String\n  def in_house? other\n    (other.is_a? String) &amp;&amp; (other.include? self)\n  end\n\n  def in_house_message_for other\n    puts \"#{self} in house of #{other}\" if self.in_house? other\n    return\n  end\nend\n</code></pre>\n\n<p>then</p>\n\n<pre><code>ary.each do |house|\n  big_animal.each do |animal|\n    animal.in_house_message_for(house)\n  end\nend\n</code></pre>\n\n<p>or that way to print in same order with <code>big_animal</code> array</p>\n\n<pre><code>big_animal.each do |animal|\n  ary.each do |house|\n    animal.in_house_message_for(house)\n  end\nend\n</code></pre>\n\n<p>the second one will print</p>\n\n<pre><code>horse in house of ahorseride\nhorse in house of bhorseride\nhorse in house of chorseride7679\nhorse in house of chorseride767\nhorse in house of ffhorseride7679\nlion in house of ceelionking5454\nlion in house of eeelionking\nlion in house of fgeelionking5454\nbuffallo in house of brabuffallo\nbuffallo in house of crabuffallokjkj4\nbuffallo in house of erabuffallo\nbuffallo in house of fhcrabuffallokjkj4\ngiraffe in house of dgiraffeoiu9-0\ngiraffe in house of fkcgiraffeoiu9087\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1510201425, "creation_date": 1510201425, "answer_id": 47193869, "question_id": 47178658, "link": "https://stackoverflow.com/questions/47178658/find-specific-word-in-array-in-order/47193869#47193869", "title": "Find specific word in array in order", "body": "<p>It appears that you wish to find four consecutive elements of <code>ary</code> that respectively include the strings given as elements of <code>big_animal</code>. If that is true all such consecutive elements from <code>ary</code> could be obtained as follows.</p>\n\n<pre><code>ary.each_cons(big_animal.size).select do |words|\n  big_animal.each_index.all? { |i| words[i].include?(big_animal[i]) }\nend\n  #=&gt; [[\"chorseride7679\", \"ceelionking5454\", \"crabuffallokjkj4\", \"dgiraffeoiu9-0\"],\n  #    [\"ffhorseride7679\", \"fgeelionking5454\", \"fhcrabuffallokjkj4a\",\n  #     \"fkcgiraffeoiu9087*s\"]]\n</code></pre>\n\n<p>See <a href=\"http://ruby-doc.org/core-2.4.0/Enumerable.html#method-i-each_cons\" rel=\"nofollow noreferrer\">Enumerable#each_cons</a>.</p>\n"}], "owner": {"reputation": 17, "user_id": 8220926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1adf92a02199685db071e91c0768e1f6?s=128&d=identicon&r=PG&f=1", "display_name": "akpackage", "link": "https://stackoverflow.com/users/8220926/akpackage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 47180371, "answer_count": 4, "score": -2, "last_activity_date": 1510201425, "creation_date": 1510140799, "last_edit_date": 1510150195, "question_id": 47178658, "link": "https://stackoverflow.com/questions/47178658/find-specific-word-in-array-in-order", "title": "Find specific word in array in order", "body": "<p>I have:</p>\n\n<pre><code>ary = [\n  'ahorseride', 'amparkeetjump', 'acatlive', 'adogwish', 'bmparkeetjump',\n  'bcatlive', 'bdogwish', 'bhorseride', 'brabuffallo', 'chorseride7679',\n  'ceelionking5454', 'crabuffallokjkj4', 'dgiraffeoiu9-0', 'chorseride767',\n  'ccatlive', 'dcatlive', 'ddogwish', 'emparkeetjump', 'emouse', 'eeelionking',\n  'erabuffallo', 'ffhorseride7679', 'fgeelionking5454', 'fhcrabuffallokjkj4a',\n  'fkcgiraffeoiu9087*s',\n]    \nbig_animal = ['horse', 'lion', 'buffallo', 'giraffe']\n</code></pre>\n\n<p>For each element in <code>big_animal</code>, I would like to find which elements of <code>ary</code> include that as a substring, and present them in a specific order. I would like to achieve this result:</p>\n\n<pre><code>horse in the chorseride7679\nlion in the ceelionking5454\nbuffallo in the crabuffallokjkj4\ngiraffe in the dgiraffeoiu9-0\n</code></pre>\n\n<p>and/or</p>\n\n<pre><code>horse in the ffhorseride7679\nlion in the fgeelionking5454\nbuffallo in the fhcrabuffallokjkj4a\ngiraffe in the fkcgiraffeoiu9087*s\n</code></pre>\n\n<p>How do I do this? My attempt is:</p>\n\n<pre><code>horse = big_animal[0]\nary.each do |e|\n  puts \"#{horse} in the house of #{e}\" if e.include?(horse)\nend\n</code></pre>\n\n<p>whose result is:</p>\n\n<pre><code>horse in the house of ahorseride\nhorse in the house of bhorseride\nhorse in the house of chorseride7679\nhorse in the house of chorseride767\nhorse in the house of ffhorseride7679\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "edited": false, "score": 0, "creation_date": 1510140273, "post_id": 47178434, "comment_id": 81305781, "body": "Thank you very much, that was exactly what I was looking for. Worked like a charm :-)"}], "tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": true, "score": 2, "last_activity_date": 1510140461, "last_edit_date": 1510140461, "creation_date": 1510140153, "answer_id": 47178434, "question_id": 47178408, "link": "https://stackoverflow.com/questions/47178408/rails-build-array-with-the-value-from-a-certain-model-attribute/47178434#47178434", "title": "Rails: build array with the value from a certain model attribute", "body": "<p>When using <code>all</code>, then you're getting all the attributes from the model.</p>\n\n<p>You could use <code>select</code> and ask only for the tag attribute, and you would give a query like \"<code>SELECT \"notations\".\"tag\" FROM \"notations\"</code>\" but you would get a <code>Notation::ActiveRecord_Relation</code> object type, and you should have to use map to get only an array with the needed attribute.</p>\n\n<pre><code>Visit.select(:name).map(&amp;:name)\n</code></pre>\n\n<p>To skip the <code>map</code> part to create an array, you could use pluck like:</p>\n\n<pre><code>@tags = Notation.pluck :tag\nrender json: @tags\n</code></pre>\n\n<p>And this should also query only for the <code>tag</code> attribute from the Notation objects:</p>\n\n<pre><code>SELECT \"notations\".\"tag\" FROM \"notations\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3002, "user_id": 976498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CSZVp.jpg?s=128&g=1", "display_name": "LHH", "link": "https://stackoverflow.com/users/976498/lhh"}, "is_accepted": false, "score": 1, "last_activity_date": 1510140995, "last_edit_date": 1510140995, "creation_date": 1510140341, "answer_id": 47178499, "question_id": 47178408, "link": "https://stackoverflow.com/questions/47178408/rails-build-array-with-the-value-from-a-certain-model-attribute/47178499#47178499", "title": "Rails: build array with the value from a certain model attribute", "body": "<p>Here are few ways to achieve this \n1) Use <code>pluck</code> method</p>\n\n<pre><code>@tags = Notation.pluck(:tag)\nrender json: @tags\n</code></pre>\n\n<p>here is source <a href=\"https://apidock.com/rails/ActiveRecord/Calculations/pluck\" rel=\"nofollow noreferrer\">https://apidock.com/rails/ActiveRecord/Calculations/pluck</a></p>\n\n<p>2) use Select method</p>\n\n<pre><code>@tags = Notation.select(:tag).map(&amp;:tag) (here convert ActiveRecord Relation object to Array)\nrender json: @tags\n</code></pre>\n\n<p><a href=\"https://apidock.com/rails/ActiveRecord/QueryMethods/select\" rel=\"nofollow noreferrer\">https://apidock.com/rails/ActiveRecord/QueryMethods/select</a></p>\n\n<p>here is difference between pluck vs select, if you want to explore more.\n<a href=\"https://medium.com/@amliving/activerecords-select-pluck-3d5c58872053\" rel=\"nofollow noreferrer\">https://medium.com/@amliving/activerecords-select-pluck-3d5c58872053</a> </p>\n"}], "owner": {"reputation": 7168, "user_id": 640053, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/96fc923031cbec3fe58b7535229a179b?s=128&d=identicon&r=PG", "display_name": "Christian Benseler", "link": "https://stackoverflow.com/users/640053/christian-benseler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 0, "accepted_answer_id": 47178434, "answer_count": 2, "score": 2, "last_activity_date": 1510140995, "creation_date": 1510140038, "question_id": 47178408, "link": "https://stackoverflow.com/questions/47178408/rails-build-array-with-the-value-from-a-certain-model-attribute", "title": "Rails: build array with the value from a certain model attribute", "body": "<p>I have an model called 'Notation' with the attributes 'name' and 'tag'\nIn its controller there is an action that will return an json with the array with all 'tag' value (the 'tag' value from all model's records).</p>\n\n<p>I have implemented this:</p>\n\n<pre><code>@tags = Notation.all.map{ |notation| notation.tag }\nrender json: @tags\n</code></pre>\n\n<p>this works, but I checked in the console and saw the SQL that has been queried:</p>\n\n<pre><code>SELECT \"notations\".* FROM \"notations\"\n</code></pre>\n\n<p>I was wondering if there is another way using ActiveRecord to query only the 'tag' attribute (mostly because of performances issues), or if this is something I do not have to worry about</p>\n"}, {"tags": ["ruby", "selenium", "internet-explorer", "watir"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 1, "creation_date": 1510190106, "post_id": 47178027, "comment_id": 81334008, "body": "The documentation indicates that you &quot;need to pass 2 specific capabilities to driver: ie.forceCreateProcessApi with true value and ie.browserCommandLineSwitches with -private value. Be note that it will work only for InternetExplorer 8 and newer, and Windows Registry HKLM_CURRENT_USER\\\\Software\\\\Microsoft\\\\Internet Explorer\\\\Main path should contain key TabProcGrowth with 0 value&quot;."}, {"owner": {"reputation": 3625, "user_id": 503158, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/344eed26ff913de38b45620d18eed695?s=128&d=identicon&r=PG", "display_name": "Alister Scott", "link": "https://stackoverflow.com/users/503158/alister-scott"}, "edited": false, "score": 1, "creation_date": 1510209408, "post_id": 47178027, "comment_id": 81339600, "body": "Have you tried getting one of the other command line switches to work from here <a href=\"http://watir.com/guides/ie/\" rel=\"nofollow noreferrer\">watir.com/guides/ie</a> like &#39;:initial_browser_url&#39;? If you can get that to work, you should be able to set the create_process_api to true and the switch to --private"}, {"owner": {"reputation": 21, "user_id": 8905910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4c47879cd1fb47a5303d61c2325d5e?s=128&d=identicon&r=PG&f=1", "display_name": "d0mu", "link": "https://stackoverflow.com/users/8905910/d0mu"}, "reply_to_user": {"reputation": 3625, "user_id": 503158, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/344eed26ff913de38b45620d18eed695?s=128&d=identicon&r=PG", "display_name": "Alister Scott", "link": "https://stackoverflow.com/users/503158/alister-scott"}, "edited": false, "score": 0, "creation_date": 1510577191, "post_id": 47178027, "comment_id": 81479983, "body": "I tried pretty much everything you mentioned: the specific capabilities for inPrivate browsing mode do not work. @Alister Scott I tried sending the command key ctrl+shift+p to launch the private browsing window. However, switching to that window with <code>@browser.windows.last.use</code> or <code>@browser.window(title: </code>InPrivate<code>).use</code> does not work. It seems that the InPrivate window is not even recognized. <code>@browser.windows</code> is an array with 1 element (the initial webdriver window) instead of 2 (webdriver window + inPrivate) one. I`m honestly ready to give up on this topic."}], "owner": {"reputation": 21, "user_id": 8905910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4c47879cd1fb47a5303d61c2325d5e?s=128&d=identicon&r=PG&f=1", "display_name": "d0mu", "link": "https://stackoverflow.com/users/8905910/d0mu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510138978, "creation_date": 1510138978, "question_id": 47178027, "link": "https://stackoverflow.com/questions/47178027/how-to-launch-ie-inprivate-browsing-with-ruby-and-watir", "title": "How to launch IE inPrivate browsing with Ruby and Watir", "body": "<p>I need to launch the Watir IE browser inPrivate mode.\nChrome`s icognito mode can be launched fairly easily with:</p>\n\n<pre><code>    @browser = Watir::Browser.new :chrome, switches: ['--incognito']\n</code></pre>\n\n<p>I tried this in IE, but it doesn`t work</p>\n\n<pre><code>    @browser = Watir::Browser.new :ie, switches: ['-private']\n</code></pre>\n\n<p>I tried some of the indications here, but did not succeed\n<a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver</a></p>\n\n<p>with </p>\n\n<pre><code>ie.forceCreateProcessApi with true value and ie.browserCommandLineSwitches with -private\n</code></pre>\n"}, {"tags": ["css", "ruby-on-rails", "ruby", "sass"], "answers": [{"comments": [{"owner": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510138081, "post_id": 47177490, "comment_id": 81304281, "body": "From the same page: <a href=\"http://sass-lang.com/documentation/file.SASS_REFERENCE.html#Maps\" rel=\"nofollow noreferrer\"><code>Maps</code></a>."}, {"owner": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510138306, "post_id": 47177490, "comment_id": 81304420, "body": "Sorry, I still don&#39;t get your suggestion. I have <code>sass-rails 5.0.6</code> installed, and <code>new_design.scss</code> is the manifest file itself."}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "reply_to_user": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510138473, "post_id": 47177490, "comment_id": 81304534, "body": "@Ionic\u0103Biz\u0103u don&#39;t know if this will help <a href=\"https://stackoverflow.com/questions/30804209/how-to-use-sass-map-get-with-sass-syntax\" title=\"how to use sass map get with sass syntax\">stackoverflow.com/questions/30804209/&hellip;</a> I don&#39;t think that you need to use strings. also I checked all their issues. they don&#39;t have anything relative to this problem, so I really think that you should open an issue on github <a href=\"https://github.com/rails/sass-rails/issues?page=2&amp;q=is%3Aissue+is%3Aopen&amp;utf8=%E2%9C%93\" rel=\"nofollow noreferrer\">github.com/rails/sass-rails/&hellip;</a> It seems to me as being some sort of bug"}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "reply_to_user": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510138630, "post_id": 47177490, "comment_id": 81304660, "body": "@Ionic\u0103Biz\u0103u like the only issue which is similar to yours is <a href=\"https://github.com/rails/sass-rails/issues/333\" rel=\"nofollow noreferrer\">github.com/rails/sass-rails/issues/333</a> but still something different. I believe you can get some help on their github page. sorry"}, {"owner": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510138819, "post_id": 47177490, "comment_id": 81304778, "body": "Weird! Just by wrapping the values between quotes, saving, reloading in browser without any errors, and then removing the quotes back and reloading the page in browser solved the problem. Maybe it was something cached somewhere... but I can&#39;t understand where. I didn&#39;t restart <code>rake</code> or ran any <code>bundle</code> command... Thanks! :)"}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "reply_to_user": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "edited": false, "score": 0, "creation_date": 1510140699, "post_id": 47177490, "comment_id": 81306087, "body": "Hello @Ionic\u0103Biz\u0103u . I don&#39;t think that I really helped you in finding the solution. I believe you are experienced to the point that you&#39;ll find the solution to anything, so I&#39;ll update my answer so that it is clear and then follow your blog. Thanks"}], "tags": [], "owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "is_accepted": true, "score": 1, "last_activity_date": 1510141278, "last_edit_date": 1592644375, "creation_date": 1510137582, "answer_id": 47177490, "question_id": 47177158, "link": "https://stackoverflow.com/questions/47177158/sass-rails-doesnt-support-map-syntax-object-variables/47177490#47177490", "title": "Sass Rails doesn&#39;t support map syntax (object variables)", "body": "<p>as discussed in the comments there is a <a href=\"https://stackoverflow.com/questions/30804209/how-to-use-sass-map-get-with-sass-syntax\">stackoverflow</a> discussion about a similar issue with the <code>map</code> sass syntax</p>\n<p>The discussion refers to <a href=\"https://github.com/sass/sass/issues/1088\" rel=\"nofollow noreferrer\"><code>Github Issue 1088</code></a></p>\n<p>I quote</p>\n<blockquote>\n<p>There's a number of issues with the indented syntax, and Sass maintainers aren't going to fix them. :( They say, the .sass parser is weird and hard to refactor.</p>\n<p>I find Sass syntax to be quicker to type and easier to read. It is deprived of the visual noise:</p>\n<p>indented_vs_bracketed</p>\n<p>It's also much easier to do copy-pasting.</p>\n<p>So Sass maintainers, PLEASE don't let the indented syntax fall behind!</p>\n</blockquote>\n<p>Probably by digging down in the discussion we will be able to find the solution. Now I am quoting the solution from the owner of the post <a href=\"https://stackoverflow.com/users/1420197/ionic%C4%83-biz%C4%83u\">Ionic\u0103 Biz\u0103u</a>:</p>\n<blockquote>\n<p>wrapping the values between quotes, saving, reloading in browser without any errors, and then removing the quotes back and reloading the page in browser solved the problem. Maybe it was something cached somewhere... but I can't understand where. I didn't restart rake or ran any bundle command... Thanks! :)</p>\n</blockquote>\n"}], "owner": {"reputation": 92945, "user_id": 1420197, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/84352b749bca68ff058e27fca784d2d5?s=128&d=identicon&r=PG", "display_name": "Ionic\u0103 Biz\u0103u", "link": "https://stackoverflow.com/users/1420197/ionic%c4%83-biz%c4%83u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 47177490, "answer_count": 1, "score": 1, "last_activity_date": 1510141278, "creation_date": 1510136609, "last_edit_date": 1510138207, "question_id": 47177158, "link": "https://stackoverflow.com/questions/47177158/sass-rails-doesnt-support-map-syntax-object-variables", "title": "Sass Rails doesn&#39;t support map syntax (object variables)", "body": "<p>I'm getting the following error when trying to use <a href=\"http://sass-lang.com/documentation/file.SASS_REFERENCE.html#Maps\" rel=\"nofollow noreferrer\">Sass Maps</a> (which look like object variables):</p>\n\n<blockquote>\n<pre><code>Invalid CSS after \"  primary\": expected \")\", was \": #3097D1,\"\n  (in /Users/.../app/assets/stylesheets/new_design.scss:19)\n</code></pre>\n</blockquote>\n\n<p>I reproduced the error by using the following minimal example:</p>\n\n<pre><code>$theme-colors: (\n  primary: #3097D1,\n  secondary: black\n);\n\n@each $key, $val in $theme-colors {\n  .foo.#{$key} {\n    color: $val;\n  }\n}\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>.foo.primary {\n  color: #3097D1;\n}\n\n.foo.secondary {\n  color: black;\n}\n</code></pre>\n\n<p>But getting the error mentioned.</p>\n\n<p><code>sass-rails, ~&gt; 5.0.0</code> seems to be installed according to the <code>Gemfile</code>:</p>\n\n<pre><code>gem 'sass-rails',   '~&gt; 5.0.0' \n</code></pre>\n\n<p>I'd assume that loads one of the latest sass versions which should support object variables.</p>\n\n<p>I have the feeling the current version I have is not recognizing this syntax.</p>\n\n<p>How can I make sure I have the right sass version? Is there anything else I have to do to compile this syntax successfully?</p>\n\n<hr>\n\n<p><code>bundle show sass-rails</code> shows <code>5.0.6</code>, which seems recent.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "aasm"], "answers": [{"comments": [{"owner": {"reputation": 364, "user_id": 7414029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5HNys.jpg?s=128&g=1", "display_name": "Mihir Kumar Thakur", "link": "https://stackoverflow.com/users/7414029/mihir-kumar-thakur"}, "edited": false, "score": 0, "creation_date": 1510206859, "post_id": 47177443, "comment_id": 81338493, "body": "should I use state_machine gem for this?"}, {"owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "reply_to_user": {"reputation": 364, "user_id": 7414029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5HNys.jpg?s=128&g=1", "display_name": "Mihir Kumar Thakur", "link": "https://stackoverflow.com/users/7414029/mihir-kumar-thakur"}, "edited": false, "score": 0, "creation_date": 1510213674, "post_id": 47177443, "comment_id": 81341621, "body": "@MihirKumarThakur I believe aasm is better. At least in a project I was working on, <code>state_machine</code> was replaced with <code>aasm</code> as it was better maintained by that time"}], "tags": [], "owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "is_accepted": false, "score": 5, "last_activity_date": 1541670925, "last_edit_date": 1541670925, "creation_date": 1510137439, "answer_id": 47177443, "question_id": 47176765, "link": "https://stackoverflow.com/questions/47176765/change-aasm-state-through-edit-action/47177443#47177443", "title": "change AASM state through edit action", "body": "<p>Unfortunately, the only solution there is to find event from state name and apply it directly. Something like</p>\n\n<pre><code>STATE_MAPPING = {\n  'state_name' =&gt; :event_name\n}\n\n#...\n\ndef update\n  user.public_send(state_event) if state_event\n  user.update permitted_attributes\n\n  #...\nend\n\n# ...\n\ndef state_event\n  state = params.require(:user).permit(:state)[:state]\n  STATE_MAPPING[state]\nend\n\ndef permitted_attributes\n  @params.require(:user).permit #attributes without state\nend\n</code></pre>\n\n<p>Too much hustle tbh, but to my knowledge there is no other solution available</p>\n"}], "owner": {"reputation": 364, "user_id": 7414029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/5HNys.jpg?s=128&g=1", "display_name": "Mihir Kumar Thakur", "link": "https://stackoverflow.com/users/7414029/mihir-kumar-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541670925, "creation_date": 1510135639, "question_id": 47176765, "link": "https://stackoverflow.com/questions/47176765/change-aasm-state-through-edit-action", "title": "change AASM state through edit action", "body": "<p>I'm using AASM to manage states in my User model.</p>\n\n<p>I want to change the status through the edit action.</p>\n\n<p>To do this I'm using the method User.aasm_states_for_select in my form\nto populate the select input for states.\nWhen I hit the button commit all the changes are saved, including the\nstate name. But the AASM event for that state is not called, it is\nhappening because only the field status has changed and the event method\nhas not been called.</p>\n\n<p>Does anyone have a solution for my problem?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 2, "creation_date": 1510135995, "post_id": 47176719, "comment_id": 81302840, "body": "How do you know it\u2019s <code>GMT+02:00</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510136612, "post_id": 47177065, "comment_id": 81303265, "body": "So i want to scipt it so it change the timestamp for alot of file, so the time wont be the same on every file."}, {"owner": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510137135, "post_id": 47177065, "comment_id": 81303655, "body": "The  problem with you code, is that i need to know the time stamp before and put it into the script.  I got a file event log with over 1mil timestamps, none of them are the same time. So my question is, is there a way to make a string of some sort,that take and convert every timestamp to Joda-time"}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "reply_to_user": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510137593, "post_id": 47177065, "comment_id": 81303964, "body": "&quot;Is there a way to make a string of some sort&quot; -  yes, I think there are more than 1 way, maybe you&#39;d have to convert each timestamp in your file. I can&#39;t see how looks your file, so I can&#39;t tell you in depth how. Do you have access to what&#39;s creating the log? maybe you could start there."}, {"owner": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510137726, "post_id": 47177065, "comment_id": 81304048, "body": "its from a Event log. So it print it out like this: 10/18/2107 14:08:09..  But lets say 1 event log have over 1-2mil timestamps. I want the scipt to automatic change it to joda time. i get a few events a day, so i want it to be automatic."}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "reply_to_user": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510137989, "post_id": 47177065, "comment_id": 81304223, "body": "Yes, I understand, you can or update all the dates in your log or modify the way they&#39;re being written. Does this answer respond to your question (see title)?. If so, then close and you can create a new question with your next step and doubts."}, {"owner": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510138271, "post_id": 47177065, "comment_id": 81304403, "body": "So i tried to make a script says: require &#39;date&#39; items = $current_selected_items items.each do |email| properties = email.getProperties date_time = properties[&quot;CreationDate&quot;] puts DateTime.strptime(date_time, &#39;%m/%d/%Y %H:%M:%S&#39;)              .strftime(&#39;%Y M%m %d, %a %H:%M:%S %Z&#39;) puts date end  But it seems ruby cant find a date from my varible &quot;creationdate&quot;. So in my program the date is behind properties[&quot;CreationDate&quot;]"}, {"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "reply_to_user": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 0, "creation_date": 1510138504, "post_id": 47177065, "comment_id": 81304553, "body": "You need to open the file, read it and modify it. You can create a separate and detailed question this way any user on SO can take a time and help you. You can close this question by accepting it, I&#39;ll be looking for updates."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "reply_to_user": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "edited": false, "score": 1, "creation_date": 1510144196, "post_id": 47177065, "comment_id": 81308327, "body": "@Deathleecher this perfectly answers your question, that was about date/time conversion, not about files, event logs etc. You are to accept it, nobody here will write the whole code for you for free."}], "tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": true, "score": 1, "last_activity_date": 1510136708, "last_edit_date": 1510136708, "creation_date": 1510136386, "answer_id": 47177065, "question_id": 47176719, "link": "https://stackoverflow.com/questions/47176719/how-to-convert-timestamp-with-ruby/47177065#47177065", "title": "How to convert timestamp with ruby", "body": "<p>From the string you can parse it to DateTime passing the format, and then format the output string:</p>\n\n<pre><code>date_time = '10/18/2107 14:08:09'\n\nputs DateTime.strptime(date_time, '%m/%d/%Y %H:%M:%S')\n             .strftime('%Y M%m %d, %a %H:%M:%S %Z')\n</code></pre>\n\n<p>Note it's Tuesday and the time zone it's specified as 00:00.</p>\n"}], "owner": {"reputation": 33, "user_id": 8689939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f01c0750d3415f2515c8bc0a8b8d631b?s=128&d=identicon&r=PG&f=1", "display_name": "Deathleecher", "link": "https://stackoverflow.com/users/8689939/deathleecher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 47177065, "answer_count": 1, "score": 0, "last_activity_date": 1510136762, "creation_date": 1510135503, "last_edit_date": 1510136762, "question_id": 47176719, "link": "https://stackoverflow.com/questions/47176719/how-to-convert-timestamp-with-ruby", "title": "How to convert timestamp with ruby", "body": "<p>Is it possible to convert time with ruby? My program prints the time stamp like this: <code>10/18/2107 14:08:09</code>, but I want it to be like this: <code>2017 M10 18, Wed 14:08:09 GMT+02:00</code>. From what I understand, the time stamp I want comes in Joda-Time.</p>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["ruby", "elasticsearch", "logstash"], "answers": [{"comments": [{"owner": {"reputation": 224, "user_id": 4051417, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-dv8ARvMLRtE/AAAAAAAAAAI/AAAAAAAAANM/rVwTUuUwVXw/photo.jpg?sz=128", "display_name": "Saram ali", "link": "https://stackoverflow.com/users/4051417/saram-ali"}, "edited": false, "score": 0, "creation_date": 1510206108, "post_id": 47194057, "comment_id": 81338228, "body": "This is not what I&#39;m looking for. I want to place all my ruby code in a method and call it in different if else clauses, currently I&#39;m repeating the same code again and again in different clauses.  I want to know if it&#39;s possible to create a method of my code and call it from any if clause."}, {"owner": {"reputation": 224, "user_id": 4051417, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-dv8ARvMLRtE/AAAAAAAAAAI/AAAAAAAAANM/rVwTUuUwVXw/photo.jpg?sz=128", "display_name": "Saram ali", "link": "https://stackoverflow.com/users/4051417/saram-ali"}, "edited": false, "score": 0, "creation_date": 1510206155, "post_id": 47194057, "comment_id": 81338247, "body": "Something like this   <a href=\"https://discuss.elastic.co/t/methods-in-logstash-ruby/102144/3\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/methods-in-logstash-ruby/102144/3</a>"}], "tags": [], "owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "is_accepted": false, "score": 1, "last_activity_date": 1510202550, "creation_date": 1510202550, "answer_id": 47194057, "question_id": 47176629, "link": "https://stackoverflow.com/questions/47176629/function-in-ruby-code-logstash/47194057#47194057", "title": "Function in ruby code Logstash", "body": "<p>I am guessing that what you would like to do is store the value of <code>event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s</code> so that you don't have that printed over and over again. The answer is yes, that should work like this:</p>\n\n<pre><code>ruby\n{\n    code =&gt; \"foo = event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s\n             event.set('storeNumber', @@map['storeNumber_task1'])\n             if @@map[foo + 'startTime'] == nil and @@map[foo + 'endTime'] == nil\n             ...\"\n</code></pre>\n"}], "owner": {"reputation": 224, "user_id": 4051417, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-dv8ARvMLRtE/AAAAAAAAAAI/AAAAAAAAANM/rVwTUuUwVXw/photo.jpg?sz=128", "display_name": "Saram ali", "link": "https://stackoverflow.com/users/4051417/saram-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1510202550, "creation_date": 1510135243, "question_id": 47176629, "link": "https://stackoverflow.com/questions/47176629/function-in-ruby-code-logstash", "title": "Function in ruby code Logstash", "body": "<p>I have a logstash configuration file in which I am using ruby code. The code I'm writing is repetitive and I want to extract a function of it. Is it possible in logstash configuration file?</p>\n\n<p>here is a part of my configuration file of which I need to extract a method of</p>\n\n<pre><code>  map_action =&gt; \"update\"\n}\n\nruby\n{\n  code =&gt;    \"event.set('storeNumber', @@map['storeNumber_task1'])\n              if @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'startTime'] == nil and @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'endTime'] == nil\n                 @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'startTime'] = event.get('logTimestamp');\n                 @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'endTime'] = event.get('logTimestamp');\n                 @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'counter'] = 1;\n             elsif @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'startTime'] &gt; event.get('logTimestamp')\n                   @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'startTime'] = event.get('logTimestamp');\n                   @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'counter'] += 1;\n             elsif @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'endTime'] &lt; event.get('logTimestamp')\n                   @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'endTime'] = event.get('logTimestamp');\n                   @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'counter'] += 1;\n             else \n                   @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'counter'] += 1;\n             end\n             if @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'counter'] == 5\n                @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'totalTime']= (Time.parse(@@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'endTime']).to_f - Time.parse(@@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'startTime']).to_f).round(4)\n                event.set('processingTime', @@map[event.get('storeNumber').to_s + event.get('txnNumber').to_s + event.get('tillNumber').to_s + 'totalTime'])\n             end\"             \n}\n\ndate \n{\n        match =&gt; [\"logTimestamp\", \"YYYY-MM-dd HH:mm:ss,SSS\"]\n        target =&gt; \"logTimestamp\"\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ruby", "logging"], "comments": [{"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 1, "creation_date": 1510139258, "post_id": 47176360, "comment_id": 81305076, "body": "Not really an answer to your question, but when I want to switch the device, I do a <code>logger.close</code> and then create a new Logger object. Of course this slightly different from what you want to achieve. My guess is that simply switching devices was not provided in the original implementation."}, {"owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "edited": false, "score": 0, "creation_date": 1510201409, "post_id": 47176360, "comment_id": 81336765, "body": "This is not a programming question. If you want to know <i>how</i> to do that then <a href=\"https://stackoverflow.com/questions/9971803/dynamically-change-the-logdevice-of-ruby-logger\">there is an answer here</a>, and you could probably rig something yourself by using <a href=\"http://ruby-doc.org/stdlib-2.4.2/libdoc/logger/rdoc/Logger/LogDevice.html#method-i-reopen\" rel=\"nofollow noreferrer\">the <code>reopen</code> method</a> of the <code>Logger::LogDevice</code> class."}, {"owner": {"reputation": 533, "user_id": 1358698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f813eb3399968848571df028332428d?s=128&d=identicon&r=PG", "display_name": "Tensho", "link": "https://stackoverflow.com/users/1358698/tensho"}, "reply_to_user": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1510227052, "post_id": 47176360, "comment_id": 81349762, "body": "@user1934428, after some little research, my sentiments the same \u2013 Ruby core team thinks it&#39;s not needed for the community. <a href=\"https://bugs.ruby-lang.org/issues/11955#note-7\" rel=\"nofollow noreferrer\">bugs.ruby-lang.org/issues/11955#note-7</a>"}, {"owner": {"reputation": 11741, "user_id": 1934428, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/072774c5d4204a1c2385560e6114a887?s=128&d=identicon&r=PG", "display_name": "user1934428", "link": "https://stackoverflow.com/users/1934428/user1934428"}, "edited": false, "score": 0, "creation_date": 1510239747, "post_id": 47176360, "comment_id": 81358788, "body": "@Tensho : I think also that the semantics of switching the logdevice is not really easy to define in a generally usable way. For instance, if I start with a rotating logger, then switch the logdevice to STDOUT, and then switch back to a rotating logger (maybe of the same name?), should it continue where it was left? How is the number of generations to be defined? This just asks for trouble, and it&#39;s much cheaper to simply throw away the old Logger object and create a new one."}], "owner": {"reputation": 533, "user_id": 1358698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f813eb3399968848571df028332428d?s=128&d=identicon&r=PG", "display_name": "Tensho", "link": "https://stackoverflow.com/users/1358698/tensho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510134833, "creation_date": 1510134451, "last_edit_date": 1510134833, "question_id": 47176360, "link": "https://stackoverflow.com/questions/47176360/why-doesnt-ruby-logger-support-log-device-switch-after-initialization", "title": "Why doesn&#39;t Ruby logger support log device switch after initialization?", "body": "<p>Why doesn't Ruby logger from the standard library support dynamic log device switch? Isn't there any public API for that? I can switch the log level, but not the log device. For example:</p>\n\n<pre><code>logger = Logger.new(STDOUT)\nlogger.logdev = LogDevice.new('/tmp/any.log')\n#=&gt; NoMethodError: undefined method `logdev=' for #&lt;Logger&gt;\n</code></pre>\n\n<p>I suppose that it relates to some thread safe setup, probably mutex over log device or some underground file locking. So I'd like to understand the details and the initial intentions.</p>\n\n<p>In <a href=\"https://github.com/treasure-data/serverengine\" rel=\"nofollow noreferrer\">serverengine</a> gem, <code>ServerEngine::DaemonLogger</code> subclasses <code>Logger</code>, and adds the required behaviour with <a href=\"https://github.com/treasure-data/serverengine/blob/master/lib/serverengine/daemon_logger.rb#L43\" rel=\"nofollow noreferrer\"><code>#logdev=</code></a> method.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 2372, "user_id": 8478218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0tjM.jpg?s=128&g=1", "display_name": "krishnar", "link": "https://stackoverflow.com/users/8478218/krishnar"}, "is_accepted": false, "score": 0, "last_activity_date": 1510127429, "creation_date": 1510127429, "answer_id": 47174267, "question_id": 47174011, "link": "https://stackoverflow.com/questions/47174011/edit-datetime-in-views-notifications-html-erb/47174267#47174267", "title": "Edit datetime in views notifications.html.erb", "body": "<pre><code>&lt;td&gt;&lt;%= notification.date.strftime(\"%m/%d/%Y %I:%M %p\") %&gt;&lt;/td&gt;\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<pre><code>%I  - 12 hour format\n%p   - AM/PM format\n....\n</code></pre>\n\n<p>for more info check doc <a href=\"https://apidock.com/ruby/DateTime/strftime\" rel=\"nofollow noreferrer\">https://apidock.com/ruby/DateTime/strftime</a></p>\n"}, {"tags": [], "owner": {"reputation": 3020, "user_id": 4453584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25188d50654874d1125dd754d783851b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarman", "link": "https://stackoverflow.com/users/4453584/guitarman"}, "is_accepted": false, "score": 0, "last_activity_date": 1510128587, "last_edit_date": 1510128587, "creation_date": 1510127908, "answer_id": 47174380, "question_id": 47174011, "link": "https://stackoverflow.com/questions/47174011/edit-datetime-in-views-notifications-html-erb/47174380#47174380", "title": "Edit datetime in views notifications.html.erb", "body": "<p>I would prefer to use the localization system of rails. See <a href=\"http://guides.rubyonrails.org/i18n.html#adding-date-time-formats\" rel=\"nofollow noreferrer\">Adding Date/Time Formats</a>. With this you are free to define some date/datetime formats in your locales files, which you can reuse. </p>\n\n<pre><code># config/locales/en.yml\nen:\n  time:\n    datetime:\n      formats:\n        default: \"%m/%d/%Y %I:%M %p\"\n        my_format: \"%m/%d/%Y %I:%M %p\"\n</code></pre>\n\n<p>Then you apply them with the <code>l</code> helper method to your datetime value in the view. Use the default format:</p>\n\n<pre><code>&lt;td&gt;&lt;%= l(notification.date) %&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Or use a special format, if it would be differnt:</p>\n\n<pre><code>&lt;td&gt;&lt;%= l(notification.date, format: :my_format) %&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Benefit: You may use the defined formats not only in your views. With the <code>I18n.l</code> method you can use it in your scripts too and changes to the formats are applied to the whole app. A DRY config in one place. </p>\n\n<p>But at first you need to read about how to <a href=\"http://guides.rubyonrails.org/i18n.html#configure-the-i18n-module\" rel=\"nofollow noreferrer\">configure</a> the internationalization/localization system for your app. </p>\n"}], "owner": {"reputation": 19, "user_id": 8904903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/796f6f26ab3f404608cd0d44fdf787c6?s=128&d=identicon&r=PG&f=1", "display_name": "gonzalky", "link": "https://stackoverflow.com/users/8904903/gonzalky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510128587, "creation_date": 1510126552, "question_id": 47174011, "link": "https://stackoverflow.com/questions/47174011/edit-datetime-in-views-notifications-html-erb", "title": "Edit datetime in views notifications.html.erb", "body": "<p>So I am developing an application on Rails and I want to edit the format of datetime when I call it from the database. I could not find anything online that showed changing it when I have already created the date type in the database. </p>\n\n<p>This is what it currently is showing 2017-11-01 21:36:55 UTC</p>\n\n<p>I want the format to be MM/DD/YYYY 00:00 PM/AM 12 hour clock</p>\n\n<pre><code>   create_table \"notifications\", force: :cascade do |t|\n       t.string \"title\"\n       t.datetime \"date\"\n       t.text \"content\"\n       t.datetime \"created_at\", null: false\n       t.datetime \"updated_at\", null: false\n    end\n</code></pre>\n\n<p>This code is in my views/notifications/notifications.html.erb</p>\n\n<pre><code>&lt;tbody&gt;\n    &lt;% @notification.each do |notification| %&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;%= notification.title %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= notification.first_name %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= notification.date %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%= notification.content %&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;% end %&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}, {"tags": ["ruby", "amazon-web-services", "redirect", "nginx", "ip"], "comments": [{"owner": {"reputation": 846, "user_id": 3471694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VvTrb.png?s=128&g=1", "display_name": "Bui Anh Tuan", "link": "https://stackoverflow.com/users/3471694/bui-anh-tuan"}, "edited": false, "score": 2, "creation_date": 1510123827, "post_id": 47172985, "comment_id": 81295715, "body": "Double-check your <code>nginx.conf</code> file. I sure your nginx&#39;s setting have some problems"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510125555, "post_id": 47172985, "comment_id": 81296551, "body": "Did you check the server&#39;s log files?"}, {"owner": {"reputation": 5746, "user_id": 4984564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9bc286af6678a63ceb881eaf9e966f5f?s=128&d=identicon&r=PG", "display_name": "DarkWiiPlayer", "link": "https://stackoverflow.com/users/4984564/darkwiiplayer"}, "reply_to_user": {"reputation": 846, "user_id": 3471694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VvTrb.png?s=128&g=1", "display_name": "Bui Anh Tuan", "link": "https://stackoverflow.com/users/3471694/bui-anh-tuan"}, "edited": false, "score": 0, "creation_date": 1510127626, "post_id": 47172985, "comment_id": 81297663, "body": "As @BTuan already pointed out, this is probably a problem with your <code>nginx.conf</code>. Either try having another look at it yourself, or post the relevant parts of that file (removing any sensible information if necessary)"}, {"owner": {"reputation": 11, "user_id": 8704740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f07e5d224fabee3e1d39166248c648?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamJ", "link": "https://stackoverflow.com/users/8704740/williamj"}, "edited": false, "score": 0, "creation_date": 1510166818, "post_id": 47172985, "comment_id": 81323905, "body": "I have looked at my nginx.conf file and the only line that I changed was the include"}, {"owner": {"reputation": 11, "user_id": 8704740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f07e5d224fabee3e1d39166248c648?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamJ", "link": "https://stackoverflow.com/users/8704740/williamj"}, "edited": false, "score": 0, "creation_date": 1510167217, "post_id": 47172985, "comment_id": 81324132, "body": "include /etc/nginx/sites-enabled/*;"}, {"owner": {"reputation": 11, "user_id": 8704740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f07e5d224fabee3e1d39166248c648?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamJ", "link": "https://stackoverflow.com/users/8704740/williamj"}, "edited": false, "score": 0, "creation_date": 1510167522, "post_id": 47172985, "comment_id": 81324342, "body": "http { passenger_root /home/ubuntu/.rvm/gems/ruby-2.3.1/gems/passenger-5.1.8; passenger_ruby /home/ubuntu/.rvm/gems/ruby-2.3.1/wrappers/ruby;     include       mime.types;     default_type  application/octet-stream;     sendfile        on;     keepalive_timeout  65;     server {         listen 80;         server_name  localhost;         location / {             root   html;             index  index.html index.htm;         }         error_page   500 502 503 504  /50x.html;         location = /50x.html {             root   html;         } } include /etc/nginx/sites-enabled/*;"}], "owner": {"reputation": 11, "user_id": 8704740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f07e5d224fabee3e1d39166248c648?s=128&d=identicon&r=PG&f=1", "display_name": "WilliamJ", "link": "https://stackoverflow.com/users/8704740/williamj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510122612, "creation_date": 1510122612, "question_id": 47172985, "link": "https://stackoverflow.com/questions/47172985/redirecting-ip-to-aws-results-in-nginx-landing-page", "title": "Redirecting IP to AWS results in NGINX landing page", "body": "<p>I have a portfolio site hosted on AWS. When I first deployed the site to AWS, a site built in Ruby, I installed NGINX on the AWS instance. I went to register.com and redirected the IP address of my domain to point to the public IP address of the AWS instance. Everything was working fine. The site could be accessed with the AWS IP address or the domain name.</p>\n\n<p>Things were fine until AWS retired the server my instance was on. I created a new instance and a new .pem key and deployed to the new instance. I repointed my domain the new AWS instance IP address. I can access the site without issue when using the IP address, 54.173.8.232. If I try and access it through the domain, <a href=\"http://www.williamjpalmer.com\" rel=\"nofollow noreferrer\">http://www.williamjpalmer.com</a>, I get the Welcome to NGINX landing page.I have deleted the previous instance thinking that maybe it was preventing the site from loading. I do not know very much about setting up servers and how to resolve issues like this. I would appreciate any help on this. It is frustrating that it worked the first time but now will not.</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "session", "will-paginate"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510124477, "post_id": 47172647, "comment_id": 81296016, "body": "You&#39;re missing a slash. <code>&quot;&#47;users&#47;&quot; + current_user.id + &quot;&#47;friends?page=#{target}&quot;</code>. But you should just use the link helper generated by your routes instead."}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125206, "post_id": 47172647, "comment_id": 81296364, "body": "ahh thnx. i tried and looked at many examples on using params option using the route eg <code>params: { controller: user_friends_path(@friends)...}</code> but couldnt generate route like that with any of the options for that, some peoples faked the route with url_for docs but I couldnt do that."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125208, "post_id": 47172647, "comment_id": 81296365, "body": "And the statement &quot;you cannot use sessions hash in helpers&quot; is completely false. Helpers are included into the view context so they can access anything the controller can."}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125275, "post_id": 47172647, "comment_id": 81296398, "body": "well it seems you cant."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125380, "post_id": 47172647, "comment_id": 81296461, "body": "No, you have screwed something up. Maybe you removed the sessions middleware."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125483, "post_id": 47172647, "comment_id": 81296513, "body": "Try generating a new rails app if you don&#39;t belive me but its definatly false. I&#39;m going to go out on a limb and say you should not be reinventing the authentication wheel. Stick with something tried like Devise,"}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510125805, "post_id": 47172647, "comment_id": 81296678, "body": "Other people had the same issue trying to do something similar eg <a href=\"https://stackoverflow.com/questions/16774257/access-session-in-helper-file-rails-3\">here</a> apparently they are only available to controllers and not the model etc. I do not have time to create a new app right now."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510126800, "post_id": 47172647, "comment_id": 81297200, "body": "That answer is for Rails 3."}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510127075, "post_id": 47172647, "comment_id": 81297337, "body": "Thing is I tested this, so you can include the session hash with <code>include SessionsHelper</code> in the WillPaginateHelper and it will include the <code>current_user</code> method in sessions helper but you get the sessions error. thats all I can really say about that i am pretty sure my code is right in rails 5 I followed the MH tutorial, not devise, so iam not 100% but rails generates the error anyway."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1510127164, "post_id": 47172647, "comment_id": 81297392, "body": "The problem here is that what you are creating is not a helper. Helpers are modules that are included into the view context. Its a class that extends <code>WillPaginate::ActionView::LinkRenderer</code>. If you want to give it access the session you have to pass it in via arguments."}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510127481, "post_id": 47172647, "comment_id": 81297568, "body": "Yes you are right, do you know how to go about it so it acts like a normal helper? Sorry this is pushing my limits atm of understanding."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510127526, "post_id": 47172647, "comment_id": 81297599, "body": "You want to search for how to paginate nested resources with will_paginate instead as you&#39;re most likely making it much more complicated than needed. I havent used it but you will want something like <code>will_paginate current_user.friends</code> and make sure you have declared the route like in <a href=\"http://guides.rubyonrails.org/routing.html#nested-resources\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/routing.html#nested-resources</a>"}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510127751, "post_id": 47172647, "comment_id": 81297737, "body": "Yes I searched and most people who wanted to change the url went for this, you can make the controller option in params work but I do not think you can get nested results from that. If you want we can move this to discussion quickly?"}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510127780, "post_id": 47172647, "comment_id": 81297759, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/158479/discussion-between-lee-eather-and-max\">continue this discussion in chat</a>."}, {"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510129314, "post_id": 47172647, "comment_id": 81298581, "body": "so did you do the nested resources? also isn&#39;t just easy to set an if condition in the view to avoid that error? <code>So when index action is fully rendered again pagination links are friends&#47;177 which give a server error anyway and makes no sense as that record just got destroyed.</code>"}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "edited": false, "score": 0, "creation_date": 1510129813, "post_id": 47172647, "comment_id": 81298805, "body": "Hi, nested resource I cant figure yet.  I was thinking of using <a href=\"https://github.com/mislav/will_paginate/blob/master/lib/will_paginate/view_helpers/action_view.rb\" rel=\"nofollow noreferrer\">here</a> url_for as people said it was what will_paginate method used, the same options only just looking now. If condition still doesnt get me a url?"}, {"owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "edited": false, "score": 0, "creation_date": 1510144231, "post_id": 47172647, "comment_id": 81308359, "body": "<a href=\"http://guides.rubyonrails.org/action_controller_overview.html#session\" rel=\"nofollow noreferrer\">rails sessions</a> so I can get the current_user session id displayed in the view but say in the helper modules I cannot."}], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "is_accepted": true, "score": 0, "last_activity_date": 1510382945, "last_edit_date": 1510382945, "creation_date": 1510377298, "answer_id": 47234603, "question_id": 47172647, "link": "https://stackoverflow.com/questions/47172647/get-the-actual-id-of-current-user-without-deleting-the-session-rails-will-pagin/47234603#47234603", "title": "Get the actual id of current user without deleting the session? rails will_paginate dilema", "body": "<p>Ok, so thanks to max and everyone for helping me.  found this post and this answer <a href=\"https://stackoverflow.com/questions/2441643/rails-will-paginate-custom-route#answer-6133947\">here</a> which you can do something like,</p>\n\n<p>In your routes</p>\n\n<pre><code>get 'users/:cu_id/friends', to: 'users#index', as: :my_friends\n</code></pre>\n\n<p>And for the view</p>\n\n<pre><code>&lt;%= will_paginate @friends, params: { controller: :users, :cu_id =&gt; current_user.id } %&gt;\n</code></pre>\n\n<p>This will produce <code>users/:cu_id/friends?page=2</code>... of course :cu_id will be the actual id number, for pagination.</p>\n\n<p><strong>EDIT:</strong> Order is important here to if you have any other routes going to the same url eg, <code>users/:user_id/friends</code> when you nest resources, you need to put <code>get 'users/:cu_id/friends',...</code> below this, as rails will build the correct route for you for will paginate but come back in through the friends#index action when paginated and match eg <code>users/1/friends</code> through <code>users/:user_id/friends</code> as it is first in order in routes.rb. <a href=\"http://edgeguides.rubyonrails.org/routing.html#static-segments\" rel=\"nofollow noreferrer\">here</a> in rails guide it explains how it works.</p>\n"}], "owner": {"reputation": 273, "user_id": 6547385, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10153614401007371/picture?type=large", "display_name": "Lee Eather", "link": "https://stackoverflow.com/users/6547385/lee-eather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 47234603, "answer_count": 1, "score": 1, "last_activity_date": 1510382945, "creation_date": 1510121128, "last_edit_date": 1510124145, "question_id": 47172647, "link": "https://stackoverflow.com/questions/47172647/get-the-actual-id-of-current-user-without-deleting-the-session-rails-will-pagin", "title": "Get the actual id of current user without deleting the session? rails will_paginate dilema", "body": "<p>I want to get the real id of a User due to a problem in the url for will_paginate in that I need to set it manually, so I want to get the target link for will paginate by a custom renderer method in the view like this,</p>\n\n<pre><code>&lt;%= will_paginate @friends, :renderer =&gt; WillPaginateHelper::MyLinkRenderer %&gt;  \n</code></pre>\n\n<p>And the helper is something like,</p>\n\n<pre><code>module WillPaginateHelper\n\n  class MyLinkRenderer &lt; WillPaginate::ActionView::LinkRenderer\n    include SessionsHelper\n    protected\n\n    def link(text, target, attributes = {})\n      if target.is_a?(Integer)\n        attributes[:rel] = rel_value(target)\n        target = \"/users\" + current_user.id + \"/friends?page=#{target}\"\n      end\n      attributes[:href] = target\n      tag(:a, text, attributes)\n    end\n  end\nend\n</code></pre>\n\n<p>The line <code>target = \"/users\" + current_user.id + \"/friends?page=#{target}\"</code> is the important one where I need to set the url for will_paginate anchor links with the current user id.</p>\n\n<p>Problem is that when the helper I am using is ran in the view to set the url, I get a error <code>undefined local variable or method session...</code>, you cannot use sessions hash in helpers so how to get the real id of the current_user to insert into variable. Do I delete/destroy the session get the id and create a new one? The problem is once I delete the session how to get the id once I delete the session and the user reference is deleted.</p>\n\n<p><strong>Reason</strong>\nI have a friends#index action that is rendered in a div and upon initial call to url the pagination attaches correctly being the url <code>users/:id/friends</code> so each pagination request goes to the correct user and action. But this index view has \"Unfriend\" form attached to each displayed friend so you can destroy the friendship which goes to the destroy action of the friends controller so markup is eg <code>&lt;form... action=\"friends/177\"...&gt;</code> and on full view reload of the index action from destroy action will paginate attaches to the last known link unless overriden. So when index action is fully rendered again pagination links are <code>friends/177</code> which give a server error anyway and makes no sense as that record just got destroyed.</p>\n\n<p>I have the current_user variables and id in my destroy action but I can not find a way to get them to my helper method, or simply get the current user id from the session.</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5949206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-OGn4-A2NtHk/AAAAAAAAAAI/AAAAAAAAAj8/Jf3PYcRVl_I/photo.jpg?sz=128", "display_name": "Ravi Teja", "link": "https://stackoverflow.com/users/5949206/ravi-teja"}, "edited": false, "score": 0, "creation_date": 1510121856, "post_id": 47172605, "comment_id": 81294880, "body": "Corrected it now, by the mistakenly posted output of another XPath."}], "tags": [], "owner": {"reputation": 1383, "user_id": 5502607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1636ecaa1e29b149f77ad97db900f6b5?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5502607/marcel"}, "is_accepted": true, "score": 0, "last_activity_date": 1510123206, "last_edit_date": 1510123206, "creation_date": 1510120959, "answer_id": 47172605, "question_id": 47172481, "link": "https://stackoverflow.com/questions/47172481/how-to-get-text-from-h1-tag-in-selenium-cucumber-ruby/47172605#47172605", "title": "How to get text from H1 tag in Selenium + Cucumber + Ruby", "body": "<p>When I click the url, the site briefly shows a 'loading' text, after that the h1 text you're looking for becomes visible. You can use a implicit wait to wait a maximum amount of time before a timeout occurs. </p>\n\n<p>Example from the selenium documentation:</p>\n\n<pre><code>require 'rubygems' # not required for ruby 1.9 or if you installed without gem\nrequire 'selenium-webdriver'\n\ndriver = Selenium::WebDriver.for :firefox\ndriver.manage.timeouts.implicit_wait = 10 # seconds\n\ndriver.get \"http://somedomain/url_that_delays_loading\"\nelement = driver.find_element(:id =&gt; \"some-dynamic-element\")\n</code></pre>\n\n<p>Also, since there is only one h1 element present, you can use a simpler selector like the css selector <code>div h1</code> or the xpath selector <code>//div/h1</code></p>\n\n<p><strong>Original post</strong></p>\n\n<p>The two xpaths in your question are different:\n<code>/html/body/div[3]/footer/nav[2]/ul/li[3]/a</code>\nand\n<code>/html/body/div[3]/div[1]/h1</code></p>\n\n<p>Can you provide the website html?</p>\n"}], "owner": {"reputation": 37, "user_id": 5949206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-OGn4-A2NtHk/AAAAAAAAAAI/AAAAAAAAAj8/Jf3PYcRVl_I/photo.jpg?sz=128", "display_name": "Ravi Teja", "link": "https://stackoverflow.com/users/5949206/ravi-teja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 47172605, "answer_count": 1, "score": 0, "last_activity_date": 1510131904, "creation_date": 1510120404, "last_edit_date": 1510131904, "question_id": 47172481, "link": "https://stackoverflow.com/questions/47172481/how-to-get-text-from-h1-tag-in-selenium-cucumber-ruby", "title": "How to get text from H1 tag in Selenium + Cucumber + Ruby", "body": "<p>I want to get an H1 text. The page is converted from markdown to HTML. when I using below code to get text using XPath:</p>\n\n<pre><code>element = driver.find_element(xpath: '/html/body/div[3]/div[1]/h1')\nelement.text\n</code></pre>\n\n<p>I am getting error:</p>\n\n<pre><code>&lt;driver.find_element(xpath: '/html/body/div[3]/div[1]/h1')\nSelenium::WebDriver::Error::NoSuchElementError: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"/html/body/div[3]/div[1]/h1\"}\n(Session info: chrome=62.0.3202.89)\n(Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/response.rb:71:in `assert_ok'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/http/common.rb:83:in `new'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/http/common.rb:83:in `create_response'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/http/default.rb:106:in `request'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/http/common.rb:61:in `call'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/bridge.rb:170:in `execute'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/oss/bridge.rb:581:in `execute'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/remote/oss/bridge.rb:549:in `find_element_by'\n    from C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/selenium-webdriver-3.6.0/lib/selenium/webdriver/common/search_context.rb:62:in `find_element'\n    from (irb):60\n    from C:/Ruby23-x64/bin/irb.cmd:19:in `&lt;main&gt;'\n</code></pre>\n\n<p>Please, can someone correct this code or suggest another way to get the text value?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "api", "amazon-web-services"], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 2787867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbt9A.png?s=128&g=1", "display_name": "Ali Haider", "link": "https://stackoverflow.com/users/2787867/ali-haider"}, "is_accepted": false, "score": 0, "last_activity_date": 1510119248, "last_edit_date": 1510119248, "creation_date": 1510118554, "answer_id": 47172113, "question_id": 47172039, "link": "https://stackoverflow.com/questions/47172039/aws-server-became-slow-after-traffic-increase/47172113#47172113", "title": "AWS server became slow after traffic increase", "body": "<p>Please check the following </p>\n\n<ul>\n<li><p>If you are opening a connection to Database, make sure you close it.</p>\n\n<ul>\n<li>If you are using jquery, bootstrap, datatables, or other css libraries, use the CDN links like</li>\n</ul>\n\n<p><code>&lt;link rel=\"stylesheet\" ref=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css\"&gt;</code></p>\n\n<ul>\n<li>it will reduce a great amount of load on your server. do not copy the jquery or other external libraries on your own server when you can directly fetch it from other servers.</li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "is_accepted": false, "score": 0, "last_activity_date": 1510119697, "creation_date": 1510119697, "answer_id": 47172324, "question_id": 47172039, "link": "https://stackoverflow.com/questions/47172039/aws-server-became-slow-after-traffic-increase/47172324#47172324", "title": "AWS server became slow after traffic increase", "body": "<p>There are a number of factors that can cause an EC2 instance (or any system) to appear to run slowly.</p>\n\n<ol>\n<li>CPU Usage. The higher the CPU usage the longer to process new threads and processes.</li>\n<li>Free Memory. Your system needs free memory to process threads, create new processes, etc. How much free memory do you have?</li>\n<li>Free Disk Space. Operating systems tend to thrash when the file systems on system drives run low on free disk space. How much free disk space do you have?</li>\n<li>Network Bandwidth. What is the average bytes in / out for your\ninstance?</li>\n<li>Database. Monitor connections, free memory, disk bandwidth, etc.</li>\n</ol>\n\n<p>Amazon has CloudWatch which can provide you with monitoring for everything except for free disk space (you can add an agent to your instance for this metric). This will also help you quickly see what is happening with your instances.</p>\n\n<p>Monitor your EC2 instances and your database.</p>\n\n<p>You mention T2 instances. These are burstable CPUs which means that if you have consistenly higher CPU usage, then you will want to switch to fixed performance EC2 instances. CloudWatch should help you figure out what you need (CPU or Memory or Disk or Network performance).</p>\n"}, {"tags": [], "owner": {"reputation": 10420, "user_id": 299462, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/1239668b80debd03fef129775ff3f065?s=128&d=identicon&r=PG", "display_name": "Kannaiyan", "link": "https://stackoverflow.com/users/299462/kannaiyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510120558, "creation_date": 1510120558, "answer_id": 47172513, "question_id": 47172039, "link": "https://stackoverflow.com/questions/47172039/aws-server-became-slow-after-traffic-increase/47172513#47172513", "title": "AWS server became slow after traffic increase", "body": "<p>This is totally independent of AWS Server. Looks like your software needs more juice (RAM, StorageIO, Network) and it is not sufficient with one machine. You need to evaluate the metric using cloudwatch and adjust software needs based on what is required for the software.</p>\n\n<p>It could be memory leaks or processing leaks that may lead to this as well. You need to create clusters or server farm to handle the load.</p>\n\n<p>Hope it helps. </p>\n"}, {"tags": [], "owner": {"reputation": 846, "user_id": 3471694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VvTrb.png?s=128&g=1", "display_name": "Bui Anh Tuan", "link": "https://stackoverflow.com/users/3471694/bui-anh-tuan"}, "is_accepted": true, "score": 2, "last_activity_date": 1510121365, "creation_date": 1510121365, "answer_id": 47172699, "question_id": 47172039, "link": "https://stackoverflow.com/questions/47172039/aws-server-became-slow-after-traffic-increase/47172699#47172699", "title": "AWS server became slow after traffic increase", "body": "<p>As you mentioned that you are using T2.2xlarge instance type. Firstly I want to tell you should not use T2 instance type for production environment. Cause of T2 instance uses <code>CPU Credit</code>. Lets take a look on <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html\" rel=\"nofollow noreferrer\">this</a></p>\n\n<blockquote>\n  <p><strong>What happens if I use all of my credits?</strong></p>\n  \n  <p>If your instance uses all of its CPU credit balance, performance\n  remains at the baseline performance level. If your instance is running\n  low on credits, your instance\u2019s CPU credit consumption (and therefore\n  CPU performance) is gradually lowered to the base performance level\n  over a 15-minute interval, so you will not experience a sharp\n  performance drop-off when your CPU credits are depleted. If your\n  instance consistently uses all of its CPU credit balance, <strong>we recommend\n  a larger T2 size or a fixed performance instance type such as M3 or\n  C3</strong>.</p>\n</blockquote>\n\n<p>Im not sure you won't face to the <code>out of CPU Credit problem</code> because you are using Xlarge type but I think you should use other <code>fixed performance instance types</code>. So instance's performace maybe one part of your problem. You should use cloudwatch to monitor on 2 metrics: <code>CPUCreditUsage and CPUCreditBalance</code> to make sure the problem.\n<br/><br/>Secondly, how about your <code>ASG</code>? After scale-out, did your service become stable? If so, I think you do not care about this problem any more because ASG did what it's reponsibility.</p>\n"}], "owner": {"reputation": 462, "user_id": 3847793, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4e8d91b869f643587616fc3af45c58e1?s=128&d=identicon&r=PG&f=1", "display_name": "Cliff", "link": "https://stackoverflow.com/users/3847793/cliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 47172699, "answer_count": 4, "score": -1, "last_activity_date": 1510121365, "creation_date": 1510118088, "last_edit_date": 1510119090, "question_id": 47172039, "link": "https://stackoverflow.com/questions/47172039/aws-server-became-slow-after-traffic-increase", "title": "AWS server became slow after traffic increase", "body": "<p>I have a single page Angular app that makes request to a Rails API service. Both are running on a t2xlarge Ubuntu instance. I am using a Postgres database.</p>\n\n<p>We had increase in traffic, and my Rails API became slow. Sometimes, I get an error saying Passenger queue full for rails application.</p>\n\n<p>Auto scaling on the server is working; three more instances are created. But I cannot trace this issue. I need root access to upgrade, which I do not have. Please help me with this.</p>\n"}, {"tags": ["ruby", "rubygems"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510129752, "post_id": 47171915, "comment_id": 81298775, "body": "<code>git clone NAME &amp;&amp; gem build NAME.gemspec</code>"}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510202003, "post_id": 47171915, "comment_id": 81336924, "body": "@mudasobwa thanks for your answer, but it doesn&#39;t work for <code>rubygems</code>"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510206284, "post_id": 47171915, "comment_id": 81338282, "body": "Sure it works. You can not upload it to rubygems unless you are the owner, which is perfectly reasonable. And your question was \u201cI want to get the file rubygems-update-xxx.gem with master branch version\u201d which says nothing about rubygems at all. It would be great if you would try to put some effort in stating questions instead of abusing correct answers."}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510283935, "post_id": 47171915, "comment_id": 81379708, "body": "@mudasobwa, thanks. I think you are misunderstanding my question. I was asking about <code>rubygems</code> itself, which you can check the version by <code>gem -v</code>, not point to any gems like <code>rake</code>, <code>sidekiq</code>. etc."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510289292, "post_id": 47171915, "comment_id": 81381021, "body": "Uh. Do you want to build `rubygems`` gem itself locally? Besides I hardly can imagine the reason to do that, I doubt it is possible at all."}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510290286, "post_id": 47171915, "comment_id": 81381312, "body": "@mudasobwa There is a bug in the 2.7.1 and a fix after that version, that&#39;s the reason I want to build it locally to verify. Now the 2.7.2 is released and the bug has been fixed."}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510290360, "post_id": 47171915, "comment_id": 81381338, "body": "In such a case for wide-used gems people usually <i>downgrade locally</i>, not rebuild the internet :)"}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1510290384, "post_id": 47171915, "comment_id": 81381344, "body": "@mudasobwa Someone did it before the 2.7.2 release by using the local build <code>rubygems</code>, so I would like to know how he got it. <a href=\"https://vimeo.com/241787686\" rel=\"nofollow noreferrer\">vimeo.com/241787686</a>"}], "owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510283808, "creation_date": 1510117263, "last_edit_date": 1510283808, "question_id": 47171915, "link": "https://stackoverflow.com/questions/47171915/how-to-generate-gem-package-for-rubygems-manually", "title": "How to generate gem package for rubygems manually?", "body": "<p>I would like to generate the gem package for <a href=\"https://github.com/rubygems/rubygems\" rel=\"nofollow noreferrer\">rubygems</a> based on the master branch, which is later than the last release. Anyone know how to do it?</p>\n\n<p>I want to get the file <code>rubygems-update-xxx.gem</code> with master branch version.</p>\n\n<p>Cheers</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510116134, "post_id": 47171693, "comment_id": 81292991, "body": "whats your <code>root_path</code>?"}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 1, "creation_date": 1510116516, "post_id": 47171693, "comment_id": 81293097, "body": "check on rails console if record exists with<code>id = 1</code>  or <code>Listing.find(1)</code> ?"}, {"owner": {"reputation": 21, "user_id": 6487153, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/df68f4eda60f85ecb126c1c2dcde6d35?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Klein", "link": "https://stackoverflow.com/users/6487153/carter-klein"}, "reply_to_user": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510116827, "post_id": 47171693, "comment_id": 81293177, "body": "I changed it to this and received a URLGenerationError - <code>No route matches {:action=&gt;&quot;show&quot;, :controller=&gt;&quot;listings&quot;, :id=&gt;nil}, missing required keys: [:id].</code> Why is my id getting nil right after I click submit? Is there any other code I need to add so you can help me figure this out"}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117003, "post_id": 47171693, "comment_id": 81293228, "body": "after submitting new form you listing is not created , thats why id is <code>nil</code> here"}, {"owner": {"reputation": 21, "user_id": 6487153, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/df68f4eda60f85ecb126c1c2dcde6d35?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Klein", "link": "https://stackoverflow.com/users/6487153/carter-klein"}, "reply_to_user": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117317, "post_id": 47171693, "comment_id": 81293295, "body": "Right, is there any way to see why (from the code given) this would be the case? I am following an online tutorial pretty closely and it does not seem I&#39;ve missed anything, so I&#39;m really at a loss here."}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117325, "post_id": 47171693, "comment_id": 81293298, "body": "did you create <code>show.html.erb</code> ? and check the modified answer"}, {"owner": {"reputation": 5767, "user_id": 752920, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Oi9pN.jpg?s=128&g=1", "display_name": "Ankit", "link": "https://stackoverflow.com/users/752920/ankit"}, "edited": false, "score": 0, "creation_date": 1510117434, "post_id": 47171693, "comment_id": 81293331, "body": "can you share the <code>config&#47;routes.rb</code> file&#39;s contents."}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117448, "post_id": 47171693, "comment_id": 81293333, "body": "share your <code>routes.rb</code> or just run command <code>rake routes | grep listings</code> on console and paste your routes for listings."}, {"owner": {"reputation": 21, "user_id": 6487153, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/df68f4eda60f85ecb126c1c2dcde6d35?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Klein", "link": "https://stackoverflow.com/users/6487153/carter-klein"}, "reply_to_user": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117496, "post_id": 47171693, "comment_id": 81293354, "body": "@Anand show.html.erb is the last segment of code I posted."}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510117978, "post_id": 47171693, "comment_id": 81293495, "body": "its alright, now you try the modified answer below and check what&#39;s the error on creating listings."}, {"owner": {"reputation": 3819, "user_id": 2871922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d263eb801e15c1691fc9431e29a8cf03?s=128&d=identicon&r=PG", "display_name": "Toby 1 Kenobi", "link": "https://stackoverflow.com/users/2871922/toby-1-kenobi"}, "edited": false, "score": 0, "creation_date": 1510119094, "post_id": 47171693, "comment_id": 81293835, "body": "Please go into the rails console by typing <code>rails c</code> in the terminal in the application root directory, then type <code>Listing.pluck :id</code> and post the output."}, {"owner": {"reputation": 2372, "user_id": 8478218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0tjM.jpg?s=128&g=1", "display_name": "krishnar", "link": "https://stackoverflow.com/users/8478218/krishnar"}, "edited": false, "score": 0, "creation_date": 1510119703, "post_id": 47171693, "comment_id": 81294073, "body": "@CarterKlein can u post screenshot of error?"}], "answers": [{"tags": [], "owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "is_accepted": false, "score": -1, "last_activity_date": 1510117220, "last_edit_date": 1510117220, "creation_date": 1510116255, "answer_id": 47171740, "question_id": 47171693, "link": "https://stackoverflow.com/questions/47171693/record-not-found-error-in-rails-webapp/47171740#47171740", "title": "Record Not Found Error in Rails Webapp", "body": "<p>Do it as  </p>\n\n<pre><code>  def create\n     @listing = Listing.new(listing_params)\n     if @listing.save\n       flash[:notice] = \"Listing created successfully.\"\n       redirect_to listing_path(@listing)\n     else\n       flash[:error] = @listing.errors.full_messages\n       render 'new'\n     end\n  end\n</code></pre>\n\n<p>and check the error message in flash</p>\n"}, {"tags": [], "owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "is_accepted": false, "score": 0, "last_activity_date": 1510158605, "creation_date": 1510158605, "answer_id": 47184883, "question_id": 47171693, "link": "https://stackoverflow.com/questions/47171693/record-not-found-error-in-rails-webapp/47184883#47184883", "title": "Record Not Found Error in Rails Webapp", "body": "<p>It's likely that when you try to create the listing, you're hitting some type of validation error and the creation is being rolled back. In order to see an informative error about this, update your create action by replacing:</p>\n\n<pre><code>@listing.save\n</code></pre>\n\n<p>with </p>\n\n<pre><code>@listing.save!\n</code></pre>\n\n<p>The former (what you have) fails silently and just returns false for an invalid record. The latter (with the bang) fails with an exception on an invalid record.</p>\n"}], "owner": {"reputation": 21, "user_id": 6487153, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/df68f4eda60f85ecb126c1c2dcde6d35?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Klein", "link": "https://stackoverflow.com/users/6487153/carter-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510158605, "creation_date": 1510115927, "last_edit_date": 1510117560, "question_id": 47171693, "link": "https://stackoverflow.com/questions/47171693/record-not-found-error-in-rails-webapp", "title": "Record Not Found Error in Rails Webapp", "body": "<p>So I am attempting to learn how to make a simple Ruby on Rails application. I am creating a field where the user can input data. On submit (or create), this data is saved and then the user returns to the home page. So I have localhost:3000/listings/new to create the model, and then I attempt to get to localhost:3000/listings/1 to view the newly-created model and am met with a Record Not Found error. I'm not sure why this may be, and I have looked for a few hours with no results. </p>\n\n<p>listings_controller.rb</p>\n\n<pre><code>class ListingsController &lt; ApplicationController\n\n  def new\n    @listing = Listing.new #calls on new method in listing model\n  end\n\n  def create\n     @listing = Listing.new(listing_params)\n     @listing.save\n     redirect_to root_path\n  end\n\n  def show\n    @listing = Listing.find(params[:id])\n  end\n\n  private\n  def listing_params\n    params.require(:listing).permit(:title, :description, :city, :state, :zipcode)\n  end\n\nend\n</code></pre>\n\n<p>new.html.erb and show.html.erb (if needed)</p>\n\n<pre><code>&lt;div class=\"topbar\"&gt;\n\n&lt;/div&gt;\n&lt;div class=\"container\"&gt;\n  &lt;div id=\"contact-area\"&gt;\n\n    &lt;%= form_for @listing do |f| %&gt;\n    &lt;!-- taken from schema.rb --&gt;\n    &lt;%= f.label :title %&gt;\n    &lt;%= f.text_field :title %&gt; &lt;!-- use text field when body is just 1 line --&gt;\n\n    &lt;%= f.label :description %&gt;\n    &lt;%= f.text_area :description %&gt; &lt;!-- more for paragraphs --&gt;\n\n    &lt;%= f.label :city %&gt;\n    &lt;%= f.text_field :city %&gt;\n\n    &lt;%= f.label :state %&gt;\n    &lt;%= f.text_field :state %&gt;\n\n    &lt;%= f.label :zipcode %&gt;\n    &lt;%= f.text_field :zipcode, class: \"zip-width\", maxlength: \"5\" %&gt;\n\n    &lt;%= f.submit class: \"create-button\"%&gt;\n\n    &lt;% end %&gt;\n  &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>&lt;div class=\"topbar\"&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"vertical-center\"&gt;\n      &lt;%= link_to 'home', root_path %&gt; &gt; jobs &gt; accounting\n    &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/div&gt;\n&lt;div class=\"container\"&gt;\n  &lt;div&gt;\n     &lt;button type=\"button\"&gt;reply&lt;/button&gt;\n     posted &lt;%= time_ago_in_words(@listing.created_at) %&gt;\n    &lt;h1 class=\"listing-header\"&gt;&lt;%= @listing.title %&gt;&lt;/h1&gt;\n    &lt;div class=\"box\"&gt;\n      &lt;p&gt;test&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;p&gt;&lt;%= @listing.description%&gt;&lt;/p&gt;\n   &lt;/div&gt;\n  &lt;footer&gt;\n    &lt;p&gt;post id: &lt;%= @listing.id%&gt;&lt;/p&gt;\n    &lt;p&gt;posted &lt;%= time_ago_in_words(@listing.created_at) %&gt;&lt;/p&gt;\n  &lt;/footer&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n\n  #NOTE USE rake routes TO SEE ALL ROUTES\n\n  #Creates the CRUD actions for categories\n  resources :categories do\n  resources :subcategories #Creates CRUD actions for subcategories\n  end\n\n  resources :listings\n\n  root 'categories#index' #first page that we land on -- homepage\n\n  #matching paths to pages controller\n  match '/help', to: 'pages#help', via: :get\n  match '/scams', to: 'pages#scams', via: :get\n  match '/safety', to: 'pages#safety', via: :get\n  match '/terms', to: 'pages#terms', via: :get\n  match '/privacy', to: 'pages#privacy', via: :get\n  match '/about', to: 'pages#about', via: :get\n  match '/contact', to: 'pages#contact', via: :get\nend\n</code></pre>\n"}, {"tags": ["arrays", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": true, "score": 1, "last_activity_date": 1510120819, "last_edit_date": 1510120819, "creation_date": 1510119597, "answer_id": 47172308, "question_id": 47171660, "link": "https://stackoverflow.com/questions/47171660/empty-returns-false-for-an-empty-array-within-an-empty-array/47172308#47172308", "title": "&#39;empty?&#39; returns &#39;false&#39; for an empty array within an empty array", "body": "<p>The <code>directory_list</code> returns <code>[[]]</code>, and <code>empty?</code> returns <code>false</code>.</p>\n\n<p>it's working properly and it returns correct value, as your directory_list is not empty array, it contain empty array. You need to use <strong><a href=\"https://apidock.com/ruby/Array/flatten\" rel=\"nofollow noreferrer\">Array#flatten</a></strong></p>\n\n<pre><code>&gt; [[]].flatten.empty?\n#=&gt; true \n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 8377803, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5830df75f0a77fc8e13dab48748cb559?s=128&d=identicon&r=PG&f=1", "display_name": "Tom D", "link": "https://stackoverflow.com/users/8377803/tom-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47172308, "answer_count": 1, "score": 0, "last_activity_date": 1510120819, "creation_date": 1510115708, "last_edit_date": 1510116918, "question_id": 47171660, "link": "https://stackoverflow.com/questions/47171660/empty-returns-false-for-an-empty-array-within-an-empty-array", "title": "&#39;empty?&#39; returns &#39;false&#39; for an empty array within an empty array", "body": "<p>My script returns an empty array in another empty array (or I guess it's not empty because there is another empty array within the other array).</p>\n\n<p>I have an <code>if</code> condition that checks if the outer array is empty. It says it's not empty because it contains an empty array. I need help to get it return <code>false</code>. I believe the best method would be to check if the inner array is empty, but I'm not sure where the inner array is created.</p>\n\n<p>Here's the code for the method that checks if the array is empty:</p>\n\n<pre><code>def directory_check(directory_list, save_to_file, today_date, output_file, output_extension, results_file_output)\n  if directory_list.empty? == false\n    # changes the working directory to the file output directory for the file\n    Dir.chdir(save_to_file)\n\n    # writes the array contents into a new file\n    file_name = output_file + \"_\" + today_date + output_extension\n    puts Time.now.to_s + \"  &gt;  \" +  \"Saving contents to:  \" + results_file_output + file_name\n    puts \"\"\n    File.open(file_name, \"a+\") do |f| \n      directory_list.each { |element| f.puts(element) }\n    end\n  else\n    puts Time.now.to_s + \"  &gt;  \" +  \"This directory does not contain any subdirectories that are older than 24 hours\"\n    exit\n  end\nend \n</code></pre>\n\n<p>The <code>directory_list</code> returns <code>[[]]</code>, and <code>empty?</code> returns <code>false</code>.</p>\n\n<p>I have another method that stores items into an array, but I cannot figure out why there is an array within an array:</p>\n\n<pre><code>def store_directories(directories, folder_to_exclude)    \n  # updates search directory for each value for the directories hash\n  subdir_list = Array.new\n  directories.each do |element|\n    directory = \"#{element}\"\n    puts Time.now.to_s + \"  &gt;  \" +  \"Updating search directory: \" + directory\n    Dir.chdir(directory)\n\n    # outputs only subdirectories with a creation date of older than 24 hours, except for folders names 'Archive'\n    Dir.glob(\"*.*\").map(&amp;File.method(:realpath))\n    puts Time.now.to_s + \"  &gt;  \" +  \"Gathering subdirectories...\"\n    puts \"\"\n\n    # Stores the contents of the query into an array and appends to the list for each iteration of the array\n    subdir_list &lt;&lt; Dir.glob(\"*\").map(&amp;File.method(:realpath)).reject  {|files|\n     (not File.directory?(files) &amp;&amp;\n      (File.mtime(files) &lt; (Time.now - (60*1440))) &amp;&amp; \n      (not files == directory + folder_to_exclude))\n    }\n\n    puts \"\"\n    puts \"Adding new folders to the list...\"\n    puts \"\"\n    puts \"Excluding: \" + directory + folder_to_exclude\n    puts \"\"\n    puts subdir_list\n    puts \" \"\n  end\n  return subdir_list\nend\n</code></pre>\n\n<p>I'm passing an array of directories into the <code>store_directories</code> method.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "cloud9-ide"], "comments": [{"owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1510115236, "post_id": 47171411, "comment_id": 81292739, "body": "Working from the terminal you should be able to connect simply by running <code>telnet cloud9workspace 3000</code>. If that doesn&#39;t work, then the problem is not with your Ruby code."}, {"owner": {"reputation": 2116, "user_id": 6780663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9207ba3b9163582570078b687f9b2792?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Montilla", "link": "https://stackoverflow.com/users/6780663/alejandro-montilla"}, "edited": false, "score": 1, "creation_date": 1510595134, "post_id": 47171411, "comment_id": 81491627, "body": "I&#39;m not sure about the features of a pro workspace, but are you sure you have access to the port 3000 in Cloud9?"}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 2074840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11346f6761befbc4857bca7eb1eb85a1?s=128&d=identicon&r=PG", "display_name": "michal.samluk", "link": "https://stackoverflow.com/users/2074840/michal-samluk"}, "is_accepted": false, "score": 1, "last_activity_date": 1531143106, "creation_date": 1531143106, "answer_id": 51246832, "question_id": 47171411, "link": "https://stackoverflow.com/questions/47171411/websocket-is-closed-before-the-connection-is-established-rails-5/51246832#51246832", "title": "WebSocket is closed before the connection is established - Rails 5", "body": "<p>What about running ActionCable standalone server? Are you using puma?</p>\n\n<p>Add <code>cable/config.ru</code></p>\n\n<pre><code>require_relative '../config/environment'\nRails.application.eager_load!\nrun ActionCable.server\n</code></pre>\n\n<p>And start your server (on 28080 port): </p>\n\n<pre><code>bundle exec puma -p 28080 cable/config.ru\n</code></pre>\n"}], "owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1531143106, "creation_date": 1510114002, "question_id": 47171411, "link": "https://stackoverflow.com/questions/47171411/websocket-is-closed-before-the-connection-is-established-rails-5", "title": "WebSocket is closed before the connection is established - Rails 5", "body": "<p>I'm trying to get action cable to work and I'm getting the error </p>\n\n<pre><code> WebSocket connection to 'ws://cloud9workspace:3000/cable' failed: WebSocket is closed before the connection is established.\n</code></pre>\n\n<p>I've looked all over google and can't find anything that works. I did add line 3 to my config.ru because someone on Cloud9 community said they tried it and it worked. It didn't work for me though.</p>\n\n<pre><code>require ::File.expand_path('../../config/environment',  __FILE__)\nRails.application.eager_load!\nActionCable.server.config.disable_request_forgery_protection = true\n\nrun ActionCable.server\n</code></pre>\n\n<p>I am using a pro workspace on cloud9 but  I haven't seen anything that indicates cloud9 to be the issue. I've been stuck on this for a while now. Any help would be appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mechanize"], "comments": [{"owner": {"reputation": 5535, "user_id": 7295772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZhWhR.jpg?s=128&g=1", "display_name": "Fabrizio Bertoglio", "link": "https://stackoverflow.com/users/7295772/fabrizio-bertoglio"}, "edited": false, "score": 0, "creation_date": 1510129630, "post_id": 47171190, "comment_id": 81298717, "body": "<a href=\"http://docs.seattlerb.org/mechanize/Mechanize.html\" rel=\"nofollow noreferrer\">docs.seattlerb.org/mechanize/Mechanize.html</a>"}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1510188342, "post_id": 47171190, "comment_id": 81333596, "body": "You need to use the form. Set the inputs like this: <code>form[&#39;ctl00$ContenidoPagina$txtPeso&#39;] = &#39;2&#39;</code>"}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1510282273, "post_id": 47171190, "comment_id": 81379293, "body": "@pguardiario but how I catch the form?"}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1510284392, "post_id": 47171190, "comment_id": 81379817, "body": "@pguardiario I tried with that input and I keep getting the actual page as output from the submit."}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1510288905, "post_id": 47171190, "comment_id": 81380926, "body": "It sounds like it didn&#39;t like your request. Those .NET forms can be a pain to troubleshoot."}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1510291281, "post_id": 47171190, "comment_id": 81381616, "body": "@pguardiario So... I&#39;m screwed up"}], "owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510112423, "creation_date": 1510112423, "question_id": 47171190, "link": "https://stackoverflow.com/questions/47171190/submit-a-form-with-mechanize-and-rails", "title": "Submit a form with Mechanize and Rails", "body": "<p>I'm trying to estimate the cost of the shipment from the shipping company page.</p>\n\n<p>The problem is that I don't know what I'm doing wrong. </p>\n\n<p>This is my approach:</p>\n\n<pre><code>    mechanize = Mechanize.new\npage = mechanize.get('http://www.chilexpress.cl/cotizador-envios-de-encomiendas-tarifas')\norigen = page.at(\"#ddlOrigenCotizacion\")\ndestino = page.at(\"#ddlDestinoCotizacion\")\nproducto = page.at(\"#ddlProductoCotizacion\")\nlink = page.at(\"#btnSig\")\nlargo = page.at(\"#txtLargo\")\nancho = page.at(\"#txtAncho\")\nalto = page.at(\"#txtAlto\")\npeso = page.at(\"#txtPeso\")\norigen['value'] = 'AHOS'\ndestino['value'] = 'AHOS'\nproducto['value'] = '3'\nlargo['value'] = '5'\nalto['value'] = '5'\nancho['value'] = '5'\npeso['value'] = '2'\nputs mechanize.click(link).uri\nputs '---------'\n</code></pre>\n\n<p>But is not working, <code>mechanize.click(link).uri</code> return the same page that <code>page.uri</code></p>\n\n<p>Also I tried page.form_with(:id => 'formPrincipal') approach, but i was not able to get the form inputs.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-5", "actioncable"], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 8034689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBqDA.png?s=128&g=1", "display_name": "Ti Zhang", "link": "https://stackoverflow.com/users/8034689/ti-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1513314769, "creation_date": 1513314769, "answer_id": 47826150, "question_id": 47169959, "link": "https://stackoverflow.com/questions/47169959/rails-5-action-cable-not-working/47826150#47826150", "title": "Rails 5 Action Cable Not Working", "body": "<p>seems like your issue lies here: </p>\n\n<blockquote>\n  <p>Cannot render console from 75.65.92.24! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255</p>\n</blockquote>\n\n<p>You might find this question helpful:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29417328/how-to-disable-cannot-render-console-from-on-rails\">How to disable &quot;Cannot Render Console from...&quot; on Rails</a></p>\n"}], "owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1645, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513314769, "creation_date": 1510103352, "question_id": 47169959, "link": "https://stackoverflow.com/questions/47169959/rails-5-action-cable-not-working", "title": "Rails 5 Action Cable Not Working", "body": "<p>I've looked at multiple tutorials and cannot seem to receive notifications from action cable when I create a new Message record. All I am trying to do is print out the response in the console just so I know it works. I've installed redis but still no luck. Here are my files. Any help would be appreciated. </p>\n\n<p>cable.yml</p>\n\n<pre><code>redis: &amp;redis\nadapter: redis\nurl: redis://localhost:6379/1\n\nproduction: *redis\ndevelopment: *redis\ntest: *redis\n</code></pre>\n\n<p>application.js</p>\n\n<pre><code>//= require jquery\n//= require bootstrap-sprockets\n//= require rails-ujs\n//= require turbolinks\n//= require_tree ./channels\n</code></pre>\n\n<p>cable.js</p>\n\n<pre><code>// Action Cable provides the framework to deal with WebSockets in Rails.\n// You can generate new channels where WebSocket features live using the `rails generate channel` command.\n//\n//= require action_cable\n//= require_self\n//= require_tree ./channels\n\n(function() {\n  this.App || (this.App = {});\n\n  App.cable = ActionCable.createConsumer();\n\n}).call(this);\n</code></pre>\n\n<p>messages.js</p>\n\n<pre><code>//= require cable\n//= require_self\n\n(function() {\n    // Subscrive to the class name of the channel\n    App.messages = App.cable.subscriptions.create('MessagesChannel', {\n    /**\n     * Whenever this channel pushes content, it is received here\n     */\n    received: function(message) {\n        console.log(message);\n\n    }\n  });\n}).call(this);\n</code></pre>\n\n<p>channels/messages.rb</p>\n\n<pre><code>class MessagesChannel &lt; ApplicationCable::Channel\n  def subscribed\n    stream_from 'messages'\n  end\nend\n</code></pre>\n\n<p>models/message.rb</p>\n\n<pre><code>class Message &lt; ApplicationRecord\n\n    after_save :broadcast_save\n\n    def broadcast_save\n       ActionCable.server.broadcast 'messages', html: render_task\n    end\n\n    private\n    def render_task\n       ApplicationController.render(partial: 'messages/message', locals: { message: self })\n    end\n  end\n</code></pre>\n\n<p>application.html.erb head element</p>\n\n<pre><code> &lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;%= action_cable_meta_tag %&gt;\n    &lt;%= csrf_meta_tags %&gt;\n    &lt;%= javascript_include_tag \"//static.twilio.com/libs/twiliojs/1.2/twilio.min.js\" %&gt;\n    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;\n    &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;\n\n  &lt;/head&gt;\n</code></pre>\n\n<p>For testing purposes, I just create a new message when the controller action is called. </p>\n\n<pre><code>class PhoneController &lt; ApplicationController\n\n    def index\n        @tickets = []\n        Message.create(body: \"Test\")\n    end\nend\n</code></pre>\n\n<p>console output for rails</p>\n\n<pre><code>Started GET \"/phone\" for 75.65.92.24 at 2017-11-08 00:54:15 +0000\nCannot render console from 75.65.92.24! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255\nProcessing by PhoneController#index as HTML\n   (0.1ms)  BEGIN\n  SQL (0.7ms)  INSERT INTO \"messages\" (\"body\", \"created_at\", \"updated_at\") \nVALUES ($1, $2, $3) RETURNING \"id\"  [[\"body\", \"Test\"], [\"created_at\", \"2017-\n11-08 00:54:15.192006\"], [\"updated_at\", \"2017-11-08 00:54:15.192006\"]]\n  Rendered messages/_message.html.erb (0.5ms)\n[ActionCable] Broadcasting to messages: {:html=&gt;\"asdf\"}\n   (5.4ms)  COMMIT\n  Rendering phone/index.html.erb within layouts/application\n  Rendered phone/index.html.erb within layouts/application (0.8ms)\nCompleted 200 OK in 77ms (Views: 60.7ms | ActiveRecord: 6.3ms)\n</code></pre>\n\n<p>redis console output (last line)</p>\n\n<pre><code>[37939] 08 Nov 00:49:19.158 * The server is now ready to accept connections on port 6379\n</code></pre>\n"}, {"tags": ["ruby", "windows", "sass"], "comments": [{"owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "edited": false, "score": 0, "creation_date": 1510103418, "post_id": 47169880, "comment_id": 81289657, "body": "have you checked <a href=\"https://github.com/sass/sass/issues/2359\" rel=\"nofollow noreferrer\">github.com/sass/sass/issues/2359</a>?"}, {"owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "reply_to_user": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "edited": false, "score": 0, "creation_date": 1510103524, "post_id": 47169880, "comment_id": 81289681, "body": "I happened on that page, but... am I trying to start a Rails server by running <code>sass</code>? I didn&#39;t think so, but even if so, I&#39;m not sure how to apply the information."}, {"owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1510116203, "post_id": 47169880, "comment_id": 81293009, "body": "Update your Ruby version to a newer one. Also why are you running Sass 3.5 RC1? Version 3.5.3 is the latest one. You should update your sass gem also."}, {"owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "edited": false, "score": 0, "creation_date": 1510122255, "post_id": 47169880, "comment_id": 81295027, "body": "Using a newer Ruby (223, which I already had installed) and installing SASS into that Ruby worked. Thanks!"}], "owner": {"reputation": 690, "user_id": 2069516, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5ee5d002b57ffc03b04121d1d050180?s=128&d=identicon&r=PG&f=1", "display_name": "John Alexander", "link": "https://stackoverflow.com/users/2069516/john-alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510102793, "creation_date": 1510102793, "question_id": 47169880, "link": "https://stackoverflow.com/questions/47169880/sass-not-working-on-windows", "title": "SASS not working on Windows", "body": "<p>I've used SASS a lot before, but it was through running <code>bundle exec compass watch</code> on existing projects that I didn't set up. Now I'm just trying to set up the most basic possible project myself. I'm on Windows 10. I have Ruby installed through uru, and I have SASS installed within one of my rubies. I made a directory called <code>sass</code> and a directory called <code>css</code>.</p>\n\n<p>When I type <code>sass</code> (by itself, or followed by anything at all), it throws up, and I have absolutely no idea what it means:</p>\n\n<pre><code>C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2053: warning: else without rescue is useless\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2059: warning: else without rescue is useless\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2098: warning: else without rescue is useless\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require': C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2049: syntax error, unexpected modifier_if (SyntaxError)\n          if separator.value == 'auto'\n            ^\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2053: syntax error, unexpected ',', expecting keyword_end\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2059: syntax error, unexpected ')', expecting keyword_end\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2094: syntax error, unexpected modifier_if\n          if separator.value == 'auto'\n            ^\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2098: syntax error, unexpected ')', expecting keyword_end\nC:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script/functions.rb:2884: syntax error, unexpected keyword_end, expecting end-of-input\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script.rb:34:in `&lt;module:Script&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script.rb:8:in `&lt;module:Sass&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/script.rb:3:in `&lt;top (required)&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass/engine.rb:46:in `&lt;top (required)&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:73:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/lib/sass.rb:99:in `&lt;top (required)&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:126:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:126:in `require'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/lib/ruby/gems/2.1.0/gems/sass-3.5.0.pre.rc.1/bin/sass:6:in `&lt;top (required)&gt;'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/bin/sass:23:in `load'\n        from C:/Ruby/ruby-2.1.3-i386-mingw32/bin/sass:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>The Googles aren't helping me much here. I'm great with actual SASS syntax and basic command-line stuff, but with Ruby I'm still at the \"tell me exactly what to type\" phase. What do I do?</p>\n"}, {"tags": ["ruby", "email", "smtp", "relay"], "comments": [{"owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "edited": false, "score": 0, "creation_date": 1510099341, "post_id": 47169306, "comment_id": 81288660, "body": "Did you try with a dummy FROM address?"}, {"owner": {"reputation": 382, "user_id": 5063336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fd0d38dd403b01722df127f7dc6807?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5063336/tom"}, "edited": false, "score": 1, "creation_date": 1510103862, "post_id": 47169306, "comment_id": 81289769, "body": "You don&#39;t.  The MTA is going to require one anyway.  Actually, the SMTP protocol itself requires one; you have to have one to &#39;speak&#39; SMTP.  You at least have to specify a blank address to the MAIL FROM: in an SMTP transaction."}, {"owner": {"reputation": 1267, "user_id": 1718633, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/fabe1e6b28afc64cdbd3c071621a7565?s=128&d=identicon&r=PG", "display_name": "Rich_F", "link": "https://stackoverflow.com/users/1718633/rich-f"}, "edited": false, "score": 0, "creation_date": 1553519887, "post_id": 47169306, "comment_id": 97402516, "body": "<code>localhost</code> is giving me authentication errors.  Did you get this fixed?  My <code>localhost</code> workstation doesn&#39;t have a <code>FQDN</code> so it isn&#39;t working and I&#39;m also looking to solve this."}], "owner": {"reputation": 301, "user_id": 8377803, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5830df75f0a77fc8e13dab48748cb559?s=128&d=identicon&r=PG&f=1", "display_name": "Tom D", "link": "https://stackoverflow.com/users/8377803/tom-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510098646, "creation_date": 1510098646, "question_id": 47169306, "link": "https://stackoverflow.com/questions/47169306/unable-to-send-mail-using-smtp-relay-ruby-mail-gem", "title": "Unable to send Mail using smtp relay, Ruby mail gem", "body": "<p>I'm trying to send an email using the 'mail' gem (packaging using OCRA), but I'm getting an error message: </p>\n\n<pre><code>=== Loading script to check dependencies\nC:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/check_delivery_params.rb:\n13:in `check_from': SMTP From address may not be blank: nil (ArgumentError)\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/check_delive\nry_params.rb:6:in `check'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/network/deli\nvery_methods/smtp.rb:97:in `deliver!'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/message.rb:2\n149:in `do_delivery'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/message.rb:2\n39:in `deliver'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/mail-2.6.6/lib/mail/mail.rb:141:\nin `deliver'\n        from c:/BacklogAlert.rb:140:in `send_email'\n        from c:/BacklogAlert.rb:163:in `&lt;top (required)&gt;'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/ocra-1.3.10/bin/ocra:1211:in `lo\nad'\n        from C:/Ruby23/lib/ruby/gems/2.3.0/gems/ocra-1.3.10/bin/ocra:1211:in `&lt;t\nop (required)&gt;'\n        from C:/Ruby23/bin/ocra:22:in `load'\n        from C:/Ruby23/bin/ocra:22:in `&lt;main&gt;'\n</code></pre>\n\n<p>The problem is that we're using an internal smtp mail relay which only allows devices to send to internal recipients, so the \"from\" address isn't needed.</p>\n\n<p>Here's my code: </p>\n\n<pre><code>  Mail.defaults do\n      delivery_method :smtp, mail_options\n    end\n\n    Mail.deliver do\n           to email_recipient\n         from email_sender\n      subject 'Test email ' + today_date\n         body 'Attached is a file'\n         add_file test_file\n       end\n</code></pre>\n\n<p>How do i get the email to send without specifying a \"from\" address?</p>\n"}, {"tags": ["arrays", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "is_accepted": true, "score": 5, "last_activity_date": 1510099061, "creation_date": 1510099061, "answer_id": 47169370, "question_id": 47169301, "link": "https://stackoverflow.com/questions/47169301/create-all-possibly-repeated-combinations-of-letters/47169370#47169370", "title": "Create all possibly repeated combinations of letters", "body": "<p>Try <code>repeated_combination</code>:</p>\n\n<blockquote>\n  <p>('A'..'F').to_a.repeated_combination(4).to_a</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code> &gt; ('A'..'C').to_a.repeated_combination(4).to_a\n =&gt; [[\"A\", \"A\", \"A\", \"A\"], [\"A\", \"A\", \"A\", \"B\"], [\"A\", \"A\", \"A\", \"C\"], [\"A\", \"A\", \"B\", \"B\"], [\"A\", \"A\", \"B\", \"C\"], [\"A\", \"A\", \"C\", \"C\"], [\"A\", \"B\", \"B\", \"B\"], [\"A\", \"B\", \"B\", \"C\"], [\"A\", \"B\", \"C\", \"C\"], [\"A\", \"C\", \"C\", \"C\"], [\"B\", \"B\", \"B\", \"B\"], [\"B\", \"B\", \"B\", \"C\"], [\"B\", \"B\", \"C\", \"C\"], [\"B\", \"C\", \"C\", \"C\"], [\"C\", \"C\", \"C\", \"C\"]]\n</code></pre>\n"}], "owner": {"reputation": 1690, "user_id": 4602919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c8081c1665f7277b43cf167af5ccf28?s=128&d=identicon&r=PG&f=1", "display_name": "Asara", "link": "https://stackoverflow.com/users/4602919/asara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 47169370, "answer_count": 1, "score": 0, "last_activity_date": 1510111940, "creation_date": 1510098611, "last_edit_date": 1510111940, "question_id": 47169301, "link": "https://stackoverflow.com/questions/47169301/create-all-possibly-repeated-combinations-of-letters", "title": "Create all possibly repeated combinations of letters", "body": "<p>I want to create an array of possibly repeated combinations of <code>n</code> elements from the letters <code>A</code> to <code>F</code>. Each combination should be an array. For <code>n</code> = 4 for example, the result should be:</p>\n\n<pre><code>[[A, A, A, A], [A, A, A, B], [A, A, A, C], ..., [F, F, F, F]]\n</code></pre>\n\n<p>without significance in order among the elements (<code>[A, A, E, E]</code> and <code>[E, E, A, A]</code> would be the same).</p>\n\n<p>I tried it with:</p>\n\n<pre><code>('A'..'F').to_a.combination(4).to_a\n</code></pre>\n\n<p>but that didn't work. I guess the task is more complicated.</p>\n"}, {"tags": ["ruby", "linux", "vagrant"], "answers": [{"tags": [], "owner": {"reputation": 20644, "user_id": 184184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f6a508697f9eca2680b12ddb85ba1319?s=128&d=identicon&r=PG", "display_name": "Lenin Raj Rajasekaran", "link": "https://stackoverflow.com/users/184184/lenin-raj-rajasekaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1510098443, "creation_date": 1510098443, "answer_id": 47169285, "question_id": 47169167, "link": "https://stackoverflow.com/questions/47169167/vagrant-stack-level-too-deep-systemstackerror-when-trying-to-loop-create-machi/47169285#47169285", "title": "Vagrant stack level too deep (SystemStackError) when trying to loop create machines", "body": "<pre><code>(1..3).each do |i|\n  config.vm.define \"node-#{i}\" do |node|\n    node.vm.provision \"shell\",\n      inline: \"echo hello from node #{i}\"\n  end\nend\n</code></pre>\n\n<p>Example from <a href=\"https://www.vagrantup.com/docs/vagrantfile/tips.html\" rel=\"nofollow noreferrer\">https://www.vagrantup.com/docs/vagrantfile/tips.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8903157, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155729957340782/picture?type=large", "display_name": "Timosen Tommi", "link": "https://stackoverflow.com/users/8903157/timosen-tommi"}, "edited": false, "score": 0, "creation_date": 1510140130, "post_id": 47177064, "comment_id": 81305691, "body": "Thank you. Seems like this was the problem. I got rid of the     def slave()    slave{i}    end  and changed the code like you said and it started rolling nicely."}], "tags": [], "owner": {"reputation": 44774, "user_id": 4296747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-muYS9LV5AoA/AAAAAAAAAAI/AAAAAAAACG4/KcTmlFyGWRI/photo.jpg?sz=128", "display_name": "Frederic Henri", "link": "https://stackoverflow.com/users/4296747/frederic-henri"}, "is_accepted": true, "score": 1, "last_activity_date": 1510136386, "creation_date": 1510136386, "answer_id": 47177064, "question_id": 47169167, "link": "https://stackoverflow.com/questions/47169167/vagrant-stack-level-too-deep-systemstackerror-when-trying-to-loop-create-machi/47177064#47177064", "title": "Vagrant stack level too deep (SystemStackError) when trying to loop create machines", "body": "<p>The main issue is </p>\n\n<pre><code>slave{i}.vm.hostname\n</code></pre>\n\n<p>Just replace with</p>\n\n<pre><code>slave.vm.hostname\n</code></pre>\n\n<p>as slave is the name of variable used there.</p>\n"}], "owner": {"reputation": 23, "user_id": 8903157, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155729957340782/picture?type=large", "display_name": "Timosen Tommi", "link": "https://stackoverflow.com/users/8903157/timosen-tommi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 1, "accepted_answer_id": 47177064, "answer_count": 2, "score": 1, "last_activity_date": 1510136386, "creation_date": 1510097702, "last_edit_date": 1510098834, "question_id": 47169167, "link": "https://stackoverflow.com/questions/47169167/vagrant-stack-level-too-deep-systemstackerror-when-trying-to-loop-create-machi", "title": "Vagrant stack level too deep (SystemStackError) when trying to loop create machines", "body": "<p>So I am trying to create vagrantfile that loops and creates multiple machines for a school project.</p>\n\n<p>The code is:</p>\n\n<pre><code>def slave()\n  slave{i}\nend\n\nVagrant.configure(2) do |config|\n  config.vm.box = \"minimal/xenial64\"\n  config.vm.provision \"shell\", inline: $ttscript\n\n  (1..3).each do |i|\n    config.vm.define \"slave{i}\" do |slave|\n      slave{i}.vm.hostname = \"slave{i}\"\n  end\nend\n</code></pre>\n\n<p>end</p>\n\n<p>I couldn't put the variable <code>i</code> to where the slave is now so I tried to create definition for it, but it just errors with message:</p>\n\n<pre><code>/home/mestari420/Vagrantfile:14:in `slave': stack level too deep (SystemStackError)\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n    from /home/mestari420/Vagrantfile:14:in `slave'\n     ... 11894 levels...\n    from /usr/share/vagrant/plugins/commands/up/command.rb:85:in `execute'\n    from /usr/lib/ruby/vendor_ruby/vagrant/cli.rb:42:in `execute'\n    from /usr/lib/ruby/vendor_ruby/vagrant/environment.rb:268:in `cli'\n    from /usr/bin/vagrant:173:in `&lt;main&gt;'\n</code></pre>\n\n<p>What is wrong with my method of doing this?</p>\n"}, {"tags": ["ruby", "amazon-web-services", "amazon-ec2"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 926295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35ec8515fd4d4755abe33722be41ff2?s=128&d=identicon&r=PG", "display_name": "Dmytro", "link": "https://stackoverflow.com/users/926295/dmytro"}, "reply_to_user": {"reputation": 6321, "user_id": 21293, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3899a45d8a5c74bf74dea225d1b0247b?s=128&d=identicon&r=PG", "display_name": "user21293", "link": "https://stackoverflow.com/users/21293/user21293"}, "edited": false, "score": 0, "creation_date": 1510206078, "post_id": 47170187, "comment_id": 81338219, "body": "Documentation for spot instances mentions user data: <a href=\"http://docs.aws.amazon.com/cli/latest/reference/ec2/request-spot-instances.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cli/latest/reference/ec2/&hellip;</a>  Also as far as I can see from AWS console, when selected spot instance, user data entry box is still available, not disabled."}], "tags": [], "owner": {"reputation": 149, "user_id": 926295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35ec8515fd4d4755abe33722be41ff2?s=128&d=identicon&r=PG", "display_name": "Dmytro", "link": "https://stackoverflow.com/users/926295/dmytro"}, "is_accepted": false, "score": 1, "last_activity_date": 1510105055, "creation_date": 1510105055, "answer_id": 47170187, "question_id": 47169147, "link": "https://stackoverflow.com/questions/47169147/executing-script-on-ec2-spot-instances-remotely/47170187#47170187", "title": "Executing script on EC2 spot instances remotely", "body": "<p>You could use user data with cloud init directives to pass script to your instance on boot. </p>\n\n<p>When you create an instance pass cloud init configuration like below:</p>\n\n<pre><code>#cloud-config\nrepo_update: true\nrepo_upgrade: all\n\npackages:\n - ruby\n\nruncmd:\n  - /usr/bin/ruby -e '...'\n</code></pre>\n\n<p>See <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html#user-data-shell-scripts\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html#user-data-shell-scripts</a> for the documentation*</p>\n"}], "owner": {"reputation": 6321, "user_id": 21293, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3899a45d8a5c74bf74dea225d1b0247b?s=128&d=identicon&r=PG", "display_name": "user21293", "link": "https://stackoverflow.com/users/21293/user21293"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510105055, "creation_date": 1510097561, "question_id": 47169147, "link": "https://stackoverflow.com/questions/47169147/executing-script-on-ec2-spot-instances-remotely", "title": "Executing script on EC2 spot instances remotely", "body": "<p>I have a Ruby script that calls a shell script on an EC2 AMI that I would like to start on launch of the EC2 spot instance.</p>\n\n<p>In the past I've used Ruby's Net::SSH to SSH into the instance once it launched to run the script, but I don't have my old example code in front of me - can anyone point me in the right direction?</p>\n\n<p>Launching the script on startup would work as well.</p>\n\n<p>Thanks,\nBen</p>\n"}, {"tags": ["java", "ruby", "encryption", "rsa", "public-key-encryption"], "comments": [{"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1510096763, "post_id": 47168986, "comment_id": 81287940, "body": "Output the modulus as a BigInteger in Ruby and in Java and check if they are the same.  Should help you to determine if you are loading the private key in Java correctly.  Also check what padding each are using.  Your Ruby code doesn&#39;t make it obvious if you are using PKCS#1Padding or OAEP."}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1510097130, "post_id": 47168986, "comment_id": 81288060, "body": "Well, my code is using PKCS1 padding."}, {"owner": {"reputation": 6510, "user_id": 2196561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac22ef3edb7836c3af11f5511f7942f8?s=128&d=identicon&r=PG", "display_name": "Ebbe M. Pedersen", "link": "https://stackoverflow.com/users/2196561/ebbe-m-pedersen"}, "edited": false, "score": 0, "creation_date": 1510100941, "post_id": 47168986, "comment_id": 81289058, "body": "So what padding do the Java side expect?"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 6510, "user_id": 2196561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac22ef3edb7836c3af11f5511f7942f8?s=128&d=identicon&r=PG", "display_name": "Ebbe M. Pedersen", "link": "https://stackoverflow.com/users/2196561/ebbe-m-pedersen"}, "edited": false, "score": 0, "creation_date": 1510103807, "post_id": 47168986, "comment_id": 81289751, "body": "@EbbeM.Pedersen It expects PKCS1."}, {"owner": {"reputation": 30237, "user_id": 6371459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0DDLp.jpg?s=128&g=1", "display_name": "pedrofb", "link": "https://stackoverflow.com/users/6371459/pedrofb"}, "edited": false, "score": 0, "creation_date": 1510301750, "post_id": 47168986, "comment_id": 81386008, "body": "It would be necessary that you include the Java  code  of the API in your question, including the decryption part, loading of the private key and decoding of the data sent by the client"}, {"owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "reply_to_user": {"reputation": 30237, "user_id": 6371459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0DDLp.jpg?s=128&g=1", "display_name": "pedrofb", "link": "https://stackoverflow.com/users/6371459/pedrofb"}, "edited": false, "score": 0, "creation_date": 1510325794, "post_id": 47168986, "comment_id": 81401032, "body": "@pedrofb It&#39;s not possible."}], "answers": [{"tags": [], "owner": {"reputation": 2045, "user_id": 2036983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXiC8.jpg?s=128&g=1", "display_name": "Jonathan Rosenne", "link": "https://stackoverflow.com/users/2036983/jonathan-rosenne"}, "is_accepted": false, "score": 2, "last_activity_date": 1510321335, "creation_date": 1510321335, "answer_id": 47224145, "question_id": 47168986, "link": "https://stackoverflow.com/questions/47168986/string-encrypted-in-ruby-gives-badpaddingexception-when-decrypted-in-java/47224145#47224145", "title": "String encrypted in Ruby gives: &#39;BadPaddingException&#39; when decrypted in Java", "body": "<p>According to <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/javax/crypto/Cipher.java\" rel=\"nofollow noreferrer\">the openJdk source code</a>, BadPaddingException means \"if this cipher is in decryption mode, and (un)padding has been requested, but the decrypted data is not bounded by the appropriate padding bytes\". This means that there are two separate possible reasons for this exception - whose name is probably misleading, while being technically correct at the lowest level - either the padding is wrong, or the decryption does not match the encryption. In the latter case the result of the decryption would be gibberish, and thus - to interpret the technical language of the source code - would not fit the padding scheme. </p>\n"}, {"tags": [], "owner": {"reputation": 4061, "user_id": 2181703, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f0782a6f7690b5109552cb3fe4193a72?s=128&d=identicon&r=PG", "display_name": "Optional", "link": "https://stackoverflow.com/users/2181703/optional"}, "is_accepted": false, "score": 1, "last_activity_date": 1510644806, "last_edit_date": 1510644806, "creation_date": 1510643088, "answer_id": 47279591, "question_id": 47168986, "link": "https://stackoverflow.com/questions/47168986/string-encrypted-in-ruby-gives-badpaddingexception-when-decrypted-in-java/47279591#47279591", "title": "String encrypted in Ruby gives: &#39;BadPaddingException&#39; when decrypted in Java", "body": "<p>From <a href=\"https://books.google.co.in/books?id=xZDIAu90ukEC&amp;pg=PA95&amp;lpg=PA95#v=onepage&amp;q&amp;f=false\" rel=\"nofollow noreferrer\">Cryptography book</a></p>\n\n<blockquote>\n  <p>'PKCS1 padding adds 11 bytes to your original data.'</p>\n</blockquote>\n\n<p>So you shall encrypt using buffer of size public key length - 11 and use actual public key size for decryption</p>\n\n<p>For 1024 bit RSA keys, the encryption size is normally 117 and decryption buffer size is 128. </p>\n"}, {"tags": [], "owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "is_accepted": true, "score": 3, "last_activity_date": 1510695300, "last_edit_date": 1510695300, "creation_date": 1510679875, "answer_id": 47291680, "question_id": 47168986, "link": "https://stackoverflow.com/questions/47168986/string-encrypted-in-ruby-gives-badpaddingexception-when-decrypted-in-java/47291680#47291680", "title": "String encrypted in Ruby gives: &#39;BadPaddingException&#39; when decrypted in Java", "body": "<p>I wrote a very simple Java program to decrypt the output from that very simple Ruby program and it worked fine. Thus, not surprisingly, there's no <em>inherent</em> incompatibility between the ruby openssl module and standard Java cryptography. Without any more info about the Java side, all we can do is list some of the possibilities:</p>\n\n<ol>\n<li>Mismatched keys</li>\n</ol>\n\n<p>The public key you are using must correspond to the private key the Java side is using. If not, you'll likely receive the BadPadding exception.</p>\n\n<ol start=\"2\">\n<li>Formatting issues</li>\n</ol>\n\n<p>Obviously what you transmit, base64 encoded strings with embedded newlines, must be correctly parsed and decoded on the Java side. Getting a single byte wrong can cause the error you see. Most base64 decoders either choke on the newlines and throw an exception or ignore them. Neither explanation would result in a BadPaddingException. Perhaps the Java side is expecting <a href=\"https://stackoverflow.com/q/43089541/238704\">Base64URL instead of Base64</a>? <em>If</em> the Java side is expecting base64url encoding and <em>if</em> it ignores invalid characters then this could be the problem. It's worth trying to remove whitespace including newlines from the base64 output, and if that doesn't work then try encoding with a base64url encoder (again, remove any whitespace from the output).</p>\n"}], "owner": {"reputation": 16234, "user_id": 2202702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lTGWe.jpg?s=128&g=1", "display_name": "Arslan Ali", "link": "https://stackoverflow.com/users/2202702/arslan-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 47291680, "answer_count": 3, "score": 4, "last_activity_date": 1510695300, "creation_date": 1510096574, "question_id": 47168986, "link": "https://stackoverflow.com/questions/47168986/string-encrypted-in-ruby-gives-badpaddingexception-when-decrypted-in-java", "title": "String encrypted in Ruby gives: &#39;BadPaddingException&#39; when decrypted in Java", "body": "<p>I'm using the following Ruby code to encrypt a string</p>\n\n<pre><code>require 'openssl'\nrequire 'base64'\n\npublic_key = OpenSSL::PKey::RSA.new(File.read('public_key'))\n\nBase64.encode64(public_key.public_encrypt('Some random string that I want to encrypt.'))\n</code></pre>\n\n<p>I need to pass the encrypted text in a request to the API, and on the API end, I'm getting the following error(read through the API logs):</p>\n\n<pre><code>javax.crypto.BadPaddingException: Decryption error\n</code></pre>\n\n<p>Now, I have gone through numerous questions over at Stackoverflow, but given my Ruby code, what I'm doing wrong that the encrypted text can't be decrypted on the API end. Obviously, the API end is using Java.</p>\n\n<p>I'm a completely noob when it comes to encryption, but through encrypting and decrypting in Ruby, I have made sure that the implementation is correct in Ruby. The problem arises when the text encrypted through Ruby language gets decrypted through Java on the API end.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510118719, "post_id": 47168969, "comment_id": 81293708, "body": "what is meant by <code>student_url</code> can you share your <code>routes.rb</code>?"}, {"owner": {"reputation": 185, "user_id": 7733552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0585b2af4349bcf8312cad05f837ab9?s=128&d=identicon&r=PG&f=1", "display_name": "megahra", "link": "https://stackoverflow.com/users/7733552/megahra"}, "reply_to_user": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510328480, "post_id": 47168969, "comment_id": 81402839, "body": "@Gabbar I added my routes"}], "owner": {"reputation": 185, "user_id": 7733552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0585b2af4349bcf8312cad05f837ab9?s=128&d=identicon&r=PG&f=1", "display_name": "megahra", "link": "https://stackoverflow.com/users/7733552/megahra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510140530, "creation_date": 1510096446, "last_edit_date": 1510140530, "question_id": 47168969, "link": "https://stackoverflow.com/questions/47168969/nomethoderror-in-devisesessionscontrollercreate-when-using-after-sign-in-pat", "title": "NoMethodError in Devise::SessionsController#create when using &quot;after_sign_in_path_for(resource)&quot;", "body": "<p>I'm currently trying to write functionality for my quiz webapp that allows a user who reconnects to continue where they left off (possible reasons for reconnect are: because they lost their connection, or because they logged out unintentionally, or because they refreshed the page).</p>\n\n<p>So I googled and found the solution, that I could write the method <code>\"after_sign_in_path_for(resource)\"</code> in the <code>application_controller</code>, and whatever I put in that method would be executed by Devise after a user logs in.</p>\n\n<hr>\n\n<p>This solution works perfectly for when I try to render a static page (or even one of many static pages, depending on the \"phase\" parameter I save to my db).\nBut my app has 2 kinds of users: </p>\n\n<ul>\n<li>The \"Teacher\" who clicks links from static page to static page and</li>\n<li>the \"Student\", who has no control, but gets pushed new HTML whenever the Teacher clicks (pushed = HTML is received over ActionCable and replaces the current page)</li>\n</ul>\n\n<p>So now what happens when a student logs in is this:</p>\n\n<ol>\n<li><code>after_sign_in_path_for(resource)</code> is called: determines the user is a Student and calls </li>\n<li>the <code>find_current_page</code> method in my <code>quiz_session</code> model: which checks the <code>phase</code> variable in my db and calls one of multiple methods on the serverside of my channel, e.g.</li>\n<li><code>resend_question_page</code> class method in my <code>IndividualUpdateChannel</code>: this method builds the html and broadcasts it to the Student.</li>\n</ol>\n\n<p>BUT: instead of receiving and displaying the sent HTML the Student gets <em>\"NoMethodError in Devise::SessionsController#create - undefined method `student_url' for #\"</em>. <strong>In the logs it looks to me like 1., 2. and 3. are run, but then suddenly the app tries to redirect the Student somewhere? and fails.</strong></p>\n\n<p>Here is the console output: <a href=\"https://pastebin.com/FKmHF4qS\" rel=\"nofollow noreferrer\">https://pastebin.com/FKmHF4qS</a></p>\n\n<pre><code>...\n[ActionCable] Broadcasting to student_#3: {:phase=&gt;1, :answers=&gt;[\"&lt;div class='student-layout'&gt;The call returns immediately without &lt;/br&gt;waiting for the I/O to complete.&lt;/div&gt;\", {\"ids\"=&gt;[9, 10, 11, 12], \"current_question_index\"=&gt;1}]}\nRedirected to\nCompleted 500 Internal Server Error in 442ms (ActiveRecord: 103.6ms)\n</code></pre>\n\n<p>This is the full error message: \n<a href=\"https://i.stack.imgur.com/844hQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/844hQ.png\" alt=\"NoMethodError in Devise::SessionsController#create browser screenshot\"></a>\nAnd this is the rest of the trace: <a href=\"https://pastebin.com/psdyR2w2\" rel=\"nofollow noreferrer\">https://pastebin.com/psdyR2w2</a></p>\n\n<p>And here is the code where the execution stops:</p>\n\n<pre><code>#app\\channels\\individual_update_channel.rb:\nclass IndividualUpdateChannel &lt; ApplicationCable::Channel\n  ...\n  def self.resend_question_page(student)\n    quiz_session = student.quiz_session\n    new_answer_html = AnswerButtonCreation.new(quiz_session).create\n\n    #This is where it stops\n    ActionCable.server.broadcast(\"student_##{student.id}\", phase: 1, answers: new_answer_html)\n  end\n</code></pre>\n\n<p>I'm using Rails 5.0.2 and Ruby 2.3.3 with Devise 4.2.1 . This is my first Rails project, so please excuse if I got some best practices wrong. My googling of the inner workings of Devise didn't get me anywhere so I'd appreciate any help!</p>\n\n<hr>\n\n<p>EDIT:\nThis is my routes file:</p>\n\n<pre><code>Rails.application.routes.draw do\n\n  resources :given_answers\n  get 'students/set_quiz_session'\n\n  resources :given_answers\n\n  #change the sign_in and sign_out routes to /login and /logout\n  devise_for :users, path: '', path_names: { sign_in: 'login',\n                                             sign_out: 'logout'},\n             :controllers =&gt; {:registrations =&gt; 'registrations'}\n\n  resources :quiz_sessions, :answers, :questions, :quizzes, :courses\n\n  # Setup static pages\n  get 'teacher/quiz_start', to: 'pages#create_session', :as =&gt; :teacher_start_quiz\n  get 'teacher/quiz_question', to: 'pages#show_question', :as =&gt; :teacher_question\n  get 'teacher/quiz_question_result', to: 'pages#show_question_result', :as =&gt; :teacher_question_result\n  get 'teacher/quiz_result', to: 'pages#show_quiz_result', :as =&gt; :teacher_quiz_result\n  get 'teacher/home', to: 'pages#show', :role =&gt; \"teacher\", :page =&gt; \"home\", :as =&gt; :teacher_home\n\n  get 'student/quiz_start', to: 'pages#join_session', :as =&gt; :student_start_quiz\n  get 'student/home', :role =&gt; \"student\", :page =&gt; \"home\", :as =&gt; :student_home\n\n  get ':role/:page', to: 'pages#show'\n  root to: redirect('teacher/home'), :role =&gt; \"teacher\", :page =&gt; \"home\"\n\n  mount ActionCable.server =&gt; '/cable'\nend\n</code></pre>\n"}, {"tags": ["ruby", "rubygems", "jruby"], "comments": [{"owner": {"reputation": 1225, "user_id": 957185, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4435b492655cf1dbd1897167f28ff6a0?s=128&d=identicon&r=PG", "display_name": "Maxence", "link": "https://stackoverflow.com/users/957185/maxence"}, "edited": false, "score": 0, "creation_date": 1510097195, "post_id": 47168869, "comment_id": 81288075, "body": "Open your gemfile.lock file and verify the Ruby version mentionned. Is it version 2.3.3 ? Also do you have mentioned a Ruby version in your Gemfile ?"}, {"owner": {"reputation": 7, "user_id": 5248972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40a34f124fe803a2d162d91b9f3b6d2?s=128&d=identicon&r=PG&f=1", "display_name": "eookuro", "link": "https://stackoverflow.com/users/5248972/eookuro"}, "reply_to_user": {"reputation": 1225, "user_id": 957185, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4435b492655cf1dbd1897167f28ff6a0?s=128&d=identicon&r=PG", "display_name": "Maxence", "link": "https://stackoverflow.com/users/957185/maxence"}, "edited": false, "score": 0, "creation_date": 1510106011, "post_id": 47168869, "comment_id": 81290250, "body": "On my Gemfile, I have the RUBY VERSION    ruby 2.3.1p0 (jruby 9.1.8.0)                                                                         While on my gemfile.lock I don&#39;t see any Ruby version. Thanks for that."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5248972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40a34f124fe803a2d162d91b9f3b6d2?s=128&d=identicon&r=PG&f=1", "display_name": "eookuro", "link": "https://stackoverflow.com/users/5248972/eookuro"}, "edited": false, "score": 0, "creation_date": 1510106972, "post_id": 47169810, "comment_id": 81290486, "body": "I have JRuby(jruby 9.1.8.0) installed, on my computer."}, {"owner": {"reputation": 9230, "user_id": 63308, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/666badca71c452ae51c999971419b506?s=128&d=identicon&r=PG", "display_name": "codefinger", "link": "https://stackoverflow.com/users/63308/codefinger"}, "reply_to_user": {"reputation": 7, "user_id": 5248972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40a34f124fe803a2d162d91b9f3b6d2?s=128&d=identicon&r=PG&f=1", "display_name": "eookuro", "link": "https://stackoverflow.com/users/5248972/eookuro"}, "edited": false, "score": 0, "creation_date": 1510108137, "post_id": 47169810, "comment_id": 81290778, "body": "Maybe, but another ruby is taking precedence"}], "tags": [], "owner": {"reputation": 9230, "user_id": 63308, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/666badca71c452ae51c999971419b506?s=128&d=identicon&r=PG", "display_name": "codefinger", "link": "https://stackoverflow.com/users/63308/codefinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1510102245, "creation_date": 1510102245, "answer_id": 47169810, "question_id": 47168869, "link": "https://stackoverflow.com/questions/47168869/gem-2-3-1-and-ruby-2-3-3-versions-dont-match/47169810#47169810", "title": "Gem 2.3.1 and Ruby 2.3.3 versions don&#39;t match?", "body": "<p>The guide you are following is for JRuby, but it does not look like you are running JRuby on your machine (you are running a different type of Ruby). Make sure you <a href=\"https://devcenter.heroku.com/articles/getting-started-with-jruby#introduction\" rel=\"nofollow noreferrer\">install and are using JRuby per the instructions</a></p>\n"}], "owner": {"reputation": 7, "user_id": 5248972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40a34f124fe803a2d162d91b9f3b6d2?s=128&d=identicon&r=PG&f=1", "display_name": "eookuro", "link": "https://stackoverflow.com/users/5248972/eookuro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 448, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510159990, "creation_date": 1510095849, "last_edit_date": 1510159990, "question_id": 47168869, "link": "https://stackoverflow.com/questions/47168869/gem-2-3-1-and-ruby-2-3-3-versions-dont-match", "title": "Gem 2.3.1 and Ruby 2.3.3 versions don&#39;t match?", "body": "<p>I am following the tutorial on deploying a Rails application on to Heroku, I am trying to install the dependencies, when I type in the command, <code>jruby -S bundle install --binstubs</code></p>\n\n<p>I get the following</p>\n\n<pre><code>Your Ruby version is 2.3.3, but your Gemfile specified 2.3.1\n</code></pre>\n\n<p>I've looked through different forums as they where a few people discussing but have tried and have come to no conclusion, specially for Windows as I only have access to that temporarily this week. </p>\n\n<p>Information on the system: \nWindows 10 </p>\n\n<pre><code>ruby -v    ruby 2.3.3p222 (2016-11-21 revision 56859) [i386-mingw32]\nrails -v   Rails 5.1.4\ngem -v     2.7.1\n</code></pre>\n\n<p>Do I have to downgrade my Ruby version, or install a concurrent older version? I don't see a 2.3.1 on the Ruby website? Should I use a package manager on Windows(If this is the answer looks like I will be spending a lot longer learning about this), would that solve the problem? </p>\n"}, {"tags": ["ruby", "activesupport", "padrino"], "comments": [{"owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1510116658, "post_id": 47168434, "comment_id": 81293130, "body": "Submit an issue to the Padrino maintainer on Github."}, {"owner": {"reputation": 64, "user_id": 5348989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coQxC.png?s=128&g=1", "display_name": "constdrop", "link": "https://stackoverflow.com/users/5348989/constdrop"}, "reply_to_user": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1510120089, "post_id": 47168434, "comment_id": 81294191, "body": "Thanks. I posted to Github padrino repository this issue."}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 5348989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coQxC.png?s=128&g=1", "display_name": "constdrop", "link": "https://stackoverflow.com/users/5348989/constdrop"}, "is_accepted": true, "score": 0, "last_activity_date": 1510204672, "creation_date": 1510204672, "answer_id": 47194382, "question_id": 47168434, "link": "https://stackoverflow.com/questions/47168434/humanize-nomethoderror-on-padrino-0-14-1-1/47194382#47194382", "title": "humanize NoMethodError on padrino-0.14.1.1", "body": "<p>I got the answer of this question from Padrino maintainer on Github. \nAnd I tried the suggestion in the answer, that worked well.\nThe answer is following.</p>\n\n<p>--</p>\n\n<p>Looks like a bug due to the ongoing effort to remove the ActiveSupport dependency from Padrino.</p>\n\n<p>You don't need to update view_helpers.rb - creating a file in config/initializers should be sufficient as a temporary stop-gap until the bug is fixed.</p>\n\n<pre><code># config/initializers/extra_requires.rb\nrequire \"active_support\"\nrequire \"active_support/core_ext/string\"\n</code></pre>\n"}], "owner": {"reputation": 64, "user_id": 5348989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coQxC.png?s=128&g=1", "display_name": "constdrop", "link": "https://stackoverflow.com/users/5348989/constdrop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 47194382, "answer_count": 1, "score": 0, "last_activity_date": 1510204672, "creation_date": 1510093554, "question_id": 47168434, "link": "https://stackoverflow.com/questions/47168434/humanize-nomethoderror-on-padrino-0-14-1-1", "title": "humanize NoMethodError on padrino-0.14.1.1", "body": "<p>I used padrino-0.14.1.1 and activesupport-5.1.1 in combination and I generate padrino admin app. When I display the login page (/admin/sessions/new) the following error occurred and become 500 error page.</p>\n\n<pre><code>DEBUG -  TEMPLATE (0.0007s) /sessions/new\n2017-11-07 20:23:01 - NoMethodError - undefined method `humanize' for \"login.title\":String:\n    /Path/to/app/'vendor/bundle' /ruby/2.3.0/gems/padrino-admin-0.14.1.1/lib/padrino-admin/helpers/view_helpers.rb:43:in `padrino_admin_translate'\n...\n</code></pre>\n\n<p>I think it is not a bug of Padrino, because I cannot find same problems in the Internet. And I add the following require to the beginning of view_helpers.rb provisionaly.</p>\n\n<pre><code>require 'active_support'\nrequire 'active_support/core_ext/string'\n</code></pre>\n\n<p>However, I think it is not good to edit Padrino's files because of my application problem. Please let me know if you have any other good countermeasures.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 1, "creation_date": 1510092307, "post_id": 47168006, "comment_id": 81286294, "body": "I forget who told me this so I can give credit to them, but blocks are like procs in that they don&#39;t check the number of arguments, whereas lambas are like methods in that they do."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1510111808, "post_id": 47168006, "comment_id": 81291805, "body": "An enumerator is created:  <code>enum = (0..3).each #=&gt; #&lt;Enumerator: 0..3:each&gt;</code>. Then the first element of the enumerator is generated and passed to the block: <code>n = enum.next #=&gt; 0</code>. Lastly, the block variables are set equal to the element passed to the block and values are assigned to the former using <i>disambiguation</i>: <code>x,y,z = n;  x #=&gt; 0; y #=&gt; nil; z #=&gt; nil</code>."}], "answers": [{"tags": [], "owner": {"reputation": 475, "user_id": 841097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf25e2a480e4dae0d7384e4add649b40?s=128&d=identicon&r=PG&f=1", "display_name": "JMichelB", "link": "https://stackoverflow.com/users/841097/jmichelb"}, "is_accepted": true, "score": 2, "last_activity_date": 1510092210, "last_edit_date": 1510092210, "creation_date": 1510091827, "answer_id": 47168110, "question_id": 47168006, "link": "https://stackoverflow.com/questions/47168006/what-do-extra-block-variables-in-ruby-built-in-iterators-do/47168110#47168110", "title": "What do extra block variables in Ruby built-in iterators do?", "body": "<p>If the method does not give values, then the additional variables will be nil.\nWhen running :</p>\n\n<pre><code>(0..3).each do |x,y|\n    puts x.class.to_s() + ' ' + y.class.to_s()\nend\n</code></pre>\n\n<p>It outputs :</p>\n\n<pre><code>Integer NilClass\nInteger NilClass\nInteger NilClass\nInteger NilClass\n</code></pre>\n\n<p>It all depends on what the method sends :</p>\n\n<pre><code>def myBlockCaller\n    yield 1, 2, 3\n    yield 'a', '5'\n    yield true\n    yield nil, 1\nend\n\nmyBlockCaller do |x, y, z|\n    puts x.class.to_s() + ', ' + y.class.to_s() + ', ' + z.class.to_s()\nend\n</code></pre>\n\n<p>Shows :</p>\n\n<pre><code>Integer, Integer, Integer\nString, String, NilClass\nTrueClass, NilClass, NilClass\nNilClass, Integer, NilClass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1510092132, "post_id": 47168151, "comment_id": 81286214, "body": "Sometimes methods pay attention to the &quot;arity&quot; of your blocks, sometimes they just don&#39;t care. In this case <code>each</code> doesn&#39;t care."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1510092794, "post_id": 47168151, "comment_id": 81286498, "body": "<code>Hash#each</code> is an interesting example. It may <i>seem</i> it yields two arguments to the block, but in reality it doesn&#39;t. It yields <b>one</b> argument, the array <code>[k, v]</code>, which is then &quot;deconstructed&quot;, in the same way as when you do, say, <code>x, y = [1, 2]</code>."}, {"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510093238, "post_id": 47168151, "comment_id": 81286720, "body": "@tadman are you sure? I always understood that methods do care about the arity of their arguments, blocks don&#39;t."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1510093493, "post_id": 47168151, "comment_id": 81286824, "body": "@steenslag Methods do care, blocks might depending on how they&#39;re declared. Sometimes methods inspect the block&#39;s arity and behave differently, sometimes they always call the same way regardless and it&#39;s your responsibility to declare the right number of variables. Methods can also &quot;not care&quot; by doing <code>*args</code> and such where they&#39;ll take whatever they&#39;re given."}], "tags": [], "owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "is_accepted": false, "score": 2, "last_activity_date": 1510092454, "last_edit_date": 1510092454, "creation_date": 1510092000, "answer_id": 47168151, "question_id": 47168006, "link": "https://stackoverflow.com/questions/47168006/what-do-extra-block-variables-in-ruby-built-in-iterators-do/47168151#47168151", "title": "What do extra block variables in Ruby built-in iterators do?", "body": "<p>They don't \"do\" anything. If you try it you will see they are nil.</p>\n\n<pre><code>(0..3).each do |x,y,z,a,b,c|\n  puts x.inspect\n  puts y.inspect\n  puts z.inspect\n  puts a.inspect\n  puts b.inspect\n  puts c.inspect\nend\n\n1\nnil\nnil\nnil\nnil\nnil\n2\nnil\nnil\nnil\nnil\nnil\n3\nnil\nnil\nnil\nnil\nnil\n</code></pre>\n\n<p>Some iterators use more than one variable like <code>each_with_index</code>:</p>\n\n<pre><code>(1..3).each_with_index do |n,i|\n</code></pre>\n\n<p><code>n</code> will hold the range item and i is it's index, i.e. 0,1,2</p>\n\n<p>Or in a hash like:</p>\n\n<pre><code>{a: 1, b: 2, c: 3}.each do |k,v|\n  puts k\n  puts v\nend\n\na:\n1\nb:\n2\nc:\n3\n</code></pre>\n"}], "owner": {"reputation": 2157, "user_id": 6407868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5f5ea0c071e2a5adff7d131f58cc2011?s=128&d=identicon&r=PG&f=1", "display_name": "the12", "link": "https://stackoverflow.com/users/6407868/the12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 47168110, "answer_count": 2, "score": 0, "last_activity_date": 1510092454, "creation_date": 1510091302, "question_id": 47168006, "link": "https://stackoverflow.com/questions/47168006/what-do-extra-block-variables-in-ruby-built-in-iterators-do", "title": "What do extra block variables in Ruby built-in iterators do?", "body": "<p>Say if you were using the built-in iterator <code>.each</code> method on a range:</p>\n\n<pre><code>(0..3).each do |x,y,z,a,b,c|\nend\n</code></pre>\n\n<p>I know that x is the actual item in the collection, but what does defining additional block variables (<code>y,z,a,b,c</code>) to the block actually do? Do they represent something? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5", "ruby-on-rails-5.1"], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": true, "score": 1, "last_activity_date": 1510086519, "creation_date": 1510086519, "answer_id": 47166873, "question_id": 47166843, "link": "https://stackoverflow.com/questions/47166843/rails-nameerror-in-picscontrollerupdate/47166873#47166873", "title": "Rails : NameError in PicsController#update", "body": "<p>As there's no <code>pic</code> variable in the scope of the update method, then isn't possible to access to it.</p>\n\n<p>I think what you need is the method <code>pic_params</code> instead trying to access a local variable called pic and to params, try updating your code to:</p>\n\n<pre><code>if @pic.update(pic_params) \n  redirect_to @pic, notice: 'Updated!!'\nelse\n  render 'edit'\nend\n</code></pre>\n"}], "owner": {"reputation": 454, "user_id": 7350753, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TqdKq.png?s=128&g=1", "display_name": "Franklin Antony", "link": "https://stackoverflow.com/users/7350753/franklin-antony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 47166873, "answer_count": 1, "score": 1, "last_activity_date": 1510086519, "creation_date": 1510086422, "question_id": 47166843, "link": "https://stackoverflow.com/questions/47166843/rails-nameerror-in-picscontrollerupdate", "title": "Rails : NameError in PicsController#update", "body": "<p>I tried add an Update function and I am encountering following error.</p>\n\n<p><strong>undefined local variable or method `pic' for # Did you mean? @pic</strong></p>\n\n<blockquote>\n  <p>Extracted source (around line #30):</p>\n\n<pre><code>     28 end \n     29 def update\n     30  if @pic.update(pic.params)\n     31   redirect_to @pic, notice: \"Updated!!\"\n     32  else\n     33    render 'edit'\n</code></pre>\n</blockquote>\n\n<p>My <strong>pics_controller.rb</strong> file is as follows</p>\n\n<pre><code>class PicsController &lt; ApplicationController\n  before_action :find_pic, only: [:show, :edit, :update, :destroy]\n  def index\n    @pics = Pic.all.order(\"created_at DESC\")\n  end\n  def show\n  end\n  def new\n    @pic = Pic.new\n  end\n  def create\n    @pic = Pic.new(pic_params)\n    if @pic.save\n      redirect_to @pic,notice: \"Yesss! It was posted!\"\n    else\n      render 'new'\n    end\n  end\n  def edit\n  end \n  def update\n    if @pic.update(pic.params) \n      redirect_to @pic, notice: \"Updated!!\"\n    else\n      render 'edit'\n    end\n  end\n  private\n   def pic_params\n    params.require(:pic).permit(:title, :description)\n  end\n  def find_pic\n    @pic = Pic.find(params[:id])\n  end\nend\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "shell", "backticks"], "answers": [{"comments": [{"owner": {"reputation": 7897, "user_id": 1468130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/LO71w.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/1468130/jackson"}, "edited": false, "score": 1, "creation_date": 1510093545, "post_id": 47167724, "comment_id": 81286849, "body": "It sounds to me like I should just throw backticks into the garbage from here on out.  Do you have a suggestion on how I might generally replace backticks with &quot;something safer and cleaner such as <code>Open3</code>&quot;, preferably with a synchronous code example?"}, {"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "reply_to_user": {"reputation": 7897, "user_id": 1468130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/LO71w.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/1468130/jackson"}, "edited": false, "score": 1, "creation_date": 1510095963, "post_id": 47167724, "comment_id": 81287687, "body": "I tend to stay away from backticks, the one argument version of <code>system</code>, and anything else that will invoke a shell, far too fragile and error prone to use properly. Instead of <code>%x{some_command -arg}</code> you&#39;d probably use <code>Open3.capture2(&#39;some_command&#39;, &#39;-arg&#39;)</code> instead (<a href=\"http://ruby-doc.org/stdlib-2.4.2/libdoc/open3/rdoc/Open3.html#method-c-capture2\" rel=\"nofollow noreferrer\">ruby-doc.org/stdlib-2.4.2/libdoc/open3/rdoc/&hellip;</a>)."}], "tags": [], "owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "is_accepted": true, "score": 5, "last_activity_date": 1510090143, "creation_date": 1510090143, "answer_id": 47167724, "question_id": 47166648, "link": "https://stackoverflow.com/questions/47166648/in-irb-backticks-throw-an-exception-but-in-rails-c-they-dont/47167724#47167724", "title": "In `irb`, backticks throw an exception, but in `rails c`, they don&#39;t", "body": "<p>Your problem seems to be that Rails <a href=\"https://github.com/rails/rails/blob/v5.1.4/activesupport/lib/active_support/core_ext/kernel/agnostics.rb\" rel=\"noreferrer\">overrides backticks</a> in an attempt to standardize behavior:</p>\n\n<pre><code>class Object\n  # Makes backticks behave (somewhat more) similarly on all platforms.\n  # On win32 `nonexistent_command` raises Errno::ENOENT; on Unix, the\n  # spawned shell prints a message to stderr and sets $?. We emulate\n  # Unix on the former but not the latter.\n  def `(command) #:nodoc:\n    super\n  rescue Errno::ENOENT =&gt; e\n    STDERR.puts \"#$0: #{e}\"\n  end\nend\n</code></pre>\n\n<p>There's blame to go around:</p>\n\n<ul>\n<li>Rails for replacing a core method.</li>\n<li>The gem for using backticks rather than something safer and cleaner such as <code>Open3</code>.</li>\n<li>Ruby for not specifying how <code>Kernel#`</code> is supposed to behave (and possibly even having backticks if you're opinionated enough).</li>\n</ul>\n\n<p>There are ways around this. You could try to remove the ActiveSupport override in an initializer:</p>\n\n<pre><code>Object.send(:remove_method, :'`')\n</code></pre>\n\n<p>so that the standard backticks from <code>Kernel</code> will be used. Or if you never expect to have an <code>lt</code> command you could replace the gem's method:</p>\n\n<pre><code>module LocalTunnel\n  class Client\n    def self.package_installed?\n      false\n    end\n  end\nend\n</code></pre>\n\n<p>Or maybe replace <code>LocalTunnel::Client.package_installed?</code> with your own implementation that works around the Rails override by checking the various ways that backticks can fail or uses the methods in <code>Open3</code> instead of backticks. You could also manually look for <code>lv</code> yourself by breaking up the <code>PATH</code> environment variable (using <code>File::PATH_SEPARATOR</code>) and <code>File.executable?</code>.</p>\n\n<p>Which kludge you use depends on what portability requirements you have and what works in your environments.</p>\n"}], "owner": {"reputation": 7897, "user_id": 1468130, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/LO71w.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/1468130/jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 1, "accepted_answer_id": 47167724, "answer_count": 1, "score": 3, "last_activity_date": 1510090143, "creation_date": 1510085571, "question_id": 47166648, "link": "https://stackoverflow.com/questions/47166648/in-irb-backticks-throw-an-exception-but-in-rails-c-they-dont", "title": "In `irb`, backticks throw an exception, but in `rails c`, they don&#39;t", "body": "<ul>\n<li>OS: Debian GNU/Linux 8</li>\n<li>Ruby version: 2.4.1</li>\n<li>Rails version: 5.1.4</li>\n</ul>\n\n<p>I just used <code>rails new</code> to create a brand new Rails project.  In its directory, with <code>irb</code>, I tried to execute a shell command for an executable that did not exist, and an exception was thrown:</p>\n\n<pre><code>irb(main):001:0&gt; `foobar`\nErrno::ENOENT: No such file or directory - foobar\n    from (irb):1:in ``'\n    from (irb):1\n    from /home/jackson/.rbenv/versions/2.4.1/bin/irb:11:in `&lt;top (required)&gt;'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `load'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `kernel_load'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:27:in `run'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli.rb:335:in `exec'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli.rb:20:in `dispatch'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/cli.rb:11:in `start'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/exe/bundle:32:in `block in &lt;top (required)&gt;'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'\n    from /home/jackson/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/bundler-1.14.6/exe/bundle:24:in `&lt;top (required)&gt;'\n    from /home/jackson/.rbenv/versions/2.4.1/bin/bundle:22:in `load'\n    from /home/jackson/.rbenv/versions/2.4.1/bin/bundle:22:in `&lt;main&gt;'\n</code></pre>\n\n<p>Yet when I try to do the same thing in my Rails environment with <code>rails c</code>, an exception is not thrown.  The backticks return <code>nil</code> instead:</p>\n\n<pre><code>irb(main):001:0&gt; `foobar`\nrails_console: No such file or directory - foobar\n=&gt; nil\n</code></pre>\n\n<p>This inconsistency seems to be reflected beyond the Rails console.  Backticks also return <code>nil</code> in my Rails application.  This is an issue because error handling for missing commands in one of our gems is broken because it doesn't thrown an exception: <a href=\"https://github.com/dstil/localtunnel/blob/87b1e4b98f600c2a767654caf0a2d94fef5be0e5/lib/localtunnel/client.rb#L37-L41\" rel=\"nofollow noreferrer\">https://github.com/dstil/localtunnel/blob/87b1e4b98f600c2a767654caf0a2d94fef5be0e5/lib/localtunnel/client.rb#L37-L41</a></p>\n\n<p>Is this difference in behavior intentional?  If not, what's wrong, and how can I fix this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "testing", "rake"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1510085285, "post_id": 47166541, "comment_id": 81282950, "body": "Sometimes it&#39;s better to use <code>save!</code> so any failures are impossible to ignore due to exceptions being thrown. You can <code>rescue</code> these using either an explicit <code>rescue</code> block or the <code>rescue_from</code> method."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2031111"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510085353, "post_id": 47166541, "comment_id": 81283003, "body": "@tadman I tried replacing topic.save with topic.save! but ran into the same error.  What is <code>rescue</code>?"}, {"owner": {"reputation": 3015, "user_id": 1518336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/238d1c14366d5d0dd398b088c99f7b4c?s=128&d=identicon&r=PG", "display_name": "Daniel Westendorf", "link": "https://stackoverflow.com/users/1518336/daniel-westendorf"}, "edited": false, "score": 0, "creation_date": 1510085965, "post_id": 47166541, "comment_id": 81283318, "body": "It would seem that your <code>post</code> in the test isn&#39;t correct, so no record is actually created. You&#39;re using <code>@user.id</code> in your params, is <code>@user</code> a defined variable?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510086082, "post_id": 47166541, "comment_id": 81283381, "body": "@NickEmmons It&#39;s part of exception handling in Ruby, so if you&#39;re not familiar with it you&#39;ll need to visit that section of your reference or introduction material to familiarize yourself with it. A lot of Ruby code will emit exceptions and it often falls on you as the developer to properly catch and respond to these. Any good introductory book, like the <a href=\"http://ruby-doc.com/docs/ProgrammingRuby/\" rel=\"nofollow noreferrer\">standard reference</a>, will cover this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2031111"}, "reply_to_user": {"reputation": 3015, "user_id": 1518336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/238d1c14366d5d0dd398b088c99f7b4c?s=128&d=identicon&r=PG", "display_name": "Daniel Westendorf", "link": "https://stackoverflow.com/users/1518336/daniel-westendorf"}, "edited": false, "score": 0, "creation_date": 1510086087, "post_id": 47166541, "comment_id": 81283383, "body": "@DanielWestendorf yeah sorry I didn&#39;t add the setup to the question.  <code>@bound</code> and <code>@user</code> are both defined in the setup for the test.  Is the post in the test still incorrect though?"}], "owner": {"user_type": "does_not_exist", "display_name": "user2031111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510085173, "creation_date": 1510085074, "last_edit_date": 1510085173, "question_id": 47166541, "link": "https://stackoverflow.com/questions/47166541/topic-count-didnt-change-by-1", "title": "Topic.count didn&#39;t change by 1", "body": "<p>I am testing the create method of my topics controller and keep getting this error: </p>\n\n<pre><code>\"Topic.count\" didn't change by 1.\nExpected: 4\n  Actual: 3\n</code></pre>\n\n<p>I have tried a bunch of different solutions from changing the number of attributes that I send in the params to changing what the attributes themselves are, but nothing seems to be working.  Any ideas?</p>\n\n<p>Here is my create method:</p>\n\n<pre><code>def create\n    topic = current_user.topics.create(topic_params)\n    if topic.save\n      redirect_to topic\n      unless current_user.reload.spammer?\n        AdminMailer.topic_created(topic).deliver_now\n      end\n    else\n      redirect_to topics_path, flash: 'Failed to save this question. Please try again or contact email@domain.com'\n    end\n  end\n</code></pre>\n\n<p>Here is my test:</p>\n\n<pre><code>test \"should create topic\" do\n    assert_difference 'Topic.count' do \n        post topics_url, params: {topic: {title: 'this is a topic', message_attributes: {text: 'this is the question'}, user_id: @user.id, bound_id: @bound.id}}\n    end\n    assert_redirected_to topics_url(Topic.last)\n  end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "docker", "docker-compose", "dockerfile"], "answers": [{"comments": [{"owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "reply_to_user": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510082829, "post_id": 47165739, "comment_id": 81281653, "body": "@JudgeProphet can you run <code>gem install rake -v &#39;12.1.0&#39;</code> first and then run <code>bundle install</code> again in the same session? Will error still occure?"}, {"owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "reply_to_user": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510082921, "post_id": 47165739, "comment_id": 81281694, "body": "By the way. Which version of <code>bundler</code> gem is installed in your image? The <code>gem update --system</code> command only updates system gems. So the <code>bundler</code> can be still outdated."}, {"owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "reply_to_user": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510083524, "post_id": 47165739, "comment_id": 81281997, "body": "I mean if <code>gem install</code> runs fine, the problem is probably related to <code>bundler</code> itself."}, {"owner": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510085239, "post_id": 47165739, "comment_id": 81282925, "body": "I update my DockerFile to force a Bundler Install, and still got the same error"}, {"owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "reply_to_user": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510085598, "post_id": 47165739, "comment_id": 81283111, "body": "@JudgeProphet It sound crazy, but can you try to add or run manually: <code>RUN mkdir -p &#47;usr&#47;local&#47;lib&#47;ruby&#47;site_ruby&#47;2.3.0&#47;bundler&#47;templates&#47;Execut&zwnj;&#8203;able</code>? =)"}, {"owner": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510086492, "post_id": 47165739, "comment_id": 81283562, "body": "Good idea, but after adding it I got, Errno::EISDIR: Is a directory @ io_fread - /usr/local/lib/ruby/site_ruby/2.3.0/bundler/templates/Execut&zwnj;&#8203;able"}, {"owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "reply_to_user": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510087784, "post_id": 47165739, "comment_id": 81284200, "body": "@JudgeProphet I think that something in bundler installation is broken. You could also:  * Try to use another ruby image (maybe not one with the <code>-slim</code> postfix in tag);  * Remove bundler and reinstall it completely;"}, {"owner": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "edited": false, "score": 0, "creation_date": 1510583786, "post_id": 47165739, "comment_id": 81484161, "body": "Finally what I did, is delete all my images,  upgrade the Ruby image version as you seed.  Rebuild all images. And Bam! it&#39;s start working!   Tx, for your support,  it&#39;s really appreciate Zino!"}], "tags": [], "owner": {"reputation": 1606, "user_id": 3137698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1819a8d2ac84a22c29b910b38dd4686f?s=128&d=identicon&r=PG", "display_name": "zinovyev", "link": "https://stackoverflow.com/users/3137698/zinovyev"}, "is_accepted": true, "score": 2, "last_activity_date": 1516995697, "last_edit_date": 1516995697, "creation_date": 1510081918, "answer_id": 47165739, "question_id": 47165491, "link": "https://stackoverflow.com/questions/47165491/docker-failed-to-build-on-rails-bundle-install-rake/47165739#47165739", "title": "Docker failed to build on Rails bundle Install rake", "body": "<p>Just try to install rake by yourself as described in the error message:</p>\n\n\n\n<pre><code>gem install rake -v '12.1.0'\n</code></pre>\n\n<p>To debug:</p>\n\n<ol>\n<li><p>Comment out all lines in your <code>Dockerfile</code> starting from <code>RUN bundle install</code> and to end;</p></li>\n<li><p>Then run <code>docker build -t test:0.0 .</code>;</p></li>\n<li><p>To start interactive session: <code>docker run -it test:0.0 /bin/bash</code>;</p></li>\n<li><p>Try to execute <code>gem install rake -v '12.1.0'</code> manually...</p></li>\n</ol>\n"}], "owner": {"reputation": 1467, "user_id": 1977626, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57aace0738a243770911f6b8d7077fc6?s=128&d=identicon&r=PG", "display_name": "JudgeProphet", "link": "https://stackoverflow.com/users/1977626/judgeprophet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "accepted_answer_id": 47165739, "answer_count": 1, "score": 0, "last_activity_date": 1516995697, "creation_date": 1510080934, "last_edit_date": 1516995642, "question_id": 47165491, "link": "https://stackoverflow.com/questions/47165491/docker-failed-to-build-on-rails-bundle-install-rake", "title": "Docker failed to build on Rails bundle Install rake", "body": "<p>I use <code>Docker for Windows</code> which I use to run a Image for a Rails(v5) App.</p>\n\n<p>When I do <code>docker-compose build</code> I get this error. I don't known where to look to debug and/or resolve this.</p>\n\n<p>Here is my <code>Dockerfile</code>:</p>\n\n\n\n<pre><code>FROM ruby:2.3.3-slim\n\nRUN apt-get update &amp;&amp; apt-get install -y build-essential\nRUN apt-get install -y libmysqlclient-dev\nRUN apt-get install -y mysql-client\nRUN apt-get install -y libmagickwand-dev imagemagick\nRUN apt-get install -y curl\nRUN curl -sL https://deb.nodesource.com/setup_6.x | bash -\nRUN apt-get install -y nodejs\nRUN apt-get install -y git\n#RUN npm install -g phantomjs\n\nRUN gem update --system\n\nRUN mkdir -p /MyImage\nWORKDIR /MyImage\nCOPY Gemfile Gemfile\nCOPY Gemfile.lock Gemfile.lock\nRUN gem install bundler\nRUN bundle install\n\nCOPY package.json package.json\nRUN npm update\nRUN npm install\n\nCOPY . /MyImage\n\nCMD [ \"foreman\", \"start\" ]\n</code></pre>\n\n<p>Here is a log if my error:</p>\n\n<pre><code>Step 15/20 : RUN bundle install\n ---&gt; Running in 4bf360b89cb7\nThe git source `git://github.com/acrogenesis/owlcarousel-rails.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\nThe git source `git://github.com/sinatra/sinatra.git` uses the `git` protocol, which transmits data without encryption. Disable this warning with `bundle config git.allow_insecure true`, or switch to the `https` protocol to keep your data secure.\nFetching source index from https://rubygems.org/\nFetching source index from https://rails-assets.org/\nFetching git://github.com/sinatra/sinatra.git\nFetching git://github.com/acrogenesis/owlcarousel-rails.git\nFetching gem metadata from https://rails-assets.org/..\nFetching rake 12.1.0\nInstalling rake 12.1.0\nErrno::ENOENT: No such file or directory @ rb_sysopen -\n/usr/local/lib/ruby/site_ruby/2.3.0/bundler/templates/Executable\nAn error occurred while installing rake (12.1.0), and Bundler cannot continue.\nMake sure that `gem install rake -v '12.1.0'` succeeds before bundling.\n\nIn Gemfile:\n  autonumeric-rails was resolved to 2.0.0.1, which depends on\n    jquery-rails was resolved to 4.3.1, which depends on\n      railties was resolved to 5.0.6, which depends on\n        rake\nERROR: Service 'MyImage' failed to build: The command '/bin/sh -c bundle install' returned a non-zero code: 5\n</code></pre>\n\n<p>But when I do <code>gem install rake -v '12.1.0'</code> directly into the shell of my container, everything install just fine.</p>\n"}, {"tags": ["ruby", "openshift", "openshift-origin", "openshift-client-tools"], "answers": [{"tags": [], "owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "is_accepted": true, "score": 2, "last_activity_date": 1510085289, "creation_date": 1510085289, "answer_id": 47166588, "question_id": 47164702, "link": "https://stackoverflow.com/questions/47164702/open-shift-login-issue-with-rhc/47166588#47166588", "title": "Open shift login issue with rhc", "body": "<p>The command line for OpenShift Origin is called <code>oc</code>, not <code>rhc</code>. The <code>rhc</code> command line client is for older OpenShift V2. Origin is V3.</p>\n\n<p>See the online tutorial at <a href=\"https://learn.openshift.com/\" rel=\"nofollow noreferrer\">https://learn.openshift.com/</a> about logging into a V3 cluster.</p>\n"}], "owner": {"reputation": 59, "user_id": 3171821, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/271e2a581335207970b1d63120191ff8?s=128&d=identicon&r=PG&f=1", "display_name": "user3171821", "link": "https://stackoverflow.com/users/3171821/user3171821"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 47166588, "answer_count": 1, "score": 0, "last_activity_date": 1510085289, "creation_date": 1510078091, "question_id": 47164702, "link": "https://stackoverflow.com/questions/47164702/open-shift-login-issue-with-rhc", "title": "Open shift login issue with rhc", "body": "<p>Am facing issue while login to openshift account through rhc. However i can able to login using web console not through rhc. It throws wrong user name and password. Am 100% sure am using right user name and password. From debug mode understood its trying to access \"<a href=\"https://openshift.redhat.com/broker/rest/user\" rel=\"nofollow noreferrer\">https://openshift.redhat.com/broker/rest/user</a>\", do we need separate level of access for this?</p>\n\n<p>I have checked express.conf, default_rhlogin is my login id. It looks good.\nAny help is greatly appreciated!!</p>\n\n<p>Thanks,\nVinoth</p>\n"}, {"tags": ["ruby", "windows", "tk"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 2083303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f87cd2e0e53e5ef0041a91dd808cc1e9?s=128&d=identicon&r=PG", "display_name": "Sudeshna Bhattacharya", "link": "https://stackoverflow.com/users/2083303/sudeshna-bhattacharya"}, "is_accepted": false, "score": 2, "last_activity_date": 1510125305, "creation_date": 1510125305, "answer_id": 47173668, "question_id": 47164580, "link": "https://stackoverflow.com/questions/47164580/ruby-loaderror-cannot-load-such-file-tk/47173668#47173668", "title": "Ruby LoadError: cannot load such file -- tk", "body": "<p>This is solved now . </p>\n\n<p>I just included the msys2 folder in path and then applied the following command .</p>\n\n<p>gem install tk</p>\n\n<p>This included the gem .</p>\n\n<p>So what one has to follow is :\n1) Install ActiveTCL\n2) Install ruby installer . At end this will ask for Msys2 installation . Proceed as per menu option .\n3) keep ActiveTcl\\bin,Ruby\\bin and msys2 folder in path .\n4) run the command : gem install tk</p>\n\n<p>This will solve the problem.</p>\n\n<p>Best Regards,\nSudeshna Bhattacharya</p>\n"}], "owner": {"reputation": 89, "user_id": 2083303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f87cd2e0e53e5ef0041a91dd808cc1e9?s=128&d=identicon&r=PG", "display_name": "Sudeshna Bhattacharya", "link": "https://stackoverflow.com/users/2083303/sudeshna-bhattacharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510125305, "creation_date": 1510077685, "last_edit_date": 1510083993, "question_id": 47164580, "link": "https://stackoverflow.com/questions/47164580/ruby-loaderror-cannot-load-such-file-tk", "title": "Ruby LoadError: cannot load such file -- tk", "body": "<p>I am trying to use tk in Ruby in Windows 10. I have installed ActiveTcl and Ruby 2.4 from <a href=\"https://rubyinstaller.org/downloads/\" rel=\"nofollow noreferrer\">https://rubyinstaller.org/downloads/</a>. I am getting error as:</p>\n\n<pre><code>F:/Utilities/Ruby24-x64/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- tk (LoadError)\n    from F:/Utilities/Ruby24-x64/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n</code></pre>\n\n<p>Also checked the same from irb command prompt but got following error :</p>\n\n<pre><code>F:/Utilities/Ruby24-x64/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- tk (LoadError)\n    from F:/Utilities/Ruby24-x64/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n</code></pre>\n\n<p>Could you advise me on how to solve this problem?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "simple-form", "simple-form-for"], "comments": [{"owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 0, "creation_date": 1510078119, "post_id": 47164418, "comment_id": 81279004, "body": "A little bit of a shot in the dark, but if you replace <code>= f.simple_fields_for &#39;courses[]&#39;, course do |c|</code> with <code>= f.simple_fields_for :courses, course do |c|</code>,  that might lead to the same type of parameters hash every time."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510078648, "post_id": 47164418, "comment_id": 81279275, "body": "&quot;but it feels like there should be a simpler way of doing it.&quot; - Yes, use ajax to send individual create/update requests."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510081411, "post_id": 47164418, "comment_id": 81280913, "body": "But you can use <code>.fetch</code> instead of <code>.require</code> but its still going to end up a hacky unmaintainable mess."}, {"owner": {"reputation": 552, "user_id": 1941519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5c056e7677c157248af7f91a2c118a7d?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1941519/jacob"}, "reply_to_user": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 0, "creation_date": 1510142457, "post_id": 47164418, "comment_id": 81307205, "body": "@TomAranda I think we tried that - it results in only the last fieldset on the page being submitted"}], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 1941519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5c056e7677c157248af7f91a2c118a7d?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1941519/jacob"}, "edited": false, "score": 0, "creation_date": 1510153396, "post_id": 47165501, "comment_id": 81314839, "body": "This is a nice approach, thanks. I don&#39;t think I&#39;ll use it for this piece of work, but it&#39;ll definitely be useful in the future. Would be a good way of doing edits in-place!"}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1510080969, "creation_date": 1510080969, "answer_id": 47165501, "question_id": 47164418, "link": "https://stackoverflow.com/questions/47164418/params-hash-from-a-simpleform-with-multiple-records-has-a-different-structure-fo/47165501#47165501", "title": "Params hash from a SimpleForm with multiple records has a different structure for one record than for two", "body": "<blockquote>\n  <p>\"but it feels like there should be a simpler way of doing it.\"</p>\n</blockquote>\n\n<p>Yes, use ajax to send individual create/update requests. This can be done transparently to the user and provides simpler code and a far better user experience.</p>\n\n<p>Rails has <code>fields_for</code> and <code>accepts_nested_attributes</code> that can be used to create/update multiple child records and the parent record in a single request. But it really requires a association that groups the records together and even at this can get really hacky and convoluted when it comes to validations.</p>\n\n<p>You want to set it up so that you have a seperate form for each record:</p>\n\n<pre><code>- courses.each do |c|\n  = render partial: 'courses/_form', course: c\n</code></pre>\n\n<p>There is really nothing to the form:</p>\n\n<pre><code># courses/_form.haml.erb\n= simple_form_for course, remote: true, html: { 'data-type' =&gt; 'json', class: 'course_form'} do |f|\n  = c.input :title\n  .row\n    .medium-6.columns\n      = c.input :start_date, as: :string, input_html: { class: 'input-datepicker' }\n    .medium-6.columns\n      = c.input :end_date, as: :string, input_html: { class: 'input-datepicker' }\n  = f.submit 'Save', class: 'primary button'\n</code></pre>\n\n<p>Instead of using a <code>js.erb</code> template we use <code>'data-type' =&gt; 'json'</code>  and write our own handler as its easier to target the correct form:</p>\n\n<pre><code>$(document).on('ajax:success', '.course_form', function(event, xhr, status){\n  var $form = $(this);\n  alert('Course created');\n  if (this.method.post) {\n    // changes form to update instead.\n    this.method = 'patch';\n    this.action = xhr.getResponseHeader('Location');\n  } \n});\n\n$(document).on('ajax:error', '.course_form', function(event, xhr, status){\n  var $form = $(this);\n  // @todo display errors\n});\n</code></pre>\n\n<p>Creating the controller is very straight forward:</p>\n\n<pre><code>class CoursesController\n  def create\n    @course = Course.new(course_params)\n    respond_to do |format|\n      if @course.save(course_params)\n        format.json { head :created, location: @course }\n      else\n        format.json do\n          render json: {\n            errors: @course.errors.full_messages\n          }\n        end\n      end\n    end\n  end\n\n  def update\n    @course = Course.find(params[:id])\n    respond_to do |format|\n      if @course.update(course_params)\n        format.json { head :ok }\n      else\n        render json: {\n          errors: @course.errors.full_messages\n        }\n      end\n    end\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 552, "user_id": 1941519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5c056e7677c157248af7f91a2c118a7d?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1941519/jacob"}, "edited": false, "score": 0, "creation_date": 1510156894, "post_id": 47167882, "comment_id": 81317561, "body": "Sadly, that strong parameters code only works in the case of an array of hashes. In the case of a hash of IDs to attribute hashes, it isn&#39;t valid. Thanks anyway!"}], "tags": [], "owner": {"reputation": 745, "user_id": 2681735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1083cc275a80a1add8d4269500345165?s=128&d=identicon&r=PG&f=1", "display_name": "kolas", "link": "https://stackoverflow.com/users/2681735/kolas"}, "is_accepted": false, "score": 1, "last_activity_date": 1510091329, "last_edit_date": 1510091329, "creation_date": 1510090815, "answer_id": 47167882, "question_id": 47164418, "link": "https://stackoverflow.com/questions/47164418/params-hash-from-a-simpleform-with-multiple-records-has-a-different-structure-fo/47167882#47167882", "title": "Params hash from a SimpleForm with multiple records has a different structure for one record than for two", "body": "<p>Keep your form, change strong params to this:</p>\n\n<pre><code>params.require(:courses).permit(\n  courses: [\n    :id,\n    :title,\n    :start_date, \n    :end_date\n  ]\n)\n</code></pre>\n\n<p>With this code params should be without index key, <code>@courses</code> is just an array:</p>\n\n<pre><code># CoursesController\ndef new\n  @courses = []\n  # creating 3 items for example\n  3.times do\n    @courses &lt;&lt; Course.new\n  end\nend\n\ndef create\n  errors = false\n  @courses= []\n  # keep courses in the array for showing errors\n  courses_params[:courses].each do |params|\n    course = Course.new(params)\n    @courses &lt;&lt; course \n    unless course.valid?\n      errors = true\n    end\n  end\n  if errors\n    render :new\n  else\n    # if no errors save and redirect\n    @courses.each(&amp;:save)\n    redirect_to courses_path, notice: 'courses created'\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 552, "user_id": 1941519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5c056e7677c157248af7f91a2c118a7d?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1941519/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1510156757, "creation_date": 1510156757, "answer_id": 47184210, "question_id": 47164418, "link": "https://stackoverflow.com/questions/47164418/params-hash-from-a-simpleform-with-multiple-records-has-a-different-structure-fo/47184210#47184210", "title": "Params hash from a SimpleForm with multiple records has a different structure for one record than for two", "body": "<p>It turns out that the <code>f.simple_fields_for 'courses[]' ...</code> method <strong>only</strong> gives that fieldset an ID if the form is populated by an <strong>existing</strong> record, and the params structure of a string ID mapping to a course hash is only used in this case. For \"fresh\" records, there is no ID and the course hashes are placed in a plain array.</p>\n\n<p>This bit of code was running in the context of \"rolling over\" courses from one year to another - copying a previous course and changing the dates. This meant that each fieldset had the ID of the original course.</p>\n\n<p>When the form was submitted, a new record was created and validated with the new attributes, and it was this fresh record with no ID that repopulated the form. The \"it only happens when one course is submitted\" thing was a red herring - a product of the test scenario.</p>\n\n<p><em>So worth noting: <code>f.simple_fields_for 'courses[]' ...</code> creates an array for new records and a hash mapping IDs to attributes for existing records.</em></p>\n"}], "owner": {"reputation": 552, "user_id": 1941519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5c056e7677c157248af7f91a2c118a7d?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1941519/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 47184210, "answer_count": 3, "score": 2, "last_activity_date": 1510156757, "creation_date": 1510077121, "question_id": 47164418, "link": "https://stackoverflow.com/questions/47164418/params-hash-from-a-simpleform-with-multiple-records-has-a-different-structure-fo", "title": "Params hash from a SimpleForm with multiple records has a different structure for one record than for two", "body": "<p>I struggled to digest this into a title.</p>\n\n<p>I'm using SimpleForm to construct a bulk-edit page with one or more fieldsets - one for each record in a collection of ActiveRecord models that have been built but not yet saved.</p>\n\n<p>My form looks like this:</p>\n\n<pre><code>= simple_form_for :courses, method: :patch do |f|\n  - @courses.each do |course|\n    = field_set_tag do\n      = f.simple_fields_for 'courses[]', course do |c|\n        = c.input :title\n        .row\n          .medium-6.columns\n            = c.input :start_date, as: :string, input_html: { class: 'input-datepicker' }\n          .medium-6.columns\n            = c.input :end_date, as: :string, input_html: { class: 'input-datepicker' }\n  = f.submit 'Save', class: 'primary button'\n</code></pre>\n\n<p>The params hash for one record looks like this:</p>\n\n<pre><code>\"courses\"=&gt;{\"courses\"=&gt;[{\"title\"=&gt;\"Course Y\", \"start_date\"=&gt;\"2017-09-26\", \"end_date\"=&gt;\"2017-07-31\"}]}\n</code></pre>\n\n<p>with an array, while for two records it looks like this:</p>\n\n<pre><code>\"courses\"=&gt;{\"courses\"=&gt;{\"1\"=&gt;{\"title\"=&gt;\"Course X\", \"start_date\"=&gt;\"2018-01-16\", \"end_date\"=&gt;\"2018-07-30\"}, \"2\"=&gt;{\"title\"=&gt;\"Course Y\", \"start_date\"=&gt;\"2017-09-26\", \"end_date\"=&gt;\"2018-07-30\"}}}\n</code></pre>\n\n<p>with a stringy-integer-keyed hash.</p>\n\n<p>This becomes a problem when I try and use strong parameters. After much hacking, I ended up with this piece of code, which works for multiple records but fails when only one is submitted:</p>\n\n<pre><code>ActionController::Parameters\n  .new(courses: params[:courses][:courses].values)\n  .permit(courses: [:title, :start_date, :end_date])\n  .require(:courses)\n</code></pre>\n\n<p>It fails with <code>param is missing or the value is empty: courses</code> highlighting the <code>.require(:courses)</code> line above.</p>\n\n<p>The problem is \"solved\" by harmonising the single-record case with the multiple-record case:</p>\n\n<pre><code>if params[:courses][:courses].is_a?(Array)\n  params[:courses][:courses] = { '1': params[:courses][:courses][0] }\nend\n</code></pre>\n\n<p>but it feels like there should be a simpler way of doing it.</p>\n\n<p>Is there a better way to write the form for this use-case? Am I missing a trick with strong parameters?</p>\n\n<p>I'm using <code>rails 5.0.5</code> and <code>simple_form 3.5.0</code>.</p>\n"}, {"tags": ["ruby", "treetop"], "answers": [{"tags": [], "owner": {"reputation": 3830, "user_id": 1177119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a8513228d202b40141d295e840a4fa8?s=128&d=identicon&r=PG", "display_name": "Josh Voigts", "link": "https://stackoverflow.com/users/1177119/josh-voigts"}, "is_accepted": true, "score": 1, "last_activity_date": 1518119460, "creation_date": 1518119460, "answer_id": 48693678, "question_id": 47163764, "link": "https://stackoverflow.com/questions/47163764/how-to-eliminate-left-recursion-in-a-verilog-grammar-example/48693678#48693678", "title": "How to Eliminate Left Recursion in A Verilog Grammar Example", "body": "<p>That seems to make sense and <em>do</em> the same thing. One thing that might help in understanding is to rewrite like the code below. One thing to remember about PEG grammars is that if a rule fails to match, it will try to match the next alternation.</p>\n\n<pre><code>rule constant_expression\n   (constant_primary / (unary_operator (s attribute_instance)* s constant_primary)) constant_expression_tail?\nend\n\nrule constant_expression_tail\n   ((s binary_operator (s attribute_instance)* s) /\n    (s \"?\" (s attribute_instance)* s constant_expression s \":\" s)) constant_expression constant_expression_tail?\nend\n</code></pre>\n"}], "owner": {"reputation": 3381, "user_id": 220679, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5c165ffc801b46ddff8851d5b49bf3e?s=128&d=identicon&r=PG", "display_name": "Ginty", "link": "https://stackoverflow.com/users/220679/ginty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 48693678, "answer_count": 1, "score": 3, "last_activity_date": 1518119460, "creation_date": 1510075005, "question_id": 47163764, "link": "https://stackoverflow.com/questions/47163764/how-to-eliminate-left-recursion-in-a-verilog-grammar-example", "title": "How to Eliminate Left Recursion in A Verilog Grammar Example", "body": "<p>I am using Treetop to create a grammar for the Verilog language, and have come across some cases where the language specification involves a left recursive construct which does not translate to Treetop.</p>\n\n<p>I have done some reading on this, and this answer gives a good summary of a generic way to eliminate left recursion: <a href=\"https://stackoverflow.com/questions/4994036/left-recursion-elimination\">Left recursion elimination</a></p>\n\n<p>However, I cannot wrap my head around how that actually works and would appreciate if someone more knowledgeable could confirm whether my approach here is correct...</p>\n\n<p>For this original rule, which includes left recursion (the comment is how it is written in the language spec):</p>\n\n<pre><code>  # constant_expression ::=\n  #   constant_primary\n  #   | unary_operator { attribute_instance } constant_primary\n  #   | constant_expression binary_operator { attribute_instance } constant_expression\n  #   | constant_expression ? { attribute_instance } constant_expression : constant_expression\n  rule constant_expression\n    constant_primary /\n    (unary_operator (s attribute_instance)* s constant_primary) /\n    (constant_expression s binary_operator (s attribute_instance)* s constant_expression) /\n    (constant_expression s \"?\" (s attribute_instance)* s constant_expression s \":\" s constant_expression)\n  end \n</code></pre>\n\n<p>Is the following really equivalent with the left recursion removed?</p>\n\n<pre><code>  rule constant_expression\n    (constant_primary constant_expression_tail?) /\n    (unary_operator (s attribute_instance)* s constant_primary constant_expression_tail?)\n  end\n\n  rule constant_expression_tail\n    (s binary_operator (s attribute_instance)* s constant_expression constant_expression_tail?) /\n    (s \"?\" (s attribute_instance)* s constant_expression s \":\" s constant_expression constant_expression_tail?)\n  end \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "chef-infra"], "comments": [{"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510075252, "post_id": 47163657, "comment_id": 81277336, "body": "Your input and output doesn\u2019t appear to match up. Are you sure that\u2019s what your template looks like and that you don\u2019t have anything else manipulating those attributes?"}, {"owner": {"reputation": 1, "user_id": 8901532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0776845a898bda47a6aa7cd760b7e833?s=128&d=identicon&r=PG&f=1", "display_name": "javajockey", "link": "https://stackoverflow.com/users/8901532/javajockey"}, "reply_to_user": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510079194, "post_id": 47163657, "comment_id": 81279562, "body": "Thanks for looking.  Just to be sure,  I pasted up code from this site and received the same result.  The attribute is coming from the role.  I can verify this since I have changed the attributes multiple times while troubleshooting the issue."}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510081437, "post_id": 47163657, "comment_id": 81280933, "body": "I would put some logging in your recipe, <code>Chef::Log.warn(&quot;hosts_allow is #{node[&#39;stig&#39;][&#39;network&#39;][&#39;hosts_allow&#39;].inspect}&quot;)</code>. See if that shows an unexpected <code>nil</code> or similar."}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510081471, "post_id": 47163657, "comment_id": 81280955, "body": "If it does, please include the <code>attributes&#47;default.rb</code> file from that cookbook, it probably has to do with some array merging issues."}, {"owner": {"reputation": 1, "user_id": 8901532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0776845a898bda47a6aa7cd760b7e833?s=128&d=identicon&r=PG&f=1", "display_name": "javajockey", "link": "https://stackoverflow.com/users/8901532/javajockey"}, "reply_to_user": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510095471, "post_id": 47163657, "comment_id": 81287525, "body": "As expected the array is picking up a string from somewhere.  , this is the output from the log    [2017-11-07T17:53:41-05:00] WARN: hosts_allow is [&quot;&quot;, &quot;.javajockey.com&quot;, &quot;.javajockey.local&quot;, &quot;127.0.0.1&quot;]"}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510097571, "post_id": 47163657, "comment_id": 81288192, "body": "What does the attributes file in the cookbook look like?"}, {"owner": {"reputation": 1, "user_id": 8901532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0776845a898bda47a6aa7cd760b7e833?s=128&d=identicon&r=PG&f=1", "display_name": "javajockey", "link": "https://stackoverflow.com/users/8901532/javajockey"}, "reply_to_user": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510103323, "post_id": 47163657, "comment_id": 81289638, "body": "# Create /etc/hosts.allow # An array of &lt;net&gt;/&lt;mask&gt; combinations or [&#39;ALL&#39;] default[&#39;stig&#39;][&#39;network&#39;][&#39;hosts_allow&#39;] = [&#39;&#39;]"}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "edited": false, "score": 0, "creation_date": 1510103869, "post_id": 47163657, "comment_id": 81289773, "body": "There you go, fix that :)"}], "answers": [{"tags": [], "owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "is_accepted": false, "score": 0, "last_activity_date": 1510108765, "creation_date": 1510108765, "answer_id": 47170706, "question_id": 47163657, "link": "https://stackoverflow.com/questions/47163657/need-help-removing-leading-newline-in-erb-template-for-chef-cookbook/47170706#47170706", "title": "Need help removing leading Newline in ERB Template for Chef cookbook", "body": "<p>Tracked down in comments, cookbook default attributes had a spurious <code>''</code> in the array which was being preserved due to same-level array merging. Fix is to make the default <code>[]</code> instead of <code>['']</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8901532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0776845a898bda47a6aa7cd760b7e833?s=128&d=identicon&r=PG&f=1", "display_name": "javajockey", "link": "https://stackoverflow.com/users/8901532/javajockey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510143069, "creation_date": 1510074624, "last_edit_date": 1510143069, "question_id": 47163657, "link": "https://stackoverflow.com/questions/47163657/need-help-removing-leading-newline-in-erb-template-for-chef-cookbook", "title": "Need help removing leading Newline in ERB Template for Chef cookbook", "body": "<p>I'm using embedded Ruby version 2.3.5p376 Chef client 12.21.14.</p>\n\n<p>I'm writing code that creates a standard tcp_wrappers <code>hosts.allow</code> file. The desired state is as follows</p>\n\n<pre><code># This file is generated by Chef\n# Do not edit, changes will be overwritten\n\nALL: .javajockey.com\nALL: .javajockey.local\nALL: 127.0.0.1\n</code></pre>\n\n<p>My array is stored as a role in CHEF. The following is the JSON</p>\n\n<pre><code>\"stig\": {\n  \"network\": {\n    \"hosts_deny\": [\n      \"ALL\"\n    ],\n    \"hosts_allow\": [\n      \".javajockey.com\",\n      \".javajockey.local\"\n    ]\n  },\n</code></pre>\n\n<p>This is the contents of my Embedded ruby template</p>\n\n<pre><code># This file is generated by Chef\n# Do not edit, changes will be overwritten\n#\n&lt;% unless @hosts_allow.nil? %&gt;\n&lt;% @hosts_allow.each do |hosts_allow| %&gt;\nALL: &lt;%= hosts_allow %&gt;\n&lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>The following is the result from my code.</p>\n\n<pre><code> # This file is generated by Chef\n # Do not edit, changes will be overwritten\n #\n ALL:\n ALL: .javajockey.com\n ALL: .javajockey.local\n\n ##############################\n</code></pre>\n\n<p>I need to remove the leading \"ALL:\"</p>\n"}, {"tags": ["ruby", "jenkins", "environment-variables", "xcode9", "slather"], "comments": [{"owner": {"reputation": 4270, "user_id": 8644566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Iymv.jpg?s=128&g=1", "display_name": "Rob Hales", "link": "https://stackoverflow.com/users/8644566/rob-hales"}, "edited": false, "score": 0, "creation_date": 1510115735, "post_id": 47163349, "comment_id": 81292887, "body": "Are you setting the path like <code>PATH=$PATH:&#47;Users&#47;Shared&#47;Jenkins&#47;.gem&#47;ruby&#47;2.4.0&#47;bin</code> ?? You have to assign in back to PATH. Also, it is usually safer to stick your path in the front of $PATH, not at the end. Then you know the version of your file is found first before some other thing that might be in the path that you don&#39;t know about."}, {"owner": {"reputation": 2097, "user_id": 188517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8e5fa664068f53b77149f3055f97406d?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/188517/sandy"}, "reply_to_user": {"reputation": 4270, "user_id": 8644566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Iymv.jpg?s=128&g=1", "display_name": "Rob Hales", "link": "https://stackoverflow.com/users/8644566/rob-hales"}, "edited": false, "score": 0, "creation_date": 1510123889, "post_id": 47163349, "comment_id": 81295744, "body": "Thanks for the help Rob, even after setting the PATH variable the way you described, I am still getting the same error."}], "answers": [{"tags": [], "owner": {"reputation": 2097, "user_id": 188517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8e5fa664068f53b77149f3055f97406d?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/188517/sandy"}, "is_accepted": false, "score": 2, "last_activity_date": 1618575777, "last_edit_date": 1618575777, "creation_date": 1510131551, "answer_id": 47175362, "question_id": 47163349, "link": "https://stackoverflow.com/questions/47163349/error-env-ruby-executable-hooks-no-such-file-or-directory-while-running-slathe/47175362#47175362", "title": "Error env: ruby_executable_hooks: No such file or directory while running Slather on Jenkins", "body": "<p>Finally fixed this issue by running the following shell command using Jenkins.</p>\n<blockquote>\n<p>$Home/.rvm/gems/ruby-2.4.1/wrappers/slather</p>\n</blockquote>\n<p>Earlier, I was referring to</p>\n<blockquote>\n<p>$Home/.rvm/gems/ruby-2.4.1/bin/slather</p>\n</blockquote>\n<p>and the bin does not have ruby environment support when executed via shell script.</p>\n"}], "owner": {"reputation": 2097, "user_id": 188517, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8e5fa664068f53b77149f3055f97406d?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/188517/sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1618575777, "creation_date": 1510073560, "question_id": 47163349, "link": "https://stackoverflow.com/questions/47163349/error-env-ruby-executable-hooks-no-such-file-or-directory-while-running-slathe", "title": "Error env: ruby_executable_hooks: No such file or directory while running Slather on Jenkins", "body": "<p>I am trying to configure slather on my Jenkins server. Everything works fine when I run slather command using Terminal, but the script seems to fail when I run it on the Jenkins server. Each time I get env: ruby_executable_hooks: No such file or directory error when I run the script on the jenkins server.</p>\n\n<p>Here is the script I am running through slather</p>\n\n<pre><code>slather coverage -x --output-directory /Users/Shared/Jenkins/Home/workspace/TestApp/test-reports/ --scheme TestApp /Users/Shared/Jenkins/Home/workspace/TestApp/TestApp.xcodeproj\n</code></pre>\n\n<p>Here is the PATH variable I am setting while executing this shell </p>\n\n<blockquote>\n  <p>$PATH:/Users/Shared/Jenkins/.gem/ruby/2.4.0/bin</p>\n</blockquote>\n"}, {"tags": ["json", "ruby", "logstash"], "answers": [{"tags": [], "owner": {"reputation": 1743, "user_id": 757715, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2Vk6w.jpg?s=128&g=1", "display_name": "Going Bananas", "link": "https://stackoverflow.com/users/757715/going-bananas"}, "is_accepted": true, "score": 0, "last_activity_date": 1510135712, "creation_date": 1510135712, "answer_id": 47176791, "question_id": 47163083, "link": "https://stackoverflow.com/questions/47163083/logstash-nested-json-parse/47176791#47176791", "title": "Logstash nested JSON Parse", "body": "<p>Two things were wrong. The first problem was the JSON itself being received that was wrong. <code>TrackingData</code> was not surrounded in <code>\"</code>. Correct JSON should be like this:</p>\n\n<pre><code>\"TrackingData\": {\n    \"path\": \"/hello/world\",\n    \"method\": \"GET\",\n    \"requestDateTime\": \"2017-11-07T16:12:02.635\",\n    \"duration\": 5104684,\n    \"status\": 200\n}\n</code></pre>\n\n<p>Second, I've added <code>codec =&gt; \"json\"</code> and removed <code>filter</code> code block in the Logstash's config:</p>\n\n<pre><code>input {\n    kafka {\n        bootstrap_servers =&gt; [\"kafka:9092\"]\n        topics =&gt; \"test-topic\"\n        group_id =&gt; \"test-topic-group\"\n        codec =&gt; \"json\"\n    }\n}\noutput {\n    stdout {\n        codec =&gt; rubydebug\n    }   \n    elasticsearch {\n        hosts =&gt; [\"elk:9200\"]\n}\n</code></pre>\n\n<p>Now, received JSONs' key/values are being parsed into separate fields and therefore can be displayed in separate columns in Kibana as necessary (or filtered out if not needed at all).</p>\n\n<p><a href=\"https://i.stack.imgur.com/UoqPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UoqPb.png\" alt=\"Kibana screen grab showing JSON fields in separate columns\"></a></p>\n"}], "owner": {"reputation": 1743, "user_id": 757715, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2Vk6w.jpg?s=128&g=1", "display_name": "Going Bananas", "link": "https://stackoverflow.com/users/757715/going-bananas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 0, "accepted_answer_id": 47176791, "answer_count": 1, "score": 0, "last_activity_date": 1510135712, "creation_date": 1510072714, "question_id": 47163083, "link": "https://stackoverflow.com/questions/47163083/logstash-nested-json-parse", "title": "Logstash nested JSON Parse", "body": "<p>I have a Logstash configuration which receives JSON input from Kafka and sends it to Elasticsearch Output.</p>\n\n<p>Received JSON has the following structure:</p>\n\n<pre><code>TrackingData: {\n    \"path\": \"/hello/world\",\n    \"method\": \"GET\",\n    \"requestDateTime\": \"2017-11-07T16:12:02.635\",\n    \"duration\": 5104684,\n    \"status\": 200\n}\n</code></pre>\n\n<p>I would like to add the <code>status</code> value as a new field so that it can later be displayed in a new column when viewing EL data using Kibana. I understand that for this I should include a <code>mutate</code> <code>filter</code> in the Logstash config.</p>\n\n<p>What should the Ruby string be in order to get the <code>status</code> value out of the JSON structure and into a new field?</p>\n\n<p>My Logstash config is currently as follows:</p>\n\n<pre><code>input {\n    kafka {\n        bootstrap_servers =&gt; [\"kafka:9092\"]\n        topics =&gt; \"test-topic\"\n        group_id =&gt; \"test-topic-group\"\n    }\n}\nfilter {\n    mutate {\n        add_field =&gt; {\n            \"root_field\" =&gt; \"%{[message]}\"\n            \"status_field\" =&gt; \"%{[message][TrackingData][status]}\"\n        }\n    }\n}\noutput {\n    stdout {\n        codec =&gt; rubydebug\n    }   \n    elasticsearch {\n        hosts =&gt; [\"elk:9200\"]\n}\n</code></pre>\n\n<p>When a message is processed by Logstash, I can see the <code>root_field</code> parsed okay in Kibana (I've added this field just to prove that the json is parseable) but the <code>status_field</code> is displayed as <code>%{[message][TrackingData][status]}</code> in Kibana (i.e. the parsing String must be incorrect).</p>\n\n<p>How should the parsing String be specified in order to get <code>status</code> value out of the example JSON structure above?</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": false, "score": 3, "last_activity_date": 1510073427, "creation_date": 1510073427, "answer_id": 47163304, "question_id": 47162886, "link": "https://stackoverflow.com/questions/47162886/what-is-the-try-convert-ruby-method-used-for/47163304#47163304", "title": "What is the try_convert ruby method used for?", "body": "<p><code>try_convert</code> is, in my experience, rarely used. But the use case is to <strong>strictly</strong> convert objects, rather than more loosely using their <em>representation</em>. For example, consider:</p>\n\n<pre><code>/foo/.to_s #=&gt; \"(?-mix:foo)\"\n/foo/.to_str #=&gt; NoMethodError: undefined method `to_str' for /foo/:Regexp\n\nString.try_convert(/foo/) #=&gt; nil\n</code></pre>\n\n<p>There is no <code>to_str</code> method defined on the class because a regex does not <em>act like</em> a string.</p>\n\n<p>Similarly, <code>Array.try_convert(object)</code> calls <code>object.to_ary</code> (<strong>not</strong> <code>.to_a</code>), and <code>Hash.try_convert(object)</code> calls <code>object.to_hash</code> (<strong>not</strong> <code>.to_h</code>).</p>\n\n<p>So for example, if you wish to define a custom class that truly <em>behaves like</em> a <code>String</code>, then it is advisable to define a <code>to_str</code> method - and therefore (amongst other things) you can call <code>String.try_convert</code> on instances of this class.</p>\n"}], "owner": {"reputation": 179, "user_id": 8652178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f717dc7e75881fc2934859c3801e650?s=128&d=identicon&r=PG&f=1", "display_name": "Retropiaf", "link": "https://stackoverflow.com/users/8652178/retropiaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1510074268, "creation_date": 1510072173, "last_edit_date": 1510074268, "question_id": 47162886, "link": "https://stackoverflow.com/questions/47162886/what-is-the-try-convert-ruby-method-used-for", "title": "What is the try_convert ruby method used for?", "body": "<p>I understand that <code>try_convert</code> will try to use the implicit conversion on an object and return <code>nil</code> if the implicit conversion result is <code>nil</code>, if the object is <code>nil</code> or if no implicit conversion method exists. What would be a use case for <code>try_convert</code>? Is it meant to test an input and return it if it is of the intended type and <code>nil</code> otherwise, while avoiding getting a <code>TypeError</code>? Why not use <code>is_a</code> in this case?</p>\n"}, {"tags": ["ruby", "docker", "ssh"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1510072460, "post_id": 47162867, "comment_id": 81275553, "body": "What is your actual problem? What are you stuck on? What kind of answer are you hoping to get here?"}, {"owner": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "reply_to_user": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1510072677, "post_id": 47162867, "comment_id": 81275684, "body": "@Kenster How can I copy the docker processes on a remote host to a *.txt file on the local host?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "edited": false, "score": 0, "creation_date": 1510081662, "post_id": 47164224, "comment_id": 81281055, "body": "ssh user@x.x.x.x &quot;ps -efC&quot; &gt; note.txt"}], "tags": [], "owner": {"reputation": 964, "user_id": 2575021, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f1ec1e86e45198215f91498d3d2c4134?s=128&d=identicon&r=PG", "display_name": "Vishal R", "link": "https://stackoverflow.com/users/2575021/vishal-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1510224221, "last_edit_date": 1510224221, "creation_date": 1510076494, "answer_id": 47164224, "question_id": 47162867, "link": "https://stackoverflow.com/questions/47162867/in-ruby-copy-text-from-remote-hosts-to-local-host/47164224#47164224", "title": "In Ruby, Copy text from remote host(s) to local host", "body": "<p>You need to call a remote command on ssh and then store output of this command to your txt file. </p>\n\n<pre><code>ssh user@xxx.xxx.xxx.xxx 'ps -eaf| grep docker' &gt; output.txt\n</code></pre>\n\n<p>I guess this what you need. </p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "edited": false, "score": 0, "creation_date": 1510148513, "post_id": 47169551, "comment_id": 81311295, "body": "I actually thought of something similar when discussing the matter with my peers later yesterday. I will give this a shot and up vote/ mark correct if it works! Thanks for the help"}, {"owner": {"reputation": 32, "user_id": 3862152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTUC9.jpg?s=128&g=1", "display_name": "Albert Hu", "link": "https://stackoverflow.com/users/3862152/albert-hu"}, "reply_to_user": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "edited": false, "score": 0, "creation_date": 1510174976, "post_id": 47169551, "comment_id": 81328594, "body": "Fsho! good luck :) The gem is a little outdated though.. but I hope it works!"}, {"owner": {"reputation": 32, "user_id": 3862152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTUC9.jpg?s=128&g=1", "display_name": "Albert Hu", "link": "https://stackoverflow.com/users/3862152/albert-hu"}, "reply_to_user": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "edited": false, "score": 0, "creation_date": 1510784964, "post_id": 47169551, "comment_id": 81588008, "body": "Any luck? @CreeFC"}, {"owner": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "edited": false, "score": 0, "creation_date": 1510924714, "post_id": 47169551, "comment_id": 81655115, "body": "Still having some issues @AlbertHu"}], "tags": [], "owner": {"reputation": 32, "user_id": 3862152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTUC9.jpg?s=128&g=1", "display_name": "Albert Hu", "link": "https://stackoverflow.com/users/3862152/albert-hu"}, "is_accepted": true, "score": 0, "last_activity_date": 1510100312, "creation_date": 1510100312, "answer_id": 47169551, "question_id": 47162867, "link": "https://stackoverflow.com/questions/47162867/in-ruby-copy-text-from-remote-hosts-to-local-host/47169551#47169551", "title": "In Ruby, Copy text from remote host(s) to local host", "body": "<p>You can try saving the output of the <code>ps</code> into a text file on that server and then using the <a href=\"https://github.com/net-ssh/net-scp\" rel=\"nofollow noreferrer\">net-scp gem</a> to move the output file to your local host.</p>\n\n<pre><code># download a file from a remote server\nNet::SCP.download!(\"remote.host.com\", \"username\",\n  \"/remote/path\", \"/local/path\",\n  :ssh =&gt; { :password =&gt; \"password\" })\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8901363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fff93045d3f771eeb14e81b41efe0d3?s=128&d=identicon&r=PG&f=1", "display_name": "CreeFC", "link": "https://stackoverflow.com/users/8901363/creefc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 47169551, "answer_count": 2, "score": 0, "last_activity_date": 1510224221, "creation_date": 1510072141, "last_edit_date": 1510072643, "question_id": 47162867, "link": "https://stackoverflow.com/questions/47162867/in-ruby-copy-text-from-remote-hosts-to-local-host", "title": "In Ruby, Copy text from remote host(s) to local host", "body": "<p><strong><em>Disclaimer</em></strong> I am very new to Ruby!</p>\n\n<p>I am currently writing a program (using Ruby) to ssh into a remote host from my local host. The program must then copy the docker processes running and print them to *.txt file in my local host. Please note: I do not need to be within any containers, I simply need to record the process.</p>\n\n<p>How can I copy the docker processes on a remote host to a *.txt file on the local host?</p>\n\n<p>I have got the ssh part down, but due to some constraints cannot publish any of my code. </p>\n\n<p>I appreciate any responses and have a good day everyone!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "pg-search"], "comments": [{"owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510072443, "post_id": 47162703, "comment_id": 81275547, "body": "Do you have some error ocurring? This scope :valid, -&gt; {where(&quot;video_count &gt; 1&quot;)} looks ok to me as a solution"}, {"owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "reply_to_user": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510072586, "post_id": 47162703, "comment_id": 81275626, "body": "The scope code doesn&#39;t cause an error, but it doesn&#39;t appear to work. I was guessing at code based on various googling, so I don&#39;t know if &quot;video_count&quot; is valid or not"}, {"owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510073292, "post_id": 47162703, "comment_id": 81276070, "body": "you want to find the elements without videos and delete it?"}, {"owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "reply_to_user": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510074103, "post_id": 47162703, "comment_id": 81276615, "body": "no, it&#39;s just a read-only query, leaving the data untouched"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "edited": false, "score": 0, "creation_date": 1510130723, "post_id": 47163705, "comment_id": 81299284, "body": "ok, so comments aren&#39;t great for writing code in.... I added artists = Artist.include(:videos).where(videos: {videos_id: nil}) to my ArtistsController and I get an error: wrong argument type Symbol (expected Module)"}, {"owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "edited": false, "score": 0, "creation_date": 1510131047, "post_id": 47163705, "comment_id": 81299480, "body": "The scope solution doesn&#39;t cause errors but doesn&#39;t affect the generated SQL query, which is:  SELECT &quot;artists&quot;.*, ((artists.popularity / 50 * (ts_rank((&quot;artists&quot;.&quot;tsv_name&quot;), (to_tsquery(&#39;simple&#39;, &#39;&#39;&#39; &#39; || &#39;oasis&#39; || &#39; &#39;&#39;&#39; || &#39;:*&#39;)), 2))) + (ts_rank((&quot;artists&quot;.&quot;tsv_name&quot;), (to_tsquery(&#39;simple&#39;, &#39;&#39;&#39; &#39; || &#39;oasis&#39; || &#39; &#39;&#39;&#39; || &#39;:*&#39;)), 2))) AS pg_search_rank FROM &quot;artists&quot; WHERE (((&quot;artists&quot;.&quot;tsv_name&quot;) @@ (to_tsquery(&#39;simple&#39;, &#39;&#39;&#39; &#39; || &#39;oasis&#39; || &#39; &#39;&#39;&#39; || &#39;:*&#39;)))) ORDER BY pg_search_rank DESC, &quot;artists&quot;.&quot;id&quot; ASC"}, {"owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "reply_to_user": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "edited": false, "score": 0, "creation_date": 1510138840, "post_id": 47163705, "comment_id": 81304798, "body": "So I am a little lost here, I thought that you only need a query that retrieve all artists with empty videos. What is the relation between the scope query and this SQL query you showed?"}, {"owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "edited": false, "score": 0, "creation_date": 1510140589, "post_id": 47163705, "comment_id": 81306016, "body": "I&#39;m sorry, perhaps my English was a little ambiguous &quot;I want to filter the existing query results to remove records which do not have any videos&quot;, meaning I want to query for artists with at least 1 video (and it&#39;s the artist-&gt;AlbumGroup-&gt;albums-&gt;tracks-&gt;videos association, NOT artist-&gt;videos). I hope this is clearer"}, {"owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "reply_to_user": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "edited": false, "score": 0, "creation_date": 1510142623, "post_id": 47163705, "comment_id": 81307294, "body": "is pg_search_scope a requirement? I think you need to perform some joins, and pg_search gems says that Right now, searching deeper than one association away is not supported. Take a look here : <a href=\"https://github.com/Casecommons/pg_search\" rel=\"nofollow noreferrer\">github.com/Casecommons/pg_search</a>"}], "tags": [], "owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "is_accepted": false, "score": 0, "last_activity_date": 1510074779, "creation_date": 1510074779, "answer_id": 47163705, "question_id": 47162703, "link": "https://stackoverflow.com/questions/47162703/ruby-on-rails-filtering-pg-search-scope-v2-2/47163705#47163705", "title": "ruby on rails filtering pg_search_scope v2.2", "body": "<p>ActiveRecord's <code>has_many</code> and <code>belongs_to</code> methods give you the ability to define scopes directly on the association. This way, you can customize the SQL that is generated when you access the association.</p>\n\n<p>let\u2019s say you wanted to define a scope on the Artist model which returns all artists who have zero videos. In Rails 5, to find all artists that have no videos, you can use <code>left_outer_joins</code></p>\n\n<pre><code>class Artist &lt; ActiveRecord::Base\n  has_many :videos\n  scope :with_zero_videos, -&gt; { left_outer_joins(:videos).where(videos: {id: nil}) }\nend\n</code></pre>\n\n<p>Another good solution is to use <code>includes</code> like this:</p>\n\n<pre><code>Artist.includes(:videos).where(videos: { videos_id: nil })\n</code></pre>\n\n<p>You can choose the one you like the most!</p>\n\n<p>Hope it helped.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "is_accepted": true, "score": 0, "last_activity_date": 1510155742, "creation_date": 1510155742, "answer_id": 47183856, "question_id": 47162703, "link": "https://stackoverflow.com/questions/47162703/ruby-on-rails-filtering-pg-search-scope-v2-2/47183856#47183856", "title": "ruby on rails filtering pg_search_scope v2.2", "body": "<p>Thanks Gabriel, I've added a raw SQL query to artists_controller.rb, which looks like:</p>\n\n<pre><code>  def index\n    #artists = Artist.for_name(params[:name])\n    artists = Artist.find_by_sql [\"SELECT artists.*, ((artists.popularity / 50 * (ts_rank((artists.tsv_name), (to_tsquery('simple', ''' ' || ? || ' ''' || ':*')), 2))) + (ts_rank((artists.tsv_name), (to_tsquery('simple', ''' ' || ? || ' ''' || ':*')), 2))) AS pg_search_rank FROM artists \" +\n      \"JOIN album_groups on (artists.id = album_groups.artist_id) \" +\n      \"JOIN tracks on (tracks.album_group_id = album_groups.id) \" +\n      \"JOIN videos on (videos.track_id = tracks.id) \" +\n      \"WHERE (((artists.tsv_name) @@ (to_tsquery('simple', ''' ' || ? || ' ''' || ':*')))) \" +\n      \"GROUP BY artists.id \" +\n      \"ORDER BY pg_search_rank DESC, artists.id ASC\", params[:name], params[:name], params[:name]]\n    render json: artists, each_serializer: SimpleArtistSerializer\n  end\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8689886, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155048002020895/picture?type=large", "display_name": "Tom Crawford", "link": "https://stackoverflow.com/users/8689886/tom-crawford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "accepted_answer_id": 47183856, "answer_count": 2, "score": 1, "last_activity_date": 1510155742, "creation_date": 1510071620, "last_edit_date": 1510140716, "question_id": 47162703, "link": "https://stackoverflow.com/questions/47162703/ruby-on-rails-filtering-pg-search-scope-v2-2", "title": "ruby on rails filtering pg_search_scope v2.2", "body": "<p>I'm very new to Ruby on Rails and I need help figuring out how to amend an existing db query. I'm using old versions, which I cannot update: Ruby 2.2.3p173, and Rails 4.0.2.</p>\n\n<p>I want to filter the existing query results to remove records which do not have any videos. The model hierarchy I think is: Artist, AlbumGroup, Album, Track, Video.</p>\n\n<p>To clarify: I want artists with at least 1 video, from the model association artist->AlbumGroup->albums->tracks->videos (not artist->videos).</p>\n\n<p>The existing query is contained in model Artist:</p>\n\n<pre><code>require_dependency \"tagging\"\nrequire_dependency \"similar\"\nclass Artist &lt; ActiveRecord::Base\n  has_many :images, dependent: :destroy\n  has_many :taggings, dependent: :destroy\n  has_many :artforms, through: :taggings\n  has_many :similars, foreign_key: \"similar_id\", dependent: :destroy\n  has_many :similar_artists, through: :similars, source: :similar_to\n  has_many :reverse_similars, foreign_key: \"similar_to_id\", class_name: \"Similar\", dependent: :destroy\n  has_many :similar_to_artists, through: :reverse_similars, source: :similar\n  has_many :memberships, foreign_key: \"member_id\", dependent: :destroy\n  has_many :groups, through: :memberships, source: :membership\n  has_many :group_members, foreign_key: \"membership_id\", class_name: \"Membership\", dependent: :destroy\n  has_many :members, through: :group_members, source: :member\n  has_many :users, through: :followed_artists\n  has_many :videos, dependent: :destroy\n  has_many :audios, dependent: :destroy\n  has_many :metrics, through: :audios\n  has_many :releases, foreign_key: 'artist_id', class_name: \"AlbumGroup\"\n  has_many :albums\n  has_many :collaborations\n  has_many :album_groups, through: :collaborations\n  mount_uploader :mugshot, MugshotUploader\n  include PgSearch\n  pg_search_scope :for_name,\n      against: :name,\n      using: { tsearch: {threshold: '1', dictionary: 'simple', tsvector_column: 'tsv_name', prefix: true, normalization: 2}},\n      ranked_by: \"(artists.popularity / 50 * :tsearch) + :tsearch\"\nend\n</code></pre>\n\n<p>I want to add something like the following to filter out the records which do not have any videos: (to the query):</p>\n\n<pre><code>if: artist.releases.albums.tracks.videos.count &gt; 1\n</code></pre>\n\n<p>Or the Artist model maybe?:</p>\n\n<pre><code>scope :valid, -&gt; {where(\"video_count &gt; 1\")}\n</code></pre>\n\n<p>The other code for the different models is below:</p>\n\n<pre><code>class AlbumGroup &lt; ActiveRecord::Base\n  belongs_to :artist\n  has_many :collaborations\n  has_many :artists, through: :collaborations\n  has_many :albums\n  has_many :taggings, dependent: :destroy\n  has_many :artforms, through: :taggings\n  mount_uploader :artwork, MugshotUploader\n  def as_json options={}\n    {\n      id: id,\n      title: title\n    }\n  end\nend\n\nclass Album &lt; ActiveRecord::Base\n  belongs_to :album_group\n  belongs_to :artist\n  has_many :tracks\nend\n\nclass Track &lt; ActiveRecord::Base\n  has_many :playlist_tracks, dependent: :destroy\n  has_many :playlists, through: :playlist_tracks\n  belongs_to :audio\n  belongs_to :video\n  has_many :videos\n  has_many :audios\n  has_many :taggings, dependent: :destroy\n  has_many :artforms, through: :taggings\n  belongs_to :album\n  belongs_to :artist\n  default_scope order: \"position ASC\"\n  after_save :cache_columns\n\n  def cache_columns\n    if image_url.nil?\n      img = album.album_group.artwork_url(:tiny)\n      unless img.nil?\n        update_column(:image_url,img)\n      end\n    end\n    if artist_name.nil?\n      if artist_id\n        name = Artist.find(artist_id).name\n        update_column(:artist_name,name)\n      end\n    end\n    if album_name.nil?\n      if album_id\n        title = Album.find(album_id).title\n        update_column(:album_name,title)\n      end\n    end\n  end\nend\n\nclass Video &lt; ActiveRecord::Base\n  belongs_to :artist\n  belongs_to :event\n  belongs_to :track\n  has_many :tracks\n  has_many :playlists, through: :tracks, order: \"tracks.position ASC\"\n  scope :valid, -&gt; {where(\"flag_count &lt; 2\").order(\"score DESC\") }\n  scope :flagged, -&gt; {where(\"flag_count &gt; ?\", 1) }\n#   validates :url, uniqueness: {scope: :artist_id}\nend\n</code></pre>\n"}, {"tags": ["ruby", "watir", "watir-webdriver"], "comments": [{"owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "edited": false, "score": 1, "creation_date": 1510073656, "post_id": 47162565, "comment_id": 81276328, "body": "Which operating system?"}, {"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 1, "creation_date": 1510076831, "post_id": 47162565, "comment_id": 81278285, "body": "Which favor of browser, which version of that browser.  Which version of Watir is working for you and which version is broken?   You mentioned v6.2.1 but did not indicate if that was what worked for you, or what you had issues with."}, {"owner": {"reputation": 65, "user_id": 8125349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/swnsg.jpg?s=128&g=1", "display_name": "Vincent Cheloudiakoff", "link": "https://stackoverflow.com/users/8125349/vincent-cheloudiakoff"}, "edited": false, "score": 0, "creation_date": 1510132241, "post_id": 47162565, "comment_id": 81300196, "body": "Sorry, i&#39;m working with mac os Sierra 10.12.6, i&#39;m using Chrome Version 62.0.3202.89, the Watir version which is broken is the last version ( 6.4.0 ) and the version that worked before updating ( 6.2.1 ).  So, now when i reinstall Watir 6.2.1, it&#39;s not working anymore.  I have find another solution, that is to get the href from the button link, and make a <code>browser.goto(&#39;this_href&#39;)</code>, in this case i never could have my issue of element not clickable, with or without resizing of my browser !"}, {"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 2, "creation_date": 1510166064, "post_id": 47162565, "comment_id": 81323487, "body": "When did you last update your Chromedriver?"}, {"owner": {"reputation": 65, "user_id": 8125349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/swnsg.jpg?s=128&g=1", "display_name": "Vincent Cheloudiakoff", "link": "https://stackoverflow.com/users/8125349/vincent-cheloudiakoff"}, "edited": false, "score": 1, "creation_date": 1510219388, "post_id": 47162565, "comment_id": 81344705, "body": "I do not have updated chromedriver, i&#39;m going to try !"}, {"owner": {"reputation": 65, "user_id": 8125349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/swnsg.jpg?s=128&g=1", "display_name": "Vincent Cheloudiakoff", "link": "https://stackoverflow.com/users/8125349/vincent-cheloudiakoff"}, "edited": false, "score": 1, "creation_date": 1510219984, "post_id": 47162565, "comment_id": 81345083, "body": "It&#39;s work perfectly now ! Thank you so much :) !"}], "answers": [{"tags": [], "owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "is_accepted": true, "score": 1, "last_activity_date": 1510356448, "creation_date": 1510356448, "answer_id": 47232667, "question_id": 47162565, "link": "https://stackoverflow.com/questions/47162565/watir-resize-to-dont-work-anymore/47232667#47232667", "title": "Watir resize_to don&#39;t work anymore", "body": "<p>Most likely you need to update your chromedriver.   I get bit by that every so often because the browser will update automatically and without alerting you to that fact..  So it's not uncommon to have the browser get 'ahead' of chromedriver and things stop working or start working in strange weird ways until you realize what is going on and update chromedriver.  </p>\n"}], "owner": {"reputation": 65, "user_id": 8125349, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/swnsg.jpg?s=128&g=1", "display_name": "Vincent Cheloudiakoff", "link": "https://stackoverflow.com/users/8125349/vincent-cheloudiakoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 47232667, "answer_count": 1, "score": 1, "last_activity_date": 1510356448, "creation_date": 1510071236, "question_id": 47162565, "link": "https://stackoverflow.com/questions/47162565/watir-resize-to-dont-work-anymore", "title": "Watir resize_to don&#39;t work anymore", "body": "<p>Hello i've some trouble about windows managing with Watir gem in Ruby.</p>\n\n<p>I've working with watir '6.2.1' until I finished to write my program, and I always got an error that is \"Element is not clickable at point (x, y)...\" never at the same location, whereas really nothing was on the button that i want to focus.</p>\n\n<p>In this case, i just needed to update watir to don't have this error again.\nI think that this error was resolved, but i've the same error, that I already had, when i want to click exactly in the same location as before.</p>\n\n<p>Before i've update watir to the last update, i used \n<code>browser.window.resize_to(1366, 786)</code>, it's worked and i did not have the error anymore.</p>\n\n<p>Now, it's not working. My window does not resize anymore.. When i put back the old version, it's the same issue.</p>\n\n<p>I'm sorry about my bad english, i hope that you understand what i want to explain.</p>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510071885, "post_id": 47162490, "comment_id": 81275196, "body": "Your contrived scenario is, as you say, quite unusual. So the code to achieve the result looks a little unusual too. But I don&#39;t see anything particularly wrong with your original approach, or any significant way to improve it."}], "answers": [{"tags": [], "owner": {"reputation": 9971, "user_id": 8255744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de22299534b5a8ed244ee8ff4aa6c481?s=128&d=identicon&r=PG&f=1", "display_name": "Simple Lime", "link": "https://stackoverflow.com/users/8255744/simple-lime"}, "is_accepted": true, "score": 5, "last_activity_date": 1510076225, "last_edit_date": 1510076225, "creation_date": 1510075322, "answer_id": 47163867, "question_id": 47162490, "link": "https://stackoverflow.com/questions/47162490/whats-the-cleanest-way-to-construct-a-ruby-array-using-a-while-loop/47163867#47163867", "title": "What&#39;s the cleanest way to construct a Ruby array using a while loop?", "body": "<p>Something you might want to look into for situations like this (though maybe your contrived example fits this a lot better than your actual use case) is creating an <a href=\"http://ruby-doc.org/core-2.4.0/Enumerator.html#method-c-new\" rel=\"nofollow noreferrer\"><code>Enumerator</code></a>, so your contrived example becomes:</p>\n\n<p>From the docs for initialize:</p>\n\n<blockquote>\n<pre><code>fib = Enumerator.new do |y|\n  a = b = 1\n  loop do\n    y &lt;&lt; a\n    a, b = b, a + b\n  end\nend\n</code></pre>\n</blockquote>\n\n<p>and then call it:</p>\n\n<pre><code>p fib.take_while { |elem| elem &lt;= 5 }\n#=&gt; [1, 1, 2, 3, 5]\n</code></pre>\n\n<p>So, you create an enumerator which iterates all your values and then once you have that, you can iterate through it and collect the values you want for your array in any of the usual Ruby-ish ways</p>\n"}, {"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1510078471, "creation_date": 1510078471, "answer_id": 47164796, "question_id": 47162490, "link": "https://stackoverflow.com/questions/47162490/whats-the-cleanest-way-to-construct-a-ruby-array-using-a-while-loop/47164796#47164796", "title": "What&#39;s the cleanest way to construct a Ruby array using a while loop?", "body": "<p>Similar to Simple Lime's Enumerator solution, you can write a method that wraps itself in an Enumerator:</p>\n\n<pre><code>def fibonacci_up_to(max_number)\n  return enum_for(__callee__, max_number) unless block_given?\n\n  a = b = 1\n  while a &lt;= max_number\n    yield a\n    a, b = b, a + b\n  end\nend\n\nfibonacci_up_to(5).to_a # =&gt; [1, 1, 2, 3, 5]\n</code></pre>\n\n<p>This achieves the same result as returning an Enumerator instance from a method, but it looks a bit nicer and you can use the <code>yield</code> keyword instead of a <code>yielder</code> block variable. It also lets you do neat things like:</p>\n\n<pre><code>fibonacci_up_to(5) do |i|\n  # ..\nend\n</code></pre>\n"}], "owner": {"reputation": 976, "user_id": 4003671, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BHAz6.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/4003671/alec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 47163867, "answer_count": 2, "score": -1, "last_activity_date": 1510078471, "creation_date": 1510070991, "question_id": 47162490, "link": "https://stackoverflow.com/questions/47162490/whats-the-cleanest-way-to-construct-a-ruby-array-using-a-while-loop", "title": "What&#39;s the cleanest way to construct a Ruby array using a while loop?", "body": "<p>Ruby has lots of nice ways of iterating and directly returning that result. This mostly involve array methods. For example:</p>\n\n<pre><code>def ten_times_tables\n  (1..5).map { |i| i * 10 }\nend\n\nten_times_tables # =&gt; [10, 20, 30, 40, 50]\n</code></pre>\n\n<p>However, I sometimes want to iterate using <code>while</code> and directly return the resulting array. For example, the contents of the array may depend on the expected final value or some accumulator, or even on conditions outside of our control.</p>\n\n<p>A (contrived) example might look like:</p>\n\n<pre><code>def fibonacci_up_to(max_number)\n  sequence = [1, 1]\n\n  while sequence.last &lt; max_number\n    sequence &lt;&lt; sequence[-2..-1].reduce(:+)\n  end\n\n  sequence\nend\n\nfibonacci_up_to(5) # =&gt; [1, 1, 2, 3, 5]\n</code></pre>\n\n<p>To me, this sort of approach feels quite \"un-Ruby\". The fact that I construct, name, and later return an array feels like an anti-pattern. So far, the best I can come up with is using <code>tap</code>, but it still feels quite icky (and quite nested):</p>\n\n<pre><code>def fibonacci_up_to(max_number)\n  [1, 1].tap do |sequence|\n    while sequence.last &lt; max_number\n      sequence &lt;&lt; sequence[-2..-1].reduce(:+)\n    end\n  end\nend\n</code></pre>\n\n<p>Does anyone else have any cleverer solutions to this sort of problem?</p>\n"}, {"tags": ["mysql", "sql", "ruby-on-rails", "ruby", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510070472, "post_id": 47162141, "comment_id": 81274220, "body": "your group call should be grouping by month, not by the car name, doesn&#39;t it?"}, {"owner": {"reputation": 3, "user_id": 8364552, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ffa26f56d9fee5f41571e4e1171156b?s=128&d=identicon&r=PG&f=1", "display_name": "luis dmz", "link": "https://stackoverflow.com/users/8364552/luis-dmz"}, "reply_to_user": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510070582, "post_id": 47162141, "comment_id": 81274286, "body": "If i group by date the result is : {Thu, 30 Nov 2017=&gt;100.0, Sun, 31 Dec 2017=&gt;4200.0, Wed, 31 Jan 2018=&gt;18400.0, Wed, 28 Feb 2018=&gt;18500.0, Sat, 31 Mar 2018=&gt;18400.0, Mon, 30 Apr 2018=&gt;18420.0, Thu, 31 May 2018=&gt;18220.0, Sat, 30 Jun 2018=&gt;6200.0, Tue, 31 Jul 2018=&gt;6200.0, Fri, 31 Aug 2018=&gt;5000.0, Sun, 30 Sep 2018=&gt;5000.0, Wed, 31 Oct 2018=&gt;25000.0}"}, {"owner": {"reputation": 3, "user_id": 8364552, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ffa26f56d9fee5f41571e4e1171156b?s=128&d=identicon&r=PG&f=1", "display_name": "luis dmz", "link": "https://stackoverflow.com/users/8364552/luis-dmz"}, "reply_to_user": {"reputation": 1768, "user_id": 7672985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6233938657e3693fca648b313da8557?s=128&d=identicon&r=PG", "display_name": "Gabriel Mesquita", "link": "https://stackoverflow.com/users/7672985/gabriel-mesquita"}, "edited": false, "score": 0, "creation_date": 1510070624, "post_id": 47162141, "comment_id": 81274308, "body": "i need a array months =&gt; car name =&gt; total_month in hash from mysql"}, {"owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 2, "creation_date": 1510070716, "post_id": 47162141, "comment_id": 81274375, "body": "Try <code>.group(&#39;MONTH(date)&#39;,&#39;bills.car_name&#39;)</code>  The months will be 1-12 instead of Jan-Dec, but it will get you closer."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510070992, "post_id": 47162141, "comment_id": 81274561, "body": "Or even <code>GROUP BY YEAR(date), MONTH(date)</code>. Just grouping by the month will lead to strange results if the dataset spans more than one year."}, {"owner": {"reputation": 3, "user_id": 8364552, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ffa26f56d9fee5f41571e4e1171156b?s=128&d=identicon&r=PG&f=1", "display_name": "luis dmz", "link": "https://stackoverflow.com/users/8364552/luis-dmz"}, "edited": false, "score": 0, "creation_date": 1510071138, "post_id": 47162141, "comment_id": 81274654, "body": "result: {[1, &quot;A3&quot;]=&gt;2000.0, [1, &quot;Alfa&quot;]=&gt;1000.0, [1, &quot;Aveo&quot;]=&gt;100.0, [1, &quot;Continental GT&quot;]=&gt;3000.0, [1, &quot;i325&quot;]=&gt;100.0, [1, &quot;Lobo&quot;]=&gt;200.0, [1, &quot;Wrangler&quot;]=&gt;12000.0, [2, &quot;A3&quot;]=&gt;2000.0, [2, &quot;A5&quot;]=&gt;100.0, [2, &quot;Alfa&quot;]=&gt;1000.0, [2, &quot;Aveo&quot;]=&gt;100.0, [2, &quot;Continental GT&quot;]=&gt;3000.0, [2, &quot;i325&quot;]=&gt;100.0, [2, &quot;Lobo&quot;]=&gt;200.0, [2, &quot;Wrangler&quot;]=&gt;12000.0, [3, &quot;A3&quot;]=&gt;2000.0, [3, &quot;A5&quot;]=&gt;100.0, [3, &quot;Alfa&quot;]=&gt;1000.0, [3, &quot;Aveo&quot;]=&gt;100.0, [3, &quot;Continental GT&quot;]=&gt;3000.0, [3, &quot;Lobo&quot;]=&gt;200.0, [3, &quot;Wrangler&quot;]=&gt;12000.0, [4, &quot;A3&quot;]=&gt;2000.0, [4, &quot;A5&quot;]=&gt;100.0, [4, &quot;Alfa&quot;]=&gt;1000.0}"}, {"owner": {"reputation": 3, "user_id": 8364552, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ffa26f56d9fee5f41571e4e1171156b?s=128&d=identicon&r=PG&f=1", "display_name": "luis dmz", "link": "https://stackoverflow.com/users/8364552/luis-dmz"}, "edited": false, "score": 0, "creation_date": 1510071224, "post_id": 47162141, "comment_id": 81274727, "body": "need a [{&quot;January&quot; =&gt; {&quot;A3&quot;: &quot;200&quot;},{&quot;A4&quot;:&quot;300&quot;}},{&quot;february&quot; =&gt; {&quot;A3&quot;: &quot;200&quot;},{&quot;A4&quot;:&quot;300&quot;}},{&quot;march&quot; =&gt; {&quot;A3&quot;: &quot;200&quot;},{&quot;A4&quot;:&quot;300&quot;}}...etc]"}], "answers": [{"tags": [], "owner": {"reputation": 6122, "user_id": 946500, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fqdcn.jpg?s=128&g=1", "display_name": "Pavel Oganesyan", "link": "https://stackoverflow.com/users/946500/pavel-oganesyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510159821, "last_edit_date": 1510159821, "creation_date": 1510158866, "answer_id": 47184972, "question_id": 47162141, "link": "https://stackoverflow.com/questions/47162141/mysql-query-return-array-with-rails/47184972#47184972", "title": "Mysql Query return array with Rails?", "body": "<p>You can proceed results from DB after you got them (possibly slower, but i guess it will be fast enough):</p>\n\n<pre><code>@bill_area_char = BillsPayment.joins(:bill).where(payed: false,date: from_date..to_date, active: true).group('MONTH(date)','bills.car_name').sum(:price)\nresult = Hash[Date::MONTHNAMES.compact.map {|x|[x,[]]}]\nmonths = Hash[(1..12).zip Date::MONTHNAMES.compact]\n@bill_area_char.each { |k, v| result[months[k[0]]] &lt;&lt; {k[1]=&gt;v} }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8364552, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ffa26f56d9fee5f41571e4e1171156b?s=128&d=identicon&r=PG&f=1", "display_name": "luis dmz", "link": "https://stackoverflow.com/users/8364552/luis-dmz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510159821, "creation_date": 1510069966, "last_edit_date": 1510070389, "question_id": 47162141, "link": "https://stackoverflow.com/questions/47162141/mysql-query-return-array-with-rails", "title": "Mysql Query return array with Rails?", "body": "<p>I have a MySQL query that I need to change to give results in a different format.</p>\n\n<p>Here's my query so far:</p>\n\n<pre><code>@bill_area_char = BillsPayment.joins(:bill).where(payed: false,date: from_date..to_date, active: true).group(\"bills.car_name\").sum(:price)\n</code></pre>\n\n<p>and the result:</p>\n\n<pre><code>{\"A3\"=&gt;20000.0, \"A4\"=&gt;100.0, \"A5\"=&gt;700.0, \"Alfa\"=&gt;8000.0, \"AMIO\"=&gt;40.0, \"Aveo\"=&gt;800.0, \"Bmw\"=&gt;20000.0, \"Continental GT\"=&gt;33000.0, \"i325\"=&gt;200.0, \"Lobo\"=&gt;800.0, \"Wrangler\"=&gt;60000.0} \n</code></pre>\n\n<p>But, I need:</p>\n\n<p><code>[{\"January\" =&gt; {\"A3\": \"200\"},{\"A4\":\"300\"}....etc},...next 12 months]</code></p>\n\n<p>Is it possible to return all of these months in a single MySQL query with Ruby on Rails?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510069237, "post_id": 47161761, "comment_id": 81273274, "body": "Well... You are not setting the <code>@trains</code> variable in the <code>show</code> action?"}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510069324, "post_id": 47161761, "comment_id": 81273354, "body": "Your <code>Search</code> class is dodgy, too - you&#39;re using a class instance variable for what should just be a local variable."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 7930720, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zrzBz.jpg?s=128&g=1", "display_name": "D.K.S", "link": "https://stackoverflow.com/users/7930720/d-k-s"}, "edited": false, "score": 0, "creation_date": 1510073814, "post_id": 47162154, "comment_id": 81276438, "body": "Moved but same empty @trains :-("}], "tags": [], "owner": {"reputation": 803, "user_id": 582128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c8ec4f43ba15dd4f310d7348b3c44e4?s=128&d=identicon&r=PG", "display_name": "Attenzione", "link": "https://stackoverflow.com/users/582128/attenzione"}, "is_accepted": false, "score": 0, "last_activity_date": 1510070015, "creation_date": 1510070015, "answer_id": 47162154, "question_id": 47161761, "link": "https://stackoverflow.com/questions/47161761/singular-search-page-rails-5-0/47162154#47162154", "title": "Singular &quot;Search&quot; page Rails 5.0", "body": "<p>move <code>@trains = Search.trains(params[:station_from], params[:station_to])</code> </p>\n\n<p>to <code>show</code> method</p>\n"}], "owner": {"reputation": 175, "user_id": 7930720, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zrzBz.jpg?s=128&g=1", "display_name": "D.K.S", "link": "https://stackoverflow.com/users/7930720/d-k-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510070015, "creation_date": 1510068921, "question_id": 47161761, "link": "https://stackoverflow.com/questions/47161761/singular-search-page-rails-5-0", "title": "Singular &quot;Search&quot; page Rails 5.0", "body": "<p>Trying to create single search resource with only new and show actions/views\n<a href=\"https://gist.github.com/DaniyarKulmanov/f159306a1e235cfca75414d66a274852\" rel=\"nofollow noreferrer\">Views,Controller  and custom class in model</a></p>\n\n<p>My scenario is, in new.html.erb creating new search with populating fields.\nAfter pressing submit button, show.html.erb shown with search result.\nBut in my case my @trains variable are empty in show action :( </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 1, "creation_date": 1510068761, "post_id": 47161623, "comment_id": 81272903, "body": "show us an example of the contents of <code>fn</code>."}, {"owner": {"reputation": 7736, "user_id": 687142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VErBp.jpg?s=128&g=1", "display_name": "xlembouras", "link": "https://stackoverflow.com/users/687142/xlembouras"}, "edited": false, "score": 0, "creation_date": 1510068859, "post_id": 47161623, "comment_id": 81272974, "body": "and how you call the script from cli"}], "answers": [{"tags": [], "owner": {"reputation": 61438, "user_id": 63034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZXKMO.jpg?s=128&g=1", "display_name": "mikej", "link": "https://stackoverflow.com/users/63034/mikej"}, "is_accepted": false, "score": 0, "last_activity_date": 1510070648, "creation_date": 1510070648, "answer_id": 47162382, "question_id": 47161623, "link": "https://stackoverflow.com/questions/47161623/ruby-hashing-problems/47162382#47162382", "title": "Ruby hashing problems", "body": "<p>I think the problem is that <code>$result = Hash.new([])</code> doesn't do what you want/think it does.</p>\n\n<p>It will return the <em>same</em> array when you request any non-existent key for the hash, and also it doesn't assign any array for subsequent requests for the same key.</p>\n\n<p>Instead you can use the block version of <code>Hash.new</code>:</p>\n\n<pre><code>result = Hash.new {|hash, key| hash[key] = [] }\n</code></pre>\n\n<p>The version of <code>Hash.new</code> with a default value is more useful for avoiding the need for <code>nil</code> checks when you're using a hash to maintain some counts e.g.</p>\n\n<pre><code>counts = Hash.new(0)\ncounts['foo'] += 1\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7817614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2378c9b7e0e8363e5b05847a386482?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Cooper", "link": "https://stackoverflow.com/users/7817614/benji-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510070648, "creation_date": 1510068569, "question_id": 47161623, "link": "https://stackoverflow.com/questions/47161623/ruby-hashing-problems", "title": "Ruby hashing problems", "body": "<p>I have a large .txt file, which contains some data, mapping crashing inputs to programs to their crash sites. The data is formatted as \n , and each line is another crash.\nI tried to run the ruby script below to automatically sort them, but it gave no output. Any and all suggestions would be appreciated.</p>\n\n<pre><code># !/usr/bin/ruby                                                                                                                             \n\nfn = ARGV[0]\n\n$result = Hash.new([])\n\nFile.open(fn, \"r\") do |f|\n  f.readlines do |l|\n    ar = l.split\n    puts(ar)\n    $result[ar[1]].push[ar[0]]\n  end\nend\n\n$result.each do |k, v|\n  puts(k)\n  puts(v)\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-csv"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1510068926, "post_id": 47161552, "comment_id": 81273030, "body": "why not just use <code>total_price += item_price</code> where you define <code>total_price = 0.0</code>."}, {"owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "reply_to_user": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1510068993, "post_id": 47161552, "comment_id": 81273073, "body": "What @Anthony says will work, but if you don&#39;t want to initialize a var outside of the block, you can achieve the result with <code>#inject</code>. See me answer for details."}, {"owner": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "reply_to_user": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1510069830, "post_id": 47161552, "comment_id": 81273750, "body": "@Anthony, when i try i get: String can&#39;t be coerced into Float"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "edited": false, "score": 0, "creation_date": 1510069966, "post_id": 47161758, "comment_id": 81273859, "body": "Humm...i try but i get this error: String can&#39;t be coerced into Fixnum"}, {"owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "reply_to_user": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "edited": false, "score": 0, "creation_date": 1510070104, "post_id": 47161758, "comment_id": 81273961, "body": "Your <code>item_price</code> must be a string. You need to cast it to a float or int. I&#39;ll update my code with the latter."}, {"owner": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "edited": false, "score": 0, "creation_date": 1510070358, "post_id": 47161758, "comment_id": 81274145, "body": "It&#39;s works, but how i can use the variable price_sum out of block?"}, {"owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "reply_to_user": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "edited": false, "score": 0, "creation_date": 1510070542, "post_id": 47161758, "comment_id": 81274256, "body": "The block returns the value you want. So if you need the value outside of it, assign it to a variable. <code>price = CSV.foreach...</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1510118291, "post_id": 47161758, "comment_id": 81293586, "body": "Consider using <a href=\"http://ruby-doc.org/core-2.4.0/Enumerable.html#method-i-sum\" rel=\"nofollow noreferrer\">Enumerable#sum</a> with the appropriate block (<code>row</code> being the only block variable). That method made its debut in Ruby v2.4."}], "tags": [], "owner": {"reputation": 2267, "user_id": 882025, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zK7M6.jpg?s=128&g=1", "display_name": "hoffm", "link": "https://stackoverflow.com/users/882025/hoffm"}, "is_accepted": true, "score": 2, "last_activity_date": 1510070140, "last_edit_date": 1510070140, "creation_date": 1510068913, "answer_id": 47161758, "question_id": 47161552, "link": "https://stackoverflow.com/questions/47161552/how-to-sum-rows-of-csv/47161758#47161758", "title": "how to sum rows of csv", "body": "<pre><code>CSV.foreach(dir, col_sep: \"\\t\", headers: true).inject(0) do |price_sum, row|\n  # Leave the code you already have here\n  price_sum += item_price.to_i\nend\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7838720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/792720319533922301b7f2ec109a7b36?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Policarpo", "link": "https://stackoverflow.com/users/7838720/denis-policarpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 47161758, "answer_count": 1, "score": 0, "last_activity_date": 1510070140, "creation_date": 1510068363, "last_edit_date": 1510069518, "question_id": 47161552, "link": "https://stackoverflow.com/questions/47161552/how-to-sum-rows-of-csv", "title": "how to sum rows of csv", "body": "<p>I have the following code that retrieves the rows from a txt file, I would like to sum all the values \u200b\u200bof item_price to be able to use it in my application. I'd like this value to be retrieved out of the block:</p>\n\n<pre><code>CSV.foreach(dir, col_sep: \"\\t\", headers: true).map do |row|\n</code></pre>\n\n<p>Follow the code:</p>\n\n<pre><code>module ParseText\n  def self.parse\n    require 'csv'\n    dir = Dir.glob(\"./public/system/file_attaches/files/*/*/*/*/*\").max_by {|f| File.mtime(f)}\n    CSV.foreach(dir, col_sep: \"\\t\", headers: true).map do |row|\n      records = row.to_h\n      purchaser = records[\"purchaser name\"]\n      item_description = records[\"item description\"]\n      item_price = records[\"item price\"]\n      purchase_count = records[\"purchase count\"]\n      merchant_address = records[\"merchant_address\"]\n      merchant_name = records[\"merchant name\"]\n\n      Merchant.create(name: merchant_name)\n      MerchantAddress.create(street: merchant_address, merchant_id: Merchant.last.id)\n      Purchaser.create(name: purchaser, count: purchase_count, merchant_id: Merchant.last.id)\n      Item.create(description: item_description, price: item_price, merchant_id: Merchant.last.id, purchaser_id: Purchaser.last.id )\n    end\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "each", "block"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1510067925, "post_id": 47161031, "comment_id": 81272325, "body": "everything in ruby returns a value. it just so happens the return value for main is <code>nil</code> because the return value from  <code>hypothesis_arr.each_slice(2).each{|v| $distances[v.first,v.last]}</code> is <code>nil</code>. You can recreate this by simply <code>(0..99).to_a.each_slice(2).each{} #=&gt; nil</code>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1510082160, "post_id": 47161031, "comment_id": 81281322, "body": "Be extremely careful when using global variables like <code>$distances</code>, which is what the <code>$</code> prefix means. These can render otherwise ordinary code completely unmaintainable in a hurry. Likewise there is no reason for a <code>main</code> method, Ruby already has a <code>main</code> context for this purpose, that is code outside of any class, module or method definition."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510069291, "post_id": 47161671, "comment_id": 81273326, "body": "You are right, i chaged it and now the problem is a different. Ill explain above"}, {"owner": {"reputation": 1342, "user_id": 1143549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45da1bf4376d6f184e41de57e03789b9?s=128&d=identicon&r=PG", "display_name": "Derek Wright", "link": "https://stackoverflow.com/users/1143549/derek-wright"}, "reply_to_user": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510069789, "post_id": 47161671, "comment_id": 81273713, "body": "Updated my response, also I noticed you had another to_a in there right before map. You shouldn&#39;t need that."}, {"owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510070281, "post_id": 47161671, "comment_id": 81274082, "body": "the matrix just contains random values"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1510072183, "post_id": 47161671, "comment_id": 81275387, "body": "Actually, <code>each</code> returns <code>self</code> by convention, but you are right that <code>each_slice</code> returns <code>nil</code>."}, {"owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510075057, "post_id": 47161671, "comment_id": 81277204, "body": "So does the map-function only return the first value, as array"}], "tags": [], "owner": {"reputation": 1342, "user_id": 1143549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45da1bf4376d6f184e41de57e03789b9?s=128&d=identicon&r=PG", "display_name": "Derek Wright", "link": "https://stackoverflow.com/users/1143549/derek-wright"}, "is_accepted": false, "score": 1, "last_activity_date": 1510073056, "last_edit_date": 1510073056, "creation_date": 1510068699, "answer_id": 47161671, "question_id": 47161031, "link": "https://stackoverflow.com/questions/47161031/ruby-each-block-does-not-return-value/47161671#47161671", "title": "Ruby each block, does not return value", "body": "<p>This happens because <code>each</code> returns itself (an instance of Enumerator) and <code>each_slice</code> return nil.</p>\n\n<p><a href=\"https://ruby-doc.org/core/Enumerable.html#method-i-each_slice\" rel=\"nofollow noreferrer\">https://ruby-doc.org/core/Enumerable.html#method-i-each_slice</a></p>\n\n<p>You could try changing the <code>each</code> to a <code>map</code></p>\n\n<p>To simplify and get a visual of what was generated, I used:</p>\n\n<pre><code>(1..99).to_a.each_slice(2).map { |v| { first: v.first, last: v.last } }\n=&gt; [{:first=&gt;1, :last=&gt;2}, {:first=&gt;3, :last=&gt;4}, {:first=&gt;5, :last=&gt;6}, {:first=&gt;7, :last=&gt;8}, {:first=&gt;9, :last=&gt;10}, {:first=&gt;11, :last=&gt;12}, {:first=&gt;13, :last=&gt;14}, {:first=&gt;15, :last=&gt;16}, {:first=&gt;17, :last=&gt;18}, {:first=&gt;19, :last=&gt;20}, {:first=&gt;21, :last=&gt;22}, {:first=&gt;23, :last=&gt;24}, {:first=&gt;25, :last=&gt;26}, {:first=&gt;27, :last=&gt;28}, {:first=&gt;29, :last=&gt;30}, {:first=&gt;31, :last=&gt;32}, {:first=&gt;33, :last=&gt;34}, {:first=&gt;35, :last=&gt;36}, {:first=&gt;37, :last=&gt;38}, {:first=&gt;39, :last=&gt;40}, {:first=&gt;41, :last=&gt;42}, {:first=&gt;43, :last=&gt;44}, {:first=&gt;45, :last=&gt;46}, {:first=&gt;47, :last=&gt;48}, {:first=&gt;49, :last=&gt;50}, {:first=&gt;51, :last=&gt;52}, {:first=&gt;53, :last=&gt;54}, {:first=&gt;55, :last=&gt;56}, {:first=&gt;57, :last=&gt;58}, {:first=&gt;59, :last=&gt;60}, {:first=&gt;61, :last=&gt;62}, {:first=&gt;63, :last=&gt;64}, {:first=&gt;65, :last=&gt;66}, {:first=&gt;67, :last=&gt;68}, {:first=&gt;69, :last=&gt;70}, {:first=&gt;71, :last=&gt;72}, {:first=&gt;73, :last=&gt;74}, {:first=&gt;75, :last=&gt;76}, {:first=&gt;77, :last=&gt;78}, {:first=&gt;79, :last=&gt;80}, {:first=&gt;81, :last=&gt;82}, {:first=&gt;83, :last=&gt;84}, {:first=&gt;85, :last=&gt;86}, {:first=&gt;87, :last=&gt;88}, {:first=&gt;89, :last=&gt;90}, {:first=&gt;91, :last=&gt;92}, {:first=&gt;93, :last=&gt;94}, {:first=&gt;95, :last=&gt;96}, {:first=&gt;97, :last=&gt;98}, {:first=&gt;99, :last=&gt;99}]\n</code></pre>\n\n<p>Now at this point I'm not sure what that function is doing that is assigned to <code>$distances</code>. You might want to provide the code for that or give some more detail on what your are attempting to accomplish.</p>\n"}], "owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510073056, "creation_date": 1510066881, "last_edit_date": 1510070313, "question_id": 47161031, "link": "https://stackoverflow.com/questions/47161031/ruby-each-block-does-not-return-value", "title": "Ruby each block, does not return value", "body": "<p>This following Code doesn't work, the Problem is inside of the calc_fitness method, the each block does not return an value, and i dont know why</p>\n\n<pre><code># takes an array, splices them into groups of 2 and returns a sum of values read from the matrix\ndef calc_fitness(hypothesis_arr)\n   hypothesis_arr.each_slice(2).to_a.map{|v| $distances[v.first,v.last]}\nend\n\ndef main\n\n  # filling the matrix, with random values\n  $distances = create_sym_matrix\n  p calc_fitness((0..99).to_a) \nend\n\nmain\n# =&gt; [67,67,67,67....67,] #these should not be the same, which means i  the block alway returns the same value. Why?\n</code></pre>\n"}, {"tags": ["ruby", "swi-prolog"], "comments": [{"owner": {"reputation": 805, "user_id": 5493471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d920fa38d9d1860d287d07c6a60f52c?s=128&d=identicon&r=PG", "display_name": "Bert H", "link": "https://stackoverflow.com/users/5493471/bert-h"}, "edited": false, "score": 0, "creation_date": 1510065819, "post_id": 47160623, "comment_id": 81270806, "body": "For a clear answer, please elaborate and give some context on your question. Did you received any errors? What did you run the command on the first case you mention?"}, {"owner": {"reputation": 3744, "user_id": 4298200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-HcKtiretO2g/AAAAAAAAAAI/AAAAAAAAAH0/IXGAL7MX8sQ/photo.jpg?sz=128", "display_name": "Neuron", "link": "https://stackoverflow.com/users/4298200/neuron"}, "edited": false, "score": 0, "creation_date": 1510066188, "post_id": 47160623, "comment_id": 81271073, "body": "Welcome to SO. While we all like sharing a story from time to time, SO is not the place for that. Please use the edit button to rephrase your question into a question"}], "answers": [{"tags": [], "owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "is_accepted": true, "score": 0, "last_activity_date": 1510316293, "creation_date": 1510316293, "answer_id": 47222623, "question_id": 47160623, "link": "https://stackoverflow.com/questions/47160623/how-to-run-swi-prolog-file-from-ruby-code/47222623#47222623", "title": "How to run swi-prolog file from ruby code", "body": "<p>You need to specify path to Swi-Prolog executable first, and then specify file name to execute using -s parameter, for example:</p>\n\n<pre><code>system \"C:/Program Files/swipl/bin/swipl-win.exe\", \"-s\", File.dirname(FILE)+\"/file.pl\"\n</code></pre>\n\n<p>If you want Swi-Prolog to run particular goal after it is started, you can also add -g <em>goal</em> parameter:</p>\n\n<pre><code>system \".../swipl-win.exe\", \"-s\", \"yourfile.pl\", \"-g\", \"your_goal\"\n</code></pre>\n\n<p>You can also make Swi-Prolog to exit after it has executed your goal by adding -t halt:</p>\n\n<pre><code>system \".../swipl-win.exe\", \"-s\",\"yourfile.pl\", \"-g\", \"your_goal\", \"-t\", \"halt\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8900743, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214602641642647/picture?type=large", "display_name": "Davide Trepiccione", "link": "https://stackoverflow.com/users/8900743/davide-trepiccione"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 47222623, "answer_count": 1, "score": -3, "last_activity_date": 1510316293, "creation_date": 1510065655, "question_id": 47160623, "link": "https://stackoverflow.com/questions/47160623/how-to-run-swi-prolog-file-from-ruby-code", "title": "How to run swi-prolog file from ruby code", "body": "<p>system(File.dirname(<strong>FILE</strong>)+\"/file.pl\")<br>\nif i use this command the file.pl not run it, but if i use this command on Windows promt, it run.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems"], "comments": [{"owner": {"reputation": 463, "user_id": 3527552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001213035230/picture?type=large", "display_name": "Tushar Pal", "link": "https://stackoverflow.com/users/3527552/tushar-pal"}, "edited": false, "score": 1, "creation_date": 1510064174, "post_id": 47159976, "comment_id": 81269732, "body": "try gem install bundler"}, {"owner": {"reputation": 9659, "user_id": 6136634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7487290ff90aebf6848d9c638c067bb?s=128&d=identicon&r=PG", "display_name": "Gerry", "link": "https://stackoverflow.com/users/6136634/gerry"}, "edited": false, "score": 2, "creation_date": 1510064415, "post_id": 47159976, "comment_id": 81269888, "body": "Check <a href=\"https://stackoverflow.com/questions/9243548/no-such-file-or-directory-getcwd-error-on-rubygems-on-mac-os-lion\">this quesiton</a>, it may help."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510064460, "post_id": 47159976, "comment_id": 81269913, "body": "What have you tried so far? Gerry&#39;s link above is the first result from googling the error..."}, {"owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "edited": false, "score": 0, "creation_date": 1510066939, "post_id": 47159976, "comment_id": 81271602, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9243548/no-such-file-or-directory-getcwd-error-on-rubygems-on-mac-os-lion\" title=\"no such file or directory getcwd error on rubygems on mac os lion\">stackoverflow.com/questions/9243548/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7897459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c308a7c08b576a61b995d54128909463?s=128&d=identicon&r=PG&f=1", "display_name": "Umesh", "link": "https://stackoverflow.com/users/7897459/umesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1510069441, "creation_date": 1510069441, "answer_id": 47161965, "question_id": 47159976, "link": "https://stackoverflow.com/questions/47159976/errors-with-gem-list-rails-v/47161965#47161965", "title": "errors with &quot;gem list&quot;, &quot;rails -v&quot;", "body": "<p>Please use this:</p>\n\n<p>gem uninstall rails </p>\n\n<p>gem install rails -v 4.2</p>\n"}], "owner": {"reputation": 15, "user_id": 8900531, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105019365992202/picture?type=large", "display_name": "Daniel Nalesnik", "link": "https://stackoverflow.com/users/8900531/daniel-nalesnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510069441, "creation_date": 1510063667, "question_id": 47159976, "link": "https://stackoverflow.com/questions/47159976/errors-with-gem-list-rails-v", "title": "errors with &quot;gem list&quot;, &quot;rails -v&quot;", "body": "<p>On macOS High Sierra (10.13), 'gem list' returns the following error:</p>\n\n<pre>\ngem list\n/Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:93:in `pwd': No such file or directory - getcwd (Errno::ENOENT)\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:93:in `lockfile_contents'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:81:in `lockfile_version'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:29:in `bundler_version_with_reason'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:12:in `bundler_version'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:46:in `compatible?'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1059:in `block in find_by_path'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `each'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `find'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `find_by_path'\n    from /Library/Ruby/Site/2.3.0/rubygems.rb:215:in `try_activate'\n    from /Library/Ruby/Site/2.3.0/rubygems/core_ext/kernel_require.rb:128:in `rescue in require'\n    from /Library/Ruby/Site/2.3.0/rubygems/core_ext/kernel_require.rb:40:in `require'\n    from :6:in `'\n</pre>\n\n<p>Current Ruby version:</p>\n\n<pre>$ruby -v\nruby 2.3.3p222 (2016-11-21 revision 56859) [universal.x86_64-darwin17]</pre>\n\n<p>Current Rails version:</p>\n\n<pre>\n$rails -v\n/Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:93:in `pwd': No such file or directory - getcwd (Errno::ENOENT)\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:93:in `lockfile_contents'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:81:in `lockfile_version'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:29:in `bundler_version_with_reason'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:12:in `bundler_version'\n    from /Library/Ruby/Site/2.3.0/rubygems/bundler_version_finder.rb:46:in `compatible?'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1059:in `block in find_by_path'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `each'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `find'\n    from /Library/Ruby/Site/2.3.0/rubygems/specification.rb:1058:in `find_by_path'\n    from /Library/Ruby/Site/2.3.0/rubygems.rb:215:in `try_activate'\n    from /Library/Ruby/Site/2.3.0/rubygems/core_ext/kernel_require.rb:128:in `rescue in require'\n    from /Library/Ruby/Site/2.3.0/rubygems/core_ext/kernel_require.rb:40:in `require'\n    from :6:in `'</pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "debian", "mariadb", "libssl"], "comments": [{"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 0, "creation_date": 1510064793, "post_id": 47159957, "comment_id": 81270116, "body": "what command are you running that produces this error? can you reproduce this with <code>gem install mysql2 -v [version]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8900135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35bbca72b1ffb17c8b55f29dfb42b8?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8900135/stefan"}, "edited": false, "score": 0, "creation_date": 1510068338, "post_id": 47161255, "comment_id": 81272609, "body": "Thanks alot that was it!"}], "tags": [], "owner": {"reputation": 4568, "user_id": 8712097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hevmE.jpg?s=128&g=1", "display_name": "Tom Aranda", "link": "https://stackoverflow.com/users/8712097/tom-aranda"}, "is_accepted": true, "score": 4, "last_activity_date": 1510067492, "creation_date": 1510067492, "answer_id": 47161255, "question_id": 47159957, "link": "https://stackoverflow.com/questions/47159957/ruby-on-rails-cannot-find-lssl-and-lcrypto-when-installing-the-mysql2-gem-on-d/47161255#47161255", "title": "Ruby on Rails cannot find -lssl and -lcrypto when installing the mysql2 gem on Debian", "body": "<p>It looks like you are missing the <a href=\"https://packages.debian.org/jessie/libssl-dev\" rel=\"nofollow noreferrer\">libssl-dev</a> package.  Try running:</p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install libssl-dev\n</code></pre>\n\n<p>Once the package is installed, try installing your gem again.</p>\n"}], "owner": {"reputation": 37, "user_id": 8900135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35bbca72b1ffb17c8b55f29dfb42b8?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/8900135/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 47161255, "answer_count": 1, "score": 2, "last_activity_date": 1510074307, "creation_date": 1510063607, "last_edit_date": 1510074307, "question_id": 47159957, "link": "https://stackoverflow.com/questions/47159957/ruby-on-rails-cannot-find-lssl-and-lcrypto-when-installing-the-mysql2-gem-on-d", "title": "Ruby on Rails cannot find -lssl and -lcrypto when installing the mysql2 gem on Debian", "body": "<p>I'm trying to connect ruby on rails with MariaDB at the moment. But for some reason when trying to install the <code>mysql2</code> gem I'm getting this error:</p>\n\n<pre><code>/usr/bin/ld: cannot find -lssl\n/usr/bin/ld: cannot find -lcrypto\n</code></pre>\n\n<p>What SSL/Crypto library am I missing for ruby on rails?</p>\n\n<p>I couldn't find anyone else with this exact problem.</p>\n\n<p>The error I'm getting:</p>\n\n<pre><code>\"gcc -o conftest -I/usr/include/x86_64-linux-gnu/ruby-2.3.0 -\nI/usr/include/ruby-2.3.0/ruby/backward -I/usr/include/ruby-2.3.0 -I. -\nI/usr/include/mysql -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-\nmap=/build/ruby2.3-yge53O/rub$\n/usr/bin/ld: cannot find -lssl\n/usr/bin/ld: cannot find -lcrypto\ncollect2: error: ld returned 1 exit status\nchecked program was:\n/* begin */\n1: #include \"ruby.h\"\n2:\n3: int main() {return 0;}\n/* end */\n\n\"gcc -o conftest -I/usr/include/x86_64-linux-gnu/ruby-2.3.0 -\nI/usr/include/ruby-2.3.0/ruby/backward -I/usr/include/ruby-2.3.0 -I. -\nI/usr/include/mysql -Wdate-time -D_FORTIFY_SOURCE=2   -g -O2 -fdebug-prefix-map=/build/ruby2.3-yge53O/rub$\n/usr/bin/ld: cannot find -lssl\n/usr/bin/ld: cannot find -lcrypto\ncollect2: error: ld returned 1 exit status\nchecked program was:\n/* begin */\n1: #include \"ruby.h\"\n2:\n3: int main() {return 0;}\n/* end */\n</code></pre>\n"}, {"tags": ["ruby", "class", "integer"], "answers": [{"comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 3, "creation_date": 1510060853, "post_id": 47158881, "comment_id": 81267401, "body": "Note also that in pre-ruby 2.4, the classes <code>Fixnum</code> and <code>Bignum</code> both <b>inherited</b> from the class <code>Integer</code>. So, the code: <code>12345.is_a?(Integer)</code> will always return <code>true</code>, across all ruby versions."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510061069, "post_id": 47158881, "comment_id": 81267572, "body": "...And also, note that in ruby 2.4, to maintain (most) backwards compatibility, <code>Fixnum == Bignum == Integer</code>. I.e. <code>12345.is_a?(Fixnum) #=&gt; true</code>. But you&#39;ll also see warnings like: <i>&quot;warning: constant ::Fixnum is deprecated&quot;</i>. You should remove all references to <code>Fixnum</code>/<code>Bignum</code> from the code, as they will be removed completely in a future ruby version."}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": true, "score": 8, "last_activity_date": 1510060348, "creation_date": 1510060348, "answer_id": 47158881, "question_id": 47158796, "link": "https://stackoverflow.com/questions/47158796/12345-class-returning-integer-not-fixnum-in-ruby/47158881#47158881", "title": "12345.class returning &#39;Integer&#39; not &#39;Fixnum&#39; in Ruby", "body": "<p>It depends on the Ruby version. From Ruby 2.4.0 we have just <code>Integer</code>s, no more <code>Fixnum</code>s and <code>Bignum</code>s distinction</p>\n\n<p><a href=\"https://www.ruby-lang.org/en/news/2016/12/25/ruby-2-4-0-released/\" rel=\"noreferrer\">https://www.ruby-lang.org/en/news/2016/12/25/ruby-2-4-0-released/</a></p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": -1, "last_activity_date": 1510064642, "creation_date": 1510064642, "answer_id": 47160270, "question_id": 47158796, "link": "https://stackoverflow.com/questions/47158796/12345-class-returning-integer-not-fixnum-in-ruby/47160270#47160270", "title": "12345.class returning &#39;Integer&#39; not &#39;Fixnum&#39; in Ruby", "body": "<p>You should get a better tutorial.</p>\n\n<p>Ruby <em>only</em> guarantees that a class named <code>Integer</code> exists. It <em>allows</em> implementation-specific subclasses of <code>Integer</code>, and it <em>mandates</em> that <em>if</em> implementation-specific subclasses <em>do</em> exist, then <code>Integer</code> <em>must</em> be fully abstract, but it does <em>not</em> force those implementation-specific subclasses to exist.</p>\n\n<p>I other words:</p>\n\n<ul>\n<li><code>Integer</code> always exists.</li>\n<li>Implementation-specific subclasses of <code>Integer</code> may or may not exist.</li>\n<li>Those implementation-specific subclasses may or may not be named <code>Bignum</code> and <code>Fixnum</code>.</li>\n</ul>\n\n<p>The tutorial you are using is simply wrong (or at least outdated). This has been officially documented at least since the very first draft of the ISO Ruby Language Specification in 2009, but has been the case even before that.</p>\n"}], "owner": {"reputation": 1661, "user_id": 6951159, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ca045af854ddb1025be551f2b044cf94?s=128&d=identicon&r=PG&f=1", "display_name": "The Chewy", "link": "https://stackoverflow.com/users/6951159/the-chewy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 47158881, "answer_count": 2, "score": 4, "last_activity_date": 1510064642, "creation_date": 1510060077, "last_edit_date": 1510060680, "question_id": 47158796, "link": "https://stackoverflow.com/questions/47158796/12345-class-returning-integer-not-fixnum-in-ruby", "title": "12345.class returning &#39;Integer&#39; not &#39;Fixnum&#39; in Ruby", "body": "<p>On the Ruby tutorials I'm watching when you enter a number with <code>.class</code> it returns either <code>Bignum</code> or <code>Fixnum</code>.</p>\n\n<p>When I do this I get <code>Integer</code> instead:</p>\n\n<pre><code>12345.class\n#=&gt; Integer\n</code></pre>\n\n<p>I'm using irb in the command line on a mac.  Why does the above not return <code>Fixnum</code> like it does in the tutorials?</p>\n"}, {"tags": ["sql", "ruby-on-rails", "ruby", "postgresql", "ahoy"], "comments": [{"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510060482, "post_id": 47158557, "comment_id": 81267134, "body": "how <code>event</code> and <code>properties</code> are associated?"}, {"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "reply_to_user": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510060942, "post_id": 47158557, "comment_id": 81267479, "body": "I use ahoy gem. So i have ahoy_events table and this table contains properties field. Generally ahoy queries use where_properties function find data. Btw properties field contains session_id."}, {"owner": {"reputation": 5669, "user_id": 7429104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/TZAPt.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/7429104/aman"}, "edited": false, "score": 0, "creation_date": 1510061378, "post_id": 47158557, "comment_id": 81267802, "body": "what errors are you facing?"}, {"owner": {"reputation": 13756, "user_id": 567762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/908c9abc72ab86111a153b11cb584f26?s=128&d=identicon&r=PG", "display_name": "Jared Beck", "link": "https://stackoverflow.com/users/567762/jared-beck"}, "edited": false, "score": 1, "creation_date": 1510065152, "post_id": 47158557, "comment_id": 81270337, "body": "<a href=\"http://guides.rubyonrails.org/active_record_basics.html\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/active_record_basics.html</a>"}, {"owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "edited": false, "score": 0, "creation_date": 1510127668, "post_id": 47158557, "comment_id": 81297693, "body": "What is the data type of properties attribute? Hstore or jsonb?"}, {"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "reply_to_user": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "edited": false, "score": 0, "creation_date": 1510129701, "post_id": 47158557, "comment_id": 81298758, "body": "data type of properties is jsonb @Anton"}, {"owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "edited": false, "score": 0, "creation_date": 1510134307, "post_id": 47158557, "comment_id": 81301670, "body": "I don&#39;t currently have a model with jsonb to test on.. can you try: Ahoy::Event.group(&quot;properties -&gt; &#39;session_id&#39;&quot;).count OR @&gt; instead of -&gt;"}, {"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "edited": false, "score": 0, "creation_date": 1510137810, "post_id": 47158557, "comment_id": 81304100, "body": "this is so close to figure out the problem your solution is return like these   {&quot;98d2c824477ee292507d7a28bce8a4a0&quot;=&gt;1, &quot;ebbe52f15133dc3ce1b55a9acfdad98c&quot;=&gt;2}                                                                                                  I need to convert to number. This case must return 2."}, {"owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "edited": false, "score": 0, "creation_date": 1510140580, "post_id": 47158557, "comment_id": 81306009, "body": "@Emre, I&#39;ll make it an answer. Can you accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "is_accepted": false, "score": 0, "last_activity_date": 1510138726, "creation_date": 1510138726, "answer_id": 47177934, "question_id": 47158557, "link": "https://stackoverflow.com/questions/47158557/ahoy-events-queries-in-rails/47177934#47177934", "title": "Ahoy events queries in rails", "body": "<p>Thank u so much @Anton I modify your solution and finally it works fine.</p>\n\n<p>Here is the solution</p>\n\n<pre><code>%td\n  =  Ahoy::Event.where_properties(brochure_id: brochure.id).group(\"properties -&gt; 'session_id'\").count.size\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "is_accepted": true, "score": 2, "last_activity_date": 1510140813, "creation_date": 1510140813, "answer_id": 47178664, "question_id": 47158557, "link": "https://stackoverflow.com/questions/47158557/ahoy-events-queries-in-rails/47178664#47178664", "title": "Ahoy events queries in rails", "body": "<p>You can try to group by jsonb key, in your case properties['session_id']  </p>\n\n<pre><code>Ahoy::Event.group(\"properties -&gt; 'session_id'\").count\n</code></pre>\n\n<p>This will return the counts on which you can apply .size or you could do distinct.</p>\n"}], "owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 47178664, "answer_count": 2, "score": 2, "last_activity_date": 1510140813, "creation_date": 1510059332, "last_edit_date": 1510129883, "question_id": 47158557, "link": "https://stackoverflow.com/questions/47158557/ahoy-events-queries-in-rails", "title": "Ahoy events queries in rails", "body": "<p>I started code rails recently and I need to figure out this problem.</p>\n\n<pre><code>%td\n  =  Ahoy::Event.where(name: \"viewed_brochure\").where_properties(brochure_id: brochure.id).select(:session_id).uniq\n</code></pre>\n\n<p>This should find number of distinct values of session_id in properties field but it doesn't work.</p>\n\n<p>This line returns these and similar errors</p>\n\n<pre><code>#&lt;Ahoy::Event::ActiveRecord_Relation:0x007f52d9325130&gt;\n#&lt;Ahoy::Event::ActiveRecord_Relation:0x007f52d9466508&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>%td\n  =  Ahoy::Event.select { |event| event.properties['session_id'] }.uniq.count\n</code></pre>\n\n<p>I tried this line but this time returns number of rows in table</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "grape", "grape-api"], "comments": [{"owner": {"reputation": 2367, "user_id": 85076, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/6slRi.jpg?s=128&g=1", "display_name": "Pierre-Adrien", "link": "https://stackoverflow.com/users/85076/pierre-adrien"}, "edited": false, "score": 0, "creation_date": 1510776420, "post_id": 47158238, "comment_id": 81583520, "body": "It would be interesting to know the expected behaviour: how do you expect your params to be passed to the endpoint, and examples of requests you&#39;re testing. With the information given so far, I can&#39;t understand how you&#39;re supposed to pass the <code>name</code> param to the endpoint. For a GET route, the param should be given in the URL, so it should be declared through <code>GET &quot;countries&#47;:name&quot;</code> or using a namespace + <code>route_param :name</code>."}, {"owner": {"reputation": 1023, "user_id": 3552298, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8540fb02a16712af1b873b8bd8b6b318?s=128&d=identicon&r=PG&f=1", "display_name": "sureshprasanna70", "link": "https://stackoverflow.com/users/3552298/sureshprasanna70"}, "reply_to_user": {"reputation": 2367, "user_id": 85076, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/6slRi.jpg?s=128&g=1", "display_name": "Pierre-Adrien", "link": "https://stackoverflow.com/users/85076/pierre-adrien"}, "edited": false, "score": 0, "creation_date": 1511513471, "post_id": 47158238, "comment_id": 81893293, "body": "My request would be GET countries?name=Austria"}], "owner": {"reputation": 1023, "user_id": 3552298, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8540fb02a16712af1b873b8bd8b6b318?s=128&d=identicon&r=PG&f=1", "display_name": "sureshprasanna70", "link": "https://stackoverflow.com/users/3552298/sureshprasanna70"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510058345, "creation_date": 1510058345, "question_id": 47158238, "link": "https://stackoverflow.com/questions/47158238/grape-custom-validations-not-triggered", "title": "Grape custom validations not triggered", "body": "<p>I have a skeletal rails(4.2.8) on ruby(2.4) app to serve api ,using grape, for a js frontend.I have the following <code>length.rb</code> validator at <code>app/api/killbill/validations/</code></p>\n\n<pre><code>class Length &lt; Grape::Validations::Base\n  def validate_param!(attr_name, params)\n    unless params[attr_name].length &lt; @option\n      fail Grape::Exceptions::Validation, params: [@scope.full_name(attr_name)], message: \"must be at the most #{@option} characters long\"\n    end\n  end\nend\n</code></pre>\n\n<p>I have a file called <code>base.rb</code> at <code>app/api/killbill/beta_web</code>, where I have included validator</p>\n\n<pre><code>require \"bcrypt\"\nrequire_relative '../validations/length'\n module KillBill::BetaWeb\n  class Base &lt; Grape::API\n  end\n end\n</code></pre>\n\n<p>I have invoked the validator at <code>app/api/killbill/beta_web/caller.rb</code></p>\n\n<pre><code> params do\n     requires :name, type: String, allow_blank: true, desc: \"Country name\",length: 3\n end\n get \"countries\" do\n   query_param = \"%#{params[:name]}%\"\n   @countries = Country.where(\"name ilike ?\", query_param)\n end\n</code></pre>\n\n<p>The api call for this endpoint isn't returning an error when the param length is less than 3.\nWhat is being done wrong here?</p>\n"}, {"tags": ["ruby", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1510058326, "post_id": 47158136, "comment_id": 81265580, "body": "Which Selenum Binding are you using? Java / Python / C#"}, {"owner": {"reputation": 485, "user_id": 8798283, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0522bfc3b8fd78d05a7d4e1bbee5188e?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/8798283/jas"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1510058398, "post_id": 47158136, "comment_id": 81265625, "body": "@DebanjanB I am using the Ruby binding"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1510065357, "post_id": 47158136, "comment_id": 81270476, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9692460/how-do-you-get-window-titles-ids-and-names-in-selenium-webdriver\">How do you get window titles, ids, and names in selenium-webdriver?</a>"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1510065471, "post_id": 47158136, "comment_id": 81270553, "body": "Your question is confusing... you are talking about windows and iframes... which is it? If you aren&#39;t sure, do some research on the difference between them and come back and edit the question with the results of your research. Also please post the code that you have tried and the results."}, {"owner": {"reputation": 485, "user_id": 8798283, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0522bfc3b8fd78d05a7d4e1bbee5188e?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/8798283/jas"}, "reply_to_user": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1510066054, "post_id": 47158136, "comment_id": 81270975, "body": "@JeffC the iframe opens in a new window, so from my perspective they&#39;re the same? I just need to switch to it"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1510066259, "post_id": 47158136, "comment_id": 81271118, "body": "They aren&#39;t the same... windows are not iframes. You would have to switch driver context to the new window and then switch into the iframe before you could start to get to the elements you want. These concepts are all well explained in many places on SO and elsewhere. Take the time to learn about each and write some code attempting this and update your question."}], "answers": [{"tags": [], "owner": {"reputation": 3001, "user_id": 3881320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqwOb.png?s=128&g=1", "display_name": "Davide Patti", "link": "https://stackoverflow.com/users/3881320/davide-patti"}, "is_accepted": false, "score": 0, "last_activity_date": 1510058467, "creation_date": 1510058467, "answer_id": 47158285, "question_id": 47158136, "link": "https://stackoverflow.com/questions/47158136/how-can-i-target-a-new-popup-window-rather-than-a-tab-using-selenium/47158285#47158285", "title": "How can I target a new popup window, rather than a tab using Selenium?", "body": "<p>If you need to locate something inside an iframe, before you have to switch to the interested iframe. For example, in Java, if you can identify the iframe by id:</p>\n\n<pre><code>driver.switchTo().frame(driver.findElement(By.id(\"idframe\")));\n</code></pre>\n\n<p>Finally, to return back:</p>\n\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n\n<p>I never used ruby but, from <a href=\"https://github.com/SeleniumHQ/selenium/wiki/Ruby-Bindings\" rel=\"nofollow noreferrer\">here</a> should be:</p>\n\n<pre><code># switch to a frame\ndriver.switch_to.frame \"some-frame\" # id\n</code></pre>\n\n<p>and</p>\n\n<pre><code># switch back to the main document\ndriver.switch_to.default_content\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 8798283, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0522bfc3b8fd78d05a7d4e1bbee5188e?s=128&d=identicon&r=PG&f=1", "display_name": "Jas", "link": "https://stackoverflow.com/users/8798283/jas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510058467, "creation_date": 1510058018, "last_edit_date": 1510058381, "question_id": 47158136, "link": "https://stackoverflow.com/questions/47158136/how-can-i-target-a-new-popup-window-rather-than-a-tab-using-selenium", "title": "How can I target a new popup window, rather than a tab using Selenium?", "body": "<p>For the moment I have been using the following to essentially check that a new tab has opened, and then switch to that tab:   </p>\n\n<pre><code>@wait.until{@driver.window_handles.length &gt; 1}\n@driver.switch_to.window(@driver.window_handles[1])  where 1 is the tab number  \n</code></pre>\n\n<p>I wanted to know how to use something similar like the above, but for <strong><em>windows</em></strong> where this window is an iFrame, using Webdriver. </p>\n\n<p>I need to supply some details in an iframe, and then switch back to the main window (although once the details are submitted the iframe will close and I should be redirected back to the main window I had earlier so this should be automatic I think)   </p>\n\n<p>To be clear also, I am using the Ruby binding of Selenium.</p>\n"}, {"tags": ["ruby", "rhomobile", "rhodes"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7831919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-VwZXMg2VGMA/AAAAAAAAAAI/AAAAAAAAFUs/dl5Lwa6hnsA/photo.jpg?sz=128", "display_name": "Dhruv Sharma", "link": "https://stackoverflow.com/users/7831919/dhruv-sharma"}, "edited": false, "score": 0, "creation_date": 1510114569, "post_id": 47161103, "comment_id": 81292536, "body": "Yes, thanks for your help, actually i was doing a syntax error, as new to the technology, although found the same solution and appreciate your response."}], "tags": [], "owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "is_accepted": false, "score": 0, "last_activity_date": 1510067519, "last_edit_date": 1510067519, "creation_date": 1510067107, "answer_id": 47161103, "question_id": 47158018, "link": "https://stackoverflow.com/questions/47158018/redirect-to-another-models-index-action-and-hence-view-index-erb-rhomobile/47161103#47161103", "title": "Redirect to another model&#39;s index action, and hence view index.erb - Rhomobile", "body": "<p><strong>Please Note: I have never used <code>rhodes</code> and all of this information was acquired by simply reading the API documentation and taking a look at the source code.</strong>   </p>\n\n<p>According to the <a href=\"http://docs.rhomobile.com/en/5.4/guide/controlling_webview_behavior#controlling-navigation\" rel=\"nofollow noreferrer\">documentation</a> You should be able to deal with this in a very railsy fashion eg </p>\n\n<pre><code>   def some_action \n     redirect controller: :model2, action: :index\n   end\n</code></pre>\n\n<p>Seems the only caveat is if this redirection is to happen in a callback function. In this case the redirection should be handled by the <code>WebView</code> instead e.g. </p>\n\n<pre><code>  Rho::WebView.navigate(url_for(controller: :model2 action: :index))  \n</code></pre>\n\n<p>Source for <a href=\"https://github.com/rhomobile/rhodes/blob/master/lib/framework/rho/rhocontroller.rb#L131\" rel=\"nofollow noreferrer\">Rho::RhoController#redirect</a> supports these statements in the documentation. </p>\n\n<p>Additionally as you might notice above it appears that <code>Rho</code> has ported a lot of the rails like helpers including <code>url_for</code> </p>\n"}], "owner": {"reputation": 25, "user_id": 7831919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-VwZXMg2VGMA/AAAAAAAAAAI/AAAAAAAAFUs/dl5Lwa6hnsA/photo.jpg?sz=128", "display_name": "Dhruv Sharma", "link": "https://stackoverflow.com/users/7831919/dhruv-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511275417, "creation_date": 1510057695, "question_id": 47158018, "link": "https://stackoverflow.com/questions/47158018/redirect-to-another-models-index-action-and-hence-view-index-erb-rhomobile", "title": "Redirect to another model&#39;s index action, and hence view index.erb - Rhomobile", "body": "<p>I am developing a Rhomobile application,on submit of a POST method, i am going to my 'Model 1' action, after execution of my action i want to redirect to another model's (Model 2) Index action and list the data.</p>\n\n<p>I am from a Rails background, there i would have used URL, any similar concept exists here or any solution.</p>\n\n<p>i tried, but it didn't worked for me render :controller => :model2, :action => :index </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongodb"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510056910, "post_id": 47157493, "comment_id": 81264568, "body": "Yes, <code>_type</code> is something of reserved word in Mongoid as its used to store the document class. Easist option would be to alter the existing documents and change the <code>_type</code> field to <code>Vulnerability</code>."}, {"owner": {"reputation": 511, "user_id": 4085041, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/527f912490a51d8dd0c8d8168d6a9d87?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/4085041/luke"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510057085, "post_id": 47157493, "comment_id": 81264692, "body": "The only issue with that is that&#39;s how the JSON file comes, which I don&#39;t have control over. Would it be better to scrap Mongo and just use MySQL? I have a MySQL DB for some other bits within the app"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510057255, "post_id": 47157493, "comment_id": 81264822, "body": "Surely you can normalize the incoming data before inserting it into mongodb? Mongodb does have some advantages if what you are storing is very dynamic."}, {"owner": {"reputation": 511, "user_id": 4085041, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/527f912490a51d8dd0c8d8168d6a9d87?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/4085041/luke"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510058006, "post_id": 47157493, "comment_id": 81265368, "body": "The data is imported to MongoDB using a separate Python app"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510058293, "post_id": 47157493, "comment_id": 81265559, "body": "Then you&#39;re kind of skrewed as far as mongoid goes, I don&#39;t think the use  of the <code>_type</code> attribute is configurable. You might want to create an issue on github and ask the maintainers."}, {"owner": {"reputation": 511, "user_id": 4085041, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/527f912490a51d8dd0c8d8168d6a9d87?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/4085041/luke"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1510138636, "post_id": 47157493, "comment_id": 81304661, "body": "My only other option, as I see it, is to sanitise the JSON in the Python import to skip those keys"}], "owner": {"reputation": 511, "user_id": 4085041, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/527f912490a51d8dd0c8d8168d6a9d87?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/4085041/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510056120, "creation_date": 1510056120, "question_id": 47157493, "link": "https://stackoverflow.com/questions/47157493/ruby-on-rails-mongodb-existing-dataset", "title": "Ruby on Rails MongoDB existing dataset", "body": "<p>I have a RoR application which will read info from a MongoDB collection.</p>\n\n<p>I have my model set as:-</p>\n\n<pre><code>class Vulnerability\n  include Mongoid::Document\n  field :id, type: String\n  field :description, type: String\n  field :type, type: String\nend\n</code></pre>\n\n<p>The first record in the collection is formatted like this:-</p>\n\n<pre><code>&gt; db.vulnerabilities.findOne()\n{\n    \"_id\" : \"NGINX:CVE-2009-3896\",\n    \"_index\" : \"bulletins\",\n    \"_type\" : \"bulletin\",\n    \"_score\" : null,\n    \"_source\" : {\n        \"lastseen\" : \"2016-09-26T17:22:32\",\n        \"references\" : [ ],\n        \"edition\" : 1,\n        \"description\" : \"Null pointer dereference vulnerability\\nSeverity: major\\nCVE-2009-3896\\nNot vulnerable: 0.8.14+, 0.7.62+, 0.6.39+, 0.5.38+\\nVulnerable: 0.1.0-0.8.13\",\n        \"reporter\" : \"Nginx\",\n        \"published\" : \"2009-11-24T12:30:00\",\n        \"type\" : \"nginx\",\n        \"title\" : \"Null pointer dereference vulnerability\",\n        \"bulletinFamily\" : \"software\",\n        \"affectedSoftware\" : [\n            {\n                \"name\" : \"nginx\",\n                \"version\" : \"0.8.13\",\n                \"operator\" : \"le\"\n            }\n        ],\n        \"cvelist\" : [\n            \"CVE-2009-3896\"\n        ],\n        \"modified\" : \"2009-11-24T12:30:00\",\n        \"id\" : \"NGINX:CVE-2009-3896\",\n        \"href\" : \"http://nginx.org/en/security_advisories.html\",\n        \"cvss\" : {\n            \"score\" : 5,\n            \"vector\" : \"AV:NETWORK/AC:LOW/Au:NONE/C:NONE/I:NONE/A:PARTIAL/\"\n        }\n    },\n    \"sort\" : [\n        38985\n    ]\n}\n</code></pre>\n\n<p>I want to pull the ID, the type and the description. When trying to view the index view I get <code>\nNameError at /vulnerabilities uninitialized constant Bulletin</code></p>\n\n<p>I believe the issue is with the <code>type</code> in the document as there is a key of <code>_type</code> but I want to get the type from the key _source, so in the example above it will display nginx not bulletin.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510056023, "post_id": 47157062, "comment_id": 81263994, "body": "What exactly is the expected return value? The hash including the <code>finance</code> key/value pair, a hash only including the <code>finance</code> key/value pair or just the value?"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1510058350, "post_id": 47157062, "comment_id": 81265592, "body": "<i>&quot;i have a hash like below&quot;</i> \u2013 that syntax is invalid."}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1510060996, "post_id": 47157062, "comment_id": 81267519, "body": "&quot;I have a hash like below&quot; -- this is a common first sentence here on SO. But it&#39;s a mistake to think you need to construct an elaborate data structure and then attempt to pull stuff out of it, only to throw away all intermediary transformations. Instead of constructing the hash to begin with, I recommend that you answer your question directly from the data store, most likely via ActiveRecord queries. Overall this will be cleaner, shorter, and more performant."}], "answers": [{"comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1510055908, "post_id": 47157385, "comment_id": 81263915, "body": "Totally agree on <i>very messy data structure</i>."}, {"owner": {"reputation": 2908, "user_id": 662503, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/881a236ca533281bb9c9ac92f380b5a0?s=128&d=identicon&r=PG", "display_name": "rubyist", "link": "https://stackoverflow.com/users/662503/rubyist"}, "edited": false, "score": 0, "creation_date": 1510058695, "post_id": 47157385, "comment_id": 81265845, "body": "@Tom Lord. This is the way i wanted to retrieve its value."}], "tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": true, "score": 1, "last_activity_date": 1510055788, "creation_date": 1510055788, "answer_id": 47157385, "question_id": 47157062, "link": "https://stackoverflow.com/questions/47157062/get-parent-node-based-on-some-condition-in-ruby/47157385#47157385", "title": "Get parent node based on some condition in ruby", "body": "<pre><code>prop.find do |feature|\n  feature.values.flatten.compact.any? do |value|\n    value.include?(\"HOA Fee\")\n  end\nend\n</code></pre>\n\n<p>This is a very messy data structure, however.</p>\n\n<p>I would strongly advise you to refactor the code to store data in well-defined objects, not hashes of hashes of arrays...</p>\n"}, {"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 0, "last_activity_date": 1510055852, "creation_date": 1510055852, "answer_id": 47157403, "question_id": 47157062, "link": "https://stackoverflow.com/questions/47157062/get-parent-node-based-on-some-condition-in-ruby/47157403#47157403", "title": "Get parent node based on some condition in ruby", "body": "<p>I would do something like this:</p>\n\n<pre><code>prop.find { |hash| hash.keys.any? { |key| key.downcase.include?('finance') } }\n#=&gt; { \"Legal and finance\" =&gt; [\"HOA fee: $300.0\"], \"photos\" =&gt; nil }\n</code></pre>\n"}], "owner": {"reputation": 2908, "user_id": 662503, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/881a236ca533281bb9c9ac92f380b5a0?s=128&d=identicon&r=PG", "display_name": "rubyist", "link": "https://stackoverflow.com/users/662503/rubyist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 47157385, "answer_count": 2, "score": 0, "last_activity_date": 1510055852, "creation_date": 1510054914, "question_id": 47157062, "link": "https://stackoverflow.com/questions/47157062/get-parent-node-based-on-some-condition-in-ruby", "title": "Get parent node based on some condition in ruby", "body": "<p>i have a hash like below.</p>\n\n<pre><code>prop =  {\"Pets\"=&gt;[]},\n     {\"Misc\"=&gt;[\"HOA Frequency: (C101)\"], \"photos\"=&gt;nil},\n     {\"Legal and finance\"=&gt;[\"HOA fee: $300.0\"], \"photos\"=&gt;nil}\n</code></pre>\n\n<p>I need to get Legal and finance nodes based on some condition.</p>\n\n<p>I tried like below.</p>\n\n<pre><code>prop.find { |feature| feature.keys.include?(\"Legal and finance\") }\n</code></pre>\n\n<p>But sometimes HOA fee will be under different node. It might be in \"Finance\" or \"Legal and Finance\" or \"Home Finance\" like</p>\n\n<pre><code>{\"Finance\"=&gt;[\"HOA fee: $300.0\"], \"photos\"=&gt;nil} or\n{\"Home Finance\"=&gt;[\"HOA fee: $300.0\"], \"photos\"=&gt;nil}\n</code></pre>\n\n<p>So i need to get that complete node by checking whether any node contains text as \"HOA Fee\" as value.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "bundle", "railsinstaller"], "comments": [{"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510050833, "post_id": 47155235, "comment_id": 81260678, "body": "Does <code>gem install rake -v &#39;12.0.0&#39;</code> work? You say you tried it, but didn&#39;t mention the result."}, {"owner": {"reputation": 13, "user_id": 8899209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc719d5ddf7bbe4e7806c360643e8cf7?s=128&d=identicon&r=PG", "display_name": "el.shabazz", "link": "https://stackoverflow.com/users/8899209/el-shabazz"}, "reply_to_user": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1510051361, "post_id": 47155235, "comment_id": 81261040, "body": "Hi, gem install rake -v &#39;12.0.0&#39;, gem install bcrypt and gem install bundler,  doesn&#39;t help either. Same Output, same error."}, {"owner": {"reputation": 532, "user_id": 3162721, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/v314b.jpg?s=128&g=1", "display_name": "luispcosta", "link": "https://stackoverflow.com/users/3162721/luispcosta"}, "edited": false, "score": 0, "creation_date": 1510053518, "post_id": 47155235, "comment_id": 81262391, "body": "Post your <code>Gemfile</code> please"}, {"owner": {"reputation": 13, "user_id": 8899209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc719d5ddf7bbe4e7806c360643e8cf7?s=128&d=identicon&r=PG", "display_name": "el.shabazz", "link": "https://stackoverflow.com/users/8899209/el-shabazz"}, "edited": false, "score": 0, "creation_date": 1510054129, "post_id": 47155235, "comment_id": 81262786, "body": "I just added my Gemfile in the post."}, {"owner": {"reputation": 480, "user_id": 1121826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBVOi.jpg?s=128&g=1", "display_name": "John Athayde", "link": "https://stackoverflow.com/users/1121826/john-athayde"}, "edited": false, "score": 0, "creation_date": 1510065806, "post_id": 47155235, "comment_id": 81270800, "body": "Are you using RBENV or RVM?  The actual error is the &quot;ArgumentError: can&#39;t find user 22%&quot;. I&#39;d check the bundler config file (you can get that by typing <code>bundle config</code> with no parameters). If that fails, I&#39;d delete the config entirely.  You may even consider trashing the version of Ruby you&#39;re running, redoing it in RVM/RBENV, and then seeing if this persists."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8899209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc719d5ddf7bbe4e7806c360643e8cf7?s=128&d=identicon&r=PG", "display_name": "el.shabazz", "link": "https://stackoverflow.com/users/8899209/el-shabazz"}, "edited": false, "score": 0, "creation_date": 1511602418, "post_id": 47166125, "comment_id": 81923778, "body": "thanks for the hint! after updating rubygems to latest version &quot;v2.7.2 - November 08, 2017&quot; issue was solved."}], "tags": [], "owner": {"reputation": 501, "user_id": 545223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de59733d1b9ad36f58b8d613821ef662?s=128&d=identicon&r=PG", "display_name": "munchbit", "link": "https://stackoverflow.com/users/545223/munchbit"}, "is_accepted": true, "score": 0, "last_activity_date": 1510083421, "creation_date": 1510083421, "answer_id": 47166125, "question_id": 47155235, "link": "https://stackoverflow.com/questions/47155235/error-bundle-install-argumenterror-bcrypt/47166125#47166125", "title": "Error Bundle Install - ArgumentError - bcrypt", "body": "<p>I think part of your issue may be due to a problem recently introduced in rubygems. See <a href=\"https://github.com/rubygems/rubygems/issues/2064\" rel=\"nofollow noreferrer\">https://github.com/rubygems/rubygems/issues/2064</a>.</p>\n\n<p>It looks like a fix has just been committed, but the current solution is to downgrade to an earlier version of rubygems.</p>\n"}], "owner": {"reputation": 13, "user_id": 8899209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc719d5ddf7bbe4e7806c360643e8cf7?s=128&d=identicon&r=PG", "display_name": "el.shabazz", "link": "https://stackoverflow.com/users/8899209/el-shabazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 47166125, "answer_count": 1, "score": 1, "last_activity_date": 1510083421, "creation_date": 1510049601, "last_edit_date": 1510054074, "question_id": 47155235, "link": "https://stackoverflow.com/questions/47155235/error-bundle-install-argumenterror-bcrypt", "title": "Error Bundle Install - ArgumentError - bcrypt", "body": "<p>whenever I try to run <code>bundle install</code>, I get 2 issues:</p>\n\n<ul>\n<li>bcrypt dependency</li>\n<li>rake ArgumentError</li>\n</ul>\n\n<hr>\n\n<p><strong>I already tried:</strong></p>\n\n<pre><code>gem uninstall bundler\ngem install bundler -v 1.16.0\n\ngem uninstall bcrypt\ngem install bcrypt\n\ngem uninstall rake\ngem install rake -v '12.0.0'\n</code></pre>\n\n<hr>\n\n<p><strong>This is my console output:</strong></p>\n\n<pre><code>$ bundle install\nThe dependency bcrypt (&gt;= 0) will be unused by any of the platforms Bundler is installing for. Bundler is installing for x86-mingw32 but the dependency is only for ruby. To add those platforms to the bundle, run `bundle lock --add-platform ruby`.\nFetching gem metadata from https://rails-assets.org/...\nFetching gem metadata from https://rails-assets.org/..\nFetching gem metadata from https://rubygems.org/............\nFetching gem metadata from https://rails-assets.org/..\nFetching gem metadata from https://rails-assets.org/..\nFetching gem metadata from https://rubygems.org/...\nFetching gem metadata from https://rails-assets.org/..\nFetching gem metadata from https://rails-assets.org/..\nFetching gem metadata from https://rubygems.org/...\nResolving dependencies...\nUsing rake 12.0.0\nArgumentError: can't find user 22%\nAn error occurred while installing rake (12.0.0), and Bundler cannot continue.\nMake sure that `gem install rake -v '12.0.0'` succeeds before bundling.\n\nIn Gemfile:\n  coffee-rails was resolved to 4.2.2, which depends on\n    railties was resolved to 5.1.3, which depends on\n      rake\n</code></pre>\n\n<hr>\n\n<p><strong>My bundle Environment:</strong></p>\n\n<pre><code>$ bundle env\nc:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:379:in `expand_path': can't find user 22% (ArgumentError)\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:379:in `block in which'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:377:in `each'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:377:in `find'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:377:in `which'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler.rb:452:in `git_present?'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/source/git/git_proxy.rb:57:in `initialize'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/env.rb:84:in `new'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/env.rb:84:in `git_version'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/env.rb:119:in `environment'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/env.rb:17:in `report'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/friendly_errors.rb:96:in `request_issue_report_for'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/friendly_errors.rb:46:in `log_error'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/friendly_errors.rb:126:in `rescue in with_friendly_errors'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/lib/bundler/friendly_errors.rb:122:in `with_friendly_errors'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/lib/ruby/gems/2.3.0/gems/bundler-1.16.0/exe/bundle:22:in `&lt;top (required)&gt;'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/bin/bundle:22:in `load'\n        from c:/Rails/RailsInstaller/Ruby2.3.3/bin/bundle:22:in `&lt;main&gt;'\n</code></pre>\n\n<hr>\n\n<p><strong>My Gemfile</strong></p>\n\n<pre><code>source 'https://rubygems.org'\n\ngit_source(:github) do |repo_name|\n  repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?(\"/\")\n  \"https://github.com/#{repo_name}.git\"\nend\n\ngem 'rails', '~&gt; 5.1.2'\ngem 'sqlite3'\ngem 'puma', '~&gt; 3.7'\ngem 'sass-rails', '~&gt; 5.0'\ngem 'uglifier', '&gt;= 1.3.0'\ngem 'coffee-rails', '~&gt; 4.2'\ngem 'jquery-rails'\ngem 'turbolinks', '~&gt; 5'\ngem 'jbuilder', '~&gt; 2.5'\ngem 'coffee-script-source', '1.8.0'\ngem 'rake', '~&gt; 12.0.0'\n\ngroup :development, :test do\n  gem 'byebug', platforms: [:mri, :mingw, :x64_mingw]\n  gem 'capybara', '~&gt; 2.13'\n  gem 'selenium-webdriver'\nend\n\ngroup :development do\n  gem 'web-console', '&gt;= 3.3.0'\n  gem 'listen', '~&gt; 3.0.5'\n  gem 'spring'\n  gem 'spring-watcher-listen', '~&gt; 2.0.0'\nend\n\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n\ngem 'bootstrap-sass', '~&gt; 3.3.6'\ngem 'devise', '~&gt; 4.2'\ngem 'font-awesome-rails', '~&gt; 4.7', '&gt;= 4.7.0.2'\ngem 'wdm', '&gt;= 0.1.0'\ngem 'toastr-rails', '~&gt; 1.0'\n\ngem 'omniauth', '~&gt; 1.6'\ngem 'omniauth-facebook', '~&gt; 4.0'\ngem 'omniauth-google-oauth2', '~&gt; 0.4.1'\n\ngem 'paperclip', '~&gt; 5.1.0'\n\ngem 'bcrypt', platforms: :ruby\n\ngem 'geocoder', '~&gt; 1.4'\ngem 'jquery-ui-rails', '~&gt; 5.0'\n\ngem 'ransack', '~&gt;1.7'\n\ngem 'twilio-ruby', '~&gt; 4.11.1'\ngem 'fullcalendar-rails','~&gt; 3.4.0'\ngem 'momentjs-rails', '~&gt; 2.17.1'\n\ngem 'stripe', '~&gt; 3.0.0'\ngem 'rails-assets-card', source: 'https://rails-assets.org'\n\ngem 'omniauth-stripe-connect', '~&gt; 2.10.0'\n\ngem 'chartkick', '~&gt; 2.2.4'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "ruby-on-rails-5"], "comments": [{"owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "edited": false, "score": 1, "creation_date": 1510046196, "post_id": 47153745, "comment_id": 81257549, "body": "Could you post whole <code>routes.rb</code>, please?  And try to put <code>resources :post #, :path =&gt; &quot;&#47;&quot;</code> in the end of <code>routes.rb</code>. It should work"}, {"owner": {"reputation": 2133, "user_id": 3820185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6XZmR.jpg?s=128&g=1", "display_name": "wiesion", "link": "https://stackoverflow.com/users/3820185/wiesion"}, "edited": false, "score": 0, "creation_date": 1510046433, "post_id": 47153745, "comment_id": 81257701, "body": "Have a look at <a href=\"https://gist.github.com/jcasimir/1209730\" rel=\"nofollow noreferrer\">gist.github.com/jcasimir/1209730</a>"}, {"owner": {"reputation": 133, "user_id": 6427902, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f83980f84f1a426f857f220724a661f0?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy Coders", "link": "https://stackoverflow.com/users/6427902/crazy-coders"}, "edited": false, "score": 0, "creation_date": 1510046596, "post_id": 47153745, "comment_id": 81257804, "body": "thanks Nikita. Very reasonable ! it works now. I have lots of routes above but this way does not effect my other routes."}, {"owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "edited": false, "score": 0, "creation_date": 1510048773, "post_id": 47153745, "comment_id": 81259295, "body": "@Yal\u0131nSemer great. I&#39;ll post an answer then so you could chose the best answer"}], "answers": [{"tags": [], "owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "is_accepted": true, "score": 1, "last_activity_date": 1510048790, "creation_date": 1510048790, "answer_id": 47154914, "question_id": 47153745, "link": "https://stackoverflow.com/questions/47153745/rails-how-to-change-url-for-seo/47154914#47154914", "title": "Rails how to change url for seo", "body": "<p>Try to put <code>resources :post #, :path =&gt; \"/\"</code> in the end of <code>routes.rb</code>. It should work</p>\n"}], "owner": {"reputation": 133, "user_id": 6427902, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f83980f84f1a426f857f220724a661f0?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy Coders", "link": "https://stackoverflow.com/users/6427902/crazy-coders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 47154914, "answer_count": 1, "score": 0, "last_activity_date": 1510048790, "creation_date": 1510045352, "last_edit_date": 1510046005, "question_id": 47153745, "link": "https://stackoverflow.com/questions/47153745/rails-how-to-change-url-for-seo", "title": "Rails how to change url for seo", "body": "<p>i am coding a news website. I'm trying to implement best seo practices. \nFor seo , post urls should be like :  ( i use friendlyId gem )</p>\n\n<pre><code>www.mywebsite.com/blog-post-title \n</code></pre>\n\n<p>But if i use rails style , it generates this url for me:</p>\n\n<pre><code>www.mywebsite.com/post/blog-post-title \n</code></pre>\n\n<p>i tried to override routes like : </p>\n\n<pre><code>resources :post #, :path =&gt; \"/\"\n</code></pre>\n\n<p>But when i do this , posts work well but i can't access my other routes like :</p>\n\n<pre><code>www.mywebsite.com/contact  www.mywebsite.com/admin\n</code></pre>\n\n<p>in this way , rails see all pages as post.</p>\n\n<p>I need help to do this !</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1510049672, "post_id": 47153612, "comment_id": 81259909, "body": "Pi is already defined as a constant in <code>Math::PI</code>. You should come up with better example. Usually all the constants are somehow related to the field your app is working in, so maybe you can put constants in the model they are related to?"}, {"owner": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "reply_to_user": {"reputation": 41082, "user_id": 82592, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e1b105626dd9cfd15e543af82e470fd7?s=128&d=identicon&r=PG", "display_name": "Mladen Jablanovi\u0107", "link": "https://stackoverflow.com/users/82592/mladen-jablanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1510051343, "post_id": 47153612, "comment_id": 81261028, "body": "Sure. But what about constants that are related to more than one model. We might end up with what @sergio has mentioned."}], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 7156690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19CTZ.jpg?s=128&g=1", "display_name": "Sandip Mane", "link": "https://stackoverflow.com/users/7156690/sandip-mane"}, "is_accepted": false, "score": 1, "last_activity_date": 1510045249, "creation_date": 1510045249, "answer_id": 47153702, "question_id": 47153612, "link": "https://stackoverflow.com/questions/47153612/best-way-to-define-constants-in-ruby-ror-at-one-place/47153702#47153702", "title": "Best way to define Constants in Ruby/ RoR at one place", "body": "<p>Start using concerns, RubyOnRails has this beautiful pattern to refactor code.</p>\n\n<p>Check out this:</p>\n\n<p><a href=\"http://vaidehijoshi.github.io/blog/2015/10/13/stop-worrying-and-start-being-concerned-activesupport-concerns/\" rel=\"nofollow noreferrer\">http://vaidehijoshi.github.io/blog/2015/10/13/stop-worrying-and-start-being-concerned-activesupport-concerns/</a></p>\n"}, {"comments": [{"owner": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "edited": false, "score": 0, "creation_date": 1510045936, "post_id": 47153714, "comment_id": 81257367, "body": "Also, is there any way to make it Hierarchical, for instance, I want math constants to be at one place and can be used as Constants::Math::PI"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "edited": false, "score": 2, "creation_date": 1510046279, "post_id": 47153714, "comment_id": 81257597, "body": "&quot;is there any way to make it Hierarchical&quot; of course, just define modules within module. This is basic ruby."}, {"owner": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "edited": false, "score": 0, "creation_date": 1510047217, "post_id": 47153714, "comment_id": 81258196, "body": "Sure, is there any way to easily include all constants of particular module deep in Hierarchy so that I dont need to say Constants::Math::Circle::PI everywhere but just PI and Ruby intelligently knows what I mean. It is similar to having static import in java."}, {"owner": {"reputation": 382, "user_id": 5063336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fd0d38dd403b01722df127f7dc6807?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5063336/tom"}, "edited": false, "score": 0, "creation_date": 1510049102, "post_id": 47153714, "comment_id": 81259517, "body": "You can mixin the module to a class with <code>include</code>.  In this answer, add <code>include Constants</code> right below <code>class Circle</code>, then you can shorten <code>Constants::PI</code> to just <code>PI</code>.  Watch out for a polluted namespace that no one can read, though."}, {"owner": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "edited": false, "score": 0, "creation_date": 1510051161, "post_id": 47153714, "comment_id": 81260889, "body": "Can I include just submodule, for instance, Constants:: Math and allow constants inside Math to be available and not others inside Constants modules other than Math."}], "tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": false, "score": 6, "last_activity_date": 1510046316, "last_edit_date": 1510046316, "creation_date": 1510045279, "answer_id": 47153714, "question_id": 47153612, "link": "https://stackoverflow.com/questions/47153612/best-way-to-define-constants-in-ruby-ror-at-one-place/47153714#47153714", "title": "Best way to define Constants in Ruby/ RoR at one place", "body": "<p>Instead of including this constant everywhere, you could just define it in one place and then refer that  directly</p>\n\n<pre><code># config/initializers/constants.rb, for example.\nmodule Constants\n  PI = 3.1415926535897932384626433832795028841971\nend\n\n# app/models/circle.rb\nclass Circle\n  attr_reader :radius\n\n  def area\n    Constants::PI * radius ** 2\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 849857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d83fed1978976017c7542ca6a504770?s=128&d=identicon&r=PG&f=1", "display_name": "bixente.bvd", "link": "https://stackoverflow.com/users/849857/bixente-bvd"}, "is_accepted": false, "score": 2, "last_activity_date": 1510047559, "creation_date": 1510047559, "answer_id": 47154438, "question_id": 47153612, "link": "https://stackoverflow.com/questions/47153612/best-way-to-define-constants-in-ruby-ror-at-one-place/47154438#47154438", "title": "Best way to define Constants in Ruby/ RoR at one place", "body": "<p>All your application classes shall be under a namespace, given <code>MyApp</code>.</p>\n\n<p>So all shared constants could be declared in the <code>MyApp</code> module : </p>\n\n<pre><code>module MyApp\n  APP_CONST_1 = 42\n  APP_CONST_2 = 3.14\n  # ...\nend\n\nclass MyApp::User\n  def the_answer\n    MyApp::APP_CONST_1 # 42\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 8332297, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100001784997140/picture?type=large", "display_name": "Sahil Rally", "link": "https://stackoverflow.com/users/8332297/sahil-rally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1510047559, "creation_date": 1510044938, "last_edit_date": 1510046230, "question_id": 47153612, "link": "https://stackoverflow.com/questions/47153612/best-way-to-define-constants-in-ruby-ror-at-one-place", "title": "Best way to define Constants in Ruby/ RoR at one place", "body": "<p>I have multiple classes (4-5) using same constant value, say PI = 3.14. \nWhat is the best way to define that constant at one place in Ruby and in RoR application?</p>\n\n<p>Do I construct one module with given Constant and include in all the classes that are using it?</p>\n\n<p>What are best practices and standard Ruby or RoR way?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "comments": [{"owner": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510047210, "post_id": 47153566, "comment_id": 81258193, "body": "what is the name and path of your &#39;objets.rb&#39; file? Are you sure you didn&#39;t name it as &#39;objects&#39;. File path should be &#39;api/dimelofone/v1/objets.rb&#39; Classes are autoloaded in rails based on the file name and class name."}, {"owner": {"reputation": 1, "user_id": 8898868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LE3MBk3lv7U/AAAAAAAAAAI/AAAAAAAAAB4/CL7tKsAyB1w/photo.jpg?sz=128", "display_name": "Ghassen Khelif", "link": "https://stackoverflow.com/users/8898868/ghassen-khelif"}, "reply_to_user": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510047980, "post_id": 47153566, "comment_id": 81258722, "body": "yes the objets.rb is named correctly and the path is also correct"}, {"owner": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510048393, "post_id": 47153566, "comment_id": 81259027, "body": "can you also add the content of  &#39;api/dimelofone/v1/objets.rb&#39; in your question?"}, {"owner": {"reputation": 1, "user_id": 8898868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LE3MBk3lv7U/AAAAAAAAAAI/AAAAAAAAAB4/CL7tKsAyB1w/photo.jpg?sz=128", "display_name": "Ghassen Khelif", "link": "https://stackoverflow.com/users/8898868/ghassen-khelif"}, "reply_to_user": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510048929, "post_id": 47153566, "comment_id": 81259411, "body": "the objet.rb is added"}, {"owner": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510049145, "post_id": 47153566, "comment_id": 81259540, "body": "check if <a href=\"https://stackoverflow.com/questions/28109784/why-does-trying-to-use-grape-with-rails-fail-with-uninitialized-constant-api\" title=\"why does trying to use grape with rails fail with uninitialized constant api\">stackoverflow.com/questions/28109784/&hellip;</a> is related to your problem. you might need to have them in &#39;/api/api/dimelofone/v1/objets.rb&#39;."}, {"owner": {"reputation": 1, "user_id": 8898868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LE3MBk3lv7U/AAAAAAAAAAI/AAAAAAAAAB4/CL7tKsAyB1w/photo.jpg?sz=128", "display_name": "Ghassen Khelif", "link": "https://stackoverflow.com/users/8898868/ghassen-khelif"}, "reply_to_user": {"reputation": 12464, "user_id": 1376448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f16da5431a99911ebc32093a28bc591?s=128&d=identicon&r=PG", "display_name": "kiddorails", "link": "https://stackoverflow.com/users/1376448/kiddorails"}, "edited": false, "score": 0, "creation_date": 1510051741, "post_id": 47153566, "comment_id": 81261289, "body": "I follow the steps and this is the same problem"}], "owner": {"reputation": 1, "user_id": 8898868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LE3MBk3lv7U/AAAAAAAAAAI/AAAAAAAAAB4/CL7tKsAyB1w/photo.jpg?sz=128", "display_name": "Ghassen Khelif", "link": "https://stackoverflow.com/users/8898868/ghassen-khelif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510048897, "creation_date": 1510044776, "last_edit_date": 1510048897, "question_id": 47153566, "link": "https://stackoverflow.com/questions/47153566/my-api-works-locally-but-not-on-heroku", "title": "My API works locally but not on heroku", "body": "<p>I have a problem with my new API it works locally but not in prod (on <strong>Heroku</strong>) I'm using <strong>Grape gem</strong> for that </p>\n\n<p>when I'm running </p>\n\n<pre><code>heroku run rails console\n</code></pre>\n\n<p>I have this message</p>\n\n<pre><code>Running rails console on \u2b22 boiling-temple-35087... up, run.5720 (Free)\n[DEPRECATION] This gem has been renamed to hashie-forbidden_attributes and will no longer be supported. Please switch to hashie-forbidden_attributes as soon as possible.\n/app/app/api/dimelofone/base.rb:3:in `&lt;class:Base&gt;': uninitialized constant Dimelofone::V1::Objets (NameError)\n    from /app/app/api/dimelofone/base.rb:2:in `&lt;module:Dimelofone&gt;'\n    from /app/app/api/dimelofone/base.rb:1:in `&lt;top (required)&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:12:in `block in loading'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:149:in `exclusive'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:11:in `loading'\n    from /app/config/routes.rb:11:in `block in &lt;top (required)&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:426:in `instance_exec'\n    from /app/vendor/bundle/ruby/2.3.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:426:in `eval_block'\n    from /app/vendor/bundle/ruby/2.3.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:408:in `draw'\n    from /app/config/routes.rb:1:in `&lt;top (required)&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `block in load_paths'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `each'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `load_paths'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:18:in `reload!'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application.rb:164:in `reload_routes!'\n    from /app/vendor/bundle/ruby/2.3.0/gems/devise-4.3.0/lib/devise/rails.rb:15:in `block in &lt;class:Engine&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:67:in `block in execute_hook'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:60:in `with_execution_control'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:65:in `execute_hook'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:50:in `block in run_load_hooks'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:49:in `each'\n    from /app/vendor/bundle/ruby/2.3.0/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:49:in `run_load_hooks'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application/finisher.rb:66:in `block in &lt;module:Finisher&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/initializable.rb:30:in `instance_exec'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/initializable.rb:30:in `run'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/initializable.rb:59:in `block in run_initializers'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:228:in `block in tsort_each'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:431:in `each_strongly_connected_component_from'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:349:in `block in each_strongly_connected_component'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `each'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `call'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:347:in `each_strongly_connected_component'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:226:in `tsort_each'\n    from /app/vendor/ruby-2.3.4/lib/ruby/2.3.0/tsort.rb:205:in `tsort_each'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/initializable.rb:58:in `run_initializers'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application.rb:353:in `initialize!'\n    from /app/config/environment.rb:5:in `&lt;top (required)&gt;'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/application.rb:329:in `require_environment!'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/command/actions.rb:16:in `require_application_and_environment!'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/commands/console/console_command.rb:96:in `perform'\n    from /app/vendor/bundle/ruby/2.3.0/gems/thor-0.20.0/lib/thor/command.rb:27:in `run'\n    from /app/vendor/bundle/ruby/2.3.0/gems/thor-0.20.0/lib/thor/invocation.rb:126:in `invoke_command'\n    from /app/vendor/bundle/ruby/2.3.0/gems/thor-0.20.0/lib/thor.rb:387:in `dispatch'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/command/base.rb:63:in `perform'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/command.rb:44:in `invoke'\n    from /app/vendor/bundle/ruby/2.3.0/gems/railties-5.1.4/lib/rails/commands.rb:16:in `&lt;top (required)&gt;'\n    from /app/bin/rails:9:in `require'\n    from /app/bin/rails:9:in `&lt;main&gt;'\n</code></pre>\n\n<p>For my routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :settings\n  get 'homepage/index'\n\n  resources :ligne_cmds\n  resources :commands\n  devise_for :users\n  resources :objets\n  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html\n  root 'homepage#index'\n  mount Dimelofone::Base =&gt; '/'\n  #mount Root =&gt; '/'\nend\n</code></pre>\n\n<p>My base.rb</p>\n\n<pre><code>module Dimelofone\n  class Base &lt; Grape::API\n    mount Dimelofone::V1::Objets\n    mount Dimelofone::V1::Users\n    mount Dimelofone::V1::Commandes\n    #mount Dimelofone::V1::Commands\n    mount Dimelofone::V1::Settings\n  end\nend\n</code></pre>\n\n<p>I can't found the solution for that ,I know it's a problem in the production environment but I do not know what to do and I'm almost sure that the problem is with this line </p>\n\n<blockquote>\n  <p>uninitialized constant Dimelofone::V1::Objets (NameError)</p>\n</blockquote>\n\n<p>here's the objets.rb</p>\n\n<pre><code>module Dimelofone\n  module V1\n    class Objets &lt; Grape::API\n      version 'v1', using: :path\n      format :json\n      prefix :api\n      resource :objets do\n  desc \"Return list of objets\"\n  get do\n    Objet.all\n  end\n\n  desc \"Return an objet\"\n  params do\n    requires :id, type: Integer, desc: \"Objet id\"\n  end\n  route_param :id do\n    get do\n      Objet.find(params[:id])\n    end\n  end\nend\n\n  end\nend\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "is_accepted": true, "score": 1, "last_activity_date": 1510043835, "last_edit_date": 1510043835, "creation_date": 1510043401, "answer_id": 47153184, "question_id": 47152998, "link": "https://stackoverflow.com/questions/47152998/how-does-rails-find-the-column-alias-in-select-statement/47153184#47153184", "title": "How does rails find the column alias in select statement?", "body": "<p>The alias will be added as an attribute for the record. If you use  <code>attributes</code> in one of the results then you'll see it there, like:</p>\n\n<pre><code>Article.select('id, sum(1) as cnt').group('id').first.attributes\n# =&gt; {\"id\"=&gt;1, \"cnt\"=&gt;1}\n</code></pre>\n\n<p>In that similar way you can access to it:</p>\n\n<pre><code>Article.select('id, sum(1) as cnt').group('id').first.cnt\n# =&gt; 1\n\nArticle.select('id, sum(1) as cnt').group('id').first[:cnt]\n# =&gt; 1\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 835239, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/87299aadd335390f49a0b7d19df5fe7b?s=128&d=identicon&r=PG", "display_name": "zhongxiao37", "link": "https://stackoverflow.com/users/835239/zhongxiao37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 47153184, "answer_count": 1, "score": 0, "last_activity_date": 1510043835, "creation_date": 1510042668, "question_id": 47152998, "link": "https://stackoverflow.com/questions/47152998/how-does-rails-find-the-column-alias-in-select-statement", "title": "How does rails find the column alias in select statement?", "body": "<p>In rails' active record querying section, there is one example for column alias. Like <code>a = Article.select(\"id, sum(1) as cnt\").group(\"id\")</code>. Then you could get the <code>cnt</code> by <code>a.first.cnt</code>. However, I could not find <code>cnt</code> in following methods:</p>\n\n<ul>\n<li><code>a.first.singleton_methods</code></li>\n<li><code>a.first.methods.grep(/cnt/)</code></li>\n<li><code>a.first.instance_variables</code></li>\n</ul>\n\n<p>Could I know where I could find the <code>cnt</code> method?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ahoy"], "comments": [{"owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "edited": false, "score": 1, "creation_date": 1510040847, "post_id": 47152435, "comment_id": 81254405, "body": "So what&#39;s the problem?"}, {"owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "edited": false, "score": 0, "creation_date": 1510042094, "post_id": 47152435, "comment_id": 81255032, "body": "But &#39;time&#39; is a datetime type.. what would you achieve comparing it with string &#39;Mon%&#39;?"}, {"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "edited": false, "score": 0, "creation_date": 1510042291, "post_id": 47152435, "comment_id": 81255125, "body": "I need to determine this datetime data convert to day of week."}, {"owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "edited": false, "score": 0, "creation_date": 1510042991, "post_id": 47152435, "comment_id": 81255527, "body": "What&#39;s your database?"}, {"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "edited": false, "score": 0, "creation_date": 1510043136, "post_id": 47152435, "comment_id": 81255604, "body": "My db is PostgreSQL"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "edited": false, "score": 0, "creation_date": 1510045677, "post_id": 47153386, "comment_id": 81257189, "body": "Thank u so much guys. This two solutions works fine."}], "tags": [], "owner": {"reputation": 1743, "user_id": 4308435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgr6X.jpg?s=128&g=1", "display_name": "Nikita Misharin", "link": "https://stackoverflow.com/users/4308435/nikita-misharin"}, "is_accepted": false, "score": 0, "last_activity_date": 1510044174, "creation_date": 1510044174, "answer_id": 47153386, "question_id": 47152435, "link": "https://stackoverflow.com/questions/47152435/like-operator-in-ahoy-events/47153386#47153386", "title": "like Operator in ahoy events", "body": "<p>You can try to use built in postgres function for that:</p>\n\n<pre><code>Ahoy::Event.where(\"EXTRACT(DOW FROM time) = 1\").where_properties(brochure_id: brochure.id).count\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 1595868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2106152c457f7df0ef892b6814423cfc?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/1595868/anton"}, "is_accepted": true, "score": 0, "last_activity_date": 1510044183, "creation_date": 1510044183, "answer_id": 47153389, "question_id": 47152435, "link": "https://stackoverflow.com/questions/47152435/like-operator-in-ahoy-events/47153389#47153389", "title": "like Operator in ahoy events", "body": "<pre><code> Ahoy::Event.where(\"date_part('dow', time) = 1\").count\n</code></pre>\n\n<p>This will return the count of all events created at Monday.You can add more filters.</p>\n"}], "owner": {"reputation": 109, "user_id": 8898603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-F4RrAmSgxrU/AAAAAAAAAAI/AAAAAAAAcdo/67TMLiWD1NA/photo.jpg?sz=128", "display_name": "Emre", "link": "https://stackoverflow.com/users/8898603/emre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 47153389, "answer_count": 2, "score": 0, "last_activity_date": 1510044183, "creation_date": 1510040590, "last_edit_date": 1510042750, "question_id": 47152435, "link": "https://stackoverflow.com/questions/47152435/like-operator-in-ahoy-events", "title": "like Operator in ahoy events", "body": "<p>I started code rails recently and I need to figure out this problem.</p>\n\n<pre><code>%td\n  = Ahoy::Event.where(name: \"viewed_brochure\").where_properties(brochure_id: brochure.id, time: like 'Mon%').count\n</code></pre>\n\n<p>this should be show the number of Mondays in database. But it doesn't work and give syntax error. </p>\n\n<p>I wonder how to use like operator in this line. </p>\n\n<pre><code>Ahoy::Event.where(time: \"2017-10-30 14:50:35.361999\").where_properties(brochure_id: brochure.id).count\n</code></pre>\n\n<p>This line works fine but i need to use like operator or something similar.</p>\n"}, {"tags": ["ruby", "scope", "block"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510043930, "post_id": 47152888, "comment_id": 81256063, "body": "Thank you very much! Could you explain why the block returns the same value over and over?"}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "reply_to_user": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 1, "creation_date": 1510047072, "post_id": 47152888, "comment_id": 81258106, "body": "Ruby objects are copied by reference. This means <code>a = ran_arr</code> doesn&#39;t duplicate the value of <code>ran_arr</code>, it only creates a new name for it."}, {"owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "reply_to_user": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 1, "creation_date": 1510049232, "post_id": 47152888, "comment_id": 81259597, "body": "The block changes <code>ran_arr</code> every time it runs. After 5 rotations it leaves the values of <code>ran_arr</code> in the same order they were when <code>ran_arr</code> was created."}, {"owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "edited": false, "score": 0, "creation_date": 1510056943, "post_id": 47152888, "comment_id": 81264587, "body": "That is quite a mess i made"}], "tags": [], "owner": {"reputation": 56328, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "is_accepted": true, "score": 2, "last_activity_date": 1510042286, "creation_date": 1510042286, "answer_id": 47152888, "question_id": 47152381, "link": "https://stackoverflow.com/questions/47152381/ruby-block-wont-change-local-variable/47152888#47152888", "title": "Ruby Block won&#39;t change local variable", "body": "<p>The documentation of <a href=\"https://ruby-doc.org/core-2.4.2/Array.html#method-c-new\" rel=\"nofollow noreferrer\"><code>Array::new</code></a> explains:</p>\n\n<blockquote>\n  <p><strong>new(size=0, default=nil)</strong><br>\n  <strong>new(array)</strong><br>\n  <strong>new(size) {|index| block }</strong><br>\n  ...</p>\n  \n  <p>In the last form, an array of the given size is created. Each element in this array is created by passing the element's index to the given block and storing the return value.</p>\n</blockquote>\n\n<p>The block <code>{|i|ran_arr.push(ran_arr.shift)}</code> always returns the same value: the array stored in <code>ran_arr</code>. The new array contains 5 references to <code>ran_arr</code>. The rows of <code>mat_arr</code> contain the same values because there aren't five different rows; it's the same object linked five times.</p>\n\n<p>To fix this you should return from the block a copy of <code>ran_arr</code>:</p>\n\n<pre><code>  mat_arr = Array.new(5){|i|ran_arr.push(ran_arr.shift).clone}\n</code></pre>\n\n<p>You will notice that it still doesn't generate a matrix with zeroes on the diagonal. To achieve this goal you need to correct the algorithm:</p>\n\n<pre><code>def create_sym_matrix\n  ran_arr = Array.new(5){rand(1..100)}\n  ran_arr[4] = 0\n  mat_arr = Array.new(5){|i|ran_arr.unshift(ran_arr.pop).clone}\n  Matrix.columns(mat_arr)\nend\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>Matrix[[0, 38, 8, 48, 73], [73, 0, 38, 8, 48], [48, 73, 0, 38, 8], [8, 48, 73, 0, 38], [38, 8, 48, 73, 0]]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4351619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac88a94d63a23ee3fd438459279187ba?s=128&d=identicon&r=PG&f=1", "display_name": "gavvel", "link": "https://stackoverflow.com/users/4351619/gavvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 47152888, "answer_count": 1, "score": 0, "last_activity_date": 1510042286, "creation_date": 1510040333, "question_id": 47152381, "link": "https://stackoverflow.com/questions/47152381/ruby-block-wont-change-local-variable", "title": "Ruby Block won&#39;t change local variable", "body": "<p>this code here:</p>\n\n<pre><code>def create_sym_matrix\n  ran_arr = Array.new(5){rand(1..100)}\n  ran_arr[1] = 0\n  mat_arr = Array.new(5){|i|ran_arr.push(ran_arr.shift)}\n  Matrix.columns(mat_arr)\nend\n\naa = create_sym_matrix\n\n=&gt; Matrix[[86, 86, 86, 86, 86], [0, 0, 0, 0, 0], [20, 20, 20, 20, 20], \n[39, 39, 39, 39, 39], [48, 48, 48, 48, 48]]\n</code></pre>\n\n<p>Can someone explain to me why it did not rotate? I was trying to get a symmetric Matrix with zeros in the diagonal.</p>\n"}, {"tags": ["arrays", "ruby", "sorting"], "owner": {"reputation": 11, "user_id": 8898372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a84110d5d4632e0898fddd96b0570ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Timmy", "link": "https://stackoverflow.com/users/8898372/timmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1510038298, "answer_count": 0, "score": 1, "last_activity_date": 1510038157, "creation_date": 1510038157, "question_id": 47151814, "link": "https://stackoverflow.com/questions/47151814/what-does-array-sortelementarray-countelement-does", "closed_reason": "Duplicate", "title": "What does Array.sort!{|element|Array.count(element)} does?", "body": "<p>I wanted to sort some Strings in a array by the frequency they appear in the array. I know that i can use sort_by to achieve this but by chance I used this code <em>items.sort!{|x|items.count(x)}</em> and wanted to know what happened to the list.</p>\n\n<pre><code>items = [\"apple\", \"pineapple\", \"apple\", \"apple\", \"orange\", \"orange\", \"grape\"]\nitems.sort!{|x|items.count(x)}\nitems = [\"grape\", \"apple\", \"apple\", \"orange\", \"apple\", \"orange\", \"pineapple\"]\n\nitems = [\"apple\", \"pineapple\", \"apple\", \"apple\", \"orange\", \"orange\", \"grape\", \"pineapple\", \"apple\", \"orange\"]\nitems.sort!{|x|items.count(x)}\nitems = [\"orange\", \"orange\", \"apple\", \"grape\", \"apple\", \"pineapple\", \"orange\", \"apple\", \"apple\", \"pineapple\"]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongoid"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510038339, "post_id": 47151652, "comment_id": 81253173, "body": "I guess not using <code>Core::Moderator</code> first lead to the situation that Rails doesn&#39;t know that <code>Core::User</code> has subclasses and therefore doesn&#39;t load the STI helper methods. What happens if you load the subclass <code>Core::Moderator</code> first without building an instance and then build an <code>Core::User</code>."}, {"owner": {"reputation": 1179, "user_id": 2858044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b99bf8baf41337577e4e425677080472?s=128&d=identicon&r=PG&f=1", "display_name": "itx", "link": "https://stackoverflow.com/users/2858044/itx"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510039963, "post_id": 47151652, "comment_id": 81253934, "body": "@spickermann when load subclass <code>Core::Moderator</code> first, and build <code>Core::User</code>, the field <code>_type</code> created. FYI I have another apps but using rails 4.x.x with same model structure, I shouldn&#39;t load subclass first, the field <code>_type</code> generate when build a class."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510042147, "post_id": 47151652, "comment_id": 81255051, "body": "I would be too surprised if the internals of Rails&#39; autoloading and preloading implementation have changed between 4.x and 5.1 But I would be surprised if Rails knew that a class has subclasses without loading at least one of them."}, {"owner": {"reputation": 1179, "user_id": 2858044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b99bf8baf41337577e4e425677080472?s=128&d=identicon&r=PG&f=1", "display_name": "itx", "link": "https://stackoverflow.com/users/2858044/itx"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510050611, "post_id": 47151652, "comment_id": 81260542, "body": "@spickermann I found it. If i set <code>true</code> for <code>eager_load</code>, rails knew a class has subclasses. <a href=\"https://stackoverflow.com/q/19839847/1297435\">stackoverflow.com/q/19839847/1297435</a>"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510058704, "post_id": 47151652, "comment_id": 81265855, "body": "@spickermann &quot;Rails&#39; autoloading and preloading implementation have changed between 4.x and 5.1&quot; - that&#39;s ActiveRecord. This is a Mongoid question which uses a completely different codebase."}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "reply_to_user": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 1, "creation_date": 1510063831, "post_id": 47151652, "comment_id": 81269486, "body": "@max The OP uses Mongoid in a Rails application. This and the fact that enabling Rails&#39; <code>eager_load</code> fixes the issue make me confident that it is a Rails autoload problem and not a Problem cause by Mongoid."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510063960, "post_id": 47151652, "comment_id": 81269577, "body": "Sorry you&#39;re completely right @spickermann. I was thinking of <code>ActiveRecord::Relation.preload</code> not class reloading."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1510069610, "post_id": 47151652, "comment_id": 81273566, "body": "But I was kind of right @spickermann since mongoid has its own eager loading mechanism and config option for models."}], "answers": [{"comments": [{"owner": {"reputation": 1179, "user_id": 2858044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b99bf8baf41337577e4e425677080472?s=128&d=identicon&r=PG&f=1", "display_name": "itx", "link": "https://stackoverflow.com/users/2858044/itx"}, "edited": false, "score": 0, "creation_date": 1510105061, "post_id": 47161994, "comment_id": 81290036, "body": "I think I need mongoid read documentation again, I usually using activerecord... thanks @max .. here is for documentation about <code>preload_models</code> <a href=\"https://docs.mongodb.com/mongoid/master/tutorials/mongoid-rails/#model-preloading\" rel=\"nofollow noreferrer\">docs.mongodb.com/mongoid/master/tutorials/mongoid-rails/&hellip;</a>"}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1510069525, "creation_date": 1510069525, "answer_id": 47161994, "question_id": 47151652, "link": "https://stackoverflow.com/questions/47151652/rails-5-field-type-not-generated-in-mongoid/47161994#47161994", "title": "Rails 5 field _type not generated in mongoid", "body": "<p>In order for inheritance to work as expected in Mongoid you need to set <code>preload_models: true</code>. Otherwise the model cannot know that it has subclasses.</p>\n\n<pre><code># config/mongoid.yml\ndevelopment:\n  # ...\n  options: \n    # ...\n    # Preload all models in development, needed when models use\n    # inheritance. (default: false)\n    preload_models: true \n</code></pre>\n"}], "owner": {"reputation": 1179, "user_id": 2858044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b99bf8baf41337577e4e425677080472?s=128&d=identicon&r=PG&f=1", "display_name": "itx", "link": "https://stackoverflow.com/users/2858044/itx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 47161994, "answer_count": 1, "score": 1, "last_activity_date": 1510069525, "creation_date": 1510037541, "question_id": 47151652, "link": "https://stackoverflow.com/questions/47151652/rails-5-field-type-not-generated-in-mongoid", "title": "Rails 5 field _type not generated in mongoid", "body": "<p>I have class &amp; subclass with one document looks like :</p>\n\n<pre><code>class Core::User\n  include Mongoid::Document\n  include Mongoid::Timestamps\n\n  store_in collection: 'users'\nend\n\nclass Core::Moderator &lt; Core::User\n\nend\n</code></pre>\n\n<p>I tried to add a user from console</p>\n\n<pre><code>2.4.2 :002 &gt;  user = Core::User.new(email: 'email@domain.com', name: 'new user')\n =&gt; #&lt;Core::User _id: BSON::ObjectId('5a015465fe37a86430b1e0ff'), created_at: nil, email: \"email@domain.com\", name: \"new_user\", updated_at: nil&gt; \n2.4.2 :003 &gt; user.save\n =&gt; true \n2.4.2 :004 &gt; user._type\nNoMethodError: undefined method `_type' for #&lt;Core::User:0x0000000003e77ea0&gt;\n    from (irb):4\n</code></pre>\n\n<p>And then add new moderator :</p>\n\n<pre><code>2.4.2 :005 &gt; moderator = Core::Moderator.new(email: 'email2@domail.com', name: 'new moderator')\n#&lt;Core::Moderator _id: BSON::ObjectId('5a015600fe37a86430b1e100'), created_at: nil, email: \"email2@domain.com\", name: \"new moderator\", updated_at: nil&gt;\n2.4.2 :006 &gt; moderator.save\n=&gt; true \n2.4.2 :007 &gt; moderator._type\n=&gt; \"Core::Moderator\"\n</code></pre>\n\n<p>Next add new user again :</p>\n\n<pre><code>2.4.2 :008 &gt;  user = Core::User.new(email: 'email3@domain.com', name: 'new user 2')\n =&gt; #&lt;Core::User _id: BSON::ObjectId('5a015704fe37a86430b1e101'), created_at: nil, email: \"email3@domain.com\", name: \"new user 2\", updated_at: nil&gt; \n2.4.2 :009 &gt; user.save\n =&gt; true \n2.4.2 :010 &gt; user._type\n =&gt; \"Core::User\"\n</code></pre>\n\n<p>Why I should create subclass first to get field <code>_type</code> on parent class?  Every I start new console and create new user (<code>Core::User</code>) the field <code>_type</code> not generated.</p>\n\n<p>I user Ruby 2.4.2, Rails 5.1.4, Mongoid 6.2.1</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "amazon-dynamodb"], "comments": [{"owner": {"reputation": 3865, "user_id": 4540175, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a789c8057fed1368f96c15cfbdba6421?s=128&d=identicon&r=PG&f=1", "display_name": "gates", "link": "https://stackoverflow.com/users/4540175/gates"}, "edited": false, "score": 0, "creation_date": 1510036419, "post_id": 47150949, "comment_id": 81252289, "body": "what&#39;s the value of this  params[:video_source].original_filename"}, {"owner": {"reputation": 91, "user_id": 6901503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c879e1cc062241d339c83237bfe2414?s=128&d=identicon&r=PG&f=1", "display_name": "A. Martz", "link": "https://stackoverflow.com/users/6901503/a-martz"}, "reply_to_user": {"reputation": 3865, "user_id": 4540175, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a789c8057fed1368f96c15cfbdba6421?s=128&d=identicon&r=PG&f=1", "display_name": "gates", "link": "https://stackoverflow.com/users/4540175/gates"}, "edited": false, "score": 0, "creation_date": 1510055697, "post_id": 47150949, "comment_id": 81263795, "body": "@gates params[:video_source] contains the temporal video file object that gets uploaded, and the .original_filename gives me the name of that file."}], "owner": {"reputation": 91, "user_id": 6901503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c879e1cc062241d339c83237bfe2414?s=128&d=identicon&r=PG&f=1", "display_name": "A. Martz", "link": "https://stackoverflow.com/users/6901503/a-martz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510034448, "creation_date": 1510034448, "question_id": 47150949, "link": "https://stackoverflow.com/questions/47150949/cant-dup-falseclass-error-with-dynamoid-and-ruby-on-rails-over-heroku", "title": "Can&#39;t dup FalseClass error with Dynamoid and Ruby on Rails over Heroku", "body": "<p><strong>Hi,</strong></p>\n\n<p>I'm using Ruby on Rails 5 and DynamoDB to persist my data and, in order to do this, i'm using Dynamoid ORM (<a href=\"https://github.com/Dynamoid/Dynamoid\" rel=\"nofollow noreferrer\">https://github.com/Dynamoid/Dynamoid</a>). When i instantiate the Video class in my local environment (with operations such as Video.new or Video.build) it works perfectly but when i deploy the application to Heroku the same operations fail with the error in the following image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/N0Q6V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0Q6V.jpg\" alt=\"can&#39;t dup FalseClass\"></a></p>\n\n<p>I've been googling the error but i haven't found anything to solve my problem. This is the only model/class with this problem, the others work fine. </p>\n\n<p>Here are my Video model and Video controller.</p>\n\n<p><strong>Video Class</strong></p>\n\n<pre><code>class Video\n    include Dynamoid::Document\n    table :name =&gt; :videos, :key =&gt; :id, :read_capacity =&gt; 5, :write_capacity =&gt; 5\n    field :nombre\n    field :apellido\n    field :email\n    field :titulo\n    field :descripcion\n    field :video_source\n    field :estado, :boolean, {default: false}\n\n    belongs_to :concurso\n\nend\n</code></pre>\n\n<p>And my <strong>VideoController::create</strong></p>\n\n<pre><code>def create\n    concurso = params[:video]\n    concurso_id = concurso[:id]\n    @concurso = Concurso.find(concurso_id)\n    @video = Video.new(:nombre =&gt; params[:nombre], :apellido =&gt;  params[:apellido], :email =&gt; params[:email], :titulo =&gt; params[:titulo], :descripcion =&gt; params[:descripcion], :video_source =&gt; params[:video_source].original_filename)\n    @video.concurso = @concurso\n    respond_to do |format|\n        if  @video.save\n            format.html { redirect_to @video, notice: 'Video was successfully created.' }\n            format.json { render :show, status: :created, location: @video }\n        else\n            format.html { render :new }\n            format.json { render json: @video.errors, status: :unprocessable_entity }\n        end\n    end\nend\n</code></pre>\n\n<p>Does anyone know what could be the problem?</p>\n\n<p>Thanks,</p>\n"}]