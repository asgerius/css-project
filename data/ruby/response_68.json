[{"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "edited": false, "score": 0, "creation_date": 1461800358, "post_id": 36902721, "comment_id": 61369481, "body": "That worked great, thanks for the quick response!  I went with the delete option because I dont need to trigger extra callbacks when I just want to delete it from the record."}], "tags": [], "owner": {"reputation": 1484, "user_id": 1601772, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/C4CW3.jpg?s=128&g=1", "display_name": "ABrowne", "link": "https://stackoverflow.com/users/1601772/abrowne"}, "is_accepted": true, "score": 4, "last_activity_date": 1461800370, "last_edit_date": 1461800370, "creation_date": 1461800159, "answer_id": 36902721, "question_id": 36902670, "link": "https://stackoverflow.com/questions/36902670/after-destroy-to-remove-categories/36902721#36902721", "title": "after_destroy to remove categories", "body": "<p>Try this:</p>\n\n<pre><code>Category.find_by(name: self.title).destroy\n</code></pre>\n\n<p>Bear in mind that destroy will trigger any callbacks on the Category you have triggered by, but delete does not</p>\n\n<p>This is what ActiveRecord (<a href=\"http://apidock.com/rails/ActiveRecord/Base/destroy\" rel=\"nofollow\">destroy</a>) is doing under the hood:</p>\n\n<pre><code># File activerecord/lib/active_record/base.rb, line 2614\n  def destroy\n    unless new_record?\n      connection.delete(\n        \"DELETE FROM #{self.class.quoted_table_name} \" +\n        \"WHERE #{connection.quote_column_name(self.class.primary_key)} = #{quoted_id}\",\n        \"#{self.class.name} Destroy\"\n      )\n    end\n\n    @destroyed = true\n    freeze\n  end\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 36902721, "answer_count": 1, "score": 1, "last_activity_date": 1461804486, "creation_date": 1461799845, "last_edit_date": 1461804486, "question_id": 36902670, "link": "https://stackoverflow.com/questions/36902670/after-destroy-to-remove-categories", "title": "after_destroy to remove categories", "body": "<p>My code creates categories automatically upon creating a new instance of a model.  Here is the code for one of the models.</p>\n\n<pre><code>class Grow &lt; ActiveRecord::Base\nbelongs_to :category\n\nafter_create do\n  Category.create(name: self.title)\nend\n\nbefore_destroy do\n  Category.destroy(name: self.title)\nend\n</code></pre>\n\n<p>end</p>\n\n<p>The create works, but the destroy gives me this error</p>\n\n<pre><code>SQLite3::SQLException: no such column: id.name: SELECT \"categories\".*\n         FROM \"categories\" WHERE \"id\".\"name\" = 'My very first grow room' LIMIT 1\n</code></pre>\n\n<p>Any ideas on how I can fix this problem?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1461796919, "post_id": 36902209, "comment_id": 61368482, "body": "You didn&#39;t define the method <code>article_params</code> anywhere."}], "answers": [{"tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": false, "score": 0, "last_activity_date": 1461796972, "creation_date": 1461796972, "answer_id": 36902233, "question_id": 36902209, "link": "https://stackoverflow.com/questions/36902209/undefined-local-variable-or-method-article-params-for-articlescontroller0x0/36902233#36902233", "title": "undefined local variable or method `article_params&#39; for #&lt;ArticlesController:0x007ff45cebd680&gt;", "body": "<p>You need to define your <code>article_params</code> in your controller</p>\n"}, {"tags": [], "owner": {"reputation": 1784, "user_id": 435817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/336ff924a5e2f7efe299b3d1210957e2?s=128&d=identicon&r=PG", "display_name": "patrickdavey", "link": "https://stackoverflow.com/users/435817/patrickdavey"}, "is_accepted": false, "score": 1, "last_activity_date": 1461802704, "creation_date": 1461802704, "answer_id": 36903117, "question_id": 36902209, "link": "https://stackoverflow.com/questions/36902209/undefined-local-variable-or-method-article-params-for-articlescontroller0x0/36903117#36903117", "title": "undefined local variable or method `article_params&#39; for #&lt;ArticlesController:0x007ff45cebd680&gt;", "body": "<p>Yip, as Alfie said above, you're missing your article_params. \nIn rails 4 (which I assume is what you're using) there is the concept of strong paramaters, which is a way of only allowing the fields you're expecting through.</p>\n\n<p>Depending on what fields are in your \"article\"  object, you need to add something like this:</p>\n\n<pre><code>  def article_params\n    params.require(:article).permit(:title, :body)\n  end\n</code></pre>\n\n<p>Note, you'll need to adjust it to suit whatever your actual fields are.</p>\n\n<p>Also, might be a copy &amp; paste error, but it's a good idea to get into the habit of indenting your code correctly!  Good luck with getting the codes to work :)</p>\n"}, {"tags": [], "owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "is_accepted": false, "score": 0, "last_activity_date": 1520483699, "creation_date": 1520483699, "answer_id": 49165486, "question_id": 36902209, "link": "https://stackoverflow.com/questions/36902209/undefined-local-variable-or-method-article-params-for-articlescontroller0x0/49165486#49165486", "title": "undefined local variable or method `article_params&#39; for #&lt;ArticlesController:0x007ff45cebd680&gt;", "body": "<p>You forgot to pass article_params to update.  </p>\n\n<pre><code>def update\n    @article = Article.find(params[:id])\n    if @article.update(article_params)\n      flash[:notice] = 'Article was successfully updated'\n      redirect_to article_path(@article)\n    else\n      redirect 'edit'\n    end\n  end\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5931828, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5b2a4c96f15fa14ee2b0db09664aeeea?s=128&d=identicon&r=PG&f=1", "display_name": "stanley wendo", "link": "https://stackoverflow.com/users/5931828/stanley-wendo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1520483699, "creation_date": 1461796861, "last_edit_date": 1461812186, "question_id": 36902209, "link": "https://stackoverflow.com/questions/36902209/undefined-local-variable-or-method-article-params-for-articlescontroller0x0", "title": "undefined local variable or method `article_params&#39; for #&lt;ArticlesController:0x007ff45cebd680&gt;", "body": "<p>i'm having problems with my page I created .the message i get is above.this is my articles controller.rb page code.learning ruby and the challenges it brings.i'm stuck in this section. And i've been having issues with section.once i post up my code.i don't know if i messed up my codes  or something like that.</p>\n\n<p>class ArticlesController &lt; ApplicationController</p>\n\n<pre><code>def index\n@articles = Article.all\nend\n\n  def new\n @article =Article.new\n  end\n\n  def edit\n    @article = Article.new(article_params[:id])\n  end\n\n\n\ndef create\n   @article =Article.new(article_params)\n   if@article.save\n     flash[:notice] = \"Article was successfully created\"\n   redirect_to article_path(@article)\n     else\n     render 'new'\n   end\n   end\n\n\n\n\n\n def update\n      @article =Article.find(params[:id])\n      if@article.update\n        flash[:notice] = \"Article was successfully updated\"\n        redirect_to article_path(@article)\n    else\n    render 'edit'\n\n\n\n end\nend\n\ndef show\n\n\n\n @article =Article.find(params[:id])\nend\nend\n</code></pre>\n\n<p>and this is the error page undefined local variable or method `article_params' for #</p>\n\n<p>Extracted source (around line #12):\n10\n11\n12\n13\n14\n15</p>\n\n<p>def edit\n    @article = Article.new(article_params[:id])\n  end</p>\n\n<pre><code>i get on ruby rails\n</code></pre>\n"}, {"tags": ["ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "edited": false, "score": 0, "creation_date": 1461798425, "post_id": 36902257, "comment_id": 61368951, "body": "Thanks, that fixed it up nicely."}, {"owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "edited": false, "score": 0, "creation_date": 1461799125, "post_id": 36902257, "comment_id": 61369141, "body": "If I wanted to destroy the category when I delete the grow, would I just do after_destroy and use the same argument?  -  Category.destroy(name: self.title)"}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "reply_to_user": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "edited": false, "score": 0, "creation_date": 1461822953, "post_id": 36902257, "comment_id": 61376017, "body": "well, you could do that. But i&#39;d prefer use <code>dependent: :destroy</code> for your association."}], "tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": true, "score": 2, "last_activity_date": 1461797113, "creation_date": 1461797113, "answer_id": 36902257, "question_id": 36902135, "link": "https://stackoverflow.com/questions/36902135/param-is-missing-or-the-value-is-empty-category/36902257#36902257", "title": "param is missing or the value is empty: category", "body": "<p>In your <code>create</code> method leave the statement to be \n<code>@grow = Grow.new(grow_params)</code></p>\n\n<p>and in your <code>Grow</code> model, write an <code>after_create</code> callback</p>\n\n<p>within which you create your <code>Category</code> like <code>Category.create(name: self.title)</code></p>\n"}], "owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 36902257, "answer_count": 1, "score": 0, "last_activity_date": 1461798404, "creation_date": 1461796458, "last_edit_date": 1461798404, "question_id": 36902135, "link": "https://stackoverflow.com/questions/36902135/param-is-missing-or-the-value-is-empty-category", "title": "param is missing or the value is empty: category", "body": "<p>Im trying to create a new Category based on the title of the 'grow' that im creating (for a garden management tool'</p>\n\n<p>But Im getting the following error:</p>\n\n<p>'param is missing or the value is empty: category'</p>\n\n<p>[edit] this is how the code is fixed.  As per the suggestion in the comments:</p>\n\n<p>remove the <code>@grow = Grow.new(grow_params.merge(category: Category.create(cat_params)))</code></p>\n\n<p>and replace with <code>@grow = Grow.new(grow_params)</code></p>\n\n<p>and in the Grow model add </p>\n\n<p><code>after_create do\n    Category.create(name: self.title)\n  end</code></p>\n\n<p>and its fixed.  </p>\n\n<pre><code>class GrowsController &lt; ApplicationController\nbefore_action :set_grow, only: [:show, :edit, :update, :destroy]\n\n\ndef index\n  @grows = Grow.all\nend\n\n\ndef show\nend\n\n\ndef new\n  @grow = Grow.new\nend\n\n\ndef edit\nend\n\n\ndef create\n  @grow = Grow.new(grow_params.merge(category: Category.create(cat_params)))\n\n  respond_to do |format|\n    if @grow.save\n      format.html { redirect_to @grow, notice: 'Grow was successfully created.' }\n      format.json { render :show, status: :created, location: @grow }\n    else\n      format.html { render :new }\n      format.json { render json: @grow.errors, status: :unprocessable_entity }\n    end\n  end\nend\n\n# PATCH/PUT /grows/1\n# PATCH/PUT /grows/1.json\ndef update\n  respond_to do |format|\n    if @grow.update(grow_params)\n      format.html { redirect_to @grow, notice: 'Grow was successfully updated.' }\n      format.json { render :show, status: :ok, location: @grow }\n    else\n      format.html { render :edit }\n      format.json { render json: @grow.errors, status: :unprocessable_entity }\n    end\n  end\nend\n\n# DELETE /grows/1\n# DELETE /grows/1.json\ndef destroy\n  @grow.destroy\n  respond_to do |format|\n    format.html { redirect_to grows_url, notice: 'Grow was successfully destroyed.' }\n    format.json { head :no_content }\n   end\n  end\n\nprivate\n  # Use callbacks to share common setup or constraints between actions.\n\n  def set_grow\n    @grow = Grow.find(params[:id])\n  end\n  def cat_params\n    params.require(:category).permit(:name)\n  end\n    def grow_params\n      params.require(:grow).permit(:title, :notes, :category_id)\n    end\n  end\n</code></pre>\n\n<p>I simply want to pass in the grow.title to new category name\nHowever im not sure how to implement it.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "activemodel"], "comments": [{"owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "edited": false, "score": 0, "creation_date": 1461797523, "post_id": 36902094, "comment_id": 61368714, "body": "whats mean <code>&lt;test for alerted&gt;</code>, can u explain it, pls ?"}, {"owner": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "reply_to_user": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "edited": false, "score": 0, "creation_date": 1461797699, "post_id": 36902094, "comment_id": 61368758, "body": "It is a method that checks in redis for the presence of and ID.   It is not that useful, because if the method was returning wrong values, it would be either throwing an exception or would reach check_alerted log empty."}, {"owner": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "reply_to_user": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "edited": false, "score": 0, "creation_date": 1461797749, "post_id": 36902094, "comment_id": 61368777, "body": "Is there a chance of association_name be empty in the validation stage, and filled later in the persistence cycle even though it is injected in the create command?"}], "answers": [{"comments": [{"owner": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "edited": false, "score": 0, "creation_date": 1461797045, "post_id": 36902193, "comment_id": 61368541, "body": "Sorry, the code is not complete. The creation is running in Sidekiq, but the validation is in the model. Just fixing the question."}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "reply_to_user": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "edited": false, "score": 0, "creation_date": 1461797429, "post_id": 36902193, "comment_id": 61368680, "body": "It&#39;s in the model but you&#39;re referring to an instance variable <code>@record</code>?"}, {"owner": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "edited": false, "score": 0, "creation_date": 1461862661, "post_id": 36902193, "comment_id": 61403572, "body": "It was not the correct answer, though it was useful and I though the problem was with my logs search."}], "tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 2, "last_activity_date": 1461797254, "last_edit_date": 1461797254, "creation_date": 1461796774, "answer_id": 36902193, "question_id": 36902094, "link": "https://stackoverflow.com/questions/36902094/model-fails-in-validation-but-is-created/36902193#36902193", "title": "Model fails in validation but is created", "body": "<p>Adding errors to a record does NOT make it invalid.  In fact when the model is validated before save,  all previous errors including the one you're adding in your code are erased. </p>\n\n<p>Do this validation in the model... Not in the worker.  </p>\n\n<pre><code>validate :check_alerted\n\ndef check_alerted\n   return if association_name.to_a.empty?\n    alerted = test \n    if &lt;test for alerted&gt; \n      errors.add(:base, \"It was alerted recently\") \n   end \nend\n</code></pre>\n"}], "owner": {"reputation": 3769, "user_id": 707894, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e08d48f2c4011e254f34dfb457811df?s=128&d=identicon&r=PG", "display_name": "felipeclopes", "link": "https://stackoverflow.com/users/707894/felipeclopes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461868563, "creation_date": 1461796261, "last_edit_date": 1461868563, "question_id": 36902094, "link": "https://stackoverflow.com/questions/36902094/model-fails-in-validation-but-is-created", "title": "Model fails in validation but is created", "body": "<p>I'm facing an issue for a long time now. The code I have is the following:</p>\n\n<pre><code>class BrokenModel &lt; ActiveRecord::Base\n  validates_with BrokenValidator\n\n  has_many :association_name\nend\n\nclass BrokenValidator &lt; ActiveModel::Validator\n  def validate record\n    @record = record\n\n    check_alerted\n  end\n\n  private\n\n  def check_alerted\n    return if @record.association_name.to_a.empty?\n\n    alerted = &lt;test for alerted&gt;\n    if alerted\n      @record.errors[:base] &lt;&lt; \"It was alerted recently\"\n    end\n\n    p \"check_alerted: #{@record.errors[:base]}\"\n  end\nend\n</code></pre>\n\n<p>worker.rb</p>\n\n<pre><code>[...]\nBrokenModel.create(association_name: [model1, model2])\n[...]\n</code></pre>\n\n<p>In my logs for the last print is shows that the validation passed only once, but I have actually multiple entries created for this model with <code>association_name</code> present.</p>\n\n<p>My environment is running this in multiple threads and multiple cores, but as the entries are created minutes away from each other, it is not a concurrency issue, unless an exception in a separated thread is affecting the model creation.</p>\n\n<p>Just for curiosity sake, this is running in a Sidekiq worker.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>So I noticed in my logs, that it might be a concurrency issue. So here is what is happening:</p>\n\n<ul>\n<li>instance 1 validation: alerted recently: failed (It was alerted recently)</li>\n<li>instance 2 validation: alerted recently: passed</li>\n<li>instance 2 validation: other validation: failed (Other validation)</li>\n<li>instance 2 creation errors: It was alerted recently + Other validation</li>\n<li>instance 1 creation errors: None</li>\n</ul>\n\n<p>Any clue if there is any kind of thread unsafety in ActiveModel::Validator or the @record might be overwritten/shared by other threads?</p>\n"}, {"tags": ["ruby", "selenium-webdriver", "capybara", "selenium-chromedriver", "chrome-options"], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 1114316, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06e975030aea275f490873ba3acbfb0b?s=128&d=identicon&r=PG", "display_name": "bcar", "link": "https://stackoverflow.com/users/1114316/bcar"}, "edited": false, "score": 0, "creation_date": 1461802018, "post_id": 36902811, "comment_id": 61369977, "body": "Thanks for catching that spelling mistake. It was wrong throughout, but its fixed. I clearly wasn&#39;t paying attention. I&#39;ll give your suggestions a try!"}, {"owner": {"reputation": 775, "user_id": 1114316, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06e975030aea275f490873ba3acbfb0b?s=128&d=identicon&r=PG", "display_name": "bcar", "link": "https://stackoverflow.com/users/1114316/bcar"}, "edited": false, "score": 0, "creation_date": 1461867366, "post_id": 36902811, "comment_id": 61406460, "body": "Thanks everyone it appeared to be a permissions problem."}], "tags": [], "owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "is_accepted": true, "score": 3, "last_activity_date": 1461800683, "creation_date": 1461800683, "answer_id": 36902811, "question_id": 36901891, "link": "https://stackoverflow.com/questions/36901891/chromeoptions-to-not-prompt-for-download-when-running-remotedriver/36902811#36902811", "title": "ChromeOptions To Not Prompt For Download When Running RemoteDriver", "body": "<p>try removing the / from the end of the default_directory and also setting directory_upgrade: true.  Other than that make sure the browser has permission to write to the selected directory (note also the correct spelling of preferences)</p>\n\n<pre><code> preferences = {\n      :download =&gt; {\n        :default_directory =&gt; '/home/john.doe/Downloads',\n        :directory_upgrade =&gt; true,\n        :prompt_for_download =&gt; false, \n\n      }\n    }\ncaps = Selenium::WebDriver::Remote::Capabilities.chrome(\n  'chromeOptions' =&gt; {'prefs' =&gt; preferences}\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36788, "user_id": 2887618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e643417e67e5a3bb9f659e4491ed26b0?s=128&d=identicon&r=PG&f=1", "display_name": "Florent B.", "link": "https://stackoverflow.com/users/2887618/florent-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1461802553, "creation_date": 1461802553, "answer_id": 36903098, "question_id": 36901891, "link": "https://stackoverflow.com/questions/36901891/chromeoptions-to-not-prompt-for-download-when-running-remotedriver/36903098#36903098", "title": "ChromeOptions To Not Prompt For Download When Running RemoteDriver", "body": "<p>Here is an example to download a file with Capybara / Selenium / Chrome :</p>\n\n<pre><code>require 'capybara'\nrequire 'selenium-webdriver'\n\nCapybara.register_driver :chrome do |app|\n  Capybara::Selenium::Driver.new(app,\n    :url =&gt; \"http://localhost:4444/wd/hub\",\n    :browser =&gt; :chrome,\n    :desired_capabilities =&gt; Selenium::WebDriver::Remote::Capabilities.chrome(\n      'chromeOptions' =&gt; {\n        'prefs' =&gt; {\n          'download.default_directory' =&gt; File.expand_path(\"C:\\\\Download\"),\n          'download.directory_upgrade' =&gt; true,\n          'download.prompt_for_download' =&gt; false,\n          'plugins.plugins_disabled' =&gt; [\"Chrome PDF Viewer\"]\n        }\n      }\n    )\n  )\nend\n\nsession = Capybara::Session.new(:chrome)\nsession.visit \"https://www.mozilla.org/en-US/foundation/documents\"\nsession.click_link \"IRS Form 872-C\"\n\nsleep 20\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 1114316, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06e975030aea275f490873ba3acbfb0b?s=128&d=identicon&r=PG", "display_name": "bcar", "link": "https://stackoverflow.com/users/1114316/bcar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1815, "favorite_count": 0, "accepted_answer_id": 36902811, "answer_count": 2, "score": 0, "last_activity_date": 1461802553, "creation_date": 1461795305, "question_id": 36901891, "link": "https://stackoverflow.com/questions/36901891/chromeoptions-to-not-prompt-for-download-when-running-remotedriver", "title": "ChromeOptions To Not Prompt For Download When Running RemoteDriver", "body": "<p>I'm trying to debug why when running remote webdriver tests on a headless linux host download dialogs are presented in chrome. I believe the chrome version is 45.</p>\n\n<p>Couple of Env Details</p>\n\n<ol>\n<li>Selenium 2.53 (gem) </li>\n<li>Selenium 2.53 Server Jar</li>\n<li>Chrome Driver 2.21</li>\n</ol>\n\n<p>The framework/Tests are written in Ruby utilizing Capybara for driving web tests. Here is a brief snippet of how the remote driver is initialized.</p>\n\n<pre><code>            prefernces = {\n          :download =&gt; {\n            :prompt_for_download =&gt; false, \n            :default_directory =&gt; '/home/john.doe/Downloads/'\n          }\n        }\n        caps = Selenium::WebDriver::Remote::Capabilities.chrome()\n        caps['chromeOptions'] = {'prefs' =&gt; prefernces}\n\n      http_client = Selenium::WebDriver::Remote::Http::Default.new\n      http_client.timeout = 240\n      options = {\n        browser: :remote,\n        url: \"http://&lt;server_url&gt;:4444/wd/hub\",\n        desired_capabilities: caps,\n        http_client: http_client\n      }\n      # Returns Remote Driver\n      Capybara::Selenium::Driver.new(app, options)\n</code></pre>\n\n<p>I have verified via the hub that the chromeOptions are set, but when a file is downloaded, we're presented with a file dialog prompt.  </p>\n\n<p>I've burned the candle looking for a solution to this problem.  Thanks for the help and consideration!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "inheritance", "module", "super"], "comments": [{"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 1, "creation_date": 1461795433, "post_id": 36901868, "comment_id": 61367906, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2597643/ruby-super-keyword\">ruby super keyword</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3020, "user_id": 4493564, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-ZrR5HKgzmQA/AAAAAAAAAAI/AAAAAAAAA2Y/YxH3F9m512U/photo.jpg?sz=128", "display_name": "Petr Gazarov", "link": "https://stackoverflow.com/users/4493564/petr-gazarov"}, "edited": false, "score": 0, "creation_date": 1463934104, "post_id": 36902041, "comment_id": 62264749, "body": "Thank you! And sorry for my late answer. The problem with this is that I need to call only the module&#39;s method (without running the class&#39;s method). On other occassions, I need to call only the class method, without running the module&#39;s method..."}, {"owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "reply_to_user": {"reputation": 3020, "user_id": 4493564, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-ZrR5HKgzmQA/AAAAAAAAAAI/AAAAAAAAA2Y/YxH3F9m512U/photo.jpg?sz=128", "display_name": "Petr Gazarov", "link": "https://stackoverflow.com/users/4493564/petr-gazarov"}, "edited": false, "score": 0, "creation_date": 1464113368, "post_id": 36902041, "comment_id": 62347416, "body": "You have a few options. What it sounds like you really want is two methods that can be called in different places. If that is not enough, you might try to use Refinements. Refinements are similar to monkey patches but have a much more limited scope of influence. I wrote a post about <a href=\"http://jakeyesbeck.com/2015/12/13/ruby-refinements/\" rel=\"nofollow noreferrer\">using Ruby Refinements</a> that might be a helpful introduction."}], "tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": false, "score": 1, "last_activity_date": 1461796026, "creation_date": 1461796026, "answer_id": 36902041, "question_id": 36901868, "link": "https://stackoverflow.com/questions/36901868/call-method-of-included-module-from-class/36902041#36902041", "title": "Call method of included module from class", "body": "<p>To property use the <code>included</code> method, you'll need your <code>B</code> module to <code>extend ActiveSupport::Concern</code> but that won't give you the behaviour you want.</p>\n\n<p>If I were you I'd abandon that pattern and use simple native Ruby module patterns:</p>\n\n<pre><code>module B    \n  def do_one_thing\n    puts 'in module'\n    # ...\n  end\n\n  # some other methods\nend\n\nclass A\n  include B\n\n  def do_one_thing  \n    super  \n    puts 'in class'\n    # override module's method. do something different instead\n  end\n\n  def do_another_thing\n    do_one_thing\n    # Call `do_one_thing` from here,\n    # but call the module's method, not the one I overrode above.\n  end\nend\n\nA.new.do_one_thing\n</code></pre>\n\n<p>The above code will correctly use the module inheritance you are looking for.</p>\n\n<p><a href=\"http://jakeyesbeck.com/2015/07/05/composition-in-ruby/\" rel=\"nofollow\">Read more about Ruby module inheritance here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1553, "user_id": 4149820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb809f7e739416524f3c380fe8f4fe45?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4149820/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797704, "last_edit_date": 1461797704, "creation_date": 1461796223, "answer_id": 36902082, "question_id": 36901868, "link": "https://stackoverflow.com/questions/36901868/call-method-of-included-module-from-class/36902082#36902082", "title": "Call method of included module from class", "body": "<p>You can 'save' included method before override </p>\n\n<pre><code>module B\n  extend ActiveSupport::Concern\n\n  included do\n    def do_one_thing\n      puts 'do_one_thing'\n    end\n  end\nend\n\nclass A\n  include B\n\n  alias_method :old_do_one_thing, :do_one_thing\n  def do_one_thing\n    puts \"I'd rather do this\"\n  end\n\n  def do_another_thing\n    old_do_one_thing\n  end\nend\n\na= A.new\na.do_one_thing\na.do_another_thing\n</code></pre>\n"}], "owner": {"reputation": 3020, "user_id": 4493564, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-ZrR5HKgzmQA/AAAAAAAAAAI/AAAAAAAAA2Y/YxH3F9m512U/photo.jpg?sz=128", "display_name": "Petr Gazarov", "link": "https://stackoverflow.com/users/4493564/petr-gazarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461797704, "creation_date": 1461795203, "question_id": 36901868, "link": "https://stackoverflow.com/questions/36901868/call-method-of-included-module-from-class", "title": "Call method of included module from class", "body": "<p>I have a use case where I have <code>class A</code> which includes <code>module B</code>.</p>\n\n<pre><code>class A\n  include B\n\n  def do_one_thing\n    # override module's method. do something different instead\n  end\n\n  def do_another_thing\n    # Call `do_one_thing` from here,\n    # but call the module's method, not the one I overrode above.\n  end\nend\n\nmodule B\n  included do\n    def do_one_thing\n      # ...\n    end\n  end\n\n  # some other methods\nend\n</code></pre>\n\n<p>As shown above, I'm calling <code>do_one_thing</code> from <code>do_another_thing</code>. My problem is that I need to call the module's method (i.e. the <code>super</code> method). Is this possible in Rails?</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 622, "user_id": 5261664, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/87375db07c5bd508669792fc54ba23ad?s=128&d=identicon&r=PG&f=1", "display_name": "rwehresmann", "link": "https://stackoverflow.com/users/5261664/rwehresmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1461970481, "creation_date": 1461970481, "answer_id": 36948689, "question_id": 36901863, "link": "https://stackoverflow.com/questions/36901863/losing-references-in-an-avl-tree/36948689#36948689", "title": "Losing references in an AVL tree", "body": "<p>I'm not sure yet about the reason of my problem, but I reimplemented the AVL tree in what I believe to be a better way. It worked, and my main lesson is: if you are implementing a tree, it's a smart choice create the methods to manipulate a node (insert, update and so on) in the node class itself! That sound obvious, but is not so obvious at the first time you do. </p>\n\n<p>Here is the new version of my class:</p>\n\n<pre><code>class AVLTree\n  class Node\n    attr_accessor :right, :left\n    attr_accessor :key, :height\n\n    def initialize(key = nil, height = nil)\n      @key = key\n      @height = height\n      @left = @right = EmptyNode.new\n    end\n\n    def insert(key)\n      case key &lt;=&gt; @key\n      when -1\n        @left = @left.insert(key)\n        @left.height = self.height + 1\n      when 0\n        @value = value\n      when 1\n        @right = @right.insert(key)\n        @right.height = self.height + 1\n      else\n        raise TypeError, \"Cannot compare #{key} with #{@key}\"\n      end\n      balance\n    end\n\n    def balance\n      balanceFactor = balance_factor\n      return self if balanceFactor &gt;= -1 &amp;&amp; balanceFactor &lt;= 1\n      if balanceFactor &gt; 1\n        if @right.balance_factor &lt; 0\n          @right = @right.rotate_right\n          root = rotate_left\n        else\n          root = rotate_left\n        end\n      else\n        if @left.balance_factor &gt; 0\n          @left = @left.rotate_left\n          root = rotate_right\n        else\n          root = rotate_right\n        end\n      end\n      root\n    end\n\n    def balance_factor\n      leftSize = @left.nil? ? 0 : deepest_node(@left).height\n      rightSize = @right.nil? ? 0 : deepest_node(@right).height\n      rightSize - leftSize\n    end\n\n    def deepest_node(node = self, deepest = self)\n      return deepest if node.nil?\n      if node.height &gt; deepest.height then deepest = node else deepest end\n      right = deepest_node(node.left, deepest)\n      left = deepest_node(node.right, deepest)\n      right.height &gt; left.height ? right : left\n    end\n\n    def rotate_left\n      raise \"The node have not right child to do a left rotation\" if @right.key.nil?\n      root = @right\n      @right = root.left\n      root.height = @height\n      root.left = self\n      root.left.update_height(1)\n      root.right.update_height(-1)\n      root\n    end\n\n    def rotate_right\n      root = @left\n      @left = root.right\n      root.height = @height\n      root.right = self\n      root.left.update_height(-1)\n      root.right.update_height(1)\n      root\n    end\n\n    def update_height(value)\n      @height += value\n      @left.update_height(value)\n      @right.update_height(value)\n    end\n\n    class EmptyNode &lt; Node\n      def initialize\n        @key = nil\n        @height = 0\n      end\n\n      def insert(key)\n        Node.new(key, 0)\n      end\n\n      def update_height(value)\n      end\n    end\n  end\n\n  attr_accessor :root\n\n  def initialize\n    @root = Node::EmptyNode.new\n  end\n\n  def insert(key)\n    @root = @root.insert(key)\n  end\n\n  def print_tree(node = @root)\n    return if node.key.nil?\n    puts \"#{node.left.nil? || node.left.key.nil? ? 'null' : node.left.key} - #{node.nil? || node.key.nil? ? 'null' : node.key}(L#{node.height}) - #{node.right.nil? || node.right.key.nil? ? 'null' : node.right.key}\"\n    print_tree(node.left)\n    print_tree(node.right)\n  end\n\n  # sequence = left, root and right of each sub-tree\n  def in_order(node = @root, sequence = [])\n    return sequence if node.key.nil?\n    in_order(node.left, sequence)\n    sequence &lt;&lt; [node.key, node.height]\n    in_order(node.right, sequence)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 622, "user_id": 5261664, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/87375db07c5bd508669792fc54ba23ad?s=128&d=identicon&r=PG&f=1", "display_name": "rwehresmann", "link": "https://stackoverflow.com/users/5261664/rwehresmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 36948689, "answer_count": 1, "score": 0, "last_activity_date": 1461970481, "creation_date": 1461795196, "last_edit_date": 1461820922, "question_id": 36901863, "link": "https://stackoverflow.com/questions/36901863/losing-references-in-an-avl-tree", "title": "Losing references in an AVL tree", "body": "<p>I have this class:</p>\n\n<pre><code>class AVLTree\n  class Node\n    attr_accessor :value, :height\n    attr_accessor :left, :right\n\n    def initialize(value, height)\n      @value = value\n      @height = height\n    end\n  end\n\n  attr_accessor :root\n\n  def initialize\n    @root = Node.new(nil, 0)\n  end\n\n  # Right rotation of the tree\n  def right_rotation(node = @root)\n    begin\n      root = node.left\n      node.left = root.right\n      root.height = node.height\n      root.right = node\n      update_subtrees_height(root.right, root.height)\n      update_subtrees_height(root.left, root.height)\n    rescue Exception =&gt; e\n      puts \"Tree not able to do a right rotation: #{e.message}\"\n      puts e.backtrace.inspect\n    end\n    root\n  end\n\n  # Left rotation of the tree\n  def left_rotation(node = @root)\n    begin\n      root = node.right\n      node.right = root.left\n      root.height = node.height\n      root.left = node\n      update_subtrees_height(root.right, root.height)\n      update_subtrees_height(root.left, root.height)\n    rescue Exception =&gt; e\n      puts \"Tree not able to do a left rotation: #{e.message}\"\n      puts e.backtrace.inspect\n    end\n    root\n  end\n\n  # Update the height of the elements of a sub-tree and all other sub-tree of its side\n  def update_subtrees_height(node, height)\n    return if node.nil?\n    node.height = height + 1\n    update_subtrees_height(node.left, node.height)\n    update_subtrees_height(node.right, node.height)\n  end\n\n  def balance_factor(node = @root)\n    leftSize = node.left.nil? ? 0 : deepest_node(node.left).height\n    rightSize = node.right.nil? ? 0 : deepest_node(node.right).height\n    rightSize - leftSize\n  end\n\n  def balance(node = @root)\n    balanceFactor = balance_factor(node)\n    return node if balanceFactor &lt;= 1 &amp;&amp; balanceFactor &gt;= -1\n    if balanceFactor &gt; 1\n      if balance_factor(node.right) &lt; 0\n        node.right = right_rotation(node.right)\n        node = left_rotation(node)\n      else\n        node = left_rotation(node)\n      end\n    else\n      if balance_factor(node.left) &gt; 0\n        node.left = right_rotation(node.left)\n        node = left_rotation(node)\n      else\n        node = right_rotation(node)\n      end\n    end\n  end\n\n  def print_tree(node = @root)\n    return if node.nil?\n    puts \"#{node.left.nil? ? 'null' : node.left.value} - #{node.nil? ? 'null' : node.value}(L#{node.height}) - #{node.right.nil? ? 'null' : node.right.value}\"\n    print_tree(node.left)\n    print_tree(node.right)\n  end\n\n  def deepest_node(node = @root, deepest = @root)\n    return deepest if node.nil?\n    if node.height &gt; deepest.height then deepest = node else deepest end\n    right = deepest_node(node.left, deepest)\n    left = deepest_node(node.right, deepest)\n    right.height &gt; left.height ? right : left\n  end\n\n  def insert(value, node = @root)\n    case value &lt;=&gt; node.value\n    when -1\n      if node.left.nil?\n        node.left = Node.new(value, node.height + 1)\n      else\n        insert(value, node.left)\n        node = balance(node.left)\n      end\n    when 1\n      if node.right.nil?\n        node.right = Node.new(value, node.height + 1)\n      else\n        insert(value, node.right)\n        node = balance(node)\n      end\n    else\n      node.value = value\n    end\n  end\n\nend\n</code></pre>\n\n<p>I'm doing this test:</p>\n\n<pre><code>a = AVLTree.new\n\n[1,2,3,4,5].each do |v|\n  a.insert v\nend\n\na.print_tree a.root\n</code></pre>\n\n<p>My expected output is</p>\n\n<pre><code>   1 - 2(H0) - 4\nnull - 1(H1) - null\n   3 - 4(H1) - 5\nnull - 3(H2) - null\nnull - 5(H2) - null\n</code></pre>\n\n<p>who represet the tree below:</p>\n\n<pre><code>     2\n    / \\\n   1   4\n      / \\\n     3   5\n</code></pre>\n\n<p>The output that I have is:</p>\n\n<pre><code>null - 1(H2) - null\n</code></pre>\n\n<p>Debugging the code, I descovered that the problem occurs in my <code>insert</code> method, every time when I call the line <code>node = balance(node.left)</code>. At this time I lose the references of the tree. </p>\n\n<p>The <code>balance</code> method it's ok in my tests. For example:</p>\n\n<p>When I insert the 3 at the tree, I have </p>\n\n<pre><code>  1\n   \\\n    2\n     \\\n      3\n</code></pre>\n\n<p>and then I call the balance with the node 1, receiving the expected tree</p>\n\n<pre><code>   2\n  / \\\n 1   3\n</code></pre>\n\n<p>The logic that I thought is: every time when I insert a value in the tree, I will check its balance and fix it, if necessary. With the recursivity of my <code>insert</code> method, I will check the tree upwards, starting one point above from the inserted node. In the example above, when I go to node 1 and balance it, the <code>balance</code> method will return a new node with the 2 like the root of this sub-tree, with my old node receiving that.</p>\n\n<p>That happens, but for some reason, the root node of the AVL tree lost references to other nodes. Any ideia of how can I fix that?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 1, "creation_date": 1461794147, "post_id": 36901595, "comment_id": 61367327, "body": "<b>Describe the problem.</b> &quot;It doesn&#39;t work&quot; is not a problem statement. Tell us what the expected behavior should be. Tell us what the exact wording of the error message is, and which line of code is producing it. Put a brief summary of the problem in the title of your question. <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "reply_to_user": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 1, "creation_date": 1461794302, "post_id": 36901595, "comment_id": 61367413, "body": "For every loop, it should save like <code>@data.round1=a, @data.round2=b...</code>"}, {"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 0, "creation_date": 1461794520, "post_id": 36901595, "comment_id": 61367519, "body": "<b>Describe the problem.</b> Tell us what the exact wording of the error message is, and which line of code is producing it. stackoverflow.com/help/mcve"}], "answers": [{"comments": [{"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 0, "creation_date": 1461795369, "post_id": 36901765, "comment_id": 61367868, "body": "they should also really not be using count, but instead <code>@data.send(&quot;round#{k}=&quot;, v)</code>"}], "tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": true, "score": 5, "last_activity_date": 1461796462, "last_edit_date": 1461796462, "creation_date": 1461794725, "answer_id": 36901765, "question_id": 36901595, "link": "https://stackoverflow.com/questions/36901595/dynamically-change-the-column-name-of-the-database-and-store-values-into-it-in-r/36901765#36901765", "title": "Dynamically change the column name of the database and store values into it in ruby on rails", "body": "<p>I believe your this line : <code>@data.(\"round\"+\"#{count}\")=v</code> is causing the error</p>\n\n<p>This is how you should be assigning attributes dynamically</p>\n\n<pre><code>if params[:round].present?\n  params[:round].each do |k,v|\n    @data.send(\"round#{k}=\", v)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 5728092, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8ab288c735af75db306ef2e0a5b7ee36?s=128&d=identicon&r=PG&f=1", "display_name": "BalajiB", "link": "https://stackoverflow.com/users/5728092/balajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 36901765, "answer_count": 1, "score": -1, "last_activity_date": 1461809890, "creation_date": 1461793947, "last_edit_date": 1461809890, "question_id": 36901595, "link": "https://stackoverflow.com/questions/36901595/dynamically-change-the-column-name-of-the-database-and-store-values-into-it-in-r", "title": "Dynamically change the column name of the database and store values into it in ruby on rails", "body": "<p>In my view page, i have hash of data in the format </p>\n\n<pre><code>\"round\"=&gt;{\"1\"=&gt;\"a\", \"2\"=&gt;\"b\", \"3\"=&gt;\"c\", \"4\"=&gt;\"d\"}\n</code></pre>\n\n<p>and I have four columns <code>round1,round2,round3 and round4</code></p>\n\n<p>Now dynamically I am storing these hash values into the these 4 columns.</p>\n\n<p>I am following the following way</p>\n\n<pre><code>if params[:round].present?\n    count=1\n    params[:round].each do |k,v|\n      @data.(\"round\"+\"#{count}\")=v\n      count+=1\n    end\n  end\n</code></pre>\n\n<p>here <code>@data=MgData.new()</code></p>\n\n<p>in the above code, i want to save it as <code>@data.round1=v,@data.round2=v....</code> but im ending up with error</p>\n"}, {"tags": ["ruby", "algorithm", "math"], "comments": [{"owner": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "edited": false, "score": 0, "creation_date": 1461794213, "post_id": 36901537, "comment_id": 61367364, "body": "define &quot;not working&quot;"}, {"owner": {"reputation": 2393, "user_id": 5252715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/173d75348dae4a3a945234ac0a528e37?s=128&d=identicon&r=PG", "display_name": "malexanders", "link": "https://stackoverflow.com/users/5252715/malexanders"}, "reply_to_user": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "edited": false, "score": 0, "creation_date": 1461794246, "post_id": 36901537, "comment_id": 61367378, "body": "returns the wrong value"}, {"owner": {"reputation": 2393, "user_id": 5252715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/173d75348dae4a3a945234ac0a528e37?s=128&d=identicon&r=PG", "display_name": "malexanders", "link": "https://stackoverflow.com/users/5252715/malexanders"}, "reply_to_user": {"reputation": 10812, "user_id": 1241782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/576b21d9efadc9217270e971fd6d5027?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/1241782/mike-s"}, "edited": false, "score": 0, "creation_date": 1461794374, "post_id": 36901537, "comment_id": 61367443, "body": "multply(1234,5678)  returns 7006652, which is the correct product. I am expecting #multiply_opt to return the same value when passed the same arguments."}, {"owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "edited": false, "score": 0, "creation_date": 1461800356, "post_id": 36901537, "comment_id": 61369478, "body": "Have you tried doing the operation by hand?  Can you get the right answer yourself?  If so, then have it do the operation and print out all of its intermediate work."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1461871316, "post_id": 36901537, "comment_id": 61408736, "body": "Your naming of variables for factor parts is, well, non intuitive to begin with, but where is <code>c</code> in <code>s3 = multiply_opt((a + b), (b + d))</code>?"}, {"owner": {"reputation": 2393, "user_id": 5252715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/173d75348dae4a3a945234ac0a528e37?s=128&d=identicon&r=PG", "display_name": "malexanders", "link": "https://stackoverflow.com/users/5252715/malexanders"}, "edited": false, "score": 0, "creation_date": 1461887109, "post_id": 36901537, "comment_id": 61415422, "body": "Good catch greybeard!"}], "answers": [{"comments": [{"owner": {"reputation": 2393, "user_id": 5252715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/173d75348dae4a3a945234ac0a528e37?s=128&d=identicon&r=PG", "display_name": "malexanders", "link": "https://stackoverflow.com/users/5252715/malexanders"}, "edited": false, "score": 0, "creation_date": 1461996783, "post_id": 36910108, "comment_id": 61461091, "body": "Thanks for the input. Why does the 3 digit number need to split as 2 and 1?"}, {"owner": {"reputation": 401, "user_id": 2309267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01687f8250aecf739302cf73818ab1d5?s=128&d=identicon&r=PG", "display_name": "jvanstry", "link": "https://stackoverflow.com/users/2309267/jvanstry"}, "edited": false, "score": 0, "creation_date": 1478210524, "post_id": 36910108, "comment_id": 68074097, "body": "I believe the second line of the function should read n = [x.to_s.length, y.to_s.length].min rather than a call to max."}, {"owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "reply_to_user": {"reputation": 401, "user_id": 2309267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01687f8250aecf739302cf73818ab1d5?s=128&d=identicon&r=PG", "display_name": "jvanstry", "link": "https://stackoverflow.com/users/2309267/jvanstry"}, "edited": false, "score": 0, "creation_date": 1478241084, "post_id": 36910108, "comment_id": 68082474, "body": "@jvanstry: No. In the combination (2,8) of lengths, this would generate a split of (7,1) in the second number. Notice that the above is only a proof-of-concept implementation. In a real implementation the numbers would be BigIntegers implemented as arrays of integer type. Then the split in the middle of the largest guarantees that the assembly in the last line has minimal overlap."}], "tags": [], "owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1462113522, "last_edit_date": 1462113522, "creation_date": 1461834546, "answer_id": 36910108, "question_id": 36901537, "link": "https://stackoverflow.com/questions/36901537/karatsuba-multiplication-optimization-in-ruby-failing/36910108#36910108", "title": "Karatsuba Multiplication Optimization in Ruby - Failing", "body": "<p>Your problem is that you define separate <code>x_mid</code> and <code>y_mid</code> which is wrong. And that the split has to happen at the same places, i.e., at <code>n/2</code>, seen from the <strong>lower</strong> digits.</p>\n\n<p>Where your example fails is at the 3rd multiplication, since the operands there have 2 and 3 digits. The split should separate the last digit. With your method, the 3 digit number is split as 1 and 2 digits, which is wrong.</p>\n\n<hr>\n\n<p><strong>Further details:</strong> Karatsuba starts with the idea to split your numbers as </p>\n\n<pre><code>x = x1*M+x0\ny = y1*M+y0\n</code></pre>\n\n<p>so that the product</p>\n\n<pre><code>x*y = x1*y1*M^2+((x1+x0)*(y1+y0)-x1*y1-x0*y0)*M + x0*y0\n</code></pre>\n\n<p>can be computed using three multiplications of smaller numbers. Popular is using <code>M=B^k</code> with the number base <code>B</code>, so that <code>x0</code> and <code>y0</code> contain the lowest <code>k</code> digits of <code>x</code> and <code>y</code>.</p>\n\n<p>In your example, you have to decide to either use <code>k=1</code> or <code>k=2</code> consistently, by the design of Karatsuba one would demand that <code>x,y&lt;M^2</code>, which implies <code>k=2</code>.</p>\n\n<hr>\n\n<p>With these ideas in mind, your algorithm should be modified to</p>\n\n<pre><code>def multiply_opt(x, y)\n  # Not sure if this base case is correct...\n  return x * y if x.to_s.length &lt;= 1 || y.to_s.length &lt;= 1\n\n  # Not sure exactly how to define n\n  n = [x.to_s.length, y.to_s.length].max\n  k = (n+1) / 2\n\n  x_mid = x.to_s.length - k\n  y_mid = y.to_s.length - k\n\n  a = x.to_s[0..x_mid-1].to_i\n  b = x.to_s[x_mid..-1].to_i\n  c = y.to_s[0..y_mid-1].to_i\n  d = y.to_s[y_mid..-1].to_i\n\n  # Recursive Calls\n  s1 = multiply_opt(a,c)\n  s2 = multiply_opt(b,d)\n  s3 = multiply_opt((a + b),(c + d))\n  s4 = s3 - s1 - s2\n\n  (10**(2*k))*s1 + (10**k * s4) + s2\nend\n</code></pre>\n\n<p>The splitting and reconstruction statements in the first method should be modified accordingly.</p>\n"}], "owner": {"reputation": 2393, "user_id": 5252715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/173d75348dae4a3a945234ac0a528e37?s=128&d=identicon&r=PG", "display_name": "malexanders", "link": "https://stackoverflow.com/users/5252715/malexanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1462113522, "creation_date": 1461793717, "last_edit_date": 1461794675, "question_id": 36901537, "link": "https://stackoverflow.com/questions/36901537/karatsuba-multiplication-optimization-in-ruby-failing", "title": "Karatsuba Multiplication Optimization in Ruby - Failing", "body": "<p>Multiplying 2 numbers of N digits where N is an even number. multiply(1234,5678) returns 7006652, which is the correct product. #multiply_opt should return the same value when passed the same arguments, but it does not. </p>\n\n<p>Any ideas are always hugely appreciated!</p>\n\n<pre><code>def multiply(x, y)\n  return x * y if x.to_s.length &lt;= 1 &amp;&amp; y.to_s.length &lt;= 1\n\n  n = x.to_s.length\n\n  x_mid = x.to_s.length / 2\n  y_mid = y.to_s.length / 2\n\n  a = x.to_s[0..x_mid-1].to_i\n  b = x.to_s[x_mid..-1].to_i\n  c = y.to_s[0..y_mid-1].to_i\n  d = y.to_s[y_mid..-1].to_i\n\n  ac = multiply(a,c)\n  ad = multiply(a,d)\n  bc = multiply(b,c)\n  bd = multiply(b,d)\n\n  ((10**n) * ac) + (10**(n/2) * (ad + bc)) + bd\nend\n\ndef multiply_opt(x, y)\n  # Not sure if this base case is correct...\n  return x * y if x.to_s.length &lt;= 1 || y.to_s.length &lt;= 1\n\n  # Not sure exactly how to define n\n  n = [x.to_s.length, y.to_s.length].max\n\n  x_mid = x.to_s.length / 2\n  y_mid = y.to_s.length / 2\n\n  a = x.to_s[0..x_mid-1].to_i\n  b = x.to_s[x_mid..-1].to_i\n  c = y.to_s[0..y_mid-1].to_i\n  d = y.to_s[y_mid..-1].to_i\n\n  # Recursive Calls\n  s1 = multiply_opt(a,c)\n  s2 = multiply_opt(b,d)\n  s3 = multiply_opt((a + b),(b + d))\n  s4 = s3 - s1 - s2\n\n  (10**n)*s1 + (10**(n/2)* s4) + s2\nend\n</code></pre>\n"}, {"tags": ["ruby", "macos", "imagemagick", "rmagick", "xz"], "comments": [{"owner": {"reputation": 1553, "user_id": 4149820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb809f7e739416524f3c380fe8f4fe45?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4149820/thomas"}, "edited": false, "score": 0, "creation_date": 1461794628, "post_id": 36901297, "comment_id": 61367569, "body": "does imagemagick work properly outside of ruby?"}, {"owner": {"reputation": 31, "user_id": 6221033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ae5d5284daf4845c8f7ca2160c55d7?s=128&d=identicon&r=PG&f=1", "display_name": "tecz", "link": "https://stackoverflow.com/users/6221033/tecz"}, "reply_to_user": {"reputation": 1553, "user_id": 4149820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb809f7e739416524f3c380fe8f4fe45?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4149820/thomas"}, "edited": false, "score": 0, "creation_date": 1461795260, "post_id": 36901297, "comment_id": 61367825, "body": "I just tested, and ImageMagick itself is working. I converted an image to a smaller size via command line and it working just fine."}, {"owner": {"reputation": 1553, "user_id": 4149820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb809f7e739416524f3c380fe8f4fe45?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4149820/thomas"}, "edited": false, "score": 0, "creation_date": 1461795444, "post_id": 36901297, "comment_id": 61367911, "body": "Unless you really need rmagick, you can try mini_magick. It is using command line so it should work"}, {"owner": {"reputation": 31, "user_id": 6221033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ae5d5284daf4845c8f7ca2160c55d7?s=128&d=identicon&r=PG&f=1", "display_name": "tecz", "link": "https://stackoverflow.com/users/6221033/tecz"}, "reply_to_user": {"reputation": 1553, "user_id": 4149820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb809f7e739416524f3c380fe8f4fe45?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4149820/thomas"}, "edited": false, "score": 0, "creation_date": 1461795675, "post_id": 36901297, "comment_id": 61368000, "body": "Unfortunately for now I need rmagick :( I&#39;m trying to debug an app written by someone else that is using rmagick"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6221033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ae5d5284daf4845c8f7ca2160c55d7?s=128&d=identicon&r=PG&f=1", "display_name": "tecz", "link": "https://stackoverflow.com/users/6221033/tecz"}, "is_accepted": true, "score": 2, "last_activity_date": 1461878718, "creation_date": 1461878718, "answer_id": 36925719, "question_id": 36901297, "link": "https://stackoverflow.com/questions/36901297/imagemagick-unable-to-start-because-of-incompatible-version-of-liblzma/36925719#36925719", "title": "ImageMagick unable to start because of incompatible version of liblzma", "body": "<p>Ok, I figured this out.</p>\n\n<p>For some reason, ImageMagick, rmagick, and/or passenger were finding the system copy of liblzma.5.dylib located at <strong>/usr/lib</strong>, rather than the copy homebrew setup at <strong>/usr/local/lib</strong> (despite the error message saying it was looking in /usr/local/lib).</p>\n\n<p>I figured this out by running the otool command on both copies of liblzma.5.dylib.</p>\n\n<p>For <code>/usr/local/lib/liblzma.5.dylib</code>:</p>\n\n<pre><code>otool -L /usr/local/lib/liblzma.5.dylib\n/usr/local/lib/liblzma.5.dylib:\n  /usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.2.0)\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n</code></pre>\n\n<p>For <code>/usr/lib/liblzma.5.dylib</code>:</p>\n\n<pre><code>otool -L /usr/lib/liblzma.5.dylib\n/usr/lib/liblzma.5.dylib:\n  /usr/lib/liblzma.5.dylib (compatibility version 6.0.0, current version 6.3.0)\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n</code></pre>\n\n<p>After a system restart, the ImageMagick/rmagick/passenger started to use the right copy of liblzma.5.dylib.</p>\n"}], "owner": {"reputation": 31, "user_id": 6221033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ae5d5284daf4845c8f7ca2160c55d7?s=128&d=identicon&r=PG&f=1", "display_name": "tecz", "link": "https://stackoverflow.com/users/6221033/tecz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "accepted_answer_id": 36925719, "answer_count": 1, "score": 1, "last_activity_date": 1461878718, "creation_date": 1461792697, "last_edit_date": 1461795920, "question_id": 36901297, "link": "https://stackoverflow.com/questions/36901297/imagemagick-unable-to-start-because-of-incompatible-version-of-liblzma", "title": "ImageMagick unable to start because of incompatible version of liblzma", "body": "<p>I'm trying to setup a server to serve a Ruby app that uses ImageMagick and the RMagick gem. The server is running OS X 10.10. I have another server that is running the same versions of everything (OS, ImageMagick, xz, and the RMagick gem) that is working as expected.</p>\n\n<p>However, everytime I try to serve the app from the new server, I receive an error saying that 'Web application could not be started', with the following trace:</p>\n\n<pre><code>dlopen(/Users/user/.rvm/gems/ruby-2.1.5@app/extensions/x86_64-darwin-14/2.1.0-static/rmagick-2.15.4/RMagick2.bundle, 9):\n   Library not loaded: /usr/local/lib/liblzma.5.dylib\nReferenced from: /usr/local/opt/imagemagick/lib/libMagickCore-6.Q16.2.dylib\nReason: Incompatible library version: libMagickCore-6.Q16.2.dylib requires version 8.0.0 or later, but liblzma.5.dylib provides version 6.0.0 - /Users/user/.rvm/gems/ruby-2.1.5@app/extensions/x86_64-darwin-14/2.1.0-static/rmagick-2.15.4/RMagick2.bundle (LoadError)\n</code></pre>\n\n<p>Basically, it looks like ImageMagick is looking for version 8.0.0 of liblzma, but only finding version 6.0.0.</p>\n\n<p>ImageMagick and xz are installed using Homebrew -- according to other answered questions, the xz package should have liblzma 8.0.0.</p>\n\n<p>I have tried uninstalling and re-installing ImageMagick, the rmagick gem, and xz (the package the liblzma is served from) to no avail.</p>\n\n<p>Please let me know if you need any more information.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> The output of running <code>otool</code> on /usr/local/lib/liblzma.5.dylib:</p>\n\n<pre><code>otool -L /usr/local/lib/liblzma.5.dylib\n/usr/local/lib/liblzma.5.dylib:\n  /usr/local/opt/xz/lib/liblzma.5.dylib (compatibility version 8.0.0, current version 8.2.0)\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1213.0.0)\n</code></pre>\n\n<p>I'm even more confused.. it is clearly over version 8.0.0.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "rails-activerecord"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1461827040, "post_id": 36901161, "comment_id": 61378179, "body": "Please consider accepting an answer to informs others when your issue is resolved."}], "answers": [{"tags": [], "owner": {"reputation": 4243, "user_id": 4638378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pGqPN.png?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/4638378/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1461793475, "last_edit_date": 1495541770, "creation_date": 1461793475, "answer_id": 36901472, "question_id": 36901161, "link": "https://stackoverflow.com/questions/36901161/rails-displaying-published-items-and-unpublished-items-of-current-user-as-activ/36901472#36901472", "title": "Rails: Displaying published items and unpublished items of current user as ActiveRecord::Relation", "body": "<p>Based on the discussion in <a href=\"https://stackoverflow.com/questions/3684311/rails-how-to-chain-scope-queries-with-or-instead-of-and\">Rails: How to chain scope queries with OR instead of AND?</a> I think you have at least four options:</p>\n\n<p>1) Write a scope that combines your existing ones, something like:</p>\n\n<pre><code>scope :published_or_unpublished_by_user, -&gt; (user_id) { where('status = ? OR (status != ? and user = ?)', 'published', 'published', user_id) }\n</code></pre>\n\n<p>2) Use a gem like <a href=\"https://github.com/activerecord-hackery/squeel\" rel=\"nofollow noreferrer\">squeel</a>.</p>\n\n<p>3) Use <a href=\"https://github.com/rails/arel\" rel=\"nofollow noreferrer\">arel</a>.</p>\n\n<p>4) Wait for the <code>.or</code> syntax coming in Rails 5.</p>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "edited": false, "score": 0, "creation_date": 1461794447, "post_id": 36901474, "comment_id": 61367474, "body": "<code>@items</code> is an <code>Array</code>, so I can&#39;t do <code>@items.find(params[:id])</code>"}, {"owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "reply_to_user": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "edited": false, "score": 0, "creation_date": 1461794788, "post_id": 36901474, "comment_id": 61367627, "body": "after <code>@items = Item.published</code> becomes array of objects, u are not able to use activerecord method to find it. also thats index page, how u getting <code>params[:id]</code>, r u searching it ?"}, {"owner": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "edited": false, "score": 0, "creation_date": 1461795190, "post_id": 36901474, "comment_id": 61367789, "body": "Yes, of course. I can. But this is not what I would get. See other answers. Thanks."}, {"owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "reply_to_user": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "edited": false, "score": 0, "creation_date": 1461795457, "post_id": 36901474, "comment_id": 61367921, "body": "yeah, i see. probably i misunderstand the question. glad u fixed it."}], "tags": [], "owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "is_accepted": false, "score": 1, "last_activity_date": 1461794146, "last_edit_date": 1461794146, "creation_date": 1461793486, "answer_id": 36901474, "question_id": 36901161, "link": "https://stackoverflow.com/questions/36901161/rails-displaying-published-items-and-unpublished-items-of-current-user-as-activ/36901474#36901474", "title": "Rails: Displaying published items and unpublished items of current user as ActiveRecord::Relation", "body": "<p>I see, you are trying to find unpublished items from current user. You can do it in my scope.</p>\n\n<pre><code>scope :current_user_not_published, -&gt;(user_id) \n      {where('status != ? AND user = ?', 'published', user_id)}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code># Item controller\ndef index\n @published_items = Item.published\n @current_user_unpublished_utems = Item.current_user_not_published(current_user.id)\nend\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>#in this case it will be @items[0] published, @items[1] c.not_published\n\ndef index\n  @items = [Item.published, Item.current_user_not_published(current_user.id)]\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "edited": false, "score": 0, "creation_date": 1461794737, "post_id": 36901502, "comment_id": 61367608, "body": "Thanks, you made my day!"}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 2, "last_activity_date": 1461794557, "last_edit_date": 1461794557, "creation_date": 1461793576, "answer_id": 36901502, "question_id": 36901161, "link": "https://stackoverflow.com/questions/36901161/rails-displaying-published-items-and-unpublished-items-of-current-user-as-activ/36901502#36901502", "title": "Rails: Displaying published items and unpublished items of current user as ActiveRecord::Relation", "body": "<p>Rails 4.x doesn't support <code>OR</code> or <code>UNION</code> queries yet, therefore I would suggest a new scope that combines the other scopes with subqueries (the database should be able to optimize them):</p>\n\n<pre><code># in the model\nscope :visible_for_user, -&gt;(user) {\n  where(\n    'items.id IN (?) OR items.id IN (?)',\n    Item.published, Item.unpublished.by_user(user.id)\n  )\n}\n\n# in the controller\n@items = Item.visible_for_user(current_user)\n</code></pre>\n\n<p>Please note that the above is a general solution when you want to union existing scope. In this specific example you might get a better performance with a optimized scope:</p>\n\n<pre><code>scope :visible_for_user, -&gt;(user) { \n  where(\"items.status = 'published' OR items.user_id = ?\", user.id)\n}\n</code></pre>\n"}], "owner": {"reputation": 178, "user_id": 2389398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/423a9be451f61e7211e7c7c4cd57831e?s=128&d=identicon&r=PG", "display_name": "mamantoha", "link": "https://stackoverflow.com/users/2389398/mamantoha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 1, "accepted_answer_id": 36901472, "answer_count": 3, "score": 1, "last_activity_date": 1461794557, "creation_date": 1461792207, "question_id": 36901161, "link": "https://stackoverflow.com/questions/36901161/rails-displaying-published-items-and-unpublished-items-of-current-user-as-activ", "title": "Rails: Displaying published items and unpublished items of current user as ActiveRecord::Relation", "body": "<p>I wanted to know is it possible to do the following 2 things at once:</p>\n\n<ul>\n<li>View all items with status <code>published</code>.</li>\n<li>View items for current user with any status.</li>\n</ul>\n\n<p>I have this code:</p>\n\n<pre><code># Item model\nscope :published, -&gt; { where(status: 'published') }\nscope :unpublished, -&gt; { where.not(status: 'published') }\nscope :by_user, -&gt; (user_id) { where(user: user_id) }\n\n# Item controller\ndef index\n @items = Item.published + Item.unpublished.by_user(current_user.id)\nend\n</code></pre>\n\n<p>The problem is that <code>@items</code> are an <code>Array</code>, but I want <code>ActiveRecord::Relation</code>.</p>\n\n<p>If you want to know why I need this, it's a simple answer:</p>\n\n<pre><code>@items.find(params[:id])\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "spree"], "answers": [{"comments": [{"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 1, "creation_date": 1461795403, "post_id": 36900813, "comment_id": 61367888, "body": "I assume this is a Rails app?  <code>slice</code> and <code>except</code> are methods added to the Hash class when Rails is loaded; they do not exist on Ruby&#39;s Hash class out of the box."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 1, "creation_date": 1461809006, "post_id": 36900813, "comment_id": 61371716, "body": "@KeithBennett The original code has references to <a href=\"https://github.com/spree/spree\" rel=\"nofollow noreferrer\">Spree</a> which is a full Rails application."}], "tags": [], "owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "is_accepted": true, "score": 6, "last_activity_date": 1461790889, "creation_date": 1461790889, "answer_id": 36900813, "question_id": 36900694, "link": "https://stackoverflow.com/questions/36900694/how-can-i-reject-or-allow-only-certain-keys-in-a-hash/36900813#36900813", "title": "How can I reject or allow only certain keys in a Hash?", "body": "<p>You're after <a href=\"http://api.rubyonrails.org/classes/Hash.html#method-i-slice\" rel=\"noreferrer\"><code>Hash#slice</code></a>:</p>\n\n<pre><code>def images\n  images = object.story.get_spree_product.master.images\n  images.map do |image|\n    image.slice(\"position\", \"attachment_file_name\", \"...\")\n  end\nend\n</code></pre>\n\n<p>This lets you \"whitelist\" the keys to include in the returned hash. If there are more values to approve than to reject, then you can do the opposite and list only the keys to reject using <a href=\"http://api.rubyonrails.org/classes/Hash.html#method-i-except\" rel=\"noreferrer\"><code>Hash#except</code></a>.</p>\n\n<p>In either case, you might find it easier to store the list of allowable keys as a separate array, and splat it in with <code>*</code>:</p>\n\n<pre><code>ALLOWED_KEYS = %w(position attachment_file_name attachment_content_type ...)\n\ndef images\n  object.story.get_spree_product.master.images.map do |image|\n    image.slice(*ALLOWED_KEYS)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 8818, "user_id": 2714301, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/23c7ba1f14e71e14f65b7b95516b0f19?s=128&d=identicon&r=PG", "display_name": "Jwan622", "link": "https://stackoverflow.com/users/2714301/jwan622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 36900813, "answer_count": 1, "score": 0, "last_activity_date": 1461809022, "creation_date": 1461790465, "last_edit_date": 1461809022, "question_id": 36900694, "link": "https://stackoverflow.com/questions/36900694/how-can-i-reject-or-allow-only-certain-keys-in-a-hash", "title": "How can I reject or allow only certain keys in a Hash?", "body": "<p>I have this method that tries to select out certain field from each hashie::mash object (each image is a hashie::mash object) but not all of them.</p>\n\n<pre><code>  def images\n        images = object.story.get_spree_product.master.images\n        images.map do |image|\n          {\n            position: image[\"position\"],\n            attachment_file_name: image[\"attachment_file_name\"],\n            attachment_content_type: image[\"attachment_content_type\"],\n            type: image[\"type\"],\n            attachment_width: image[\"attachment_width\"],\n            attachment_height: image[\"attachment_height\"],\n            attachment_updated_at: image[\"attachment_updated_at\"],\n            mini_url: image[\"mini_url\"],\n            small_url: image[\"small_url\"],\n            product_url: image[\"product_url\"],\n            large_url: image[\"large_url\"],\n            xlarge_url: image[\"xlarge_url\"]\n          }\n        end\n      end\n</code></pre>\n\n<p>Is there an easier way to do this?</p>\n\n<p>images is an array of hashie::mash objects.</p>\n\n<pre><code>object.story.get_spree_product.master.images.first.class\nHashie::Mash &lt; Hashie::Hash\n[15] pry(#&lt;Api::V20150315::RecipeToolSerializer&gt;)&gt; object.story.get_spree_product.master.images.count\n2\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "erb"], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 2108339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDIVG.jpg?s=128&g=1", "display_name": "lalo", "link": "https://stackoverflow.com/users/2108339/lalo"}, "edited": false, "score": 0, "creation_date": 1461790177, "post_id": 36900557, "comment_id": 61365374, "body": "see <a href=\"http://guides.rubyonrails.org/action_controller_overview.html\" rel=\"nofollow noreferrer\">controller &#39;s filter</a>"}, {"owner": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "edited": false, "score": 0, "creation_date": 1461790472, "post_id": 36900557, "comment_id": 61365546, "body": "I moved <code>before_save :set_bscode</code> and <code>def set_bscode</code> into the model (eliminating the error), but then <code>&lt;h3&gt;&lt;%= @user.bscode %&gt;&lt;&#47;h3&gt;</code> gets a no method error in <code>users#show</code>..."}, {"owner": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "edited": false, "score": 0, "creation_date": 1461792417, "post_id": 36900557, "comment_id": 61366535, "body": "Unfortunately I&#39;m still getting a <code>NoMethodError</code> in <code>Users#show</code> saying <code>undefined method &#39;bscode&#39;</code>"}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "edited": false, "score": 0, "creation_date": 1461792582, "post_id": 36900557, "comment_id": 61366611, "body": "which table does <code>bscode</code> belong to? and what is the association between <code>User</code> and <code>QuizBs</code>"}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "edited": false, "score": 0, "creation_date": 1461792759, "post_id": 36900557, "comment_id": 61366701, "body": "I&#39;m asking this because according to you code, it seems <code>bscode</code> is an attribute of the <code>QuizBs</code> model. Whereas in your view you are calling it on a <code>User</code> object"}, {"owner": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "edited": false, "score": 0, "creation_date": 1461793037, "post_id": 36900557, "comment_id": 61366822, "body": "I edited the original post with additional information."}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "edited": false, "score": 0, "creation_date": 1461793079, "post_id": 36900557, "comment_id": 61366840, "body": "so shouldn&#39;t you be using <code>@user.quiz_bs.bscode</code> in your view"}, {"owner": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "edited": false, "score": 0, "creation_date": 1461793207, "post_id": 36900557, "comment_id": 61366897, "body": "That got rid of all the error messages (thank you!), but it still doesn&#39;t actually display the string on the <code>show.html.erb</code> page..."}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "reply_to_user": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "edited": false, "score": 0, "creation_date": 1461793258, "post_id": 36900557, "comment_id": 61366928, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/110438/discussion-between-alfie-and-liz\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": true, "score": 6, "last_activity_date": 1461790752, "last_edit_date": 1461790752, "creation_date": 1461790014, "answer_id": 36900557, "question_id": 36900495, "link": "https://stackoverflow.com/questions/36900495/ruby-on-rails-undefined-method-before-save/36900557#36900557", "title": "Ruby on Rails: undefined method &#39;before_save&#39;", "body": "<p><code>before_save</code> is to be used in your model.</p>\n\n<p>It is an ActiveRecord Callback, which is triggered when you save your model object.</p>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html\" rel=\"nofollow\">http://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html</a></p>\n\n<p>You should be using the following code in you Model</p>\n\n<pre><code>before_save :set_bscode\n\ndef set_bscode\n  self.bscode = \"#{self.bs01}#{self.bs02}#{self.bs03}-#{self.bs04}#{self.bs05}#{self.bs06}\"\nend\n</code></pre>\n"}], "owner": {"reputation": 1139, "user_id": 4468463, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mFyjG.jpg?s=128&g=1", "display_name": "Liz", "link": "https://stackoverflow.com/users/4468463/liz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3182, "favorite_count": 0, "accepted_answer_id": 36900557, "answer_count": 1, "score": 1, "last_activity_date": 1461793009, "creation_date": 1461789824, "last_edit_date": 1461793009, "question_id": 36900495, "link": "https://stackoverflow.com/questions/36900495/ruby-on-rails-undefined-method-before-save", "title": "Ruby on Rails: undefined method &#39;before_save&#39;", "body": "<p>I am trying to combine several variables (integer answers for a multiple choice quiz) into one string that shows the results (e.g. \"614-131\").</p>\n\n<p>I have the following in my <strong>QuizBsController</strong>:</p>\n\n<pre><code>class QuizBsController &lt; ApplicationController\n  before_action :require_sign_in\n  before_save :set_bscode\n\n  def set_bscode\n    self.bscode = \"#{bs01}#{bs02}#{bs03}-#{bs04}#{bs05}#{bs06}\"\n  end\n\n  def show\n    @quiz_bs = QuizBs.find(params[:id])\n  end\n\n  def new\n    @quiz_bs = QuizBs.new\n  end\n\n  def create\n    @quiz_bs = QuizBs.new\n\n    @quiz_bs.bs01 = params[:quiz_bs][:bs01]\n    @quiz_bs.bs02 = params[:quiz_bs][:bs02]\n    @quiz_bs.bs03 = params[:quiz_bs][:bs03]\n    @quiz_bs.bs04 = params[:quiz_bs][:bs04]\n    @quiz_bs.bs05 = params[:quiz_bs][:bs05]\n    @quiz_bs.bs06 = params[:quiz_bs][:bs06]\n\n    @quiz_bs.user = current_user\n\n    if @quiz_bs.save\n      flash[:notice] = \"Quiz results saved successfully.\"\n      redirect_to user_path(current_user)\n    else\n      flash[:alert] = \"Sorry, your quiz results failed to save.\"\n      redirect_to welcome_index_path\n    end\n  end\n\n  def update\n    @quiz_bs = QuizBs.find(params[:quiz_bs])\n\n    @quiz_bs.assign_attributes(quiz_bs_params)\n\n    if @quiz_bs.save\n      flash[:notice] = \"Post was updated successfully.\"\n      redirect_to user_path(current_user)\n    else\n      flash.now[:alert] = \"There was an error saving the post. Please try again.\"\n      redirect_to welcome_index_path\n    end\n  end\n\n  private\n  def quiz_bs_params\n    params.require(:quiz_bs).permit(:bs01, :bs02, :bs03, :bs04, :bs05, :bs06)\n  end\n\nend\n</code></pre>\n\n<p>The string should eventually be displayed in the <code>show.html.erb</code> page of the users module:</p>\n\n<pre><code>  &lt;h4&gt;Body Structure&lt;/h4&gt;\n  &lt;h3&gt;&lt;%= @user.bscode %&gt;&lt;/h3&gt;\n</code></pre>\n\n<p>I am getting an Action Controller error stating <code>undefined method 'before_save' for QuizBsController:Class</code>.  Any idea where I'm going wrong?</p>\n\n<p><code>bscode</code> is an addition (from a later migration) to the 'QuizBs' table:</p>\n\n\n\n<pre><code>class AddBscodeToQuizBs &lt; ActiveRecord::Migration\n  def change\n    add_column :quiz_bs, :bscode, :string\n  end\nend\n</code></pre>\n\n<p><code>QuizBs</code> is set to <code>belongs_to :user</code> and a user <code>has_one :quiz_bs</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": true, "score": 7, "last_activity_date": 1461789444, "creation_date": 1461789444, "answer_id": 36900383, "question_id": 36900279, "link": "https://stackoverflow.com/questions/36900279/remove-from-decimal-ruby/36900383#36900383", "title": "Remove . from decimal ruby", "body": "<p>Just multiply the number by <code>100</code> and then do <a href=\"http://ruby-doc.org/core-2.0.0/String.html#method-i-to_i\">to_i</a> on the result:</p>\n\n<pre><code>f = 10.0\nn = (f * 100).to_i\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 838, "user_id": 4293498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-vL0LI3fnVaQ/AAAAAAAAAAI/AAAAAAAAAHk/XNooT0Gtww0/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4293498/chris"}, "is_accepted": false, "score": 3, "last_activity_date": 1564590870, "last_edit_date": 1564590870, "creation_date": 1461789503, "answer_id": 36900400, "question_id": 36900279, "link": "https://stackoverflow.com/questions/36900279/remove-from-decimal-ruby/36900400#36900400", "title": "Remove . from decimal ruby", "body": "<p>If it's a string:</p>\n\n<p><code>\"10.00\".gsub(\".\", \"\")</code></p>\n\n<p>If it's a decimal number</p>\n\n<p><code>(10.00 * 100).to_i</code> == 1000</p>\n\n<p>(10.00).to_floor</p>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 924827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SsP45.png?s=128&g=1", "display_name": "Katu", "link": "https://stackoverflow.com/users/924827/katu"}, "is_accepted": false, "score": 0, "last_activity_date": 1619187733, "creation_date": 1619187733, "answer_id": 67231708, "question_id": 36900279, "link": "https://stackoverflow.com/questions/36900279/remove-from-decimal-ruby/67231708#67231708", "title": "Remove . from decimal ruby", "body": "<p>Convert to string, replace dot, convert to int</p>\n<pre><code>my_number = 10.56\nmy_number_without_decimal_point = my_number.to_s().gsub(&quot;.&quot;, &quot;&quot;).to_i()\nputs &quot;#{my_number_without_decimal_point}&quot;\n</code></pre>\n<p>prints 1056</p>\n"}], "owner": {"reputation": 1839, "user_id": 1785897, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9YNmL.jpg?s=128&g=1", "display_name": "Igor Martins", "link": "https://stackoverflow.com/users/1785897/igor-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 36900383, "answer_count": 3, "score": -2, "last_activity_date": 1619187733, "creation_date": 1461789060, "question_id": 36900279, "link": "https://stackoverflow.com/questions/36900279/remove-from-decimal-ruby", "title": "Remove . from decimal ruby", "body": "<p>I have a decimal column <code>price</code>. I got two prices: <code>10.00</code> and <code>11.50</code></p>\n\n<p>I need to transform</p>\n\n<p><code>10.00</code> into <code>1000</code></p>\n\n<p><code>11.50</code>into <code>1150</code></p>\n\n<p>How I can do that in controller?</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "http-status-code-404"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461788634, "post_id": 36899994, "comment_id": 61364507, "body": "You&#39;re going to need to give at least a little bit of code here for context. Opening in a new window shouldn&#39;t cause an automatic 404 so long as your link isn&#39;t pure JavaScript."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461790536, "post_id": 36899994, "comment_id": 61365580, "body": "Any response that is returned from the controller that is not HTML. For example JS or JSON. Im not sure what kind of code you are looking for? Its a link and the controller returns JS."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461790552, "post_id": 36899994, "comment_id": 61365593, "body": "I have updated my question."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461791918, "post_id": 36899994, "comment_id": 61366290, "body": "You may need to put in some sort of useful HTML version to capture the case where someone opens it in a new tab. Your controller is JavaScript only."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461792410, "post_id": 36899994, "comment_id": 61366532, "body": "I was thinking that could be an option as well, unfortunately, some of those links are bootstrap modals and it would lose some of the look and feel of a regular application."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1461792907, "post_id": 36899994, "comment_id": 61366763, "body": "Unless you can prevent clicking and opening in a new tag, something that can be done by having no link but include a <code>click()</code> handler, you absolutely must produce something HTML-wise when it&#39;s clicked even if it&#39;s a &quot;how did you get here&quot; page."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461794192, "post_id": 36899994, "comment_id": 61367349, "body": "I&#39;m going to tinker with adding an instance variable to the controller that records all the params, overload the respond_to block with a generic index page and have some JS fire that reloads the content. Kinda hacky but I want that application &quot;look and feel&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1461790874, "post_id": 36900438, "comment_id": 61365755, "body": "This is probably the best answer. Unless anyone knows of a way to detect a control click from the controller action."}, {"owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "edited": false, "score": 0, "creation_date": 1461794287, "post_id": 36900438, "comment_id": 61367405, "body": "I will accept this answer if no one else comes up with anything by tomorrow."}, {"owner": {"reputation": 219, "user_id": 393334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c75b3286801431406ad80900d4c7e8?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/393334/mitch"}, "edited": false, "score": 0, "creation_date": 1461795406, "post_id": 36900438, "comment_id": 61367890, "body": "I don&#39;t know that anything is injected into the HTTP Headers when you control click but you could always confirm with some debugging."}, {"owner": {"reputation": 219, "user_id": 393334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c75b3286801431406ad80900d4c7e8?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/393334/mitch"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461795638, "post_id": 36900438, "comment_id": 61367988, "body": "@tadman, no it doesn&#39;t but I think this post addresses that (<a href=\"http://stackoverflow.com/questions/7554507/jquery-detect-mouse-click-and-open-target-in-new-tab\" title=\"jquery detect mouse click and open target in new tab\">stackoverflow.com/questions/7554507/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 219, "user_id": 393334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c75b3286801431406ad80900d4c7e8?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/393334/mitch"}, "is_accepted": false, "score": 2, "last_activity_date": 1461789627, "creation_date": 1461789627, "answer_id": 36900438, "question_id": 36899994, "link": "https://stackoverflow.com/questions/36899994/stop-ctrl-click-from-returning-404-for-modals-in-ruby-rails/36900438#36900438", "title": "Stop ctrl + click from returning 404 for modals in ruby/rails", "body": "<p>There's a couple of options but what I would suggest is using something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.js-non-tabbable-link').on('click', function(event) {\r\n  if (event.metaKey || event.ctrlKey){\r\n    console.log(\"NOPE\");\r\n    event.preventDefault();\r\n  } \r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;a href=\"#\" class='js-non-tabbable-link'&gt;Click Me&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1022, "user_id": 4190203, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ab42486428f113dcac28a2b3c289b4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Black", "link": "https://stackoverflow.com/users/4190203/peter-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461790661, "creation_date": 1461788034, "last_edit_date": 1461790661, "question_id": 36899994, "link": "https://stackoverflow.com/questions/36899994/stop-ctrl-click-from-returning-404-for-modals-in-ruby-rails", "title": "Stop ctrl + click from returning 404 for modals in ruby/rails", "body": "<p>Ruby/Rails Jquery</p>\n\n<p>Forcing a link to open in a new tab by pressing ctrl + click returns a 404 page when the response is not HTML. I would like to be able to throw an alert that says \"This link is not available in a new tab.\"</p>\n\n<p>What is the best way to accomplish this globally? I have already updated the high-use cases where the action is controlled by a JQuery 'on click' event, but I am looking for a more robust solution.</p>\n\n<p>Example:\nHTML:</p>\n\n<pre><code> &lt;a href=\"http://some_link/some_action\"&gt;some link&lt;/a&gt;\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code> def some_action\n   ...\n   respond_to do |format|\n     format.js\n   end\n end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "destroy"], "comments": [{"owner": {"reputation": 966, "user_id": 5350659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63535c11d66f71640d7a5a558b351d11?s=128&d=identicon&r=PG&f=1", "display_name": "Pitabas Prathal", "link": "https://stackoverflow.com/users/5350659/pitabas-prathal"}, "edited": false, "score": 3, "creation_date": 1461788602, "post_id": 36899989, "comment_id": 61364483, "body": "You can use paranoia gem for this functionality"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1461788892, "post_id": 36899989, "comment_id": 61364650, "body": "Change <code>update_attributes(...)</code> to <code>update_attributes!(...)</code> and try again. <code>update_attributes!</code> would raise an exception when the update fails. That exception tells you why the update failed (usually failing validation)."}, {"owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "edited": false, "score": 0, "creation_date": 1461789974, "post_id": 36899989, "comment_id": 61365254, "body": "No its not right its totally BAD! Whats your database association ?"}, {"owner": {"reputation": 219, "user_id": 393334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c75b3286801431406ad80900d4c7e8?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/393334/mitch"}, "edited": false, "score": 0, "creation_date": 1461790113, "post_id": 36899989, "comment_id": 61365339, "body": "Not to beat a dead horse but overwriting the delete functionality feels like a code smell.  If you want soft deletes I would look at the paranoid gem or at least use a method more appropriately named."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6105893, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a3df7ff9bbb1b204ac3664e7bd45e0d3?s=128&d=identicon&r=PG", "display_name": "Leandro Pons Malheiros", "link": "https://stackoverflow.com/users/6105893/leandro-pons-malheiros"}, "edited": false, "score": 1, "creation_date": 1461868895, "post_id": 36901785, "comment_id": 61407380, "body": "Okay! That way really looks more trustworthy and secure to do the soft delete. Thanks!!"}], "tags": [], "owner": {"reputation": 334, "user_id": 1248209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aba623e7ba198cc8479fea42d1a3f017?s=128&d=identicon&r=PG", "display_name": "Lockyy", "link": "https://stackoverflow.com/users/1248209/lockyy"}, "is_accepted": true, "score": 0, "last_activity_date": 1461794833, "last_edit_date": 1592644375, "creation_date": 1461794833, "answer_id": 36901785, "question_id": 36899989, "link": "https://stackoverflow.com/questions/36899989/problems-with-destroy-and-delete-functions-rails/36901785#36901785", "title": "Problems with Destroy and Delete functions Rails", "body": "<p>Your issue with the rolling back is likely related to a validation failure. You can find out what this is by changing <code>update_attributes</code> into <code>update_attributes!</code>This will throw an error when the validation fails and you can see what went wrong.</p>\n<p>Apart from that there are a few ways you can improve your code</p>\n<p>First off, rather than manually deleting a customer's contacts and address you can add dependent: :destroy to the relation.</p>\n<p>This works like so:</p>\n<pre><code>class Customer &lt; ActiveRecord::Base\n  has_many :contacts, dependent: :destroy\n  has_many :adresses, dependent: :destroy\nend\n\nclass Adress &lt; ActiveRecord::Base\n  has_many :telephones, dependent: :destroy\nend\n</code></pre>\n<p>When you call <code>.destroy</code> on a record it will call <code>.destroy</code> on any relations that have dependent: :destroy on them. <code>.delete</code> will not do this pass through, that is the major difference between them.</p>\n<p>By adding that to the above relations like so you can change your controller to this:</p>\n<pre><code>def destroy\n  @customer = Customer.find(params[:id])\n  if @customer.destroy\n    flash[:success] = &quot;Cliente exclu\u00eddo&quot;\n  else\n    flash[:danger] = &quot;Erro! O cliente n\u00e3o foi exclu\u00eddo.&quot;\n  end\n  redirect_to customers_path\nend\n</code></pre>\n<p>This will destroy the customer, it's adresses, and the addresses' telephones.</p>\n<h3>The non-permanent delete</h3>\n<p>To do a soft-delete like you want you should use the <a href=\"https://github.com/rubysherpas/paranoia\" rel=\"nofollow noreferrer\">Paranoia</a> gem.\nIt lets you assign a class with <code>acts_as_paranoid</code> so when you call <code>.delete</code> or <code>.destroy</code> it isn't really removed, it is just hidden and can be recovered later.</p>\n<p>It is well integrated with Activerecord so you won't need to do things like <code>Customer.where(status: true)</code> to get your non-deleted records, it just won't include deleted records by default. Although you can request them if you need.</p>\n<p>The gem's Github page does a really good job of explaining how to use it.</p>\n<p>By default it won't save the user that performed the deletion, just the time it was performed at. If you want to do that you should create a wrapper that calls delete after assigning the user that performed the deletion.</p>\n<p>Something like this should work:</p>\n<pre><code>def destroy_by(user)\n  update_attributes!(changed_by: user)\n  destroy\nend\n</code></pre>\n<p>Then you can change <code>@customer.destroy</code> in your controller to <code>@customer.destroy_by(current_user)</code></p>\n<p>There is no need to override or restrict delete or destroy.</p>\n"}], "owner": {"reputation": 47, "user_id": 6105893, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a3df7ff9bbb1b204ac3664e7bd45e0d3?s=128&d=identicon&r=PG", "display_name": "Leandro Pons Malheiros", "link": "https://stackoverflow.com/users/6105893/leandro-pons-malheiros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 36901785, "answer_count": 1, "score": 0, "last_activity_date": 1461794833, "creation_date": 1461788023, "question_id": 36899989, "link": "https://stackoverflow.com/questions/36899989/problems-with-destroy-and-delete-functions-rails", "title": "Problems with Destroy and Delete functions Rails", "body": "<p>I decided to change the destroy function on my app to just switch a Status field to false (The index and show actions only show the results with status: true).</p>\n\n<p>Well, I've changed this, and it worked at first, but now it's just \"rolling back\" before it complete the commit...</p>\n\n<p>The controller destroy :</p>\n\n<pre><code>def destroy\n@customer = Customer.find(params[:id])\n@contact = @customer.contacts\n@adress = @customer.adresses\n\nif @customer.delete(current_user)\n  @contact.each do |f|\n    f.delete(current_user)\n  end\n  @adress.each do |g|\n    @telephone = g.telephones\n    @telephone.each do |t|\n      t.delete(current_user)\n    end\n    g.delete(current_user)\n  end\n  flash[:success] = \"Cliente exclu\u00eddo\"\nelse\n  flash[:danger] = \"Erro! O cliente n\u00e3o foi exclu\u00eddo.\"\nend\nredirect_to customers_path\nend\n</code></pre>\n\n<p>The model delete :</p>\n\n<pre><code>def delete(user_id)\nupdate_attributes(status: false, changed_by: user_id, deleted_at: Time.now, updated_at: Time.now)\nend\n</code></pre>\n\n<p>Besides that I restricted the :destroy method only to Admin (Is that the right method? Why is it not delete?)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 6263445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S5u61.jpg?s=128&g=1", "display_name": "b-d-b", "link": "https://stackoverflow.com/users/6263445/b-d-b"}, "is_accepted": true, "score": 4, "last_activity_date": 1461850681, "last_edit_date": 1461850681, "creation_date": 1461788321, "answer_id": 36900066, "question_id": 36899790, "link": "https://stackoverflow.com/questions/36899790/structure-json-inside-controller/36900066#36900066", "title": "Structure json inside controller", "body": "<p>There are two things I see wrong.  First, you're using \"=\" operator to set a Ruby Hash value.  That's not correct, as Ruby hashes use symbols or strings.  So your hash values will need to look like this:</p>\n\n<pre><code>{ \"may_hash_key\" =&gt; my.has_value }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{ my_hash_key: my.hash_value }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{ :may_hash_key =&gt; my.has_value }\n</code></pre>\n\n<p>Take your pick.</p>\n\n<p>Additionally, if you are rendering JSON from your controller action, you can do something like this:</p>\n\n<pre><code>def index\n  # presumably some setup code\n  charge = {\n    items: @items.map do |item| {\n      name:   item.name,\n      value:  item.price,\n      amount: 2\n    } end\n  }\n  render json: charge\nend\n</code></pre>\n\n<p>If you are not rendering JSON from your controller action, what you can do is set @charge and interact with it as a Ruby hash in your view instead.</p>\n"}], "owner": {"reputation": 1839, "user_id": 1785897, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9YNmL.jpg?s=128&g=1", "display_name": "Igor Martins", "link": "https://stackoverflow.com/users/1785897/igor-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 36900066, "answer_count": 1, "score": 0, "last_activity_date": 1461850681, "creation_date": 1461787325, "question_id": 36899790, "link": "https://stackoverflow.com/questions/36899790/structure-json-inside-controller", "title": "Structure json inside controller", "body": "<p>I need to do a json structure like this, but with more than 1 items:</p>\n\n<pre><code>charge = {\n   items: [{\n    name: \"Product A\",\n    value: 1000,\n    amount: 2\n    }]\n}\n</code></pre>\n\n<p>I have an <code>@items</code> that is <code>@items.pluck(:name, :price)</code>\nAnd I'm trying to create my json like this:</p>\n\n<pre><code>  charge = {\n   items: [{\n    @items.each do |item|\n     'name:' = item.name,\n     'value:' = item.price,\n     'amount:' = 2\n    end\n    }]\n}\n</code></pre>\n\n<p>And return this error:</p>\n\n<pre><code>SyntaxError in CoursesController#qualquer\n\nsyntax error, unexpected '=', expecting keyword_end\n'name:' = item.name,\n</code></pre>\n\n<p>How i do this structure?</p>\n"}, {"tags": ["ruby", "json", "httprequest", "net-http"], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1461787041, "creation_date": 1461787041, "answer_id": 36899704, "question_id": 36899600, "link": "https://stackoverflow.com/questions/36899600/using-rubys-net-http-module-can-i-ever-send-raw-json-data/36899704#36899704", "title": "Using Ruby&#39;s Net/HTTP module, can I ever send raw JSON data?", "body": "<p>Although using something like <a href=\"https://github.com/lostisland/faraday\" rel=\"nofollow\">Faraday</a> is often a lot more pleasant, it's still doable with the Net::HTTP library:</p>\n\n<pre><code>require 'uri'\nrequire 'json'\nrequire 'net/http'\n\nurl = URI.parse(\"http://example.com/endpoint\")\n\nhttp = Net::HTTP.new(url.host, url.port)\n\ncontent = { test: 'content' }\n\nhttp.post(\n  url.path,\n  JSON.dump(content),\n  'Content-type' =&gt; 'application/json',\n  'Accept' =&gt; 'text/json, application/json'\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 623, "user_id": 2226323, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mXuLq.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/2226323/max"}, "is_accepted": true, "score": 0, "last_activity_date": 1461794460, "creation_date": 1461794460, "answer_id": 36901704, "question_id": 36899600, "link": "https://stackoverflow.com/questions/36899600/using-rubys-net-http-module-can-i-ever-send-raw-json-data/36901704#36901704", "title": "Using Ruby&#39;s Net/HTTP module, can I ever send raw JSON data?", "body": "<p>After reading tadman's answer above, I looked more closely at adding data directly to the body of the HTTP request. In the end, I did exactly that:</p>\n\n<pre><code>require 'uri'\nrequire 'json'\nrequire 'net/http'\n\njsonbody = '{\n             \"id\":50071,\"name\":\"qatest123456\",\"pricings\":[\n              {\"id\":\"dsb\",\"name\":\"DSB\",\"entity_type\":\"Other\",\"price\":6},\n              {\"id\":\"tokens\",\"name\":\"Tokens\",\"entity_type\":\"All\",\"price\":500}\n              ]\n            }'\n\n# Prepare request\nurl = server + \"/v1/entities\"\nuri = URI.parse(url)  \nhttp = Net::HTTP.new(uri.host, uri.port)\nhttp.set_debug_output( $stdout )\n\nrequest = Net::HTTP::Put.new(uri )\nrequest.body = jsonbody\nrequest.set_content_type(\"application/json\")\n\n# Send request\nresponse = http.request(request)\n</code></pre>\n\n<p>If you ever want to debug the HTTP request being sent out, use this code, verbatim: <strong>http.set_debug_output( $stdout )</strong>.  This is probably the easiest way to debug HTTP requests being sent through Ruby and it's very clear what is going on :)</p>\n"}], "owner": {"reputation": 623, "user_id": 2226323, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mXuLq.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/2226323/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1870, "favorite_count": 0, "accepted_answer_id": 36901704, "answer_count": 2, "score": 2, "last_activity_date": 1461794460, "creation_date": 1461786663, "question_id": 36899600, "link": "https://stackoverflow.com/questions/36899600/using-rubys-net-http-module-can-i-ever-send-raw-json-data", "title": "Using Ruby&#39;s Net/HTTP module, can I ever send raw JSON data?", "body": "<p>I've been doing a lot of research on the topic of sending JSON data through Ruby HTTP requests, compared to sending data and requests through Fiddler. <strong>My primary goal is to find a way to send a nested hash of data in an HTTP request using Ruby.</strong></p>\n\n<p>In Fiddler, you can specify a JSON in the request body and add the header \"Content-Type: application/json\".</p>\n\n<p>In Ruby, using Net/HTTP, I'd like to do the same thing if it's possible. I have a hunch that it isn't possible, because the only way to add JSON data to an http request in Ruby is by using <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/net/http/rdoc/Net/HTTPHeader.html#method-i-set_form_data\" rel=\"nofollow\">set_form_data</a>, which expects data in a hash. This is fine in most cases, but this function does not properly handle nested hashes (see the <a href=\"http://apidock.com/ruby/Net/HTTPHeader/set_form_data\" rel=\"nofollow\">comments</a> in this article).</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "heroku", "webserver", "webrick"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461787505, "post_id": 36899511, "comment_id": 61363827, "body": "If you&#39;re on OS X, <a href=\"http://pow.cx\" rel=\"nofollow noreferrer\">Pow</a> makes Rails a lot more pleasant."}, {"owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461788191, "post_id": 36899511, "comment_id": 61364242, "body": "Yes, I have used <code>pow</code> and still do with almost all my api builds. However, there is a big issue with me not being able to run <code>rails s</code> out of the gate on a newly created rails project. I did something to really mess up my ability to run webservers so the solution probably has to be something bigger than switching webservers or using workarounds."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461788435, "post_id": 36899511, "comment_id": 61364383, "body": "Remember that neither Pow nor <code>rails server</code> can deal with HTTPS out of the box. For that you&#39;ll need to layer something in front, like Apache httpd or Nginx. HTTPS is incompatible with HTTP, so they can&#39;t share the same port. It&#39;s highly unusual to do local development with HTTPS. Without a valid certificate I&#39;m not sure what you&#39;re trying to accomplish."}, {"owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461789546, "post_id": 36899511, "comment_id": 61365013, "body": "I have actually never paid attention to whether <code>pow</code> or <code>rails s</code> was using HTTPS or HTTP. I always just deployed w/ <code>heroku</code> used <code>rails s</code> for development. Now it seems that its trying to handle HTTPS and IDK what I did to make it do so or &#39;revert&#39; it back to the way it originally is..."}, {"owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461791457, "post_id": 36899511, "comment_id": 61366066, "body": "@tadman is there a way to reset webrick server of some sort? I think you are on the right track where I did something so that the server is now trying to run under HTTPS"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1461791954, "post_id": 36899511, "comment_id": 61366306, "body": "It&#39;s not the server trying to run under HTTPS, it&#39;s your URL that is HTTPS and WebBrick can&#39;t and shouldn&#39;t have to deal with that."}], "owner": {"reputation": 865, "user_id": 4766423, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a22a7fe122dc41bd7ef44fa3db2c45f?s=128&d=identicon&r=PG&f=1", "display_name": "Nappstir", "link": "https://stackoverflow.com/users/4766423/nappstir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2104, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1582659038, "creation_date": 1461786365, "last_edit_date": 1582659038, "question_id": 36899511, "link": "https://stackoverflow.com/questions/36899511/why-rails-server-not-working-because-of-ssl", "title": "Why Rails Server not working because of SSL?", "body": "<p>I'm working on an app currently and I attempted to replace my webserver <code>WEBrick</code> with <code>puma</code>. The application is currently deployed with <code>Heroku</code>. Also, while doing this I wanted to be able to run my <code>rails s</code> with production. To my understanding, I would need to set the <code>SECRET_KEY_BASE</code> key in my <code>secret.yaml</code> file. I did this while also setting up a <code>SECRET_TOKEN</code> in <code>heroku</code>. To make a long story short, I actually reverted back to <code>WEBrick</code> webserver. But now, when I run <code>rails s</code> production or development, I get the following:</p>\n\n<pre><code>=&gt; Booting WEBrick\n=&gt; Rails 4.2.5.1 application starting in development on http://localhost:3000\n=&gt; Run `rails server -h` for more startup options\n=&gt; Ctrl-C to shutdown server\n[2016-04-27 13:40:57] INFO  WEBrick 1.3.1\n[2016-04-27 13:40:57] INFO  ruby 2.2.0 (2014-12-25) [x86_64-darwin14]\n[2016-04-27 13:40:57] INFO  WEBrick::HTTPServer#start: pid=24061 port=3000\n</code></pre>\n\n<p>When trying to load the page at <code>https://localhost:3000/</code> I get the following errors in terminal:</p>\n\n<pre><code>[2016-04-27 13:41:09] ERROR bad URI `]n?Q2}N?&lt;\\x01H\\x00\\x00\\x1C?+?/\u0329\u0328?\\x14?\\x13?'.\n[2016-04-27 13:41:09] ERROR bad URI `dU?\\x00\\x00\\x1C?+?/\u0329\u0328?\\x14?\\x13?'.\n[2016-04-27 13:41:09] ERROR bad Request-Line `\\x16\\x03\\x01\\x00?\\x01\\x00\\x00?\\x03\\x03}??4??CN??\\x02\\x04?4?\\x17??\\ea??u%?\\x06?y\u0694\\x13?\\x00\\x00\\x1C?+?/\u0329\u0328?\\x14?\\x13?'.\n[2016-04-27 13:41:09] ERROR bad Request-Line `\\x16\\x03\\x01\\x00?\\x01\\x00\\x00?\\x03\\x03????3?W\\x14kt??0M\\x1A#U?\"u?\u00c4??qj?]}??\\x00\\x00\\x1C?+?/\u0329\u0328?\\x14?\\x13?'.\n[2016-04-27 13:41:09] ERROR bad Request-Line `\\x16\\x03\\x01\\x00?\\x01\\x00\\x00?\\x03\\x03?f\\x1E?V?4?'.\n[2016-04-27 13:41:09] ERROR bad Request-Line `\\x16\\x03\\x01\\x00?\\x01\\x00\\x00?\\x03\\x03??C?\u0754\\x01\\r?OS#?S??Ej?\\\\\\x15\\r\\x17k\\x0Ep?\\x1C?\"?F\\x00\\x00\\x1C?+?/\u0329\u0328?\\x14?\\x13?'.\n</code></pre>\n\n<p>And the following in my DOM:</p>\n\n<pre><code>This site can\u2019t provide a secure connection\nlocalhost sent an invalid response.\nERR_SSL_PROTOCOL_ERROR\n</code></pre>\n\n<p>So obviously I did something when setting up the <code>SECRET_TOKEN/SECRET_KEY_BASE</code> because before it was working and now not a single project of mine can run the <code>rails server</code>. I understand that this is dealing with SSL, but I am unsure where to begin or how to fix this. I have tried and read a lot and have yet to have some luck. </p>\n\n<p>SIDE NOTE: I have created a brand new rails project from scratch and simply tried to run <code>rails s</code>. I have had the same issue. As I commented below, I was having the same issue when trying to run <code>puma</code> as my webserver. I now cannot run a local server on ANY project of mine. This leads me to believe that I have messed something up that applies to my system. </p>\n\n<p>Thank you for any time taken/spent to help me. </p>\n\n<p>FIXED:</p>\n\n<p>Okay, so for whatever reason(something I did I'm sure), when I attempted to visit <code>localhost:3000</code> it would take me to -> <code>https://localhost:3000</code> which, as you stated, could not be handled by WEBrick unless configured to do so. My address bar continued to force HTTPS, even if I tried visiting <code>http://localhost:3000</code>. After I cleared my cookies/history...everything is working. I appreciate your help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hadoop", "amazon-web-services", "emr"], "answers": [{"tags": [], "owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "is_accepted": false, "score": 0, "last_activity_date": 1461786298, "creation_date": 1461786298, "answer_id": 36899492, "question_id": 36899395, "link": "https://stackoverflow.com/questions/36899395/cannot-run-program-files-in-directory-error-2-no-such-file-or-directo/36899492#36899492", "title": "Cannot run program &quot;-files&quot; (in directory &quot;.&quot;): error=2, No such file or directory", "body": "<p>Seems that adding hadoop-streaming works like below</p>\n\n<pre><code>emr = Aws::EMR::Client.new\n    cluster_id = \"*******\"\n    resp = emr.add_job_flow_steps({\n      job_flow_id: cluster_id, # required\n      steps: [ # required\n        {\n          name: \"TestStep\", # required\n          action_on_failure: \"CANCEL_AND_WAIT\", # accepts TERMINATE_JOB_FLOW, TERMINATE_CLUSTER, CANCEL_AND_WAIT, CONTINUE\n          hadoop_jar_step: { # required\n            jar: 'command-runner.jar',\n            args:[\n                \"hadoop-streaming\",\n                \"-files\",\n                \"s3://source123/mapper.py,s3://source123/source_reducer.py\",\n                \"-mapper\",\n                \"mapper.py\",\n                \"-reducer\",\n                \"source_reducer.py\",\n                \"-input\",\n                \"s3://source123/input/\",\n                \"-output\",\n                \"s3://source123/output/\"\n            ]\n          },\n        },\n      ],\n    })\n</code></pre>\n"}], "owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461786298, "creation_date": 1461785934, "question_id": 36899395, "link": "https://stackoverflow.com/questions/36899395/cannot-run-program-files-in-directory-error-2-no-such-file-or-directo", "title": "Cannot run program &quot;-files&quot; (in directory &quot;.&quot;): error=2, No such file or directory", "body": "<p>i am trying to run a step using aws sdk ruby for Amazon ElasticMapReduce service that uses hadoop, while i can create cluster and step, the step always fails but not when set manually using the web interface</p>\n\n<pre><code>emr = Aws::EMR::Client.new\n    cluster_id = \"*******\"\n    resp = emr.add_job_flow_steps({\n      job_flow_id: cluster_id, # required\n      steps: [ # required\n        {\n          name: \"TestStep\", # required\n          action_on_failure: \"CANCEL_AND_WAIT\", # accepts TERMINATE_JOB_FLOW, TERMINATE_CLUSTER, CANCEL_AND_WAIT, CONTINUE\n          hadoop_jar_step: { # required\n            jar: 'command-runner.jar',\n            args:[\n                \"-files\",\n                \"s3://source123/mapper.py,s3://source123/source_reducer.py\",\n                \"-mapper\",\n                \"mapper.py\",\n                \"-reducer\",\n                \"source_reducer.py\",\n                \"-input\",\n                \"s3://source123/input/\",\n                \"-output\",\n                \"s3://source123/output/\"\n            ]\n          },\n        },\n      ],\n    })\n</code></pre>\n\n<p>the error i get is this</p>\n\n<p><code>Cannot run program \"-files\" (in directory \".\"): error=2, No such file or directory</code></p>\n\n<p>any clues?</p>\n"}, {"tags": ["ruby", "elasticsearch", "logstash"], "comments": [{"owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1461813312, "post_id": 36899320, "comment_id": 61372871, "body": "Can you run logstash with the <code>--debug</code>  flag and maybe we can get more insights into what&#39;s going on?"}, {"owner": {"reputation": 235, "user_id": 3888665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a226fe55d2e0d387c58de1789e7e618?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stolf", "link": "https://stackoverflow.com/users/3888665/daniel-stolf"}, "reply_to_user": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1461866799, "post_id": 36899320, "comment_id": 61406169, "body": "That is very weird... When I tried executing with &#39;service logstash start&#39;, it didn&#39;t work, it just hangs there, as if there was no new file to read. When I executed &#39;/opt/logstash/bin/logstash -f yourconf.conf -v --debug --verbose&#39;, it worked... Any idea why?"}, {"owner": {"reputation": 235, "user_id": 3888665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a226fe55d2e0d387c58de1789e7e618?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stolf", "link": "https://stackoverflow.com/users/3888665/daniel-stolf"}, "reply_to_user": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1461866848, "post_id": 36899320, "comment_id": 61406195, "body": "Also, Kibana still won&#39;t let me index by any of the other time fields, just @timestamp"}], "owner": {"reputation": 235, "user_id": 3888665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a226fe55d2e0d387c58de1789e7e618?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stolf", "link": "https://stackoverflow.com/users/3888665/daniel-stolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461867462, "creation_date": 1461785690, "last_edit_date": 1461867462, "question_id": 36899320, "link": "https://stackoverflow.com/questions/36899320/reading-positional-file-with-logstash-converting-two-string-fields-to-date-app", "title": "Reading positional file with logstash, converting two string fields to date, applying math operation to another", "body": "<p>So, I have a positional file that looks like this</p>\n\n<pre><code>0100003074400003074400000000103000000000066167424000000000131527492000000000131527463C19860000000000000320160302201603300010019700XXXXXXXX XX XXXXXX            000000000133719971                                                                                                                                                                                                                                                                                                                                  \n02000008013000008013000000001010000000001327506142016033000000000000046053100000000013268252820160516000000000020091000000000066558874002002\n</code></pre>\n\n<p>And I want logstash to ship only the lines starting with '01' to elasticsearch. I've managed to do this by doing the following</p>\n\n<pre><code>filter {\n    # get only lines that start with 01 \n\n    if ([message] !~ \"^01\") {\n        drop{}\n    }\n\n    grok {\n          match =&gt; { \"message\" =&gt; \"^01(?&lt;n_estab&gt;.{9})(?&lt;n_filial&gt;.{9})(?&lt;depart&gt;.{9})(?&lt;prod&gt;.{2})(?&lt;id_apres&gt;.{18})(?&lt;id_mov&gt;.{18})(?&lt;id_mov_orig&gt;.{18})(?&lt;orig_int&gt;.{1})(?&lt;cod_oper&gt;.{1})(?&lt;cod_moeda&gt;.{3})(?&lt;valor&gt;.{14})(?&lt;date_trans&gt;.{8})(?&lt;date_agenda&gt;.{8})(?&lt;num_parcela&gt;.{3})(?&lt;qtd_parcelas&gt;.{3})(?&lt;cod_rub&gt;.{4})(?&lt;desc_rub&gt;.{30})(?&lt;id_pgto&gt;.{18})\" } \n    }\n\n    mutate {\n        strip =&gt; [\n          \"n_estab\",\n          \"n_filial\",\n          \"depart\",\n          \"prod\",\n          \"id_apres\",\n          \"id_mov\",\n          \"id_mov_orig\",\n          \"orig_int\",\n          \"cod_oper\",\n          \"cod_moeda\",\n          \"valor\",\n          \"date_trans\",\n          \"date_agenda\",\n          \"num_parcela\",\n          \"qtd_parcelas\",\n          \"cod_rub\",\n          \"desc_rub\",\n          \"id_pgto\"\n        ]\n        convert =&gt; {\n              \"n_estab\" =&gt; \"integer\"\n              \"n_filial\" =&gt; \"integer\"\n              \"depart\" =&gt; \"integer\"\n              \"prod\"  =&gt; \"integer\"\n              \"id_apres\" =&gt; \"integer\"\n              \"id_mov\" =&gt; \"integer\"\n              \"id_mov_orig\" =&gt; \"integer\"\n              \"orig_int\"  =&gt; \"string\"\n              \"cod_oper\"  =&gt; \"integer\"\n              \"cod_moeda\"  =&gt; \"integer\"\n              \"valor\"  =&gt; \"float\"\n              \"date_trans\" =&gt; \"string\"\n              \"date_agenda\" =&gt; \"string\"\n              \"num_parcela\"  =&gt; \"integer\"\n              \"qtd_parcelas\"  =&gt; \"integer\"\n              \"cod_rub\"  =&gt; \"integer\"\n              \"desc_rub\" =&gt; \"string\"\n              \"id_pgto\" =&gt; \"integer\"\n        }\n    }\n}\n</code></pre>\n\n<p>Now, I want to divide <code>valor</code> by 100 and convert fields <code>date_trans</code> and <code>date_agenda</code> from string to date format, so I can index by any of those fields on elasticsearch and kibana.</p>\n\n<p>I've tried adding the following lines to <code>filter</code></p>\n\n<pre><code>ruby { \n    code =&gt; \"event['valor'] = event['valor'] / 100\n        event['date_trans'] = Date.strptime(event['date_trans'], '%Y%m%d')\n        event['date_agenda'] = Date.strptime(event['date_agenda'], '%Y%m%d')\" \n}\n</code></pre>\n\n<p>After I've added those lines to my conf file, logstash starts, but doesn't parse any of my files... It simply hangs! Since I can add gibberish to the ruby code block and it won't alert me of anything, I figure it must be something with the ruby code, right...?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After executing </p>\n\n<pre><code>/opt/logstash/bin/logstash -f /etc/logstash/conf.d/subq_detliq.conf -v --debug --verbose\n</code></pre>\n\n<p>It started inserting into elasticsearch... Does logstash keeps which files it read somewhere and never come back to them?</p>\n\n<p>Also, this it what it's inserting into ES...</p>\n\n<pre><code>\"message\" =&gt; \"0100001504000001504000000000101000000000063916400000000000124569419000000000124569414C09860000000000011620151127201601260020029700XXXXXXXX XX XXXXXX            000000000128479123                                                                                                                                                                                                                                                                                                                                  \",\n    \"@version\" =&gt; \"1\",\n  \"@timestamp\" =&gt; \"2016-04-28T18:11:58.681Z\",\n        \"host\" =&gt; \"cherno-alpha\",\n        \"path\" =&gt; \"/tmp/HSTRD0003/SUBQ_DETLIQ_HSTR_20160124_000100.REM\",\n     \"n_estab\" =&gt; 15040,\n    \"n_filial\" =&gt; 15040,\n      \"depart\" =&gt; 1,\n        \"prod\" =&gt; 1,\n    \"id_apres\" =&gt; 63916400,\n      \"id_mov\" =&gt; 124569419,\n \"id_mov_orig\" =&gt; 124569414,\n    \"orig_int\" =&gt; \"C\",\n    \"cod_oper\" =&gt; 0,\n   \"cod_moeda\" =&gt; 986,\n       \"valor\" =&gt; 1.16,\n  \"date_trans\" =&gt; #&lt;Date: 2015-11-27 ((2457354j,0s,0n),+0s,2299161j)&gt;,\n \"date_agenda\" =&gt; #&lt;Date: 2016-01-26 ((2457414j,0s,0n),+0s,2299161j)&gt;,\n \"num_parcela\" =&gt; 2,\n\"qtd_parcelas\" =&gt; 2,\n     \"cod_rub\" =&gt; 9700,\n    \"desc_rub\" =&gt; \"XXXXXXXX XX XXXXXX\",\n     \"id_pgto\" =&gt; 128479123\n</code></pre>\n\n<p>Somehow Ruby converted the date fields, but not really? ES still thinks it's just a regular string and won't let create an index on them. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date"], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 5350659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63535c11d66f71640d7a5a558b351d11?s=128&d=identicon&r=PG&f=1", "display_name": "Pitabas Prathal", "link": "https://stackoverflow.com/users/5350659/pitabas-prathal"}, "is_accepted": true, "score": 2, "last_activity_date": 1461786174, "creation_date": 1461786174, "answer_id": 36899457, "question_id": 36899183, "link": "https://stackoverflow.com/questions/36899183/how-to-default-t-date-to-iterated-date/36899457#36899457", "title": "How to default t.date to iterated date?", "body": "<p>You can pass the date value in partial and assign that value in your form field</p>\n\n<pre><code>             &lt;%= render 'notes/form', :date =&gt; date %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "edited": false, "score": 0, "creation_date": 1461801060, "post_id": 36899531, "comment_id": 61369682, "body": "Thanks Anthony :] I gave it to pitabas because his answer was a few minutes earlier than your&#39;s and his code was slightly more concise. I gave you points elsewhere though :]"}, {"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "reply_to_user": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "edited": false, "score": 0, "creation_date": 1461850851, "post_id": 36899531, "comment_id": 61394961, "body": "I think completeness is more important when picking an answer than timelines."}], "tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": false, "score": 2, "last_activity_date": 1461786454, "last_edit_date": 1592644375, "creation_date": 1461786454, "answer_id": 36899531, "question_id": 36899183, "link": "https://stackoverflow.com/questions/36899183/how-to-default-t-date-to-iterated-date/36899531#36899531", "title": "How to default t.date to iterated date?", "body": "<p>Passing a local variable to your 'notes/form' is easy, just do:</p>\n<pre><code>&lt;%= render partial: &quot;notes/form&quot;, locals: {date: date} %&gt;\n</code></pre>\n<p>Section 3.4.4 on <a href=\"http://guides.rubyonrails.org/layouts_and_rendering.html\" rel=\"nofollow noreferrer\">rubyonrails.org</a> covers that use case.</p>\n<blockquote>\n<h3>3.4.4 Passing Local Variables</h3>\n<p>You can also pass local variables into partials, making them even more powerful and flexible. For example, you can use this technique to reduce duplication between new and edit pages, while still keeping a bit of distinct content:</p>\n</blockquote>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 36899457, "answer_count": 2, "score": 3, "last_activity_date": 1461791465, "creation_date": 1461785298, "last_edit_date": 1461791465, "question_id": 36899183, "link": "https://stackoverflow.com/questions/36899183/how-to-default-t-date-to-iterated-date", "title": "How to default t.date to iterated date?", "body": "<p>When the user creates a note how can we automatically set that <code>note.notes_date</code> to equal the iterated <code>date</code> shown on the notes/form?</p>\n\n<p><strong>challenges/show</strong></p>\n\n<pre><code>&lt;% @challenge.dates_challenged.first(@challenge.days_challenged).each_with_index do |date, i| %&gt;\n  &lt;div class=\"text-background\"&gt;\n    &lt;b&gt;Day &lt;%= i + 1 %&gt;&lt;/b&gt;&lt;br&gt;\n    &lt;%= date.strftime(\"%m/%d\") %&gt;&lt;br&gt;&lt;br&gt;\n    &lt;% if @notes.present? %&gt;\n      &lt;% @notes.each do |note| %&gt;\n        &lt;% if note.notes_date.strftime(\"%m/%d/%y\") == date.strftime(\"%m/%d/%y\") %&gt;\n          &lt;%= render \"notes/notes\" %&gt;\n        &lt;% else %&gt;\n          &lt;%= render \"notes/form\" %&gt;\n        &lt;% end %&gt;\n      &lt;% end %&gt;\n    &lt;% else %&gt;\n      &lt;%= render \"notes/form\" %&gt;\n    &lt;% end %&gt;\n   &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>db</strong></p>\n\n<pre><code>create_table \"notes\", force: true do |t|\n  t.text     \"notes_text\"\n  t.date \"notes_date\" # Automatically equal this to iterated date\n  t.integer  \"notable_id\"\n  t.string   \"notable_type\"\n  t.integer  \"challenge_id\"\nend\n</code></pre>\n\n<p>So in other words if a user creates a note recap for <strong>Day 2</strong> 05/25 then the <code>note.notes_date == 05/25</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/ftTsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftTsV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["css", "ruby", "twitter-bootstrap", "ruby-on-rails-3", "twitter-bootstrap-3"], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 4, "last_activity_date": 1461784318, "creation_date": 1461784318, "answer_id": 36898868, "question_id": 36898482, "link": "https://stackoverflow.com/questions/36898482/change-active-color-of-nav-pills/36898868#36898868", "title": "change active color of nav-pills", "body": "<p>Add the following line (<code>.nav&gt;li&gt;a.active,</code>) to your css:</p>\n\n<pre><code>.nav&gt;li&gt;a.active,\n.nav&gt;li&gt;a:hover,\n.nav&gt;li&gt;a:focus {\n   background-color: #5c8a36;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22854, "user_id": 2142994, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1bad25bebfae0b3f4bfd13b07f5d4f3b?s=128&d=identicon&r=PG", "display_name": "Ani Menon", "link": "https://stackoverflow.com/users/2142994/ani-menon"}, "is_accepted": false, "score": 0, "last_activity_date": 1461784537, "creation_date": 1461784537, "answer_id": 36898938, "question_id": 36898482, "link": "https://stackoverflow.com/questions/36898482/change-active-color-of-nav-pills/36898938#36898938", "title": "change active color of nav-pills", "body": "<p>You don't have a <code>&lt;a&gt;</code> there!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.nav&gt;li:hover,\r\n.nav&gt;li:focus,\r\n.nav&gt;li:focus {\r\n  background-color: #5c8a36;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul class=\"nav nav-pills\"&gt;\r\n\r\n  &lt;li class=\"\"&gt;\r\n    Home\r\n  &lt;/li&gt;\r\n\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6138674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEyJI.jpg?s=128&g=1", "display_name": "Mohd Khairulamirin", "link": "https://stackoverflow.com/users/6138674/mohd-khairulamirin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502514188, "creation_date": 1502514188, "answer_id": 45646691, "question_id": 36898482, "link": "https://stackoverflow.com/questions/36898482/change-active-color-of-nav-pills/45646691#45646691", "title": "change active color of nav-pills", "body": "<p>The accepted answer didn't work for me. I changed a bit and now working.</p>\n\n<pre><code>.nav-pills&gt;li.active&gt;a,\n.nav-pills&gt;li.active&gt;a:focus,\n.nav-pills&gt;li.active&gt;a:hover {\n   background-color: #5c8a36;\n}\n</code></pre>\n"}], "owner": {"reputation": 260, "user_id": 6122349, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8176f5fff1ecfddae663a8e99ec688d?s=128&d=identicon&r=PG&f=1", "display_name": "ncrouch25", "link": "https://stackoverflow.com/users/6122349/ncrouch25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8965, "favorite_count": 0, "accepted_answer_id": 36898868, "answer_count": 3, "score": 1, "last_activity_date": 1502514188, "creation_date": 1461783144, "question_id": 36898482, "link": "https://stackoverflow.com/questions/36898482/change-active-color-of-nav-pills", "title": "change active color of nav-pills", "body": "<p>This is the code i'm using to make the pills in my navbar active.. </p>\n\n<pre><code>  &lt;ul class=\"nav nav-pills\"&gt;\n\n  &lt;li class=\"&lt;%= 'active' if current_page?(root_path) %&gt;\"&gt;&lt;% yield (:home)%&gt;&lt;%= link_to \"Home\", root_path%&gt;&lt;/li&gt;\n</code></pre>\n\n<p>however it uses the default blue color as \"active\" how should i change this?</p>\n\n<p>this is what i have in my css already </p>\n\n<pre><code>.nav&gt;li&gt;a:hover,\n\n.nav&gt;li&gt;a:focus{\n\n background-color: #5c8a36;}\n</code></pre>\n\n<p>even with this (the color should be green) it still shows up as the default blue color</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "edited": false, "score": 0, "creation_date": 1461781907, "post_id": 36897991, "comment_id": 61360278, "body": "Perfect! Yea I was trying two different iterations and getting all wacky stuff. Thanks for the knowledge :]"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "edited": false, "score": 1, "creation_date": 1461781977, "post_id": 36897991, "comment_id": 61360338, "body": "Normally in Ruby there&#39;s a simple way of doing it, so if you ever find yourself getting stuck in the weeds, have a look through the docs for <a href=\"http://ruby-doc.org/core-2.3.1/Enumerable.html\" rel=\"nofollow noreferrer\">Enumerable</a>. There&#39;s a ton of very interesting tools in there."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 1, "last_activity_date": 1461781565, "creation_date": 1461781565, "answer_id": 36897991, "question_id": 36897882, "link": "https://stackoverflow.com/questions/36897882/how-to-match-date-with-counter/36897991#36897991", "title": "How to match date with counter?", "body": "<p>You've got to loop them both together. For example:</p>\n\n<pre><code>&lt;% @challenge.dates_challenged.first(@challenge.days_challenged).each_with_index do |date, i| %&gt;\n  &lt;div class=\"text-background\"&gt;\n     Day &lt;%= i + 1 %&gt;\n     &lt;%= date %&gt;\n     &lt;%= render \"notes/notes\" %&gt;\n     &lt;%= render \"notes/form\" %&gt;\n   &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>That will take up to as many 'days challenged' entries and iterate over them.</p>\n"}], "owner": {"reputation": 2578, "user_id": 4383667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-0D7SldkahZc/AAAAAAAAAAI/AAAAAAAAAFk/V8nUZfLVtyk/photo.jpg?sz=128", "display_name": "AnthonyGalli.com", "link": "https://stackoverflow.com/users/4383667/anthonygalli-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 1, "accepted_answer_id": 36897991, "answer_count": 1, "score": 2, "last_activity_date": 1461781565, "creation_date": 1461781213, "question_id": 36897882, "link": "https://stackoverflow.com/questions/36897882/how-to-match-date-with-counter", "title": "How to match date with counter?", "body": "<p>I'd like to show for example:</p>\n\n<pre><code>Day 1 with Sun, 24 April 2016\nDay 2 with Sun, 25 April 2016\nDay 3 with Sun, 26 April 2016\netc...\n</code></pre>\n\n<p>All the dates however are being listed under each <code>days_challenged</code>.</p>\n\n<pre><code>    &lt;% @challenge.days_challenged.times do |counter| %&gt;\n      &lt;div class=\"text-background\"&gt;\n        Day &lt;%= counter + 1 %&gt;\n        &lt;%= @challenge.dates_challenged %&gt;\n        &lt;%= render \"notes/notes\" %&gt;\n        &lt;%= render \"notes/form\" %&gt;\n      &lt;/div&gt;\n    &lt;% end %&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Byq5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Byq5i.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "edited": false, "score": 0, "creation_date": 1461790478, "post_id": 36897943, "comment_id": 61365548, "body": "Im getting this error.   &#39;param is missing or the value is empty: category&#39;"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1461865869, "post_id": 36897943, "comment_id": 61405569, "body": "Although this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> it answers the question would significantly improve its long-term value.  Please <a href=\"https://stackoverflow.com/posts/36897943/edit\">edit</a> your answer to add some explanation."}], "tags": [], "owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "is_accepted": false, "score": 0, "last_activity_date": 1461781387, "creation_date": 1461781387, "answer_id": 36897943, "question_id": 36897734, "link": "https://stackoverflow.com/questions/36897734/create-a-new-category-when-new-action-is-called-on-separate-controller/36897943#36897943", "title": "Create a new category when new action is called on separate controller", "body": "<pre><code>def create\n  @grow = Grow.new(grow_params.merge(category: Category.create(cat_params)))\nend\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 2671632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/251e8effcb97f4df0ca82ed5006df4e9?s=128&d=identicon&r=PG", "display_name": "mGarsteck", "link": "https://stackoverflow.com/users/2671632/mgarsteck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1461795159, "creation_date": 1461780739, "last_edit_date": 1461795159, "question_id": 36897734, "link": "https://stackoverflow.com/questions/36897734/create-a-new-category-when-new-action-is-called-on-separate-controller", "title": "Create a new category when new action is called on separate controller", "body": "<p>Ive created 4 models: Grow, Tray, Plant, Category.  My intent is to assign a category to each model so that I can organize through categories.  When I create a new grow, a new category is created.  Then when I create a new tray, I can assign the tray to the newly created grow category.  </p>\n\n<p>Grow belongs_to category\nTray belongs_to category\nplant belongs_to category</p>\n\n<pre><code>class GrowsController &lt; ApplicationController\nbefore_action :set_grow, only: [:show, :edit, :update, :destroy]\n\n\ndef index\n  @grows = Grow.all\nend\n\n\ndef show\nend\n\n\ndef new\n  @grow = Grow.new\nend\n\n\ndef edit\nend\n\n\ndef create\n  @grow = Grow.new(grow_params.merge(category: Category.create(cat_params)))\n\n  respond_to do |format|\n    if @grow.save\n      format.html { redirect_to @grow, notice: 'Grow was successfully created.' }\n      format.json { render :show, status: :created, location: @grow }\n    else\n      format.html { render :new }\n      format.json { render json: @grow.errors, status: :unprocessable_entity }\n    end\n  end\nend\n\n# PATCH/PUT /grows/1\n# PATCH/PUT /grows/1.json\ndef update\n  respond_to do |format|\n    if @grow.update(grow_params)\n      format.html { redirect_to @grow, notice: 'Grow was successfully updated.' }\n      format.json { render :show, status: :ok, location: @grow }\n    else\n      format.html { render :edit }\n      format.json { render json: @grow.errors, status: :unprocessable_entity }\n    end\n  end\nend\n\n# DELETE /grows/1\n# DELETE /grows/1.json\ndef destroy\n  @grow.destroy\n  respond_to do |format|\n    format.html { redirect_to grows_url, notice: 'Grow was successfully destroyed.' }\n    format.json { head :no_content }\n   end\n  end\n\nprivate\n  # Use callbacks to share common setup or constraints between actions.\n\n  def set_grow\n    @grow = Grow.find(params[:id])\n  end\n  def cat_params\n    params.require(:category).permit(:name)\n  end\n    def grow_params\n      params.require(:grow).permit(:title, :notes, :category_id)\n    end\n  end\n</code></pre>\n\n<p>etc etc, its pretty standard setup for the views and controllers.  Im not sure how to accomplish this.  Please help steer me in the right direction :)</p>\n"}, {"tags": ["python", "ruby", "mapreduce", "list-comprehension"], "comments": [{"owner": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "edited": false, "score": 0, "creation_date": 1461781062, "post_id": 36897666, "comment_id": 61359739, "body": "What makes the second example seem less idiomatic and efficient than the first? They seem about equal to me."}, {"owner": {"reputation": 105, "user_id": 2499191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c205ee17d33b3aaeaedb27523a7707d6?s=128&d=identicon&r=PG", "display_name": "Andrei", "link": "https://stackoverflow.com/users/2499191/andrei"}, "reply_to_user": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "edited": false, "score": 0, "creation_date": 1461781856, "post_id": 36897666, "comment_id": 61360251, "body": "@Kwarrtz What makes it less idiomatic and efficient is the fact that we break the chaining of the streams and assign each step to a variable. This should prevent the interpreter (IMHO) from optimizing the code. But I am just guessing here."}, {"owner": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "edited": false, "score": 1, "creation_date": 1461781944, "post_id": 36897666, "comment_id": 61360311, "body": "well, inlining the comprehensions should fix that issue."}, {"owner": {"reputation": 105, "user_id": 2499191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c205ee17d33b3aaeaedb27523a7707d6?s=128&d=identicon&r=PG", "display_name": "Andrei", "link": "https://stackoverflow.com/users/2499191/andrei"}, "reply_to_user": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "edited": false, "score": 0, "creation_date": 1461782401, "post_id": 36897666, "comment_id": 61360597, "body": "@Kwarrtz Right, but it would make the code less readable."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461783351, "post_id": 36897666, "comment_id": 61361213, "body": "Your question is very opinion-based as you&#39;re comparing apples and oranges. The best solution is to read the style-guides for both languages, and write accordingly."}, {"owner": {"reputation": 105, "user_id": 2499191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c205ee17d33b3aaeaedb27523a7707d6?s=128&d=identicon&r=PG", "display_name": "Andrei", "link": "https://stackoverflow.com/users/2499191/andrei"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461785226, "post_id": 36897666, "comment_id": 61362412, "body": "@theTinMan With all due respect, I don&#39;t think that asking a question about an acceptable and idiomatic way of expressing some idea in a different language is opinion based or comparing apples to oranges."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461795737, "post_id": 36897666, "comment_id": 61368020, "body": "Even more idiomatic Ruby would be to use this as the even test: <code>a.select(&amp;:even?)</code>.  Also, I believe that all your <code>&#47; 100</code> operations will result in zero; is that what you wanted?  If you use <code>&#47; 100.0</code> instead you will get a decimal fraction."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 2499191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c205ee17d33b3aaeaedb27523a7707d6?s=128&d=identicon&r=PG", "display_name": "Andrei", "link": "https://stackoverflow.com/users/2499191/andrei"}, "edited": false, "score": 0, "creation_date": 1461782001, "post_id": 36897841, "comment_id": 61360359, "body": "Good example, thanks! Maybe my example was a bit contrived, but my point was that if you keep adding more and more filtering/mapping it quickly gets hard to optimize."}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": false, "score": 2, "last_activity_date": 1461781427, "last_edit_date": 1461781427, "creation_date": 1461781080, "answer_id": 36897841, "question_id": 36897666, "link": "https://stackoverflow.com/questions/36897666/processing-lists-in-python-compared-to-ruby/36897841#36897841", "title": "Processing lists in Python compared to Ruby", "body": "<p>Everyone's definition of readable code differs. Personally, I find this to be fairly readable (for a one-liner at least) and reduces a lot of unnecessary comprehensions:</p>\n\n<pre><code>sum([(x*x) / 100 for x in range(100) if not x*x % 100 and (x*x) / 100 % 2])\n</code></pre>\n\n<p>You could clean this up some more:</p>\n\n<pre><code>f = lambda x: (x*x) / 100\nsum([f(x) for x in range(100) if not x*x % 100 and f(x) % 2])\n</code></pre>\n\n<p>This is maybe ~10 extra characters longer than one of the comprehensions in the question. Reduces 6 lines into 2 and four list comprehensions into a single comprehension.</p>\n"}], "owner": {"reputation": 105, "user_id": 2499191, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c205ee17d33b3aaeaedb27523a7707d6?s=128&d=identicon&r=PG", "display_name": "Andrei", "link": "https://stackoverflow.com/users/2499191/andrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1461822745, "answer_count": 1, "score": 0, "last_activity_date": 1461781427, "creation_date": 1461780527, "question_id": 36897666, "link": "https://stackoverflow.com/questions/36897666/processing-lists-in-python-compared-to-ruby", "closed_reason": "Opinion-based", "title": "Processing lists in Python compared to Ruby", "body": "<p>Having some Ruby experience, I started to learn Python and map list transformation techniques (select/map/reduce) to Python.\nLet\u2019s say I want to take a list [0..99],  square even numbers and summarize it.</p>\n\n<p>In Python:</p>\n\n<pre><code>arr = range(100)\nres = [x*x for x in arr if x % 2 == 0]\nres = reduce(lambda x,y: x+y, res)\n</code></pre>\n\n<p>In Ruby</p>\n\n<pre><code>(0..99)\n  .select {|num| num % 2 == 0}\n  .map {|num| num*num}\n  .inject {|sum, n| sum + n}\n</code></pre>\n\n<p>So far in Python it looks fine and idiomatic.\nNow, let\u2019s say I want to throw in more mapping/filtering, saying that after I square even numbers, I want to take those divisible by 10, then divide them by 100, then select odd numbers.</p>\n\n<p>In Ruby it scales well into:</p>\n\n<pre><code>(0..99)\n  .select {|num| num % 2 == 0}\n  .map {|num| num*num}\n  .select {|num| num % 10 == 0}\n  .map {|num| num / 100}\n  .select {|num| num % 2 != 0}\n  .inject {|sum, n| sum + n}\n</code></pre>\n\n<p>In Python the code becomes like so:</p>\n\n<pre><code>arr = range(100)\nres = [x*x for x in arr if x % 2 == 0]\nres = [x for x in res if x % 100 == 0]\nres = [x / 100 for x in res]\nres = [x for x in res if x % 2 != 0]\nres = reduce(lambda x,y: x+y, res)\n</code></pre>\n\n<p>It feels like the Python code here is not idiomatic and not efficient (I could nest it, but it would become unreadable).\nAlso code in Ruby could be easily modified for lazy evaluation which I can't say about the Python code.\nHow do I express this idea and a well readable and efficient code in Python?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1461780766, "post_id": 36897595, "comment_id": 61359540, "body": "Can you edit your question and put more of your stack trace in there? I think you&#39;ve done something that&#39;s made Devise upset."}, {"owner": {"reputation": 3054, "user_id": 900483, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6524ea17b66984c72c8d7e262960a137?s=128&d=identicon&r=PG", "display_name": "Nils Landt", "link": "https://stackoverflow.com/users/900483/nils-landt"}, "edited": false, "score": 0, "creation_date": 1461780776, "post_id": 36897595, "comment_id": 61359548, "body": "Can you show the <code>devise ...</code> line in your <code>user</code> model (or whatever model you use devise in)? You probably forgot a colon, something like <code>devise confirmable</code> when it should be <code>devise :confirmable</code>."}, {"owner": {"reputation": 1176, "user_id": 2750877, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/65fe7528984db6c53fa2e13e9b574708?s=128&d=identicon&r=PG&f=1", "display_name": "bork", "link": "https://stackoverflow.com/users/2750877/bork"}, "edited": false, "score": 0, "creation_date": 1461780778, "post_id": 36897595, "comment_id": 61359549, "body": "Which version of rake are you using?"}, {"owner": {"reputation": 260, "user_id": 6122349, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8176f5fff1ecfddae663a8e99ec688d?s=128&d=identicon&r=PG&f=1", "display_name": "ncrouch25", "link": "https://stackoverflow.com/users/6122349/ncrouch25"}, "edited": false, "score": 0, "creation_date": 1461781005, "post_id": 36897595, "comment_id": 61359705, "body": "i&#39;ve updated the question"}, {"owner": {"reputation": 3054, "user_id": 900483, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6524ea17b66984c72c8d7e262960a137?s=128&d=identicon&r=PG", "display_name": "Nils Landt", "link": "https://stackoverflow.com/users/900483/nils-landt"}, "edited": false, "score": 1, "creation_date": 1461781159, "post_id": 36897595, "comment_id": 61359793, "body": "Is there anything after <code>:validatable,</code>? If not, try deleting the comma at the end of the line."}, {"owner": {"reputation": 260, "user_id": 6122349, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8176f5fff1ecfddae663a8e99ec688d?s=128&d=identicon&r=PG&f=1", "display_name": "ncrouch25", "link": "https://stackoverflow.com/users/6122349/ncrouch25"}, "edited": false, "score": 1, "creation_date": 1461781359, "post_id": 36897595, "comment_id": 61359927, "body": "ah! that did it. stupid comma. There was also a section below it about omniauth that I deleted to make it work (not using omniauth anymore)"}], "owner": {"reputation": 260, "user_id": 6122349, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8176f5fff1ecfddae663a8e99ec688d?s=128&d=identicon&r=PG&f=1", "display_name": "ncrouch25", "link": "https://stackoverflow.com/users/6122349/ncrouch25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461781130, "creation_date": 1461780338, "last_edit_date": 1461781130, "question_id": 36897595, "link": "https://stackoverflow.com/questions/36897595/error-using-any-rake-command-with-rails", "title": "Error Using Any Rake Command with Rails", "body": "<p>I ran <code>rake db:migrate</code>, and the migration worked.  However, it gives me this error when i try to use any rake command. </p>\n\n<pre><code>/Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/models.rb:80:in `map': undefined method `to_sym' for nil:NilClass (NoMethodError)\n</code></pre>\n\n<p>I'm not sure how to fix this, as <code>rake db:rollback</code> also causes the error.</p>\n\n<p>EDIT</p>\n\n<pre><code>devise  :database_authenticatable, :registerable,\n     :recoverable, :rememberable, :trackable, :validatable,\n</code></pre>\n\n<p>From the user</p>\n\n<p>and here is the whole error</p>\n\n<pre><code>  from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/models.rb:80:in `devise'\n    from /Users/Noah/Desktop/Wellness/welness/app/models/user.rb:4:in `&lt;class:User&gt;'\n    from /Users/Noah/Desktop/Wellness/welness/app/models/user.rb:1:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:457:in `load'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:457:in `block in load_file'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:647:in `new_constants_in'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:456:in `load_file'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:354:in `require_or_load'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:494:in `load_missing_constant'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:184:in `const_missing'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/inflector/methods.rb:261:in `const_get'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/inflector/methods.rb:261:in `block in constantize'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/inflector/methods.rb:259:in `each'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/inflector/methods.rb:259:in `inject'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/inflector/methods.rb:259:in `constantize'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:566:in `get'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:597:in `constantize'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise.rb:292:in `get'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/mapping.rb:81:in `to'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/mapping.rb:76:in `modules'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/mapping.rb:93:in `routes'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/mapping.rb:160:in `default_used_route'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/mapping.rb:70:in `initialize'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise.rb:326:in `new'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise.rb:326:in `add_mapping'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/rails/routes.rb:238:in `block in devise_for'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/rails/routes.rb:237:in `each'\n    from /Library/Ruby/Gems/2.0.0/gems/devise-3.5.6/lib/devise/rails/routes.rb:237:in `devise_for'\n    from /Users/Noah/Desktop/Wellness/welness/config/routes.rb:7:in `block in &lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:434:in `instance_exec'\n    from /Library/Ruby/Gems/2.0.0/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:434:in `eval_block'\n    from /Library/Ruby/Gems/2.0.0/gems/actionpack-4.2.5/lib/action_dispatch/routing/route_set.rb:412:in `draw'\n    from /Users/Noah/Desktop/Wellness/welness/config/routes.rb:1:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:268:in `load'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:268:in `block in load'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:240:in `load_dependency'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:268:in `load'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `each'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:40:in `load_paths'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:16:in `reload!'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:26:in `block in updater'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/file_update_checker.rb:75:in `call'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/file_update_checker.rb:75:in `execute'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:27:in `updater'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/routes_reloader.rb:7:in `execute_if_updated'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application/finisher.rb:69:in `block in &lt;module:Finisher&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/initializable.rb:30:in `instance_exec'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/initializable.rb:30:in `run'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/initializable.rb:55:in `block in run_initializers'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:150:in `block in tsort_each'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:183:in `block (2 levels) in each_strongly_connected_component'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:219:in `each_strongly_connected_component_from'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:182:in `block in each_strongly_connected_component'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:180:in `each_strongly_connected_component'\n    from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/tsort.rb:148:in `tsort_each'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/initializable.rb:54:in `run_initializers'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/application.rb:352:in `initialize!'\n    from /Users/Noah/Desktop/Wellness/welness/config/environment.rb:5:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `require'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `block in require'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:240:in `load_dependency'\n    from /Library/Ruby/Gems/2.0.0/gems/activesupport-4.2.5/lib/active_support/dependencies.rb:274:in `require'\n    from /Users/Noah/Desktop/Wellness/welness/config.ru:3:in `block in &lt;main&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'\n    from /Users/Noah/Desktop/Wellness/welness/config.ru:in `new'\n    from /Users/Noah/Desktop/Wellness/welness/config.ru:in `&lt;main&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in `eval'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in `new_from_string'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:40:in `parse_file'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/server.rb:299:in `build_app_and_options_from_config'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/server.rb:208:in `app'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/server.rb:61:in `app'\n    from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/server.rb:336:in `wrapped_app'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/server.rb:139:in `log_to_stdout'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/server.rb:78:in `start'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:80:in `block in server'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:75:in `tap'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:75:in `server'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n    from /Library/Ruby/Gems/2.0.0/gems/railties-4.2.5/lib/rails/commands.rb:17:in `&lt;top (required)&gt;'\n    from /Users/Noah/Desktop/Wellness/welness/bin/rails:9:in `require'\n    from /Users/Noah/Desktop/Wellness/welness/bin/rails:9:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/client/rails.rb:28:in `load'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/client/rails.rb:28:in `call'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/client/command.rb:7:in `call'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/client.rb:28:in `run'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/bin/spring:49:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/binstub.rb:11:in `load'\n    from /Library/Ruby/Gems/2.0.0/gems/spring-1.6.4/lib/spring/binstub.rb:11:in `&lt;top (required)&gt;'\n    from /Library/Ruby/Site/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n    from /Library/Ruby/Site/2.0.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n    from /Users/Noah/Desktop/Wellness/welness/bin/spring:13:in `&lt;top (required)&gt;'\n    from bin/rails:3:in `load'\n    from bin/rails:3:in `&lt;main&gt;'\n</code></pre>\n\n<p>its rake v 11.1.2</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ubuntu", "rvm", "ubuntu-16.04"], "comments": [{"owner": {"reputation": 10619, "user_id": 80434, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54f7e39b54c125b935a516ef080fcb94?s=128&d=identicon&r=PG", "display_name": "Korayem", "link": "https://stackoverflow.com/users/80434/korayem"}, "edited": false, "score": 1, "creation_date": 1542129461, "post_id": 36897447, "comment_id": 93454711, "body": "In my case, it was caused by <code>rvm_path</code> set to local path. For more info, try this <a href=\"https://unix.stackexchange.com/a/440584/253876\">unix.stackexchange.com/a/440584/253876</a>"}, {"owner": {"reputation": 11, "user_id": 6817920, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183241455052338/picture?type=large", "display_name": "alexvirtualbr", "link": "https://stackoverflow.com/users/6817920/alexvirtualbr"}, "edited": false, "score": 0, "creation_date": 1543798784, "post_id": 36897447, "comment_id": 94036584, "body": "Some occasions, after the rvm installation it&#39;s necessary reboot your system. Here I had this problem and did it and solved."}], "answers": [{"comments": [{"owner": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1461780800, "post_id": 36897712, "comment_id": 61359569, "body": "Thx for your quick response. I have previously tried this and it gives me the following error: <code>sudo: rvm: command not found</code>"}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "reply_to_user": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1461780858, "post_id": 36897712, "comment_id": 61359608, "body": "Did you want to install it as system or user?"}, {"owner": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1461781725, "post_id": 36897712, "comment_id": 61360160, "body": "On user level would probably make more sense as you mentioned, although I&#39;m the only user on the system."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "reply_to_user": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1461781829, "post_id": 36897712, "comment_id": 61360238, "body": "Then I suggest reinstalling rvm as your user."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "reply_to_user": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1462180630, "post_id": 36897712, "comment_id": 61512908, "body": "You being the only user on the system is an argument <i>for</i> installing it as your user rather than system.  If there were multiple users, you&#39;d have multiple copies of the rubies and gems taking up space.  I have been installing rvm as my user for years on hosts where I am the only user.  My life is way easier than if I had installed it as system.  Try it, you&#39;ll like it. ;)"}, {"owner": {"reputation": 650, "user_id": 1792399, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/774e369d24ea01b821be3b88bd4d2509?s=128&d=identicon&r=PG", "display_name": "earth2jason", "link": "https://stackoverflow.com/users/1792399/earth2jason"}, "edited": false, "score": 0, "creation_date": 1463752147, "post_id": 36897712, "comment_id": 62213058, "body": "@KeithBennett I curl installed rvm as user and get this same error as OP."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "reply_to_user": {"reputation": 650, "user_id": 1792399, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/774e369d24ea01b821be3b88bd4d2509?s=128&d=identicon&r=PG", "display_name": "earth2jason", "link": "https://stackoverflow.com/users/1792399/earth2jason"}, "edited": false, "score": 0, "creation_date": 1463965477, "post_id": 36897712, "comment_id": 62273405, "body": "@earth2jason You got &quot;Permission denied&quot; errors?  Is it trying to install to /usr/share/rvm/rubies/ruby-2.3.0?  (If it is, then, it&#39;s being installed as system and not user.  You need to be logged in as a user other than root, the user that will be running the Ruby.) You could try curl installing rvm without any Rubies and then try installing a different version of Ruby to see if the problem is version-specific."}, {"owner": {"reputation": 650, "user_id": 1792399, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/774e369d24ea01b821be3b88bd4d2509?s=128&d=identicon&r=PG", "display_name": "earth2jason", "link": "https://stackoverflow.com/users/1792399/earth2jason"}, "edited": false, "score": 0, "creation_date": 1464483817, "post_id": 36897712, "comment_id": 62505330, "body": "@KeithBennet I was using a alternate user. I have resigned to just using the ubuntu user that was pre-configured in my linux container and it works fine. So I am good with that."}], "tags": [], "owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1461780672, "creation_date": 1461780672, "answer_id": 36897712, "question_id": 36897447, "link": "https://stackoverflow.com/questions/36897447/unable-to-install-ruby-on-rails-on-ubuntu-16-04-lts/36897712#36897712", "title": "Unable to install Ruby on Rails on Ubuntu 16.04 LTS", "body": "<p>It looks like rvm is trying to install the Ruby to /usr/share/rvm, which I think means that it's being installed at the system-wide level rather than the user level.  Is that what you wanted?  That being the case, it may be necessary to run rvm as sudo:</p>\n\n<pre><code>user@user:~$ sudo rvm install 2.3.0\n</code></pre>\n\n<p>For what it's worth, I install rvm as me (my user) so that I don't have to mess with privileges; and I'm the only user on the system that needs rvm.</p>\n"}, {"tags": [], "owner": {"reputation": 18703, "user_id": 3951782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5zDXr.png?s=128&g=1", "display_name": "sudo bangbang", "link": "https://stackoverflow.com/users/3951782/sudo-bangbang"}, "is_accepted": true, "score": 0, "last_activity_date": 1465908160, "last_edit_date": 1465908160, "creation_date": 1465899924, "answer_id": 37809372, "question_id": 36897447, "link": "https://stackoverflow.com/questions/36897447/unable-to-install-ruby-on-rails-on-ubuntu-16-04-lts/37809372#37809372", "title": "Unable to install Ruby on Rails on Ubuntu 16.04 LTS", "body": "<p>If you install <a href=\"https://rvm.io/\" rel=\"nofollow\"><code>rvm</code></a> <strong>without</strong> sudo privileges, everything else should work as expected</p>\n\n<p>If you have rvm installed, remove it using</p>\n\n<pre><code>rvm implode\n</code></pre>\n\n<p>or</p>\n\n<pre><code>rm -rf ~/.rvm\n</code></pre>\n\n<p>Then install rvm using</p>\n\n<pre><code>gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3\n\\curl -sSL https://get.rvm.io | bash -s stable\n</code></pre>\n\n<p>Then install ruby with</p>\n\n<pre><code>rvm install 2.3.0\n</code></pre>\n\n<p>Use whichever version you wanna install.</p>\n\n<p>Now go ahead and install rails</p>\n\n<pre><code>gem install rails\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1312, "user_id": 343475, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bca0f8cb6ed430a938e043d625ace00c?s=128&d=identicon&r=PG", "display_name": "Paul Verschoor", "link": "https://stackoverflow.com/users/343475/paul-verschoor"}, "is_accepted": false, "score": 0, "last_activity_date": 1520293279, "creation_date": 1520293279, "answer_id": 49121254, "question_id": 36897447, "link": "https://stackoverflow.com/questions/36897447/unable-to-install-ruby-on-rails-on-ubuntu-16-04-lts/49121254#49121254", "title": "Unable to install Ruby on Rails on Ubuntu 16.04 LTS", "body": "<p>Try a reboot.</p>\n\n<p>I had the same problem with two installs of Ubuntu 16.04 \nBoth computers had the same problem, it was fixed after I rebooted.</p>\n\n<pre><code>rvm install ruby-2.5.0\n</code></pre>\n"}], "owner": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3408, "favorite_count": 0, "accepted_answer_id": 37809372, "answer_count": 3, "score": 0, "last_activity_date": 1543798784, "creation_date": 1461779878, "last_edit_date": 1465901648, "question_id": 36897447, "link": "https://stackoverflow.com/questions/36897447/unable-to-install-ruby-on-rails-on-ubuntu-16-04-lts", "title": "Unable to install Ruby on Rails on Ubuntu 16.04 LTS", "body": "<p>I just upgraded my system to Ubuntu 16.04 LTS (clean install) and tried to install Ruby using RVM. RVM itself installs fine (using this guide <a href=\"http://www.webupd8.org/2014/11/how-to-install-rvm-ruby-version-manager.html\" rel=\"nofollow\">http://www.webupd8.org/2014/11/how-to-install-rvm-ruby-version-manager.html</a>), but when I then try to install Ruby I get the following error:</p>\n\n<pre><code>user@user:~$ rvm install 2.3.0\nSearching for binary rubies, this might take some time.  \nNo binary rubies available for: ubuntu/16.04/x86_64/ruby-2.3.0.  \nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.\nChecking requirements for ubuntu.  \nRequirements installation successful.  \nInstalling Ruby from source to: /usr/share/rvm/rubies/ruby-2.3.0, this may take a while depending on your cpu(s)...  \nruby-2.3.0 - #downloading ruby-2.3.0, this may take a while depending on your connection...  \n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed  \n     0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  \nWarning: Failed to create the file ruby-2.3.0.tar.bz2.part: Permission denied  \n0 13.5M    0 16384    0     0  19826      0  0:11:55 --:--:--  0:11:55 19811  \ncurl: (23) Failed writing body (0 != 16384)  \nThere was an error(23).  \nChecking fallback: https://ftp.ruby-lang.org/pub/ruby/2.3/ruby-2.3.0.tar.bz2\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed\n     0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0\nWarning: Failed to create the file ruby-2.3.0.tar.bz2.part: Permission denied  \n     0 13.5M    0 16149    0     0   7324      0  0:32:16  0:00:02  0:32:14  7323  \ncurl: (23) Failed writing body (0 != 16149)  \nThere was an error(23).  \nFailed download  \nThere has been an error fetching the ruby interpreter. Halting the installation.\n</code></pre>\n\n<p>Is that a general problem for 16.04? The exact method worked fine under 15.10. Any ideas how this can be fixed?</p>\n"}, {"tags": ["html", "ruby", "dashing"], "answers": [{"tags": [], "owner": {"reputation": 18703, "user_id": 3951782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5zDXr.png?s=128&g=1", "display_name": "sudo bangbang", "link": "https://stackoverflow.com/users/3951782/sudo-bangbang"}, "is_accepted": true, "score": 1, "last_activity_date": 1461840771, "last_edit_date": 1592644375, "creation_date": 1461840771, "answer_id": 36912510, "question_id": 36897013, "link": "https://stackoverflow.com/questions/36897013/dashing-job-get-event/36912510#36912510", "title": "Dashing job get_event?", "body": "<p>From <a href=\"https://github.com/Shopify/dashing/issues/298\" rel=\"nofollow noreferrer\">this issue</a> in dashing github repository, You can use <a href=\"http://www.html5rocks.com/en/tutorials/eventsource/basics/\" rel=\"nofollow noreferrer\">server sent events</a> to get data from dashing dashboard.</p>\n<p>Dashing provides data from the same API end point</p>\n<blockquote>\n<p><a href=\"http://dashingdemo.herokuapp.com/events\" rel=\"nofollow noreferrer\">http://dashingdemo.herokuapp.com/events</a></p>\n</blockquote>\n<p>Excerpt from returned data</p>\n<blockquote>\n<p>data: {&quot;current&quot;:77,&quot;last&quot;:82,&quot;id&quot;:&quot;valuation&quot;,&quot;updatedAt&quot;:1461840437}</p>\n<p>data: {&quot;current&quot;:104578,&quot;last&quot;:89199,&quot;id&quot;:&quot;karma&quot;,&quot;updatedAt&quot;:1461840437}</p>\n<p>data: {&quot;value&quot;:62,&quot;id&quot;:&quot;synergy&quot;,&quot;updatedAt&quot;:1461840437}</p>\n</blockquote>\n"}], "owner": {"reputation": 291, "user_id": 1538234, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6873c0547a4128d68b6ca08c6adf5772?s=128&d=identicon&r=PG", "display_name": "Chris Gambrell", "link": "https://stackoverflow.com/users/1538234/chris-gambrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 36912510, "answer_count": 1, "score": 0, "last_activity_date": 1461840771, "creation_date": 1461778560, "question_id": 36897013, "link": "https://stackoverflow.com/questions/36897013/dashing-job-get-event", "title": "Dashing job get_event?", "body": "<p>In my dashboard I have a job where I would like to get a value from my widget.</p>\n\n<pre><code># :first_in sets how long it takes before the job is first run. In this case, it is run immediately\nSCHEDULER.every '1s', :first_in =&gt; 0 do |job|\n  send_event('my_widget', { value: rand(400) })\nend\n</code></pre>\n\n<p>This is the code to send data to my widget, but how could I get the data? What is the \"<code>get_event</code>\" that I'm looking for?</p>\n"}, {"tags": ["ruby", "algorithm", "optimization", "refactoring"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461779471, "post_id": 36896936, "comment_id": 61358713, "body": "What are you optimizing for? Performance? Memory usage? Readability?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461784679, "post_id": 36896936, "comment_id": 61362059, "body": "If your code runs, then consider moving your question to <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}], "answers": [{"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461785093, "post_id": 36897904, "comment_id": 61362322, "body": "<a href=\"http://meta.stackoverflow.com/a/255685/128421\">meta.stackoverflow.com/a/255685/128421</a> and <a href=\"http://meta.stackexchange.com/questions/127639/when-is-edit-update-appropriate-in-a-post\" title=\"when is edit update appropriate in a post\">meta.stackexchange.com/questions/127639/&hellip;</a> are useful to know."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461785521, "post_id": 36897904, "comment_id": 61362596, "body": "The second one has a number of related links that dig more deeply into why. It&#39;s interesting reading the depth and breadth of knowledge on this site."}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 3, "last_activity_date": 1521656998, "last_edit_date": 1521656998, "creation_date": 1461781285, "answer_id": 36897904, "question_id": 36896936, "link": "https://stackoverflow.com/questions/36896936/optimization-for-finding-perfect-square-algorithm/36897904#36897904", "title": "Optimization for finding perfect-square algorithm", "body": "<p>I would start by introducing some helper methods (<code>factors</code> and <code>square?</code>) to make your code more readable.</p>\n\n<p>Furthermore, I would reduce the number of ranges and arrays to improve memory usage.</p>\n\n<pre><code>require 'prime'\n\ndef factors(number)\n  [1].tap do |factors|\n    primes = number.prime_division.flat_map { |p, e| Array.new(e, p) }\n    (1..primes.size).each do |i| \n      primes.combination(i).each do |combination| \n        factor = combination.inject(:*)\n        factors &lt;&lt; factor unless factors.include?(factor)\n      end\n    end\n  end\nend\n\ndef square?(number)\n  square = Math.sqrt(number)\n  square == square.floor\nend\n\ndef list_squared(m, n)\n  (m..n).map do |number|\n    sum = factors(number).inject { |sum, x| sum + x ** 2 }\n    [number, sum] if square?(sum)\n  end.compact\nend\n\nlist_squared(1, 250)\n</code></pre>\n\n<p>A benchmark with a narrow range (up to <code>250</code>) shows only a minor improvement: </p>\n\n<pre><code>require 'benchmark'\nn = 1_000\n\nBenchmark.bmbm(15) do |x|\n  x.report(\"original_list_squared :\") { n.times do; original_list_squared(1, 250); end }\n  x.report(\"improved_list_squared :\") { n.times do; improved_list_squared(1, 250); end }\nend\n\n# Rehearsal -----------------------------------------------------------\n# original_list_squared :   2.720000   0.010000   2.730000 (  2.741434)\n# improved_list_squared :   2.590000   0.000000   2.590000 (  2.604415)\n# -------------------------------------------------- total: 5.320000sec\n\n#                               user     system      total        real\n# original_list_squared :   2.710000   0.000000   2.710000 (  2.721530)\n# improved_list_squared :   2.620000   0.010000   2.630000 (  2.638833)\n</code></pre>\n\n<p>But a benchmark with a wider range (up to <code>10000</code>) shows a much better performance than the original implementation:</p>\n\n<pre><code>require 'benchmark'\nn = 10\n\nBenchmark.bmbm(15) do |x|\n  x.report(\"original_list_squared :\") { n.times do; original_list_squared(1, 10000); end }\n  x.report(\"improved_list_squared :\") { n.times do; improved_list_squared(1, 10000); end }\nend\n\n# Rehearsal -----------------------------------------------------------\n# original_list_squared :  36.400000   0.160000  36.560000 ( 36.860889)\n# improved_list_squared :   2.530000   0.000000   2.530000 (  2.540743)\n# ------------------------------------------------- total: 39.090000sec\n\n#                               user     system      total        real\n# original_list_squared :  36.370000   0.120000  36.490000 ( 36.594130)\n# improved_list_squared :   2.560000   0.010000   2.570000 (  2.581622)\n</code></pre>\n\n<p>tl;dr: The bigger the <code>N</code> the better my code performs compared to the original implementation...</p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1461801831, "last_edit_date": 1461801831, "creation_date": 1461783040, "answer_id": 36898446, "question_id": 36896936, "link": "https://stackoverflow.com/questions/36896936/optimization-for-finding-perfect-square-algorithm/36898446#36898446", "title": "Optimization for finding perfect-square algorithm", "body": "<p>One way to make it more efficient is to use Ruby's built-in method <a href=\"http://ruby-doc.org/stdlib-2.3.0/libdoc/prime/rdoc/Prime.html#method-i-prime_division\" rel=\"nofollow\">Prime::prime_division</a>.</p>\n\n<p>For any number <code>n</code>, if <code>prime_division</code> returns an array containing a single element, that element will be <code>[n,1]</code> and <code>n</code> will have been shown to be prime. That prime number has factors <code>n</code> and <code>1</code>, so must be treated differently than numbers that are not prime.</p>\n\n<pre><code>require 'prime'\n\ndef list_squared(range)\n  range.each_with_object({}) do |i,h|\n    facs = Prime.prime_division(i)\n    ssq = \n    case facs.size\n    when 1 then facs.first.first**2 + 1\n    else facs.inject(0) { |tot,(a,b)| tot + b*(a**2) }\n    end\n    h[i] = facs if (Math.sqrt(ssq).to_i)**2 == ssq\n  end\nend\n\nlist_squared(1..10_000)\n  #=&gt; { 1=&gt;[], 48=&gt;[[2, 4], [3, 1]], 320=&gt;[[2, 6], [5, 1]], 351=&gt;[[3, 3], [13, 1]],\n  #     486=&gt;[[2, 1], [3, 5]], 1080=&gt;[[2, 3], [3, 3], [5, 1]],\n  #     1260=&gt;[[2, 2], [3, 2], [5, 1], [7, 1]], 1350=&gt;[[2, 1], [3, 3], [5, 2]],\n  #     1375=&gt;[[5, 3], [11, 1]], 1792=&gt;[[2, 8], [7, 1]], 1836=&gt;[[2, 2], [3, 3], [17, 1]],\n  #     2070=&gt;[[2, 1], [3, 2], [5, 1], [23, 1]], 2145=&gt;[[3, 1], [5, 1], [11, 1], [13, 1]],\n  #     2175=&gt;[[3, 1], [5, 2], [29, 1]], 2730=&gt;[[2, 1], [3, 1], [5, 1], [7, 1], [13, 1]],\n  #     2772=&gt;[[2, 2], [3, 2], [7, 1], [11, 1]], 3072=&gt;[[2, 10], [3, 1]],\n  #     3150=&gt;[[2, 1], [3, 2], [5, 2], [7, 1]], 3510=&gt;[[2, 1], [3, 3], [5, 1], [13, 1]],\n  #     4104=&gt;[[2, 3], [3, 3], [19, 1]], 4305=&gt;[[3, 1], [5, 1], [7, 1], [41, 1]],\n  #     4625=&gt;[[5, 3], [37, 1]], 4650=&gt;[[2, 1], [3, 1], [5, 2], [31, 1]],\n  #     4655=&gt;[[5, 1], [7, 2], [19, 1]], 4998=&gt;[[2, 1], [3, 1], [7, 2], [17, 1]],\n  #     5880=&gt;[[2, 3], [3, 1], [5, 1], [7, 2]], 6000=&gt;[[2, 4], [3, 1], [5, 3]],\n  #     6174=&gt;[[2, 1], [3, 2], [7, 3]], 6545=&gt;[[5, 1], [7, 1], [11, 1], [17, 1]],\n  #     7098=&gt;[[2, 1], [3, 1], [7, 1], [13, 2]], 7128=&gt;[[2, 3], [3, 4], [11, 1]],\n  #     7182=&gt;[[2, 1], [3, 3], [7, 1], [19, 1]], 7650=&gt;[[2, 1], [3, 2], [5, 2], [17, 1]],\n  #     7791=&gt;[[3, 1], [7, 2], [53, 1]], 7889=&gt;[[7, 3], [23, 1]],\n  #     7956=&gt;[[2, 2], [3, 2], [13, 1], [17, 1]],\n  #     9030=&gt;[[2, 1], [3, 1], [5, 1], [7, 1], [43, 1]],\n  #     9108=&gt;[[2, 2], [3, 2], [11, 1], [23, 1]], 9295=&gt;[[5, 1], [11, 1], [13, 2]],\n  #     9324=&gt;[[2, 2], [3, 2], [7, 1], [37, 1]]} \n</code></pre>\n\n<p>This calculation took approximately 0.15 seconds.</p>\n\n<p>For <code>i = 6174</code></p>\n\n<pre><code> (2**1) * (3**2) * (7**3) #=&gt; 6174\n</code></pre>\n\n<p>and</p>\n\n<pre><code> 1*(2**2) + 2*(3**2) + 3*(7**2) #=&gt; 169 == 13*13 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51837, "user_id": 2144669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7393f439028063515255b63ed94cfd?s=128&d=identicon&r=PG", "display_name": "David Eisenstat", "link": "https://stackoverflow.com/users/2144669/david-eisenstat"}, "is_accepted": false, "score": 0, "last_activity_date": 1464388991, "creation_date": 1464388991, "answer_id": 37493277, "question_id": 36896936, "link": "https://stackoverflow.com/questions/36896936/optimization-for-finding-perfect-square-algorithm/37493277#37493277", "title": "Optimization for finding perfect-square algorithm", "body": "<p>The trick that frequently solves questions like this is to switch from trial division to a <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow\">sieve</a>. In Python (sorry):</p>\n\n<pre><code>def list_squared(m, n):\n    factor_squared_sum = {i: 0 for i in range(m, n + 1)}\n    for factor in range(1, n + 1):\n        i = n - n % factor  # greatest multiple of factor less than or equal to n\n        while i &gt;= m:\n            factor_squared_sum[i] += factor ** 2\n            i -= factor\n    return {i for (i, fss) in factor_squared_sum.items() if isqrt(fss) ** 2 == fss}\n\n\ndef isqrt(n):\n    # from http://stackoverflow.com/a/15391420\n    x = n\n    y = (x + 1) // 2\n    while y &lt; x:\n        x = y\n        y = (x + n // x) // 2\n    return x\n</code></pre>\n\n<p>The next optimization is to step <code>factor</code> only to <code>isqrt(n)</code>, adding the factor squares in pairs (e.g., <code>2</code> and <code>i // 2</code>).</p>\n"}], "owner": {"reputation": 35, "user_id": 6142144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BMtL5.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/6142144/tomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 0, "accepted_answer_id": 36897904, "answer_count": 3, "score": 1, "last_activity_date": 1521656998, "creation_date": 1461778352, "last_edit_date": 1461784602, "question_id": 36896936, "link": "https://stackoverflow.com/questions/36896936/optimization-for-finding-perfect-square-algorithm", "title": "Optimization for finding perfect-square algorithm", "body": "<p>The <a href=\"http://www.codewars.com/kata/55aa075506463dac6600010d/train/ruby\" rel=\"nofollow\">question</a> I'm working on is:</p>\n\n<blockquote>\n  <p>Find which sum of squared factors are a perfect square given a specific range.\n  So if the range was (1..10) you would get each number's factors (all factors for 1, all factors for 2, all factors for 3 ect..) Square those factors, then add them together. Finally check if that sum is a perfect square.</p>\n</blockquote>\n\n<p>I am stuck on refactoring/optimization because my solution is too slow.</p>\n\n<p>Here is what I came up with:</p>\n\n<pre><code>def list_squared(m, n)\n  ans = []\n  range = (m..n)\n\n  range.each do |i|\n    factors = (1..i).select { |j| i % j == 0 }\n    squares = factors.map { |k| k ** 2 }\n    sum = squares.inject { |sum,x| sum + x }\n    if sum == Math.sqrt(sum).floor ** 2\n      all = []\n      all += [i, sum]\n      ans &lt;&lt; all\n    end\n  end\n\n  ans\nend\n</code></pre>\n\n<p>This is an example of what I would put in the method:</p>\n\n<pre><code>list_squared(1, 250)\n</code></pre>\n\n<p>And then the desired output would be an array of arrays with each array containing the number whose sum of squared factors was a perfect square and the sum of those squared factors:</p>\n\n<pre><code>[[1, 1], [42, 2500], [246, 84100]]\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ajax", "activerecord"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6262140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c530f7750408631407daf19d8bd22f?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano Junior", "link": "https://stackoverflow.com/users/6262140/luciano-junior"}, "edited": false, "score": 0, "creation_date": 1461786646, "post_id": 36897600, "comment_id": 61363286, "body": "Hi ilan berci Thank you so much for your answer. There&#39;s no problem in saving directly on db. But as I&#39;am learning and I problably know how to do that, I was trying to do something I have no ideia how to achieve. 1 - I supposed that, in fact, is not beauty at all. 2 - Thanks, that seem great. 3 - Got it."}, {"owner": {"reputation": 11, "user_id": 6262140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c530f7750408631407daf19d8bd22f?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano Junior", "link": "https://stackoverflow.com/users/6262140/luciano-junior"}, "edited": false, "score": 0, "creation_date": 1461787005, "post_id": 36897600, "comment_id": 61363520, "body": "By the way as I&#39;m changing from Desk(Delphi/ VS) dev to Web, I need to learn again everything I know, even more about ruby/rails as it have another perspective about developing. For example, I&#39;m not 100% sure if I made my models and associations the right way. It seems more logical a cake having many or one(depending on POV) recipes and each recipe having many ingredients, so I think I would need another join model with recipes and ingredients. That&#39;s why I came here and asked this question, to see if I&#39;m going to the right way and trying to do something I don&#39;t know how to start."}], "tags": [], "owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "is_accepted": false, "score": 0, "last_activity_date": 1461780356, "creation_date": 1461780356, "answer_id": 36897600, "question_id": 36896818, "link": "https://stackoverflow.com/questions/36896818/rails-add-to-association-through-table-or-select/36897600#36897600", "title": "Rails - Add to Association through table or select", "body": "<p>Luciano, </p>\n\n<p>Why couldn't you create a cake and then the process of adding ingredients will result in incremental changes in your db?  Why does it all have to be complete client side (and increasing the risk of the user loosing their work).</p>\n\n<p>If you want to do it client side, then avoid the trips to the back end until you are ready to commit.  You will have to provide JS to dynamically add form elements as the user selects them.  </p>\n\n<p>To answer your questions:\n1) Do not use the global... not only is it not Ruby.. it will never work if you have more than one user.  You are free to use the session if you want however but it is generally a discouraged practice and not needed in your case.  If you build your model incrementally as described above, you avoid this entirely.</p>\n\n<p>2) Take a look at 'chosen' js select.. it is very powerful and I believe it will satisfy your requirements</p>\n\n<p>3) Try to avoid using gems when you are first learning Rails.  The staggering amount of gems found on big project teams makes it increasingly difficult for new team members to come up to speed. Most projects have hundreds of gems but usually most are known (or almost default) for some applications.</p>\n"}], "owner": {"reputation": 11, "user_id": 6262140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c530f7750408631407daf19d8bd22f?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano Junior", "link": "https://stackoverflow.com/users/6262140/luciano-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461780356, "creation_date": 1461777986, "last_edit_date": 1461778293, "question_id": 36896818, "link": "https://stackoverflow.com/questions/36896818/rails-add-to-association-through-table-or-select", "title": "Rails - Add to Association through table or select", "body": "<p>I'm new to Rails world, so I'm trying to do some sample apps to learn even more. I'm stuck and I would appreciate any help. I looked for some similar question without success. But I think there's one somewhere.</p>\n\n<p>The case is: I Have a Cake model that has_many Ingredients Through Recipes. Creating, Editing, Deleting is Ok, the basics I already learned. But I want to, while creating(or editing) a Cake, be able to see all Ingredients already in that recipe (Done) and choose from a \"select\" or a table(listing, thats the case below) any Ingredient I want to add or remove from Recipe. Doing all this without commit to database and not reloading the page (Ajax). Then when I click \"Save cake\" everything is commited to Database. I made myself clear?</p>\n\n<p>Below is what I did till now:</p>\n\n<p><i>routes.rb</i></p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :cakes do\n    resources :ingredients do\n      member do\n        get 'add', to: 'cakes#add'\n        get 'remove', to: 'cakes#remove'\n      end  \n    end  \n  end  \n\n  resources :ingredients \n\nend \n</code></pre>\n\n<p><i>cake.rb</i></p>\n\n<pre><code>class Cake &lt; ActiveRecord::Base\n  has_many :recipes\n  has_many :ingredients, through: :recipes\nend\n</code></pre>\n\n<p><i>ingredient.rb</i></p>\n\n<pre><code>class Ingredient &lt; ActiveRecord::Base\n  has_many :recipes\n  has_many :cakes, through: :recipes\nend\n</code></pre>\n\n<p><i>recipe.rb</i></p>\n\n<pre><code>class Recipe &lt; ActiveRecord::Base\n  belongs_to :cake\n  belongs_to :ingredient\nend \n</code></pre>\n\n<p><i>cakes_controller.tb</i></p>\n\n<pre><code>class CakesController &lt; ApplicationController\n  before_action :set_cake, only: [:show, :edit, :update, :destroy]\n  before_action :set_ingredients, only: [:new, :edit]\n\n  def index\n    @cakes = Cake.all\n  end\n\n  def show\n\n  end\n\n  def new\n    @cake = Cake.new\n  end\n\n  def edit\n\n  end\n\n  def create\n    @cake = Cake.new(cake_params)\n    @cake.save\n    redirect_to cakes_path\n  end\n\n    private\n          def cake_params\n            params.require(:cake).permit(:name)\n          end\n\n          def set_cake\n            @cake = Cake.find(params[:id])\n            @used_ingredients = @cake.ingredients\n          end\n\n          def set_ingredients\n            @ingredients = Ingredient.all\n          end\n\nend\n</code></pre>\n\n<p><i>Form to cake - _form.html.erb</i></p>\n\n<pre><code>&lt;%= form_for @cake do |f| %&gt;\n&lt;p&gt;\n    &lt;%= f.label :name %&gt;\n    &lt;%= f.text_field :name%&gt;\n&lt;/p&gt;\n&lt;div id=\"used ingredients\" &gt;\n    &lt;%= render 'recipe_ingredients'%&gt;\n&lt;/div&gt;\n&lt;div id=\"available ingredients\" &gt;\n    &lt;%= render 'available_ingredients'%&gt;\n&lt;/div&gt;\n&lt;p&gt;\n    &lt;%= f.submit%&gt;\n&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><i>Ingredients already on recipe - _recipe_ingredients.html.erb</i></p>\n\n<pre><code>&lt;table border=\"1px\"&gt;\n&lt;tr&gt;\n    &lt;th colspan=\"2\"&gt;Used Ingredients&lt;/th&gt;\n&lt;/tr&gt;\n\n&lt;% @used_ingredients.each do |ingredient| %&gt;\n    &lt;tr&gt;\n        &lt;td&gt; &lt;%= ingredient.name %&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;%= link_to 'Remove', remove_cake_ingredient_path(@cake,ingredient), remote: true %&gt; &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;% end %&gt;\n\n&lt;/table&gt;\n</code></pre>\n\n<p><i>Ingredients available - _available_ingredients.html.erb</i></p>\n\n<pre><code>&lt;table border=\"1px\"&gt;\n&lt;tr&gt;\n    &lt;th colspan=\"2\"&gt;Available Ingredients&lt;/th&gt;\n&lt;/tr&gt;\n\n&lt;% @ingredients.each do |ingredient| %&gt;\n    &lt;tr&gt;\n        &lt;td&gt; &lt;%= ingredient.name %&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;%= link_to 'Add', add_cake_ingredient_path(@cake,ingredient), remote: true %&gt; &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;% end %&gt;\n\n&lt;/table&gt;\n</code></pre>\n\n<p>Here is where I'm stuck, how to add or remove items from @cake.ingredients without committing on database and reload the recipe ingredients list without reload the page (in fact, reload the list I know how to do, through JS rendering the partial again, that's ok.).\nBut the trick here is click on the \"Add\" or \"Remove\" link, add or remove an ingredient to/from recipe and only commit after \"Save Cake\" submit button. Or cancel any changes if the user change his mind. That's why I need to work on the object lists, not database directly.</p>\n\n<p>Anyone could help me?</p>\n\n<p>PS.: 1 - I know that remote:true on links will fire a action.js.erb file. That's clear to me. The problem is I couldn't work with the same object (@cake.recipes) on every add/remove link click. On another test I made a global hash $ingredients, but I don't think that's the Rubier mode.</p>\n\n<p>2 - I made a table(grid) with all available ingredients, but it culd be a select or collection_select, but I don't want to use the multiple:true option</p>\n\n<p>3 - Maybe there is some Gem that do what I need, if anyone could know.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461778234, "post_id": 36896788, "comment_id": 61357928, "body": "The log file is very hard to scan and read. Can you please copy and paste it again, but with the original line breaks in place?"}, {"owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "edited": false, "score": 0, "creation_date": 1461778565, "post_id": 36896788, "comment_id": 61358147, "body": "Post your sessions_controller pleases"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6262824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2f9492358c9030bdc022eaced9179f?s=128&d=identicon&r=PG&f=1", "display_name": "ArielSkye", "link": "https://stackoverflow.com/users/6262824/arielskye"}, "edited": false, "score": 0, "creation_date": 1461872773, "post_id": 36918608, "comment_id": 61409572, "body": "Thanks for this info. My app is working fine locally, actually, so that&#39;s weird. I&#39;ll try this though!"}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 1, "user_id": 6262824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2f9492358c9030bdc022eaced9179f?s=128&d=identicon&r=PG&f=1", "display_name": "ArielSkye", "link": "https://stackoverflow.com/users/6262824/arielskye"}, "edited": false, "score": 0, "creation_date": 1461873335, "post_id": 36918608, "comment_id": 61409856, "body": "Locally (in dev mode) Rails may not be loading the session controller until it&#39;s needed, but in production everything gets loaded at boot. Try hitting a session endpoint and you should be able to trigger the problem."}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1461855988, "creation_date": 1461855988, "answer_id": 36918608, "question_id": 36896788, "link": "https://stackoverflow.com/questions/36896788/my-heroku-app-is-crashing-error-h10-and-i-dont-know-why/36918608#36918608", "title": "My Heroku app is crashing (error H10) and I don&#39;t know why", "body": "<p>This is the problem:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>! Unable to load application: \nSyntaxError: /app/app/controllers/registrations/sessions_controller.rb:1:\nclass/module name must be CONSTANT\n</code></pre>\n\n<p>In Ruby, constants start with an upper-case letter, but you've defined your controller in lower case:</p>\n\n<pre><code>registrations::sessionsController &lt; Devise::sessionsController\n</code></pre>\n\n<p>Make it properly capitalized:</p>\n\n<pre><code>Registrations::SessionsController &lt; Devise::SessionsController\n</code></pre>\n\n<p>This same crash should be happening locally when you run <code>rails s</code>. It'll be faster to keep iterating until that works before you deploy again.</p>\n"}], "owner": {"reputation": 1, "user_id": 6262824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2f9492358c9030bdc022eaced9179f?s=128&d=identicon&r=PG&f=1", "display_name": "ArielSkye", "link": "https://stackoverflow.com/users/6262824/arielskye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461855988, "creation_date": 1461777915, "last_edit_date": 1461781676, "question_id": 36896788, "link": "https://stackoverflow.com/questions/36896788/my-heroku-app-is-crashing-error-h10-and-i-dont-know-why", "title": "My Heroku app is crashing (error H10) and I don&#39;t know why", "body": "<p>I recently pushed my Rails app to Heroku and got a crash error (error H10 in the logs). I can't figure out what's wrong. </p>\n\n<p>I've tried <code>heroku restart</code> and deleting and redeploying my app in Heroku. At first, I was getting a WARNING when I pushed my code to Heroku because it couldn't locate a Procfile, so I followed <a href=\"https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server\" rel=\"nofollow\">these instructions</a> to install Puma, as Heroku suggested.</p>\n\n<p>Not sure why this is happening, and I can't find anything that applies in other threads. Any ideas?</p>\n\n<p>My logs are below for context. Thanks in advance!</p>\n\n<pre><code>&gt; Ariels-MacBook-Pro:UNTsafetyApp ArielSkyeBailey$ heroku logs\n&gt; 2016-04-27T17:06:32.859125+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:30:in\n&gt; `instance_exec' 2016-04-27T17:06:32.859125+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:30:in\n&gt; `run' 2016-04-27T17:06:32.859133+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:55:in\n&gt; `block in run_initializers' 2016-04-27T17:06:32.859111+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:346:in\n&gt; `eager_load!' 2016-04-27T17:06:32.859134+00:00 app[web.1]:    from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226:in `block in\n&gt; tsort_each' 2016-04-27T17:06:32.859136+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:429:in\n&gt; `each_strongly_connected_component_from'\n&gt; 2016-04-27T17:06:32.859135+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:348:in `block (2\n&gt; levels) in each_strongly_connected_component'\n&gt; 2016-04-27T17:06:32.859143+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:347:in `block in\n&gt; each_strongly_connected_component' 2016-04-27T17:06:32.859146+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in\n&gt; `each_strongly_connected_component' 2016-04-27T17:06:32.859144+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in `each'\n&gt; 2016-04-27T17:06:32.859145+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in `call'\n&gt; 2016-04-27T17:06:32.859153+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:224:in `tsort_each'\n&gt; 2016-04-27T17:06:32.859156+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/application.rb:352:in\n&gt; `initialize!' 2016-04-27T17:06:32.859164+00:00 app[web.1]:    from\n&gt; /app/config/environment.rb:5:in `&lt;top (required)&gt;'\n&gt; 2016-04-27T17:06:32.859154+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:203:in `tsort_each'\n&gt; 2016-04-27T17:06:32.859155+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:54:in\n&gt; `run_initializers' 2016-04-27T17:06:32.859165+00:00 app[web.1]:   from\n&gt; config.ru:3:in `require' 2016-04-27T17:06:32.859174+00:00 app[web.1]:\n&gt;   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in\n&gt; `initialize' 2016-04-27T17:06:32.859175+00:00 app[web.1]:     from\n&gt; config.ru:in `new' 2016-04-27T17:06:32.859166+00:00 app[web.1]:   from\n&gt; config.ru:3:in `block in &lt;main&gt;' 2016-04-27T17:06:32.859182+00:00\n&gt; app[web.1]:   from config.ru:in `&lt;main&gt;'\n&gt; 2016-04-27T17:06:32.859173+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in\n&gt; `instance_eval' 2016-04-27T17:06:32.859183+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in\n&gt; `eval' 2016-04-27T17:06:32.859193+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/configuration.rb:242:in\n&gt; `app' 2016-04-27T17:06:32.859185+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:40:in\n&gt; `parse_file' 2016-04-27T17:06:32.859196+00:00 app[web.1]:     from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/cluster.rb:370:in\n&gt; `run' 2016-04-27T17:06:32.859193+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/configuration.rb:313:in\n&gt; `load_rackup' 2016-04-27T17:06:32.859184+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in\n&gt; `new_from_string' 2016-04-27T17:06:32.859204+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/cli.rb:74:in\n&gt; `run' 2016-04-27T17:06:32.859205+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/bin/puma:10:in `&lt;top\n&gt; (required)&gt;' 2016-04-27T17:06:32.859207+00:00 app[web.1]:     from\n&gt; /app/vendor/bundle/ruby/2.2.0/bin/puma:23:in `load'\n&gt; 2016-04-27T17:06:32.859203+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/launcher.rb:172:in\n&gt; `run' 2016-04-27T17:06:32.859214+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/bin/puma:23:in `&lt;main&gt;'\n&gt; 2016-04-27T17:06:32.859195+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/runner.rb:123:in\n&gt; `load_and_bind' 2016-04-27T17:06:33.592393+00:00 heroku[web.1]: State\n&gt; changed from starting to crashed 2016-04-27T17:06:33.546195+00:00\n&gt; heroku[web.1]: Process exited with status 1\n&gt; 2016-04-27T17:06:39.872306+00:00 heroku[web.1]: State changed from\n&gt; crashed to starting 2016-04-27T17:06:42.795985+00:00 heroku[web.1]:\n&gt; Starting process with command `bundle exec puma -C config/puma.rb`\n&gt; 2016-04-27T17:06:45.908101+00:00 app[web.1]: [3] * Min threads: 1, max\n&gt; threads: 1 2016-04-27T17:06:45.908096+00:00 app[web.1]: [3] * Version\n&gt; 3.4.0 (ruby 2.2.1-p85), codename: Owl Bowl Brawl 2016-04-27T17:06:45.908102+00:00 app[web.1]: [3] * Environment:\n&gt; production 2016-04-27T17:06:45.908082+00:00 app[web.1]: [3] Puma\n&gt; starting in cluster mode... 2016-04-27T17:06:45.908103+00:00\n&gt; app[web.1]: [3] * Process workers: 2 2016-04-27T17:06:45.908105+00:00\n&gt; app[web.1]: [3] * Preloading application\n&gt; 2016-04-27T17:06:49.148825+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:274:in `block in require' 2016-04-27T17:06:49.148442+00:00 app[web.1]: class\n&gt; registrations::sessionsController &lt; Devise::sessionsController\n&gt; 2016-04-27T17:06:49.148841+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:240:in `load_dependency' 2016-04-27T17:06:49.148777+00:00 app[web.1]:        \n&gt; ^ 2016-04-27T17:06:49.148742+00:00 app[web.1]:\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:274:in `require':\n&gt; /app/app/controllers/registrations/sessions_controller.rb:1:\n&gt; class/module name must be CONSTANT (SyntaxError)\n&gt; 2016-04-27T17:06:49.148766+00:00 app[web.1]: class\n&gt; registrations::sessionsController &lt; Devise::sessionsController\n&gt; 2016-04-27T17:06:49.148432+00:00 app[web.1]: [3] ! Unable to load\n&gt; application: SyntaxError:\n&gt; /app/app/controllers/registrations/sessions_controller.rb:1:\n&gt; class/module name must be CONSTANT 2016-04-27T17:06:49.148492+00:00\n&gt; app[web.1]:                                          ^\n&gt; 2016-04-27T17:06:49.149263+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:55:in\n&gt; `block in run_initializers' 2016-04-27T17:06:49.149220+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:30:in\n&gt; `instance_exec' 2016-04-27T17:06:49.149248+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:30:in\n&gt; `run' 2016-04-27T17:06:49.148858+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:274:in `require' 2016-04-27T17:06:49.148873+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:360:in `require_or_load' 2016-04-27T17:06:49.148888+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:317:in `depend_on' 2016-04-27T17:06:49.148908+00:00 app[web.1]:     from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.6/lib/active_support/dependencies.rb:233:in `require_dependency' 2016-04-27T17:06:49.148924+00:00 app[web.1]:\n&gt;   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:472:in\n&gt; `block (2 levels) in eager_load!' 2016-04-27T17:06:49.148941+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:471:in\n&gt; `each' 2016-04-27T17:06:49.149014+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:471:in\n&gt; `block in eager_load!' 2016-04-27T17:06:49.149042+00:00 app[web.1]:\n&gt;   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:469:in\n&gt; `each' 2016-04-27T17:06:49.149057+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:469:in\n&gt; `eager_load!' 2016-04-27T17:06:49.149114+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/engine.rb:346:in\n&gt; `eager_load!' 2016-04-27T17:06:49.149128+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/application/finisher.rb:56:in\n&gt; `each' 2016-04-27T17:06:49.149162+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/application/finisher.rb:56:in\n&gt; `block in &lt;module:Finisher&gt;' 2016-04-27T17:06:49.149378+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in `call'\n&gt; 2016-04-27T17:06:49.149279+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226:in `block in\n&gt; tsort_each' 2016-04-27T17:06:49.149294+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:348:in `block (2\n&gt; levels) in each_strongly_connected_component'\n&gt; 2016-04-27T17:06:49.149391+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in\n&gt; `each_strongly_connected_component' 2016-04-27T17:06:49.149309+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:429:in\n&gt; `each_strongly_connected_component_from'\n&gt; 2016-04-27T17:06:49.149340+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:347:in `block in\n&gt; each_strongly_connected_component' 2016-04-27T17:06:49.149365+00:00\n&gt; app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in `each'\n&gt; 2016-04-27T17:06:49.149472+00:00 app[web.1]:  from config.ru:3:in\n&gt; `require' 2016-04-27T17:06:49.149564+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in\n&gt; `instance_eval' 2016-04-27T17:06:49.149576+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in\n&gt; `initialize' 2016-04-27T17:06:49.149591+00:00 app[web.1]:     from\n&gt; config.ru:in `new' 2016-04-27T17:06:49.149405+00:00 app[web.1]:   from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:224:in `tsort_each'\n&gt; 2016-04-27T17:06:49.149417+00:00 app[web.1]:  from\n&gt; /app/vendor/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:203:in `tsort_each'\n&gt; 2016-04-27T17:06:49.149430+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/initializable.rb:54:in\n&gt; `run_initializers' 2016-04-27T17:06:49.149603+00:00 app[web.1]:   from\n&gt; config.ru:in `&lt;main&gt;' 2016-04-27T17:06:49.149615+00:00 app[web.1]:\n&gt;   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in\n&gt; `eval' 2016-04-27T17:06:49.149628+00:00 app[web.1]:   from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:49:in\n&gt; `new_from_string' 2016-04-27T17:06:49.149642+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/rack-1.6.4/lib/rack/builder.rb:40:in\n&gt; `parse_file' 2016-04-27T17:06:49.149704+00:00 app[web.1]:     from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/configuration.rb:313:in\n&gt; `load_rackup' 2016-04-27T17:06:49.149726+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/configuration.rb:242:in\n&gt; `app' 2016-04-27T17:06:49.149738+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/runner.rb:123:in\n&gt; `load_and_bind' 2016-04-27T17:06:49.149750+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/cluster.rb:370:in\n&gt; `run' 2016-04-27T17:06:49.149776+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/cli.rb:74:in\n&gt; `run' 2016-04-27T17:06:49.149457+00:00 app[web.1]:    from\n&gt; /app/config/environment.rb:5:in `&lt;top (required)&gt;'\n&gt; 2016-04-27T17:06:49.149444+00:00 app[web.1]:  from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/railties-4.2.6/lib/rails/application.rb:352:in\n&gt; `initialize!' 2016-04-27T17:06:49.149791+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/bin/puma:10:in `&lt;top\n&gt; (required)&gt;' 2016-04-27T17:06:49.149762+00:00 app[web.1]:     from\n&gt; /app/vendor/bundle/ruby/2.2.0/gems/puma-3.4.0/lib/puma/launcher.rb:172:in\n&gt; `run' 2016-04-27T17:06:49.149806+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/bin/puma:23:in `load'\n&gt; 2016-04-27T17:06:49.149540+00:00 app[web.1]:  from config.ru:3:in\n&gt; `block in &lt;main&gt;' 2016-04-27T17:06:49.149882+00:00 app[web.1]:    from\n&gt; /app/vendor/bundle/ruby/2.2.0/bin/puma:23:in `&lt;main&gt;'\n&gt; 2016-04-27T17:06:50.226685+00:00 heroku[web.1]: Process exited with\n&gt; status 1 2016-04-27T17:06:50.246790+00:00 heroku[web.1]: State changed\n&gt; from starting to crashed 2016-04-27T17:06:51.370866+00:00\n&gt; heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET\n&gt; path=\"/\" host=unt-safe.herokuapp.com\n&gt; request_id=28d89480-8c81-4100-aef1-4cddff501714 fwd=\"97.94.197.248\"\n&gt; dyno= connect= service= status=503 bytes=\n&gt; 2016-04-27T17:06:51.875582+00:00 heroku[router]: at=error code=H10\n&gt; desc=\"App crashed\" method=GET path=\"/favicon.ico\"\n&gt; host=unt-safe.herokuapp.com\n&gt; request_id=67090db5-b562-4ea4-92e6-22a7ba17df81 fwd=\"97.94.197.248\"\n&gt; dyno= connect= service= status=503 bytes=\n</code></pre>\n\n<p>sessions_controller.rb:</p>\n\n<pre><code>&gt; class registrations::sessionsController &lt; Devise::sessionsController\n&gt; \n&gt;   @users = User.all @hash = Gmaps4rails.build_markers(@users) do |user,\n&gt; marker|   marker.lat user.latitude   marker.lng user.longitude    end\n&gt; end\n</code></pre>\n"}, {"tags": ["ruby", "rubocop"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 1, "creation_date": 1461776568, "post_id": 36896279, "comment_id": 61356812, "body": "Try <a href=\"https://github.com/bbatsov/rubocop#includingexcluding-files\" rel=\"nofollow noreferrer\">github.com/bbatsov/rubocop#includingexcluding-files</a>"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 1, "creation_date": 1461777954, "post_id": 36896279, "comment_id": 61357745, "body": "Why did you copy the gem&#39;s source code into your project&#39;s folder?"}, {"owner": {"reputation": 5822, "user_id": 998495, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9ab68854cd596cfb44679b47ff05206d?s=128&d=identicon&r=PG", "display_name": "emery", "link": "https://stackoverflow.com/users/998495/emery"}, "edited": false, "score": 1, "creation_date": 1461781466, "post_id": 36896279, "comment_id": 61359994, "body": "spickermann, because we need to modify some methods on the class, and our tech lead said we aren&#39;t allowed to use monkey patches to do it."}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 0, "creation_date": 1461938419, "post_id": 36896279, "comment_id": 61439644, "body": "As an aside, why is Rubocop picking up the Gem&#39;s source code? Did you bundle-install the gem into a sub directory within your project?"}, {"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "edited": false, "score": 0, "creation_date": 1461939246, "post_id": 36896279, "comment_id": 61440184, "body": "As another aside, if the gem is on github, you can clone the gem&#39;s github repo and then point your Gemfile to your clone.  This is very easy to do."}, {"owner": {"reputation": 5822, "user_id": 998495, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9ab68854cd596cfb44679b47ff05206d?s=128&d=identicon&r=PG", "display_name": "emery", "link": "https://stackoverflow.com/users/998495/emery"}, "edited": false, "score": 0, "creation_date": 1462037121, "post_id": 36896279, "comment_id": 61473518, "body": "A new module was written in our code, with classes that extend the CukeForker gem&#39;s classes and override their methods, in order to modify the gem&#39;s output and colorization.  We had previously been monkey patching the gem&#39;s methods, but wanted to do this instead.  However, within one of the gem classes that our module extended and called, an original method was being called instead of our new method, so that code needed to be copied into the new module and modified to call the new class.  It was that code that caused Rubocop to fail."}, {"owner": {"reputation": 39041, "user_id": 27358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fed1635f89478c88eda07e87de452bcf?s=128&d=identicon&r=PG", "display_name": "David Moles", "link": "https://stackoverflow.com/users/27358/david-moles"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 2, "creation_date": 1472149325, "post_id": 36896279, "comment_id": 65648029, "body": "The manual section referenced in @orde&#39;s comment is now at <a href=\"http://rubocop.readthedocs.io/en/latest/configuration/#includingexcluding-files\" rel=\"nofollow noreferrer\">rubocop.readthedocs.io/en/latest/configuration/&hellip;</a> rather than on the github main page."}, {"owner": {"reputation": 1759, "user_id": 1627888, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/936a19b45455db9938fae3da2cac990a?s=128&d=identicon&r=PG", "display_name": "Yo Ludke", "link": "https://stackoverflow.com/users/1627888/yo-ludke"}, "edited": false, "score": 0, "creation_date": 1476891445, "post_id": 36896279, "comment_id": 67541530, "body": "@emery why don&#39;t you use refinements? <a href=\"http://yehudakatz.com/2010/11/30/ruby-2-0-refinements-in-practice/\" rel=\"nofollow noreferrer\">yehudakatz.com/2010/11/30/ruby-2-0-refinements-in-practice</a>"}], "answers": [{"comments": [{"owner": {"reputation": 832, "user_id": 698210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/869241fb965f7c14d56e9c1b1de1fee8?s=128&d=identicon&r=PG", "display_name": "Ramfjord", "link": "https://stackoverflow.com/users/698210/ramfjord"}, "edited": false, "score": 4, "creation_date": 1541712544, "post_id": 36896588, "comment_id": 93320535, "body": "This should probably be the accepted answer, since it&#39;s short. One important note I just ran into though: this will override the default AllCops.Excludes, which in Rails mode at least, will prevent rubocop from checking <code>node_modules</code> and <code>vendor</code>.  So you&#39;ll likely want to add those to your excludes as well."}, {"owner": {"reputation": 967, "user_id": 1852005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sYSxX.jpg?s=128&g=1", "display_name": "stwr667", "link": "https://stackoverflow.com/users/1852005/stwr667"}, "edited": false, "score": 1, "creation_date": 1571112387, "post_id": 36896588, "comment_id": 103121347, "body": "Note that you can do this for <b>specific</b> cops as well. E.g. <code>Metrics&#47;BlockLength: \\n   Exclude: \\n     - &#39;Rakefile&#39; \\n     - &#39;**&#47;*.rake&#39; \\n     - &#39;factories&#47;**&#47;*.rb&#39; \\n     - &#39;spec&#47;**&#47;*.rb&#39;</code> \ud83d\ude1e I wish you could do newlines in code snippets for sub-comments."}], "tags": [], "owner": {"reputation": 5822, "user_id": 998495, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9ab68854cd596cfb44679b47ff05206d?s=128&d=identicon&r=PG", "display_name": "emery", "link": "https://stackoverflow.com/users/998495/emery"}, "is_accepted": true, "score": 103, "last_activity_date": 1472149297, "last_edit_date": 1472149297, "creation_date": 1461777352, "answer_id": 36896588, "question_id": 36896279, "link": "https://stackoverflow.com/questions/36896279/how-to-tell-rubocop-to-ignore-a-specific-directory-or-file/36896588#36896588", "title": "How to tell Rubocop to ignore a specific directory or file", "body": "<p>As per orde's comment with the link to <a href=\"http://rubocop.readthedocs.io/en/latest/configuration/#includingexcluding-files\">the manual</a> I found .rubocop.yml and added the following:</p>\n\n<pre><code>AllCops:\n  Exclude:\n    - 'path/to/excluded/file.rb'\n</code></pre>\n\n<p>where the path is relative to .rubocop.yml</p>\n"}, {"comments": [{"owner": {"reputation": 8130, "user_id": 239657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53c0fe850111d3f1bbd41c24c7c62b3?s=128&d=identicon&r=PG", "display_name": "Beni Cherniavsky-Paskin", "link": "https://stackoverflow.com/users/239657/beni-cherniavsky-paskin"}, "edited": false, "score": 2, "creation_date": 1545066375, "post_id": 40259310, "comment_id": 94488308, "body": "according to the explanation link, it&#39;s <code>Exclude:</code> not <code>Excludes:</code>"}, {"owner": {"reputation": 1606, "user_id": 2497650, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/9qcHe.jpg?s=128&g=1", "display_name": "Natus Drew", "link": "https://stackoverflow.com/users/2497650/natus-drew"}, "edited": false, "score": 0, "creation_date": 1553817187, "post_id": 40259310, "comment_id": 97537458, "body": "my config needs quotes around the directory or filename"}, {"owner": {"reputation": 36888, "user_id": 293280, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6e6e22d81a1f4f394f62301be40c2e20?s=128&d=identicon&r=PG", "display_name": "Joshua Pinter", "link": "https://stackoverflow.com/users/293280/joshua-pinter"}, "edited": false, "score": 0, "creation_date": 1603378495, "post_id": 40259310, "comment_id": 114024174, "body": "NOTE: To ignore all subdirectories and files in a directory, use something like this <code>- tmp&#47;**&#47;*</code>."}], "tags": [], "owner": {"reputation": 272, "user_id": 3532080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPSBz.png?s=128&g=1", "display_name": "DennyZhang", "link": "https://stackoverflow.com/users/3532080/dennyzhang"}, "is_accepted": false, "score": 17, "last_activity_date": 1563309696, "last_edit_date": 1563309696, "creation_date": 1477476321, "answer_id": 40259310, "question_id": 36896279, "link": "https://stackoverflow.com/questions/36896279/how-to-tell-rubocop-to-ignore-a-specific-directory-or-file/40259310#40259310", "title": "How to tell Rubocop to ignore a specific directory or file", "body": "<p>For your convenience, here is the .rubocop.yml I frequently used.</p>\n\n<p>See formal explanation of .rubocop.yml <a href=\"https://github.com/bbatsov/rubocop/blob/master/config/default.yml\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>AllCops:\n  Exclude:\n    - Berksfile\n    - recipes/basic.rb\n    - attributes/*.rb\n\n# Customize rules\nMetrics/LineLength:\n  Max: 95\n\nMethodLength:\n  Max: 35\n\nMetrics/AbcSize:\n   Enabled: false\n\nBlockLength:\n  Max: 70\n</code></pre>\n\n<p>I constantly bump by rubocop errors and warning. Thus I've published this post.</p>\n\n<p><a href=\"http://www.dennyzhang.com/rubocop_errors/\" rel=\"noreferrer\">Common Rubocop Errors: Improve Your Ruby Code Quality</a> </p>\n"}, {"tags": [], "owner": {"reputation": 18749, "user_id": 407213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/c5T4C.jpg?s=128&g=1", "display_name": "Dorian", "link": "https://stackoverflow.com/users/407213/dorian"}, "is_accepted": false, "score": 40, "last_activity_date": 1548682501, "last_edit_date": 1548682501, "creation_date": 1514036338, "answer_id": 47952975, "question_id": 36896279, "link": "https://stackoverflow.com/questions/36896279/how-to-tell-rubocop-to-ignore-a-specific-directory-or-file/47952975#47952975", "title": "How to tell Rubocop to ignore a specific directory or file", "body": "<p>From <a href=\"https://github.com/bbatsov/rubocop/blob/master/config/default.yml#L60-L62\" rel=\"noreferrer\"><code>rubocop/default.yml</code></a>:</p>\n\n<pre><code>AllCops:\n  Exclude:\n    - 'node_modules/**/*'\n    - 'vendor/**/*'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46248, "user_id": 72321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5d7c02a72044e9740453646acdad4d48?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/72321/dennis"}, "is_accepted": false, "score": 10, "last_activity_date": 1593095621, "creation_date": 1593095621, "answer_id": 62577834, "question_id": 36896279, "link": "https://stackoverflow.com/questions/36896279/how-to-tell-rubocop-to-ignore-a-specific-directory-or-file/62577834#62577834", "title": "How to tell Rubocop to ignore a specific directory or file", "body": "<p>Can also consider comments for a single file. Great for ignoring the linter for a quick and dirty temporary task.</p>\n<pre><code># rubocop:disable all\n\nmodule TempTask\n  ...\nend\n\n# rubocop:enable all\n</code></pre>\n"}], "owner": {"reputation": 5822, "user_id": 998495, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9ab68854cd596cfb44679b47ff05206d?s=128&d=identicon&r=PG", "display_name": "emery", "link": "https://stackoverflow.com/users/998495/emery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41246, "favorite_count": 6, "accepted_answer_id": 36896588, "answer_count": 4, "score": 84, "last_activity_date": 1593095621, "creation_date": 1461776429, "last_edit_date": 1462195387, "question_id": 36896279, "link": "https://stackoverflow.com/questions/36896279/how-to-tell-rubocop-to-ignore-a-specific-directory-or-file", "title": "How to tell Rubocop to ignore a specific directory or file", "body": "<p>My project is extending open-source classes from a third-party gem that we don't want to hold to the same coding standards as our own code.  Refactoring the gem code isn't a viable option.  We just want Rubocop to ignore the copied code.</p>\n\n<p>How can I instruct Rubocop to completely ignore a file or directory?</p>\n"}, {"tags": ["ruby", "exception", "error-handling", "sinatra", "http-status-codes"], "answers": [{"tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1461777741, "last_edit_date": 1461777741, "creation_date": 1461774287, "answer_id": 36895594, "question_id": 36895023, "link": "https://stackoverflow.com/questions/36895023/how-should-i-return-sinatra-http-errors-from-inside-a-class-where-halt-is-not-av/36895594#36895594", "title": "How should I return Sinatra HTTP errors from inside a class where HALT is not available?", "body": "<p>This question is probably better for CodeReview but one approach you can see in an OO design here is a 'halt' path and a 'happy' path.  Your class just needs to implement a few methods to help this be consistent across all your sinatra routes and methods. </p>\n\n<p>Here's one approach, and it would be easy to adopt this kind of interface across other classes using inheritance.</p>\n\n<pre><code>post '/api/process_something' do\n  offer_manager = OfferManager.new(params)\n  # error guard clause\n  halt offer_manager.status, offer_manager.halt_message if offer_manager.halt?\n\n  # validations met, continue to process\n  offer_manager.process_offer\n  # return back 200\n  offer_manager.status\nend\n\n\nclass OfferManager\n  attr_reader :status, :params, :halt_message\n\n  def initialize(params)\n    @params = params\n    validate_params\n  end\n\n  def process_offer\n    do_some_processing\n  end\n\n  def halt?\n    # right now we just know missing params is one error to halt on but this is where\n    # you could implement more business logic if need be\n    missing_params?\n  end\n\n  private\n\n  def validate_params\n    if missing_params?\n      @status = 404\n      @halt_message = \"missing #{missing_keys.join(\", \")} key(s)\"\n    else\n      @status = 200\n    end\n  end\n\n  def do_some_processing\n    # go do other processing\n  end\n\n  def missing_params?\n    missing_keys.size &gt; 0\n  end\n\n  def missing_keys\n    expected_keys = [:profile_id, :offer_id]\n    params.select { |k, _| !expected_keys.has_key?(k) }\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 514, "user_id": 1342637, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5IO2c.jpg?s=128&g=1", "display_name": "Justin Schier", "link": "https://stackoverflow.com/users/1342637/justin-schier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "accepted_answer_id": 36895594, "answer_count": 1, "score": 1, "last_activity_date": 1461777741, "creation_date": 1461772778, "question_id": 36895023, "link": "https://stackoverflow.com/questions/36895023/how-should-i-return-sinatra-http-errors-from-inside-a-class-where-halt-is-not-av", "title": "How should I return Sinatra HTTP errors from inside a class where HALT is not available?", "body": "<p>I have a large backend API for my native app that's built in Sinatra, that also serves some admin web pages. I'm trying to dry up the codebase and refactor code into classes inside the lib directory.</p>\n\n<p>My API clients expect a status and a message, such as 200 OK, or 404 Profile Not Found. I'd usually do this with something like <code>halt 404, 'Profile Not Found'</code>.</p>\n\n<p><strong>What's the easiest way of <code>halt</code>ing with an HTTP status code and a message from inside a class?</strong></p>\n\n<hr>\n\n<p><strong>Old Wet Code</strong></p>\n\n<pre><code>post '/api/process_something'\n  halt 403, 'missing profile_id' unless params[:profile_id].present?\n  halt 404, 'offer not found' unless params[:offer_id].present?\n  do_some_processing\n  200\nend\n</code></pre>\n\n<p><strong>New Dry Code</strong></p>\n\n<pre><code>post '/api/process_something'\n  offer_manager = OfferManager.new\n  offer_manager.process_offer(params: params)\nend\n</code></pre>\n\n<p><strong>offer_manager.rb</strong></p>\n\n<pre><code>class OfferManager\n  def process_offer(params:)\n    # halt 403, 'missing profile_id' unless params[:profile_id].present?\n    # halt 404, 'offer not found' unless params[:offer_id].present?\n    # halt doesn't work from in here\n    do_some_processing\n    200\n  end\nend \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "openshift"], "answers": [{"tags": [], "owner": {"reputation": 5237, "user_id": 2325924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XSXrT.jpg?s=128&g=1", "display_name": "7urkm3n", "link": "https://stackoverflow.com/users/2325924/7urkm3n"}, "is_accepted": false, "score": 1, "last_activity_date": 1461860832, "last_edit_date": 1461860832, "creation_date": 1461776532, "answer_id": 36896307, "question_id": 36894940, "link": "https://stackoverflow.com/questions/36894940/how-do-i-change-rails-environment-on-openshift/36896307#36896307", "title": "How do I change Rails environment on OpenShift?", "body": "<p><strong>To change ENV of app</strong></p>\n\n<pre><code>#in my case, APPNAME: files\n\nrhc env set APPLICATION_ENV=development --app APPNAME\nrhc app restart APPNAME\n</code></pre>\n"}], "owner": {"reputation": 5067, "user_id": 993554, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/UV0L9.jpg?s=128&g=1", "display_name": "Victor Ferreira", "link": "https://stackoverflow.com/users/993554/victor-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461860832, "creation_date": 1461772595, "question_id": 36894940, "link": "https://stackoverflow.com/questions/36894940/how-do-i-change-rails-environment-on-openshift", "title": "How do I change Rails environment on OpenShift?", "body": "<p>I'm trying to set up this application to run in Development mode but the default environment on Openshift seems to be Production or Deployment</p>\n\n<p>I tried to change gems versions on the server and it throwed:</p>\n\n<blockquote>\n  <p>You are trying to install in deployment mode after changing\n  your Gemfile. Run <code>bundle install</code> elsewhere and add the\n  updated Gemfile.lock to version control.</p>\n  \n  <p>If this is a development machine, remove the Gemfile freeze \n  by running <code>bundle install --no-deployment</code>.</p>\n</blockquote>\n\n<p>But I didnt manage to find a way to change my environment. When I hit <code>rhc env list my_app</code> nothing happens</p>\n\n<p>How do I change my environment on Openshift so everything I do is on Development mode?</p>\n"}, {"tags": ["ruby", "watir", "watir-webdriver", "page-object-gem"], "comments": [{"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1461877227, "post_id": 36894800, "comment_id": 61411894, "body": "The &#39;test-factory&#39; gem allows for the kind of thing you wanted to do above, as it&#39;s more optimized around watir instead of trying to support both Watir and Selenium users.    If you are just getting started you might want to evaluate it as an alternative to the page-object gem.  If you have a lot of code already written then probably not worth switching horses mid-stream"}], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 2084919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a56ebf8dfd0924eab98ef0ceec44177d?s=128&d=identicon&r=PG", "display_name": "Shwheelz", "link": "https://stackoverflow.com/users/2084919/shwheelz"}, "edited": false, "score": 0, "creation_date": 1461773680, "post_id": 36895241, "comment_id": 61354859, "body": "Thanks for the help!"}], "tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 4, "last_activity_date": 1461773308, "creation_date": 1461773308, "answer_id": 36895241, "question_id": 36894800, "link": "https://stackoverflow.com/questions/36894800/how-do-i-access-watir-properties-of-pageobject-elements/36895241#36895241", "title": "How do I access Watir properties of PageObject elements?", "body": "<p>The page object accessor methods, eg <code>button</code>, will create a <code>&lt;name&gt;_element</code> method that returns a <code>PageObject::Elements::Element</code>. With this object, you can inspect various aspects of the element.</p>\n\n<p>For this case, the button state can be checked with:</p>\n\n<pre><code>on(Login).login_element.enabled?\n</code></pre>\n\n<p>Note that the <code>PageObject::Elements::Element</code> is a wrapper around the <code>Watir::Element</code>. This means that methods you used in Watir may not be available (ie not implemented). If you run into this situation, you can directly access the underlying <code>Watir::Element</code> using the <code>element</code> method.</p>\n\n<pre><code>on(Login).login_element.element.enabled?\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 2084919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a56ebf8dfd0924eab98ef0ceec44177d?s=128&d=identicon&r=PG", "display_name": "Shwheelz", "link": "https://stackoverflow.com/users/2084919/shwheelz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 36895241, "answer_count": 1, "score": 2, "last_activity_date": 1461773308, "creation_date": 1461772232, "question_id": 36894800, "link": "https://stackoverflow.com/questions/36894800/how-do-i-access-watir-properties-of-pageobject-elements", "title": "How do I access Watir properties of PageObject elements?", "body": "<p>I'm new to PageObject, but I've used Watir before.  I have a Login class</p>\n\n<pre><code>class Login\n  include PageObject\n\n  page_url 'http://localhost:9090/#/login'\n\n  button(:login, :id =&gt; 'login-btn')\nend\n</code></pre>\n\n<p>I want to check whether the button is enabled.  Normally, I'd just call it in Watir with something like</p>\n\n<pre><code>@browser.button(:id =&gt; 'login-btn').enabled?\n</code></pre>\n\n<p>When I try to use the login PageObject alias, I get an error.</p>\n\n<pre><code>on(Login).login.enabled?\n&gt; NoMethodError: undefined method 'enabled?' for nil:NilClass\n</code></pre>\n\n<p>Is there a PageObject-flavored way to access Watir properties such as enabled, or do I need to manually find the element through the @browser variable and check it that way?  That seems to defeat the purpose of using PageObject to begin with.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex"], "comments": [{"owner": {"reputation": 20590, "user_id": 504963, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xlYLo.jpg?s=128&g=1", "display_name": "Antarr Byrd", "link": "https://stackoverflow.com/users/504963/antarr-byrd"}, "edited": false, "score": 1, "creation_date": 1461772077, "post_id": 36894561, "comment_id": 61353597, "body": "Post what you have tried. Are you using a regex ?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1461772288, "post_id": 36894561, "comment_id": 61353760, "body": "What phone number formats do you need to remove? <a href=\"https://en.wikipedia.org/wiki/National_conventions_for_writing_telephone_numbers\" rel=\"nofollow noreferrer\">There are a lot of them.</a>"}, {"owner": {"reputation": 1241, "user_id": 4402478, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/6db20762ebe145c59b6e10eb68955678?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4402478/user"}, "edited": false, "score": 0, "creation_date": 1461774157, "post_id": 36894561, "comment_id": 61355222, "body": "there are no some specific format it can be different"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461777921, "post_id": 36894561, "comment_id": 61357721, "body": "Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. When asking we need to see the evidence of your effort."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461777973, "post_id": 36894561, "comment_id": 61357753, "body": "<a href=\"http://stackoverflow.com/questions/123559/a-comprehensive-regex-for-phone-number-validation?rq=1\" title=\"a comprehensive regex for phone number validation\">stackoverflow.com/questions/123559/&hellip;</a> is a very good read when dealing with phone numbers."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461778018, "post_id": 36894561, "comment_id": 61357787, "body": "Will the numbers always exist as the first line in the text?"}], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 4402478, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/6db20762ebe145c59b6e10eb68955678?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4402478/user"}, "edited": false, "score": 0, "creation_date": 1461773676, "post_id": 36894808, "comment_id": 61354856, "body": "regex is very usefull but a bit complicated to understand"}, {"owner": {"reputation": 1241, "user_id": 4402478, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/6db20762ebe145c59b6e10eb68955678?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4402478/user"}, "edited": false, "score": 0, "creation_date": 1461774237, "post_id": 36894808, "comment_id": 61355281, "body": "also how can i remove those formats from text <code>09414241441 095-41-41-441 (096)4141441</code>"}, {"owner": {"reputation": 9480, "user_id": 625348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eEgMg.jpg?s=128&g=1", "display_name": "mohamed-ibrahim", "link": "https://stackoverflow.com/users/625348/mohamed-ibrahim"}, "reply_to_user": {"reputation": 1241, "user_id": 4402478, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/6db20762ebe145c59b6e10eb68955678?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4402478/user"}, "edited": false, "score": 0, "creation_date": 1461776887, "post_id": 36894808, "comment_id": 61357009, "body": "writing new notes in post now, just a min"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461782974, "post_id": 36894808, "comment_id": 61360982, "body": "&quot;how can i remove those formats from text&quot;? You put the necessary requirements into your question, not into comments. The question is ill-defined as is, and adding more conditions/cases in comments only makes the question harder to understand."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461783121, "post_id": 36894808, "comment_id": 61361074, "body": "@mohamed-ibrahim, please do <i>not</i> put code, especially additional/changed solution code, in a comment. It&#39;s unreadable and makes finding/understanding the solution very difficult. Edit your answer and add the addition. You can use <code>---</code> to add a horizontal bar, or incorporate the information as if you&#39;d originally included that information. Don&#39;t use &quot;Edit&quot; or &quot;Update&quot; tags in the text though; They&#39;re discouraged and will be removed."}], "tags": [], "owner": {"reputation": 9480, "user_id": 625348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eEgMg.jpg?s=128&g=1", "display_name": "mohamed-ibrahim", "link": "https://stackoverflow.com/users/625348/mohamed-ibrahim"}, "is_accepted": true, "score": 3, "last_activity_date": 1461783398, "last_edit_date": 1461783398, "creation_date": 1461772259, "answer_id": 36894808, "question_id": 36894561, "link": "https://stackoverflow.com/questions/36894561/remove-phone-number-from-text/36894808#36894808", "title": "Remove phone number from text", "body": "<p>You can use:</p>\n\n<pre><code>text.gsub(/\\([0-9]*\\)\\s[0-9]*(-|\\s)[0-9]*(-|\\s)[0-9]*/, '')\n</code></pre>\n\n<p>this one will remove the phones in the format you specified in your text:</p>\n\n<ul>\n<li>(XXX) XXX-XX-XX</li>\n<li>(XXX) XXX XX XX</li>\n</ul>\n\n<p>and always when you are trying to write regex try to use this <a href=\"http://rubular.com/\" rel=\"nofollow\">Rubular</a></p>\n\n<ul>\n<li><p><code>\\([0-9]*\\)</code>  need to capture numbers inside an parentheses<code>(...)</code>, but as parentheses is special characters in regex so adding <code>\\</code> before it, <code>[0-9]</code> mean need a number and as its not only 1 number inside so adding <code>*</code> mean 0 or more number should be inside,</p></li>\n<li><p><code>\\s</code> need a space after it,</p></li>\n<li><code>(-|\\s)</code> need dash(<code>-</code>) (OR <code>|</code>) space(<code>\\s</code>)</li>\n</ul>\n\n<p>for other formats like:</p>\n\n<ul>\n<li>XXXXXXXXXX</li>\n<li>XXX-XX-XX-XXX</li>\n<li>(XXX)XXXXXXX </li>\n</ul>\n\n<p>beside above one, with the folliwng:</p>\n\n<pre><code>text.gsub(/\\(*[0-9]+(\\)|-)+\\s*[0-9]+(-|\\s)*[0-9]+(-|\\s)*[0-9]+|[0-9]{10}/, '')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "is_accepted": false, "score": 1, "last_activity_date": 1461772384, "creation_date": 1461772384, "answer_id": 36894865, "question_id": 36894561, "link": "https://stackoverflow.com/questions/36894561/remove-phone-number-from-text/36894865#36894865", "title": "Remove phone number from text", "body": "<p>As per your format, following regex works</p>\n\n<pre><code>/\\(\\d{3}\\)\\s+\\d{3}[-\\s]\\d{2,3}[-\\s]\\d{2}/\n</code></pre>\n\n<p><em>Ruby Code</em></p>\n\n<pre><code>print text.gsub(/\\(\\d{3}\\)\\s+\\d{3}[-\\s]\\d{2,3}[-\\s]\\d{2}/, \"\")\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/CmvFCz\" rel=\"nofollow\">Ideone Demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1461782662, "creation_date": 1461782662, "answer_id": 36898330, "question_id": 36894561, "link": "https://stackoverflow.com/questions/36894561/remove-phone-number-from-text/36898330#36898330", "title": "Remove phone number from text", "body": "<p>If your text is fixed format, that the numbers will always be the first line in the block, then simply remove the first line:</p>\n\n<pre><code>text='\n(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\n    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\n    Smart Functionality: Yes - xx TV Streaming Platform\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78'\n\ntext.strip\n# =&gt; \"(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\\n    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n    Smart Functionality: Yes - xx TV Streaming Platform\\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"\ntext.strip.lines\n# =&gt; [\"(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\\n\", \"    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n\", \"    Smart Functionality: Yes - xx TV Streaming Platform\\n\", \"    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"]\ntext.strip.lines[1..-1].join\n# =&gt; \"    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n    Smart Functionality: Yes - xx TV Streaming Platform\\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>lines = text.strip.lines\n# =&gt; [\"(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\\n\", \"    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n\", \"    Smart Functionality: Yes - xx TV Streaming Platform\\n\", \"    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"]\nlines.shift\n# =&gt; \"(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\\n\"\nlines.join\n# =&gt; \"    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n    Smart Functionality: Yes - xx TV Streaming Platform\\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"\n</code></pre>\n\n<p>Using a regex and <code>gsub</code> can work, but it's also more likely to become a maintenance problem. </p>\n\n<p>If the phone numbers will always be on one line, but not necessarily the first, then I'd still use <code>lines</code> to break the text into an array, but I'd use <code>reject</code> with a regex to match the number pattern to check each line and reject the one with the phone-number-like regex match:</p>\n\n<pre><code>lines = text.lines\nlines.reject{ |l| l[/\\(\\d{3}\\) \\d{3}[ -]\\d+{2,3}[ -]\\d{2,3}/] }\n# =&gt; [\"\\n\", \"    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n\", \"    Smart Functionality: Yes - xx TV Streaming Platform\\n\", \"    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"]\n\nlines.reject{ |l| l[/\\(\\d{3}\\) \\d{3}[ -]\\d+{2,3}[ -]\\d{2,3}/] }.join\n# =&gt; \"\\n    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\\n    Smart Functionality: Yes - xx TV Streaming Platform\\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78\"\n</code></pre>\n\n<p>Note that <em>not</em> using <code>strip</code> results in the leading \"\\n\" being retained.</p>\n\n<p>Using <code>lines</code> to transform the text to an array helps isolate any damage in case something else triggers the pattern match causing inadvertent damage to the text. </p>\n\n<p>Where this approach breaks down is when the phone numbers are scattered throughout the text. I'd still probably use this approach to reduce the text to individual lines though, again to reduce the possible damage if there are false-positives.</p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790896, "creation_date": 1461790896, "answer_id": 36900816, "question_id": 36894561, "link": "https://stackoverflow.com/questions/36894561/remove-phone-number-from-text/36900816#36900816", "title": "Remove phone number from text", "body": "<pre><code>phone_formats = [/(\\d{3}) \\d{3}-\\d{4}/,\n                 /\\d{3}-\\d{3}-\\d{4}/,\n                 /\\d{3} \\d{3} \\d{4}/,\n                 /\\(\\d{3}\\) \\d{3} \\d{3} \\d{2}/,\n                 /\\(\\d{3}\\) \\d{3} \\d{2} \\d{2}/,\n                 /\\(\\d{3}\\) \\d{3}-\\d{2}-\\d{2}/,\n                 /\\d{3}-\\d{3}-\\d{2}-\\d{2}/,\n                 /\\d{3}-\\d{3}-\\d{2}-\\d{2}/]\n\nr = Regexp.union(phone_formats)\n  #=&gt; /(?-mix:(\\d{3}) \\d{3}-\\d{4})|\n  #    (?-mix:\\d{3}-\\d{3}-\\d{4})|\n  #    (?-mix:\\d{3} \\d{3} \\d{4})|\n  #    (?-mix:\\(\\d{3}\\) \\d{3} \\d{3} \\d{2})|\n  #    (?-mix:\\(\\d{3}\\) \\d{3} \\d{2} \\d{2})|\n  #    (?-mix:\\(\\d{3}\\) \\d{3}-\\d{2}-\\d{2})|\n  #    (?-mix:\\d{3}-\\d{3}-\\d{2}-\\d{2})|\n  #    (?-mix:\\d{3}-\\d{3}-\\d{2}-\\d{2})/ \n</code></pre>\n\n<p>(I have broken the <code>Regexp.union</code>'s return value after each <code>|</code> for improved readability.)</p>\n\n<pre><code>text =&lt;&lt;_\n(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\nRefresh Rate: 60Hz (Native). Backlight: LED (Full Array)\nSmart Functionality: Yes - xx TV Streaming Platform\nDimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18,\nTV with stand (inches) : 28.98x18.68x7.78\n_\n\nputs text.gsub(r,'')\n\nRefresh Rate: 60Hz (Native). Backlight: LED (Full Array)\nSmart Functionality: Yes - xx TV Streaming Platform\nDimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18,\nTV with stand (inches) : 28.98x18.68x7.78\n</code></pre>\n"}], "owner": {"reputation": 1241, "user_id": 4402478, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/6db20762ebe145c59b6e10eb68955678?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4402478/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 36894808, "answer_count": 4, "score": 0, "last_activity_date": 1461830784, "creation_date": 1461771607, "last_edit_date": 1461830784, "question_id": 36894561, "link": "https://stackoverflow.com/questions/36894561/remove-phone-number-from-text", "title": "Remove phone number from text", "body": "<p>How can I remove phone numbers from a string if they are in different formats?</p>\n\n<p>For example I have:</p>\n\n<pre><code>text='\n(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\n    Refresh Rate: 60Hz (Native). Backlight: LED (Full Array)\n    Smart Functionality: Yes - xx TV Streaming Platform\n    Dimensions (W x H x D): TV without stand (inches) : 28.98x17x3.18, TV with stand (inches) : 28.98x18.68x7.78'\n</code></pre>\n\n<p>also how can i remove those formats from text</p>\n\n<pre><code> 09414241441 095-41-41-441 (096)4141441 091-123-11-22 094 00 111 222\n</code></pre>\n\n<p>How can I remove these phone numbers?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(093) 123-34-56 (068) 123 45 67 (095) 123 456 78\n</code></pre>\n\n<p>I have tried <code>gsub</code>, but it removes all similar numbers.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461772724, "post_id": 36894267, "comment_id": 61354119, "body": "Which build of Ruby do you run? What OS do you use? How did you install Ruby 2.3.0? Is it a fresh installation or do you have additional gems installed?"}], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 0, "last_activity_date": 1461773868, "last_edit_date": 1461773868, "creation_date": 1461772043, "answer_id": 36894734, "question_id": 36894267, "link": "https://stackoverflow.com/questions/36894267/what-is-the-purpose-of-method-on-nil/36894734#36894734", "title": "What is the purpose of []= method on nil", "body": "<p>That method <a href=\"http://ruby-doc.org/core-2.3.0/NilClass.html\" rel=\"nofollow\">isn't documented in Ruby <code>2.3.0</code></a> and I cannot reproduce this behavior in Ruby <code>2.3.1</code> (both examples raise <code>NoMethodError: undefined method '[]=' for nil:NilClass</code>). </p>\n\n<p>Furthermore I reinstalled <code>2.3.0</code> and was only partly able to reproduce your examples:</p>\n\n<pre><code>$ rbenv install 2.3.0\nDownloading ruby-2.3.0.tar.bz2...\n-&gt; https://cache.ruby-lang.org/pub/ruby/2.3/ruby-2.3.0.tar.bz2\nInstalling ruby-2.3.0...\nInstalled ruby-2.3.0 to /Users/spickermann/.rbenv/versions/2.3.0\n\n$ rbenv shell 2.3.0\n\n$ ruby -v\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin15]\n\n$ irb\nirb   &gt; RUBY_VERSION\nirb  =&gt; \"2.3.0\"\nirb   &gt; nil[1] = 1\nirb  =&gt; nil\nirb   &gt; nil['foo'] = 'bar'\nNoMethodError: undefined method `[]=' for nil:NilClass\n  from (irb):3\n  from /Users/spickermann/.rbenv/versions/2.3.0/bin/irb:11:in `&lt;main&gt;'\n</code></pre>\n\n<p>It seems like <code>NilClass#[]=</code> doesn't work properly in Ruby <code>2.3.0</code>. Since it was completely removed in <code>2.3.1</code>, I guess that this method or this behavior was added by accident.</p>\n\n<p><strong>Update</strong>: Cary Swoveland pointed out in a <a href=\"https://stackoverflow.com/questions/36829168/in-ruby-why-does-nil1-1-evaluate-to-nil#comment61230637_36829168\">comment on another question</a> that this behavior was a bug and was fixed in later versions (see: <a href=\"https://bugs.ruby-lang.org/issues/11976\" rel=\"nofollow\">https://bugs.ruby-lang.org/issues/11976</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": false, "score": 0, "last_activity_date": 1461773826, "creation_date": 1461773826, "answer_id": 36895429, "question_id": 36894267, "link": "https://stackoverflow.com/questions/36894267/what-is-the-purpose-of-method-on-nil/36895429#36895429", "title": "What is the purpose of []= method on nil", "body": "<p>That seems to be actually a bug in 2.3.0 - <a href=\"https://bugs.ruby-lang.org/issues/11976\" rel=\"nofollow\">https://bugs.ruby-lang.org/issues/11976</a></p>\n\n<p>It does not evaluate the arguments:</p>\n\n<pre><code>nil[undefined_index_variable] = raise \"Fooo!\" # =&gt; nil\n</code></pre>\n"}], "owner": {"reputation": 2461, "user_id": 277527, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0c43eba4a99f65e071e66e684cea8177?s=128&d=identicon&r=PG", "display_name": "kamaradclimber", "link": "https://stackoverflow.com/users/277527/kamaradclimber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "closed_date": 1461780548, "answer_count": 2, "score": 2, "last_activity_date": 1461773868, "creation_date": 1461770861, "question_id": 36894267, "link": "https://stackoverflow.com/questions/36894267/what-is-the-purpose-of-method-on-nil", "closed_reason": "Duplicate", "title": "What is the purpose of []= method on nil", "body": "<p>Since ruby 2.3.0, you can call <code>[]=</code> method on <code>nil</code>. I don't understand the purpose of this method.</p>\n\n<p>For instance:</p>\n\n<pre><code>nil[1] = 1\n# or\nnil['foo'] = 'bar'\n</code></pre>\n\n<p>but <code>[]</code> method does not exist:</p>\n\n<pre><code>nil[1]\n# =&gt; NoMethodError: undefined method `[]' for nil:NilClass\n</code></pre>\n\n<p>The ruby <a href=\"https://www.ruby-lang.org/en/news/2015/12/25/ruby-2-3-0-released/\" rel=\"nofollow\">2.3.0 changelog</a> does not mention that changes, although it seems close to the safe navigation operator.</p>\n\n<p>What is the purpose of this operator?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5367670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bafd7c4fb441afcc06feff9790f7c088?s=128&d=identicon&r=PG", "display_name": "Michael Lennox", "link": "https://stackoverflow.com/users/5367670/michael-lennox"}, "edited": false, "score": 0, "creation_date": 1461770485, "post_id": 36893935, "comment_id": 61352397, "body": "The issue here is as you mention, the module should not know the implementation for what it is included. I&#39;m using the same module across many classes and as such could not do it this way.   I&#39;ll extend the original code sample to make that clear."}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1461770038, "creation_date": 1461770038, "answer_id": 36893935, "question_id": 36893866, "link": "https://stackoverflow.com/questions/36893866/ruby-how-to-access-a-constant-from-the-class-a-module-is-included-into/36893935#36893935", "title": "Ruby: How to access a constant from the class a module is included into", "body": "<p>You can use the <code>::</code> operator to scope <code>CONSTANT</code> to the <code>BAR</code> class. The syntax would look something like this:</p>\n\n<pre><code>module Foo\n  def do_something_to_const\n    Bar::CONSTANT.each { |item| puts item }\n  end\nend\n\nclass Bar\n  include Foo\n\n  CONSTANT = %w(I want to be able to access this in foo)\nend\n\nBar.new.do_something_to_const # outputs each item in Bar::CONSTANT\n</code></pre>\n\n<p>I'd try to avoid this, however. The included module shouldn't need to know the implementation details of the class for which it's being included.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 5367670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bafd7c4fb441afcc06feff9790f7c088?s=128&d=identicon&r=PG", "display_name": "Michael Lennox", "link": "https://stackoverflow.com/users/5367670/michael-lennox"}, "edited": false, "score": 1, "creation_date": 1461771497, "post_id": 36894215, "comment_id": 61353118, "body": "Thanks @Vasfed that is exactly what we were looking for"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1461780621, "post_id": 36894215, "comment_id": 61359448, "body": "There&#39;s no need to use reflection. You can just as well use <code>self.class::CONST</code> without reflection."}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "reply_to_user": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1461782543, "post_id": 36894215, "comment_id": 61360687, "body": "@J&#246;rgWMittag you&#39;re right, and it is about 2-9% faster, updated answer"}], "tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": true, "score": 9, "last_activity_date": 1461782473, "last_edit_date": 1461782473, "creation_date": 1461770730, "answer_id": 36894215, "question_id": 36893866, "link": "https://stackoverflow.com/questions/36893866/ruby-how-to-access-a-constant-from-the-class-a-module-is-included-into/36894215#36894215", "title": "Ruby: How to access a constant from the class a module is included into", "body": "<p>You can reference the class module being included into as <code>self.class</code> and the use <code>const_get</code> or just <code>self.class::CONST</code>, with the latter being slightly faster:</p>\n\n<pre><code>module M\n  def foo\n    self.class::CONST\n  end\nend\n\nclass A\n  CONST = \"AAAA\"\n  include M\nend\n\nclass B\n  CONST = \"BBBB\"\n  include M\nend\n\nputs A.new.foo # =&gt; AAAA\nputs B.new.foo # =&gt; BBBB\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1461771315, "creation_date": 1461771315, "answer_id": 36894441, "question_id": 36893866, "link": "https://stackoverflow.com/questions/36893866/ruby-how-to-access-a-constant-from-the-class-a-module-is-included-into/36894441#36894441", "title": "Ruby: How to access a constant from the class a module is included into", "body": "<p>You can reference the class with <code>self.class</code></p>\n\n<pre><code>module Foo\n  def do_something\n    self.class::Constant.each {|x| puts x}\n  end\nend\n\nclass Bar\n  include Foo\n  Constant = %w(Now is the time for all good men)\nend\n\nclass Baz\n  include Foo\n  Constant = %w(to come to the aid of their country)\nend\n\nbar = Bar.new\nbar.do_something\n=&gt;\nNow\nis\nthe\ntime\nfor\nall\ngood\nmen\n =&gt; [\"Now\", \"is\", \"the\", \"time\", \"for\", \"all\", \"good\", \"men\"] \n\nbaz = Baz.new\nbaz.do_something\n=&gt;\nto\ncome\nto\nthe\naid\nof\ntheir\ncountry\n =&gt; [\"to\", \"come\", \"to\", \"the\", \"aid\", \"of\", \"their\", \"country\"]\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 5367670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bafd7c4fb441afcc06feff9790f7c088?s=128&d=identicon&r=PG", "display_name": "Michael Lennox", "link": "https://stackoverflow.com/users/5367670/michael-lennox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3863, "favorite_count": 2, "accepted_answer_id": 36894215, "answer_count": 3, "score": 11, "last_activity_date": 1461782473, "creation_date": 1461769866, "last_edit_date": 1461770530, "question_id": 36893866, "link": "https://stackoverflow.com/questions/36893866/ruby-how-to-access-a-constant-from-the-class-a-module-is-included-into", "title": "Ruby: How to access a constant from the class a module is included into", "body": "<p>I'm trying to access a constant held within various classes in a module which I am including into them. As a basic example</p>\n\n<pre><code>module foo\n  def do_something_to_const\n    CONSTANT.each { ... do_something ... }\n  end\nend\n\nclass bar\n  include foo\n\n  CONSTANT = %w(I want to be able to access this in foo)\nend\n\nclass baz\n  include foo\n\n  CONSTANT = %w(A different constant to access)\nend\n</code></pre>\n\n<p>As the logic for the module is shared across multiple classes I'd like to be able to just refer to the constant (the name of which stays the same in each class, but the contents vary). How would I go around doing this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "capistrano", "bower"], "owner": {"reputation": 1100, "user_id": 1584736, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7b8c4392528b20b47726142f7a20c7cd?s=128&d=identicon&r=PG", "display_name": "ngw", "link": "https://stackoverflow.com/users/1584736/ngw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1461769042, "creation_date": 1461769042, "question_id": 36893564, "link": "https://stackoverflow.com/questions/36893564/capistrano-bower-cant-find-node", "title": "capistrano-bower can&#39;t find node", "body": "<p>I'm using bower and now need to deploy it on my servers.\nThese are the relevant bits of my capistrano deploy.rb:</p>\n\n<pre><code>lock '3.4.0'\n\nset :application, 'braint'\nset :rvm_ruby_version, '2.2.3@braint'\nset :nvm_map_bins,  %w{npm node bower}\nset :nvm_node,      'v6.0.0'\n\nset :bower_target_path, \"#{release_path}\"\n</code></pre>\n\n<p>And this is how the deploy fails:</p>\n\n<pre><code>DEBUG [684affc8] Finished in 0.035 seconds with exit status 0 (successful).\nINFO [e5982f6c] Running /usr/bin/env /usr/local/bin/bower install --quiet --config.interactive=false on xxx.xxx.xxx.xxx\nDEBUG [e5982f6c] Command: cd /home/deployer/apps/braint/current &amp;&amp; ( export NODE_VERSION=\"v6.0.0\" ; /usr/bin/env /usr/local/bin/bower install --quiet --config.interactive=false )\nDEBUG [e5982f6c]    /usr/bin/env: node\nDEBUG [e5982f6c]    : No such file or directory\n(Backtrace restricted to imported tasks)\ncap aborted!\nSSHKit::Runner::ExecuteError: Exception while executing on host xxx.xxx.xxx.xxx: /usr/local/bin/bower exit status: 127\n/usr/local/bin/bower stdout: Nothing written\n/usr/local/bin/bower stderr: /usr/bin/env: node: No such file or directory\n\nSSHKit::Command::Failed: /usr/local/bin/bower exit status: 127\n/usr/local/bin/bower stdout: Nothing written\n/usr/local/bin/bower stderr: /usr/bin/env: node: No such file or directory\n\nTasks: TOP =&gt; deploy:updated =&gt; bower:install\n(See full trace by running task with --trace)\nThe deploy has failed with an error: Exception while executing on host xxx.xxx.xxx.xxx: /usr/local/bin/bower exit status: 127\n/usr/local/bin/bower stdout: Nothing written\n/usr/local/bin/bower stderr: /usr/bin/env: node: No such file or directory\n</code></pre>\n\n<p>If I cut and paste the very same command on an interactive SSH session it doesn't return any error, which is very weird...</p>\n\n<p>Could it be that it's not loading nvm because it's a non-interactive shell? How can I solve this?</p>\n"}, {"tags": ["ruby", "http-headers", "content-type", "httparty", "content-length"], "comments": [{"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461770271, "post_id": 36893519, "comment_id": 61352219, "body": "What do you try to achieve by setting these headers yourself?"}, {"owner": {"reputation": 46, "user_id": 3196318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b57b59d4c7185b44929757b70181163?s=128&d=identicon&r=PG&f=1", "display_name": "Adax", "link": "https://stackoverflow.com/users/3196318/adax"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461770468, "post_id": 36893519, "comment_id": 61352387, "body": "I&#39;m trying to use Backblaze.com api  to upload a file. Their documentation asks for such. There is a working solution in &quot;raw&quot; net/http in there. I have it working with that, but i would like to use httparty.  <a href=\"https://www.backblaze.com/b2/docs/b2_upload_file.html\" rel=\"nofollow noreferrer\">backblaze.com/b2/docs/b2_upload_file.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 3196318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b57b59d4c7185b44929757b70181163?s=128&d=identicon&r=PG&f=1", "display_name": "Adax", "link": "https://stackoverflow.com/users/3196318/adax"}, "edited": false, "score": 0, "creation_date": 1462591966, "post_id": 37014406, "comment_id": 61712845, "body": "Thx for the answer. But i need to set the content type &#39;text/plain&#39; and send the body as such, not as JSON. I&#39;m uploading a file to backblaze: (backblaze.com/b2/docs/b2_upload_file.html). Transfer-Encoding gets set to chunked and I need to avoid it."}], "tags": [], "owner": {"reputation": 5239, "user_id": 2680864, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c913ec45c93dce4d2c18c59cd8f85edb?s=128&d=identicon&r=PG&f=1", "display_name": "r3b00t", "link": "https://stackoverflow.com/users/2680864/r3b00t"}, "is_accepted": false, "score": 0, "last_activity_date": 1462309855, "creation_date": 1462309855, "answer_id": 37014406, "question_id": 36893519, "link": "https://stackoverflow.com/questions/36893519/how-to-set-content-length-and-content-type-headers-when-sending-a-file-with-a-ht/37014406#37014406", "title": "How to set Content-Length and Content-Type headers when sending a file with a HTTParty POST?", "body": "<p>Try this</p>\n\n<pre><code>HTTParty.post(END_POINT_URL, \n:body =&gt; data.to_json,\n:headers =&gt; { 'Content-Type' =&gt; 'application/json', \n'Content-Length' =&gt; content_length, 'Other-Header' =&gt; other_header, } )    \n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 3196318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b57b59d4c7185b44929757b70181163?s=128&d=identicon&r=PG&f=1", "display_name": "Adax", "link": "https://stackoverflow.com/users/3196318/adax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2040, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462309855, "creation_date": 1461768924, "question_id": 36893519, "link": "https://stackoverflow.com/questions/36893519/how-to-set-content-length-and-content-type-headers-when-sending-a-file-with-a-ht", "title": "How to set Content-Length and Content-Type headers when sending a file with a HTTParty POST?", "body": "<p>I'm setting the headers like this:\nwhere file is a test.txt</p>\n\n<pre><code>size = File.size(file)\n\nh = {\n  \"Content-Type\":      'text/plain'\n  \"Content-Length\":     size.to_s,\n  \"Other-Header\":      'some-header'     \n }\n\nb = File.read(file)\n\nHTTParty.post('/some/api/url', {headers: h , body: b})\n</code></pre>\n\n<p>The request headers get set like this:</p>\n\n<pre><code>&lt;- \"POST /some/api/url\\r\\n\nContent-Type: text/plain\\r\\n  \nContent-Length: 16\\r\\n\nOther-Header: some-header\\r\\n\nConnection: close\\r\\n\nHost: somehost.com\\r\\n\nContent-Length: 16\\r\\n\nContent-Type: application/x-www-form-urlencoded\\r\\n\\r\\n\"\n</code></pre>\n\n<p>Content-Length and Content-Type are added and duplicated, besides Transfer-Encoding gets set to chunked.</p>\n\n<p>How can one set Content-Length, Content-Type and Transfer-Encoding and avoid HTTParty setting them on its own?</p>\n\n<p>Hope it's clear.</p>\n\n<p>Thx for your time!</p>\n"}, {"tags": ["ruby", "unit-testing", "testing", "operating-system", "tdd"], "comments": [{"owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "reply_to_user": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461773227, "post_id": 36893380, "comment_id": 61354506, "body": "Yes, it works, whereas <code>File.readlink</code> and <code>FileUtils.ln_s</code> won&#39;t work on Windows (NotImplemented Exception). Therefore you&#39;ve to use something different on Windows. In my case <code>FileUtils.cp</code>. Since <code>FileUtils.cp</code> and <code>FileUtils.ln_s</code> have different return values you&#39;ll have to use different tests. In addition it&#39;s just an example. There are different cases. Another one could be an default config path. On Linux e.g. <code>&#47;etc&#47;certmanager</code> and on Windows <code>C:&#47;User&#47;...&#47;AppData&#47;...&#47;certmanager</code>. Again I would say you need two different tests dependent on the OS"}], "answers": [{"tags": [], "owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "is_accepted": true, "score": 0, "last_activity_date": 1463587696, "creation_date": 1463587696, "answer_id": 37304868, "question_id": 36893380, "link": "https://stackoverflow.com/questions/36893380/os-specific-tests-with-ruby/37304868#37304868", "title": "OS specific tests with ruby", "body": "<p>In order to be able to run every test regardless of the current OS, i wrote a module <code>TestHelper</code>. This module contains severall methods to</p>\n\n<ul>\n<li>pretend a windows or posix environment for the test</li>\n<li>setup stubs for methods that are not implemented (or work in a different way) on the actual OS - currently I've only found those methods on windows</li>\n<li>check if the actual OS is windows or not (if it is necessary to know)</li>\n</ul>\n\n<p>In the test it is possible to simply use <code>TestHelper.setup_windows_env</code> or <code>TestHelper.setup_posix_env</code> whenever it has to be OS specific.</p>\n\n<pre><code>require 'rbconfig'\nrequire 'fileutils'\nmodule TestHelper\n  extend self\n\n  def setup_windows_env\n    is_windows?\n    RbConfig::CONFIG.stubs(:[]).with('host_os').returns('windows')\n    ENV.stubs(:[]).with('OS').returns('Windows_NT')\n  end\n\n  def setup_stubs_for_windows_in_posix_env\n    class &lt;&lt; FileUtils\n      def ln_s(src, dest, options = {})\n        File.open(dest, 'w') { |file| file.write src }\n        return 0\n      end\n    end\n\n    class &lt;&lt; File\n      def readlink(file_name)\n        return File.read(file_name)\n      end\n    end\n  end\n\n  def setup_posix_env\n    setup_stubs_for_windows_in_posix_env if is_windows?\n    RbConfig::CONFIG.stubs(:[]).with('host_os').returns('darwin')\n    ENV.stubs(:[]).with('OS').returns('OSX')\n  end\n\n  def is_windows?\n    @is_windows ||= ApplicationToTest::Util::OS.is_windows?\n  end\nend\n</code></pre>\n\n<p>For completeness <code>ApplicationToTest::Util::OS.is_windows?</code>:</p>\n\n<pre><code>require 'rbconfig'\nmodule ApplicationToTest\n  module Util\n    module OS\n      def self.is_windows?\n        begin\n          env_os = ENV['OS']\n        rescue NameError\n          return false\n        end\n        if RbConfig::CONFIG['host_os'] =~ /^mingw2$|^mingw$|^mswin$|^windows$/\n            true\n        elsif env_os  == 'Windows_NT'\n            true\n        else\n            false\n        end\n      end\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 37304868, "answer_count": 1, "score": 0, "last_activity_date": 1463588058, "creation_date": 1461768604, "last_edit_date": 1463588058, "question_id": 36893380, "link": "https://stackoverflow.com/questions/36893380/os-specific-tests-with-ruby", "title": "OS specific tests with ruby", "body": "<p>I've the following Rakefile</p>\n\n<pre><code>require 'bundler/gem_tasks'\nrequire 'rake/testtask'\n\nRake::TestTask.new do |task|\n  task.libs &lt;&lt; %w(test lib)\n  task.pattern = 'test/**/*_test.rb'\nend\n\ntask default: :test\n</code></pre>\n\n<p>And test are defined with minitest:</p>\n\n<pre><code>require 'test_helper'\nrequire 'certmanager'\n\nclass CertificateTest &lt; Minitest::Test\n  context 'settings' do\n    should 'retrieve settings' do\n      assert_equal 'test123', Certmanager::Settings.key_passphrase\n    end\n  end\nend\n</code></pre>\n\n<p>Now there is also some OS specific code like <code>FileUtils.ln_s</code> on Linux and <code>FileUtils.cp</code> on Windows. This code requires different tests. In this case e.g. <code>assert_equal filepath, File.readlink(linkpath)</code> (Linux) vs. <code>assert File.exist?(filepath)</code> (windows)</p>\n\n<p>What is the best practice to differentiate between OS Types?\nDo I have t write the tests in a way that Linux can test windows specific code and vice versa?\nIs it possible to differentiate \"inline\" in an test?\nIs it necessary to have two different testsets and decide in the Rakefile which set needs to be executed? Is it even possible int the Rakefile?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "bundle", "vendor"], "answers": [{"comments": [{"owner": {"reputation": 1315, "user_id": 907692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5edb9493e0c164ca80b44c0d225c6b5a?s=128&d=identicon&r=PG", "display_name": "igrek", "link": "https://stackoverflow.com/users/907692/igrek"}, "edited": false, "score": 0, "creation_date": 1490295753, "post_id": 36893161, "comment_id": 73061374, "body": "i have rbenv installed, when i type <code>gem env home</code> it prints out <code>&#47;Users&#47;me&#47;.rbenv&#47;versions&#47;2.4.0&#47;lib&#47;ruby&#47;gems&#47;2.4.0</code>, but still, when i run <code>bundle</code> it asks me for a password. Any thoughts?"}, {"owner": {"reputation": 2681, "user_id": 1268907, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000680106139/picture?type=large", "display_name": "Roman Usherenko", "link": "https://stackoverflow.com/users/1268907/roman-usherenko"}, "reply_to_user": {"reputation": 1315, "user_id": 907692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5edb9493e0c164ca80b44c0d225c6b5a?s=128&d=identicon&r=PG", "display_name": "igrek", "link": "https://stackoverflow.com/users/907692/igrek"}, "edited": false, "score": 1, "creation_date": 1490295861, "post_id": 36893161, "comment_id": 73061425, "body": "what does <code>which bundle</code> say?"}, {"owner": {"reputation": 1315, "user_id": 907692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5edb9493e0c164ca80b44c0d225c6b5a?s=128&d=identicon&r=PG", "display_name": "igrek", "link": "https://stackoverflow.com/users/907692/igrek"}, "edited": false, "score": 0, "creation_date": 1490296028, "post_id": 36893161, "comment_id": 73061490, "body": "it says <code>&#47;usr&#47;local&#47;bin&#47;bundle</code>"}, {"owner": {"reputation": 2681, "user_id": 1268907, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000680106139/picture?type=large", "display_name": "Roman Usherenko", "link": "https://stackoverflow.com/users/1268907/roman-usherenko"}, "reply_to_user": {"reputation": 1315, "user_id": 907692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5edb9493e0c164ca80b44c0d225c6b5a?s=128&d=identicon&r=PG", "display_name": "igrek", "link": "https://stackoverflow.com/users/907692/igrek"}, "edited": false, "score": 1, "creation_date": 1490296095, "post_id": 36893161, "comment_id": 73061533, "body": "this is the reason. you&#39;re still using the system-wide bundler gem. try <code>gem install bundler</code>"}, {"owner": {"reputation": 1315, "user_id": 907692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5edb9493e0c164ca80b44c0d225c6b5a?s=128&d=identicon&r=PG", "display_name": "igrek", "link": "https://stackoverflow.com/users/907692/igrek"}, "edited": false, "score": 0, "creation_date": 1490296250, "post_id": 36893161, "comment_id": 73061618, "body": "thanks! that helped, well, actually i tried that before.. but now i also tried <code>sudo gem uninstall bundler</code>, <code>gem uninstall bundler</code>, <code>gem cleanup bundler</code>; then it finally worked :)"}], "tags": [], "owner": {"reputation": 2681, "user_id": 1268907, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000680106139/picture?type=large", "display_name": "Roman Usherenko", "link": "https://stackoverflow.com/users/1268907/roman-usherenko"}, "is_accepted": false, "score": 3, "last_activity_date": 1461768223, "last_edit_date": 1461768223, "creation_date": 1461768115, "answer_id": 36893161, "question_id": 36892958, "link": "https://stackoverflow.com/questions/36892958/rails-bundle-install-password-required/36893161#36893161", "title": "Rails bundle install password required", "body": "<p>You are using system ruby, which is installed not only for your user, but system-wide. That's why you need <code>sudo</code> and password.</p>\n\n<p>Just install rbenv or rvm and everything will be back as it was</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 6316607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c073e396ef63fdadd624328948f704f0?s=128&d=identicon&r=PG", "display_name": "Lini", "link": "https://stackoverflow.com/users/6316607/lini"}, "is_accepted": false, "score": 0, "last_activity_date": 1608731501, "creation_date": 1608731501, "answer_id": 65425392, "question_id": 36892958, "link": "https://stackoverflow.com/questions/36892958/rails-bundle-install-password-required/65425392#65425392", "title": "Rails bundle install password required", "body": "<p>Worked for me:</p>\n<pre><code>$ sudo asdf uninstall ruby 2.6.5\n$ asdf install ruby 2.6.5\n$ gem install bundler\n$ bundle\n</code></pre>\n<p>In some moment at Ruby installation I had used <code>sudo</code>, so I needed to reinstall.</p>\n"}], "owner": {"reputation": 15, "user_id": 5986784, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2JI2h.png?s=128&g=1", "display_name": "zato", "link": "https://stackoverflow.com/users/5986784/zato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3122, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1608731501, "creation_date": 1461767635, "question_id": 36892958, "link": "https://stackoverflow.com/questions/36892958/rails-bundle-install-password-required", "title": "Rails bundle install password required", "body": "<p>Somebody tried to help me in my app rails , he removed rbenv and other stuff i don't remind. And now when I'm doing bundle install i must enter my laptop password. Before it was not required.</p>\n\n<p>the error messsage is : </p>\n\n<p>\"\nYour user account isn't allowed to install to the system Rubygems.\n  You can cancel this installation and run:</p>\n\n<pre><code>  bundle install --path vendor/bundle\n</code></pre>\n\n<p>to install the gems into ./vendor/bundle/, or you can enter your password\n  and install the bundled gems to Rubygems using sudo.</p>\n\n<p>Password: \"</p>\n\n<p>thanks for your help.</p>\n"}, {"tags": ["ruby", "regex", "onigmo"], "answers": [{"comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 2, "creation_date": 1461768623, "post_id": 36893270, "comment_id": 61350935, "body": "Thanks. The question was stupid. I misused <code>\\g</code> for <code>\\k</code>."}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1461768824, "post_id": 36893270, "comment_id": 61351097, "body": "Yeah, with a backreference, <a href=\"https://regex101.com/r/vJ9eN3/1\" rel=\"nofollow noreferrer\">it would look different</a>."}], "tags": [], "owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1461768366, "creation_date": 1461768366, "answer_id": 36893270, "question_id": 36892763, "link": "https://stackoverflow.com/questions/36892763/where-did-the-character-go/36893270#36893270", "title": "Where did the character go?", "body": "<p>It is actually expected. Look:</p>\n\n<ul>\n<li><code>(?&lt;backticks>`+)</code> - matches 1+ backticks and stores them in the named capture group \"backticks\" (there are two backticks). Then...</li>\n<li><code>(?&lt;inline>.+)</code> - 1+ characters other than a newline are matched into the \"inline\" named capture group. It grabs all the string and backtracks to yield characters to the recursed subpattern that is actually the \"backticks\" capture group. So,...</li>\n<li><code>\\g&lt;backticks&gt;</code> - finds 1 backtick that is at the end of the string. It satisfies the condition to match 1+ backticks. <em>The named capture \"backtick\" buffer is re-written here.</em></li>\n</ul>\n\n<p>The matching works like this:</p>\n\n<pre><code>\"`` `foo`\"\n ||1\n   | 2 |\n       |3\n</code></pre>\n\n<p>And then 1 becomes 3, and since 1 and 3 are the same group, you see one backtick.</p>\n"}], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36893270, "answer_count": 1, "score": 3, "last_activity_date": 1461779577, "creation_date": 1461767177, "last_edit_date": 1461779577, "question_id": 36892763, "link": "https://stackoverflow.com/questions/36892763/where-did-the-character-go", "title": "Where did the character go?", "body": "<p>I matched a string against a regex:</p>\n\n<pre><code>s = \"`` `foo`\"\nr = /(?&lt;backticks&gt;`+)(?&lt;inline&gt;.+)\\g&lt;backticks&gt;/\n</code></pre>\n\n<p>And I got:</p>\n\n<pre><code>s =~ r\n$&amp;             # =&gt; \"`` `foo`\"\n$~[:backticks] # =&gt; \"`\"\n$~[:inline]    # =&gt; \" `foo\"\n</code></pre>\n\n<p>Why is <code>$~[:inline]</code> not <code>\"` `foo\"</code>? Since <code>$&amp;</code> is <code>s</code>, I expect:</p>\n\n<pre><code>$~[:backticks] + $~[:inline] + $~[:backticks]\n</code></pre>\n\n<p>to be <code>s</code>, but it is not, one backtick is gone. Where did the backtick go?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake", "asset-pipeline"], "answers": [{"tags": [], "owner": {"reputation": 3518, "user_id": 3384609, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1cb30cda6294521f9c6e60277504c5c2?s=128&d=identicon&r=PG", "display_name": "Clintm", "link": "https://stackoverflow.com/users/3384609/clintm"}, "is_accepted": false, "score": 0, "last_activity_date": 1562074145, "creation_date": 1562074145, "answer_id": 56853617, "question_id": 36892627, "link": "https://stackoverflow.com/questions/36892627/difference-between-rake-assetsprecompileall-and-rake-assetsprecompileprimary/56853617#56853617", "title": "Difference between rake assets:precompile:all and rake assets:precompile:primary", "body": "<p>Yes you can just use <code>:primary</code>. I believe <code>:all</code> compiles both non digest and digest assets while <code>:primary</code> compiles only digest assets. Digest assets are the assets with the checksum added to the name.</p>\n"}], "owner": {"reputation": 66, "user_id": 5888716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e4c73244a91942d79cdb93176097fa?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/5888716/ruslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1562074145, "creation_date": 1461766860, "question_id": 36892627, "link": "https://stackoverflow.com/questions/36892627/difference-between-rake-assetsprecompileall-and-rake-assetsprecompileprimary", "title": "Difference between rake assets:precompile:all and rake assets:precompile:primary", "body": "<p>We are using Rails 3 as our application. Compiling assets with <code>rake assets:precompile:all</code> takes quite a long time but with <code>rake assets:precompile:primary</code> it runs a bit faster</p>\n\n<p>What is the difference between them? Can I just use <code>primary</code>?</p>\n"}, {"tags": ["ruby", "eclipse", "selenium-webdriver", "watir-webdriver"], "comments": [{"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1461948102, "post_id": 36892536, "comment_id": 61445781, "body": "just keep in mind, a test without assertions isn&#39;t really a test"}], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 6261951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c35b89bc0e88e3ae3c8f6023296e2de5?s=128&d=identicon&r=PG&f=1", "display_name": "Tufty", "link": "https://stackoverflow.com/users/6261951/tufty"}, "edited": false, "score": 0, "creation_date": 1461836557, "post_id": 36897555, "comment_id": 61384223, "body": "Thanks for the demonstration of the assertion times @Justin-Ko, very helpful.  I do think the problem will turn out to be the number of browser calls and recycling through functions which don&#39;t ideally need to be replayed."}], "tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 1, "last_activity_date": 1461780221, "creation_date": 1461780221, "answer_id": 36897555, "question_id": 36892536, "link": "https://stackoverflow.com/questions/36892536/average-time-to-run-an-assert-statement-in-ruby/36897555#36897555", "title": "Average time to run an assert statement in RUBY?", "body": "<p>Assertions themselves are very fast. In the following spec, you can see that 14,000 assertions can easily be made in less than a second.</p>\n\n<pre><code>require 'rspec/autorun'\n\nRSpec.describe 'assert' do\n  it 'is fast for a simple comparision' do\n    7000.times { expect(1).to eq(1) }\n  end\n\n  it 'is fast for include' do\n    7000.times { expect(\"aasdfas flsajfalds jfdsf lksa jfd test asfdsadf sadfsadf\").to include('test') }\n  end\nend\n#=&gt; Finished in 0.0312 seconds (files took 0.1092 seconds to load)\n#=&gt; 2 examples, 0 failures\n</code></pre>\n\n<p>It is the inspecting of the browser that makes the assertions slow. In the following spec, you can see that it takes 50 seconds just to inspect the text <em>100</em> times.</p>\n\n<pre><code>require 'rspec/autorun'\nrequire 'watir-webdriver'\n\nRSpec.describe 'assert url' do\n  it 'is fast for include' do\n    start_setup = Time.now\n    browser = Watir::Browser.new :chrome\n    browser.goto('http://www.example.com/')\n    puts \"start browser: #{Time.now - start_setup} seconds\"\n\n    100.times { expect(browser.text).to include('illustrative') }\n  end\nend\n#=&gt; start browser: 1.947 seconds\n#=&gt; Finished in 52.92 seconds (files took 0.441 seconds to load)\n#=&gt; 1 example, 0 failures\n</code></pre>\n\n<p>Removing duplicate calls to the browser, allows us to again make many assertions quickly (aside from the browser setup).</p>\n\n<pre><code>require 'rspec/autorun'\nrequire 'watir-webdriver'\n\nRSpec.describe 'assert url' do\n  it 'is fast for include' do\n    start_setup = Time.now\n    browser = Watir::Browser.new :chrome\n    browser.goto('http://www.example.com/')\n    puts \"start browser: #{Time.now - start_setup} seconds\"\n\n    text = browser.text\n    7000.times { expect(text).to include('illustrative') }\n    7000.times { expect(text).not_to include('some other text') }\n  end\nend\n#=&gt; start browser: 1.972 seconds\n#=&gt; Finished in 2.75 seconds (files took 0.3432 seconds to load)\n#=&gt; 1 example, 0 failures\n</code></pre>\n\n<p>In summary, assertions are fast, but inspecting the browser is slow. Removing assertions will only speed up your test suite if they reduced the number of calls to the browser.</p>\n"}], "owner": {"reputation": 376, "user_id": 6261951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c35b89bc0e88e3ae3c8f6023296e2de5?s=128&d=identicon&r=PG&f=1", "display_name": "Tufty", "link": "https://stackoverflow.com/users/6261951/tufty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 36897555, "answer_count": 1, "score": 0, "last_activity_date": 1461780221, "creation_date": 1461766669, "last_edit_date": 1461769987, "question_id": 36892536, "link": "https://stackoverflow.com/questions/36892536/average-time-to-run-an-assert-statement-in-ruby", "title": "Average time to run an assert statement in RUBY?", "body": "<p>I know this is a bit of an open ended question, but I've just taken over running an automation pack which uses RUBY and need to make performance improvements to it.</p>\n\n<p>I'm wondering if anyone may have some idea of how long it takes to run a simple assert (true, false, equal, etc) in Ruby?</p>\n\n<p>Some of the tests are very long running and include a lot of asserts (one test has over 7000!).</p>\n\n<p>Being able to eliminate even just a few asserts which are frequently called could help a lot. I just need to be able to demonstrate the benefit on paper to my manager before we spend time refactoring.</p>\n\n<p>Any help you can provide appreciated by this newbie!!\nThanks,\nTufty</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3", "ruby-on-rails-4", "functional-programming"], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 1846982, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9979071c5c3697ae9e8b8f50062a1782?s=128&d=identicon&r=PG&f=1", "display_name": "Bloomberg", "link": "https://stackoverflow.com/users/1846982/bloomberg"}, "edited": false, "score": 0, "creation_date": 1461775525, "post_id": 36893625, "comment_id": 61356120, "body": "Thanks that very genius. It totally solves the purpose"}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": true, "score": 0, "last_activity_date": 1461769228, "creation_date": 1461769228, "answer_id": 36893625, "question_id": 36892510, "link": "https://stackoverflow.com/questions/36892510/how-to-run-this-expression-in-ruby-on-rails/36893625#36893625", "title": "How to run this expression in ruby on rails", "body": "<p>If you can, you might want to convert your group format to something more structured, like <code>[1, '&amp;', 2, '|', 3]</code>, which will make it easier to apply. If not, we can get there pretty quickly with some simple substitutions:</p>\n\n<pre><code>parts = 'filter_id_1 AND filter_id_2 OR filter_id_3'\n  .gsub('filter_id_', '')\n  .gsub('AND', '&amp;')\n  .gsub('OR', '|')\n  .split\n#=&gt; [\"1\", \"&amp;\", \"2\", \"|\", \"3\"]\n</code></pre>\n\n<p>Then you can construct your list of users by walking through the symbols:</p>\n\n<pre><code>parts = [\"1\", \"&amp;\", \"2\", \"|\", \"3\"]\nusers = Filter.find(parts.shift).get_users\nwhile parts.any?\n  op = parts.shift\n  next_users = Filter.find(parts.shift).get_users\n  users = users.send(op, next_users)\nend\n</code></pre>\n\n<p>As long as there's something left in <code>parts</code> (and assuming the group was well formed), you know there's an operation followed by another filter ID. Grabbing each of those, you can send the <code>op</code> to your existing <code>users</code> to apply the next set of users in the right way.</p>\n"}, {"comments": [{"owner": {"reputation": 2111, "user_id": 1846982, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9979071c5c3697ae9e8b8f50062a1782?s=128&d=identicon&r=PG&f=1", "display_name": "Bloomberg", "link": "https://stackoverflow.com/users/1846982/bloomberg"}, "edited": false, "score": 0, "creation_date": 1461774900, "post_id": 36895362, "comment_id": 61355732, "body": "I agree with you ActiveRecord Query would be an awesome solution. But Scopes can be used when you know what exact relation you have to define b/w filters. These filters will be generated on the fly by users.  It could be any thing like: &quot;filter_1 AND filter_2&quot; or lets say &quot;filter_2 AND filter_4 AND filter_6&quot;.  here I dont know user will define what exact combination b/w filters."}], "tags": [], "owner": {"reputation": 439, "user_id": 4302121, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-3j02BMbyIcA/AAAAAAAAAAI/AAAAAAAAAD0/hG57-fJMReA/photo.jpg?sz=128", "display_name": "Eason Caizhen Liu", "link": "https://stackoverflow.com/users/4302121/eason-caizhen-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461774003, "last_edit_date": 1592644375, "creation_date": 1461773640, "answer_id": 36895362, "question_id": 36892510, "link": "https://stackoverflow.com/questions/36892510/how-to-run-this-expression-in-ruby-on-rails/36895362#36895362", "title": "How to run this expression in ruby on rails", "body": "<p>A better solution for your purpose I think is that <strong>using scope in User model and query methods</strong>.</p>\n<h2>Query Methods</h2>\n<p>In rails, ActiveRecord offers lots of query methods to implement that, like this:</p>\n<pre><code>User.joins(:notes).where(notes: {category: 'Emotions'})\n</code></pre>\n<p>This produces:</p>\n<pre><code>SELECT users.* FROM users INNER JOIN notes ON notes.user_id = users.id WHERE notes.category = 'Emotions'\n</code></pre>\n<p>ref: <a href=\"http://guides.rubyonrails.org/active_record_querying.html\" rel=\"nofollow noreferrer\">http://guides.rubyonrails.org/active_record_querying.html</a></p>\n<h2>Scope</h2>\n<pre><code>#app/models/user.rb\nclass User\n  scope :group_by_note_category -&gt; (category){\n    self.joins(:notes).where(notes: {category: category})\n  }\nend\n\n#use like this\nUser.group_by_note_category('Emotions')\n</code></pre>\n<p>Your purpose is that combine two Active:Relation objects using 'And' and 'Or'. Hoping this would be of use.</p>\n<p>ref: <a href=\"https://stackoverflow.com/questions/9540801/combine-two-activerecordrelation-objects\">Combine two ActiveRecord::Relation objects</a></p>\n"}], "owner": {"reputation": 2111, "user_id": 1846982, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9979071c5c3697ae9e8b8f50062a1782?s=128&d=identicon&r=PG&f=1", "display_name": "Bloomberg", "link": "https://stackoverflow.com/users/1846982/bloomberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 36893625, "answer_count": 2, "score": 1, "last_activity_date": 1461774003, "creation_date": 1461766609, "question_id": 36892510, "link": "https://stackoverflow.com/questions/36892510/how-to-run-this-expression-in-ruby-on-rails", "title": "How to run this expression in ruby on rails", "body": "<p>I have two models </p>\n\n<pre><code>class Filters &lt; ActiveRecord::Base\nend\n\nclass Groups &lt; ActiveRecord::Base\nend\n</code></pre>\n\n<p>Filter model is responsible for fetching user data from db e.g </p>\n\n<p>filter_id_1. <code>SELECT users.* FROM users INNER JOIN notes ON notes.user_id = users.id WHERE notes.category = 'Emotions'</code></p>\n\n<p>filter_id_2. <code>SELECT users.* FROM users INNER JOIN subscriptions ON subscriptions.user_id = users.id WHERE (Date(end_date) = CURDATE())</code></p>\n\n<p>filter_id_3. <code>SELECT users.* FROM users  WHERE (auth_token_created_at &gt; DATE_SUB(NOW(), INTERVAL 2 hour))</code></p>\n\n<p>Group model makes a group with multiple filters with AND and OR conditions e.g </p>\n\n<p>group_id_1 = <code>\"filter_id_1 AND filter_id_2 OR filter_id_3\"</code></p>\n\n<p>Now using group I am trying to fetch users by converting expression to methods according to AND OR conditions.</p>\n\n<pre><code>users = Filter.find(1).get_users &amp;  Filter.find(2).get_users | Filter.find(3).get_users\n</code></pre>\n\n<p>How can i convert this experssion from this <code>\"filter_id_1 AND filter_id_2 OR filter_id_3\"</code></p>\n\n<p>to this</p>\n\n<p><code>users = Filter.find(1).get_users &amp;  Filter.find(2).get_users | Filter.find(3).get_users</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1597, "user_id": 717626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303d9f5c2135f14f277775052bcb131b?s=128&d=identicon&r=PG", "display_name": "Aaron Breckenridge", "link": "https://stackoverflow.com/users/717626/aaron-breckenridge"}, "edited": false, "score": 0, "creation_date": 1461766976, "post_id": 36892382, "comment_id": 61349515, "body": "Do you have a <code>require_tree .</code> directive near the top of your application.css?"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461768115, "post_id": 36892382, "comment_id": 61350497, "body": "How do your <code>stylesheet_link_tag</code> declarations look like? How does your application.css look like?"}, {"owner": {"reputation": 686, "user_id": 403464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c478e26990c0fbb97fc11f2c5760f971?s=128&d=identicon&r=PG", "display_name": "Joeyjoejoe", "link": "https://stackoverflow.com/users/403464/joeyjoejoe"}, "edited": false, "score": 1, "creation_date": 1461770157, "post_id": 36892382, "comment_id": 61352123, "body": "there may be some way to load stylesheets on demand. But, it&#39;s more efficient to load all stylesheets compiled in one file, only once. That&#39;s what rails do in production environnement. In you re actual environement: development (i guess), all assets are loaded separatly, for ease of use and debug."}, {"owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 1, "creation_date": 1461771741, "post_id": 36892382, "comment_id": 61353336, "body": "Yes, i have  *= require_tree and require_self in application.css"}], "owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461766326, "creation_date": 1461766326, "question_id": 36892382, "link": "https://stackoverflow.com/questions/36892382/all-css-assets-are-loaded-after-each-refresh-page-in-my-rails-app", "title": "All CSS assets are loaded after each refresh page in my rails app", "body": "<p>I have problem with load applications assets. I use <a href=\"https://github.com/seyhunak/twitter-bootstrap-rails\" rel=\"nofollow\">twitter-bootstrap-rails gem</a>. It genetate a css file, and i see loading after every refresh page.\nI see its in console:</p>\n\n<pre><code>Started GET \"/assets/plans.self-d7fb8f00efb616455393cb653247ba61a0d1b0c34e60903d02b3d1756e1dd654.css?body=1\" for 127.0.0.1 at 2016-04-27 19:59:20 +0300\n</code></pre>\n\n<p>plans - is my model.\nAssets for all models will load if i open one of applications page. I dont use css class from many assets, and want load only some of assets.\nHow i can doing this?</p>\n"}, {"tags": ["java", "ruby", "pascals-triangle"], "comments": [{"owner": {"reputation": 35849, "user_id": 1424875, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HFA9w.png?s=128&g=1", "display_name": "nanofarad", "link": "https://stackoverflow.com/users/1424875/nanofarad"}, "edited": false, "score": 0, "creation_date": 1461765809, "post_id": 36892146, "comment_id": 61348600, "body": "Why is this tagged C++ as well? You have written Java code so far. Pick one language and not the other for now."}, {"owner": {"reputation": 141, "user_id": 5281131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/162003177468703/picture?type=large", "display_name": "Utkarsh Mittal", "link": "https://stackoverflow.com/users/5281131/utkarsh-mittal"}, "reply_to_user": {"reputation": 35849, "user_id": 1424875, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HFA9w.png?s=128&g=1", "display_name": "nanofarad", "link": "https://stackoverflow.com/users/1424875/nanofarad"}, "edited": false, "score": 0, "creation_date": 1461765902, "post_id": 36892146, "comment_id": 61348667, "body": "@hexafraction Ok. Will remove C++ then."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5281131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/162003177468703/picture?type=large", "display_name": "Utkarsh Mittal", "link": "https://stackoverflow.com/users/5281131/utkarsh-mittal"}, "edited": false, "score": 0, "creation_date": 1461767904, "post_id": 36892870, "comment_id": 61350318, "body": "Initialized work_array with a value of 1, still the same error."}, {"owner": {"reputation": 471, "user_id": 6235606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c620f20d8fcba2667d0f4e985e06b18a?s=128&d=identicon&r=PG", "display_name": "briadeus", "link": "https://stackoverflow.com/users/6235606/briadeus"}, "reply_to_user": {"reputation": 141, "user_id": 5281131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/162003177468703/picture?type=large", "display_name": "Utkarsh Mittal", "link": "https://stackoverflow.com/users/5281131/utkarsh-mittal"}, "edited": false, "score": 1, "creation_date": 1461768907, "post_id": 36892870, "comment_id": 61351163, "body": "The default constructor initializes the the ArrayList with size 10 (the data structure is backed by an array of that size). You need to actually have some elements in the List in order to avoid the error, since otherwise the size() method will return 0 and your index (&quot;i&quot;) will always be &quot;index &gt;= size()&quot; (check the javadoc link in the answer). In your code, you might just use the .add() method since you just add elements from 0 till work_array.size()."}, {"owner": {"reputation": 141, "user_id": 5281131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/162003177468703/picture?type=large", "display_name": "Utkarsh Mittal", "link": "https://stackoverflow.com/users/5281131/utkarsh-mittal"}, "edited": false, "score": 0, "creation_date": 1461773243, "post_id": 36892870, "comment_id": 61354520, "body": ".add() worked. But that wasn&#39;t the only problem. When recursively calling the doit function, I was passing the same array but what was needed was to keep that unchanged and pass a new temporary array for every new call."}], "tags": [], "owner": {"reputation": 471, "user_id": 6235606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c620f20d8fcba2667d0f4e985e06b18a?s=128&d=identicon&r=PG", "display_name": "briadeus", "link": "https://stackoverflow.com/users/6235606/briadeus"}, "is_accepted": true, "score": 0, "last_activity_date": 1461767433, "creation_date": 1461767433, "answer_id": 36892870, "question_id": 36892146, "link": "https://stackoverflow.com/questions/36892146/converting-golfed-200-character-ruby-code-to-functionally-equivalent-simplifie/36892870#36892870", "title": "Converting golfed (200 character) Ruby Code to functionally equivalent simplified JAVA code", "body": "<p>You don't have any elements in your <code>ArrayList&lt;Integer&gt; work_array = new ArrayList&lt;Integer&gt;();</code> therefore your index ist <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29\" rel=\"nofollow\">out of range</a>, since the  <code>size()</code> returns 0.</p>\n"}], "owner": {"reputation": 141, "user_id": 5281131, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/162003177468703/picture?type=large", "display_name": "Utkarsh Mittal", "link": "https://stackoverflow.com/users/5281131/utkarsh-mittal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36892870, "answer_count": 1, "score": 0, "last_activity_date": 1461767433, "creation_date": 1461765755, "last_edit_date": 1492087139, "question_id": 36892146, "link": "https://stackoverflow.com/questions/36892146/converting-golfed-200-character-ruby-code-to-functionally-equivalent-simplifie", "title": "Converting golfed (200 character) Ruby Code to functionally equivalent simplified JAVA code", "body": "<p><strong>I need a simplified (Pseudo/C++/JAVA) version of this Ruby code -</strong></p>\n\n<pre><code>def P(a)a.min&lt;0?0:a.max&lt;1?1:(b=a*1;t=k=0;b.map{b[k]-=1;k+=1;t+=P(b)};t)end\ndef d(n,a)print n&gt;1?((0..a[-1]).map{|i|d(n-1,a+[i])};\"\\n\"):\"#{P(a)} \"end\nd(ARGV[0].to_i,[ARGV[1].to_i])\n</code></pre>\n\n<p>For context, please visit <a href=\"https://codegolf.stackexchange.com/questions/2741/pascals-pyramid-and-higher-dimensions/2742#2742?newreg=4881b3b4ca164fdb97483a56593e2bda\">Code golf- Pascal's pyramid and higher dimensions</a></p>\n\n<p>Here is what I have so far,\n<strong>Pseudo code</strong>-</p>\n\n<pre><code>/**\n*   This prints out one 'row', specified by indices in array\n*   for Pascal's triangle of the given dimension\n**/\nvoid doit(int dimension, list array){\n    if(dimension&gt;1){\n        for(int i=0;i&lt;=array.lastElement();++i){\n            // Recursively call function with reduced dimension and\n            // extended array (count index appended)\n            doit(dimension-1, array.append(i));\n        }\n        print a newline;\n    }\n    else{\n        print Pascal(a);\n    }\n}\n\n/**\n*   This calculates a specific entry in the Pascal's triangle\n**/\nint Pascal(list array){\n    // Pascal(...,-1,...) = 0\n    if(minimum(array)&lt;0){\n        return 0;\n    }\n    // Pascal(0,0,...,0) = 1\n    else if(maximum(array)&lt;1){\n        return 1;\n    }\n    // Pascal(a,b,c,...) = Pascal(a-1,b,c,...) + Pascal(a-1,b-1,c,...) + Pascal(a-1,b-1,c-1,....)\n    else{\n        list work_array = array.copy();\n        int result = 0;\n\n        for(int i=0;i&lt;work_array.length;++i){\n            // Decrement i'th element in array\n            work_array[i] = work_array[i]-1;\n            // Recursively call this function with modified array\n            // and add return value to result.\n            result = result + Pascal(work_array);\n        }\n\n        return result;\n    }\n}\n\nvoid main(firstArg, secondArg){\n    doit(firstArg.toInt(), new list [secondArg.toInt()]);\n}\n</code></pre>\n\n<p><strong>Implementation of above Pseudo Code in JAVA</strong>-</p>\n\n<pre><code>import java.util.*;\npublic class Pascal {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; power=new ArrayList&lt;Integer&gt;();\n        power.add(3);\n        doit(4,power);\n\n    }\n\n    public static void doit(int dimension, ArrayList&lt;Integer&gt; array){\n        if(dimension&gt;1){\n            for(int i=0;i&lt;=(int) array.get(array.size() - 1);++i){\n                array.add(i);\n                doit(dimension-1,array);\n            }\n            System.out.println();\n        }\n        else{\n            System.out.print(Pa(array));\n        }\n    }\n\n    public static int Pa(ArrayList&lt;Integer&gt; array){\n        if((int)Collections.min(array) &lt;0){\n            return 0;\n        }\n        else if((int)Collections.max(array) &lt;1){\n            return 1;\n        }\n        else{\n            ArrayList&lt;Integer&gt; work_array = new ArrayList&lt;Integer&gt;();\n            //Collections.copy(work_array, array);\n            for(int i=0;i&lt;array.size();i++){\n                work_array.set(i, array.get(i));\n            }\n            int result=0;\n            for(int i=0;i&lt;work_array.size();++i){\n                work_array.set(i, work_array.get(i)-1);\n                result=result+Pa(work_array);\n            }\n            return result;\n        }\n    }\n\n}\n</code></pre>\n\n<p>But this does not give the same output, it shows an error-</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: Index: 0, Size: 0   at java.util.ArrayList.rangeCheck(Unknown Source)   at java.util.ArrayList.set(Unknown Source)  at Pascal.Pa(Pascal.java:35)    at Pascal.doit(Pascal.java:20)  at Pascal.doit(Pascal.java:15)  at Pascal.main(Pascal.java:7)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["ruby", "email", "ruby-on-rails-4", "devise-confirmable"], "comments": [{"owner": {"reputation": 3309, "user_id": 3786332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/R33iW.jpg?s=128&g=1", "display_name": "uzaif", "link": "https://stackoverflow.com/users/3786332/uzaif"}, "edited": false, "score": 0, "creation_date": 1461766789, "post_id": 36891915, "comment_id": 61349349, "body": "what error diid you got?"}, {"owner": {"reputation": 3309, "user_id": 3786332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/R33iW.jpg?s=128&g=1", "display_name": "uzaif", "link": "https://stackoverflow.com/users/3786332/uzaif"}, "edited": false, "score": 0, "creation_date": 1461766950, "post_id": 36891915, "comment_id": 61349493, "body": "send mail <code>after_create :send_welcome_mail</code> in user model and write code of mail sending in <code>send_welcome_mail</code> method of model"}], "answers": [{"tags": [], "owner": {"reputation": 2799, "user_id": 3772982, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/91362482c60ebfba88fbdbde79c5fac6?s=128&d=identicon&r=PG&f=1", "display_name": "margo", "link": "https://stackoverflow.com/users/3772982/margo"}, "is_accepted": false, "score": 0, "last_activity_date": 1461767182, "creation_date": 1461767182, "answer_id": 36892766, "question_id": 36891915, "link": "https://stackoverflow.com/questions/36891915/ruby-rails-send-an-email-after-sign-up-with-devise-without-confirmable/36892766#36892766", "title": "ruby rails send an email after sign up with devise without confirmable", "body": "<p>You can set up an <a href=\"http://apidock.com/rails/v4.0.2/AbstractController/Callbacks/ClassMethods/after_action\" rel=\"nofollow\">after_action</a> in the model to send an email.</p>\n\n<p>model</p>\n\n<pre><code>after_action :send_welcome_email, only: [:sign_up]\n</code></pre>\n\n<p>You will need to create the send_welcome_email yourself. Look up <a href=\"http://guides.rubyonrails.org/action_mailer_basics.html\" rel=\"nofollow\">actionMailer</a> which will give you an idea of what you need to do.</p>\n"}], "owner": {"reputation": 15, "user_id": 5986784, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2JI2h.png?s=128&g=1", "display_name": "zato", "link": "https://stackoverflow.com/users/5986784/zato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461767182, "creation_date": 1461765231, "last_edit_date": 1461766692, "question_id": 36891915, "link": "https://stackoverflow.com/questions/36891915/ruby-rails-send-an-email-after-sign-up-with-devise-without-confirmable", "title": "ruby rails send an email after sign up with devise without confirmable", "body": "<p>i create a sign in /up with devise for my app rails , and i would like just send a email of welcoming but without confirmable or redirecting,</p>\n\n<p>\"devise :confirmable, ...</p>\n\n<pre><code>has_many :emails\ndelegate :confirmation_sent_at, :confirmed_at, :confirmation_token, to: :primary_email\n\ndef primary_email\n  emails.primary || (emails.first if new_record?)\nend\"\n</code></pre>\n\n<p>i read the documentation of devise but i didn't find ( or understand) my answer.</p>\n\n<p>thx for your help i am new in the community and don't speak english well. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongodb", "mongoid", "rails-console"], "answers": [{"tags": [], "owner": {"reputation": 2219, "user_id": 871580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/85c750e8c836a011e39651d4f7deb16c?s=128&d=identicon&r=PG", "display_name": "CBusBus", "link": "https://stackoverflow.com/users/871580/cbusbus"}, "is_accepted": false, "score": -1, "last_activity_date": 1461764345, "last_edit_date": 1495540386, "creation_date": 1461764345, "answer_id": 36891550, "question_id": 36891450, "link": "https://stackoverflow.com/questions/36891450/list-all-mongoid-models-in-rails-console/36891550#36891550", "title": "List all Mongoid models in Rails console", "body": "<p>You should be able to use <code>ActiveRecord::Base.connection.tables</code> to list the ActiveRecord models.</p>\n\n<p>For mongoDB you can use <a href=\"https://stackoverflow.com/a/10862470/871580\">https://stackoverflow.com/a/10862470/871580</a></p>\n"}, {"comments": [{"owner": {"reputation": 2770, "user_id": 1042201, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ada99cff697111a404292dbeff3d4313?s=128&d=identicon&r=PG", "display_name": "Kumar", "link": "https://stackoverflow.com/users/1042201/kumar"}, "edited": false, "score": 0, "creation_date": 1461770095, "post_id": 36891837, "comment_id": 61352070, "body": "<code>[Mongoid::GridFs::Fs::File, Mongoid::GridFs::Fs::Chunk, Invoice]</code> Only got this. What am I doing wrong? Thanks for the edit btw."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 2770, "user_id": 1042201, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ada99cff697111a404292dbeff3d4313?s=128&d=identicon&r=PG", "display_name": "Kumar", "link": "https://stackoverflow.com/users/1042201/kumar"}, "edited": false, "score": 0, "creation_date": 1461771650, "post_id": 36891837, "comment_id": 61353261, "body": "@KumarAbinash I don&#39;t know. The method works for me as advertised, i.e. the array contains all classes with an <code>include Mongoid::Document</code> line."}, {"owner": {"reputation": 5998, "user_id": 1172125, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/82b341477c74888442fe70db563dac26?s=128&d=identicon&r=PG", "display_name": "Bengineer", "link": "https://stackoverflow.com/users/1172125/bengineer"}, "reply_to_user": {"reputation": 2770, "user_id": 1042201, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ada99cff697111a404292dbeff3d4313?s=128&d=identicon&r=PG", "display_name": "Kumar", "link": "https://stackoverflow.com/users/1042201/kumar"}, "edited": false, "score": 1, "creation_date": 1503374393, "post_id": 36891837, "comment_id": 78575004, "body": "@Kumar , this method only gives you the models that were used in the session that you are. So if access the rails console and call User.first for example, Mongoid.models will only return the User model."}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 8, "last_activity_date": 1461765048, "creation_date": 1461765048, "answer_id": 36891837, "question_id": 36891450, "link": "https://stackoverflow.com/questions/36891450/list-all-mongoid-models-in-rails-console/36891837#36891837", "title": "List all Mongoid models in Rails console", "body": "<p>There's <a href=\"http://www.rubydoc.info/gems/mongoid_rails4/Mongoid/Config#models-instance_method\" rel=\"noreferrer\"><code>Mongoid::Config#models</code></a>:</p>\n\n<blockquote>\n  <p>Get all the models in the application - this is everything that includes <code>Mongoid::Document</code>.</p>\n</blockquote>\n\n<p>All <code>Config</code> methods can be accessed from the <code>Mongoid</code> module, so you can call:</p>\n\n<pre><code>Mongoid.models #=&gt; [...]\n</code></pre>\n"}], "owner": {"reputation": 2770, "user_id": 1042201, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ada99cff697111a404292dbeff3d4313?s=128&d=identicon&r=PG", "display_name": "Kumar", "link": "https://stackoverflow.com/users/1042201/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 1, "accepted_answer_id": 36891837, "answer_count": 2, "score": 6, "last_activity_date": 1461765126, "creation_date": 1461764131, "last_edit_date": 1461765126, "question_id": 36891450, "link": "https://stackoverflow.com/questions/36891450/list-all-mongoid-models-in-rails-console", "title": "List all Mongoid models in Rails console", "body": "<p>I want to list all the models which have a respective collection in my mongodb database? I'm using <code>mongoid</code> gem for for MongoDB.</p>\n\n<p>I would try something like this</p>\n\n<p><code>ActiveRecord::Base.send :subclasses</code>\nwhich works fine, but I'm not using ActiveRecord.</p>\n"}, {"tags": ["html", "ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 4680, "user_id": 6063581, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vjohI.jpg?s=128&g=1", "display_name": "VonD", "link": "https://stackoverflow.com/users/6063581/vond"}, "is_accepted": false, "score": 1, "last_activity_date": 1461765282, "last_edit_date": 1461765282, "creation_date": 1461764877, "answer_id": 36891755, "question_id": 36891418, "link": "https://stackoverflow.com/questions/36891418/html-erb-how-to-fill-last-row-with-empty-divs/36891755#36891755", "title": "html.erb - How to fill last row with empty divs", "body": "<p>You can use the <code>modulo</code> operator to achieve that. In your example, <code>7 % 3</code> would return <code>1</code> (<code>7 == 2*3 + 1</code>). So <code>3 - (@item.item_images.length % 3)</code> is the number you are looking for:</p>\n\n<pre><code>&lt;% if @item.item_images.length % 3 != 0 %&gt;\n    &lt;% (3 - (@item.item_images.length % 3)).times do %&gt;\n        &lt;div class=\"photo-wrapper\"&gt;&lt;/div&gt;\n    &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1651, "user_id": 4414956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a7ff9df014e5c92697372747c15d77?s=128&d=identicon&r=PG&f=1", "display_name": "nuaky", "link": "https://stackoverflow.com/users/4414956/nuaky"}, "is_accepted": false, "score": 0, "last_activity_date": 1461765351, "creation_date": 1461765351, "answer_id": 36891975, "question_id": 36891418, "link": "https://stackoverflow.com/questions/36891418/html-erb-how-to-fill-last-row-with-empty-divs/36891975#36891975", "title": "html.erb - How to fill last row with empty divs", "body": "<p>You can try achieve this with if statement. Just check for the last item.</p>\n\n<p>Something like this:</p>\n\n<pre><code>&lt;% @item.item_images.each_with_index do |image, index| %&gt;\n  &lt;% if image == @item.last %&gt;\n    do something\n  &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>or check @item length </p>\n\n<pre><code>&lt;% if (index + 1) == @stuff.length %&gt;\n  do something\n&lt;% end %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9735, "user_id": 625184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d61e61fa593df732de1ccaad37ea4f59?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/625184/jon"}, "edited": false, "score": 1, "creation_date": 1461765867, "post_id": 36892150, "comment_id": 61348639, "body": "Beat me to it. It would be nice if you showed them a solution including the <code>link_to</code> and <code>image_tag</code> helpers"}, {"owner": {"reputation": 1949, "user_id": 4584963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03a8016a0af94bd53303411018a847e2?s=128&d=identicon&r=PG&f=1", "display_name": "user4584963", "link": "https://stackoverflow.com/users/4584963/user4584963"}, "edited": false, "score": 0, "creation_date": 1461773803, "post_id": 36892150, "comment_id": 61354966, "body": "didn&#39;t know about that method, sweet!"}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1461766777, "last_edit_date": 1461766777, "creation_date": 1461765768, "answer_id": 36892150, "question_id": 36891418, "link": "https://stackoverflow.com/questions/36891418/html-erb-how-to-fill-last-row-with-empty-divs/36892150#36892150", "title": "html.erb - How to fill last row with empty divs", "body": "<p>I'd use the <a href=\"http://api.rubyonrails.org/classes/Array.html#method-i-in_groups_of\" rel=\"nofollow\"><code>in_groups_of</code></a> helper. It splits your array in groups of a given size. Missing elements are filled with <code>nil</code> by default.</p>\n\n<p>Something like this should work:</p>\n\n<pre><code>&lt;% @item.item_images.in_groups_of(3) do |images| %&gt;\n  &lt;div class=\"photo-row\"&gt;\n    &lt;% images.each do |image| %&gt;\n      &lt;div class=\"photo-wrapper\"&gt;\n        &lt;% if image %&gt;\n          &lt;a class=\"fancybox\" rel=\"group\" href=\"&lt;%= image.picture.large.url %&gt;\"&gt;&lt;img class=\"pending-photo\" src=\"&lt;%= image.picture.small.url %&gt;\" alt=\"\" /&gt;&lt;/a&gt;\n        &lt;% end %&gt;\n      &lt;/div&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>You could also use the <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/UrlHelper.html#method-i-link_to\" rel=\"nofollow\"><code>link_to</code></a> and <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html#method-i-image_tag\" rel=\"nofollow\"><code>image_tag</code></a> helpers instead of <code>&lt;a&gt;</code> and <code>&lt;img&gt;</code> Tags. Maybe wrapped in a custom helper:</p>\n\n<pre><code># app/helpers/application_helper.rb\ndef fancybox(image)\n  link_to image.picture.large.url, class: 'fancybox', rel: 'group') do\n    image_tag(image.picture.small.url, alt: '', class: 'pending-photo')\n  end\nend\n</code></pre>\n\n<p>and in your view:</p>\n\n<pre><code>&lt;% @item.item_images.in_groups_of(3) do |images| %&gt;\n  &lt;div class=\"photo-row\"&gt;\n    &lt;% images.each do |image| %&gt;\n      &lt;div class=\"photo-wrapper\"&gt;\n        &lt;%= fancybox(image) if image %&gt;\n      &lt;/div&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>[Note that I haven't tested this code, it could contain errors]</p>\n"}], "owner": {"reputation": 1949, "user_id": 4584963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03a8016a0af94bd53303411018a847e2?s=128&d=identicon&r=PG&f=1", "display_name": "user4584963", "link": "https://stackoverflow.com/users/4584963/user4584963"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 36892150, "answer_count": 3, "score": 1, "last_activity_date": 1461766777, "creation_date": 1461764066, "question_id": 36891418, "link": "https://stackoverflow.com/questions/36891418/html-erb-how-to-fill-last-row-with-empty-divs", "title": "html.erb - How to fill last row with empty divs", "body": "<p>I have a view in my rails app that is an image gallery.  The view looks like this:</p>\n\n<p>view.html.erb</p>\n\n<pre><code>  &lt;div class=\"photo-row\"&gt;\n    &lt;% @item.item_images.each_with_index do |image, index| %&gt;\n      &lt;% if (index % 3 == 0) &amp;&amp; (index != 0) %&gt;\n        &lt;/div&gt;&lt;div class=\"photo-row\"&gt;\n      &lt;% end %&gt;           \n      &lt;div class=\"photo-wrapper\"&gt;\n        &lt;a class=\"fancybox\" rel=\"group\" href=\"&lt;%= image.picture.large.url %&gt;\"&gt;&lt;img class=\"pending-photo\" src=\"&lt;%= image.picture.small.url %&gt;\" alt=\"\" /&gt;&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>As you can see the row will fill up with three images and then create a new row.  For my alignment I need the last non-full row to be filled with with 3 <code>photo-wrapper</code> divs.  For example if an <code>@item</code> has 7 <code>item_images</code> I need there to be three rows.  The first two are full and the last should have 1 with the image and 2 empty wrappers.</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["ruby", "selenium-webdriver", "watir-webdriver", "ui-automation"], "comments": [{"owner": {"reputation": 5044, "user_id": 888587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7tddL.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/888587/brian"}, "edited": false, "score": 0, "creation_date": 1461764651, "post_id": 36891415, "comment_id": 61347626, "body": "Have you tried something along the lines of:  <code>driver.SwitchTo().Window(driver.WindowHandles.Last());</code>?  This may not be the correct syntax for <code>Ruby</code> but, it should be relatively close."}, {"owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 0, "creation_date": 1461767979, "post_id": 36891415, "comment_id": 61350376, "body": "Are you sure it is actually a browser window? Is it possible that it is just an element on the page that is meant to look like a popup? For example, the <a href=\"https://jqueryui.com/dialog/\" rel=\"nofollow noreferrer\">jQueryUI dialog</a> looks like a window, but is just an element in the original browser window (ie not a new window)."}, {"owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "reply_to_user": {"reputation": 5044, "user_id": 888587, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7tddL.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/888587/brian"}, "edited": false, "score": 0, "creation_date": 1461821802, "post_id": 36891415, "comment_id": 61375546, "body": "@brian -&gt; I&#39;ve done similar thing in ruby but as I said, the problem is it is not a child window, it is a new browser session."}, {"owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "reply_to_user": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 0, "creation_date": 1461821822, "post_id": 36891415, "comment_id": 61375552, "body": "@justin -&gt; yeah I&#39;m sure it is a new browser not a pop-up thing."}, {"owner": {"reputation": 649, "user_id": 6103994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd47adb462023e049e59c6f437e6d4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Antesser", "link": "https://stackoverflow.com/users/6103994/antesser"}, "edited": false, "score": 1, "creation_date": 1461829657, "post_id": 36891415, "comment_id": 61379750, "body": "1. Could you provide an example of the page? HTML or similar page in the Internet? It will be much easier to suggest something when it will be possible to play around with your situation. 2. I never ever allow watir-webdriver to open new tabs. Usually I am modifying the link to open it at the same page. That&#39;s a dirty workaround but it helps."}, {"owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "reply_to_user": {"reputation": 649, "user_id": 6103994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd47adb462023e049e59c6f437e6d4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Antesser", "link": "https://stackoverflow.com/users/6103994/antesser"}, "edited": false, "score": 0, "creation_date": 1461830911, "post_id": 36891415, "comment_id": 61380446, "body": "@Antesser -&gt; how do you do that ? and sorry I don&#39;t have anything on internet which may work in this manner"}, {"owner": {"reputation": 649, "user_id": 6103994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd47adb462023e049e59c6f437e6d4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Antesser", "link": "https://stackoverflow.com/users/6103994/antesser"}, "edited": false, "score": 1, "creation_date": 1461832384, "post_id": 36891415, "comment_id": 61381306, "body": "It depends. If it&#39;s a link like &lt;a href=&#39;lol&#39; id=&#39;new_tab&#39; target=&#39;_blank&#39;&gt;link &lt;/a&gt; it is enough to do something like browser.execute_script(&quot;arguments[0].target = &#39;&#39;&quot;, browser.element(:id, &#39;new_tab&#39;)) More complex situations must be resolved by javascript modifying. That&#39;s why it will be much better if you will provide the HTML code of your page or example."}, {"owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "edited": false, "score": 0, "creation_date": 1462436092, "post_id": 36891415, "comment_id": 61639542, "body": "I looked into the HTML code and they all are custom built functions. And I was unable to get inside code of the function that was creating the window."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "edited": false, "score": 0, "creation_date": 1461821698, "post_id": 36892325, "comment_id": 61375510, "body": "as I said.. it is not a child window... it is a new browser session"}], "tags": [], "owner": {"reputation": 1330, "user_id": 2540129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27fee606501906b745105c230f1742c?s=128&d=identicon&r=PG", "display_name": "Johnson", "link": "https://stackoverflow.com/users/2540129/johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1461766184, "creation_date": 1461766184, "answer_id": 36892325, "question_id": 36891415, "link": "https://stackoverflow.com/questions/36891415/set-focus-on-a-newly-opened-browser-using-webdriver/36892325#36892325", "title": "Set focus on a newly opened browser using webdriver", "body": "<p>I believe <a href=\"https://github.com/watir/watir-webdriver/blob/93bd1270cdfb650c2029b4d2295dc4d0e785b665/lib/watir-webdriver/window.rb#L191\" rel=\"nofollow\"><code>Watir::Window#use</code></a> was developed for this exact use case. It switches to a different window, performs an action (passed as a code block), and then switches back to the original window. For example:</p>\n\n<pre><code>@browser.window(title: /#{title}/i).use do\n  # Whatever you need to do on the new window, like:\n  @browser.text_field(id: \"some-id\").set \"Foo\"\n  @browser.button(id: \"submit\").click\nend\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 2695818, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71321de399d47802a3bc1636d4addc64?s=128&d=identicon&r=PG&f=1", "display_name": "yudi2312", "link": "https://stackoverflow.com/users/2695818/yudi2312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461766184, "creation_date": 1461764064, "question_id": 36891415, "link": "https://stackoverflow.com/questions/36891415/set-focus-on-a-newly-opened-browser-using-webdriver", "title": "Set focus on a newly opened browser using webdriver", "body": "<p>I am using ruby and watir-webdriver for automating a web application where I came across the scenario where a new browser is opened when I click on a button and I've to fill a form on the newly opened window. Webdriver is unable to identify it as a window.</p>\n\n<p>Is there anyway for handling this scenario? As I know, We can't connect to a browser instance which is not started by webdriver.</p>\n\n<p>I used the below code to check if the window exists </p>\n\n<pre><code>@browser.window(:title =&gt; /#{title}/i).wait_until_present\n</code></pre>\n\n<p>I also tried below code to check all the opened windows but the new browser instance was not coming in the list</p>\n\n<pre><code>@browser.windows.each { |w| p w.title}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "alias"], "answers": [{"comments": [{"owner": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "edited": false, "score": 0, "creation_date": 1461765445, "post_id": 36891809, "comment_id": 61348280, "body": "so while the warning does help, what if MD5 were blocked at the OS level and would therefore generate an error any time it was called therefore stopping the application?"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "edited": false, "score": 0, "creation_date": 1461768020, "post_id": 36891809, "comment_id": 61350417, "body": "I don&#39;t think Digest::MD5 can be blocked at the OS level can it? The implementation should be specific to Ruby, not the OS."}, {"owner": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "edited": false, "score": 0, "creation_date": 1461769306, "post_id": 36891809, "comment_id": 61351489, "body": "It can, if you enforce FIPS"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "edited": false, "score": 0, "creation_date": 1461769712, "post_id": 36891809, "comment_id": 61351766, "body": "That&#39;s true, but would you want to? I believe some parts of the asset pipeline and ActionView digest hashes use <code>Digest::MD5</code>. If it&#39;s practical to do so, you can set <code>OpenSSL.fips_mode = false</code>, which should be the default."}, {"owner": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "edited": false, "score": 0, "creation_date": 1461800389, "post_id": 36891809, "comment_id": 61369494, "body": "right, this is specifically for the case where FIPS is required."}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": true, "score": 2, "last_activity_date": 1461764981, "creation_date": 1461764981, "answer_id": 36891809, "question_id": 36891378, "link": "https://stackoverflow.com/questions/36891378/application-rb-override-base-ruby-class/36891809#36891809", "title": "Application.rb override base Ruby class", "body": "<p>Looks pretty dangerous to me. I understand wanting to use SHA256 over MD5, but they're definitely not interoperable, and there are certainly benign uses for MD5 which may be used by some of your dependencies. </p>\n\n<p>Instead, why not use an around alias to issue a warning if MD5 is used?</p>\n\n<pre><code>class Digest::MD5\n   alias :orig_hexencode :hexencode\n\n  def hexencode(str)\n    Rails.logger.warn(\"Hexencode called #{}\")\n    puts caller\n\n    orig_hexencode(str)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 22827, "user_id": 205426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb24c70ec76f0a28e47fc1df1e70dcdf?s=128&d=identicon&r=PG", "display_name": "Woot4Moo", "link": "https://stackoverflow.com/users/205426/woot4moo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 36891809, "answer_count": 1, "score": 2, "last_activity_date": 1461764981, "creation_date": 1461763973, "question_id": 36891378, "link": "https://stackoverflow.com/questions/36891378/application-rb-override-base-ruby-class", "title": "Application.rb override base Ruby class", "body": "<p>I have a RoR application that is doing the following in its application.rb </p>\n\n<pre><code>Digest::MD5 = Digest::SHA256\n</code></pre>\n\n<p>This in turn ensures that everytime anyone invokes <code>Digest::MD5</code> that it will instead replace the result with a <code>Digest::SHA256</code>.  I believe this will have some unintended consequences, such as runtime issues that are hard to debug.  Is there any alternative to this approach or is this sound?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "google-cloud-messaging"], "answers": [{"tags": [], "owner": {"reputation": 7155, "user_id": 5996134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo73L.jpg?s=128&g=1", "display_name": "KENdi", "link": "https://stackoverflow.com/users/5996134/kendi"}, "is_accepted": false, "score": 0, "last_activity_date": 1461807714, "creation_date": 1461807714, "answer_id": 36903790, "question_id": 36891353, "link": "https://stackoverflow.com/questions/36891353/how-to-get-gcm-registration-token-using-gcm-gem-in-ruby-on-rails/36903790#36903790", "title": "How to get gcm registration token using gcm gem in ruby on rails?", "body": "<p>You can get registration token using the <a href=\"https://developers.google.com/instance-id/\" rel=\"nofollow\">Instance ID API</a>. Google provides the Instance ID API to handle the creation and updating of registration tokens. To use this API, include <code>InstanceIDListenerService</code> in the manifest:</p>\n\n<pre><code>&lt;service android:name=\"[.MyInstanceIDService]\" android:exported=\"false\"&gt;\n  &lt;intent-filter&gt;\n         &lt;action android:name=\"com.google.android.gms.iid.InstanceID\"/&gt;\n  &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p><a href=\"https://developers.google.com/cloud-messaging/android/client#sample-register\" rel=\"nofollow\">To obtain a token</a>, call <code>instanceID.getToken</code>, providing the app server's sender ID and setting the scope to <code>GoogleCloudMessaging.INSTANCE_ID_SCOPE</code>. Do not call this method in the main thread; instead, use a service that extends <code>IntentService</code> </p>\n\n<p>Check this <a href=\"https://priyankvex.wordpress.com/2015/09/11/making-gcm-client-in-android-and-application-server-in-ruby-on-rails/comment-page-1/\" rel=\"nofollow\">page</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 2315, "user_id": 5129663, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z8P0ivhj4wM/AAAAAAAAAAI/AAAAAAAAAAo/7JsXqgRUH8w/photo.jpg?sz=128", "display_name": "Amol Udage", "link": "https://stackoverflow.com/users/5129663/amol-udage"}, "is_accepted": false, "score": 0, "last_activity_date": 1462513272, "creation_date": 1462513272, "answer_id": 37065073, "question_id": 36891353, "link": "https://stackoverflow.com/questions/36891353/how-to-get-gcm-registration-token-using-gcm-gem-in-ruby-on-rails/37065073#37065073", "title": "How to get gcm registration token using gcm gem in ruby on rails?", "body": "<p>You can get <code>registration_token</code> from android/ios application.</p>\n\n<p>In android app you can get <code>registration_token</code> by using ..</p>\n\n<pre><code>gcm_instance_id = GoogleCloudMessaging.getInstance(getApplicationContext());\nregistration_token = gcm_instance_id.register(PROJECT_NUMBER);\n</code></pre>\n\n<p>You can find <code>PROJECT_NUMBER</code> from <a href=\"https://console.developers.google.com/\" rel=\"nofollow\">https://console.developers.google.com/</a></p>\n\n<p>Then you can send this <code>registration_token</code> to rails api and store it into database..</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 66, "user_id": 5445232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-8Cuxjh5Fhi0/AAAAAAAAAAI/AAAAAAAAABs/qNT9aNpUv50/photo.jpg?sz=128", "display_name": "Yogesh Jangra", "link": "https://stackoverflow.com/users/5445232/yogesh-jangra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462524703, "creation_date": 1461763932, "last_edit_date": 1462524703, "question_id": 36891353, "link": "https://stackoverflow.com/questions/36891353/how-to-get-gcm-registration-token-using-gcm-gem-in-ruby-on-rails", "title": "How to get gcm registration token using gcm gem in ruby on rails?", "body": "<p>I am trying to implement web push notifications in my rails app using <a href=\"https://github.com/spacialdb/gcm\" rel=\"nofollow\">gcm</a> gem but i am not able to get the registration token provided by the user to store it into db for sending notification. Is there any solution to get the registration id in ruby client side?</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 2219, "user_id": 871580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/85c750e8c836a011e39651d4f7deb16c?s=128&d=identicon&r=PG", "display_name": "CBusBus", "link": "https://stackoverflow.com/users/871580/cbusbus"}, "edited": false, "score": 0, "creation_date": 1461766712, "post_id": 36892099, "comment_id": 61349274, "body": "Yeah, there&#39;s no file called old, only a directory. <code>File.exists?</code> works for both directories and files."}], "tags": [], "owner": {"reputation": 10683, "user_id": 52317, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/b3da0ca2685a59740d157b22aec70935?s=128&d=identicon&r=PG", "display_name": "Uzbekjon", "link": "https://stackoverflow.com/users/52317/uzbekjon"}, "is_accepted": false, "score": 0, "last_activity_date": 1461765660, "creation_date": 1461765660, "answer_id": 36892099, "question_id": 36891231, "link": "https://stackoverflow.com/questions/36891231/ruby-fileutils-mv-error-file-not-found/36892099#36892099", "title": "Ruby FileUtils.mv: Error file not found", "body": "<p>It seems that you have a folder match as well. Because, <code>File.exists? 'folder'</code> returns <code>true</code> as well.</p>\n\n<p>See if you have any folders with the name <code>old</code>.</p>\n\n<pre><code># This will list all directories with a name \"old\"\nfind . -name old -type d\n</code></pre>\n"}], "owner": {"reputation": 2219, "user_id": 871580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/85c750e8c836a011e39651d4f7deb16c?s=128&d=identicon&r=PG", "display_name": "CBusBus", "link": "https://stackoverflow.com/users/871580/cbusbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461765660, "creation_date": 1461763629, "question_id": 36891231, "link": "https://stackoverflow.com/questions/36891231/ruby-fileutils-mv-error-file-not-found", "title": "Ruby FileUtils.mv: Error file not found", "body": "<p>The following piece of code should iterate over a directory list replacing the old directory name with the new one. However, the <code>FileUtils.mv</code> call returns no such file or directory. </p>\n\n<p>I have added the line <code>File.exists?</code> which returns true for all paths passed to it via this loop</p>\n\n<pre><code>Dir[\"projects/*/*/old\"].each{|dir|\n    Dir.chdir dir\n    Dir.chdir \"../\"\n    puts File.exists?(\"#{Dir.pwd }/old\")\n    FileUtils.mv \"#{Dir.pwd }/old\", \"#{Dir.pwd }/new_path\"\n}\n</code></pre>\n\n<p>Any thoughts would be greatly appreciated.</p>\n"}, {"tags": ["ruby", "file", "io"], "comments": [{"owner": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "edited": false, "score": 0, "creation_date": 1461774994, "post_id": 36891212, "comment_id": 61355793, "body": "What version of ruby are you using, and what editor did you use to edit the contents."}, {"owner": {"reputation": 1784, "user_id": 435817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/336ff924a5e2f7efe299b3d1210957e2?s=128&d=identicon&r=PG", "display_name": "patrickdavey", "link": "https://stackoverflow.com/users/435817/patrickdavey"}, "reply_to_user": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "edited": false, "score": 0, "creation_date": 1461776593, "post_id": 36891212, "comment_id": 61356834, "body": "I have commented - what difference do you think it makes?"}, {"owner": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "edited": false, "score": 0, "creation_date": 1461790122, "post_id": 36891212, "comment_id": 61365342, "body": "It would make a difference if you were using something other than vim, because the call to <code>system</code> would exit before the editor itself does. My first guess was that you were trying to read the file before the editor had written in any bytes.  I think I&#39;ve found your fix though, please see my answer below."}, {"owner": {"reputation": 1784, "user_id": 435817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/336ff924a5e2f7efe299b3d1210957e2?s=128&d=identicon&r=PG", "display_name": "patrickdavey", "link": "https://stackoverflow.com/users/435817/patrickdavey"}, "reply_to_user": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "edited": false, "score": 0, "creation_date": 1461799806, "post_id": 36891212, "comment_id": 61369339, "body": "Hmmm, I tested this (on OSX) against nano and emacs too, and it did block until the file was written to... When I exited the program (vim/emacs/nano) after writing the file, the script displayed the results as I wanted."}, {"owner": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "edited": false, "score": 0, "creation_date": 1461804193, "post_id": 36891212, "comment_id": 61370480, "body": "Yeah, in a standard setup, most of the terminal-based text editors (vim, nano, emacs) will take over the entire terminal session, suspending the script. Editors that are stand-alone applications (sublime text, BBEdit, atom) would launch outside of the current terminal session, and the <code>system</code> call would return as soon as the application is launched."}], "answers": [{"comments": [{"owner": {"reputation": 1784, "user_id": 435817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/336ff924a5e2f7efe299b3d1210957e2?s=128&d=identicon&r=PG", "display_name": "patrickdavey", "link": "https://stackoverflow.com/users/435817/patrickdavey"}, "edited": false, "score": 0, "creation_date": 1461799390, "post_id": 36900544, "comment_id": 61369209, "body": "Doh! yes, should have called open on it. Thanks! - and I&#39;ll have a play with the other system editors that osx is offering me (as I want it to work across at least the main ones). Thanks Steven!"}], "tags": [], "owner": {"reputation": 3894, "user_id": 1121568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc13eedc2642303b1a2251a4da7f157e?s=128&d=identicon&r=PG", "display_name": "Steven Schobert", "link": "https://stackoverflow.com/users/1121568/steven-schobert"}, "is_accepted": true, "score": 2, "last_activity_date": 1461789968, "creation_date": 1461789968, "answer_id": 36900544, "question_id": 36891212, "link": "https://stackoverflow.com/questions/36891212/ruby-reading-from-a-file-written-to-by-the-system-process/36900544#36900544", "title": "Ruby: Reading from a file written to by the system process", "body": "<p>Make sure you are calling <code>open</code> on the file object before attempting to read it in:</p>\n\n<pre><code>require 'tempfile'\n\nfile = Tempfile.new(\"note\")\n\nsystem(\"$EDITOR #{file.path}\")\n\nfile.open\nputs file.read\nfile.close\nfile.unlink\n</code></pre>\n\n<p>This will also let you avoid calling <code>rewind</code> on the file, since your process hasn't written any bytes to it at the time you open it.</p>\n\n<p>I believe <code>IO.read</code> will always open the file for you, which is why it worked in that case. Whereas calling <code>.read</code> on an IO-like object does not always open the file for you.</p>\n"}], "owner": {"reputation": 1784, "user_id": 435817, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/336ff924a5e2f7efe299b3d1210957e2?s=128&d=identicon&r=PG", "display_name": "patrickdavey", "link": "https://stackoverflow.com/users/435817/patrickdavey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 36900544, "answer_count": 1, "score": 1, "last_activity_date": 1461789968, "creation_date": 1461763576, "last_edit_date": 1461776564, "question_id": 36891212, "link": "https://stackoverflow.com/questions/36891212/ruby-reading-from-a-file-written-to-by-the-system-process", "title": "Ruby: Reading from a file written to by the system process", "body": "<p>I'm trying to open a tmpfile in the system $EDITOR, write to it, and then read in the output. I can get it to work, but I am wondering why calling file.read returns an empty string (when the file does have content)</p>\n\n<p>Basically I'd like to know the correct way of reading the file once it has been written to.</p>\n\n<pre><code>require 'tempfile'\n\nfile = Tempfile.new(\"note\")\n\nsystem(\"$EDITOR #{file.path}\")\n\nfile.rewind\nputs file.read # this puts out an empty string \"\" .. why?\n\nputs IO.read(file.path)  # this puts out the contents of the file\n</code></pre>\n\n<p>Yes, I will be running this in an ensure block to nuke the file once used ;)</p>\n\n<p>I was running this on ruby 2.2.2 and using vim.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ajax", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461763568, "post_id": 36891150, "comment_id": 61346708, "body": "Can you post the actual Ruby error that you&#39;re getting?"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "edited": false, "score": 0, "creation_date": 1461763734, "post_id": 36891150, "comment_id": 61346851, "body": "Url exits that&#39;s why u r facing 500 error, now paste the exact error which u r facing"}, {"owner": {"reputation": 2219, "user_id": 871580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/85c750e8c836a011e39651d4f7deb16c?s=128&d=identicon&r=PG", "display_name": "CBusBus", "link": "https://stackoverflow.com/users/871580/cbusbus"}, "edited": false, "score": 0, "creation_date": 1461763881, "post_id": 36891150, "comment_id": 61346975, "body": "Shouldn&#39;t the string insertion <code>&lt;%=</code> end with <code>%&gt;</code>, not <code>=&gt;</code>?"}, {"owner": {"reputation": 1886, "user_id": 1138557, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c35c06fc5605d4d1e73e17dd8113426f?s=128&d=identicon&r=PG&f=1", "display_name": "Thorin", "link": "https://stackoverflow.com/users/1138557/thorin"}, "edited": false, "score": 0, "creation_date": 1461764213, "post_id": 36891150, "comment_id": 61347255, "body": "whats the route for movies controller? and provide more details of error"}], "answers": [{"tags": [], "owner": {"reputation": 3832, "user_id": 136508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391f9b787cdc12aa2c179713f5103e3a?s=128&d=identicon&r=PG", "display_name": "ilan berci", "link": "https://stackoverflow.com/users/136508/ilan-berci"}, "is_accepted": false, "score": 0, "last_activity_date": 1461781736, "creation_date": 1461781736, "answer_id": 36898047, "question_id": 36891150, "link": "https://stackoverflow.com/questions/36891150/rails-ajax-request-returning-not-found-but-controller-function-exists/36898047#36898047", "title": "rails ajax request returning not found but controller function exists", "body": "<p>You are missing the entry in your routes.rb file</p>\n\n<pre><code>resources :movies do\n  collection do\n    get 'test'\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 234, "user_id": 2354468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcb8d0af93768dfca022789d6d25f21?s=128&d=identicon&r=PG", "display_name": "Rendrum", "link": "https://stackoverflow.com/users/2354468/rendrum"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789983, "creation_date": 1461789983, "answer_id": 36900549, "question_id": 36891150, "link": "https://stackoverflow.com/questions/36891150/rails-ajax-request-returning-not-found-but-controller-function-exists/36900549#36900549", "title": "rails ajax request returning not found but controller function exists", "body": "<p>500 status is not about routing. Check your controller action, specifically this.</p>\n\n<blockquote>\n  <p>@tag.update_attributes(params[:inputtag])</p>\n</blockquote>\n\n<p>You are trying to update a record that does not exist and you are not using the strong parameters of Rails properly. So try this instead.</p>\n\n<pre><code>  def test\n    @tag = Tag.create tag_params\n    redirect_to :back\n  end\n\n  private\n\n  # If your tag model looks like: Tag(id: integer, inputtag: string)\n  def tag_params\n    params.require(:tag).permit(:inputtag)\n  end\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6224979, "user_type": "registered", "profile_image": "https://graph.facebook.com/1085096518180096/picture?type=large", "display_name": "Sarah Kieninger", "link": "https://stackoverflow.com/users/6224979/sarah-kieninger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461941556, "creation_date": 1461763432, "last_edit_date": 1461941556, "question_id": 36891150, "link": "https://stackoverflow.com/questions/36891150/rails-ajax-request-returning-not-found-but-controller-function-exists", "title": "rails ajax request returning not found but controller function exists", "body": "<p>I have some problems with an Ajax function. I got an error <code>500</code> from the server.</p>\n\n<p>The Ajax function looks like this:</p>\n\n<pre><code>  $.ajax({\n    type: \"POST\",\n    url: \"&lt;%= url_for(:controller =&gt; \"movies\", :action =&gt; \"test\") %&gt;\",\n    data: {inputtag: tag }\n  })\n</code></pre>\n\n<p>In my movies controller, I have this function</p>\n\n<pre><code> # F\u00fcgt dem Video einen Tag hinzu\n def test\n   @tag = Tag.new\n   if request.post?\n      @tag.update_attributes(params[:inputtag])\n      if @tag.save\n        redirect_to :back\n      else\n        redirect_to :back\n      end\n    end\n  end\n</code></pre>\n\n<p>So, I do not know Why I got this error:</p>\n\n<pre><code>http://lvh.me/movies/test 500 (Internal Server Error)\n</code></pre>\n"}, {"tags": ["ruby", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1461765847, "post_id": 36891118, "comment_id": 61348625, "body": "Can you check if this link is located inside an iframe? Thanks."}, {"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461835578, "post_id": 36891118, "comment_id": 61383481, "body": "No its not loctaed within iframe"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461764950, "post_id": 36891662, "comment_id": 61347840, "body": "So you mean like this  wait.until{driver.find_element(:xpath,&#39;/html/body/table/tbod&zwnj;&#8203;y/tr[11]/td[2]/a[@hr&zwnj;&#8203;ef=&quot;dynamic_Utility_&zwnj;&#8203;Index.htm&quot;]&#39;).click}   wait.until{driver.find_element(:xpath,&#39;/]/a[@href=&quot;dynamic_U&zwnj;&#8203;tility_Index.htm&quot;]&#39;)&zwnj;&#8203;.click}  Tried both..same error..Unable to locate element"}, {"owner": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461765355, "post_id": 36891662, "comment_id": 61348205, "body": "Does <code>wait.until{driver.find_element(:link_text,&quot;Dynamic Utilities&quot;).click}</code> works?"}, {"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461765358, "post_id": 36891662, "comment_id": 61348208, "body": "So i even used   wait.until{driver.find_element(:xpath,&#39;//a[@href=&quot;dynamic_Ut&zwnj;&#8203;ility_Index.htm&quot;]&#39;).&zwnj;&#8203;click}"}, {"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461765409, "post_id": 36891662, "comment_id": 61348246, "body": "No It doesn&#39;t works, that what i am stuck with..its pretty simple..but i am not able to crack it"}, {"owner": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461765584, "post_id": 36891662, "comment_id": 61348410, "body": "Are you sure that you provided correct <code>HTML</code> for target element? It looks like <code>&lt;a&gt;...&gt;...&lt;&#47;a&gt;</code>, but should looks like <code>&lt;a...&gt;...&lt;&#47;a&gt;</code>. Maybe you remove something in provided <code>HTML</code> code sample"}, {"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461766813, "post_id": 36891662, "comment_id": 61349375, "body": "Its like this  &lt;a target=&quot;mainFrame&quot; href=&quot;abc.htm&quot;&gt;Dynamic Utilities&lt;/a&gt;"}], "tags": [], "owner": {"reputation": 46893, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "is_accepted": false, "score": 0, "last_activity_date": 1461764956, "last_edit_date": 1461764956, "creation_date": 1461764651, "answer_id": 36891662, "question_id": 36891118, "link": "https://stackoverflow.com/questions/36891118/unable-to-click-on-link-using-link-text-partial-link-text-using-ruby/36891662#36891662", "title": "Unable to click on link using Link text/Partial Link text using ruby", "body": "<p>The item you consider to be a <code>link text</code> (<code>dynamic_Utility_Index.htm</code>) actually just a value of <code>href</code> attribute. Actual link text is <code>\"Dynamic Utilities\"</code>. Also you can use <code>xpath</code> locator <code>//a[@href=\"dynamic_Utility_Index.htm\"]</code> instead of search by link text:</p>\n\n<pre><code>wait.until{driver.find_element(:xpath,'//a[@href=\"dynamic_Utility_Index.htm\"]').click}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461851060, "post_id": 36899203, "comment_id": 61395158, "body": "Tried both, still getting same error..btw thanks for the help"}, {"owner": {"reputation": 177, "user_id": 4685976, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a6372b069293d949c770fc4b7c730291?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Castelli", "link": "https://stackoverflow.com/users/4685976/juan-castelli"}, "reply_to_user": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1461868279, "post_id": 36899203, "comment_id": 61407021, "body": "@JimitShah:  Maybe... as a &quot;debug&quot; mode.... you could do this:  <code>puts driver.find_elements(:link_text,&#39;DYNAMIC UTLITIES&#39;).length</code>  or   <code>puts driver.find_elements(:xpath, &quot;&#47;&#47;a[contains(@target, &#39;mainFrame&#39;)]&quot;).length</code>  to see if at least we are able to reach the element. If this give us at least 1 element we can start &quot;playing&quot; with click or text methods."}, {"owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "edited": false, "score": 0, "creation_date": 1462451197, "post_id": 36899203, "comment_id": 61648481, "body": "I tried both in my code. Its prints 0 in both the case."}], "tags": [], "owner": {"reputation": 177, "user_id": 4685976, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a6372b069293d949c770fc4b7c730291?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Castelli", "link": "https://stackoverflow.com/users/4685976/juan-castelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1461785352, "creation_date": 1461785352, "answer_id": 36899203, "question_id": 36891118, "link": "https://stackoverflow.com/questions/36891118/unable-to-click-on-link-using-link-text-partial-link-text-using-ruby/36899203#36899203", "title": "Unable to click on link using Link text/Partial Link text using ruby", "body": "<p>Did you try with:</p>\n\n<pre><code>wait.until{driver.find_element(:link_text,'DYNAMIC UTLITIES').click}\n</code></pre>\n\n<p>?? Sometimes I had to use the text link by capitalized.</p>\n\n<p>Another option could be:</p>\n\n<p><code>driver.find_element(:xpath, \"//a[contains(@target, 'mainFrame')]\").click</code></p>\n\n<p>Hope works for you :D</p>\n"}], "owner": {"reputation": 1, "user_id": 6261655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6069ec6590576ca4b9bbea89338e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jimit Shah", "link": "https://stackoverflow.com/users/6261655/jimit-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1461785352, "creation_date": 1461763337, "last_edit_date": 1461764443, "question_id": 36891118, "link": "https://stackoverflow.com/questions/36891118/unable-to-click-on-link-using-link-text-partial-link-text-using-ruby", "title": "Unable to click on link using Link text/Partial Link text using ruby", "body": "<p>I am new here and even to <code>Ruby</code> and <code>Selenium</code>.  I am trying to click a link on web page which has following code:</p>\n\n<pre><code>&lt;a&gt; target=\"mainFrame\" href=\"dynamic_Utility_Index.htm\"&gt;Dynamic Utilities&lt;/a&gt;\n</code></pre>\n\n<p>So basically I want to click on this dynamic utilities.  The script which I have written so far is:</p>\n\n<pre><code>    require 'selenium-webdriver'\n    require 'win32ole'\n\n    driver = Selenium::WebDriver.for:firefox\n    driver.manage().window().maximize();\n\n    driver.navigate.to 'xyz.com'\n\n    wait = Selenium::WebDriver::Wait.new(:timeout =&gt;10) # seconds\n\n    #Click on Dynamic Utilities\n    wait.until{driver.find_element(:link_text,'dynamic_Utility_Index.htm').click}\n    puts \"Clicked\"\n</code></pre>\n\n<p>I have even used link, partial_link_text in place of link_text but keep getting the following error</p>\n\n<blockquote>\n  <p>(Unable to locate element: {\"method\":\"link\n  text\",\"selector\":\"dynamic\"})\n  (Selenium::WebDriver::Error::TimeOutError)</p>\n</blockquote>\n\n<p>I am using <code>Ruby</code> and <code>Selenium Web driver</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongoid"], "comments": [{"owner": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 1, "creation_date": 1461763649, "post_id": 36891026, "comment_id": 61346766, "body": "Are you asking how <code>post.comments.criteria</code> is showing the ObjectId selector? If so, your <code>post</code> is a variable (of the Post class) and it comes from there. Because the <code>post</code> variable is a Post class, it understands that #comments is a relationship (has_many). In short, I believe a DB call was made when your <code>post</code> variable was initialized."}, {"owner": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 1, "creation_date": 1461764514, "post_id": 36891026, "comment_id": 61347520, "body": "It isn&#39;t going to make a DB call until you use a query method (See: <a href=\"https://docs.mongodb.org/ecosystem/tutorial/mongoid-queries/\" rel=\"nofollow noreferrer\">docs.mongodb.org/ecosystem/tutorial/mongoid-queries</a>)."}, {"owner": {"reputation": 5651, "user_id": 2295592, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7WNgQ.png?s=128&g=1", "display_name": "caffeinated.tech", "link": "https://stackoverflow.com/users/2295592/caffeinated-tech"}, "reply_to_user": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 0, "creation_date": 1461766145, "post_id": 36891026, "comment_id": 61348832, "body": "@wes.hysell Thank you for the comments. If it shouldn&#39;t make a DB call at all, then why is it doing so for me? I&#39;m using <code>Mongoid</code> version 5.1.3 and rails <code>4.2.6</code>"}, {"owner": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 1, "creation_date": 1461766828, "post_id": 36891026, "comment_id": 61349391, "body": "You mention that you are running this in IRB console. The IRB console runs inspect on the returned object (<code>foo</code>). If you make the command <code>foo = post.comments and nil</code> you should notice that the db is not queried. Then, you can simply run the command <code>foo</code> and that should query the database because the IRB console will run #inspect on the returned object. This is the effect of IRB console."}, {"owner": {"reputation": 5651, "user_id": 2295592, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7WNgQ.png?s=128&g=1", "display_name": "caffeinated.tech", "link": "https://stackoverflow.com/users/2295592/caffeinated-tech"}, "reply_to_user": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 1, "creation_date": 1461767020, "post_id": 36891026, "comment_id": 61349558, "body": "@wes.hysell Off course, that&#39;s it. The console prints the output of the command run. As <code>Mongoid::Relations::Targets::Enumerable</code>&#39;s inspect method calls inspect on the <code>entries</code>, it has to make the query to show them. Thank you!"}, {"owner": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "edited": false, "score": 1, "creation_date": 1461767984, "post_id": 36891026, "comment_id": 61350383, "body": "I turned my comments into an answer for you. :)"}], "answers": [{"comments": [{"owner": {"reputation": 5651, "user_id": 2295592, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7WNgQ.png?s=128&g=1", "display_name": "caffeinated.tech", "link": "https://stackoverflow.com/users/2295592/caffeinated-tech"}, "edited": false, "score": 0, "creation_date": 1461766209, "post_id": 36891390, "comment_id": 61348886, "body": "Thanks for the explanation Anthony. I understand how the query object works. I&#39;ve edited the question to clarify what I was asking"}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1461764007, "creation_date": 1461764007, "answer_id": 36891390, "question_id": 36891026, "link": "https://stackoverflow.com/questions/36891026/how-can-chaining-one-method-onto-another-change-the-original-method/36891390#36891390", "title": "How can chaining one method onto another change the original method", "body": "<p><code>post.comments</code> is what you would call a \"Query object\". In other words, it contains all the necessary information to fetch the required data from the database, but not the data itself. When you call <code>post.comments.criteria</code> it's simply displaying the relevant parameters which the query object stores in order to make the request. The object id is available here because <code>post</code> already exists in memory.</p>\n\n<p>The same principle would apply to <code>post.comments.to_sql</code> if you were using a sql database.</p>\n"}, {"tags": [], "owner": {"reputation": 1099, "user_id": 1483788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DGMjL.png?s=128&g=1", "display_name": "wes.hysell", "link": "https://stackoverflow.com/users/1483788/wes-hysell"}, "is_accepted": true, "score": 1, "last_activity_date": 1461850002, "last_edit_date": 1495540361, "creation_date": 1461767920, "answer_id": 36893071, "question_id": 36891026, "link": "https://stackoverflow.com/questions/36891026/how-can-chaining-one-method-onto-another-change-the-original-method/36893071#36893071", "title": "How can chaining one method onto another change the original method", "body": "<p>Converting comments to an answer:</p>\n\n<p>When executing <a href=\"http://%20http://www.rubydoc.info/github/mongoid/mongoid/Mongoid/Relations/Targets/Enumerable#inspect-instance_method\" rel=\"nofollow noreferrer\">Mongoid::Relations::Targets::Enumerable#inspect</a>, the inspect method is executed on all of the entries:</p>\n\n<blockquote>\n  <p>Inspection will just inspect the entries for nice array-style printing.</p>\n</blockquote>\n\n<p>This cannot be done without the use of a query method.</p>\n\n<p>The question the OP is actually having is more related with the IRB console. The IRB console processes this response object in a way that triggers <code>#inspect</code> and, in turn, a query method. For Mongoid (and ActiveRecord) classes, the #inspect method executesa query in order to produce the expected result.</p>\n\n<p>By example, this will trigger a query to the database if ran in the IRB console:</p>\n\n<pre><code>&gt;&gt; foo = posts.comments\n&gt;&gt; post.comments.criteria\n</code></pre>\n\n<p>The response of <code>foo</code> will trigger a query method when the IRB console attempts to output the object as a response. The query to the db can be suppressed in the IRB console in (at least) one of two ways:</p>\n\n<p><strong>Method 1: <code>and nil</code></strong></p>\n\n<p>Essentially, you can suffix a single command with <code>and nil</code> or <code>;0</code> or something similar to prevent the first command from being processed by IRB's response output. This is because the IRB console only looks at the last object (like a ruby method's return). </p>\n\n<pre><code>&gt;&gt; foo = posts.comments and nil\n&gt;&gt; post.comments.criteria\n</code></pre>\n\n<p>The above will not query the database, because the output processed by IRB on the first line is <code>nil</code> instead of the <code>foo</code> variable.</p>\n\n<p><strong>Method 2: <code>conf.echo = false</code></strong></p>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/13284331/1483788\">https://stackoverflow.com/a/13284331/1483788</a></p>\n\n<p>This method prevents the IRB console from processing response objects automatically.</p>\n\n<pre><code>&gt;&gt; conf.echo = false    \n&gt;&gt; foo = posts.comments\n&gt;&gt; post.comments.criteria\n</code></pre>\n\n<p>This will not query the database from within the console. However, you will not get a response from the last line, either. You will need to use <code>puts</code> or <code>pp</code> (pretty print) to output the object. By comparison, if you run the command <code>foo.inspect</code> while using this method, you will notice a query to the db is executed in order to the produce the desired result.</p>\n"}], "owner": {"reputation": 5651, "user_id": 2295592, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7WNgQ.png?s=128&g=1", "display_name": "caffeinated.tech", "link": "https://stackoverflow.com/users/2295592/caffeinated-tech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 36893071, "answer_count": 2, "score": 2, "last_activity_date": 1461850002, "creation_date": 1461763103, "last_edit_date": 1592644375, "question_id": 36891026, "link": "https://stackoverflow.com/questions/36891026/how-can-chaining-one-method-onto-another-change-the-original-method", "title": "How can chaining one method onto another change the original method", "body": "<p>The easiest way to explain this conundrum is with an example:</p>\n<p>Say I have two <strong>Mongoid</strong> models which are related via a <code>has_many</code> relationship:\nA Blog post</p>\n<pre><code>class Post\n   include Mongoid::Document\n   field :body, type: String\n   \n   has_many :comments\nend\n</code></pre>\n<p>and it's comments</p>\n<pre><code>class Comment\n   include Mongoid::Document\n   field :text, type: String\n   \n   belongs_to :post\nend\n</code></pre>\n<p>Now I create a Post which has two comments in IRB, and I attempt to load them via the relationship. I have some DB logging enabled so I can see when the query is made:</p>\n<pre><code>post.comments #=&gt;\n 2016-04-27 13:51:52.144 [DEBUG MONGODB | localhost:27017 | test.find | STARTED | {&quot;find&quot;=&gt;&quot;comments&quot;, &quot;filter&quot;=&gt;{&quot;post_id&quot;=&gt;BSON::ObjectId('571f315e5a4e491a6be39e02')}}]\n 2016-04-27 13:51:52.150 [DEBUG MONGODB | localhost:27017 | test.find | SUCCEEDED | 0.000492643s]\n =&gt; [#&lt;Comment _id: 571f315e5a4e491a6be39e03, text: 'great post' &gt;, #&lt;Comment _id: 571f315e5a4e491a6be39e12, text: 'this!' &gt;]\n</code></pre>\n<p>So the comments are loaded from the DB and returned as a <code>Mongoid::Relations::Targets::Enumerable</code> class, which looks like an array, and it contains the two comments.</p>\n<p>Now when I open a fresh IRB console, and take a look at the criteria used to load these comments using the <code>criteria</code> attribute of the <code>Mongoid::Relations::Targets::Enumerable</code> class instance <code>post.comments</code>, I get this output:</p>\n<pre><code>post.comments.criteria #=&gt;\n =&gt; #&lt;Mongoid::Criteria\n selector: {&quot;post_id&quot;=&gt;BSON::ObjectId('571f315e5a4e491a6be39e02')}\n options:  {}\n class:    Comment\n embedded: false&gt;\n</code></pre>\n<p>How come no DB requests is made in this example? It's not a caching problem as I opened a new IRB console.</p>\n<p>How can chaining <code>criteria</code> onto <code>post.comments</code> change what the <code>.comments</code> method does?\nI took a look through Mongoid's implementation of the <code>Mongoid::Relations::Targets::Enumerable</code> class (<a href=\"https://github.com/mongodb/mongoid/blob/master/lib/mongoid/relations/targets/enumerable.rb\" rel=\"nofollow noreferrer\">source on Github</a>), but couldn't find any clues to how it works.</p>\n<hr />\n<h1>Edit</h1>\n<p>To clarify the question:</p>\n<p>This code, doesn't query the database:</p>\n<pre><code>post.comments.criteria\n</code></pre>\n<p>But this code does:</p>\n<pre><code>foo = post.comments\npost.comments.criteria\n</code></pre>\n<p>How come?</p>\n"}, {"tags": ["ruby", "xml", "validation", "nokogiri"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461783534, "post_id": 36890769, "comment_id": 61361329, "body": "Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. When asking about code we need the minimum information necessary to duplicate the problem in the question itself, NOT in links. Links rot then break, making the question useless. SO isn&#39;t just a &quot;help me with my code&quot; site, it&#39;s a lasting reference to help others in the future with the same problem, hence the need for questions that stand-alone and are useful in the future."}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 4892528, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/071cd4948003c3be5e43060053802d67?s=128&d=identicon&r=PG&f=1", "display_name": "Sheharose", "link": "https://stackoverflow.com/users/4892528/sheharose"}, "edited": false, "score": 0, "creation_date": 1527838651, "post_id": 36892851, "comment_id": 88286686, "body": "If we have multiple elements in the xml file, can we validate each element"}], "tags": [], "owner": {"reputation": 11333, "user_id": 819742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/39e2199f9782b9b9abab588071c20e68?s=128&d=identicon&r=PG", "display_name": "randominstanceOfLivingThing", "link": "https://stackoverflow.com/users/819742/randominstanceoflivingthing"}, "is_accepted": true, "score": 1, "last_activity_date": 1461767385, "creation_date": 1461767385, "answer_id": 36892851, "question_id": 36890769, "link": "https://stackoverflow.com/questions/36890769/how-does-one-properly-validate-an-xml-file-with-a-local-dtd-file-using-nokogiri/36892851#36892851", "title": "How does one properly validate an xml file with a local dtd file using Nokogiri?", "body": "<p>You can do the validation by specifying the <a href=\"http://www.rubydoc.info/github/sparklemotion/nokogiri/Nokogiri/XML/ParseOptions\" rel=\"nofollow\">ParseOptions</a>. You need to specify the doctype with doctype declaration <code>&lt;!DOCTYPE protocol SYSTEM \"wayland.dtd\"></code></p>\n\n<pre><code>require 'nokogiri'\n\nDTD_PATH = \"wayland.dtd\"\nXML_PATH = \"wayland.xml\"\n\nxml = File.read(XML_PATH)\noptions = Nokogiri::XML::ParseOptions::DTDVALID\ndoc = Nokogiri::XML::Document.parse(xml, nil, nil, options)\nputs doc.external_subset.validate(doc)\n</code></pre>\n"}], "owner": {"reputation": 6413, "user_id": 129622, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3ad9727f4d85caf19d8d333db9fa6a58?s=128&d=identicon&r=PG", "display_name": "ybakos", "link": "https://stackoverflow.com/users/129622/ybakos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 36892851, "answer_count": 1, "score": 1, "last_activity_date": 1461802507, "creation_date": 1461762445, "last_edit_date": 1461802507, "question_id": 36890769, "link": "https://stackoverflow.com/questions/36890769/how-does-one-properly-validate-an-xml-file-with-a-local-dtd-file-using-nokogiri", "title": "How does one properly validate an xml file with a local dtd file using Nokogiri?", "body": "<p>I have a simple, valid DTD and a valid XML file that seems to conform to the DTD, but Nokogiri is generating a lot of validation output, meaning that the XML file fails the validation.</p>\n\n<p>The dtd file is:</p>\n\n<pre><code>&lt;!ELEMENT protocol (copyright?, description?, interface+)&gt;\n  &lt;!ATTLIST protocol name CDATA #REQUIRED&gt;\n&lt;!ELEMENT copyright (#PCDATA)&gt;\n&lt;!ELEMENT interface (description?,(request|event|enum)+)&gt;\n  &lt;!ATTLIST interface name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST interface version CDATA #REQUIRED&gt;\n&lt;!ELEMENT request (description?,arg*)&gt;\n  &lt;!ATTLIST request name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST request type CDATA #IMPLIED&gt;\n  &lt;!ATTLIST request since CDATA #IMPLIED&gt;\n&lt;!ELEMENT event (description?,arg*)&gt;\n  &lt;!ATTLIST event name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST event since CDATA #IMPLIED&gt;\n&lt;!ELEMENT enum (description?,entry*)&gt;\n  &lt;!ATTLIST enum name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST enum since CDATA #IMPLIED&gt;\n  &lt;!ATTLIST enum bitfield CDATA #IMPLIED&gt;\n&lt;!ELEMENT entry (description?)&gt;\n  &lt;!ATTLIST entry name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST entry value CDATA #REQUIRED&gt;\n  &lt;!ATTLIST entry summary CDATA #IMPLIED&gt;\n  &lt;!ATTLIST entry since CDATA #IMPLIED&gt;\n&lt;!ELEMENT arg (description?)&gt;\n  &lt;!ATTLIST arg name CDATA #REQUIRED&gt;\n  &lt;!ATTLIST arg type CDATA #REQUIRED&gt;\n  &lt;!ATTLIST arg summary CDATA #IMPLIED&gt;\n  &lt;!ATTLIST arg interface CDATA #IMPLIED&gt;\n  &lt;!ATTLIST arg allow-null CDATA #IMPLIED&gt;\n  &lt;!ATTLIST arg enum CDATA #IMPLIED&gt;\n&lt;!ELEMENT description (#PCDATA)&gt;\n  &lt;!ATTLIST description summary CDATA #REQUIRED&gt;\n</code></pre>\n\n<p>The xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE protocol SYSTEM \"wayland.dtd\"&gt;\n&lt;protocol name=\"wayland\"&gt;\n\n  &lt;copyright&gt;\n    FOO\n    SOFTWARE.\n  &lt;/copyright&gt;\n\n  &lt;interface name=\"wl_display\" version=\"1\"&gt;\n    &lt;description summary=\"core global object\"&gt;\n      The core global object.  This is a special singleton object.  It\n      is used for internal Wayland protocol features.\n    &lt;/description&gt;\n\n    &lt;request name=\"sync\"&gt;\n      &lt;description summary=\"asynchronous roundtrip\"&gt;\n    The sync request asks the server to emit the 'done' event\n    on the returned wl_callback object.  Since requests are\n    handled in-order and events are delivered in-order, this can\n    be used as a barrier to ensure all previous requests and the\n    resulting events have been handled.\n\n    The object returned by this request will be destroyed by the\n    compositor after the callback is fired and as such the client must not\n    attempt to use it after that point.\n\n    The callback_data passed in the callback is the event serial.\n      &lt;/description&gt;\n      &lt;arg name=\"callback\" type=\"new_id\" interface=\"wl_callback\"/&gt;\n    &lt;/request&gt;\n  &lt;/interface&gt;\n\n&lt;/protocol&gt;\n</code></pre>\n\n<p>My simple Ruby program is:</p>\n\n<pre><code>require 'nokogiri'\n\nDTD_PATH = \"wayland.dtd\"\nXML_PATH = \"wayland.xml\"\n\ndtd_doc = Nokogiri::XML::Document.parse(open(DTD_PATH))\ndtd = Nokogiri::XML::DTD.new('protocol', dtd_doc)\ndoc = Nokogiri::XML(open(XML_PATH))\nputs dtd.validate(doc)\n</code></pre>\n\n<p>The program prints the contents of the validation array, which isn't empty. Sample output:</p>\n\n<pre><code>No declaration for attribute name of element request\nNo declaration for element description\nNo declaration for attribute summary of element description\n</code></pre>\n\n<p>Even after adding a <code>DOCTYPE</code> declaration to the xml file a la:</p>\n\n<pre><code>&lt;!DOCTYPE protocol SYSTEM \"wayland.dtd\"&gt;\n</code></pre>\n\n<p>And wrapping the DTD with:</p>\n\n<pre><code>&lt;!DOCTYPE protocol [\n...\n]&gt;\n</code></pre>\n\n<p>I still observe the same failed validation output. What am I doing wrong?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "debugging", "aptana"], "owner": {"reputation": 155, "user_id": 2927719, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a902248ebbfea0f52b0e633db38dd6d?s=128&d=identicon&r=PG&f=1", "display_name": "Prefect73", "link": "https://stackoverflow.com/users/2927719/prefect73"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461762654, "creation_date": 1461762194, "last_edit_date": 1461762654, "question_id": 36890675, "link": "https://stackoverflow.com/questions/36890675/aptana-3-rails-debugger-not-doing-anything", "title": "Aptana 3 - Rails debugger not doing anything", "body": "<p>When invoking \"Debug Server\" nothing happens at all, no error messages, nothing.\nAlso, nothing happens when opening a page in the browser that has breakpoints set in it.</p>\n\n<p>In case i invoke \"Debug as Ruby Application\" i get the following exception:</p>\n\n<pre><code>Fast Debugger (ruby-debug-ide 0.6.1.beta2, debase 0.2.1, file filtering is supported) listens on 127.0.0.1:57291\nUncaught exception: uninitialized constant ApplicationController\n    /home/jobmob/dev/jm10/app/controllers/sessions_controller.rb:1:in `&lt;top (required)&gt;'\n    /home/jobmob/.rbenv/versions/2.3.0/bin/rdebug-ide:23:in `load'\n    /home/jobmob/.rbenv/versions/2.3.0/bin/rdebug-ide:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>But i think this is not the right way to debug a Rails appliation anyways, is it?</p>\n\n<p>Here is my configuration:</p>\n\n<ul>\n<li>Aptana Studio 3.6.1 on CentOS 7</li>\n<li>Ruby 2.3.0</li>\n<li>Rails 4.2.6</li>\n<li>ruby-debug-ide 0.6.1 beta2</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "database", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 3, "last_activity_date": 1461761557, "creation_date": 1461761557, "answer_id": 36890416, "question_id": 36890317, "link": "https://stackoverflow.com/questions/36890317/stop-rails-url-helper-from-requesting-a-lot-of-unnecessary-objects-from-database/36890416#36890416", "title": "Stop rails url_helper from requesting a lot of unnecessary objects from database", "body": "<p>IMO you have two options:</p>\n\n<p>1) Use <a href=\"http://apidock.com/rails/v4.2.1/ActiveRecord/QueryMethods/includes\" rel=\"nofollow\"><code>includes</code></a> to load all <code>enclosures</code> in one query:</p>\n\n<pre><code>@items = Item.where(...).includes(:enclosure)\n</code></pre>\n\n<p>2) Pass the <code>id</code> of the <code>enclosure</code> to the url builder instead of the object:</p>\n\n<pre><code>enclosure_url(id: item.enclosure_id)\n</code></pre>\n\n<p>I would prefer the first option, because it ensures that the object you are linking to actually exists.</p>\n"}], "owner": {"reputation": 1848, "user_id": 657644, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/28f86578bc070ea2fbde98810ddf63d0?s=128&d=identicon&r=PG", "display_name": "PascalTurbo", "link": "https://stackoverflow.com/users/657644/pascalturbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 36890416, "answer_count": 1, "score": 0, "last_activity_date": 1461761557, "creation_date": 1461761313, "question_id": 36890317, "link": "https://stackoverflow.com/questions/36890317/stop-rails-url-helper-from-requesting-a-lot-of-unnecessary-objects-from-database", "title": "Stop rails url_helper from requesting a lot of unnecessary objects from database", "body": "<p>I'm creating a large xml output using rails and there are a lot of urls generated by rails. There are so called items and enclosures. Every item may have one enclosure. So I'm using has_one and belongs_to relation in my model.</p>\n\n<p>I'm using</p>\n\n<pre><code>enclosure_url(item.enclosure, format: :json)\n</code></pre>\n\n<p>for generating the url.</p>\n\n<p>What I expect: Rails should generate the url based on the id which is stored in the items table.</p>\n\n<p>What now happens is, that rails is fetching each single enclosure from the database which is slowing down my system.</p>\n\n<pre><code>Enclosure Load (2.6ms)  SELECT  \"enclosures\".* FROM \"enclosures\" WHERE \"enclosures\".\"id\" = ? LIMIT 1  [[\"id\", 11107]]\nEnclosure Load (3.1ms)  SELECT  \"enclosures\".* FROM \"enclosures\" WHERE \"enclosures\".\"id\" = ? LIMIT 1  [[\"id\", 11108]]\nEnclosure Load (0.7ms)  SELECT  \"enclosures\".* FROM \"enclosures\" WHERE \"enclosures\".\"id\" = ? LIMIT 1  [[\"id\", 11109]]\nEnclosure Load (1.5ms)  SELECT  \"enclosures\".* FROM \"enclosures\" WHERE \"enclosures\".\"id\" = ? LIMIT 1  [[\"id\", 11110]]\nEnclosure Load (6.8ms)  SELECT  \"enclosures\".* FROM \"enclosures\" WHERE \"enclosures\".\"id\" = ? LIMIT 1  [[\"id\", 11111]]\n</code></pre>\n\n<p>Is there any trick stopping rails doing this or do I have to generate my url myself?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "actionmailer", "mailer"], "comments": [{"owner": {"reputation": 966, "user_id": 5350659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63535c11d66f71640d7a5a558b351d11?s=128&d=identicon&r=PG&f=1", "display_name": "Pitabas Prathal", "link": "https://stackoverflow.com/users/5350659/pitabas-prathal"}, "edited": false, "score": 0, "creation_date": 1461761438, "post_id": 36890200, "comment_id": 61344979, "body": "<code>params</code> is not accessable inside success mailer. you can get the &#39;id` and <code>amount</code> from your user table relations"}, {"owner": {"reputation": 1239, "user_id": 2134398, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c858429a7d7289246899d678137e7ea0?s=128&d=identicon&r=PG", "display_name": "Arif", "link": "https://stackoverflow.com/users/2134398/arif"}, "edited": false, "score": 0, "creation_date": 1461761705, "post_id": 36890200, "comment_id": 61345178, "body": "If you need user&#39;s id then instead of params[:id] use user.id. And if you need id of some other table then pass it in parameters like you passed current_user"}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461761873, "post_id": 36890200, "comment_id": 61345330, "body": "I would like use the id of the payments table and doing user.first_name too is generating error."}, {"owner": {"reputation": 1133, "user_id": 4840615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObOwb.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4840615/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1461762593, "post_id": 36890200, "comment_id": 61345903, "body": "you need to use &quot;@user&quot; in your view instead of user, set &quot;@user = user&quot; in your mailer method and for payment you need to pass payment object from controller."}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "reply_to_user": {"reputation": 1133, "user_id": 4840615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObOwb.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4840615/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1461762877, "post_id": 36890200, "comment_id": 61346141, "body": "@GauravGupta thanks, It worked for the &quot;@user.first_name&quot; but how do I pass the id and amount which are generated before mailer action."}, {"owner": {"reputation": 1133, "user_id": 4840615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObOwb.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4840615/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1461763134, "post_id": 36890200, "comment_id": 61346362, "body": "you can pass your payment object from controller, could you please add controller code."}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461763283, "post_id": 36890200, "comment_id": 61346482, "body": "I updated the controller code in the question"}], "answers": [{"comments": [{"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461762938, "post_id": 36890683, "comment_id": 61346193, "body": "Do i need to modify <b>PaymentMailer.success(current_user).deliver_now</b> or add extra mailer action lines to get Id and amount"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461763211, "post_id": 36890683, "comment_id": 61346428, "body": "If you use the method in my example, you would call <code>PaymentMailer.success(current_user, invoice_id, amount).deliver_now</code>"}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461763626, "post_id": 36890683, "comment_id": 61346738, "body": "<code>def success(user, invoice_id, amount)</code>  error <b>wrong number of arguments (1 for 3)</b>"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461763681, "post_id": 36890683, "comment_id": 61346800, "body": "And you&#39;re calling <code>PaymentMailer.success(current_user, invoice_id, amount).deliver_now</code> from your controller?"}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461763757, "post_id": 36890683, "comment_id": 61346868, "body": "oh, sorry I missed it. Let me check it"}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1461764062, "last_edit_date": 1461764062, "creation_date": 1461762210, "answer_id": 36890683, "question_id": 36890200, "link": "https://stackoverflow.com/questions/36890200/rails-mailer-view-template-pass-value-send-by-a-form/36890683#36890683", "title": "Rails mailer view template pass value send by a form", "body": "<p>Controller objects, such as <code>params</code> or <code>current_user</code> are not defined in the context of your mailers.</p>\n\n<p>You'll need to either set these values on user, or pass them in as additional arguments in your mailer method. You'll also need to assign instance variables to access these values in your mailer views (same principle as passing instance variables defined in your controller to ActionView).</p>\n\n<pre><code>class PaymentMailer &lt; ApplicationMailer\n    def success(user, invoice_id, amount)\n        @invoice_id = invoice_id\n        @amount = amount\n\n        mail(to: \"#{user.first_name} #{user.last_name} &lt;#{user.email}&gt;\", subject: \"Payment Successful\")\n    end\nend\n</code></pre>\n\n<p>However, it seems like <code>amount</code>, <code>id</code>, and <code>user</code> are all variables of an <code>payment</code> object, so it sounds like the object you really should be passing <code>payment</code> to the <code>success</code> method, instead of <code>current_user</code>. Is this possible?</p>\n"}, {"tags": [], "owner": {"reputation": 1133, "user_id": 4840615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObOwb.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4840615/gaurav-gupta"}, "is_accepted": true, "score": 3, "last_activity_date": 1461763756, "creation_date": 1461763756, "answer_id": 36891281, "question_id": 36890200, "link": "https://stackoverflow.com/questions/36890200/rails-mailer-view-template-pass-value-send-by-a-form/36891281#36891281", "title": "Rails mailer view template pass value send by a form", "body": "<p>Just change in your payment controller after the payment, do like that</p>\n\n<pre><code>PaymentMailer.success(payment).deliver_now\n</code></pre>\n\n<p>And in your mailer do</p>\n\n<pre><code>class PaymentMailer &lt; ApplicationMailer\n  def success(payment)\n    @payment = payment\n    @user = payment.user\n    mail(to: \"#{@user.first_name} #{@user.last_name} &lt;#{@user.email}&gt;\", subject: \"Payment Successful\")\n  end\nend\n</code></pre>\n\n<p>and in your mailer template use </p>\n\n<pre><code>@payment.id #for payment id\n\n@payment.amount #for amount\n\n@user.first_name #for user name\n</code></pre>\n"}], "owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1778, "favorite_count": 1, "accepted_answer_id": 36891281, "answer_count": 2, "score": 1, "last_activity_date": 1461764062, "creation_date": 1461761012, "last_edit_date": 1461763264, "question_id": 36890200, "link": "https://stackoverflow.com/questions/36890200/rails-mailer-view-template-pass-value-send-by-a-form", "title": "Rails mailer view template pass value send by a form", "body": "<p>Its my first attempt to use the rails mailer to send email. I however is able to send plain emails but when I tried to pass the logged in user (current_user) name and params values send by the form I am getting the error. Undefined method 'params'.</p>\n\n<p>payment_mailer.rb</p>\n\n<pre><code>class PaymentMailer &lt; ApplicationMailer\n    def success(user)\n        mail(to: \"#{user.first_name} #{user.last_name} &lt;#{user.email}&gt;\", subject: \"Payment Successful\")\n    end\nend\n</code></pre>\n\n<p>success.html.erb</p>\n\n<pre><code>&lt;div class = \"col-sm-12\"&gt;\n          &lt;h1&gt;Payment Successful&lt;/h1&gt;\n          &lt;p&gt;Dear &lt;%= user.first_name %&gt;, Thank you for being a part of our system&lt;br&gt;\n            Your invoice (#&lt;%= params[:id] %&gt;) has been generated.\n          &lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class = \"clearfix\"&gt;&lt;/div&gt;\n        &lt;div class = \"col-sm-6\"&gt;\n          &lt;table class = \"table\"&gt;\n            &lt;thead&gt;\n              &lt;tr&gt;\n                &lt;th&gt;Paid Ammount&lt;/th&gt;\n                &lt;th&gt;Card Transaction Fee (2.9% + 0.30)&lt;/th&gt;\n                &lt;th&gt;Credited Ammount&lt;/th&gt;\n              &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n              &lt;tr&gt;\n                &lt;td&gt;&amp;euro;&lt;%= params[:amount] %&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/tbody&gt;\n            &lt;h3&gt;Total credited amount in your Account is: &lt;/h3&gt;\n          &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div class = \"clearfix\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>payment_controller.rb</p>\n\n<pre><code>amount = params[:amount]\n@user = current_user\nnetamt =  (amount.to_f - ((amount.to_f*2.9)/100 + 0.30))\npayment = @user.payments.create(:amount =&gt; netamt, :method =&gt; \"Card\", :txn_code =&gt; params[:stripeToken])\n@user.update_attribute(:balance, @user.balance+netamt)\nPaymentMailer.success(current_user).deliver_now\n</code></pre>\n\n<p>Please guide me.</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 5, "last_activity_date": 1461760974, "last_edit_date": 1461760974, "creation_date": 1461760358, "answer_id": 36889945, "question_id": 36889843, "link": "https://stackoverflow.com/questions/36889843/how-to-get-both-hidden-and-nonhidden-files-in-a-single-call/36889945#36889945", "title": "How to get both hidden and nonhidden files in a single call", "body": "<p>You could use <a href=\"http://ruby-doc.org/core-2.3.0/Dir.html#method-c-glob\" rel=\"nofollow\"><code>Dir::glob</code></a> with the <a href=\"http://ruby-doc.org/core-2.3.0/File/Constants.html#FNM_DOTMATCH\" rel=\"nofollow\"><code>FNM_DOTMATCH</code></a> flag:</p>\n\n<pre><code>Dir.glob('*', File::FNM_DOTMATCH)\n#=&gt; [\".\", \"..\", \".hidden\", \"not-hidden\"]\n</code></pre>\n\n<p>or <a href=\"http://ruby-doc.org/core-2.3.0/Dir.html#method-c-entries\" rel=\"nofollow\"><code>Dir::entries</code></a>:</p>\n\n<pre><code>Dir.entries('.')\n#=&gt; [\".\", \"..\", \".hidden\", \"not-hidden\"]\n</code></pre>\n\n<p>You can also combine patterns using <code>{p,q}</code>, so <code>Dir['{*,.*}']</code> would also work.</p>\n"}], "owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 36889945, "answer_count": 1, "score": 1, "last_activity_date": 1461761333, "creation_date": 1461760078, "last_edit_date": 1461761333, "question_id": 36889843, "link": "https://stackoverflow.com/questions/36889843/how-to-get-both-hidden-and-nonhidden-files-in-a-single-call", "title": "How to get both hidden and nonhidden files in a single call", "body": "<p>I have a directory with both hidden (name starting with <code>.</code>) and non-hidden files as follows:</p>\n\n<pre><code>$ ls -a1\n.\n..\n.hidden\nnot-hidden\n</code></pre>\n\n<p>How can I get a listing of all of them in a single call?</p>\n\n<p>I expected <code>Dir['*']</code> to return all files, but it doesn't:</p>\n\n<pre><code>Dir['*']\n# =&gt; [\"not-hidden\"]\n</code></pre>\n\n<p>The best I can think of is:</p>\n\n<pre><code>Dir['*'] + Dir['.*']\n# =&gt; [\"not-hidden\", \".\", \"..\", \".hidden\"]\n</code></pre>\n\n<p>And I also expected there to be a way to use a regex, but I cannot find one, and it's not possible to use <code>select</code> and <code>grep</code> because there is no call capable of getting both hidden and non-hidden from which to select.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "zip", "capybara", "poltergeist"], "answers": [{"tags": [], "owner": {"reputation": 2219, "user_id": 871580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/85c750e8c836a011e39651d4f7deb16c?s=128&d=identicon&r=PG", "display_name": "CBusBus", "link": "https://stackoverflow.com/users/871580/cbusbus"}, "is_accepted": false, "score": 0, "last_activity_date": 1461764905, "creation_date": 1461764905, "answer_id": 36891770, "question_id": 36889245, "link": "https://stackoverflow.com/questions/36889245/writing-to-zip-file-from-binary-data/36891770#36891770", "title": "Writing to .zip file from binary data", "body": "<p>I extended the Tempfile class to include a write binary function </p>\n\n<pre><code>class Tempfile\n    def openBinary\n        @tmpfile.close if @tmpfile\n        @tmpfile = File.open(@tmpname, 'wb')\n        @data[1] = @tmpfile\n        __setobj__(@tmpfile)\n   end\nend\n</code></pre>\n\n<p>This made it possible for my system to parse zip files and then read the using Zip::ZipFile class.</p>\n"}], "owner": {"reputation": 11, "user_id": 6051011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ed16f9f81364b8b32a0141626ca023?s=128&d=identicon&r=PG&f=1", "display_name": "nadrooJ", "link": "https://stackoverflow.com/users/6051011/nadrooj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461764905, "creation_date": 1461758588, "question_id": 36889245, "link": "https://stackoverflow.com/questions/36889245/writing-to-zip-file-from-binary-data", "title": "Writing to .zip file from binary data", "body": "<p>I am trying to write a rails test (Using Capybara &amp; Poltergeist) to test .zip file download functionality.  </p>\n\n<p>I have the binary data of a .zip file being returned from an XHR request and I am hoping to write this data into a .zip file locally and carry out further tests from there.<br>\nThe following method emulates a click on a button which, when in-app, returns a zip file of all the files that have been selected:  </p>\n\n<pre><code># Perform XHR\ndef download_file(link)\n  page.execute_script(\"window.downloadFile = function(){ var url = window.location.protocol + '//' + window.location.host + '#{link}'; return getFile(url); }\")\n  page.execute_script(\"window.getFile = function(url){ var xhr = new XMLHttpRequest(); xhr.open('GET', url, false); xhr.responseType = 'blob'; xhr.send(); return xhr.response; }\")\n\n  begin\n    file = page.evaluate_script('downloadFile()')\n  rescue\n    raise \"Error during XHR. Is url valid?\"\n  end\n  file\nend\n</code></pre>\n\n<p>I am trying to write the response to file here:  </p>\n\n<pre><code>file = download_file(url)\nfile_path = \"#{Rails.root}/tmp/files/download.zip\"\nFile.open(file_path, 'wb'){ |f| f.write file }\n</code></pre>\n\n<p>When trying to unzip the resulting file using <code>unzip tmp/files/download.zip</code> I'm given the following response:  </p>\n\n<pre><code>Archive:  tmp/files/download.zip\n\ncaution:  zipfile comment truncated\nerror [tmp/files/download.zip]:  missing 3182550208 bytes in zipfile\n  (attempting to process anyway)\nerror [tmp/files/download.zip]:  start of central directory not found;\n  zipfile corrupt.\n  (please check that you have transferred or created the zipfile in the\n  appropriate BINARY mode and that you have compiled UnZip properly)\n</code></pre>\n\n<p>I have tried overriding the MIME type to <code>text/plain</code>, <code>application/zip</code> etc. but to no avail.<br>\nAny suggestions?</p>\n"}, {"tags": ["ruby", "treetop"], "comments": [{"owner": {"reputation": 3830, "user_id": 1177119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a8513228d202b40141d295e840a4fa8?s=128&d=identicon&r=PG", "display_name": "Josh Voigts", "link": "https://stackoverflow.com/users/1177119/josh-voigts"}, "edited": false, "score": 0, "creation_date": 1461771959, "post_id": 36889126, "comment_id": 61353507, "body": "The <a href=\"http://treetop.rubyforge.org/semantic_interpretation.html\" rel=\"nofollow noreferrer\">documentation</a> explains this a little bit. It may be because when it is in parentheses it is treating it like there should be a matching module instead of a class."}, {"owner": {"reputation": 558, "user_id": 5423827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9wEa.jpg?s=128&g=1", "display_name": "suhao399", "link": "https://stackoverflow.com/users/5423827/suhao399"}, "reply_to_user": {"reputation": 3830, "user_id": 1177119, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a8513228d202b40141d295e840a4fa8?s=128&d=identicon&r=PG", "display_name": "Josh Voigts", "link": "https://stackoverflow.com/users/1177119/josh-voigts"}, "edited": false, "score": 0, "creation_date": 1461772842, "post_id": 36889126, "comment_id": 61354206, "body": "Thank you very much. I don&#39;t really get the idea of parentheses in this case? How it prevent type subclass"}, {"owner": {"reputation": 2278, "user_id": 1772828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7831a9963c2207377c46468f6e797a?s=128&d=identicon&r=PG", "display_name": "cliffordheath", "link": "https://stackoverflow.com/users/1772828/cliffordheath"}, "edited": false, "score": 0, "creation_date": 1461791631, "post_id": 36889126, "comment_id": 61366137, "body": "The node has already been created inside the parentheses. A module can be mixed in, but not a class."}, {"owner": {"reputation": 558, "user_id": 5423827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9wEa.jpg?s=128&g=1", "display_name": "suhao399", "link": "https://stackoverflow.com/users/5423827/suhao399"}, "edited": false, "score": 0, "creation_date": 1461902858, "post_id": 36889126, "comment_id": 61418974, "body": "I check the treetop grammar, after parentheses the node-subclass definition is not allowed there so it does not generate the subclass. I am closing this now."}, {"owner": {"reputation": 2278, "user_id": 1772828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7831a9963c2207377c46468f6e797a?s=128&d=identicon&r=PG", "display_name": "cliffordheath", "link": "https://stackoverflow.com/users/1772828/cliffordheath"}, "edited": false, "score": 0, "creation_date": 1548745001, "post_id": 36889126, "comment_id": 95640768, "body": "This is still listed as an open question. I copied my comment to the answer below. Please accept this so it stops appearing as unanswered."}], "answers": [{"tags": [], "owner": {"reputation": 2278, "user_id": 1772828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7831a9963c2207377c46468f6e797a?s=128&d=identicon&r=PG", "display_name": "cliffordheath", "link": "https://stackoverflow.com/users/1772828/cliffordheath"}, "is_accepted": false, "score": 0, "last_activity_date": 1548745004, "creation_date": 1548745004, "answer_id": 54415429, "question_id": 36889126, "link": "https://stackoverflow.com/questions/36889126/why-is-a-custom-syntaxnode-subclass-not-working-with-parentheses/54415429#54415429", "title": "Why is a custom SyntaxNode subclass not working with parentheses?", "body": "<p>The node has already been created inside the parentheses. A module can be mixed in, but not a class.</p>\n"}], "owner": {"reputation": 558, "user_id": 5423827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9wEa.jpg?s=128&g=1", "display_name": "suhao399", "link": "https://stackoverflow.com/users/5423827/suhao399"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548745004, "creation_date": 1461758307, "last_edit_date": 1461771766, "question_id": 36889126, "link": "https://stackoverflow.com/questions/36889126/why-is-a-custom-syntaxnode-subclass-not-working-with-parentheses", "title": "Why is a custom SyntaxNode subclass not working with parentheses?", "body": "<p>I have a treetop grammar like below:</p>\n\n<pre><code>grammar Addme\n\n  rule AddExpr\n    Num '+' Num\n  end\n\n  rule Num\n    [0-9]+ &lt;ExprNumber&gt;\n  end\n\nend\n</code></pre>\n\n<p>This is working when I parse the expression:</p>\n\n<pre><code>g = AddmeParser.new\nt = g.parse(\"1234+56789\")\n</code></pre>\n\n<p>.\u00a0.\u00a0. there is a syntax node that matches <code>\"1234\"</code> with type <code>ExprNumber</code>.\nBut, if I add parentheses to the rule like this:</p>\n\n<pre><code>rule Num\n    ([0-9]+) &lt;ExprNumber&gt;\nend\n</code></pre>\n\n<p>It will not match the class <code>ExprNumber</code>. Why would this happen?</p>\n"}, {"tags": ["ruby", "cucumber"], "answers": [{"tags": [], "owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "is_accepted": false, "score": 0, "last_activity_date": 1461762401, "creation_date": 1461762401, "answer_id": 36890755, "question_id": 36888292, "link": "https://stackoverflow.com/questions/36888292/variables-empty-in-gherkins-cucumber-test/36890755#36890755", "title": "@ Variables empty in Gherkins/Cucumber test", "body": "<p>Selenium has its own waits and if they are set less than your expected wait then you will never see your expected wait triggered.  Make sense?</p>\n\n<p>The following sets the max wait for page load to 5 seconds</p>\n\n<pre><code>@browser.driver.manage.timeouts.page_load = 5\n</code></pre>\n\n<p>Script timeout is another (generally used with Ajax)</p>\n\n<pre><code>@browser.driver.manage.timeouts.script_timeout = 5\n@browser.execute_script(\"return jQuery.active\")\n</code></pre>\n\n<p>Implicit Wait is the maximum wait time for Selenium to wait for an operation on an element to complete. If this triggers first then your expect will fail.</p>\n\n<pre><code>@browser.driver.manage.timeouts.implicit_wait = 5\n</code></pre>\n\n<p>I would suggest setting implicit_wait higher than your timeout just prior to the test and then setting it back just afterwards.  BTW, if your timeout raises an exception you will need a rescue block.</p>\n"}], "owner": {"reputation": 2426, "user_id": 514150, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2eca6296e3e091844ff62ad915a27f68?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/514150/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461762401, "creation_date": 1461756073, "question_id": 36888292, "link": "https://stackoverflow.com/questions/36888292/variables-empty-in-gherkins-cucumber-test", "title": "@ Variables empty in Gherkins/Cucumber test", "body": "<p>This is my test, but even though @timeout_exception is working during running of the code, it's empty during the test. So how can I test if this variable is set?</p>\n\n<pre><code>Then(/^the output should be '(.*)'$/) do |expectedException|\n  expect(@timeout_exception).to eq(expectedException)\nend\n</code></pre>\n\n<p>This is the output of the bundle exec cucumber run.</p>\n\n<pre><code>And the output should be 'Execution Timeout Error: This deployment has taken too long to run'                                     # features/step_definitions/my_steps.rb:309\n\n  expected: \"Execution Timeout Error: This deployment has taken too long to run\"\n       got: nil\n\n  (compared using ==)\n   (RSpec::Expectations::ExpectationNotMetError)\n  ./features/step_definitions/my_steps.rb:310:in `/^the output should be '(.*)'$/'\n  features/timeout_lengthy_deploys.feature:25:in `And the output should be 'Execution Timeout Error: This deployment has taken too long to run''\n\nFailing Scenarios:\ncucumber features/timeout_lengthy_deploys.feature:11 # Scenario: Normal deploy that times out because it takes too long\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 1, "creation_date": 1461756066, "post_id": 36888231, "comment_id": 61340817, "body": "Post your error. And what&#39;s this? <code>{&quot;\u20ac&quot;,&quot;$&quot;} { |p| [p[0], p[1]] }</code>? Perhaps you mean <code>[&quot;\u20ac&quot;,&quot;$&quot;].map { |p| [p[0], p[1]] }</code>?"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461756237, "post_id": 36888231, "comment_id": 61340943, "body": "This question means more context. What are output are you trying to achieve? This <code>{&quot;\u20ac&quot;,&quot;$&quot;} { |p| [p[0], p[1]] }</code> doesn&#39;t make any sense."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1461756355, "post_id": 36888231, "comment_id": 61341016, "body": "I want a dropdown field with those two entries"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 0, "creation_date": 1461756537, "post_id": 36888231, "comment_id": 61341163, "body": "@WesFoster That works partially, I got a Dropdown field, But no value is stored in database"}, {"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 0, "creation_date": 1461756752, "post_id": 36888231, "comment_id": 61341302, "body": "@Felix try <code>[&quot;\u20ac&quot;,&quot;$&quot;]</code> without the map"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1461757082, "post_id": 36888231, "comment_id": 61341520, "body": "then I got synthax error:  syntax error, unexpected { arg, expecting &#39;)&#39; ...select(:currency, [&quot;\u20ac&quot;,&quot;$&quot;] { |p| [p[0], p[1]] }, {}, {:cl... ... ^"}, {"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 0, "creation_date": 1461757140, "post_id": 36888231, "comment_id": 61341560, "body": "Please read the docs: <a href=\"http://apidock.com/rails/ActionView/Helpers/FormOptionsHelper/select\" rel=\"nofollow noreferrer\">apidock.com/rails/ActionView/Helpers/FormOptionsHelper/selec&zwnj;&#8203;t</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "is_accepted": false, "score": 1, "last_activity_date": 1461757497, "creation_date": 1461757497, "answer_id": 36888815, "question_id": 36888231, "link": "https://stackoverflow.com/questions/36888231/rails-printing-array-to-selection-tag/36888815#36888815", "title": "Rails printing array to selection_tag", "body": "<p>This is the solution</p>\n\n<pre><code> &lt;%= f.select(:currency, [\"\u20ac\",\"$\"].map { |p| [p[0], p[0]] }, {}, {:class =&gt; \"form-control\"}) %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": true, "score": 1, "last_activity_date": 1461759722, "creation_date": 1461759722, "answer_id": 36889706, "question_id": 36888231, "link": "https://stackoverflow.com/questions/36888231/rails-printing-array-to-selection-tag/36889706#36889706", "title": "Rails printing array to selection_tag", "body": "<p>I would argue that <a href=\"http://apidock.com/rails/v4.2.1/ActionView/Helpers/FormOptionsHelper/options_for_select\" rel=\"nofollow\"><code>options_for_select</code></a> is the correct method to use in this context:</p>\n\n<pre><code>&lt;%= f.select(:currency, options_for_select(['\u20ac', '$']), {}, class: 'form-control') %&gt;\n</code></pre>\n"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 36889706, "answer_count": 2, "score": 0, "last_activity_date": 1461759722, "creation_date": 1461755923, "question_id": 36888231, "link": "https://stackoverflow.com/questions/36888231/rails-printing-array-to-selection-tag", "title": "Rails printing array to selection_tag", "body": "<p>I want to print an array to selection_tag </p>\n\n<p>tried it this way:</p>\n\n<pre><code> &lt;%= f.select(:currency, {\"\u20ac\",\"$\"} { |p| [p[0], p[1]] }, {}, {:class =&gt; \"form-control\"}) %&gt;\n</code></pre>\n\n<p>But got an synthax error... </p>\n\n<p>What's my failure?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby", "regex"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1461754647, "post_id": 36887764, "comment_id": 61339835, "body": "<code>str.gsub(&#47;(&lt;a\\b[^&gt;]*)&gt;&#47;, &quot;$1 style=&#39;text-decoration:none;&#39;&gt;&quot;)</code>"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1461755355, "post_id": 36887764, "comment_id": 61340300, "body": "What is your question?"}], "answers": [{"tags": [], "owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "is_accepted": true, "score": 0, "last_activity_date": 1461755453, "last_edit_date": 1461755453, "creation_date": 1461754760, "answer_id": 36887839, "question_id": 36887764, "link": "https://stackoverflow.com/questions/36887764/insert-a-string-on-regex-match-in-ruby/36887839#36887839", "title": "Insert a string on regex match in ruby", "body": "<p>This regex will work</p>\n\n<pre><code>(href='[^']+')\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oG9iD1/1\" rel=\"nofollow\"><strong>Regex Demo</strong></a></p>\n\n<p>More accurate regex will be to use</p>\n\n<pre><code>(\\bhref='[&gt;']+)&gt;\n</code></pre>\n\n<p><em>Ruby Code</em></p>\n\n<pre><code>pattern = %r{(href='[^']+')}\nstr = \"This website is &lt;a href='www.google.com'&gt;Google&lt;/a&gt;, some other website is &lt;a href='www.facebook.com'&gt;Facebook&lt;/a&gt;\"\nstyle_to_add = \"style='text-decoration:none;'\"\nprint str.gsub(pattern, '\\1 ' + style_to_add)\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/s6mh7u\" rel=\"nofollow\">Ideone Demo</a></strong></p>\n"}], "owner": {"reputation": 69, "user_id": 5168766, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a321faf38a14d5ba25ab7f46a716bdd7?s=128&d=identicon&r=PG&f=1", "display_name": "utcghghvgh", "link": "https://stackoverflow.com/users/5168766/utcghghvgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1461780932, "accepted_answer_id": 36887839, "answer_count": 1, "score": -2, "last_activity_date": 1461755453, "creation_date": 1461754530, "question_id": 36887764, "link": "https://stackoverflow.com/questions/36887764/insert-a-string-on-regex-match-in-ruby", "closed_reason": "Needs details or clarity", "title": "Insert a string on regex match in ruby", "body": "<pre><code>str = \"This website is &lt;a href='www.google.com'&gt;Google&lt;/a&gt;, some other website is &lt;a href='www.facebook.com'&gt;Facebook&lt;/a&gt;\"\nstyle_to_add = \"style='text-decoration:none;'\"\n</code></pre>\n\n<p>I want to add the <code>style_to_add</code> string to every hyperlink. So the result becomes</p>\n\n<pre><code>str = \"This website is &lt;a href='www.google.com' style='text-decoration:none;&gt;Google&lt;/a&gt;, some other website is &lt;a href='www.facebook.com' style='text-decoration:none;&gt;Facebook&lt;/a&gt;\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "oracle", "ab-testing", "vanity"], "comments": [{"owner": {"reputation": 1079, "user_id": 2336662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/key0q.jpg?s=128&g=1", "display_name": "ksarunas", "link": "https://stackoverflow.com/users/2336662/ksarunas"}, "edited": false, "score": 1, "creation_date": 1461754143, "post_id": 36887327, "comment_id": 61339478, "body": "You might need to add this gem to your <code>Gemfile</code>: <a href=\"https://github.com/rsim/oracle-enhanced\" rel=\"nofollow noreferrer\">github.com/rsim/oracle-enhanced</a>"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "reply_to_user": {"reputation": 1079, "user_id": 2336662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/key0q.jpg?s=128&g=1", "display_name": "ksarunas", "link": "https://stackoverflow.com/users/2336662/ksarunas"}, "edited": false, "score": 0, "creation_date": 1462761174, "post_id": 36887327, "comment_id": 61756184, "body": "This gem is already in my Gemfile. I am using activerecord-oracle_enhanced-adapter (1.4.3)"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1462761327, "post_id": 37041330, "comment_id": 61756213, "body": "Hi, this gem is already in my Gemfile as this is the current adapter that I am using. I am using activerecord-oracle_enhanced-adapter (1.4.3)."}, {"owner": {"reputation": 1470, "user_id": 2284646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39BsM.png?s=128&g=1", "display_name": "phillbaker", "link": "https://stackoverflow.com/users/2284646/phillbaker"}, "reply_to_user": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1462879969, "post_id": 37041330, "comment_id": 61813231, "body": "@Catherine can you post the stack trace of the error you&#39;re seeing?"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1464165826, "post_id": 37041330, "comment_id": 62367567, "body": "I have updated the question to include the stack trace"}, {"owner": {"reputation": 1470, "user_id": 2284646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39BsM.png?s=128&g=1", "display_name": "phillbaker", "link": "https://stackoverflow.com/users/2284646/phillbaker"}, "reply_to_user": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1464315332, "post_id": 37041330, "comment_id": 62445966, "body": "@Catherine added notes on the config file and running the migrations."}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1464319997, "post_id": 37041330, "comment_id": 62447109, "body": "I did not run the migrations. I added the tables manually. Added the table attributes on the question"}], "tags": [], "owner": {"reputation": 1470, "user_id": 2284646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39BsM.png?s=128&g=1", "display_name": "phillbaker", "link": "https://stackoverflow.com/users/2284646/phillbaker"}, "is_accepted": true, "score": 0, "last_activity_date": 1464315295, "last_edit_date": 1464315295, "creation_date": 1462415383, "answer_id": 37041330, "question_id": 36887327, "link": "https://stackoverflow.com/questions/36887327/can-i-use-oracle-enhanced-adapter-in-vanity-gem-for-ab-testing/37041330#37041330", "title": "Can I use oracle_enhanced adapter in vanity gem for AB Testing?", "body": "<p>Yes - Vanity will work with ActiveRecord database adapters.</p>\n\n<p>As @ksarunas points out, you'll need to add the adapter to your gemfile and make sure that it's <code>require</code>d appropriately.</p>\n\n<p>Also, make sure to use the connection setup described in the <a href=\"https://github.com/assaf/vanity#sql-database-setup\" rel=\"nofollow\">README</a>, paraphrased for this adapter:</p>\n\n<pre><code># config/vanity.yml\ndevelopment:\n  adapter: active_record\n  active_record_adapter: oracle_enhanced\n  # database: ...\n  # host: ...\ntest:\n  adapter: active_record\n  active_record_adapter: default # Can also use the default AR connection, no need to respecify all of the connection params\n  collecting: false\nproduction:\n  adapter: active_record\n  active_record_adapter: default\n</code></pre>\n\n<p>Also make sure to run the migrations to create the tables:</p>\n\n<pre><code>$ rails generate vanity\n$ rake db:migrate\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 37041330, "answer_count": 1, "score": 0, "last_activity_date": 1464320184, "creation_date": 1461753265, "last_edit_date": 1464320184, "question_id": 36887327, "link": "https://stackoverflow.com/questions/36887327/can-i-use-oracle-enhanced-adapter-in-vanity-gem-for-ab-testing", "title": "Can I use oracle_enhanced adapter in vanity gem for AB Testing?", "body": "<p>For my production database, I am using oracle_enhanced adapter. Is this supported by vanity gem?\nFrom <a href=\"https://github.com/assaf/vanity\" rel=\"nofollow\">https://github.com/assaf/vanity</a>, it says: \"Vanity supports multiple SQL stores (like MySQL, MariaDB, Postgres, Sqlite, etc.) using ActiveRecord, which is built into Rails\".\nI am not sure if this etc includes Oracle.</p>\n\n<p>I tried using the below in my config/vanity.yml:</p>\n\n<pre><code>production:\n  adapter: oracle_enhanced\n  host: mydb.XXX.com\n  username: XXX\n  password: XXX\n  port: XXXX\n  database: mydb\n</code></pre>\n\n<p>But what I get is the error message below:</p>\n\n<pre><code>Could not find oracle_enhanced in your load path (RuntimeError)\n</code></pre>\n\n<p>My config/database.yml is actually using <code>adapter: oracle_enhanced</code>.</p>\n\n<p>Any advice what I'm missing?</p>\n\n<p>[UPDATED]\nBelow is the stack trace:</p>\n\n<pre><code>Could not find oracle_enhanced in your load path (RuntimeError)\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/adapters.rb:16:in `rescue in establish_connection'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/adapters.rb:13:in `establish_connection'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/connection.rb:95:in `establish_connection'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/connection.rb:68:in `setup_connection'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/connection.rb:36:in `initialize'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:98:in `new'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:98:in `connect!'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:69:in `connection'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/frameworks/rails.rb:12:in `block in load!'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/lazy_load_hooks.rb:34:in `call'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/lazy_load_hooks.rb:34:in `execute_hook'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/lazy_load_hooks.rb:43:in `block in run_load_hooks'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/lazy_load_hooks.rb:42:in `each'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/lazy_load_hooks.rb:42:in `run_load_hooks'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/application/finisher.rb:59:in `block in &lt;module:Finisher&gt;'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/initializable.rb:30:in `instance_exec'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/initializable.rb:30:in `run'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/initializable.rb:55:in `block in run_initializers'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/initializable.rb:54:in `each'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/initializable.rb:54:in `run_initializers'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/application.rb:136:in `initialize!'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/railtie/configurable.rb:30:in `method_missing'\n  /home/si/si_trunk/config/environment.rb:5:in `&lt;top (required)&gt;'\n  config.ru:3:in `require'\n  config.ru:3:in `block in &lt;main&gt;'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/builder.rb:51:in `instance_eval'\n  /home/si/si_trunk/vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/builder.rb:51:in `initialize'\n  config.ru:1:in `new'\n  config.ru:1:in `&lt;main&gt;'\n  /usr/local/httpd/passenger/helper-scripts/rack-preloader.rb:105:in `eval'\n  /usr/local/httpd/passenger/helper-scripts/rack-preloader.rb:105:in `preload_app'\n  /usr/local/httpd/passenger/helper-scripts/rack-preloader.rb:150:in `&lt;module:App&gt;'\n  /usr/local/httpd/passenger/helper-scripts/rack-preloader.rb:29:in `&lt;module:PhusionPassenger&gt;'\n  /usr/local/httpd/passenger/helper-scripts/rack-preloader.rb:28:in `&lt;main&gt;'\n</code></pre>\n\n<p>Then I edited the config/vanity.yml to:</p>\n\n<pre><code>production:\n  adapter: active_record\n  active_record_adapter: oracle_enhanced\n  host: mydb.XXX.com\n  database: mydb\n  port: XXXX\n  username: XXX\n  password: XXX\n</code></pre>\n\n<p>This is the stack trace after updating the vanity.yml:</p>\n\n<pre><code>NameError (\"DESC vanity_experiments\" failed; does it exist?):\n  vendor/bundle/ruby/2.0.0/gems/activerecord-oracle_enhanced-adapter-1.4.3/lib/active_record/connection_adapters/oracle_enhanced_connection.rb:76:in `describe'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-oracle_enhanced-adapter-1.4.3/lib/active_record/connection_adapters/oracle_enhanced_oci_connection.rb:219:in `rescue in describe'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-oracle_enhanced-adapter-1.4.3/lib/active_record/connection_adapters/oracle_enhanced_oci_connection.rb:214:in `describe'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-oracle_enhanced-adapter-1.4.3/lib/active_record/connection_adapters/oracle_enhanced_adapter.rb:1074:in `columns_without_cache'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-oracle_enhanced-adapter-1.4.3/lib/active_record/connection_adapters/oracle_enhanced_adapter.rb:1063:in `columns'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/connection_adapters/schema_cache.rb:12:in `block in initialize'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/model_schema.rb:229:in `yield'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/model_schema.rb:229:in `columns'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/model_schema.rb:249:in `column_names'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/model_schema.rb:262:in `column_methods_hash'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/dynamic_matchers.rb:74:in `all_attributes_exists?'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/dynamic_matchers.rb:27:in `method_missing'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/adapters/active_record_adapter.rb:180:in `set_experiment_created_at'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/base.rb:159:in `save'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/ab_test.rb:544:in `save'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/definition.rb:21:in `define'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/ab_test.rb:708:in `ab_test'\n  /experiments/price_options.rb:1:in `new_binding'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/base.rb:24:in `eval'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/base.rb:24:in `block in load'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/base.rb:22:in `instance_eval'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/experiment/base.rb:22:in `load'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/playground.rb:248:in `block in set_experiments'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/playground.rb:247:in `each'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/playground.rb:247:in `set_experiments'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/playground.rb:26:in `initialize'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:137:in `new'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:137:in `load!'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/vanity.rb:127:in `playground'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/templates.rb:25:in `custom_template_path_valid?'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/templates.rb:15:in `determine_template_directory'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/templates.rb:4:in `initialize'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/templates.rb:37:in `new'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/templates.rb:37:in `template'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/frameworks/rails.rb:365:in `index'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/implicit_render.rb:4:in `send_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/abstract_controller/base.rb:167:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/rendering.rb:10:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/abstract_controller/callbacks.rb:18:in `block in process_action'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:558:in `block in _run__1055270493__process_action__1054591083__callbacks'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:215:in `block in _conditional_callback_around_1772'\n  vendor/bundle/ruby/2.0.0/gems/vanity-2.2.1/lib/vanity/frameworks/rails.rb:146:in `vanity_context_filter'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:214:in `_conditional_callback_around_1772'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:414:in `_run__1055270493__process_action__1054591083__callbacks'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:405:in `__run_callback'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:81:in `run_callbacks'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/abstract_controller/callbacks.rb:17:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/rescue.rb:29:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/notifications.rb:123:in `block in instrument'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/notifications.rb:123:in `instrument'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/instrumentation.rb:29:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/params_wrapper.rb:207:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/railties/controller_runtime.rb:18:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:30:in `block in process_action'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:362:in `perform_action_with_newrelic_trace'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:25:in `process_action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/abstract_controller/base.rb:121:in `process'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/abstract_controller/rendering.rb:45:in `process'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal.rb:203:in `dispatch'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_controller/metal.rb:246:in `block in action'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/routing/route_set.rb:73:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/routing/route_set.rb:73:in `dispatch'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/routing/route_set.rb:36:in `call'\n  vendor/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'\n  vendor/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'\n  vendor/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/routing/route_set.rb:608:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-attack-3.0.0/lib/rack/attack.rb:56:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/etag.rb:23:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/conditionalget.rb:25:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/head.rb:14:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/params_parser.rb:21:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/flash.rb:242:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/session/abstract/id.rb:210:in `context'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/session/abstract/id.rb:205:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/cookies.rb:341:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/query_cache.rb:64:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/activerecord-3.2.20/lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:405:in `_run__665799391__call__857586578__callbacks'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:405:in `__run_callback'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/callbacks.rb:81:in `run_callbacks'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/callbacks.rb:27:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/rack/logger.rb:32:in `call_app'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/rack/logger.rb:16:in `block in call'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/tagged_logging.rb:22:in `tagged'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/rack/logger.rb:16:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/actionpack-3.2.20/lib/action_dispatch/middleware/request_id.rb:22:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/methodoverride.rb:21:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/runtime.rb:17:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/activesupport-3.2.20/lib/active_support/cache/strategy/local_cache.rb:72:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-1.4.7/lib/rack/lock.rb:15:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/rack-cache-1.6.1/lib/rack/cache/context.rb:140:in `forward'\n  vendor/bundle/ruby/2.0.0/gems/rack-cache-1.6.1/lib/rack/cache/context.rb:249:in `fetch'\n  vendor/bundle/ruby/2.0.0/gems/rack-cache-1.6.1/lib/rack/cache/context.rb:189:in `lookup'\n  vendor/bundle/ruby/2.0.0/gems/rack-cache-1.6.1/lib/rack/cache/context.rb:66:in `call!'\n  vendor/bundle/ruby/2.0.0/gems/rack-cache-1.6.1/lib/rack/cache/context.rb:51:in `call'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/engine.rb:484:in `call'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/application.rb:231:in `call'\n  vendor/bundle/ruby/2.0.0/gems/railties-3.2.20/lib/rails/railtie/configurable.rb:30:in `method_missing'\n  vendor/bundle/ruby/2.0.0/gems/newrelic_rpm-3.13.0.299/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'\n  /usr/local/httpd/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:77:in `process_request'\n  /usr/local/httpd/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:140:in `accept_and_process_next_request'\n  /usr/local/httpd/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:108:in `main_loop'\n  /usr/local/httpd/passenger/lib/phusion_passenger/request_handler.rb:441:in `block (3 levels) in start_threads'\n</code></pre>\n\n<p>Is this because the username in the config is not the owner of the table? But, actually, I already granted access (select, insert, update, delete) to the username in the config.</p>\n\n<p>This is my VANITY_EXPERMINETS_TABLE:</p>\n\n<pre><code>COLUMN_NAME      DATA_TYPE          NULLABLE\nEXPERIMENT_ID    VARCHAR2(50 BYTE)  NO\nOUTCOME          NUMBER(11,0)       YES\nENABLED          CHAR(1 BYTE)       YES\nCREATED_AT       DATE               YES\nCOMPLETED_AT     DATE               YES\n</code></pre>\n"}, {"tags": ["ruby", "chef-infra"], "answers": [{"tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": true, "score": 5, "last_activity_date": 1461750986, "creation_date": 1461750986, "answer_id": 36886412, "question_id": 36886333, "link": "https://stackoverflow.com/questions/36886333/how-can-i-map-each-value-found-into-a-different-variable/36886412#36886412", "title": "How can I map each value found into a different variable", "body": "<p>You can do something like this:</p>\n\n<pre><code>nodes = members.map do |node|\n          node[\"ipaddress\"]\n        end\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>execute 'command' do\n  command \"redis-trib.rb create --replicas 1 #{nodes[0]}:6379 #{nodes[1]}:6379 #{nodes[2]}:6379 #{nodes[0]}:6380 #{nodes[1]}:6380 #{nodes[2]}:6380\"\nend\n</code></pre>\n"}], "owner": {"reputation": 130, "user_id": 5899485, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-_bdSanOHh2E/AAAAAAAAAAI/AAAAAAAASI8/4U6xp3d_I1Q/photo.jpg?sz=128", "display_name": "Vlad Cenan", "link": "https://stackoverflow.com/users/5899485/vlad-cenan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 36886412, "answer_count": 1, "score": 2, "last_activity_date": 1461755551, "creation_date": 1461750818, "last_edit_date": 1461755551, "question_id": 36886333, "link": "https://stackoverflow.com/questions/36886333/how-can-i-map-each-value-found-into-a-different-variable", "title": "How can I map each value found into a different variable", "body": "<p>I want to create a chef recipe and I'm stuck at this step:</p>\n\n<pre><code>members = search(\"node\", \"recipe:redis AND chef_environment:#{node.chef_environment}\") || []\nmembers.each do |node|\n  puts \"#{node[\"ipaddress\"]}\"\nend\n</code></pre>\n\n<p>This is working and returning me the IP addresses for those three servers found.\nBut I want to assign/give each VALUE found (ip address) to a variable because I will run a command like the following:</p>\n\n<pre><code>execute 'command' do\n  command \"redis-trib.rb create --replicas 1 #{node1}:6379 #{node2}:6379 #{node3}:6379 #{node1}:6380 #{node2}:6380 #{node3}:6380\"\nend\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "json"], "answers": [{"comments": [{"owner": {"reputation": 1510, "user_id": 5819709, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/520d05e7e9cf0e3974016340f5fc11bc?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/5819709/aman-gupta"}, "edited": false, "score": 0, "creation_date": 1461750966, "post_id": 36886180, "comment_id": 61337210, "body": "Sorry if this sounds silly, but how do i access sys in my update.js.erb ?"}, {"owner": {"reputation": 7329, "user_id": 1232447, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001bb9923606697c5edf6b88955c73e8?s=128&d=identicon&r=PG&f=1", "display_name": "maximus \u30c4", "link": "https://stackoverflow.com/users/1232447/maximus-%e3%83%84"}, "reply_to_user": {"reputation": 1510, "user_id": 5819709, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/520d05e7e9cf0e3974016340f5fc11bc?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/5819709/aman-gupta"}, "edited": false, "score": 0, "creation_date": 1461751530, "post_id": 36886180, "comment_id": 61337644, "body": "You can use instance variable <code>@system</code> instead as you have already defined it."}], "tags": [], "owner": {"reputation": 7329, "user_id": 1232447, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001bb9923606697c5edf6b88955c73e8?s=128&d=identicon&r=PG&f=1", "display_name": "maximus \u30c4", "link": "https://stackoverflow.com/users/1232447/maximus-%e3%83%84"}, "is_accepted": false, "score": 1, "last_activity_date": 1461751545, "last_edit_date": 1461751545, "creation_date": 1461750485, "answer_id": 36886180, "question_id": 36885900, "link": "https://stackoverflow.com/questions/36885900/how-to-access-the-response-for-a-form-tag-in-rails/36886180#36886180", "title": "How to access the response for a form_tag in rails?", "body": "<p>You are using form <code>form_tag</code> with <code>remote true</code>, which send the ajax request with js format not the json. If you render json response in js block instead of json in the controller like below, it should work.</p>\n\n<pre><code>  respond_to do |format|\n     format.js { render :json =&gt; sys } #this will be rendered \n     format.json { render :json =&gt; sys } #this won't\n   end\n</code></pre>\n\n<p>Alternately you can render javascript file like this</p>\n\n<pre><code>$('#results_div').html(\"&lt;%= @system.try(:title) %&gt;\")\n</code></pre>\n\n<p>in <code>update.js.erb</code></p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 1510, "user_id": 5819709, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/520d05e7e9cf0e3974016340f5fc11bc?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/5819709/aman-gupta"}, "edited": false, "score": 0, "creation_date": 1461760931, "post_id": 36887774, "comment_id": 61344563, "body": "this means i need to change my current implementation ?? where i have added controller link in the form tag"}, {"owner": {"reputation": 345, "user_id": 3592881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509892eaba5291fcf13382a6e15b3c8d?s=128&d=identicon&r=PG&f=1", "display_name": "noman tayyab", "link": "https://stackoverflow.com/users/3592881/noman-tayyab"}, "reply_to_user": {"reputation": 1510, "user_id": 5819709, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/520d05e7e9cf0e3974016340f5fc11bc?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/5819709/aman-gupta"}, "edited": false, "score": 1, "creation_date": 1461762979, "post_id": 36887774, "comment_id": 61346236, "body": "for your ease if you can ... ajaxSubmit your form with submit button click. And get the response on the same page and show it in the partial.  You can also go for solution @maximus porvided by responding in js format and set your variables there."}], "tags": [], "owner": {"reputation": 345, "user_id": 3592881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509892eaba5291fcf13382a6e15b3c8d?s=128&d=identicon&r=PG&f=1", "display_name": "noman tayyab", "link": "https://stackoverflow.com/users/3592881/noman-tayyab"}, "is_accepted": false, "score": 1, "last_activity_date": 1461754547, "creation_date": 1461754547, "answer_id": 36887774, "question_id": 36885900, "link": "https://stackoverflow.com/questions/36885900/how-to-access-the-response-for-a-form-tag-in-rails/36887774#36887774", "title": "How to access the response for a form_tag in rails?", "body": "<p>extending maximus' code, you can use ajax to submit the form which can\n      be more easy for you as per your case. You can try</p>\n\n<pre><code>     $(\"#theForm\").ajaxSubmit({url: '/system/upload_form', \n     type: 'post'}).success(function(data){\n     $('#newModalContainer').html(data);\n     });\n</code></pre>\n\n<p>and in your controller, render html of your modal you want to show with your submitted values which can be passed in instance variables.\nsomething like</p>\n\n<pre><code>     def upload_form\n      #your logic\n      render :partial =&gt; 'new_modal_to_show'\n     end\n</code></pre>\n\n<p>this is a generic structure and you can change it to your relevant values. Hope it helps :-)</p>\n"}], "owner": {"reputation": 1510, "user_id": 5819709, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/520d05e7e9cf0e3974016340f5fc11bc?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Gupta", "link": "https://stackoverflow.com/users/5819709/aman-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1206, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462198092, "creation_date": 1461749802, "last_edit_date": 1462198092, "question_id": 36885900, "link": "https://stackoverflow.com/questions/36885900/how-to-access-the-response-for-a-form-tag-in-rails", "title": "How to access the response for a form_tag in rails?", "body": "<p>I have a form which submits number of info in Db.This form is on a modal popup. On click of submit tag, a new modal popup is displayed which has two buttons on click they show the data which the form has submitted.\nNow the problem is till when the controller call is finished, these buttons do nothing on click.\nSo i want to add a spinner on the form popup on click of the submit button. and when the response comes true/ successful it shows the next popup.</p>\n\n<p>my code looks like this:</p>\n\n<pre><code>form:\n\n= form_tag(\"/system/upload_form\", method: 'post', enctype:   'multipart/form-data', remote: true) do\n    ...\n    ...\n    =submit_tag(\"Submit\",id: \"submit_button\", class: 'btn btn-default')  \n\n\n\ncontroller:\n\nsys = @system.update!(system_params)\nrespond_to do |format|\n  format.js\n  format.json { render :json =&gt; sys }\n\njs:\n\n$(\"#submit_button\").click(function() {\n    $('#modal_define_system').modal('hide'); // current popup\n    $('#next-page').modal('show'); // next popup\n});\n</code></pre>\n\n<p>Now i want to know how and where to access the json object or sys value returned from the controller.</p>\n\n<p>I tried:\nAdding a class to the form and then </p>\n\n<pre><code>$('.form_class').bind('ajax:success', function() {\n   console.log(sys);\n});\n</code></pre>\n\n<p>But could not succeed.Plese help and advise. Comment if i need to add some more code or explanation.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1835, "user_id": 4985645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMblv.png?s=128&g=1", "display_name": "Vishal JAIN", "link": "https://stackoverflow.com/users/4985645/vishal-jain"}, "edited": false, "score": 0, "creation_date": 1461749943, "post_id": 36885895, "comment_id": 61336433, "body": "Hey what is your data and what you are expecting?? put some sample data?? and what you are tried??"}, {"owner": {"reputation": 1618, "user_id": 4390569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45e5cbdbb0918c604054719dcd4d8e96?s=128&d=identicon&r=PG&f=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/4390569/kelvin"}, "reply_to_user": {"reputation": 1835, "user_id": 4985645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMblv.png?s=128&g=1", "display_name": "Vishal JAIN", "link": "https://stackoverflow.com/users/4985645/vishal-jain"}, "edited": false, "score": 0, "creation_date": 1461751188, "post_id": 36885895, "comment_id": 61337379, "body": "Hi Vishal, pls see my update"}], "answers": [{"comments": [{"owner": {"reputation": 1618, "user_id": 4390569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45e5cbdbb0918c604054719dcd4d8e96?s=128&d=identicon&r=PG&f=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/4390569/kelvin"}, "edited": false, "score": 0, "creation_date": 1461752179, "post_id": 36886560, "comment_id": 61338108, "body": "sorry i meant for a month, starting jul 16 to aug 15, not just for one day and duration is in the job table, do i need to include(job)?"}], "tags": [], "owner": {"reputation": 7224, "user_id": 448934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXtux.jpg?s=128&g=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/448934/pascal"}, "is_accepted": false, "score": 0, "last_activity_date": 1461751344, "creation_date": 1461751344, "answer_id": 36886560, "question_id": 36885895, "link": "https://stackoverflow.com/questions/36885895/ruby-on-rails-query-for-a-given-set-of-dates/36886560#36886560", "title": "Ruby on Rails query for a given set of dates", "body": "<p>Something like </p>\n\n<pre><code>data = JobApplication.where(status: 'SUCCESS').group(:start_date).select('start_date, count(*), sum(duration) as sum')\n</code></pre>\n\n<p>should do the trick, if i understood your question right. This will return JobApplication instances with <code>sum</code> set</p>\n\n<p>Perhaps it is easier to run a pure SQL query:</p>\n\n<pre><code>SELECT start_date, count(*), sum(duration) FROM job_applications WHERE status LIKE 'SUCCESS' GROUP BY start_date\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1618, "user_id": 4390569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45e5cbdbb0918c604054719dcd4d8e96?s=128&d=identicon&r=PG&f=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/4390569/kelvin"}, "edited": false, "score": 0, "creation_date": 1461764113, "post_id": 36887343, "comment_id": 61347172, "body": "it&#39;s giving me PG::InvalidDatetimeFormat: ERROR:  invalid input syntax for type timestamp: &quot;--- !ruby/range"}, {"owner": {"reputation": 1835, "user_id": 4985645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMblv.png?s=128&g=1", "display_name": "Vishal JAIN", "link": "https://stackoverflow.com/users/4985645/vishal-jain"}, "reply_to_user": {"reputation": 1618, "user_id": 4390569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45e5cbdbb0918c604054719dcd4d8e96?s=128&d=identicon&r=PG&f=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/4390569/kelvin"}, "edited": false, "score": 0, "creation_date": 1461818815, "post_id": 36887343, "comment_id": 61374480, "body": "you can used <code>PG</code> related datetime function"}], "tags": [], "owner": {"reputation": 1835, "user_id": 4985645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NMblv.png?s=128&g=1", "display_name": "Vishal JAIN", "link": "https://stackoverflow.com/users/4985645/vishal-jain"}, "is_accepted": true, "score": 1, "last_activity_date": 1461753300, "creation_date": 1461753300, "answer_id": 36887343, "question_id": 36885895, "link": "https://stackoverflow.com/questions/36885895/ruby-on-rails-query-for-a-given-set-of-dates/36887343#36887343", "title": "Ruby on Rails query for a given set of dates", "body": "<p>Hey you can try this way:</p>\n\n<pre><code>JobApplication.joins(:job).where(status: \"SUCCESS\").where(job_applications =&gt; {:created_at =&gt; [state_date..end_date]}).group(:created_at).sum(\"jobs.duration\")\n</code></pre>\n\n<p>It will Return you result like </p>\n\n<pre><code>{Date =&gt; total_duration, :date =&gt; total_duration}\n</code></pre>\n\n<p>If You want you can convert date to specific format like <code>DATE_FORMAT(created_at, \"%d-%m-%y\")</code> so just put <code>group(DATE_FORMAT(created_at, \"%m-%y\"))</code>. It will remove your time part from timestamp in <code>mysql</code> and returns data daywise</p>\n"}], "owner": {"reputation": 1618, "user_id": 4390569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45e5cbdbb0918c604054719dcd4d8e96?s=128&d=identicon&r=PG&f=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/4390569/kelvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36887343, "answer_count": 2, "score": 0, "last_activity_date": 1461753300, "creation_date": 1461749789, "last_edit_date": 1461752099, "question_id": 36885895, "link": "https://stackoverflow.com/questions/36885895/ruby-on-rails-query-for-a-given-set-of-dates", "title": "Ruby on Rails query for a given set of dates", "body": "<p>I am trying to write a query for my Rails API that will return the total number of hours of job applications that are accepted per month for a given set of dates.</p>\n\n<p>Table: Job, JobApplication</p>\n\n<p>Job has many JobApplication</p>\n\n<p>JobApplication has a field status \"SUCCESS\" if matched</p>\n\n<p>Start Date: Jul 16 2015</p>\n\n<p>Is it possible to have it return {Jul 16: 100, Aug 16: 200, .... } ?</p>\n\n<p>I am quite confused. Any help would be appreciated.</p>\n\n<p>This query would give the number of successful Job Applications within a date range.</p>\n\n<pre><code>JobApplication.where(status: \"SUCCESS\").(\"created_at &lt; ? \", Jul 16).(\"created_at &lt; ? \", Aug 15)\n</code></pre>\n\n<p>JobApplication.job.duration would give the number of hours for that job.</p>\n\n<p>I am not sure how to put them together and then loop through the dates.</p>\n\n<p>My expect results is something like this:</p>\n\n<pre><code>{Jul 16: 100, Aug 16: 200, .... }\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "deployment", "hosting"], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 1415844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPbRo.png?s=128&g=1", "display_name": "Julia Will", "link": "https://stackoverflow.com/users/1415844/julia-will"}, "is_accepted": false, "score": 1, "last_activity_date": 1461754345, "creation_date": 1461754345, "answer_id": 36887717, "question_id": 36885885, "link": "https://stackoverflow.com/questions/36885885/rails-deployment-and-hosting-reseller-rather-than-digitalocean-or-similar/36887717#36887717", "title": "Rails deployment and hosting - reseller rather than DigitalOcean or similar", "body": "<p>You can set up the stack on your own server without problems. When you are using apache or nginx, the easiest might be to use passenger for serving your rails application.\nYou just need to make sure you have the right ruby version and bundler installed. Services like DO are just simpler to work with as they already do all the needed server setup and most of the configuration for you. </p>\n"}], "owner": {"reputation": 52, "user_id": 6012946, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Cf2Ri.jpg?s=128&g=1", "display_name": "classequalsarthur", "link": "https://stackoverflow.com/users/6012946/classequalsarthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461754345, "creation_date": 1461749763, "question_id": 36885885, "link": "https://stackoverflow.com/questions/36885885/rails-deployment-and-hosting-reseller-rather-than-digitalocean-or-similar", "title": "Rails deployment and hosting - reseller rather than DigitalOcean or similar", "body": "<p>I'm a little confused with how deployment of an application works.</p>\n\n<p>I've been looking up tutorials and numerous times it is suggested that it goes live with DigitalOcean, Heroku or something similar, but some are monthly payment services (albeit not a large amount).</p>\n\n<p>I resell hosting to my clients when I build websites for them so I manage everything on my side. My question is: is there a way to deploy a Rails app to my own web hosting space rather than having to use a third-party service? Have I missed something in the documentation?</p>\n\n<p>I'm certain that my hosting can support everything that's needed. If anyone could explain how or why not I'd really appreciate it :-)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mechanize"], "comments": [{"owner": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "edited": false, "score": 0, "creation_date": 1461754042, "post_id": 36885558, "comment_id": 61339398, "body": "What you exactly want to do?? @siva subramanian"}, {"owner": {"reputation": 1, "user_id": 4373005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MEAAJWOZwHo/AAAAAAAAAAI/AAAAAAAAABM/Ekf_oNWr3yg/photo.jpg?sz=128", "display_name": "siva subramanian", "link": "https://stackoverflow.com/users/4373005/siva-subramanian"}, "reply_to_user": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "edited": false, "score": 0, "creation_date": 1461755768, "post_id": 36885558, "comment_id": 61340633, "body": "i would like to collect under all websites  careers url  i did that. but., eg:(<a href=\"http://www.mitchellsandham.com/Careers.aspx,http://www.mitchellsd.org/mitchellsd/job-opportunities,.....\" rel=\"nofollow noreferrer\">mitchellsandham.com/Careers.aspx,http://www.mitchellsd.o&zwnj;&#8203;rg/&hellip;</a>) under this one url list of jobs will there that what i want to collect  if you know just help me... @NarasimhaReddy"}, {"owner": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "edited": false, "score": 0, "creation_date": 1461756557, "post_id": 36885558, "comment_id": 61341173, "body": "confirm me whether you want job links in this page <a href=\"http://fpmgs.avature.net/mitelcareers\" rel=\"nofollow noreferrer\">fpmgs.avature.net/mitelcareers</a>"}, {"owner": {"reputation": 1, "user_id": 4373005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MEAAJWOZwHo/AAAAAAAAAAI/AAAAAAAAABM/Ekf_oNWr3yg/photo.jpg?sz=128", "display_name": "siva subramanian", "link": "https://stackoverflow.com/users/4373005/siva-subramanian"}, "reply_to_user": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "edited": false, "score": 0, "creation_date": 1461756724, "post_id": 36885558, "comment_id": 61341282, "body": "yes but it should dynamic using this Mechanzie @NarasimhaReddy"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4373005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MEAAJWOZwHo/AAAAAAAAAAI/AAAAAAAAABM/Ekf_oNWr3yg/photo.jpg?sz=128", "display_name": "siva subramanian", "link": "https://stackoverflow.com/users/4373005/siva-subramanian"}, "edited": false, "score": 0, "creation_date": 1461817435, "post_id": 36889461, "comment_id": 61374071, "body": "i am having 50000 url of carrier page (that what i am saying dynamically).... and thanks  for your valuable information. @NarasimhaReddy"}], "tags": [], "owner": {"reputation": 2537, "user_id": 5371321, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ZFyVo.jpg?s=128&g=1", "display_name": "Narasimha Reddy - Geeker", "link": "https://stackoverflow.com/users/5371321/narasimha-reddy-geeker"}, "is_accepted": false, "score": 0, "last_activity_date": 1461759116, "creation_date": 1461759116, "answer_id": 36889461, "question_id": 36885558, "link": "https://stackoverflow.com/questions/36885558/extract-careers-employee-url-with-based-on-mechanize/36889461#36889461", "title": "Extract careers,employee url with based on Mechanize", "body": "<p>Try this. it gives all urls of job openings in the page which i have passed into <code>get</code> method.    </p>\n\n<pre><code>    agent = Mechanize.new\n    page = agent.get('http://fpmgs.avature.net/mitelcareers')\n    page.css('.jobResultItem').css('a').map { |k| k.attributes['href'].value }\n</code></pre>\n\n<p>pass link with pagination value to get other links . example \n<a href=\"http://fpmgs.avature.net/mitelcareers/SearchJobs/?jobOffset=20\" rel=\"nofollow\">http://fpmgs.avature.net/mitelcareers/SearchJobs/?jobOffset=20</a><br> pass\nabove link, it gives next urls in the page.</p>\n"}], "owner": {"reputation": 1, "user_id": 4373005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MEAAJWOZwHo/AAAAAAAAAAI/AAAAAAAAABM/Ekf_oNWr3yg/photo.jpg?sz=128", "display_name": "siva subramanian", "link": "https://stackoverflow.com/users/4373005/siva-subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461933261, "creation_date": 1461748942, "last_edit_date": 1461933261, "question_id": 36885558, "link": "https://stackoverflow.com/questions/36885558/extract-careers-employee-url-with-based-on-mechanize", "title": "Extract careers,employee url with based on Mechanize", "body": "<p>Extract careers, employee url with based on Mechanize and help me to get  inside careers page under I have to extract at least one link of careers_urls under careers page</p>\n\n<p><code>ex:\n  agent = Mechanzie.new<br>\n  carrier_page = agent.get(\"http://www.mitel.com/mitel-careers\").click</code></p>\n\n<p>after that I don't know do finding list of careers page links</p>\n\n<p>Thank's for advance....</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "docker", "docker-compose"], "comments": [{"owner": {"reputation": 2172, "user_id": 4412925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7fa1503a3820659b27943c99d463a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nabeel", "link": "https://stackoverflow.com/users/4412925/nabeel"}, "edited": false, "score": 0, "creation_date": 1461749164, "post_id": 36885316, "comment_id": 61335824, "body": "Does your Dockerfile contain <code>RUN bundle install</code> after copying the keys?"}, {"owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "reply_to_user": {"reputation": 2172, "user_id": 4412925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7fa1503a3820659b27943c99d463a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nabeel", "link": "https://stackoverflow.com/users/4412925/nabeel"}, "edited": false, "score": 0, "creation_date": 1461749540, "post_id": 36885316, "comment_id": 61336113, "body": "@NabeelAmjad Yes ofcourse."}], "answers": [{"comments": [{"owner": {"reputation": 1897, "user_id": 1700875, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0646fe9ddfc9005bad11ea9736db5a15?s=128&d=identicon&r=PG", "display_name": "Nathan Wallace", "link": "https://stackoverflow.com/users/1700875/nathan-wallace"}, "edited": false, "score": 0, "creation_date": 1516071070, "post_id": 40184280, "comment_id": 83530572, "body": "I&#39;m having the same error and using <code>https:&#47;&#47;</code> instead of <code>git:&#47;&#47;</code> didn&#39;t help :("}], "tags": [], "owner": {"reputation": 131, "user_id": 2669139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29eb546b2c8577554316924be1917ecb?s=128&d=identicon&r=PG", "display_name": "Mark Kreyman", "link": "https://stackoverflow.com/users/2669139/mark-kreyman"}, "is_accepted": false, "score": 0, "last_activity_date": 1477083620, "last_edit_date": 1477083620, "creation_date": 1477078607, "answer_id": 40184280, "question_id": 36885316, "link": "https://stackoverflow.com/questions/36885316/private-gems-are-not-getting-installed-in-docker/40184280#40184280", "title": "Private gems are not getting installed in docker", "body": "<p>Try replacing git with https in your Gemfile, i.e.</p>\n\n<pre><code>  gem 'swagger-docs', git: 'https://github.com:xyz/swagger-docs.git', branch: 'my_branch'\n</code></pre>\n\n<p>...or add this to your Dockerfile before you run bundle install:</p>\n\n<pre><code>  RUN git config --global url.\"https://\".insteadOf git://\n</code></pre>\n\n<p>If nothing works, then just run <code>bundle install</code> twice, i.e.</p>\n\n<pre><code>  ...\n  RUN gem install bundler &amp;&amp; bundle install\n\n  CMD bundle install &amp;&amp; rails s -p 3000 -b 0.0.0.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 14294408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh478JLMGMCnZwmv0e44iXaB-aeeSa3_N3UAm_lZw=k-s128", "display_name": "Joshua DeMoss", "link": "https://stackoverflow.com/users/14294408/joshua-demoss"}, "is_accepted": false, "score": 0, "last_activity_date": 1617219176, "creation_date": 1617219176, "answer_id": 66894196, "question_id": 36885316, "link": "https://stackoverflow.com/questions/36885316/private-gems-are-not-getting-installed-in-docker/66894196#66894196", "title": "Private gems are not getting installed in docker", "body": "<p>Have you tried using the docker experimental features? They have something meant for <a href=\"https://docs.docker.com/develop/develop-images/build_enhancements/\" rel=\"nofollow noreferrer\">using ssh to access private data in builds</a> which has allowed me to use my private gems hosted on Github in my docker builds. To enable it, you need to do the following 4 things:</p>\n1. Add the private gem to your Gemfile using the git tag:\n<pre><code>gem 'rack', git: 'https://github.com/rack/rack'\n</code></pre>\n2. Set the <strong>DOCKER_BUILDKIT</strong> environment variable to 1 and enable the default ssh flag when invoking the build command:\n<pre><code>$ DOCKER_BUILDKIT=1 docker build --ssh default .\n</code></pre>\n3. Set the first line of your docker file to be the following comment:\n<pre><code># syntax=docker/dockerfile:experimental\n</code></pre>\n4. Perform your ssh setup in the Docker file using the --mount=type=ssh flag to add your ssh key and use the ssh key when installing the gem:\n<pre><code># Make ssh dir and download public key for github.com to add it to known_hosts\nRUN mkdir -p -m 0600 ~/.ssh &amp;&amp; ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts\n\n# Add your ssh key, update bundler, and use bundler to install all your gems\nRUN --mount=type=ssh ssh-add -L &amp;&amp; gem install bundler &amp;&amp; bundle install\n</code></pre>\n<p><em>Using the --mount=type=ssh with the docker experimental features lets docker take care of keeping your ssh-key-information secret. This has been a complaint against docker in the past, and it seems like using the experimental feature is currently the safest and easiest way to pass your ssh private key to your build that I have come across.</em></p>\n<p>All together you should have something like this as your Dockerfile: (personal example)</p>\n<pre><code># syntax=docker/dockerfile:experimental\nFROM ruby:3.0.0\n    \nWORKDIR /usr/src/app\n    \nCOPY Gemfile Gemfile.lock /usr/src/app/\n    \n# Make ssh dir and download public key for github.com to add it to known_hosts\nRUN mkdir -p -m 0600 ~/.ssh &amp;&amp; ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts\n\n# Add your ssh key, update bundler, and use bundler to install all your gems\nRUN --mount=type=ssh ssh-add -L &amp;&amp; gem install bundler &amp;&amp; bundle install\n    \nCOPY . .\n    \nEXPOSE 8080\n    \nCMD [&quot;bundle&quot;, &quot;exec&quot;, &quot;rackup&quot;, &quot;-o&quot;, &quot;0.0.0.0&quot;, &quot;-p&quot;, &quot;8080&quot;]\n</code></pre>\n"}], "owner": {"reputation": 5951, "user_id": 3026618, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/42854c1bcd87a00e9da0ca5b84d73ef2?s=128&d=identicon&r=PG", "display_name": "Ajeet Khan", "link": "https://stackoverflow.com/users/3026618/ajeet-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1414, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1617219176, "creation_date": 1461748327, "last_edit_date": 1461749606, "question_id": 36885316, "link": "https://stackoverflow.com/questions/36885316/private-gems-are-not-getting-installed-in-docker", "title": "Private gems are not getting installed in docker", "body": "<p>I am trying to run a rails app with docker. There are few gems which are getting installed by the ssh url of github which are as follows:</p>\n\n<blockquote>\n  <p>Gemfile</p>\n</blockquote>\n\n<pre><code>gem 'swagger-docs', :git =&gt; 'git@github.com:xyz/swagger-docs.git', :branch =&gt; 'my_branch'\n</code></pre>\n\n<p>I have added the <code>keys</code> in docker which is able to clone the required repo and install the gems from git.</p>\n\n<blockquote>\n  <p>Dockerfile</p>\n</blockquote>\n\n<pre><code>RUN mkdir -p /root/.ssh\nCOPY ./id_rsa /root/.ssh/id_rsa\n\nRUN chmod 700 /root/.ssh/id_rsa\n\nRUN ssh-keygen -f /root/.ssh/id_rsa -y &gt; /root/.ssh/id_rsa.pub\n\nRUN ssh-keyscan github.com &gt;&gt; /root/.ssh/known_hosts\n</code></pre>\n\n<p>When I build the it (which includes <code>bundle install</code>), all goes well and the image gets successfully built. But when I run <code>docker-compose up</code>, it gives the following error</p>\n\n<pre><code>/usr/local/bundle/gems/bundler-1.9.2/lib/bundler/source/git/git_proxy.rb:155:in `allowed_in_path': The git source git@github.com:xyz/swagger-docs.git is not yet checked out. Please run `bundle install` before trying to start your application (Bundler::GitError)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "facebook", "devise"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461747593, "post_id": 36884883, "comment_id": 61334808, "body": "hi chakeshwar...I have tried it before..but cant get email id and user data in the call back url.Pls suggest me"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "reply_to_user": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461747931, "post_id": 36884883, "comment_id": 61335034, "body": "Check data in auth"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "reply_to_user": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461748002, "post_id": 36884883, "comment_id": 61335091, "body": "Set   config.omniauth :facebook, facebook_app_id, facebook_app_secret , { info_fields: &#39;email,first_name,last_name&#39; , scope: &#39;email,public_profile&#39; } in devise.rb"}, {"owner": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461748421, "post_id": 36884883, "comment_id": 61335345, "body": "We have done the same thing as u told above.But none of them are working.It is uable to get the email..saying email cant be blank.Do we need to make any changes in the fb too?"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "reply_to_user": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461749011, "post_id": 36884883, "comment_id": 61335720, "body": "what data u are getting in auth/"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "reply_to_user": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461749285, "post_id": 36884883, "comment_id": 61335912, "body": "auth.info.first_name in the model?"}, {"owner": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461929236, "post_id": 36884883, "comment_id": 61433351, "body": "Hi Chakreshwar...thanq so much it is working now for fb.But had a different issue now. The normal signin is not working.Pls suggest"}, {"owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "reply_to_user": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461929998, "post_id": 36884883, "comment_id": 61433883, "body": "@Way Bazar:What changes have you done to make it working &amp; what error u r facing now?"}, {"owner": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "edited": false, "score": 0, "creation_date": 1461930360, "post_id": 36884883, "comment_id": 61434112, "body": "i have removed this from omniouth.rb and it is working ...Rails.application.config.middleware.use OmniAuth::Builder do   provider :facebook, &quot;54336312156&quot;, &quot;fsda34fad53fasf22&quot; , :scope =&gt; &#39;email&#39;, :display =&gt; &#39;popup&#39;, :info_fields =&gt; &#39;name,email&#39;  end...  After this, normal signin is not working"}], "tags": [], "owner": {"reputation": 2292, "user_id": 5448888, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/898095120243525/picture?type=large", "display_name": "Chakreshwar Sharma", "link": "https://stackoverflow.com/users/5448888/chakreshwar-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1461747209, "creation_date": 1461747209, "answer_id": 36884883, "question_id": 36884613, "link": "https://stackoverflow.com/questions/36884613/login-to-the-facebook-using-omniouth-facebook-and-devise/36884883#36884883", "title": "Login to the facebook using omniouth-facebook and devise", "body": "<p>You need to add few more gems .\nFollow the tutorial on <a href=\"http://sourcey.com/rails-4-omniauth-using-devise-with-twitter-facebook-and-linkedin/\" rel=\"nofollow\">http://sourcey.com/rails-4-omniauth-using-devise-with-twitter-facebook-and-linkedin/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1651, "user_id": 4414956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a7ff9df014e5c92697372747c15d77?s=128&d=identicon&r=PG&f=1", "display_name": "nuaky", "link": "https://stackoverflow.com/users/4414956/nuaky"}, "is_accepted": false, "score": 0, "last_activity_date": 1461759161, "creation_date": 1461759161, "answer_id": 36889479, "question_id": 36884613, "link": "https://stackoverflow.com/questions/36884613/login-to-the-facebook-using-omniouth-facebook-and-devise/36889479#36889479", "title": "Login to the facebook using omniouth-facebook and devise", "body": "<p>Check out some tutorials about Authentication from Railscasts:</p>\n\n<p>Facebook Authentication -> <a href=\"http://railscasts.com/episodes/360-facebook-authentication\" rel=\"nofollow\">http://railscasts.com/episodes/360-facebook-authentication</a></p>\n\n<p>Devise and OmniAuth -> <a href=\"http://railscasts.com/episodes/235-devise-and-omniauth-revised\" rel=\"nofollow\">http://railscasts.com/episodes/235-devise-and-omniauth-revised</a> (for twitter)</p>\n\n<p>You can find this episodes on RailsCast youtube page.</p>\n"}], "owner": {"reputation": 11, "user_id": 6260391, "user_type": "registered", "profile_image": "https://graph.facebook.com/230937843936933/picture?type=large", "display_name": "Way Bazar", "link": "https://stackoverflow.com/users/6260391/way-bazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461759161, "creation_date": 1461746541, "question_id": 36884613, "link": "https://stackoverflow.com/questions/36884613/login-to-the-facebook-using-omniouth-facebook-and-devise", "title": "Login to the facebook using omniouth-facebook and devise", "body": "<p>I am using devise gem for Sign in and sign up . Now i wanna include facebook and google  login in my app . As I am newbie to Rails please suggest me the best method to facebook and google login , I have tried so many methods but they didnt worked please give me an working example. Thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "carrierwave"], "comments": [{"owner": {"reputation": 3401, "user_id": 589620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bd618bcfa88646d7fea535ad2073ffec?s=128&d=identicon&r=PG", "display_name": "Alexander Shlenchack", "link": "https://stackoverflow.com/users/589620/alexander-shlenchack"}, "edited": false, "score": 1, "creation_date": 1461752355, "post_id": 36884559, "comment_id": 61338235, "body": "You can use something like <b>Sidekiq</b> but then you should solve binding with assetable models."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "reply_to_user": {"reputation": 3401, "user_id": 589620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bd618bcfa88646d7fea535ad2073ffec?s=128&d=identicon&r=PG", "display_name": "Alexander Shlenchack", "link": "https://stackoverflow.com/users/589620/alexander-shlenchack"}, "edited": false, "score": 0, "creation_date": 1461755487, "post_id": 36884559, "comment_id": 61340419, "body": "have you a tutorial for me?"}, {"owner": {"reputation": 956, "user_id": 1684772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a0eb44ebf1ed954f1e5022af3d05f1c?s=128&d=identicon&r=PG", "display_name": "Sebin", "link": "https://stackoverflow.com/users/1684772/sebin"}, "edited": false, "score": 1, "creation_date": 1461755660, "post_id": 36884559, "comment_id": 61340531, "body": "<a href=\"https://github.com/lardawge/carrierwave_backgrounder\" rel=\"nofollow noreferrer\">github.com/lardawge/carrierwave_backgrounder</a> - This could be of help."}, {"owner": {"reputation": 3401, "user_id": 589620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bd618bcfa88646d7fea535ad2073ffec?s=128&d=identicon&r=PG", "display_name": "Alexander Shlenchack", "link": "https://stackoverflow.com/users/589620/alexander-shlenchack"}, "reply_to_user": {"reputation": 956, "user_id": 1684772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a0eb44ebf1ed954f1e5022af3d05f1c?s=128&d=identicon&r=PG", "display_name": "Sebin", "link": "https://stackoverflow.com/users/1684772/sebin"}, "edited": false, "score": 1, "creation_date": 1461755741, "post_id": 36884559, "comment_id": 61340605, "body": "@Sebin, set a good point for you"}], "owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461746332, "creation_date": 1461746332, "question_id": 36884559, "link": "https://stackoverflow.com/questions/36884559/rails-carrierwave-uploading-in-background", "title": "rails carrierwave uploading in background", "body": "<p>is there a possibility to do the uploading process with carrierwave to amazon S3 in background so that the action is done just by clinking the button and the upload is done in a separate process without blocking the website?</p>\n\n<p>Thanks for hints and helping me.</p>\n"}, {"tags": ["ruby", "refactoring"], "comments": [{"owner": {"reputation": 1306, "user_id": 262961, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/164578b8d21de6e92453bbbfa17260ba?s=128&d=identicon&r=PG", "display_name": "Jeremy F.", "link": "https://stackoverflow.com/users/262961/jeremy-f"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1461832113, "post_id": 36884169, "comment_id": 61381143, "body": "Relevant question, but it&#39;s an example I made up and I thought it was not really important. It would probably be an array of Apple and Banana objects ;)"}], "answers": [{"comments": [{"owner": {"reputation": 60090, "user_id": 188031, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/p2YIF.jpg?s=128&g=1", "display_name": "tokland", "link": "https://stackoverflow.com/users/188031/tokland"}, "edited": false, "score": 3, "creation_date": 1461745966, "post_id": 36884418, "comment_id": 61333715, "body": "oops, beaten by 15 seconds :)"}, {"owner": {"reputation": 1306, "user_id": 262961, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/164578b8d21de6e92453bbbfa17260ba?s=128&d=identicon&r=PG", "display_name": "Jeremy F.", "link": "https://stackoverflow.com/users/262961/jeremy-f"}, "edited": false, "score": 0, "creation_date": 1461832330, "post_id": 36884418, "comment_id": 61381268, "body": "Aaah, that&#39;s what I&#39;m talking about :) Thanks !"}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 5, "last_activity_date": 1461745930, "creation_date": 1461745930, "answer_id": 36884418, "question_id": 36884169, "link": "https://stackoverflow.com/questions/36884169/how-would-you-simplify-this-ruby-method-that-splits-an-array-based-on-its-conten/36884418#36884418", "title": "How would you simplify this ruby method that splits an array based on its content?", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.3.0/Enumerable.html#method-i-partition\"><code>partition</code></a> to separate an array:</p>\n\n<pre><code>apples, bananas = basket.partition(&amp;:apple?)\n</code></pre>\n"}], "owner": {"reputation": 1306, "user_id": 262961, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/164578b8d21de6e92453bbbfa17260ba?s=128&d=identicon&r=PG", "display_name": "Jeremy F.", "link": "https://stackoverflow.com/users/262961/jeremy-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36884418, "answer_count": 1, "score": 1, "last_activity_date": 1461745951, "creation_date": 1461745197, "question_id": 36884169, "link": "https://stackoverflow.com/questions/36884169/how-would-you-simplify-this-ruby-method-that-splits-an-array-based-on-its-conten", "title": "How would you simplify this ruby method that splits an array based on its content?", "body": "<p>I want to do this</p>\n\n<pre><code>apples, bananas = sort_basket\n</code></pre>\n\n<p>So I made this method</p>\n\n<pre><code>def sort_basket\n  apples = []\n  bananas = []\n  basket.each do |fruit|\n    if fruit.apple?\n      apples &lt;&lt; apple\n    else\n      bananas &lt;&lt; banana\n    end\n  end\n  [apples, bananas]\nend\n</code></pre>\n\n<p>But I can't help but feel there must be a more elegant and/or more concise way of achieving the same behavior for <code>sort_basket</code>.</p>\n\n<p>How would you do it ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "edited": false, "score": 0, "creation_date": 1461744279, "post_id": 36883854, "comment_id": 61332607, "body": "can you add whatever there is in the console, after you ran the server"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461744680, "post_id": 36883854, "comment_id": 61332846, "body": "which url do you enter to browser address field?"}, {"owner": {"reputation": 766, "user_id": 1488591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4373e8b5ebf359cb601120389378406a?s=128&d=identicon&r=PG", "display_name": "kunashir", "link": "https://stackoverflow.com/users/1488591/kunashir"}, "edited": false, "score": 0, "creation_date": 1461744734, "post_id": 36883854, "comment_id": 61332881, "body": "Try to type url with a protocol name: <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">localhost:3000</a>"}, {"owner": {"reputation": 47, "user_id": 2375245, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5b60ea4f3073e12c2acaa0b1817831e1?s=128&d=identicon&r=PG", "display_name": "user2375245", "link": "https://stackoverflow.com/users/2375245/user2375245"}, "edited": false, "score": 0, "creation_date": 1461745044, "post_id": 36883854, "comment_id": 61333099, "body": "@ \u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a   localhost:3000"}, {"owner": {"reputation": 47, "user_id": 2375245, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5b60ea4f3073e12c2acaa0b1817831e1?s=128&d=identicon&r=PG", "display_name": "user2375245", "link": "https://stackoverflow.com/users/2375245/user2375245"}, "reply_to_user": {"reputation": 766, "user_id": 1488591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4373e8b5ebf359cb601120389378406a?s=128&d=identicon&r=PG", "display_name": "kunashir", "link": "https://stackoverflow.com/users/1488591/kunashir"}, "edited": false, "score": 0, "creation_date": 1461745082, "post_id": 36883854, "comment_id": 61333122, "body": "@kunashir  what protocol exactly ? didn&#39;t get you."}, {"owner": {"reputation": 766, "user_id": 1488591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4373e8b5ebf359cb601120389378406a?s=128&d=identicon&r=PG", "display_name": "kunashir", "link": "https://stackoverflow.com/users/1488591/kunashir"}, "edited": false, "score": 0, "creation_date": 1461745231, "post_id": 36883854, "comment_id": 61333234, "body": "@user2375245, add &#39;http://&#39; before localhost:3000. Browser took my text like link and hid &#39;http://&#39;"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461745343, "post_id": 36883854, "comment_id": 61333303, "body": "@user2375245 drop your firewall, restart app as <code>rails s -b 127.0.0.1</code>, enter url  <a href=\"http://127.0.0.1:3000\" rel=\"nofollow noreferrer\">127.0.0.1:3000</a>"}, {"owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "edited": false, "score": 0, "creation_date": 1461746239, "post_id": 36883854, "comment_id": 61333893, "body": "What happens when you request that page with a modern browser (IE8 is 8 years old and even Microsoft stop supporting the IE8 4 years ago)? What do you expect the app to return?"}, {"owner": {"reputation": 47, "user_id": 2375245, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5b60ea4f3073e12c2acaa0b1817831e1?s=128&d=identicon&r=PG", "display_name": "user2375245", "link": "https://stackoverflow.com/users/2375245/user2375245"}, "reply_to_user": {"reputation": 12135, "user_id": 538471, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d2051553a8bdd27c26fec84b47806714?s=128&d=identicon&r=PG", "display_name": "dan-klasson", "link": "https://stackoverflow.com/users/538471/dan-klasson"}, "edited": false, "score": 0, "creation_date": 1461746606, "post_id": 36883854, "comment_id": 61334134, "body": "@dan-klasson actually i am using a company server..and i am not allowed to install a new browser.."}, {"owner": {"reputation": 12135, "user_id": 538471, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d2051553a8bdd27c26fec84b47806714?s=128&d=identicon&r=PG", "display_name": "dan-klasson", "link": "https://stackoverflow.com/users/538471/dan-klasson"}, "edited": false, "score": 0, "creation_date": 1461746769, "post_id": 36883854, "comment_id": 61334230, "body": "You&#39;re developing on a server, not your localhost then? Get a lap top or consider changing jobs. Can&#39;t develop like that."}, {"owner": {"reputation": 47, "user_id": 2375245, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5b60ea4f3073e12c2acaa0b1817831e1?s=128&d=identicon&r=PG", "display_name": "user2375245", "link": "https://stackoverflow.com/users/2375245/user2375245"}, "reply_to_user": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461747114, "post_id": 36883854, "comment_id": 61334457, "body": "@\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a   thanks it is working now..what is the meaning of  &#39; -b &#39;"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461747487, "post_id": 36883854, "comment_id": 61334724, "body": "@user2375245 added answer"}], "answers": [{"tags": [], "owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "is_accepted": false, "score": 2, "last_activity_date": 1461747418, "creation_date": 1461747418, "answer_id": 36884968, "question_id": 36883854, "link": "https://stackoverflow.com/questions/36883854/rails-server-not-responding/36884968#36884968", "title": "Rails server not responding", "body": "<p>The most probable problem of that you have firewall and it blocks the requests to server, additionally it could be happened that name <code>localhost</code> is redefined, so I'll propose a 3 steps to fix:</p>\n\n<ol>\n<li><p>Drop your firewall or reset it to allow accessing to 127.0.0.1, that should be resolved as <code>localhost</code>;</p></li>\n<li><p>Restart app as:</p>\n\n<pre><code>rails s -b 127.0.0.1\n</code></pre>\n\n<p>key <code>-b</code> tells your server to bind it on just IP: <em>127.0.0.1</em>;</p></li>\n<li><p>Enter url: <em>http://127.0.0.1:3000</em></p></li>\n</ol>\n"}], "owner": {"reputation": 47, "user_id": 2375245, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5b60ea4f3073e12c2acaa0b1817831e1?s=128&d=identicon&r=PG", "display_name": "user2375245", "link": "https://stackoverflow.com/users/2375245/user2375245"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1696, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461747418, "creation_date": 1461744186, "last_edit_date": 1461744560, "question_id": 36883854, "link": "https://stackoverflow.com/questions/36883854/rails-server-not-responding", "title": "Rails server not responding", "body": "<p>I started a simple rails server and set the root url to display an html page. It started on localhost:3000 but when I try to access it using my browser (Internet Explorer 8) it says page cannot be diaplyed. The console is not showing any error. It just says server running on localhost:3000</p>\n\n<p>Console output</p>\n\n<pre><code>=&gt; Booting WEBrick\n=&gt; Rails 4.2.6 application starting in development on http://localhost:3000\n=&gt; Run `rails server -h` for more startup options\n=&gt; Ctrl-C to shutdown server\n[2016-04-27 12:32:39] INFO  WEBrick 1.3.1\n[2016-04-27 12:32:39] INFO  ruby 2.2.4 (2015-12-16) [i386-mingw32] \n[2016-04-27 12:32:39] INFO  WEBrick::HTTPServer#start: pid=5752 port=3000\n</code></pre>\n"}, {"tags": ["mysql", "ruby", "ruby-on-rails-3"], "comments": [{"owner": {"reputation": 31539, "user_id": 367985, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/761edb9c3cf7a0a643e73ef40666a1f7?s=128&d=identicon&r=PG", "display_name": "CuriousMind", "link": "https://stackoverflow.com/users/367985/curiousmind"}, "edited": false, "score": 1, "creation_date": 1461743807, "post_id": 36883677, "comment_id": 61332287, "body": "does not work? any error?"}, {"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "reply_to_user": {"reputation": 31539, "user_id": 367985, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/761edb9c3cf7a0a643e73ef40666a1f7?s=128&d=identicon&r=PG", "display_name": "CuriousMind", "link": "https://stackoverflow.com/users/367985/curiousmind"}, "edited": false, "score": 0, "creation_date": 1461743947, "post_id": 36883677, "comment_id": 61332390, "body": "@CuriousMind I have added the error part"}], "answers": [{"comments": [{"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "edited": false, "score": 0, "creation_date": 1461744269, "post_id": 36883834, "comment_id": 61332598, "body": "Oh buddy you dont know how much misery I was into right now.. Thanks for showing me the light .. the path to enlightenment :)"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1461744151, "creation_date": 1461744151, "answer_id": 36883834, "question_id": 36883677, "link": "https://stackoverflow.com/questions/36883677/how-does-where-not-in-rails-3-works/36883834#36883834", "title": "How does where not in rails 3 works", "body": "<p>It's a simple syntax error problem:</p>\n\n<pre><code>where(\"reason NOT IN (?)\", ['DOB_MISSING'])\n</code></pre>\n\n<p>All <code>IN</code> clauses need to be surrounded by brackets.</p>\n"}, {"tags": [], "owner": {"reputation": 3401, "user_id": 589620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bd618bcfa88646d7fea535ad2073ffec?s=128&d=identicon&r=PG", "display_name": "Alexander Shlenchack", "link": "https://stackoverflow.com/users/589620/alexander-shlenchack"}, "is_accepted": false, "score": 0, "last_activity_date": 1461754900, "creation_date": 1461754900, "answer_id": 36887890, "question_id": 36883677, "link": "https://stackoverflow.com/questions/36883677/how-does-where-not-in-rails-3-works/36887890#36887890", "title": "How does where not in rails 3 works", "body": "<p>Also you can use <code>arel_table</code> method:</p>\n\n<pre><code>restrict_arr = ['DOB_MISSING']\nWip.where(status: \"P\").where(Wip.arel_table[:reason].not_in(restrict_arr))\n</code></pre>\n"}], "owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461754900, "creation_date": 1461743729, "last_edit_date": 1461744250, "question_id": 36883677, "link": "https://stackoverflow.com/questions/36883677/how-does-where-not-in-rails-3-works", "title": "How does where not in rails 3 works", "body": "<p>Here is a code snippet</p>\n\n<pre><code>Wip.where(status: \"P\").where(\"reason NOT IN ?\", ['DOB_MISSING'])\n</code></pre>\n\n<p>This does not work.</p>\n\n<p>I have tried looking for it and found a lot of questions asked. Some of them have suggested this but I am not sure where I am going wrong</p>\n\n<p>Here I am pasting a part of my rails c</p>\n\n<pre><code>[19] pry(main)&gt; Wip.where(status: \"P\").where(\"reason NOT IN ?\", ['DOB_MISSING']).count\n   (0.6ms)  SELECT COUNT(*) FROM `wip` WHERE `wip`.`status` = 'P' AND (reason NOT IN 'DOB_MISSING')\nActiveRecord::StatementInvalid: Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''DOB_MISSING')' at line 1: SELECT COUNT(*) FROM `wip`  WHERE `wip`.`status` = 'P' AND (reason NOT IN 'DOB_MISSING')\nfrom /home/ritu/.rvm/gems/ruby-2.2.3@svasth/gems/rack-mini-profiler-0.9.7/lib/patches/db/mysql2.rb:20:in `query'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems", "ruby-2.0", "iconv"], "comments": [{"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461743428, "post_id": 36883154, "comment_id": 61332089, "body": "seems it requires new version of <b>iconv.h</b> to compile"}, {"owner": {"reputation": 1, "user_id": 5580995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2fcee0a724e9797deebc931ec8ffef1?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5580995/daniel"}, "reply_to_user": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461744891, "post_id": 36883154, "comment_id": 61332969, "body": "Thanks @\u041c\u0430\u043b\u044a\u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a, I&#39;ve downloaded the latest version from: <a href=\"http://gnuwin32.sourceforge.net/packages/libiconv.htm\" rel=\"nofollow noreferrer\">gnuwin32.sourceforge.net/packages/libiconv.htm</a> Do you know the location of newer version?"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461745040, "post_id": 36883154, "comment_id": 61333097, "body": "I believe  here is: <a href=\"http://gnuwin32.sourceforge.net/downlinks/libiconv-src-zip.php\" rel=\"nofollow noreferrer\">gnuwin32.sourceforge.net/downlinks/libiconv-src-zip.php</a>, no, even here: <a href=\"http://gnuwin32.sourceforge.net/downlinks/libiconv-lib-zip.php\" rel=\"nofollow noreferrer\">gnuwin32.sourceforge.net/downlinks/libiconv-lib-zip.php</a>"}, {"owner": {"reputation": 1, "user_id": 5580995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2fcee0a724e9797deebc931ec8ffef1?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5580995/daniel"}, "reply_to_user": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461745659, "post_id": 36883154, "comment_id": 61333516, "body": "Thanks @\u041c\u0430\u043b\u044a\u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a, I&#39;ve checked and this is the same version as I&#39;ve downloaded.both are &quot;LibIconv 1.9.2&quot; in the manifest and both files: iconv.h,libiconv.lib are binary the same. Do you have another idea?"}], "owner": {"reputation": 1, "user_id": 5580995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2fcee0a724e9797deebc931ec8ffef1?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5580995/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462256941, "creation_date": 1461742140, "last_edit_date": 1462256941, "question_id": 36883154, "link": "https://stackoverflow.com/questions/36883154/cant-install-ruby-iconv-gem-failed-to-build-gem-native-extension-with-ruby-2-0", "title": "can&#39;t install ruby iconv gem: Failed to build gem native extension with ruby 2.0, but works with ruby 1.9.3 with the same command", "body": "<p>using the same line succeeded on ruby 193 but failed on ruby 200.</p>\n\n<pre><code>gem install iconv --platform=ruby -- --with-iconv-lib=\"C:/iconv/lib\" --with-iconv-include=\"C:/iconv/include\"\n</code></pre>\n\n<p>gets </p>\n\n<pre><code>ERROR: Error installing iconv:\nERROR: Failed to build gem native extension.\n</code></pre>\n\n<p>Cmd input and output (same line on 193 works, on 200 not):</p>\n\n<pre><code>https://gist.github.com/anonymous/f9cfbb65e5aef043242973f92fcb4f25\n</code></pre>\n\n<p>mkmf.log:</p>\n\n<pre><code>https://gist.github.com/anonymous/d270011e167dbcc68ec5670aefed269f\n</code></pre>\n\n<p>C:/iconv file list:</p>\n\n<pre><code>https://gist.github.com/anonymous/b2528168cfdade18815a12c002a64f16\n</code></pre>\n\n<p>Downloaded iconv from: (Complete package, except sources, version 1.9.2)</p>\n\n<pre><code>http://gnuwin32.sourceforge.net/packages/libiconv.htm\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>Searched the internet before asking, really good.</li>\n<li>looked at the mkmf.log, following the compilation lines, but could not understand the problem.</li>\n<li>I know iconv is deprecated and String encode can be used instead, but the code I'm running is not mine and I'm not allowed to edit it. </li>\n</ul>\n"}, {"tags": ["arrays", "ruby", "sorting"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1461740674, "post_id": 36882558, "comment_id": 61330371, "body": "Not clear what you mean. Elements do not seem to be changed their colums. What do you mean to sort <b>each column</b> from the left to right? You can only sort (two or more) <b>columns</b> from the left to right."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 1, "creation_date": 1461740699, "post_id": 36882558, "comment_id": 61330387, "body": "Why is the row starting 274,666,666 not further down (since the 2nd to last element is nil) ?"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1461740822, "post_id": 36882558, "comment_id": 61330471, "body": "What is your question?"}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461740952, "post_id": 36882558, "comment_id": 61330558, "body": "The elements always stay in their columns. The sort affects the rows as a whole. But the sort criteria is applied first to the 2nd column, then to the 3rd, and so on to the nth column. I will edit to clarify."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461741105, "post_id": 36882558, "comment_id": 61330662, "body": "The 3-dot range notation is meant for exactly your situation where you would otherwise use <code>- 1</code>.  You could instead use <code>(1...sort_array[0].size).each...</code>  BTW, why are you starting at 1 and not 0?"}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1461741119, "post_id": 36882558, "comment_id": 61330672, "body": "@FrederickCheung, the row starting 274,666,666 would have been at the top of the table after the sort on the 7th column. After the sort on the final column it would be pushed down because its 8th element is nil."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1461741190, "post_id": 36882558, "comment_id": 61330706, "body": "If the elements stay in their columns and the sort affects the rows as a whole, then you are sorting the rows, not the columns. Not clear what you mean."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1461741316, "post_id": 36882558, "comment_id": 61330777, "body": "@moveson but why is it not pushed down (and left at the bottom) because of the nil in column 6?"}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1461741466, "post_id": 36882558, "comment_id": 61330867, "body": "@sawa: The question is how can I write a method that results in the table shown? My method works except that it changes position of the nil values in subsequent column sorts. For an example of how this should work, if you were to enter the same data into MS Excel (leaving blank cells where I am using nil) and sort the 2nd column, then the 3rd, and on to the last, and you will get the proper result."}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1461741682, "post_id": 36882558, "comment_id": 61330998, "body": "@FrederickCheung: It is pushed down when column 6 is sorted. (See my interim illustration with the dots.) But then column 7 is sorted, and then column 8. I care about where it ends up after the sort on column 8."}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1461741786, "post_id": 36882558, "comment_id": 61331055, "body": "@sawa: Yes, I am sorting the rows, but sorting ON each column, one at a time, from left to right. The reason for the multiple sorts is to achieve the result shown in the final table, because I care about the order of those nil values."}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1461741964, "post_id": 36882558, "comment_id": 61331165, "body": "@CarySwoveland: Yes, a typo, thanks for catching that. I&#39;ve fixed it."}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "reply_to_user": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461742124, "post_id": 36882558, "comment_id": 61331248, "body": "@KeithBennett: I did not know that about the three-dot range. Thanks for the tip. I&#39;m starting at 1 because my 0 column is made up of keys, not values."}], "answers": [{"comments": [{"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461776127, "post_id": 36883934, "comment_id": 61356500, "body": "This would produce the desired result in this case but I am looking for an algorithm that produces the desired result in every case."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461825956, "post_id": 36883934, "comment_id": 61377469, "body": "@moveson could you give a counter-example?"}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461832325, "post_id": 36883934, "comment_id": 61381264, "body": "I stand corrected. Your code works perfectly and instantly. Thank you so much! I still don&#39;t understand quite what it does. Could you explain?"}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "reply_to_user": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461833100, "post_id": 36883934, "comment_id": 61381782, "body": "@moveson <code>arrays.map { |a| a[1..-1].reverse.map { |e| e || Float::INFINITY } }</code> returns the intermediate array the sorting is based upon."}, {"owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "edited": false, "score": 0, "creation_date": 1461833405, "post_id": 36883934, "comment_id": 61381985, "body": "I see now! I did not realize an array sort could evaluate elements that are themselves arrays. This is wonderful. Again, thank you!"}], "tags": [], "owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1461747201, "last_edit_date": 1461747201, "creation_date": 1461744437, "answer_id": 36883934, "question_id": 36882558, "link": "https://stackoverflow.com/questions/36882558/ruby-array-sort-without-changing-position-of-nils/36883934#36883934", "title": "Ruby array sort without changing position of nils", "body": "<p>I <em>think</em> that you want to sort the rows by its 2nd to last elements in reverse order (with <code>nil</code> being treated as <code>Infinity</code>):</p>\n\n<pre><code>arrays = [[297, 100, 101, 235, 253, nil, nil, nil],\n          [286, 116, 116, 213, nil, nil, nil, nil],\n          [256, 105, 111, 212, 216, 264, nil, nil],\n          [276, 108, 111, 204, 207, 257, 259, 367],\n          [274,  66,  66, 120, 121, nil, 150, nil],\n          [298, 114, 117, 270, 270, nil, nil, nil],\n          [296, 127, 130, 259, 264, 324, 332, nil],\n          [283, 102, 106, 193, 199, 247, 248, 343]]\n\narrays.sort_by { |a| a[1..-1].reverse.map { |e| e || Float::INFINITY } }\n#=&gt; [[283, 102, 106, 193, 199, 247, 248, 343],\n#    [276, 108, 111, 204, 207, 257, 259, 367],\n#    [274,  66,  66, 120, 121, nil, 150, nil],\n#    [296, 127, 130, 259, 264, 324, 332, nil],\n#    [256, 105, 111, 212, 216, 264, nil, nil],\n#    [297, 100, 101, 235, 253, nil, nil, nil],\n#    [298, 114, 117, 270, 270, nil, nil, nil],\n#    [286, 116, 116, 213, nil, nil, nil, nil]]\n</code></pre>\n\n<p>At least, this produces the expected result.</p>\n\n<p>Since the first row consists of keys, you could take advantage of Ruby's <a href=\"http://ruby-doc.org/core-2.3.0/doc/syntax/methods_rdoc.html#label-Array+Decomposition\" rel=\"nofollow\">array decomposition</a> abilities and use <code>|_, *vs| vs.reverse...</code> instead of <code>|a| a[1..-1].reverse...</code>. Here, <code>_</code> refers to the (unused) key and <code>*vs</code> collects the remaining elements.</p>\n"}], "owner": {"reputation": 4600, "user_id": 5961578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/df7cbfdd2a92a7926af3bbb8648318aa?s=128&d=identicon&r=PG", "display_name": "moveson", "link": "https://stackoverflow.com/users/5961578/moveson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 36883934, "answer_count": 1, "score": 1, "last_activity_date": 1461776948, "creation_date": 1461740304, "last_edit_date": 1461776948, "question_id": 36882558, "link": "https://stackoverflow.com/questions/36882558/ruby-array-sort-without-changing-position-of-nils", "title": "Ruby array sort without changing position of nils", "body": "<p>I am working with an array of arrays. I need to sort the rows, and the sort criteria is the value of each column (starting with the 2nd column) successively from left to right. Nil values must be pushed to the bottom. Once pushed to the bottom, I need to leave nil columns as they are without successive searches changing their position relative to each other. Starting with this array:</p>\n\n<pre><code>sort_array = \n[[297, 100, 101, 235, 253, nil, nil, nil],\n [286, 116, 116, 213, nil, nil, nil, nil],\n [256, 105, 111, 212, 216, 264, nil, nil],\n [276, 108, 111, 204, 207, 257, 259, 367],\n [274,  66,  66, 120, 121, nil, 150, nil],\n [298, 114, 117, 270, 270, nil, nil, nil],\n [296, 127, 130, 259, 264, 324, 332, nil],\n [283, 102, 106, 193, 199, 247, 248, 343]]\n</code></pre>\n\n<p>I iterate across the array with these lines of code:</p>\n\n<pre><code>(1..sort_array[0].size - 1).each do |i|\n  sort_array.sort_by! { |e| [e[i] ? 0 : 1, e[i]] }\nend\n</code></pre>\n\n<p>The idea is to ignore the first column, but sort the second through nth column in ascending order pushing nil values to the bottom. This gives the following result:</p>\n\n<pre><code>  =&gt; [[283, 102, 106, 193, 199, 247, 248, 343],\n     [276, 108, 111, 204, 207, 257, 259, 367],\n     [256, 105, 111, 212, 216, 264, nil, nil],\n     [297, 100, 101, 235, 253, nil, nil, nil],\n     [296, 127, 130, 259, 264, 324, 332, nil],\n     [274,  66,  66, 120, 121, nil, 150, nil],\n     [298, 114, 117, 270, 270, nil, nil, nil],\n     [286, 116, 116, 213, nil, nil, nil, nil]]\n</code></pre>\n\n<p>This is close to what I need, but not quite right. The problem is that the nil values once pushed to the bottom don't stay put. For example, after sorting the column whose first value is 247, the array would have looked like this:</p>\n\n<pre><code>=&gt; [[283, ... 247, ...]\n    [276, ... 257, ...]\n    [256, ... 264, ...]\n    [296, ... 324, ...]\n    [297, ... nil, ...]\n    [274, ... nil, ...]\n    [298, ... nil, ...]\n    [286, ... nil, ...]\n</code></pre>\n\n<p>But further sorting on columns to the right results in the nil values being reordered, which messes up the sort. Nil values need to stay put unless a cell to the right is non-nil, in which case it should be sorted as usual.</p>\n\n<p>The table should look like this when the sort is finished:</p>\n\n<pre><code>  =&gt; [[283, 102, 106, 193, 199, 247, 248, 343],\n     [276, 108, 111, 204, 207, 257, 259, 367],\n     [274,  66,  66, 120, 121, nil, 150, nil],\n     [296, 127, 130, 259, 264, 324, 332, nil],\n     [256, 105, 111, 212, 216, 264, nil, nil],\n     [297, 100, 101, 235, 253, nil, nil, nil],\n     [298, 114, 117, 270, 270, nil, nil, nil],\n     [286, 116, 116, 213, nil, nil, nil, nil]]\n</code></pre>\n\n<p>Could someone please help me write a method that will achieve this result?</p>\n\n<p>It may be helpful to see the real-life example of what I am trying to achieve. Here is a link to a spreadsheet:</p>\n\n<p><a href=\"https://github.com/SplitTime/OpenSplitTime/blob/master/hardrock2015test.xlsx\" rel=\"nofollow\">https://github.com/SplitTime/OpenSplitTime/blob/master/hardrock2015test.xlsx</a></p>\n\n<p>Each row is a runner effort. Runners are ranked by final finish time of course. But those who do not finish are ranked by how far they made it and what time they made it to their last waypoint. </p>\n\n<p>Though the linked spreadsheet does not show it, the sort also needs to deal with nil values with time data to the right, representing times that didn't get recorded for whatever reason. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "github"], "comments": [{"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461740481, "post_id": 36882492, "comment_id": 61330256, "body": "What happens if you use <code>git</code> directly instead of <code>github</code>? e.g. <code>git: &#39;git@github.com:Root-App&#47;wkhtmltopdf_binary_gem.git&#39;</code>"}, {"owner": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 0, "creation_date": 1461740801, "post_id": 36882492, "comment_id": 61330455, "body": "Running gem install at command line it says there is no valid gem in this repository. Unfortunately the repo has no badge indicating if the gem is building okay or not. Maybe it is just the fact this repo is not building."}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461742734, "post_id": 36882492, "comment_id": 61331634, "body": "Hm, that&#39;s probably the issue. The git repository would have to have the directory structure and format of a proper ruby gem in order for it to work with Bundler."}, {"owner": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "edited": false, "score": 0, "creation_date": 1461742804, "post_id": 36882492, "comment_id": 61331690, "body": "It also has gemspec file."}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1461743160, "post_id": 36882492, "comment_id": 61331923, "body": "have you tryed to checkout the git repo manually?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2996212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1e930166bd8fbe69cb4c36368476297?s=128&d=identicon&r=PG", "display_name": "mwallba", "link": "https://stackoverflow.com/users/2996212/mwallba"}, "is_accepted": true, "score": 1, "last_activity_date": 1461742864, "creation_date": 1461742864, "answer_id": 36883387, "question_id": 36882492, "link": "https://stackoverflow.com/questions/36882492/rails-trying-to-install-forked-gem-from-github-hangs-bundler/36883387#36883387", "title": "Rails, trying to install forked gem from github hangs bundler", "body": "<p>bundler is not actually hanging, it is downloading the content of the repository in the background. </p>\n\n<p>The repo-content seems to be of a significant size (multiple megabyte). Depending on your connection you will have to wait a while for bundler to finish downloading. Afterwards it should install the gem as usual.</p>\n\n<p>Unfortunately bundler is not giving any feedback on this, even when you invoke bundler in verbose mode <code>bundle install --verbose</code></p>\n"}], "owner": {"reputation": 5695, "user_id": 3003432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/835081031b807fb7f1bc8eb683dd4626?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.D", "link": "https://stackoverflow.com/users/3003432/mr-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 36883387, "answer_count": 1, "score": 1, "last_activity_date": 1461742864, "creation_date": 1461740099, "question_id": 36882492, "link": "https://stackoverflow.com/questions/36882492/rails-trying-to-install-forked-gem-from-github-hangs-bundler", "title": "Rails, trying to install forked gem from github hangs bundler", "body": "<p>I have found fork of one gem in github, which is more up to date. I wanted to install <a href=\"https://github.com/Root-App/wkhtmltopdf_binary_gem\" rel=\"nofollow\">this fork</a> to my rails project. So I have added this line of code to my <code>Gemfile</code>:</p>\n\n<pre><code>gem 'rootapp-wkhtmltopdf-binary', github: 'Root-App/wkhtmltopdf_binary_gem'\n</code></pre>\n\n<p>When I run <code>bundle install</code>, it just hangs at fetching.</p>\n\n<p>Why does this happen?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461741696, "post_id": 36882339, "comment_id": 61331008, "body": "I&#39;d suggest removing <code>DEFAULT</code> from the name, since strictly speaking and according to how we generally use that word in Ruby, it is not really a default, but rather a common set of options.  (That is, the reader seeing &#39;DEFAULT&#39; might look for different data used and a default argument specification.  Instead, a name describing at a high level the set of options would be helpful, or, if not, simply S3_ARGUMENTS or FILE_ATTACHED_ARGUMENTS or something like that."}, {"owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "reply_to_user": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461743413, "post_id": 36882339, "comment_id": 61332078, "body": "@KeithBennett Yes i totally agree, i was just using the same name that the OP used. btw, i&#39;ve updated the answer! :)"}], "tags": [], "owner": {"reputation": 2558, "user_id": 3125852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/T85zH.jpg?s=128&g=1", "display_name": "Alfie", "link": "https://stackoverflow.com/users/3125852/alfie"}, "is_accepted": false, "score": 0, "last_activity_date": 1461743447, "last_edit_date": 1461743447, "creation_date": 1461739656, "answer_id": 36882339, "question_id": 36882010, "link": "https://stackoverflow.com/questions/36882010/replace-hash-arguments-with-one-has-object/36882339#36882339", "title": "Replace hash arguments with one has object", "body": "<p>If it's a constant which i believe it is,</p>\n\n<p>You can define the hash in an initializer like this</p>\n\n<p><strong>DO THIS ONLY IF YOU WOULD NEED TO USE THIS HASH IN OTHER MODELS</strong></p>\n\n<pre><code>S3_ARGUMENTS = {:storage =&gt; :s3,\n                :s3_region =&gt; ENV['AWS_REGION'],\n                :s3_host_name =&gt; ENV['S3_HOST'],\n                :s3_credentials =&gt; \"#{Rails.root}/config/s3.yml\" ,\n                :styles =&gt; IMAGE_STYLES,\n                :default_url =&gt; \"/images/missing.png\"}\n</code></pre>\n\n<p>Then within your Model you can use it like this: </p>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n\n  has_attached_file :cover, S3_ARGUMENTS\n\nend\n</code></pre>\n\n<p>If you don't need this in other Models, then define the constant in your class Model itself.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 3825299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfba340c4bdd8e7095c32cb0d76fa2fd?s=128&d=identicon&r=PG", "display_name": "Klante", "link": "https://stackoverflow.com/users/3825299/klante"}, "is_accepted": false, "score": 0, "last_activity_date": 1461744540, "creation_date": 1461744540, "answer_id": 36883955, "question_id": 36882010, "link": "https://stackoverflow.com/questions/36882010/replace-hash-arguments-with-one-has-object/36883955#36883955", "title": "Replace hash arguments with one has object", "body": "<p>I would suggest to take a look at the paperclip S3 documentation if that is what you are using</p>\n\n<p><a href=\"https://github.com/thoughtbot/paperclip/wiki/Paperclip-with-Amazon-S3\" rel=\"nofollow\">https://github.com/thoughtbot/paperclip/wiki/Paperclip-with-Amazon-S3</a></p>\n"}], "owner": {"reputation": 6503, "user_id": 3675188, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/38ad90bb6d16a1a2201cf88699d0ebf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3675188", "link": "https://stackoverflow.com/users/3675188/user3675188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461744540, "creation_date": 1461738653, "last_edit_date": 1461740798, "question_id": 36882010, "link": "https://stackoverflow.com/questions/36882010/replace-hash-arguments-with-one-has-object", "title": "Replace hash arguments with one has object", "body": "<p>I have many models need to include <code>has_attached_file</code> with the identical arguments</p>\n\n<p>How can I store the arguments in one hash object?</p>\n\n<h1>Current usage</h1>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n\n  has_attached_file :cover,\n    :storage =&gt; :s3,\n    :s3_region =&gt; ENV['AWS_REGION'],\n    :s3_host_name =&gt; ENV['S3_HOST'],\n    :s3_credentials =&gt; \"#{Rails.root}/config/s3.yml\" ,\n    :styles =&gt; IMAGE_STYLES,\n    :default_url =&gt; \"/images/missing.png\"\n\nend\n</code></pre>\n\n<h1>Expected usage</h1>\n\n<pre><code>default_s3_arguments = {:storage =&gt; :s3,\n        :s3_region =&gt; ENV['AWS_REGION'],\n        :s3_host_name =&gt; ENV['S3_HOST'],\n        :s3_credentials =&gt; \"#{Rails.root}/config/s3.yml\" ,\n        :styles =&gt; IMAGE_STYLES,\n        :default_url =&gt; \"/images/missing.png\"}\n\n\nclass Product &lt; ActiveRecord::Base\n\n  has_attached_file :cover, default_s3_arguments\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rubygems"], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 1826279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25fdaa1b4c751f1ac3024c222fc99c3b?s=128&d=identicon&r=PG", "display_name": "Mihhail Sidorin", "link": "https://stackoverflow.com/users/1826279/mihhail-sidorin"}, "is_accepted": false, "score": 2, "last_activity_date": 1461738123, "creation_date": 1461738123, "answer_id": 36881841, "question_id": 36881550, "link": "https://stackoverflow.com/questions/36881550/cron-jobs-and-background-tasks/36881841#36881841", "title": "Cron Jobs and Background Tasks", "body": "<p>It is not comparable entities. As you are studying I will use few simple examples.</p>\n\n<p><code>whenever</code> is a cron job manager. In simple words it is alarm clock for task execution. Usually you can clean your server tmp nightly with such task.</p>\n\n<p><code>sidekiq</code> is a background job manager. You can use it to asynchronously process heavy load tasks on demand. </p>\n\n<p>P.S. You cannot replace whenever with sidekiq without changing in approach for task execution and there should one better suitable, not \"better, because sidekiq\".</p>\n"}, {"tags": [], "owner": {"reputation": 1101, "user_id": 195160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faaeed64f4c43e8cf1bda0216531d2de?s=128&d=identicon&r=PG", "display_name": "Montdidier", "link": "https://stackoverflow.com/users/195160/montdidier"}, "is_accepted": false, "score": 1, "last_activity_date": 1461738639, "creation_date": 1461738639, "answer_id": 36882006, "question_id": 36881550, "link": "https://stackoverflow.com/questions/36881550/cron-jobs-and-background-tasks/36882006#36882006", "title": "Cron Jobs and Background Tasks", "body": "<p><code>whenever</code> will generate a cron configuration for you. This is abstracted via the use of a Ruby DSL. This is not necessarily easier, but it may be if you are more familiar with Ruby than with cron. In particular it allows you to schedule jobs to run at specific intervals. These jobs typically run asynchronously and separately from the main ruby web application. </p>\n\n<p><code>sidekiq</code> provides you with the interface to run asynchronous background tasks. It does not schedule them to run at specific times, as might cron, without further modules i.e. <code>sidekiq-cron</code> or <code>sidekiq-scheduler</code></p>\n"}], "owner": {"reputation": 29, "user_id": 6256407, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b19c998d1564e61a510e4a94166b76aa?s=128&d=identicon&r=PG&f=1", "display_name": "prafull purwar", "link": "https://stackoverflow.com/users/6256407/prafull-purwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1461738639, "creation_date": 1461737122, "last_edit_date": 1461737551, "question_id": 36881550, "link": "https://stackoverflow.com/questions/36881550/cron-jobs-and-background-tasks", "title": "Cron Jobs and Background Tasks", "body": "<p>I am studying about <strong>Cron Jobs</strong> and <strong>Background Tasks</strong> in Ruby On Rails. Can anyone tell me which one to use as currently I am using Whenever Gem. Why <code>whenever</code> is better than <code>Sidekiq</code>.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "subdomain"], "answers": [{"tags": [], "owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "is_accepted": false, "score": 2, "last_activity_date": 1469727494, "creation_date": 1469727494, "answer_id": 38643228, "question_id": 36881313, "link": "https://stackoverflow.com/questions/36881313/how-can-i-share-sessioncookies-between-subdomains-with-different-top-level-dom/38643228#38643228", "title": "How can I share session(cookies) between subdomains with different Top Level Domain(tld) length", "body": "<p>You need:</p>\n\n<pre><code>MyApp::Application.config.session_store :cookie_store, key: '_my_Key', domain: :all, tld_length: 2\n</code></pre>\n"}], "owner": {"reputation": 7419, "user_id": 867590, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uujdC.jpg?s=128&g=1", "display_name": "shweta", "link": "https://stackoverflow.com/users/867590/shweta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469727494, "creation_date": 1461736264, "last_edit_date": 1461756416, "question_id": 36881313, "link": "https://stackoverflow.com/questions/36881313/how-can-i-share-sessioncookies-between-subdomains-with-different-top-level-dom", "title": "How can I share session(cookies) between subdomains with different Top Level Domain(tld) length", "body": "<p>I have a saas based application with faye server integration.</p>\n\n<p>Each tenant has its own subdomain and own database on different servers.</p>\n\n<p>I want to share session cookies between <code>xyz.mydomain.com</code> and <code>connect.xyz.mydomain.com</code>.</p>\n\n<p>I tried <code>Rails.application.config.session_store :cookie_store, :key =&gt; '_my_key', :domain =&gt; \"mydomain.com\", :tld_length =&gt; 2</code> But it does not work.</p>\n\n<p>Please help.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 1, "creation_date": 1461734974, "post_id": 36880972, "comment_id": 61327574, "body": "It&#39;s just addition right? What is the problem you can just do <code>balance += payment_amount</code>"}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "reply_to_user": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1461735436, "post_id": 36880972, "comment_id": 61327754, "body": "Still confused. Suppose user A has $ 60 as a balance in the db field. And if he adds $30 again, the amount field should have $30 and the balance field should have $30 + $60 total $90."}, {"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1461735541, "post_id": 36880972, "comment_id": 61327787, "body": "Yes you can do like this: <code>amount  = new_amount</code> and then <code>balance += amount</code>"}, {"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "edited": false, "score": 0, "creation_date": 1461735674, "post_id": 36880972, "comment_id": 61327844, "body": "If it is not your case please post your controller code.."}, {"owner": {"reputation": 7224, "user_id": 448934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXtux.jpg?s=128&g=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/448934/pascal"}, "edited": false, "score": 0, "creation_date": 1461735970, "post_id": 36880972, "comment_id": 61327964, "body": "Why is the balance in the payments model?   My advice: don&#39;t use callbacks, they will cause troubles later on and when testing. Make it a method that wraps both database operations in a transactions."}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461736072, "post_id": 36880972, "comment_id": 61328012, "body": "Do you have any example..."}], "answers": [{"comments": [{"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461738178, "post_id": 36881163, "comment_id": 61328995, "body": "I followed you, update the controller code. Please see my question above. Still getting error like wrong agument"}, {"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461738656, "post_id": 36881163, "comment_id": 61329260, "body": "Got the error <i>wrong number of arguments (1 for 2)</i> for the code <b>user.update_attribute(balance: (user.balance + netamt))</b>"}, {"owner": {"reputation": 766, "user_id": 1488591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4373e8b5ebf359cb601120389378406a?s=128&d=identicon&r=PG", "display_name": "kunashir", "link": "https://stackoverflow.com/users/1488591/kunashir"}, "reply_to_user": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461744134, "post_id": 36881163, "comment_id": 61332529, "body": "I am very sorry, I have error in my post - update_attributes expect two arguments like this <b>user.update_attributes(:balance, new_balance)</b>"}], "tags": [], "owner": {"reputation": 766, "user_id": 1488591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4373e8b5ebf359cb601120389378406a?s=128&d=identicon&r=PG", "display_name": "kunashir", "link": "https://stackoverflow.com/users/1488591/kunashir"}, "is_accepted": true, "score": 0, "last_activity_date": 1461744017, "last_edit_date": 1461744017, "creation_date": 1461735536, "answer_id": 36881163, "question_id": 36880972, "link": "https://stackoverflow.com/questions/36880972/rails-update-the-stock-value-of-a-product/36881163#36881163", "title": "Rails update the stock value of a product", "body": "<p>Store a balance in a payment is not good idea. I think you can store a balance in user model. In this case your code would be like this:</p>\n\n<pre><code>begin\n  Payment.create(amount: 100, user: user)\n  user.update_attribute(:balance, user.balance + 100)\nrescue\n #handle a error\nend\n</code></pre>\n\n<p>If You want to use your case, You can try next:</p>\n\n<pre><code>balances = Payment.where(user: user).order(:created_at)\nif balances.any?\n  Payment.create(user: user, amount: amount, balance: balances.last.balance + amount)\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461736131, "post_id": 36881187, "comment_id": 61328035, "body": "i got the following error. undefined method `+&#39; for nil:NilClass"}, {"owner": {"reputation": 380, "user_id": 4781518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jtiKY.jpg?s=128&g=1", "display_name": "ydaniju", "link": "https://stackoverflow.com/users/4781518/ydaniju"}, "reply_to_user": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461736673, "post_id": 36881187, "comment_id": 61328255, "body": "Yes @SantoshAryal. The default values should be for both <code>payment</code> and <code>amount</code>. If any of them is <code>nil</code> at first, the operation is impossible. Did you run a migration to do so?"}, {"owner": {"reputation": 380, "user_id": 4781518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jtiKY.jpg?s=128&g=1", "display_name": "ydaniju", "link": "https://stackoverflow.com/users/4781518/ydaniju"}, "reply_to_user": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "edited": false, "score": 0, "creation_date": 1461738386, "post_id": 36881187, "comment_id": 61329107, "body": "Try <code>after_save</code> callback."}], "tags": [], "owner": {"reputation": 380, "user_id": 4781518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jtiKY.jpg?s=128&g=1", "display_name": "ydaniju", "link": "https://stackoverflow.com/users/4781518/ydaniju"}, "is_accepted": false, "score": 0, "last_activity_date": 1461736563, "last_edit_date": 1461736563, "creation_date": 1461735686, "answer_id": 36881187, "question_id": 36880972, "link": "https://stackoverflow.com/questions/36880972/rails-update-the-stock-value-of-a-product/36881187#36881187", "title": "Rails update the stock value of a product", "body": "<p>I think you can do that in your <code>Payment Model</code>. First, give <code>balance</code> and <code>amount</code> a default value of 0.0 by running a migration to effect the change. You can then do something like this in the model:</p>\n\n<pre><code>def update_balance\n  self.balance += self.amount\nend\n</code></pre>\n\n<p>Then you can add above this method a callback say:</p>\n\n<pre><code>before_create :update_balance\n</code></pre>\n\n<p>I guess this should help.</p>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 6010868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6804161e8c7410a173defda7332185?s=128&d=identicon&r=PG&f=1", "display_name": "HashRocket", "link": "https://stackoverflow.com/users/6010868/hashrocket"}, "is_accepted": false, "score": 0, "last_activity_date": 1461735789, "creation_date": 1461735789, "answer_id": 36881209, "question_id": 36880972, "link": "https://stackoverflow.com/questions/36880972/rails-update-the-stock-value-of-a-product/36881209#36881209", "title": "Rails update the stock value of a product", "body": "<blockquote>\n  <p>I can add entries to the database but what i want to do is every time a user adds payments the balance field should update with the sum of previous balance and new amount. I don't know how to do it. please help me.</p>\n</blockquote>\n\n<p>You can do it using <a href=\"http://guides.rubyonrails.org/active_record_callbacks.html#creating-an-object\" rel=\"nofollow\">Active Record Callback</a>. Do a callback using your model that if someone add payments call <code>after_save your_method</code> and do stuffs you want (in your case you must update the field).</p>\n\n<pre><code>after_save :update_payment_amount\n\ndef update_payment_amount\n  // do stuffs here\nend\n</code></pre>\n"}], "owner": {"reputation": 1066, "user_id": 6204421, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0yeJN.jpg?s=128&g=1", "display_name": "Santosh Aryal", "link": "https://stackoverflow.com/users/6204421/santosh-aryal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 36881163, "answer_count": 3, "score": 0, "last_activity_date": 1461744017, "creation_date": 1461734661, "last_edit_date": 1461738086, "question_id": 36880972, "link": "https://stackoverflow.com/questions/36880972/rails-update-the-stock-value-of-a-product", "title": "Rails update the stock value of a product", "body": "<p>I have a model Payment and and a controller name payments_controller. The schema of the Payment model is like as</p>\n\n<pre><code>class CreatePayments &lt; ActiveRecord::Migration\n  def change\n    create_table :payments do |t|\n        t.belongs_to :user\n        t.decimal :ammount, :precision =&gt; 8, :scale =&gt; 2, null: false\n        t.decimal :balance, :precision =&gt; 8, :scale =&gt; 2, null: false\n      t.timestamps null: false\n    end\n  end\nend\n</code></pre>\n\n<p>I can add entries to the database but what i want to do is every time a user adds payments the balance field should update with the sum of previous balance and new amount. I don't know how to do it. please help me. </p>\n\n<p>I am some little change in the controller code. Before I was attempting to update the balance in Payment model but now I am trying to update the balance in User model. Still error.</p>\n\n<pre><code>user = current_user\nnetamt =  (amount.to_f - ((amount.to_f*2.9)/100 + 0.30))\npayment = user.payments.create(:ammount =&gt; netamt)\nuser.update_attribute(balance: user.balance + netamt)\n</code></pre>\n"}, {"tags": ["ruby", "regex", "go"], "comments": [{"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "edited": false, "score": 0, "creation_date": 1461732242, "post_id": 36880125, "comment_id": 61326559, "body": "Person who voted to close, it is not at all unclear what I am asking. I put a lot of effort into this question and it&#39;s clear that I want to split the string into <code>[s ge ne]</code> but neither language is providing that ability."}, {"owner": {"reputation": 7224, "user_id": 448934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXtux.jpg?s=128&g=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/448934/pascal"}, "edited": false, "score": 1, "creation_date": 1461735769, "post_id": 36880125, "comment_id": 61327887, "body": "I don&#39;t fully understand the rules that you want to apply to your split operation. Can you give some more samples?  What is the purpose?"}, {"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "reply_to_user": {"reputation": 7224, "user_id": 448934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXtux.jpg?s=128&g=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/448934/pascal"}, "edited": false, "score": 0, "creation_date": 1461737966, "post_id": 36880125, "comment_id": 61328890, "body": "@pascalbetz The string consists of <code>s</code>, followed by <code>ge</code>, followed by <code>ne</code>, all of which are parts of the regex. The boolean matches know this, yet the array matches do not decompose the string into those parts. I want to split the string by its regex-matching parts. Say, if I had a string &quot;sgen&quot;, I would expect <code>[s, ge, n]</code>, because these are all parts of the regex. Or from <code>genes</code> I would expect <code>[ge, ne, s]</code>, because <code>ge</code>, <code>ne</code>, and <code>s</code> are parts of the regex. The purpose is to determine whether a given string can be created by joining together any of several possible substrings."}, {"owner": {"reputation": 284620, "user_id": 1705598, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/aTFoe.jpg?s=128&g=1", "display_name": "icza", "link": "https://stackoverflow.com/users/1705598/icza"}, "edited": false, "score": 3, "creation_date": 1461741202, "post_id": 36880125, "comment_id": 61330714, "body": "@EMBLEM Your initial assumption is wrong. Your regexp <code>&quot;sg|ge|ne|n|s&quot;</code> means any of the strings, but not the repetition of those strings to cover the whole string. So in Go <code>Regexp.Match()</code> will return <code>true</code> if the word contains any of those, even if the whole word is NOT a combination of those, e.g. testing the word <code>&quot;sgenex&quot;</code> will be <code>true</code> by <code>Match()</code> but you would expect <code>false</code>. To check if the whole word is a combination of such substrings, use a regexp like <code>&quot;^(sg|ge|ne|n|s)+$&quot;</code>."}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1461743821, "post_id": 36880125, "comment_id": 61332302, "body": "The issue with the regex is that <code>sg|ge|ne|n|s</code> will match <code>sg</code> in <code>sgene</code> before it even tests <code>s</code>. After  <code>sg</code> is matched, the index goes after <code>sg</code> and the engine CANNOT start looking one letter before the previous match end position - this is not possible with <code>scan</code> or <code>findallstring</code>. That is why <code>ne</code> is not matched, as the engine sees <code>en</code> (after matching <code>sg</code>) and it is no match, so the engine advances its index and tests the position after <code>e</code> and as <code>ne</code> is before <code>n</code> in the regex, the engine matches <code>ne</code> (what comes first in alternation)(see <a href=\"https://regex101.com/r/cI6hY2/1\" rel=\"nofollow noreferrer\">demo</a>)."}, {"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "reply_to_user": {"reputation": 284620, "user_id": 1705598, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/aTFoe.jpg?s=128&g=1", "display_name": "icza", "link": "https://stackoverflow.com/users/1705598/icza"}, "edited": false, "score": 0, "creation_date": 1461770363, "post_id": 36880125, "comment_id": 61352293, "body": "@icza You should have tested your brilliant &quot;OP is an idiot&quot; answer. If I do that, then the string will not be split into the parts  by the methods from either language. The regex will match the entire string, yes, but I will not be able to decompose the string into its substrings."}, {"owner": {"reputation": 284620, "user_id": 1705598, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/aTFoe.jpg?s=128&g=1", "display_name": "icza", "link": "https://stackoverflow.com/users/1705598/icza"}, "edited": false, "score": 1, "creation_date": 1461770961, "post_id": 36880125, "comment_id": 61352757, "body": "@EMBLEM You should remain polite as I wasn&#39;t offensive. Don&#39;t exaggerate. I only posted a comment and not an answer. The regexp I suggested is only to check if the whole word is a composite of the substrings. I never said it can be used to break the word into substrings (else it would&#39;ve been posted as an answer). You were claiming that your original regexp can be used to test this using <code>Regexp.Match()</code> which is incorrect, and I did test this."}, {"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1462031644, "post_id": 36880125, "comment_id": 61471599, "body": "@CarySwoveland Please do not treat me like an idiot who doesn&#39;t know the rules of this site. I will accept an answer when I am satisfied with one."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 284620, "user_id": 1705598, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/aTFoe.jpg?s=128&g=1", "display_name": "icza", "link": "https://stackoverflow.com/users/1705598/icza"}, "edited": false, "score": 1, "creation_date": 1462037444, "post_id": 36880125, "comment_id": 61473644, "body": "Neither I nor @icza think you&#39;re an idiot. The fact is, for vast numbers of questions posted on SO, no answer is ever selected, even when excellent answers are offered. True, the OP may not be ready to make a selection or is dissatisfied with all the answers, but more often it is because he or she does not realize an answer can be selected or simply forgets to select one. I therefoe see nothing wrong with a gentle comment to consider making a selection if none has been made after a day or three. I am not talking about a request for the OP to select one&#39;s own answer, which I detest."}, {"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1476042245, "post_id": 36880125, "comment_id": 67175792, "body": "@LightnessRacesinOrbit That the suggestion of being fair perturbed you, a renowned C++ expert who had already declared that he would stop responding, enough to look into my comment history to find this example of me fighting against the very unfairness I loathe is victory enough for me."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1476042352, "post_id": 36880125, "comment_id": 67175827, "body": "I&#39;m glad you feel that you can claim &quot;victory&quot;. Myself, I&#39;m a grown-up and therefore see no contest here. But each to their own. Although, to continue the theme of pointing out your logical absurdities, I said I would stop responding <i>on that thread</i>. I never committed to never talking to you ever again. Though you&#39;ll be glad to hear that I am now considering it...!"}], "answers": [{"comments": [{"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "edited": false, "score": 0, "creation_date": 1461769967, "post_id": 36882436, "comment_id": 61351970, "body": "This is an okay answer, but doesn&#39;t work in Go. And it&#39;s less efficient than regexes."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "edited": false, "score": 0, "creation_date": 1461778304, "post_id": 36882436, "comment_id": 61357969, "body": "You said Ruby <i>or</i> Go. If this can&#39;t be coded in Go (which I find surprising), that cannot be considered a weakness of the solution. It&#39;s only less efficient than a regex if it&#39;s possible to do this with a regex, something that has not been established."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1461812719, "last_edit_date": 1461812719, "creation_date": 1461739957, "answer_id": 36882436, "question_id": 36880125, "link": "https://stackoverflow.com/questions/36880125/how-do-i-override-the-match-behaviour-in-string-scan-and-findallstring/36882436#36882436", "title": "How do I override the match behaviour in String.scan and FindAllString?", "body": "<p>This answer concerns Ruby only.</p>\n\n<p>We are given the regex</p>\n\n<pre><code>r = /sg|ge|ne|n|s/\n</code></pre>\n\n<p>For this regex,</p>\n\n<pre><code>\"sgene\".scan r\n  #=&gt; [\"sg\", \"ne\"]\n</code></pre>\n\n<p>As I understand, you want to find a rearrangement of the order of the elements of the regex, <code>r_new</code>, such that</p>\n\n<pre><code>\"sgene\".scan(r_new).join == \"sgene\"\n</code></pre>\n\n<p>Viewed differently, but equivalently, you are given an array and a string</p>\n\n<pre><code>arr = [\"sg\", \"ge\", \"ne\", \"n\", \"s\"]\ntarget = \"sgene\"\n</code></pre>\n\n<p>and want to determine if there is a permutation of some or all of the elements of <code>arr</code>, <code>perm</code>, such that</p>\n\n<pre><code>target == perm.join\n</code></pre>\n\n<p>and are asking if this can be done using a regex. I don't believe it can, but I cannot prove that. Moreover, several of the comments cast doubt on that.</p>\n\n<p>It can be done, however, as follows.</p>\n\n<pre><code>(1..arr.size).each_with_object([]) { |n, perms|\n  arr.permutation(n).each  { |p| perms &lt;&lt; p if p.join==target } }\n  #=&gt; [[\"s\", \"ge\", \"ne\"]]\n</code></pre>\n\n<p>I used <code>select</code>, rather than <code>any?</code>, so that all permutations that work are identified. For example:</p>\n\n<pre><code>arr = [\"sg\", \"ge\", \"ne\", \"n\", \"s\", \"e\"]\n(1..arr.size).each_with_object([]) { |n, perms|\n  arr.permutation(n).each  { |p| perms &lt;&lt; p if p.join==target } }\n  #=&gt; [[\"sg\", \"e\", \"ne\"], [\"s\", \"ge\", \"ne\"], [\"s\", \"ge\", \"n\", \"e\"]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "edited": false, "score": 0, "creation_date": 1461770168, "post_id": 36891836, "comment_id": 61352132, "body": "Your answer does not work in the general case; it has the problem I discovered in the comments <a href=\"http://stackoverflow.com/questions/25819437/is-there-a-version-of-rubys-regexp-match-that-responds-to-the-order-of-the-matc\">here</a> Your regex can&#39;t even match &quot;sg&quot; correctly, it splits it into just <code>s</code>. That is what I have been TRYING to tell everyone! Whether I put the substrings before or after the superstrings, it doesn&#39;t match the whole thing!"}, {"owner": {"reputation": 9777, "user_id": 121631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85801ee3b7b70969f6713aaa5768ca20?s=128&d=identicon&r=PG", "display_name": "David Budworth", "link": "https://stackoverflow.com/users/121631/david-budworth"}, "reply_to_user": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "edited": false, "score": 0, "creation_date": 1461770415, "post_id": 36891836, "comment_id": 61352338, "body": "a regex will match in the order of the pattern, so, if you want sg before s, change to <code>sg|s|ge|ne|n</code>."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1461772862, "post_id": 36891836, "comment_id": 61354221, "body": "My understanding is that the rearrangement of the regex is to be done for an arbitrary string, not just for the literal <code>&quot;sgene&quot;</code>. EMBLEM, is that correct?"}], "tags": [], "owner": {"reputation": 9777, "user_id": 121631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85801ee3b7b70969f6713aaa5768ca20?s=128&d=identicon&r=PG", "display_name": "David Budworth", "link": "https://stackoverflow.com/users/121631/david-budworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1461765048, "creation_date": 1461765048, "answer_id": 36891836, "question_id": 36880125, "link": "https://stackoverflow.com/questions/36880125/how-do-i-override-the-match-behaviour-in-string-scan-and-findallstring/36891836#36891836", "title": "How do I override the match behaviour in String.scan and FindAllString?", "body": "<p>Maybe I'm not understanding what you are actually trying to do, but simply changing the order of the symbols in the regex works.\nThis isn't a greedy vs non-greedy thing as you are using no wildcards.</p>\n\n<p>It's simply a match in order of regex problem.</p>\n\n<p>Here's a modified version <a href=\"https://play.golang.org/p/raYWzNiFcq\" rel=\"nofollow\">on Play</a>.  The only different thing being to change the regex itself to give you the desired output.</p>\n\n<p>All I did was move \"n\" to the end of the pattern, as in <code>s|sg|ge|ne|n</code></p>\n\n<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"regexp\"\n)\n\nfunc main() {\n    str := \"sgene\"\n    superBeforeSub := regexp.MustCompile(\"sg|ge|ne|n|s\")\n    subBeforeSuper := regexp.MustCompile(\"n|s|sg|ge|ne\")\n    orderIActuallyWant := regexp.MustCompile(\"s|sg|ge|ne|n\")\n    regexes := []*regexp.Regexp{superBeforeSub, subBeforeSuper, orderIActuallyWant}\n    for _, rgx := range regexes {\n        fmt.Println(rgx.MatchString(str), rgx.FindAllString(str, -1))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1907, "user_id": 3161525, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6c4bdb240d87fd9fa82717d3cfbea305?s=128&d=identicon&r=PG&f=1", "display_name": "EMBLEM", "link": "https://stackoverflow.com/users/3161525/emblem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461812719, "creation_date": 1461730109, "last_edit_date": 1495541962, "question_id": 36880125, "link": "https://stackoverflow.com/questions/36880125/how-do-i-override-the-match-behaviour-in-string-scan-and-findallstring", "title": "How do I override the match behaviour in String.scan and FindAllString?", "body": "<p>I want to determine whether a given string can be created by joining any of a set of substrings. As a specific example, I want to split a string <code>\"sgene\"</code> according to what part of the regex <code>sg|ge|ne|n|s</code> it matches. The answer is <code>\"s\"</code>, <code>\"ge\"</code>, <code>\"ne\"</code>, because those three parts are how the string can be decomposed into parts from the regex, the desired set of substrings.</p>\n\n<p>Go has <code>regexp.(*Regexp).FindAllString</code>, and Ruby has <code>Regexp.scan</code> to do this. In my code, one match is lost regardless of whether I order the substrings before or after the superstrings since my regexes overlap.</p>\n\n<hr>\n\n<p>Here is a program to reproduce the problem in Go:</p>\n\n<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"regexp\"\n)\n\nfunc main() {\n    str := \"sgene\"\n    superBeforeSub := regexp.MustCompile(\"sg|ge|ne|n|s\")\n    subBeforeSuper := regexp.MustCompile(\"n|s|sg|ge|ne\")\n    regexes := []*regexp.Regexp{superBeforeSub, subBeforeSuper}\n    for _, rgx := range regexes {\n        fmt.Println(rgx.MatchString(str), rgx.FindAllString(str, -1))\n    }\n}\n</code></pre>\n\n<p>This program outputs:</p>\n\n<pre><code>true [sg ne]\ntrue [s ge n]\n</code></pre>\n\n<hr>\n\n<p>And here is the same program in Ruby (problem for Ruby is also seen <a href=\"https://stackoverflow.com/questions/25819437\">here</a>):</p>\n\n<pre><code>str = \"sgene\"\nregexes = [/sg|ge|ne|n|s/, /n|s|sg|ge|ne/] \nregexes.each do |regex|\n  puts \"%s %s\" % [(regex === str).to_s, str.scan(regex).inspect]\nend\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code>true [\"sg\", \"ne\"]\ntrue [\"s\", \"ge\", \"n\"]\n</code></pre>\n\n<hr>\n\n<p>The regex engines are aware that the string can be matched by the regex, but <code>FindAllString</code> and <code>scan</code> do not match it the way the boolean match does. They seem to use a greedy longest match search that ignores at least one e. How can I use regex to split the string into <code>[s ge ne]</code> in either language?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "cron", "email", "mail-gem"], "comments": [{"owner": {"reputation": 1579, "user_id": 2251689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KFFuV.jpg?s=128&g=1", "display_name": "atefth", "link": "https://stackoverflow.com/users/2251689/atefth"}, "edited": false, "score": 0, "creation_date": 1461730287, "post_id": 36879885, "comment_id": 61325966, "body": "I&#39;ve run into the same issue, please share a solution if you can find one!"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1461733531, "post_id": 36879885, "comment_id": 61327004, "body": "If you&#39;re using Gmail, the <a href=\"https://github.com/gmailgem/gmail\" rel=\"nofollow noreferrer\">Ruby Gmail gem</a> is actually quite pleasant to use. If you&#39;re stuck using Mail, at least use IMAP, that protocol is way more efficient."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5412340"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1461748249, "post_id": 36879885, "comment_id": 61335251, "body": "@tadman, Thanks for you reply. Unfortunately I am not using gmail. May be in my case, I&#39;ll have to use Net::POP3 or Net::IMAP, with the Mail. Mainly Mail only support singleton retrieve method. Mail will not serve my purpose."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5412340"}, "is_accepted": true, "score": 1, "last_activity_date": 1461748522, "creation_date": 1461748522, "answer_id": 36885387, "question_id": 36879885, "link": "https://stackoverflow.com/questions/36879885/how-to-retrieve-emails-from-multiple-emails-addresses-using-pop3-of-gem-mail-in/36885387#36885387", "title": "How to retrieve emails from multiple emails addresses using pop3 of gem mail in Rails?", "body": "<p>Mail retrieve_method is singleton. so I am using Net::IMAP directly with the Mail to retrieve the attachment. One can use Net::Pop3 with Mail as well to resolve this issue. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5412340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 1, "accepted_answer_id": 36885387, "answer_count": 1, "score": 0, "last_activity_date": 1461748522, "creation_date": 1461728685, "question_id": 36879885, "link": "https://stackoverflow.com/questions/36879885/how-to-retrieve-emails-from-multiple-emails-addresses-using-pop3-of-gem-mail-in", "title": "How to retrieve emails from multiple emails addresses using pop3 of gem mail in Rails?", "body": "<p>in my project I will have to write different cron jobs to read emails from different email addresses to do different tasks. I am using mail gem but the problem is, retriever_method is singleton. So when I'll mention the new email address and new password the previous settings of retriever_method will be changed. So, I am not able to retrieve the emails when cron jobs are running at the same time.</p>\n\n<p>Suppose, In my first cron job I have something like the following settings</p>\n\n<pre><code>Mail.defaults do\n  retriever_method :pop3, :address    =&gt; \"pop.gmail.com\",\n                      :port       =&gt; 995,\n                      :user_name  =&gt; '&lt;username1&gt;',\n                      :password   =&gt; '&lt;password1&gt;',\n                      :enable_ssl =&gt; true\nend\n</code></pre>\n\n<p>In my second cron job, If I use something like <br></p>\n\n<pre><code>:user_name =&gt; '&lt;username2&gt;',\n:password =&gt; '&lt;password1&gt;'\n</code></pre>\n\n<p>In that case both will be changed to username2</p>\n\n<p>is there any workaround. \nOr any other suggestion to do this job. I don't want to IMAP for some other reason. </p>\n\n<p>Any suggestion will be appreciated.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "haml", "erb"], "answers": [{"tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": true, "score": 2, "last_activity_date": 1461728820, "creation_date": 1461728820, "answer_id": 36879901, "question_id": 36879868, "link": "https://stackoverflow.com/questions/36879868/how-did-my-submit-button-automatically-label-itself-as-create-user/36879901#36879901", "title": "How did my submit button automatically label itself as &quot;Create User&quot;", "body": "<p>For a create action, it's a Rails convention for the form submit button to have the form \"Create \". You an override this by adding a string after submit.</p>\n\n<p>For example:</p>\n\n<pre><code>f.submit \"Sign up\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7224, "user_id": 448934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXtux.jpg?s=128&g=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/448934/pascal"}, "is_accepted": false, "score": 1, "last_activity_date": 1461735320, "creation_date": 1461735320, "answer_id": 36881113, "question_id": 36879868, "link": "https://stackoverflow.com/questions/36879868/how-did-my-submit-button-automatically-label-itself-as-create-user/36881113#36881113", "title": "How did my submit button automatically label itself as &quot;Create User&quot;", "body": "<p>The label is generated by the form helpers <code>form_for</code>. It knows about your model (<code>@user</code>) and if it is a save or update action.</p>\n\n<p>See \n<a href=\"https://github.com/rails/rails/blob/9f44aa08636dfbba9261f4350ec14684425c4b7b/actionview/lib/action_view/helpers/form_helper.rb#L1814\" rel=\"nofollow\">https://github.com/rails/rails/blob/9f44aa08636dfbba9261f4350ec14684425c4b7b/actionview/lib/action_view/helpers/form_helper.rb#L1814</a>\nfor the submit helper and \n<a href=\"https://github.com/rails/rails/blob/9f44aa08636dfbba9261f4350ec14684425c4b7b/actionview/lib/action_view/helpers/form_helper.rb#L1873\" rel=\"nofollow\">https://github.com/rails/rails/blob/9f44aa08636dfbba9261f4350ec14684425c4b7b/actionview/lib/action_view/helpers/form_helper.rb#L1873</a>\nfor how the label is created.</p>\n\n<p>You can pass your own label:</p>\n\n<pre><code>f.submit \"DO THIS NOW\"\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 5890013, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Vd4YG.jpg?s=128&g=1", "display_name": "DustinRW", "link": "https://stackoverflow.com/users/5890013/dustinrw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36879901, "answer_count": 2, "score": 1, "last_activity_date": 1461735320, "creation_date": 1461728551, "question_id": 36879868, "link": "https://stackoverflow.com/questions/36879868/how-did-my-submit-button-automatically-label-itself-as-create-user", "title": "How did my submit button automatically label itself as &quot;Create User&quot;", "body": "<p>Maybe this has an easy explanation, but I am curious as to how my user <code>new.html.haml</code> submit button knows/knew to label it as \"Create User\" automatically within the application view?  Is this a rails convension because the action and/or route comes from UsersController and/or UserModel?</p>\n\n<p><strong>User new.html.haml</strong></p>\n\n<pre><code>%h1 Sign up\n= form_for @user do |f|\n  - if @user.errors.any?\n    .error_messages\n      %h2 Form is invalid\n      %ul\n        - for message in @user.errors.full_messages\n          %li= message\n  %p\n    = f.label :email\n    %br/\n    = f.text_field :email\n  %p\n    = f.label :password\n    %br/\n    = f.password_field :password\n  %p\n    = f.label :password_confirmation\n    %br/\n    = f.password_field :password_confirmation\n  %p.button= f.submit\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "routing"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461727637, "post_id": 36879669, "comment_id": 61325262, "body": "The issue with this is that it would cause the client to reload the page.  When the request comes back into the Rails routes, the first route would try to handle it again."}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461727782, "post_id": 36879669, "comment_id": 61325302, "body": "Right, you&#39;d have to use a different route name for the second action <code>get &#39;articles&#47;:id&#39; =&gt; &#39;articles#show&#39;</code>, but why is that an issue? It wouldn&#39;t cause an infinite redirect, it&#39;s not also not a page reload because the first action (<code>Page#show</code>) doesn&#39;t actually load the page, it just replies with a 301 redirect."}, {"owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461727901, "post_id": 36879669, "comment_id": 61325329, "body": "Hmmm...actually, I was wrong in my comment.  It wouldn&#39;t necessarily come back to the same place.  But, it wouldn&#39;t be the same url.  It would get sent back to the system as something like <a href=\"http://www.example.com/articles/about-this-site\" rel=\"nofollow noreferrer\">example.com/articles/about-this-site</a>"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461727993, "post_id": 36879669, "comment_id": 61325353, "body": "Right, but that&#39;s the point of a 301 redirect. SEO spiders will cache the page from the <code>example.com&#47;about-this-site</code>. The only other alternative is to merge the logic into a single action."}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 1, "creation_date": 1461728201, "post_id": 36879669, "comment_id": 61325404, "body": "I&#39;ve updated my answer for the case with no redirect."}, {"owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461728473, "post_id": 36879669, "comment_id": 61325462, "body": "I was kind of hoping there might be a way to respond to a routing exception and pass the request on to the next controller in line.  But, I have found no examples of this.  Ordinarily I would just stick to &#39;The Rails Way&#39; and keep my controllers simply named with &#39;/pages/*&#39; and &#39;/articles/*&#39;....but it seems like a not so difficult solution avoiding a 301 is nearby.  I really appreciate your time thinking about this for me."}, {"owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461728627, "post_id": 36879669, "comment_id": 61325515, "body": "ah!  I&#39;ll have to try that.  My last comment overlapped yours.  I&#39;ll take your revised answer into consideration and try it.  If it works, I&#39;ll give you credit.   Thanks"}, {"owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "edited": false, "score": 0, "creation_date": 1461752927, "post_id": 36879669, "comment_id": 61338624, "body": "I tried using the revised answer you provided Anthony.  It does work.  However, it changes the url in address bar.  I suppose if this is the only place it gets changed, then this wouldn&#39;t be so bad. It&#39;s just something I will have to deal with, i guess."}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1461728131, "last_edit_date": 1461728131, "creation_date": 1461727273, "answer_id": 36879669, "question_id": 36879518, "link": "https://stackoverflow.com/questions/36879518/rails-routing-how-to-have-controllers-in-series-to-respond-to-same-matching-pat/36879669#36879669", "title": "Rails Routing: How to have controllers in series to respond to same matching path", "body": "<p>How about redirecting to the second controller from your first controller?</p>\n\n<p><strong>in PagesController</strong></p>\n\n<pre><code>def show\n  unless Page.find_by(id: params[:id])\n    redirect_to controller: :articles, action: :show, id: params[:id]\n  end\nend\n</code></pre>\n\n<p><strong>in ArticlesController</strong></p>\n\n<pre><code>  def show\n    # Handle whatever logic here...\n  end\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you really don't want to redirect then you can consolidate the logic into a single action:</p>\n\n<pre><code>def show\n  if Page.find_by(id: params[:id])\n    render :show\n  elsif Article.find_by(id: params[:id])\n    render controller: :articles, action: :show\n  else\n    # Handle missing case, perhaps a 404?\n  end\nend\n</code></pre>\n\n<p>However, I'd recommend using a redirect if possible. It's a cleaner solution and keeps your controller code isolated.</p>\n"}], "owner": {"reputation": 43, "user_id": 2281135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69157efa51dd8b293d86028eb63de245?s=128&d=identicon&r=PG", "display_name": "user2281135", "link": "https://stackoverflow.com/users/2281135/user2281135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461728131, "creation_date": 1461726311, "question_id": 36879518, "link": "https://stackoverflow.com/questions/36879518/rails-routing-how-to-have-controllers-in-series-to-respond-to-same-matching-pat", "title": "Rails Routing: How to have controllers in series to respond to same matching path", "body": "<p>In my Rails routes.rb file I'm wanting to do something like the following.</p>\n\n<pre><code>  get '/:id' =&gt; 'pages#show'\n  get '/:id' =&gt; 'articles#show'\n</code></pre>\n\n<p>So that if a visitor types in </p>\n\n<pre><code>http://www.example.com/about-this-site\n</code></pre>\n\n<p>The pages controller in the above example would get first shot at handling it.  Then if not, the next controller in line would get a shot.</p>\n\n<p>REASONs for wanting to do this:</p>\n\n<p>1) I'm trying to port my Wordpress site over without establishing new urls for all my pages and blog posts. As it stands, all of my blog post files and pages are accessed directly off the root uri '/' folder.</p>\n\n<p>2) Because I'm not able to, it's a learning thing for me.  But, I want to do it without a hack.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "facebook", "facebook-graph-api", "oauth"], "answers": [{"comments": [{"owner": {"reputation": 2278, "user_id": 2244501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/231d8805a81cf94c09ff60cdba6e4029?s=128&d=identicon&r=PG", "display_name": "retgoat", "link": "https://stackoverflow.com/users/2244501/retgoat"}, "edited": false, "score": 0, "creation_date": 1461726772, "post_id": 36879550, "comment_id": 61325046, "body": "@Stephen, please mark my answer as right if it was useful. Many thanks!"}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "edited": false, "score": 0, "creation_date": 1461728398, "post_id": 36879550, "comment_id": 61325442, "body": "Hi, thanks for your answer. Can you explain the logic, for example, how to get Facebook username to display in the <code>index.html</code> page. thanks"}, {"owner": {"reputation": 2278, "user_id": 2244501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/231d8805a81cf94c09ff60cdba6e4029?s=128&d=identicon&r=PG", "display_name": "retgoat", "link": "https://stackoverflow.com/users/2244501/retgoat"}, "reply_to_user": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "edited": false, "score": 0, "creation_date": 1461734366, "post_id": 36879550, "comment_id": 61327302, "body": "Sure, I created a gist with example <a href=\"https://gist.github.com/retgoat/93a83f3ed620b9f99242cb34c70165e2\" rel=\"nofollow noreferrer\">gist.github.com/retgoat/93a83f3ed620b9f99242cb34c70165e2</a>"}, {"owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "edited": false, "score": 0, "creation_date": 1461737239, "post_id": 36879550, "comment_id": 61328545, "body": "Thanks for your example, actually my question focus on how to get the <code>codes and auth_tokens</code>. Currently I understand that the <code>url_for_oauth_code</code> need to be click and open on browser by user. I am working on the <code>api</code> project, so that&#39;s why I don&#39;t understand this step, because no view exist. Haha, I know the basic rails implement you wrote for the <code>controller</code> and <code>view</code> stuff."}, {"owner": {"reputation": 2278, "user_id": 2244501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/231d8805a81cf94c09ff60cdba6e4029?s=128&d=identicon&r=PG", "display_name": "retgoat", "link": "https://stackoverflow.com/users/2244501/retgoat"}, "reply_to_user": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "edited": false, "score": 0, "creation_date": 1461750671, "post_id": 36879550, "comment_id": 61336977, "body": "Ah, sorry for that :) Just misunderstood your comment. Actually, you should redirect users even if you have an API project. In that case you should return a redirect url and a fron end part should change window.location to it.  Please have a look on gist I provided before. I updated it."}, {"owner": {"reputation": 2278, "user_id": 2244501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/231d8805a81cf94c09ff60cdba6e4029?s=128&d=identicon&r=PG", "display_name": "retgoat", "link": "https://stackoverflow.com/users/2244501/retgoat"}, "reply_to_user": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "edited": false, "score": 0, "creation_date": 1461750956, "post_id": 36879550, "comment_id": 61337201, "body": "Please note that just an exampe and it completely untested."}], "tags": [], "owner": {"reputation": 2278, "user_id": 2244501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/231d8805a81cf94c09ff60cdba6e4029?s=128&d=identicon&r=PG", "display_name": "retgoat", "link": "https://stackoverflow.com/users/2244501/retgoat"}, "is_accepted": true, "score": 2, "last_activity_date": 1461726517, "creation_date": 1461726517, "answer_id": 36879550, "question_id": 36879098, "link": "https://stackoverflow.com/questions/36879098/what-is-facebook-callback-url-and-how-to-use-it-in-rails/36879550#36879550", "title": "What is Facebook callback_url and how to use it in rails?", "body": "<p>Yes, you should.\nBasically, OAuth uses callback data to provide tokens for authenticating users.</p>\n\n<p>For example</p>\n\n<ul>\n<li>user clicks on \"sign in\" (or whatever) link and your app redirects they to the OAuth provider (or open it in the iframe).</li>\n<li>user permits to your app to use they profile details</li>\n<li>OAuth provider send callback to your app with unique code</li>\n<li>app uses that code to get secure access token for API communications</li>\n</ul>\n\n<p>That's just a basic example.</p>\n\n<p>In your case you need to implement controller that will parse callback data.</p>\n\n<p>Here is the code example</p>\n\n<pre><code>@oauth = Koala::Facebook::OAuth.new(api_key, app_secret, callback_url)\n=&gt; #&lt;Koala::Facebook::OAuth:0x007fc919d014e0 @app_id=1234567890, @app_secret=\"FaKeAppSecretKey\", @oauth_callback_url=\"http://localhost:3000/callback\"&gt;\n\n@oauth.url_for_oauth_code\n=&gt; \"https://www.facebook.com/dialog/oauth?client_id=893637180663238&amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback\"\n</code></pre>\n\n<p>And when you go to <code>https://www.facebook.com/dialog/oauth?client_id=893637180663238&amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fcallback</code> FB will redirect you to</p>\n\n<pre><code>http://localhost:3000/callback?code=CODE_FROM_CALLBACK\n</code></pre>\n\n<p>Then you should use implement controller that uses code to get access token</p>\n\n<pre><code>access_token = @oauth.get_access_token(params[:code])\n=&gt; \"ACCESS_TOKEN\"\n\n@graph = Koala::Facebook::API.new(access_token)\n =&gt; #&lt;Koala::Facebook::API:0x007fc91a903ae0  @access_token=\"ACCESS_TOKEN\", @app_secret=nil&gt;\n\nprofile = @graph.get_object(\"me\")\n=&gt; {\"id\"=&gt;\"4492344324865\", \"email\"=&gt;\"my_fake_email_address@gmail.com\", \"first_name\"=&gt;\"Roman\", \"gender\"=&gt;\"male\", \"last_name\"=&gt;\"Sotnikov\", \"link\"=&gt;\"https://www.facebook.com/app_scoped_user_id/4492344324865/\", \"locale\"=&gt;\"en_US\", \"name\"=&gt;\"Roman Sotnikov\", \"timezone\"=&gt;6, \"updated_time\"=&gt;\"2015-05-18T05:19:54+0000\", \"verified\"=&gt;true}\n</code></pre>\n\n<p>Please check <a href=\"https://github.com/arsduo/koala/wiki/OAuth\" rel=\"nofollow\">https://github.com/arsduo/koala/wiki/OAuth</a> for additional info.</p>\n"}, {"tags": [], "owner": {"reputation": 5403, "user_id": 3480449, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7XkqT.jpg?s=128&g=1", "display_name": "coderVishal", "link": "https://stackoverflow.com/users/3480449/codervishal"}, "is_accepted": false, "score": 1, "last_activity_date": 1461726578, "creation_date": 1461726578, "answer_id": 36879556, "question_id": 36879098, "link": "https://stackoverflow.com/questions/36879098/what-is-facebook-callback-url-and-how-to-use-it-in-rails/36879556#36879556", "title": "What is Facebook callback_url and how to use it in rails?", "body": "<p>Callback Url is yours applications url -- a GET route --  you want the third party application to redirect to, after its done its work.  </p>\n\n<p>So in your routes.rb file simply create a get route</p>\n\n<pre><code>get 'facebook_graph_callback', to: 'controller_name#action'\n#A get route which is connected to a controller action\n</code></pre>\n\n<p>Usually the third party will give you some sort of information back. Quite often its some sort of code. In your controller action you can use find them in <code>params</code> hash.</p>\n"}], "owner": {"reputation": 2852, "user_id": 5222028, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/62345e20906dbccbf7e18f11ab4bd047?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5222028/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 36879550, "answer_count": 2, "score": 0, "last_activity_date": 1461726578, "creation_date": 1461723236, "question_id": 36879098, "link": "https://stackoverflow.com/questions/36879098/what-is-facebook-callback-url-and-how-to-use-it-in-rails", "title": "What is Facebook callback_url and how to use it in rails?", "body": "<p>I am using the <code>Facebook Graph API</code> in my rails projects, no matter I use <code>oauth2</code> gem or <code>koala</code>, It need <code>callback_url</code></p>\n\n<p><strong>Oauth2</strong></p>\n\n<p><code>token = client.auth_code.get_token('code_value', :redirect_uri =&gt; 'http://localhost:8080/oauth/callback')\n</code></p>\n\n<p><strong>Koala</strong></p>\n\n<p><code>@oauth = Koala::Facebook::OAuth.new(app_id, app_secret, callback_url)</code></p>\n\n<p>I try to use <code>http://localhost:3000/callback</code> in my project, but it's not working.</p>\n\n<p>Should I develop a routes for that? </p>\n\n<p>like: <code>get 'callback' =&gt; 'oauth#callback'</code>?</p>\n\n<p>What should I write in the <code>callback</code> method in <code>OauthController</code>, what does it use for? Thanks</p>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 3092, "user_id": 3535931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/isOaa.jpg?s=128&g=1", "display_name": "p4sh4", "link": "https://stackoverflow.com/users/3535931/p4sh4"}, "is_accepted": false, "score": 1, "last_activity_date": 1461750428, "last_edit_date": 1461750428, "creation_date": 1461724216, "answer_id": 36879232, "question_id": 36878913, "link": "https://stackoverflow.com/questions/36878913/set-proc-as-default-method-argument/36879232#36879232", "title": "Set proc as default method argument", "body": "<p>The problem is scope. You are defining <code>find_work_node</code> as a local variable in the class body, and this way it is scoped to the class body and only accessible inside it, but not in any methods that you define.</p>\n\n<p>Note that simply changing it to an instance variable <code>@find_work_node</code> won't work because it will still be an instance variable on the class level, and although you won't get this error anymore, the <code>@find_work_node</code> variable in the method parameters will be nil. You need to initialize it in the class's <code>initialize</code> method:</p>\n\n<pre><code>def BinarySearchTree\n    def initialize\n        @find_work_node = ...\n    end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461824290, "post_id": 36879289, "comment_id": 61376666, "body": "Since the value of class_var will not change, I recommend using a constant instead.  In general, using a construct that is more constrained is better because it communicates more precisely the intent and use."}, {"owner": {"reputation": 7704, "user_id": 123376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5049aa7844832b36a590dd51838114c4?s=128&d=identicon&r=PG", "display_name": "Rado", "link": "https://stackoverflow.com/users/123376/rado"}, "reply_to_user": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461841792, "post_id": 36879289, "comment_id": 61387808, "body": "@KeithBennett I agree, but it really depends on the use case. It is not clear from the Question whether there is an intent for mutability or not for the default parameter. It could be argued that since a variable was used in the first place and because this is a parameter, which in itself, is variable, then it may make sense to also allow for mutation of the default value as well. But I can also see the other side of the argument as well. The original problem, however, is scope, and not a question of mutability so any answer that addresses the scope issue is valid IMO"}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461841888, "post_id": 36879289, "comment_id": 61387867, "body": "Agreed.  I never intended to mean that your answer was incorrect."}], "tags": [], "owner": {"reputation": 7704, "user_id": 123376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5049aa7844832b36a590dd51838114c4?s=128&d=identicon&r=PG", "display_name": "Rado", "link": "https://stackoverflow.com/users/123376/rado"}, "is_accepted": true, "score": 4, "last_activity_date": 1461724961, "last_edit_date": 1461724961, "creation_date": 1461724622, "answer_id": 36879289, "question_id": 36878913, "link": "https://stackoverflow.com/questions/36878913/set-proc-as-default-method-argument/36879289#36879289", "title": "Set proc as default method argument", "body": "<p>The delete method is an instance method so the default value should be a variable that can be accessed from the scope of an instance method. Either use a class variable <code>@@var</code> or an instance variable <code>@var</code></p>\n\n<p>Example:</p>\n\n<pre><code>class A\n  @@class_var = Proc.new{|v| puts v}\n\n  def initialize \n    @instance_var = Proc.new{|v| puts v}\n  end\n\n  def m1 a=@@class_var\n    a.call \"foo\"\n  end\n\n  def m2 a=@instance_var\n    a.call \"bar\"\n  end\n\nend\na = A.new\na.m1\n# foo\na.m2\n# bar\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "is_accepted": false, "score": 1, "last_activity_date": 1461727074, "creation_date": 1461727074, "answer_id": 36879634, "question_id": 36878913, "link": "https://stackoverflow.com/questions/36878913/set-proc-as-default-method-argument/36879634#36879634", "title": "Set proc as default method argument", "body": "<p>You can make <code>find_work_node</code> a class constant by defining it in all caps, then it will be accessible inside the instance method. Note in the irb session that output_bar is not accessible in an instance method, but OUTPUT_FOO is:</p>\n\n<pre><code>2.3.0 :001 &gt; output_bar = -&gt; { puts \"I am bar.\" }; def bar; output_bar.(); end; bar\nNameError: undefined local variable or method `output_bar' for main:Object\n    from (irb):1:in `bar'\n    from (irb):1\n    from /Users/kbennett/.rvm/rubies/ruby-2.3.0/bin/irb:11:in `&lt;main&gt;'\n2.3.0 :002 &gt; OUTPUT_FOO = -&gt; { puts \"I am foo.\" }; def foo; OUTPUT_FOO.(); end; foo\nI am foo.\n =&gt; nil\n</code></pre>\n\n<p>Note too that although the example uses lambdas, it doesn't matter what the data type contained by the variable is.</p>\n\n<p>It would also work to define a method that returns a Proc.</p>\n"}], "owner": {"reputation": 622, "user_id": 5261664, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/87375db07c5bd508669792fc54ba23ad?s=128&d=identicon&r=PG&f=1", "display_name": "rwehresmann", "link": "https://stackoverflow.com/users/5261664/rwehresmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 36879289, "answer_count": 3, "score": 2, "last_activity_date": 1461750428, "creation_date": 1461721936, "last_edit_date": 1461722301, "question_id": 36878913, "link": "https://stackoverflow.com/questions/36878913/set-proc-as-default-method-argument", "title": "Set proc as default method argument", "body": "<p>I've been looking at similar questions, but couldn't find a solution to this case:</p>\n\n<p>I have this class:</p>\n\n<pre><code>class BinarySearchTree\n\n....\n\n  find_work_node = Proc.new do |value, node, method|\n    return if node.nil?\n    if value == node.value\n      node = self.send(method node)\n    elsif value &lt; node.value\n      node.left = find_work_node.call(value, node.left, method)\n    elsif\n      node.right = find_work_node.call(value, node.right, method)\n    end\n    node\n  end\n\n  # Delete a specific value from the tree\n  def delete(value, node = @root, block = find_work_node)\n    block.call(value, node, :delete_node)\n  end\n\n....\n\nend\n</code></pre>\n\n<p>When I try to call my <code>delete</code> method, this error appears:</p>\n\n<pre><code>undefined local variable or method `find_work_node' for #&lt;BinarySearchTree:0x00000001018708&gt; (NameError)\n</code></pre>\n\n<p>How can I set as default argument the proc <code>find_work_node</code> in the <code>delete</code> method?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "environment", "osx-yosemite"], "comments": [{"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461720926, "post_id": 36878707, "comment_id": 61323537, "body": "You have OSX build tools installed?"}, {"owner": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1461721164, "post_id": 36878707, "comment_id": 61323611, "body": "Are you uninstalling rbenv when attempting to use rvm and vice versa? If not, you should, because those tools are mutually incompatible."}, {"owner": {"reputation": 37, "user_id": 3791391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827b08dda0527b7332e1b69689e41b4b?s=128&d=identicon&r=PG", "display_name": "lucasbittar", "link": "https://stackoverflow.com/users/3791391/lucasbittar"}, "reply_to_user": {"reputation": 9572, "user_id": 2305826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xRwWw.png?s=128&g=1", "display_name": "MarsAtomic", "link": "https://stackoverflow.com/users/2305826/marsatomic"}, "edited": false, "score": 0, "creation_date": 1461725928, "post_id": 36878707, "comment_id": 61324868, "body": "@MarsAtomic Yeah, I only had rbenv before I decided to go with rvm. Now I have both and the rvm works fine. I was wondering why the rbenv didn&#39;t work at all. Thanks for your comment."}, {"owner": {"reputation": 37, "user_id": 3791391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827b08dda0527b7332e1b69689e41b4b?s=128&d=identicon&r=PG", "display_name": "lucasbittar", "link": "https://stackoverflow.com/users/3791391/lucasbittar"}, "reply_to_user": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461726053, "post_id": 36878707, "comment_id": 61324900, "body": "@AnthonyE yes I do. It was installed when I installed Homebrew."}], "answers": [{"tags": [], "owner": {"reputation": 1217, "user_id": 5511520, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baaabef4e4f62eee165869427acd0472?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Belyakov", "link": "https://stackoverflow.com/users/5511520/mike-belyakov"}, "is_accepted": true, "score": 0, "last_activity_date": 1461724093, "creation_date": 1461724093, "answer_id": 36879213, "question_id": 36878707, "link": "https://stackoverflow.com/questions/36878707/error-installing-ruby-2-3-0-on-yosemite-via-rbenv/36879213#36879213", "title": "Error installing Ruby 2.3.0 on Yosemite via rbenv", "body": "<p>your system has too strict security policy, so add <code>sudo</code> for the rbenv to give the ability to add executions. So you will like something like:</p>\n\n<pre><code>sudo rbenv install 2.3.0\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 3791391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827b08dda0527b7332e1b69689e41b4b?s=128&d=identicon&r=PG", "display_name": "lucasbittar", "link": "https://stackoverflow.com/users/3791391/lucasbittar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 36879213, "answer_count": 1, "score": 1, "last_activity_date": 1461724093, "creation_date": 1461720401, "last_edit_date": 1461723868, "question_id": 36878707, "link": "https://stackoverflow.com/questions/36878707/error-installing-ruby-2-3-0-on-yosemite-via-rbenv", "title": "Error installing Ruby 2.3.0 on Yosemite via rbenv", "body": "<p>For some reason I can't get ruby 2.3.0 installed via RBENV. I got it to work with RVM though. Let me know if I need to provide further information.</p>\n\n<p>Here's the error I get:</p>\n\n<pre><code>Downloading ruby-2.3.0.tar.bz2...\n-&gt; https://cache.ruby-lang.org/pub/ruby/2.3/ruby-2.3.0.tar.bz2\nInstalling ruby-2.3.0...\n\nBUILD FAILED (OS X 10.10.5 using ruby-build 20160426)\n\nInspect or clean up the working tree at /tmp/ruby-build.20160426211028.6622\nResults logged to /tmp/ruby-build.20160426211028.6622.log\n\nLast 10 log lines:\nconfig.guess already exists\nconfig.sub already exists\nchecking build system type... x86_64-apple-darwin14.5.0\nchecking host system type... x86_64-apple-darwin14.5.0\nchecking target system type... x86_64-apple-darwin14.5.0\nchecking whether the C compiler works... no\nconfigure: error: in `/tmp/ruby-build.20160426211028.6622/ruby-2.3.0':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details\nmake: *** No targets specified and no makefile found.  Stop.\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "windows", "nokogiri"], "comments": [{"owner": {"reputation": 8800, "user_id": 14533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8b289d40d80dc4f1a994f735a152f65?s=128&d=identicon&r=PG", "display_name": "Gustavo Rubio", "link": "https://stackoverflow.com/users/14533/gustavo-rubio"}, "edited": false, "score": 0, "creation_date": 1461720469, "post_id": 36878523, "comment_id": 61323432, "body": "The message means that bundler could not build the native extension of nokogiri, what that means is that source code (usually in C/C++) that is necessary for the gem to work could not be compiled. nokogiri probably failed installing when bundler tried to look for <code>libxml2</code> or some other library. How did you installed rails?"}, {"owner": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "reply_to_user": {"reputation": 8800, "user_id": 14533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8b289d40d80dc4f1a994f735a152f65?s=128&d=identicon&r=PG", "display_name": "Gustavo Rubio", "link": "https://stackoverflow.com/users/14533/gustavo-rubio"}, "edited": false, "score": 0, "creation_date": 1461720769, "post_id": 36878523, "comment_id": 61323497, "body": "I installed rails from rubyinstaller, I&#39;m following &quot;Ruby on Rails 4 Essential Training&quot; on lynda.com. I&#39;m not sure if this is relevant at all, but I am trying to set this up with MySQL."}, {"owner": {"reputation": 8800, "user_id": 14533, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8b289d40d80dc4f1a994f735a152f65?s=128&d=identicon&r=PG", "display_name": "Gustavo Rubio", "link": "https://stackoverflow.com/users/14533/gustavo-rubio"}, "edited": false, "score": 0, "creation_date": 1461720994, "post_id": 36878523, "comment_id": 61323557, "body": "I&#39;m sure this is not what you are looking for right now but, have you considered installing linux on a virtual machine and do your tutorials there? You really really going to have a hard time with these kind of issues on windows for sure, particularly, with ruby development."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "edited": false, "score": 0, "creation_date": 1461720058, "post_id": 36878603, "comment_id": 61323328, "body": "Okay I&#39;ve got it downloaded but where do I put it? I&#39;m new to rails completely so this really confusing for me"}, {"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "reply_to_user": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "edited": false, "score": 0, "creation_date": 1461720238, "post_id": 36878603, "comment_id": 61323375, "body": "Navigate to the same folder where you saved the <code>.gem</code> file and run <code>gem install nokogiri</code> or <code>gem install --local path_to_gem&#47;filename.gem</code>"}, {"owner": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "edited": false, "score": 0, "creation_date": 1461720571, "post_id": 36878603, "comment_id": 61323451, "body": "Gem::InstallError: nokogiri requires Ruby version &lt; 2.3, &gt;= 1.9.2. Using rack-test 0.6.3 Using mime-types 3.0 Using binding_of_caller 0.7.2 Using coffee-script 2.4.1 Using uglifier 3.0.0 Using sprockets 3.6.0 Using sdoc 0.4.1 Using activesupport 4.2.6 Using tzinfo-data 1.2016.4 An error occurred while installing nokogiri (1.6.7.2), and Bundler cannot continue. Make sure that <code>gem install nokogiri -v &#39;1.6.7.2&#39;</code> succeeds before bundling.  Okay so the nokogiri installer you helped me with did install but I still can&#39;t get passed this which is the ultimate issue at hand."}], "tags": [], "owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1461719575, "creation_date": 1461719575, "answer_id": 36878603, "question_id": 36878523, "link": "https://stackoverflow.com/questions/36878523/make-sure-that-gem-install-nokogiri-1-6-7-2-succeeds-before-bundling-what/36878603#36878603", "title": "Make sure that &#39;gem install nokogiri &#39;1.6.7.2&#39; &#39; succeeds before bundling. What is going wrong?", "body": "<p>You probably need the Windows-specific build of Nokogiri:</p>\n\n<p><a href=\"http://www.nokogiri.org/tutorials/installing_nokogiri.html#windows\" rel=\"nofollow\">http://www.nokogiri.org/tutorials/installing_nokogiri.html#windows</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "is_accepted": false, "score": 0, "last_activity_date": 1461728686, "creation_date": 1461728686, "answer_id": 36879886, "question_id": 36878523, "link": "https://stackoverflow.com/questions/36878523/make-sure-that-gem-install-nokogiri-1-6-7-2-succeeds-before-bundling-what/36879886#36879886", "title": "Make sure that &#39;gem install nokogiri &#39;1.6.7.2&#39; &#39; succeeds before bundling. What is going wrong?", "body": "<p>I found the solution to my problem posted from anon on another website. </p>\n\n<p>A quick workaround is the following (ruby 2.3 win64):</p>\n\n<pre><code>gem install nokogiri -v '1.6.6.4'\ngem install rails \ngem install nokogiri -v '1.6.8.rc3'\n</code></pre>\n\n<p>After that explictly include </p>\n\n<pre><code>gem 'nokogiri', '&gt;=1.6.8.rc3'\n</code></pre>\n\n<p>in gemfile</p>\n\n<p><code>gem update</code> works without error\n<code>bundle install</code> and <code>bundle update</code> works too</p>\n"}], "owner": {"reputation": 11, "user_id": 6243135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVsYW.jpg?s=128&g=1", "display_name": "Brad Wice", "link": "https://stackoverflow.com/users/6243135/brad-wice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1222, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461728686, "creation_date": 1461719092, "question_id": 36878523, "link": "https://stackoverflow.com/questions/36878523/make-sure-that-gem-install-nokogiri-1-6-7-2-succeeds-before-bundling-what", "title": "Make sure that &#39;gem install nokogiri &#39;1.6.7.2&#39; &#39; succeeds before bundling. What is going wrong?", "body": "<p>I have created a new app file and when I <strong>'bundle install'</strong> I keep getting the message above. I also don't have a gemfile.lock file. </p>\n\n<ul>\n<li>Ruby is updated to version 2.3  </li>\n<li>I am running this on Windows 8</li>\n</ul>\n\n<p>I have tried  <code>gem install nokogiri '1.6.7.2'</code> as well as <code>gem install nokogiri '1.6.8.rc2'</code></p>\n\n<p>I don't understand what could be the problem, please help! :)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 10323, "user_id": 1220355, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb2525ec6155e479bdefe9ed6c437d07?s=128&d=identicon&r=PG", "display_name": "Anthony E", "link": "https://stackoverflow.com/users/1220355/anthony-e"}, "edited": false, "score": 0, "creation_date": 1461718719, "post_id": 36878405, "comment_id": 61323004, "body": "Can you elaborate? Under what conditions do you want to redirect a user to the registration route?"}], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 1103090, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/49abd075ec7640ab12660a8d97027364?s=128&d=identicon&r=PG", "display_name": "Edward", "link": "https://stackoverflow.com/users/1103090/edward"}, "edited": false, "score": 0, "creation_date": 1461769598, "post_id": 36878520, "comment_id": 61351694, "body": "This completely overwrites the authenticate_user method"}, {"owner": {"reputation": 425, "user_id": 4814945, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QEx3I.jpg?s=128&g=1", "display_name": "myself", "link": "https://stackoverflow.com/users/4814945/myself"}, "reply_to_user": {"reputation": 444, "user_id": 1103090, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/49abd075ec7640ab12660a8d97027364?s=128&d=identicon&r=PG", "display_name": "Edward", "link": "https://stackoverflow.com/users/1103090/edward"}, "edited": false, "score": 0, "creation_date": 1461770085, "post_id": 36878520, "comment_id": 61352059, "body": "It doesn&#39;t mess with the actual method though. That was the point. Essentially, it does the same thing without touching the devise file. That was my train of thought."}], "tags": [], "owner": {"reputation": 425, "user_id": 4814945, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QEx3I.jpg?s=128&g=1", "display_name": "myself", "link": "https://stackoverflow.com/users/4814945/myself"}, "is_accepted": false, "score": 0, "last_activity_date": 1461719064, "creation_date": 1461719064, "answer_id": 36878520, "question_id": 36878405, "link": "https://stackoverflow.com/questions/36878405/how-should-i-redirect-a-user-to-the-registration-route-instead-of-the-login-rout/36878520#36878520", "title": "How should I redirect a user to the registration route instead of the login route when using devise", "body": "<p>You shouldn't mess with the devise files unless you know what you're doing. You should use</p>\n\n<p><code>if current_user\n  something\nelse\n  link_to \"Join up\", new_user_registration_path</code></p>\n"}, {"tags": [], "owner": {"reputation": 1011, "user_id": 5282616, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb253109f60df40f46cb8d80621074ce?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh Rupani", "link": "https://stackoverflow.com/users/5282616/dharmesh-rupani"}, "is_accepted": false, "score": 0, "last_activity_date": 1461719826, "last_edit_date": 1461719826, "creation_date": 1461719452, "answer_id": 36878585, "question_id": 36878405, "link": "https://stackoverflow.com/questions/36878405/how-should-i-redirect-a-user-to-the-registration-route-instead-of-the-login-rout/36878585#36878585", "title": "How should I redirect a user to the registration route instead of the login route when using devise", "body": "<pre><code>    if user.activated? &amp;&amp; user.authenticated?(:activation, params[:id])\n      user.activate\n      log_in user\n      flash[:success] = \"Account activated!\"\n      redirect_to user\n    else\n      flash[:danger] = \"Invalid activation link\"\n      redirect_to root_url\n    end\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 1103090, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/49abd075ec7640ab12660a8d97027364?s=128&d=identicon&r=PG", "display_name": "Edward", "link": "https://stackoverflow.com/users/1103090/edward"}, "edited": false, "score": 0, "creation_date": 1461769241, "post_id": 36879851, "comment_id": 61351440, "body": "What if I want it global?"}, {"owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "reply_to_user": {"reputation": 444, "user_id": 1103090, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/49abd075ec7640ab12660a8d97027364?s=128&d=identicon&r=PG", "display_name": "Edward", "link": "https://stackoverflow.com/users/1103090/edward"}, "edited": false, "score": 0, "creation_date": 1461817212, "post_id": 36879851, "comment_id": 61374006, "body": "@Edward I have edited my answer to make it global check it."}], "tags": [], "owner": {"reputation": 2673, "user_id": 4172728, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FQpL7.jpg?s=128&g=1", "display_name": "Gokul", "link": "https://stackoverflow.com/users/4172728/gokul"}, "is_accepted": false, "score": 0, "last_activity_date": 1461817163, "last_edit_date": 1461817163, "creation_date": 1461728473, "answer_id": 36879851, "question_id": 36878405, "link": "https://stackoverflow.com/questions/36878405/how-should-i-redirect-a-user-to-the-registration-route-instead-of-the-login-rout/36879851#36879851", "title": "How should I redirect a user to the registration route instead of the login route when using devise", "body": "<p>You can do this easily as below:</p>\n\n<p>Add a method called <code>authenticate_user!</code> which overrides the default method  to redirect the user to registration path if user not signed in..</p>\n\n<p><strong>Application Controller:</strong></p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n\n  before_action :authenticate_user!, :unless =&gt; :devise_controller? # This prevent the infinite redirects.\n\n    protected\n    def authenticate_user!\n      if !current_user\n          redirect_to new_user_registration_path    \n      end\n    end\nend\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 1103090, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/49abd075ec7640ab12660a8d97027364?s=128&d=identicon&r=PG", "display_name": "Edward", "link": "https://stackoverflow.com/users/1103090/edward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1461817163, "creation_date": 1461718429, "question_id": 36878405, "link": "https://stackoverflow.com/questions/36878405/how-should-i-redirect-a-user-to-the-registration-route-instead-of-the-login-rout", "title": "How should I redirect a user to the registration route instead of the login route when using devise", "body": "<p>I have tried overwriting the authenticate_user method but it seems to result in an infinite loop</p>\n"}, {"tags": ["ruby", "methods", "include"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461715538, "post_id": 36877929, "comment_id": 61322170, "body": "Please read &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. We can&#39;t tell what <code>movies</code> contains but it looks like it&#39;s supposed to be a hash of arrays and you want to see if <code>title.to_sym</code> is in it. But that&#39;s just guessing because your code doesn&#39;t run nor does it demonstrate the problem."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 1, "creation_date": 1461715634, "post_id": 36877929, "comment_id": 61322195, "body": "The error means that you&#39;re trying to apply the <code>include?</code> method on a <code>Fixnum</code> (likely an integer). <code>movies[title.to_sym]</code> is evidently just a number and it doesn&#39;t accept the <code>include?</code> method."}, {"owner": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1461715642, "post_id": 36877929, "comment_id": 61322202, "body": "It looks like <b>movies[title.to_sym]</b> is a Fixnum, and a Fixnum has no method include?... But, as @theTinMan pointed above, your code does not help too much when it comes to know what is happening. Please, show more code."}, {"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1461716178, "post_id": 36877929, "comment_id": 61322349, "body": "I&#39;ve added the movies object  to my code now @theTinMan"}, {"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "reply_to_user": {"reputation": 3273, "user_id": 5021963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7Qsr.png?s=128&g=1", "display_name": "Ed de Almeida", "link": "https://stackoverflow.com/users/5021963/ed-de-almeida"}, "edited": false, "score": 1, "creation_date": 1461716210, "post_id": 36877929, "comment_id": 61322359, "body": "added code @EddeAlmeida"}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461727524, "post_id": 36877929, "comment_id": 61325235, "body": "Use of symbols for the titles is probably not a good idea.  When dealing with potentially large numbers of values, symbols are not a good choice because they are never removed from the Ruby runtime, whereas strings can be garbage collected when they fall out of scope."}, {"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "reply_to_user": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461789414, "post_id": 36877929, "comment_id": 61364938, "body": "@KeithBennett I&#39;m new to programming. Can you elaborate on this a little more? I get that you&#39;re saying something along the lines of symbols are always using memory, while strings don&#39;t but I&#39;m not clear when exactly its better to use strings vs symbols."}, {"owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "edited": false, "score": 0, "creation_date": 1461797133, "post_id": 36877929, "comment_id": 61368576, "body": "@Gwater17 It&#39;s a nontrivial issue and much has been written about it.  I suggest googling &quot;ruby symbols vs strings&quot;.  My point about memory was that in Ruby, when strings are no longer used, they may be removed from memory.  As I understand it, that is not true for symbols."}], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 5627421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17130baa4467215c2935ba43f0390a79?s=128&d=identicon&r=PG&f=1", "display_name": "mej71", "link": "https://stackoverflow.com/users/5627421/mej71"}, "is_accepted": true, "score": 2, "last_activity_date": 1461716316, "creation_date": 1461716316, "answer_id": 36878081, "question_id": 36877929, "link": "https://stackoverflow.com/questions/36877929/how-to-get-include-to-work-with-my-code/36878081#36878081", "title": "How to get include? to work with my code", "body": "<p>Since movies is a hash containing the movie titles as keys, with whatever numbers you've specified as values, that is why</p>\n\n<pre><code>movies[title.to_sym]\n</code></pre>\n\n<p>gives you the Fixnum 4, and Fixnum does not have an \"include?\" method.</p>\n\n<p>You mean to say</p>\n\n<pre><code>movies.include?(title.to_sym)\n</code></pre>\n\n<p>which will return true/false if your hash has that title as a key.</p>\n"}, {"comments": [{"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "edited": false, "score": 0, "creation_date": 1461716825, "post_id": 36878086, "comment_id": 61322519, "body": "Yeah I&#39;m trying to test if a title is a key in my hash. When I changed .include? to .key? I still got the same error message <code>include_method_test.rb:26:in </code>&lt;main&gt;&#39;: undefined method <code>key?&#39;</code> for 4:Fixnum (NoMethodError)  Any idea why?"}, {"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "edited": false, "score": 0, "creation_date": 1461717201, "post_id": 36878086, "comment_id": 61322607, "body": "Whoops, yeah I didn&#39;t!"}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 2, "last_activity_date": 1461716628, "last_edit_date": 1461716628, "creation_date": 1461716326, "answer_id": 36878086, "question_id": 36877929, "link": "https://stackoverflow.com/questions/36877929/how-to-get-include-to-work-with-my-code/36878086#36878086", "title": "How to get include? to work with my code", "body": "<p>Here's the problem:</p>\n\n<pre><code>movies = {\n  :\"Mean Girls\" =&gt; 4,\n  Avatar: 2,\n  :\"Spiderman 2\" =&gt; 3,\n  Shrek: 4\n}\n\nmovies['Avatar'.to_sym]  # =&gt; 2\nmovies['Avatar'.to_sym].include?('Avatar'.to_sym)  # =&gt; \n\n# ~&gt; NoMethodError\n# ~&gt; undefined method `include?' for 2:Fixnum\n</code></pre>\n\n<p>If you want to see if a particular title is a key in your hash you can do it like this:</p>\n\n<pre><code>title = 'Avatar'\nmovies.key?(title.to_sym) # =&gt; true\n\ntitle = 'Blade Runner'\nmovies.key?(title.to_sym) # =&gt; false\n</code></pre>\n\n<p>Knowing that you can a sensible conditional test using something like:</p>\n\n<pre><code>if movies.key?(title.to_sym)\n</code></pre>\n\n<p>If you're always going to have integers for the values, and never <code>false</code> or <code>nil</code>, then you could shorten it to:</p>\n\n<pre><code>if movies[title.to_sym]\n</code></pre>\n"}], "owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 36878081, "answer_count": 2, "score": 0, "last_activity_date": 1461719283, "creation_date": 1461715265, "last_edit_date": 1461716409, "question_id": 36877929, "link": "https://stackoverflow.com/questions/36877929/how-to-get-include-to-work-with-my-code", "title": "How to get include? to work with my code", "body": "<p>I'm trying to update a movie list called <code>movies</code>. I want to use <code>include?</code> to figure out whether a program is trying to update a movie already on the list or if the movie is not currently included in <code>movies</code>.</p>\n\n<p>Here's the object movies</p>\n\n<pre><code>movies = {\n:\"Mean Girls\" =&gt; 4,\nAvatar: 2,\n:\"Spiderman 2\" =&gt; 3,\nShrek: 4\n}\n</code></pre>\n\n<p>The update is under a case statement. </p>\n\n<pre><code>  when \"update\"\n  puts \"Type in the movie you'd like to update\"\n  title = gets.chomp\n  if movies[title.to_sym].include?(title.to_sym)\n    puts \"Type in a new rating of 1-4 for that movie\"\n    rating = gets.chomp\n    movies[title.to_sym] = rating.to_i\n  else\n    puts \"That movie is not currently in our movie list\"\n  end\n</code></pre>\n\n<p>When I type in the title of the movie I want to update I get the error message:</p>\n\n<pre><code>undefined method `include?' for 4:Fixnum\n</code></pre>\n\n<p>What does that mean? Is it not possible to use the <code>include?</code> method here? </p>\n\n<p>I also tried removing <code>title.to_sym</code> after <code>include?</code> but that didn't work either. </p>\n\n<p>Here's all my code </p>\n\n<pre><code>    movies = {\n    :\"Mean Girls\" =&gt; 4,\n    Avatar: 2,\n    :\"Spiderman 2\" =&gt; 3,\n    Shrek: 4\n}\n\nputs \"Do you want to add a movie, update a movie ranking, display all movies and rankings or delete a movie?\"\nchoice = gets.chomp\n\ncase choice\n\nwhen \"add\"\n    puts \"Type in the movie you'd like to add\"\n    title = gets.chomp.to_sym\n    if movies[title].nil?\n        puts \"Type in a rating of 1-4 for that movie\"\n        rating = gets.chomp.to_i\n        movies[title] = rating\n    else\n        puts \"That movie is already in our list. Run the program and select update to change its rating\"\n    end\nwhen \"update\"\n    puts \"Type in the movie you'd like to update\"\n    title = gets.chomp\n    if movies[title.to_sym].include?(title.to_sym)\n        puts \"Type in a new rating of 1-4 for that movie\"\n        rating = gets.chomp\n        movies[title.to_sym] = rating.to_i\n    else\n        puts \"That movie is not currently in our movie list\"\n    end\nwhen \"display\" \n    puts \"Movies!\"\nwhen \"delete\"\n    puts \"Deleted!\"\nelse\n    puts \"Error!\"\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "google-app-engine"], "comments": [{"owner": {"reputation": 3386, "user_id": 1668204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bc95f5cf4f7a5da0f8c3d9bd745ab45?s=128&d=identicon&r=PG", "display_name": "tx802", "link": "https://stackoverflow.com/users/1668204/tx802"}, "edited": false, "score": 0, "creation_date": 1461842158, "post_id": 36877926, "comment_id": 61388063, "body": "Any clues in the build logs?"}, {"owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "reply_to_user": {"reputation": 3386, "user_id": 1668204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bc95f5cf4f7a5da0f8c3d9bd745ab45?s=128&d=identicon&r=PG", "display_name": "tx802", "link": "https://stackoverflow.com/users/1668204/tx802"}, "edited": false, "score": 0, "creation_date": 1461842567, "post_id": 36877926, "comment_id": 61388351, "body": "could not get access to them. i have created a new rails project, attached an app.yaml and it worked. not sure why the google tutorials fail."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 6269844, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/53caaf1c199902a95e35923924e5949c?s=128&d=identicon&r=PG", "display_name": "maeda", "link": "https://stackoverflow.com/users/6269844/maeda"}, "is_accepted": false, "score": 0, "last_activity_date": 1461906944, "creation_date": 1461906944, "answer_id": 36930067, "question_id": 36877926, "link": "https://stackoverflow.com/questions/36877926/error-gcloud-preview-app-deploy-error-response-2-build-failed/36930067#36930067", "title": "ERROR: (gcloud.preview.app.deploy) Error Response: [2] Build failed;", "body": "<p>I had faced on same problem with yours,and fixed it.</p>\n\n<p>In my case, there were two points to fix.</p>\n\n<ol>\n<li>Dockerfile has been disappeared.( Are there Dockerfile in your sample downloaded?)</li>\n<li>In the Dockerfile there are strange indentions.(Maybe this causes of differences of ruby-version.)</li>\n</ol>\n\n<p>By fixing these two points, it has worked.</p>\n\n<p>I will write this procedure in details.</p>\n"}, {"comments": [{"owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "edited": false, "score": 0, "creation_date": 1461932218, "post_id": 36930761, "comment_id": 61435346, "body": "hey thank you, unfortunately i do not have the time to test this now, i created a new rails app, added the app.yaml file and it autogenerated a dockerfile on deploying. it seems to have worked but i will check your lengthy answer if i find time with fiddling with the examples again. appreciate it."}], "tags": [], "owner": {"reputation": 46, "user_id": 6269844, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/53caaf1c199902a95e35923924e5949c?s=128&d=identicon&r=PG", "display_name": "maeda", "link": "https://stackoverflow.com/users/6269844/maeda"}, "is_accepted": true, "score": 3, "last_activity_date": 1461923222, "last_edit_date": 1461923222, "creation_date": 1461910187, "answer_id": 36930761, "question_id": 36877926, "link": "https://stackoverflow.com/questions/36877926/error-gcloud-preview-app-deploy-error-response-2-build-failed/36930761#36930761", "title": "ERROR: (gcloud.preview.app.deploy) Error Response: [2] Build failed;", "body": "<ol>\n<li><p>To fix first one( if there is no dockerfile in your application,which should be generated automatically.)</p>\n\n<p>Go to your ruby sample file which you failed to deploy. (Mine was \"2-cloud-sql\" like below)</p>\n\n<p>$ cd 2-cloud-sql</p></li>\n</ol>\n\n<p>And I executed next command.</p>\n\n<pre><code>$ gcloud preview app gen-config --custom\n</code></pre>\n\n<p>If you have questioned \"update now?\" answer y(yes).\nThen \"app.yaml\" file becomes custom but original is kept as written , and \"dockerfile\" is made.</p>\n\n<p>Next I was asked to update some Cloud SDK components, so write command below.</p>\n\n<pre><code>$ gcloud components update\n</code></pre>\n\n<p>And I did below</p>\n\n<pre><code>$ bundle install\n</code></pre>\n\n<ol start=\"2\">\n<li>There should be already \"Dockerfile\" in your sample app.\nOpen and see.</li>\n</ol>\n\n<p>In my case these 3 places(in yellow square) were indented and went to next line unnaturally .~But in another google tutorial, there are no such a strange line ,so I did not need change \"dockerfile\" in that case.Please see dockerfile and check whether there are places to change like mine below.~</p>\n\n<p><a href=\"http://i.stack.imgur.com/FdaJr.png\" rel=\"nofollow\">Go and check a picture</a></p>\n\n<p>So I fixed these strange parts like this.</p>\n\n<p><a href=\"http://i.stack.imgur.com/LvdMc.png\" rel=\"nofollow\">Here is a picture</a></p>\n\n<p>Before \"if\" there was a strange change of line and also before \"&amp;&amp; \\\".</p>\n\n<p>After fixed and saved Dockerfile </p>\n\n<p>I executed these commands like google instruction.</p>\n\n<pre><code>$ RAILS_ENV=production rake assets:precompile\n\n\n$ gcloud preview app deploy\n</code></pre>\n\n<p>This is all I did, I hope it could be some help for you.</p>\n"}], "owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2232, "favorite_count": 0, "accepted_answer_id": 36930761, "answer_count": 2, "score": 1, "last_activity_date": 1461923222, "creation_date": 1461715246, "question_id": 36877926, "link": "https://stackoverflow.com/questions/36877926/error-gcloud-preview-app-deploy-error-response-2-build-failed", "title": "ERROR: (gcloud.preview.app.deploy) Error Response: [2] Build failed;", "body": "<p>I am running google app engine - ruby on rails example all went well up to the point which i have to deploy app.</p>\n\n<p><a href=\"https://cloud.google.com/ruby/getting-started/deploy-postgres#download_app\" rel=\"nofollow\">google app engine ruby on rails tutorial</a></p>\n\n<p>here is the console output leading up to the error</p>\n\n<pre><code>Beginning deployment...\nIf this is your first deployment, this may take a while...done.\n\nVerifying that Managed VMs are enabled and ready.\nBuilding and pushing image for service [default]\nStarted cloud build [c80b8677-2cff-4341-a6f7-b97a55b5fb83].\nTo see logs in the Cloud Console: https://console.developers.google.com/logs?project=cloud-compute-rails&amp;service=cloudbuild.googleapis.com&amp;key1=c80b8677-2cff-4341-a6f7-b97a55b5fb83&amp;logName=projects/cloud-compute-rails/logs/cloudbuild\n----------------------------- REMOTE BUILD OUTPUT ------------------------------\nstarting build \"c80b8677-2cff-4341-a6f7-b97a55b5fb83\"\n\nFETCHSOURCE\nFetching storage object: gs://staging.cloud-compute-rails.appspot.com/us.gcr.io/cloud-compute-rails/appengine/default.20160427t004918:latest#1461714651629000\nCopying gs://staging.cloud-compute-rails.appspot.com/us.gcr.io/cloud-compute-rails/appengine/default.20160427t004918:latest#1461714651629000...\nDownloading file:///tmp/source-archive.tgz:                      0 B/203.33 KiB Downloading file:///tmp/source-archive.tgz:                      72 KiB/203.33 KDownloading file:///tmp/source-archive.tgz:                      144 KiB/203.33 Downloading file:///tmp/source-archive.tgz:                      203.33 KiB/203.33 KiB\nFETCHBUILDER\nBUILD\n+ docker version\nClient:\n Version:      1.9.1\n API version:  1.21\n Go version:   go1.4.3\n Git commit:   a34a1d5\n Built:        Fri Nov 20 17:56:04 UTC 2015\n OS/Arch:      linux/amd64\n\nServer:\n Version:      1.9.1\n API version:  1.21\n Go version:   go1.4.2\n Git commit:   a34a1d5\n Built:        Fri Nov 20 13:12:04 UTC 2015\n OS/Arch:      linux/amd64\n+ cat Dockerfile\n# This Dockerfile for a Ruby application was generated by gcloud.\n\n# The base Dockerfile installs:\n# * A number of packages needed by the Ruby runtime and by gems\n#   commonly used in Ruby web apps (such as libsqlite3)\n# * A recent version of NodeJS\n# * A recent version of the standard Ruby runtime to use by default\n# * The bundler gem\nFROM gcr.io/google_appengine/ruby\n\n# Install 2.2.3\n if not already preinstalled by the base image\nRUN cd /rbenv/plugins/ruby-build &amp;&amp; \\\n    git pull &amp;&amp; \\\n    rbenv install -s 2.2.3\n &amp;&amp; \\\n    rbenv global 2.2.3\n &amp;&amp; \\\n    gem install -q --no-rdoc --no-ri bundler --version 1.11\nENV RBENV_VERSION 2.2.3\n\n\n# Copy the application files.\nCOPY . /app/\n\n# Install required gems.\nRUN bundle install --deployment &amp;&amp; rbenv rehash\n\n# BUG: Reset entrypoint to override base image.\nENTRYPOINT []\n\n# Start application on port $PORT.\nCMD bundle exec rackup -p 8080 -E production config.ru\n+ docker build --tag us.gcr.io/cloud-compute-rails/appengine/default.20160427t004918:latest /workspace\nSending build context to Docker daemon 545.3 kB\nStep 1 : FROM gcr.io/google_appengine/ruby\n ---&gt; 3e6d0d6d0575\nStep 2 : IF\nUnknown instruction: IF\nERROR\nERROR: build step \"gcr.io/cloud-builders/dockerizer\" failed: exit status 1\nERROR: (gcloud.preview.app.deploy) Error Response: [2] Build failed; check build logs for details\n</code></pre>\n\n<p>any clues?</p>\n"}]