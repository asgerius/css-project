[{"tags": ["ruby-on-rails", "ruby", "flash"], "comments": [{"owner": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 2, "creation_date": 1421885105, "post_id": 28079001, "comment_id": 44537071, "body": "You are doing it the right way, but perhaps <code>product</code> does not exist in the current scope.  Or maybe you mean <code>@product</code>?"}, {"owner": {"reputation": 659, "user_id": 3909853, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002166568068/picture?type=large", "display_name": "Roland Jegorov", "link": "https://stackoverflow.com/users/3909853/roland-jegorov"}, "reply_to_user": {"reputation": 22303, "user_id": 2456433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiN8K.jpg?s=128&g=1", "display_name": "infused", "link": "https://stackoverflow.com/users/2456433/infused"}, "edited": false, "score": 0, "creation_date": 1421885206, "post_id": 28079001, "comment_id": 44537108, "body": "@infused Oh, right! I needed to make it an instance! Thanks for the advice! Cheers! :)"}], "owner": {"reputation": 659, "user_id": 3909853, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100002166568068/picture?type=large", "display_name": "Roland Jegorov", "link": "https://stackoverflow.com/users/3909853/roland-jegorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421883982, "creation_date": 1421883982, "question_id": 28079001, "link": "https://stackoverflow.com/questions/28079001/calling-object-names-in-a-flash-message", "title": "Calling object names in a flash message", "body": "<p>Excuse me if the title is misleading.</p>\n\n<p>What I want is when updating, creating or deleting an object (for example, a <strong>product</strong>), the flash message contains the product title.</p>\n\n<p>I tried this code: </p>\n\n<pre><code>redirect_to products_path, notice: \"The product - #{product.title} - was deleted!\"\n</code></pre>\n\n<p>but it gave an undefined local variable or method error.</p>\n\n<p>What are the ways to do this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4480422, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f08aac1588d238442c3afe7968e0c468?s=128&d=identicon&r=PG&f=1", "display_name": "me sung", "link": "https://stackoverflow.com/users/4480422/me-sung"}, "edited": false, "score": 0, "creation_date": 1421905206, "post_id": 28081641, "comment_id": 44542305, "body": "it again gave men an error ;(( it says While executing gem ... (Gem::CommandLine Error)  unknown command tzinfo-data,"}, {"owner": {"reputation": 351, "user_id": 2648987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhyM3.jpg?s=128&g=1", "display_name": "mushishi78", "link": "https://stackoverflow.com/users/2648987/mushishi78"}, "reply_to_user": {"reputation": 73, "user_id": 4480422, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f08aac1588d238442c3afe7968e0c468?s=128&d=identicon&r=PG&f=1", "display_name": "me sung", "link": "https://stackoverflow.com/users/4480422/me-sung"}, "edited": false, "score": 1, "creation_date": 1421951990, "post_id": 28081641, "comment_id": 44568317, "body": "Did you run <code>bundle</code>? Otherwise, it might help if add more detail to the question. What operating system are you using? What version of Ruby? What does you Gemfile look like? What steps did you take to get the error?"}, {"owner": {"reputation": 73, "user_id": 4480422, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f08aac1588d238442c3afe7968e0c468?s=128&d=identicon&r=PG&f=1", "display_name": "me sung", "link": "https://stackoverflow.com/users/4480422/me-sung"}, "edited": false, "score": 0, "creation_date": 1421985997, "post_id": 28081641, "comment_id": 44580898, "body": "oh it was because I didnt download gems correctly: had to use curl <a href=\"http://installrails.com/update_rubygems.rb\" rel=\"nofollow noreferrer\">installrails.com/update_rubygems.rb</a> | ruby thanks for the help"}], "tags": [], "owner": {"reputation": 351, "user_id": 2648987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhyM3.jpg?s=128&g=1", "display_name": "mushishi78", "link": "https://stackoverflow.com/users/2648987/mushishi78"}, "is_accepted": false, "score": 1, "last_activity_date": 1421903424, "creation_date": 1421903424, "answer_id": 28081641, "question_id": 28078983, "link": "https://stackoverflow.com/questions/28078983/could-not-find-gem-tzinfo-data-0-x86-mingw32/28081641#28081641", "title": "could not find gem &#39;tzinfo-data (&gt;=0) x86-mingw32&#39;", "body": "<p>I seem to remember something like this. Try adding this to your gemfile:</p>\n\n<pre><code>gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw]\n</code></pre>\n\n<p>Edit: <a href=\"https://github.com/tzinfo/tzinfo/wiki/Resolving-TZInfo::DataSourceNotFound-Errors\" rel=\"nofollow\">More Info</a></p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 1351977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i7J9X.png?s=128&g=1", "display_name": "bouguima", "link": "https://stackoverflow.com/users/1351977/bouguima"}, "is_accepted": false, "score": 0, "last_activity_date": 1448465013, "last_edit_date": 1448465013, "creation_date": 1448464942, "answer_id": 33920214, "question_id": 28078983, "link": "https://stackoverflow.com/questions/28078983/could-not-find-gem-tzinfo-data-0-x86-mingw32/33920214#33920214", "title": "could not find gem &#39;tzinfo-data (&gt;=0) x86-mingw32&#39;", "body": "<p>you should replace encoding like bottom under the file \"C:\\Ruby22-x64\\lib\\ruby\\2.2.0\\win32\"</p>\n\n<pre><code>#LOCALE = Encoding.find(Encoding.locale_charmap)\nLOCALE = Encoding::UTF_8\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4480422, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f08aac1588d238442c3afe7968e0c468?s=128&d=identicon&r=PG&f=1", "display_name": "me sung", "link": "https://stackoverflow.com/users/4480422/me-sung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4905, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1448465013, "creation_date": 1421883870, "last_edit_date": 1421884191, "question_id": 28078983, "link": "https://stackoverflow.com/questions/28078983/could-not-find-gem-tzinfo-data-0-x86-mingw32", "title": "could not find gem &#39;tzinfo-data (&gt;=0) x86-mingw32&#39;", "body": "<p>When I run rails server, this shows up. I am in the right folder, and googled the error but still can't solve this problem</p>\n\n<p>Error: could not find gem 'tzinfo-data (>=0) x86-mingw32' </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 13, "user_id": 4479032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6609f5806ce353873d87903b5beed7b1?s=128&d=identicon&r=PG&f=1", "display_name": "Cluesade", "link": "https://stackoverflow.com/users/4479032/cluesade"}, "edited": false, "score": 0, "creation_date": 1421882650, "post_id": 28078733, "comment_id": 44536271, "body": "also what is the difference between ARGV and ARGV.first?"}, {"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "edited": false, "score": 2, "creation_date": 1421882950, "post_id": 28078733, "comment_id": 44536384, "body": "You are trying to <code>Learn ruby the hard way</code> and you are taking the easy way out just asking people how to do it. This is not the place."}], "answers": [{"tags": [], "owner": {"reputation": 7544, "user_id": 1085998, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/459252fca62e56c1131babdba2b1babe?s=128&d=identicon&r=PG", "display_name": "daremkd", "link": "https://stackoverflow.com/users/1085998/daremkd"}, "is_accepted": true, "score": 1, "last_activity_date": 1421882658, "last_edit_date": 1495542035, "creation_date": 1421882658, "answer_id": 28078758, "question_id": 28078733, "link": "https://stackoverflow.com/questions/28078733/what-is-argv-in-ruby-and-what-does-it-do/28078758#28078758", "title": "what is ARGV in ruby and what does it do?", "body": "<p>ARGV is basically an array that contains the elements passed to your script. You may find <a href=\"https://stackoverflow.com/questions/13329132/whats-the-point-of-argv-in-ruby\">this StackOverflow question</a> useful.</p>\n\n<p>To test it, try creating .rb (let's say it's \"test.rb\") file in specific folder and put the following code there:</p>\n\n<pre><code>puts ARGV.inspect\n</code></pre>\n\n<p>Now, try opening a command line window/terminal and point it to the folder where \"test.rb\" is. Once you're there, type this in your terminal:</p>\n\n<pre><code>ruby test.rb a 1 b \n</code></pre>\n\n<p>You should get <code>[\"a\", \"1\", \"b\"]</code> which is the content of <code>ARGV</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4479032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6609f5806ce353873d87903b5beed7b1?s=128&d=identicon&r=PG&f=1", "display_name": "Cluesade", "link": "https://stackoverflow.com/users/4479032/cluesade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "closed_date": 1421915134, "accepted_answer_id": 28078758, "answer_count": 1, "score": -4, "last_activity_date": 1421883109, "creation_date": 1421882499, "last_edit_date": 1421883109, "question_id": 28078733, "link": "https://stackoverflow.com/questions/28078733/what-is-argv-in-ruby-and-what-does-it-do", "closed_reason": "Duplicate", "title": "what is ARGV in ruby and what does it do?", "body": "<p>What is <code>ARGV</code> and how do I use it?</p>\n"}, {"tags": ["ruby", "rake"], "comments": [{"owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1422476883, "post_id": 28078548, "comment_id": 44769691, "body": "Are there multiple tests run when you <code>rake</code>? If so, are they done in random order/the test in question isn&#39;t first?"}, {"owner": {"reputation": 11455, "user_id": 10888, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/adbf81127c90a370ceab11b3087a8e4e?s=128&d=identicon&r=PG", "display_name": "Leonard", "link": "https://stackoverflow.com/users/10888/leonard"}, "reply_to_user": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1422497260, "post_id": 28078548, "comment_id": 44777290, "body": "There are multiple tests.  The test in question can run anywhere in the group.  It&#39;s the same if I change the pattern to only match the test in question."}, {"owner": {"reputation": 4064, "user_id": 409638, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b2244263c61892ddd4d2b4d6b4786e6a?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/409638/robert"}, "edited": false, "score": 0, "creation_date": 1422993878, "post_id": 28078548, "comment_id": 44966287, "body": "The operating system you are using may be an important factor in this situation. <code>\\r\\n</code> is the line separator in windows, and <code>\\n</code> is what&#39;s used in *nix. Strictly speaking the <code>&#39;\\r&#39;</code> in your regex shouldn&#39;t match the <code>&#39;\\n&#39;</code> in your test-data. There is some environmental factor causing this to be overlooked when executing from the command line."}], "answers": [{"tags": [], "owner": {"reputation": 4064, "user_id": 409638, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b2244263c61892ddd4d2b4d6b4786e6a?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/409638/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1422993318, "creation_date": 1422993318, "answer_id": 28307573, "question_id": 28078548, "link": "https://stackoverflow.com/questions/28078548/test-fails-when-run-from-rake-passes-when-run-directly/28307573#28307573", "title": "Test fails when run from rake, passes when run directly", "body": "<p>The only thing that stands out for me here is the fact that you are using <code>'\\n'</code> to delimit the different parameters in a single string.</p>\n\n<p>Your regular expression is matching with: <code>/Subject:.*\\r?/</code></p>\n\n<p>But you are passing in the string: <code>\"Subject: Hi Mom\\n</code>\u2026</p>\n\n<p>I don't know much about Rake specifically, but in my experience the way these tests get executed in a batch environment imposes slightly different environmental conditions, than when invoked directly.</p>\n\n<p>Could be that when you are invoking from command-line the ruby regular expression engine knows that <code>'\\r'</code> matches <code>'\\n'</code>, but in the purer batch environment it doesn't do you this favour.</p>\n\n<p>If you change your regex to <code>/Subject:.*[\\r]?[\\n]?/</code> you should see proper cross-platform operation.</p>\n\n<p>In fact <code>/Subject:[^\\r\\n]*?/</code> might be neater.</p>\n\n<pre><code>$ irb\nirb(main):001:0&gt; mail = \"Subject: Hi Mom\\nDate 2014-04-01\\n\"\n=&gt; \"Subject: Hi Mom\\nDate 2014-04-01\\n\"\nirb(main):004:0&gt; subject = mail.to_s[/Subject:[^\\r]*/]\n=&gt; \"Subject: Hi Mom\\nDate 2014-04-01\\n\"\nirb(main):005:0&gt; subject = mail.to_s[/Subject:[^\\r\\n]*/]\n=&gt; \"Subject: Hi Mom\"\n</code></pre>\n"}], "owner": {"reputation": 11455, "user_id": 10888, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/adbf81127c90a370ceab11b3087a8e4e?s=128&d=identicon&r=PG", "display_name": "Leonard", "link": "https://stackoverflow.com/users/10888/leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1422993318, "creation_date": 1421881566, "last_edit_date": 1422576104, "question_id": 28078548, "link": "https://stackoverflow.com/questions/28078548/test-fails-when-run-from-rake-passes-when-run-directly", "title": "Test fails when run from rake, passes when run directly", "body": "<p>Running Ruby 1.9.3, when I run my test directly with ./test_mail.rb, it passes.  When I run it via 'rake test', it fails with </p>\n\n<pre><code>  1) Failure:\ntest_initialization(TC_Test_mail) [/Users/lcuff/Software_Realm/eco/etl  \n/etl/etl_2.0/src/ruby/mail_processing/ruby_eco_classes/rake_example   \n/test_mail.rb:13]:\nExpected: \"Hi Mom\"\nActual: \"No subject specified\"\n</code></pre>\n\n<p>My class:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nclass MyMail\n\n  attr_reader :subject\n\n  def initialize( mail)\n\n    subject = mail.to_s[/Subject:.*\\r?/]\n    if subject.nil?\n      subject = \"No subject specified\"\n    else\n      subject = subject.strip.gsub!(/Subject:\\s/, '')\n    end\n    @subject = subject\n  end\nend\n</code></pre>\n\n<p>My test code: </p>\n\n<pre><code>#!/usr/bin/env ruby\n\ngem 'minitest'\nrequire 'minitest/autorun'\nrequire_relative 'MyMail'\n\nclass  TC_Test_mail &lt; MiniTest::Unit::TestCase\n\n  def test_initialization\n    mock_mail = MiniTest::Mock.new\n    mock_mail.expect(:to_s, \"Subject: Hi Mom\\nDate 2014-04-01\\n\", [])\n    the_mail = MyMail.new(mock_mail)\n    assert_equal('Hi Mom', the_mail.subject )\n    mock_mail.verify\n  end\nend\n</code></pre>\n\n<p>And the rakefile</p>\n\n<pre><code>require 'rake/testtask'\n\nRake::TestTask.new do |t|\n  t.pattern = \"test_*.rb\"\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "amazon-web-services", "actionmailer"], "answers": [{"comments": [{"owner": {"reputation": 631, "user_id": 2977169, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2fa5ac36ab0c1b29ecaafee692d6ff3?s=128&d=identicon&r=PG", "display_name": "achabacha322", "link": "https://stackoverflow.com/users/2977169/achabacha322"}, "edited": false, "score": 0, "creation_date": 1426626816, "post_id": 28660184, "comment_id": 46449090, "body": "Hey, where did you specify your IAM roles? Do you have to include the <code>access_keys</code> in the <code>settings</code> hash?"}, {"owner": {"reputation": 761, "user_id": 2006706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7be029535e1eee83a81dcb4c9cdb436?s=128&d=identicon&r=PG", "display_name": "bronislav", "link": "https://stackoverflow.com/users/2006706/bronislav"}, "reply_to_user": {"reputation": 631, "user_id": 2977169, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2fa5ac36ab0c1b29ecaafee692d6ff3?s=128&d=identicon&r=PG", "display_name": "achabacha322", "link": "https://stackoverflow.com/users/2977169/achabacha322"}, "edited": false, "score": 0, "creation_date": 1426668527, "post_id": 28660184, "comment_id": 46462592, "body": "@achabacha322, You don&#39;t need to explicitly specify role since it is used to launch your EC2 instance."}, {"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 0, "creation_date": 1431559669, "post_id": 28660184, "comment_id": 48557458, "body": "I am getting <code>uninitialized constant AWS</code>.  Don&#39;t I need to <code>require AWS::SESMailer</code> somewhere?  Also, do I just need to set IAM defaults for <code>aws_access_key_id</code> and <code>aws_secret_access_key</code> in <code>~&#47;.fog</code> as described in the gem Readme?"}, {"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "edited": false, "score": 0, "creation_date": 1431697233, "post_id": 28660184, "comment_id": 48621823, "body": "I figured it out (and didn&#39;t need the <code>fog-aws</code> gem).  Answer posted here <a href=\"http://stackoverflow.com/questions/30245628/aws-ses-timeout?answertab=active#tab-top\" title=\"aws ses timeout\">stackoverflow.com/questions/30245628/&hellip;</a>."}, {"owner": {"reputation": 2503, "user_id": 168843, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/34fe261fffe48fa50e34b9727208fd29?s=128&d=identicon&r=PG", "display_name": "wkhatch", "link": "https://stackoverflow.com/users/168843/wkhatch"}, "edited": false, "score": 3, "creation_date": 1437716270, "post_id": 28660184, "comment_id": 51156545, "body": "Solid, helpful answer; just some potential clarifications: in order for the IAM role to be dynamically associated with the ec2 instance, the instance must be launched within a VPC, and not classic ec2 mode. additionally, if you&#39;re using any other AMI besides amazon linux, or 3rd party market place ami&#39;s that handle it, the aws tools are not installed by default, and that will have to happen in order for the instance to get the iam role."}], "tags": [], "owner": {"reputation": 761, "user_id": 2006706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7be029535e1eee83a81dcb4c9cdb436?s=128&d=identicon&r=PG", "display_name": "bronislav", "link": "https://stackoverflow.com/users/2006706/bronislav"}, "is_accepted": true, "score": 6, "last_activity_date": 1493568542, "last_edit_date": 1493568542, "creation_date": 1424622318, "answer_id": 28660184, "question_id": 28078485, "link": "https://stackoverflow.com/questions/28078485/how-to-send-email-with-aws-ses-using-actionmailer/28660184#28660184", "title": "How to send email with AWS SES using ActionMailer", "body": "<p>I'm using the following approach to make <code>ActionMailer</code> to send emails using AWS SES. I have created a simple wrapper around <a href=\"https://github.com/fog/fog-aws\" rel=\"nofollow noreferrer\">fog-aws</a> gem and added delivery method similar to what you use in your question. I've decided to use <code>fog-aws</code> gem because it allows me to use IAM roles instead of specifying access credentials explicitly.</p>\n\n<p>I've created <code>lib/aws/ses_mailer.rb</code> file with following content:</p>\n\n<pre><code>module AWS\n  class SESMailer\n    attr_reader :settings\n\n    def initialize(options = {})\n      @fog_mailer = Fog::AWS::SES.new(options)\n      @settings = {}\n    end\n\n    delegate :send_raw_email, to: :@fog_mailer\n\n    alias_method :deliver!, :send_raw_email\n    alias_method :deliver, :send_raw_email\n  end\nend\n</code></pre>\n\n<p>Then add delivery method in <code>config/initializers/amazon_ses.rb</code>:</p>\n\n<pre><code>ActionMailer::Base.add_delivery_method :ses, AWS::SESMailer, use_iam_profile: true\n</code></pre>\n\n<p>Then enable it for particular environment:</p>\n\n<pre><code>config.action_mailer.delivery_method = :ses\n</code></pre>\n\n<p>And now you may send emails with AWS SES.</p>\n"}], "owner": {"reputation": 631, "user_id": 2977169, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2fa5ac36ab0c1b29ecaafee692d6ff3?s=128&d=identicon&r=PG", "display_name": "achabacha322", "link": "https://stackoverflow.com/users/2977169/achabacha322"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3228, "favorite_count": 0, "accepted_answer_id": 28660184, "answer_count": 1, "score": 1, "last_activity_date": 1493568542, "creation_date": 1421881285, "question_id": 28078485, "link": "https://stackoverflow.com/questions/28078485/how-to-send-email-with-aws-ses-using-actionmailer", "title": "How to send email with AWS SES using ActionMailer", "body": "<p>I am trying to use html templates to send invitation emails. Currently I'm using <a href=\"https://github.com/drewblas/aws-ses\" rel=\"nofollow\">aws-ses</a> gem like this:</p>\n\n<pre><code>  ses = AWS::SES::Base.new(\n      :access_key_id     =&gt; 'XXXXXXXXXXXXXXX',\n      :secret_access_key =&gt; 'XXXXXXXXXXXXXXX')\n  ses.send_email(:to =&gt; ..., :source =&gt; ..., :subject =&gt; ..., :html_body =&gt; &lt;p&gt; Hi how are you&lt;/p&gt;)\n</code></pre>\n\n<p>and I send the html code as a string in <code>:html_body</code>. This works fine.</p>\n\n<p>What I want to do is use a template, and store it in a separate file, for example <code>invite_email.html.erb</code>, which will be stored under <code>app/views/user_mailer/</code>.</p>\n\n<p>So I figured I had to use action mailer to use rendered views. I setup action mailer to use AWS::SES gem, and followed the rails guides to setup action mailer with <code>rails g mailer UserMailer</code>. I have a UserMailer, a layout, and I restarted the server. My <code>developement.rb</code> looks like this:</p>\n\n<pre><code>  config.action_mailer.perform_deliveries = true\n  config.action_mailer.raise_delivery_errors = true\n  config.action_mailer.delivery_method = :ses\n</code></pre>\n\n<p>and I initialized <code>:ses</code> like this in <code>initializers/action_mailer.rb</code>:</p>\n\n<pre><code>ActionMailer::Base.add_delivery_method :ses, AWS::SES::Base,\n                                   access_key_id: 'XXXXX',\n                                   secret_access_key: 'XXXXX'\n</code></pre>\n\n<p>The server responds: <code>UserMailer#invite_email: processed outbound mail in 184.0ms</code></p>\n\n<p>The problem is, I still don't get any emails. I tried in the test environment with the same settings in <code>environments/test.rb</code> on a different machine, and still no emails. The server shows the layout is being rendered and the email is being processed. Am I missing a setting? </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 626, "user_id": 358741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ns2fj.jpg?s=128&g=1", "display_name": "Shawn Bush", "link": "https://stackoverflow.com/users/358741/shawn-bush"}, "edited": false, "score": 0, "creation_date": 1421879953, "post_id": 28078081, "comment_id": 44535183, "body": "It looks like the line <code>@user.save</code> is failing. Is there anything in the logs that would explain why it didn&#39;t save?"}, {"owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1421880167, "post_id": 28078081, "comment_id": 44535275, "body": "To add to Shawn Bush&#39;s comment - Some things to look for: Is there a user with that email in your test database that might be conflicting? Possibly from a <code>before(:each)</code> (or whatever the <code>Test::Unit</code> equivalent is). Is <code>password</code> a valid password?"}, {"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421880639, "post_id": 28078081, "comment_id": 44535481, "body": "I added the log output for the test that the failure occurred in.  Do you notice anything off?"}], "answers": [{"comments": [{"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421882061, "post_id": 28078502, "comment_id": 44536069, "body": "In the example I&#39;m using it has the redirect to the root_url in the create function.  What exactly do I need to change, if you wouldn&#39;t mind?"}, {"owner": {"reputation": 19227, "user_id": 2977237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9cbb93086545b60f7d65aeb8ce07a56?s=128&d=identicon&r=PG&f=1", "display_name": "tachyonflux", "link": "https://stackoverflow.com/users/2977237/tachyonflux"}, "reply_to_user": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421882221, "post_id": 28078502, "comment_id": 44536123, "body": "Well, you never stated what the expected behavior is. Are you doing TDD and trying to get the app the match the test? Or do you want to change the test, as the app behavior is correct?"}, {"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421882639, "post_id": 28078502, "comment_id": 44536269, "body": "I am simply trying to have user authentication functionality put into the site.  I guess I don&#39;t know why there is a disconnect here"}, {"owner": {"reputation": 19227, "user_id": 2977237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9cbb93086545b60f7d65aeb8ce07a56?s=128&d=identicon&r=PG&f=1", "display_name": "tachyonflux", "link": "https://stackoverflow.com/users/2977237/tachyonflux"}, "reply_to_user": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421882997, "post_id": 28078502, "comment_id": 44536397, "body": "Is the expected behavior to redirect to <b>root_url</b> or <b>users#show</b> after the sign up?"}, {"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421883126, "post_id": 28078502, "comment_id": 44536443, "body": "After they signup or login with correct credentials, it should take them to users#show (their profile).  I think the redirect to root_url should take them to their profile if they are logged in, as I have a filter set up where if you are signed in and you got the main page, you are redirected to your profile.  Does that make sense?"}, {"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421883727, "post_id": 28078502, "comment_id": 44536657, "body": "Now I&#39;m getting the failure: UsersLoginTest#test_valid_signup_information [/Users/*************/workspace/myapp/test/integration/users&zwnj;&#8203;_login_test.rb:39]: Failed assertion, no message given."}, {"owner": {"reputation": 19227, "user_id": 2977237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9cbb93086545b60f7d65aeb8ce07a56?s=128&d=identicon&r=PG&f=1", "display_name": "tachyonflux", "link": "https://stackoverflow.com/users/2977237/tachyonflux"}, "reply_to_user": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1421883856, "post_id": 28078502, "comment_id": 44536692, "body": "... are you following some sort of tutorial?"}, {"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "reply_to_user": {"reputation": 19227, "user_id": 2977237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9cbb93086545b60f7d65aeb8ce07a56?s=128&d=identicon&r=PG&f=1", "display_name": "tachyonflux", "link": "https://stackoverflow.com/users/2977237/tachyonflux"}, "edited": false, "score": 0, "creation_date": 1421883970, "post_id": 28078502, "comment_id": 44536728, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/69357/discussion-between-user1072337-and-tachyonflux\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 19227, "user_id": 2977237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9cbb93086545b60f7d65aeb8ce07a56?s=128&d=identicon&r=PG&f=1", "display_name": "tachyonflux", "link": "https://stackoverflow.com/users/2977237/tachyonflux"}, "is_accepted": true, "score": 1, "last_activity_date": 1421883443, "last_edit_date": 1421883443, "creation_date": 1421881348, "answer_id": 28078502, "question_id": 28078081, "link": "https://stackoverflow.com/questions/28078081/ror-rake-test-failure-expecting-users-show-but-rendering-with/28078502#28078502", "title": "RoR Rake Test Failure: expecting &lt;&quot;users/show&quot;&gt; but rendering with", "body": "<p>You are redirecting to root:</p>\n\n<pre><code>redirect_to root_url\n</code></pre>\n\n<p>But your test is expecting 'users/show'.</p>\n\n<p>EDIT:\nTo redirect to user profile:</p>\n\n<pre><code>redirect_to @user\n</code></pre>\n"}], "owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "accepted_answer_id": 28078502, "answer_count": 1, "score": 0, "last_activity_date": 1421883443, "creation_date": 1421879559, "last_edit_date": 1421880614, "question_id": 28078081, "link": "https://stackoverflow.com/questions/28078081/ror-rake-test-failure-expecting-users-show-but-rendering-with", "title": "RoR Rake Test Failure: expecting &lt;&quot;users/show&quot;&gt; but rendering with", "body": "<p>I am running a integration test in Rails 4, and I am receiving the following failure:</p>\n\n<pre><code>1) Failure:\nUsersLoginTest#test_valid_signup_information [/Users/************/workspace/myapp/test/integration/users_login_test.rb:38]:\nexpecting &lt;\"users/show\"&gt; but rendering with &lt;[\"shared/_error_messages\", \"users/new\", \"layouts/_header\", \"layouts/_footer\", \"layouts/application\", \"user_mailer/account_activation\", \"static_pages/home\"]&gt;\n\n22 runs, 120 assertions, 1 failures, 0 errors, 0 skips\n</code></pre>\n\n<p>The test that it is pointing to is here: </p>\n\n<pre><code> test \"valid signup information\" do\n    get signup_path\n    assert_difference 'User.count', 1 do\n      post_via_redirect users_path, user: { name:  \"Example User\",\n                                            email: \"user@example.com\",\n                                            password:              \"password\",\n                                            password_confirmation: \"password\" }\n    end\n    assert_template 'users/show'\n    assert is_logged_in?\n  end\n</code></pre>\n\n<p>In the users controller, the create function is here:</p>\n\n<pre><code>def create\n    @user = User.new(user_params)\n    if @user.save\n      UserMailer.account_activation(@user).deliver!\n      flash[:info] = \"Please check your email to activate your account.\"\n      redirect_to root_url\n    else\n      render 'new'\n    end\n  end\n</code></pre>\n\n<p>Do you see what is wrong here, and why the failure is throwing?  Thank you.</p>\n\n<p>EDIT:  </p>\n\n<p>logfile for the UsersLoginTest: test_valid_signup_information:</p>\n\n<pre><code>UsersLoginTest: test_valid_signup_information\n---------------------------------------------\n  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  `users`.* FROM `users`  WHERE `users`.`id` = 762146111 LIMIT 1[0m\nStarted GET \"/signup\" for 127.0.0.1 at 2015-01-21 14:03:04 -0800\nProcessing by UsersController#new as HTML\n  Rendered shared/_error_messages.html.slim (0.1ms)\n  Rendered layouts/_header.html.erb (0.2ms)\n  Rendered layouts/_footer.html.erb (0.1ms)\nCompleted 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)\n  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `users`\nStarted POST \"/users\" for 127.0.0.1 at 2015-01-21 14:03:04 -0800\nProcessing by UsersController#create as HTML\n  Parameters: {\"user\"=&gt;{\"name\"=&gt;\"Example User\", \"email\"=&gt;\"user@example.com\", \"password\"=&gt;\"[FILTERED]\", \"password_confirmation\"=&gt;\"[FILTERED]\"}}\n  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m\n  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM `users`  WHERE `users`.`email` = 'user@example.com' LIMIT 1\n  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `users` (`activation_digest`, `created_at`, `email`, `name`, `password_digest`, `updated_at`) VALUES ('$2a$04$DEMdkJmbjK3DUTmv7O2u7eX6Cy7nfYErvEoO4fN62vMGZ5XDwyrnC', '2015-01-21 22:03:04', 'user@example.com', 'Example User', '$2a$04$1L56dTrE0Wa./qUOhzA50OKako81UG3wO25Z00Dj2UkejeW1e6hQi', '2015-01-21 22:03:04')[0m\n  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1\n\nUserMailer#account_activation: processed outbound mail in 5.8ms\nRedirected to http://www.example.com/\nCompleted 302 Found in 15ms (ActiveRecord: 0.6ms)\nStarted GET \"/\" for 127.0.0.1 at 2015-01-21 14:03:04 -0800\nProcessing by StaticPagesController#home as HTML\n  Rendered layouts/_header.html.erb (0.2ms)\n  Rendered layouts/_footer.html.erb (0.1ms)\nCompleted 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)\n  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m\n  [1m[35m (0.4ms)[0m  ROLLBACK\n  [1m[36m (0.1ms)[0m  [1mBEGIN[0m\n------------------------------------------------------------------\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "edited": false, "score": 0, "creation_date": 1421939191, "post_id": 28077857, "comment_id": 44560366, "body": "Thank you for your answer, it helped me think on how I can do it."}], "tags": [], "owner": {"reputation": 645, "user_id": 1623180, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3defc4ff7fa9d382ccbfaf011c00b482?s=128&d=identicon&r=PG", "display_name": "Uriel Hern&#225;ndez", "link": "https://stackoverflow.com/users/1623180/uriel-hern%c3%a1ndez"}, "is_accepted": true, "score": 1, "last_activity_date": 1422473786, "last_edit_date": 1422473786, "creation_date": 1421878532, "answer_id": 28077857, "question_id": 28077704, "link": "https://stackoverflow.com/questions/28077704/devise-edit-user-not-working-after-using-custom-registrations-controller/28077857#28077857", "title": "Devise edit user not working after using custom registrations controller", "body": "<p>If you want to delegate the create action of the registrations controller to Devise, I recommend you to create a controller that inherits from the Devise one:</p>\n\n<pre><code>class RegistrationsController &lt; Devise::RegistrationsController\n  def create\n    super #We call super because we don't want to override this action\n  end\n  def edit\n    #Custom code to override this action\n  end\nend\n</code></pre>\n\n<p>Your route's configuration stays as it is, you just have to change your controller, you may also want to know that it's possible to ADD functionality to what devise already does, instead of override it:</p>\n\n<pre><code>def edit\n  super do |resource|\n    #Here you add what you'll do AFTER devise works\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 1960681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bce35ad252722733edcccb70e88ef03a?s=128&d=identicon&r=PG", "display_name": "Scoala", "link": "https://stackoverflow.com/users/1960681/scoala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 28077857, "answer_count": 1, "score": 0, "last_activity_date": 1422473786, "creation_date": 1421877814, "question_id": 28077704, "link": "https://stackoverflow.com/questions/28077704/devise-edit-user-not-working-after-using-custom-registrations-controller", "title": "Devise edit user not working after using custom registrations controller", "body": "<p>it might be a silly question but I am stuck with this for some time as I am new to rails.\nI am basically using a custom registration controller to overwrite devise</p>\n\n<pre><code>class RegistrationsController &lt; ApplicationController\n  before_action :set_user, only: [:show, :edit, :update, :destroy]\n\n  # GET /Users\n  def index\n    @Users = User.all\n  end\n\n  # GET /Users/1\n  def show\n  end\n\n  # GET /Users/new\n  def new\n    @User = User.new\n    @course = Course.find_by id: params[\"course_id\"]\n  end\n\n  # POST /Users\n  def create\n    @User = User.new(user_params)\n    if @User.save\n      redirect_to @User.paypal_url(registration_path(@User))\n    else\n      render :new\n    end\n  end\n\n  protect_from_forgery except: [:hook]\n  def hook\n    params.permit! # Permit all Paypal input params\n    status = params[:payment_status]\n    if status == \"Completed\"\n      @User = User.find params[:invoice]\n      @User.update_attributes notification_params: params, status: status, transaction_id: params[:txn_id], purchased_at: Time.now\n    end\n    render nothing: true\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_user\n      @User = User.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n    def user_params\n      params.require(:user).permit(:course_id, :name, :email, :password,:password_confirmation)\n    end\nend\n</code></pre>\n\n<p>In my routes I have</p>\n\n<pre><code>devise_for :users ,:controllers =&gt; { :registrations =&gt; \"registrations\" }\n</code></pre>\n\n<p>So now I have </p>\n\n<pre><code>edit_user_registration_path GET /users/edit(.:format)   registrations#edit\n</code></pre>\n\n<p>My question is how can I route only <strong>edit</strong> back to devise/registrations/edit or what can i add to my registrations controller so that I get something similar?</p>\n"}, {"tags": ["python", "ruby", "hadoop", "mapreduce", "hadoop-streaming"], "answers": [{"tags": [], "owner": {"reputation": 3667, "user_id": 4233586, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8936a9f028cde238474cfae506a7ebaf?s=128&d=identicon&r=PG&f=1", "display_name": "yurgis", "link": "https://stackoverflow.com/users/4233586/yurgis"}, "is_accepted": true, "score": 0, "last_activity_date": 1421884817, "last_edit_date": 1421884817, "creation_date": 1421879116, "answer_id": 28077973, "question_id": 28077686, "link": "https://stackoverflow.com/questions/28077686/how-to-map-reduce-with-sum-and-max-date/28077973#28077973", "title": "How to map/reduce with sum and max date?", "body": "<p>All you need is to put date and count into a pair &lt;date,count&gt; and emit it as a value from your mapper. Then in the reducer extract date and count from the pair value. Sum counts as you did already, and track the max date across input values (per key).</p>\n"}], "owner": {"reputation": 1556, "user_id": 691816, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/07a1c91639f297f3dbe8cb82f87ac961?s=128&d=identicon&r=PG", "display_name": "Edward J. Stembler", "link": "https://stackoverflow.com/users/691816/edward-j-stembler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1495, "favorite_count": 0, "accepted_answer_id": 28077973, "answer_count": 1, "score": 0, "last_activity_date": 1421940079, "creation_date": 1421877739, "last_edit_date": 1421940079, "question_id": 28077686, "link": "https://stackoverflow.com/questions/28077686/how-to-map-reduce-with-sum-and-max-date", "title": "How to map/reduce with sum and max date?", "body": "<p>I have a file I need map/reduced where the output needs the sum and the max of a date.  I have the sum part working, however, I'm not sure how to include the max date as part of the reduced output.</p>\n\n<p>The input data looks something like this:</p>\n\n<pre><code>ID1,  ID2, date,                count\n3000, 001, 2014-12-30 18:00:00, 2\n3000, 001, 2015-01-01 10:00:00, 1\n3000, 002, 2014-11-18 12:53:00, 5\n3000, 002, 2014-12-20 20:14:00, 3\n</code></pre>\n\n<p>My mapper concatenates ID1 + ID2 so that they're grouped. Its output looks like this:</p>\n\n<pre><code>key (ID1|ID2), value (count)\n3000|001,      2\n3000|001,      1\n3000|002,      5\n3000|002,      3\n</code></pre>\n\n<p>The reducer output looks like this:</p>\n\n<pre><code>key (ID1|ID2), value (sum)\n3000|001,      3\n3000|002,      8\n</code></pre>\n\n<p>What I really need, is output like this:</p>\n\n<pre><code>key (ID1|ID2), value (sum), date (max)\n3000|001,      3,           2015-01-01 10:00:00\n3000|002,      8,           2014-12-20 20:14:00\n</code></pre>\n\n<p>The mapper and reducer are written in Ruby, however, I'll take a working example written in Python (I'll translate it to Ruby).</p>\n\n<p>Here's mapper code:</p>\n\n<pre><code>require 'csv'\n\npattern = File.join(File.expand_path('data', File.dirname(__FILE__)), '*.txt')\n\nDir.glob(pattern).each do |file|\n  CSV.foreach(file, {col_sep: \"\\t\", headers: false}) do |row|\n    puts [\n           \"#{row[6]}|#{row[3].rjust(8, '0')}\", # key = ID1 | ID2\n           row[7] # value = count\n         ].join(\"\\t\")\n    end\nend\n</code></pre>\n\n<p>And the reducer:</p>\n\n<pre><code>prev_key  = nil\nkey_total = 0\n\nARGF.each do |line|\n  line = line.chomp\n  next unless line\n\n  (key, value) = line.split(\"\\t\")\n\n  # check for new key\n  if prev_key &amp;&amp; key != prev_key &amp;&amp; key_total &gt; 0\n\n    # output total for previous key\n    puts [prev_key, key_total].join(\"\\t\")\n\n    # reset key total for new key\n    prev_key  = key\n    key_total = 0\n\n  elsif !prev_key\n    prev_key = key\n\n  end\n\n  # add to count for this current key\n  key_total += value.to_i\n\nend\n\n# this is to catch the final counts after all records have been received\nputs [prev_key, key_total].join(\"\\t\")\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here's the new mapper and reducer based upon the suggestion from the accepted answer:</p>\n\n<p>mapper:</p>\n\n<pre><code>require 'csv'\n\npattern = File.join(File.expand_path('data', File.dirname(__FILE__)), '*.txt')\n\nDir.glob(pattern).each do |file|\n  CSV.foreach(file, {col_sep: \"\\t\", headers: false}) do |row|\n    date_time = \"#{row[0]} #{row[1]}:00:00#{row[2]}\" # %Y-%m-%d %H:%M:%S%z\n    puts [\n             \"#{row[6]}|#{row[3].rjust(8, '0')}\", # key = ID1 | ID2\n             \"#{row[7]}|#{date_time}\", # value = count | date_time\n         ].join(\"\\t\")\n  end\nend\n</code></pre>\n\n<p>reducer:</p>\n\n<pre><code>require 'date'\n\nprev_key  = nil\nkey_total = 0\ndates = []\n\nARGF.each do |line|\n  line = line.chomp\n  next unless line\n\n  (key, values) = line.split(\"\\t\")\n  (value, date_time) = values.split('|')\n\n  # check for new key\n  if prev_key &amp;&amp; key != prev_key &amp;&amp; key_total &gt; 0\n\n    # output total for previous key\n    puts [prev_key.split('|'), key_total, dates.max].join(\"\\t\")\n\n    # reset key total for new key\n    prev_key  = key\n    key_total = 0\n\n    # reset dates array for new key\n    dates.clear\n\n  elsif !prev_key\n    prev_key = key\n\n  end\n\n  # add date to array for this current key\n  dates &lt;&lt; DateTime.strptime(date_time, '%Y-%m-%d %H:%M:%S%z')\n\n  # add to count for this current key\n  key_total += value.to_i\n\nend\n\n# this is to catch the final counts after all records have been received\nputs [prev_key.split('|'), key_total, dates.max].join(\"\\t\") \n</code></pre>\n"}, {"tags": ["ruby", "selenium-webdriver", "watir", "watir-webdriver"], "comments": [{"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1421878083, "post_id": 28077575, "comment_id": 44534431, "body": "Can you consider <code>xpath</code>?"}, {"owner": {"reputation": 3480, "user_id": 4072371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112e615d8c60908294e30848d9556186?s=128&d=identicon&r=PG", "display_name": "titusfortner", "link": "https://stackoverflow.com/users/4072371/titusfortner"}, "edited": false, "score": 0, "creation_date": 1421878684, "post_id": 28077575, "comment_id": 44534679, "body": "What do you mean by &quot;css/html?&quot; The text you want is split into two separate span elements. Do you want to get a Watir::Element object for one of those, or do you mean something else?"}, {"owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "edited": false, "score": 0, "creation_date": 1421878690, "post_id": 28077575, "comment_id": 44534681, "body": "Which element would you want to get back? For example, the text is included in <code>&lt;div class=&quot;input-group&quot;&gt;</code>, <code>&lt;div class=&quot;input-container input-left-half round&quot;&gt;</code>, <code>&lt;label class=&quot;error&quot; for=&quot;member_first_name&quot;&gt;</code> and any ancestor elements such as <code>&lt;body&gt;</code>. The most ancestor element would be easy to do, but I am guessing you want the closest ancestor - the <code>label</code>?"}, {"owner": {"reputation": 1765, "user_id": 1507704, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/785573f088dadbefb15252caa1fcbbfc?s=128&d=identicon&r=PG", "display_name": "Farooq", "link": "https://stackoverflow.com/users/1507704/farooq"}, "edited": false, "score": 0, "creation_date": 1421879444, "post_id": 28077575, "comment_id": 44534983, "body": "I guess I&#39;d want the closest possible element(s) that contain that text"}], "answers": [{"comments": [{"owner": {"reputation": 1765, "user_id": 1507704, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/785573f088dadbefb15252caa1fcbbfc?s=128&d=identicon&r=PG", "display_name": "Farooq", "link": "https://stackoverflow.com/users/1507704/farooq"}, "edited": false, "score": 0, "creation_date": 1421960346, "post_id": 28079853, "comment_id": 44572914, "body": "Although, I didn&#39;t accomplish what I was trying to do, your answer provided me with some useful tips, thanks!"}], "tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 0, "last_activity_date": 1421889641, "creation_date": 1421889641, "answer_id": 28079853, "question_id": 28077575, "link": "https://stackoverflow.com/questions/28077575/how-to-extract-the-elements-that-contains-some-known-text/28079853#28079853", "title": "How to extract the element(s) that contains some known text", "body": "<p>To find any element that contains a specific text, you can use the <code>element</code> method with a <code>:text</code> locator:</p>\n\n<pre><code>browser.element(:text =&gt; 'First Name is required')\n</code></pre>\n\n<p>However, by default, Watir will return the first element that matches. Given that we are searching the entire DOM for any element type, this will always be the <code>html</code> element:</p>\n\n<pre><code>browser.element(:text =&gt; 'First Name is required').tag_name\n#=&gt; \"html\"\n</code></pre>\n\n<p>If you know more details about the element you are looking for, you could combine it with the <code>:text</code> locator and get that specific element. For example, if you know it will always be a <code>label</code> element with class \"error\", you could do:</p>\n\n<pre><code>browser.label(:class =&gt; 'error', :text =&gt; 'First Name is required').html\n#=&gt; &lt;label class=\"error\" for=\"member_first_name\"&gt;\n#=&gt;   &lt;span class=\"label-norm\"&gt;\n#=&gt;     First Name\n#=&gt;   &lt;/span&gt;\n#=&gt;   &lt;span id=\"member_first_name-error\" class=\"label-error\"&gt;\n#=&gt;     is required\n#=&gt;   &lt;/span&gt;\n#=&gt; &lt;/label&gt;\n</code></pre>\n\n<p>If you cannot create a more specific locator, you could use the <code>elements</code> method (note the pluralization) to find <em>all</em> elements that include the specific text. The last element in the collection will be the closest possible element that includes the text:</p>\n\n<pre><code>browser.elements(:text =&gt; 'First Name is required').last.html\n#=&gt; &lt;label class=\"error\" for=\"member_first_name\"&gt;\n#=&gt;   &lt;span class=\"label-norm\"&gt;\n#=&gt;     First Name\n#=&gt;   &lt;/span&gt;\n#=&gt;   &lt;span id=\"member_first_name-error\" class=\"label-error\"&gt;\n#=&gt;     is required\n#=&gt;   &lt;/span&gt;\n#=&gt; &lt;/label&gt;\n</code></pre>\n"}], "owner": {"reputation": 1765, "user_id": 1507704, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/785573f088dadbefb15252caa1fcbbfc?s=128&d=identicon&r=PG", "display_name": "Farooq", "link": "https://stackoverflow.com/users/1507704/farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 28079853, "answer_count": 1, "score": 0, "last_activity_date": 1421889641, "creation_date": 1421877296, "last_edit_date": 1421879461, "question_id": 28077575, "link": "https://stackoverflow.com/questions/28077575/how-to-extract-the-elements-that-contains-some-known-text", "title": "How to extract the element(s) that contains some known text", "body": "<p>I'm using Watir-Webdriver. </p>\n\n<p>I know there is specific text on a page, which is: \"First Name is required\"</p>\n\n<p><code>browser.text.include(\"First Name is required\")</code> returns <code>true</code> which is good.</p>\n\n<p>Using Watir-Webdriver is there some method that I can append to the end of <code>browser.text.include(\"First Name is required\")</code> that will return the css/html that houses that specific text?</p>\n\n<p>An inspect element on this textfield returns:</p>\n\n<p></p>\n\n<pre><code>&lt;h3 class=\"split-sm\"&gt;&lt;/h3&gt;\n&lt;div class=\"input-group\"&gt;\n    &lt;div class=\"input-container input-left-half round\"&gt;\n        &lt;div class=\"validate status-invalid\"&gt;&lt;/div&gt;\n        &lt;input id=\"member_first_name\" type=\"text\" name=\"member_first_name\"&gt;&lt;/input&gt;\n        &lt;label class=\"error\" for=\"member_first_name\"&gt;\n            &lt;span class=\"label-norm\"&gt;\n                First Name\n            &lt;/span&gt;\n            &lt;span id=\"member_first_name-error\" class=\"label-error\"&gt;\n                is required\n            &lt;/span&gt;\n        &lt;/label&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec"], "comments": [{"owner": {"reputation": 84135, "user_id": 631619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6f3159af5195eddff62a2dd4f9ad969?s=128&d=identicon&r=PG", "display_name": "Michael Durrant", "link": "https://stackoverflow.com/users/631619/michael-durrant"}, "edited": false, "score": 0, "creation_date": 1421877162, "post_id": 28077418, "comment_id": 44533986, "body": "Try moving the <code>let</code> to be after the second describe not the first."}, {"owner": {"reputation": 405, "user_id": 4389592, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-ySuAVU5JkZM/AAAAAAAAAAI/AAAAAAAAAF4/gnUR4_Eio6c/photo.jpg?sz=128", "display_name": "Gvyntyk", "link": "https://stackoverflow.com/users/4389592/gvyntyk"}, "reply_to_user": {"reputation": 84135, "user_id": 631619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6f3159af5195eddff62a2dd4f9ad969?s=128&d=identicon&r=PG", "display_name": "Michael Durrant", "link": "https://stackoverflow.com/users/631619/michael-durrant"}, "edited": false, "score": 0, "creation_date": 1421877661, "post_id": 28077418, "comment_id": 44534219, "body": "I&#39;ve moved let, but I get the same error. Even when I commented this line I get the error."}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 4389592, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-ySuAVU5JkZM/AAAAAAAAAAI/AAAAAAAAAF4/gnUR4_Eio6c/photo.jpg?sz=128", "display_name": "Gvyntyk", "link": "https://stackoverflow.com/users/4389592/gvyntyk"}, "edited": false, "score": 0, "creation_date": 1421886495, "post_id": 28078673, "comment_id": 44537477, "body": "I was inattentive, I edited my cod andnow it works correctly. Thanks."}], "tags": [], "owner": {"reputation": 1, "user_id": 1217598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5934cae8aea23f262ae0d554667ec529?s=128&d=identicon&r=PG", "display_name": "dano", "link": "https://stackoverflow.com/users/1217598/dano"}, "is_accepted": false, "score": 0, "last_activity_date": 1421882160, "creation_date": 1421882160, "answer_id": 28078673, "question_id": 28077418, "link": "https://stackoverflow.com/questions/28077418/ror-trouble-with-full-title/28078673#28078673", "title": "RoR , trouble with full_title", "body": "<p>It feels like you've not posted the exact code for what the tests are running against. I'm not seeing how by what you've posted the code is even getting to full_title in the helper as you only have yeild(:title) in application.html.erb. Nothing is calling full_title.</p>\n\n<p>Looking at Michaels example in the book you need to have full_title(yield(:title)) in the title tags removing what you've got posted there. </p>\n"}], "owner": {"reputation": 405, "user_id": 4389592, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-ySuAVU5JkZM/AAAAAAAAAAI/AAAAAAAAAF4/gnUR4_Eio6c/photo.jpg?sz=128", "display_name": "Gvyntyk", "link": "https://stackoverflow.com/users/4389592/gvyntyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421883307, "creation_date": 1421876644, "last_edit_date": 1421883307, "question_id": 28077418, "link": "https://stackoverflow.com/questions/28077418/ror-trouble-with-full-title", "title": "RoR , trouble with full_title", "body": "<p>I am on Chapter 4 of Michael Hartl's RoR tutorial, and having some troubles with rspec and using the full_title helper function. In part 4.1 of the tutorial, I have the helper code as follows.</p>\n\n<p>app/helpers/application_helper.rb</p>\n\n<pre><code>module ApplicationHelper\n\n  # Returns the full title on a per-page basis.\n  def full_title(page_title)\n    base_title = \"Ruby on Rails Tutorial Sample App\"\n    if page_title.empty?\n      base_title\n    else\n      \"#{base_title} | #{page_title}\"\n    end\n  end\nend\n</code></pre>\n\n<p>app/views/layouts/application.html.erb</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;&lt;%= full_title(yield(:title)) %&gt;&lt;/title&gt;\n    &lt;%= stylesheet_link_tag \"application\", media: \"all\",\n                                           \"data-turbolinks-track\" =&gt; true %&gt;\n    &lt;%= javascript_include_tag \"application\", \"data-turbolinks-track\" =&gt; true %&gt;\n    &lt;%= csrf_meta_tags %&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;%= yield %&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>spec/requests/static_pages_spec.rb</p>\n\n<pre><code>require 'spec_helper'\n\ndescribe \"Static pages\" do\n\n  let(:base_title) {\"Ruby on Rails Tutorial Sample App\"}\n\n  describe \"Home page\" do\n\n    it \"should have the content 'Sample App'\" do\n      visit '/static_pages/home'\n      expect(page).to have_content('Sample App')\n    end\n\n    it \"should have the base title\" do\n      visit '/static_pages/home'\n      expect(page).to have_title(\"Ruby on Rails Tutorial Sample App\")\n    end\n\n    it \"should not have a custom page title\" do\n      visit '/static_pages/home'\n      expect(page).not_to have_title('| Home')\n    end\n  end\n\nend\n</code></pre>\n\n<p>app/views/static_pages/home.html.erb</p>\n\n<pre><code>&lt;h1&gt;Sample App&lt;/h1&gt;\n    &lt;p&gt;this is the home page for the &lt;a href=\"http://railstutorial.org/\"&gt;Ruby on Rails Tutorial&lt;/a&gt;\n    sample application.&lt;/p&gt;\n</code></pre>\n\n<p>And when I try to run test I get this:</p>\n\n<pre><code>gvyntyk@gvyntyk-r60:~/rails_projects/sample_app$ rspec spec/requests/static_pages_spec.rb\nFFF\n\nFailures:\n\n  1) Static pages Home page should not have a custom page title\n     Failure/Error: visit '/static_pages/home'\n     ActionView::Template::Error:\n       undefined local variable or method `base_title' for #&lt;#&lt;Class:0xb0ea7f8&gt;:0xb0ea1cc&gt;\n     # ./app/helpers/application_helper.rb:6:in `full_title'\n     # ./app/views/layouts/application.html.erb:4:in `_app_views_layouts_application_html_erb___36363065_93308240'\n     # ./spec/requests/static_pages_spec.rb:20:in `block (3 levels) in &lt;top (required)&gt;'\n\n  2) Static pages Home page should have the base title\n     Failure/Error: visit '/static_pages/home'\n     ActionView::Template::Error:\n       undefined local variable or method `base_title' for #&lt;#&lt;Class:0xb0ea7f8&gt;:0x961e58c&gt;\n     # ./app/helpers/application_helper.rb:6:in `full_title'\n     # ./app/views/layouts/application.html.erb:4:in `_app_views_layouts_application_html_erb___36363065_93308240'\n     # ./spec/requests/static_pages_spec.rb:15:in `block (3 levels) in &lt;top (required)&gt;'\n\n  3) Static pages Home page should have the content 'Sample App'\n     Failure/Error: visit '/static_pages/home'\n     ActionView::Template::Error:\n       undefined local variable or method `base_title' for #&lt;#&lt;Class:0xb0ea7f8&gt;:0x9c13244&gt;\n     # ./app/helpers/application_helper.rb:6:in `full_title'\n     # ./app/views/layouts/application.html.erb:4:in `_app_views_layouts_application_html_erb___36363065_93308240'\n     # ./spec/requests/static_pages_spec.rb:10:in `block (3 levels) in &lt;top (required)&gt;'\n\nFinished in 1.23 seconds\n3 examples, 3 failures\n\nFailed examples:\n\nrspec ./spec/requests/static_pages_spec.rb:19 # Static pages Home page should not have a custom page title\nrspec ./spec/requests/static_pages_spec.rb:14 # Static pages Home page should have the base title\nrspec ./spec/requests/static_pages_spec.rb:9 # Static pages Home page should have the content 'Sample App'\n</code></pre>\n\n<p>Can anyone tell me what's going wrong here?</p>\n"}, {"tags": ["java", "ruby", "jruby", "minecraft-forge"], "comments": [{"owner": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421875967, "post_id": 28076965, "comment_id": 44533346, "body": "Can you write the equivalent Java code for what you are attempting in Ruby?"}, {"owner": {"reputation": 43, "user_id": 1870308, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/288272d16986d4fcd8392d8e988f645c?s=128&d=identicon&r=PG", "display_name": "Bruno Tripoloni", "link": "https://stackoverflow.com/users/1870308/bruno-tripoloni"}, "reply_to_user": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421876983, "post_id": 28076965, "comment_id": 44533882, "body": "I changed the question."}, {"owner": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421877089, "post_id": 28076965, "comment_id": 44533931, "body": "Does that not give you what you expect?"}, {"owner": {"reputation": 43, "user_id": 1870308, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/288272d16986d4fcd8392d8e988f645c?s=128&d=identicon&r=PG", "display_name": "Bruno Tripoloni", "link": "https://stackoverflow.com/users/1870308/bruno-tripoloni"}, "reply_to_user": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421877391, "post_id": 28076965, "comment_id": 44534099, "body": "I pasted the wrong code, sorry."}, {"owner": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421878146, "post_id": 28076965, "comment_id": 44534463, "body": "Does it work with the <code>java_annotation</code>?"}, {"owner": {"reputation": 43, "user_id": 1870308, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/288272d16986d4fcd8392d8e988f645c?s=128&d=identicon&r=PG", "display_name": "Bruno Tripoloni", "link": "https://stackoverflow.com/users/1870308/bruno-tripoloni"}, "reply_to_user": {"reputation": 9139, "user_id": 773228, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/baaecdda322cf4462a0dd018d7959b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wood", "link": "https://stackoverflow.com/users/773228/justin-wood"}, "edited": false, "score": 0, "creation_date": 1421878963, "post_id": 28076965, "comment_id": 44534781, "body": "No the forge does not recognize the mod. i&#39;m thinking, if i create a class in java and extend using ruby and changing the variable values MODID and version maybe it&#39;s work but i dont know how to make the last part."}], "answers": [{"tags": [], "owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "is_accepted": true, "score": 2, "last_activity_date": 1421875973, "creation_date": 1421875973, "answer_id": 28077246, "question_id": 28076965, "link": "https://stackoverflow.com/questions/28076965/how-to-use-class-declarations-using-jruby/28077246#28077246", "title": "How to use class declarations using jruby", "body": "<p>It looks like these are annotations, so take a look at <a href=\"https://github.com/jruby/jruby/wiki/JRuby-Reference#java_annotation\" rel=\"nofollow\">JRuby's reference on them</a>.</p>\n\n<p>It might end up looking something like:</p>\n\n<pre><code>java_annotation('Mod(modid=\"MyModID\", name=\"MyModName\")')\nclass MyMod\n  # ... mod stuff\nend\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1870308, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/288272d16986d4fcd8392d8e988f645c?s=128&d=identicon&r=PG", "display_name": "Bruno Tripoloni", "link": "https://stackoverflow.com/users/1870308/bruno-tripoloni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 2, "accepted_answer_id": 28077246, "answer_count": 1, "score": 1, "last_activity_date": 1421877257, "creation_date": 1421874946, "last_edit_date": 1421877257, "question_id": 28076965, "link": "https://stackoverflow.com/questions/28076965/how-to-use-class-declarations-using-jruby", "title": "How to use class declarations using jruby", "body": "<p>I'm trying to make a mod for Minecraft using Forge and JRuby. I want to use Ruby to write mods, but I need use class declarations for Forge to accept it as a mod.</p>\n\n<pre><code>@Mod(modid = ExampleMod.MODID, version = ExampleMod.VERSION)\n</code></pre>\n\n<p>I tried write this like a function, but it doesn't work. I see no errors, but Forge doesn't recognize then.</p>\n\n<pre><code>Mod(modid = MyMod.modid, version = MyMod.version)\n</code></pre>\n\n<p>How do I write this in Ruby? If i write this part in Java and the rest in Ruby, it works, but I would prefer for it to all be in Ruby.</p>\n\n<p>Edited:\nThis is the correct way to create a mod using java:</p>\n\n<pre><code>package com.example.examplemod;\n\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.Mod.EventHandler;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\n\n@Mod(modid = ExampleMod.MODID, version = ExampleMod.VERSION)\npublic class ExampleMod\n{\n    public static final String MODID = \"examplemod\";\n    public static final String VERSION = \"1.0\";\n\n    @EventHandler\n    public void init(FMLInitializationEvent event)\n    {\n\n    }\n}\n</code></pre>\n\n<p>My code in ruby:</p>\n\n<pre><code>require 'java'\n\nimport 'cpw.mods.fml.common.Mod'\nimport 'cpw.mods.fml.common.registry.GameRegistry'\nimport 'net.minecraft.init.Blocks'\nimport 'net.minecraft.creativetab.CreativeTabs'\nimport 'net.minecraft.block.material.Material'\n\nclass MyMod\n    modid = \"examplemod2\";\n    version = \"1.0\";\n\n    def init(event)\n\n    end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "path", "routes"], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 3739453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ad500b31d2ce042c4f2c5b6e361a129b?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Morano", "link": "https://stackoverflow.com/users/3739453/joe-morano"}, "edited": false, "score": 0, "creation_date": 1421880230, "post_id": 28076945, "comment_id": 44535298, "body": "Where would I define already_voted? I don&#39;t have a model for actual users of the website; my User model refers to something else."}, {"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "reply_to_user": {"reputation": 955, "user_id": 3739453, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ad500b31d2ce042c4f2c5b6e361a129b?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Morano", "link": "https://stackoverflow.com/users/3739453/joe-morano"}, "edited": false, "score": 0, "creation_date": 1421881205, "post_id": 28076945, "comment_id": 44535740, "body": "You need to move the <code>if !ip_array.include? request.remote_ip</code> logic into the controller. I have no idea how the real code looks like, there is not enough context in your code to understand it."}], "tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 3, "last_activity_date": 1421874877, "creation_date": 1421874877, "answer_id": 28076945, "question_id": 28076881, "link": "https://stackoverflow.com/questions/28076881/does-directly-visiting-a-url-have-the-same-effect-as-navigating-via-a-link/28076945#28076945", "title": "Does directly visiting a url have the same effect as navigating via a link?", "body": "<p>The way you prevent it is by placing the validation inside the controller action, rather than in (or in addition to) the view.</p>\n\n<pre><code>before_action :ensure_not_voted\n\ndef vote\n  @user = User.find(params[:id])\n  @user.votes = @user.votes + 1\n  @user.save\nend\n\nprotected\n\ndef ensure_not_voted\n  # perform the check and stop on failure\n  # already_voted is a fake function, replace it with your real check\n  if already_voted\n    halt(403)\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 2128481, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rD0bJ.jpg?s=128&g=1", "display_name": "Tonmoy", "link": "https://stackoverflow.com/users/2128481/tonmoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1421881831, "creation_date": 1421881831, "answer_id": 28078607, "question_id": 28076881, "link": "https://stackoverflow.com/questions/28076881/does-directly-visiting-a-url-have-the-same-effect-as-navigating-via-a-link/28078607#28078607", "title": "Does directly visiting a url have the same effect as navigating via a link?", "body": "<p>For simpler solution, you can add a session token to each user, and check if the ip contains the specific token, like</p>\n\n<p>add a <code>before_filter :auth, :only =&gt; [:vote]</code></p>\n\n<pre><code>def vote\n  @user = User.find(params[:id])\n  @user.votes = @user.votes + 1\n  @user.save\n  session[:token] = request.remote_ip\nend\n\n\nprivate\n\n  def auth\n        @ip = session[:token].to_s\n\n        if @ip != nil\n            redirect_to :back\n            flash[:notice] = \"You have already voted\"\n            return false\n        else\n            return true\n        end\n  end\n</code></pre>\n\n<p>the user can remove cookies to vote again(few people can), for that case you can save the ip in the db and check against it</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4133294"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 28076945, "answer_count": 2, "score": 0, "last_activity_date": 1421881831, "creation_date": 1421874703, "question_id": 28076881, "link": "https://stackoverflow.com/questions/28076881/does-directly-visiting-a-url-have-the-same-effect-as-navigating-via-a-link", "title": "Does directly visiting a url have the same effect as navigating via a link?", "body": "<p>I have a voting system which records users' ip addresses, users can only vote once. If the array of votes contains the user's ip address, then the voting link will not be displayed to the user:</p>\n\n<p><strong>show.html.erb</strong></p>\n\n<pre><code>&lt;% if !ip_array.include? request.remote_ip %&gt;\n  &lt;%= link_to \"Vote!\", vote_user_path(@user) %&gt;\n&lt;% else %&gt;\n  You've already voted!\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>users_controller.rb</strong></p>\n\n<pre><code>def vote\n  @user = User.find(params[:id])\n  @user.votes = @user.votes + 1\n  @user.save\nend\n</code></pre>\n\n<p>But couldn't a user just directly go to <code>www.my_website.com/users/:id/vote</code> to bypass this? If so, how can I prevent this?</p>\n"}, {"tags": ["ruby", "algorithm"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 3, "creation_date": 1421877083, "post_id": 28076814, "comment_id": 44533928, "body": "Stylistically, you need to use camel_case for method and variable names. <code>sumFromReverse</code> should be <code>sum_from_reverse</code> for instance. <code>sumArr</code> should be <code>sum_arr</code>. That&#39;s the Ruby way, and being consistent with that is important if you ever want to write code being used by the community or in a development team. Also <code>sumfromstarting</code> should have underscores separating the words. That helps readability. Plus be consistent in your naming and capitalization styles."}, {"owner": {"reputation": 1811, "user_id": 3888644, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/29a035a5c3ef08cd60111bde5c9888d2?s=128&d=identicon&r=PG&f=1", "display_name": "Darkmouse", "link": "https://stackoverflow.com/users/3888644/darkmouse"}, "edited": false, "score": 0, "creation_date": 1421877158, "post_id": 28076814, "comment_id": 44533981, "body": "Do not understand why this was voted down. Good question, show an attempt at solving the problem. +1"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1421877291, "post_id": 28076814, "comment_id": 44534055, "body": "Don&#39;t know why. Perhaps its because it&#39;s missing adequate input and output samples, especially an input that shows what triggers the error? Making us search for it is a waste of our time."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421879047, "post_id": 28076814, "comment_id": 44534820, "body": "Algorithmic efficiency depends in part on whether all elements of the array are guaranteed to be non-negative.  Are they necessarily non-negative?"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1421879605, "post_id": 28076814, "comment_id": 44535039, "body": "For which inputs is your algorithm incorrect? What is the expected output, what is the actual output?"}, {"owner": {"reputation": 59, "user_id": 1245717, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d586527f94aa18581b2462702b6f8d70?s=128&d=identicon&r=PG&f=1", "display_name": "xenres", "link": "https://stackoverflow.com/users/1245717/xenres"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1421887342, "post_id": 28076814, "comment_id": 44537720, "body": "@theTinMan Got you .. I was juggling with languages, recently  used java. Thanks allot for the suggestion"}, {"owner": {"reputation": 59, "user_id": 1245717, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d586527f94aa18581b2462702b6f8d70?s=128&d=identicon&r=PG&f=1", "display_name": "xenres", "link": "https://stackoverflow.com/users/1245717/xenres"}, "edited": false, "score": 0, "creation_date": 1421888403, "post_id": 28076814, "comment_id": 44538048, "body": "There was just a silly mistake, I got it. I had to subtract rsum in the below statement <code>sumArr.push(sum - i)</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421989695, "post_id": 28076814, "comment_id": 44581793, "body": "I will post an answer if you answer my question in the affirmative, but any answer would be appreciated."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1422205311, "post_id": 28076814, "comment_id": 44649453, "body": "My downvote is for changing the question with your last edit. If I could downvote again for a misleading comment, I would."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 1245717, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d586527f94aa18581b2462702b6f8d70?s=128&d=identicon&r=PG&f=1", "display_name": "xenres", "link": "https://stackoverflow.com/users/1245717/xenres"}, "edited": false, "score": 0, "creation_date": 1422198398, "post_id": 28130064, "comment_id": 44647291, "body": "Please see the qs once more .. the numbers can be negative"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 59, "user_id": 1245717, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d586527f94aa18581b2462702b6f8d70?s=128&d=identicon&r=PG&f=1", "display_name": "xenres", "link": "https://stackoverflow.com/users/1245717/xenres"}, "edited": false, "score": 0, "creation_date": 1422203290, "post_id": 28130064, "comment_id": 44648752, "body": "I asked you if the elements of the array were guaranteed to be non-negative. You did not answer. I see now that you edited your question the <i>following day</i> to indicate that array elements could be negative. I obviously did not see that edit because later I said I would provide an answer if you answered my question in the affirmative. You answered, &quot;yes&quot;, so I wasted my time preparing an answer."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1422132267, "creation_date": 1422132267, "answer_id": 28130064, "question_id": 28076814, "link": "https://stackoverflow.com/questions/28076814/splitting-an-array-into-two-subarrays-with-minimal-absolute-difference/28130064#28130064", "title": "Splitting an array into two subarrays with minimal absolute difference", "body": "<p>This solution requires that all elements of the array be non-negative, which I understand is the case.</p>\n\n<p>Consider</p>\n\n<pre><code>a = [4,1,3,1,2,4,3,1,5]\n</code></pre>\n\n<p>The possible partitions of this array are as follows:</p>\n\n<pre><code>      Partition                 Totals          Diff  Abs Diff\n[4], [1,3,1,2,4,3,1,5]                [4,  20]  \n[4,1], [3,1,2,4,3,1,5]  [4+1, 20-1] =&gt;[5,  19]   -14     14\n[4,1,3], [1,2,4,3,1,5]  [5+3, 19-3] =&gt;[8,  16]    -8      8 \n[4,1,3,1], [2,4,3,1,5]  [8+1, 16-1] =&gt;[9,  15]    -6      6\n[4,1,3,1,2], [4,3,1,5]  [9+2, 15-2] =&gt;[11, 13]    -2      2\n[4,1,3,1,2,4], [3,1,5]  [11+4, 13-4]=&gt;[15,  9]     6      6 \n[4,1,3,1,2,4,3], [1,5]  [15+3, 9-3] =&gt;[18,  6]    12     12 \n[4,1,3,1,2,4,3,1], [5]  [18+1, 6-1] =&gt;[19,  5]    14     14\n</code></pre>\n\n<p>In each row of this table \"Diff\" equals the difference between the totals for the two sets. Because all elements of <code>a</code> are non-negative, these values are monotonically non-decreasing. The absolute differences are therefore non-increasing then non-decreasing. It follows that to obtain the minimum absolute difference of totals we simply step through this array,  stopping when the absolute difference would increase if the next element were moved from the \"right\" array to the \"left\" array. </p>\n\n<p>We can implement this in code as follows.</p>\n\n<pre><code>def minimize_difference(arr)\n  raise ArgumentError, \"array must contain at least two elements\" if arr.size &lt; 2 \n  left, *right = arr\n  last = left - right.reduce(:+)\n  left = [left]\n  while right.any?\n    test = last + 2*right.first\n    break if test.abs &gt; last.abs\n    last = test\n    left &lt;&lt; right.shift\n  end\n  [left, right, last.abs]\nend  \n\nminimize_difference [3, 1, 2, 4, 3]\n  #=&gt; [[3, 1, 2], [4, 3], 1]\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 1245717, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d586527f94aa18581b2462702b6f8d70?s=128&d=identicon&r=PG&f=1", "display_name": "xenres", "link": "https://stackoverflow.com/users/1245717/xenres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1422132267, "creation_date": 1421874450, "last_edit_date": 1421887691, "question_id": 28076814, "link": "https://stackoverflow.com/questions/28076814/splitting-an-array-into-two-subarrays-with-minimal-absolute-difference", "title": "Splitting an array into two subarrays with minimal absolute difference", "body": "<p>For example, consider array A:</p>\n\n<pre><code>[3, 1, 2, 4, 3]\n</code></pre>\n\n<p>I can split this array in four places:</p>\n\n<pre><code>    P = 1, difference = |3 \u2212 10| = 7\n    P = 2, difference = |4 \u2212 9| = 5\n    P = 3, difference = |6 \u2212 7| = 1\n    P = 4, difference = |10 \u2212 3| = 7\n</code></pre>\n\n<p>The minimal difference is 1.</p>\n\n<p>Each element of array is an integer within the range [\u22121,000..1,000].</p>\n\n<p>Below is the code I wrote. My code is correct for this exercise, and is correct for the given input but incorrect in some other cases. I do not understand why.</p>\n\n<pre><code>def minimaldifference(a)\n    sumArr = []\n    sumArr = sumfromstarting(a)\n    sum  = sumArr.last \n    sumRev = sumFromReverse(a, sum)\n\n    size  = sumArr.size-2\n    min = 0\n    v = 0\n    for i in 0..size\n        if(i==0)\n            min = (sumArr[i] - sumRev[i]).abs\n        else\n            v = (sumArr[i] - sumRev[i]).abs\n            if( v &lt; min)\n                min = v\n            end\n        end\n    end\n    min\nend\n\ndef sumfromstarting(a)\n    sumArr = []\n    sum = 0\n    a.each do |i|\n        sum += i\n        sumArr.push(sum)\n    end\n    sumArr\nend\n\ndef sumFromReverse(a, sum)\n    sumArr = []\n    rsum = 0\n    a.each do |i|\n        rsum += i\n        sumArr.push(sum - i)\n    end\n    sumArr\nend\na = [3, 1, 2, 4, 3]\nputs minimaldifference(a)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "newrelic"], "comments": [{"owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 1, "creation_date": 1421873452, "post_id": 28076489, "comment_id": 44532106, "body": "From the page you linked to: If you get a <code>NoMethodError</code> when trying to use <code>newrelic_ignore</code> from within a Rails controller or Sinatra application, make sure that <code>newrelic_rpm</code> has been required before you try to call <code>newrelic_ignore</code> inside of your class definition."}, {"owner": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "reply_to_user": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1421874254, "post_id": 28076489, "comment_id": 44532493, "body": "Thanks. I tried <code>require &#39;newrelic_rpm&#39;</code> but unfortunately that did not help."}, {"owner": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "reply_to_user": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "edited": false, "score": 0, "creation_date": 1421877873, "post_id": 28076489, "comment_id": 44534319, "body": "Actually, it did help - I just had to combo it up with the answer and comment by @aguardientico. Thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "edited": false, "score": 0, "creation_date": 1421874138, "post_id": 28076601, "comment_id": 44532431, "body": "Thanks, but this did not help - it still gives the same error."}, {"owner": {"reputation": 6898, "user_id": 2012487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9631fa1981d36a3b5f71426c821a8064?s=128&d=identicon&r=PG", "display_name": "Aguardientico", "link": "https://stackoverflow.com/users/2012487/aguardientico"}, "reply_to_user": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "edited": false, "score": 1, "creation_date": 1421874240, "post_id": 28076601, "comment_id": 44532485, "body": "do you add <code>newrelic_rpm</code> gem just for production? or also for dev?"}, {"owner": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "edited": false, "score": 0, "creation_date": 1421875009, "post_id": 28076601, "comment_id": 44532865, "body": "Oh, wow, great question! It turns out that I did have it just for <code>production</code>. Oops - my oversight! I have now added it do development, and your answer is correct! Though too bad I cannot call this method from inside an action and have it depend on a condition, e.g. <code>newrelic_ignore_enduser if some_condition</code> - I have a particular condition in the <code>show</code> action on which I don&#39;t want the Javascript injected, but otherwise it would not be a problem."}], "tags": [], "owner": {"reputation": 6898, "user_id": 2012487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9631fa1981d36a3b5f71426c821a8064?s=128&d=identicon&r=PG", "display_name": "Aguardientico", "link": "https://stackoverflow.com/users/2012487/aguardientico"}, "is_accepted": true, "score": 3, "last_activity_date": 1421874117, "last_edit_date": 1421874117, "creation_date": 1421873545, "answer_id": 28076601, "question_id": 28076489, "link": "https://stackoverflow.com/questions/28076489/undefined-local-variable-or-method-newrelic-ignore-enduser/28076601#28076601", "title": "undefined local variable or method `newrelic_ignore_enduser&#39;", "body": "<p>I think you should use <code>newrelic_ignore_enduser</code> as follows</p>\n\n<pre><code>class BooksController &lt; ApplicationController\n    newrelic_ignore_enduser only: :show\n    ...\nend\n</code></pre>\n"}], "owner": {"reputation": 15501, "user_id": 664833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/814bed2c4c2d0e69ec65a28a166c01b7?s=128&d=identicon&r=PG", "display_name": "user664833", "link": "https://stackoverflow.com/users/664833/user664833"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 28076601, "answer_count": 1, "score": 0, "last_activity_date": 1421875303, "creation_date": 1421873132, "last_edit_date": 1421875303, "question_id": 28076489, "link": "https://stackoverflow.com/questions/28076489/undefined-local-variable-or-method-newrelic-ignore-enduser", "title": "undefined local variable or method `newrelic_ignore_enduser&#39;", "body": "<p>New Relic documentation says:\n<a href=\"https://docs.newrelic.com/docs/agents/ruby-agent/installation-configuration/ignoring-specific-transactions#page-load-timing-rum\" rel=\"nofollow\"><em>To prevent page load timing (sometimes referred to as real user monitoring or RUM) for all actions in a controller, add a call like this to the controller class:\n<code>newrelic_ignore_enduser</code></em></a></p>\n\n<p>I added a call to <code>newrelic_ignore_enduser</code> as follows, and got the error <code>undefined local variable or method 'newrelic_ignore_enduser'</code>.</p>\n\n<p><strong>books_controller.rb</strong></p>\n\n<pre><code>class BooksController &lt; ApplicationController\n    require 'newrelic_rpm'\n    ...\n    def show\n        newrelic_ignore_enduser\n    end\n    ...\nend\n</code></pre>\n\n<p><strong>Gemfile</strong></p>\n\n<pre><code>gem 'newrelic_rpm', '~&gt; 3.9.9.275'\n</code></pre>\n\n<p><strong>Question:</strong> What do I need to do (<code>require</code> something perhaps?) in order to be able to call this method?</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Oops! I had previously only included <code>newrelic_rpm</code> in <code>Gemfile</code> in the <code>production</code> group. I have now added it to <code>group :development, :production do</code> and that helped. The second thing I had to do is call the method as <code>newrelic_ignore_enduser only: :show</code> from the <code>class</code> level (as shown in the selected answer), not from within the action as I initial tried. Note that ideally I would prefer to call this method from within the action, and based on a condition.</p>\n"}, {"tags": ["ruby", "translate"], "comments": [{"owner": {"reputation": 6028, "user_id": 2092358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6a4d4b42e1f27a974bd25ad1fd91b8?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name is missing", "link": "https://stackoverflow.com/users/2092358/display-name-is-missing"}, "edited": false, "score": 1, "creation_date": 1421873215, "post_id": 28076397, "comment_id": 44531992, "body": "See this on multidimensional arrays: <a href=\"http://www.ehow.com/how_2091651_create-multidimensional-array-ruby.html\" rel=\"nofollow noreferrer\">ehow.com/how_2091651_create-multidimensional-array-ruby.html</a> You haven&#39;t created one yet"}, {"owner": {"reputation": 408, "user_id": 2589358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd4d2eaab3bc14fb2e40454d5f7af4b?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/2589358/jordan"}, "edited": false, "score": 2, "creation_date": 1421873235, "post_id": 28076397, "comment_id": 44531999, "body": "Your board is not a 2d array, it is just ten &#39;0&#39;s. Do <code>board = []</code> then <code>board 10.times { board &lt;&lt; (&quot;0&quot; * 10)}</code>"}, {"owner": {"reputation": 19, "user_id": 4479906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679903d901c37453f32d4c3911321545?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4479906/tom"}, "edited": false, "score": 0, "creation_date": 1421874106, "post_id": 28076397, "comment_id": 44532413, "body": "awesome, thanks for the info guys!"}], "answers": [{"tags": [], "owner": {"reputation": 9515, "user_id": 763096, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/594c3414ee8cd0edcac36518228fe31b?s=128&d=identicon&r=PG", "display_name": "MrTheWalrus", "link": "https://stackoverflow.com/users/763096/mrthewalrus"}, "is_accepted": false, "score": 3, "last_activity_date": 1421875901, "last_edit_date": 1421875901, "creation_date": 1421873745, "answer_id": 28076641, "question_id": 28076397, "link": "https://stackoverflow.com/questions/28076397/making-a-simple-battleship-game-in-ruby/28076641#28076641", "title": "Making a simple Battleship game in Ruby", "body": "<p>Your current problem, as the commenters have pointed out, is that you're using a single-dimensional array as your board. Which means that if you call <code>board[guess_row][guess_col]</code>, you'll get <code>nil</code>. </p>\n\n<p>Why <code>nil</code>? Because <code>board[guess_row]</code> is just the string 'O'. <code>'O'[guess_col]</code> is still valid code - it's asking for the character at index <code>guess_col</code> of the string - but the string is only one character long, so any index bigger than 0 will get you <code>nil</code>.</p>\n\n<p>You should start by changing how you define <code>board</code>, so that it's either actually a multidimensional array, or by making the 'row' strings have as many characters as you expect.</p>\n\n<p>Since you asked for further tips, here's some things to consider:</p>\n\n<p><strong>Fencepost Errors:</strong> Arrays (and Strings) in Ruby are zero-indexed. Assuming your board is a ten-element array, the rows are <code>board[0]</code> through <code>board[9]</code>. There are a number of places in the code where you instead refer to them as <code>board[1]</code> to <code>board[10]</code>, which is going to trip you up. For instance, when you select the random values where the 'Battleship' is located, you use <code>rand(1..10)</code>, when what you probably want is <code>rand(10)</code>, which returns a random integer from (slightly counterintuitively) 0 to 9. Calling <code>a[10]</code> on an Array with ten elements (indexed 0 through 9) won't produce an exception, it's just (you guessed it) <code>nil</code>.</p>\n\n<p><strong>Object Reference:</strong> You might be tempted to define the board like so: <code>Array.new(10, Array.new(10,'O'))</code>. If you did, you'd run into an interesting problem... setting one element to 'X' would set <em>every element in that column</em> as well. Ruby is defining the 'inner' array first, and then setting every element of the board <em>to that same array</em>. I almost didn't mention this, because it's a valuable learning experience, but I think I'll settle for leaving figuring out how to avoid this situation as an exercise to the reader.</p>\n\n<p>Finally, a few random stylistic tips: Rubyists generally use <code>.each</code> instead of <code>for</code>. If you use <code>print</code> instead of <code>puts</code> for your prompt, it won't insert a newline. Ruby doesn't require an explicit <code>return</code> statement - it will return the value of the last line of the method. Try making the whole program a method, maybe named <code>play</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 4479906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679903d901c37453f32d4c3911321545?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4479906/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421962977, "creation_date": 1421872759, "last_edit_date": 1421962977, "question_id": 28076397, "link": "https://stackoverflow.com/questions/28076397/making-a-simple-battleship-game-in-ruby", "title": "Making a simple Battleship game in Ruby", "body": "<p>a while back I did the Codecademy - Python track and made a simple battleship game. I've been learning Ruby now and wanted to try to convert the game from Python to Ruby. So far I've been doing well in translating, however, I'm stuck at this point trying to print an \"X\" on the board where the player already guessed. I've played around with different methods but so far haven't been able to achieve my goal.</p>\n\n<p>The particular line I'm having trouble converting is: <code>board[guess_row][guess_col] = \"X\"</code></p>\n\n<p>Here's the full game code (I'm aware other parts still need to be changed as well but have been going through methodically and this has been my stopping point so far, any further tips are also much appreciated!): </p>\n\n<p>edit: Thanks for the info guys, I was able to get it up and running as imagined with all your help! Now I just need to figure out how to put a quit method in there..</p>\n\n<pre><code>def play_battleship\n\n  board = Array.new(10) { Array.new(10, \"O\") }\n\n  def print_board(board)\n    board.each do |r|\n      puts r.map { |p| p }.join(\" \")\n    end\n  end\n\n\n  puts \"Let's play Battleship!\\n-----\\nYou have 10 tries!\\n-----\"\n  print_board(board)\n  def random_row(board)\n      return rand(10)  \n  end\n\n  def random_col(board)\n      return rand(10)  \n  end\n\n  ship_row = random_row(board)\n  ship_col = random_col(board)\n  #puts ship_row ##debugging purposes\n  #puts ship_col ## ^^^^\n\n\n  for turn in 1..10\n    puts \"Turn: #{turn}\"\n    puts \"Guess Row (0-9): \"\n    guess_row = gets.chomp.to_i  \n    puts \"Guess Collumn (0-9): \"\n    guess_col = gets.chomp.to_i\n    if turn == 10\n        puts \"------\\nGame Over!\\nThe Battleship coordinates were:#{ship_row},#{ship_col}\"\n        break\n    elsif (guess_row == ship_row) &amp;&amp; (guess_col == ship_col)\n        puts \"Congratulations! You sunk my battleship!\"\n        break\n    else\n        if ((guess_row &lt; 0) || (guess_row &gt; 9)) || ((guess_col &lt; 0) || (guess_col &gt; 9))\n            puts \"Oops, that's not even in the ocean.\"\n        elsif(board[guess_row][guess_col] == \"X\")\n            puts \"You guessed that one already.\"\n        else\n            puts \"You missed my battleship!\"\n            board[guess_row][guess_col] = \"X\"\n              #if turn == 10\n                #  puts \"Game Over\\nThe Battleship coordinates were:#{ship_row},#{ship_col}\"\n               #   break\n              #end\n        end\n    end\n    print_board(board)\n  end\nend\nplay_battleship\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 891, "user_id": 4007550, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4f22cbbd226f7e9c739b7dc6fb49fff6?s=128&d=identicon&r=PG&f=1", "display_name": "Lilp", "link": "https://stackoverflow.com/users/4007550/lilp"}, "edited": false, "score": 0, "creation_date": 1421873125, "post_id": 28076431, "comment_id": 44531950, "body": "So with RVM could i install two different ruby version on my machine so that over the coming weeks i could work on this and my old work?"}, {"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "reply_to_user": {"reputation": 891, "user_id": 4007550, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4f22cbbd226f7e9c739b7dc6fb49fff6?s=128&d=identicon&r=PG&f=1", "display_name": "Lilp", "link": "https://stackoverflow.com/users/4007550/lilp"}, "edited": false, "score": 0, "creation_date": 1421873247, "post_id": 28076431, "comment_id": 44532006, "body": "Yes, correct. You can install several different Ruby versions, switch from one to other on the fly. And each version can have its own gemsets."}, {"owner": {"reputation": 891, "user_id": 4007550, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4f22cbbd226f7e9c739b7dc6fb49fff6?s=128&d=identicon&r=PG&f=1", "display_name": "Lilp", "link": "https://stackoverflow.com/users/4007550/lilp"}, "edited": false, "score": 0, "creation_date": 1421873393, "post_id": 28076431, "comment_id": 44532071, "body": "When you said drop the gemset do you literally mean the gemfile specifications?"}], "tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 3, "last_activity_date": 1421872950, "creation_date": 1421872950, "answer_id": 28076431, "question_id": 28076373, "link": "https://stackoverflow.com/questions/28076373/downgrading-to-rails-3-2-18-from-4-1-1/28076431#28076431", "title": "downgrading to rails 3.2.18 from 4.1.1", "body": "<p>My suggestion is to <a href=\"https://rvm.io/\" rel=\"nofollow\">install RVM</a> and install Ruby 1.9.3 on your machine. Create a gemset specific for the app you want to work with.</p>\n\n<p>When you finish to work on that app, simply drop the gemset and your existing configuration will not be affected.</p>\n"}, {"tags": [], "owner": {"reputation": 1522, "user_id": 1762987, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e8d3054c8497b609e12907e1e4723da?s=128&d=identicon&r=PG", "display_name": "Sander Garretsen", "link": "https://stackoverflow.com/users/1762987/sander-garretsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1421873651, "creation_date": 1421873651, "answer_id": 28076623, "question_id": 28076373, "link": "https://stackoverflow.com/questions/28076373/downgrading-to-rails-3-2-18-from-4-1-1/28076623#28076623", "title": "downgrading to rails 3.2.18 from 4.1.1", "body": "<p>Alternatively to RVM, you can use <a href=\"https://github.com/sstephenson/rbenv\" rel=\"nofollow\">rbenv</a>, which is recommended by rails:</p>\n\n<blockquote>\n  <p>We recommend managing your Ruby installation through rbenv. It\u2019s an\n  easy way to run multiple versions for different applications and\n  update when a new release is made.</p>\n</blockquote>\n\n<p>source: <a href=\"http://rubyonrails.org/download/\" rel=\"nofollow\">http://rubyonrails.org/download/</a></p>\n"}], "owner": {"reputation": 891, "user_id": 4007550, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/4f22cbbd226f7e9c739b7dc6fb49fff6?s=128&d=identicon&r=PG&f=1", "display_name": "Lilp", "link": "https://stackoverflow.com/users/4007550/lilp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 28076431, "answer_count": 2, "score": 1, "last_activity_date": 1421873651, "creation_date": 1421872667, "question_id": 28076373, "link": "https://stackoverflow.com/questions/28076373/downgrading-to-rails-3-2-18-from-4-1-1", "title": "downgrading to rails 3.2.18 from 4.1.1", "body": "<p>I am wondering if someone could give me some advice. I am looking to help someone out with an app thats in Rails 3 and everything i have done has been with Rails 4. How do i go about setting myself up to work on this without disrupting all my rails 4 work?</p>\n\n<p>the versions required for the project are as follows:\nRuby version 1.9.3-p448\nRails version 3.2.18</p>\n\n<p>The versions on my mac are \nRuby version ruby 2.1.1p76\nRails version 4.1.1</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2546, "user_id": 2603130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/60f46755895fd7c8bfa4f39d527ba9a8?s=128&d=identicon&r=PG", "display_name": "radubogdan", "link": "https://stackoverflow.com/users/2603130/radubogdan"}, "edited": false, "score": 0, "creation_date": 1421872482, "post_id": 28076198, "comment_id": 44531629, "body": "Rails4? You can use <code>has_secure_password</code> in the model if you have a <code>password_digest</code> attribute."}], "answers": [{"tags": [], "owner": {"reputation": 5304, "user_id": 740394, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/796442b522b037319711277a81d775ca?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/740394/rodrigo"}, "is_accepted": true, "score": 4, "last_activity_date": 1421872362, "creation_date": 1421872362, "answer_id": 28076278, "question_id": 28076198, "link": "https://stackoverflow.com/questions/28076198/create-random-password-when-creating-new-user-with-rails/28076278#28076278", "title": "Create random password when creating new user with Rails", "body": "<p>Use the <code>before_create</code> callback:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  before_create :create_password\n\n  private\n  def create_password\n    self.password = SecureRandom.base64(8)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 3192784, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5eba1e6692c55f2102c22e206e3a23be?s=128&d=identicon&r=PG", "display_name": "Raz", "link": "https://stackoverflow.com/users/3192784/raz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 2, "accepted_answer_id": 28076278, "answer_count": 1, "score": 3, "last_activity_date": 1421872362, "creation_date": 1421871999, "question_id": 28076198, "link": "https://stackoverflow.com/questions/28076198/create-random-password-when-creating-new-user-with-rails", "title": "Create random password when creating new user with Rails", "body": "<p>I would like to use @value = SecureRandom.base64(8) to set the password filed when I create a new user only. I don't want it to happened when I edit the user. So my question is where do I use the  SecureRandom.base64(8) in the users_controller.rb or the models/user.rb</p>\n\n<p><strong>This is the users_controller.rb</strong> </p>\n\n<pre><code>def create\n    if user.save\n      user.send_invitation\n      redirect_to root_url, notice: \"Signed up!\"\n    else\n      render :new\n    end\n  end\n\n  def destroy\n    @user = User.find(params[:id])\n\n    if @user.destroy\n        redirect_to root_url, notice: \"User was deleted successfully!\"\n    end\n  end\n\n  def edit\n    respond_with(user)\n  end\n\n  def update\n    @user.password_confirmation = User.value\n    params[:user].delete(:password) if params[:user][:password].blank?\n    params[:user].delete(:password_confirmation) if params[:user][:password_confirmation].blank?\n    if user.save\n      redirect_to users_path, :notice =&gt; \"Saved your updates!\"\n    else\n      render :edit\n    end\n  end\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3785647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d8d16765cf5ad2c3eaab341d2fb4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jigmet", "link": "https://stackoverflow.com/users/3785647/jigmet"}, "edited": false, "score": 0, "creation_date": 1421873061, "post_id": 28076170, "comment_id": 44531922, "body": "I am new to Ruby On Rails, yet to get a gang of it. Can you please guide me with the necessary steps?? to solve the problem."}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "reply_to_user": {"reputation": 1, "user_id": 3785647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d8d16765cf5ad2c3eaab341d2fb4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jigmet", "link": "https://stackoverflow.com/users/3785647/jigmet"}, "edited": false, "score": 0, "creation_date": 1421874569, "post_id": 28076170, "comment_id": 44532633, "body": "The expression is &quot;the hang of it&quot;. I would like to help but this is the wrong forum and someone would need to understand what your requirements and objectives are. Do you have a local community of ror developers? Is try there first."}], "tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 2, "last_activity_date": 1421871837, "creation_date": 1421871837, "answer_id": 28076170, "question_id": 28075957, "link": "https://stackoverflow.com/questions/28075957/ruby-on-rails-nameerror-in-statusescontrollercreate/28076170#28076170", "title": "Ruby on Rails: NameError in StatusesController#create", "body": "<p>you have </p>\n\n<pre><code>params.require(:status).permit(:name, :content)\n</code></pre>\n\n<p>But you have no column <code>name</code> in your db/schema.rb so you don't have that field in your model.</p>\n\n<p>You either need to add the column through a migration, or remove it from your params.</p>\n\n<p>The error message means look at line 27 of your statuses controller, by the way.</p>\n"}, {"tags": [], "owner": {"reputation": 1522, "user_id": 1762987, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e8d3054c8497b609e12907e1e4723da?s=128&d=identicon&r=PG", "display_name": "Sander Garretsen", "link": "https://stackoverflow.com/users/1762987/sander-garretsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1421872518, "last_edit_date": 1421872518, "creation_date": 1421872190, "answer_id": 28076248, "question_id": 28075957, "link": "https://stackoverflow.com/questions/28075957/ruby-on-rails-nameerror-in-statusescontrollercreate/28076248#28076248", "title": "Ruby on Rails: NameError in StatusesController#create", "body": "<p>You removed the column \"name\" in your migration file called <code>20150121142351_add_user_id_to_statuses.rb</code></p>\n\n<p>In that file you removed the column like this:</p>\n\n<pre><code> remove_column :statuses, :name\n</code></pre>\n\n<p>Create the field again and your problem will be solved</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3785647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d8d16765cf5ad2c3eaab341d2fb4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jigmet", "link": "https://stackoverflow.com/users/3785647/jigmet"}, "edited": false, "score": 0, "creation_date": 1421875821, "post_id": 28076920, "comment_id": 44533257, "body": "Thanks a lot. It worked!!!!!"}, {"owner": {"reputation": 1, "user_id": 4115051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vM59y.jpg?s=128&g=1", "display_name": "AJinLA", "link": "https://stackoverflow.com/users/4115051/ajinla"}, "reply_to_user": {"reputation": 1, "user_id": 3785647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d8d16765cf5ad2c3eaab341d2fb4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jigmet", "link": "https://stackoverflow.com/users/3785647/jigmet"}, "edited": false, "score": 0, "creation_date": 1421878759, "post_id": 28076920, "comment_id": 44534712, "body": "Awesome. Please select as Answered :)"}], "tags": [], "owner": {"reputation": 1, "user_id": 4115051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vM59y.jpg?s=128&g=1", "display_name": "AJinLA", "link": "https://stackoverflow.com/users/4115051/ajinla"}, "is_accepted": false, "score": 0, "last_activity_date": 1421874807, "creation_date": 1421874807, "answer_id": 28076920, "question_id": 28075957, "link": "https://stackoverflow.com/questions/28075957/ruby-on-rails-nameerror-in-statusescontrollercreate/28076920#28076920", "title": "Ruby on Rails: NameError in StatusesController#create", "body": "<p>Did you mean to get rid of the :name column? If you did, then just change this:</p>\n\n<pre><code>params.require(:status).permit(:name, :content)\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>params.require(:status).permit(:content)\n</code></pre>\n\n<p>If you still need that :name column, then</p>\n\n<p>rails generate migration AddNameToStatuses\nand in the migration file, write the following:</p>\n\n<pre><code>def change\n    add_column :statuses, :name, :string\nend\n</code></pre>\n\n<p>After you do that, then run: rake db:migrate, restart your server and you should be good to go!</p>\n"}], "owner": {"reputation": 1, "user_id": 3785647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d8d16765cf5ad2c3eaab341d2fb4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jigmet", "link": "https://stackoverflow.com/users/3785647/jigmet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1421880889, "answer_count": 3, "score": -2, "last_activity_date": 1421874807, "creation_date": 1421870969, "question_id": 28075957, "link": "https://stackoverflow.com/questions/28075957/ruby-on-rails-nameerror-in-statusescontrollercreate", "closed_reason": "Not suitable for this site", "title": "Ruby on Rails: NameError in StatusesController#create", "body": "<p>Hi iam getting this error:NameError in StatusesController#create\nuninitialized constant Status::Name</p>\n\n<p>I am not sure where the error is but it says:app/controllers/statuses_controller.rb:27:in `create'</p>\n\n<p>this is my Project on github <a href=\"https://github.com/Jigmet/Treebook\" rel=\"nofollow\">https://github.com/Jigmet/Treebook</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "oauth", "bigcommerce"], "comments": [{"owner": {"reputation": 923, "user_id": 2421126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3kVM.jpg?s=128&g=1", "display_name": "developerscott", "link": "https://stackoverflow.com/users/2421126/developerscott"}, "edited": false, "score": 0, "creation_date": 1421941688, "post_id": 28075775, "comment_id": 44562130, "body": "I don&#39;t think they have said. My sense in watching the transition has been that it seems they moving away from these &quot;official&quot; code sets - Ruby, PHP, or otherwise."}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 693554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3118813167b6e621ded999febc27f12b?s=128&d=identicon&r=PG", "display_name": "corthmann", "link": "https://stackoverflow.com/users/693554/corthmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1422522987, "creation_date": 1422522987, "answer_id": 28210870, "question_id": 28075775, "link": "https://stackoverflow.com/questions/28075775/official-bigcommerce-api-ruby-gem-not-using-oauth/28210870#28210870", "title": "Official BigCommerce-api-ruby gem not using OAuth?", "body": "<p>I don't think they've mentioned an exact time when they transition completely to OAuth yet.</p>\n\n<p>However, I've made <a href=\"https://rubygems.org/gems/bigcommerce-oauth-api\" rel=\"nofollow\">this gem</a> which supports all the current BigCommerce APIs using OAuth.</p>\n\n<p>One of the advantages of my gem is that it uses the same structure as the official gem which makes it easy to switch to using OAuth without having to rewrite your existing code.</p>\n"}], "owner": {"reputation": 81, "user_id": 2355004, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cdb97a3f82dc993126c45e965da9a7bd?s=128&d=identicon&r=PG", "display_name": "Dave Park", "link": "https://stackoverflow.com/users/2355004/dave-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1422522987, "creation_date": 1421870262, "question_id": 28075775, "link": "https://stackoverflow.com/questions/28075775/official-bigcommerce-api-ruby-gem-not-using-oauth", "title": "Official BigCommerce-api-ruby gem not using OAuth?", "body": "<p>So I know that BigCommerce is transitioning completely over to OAuth soon, but their \"official\" ruby gem still uses the old API key authentication (from connection.rb):</p>\n\n<pre><code>\"#{@configuration[:store_url]}/api/v2#{path}.json\"\n</code></pre>\n\n<p>I'm considering transitioning over to the unofficial community-based bigcommerce_api gem instead, but then I'll have to change the api calls in most cases inside of my code.</p>\n\n<p>Thoughts?  Does anyone know if BigCommerce is going to update their gem before the transition is complete? </p>\n"}, {"tags": ["ruby", "bash", "shell", "ubuntu"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 4, "creation_date": 1421869526, "post_id": 28075541, "comment_id": 44530172, "body": "Print it. Ruby vars are just that: Ruby vars. You can also exit with a value."}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1421870598, "post_id": 28075541, "comment_id": 44530749, "body": "@DaveNewton is correct you can use  STDOUT which print and puts both utilize as <code>$stdout</code>. This will output to the standard output stream. You could also right the results to a file and parse the file after the script completes. Here is a nice little post on the subject of <a href=\"http://zetcode.com/lang/rubytutorial/io/\" rel=\"nofollow noreferrer\">IO in Ruby</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 0, "creation_date": 1421871770, "post_id": 28075910, "comment_id": 44531326, "body": "thanks for +1  but my answer is out of subject given it is ruby. anyway , print in ruby or in python is the very same way."}], "tags": [], "owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "is_accepted": false, "score": 10, "last_activity_date": 1421871946, "last_edit_date": 1421871946, "creation_date": 1421870774, "answer_id": 28075910, "question_id": 28075541, "link": "https://stackoverflow.com/questions/28075541/is-it-possible-to-return-value-from-ruby-script-and-read-that-value-inside-c-or/28075910#28075910", "title": "Is it possible to return value from ruby script and read that value inside c or shell script?", "body": "<p>print your variable within ruby/python script, it can then be read from a shell script by example :</p>\n\n<pre><code>#!/bin/bash\nruby_var=$(ruby myrubyscript.rb)\npython_var=$(python mypythonscript.py)\n\necho \"$ruby_var\"\necho \"$python_var\"\n</code></pre>\n\n<p>take care your ruby/python script only print this variable ( there are more complicated ways with named pipes by example for more interaction ).</p>\n"}, {"comments": [{"owner": {"reputation": 15257, "user_id": 363503, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/62a28165d1f115fcc1be6c3cf401d30f?s=128&d=identicon&r=PG", "display_name": "krunal shah", "link": "https://stackoverflow.com/users/363503/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1421871908, "post_id": 28076108, "comment_id": 44531390, "body": "Is it possible to return the filename? Is there any other way to access the filename ?"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1421872022, "post_id": 28076108, "comment_id": 44531439, "body": "Note that an exit status of anything other than zero indicates an error."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 15257, "user_id": 363503, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/62a28165d1f115fcc1be6c3cf401d30f?s=128&d=identicon&r=PG", "display_name": "krunal shah", "link": "https://stackoverflow.com/users/363503/krunal-shah"}, "edited": false, "score": 0, "creation_date": 1421874869, "post_id": 28076108, "comment_id": 44532795, "body": "@krunalshah, you want philippe lhardy&#39;s answer to return a string from the child process to the shell."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1421874992, "post_id": 28076108, "comment_id": 44532855, "body": "@Ajedi32, by convention yes. But since there are 256 possible exit status, it can convey more information than the binary &quot;success|failure&quot; status."}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 1, "creation_date": 1421875381, "post_id": 28076108, "comment_id": 44533032, "body": "@glennjackman Well, it&#39;s a little more than <i>just</i> convention. There are many commonly used Unix commands and processes into which this convention is heavily ingrained. For example, try running <code>set -e</code> in your terminal, then try that example in your answer again. My point is, while you technically <i>can</i> use the exit status to return values from Unix commands, I wouldn&#39;t recommend using it in a real application for anything other than error codes."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 4, "last_activity_date": 1421871604, "creation_date": 1421871604, "answer_id": 28076108, "question_id": 28075541, "link": "https://stackoverflow.com/questions/28075541/is-it-possible-to-return-value-from-ruby-script-and-read-that-value-inside-c-or/28076108#28076108", "title": "Is it possible to return value from ruby script and read that value inside c or shell script?", "body": "<p>If the value is an integer between 0 and 255, you can use the exit status</p>\n\n<pre><code>$ ruby -e 'var=42; exit var'\n$ val=$?\n$ echo $val\n42\n</code></pre>\n"}], "owner": {"reputation": 15257, "user_id": 363503, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/62a28165d1f115fcc1be6c3cf401d30f?s=128&d=identicon&r=PG", "display_name": "krunal shah", "link": "https://stackoverflow.com/users/363503/krunal-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5757, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1421871946, "creation_date": 1421869423, "question_id": 28075541, "link": "https://stackoverflow.com/questions/28075541/is-it-possible-to-return-value-from-ruby-script-and-read-that-value-inside-c-or", "title": "Is it possible to return value from ruby script and read that value inside c or shell script?", "body": "<p>How can we return value from ruby script?</p>\n\n<pre><code>#!/usr/bin/env ruby\n\na = \"test\"\na\n</code></pre>\n\n<p>How can we access the value of 'a' in Ubuntu terminal or java or c?</p>\n"}, {"tags": ["ruby", "amazon-web-services", "fog"], "answers": [{"tags": [], "owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "is_accepted": false, "score": 0, "last_activity_date": 1455477647, "last_edit_date": 1455477647, "creation_date": 1421869688, "answer_id": 28075607, "question_id": 28075204, "link": "https://stackoverflow.com/questions/28075204/how-can-i-export-existing-aws-elb-policies-undefined-method-reduce/28075607#28075607", "title": "How can I export existing AWS ELB policies? undefined method &#39;reduce&#39;", "body": "<p>That error message means that on line 20 of <code>policies.rb</code> there is code like <code>foo.reduce</code> and <code>foo</code> happens to be <code>nil</code>.</p>\n\n<p>If we look at the source code of the gem, we see:</p>\n\n<pre><code>def munged_data\n  data.reduce([]){ |m,e|  # line 20\n</code></pre>\n\n<p>So, the problem is that <code>data</code> is <code>nil</code> when the <code>munged_data</code> method is called. We see on line 8 of the same file that <code>data</code> is defined via a simple <code>attr_accessor</code> call. I cannot tell for sure where that should have been set. (There are 227 instances of <code>@data =</code> or <code>data =</code> in the gem.) This seems like a bug in the AWS gem, unless you were supposed to call some method before calling <code>.all</code> on <code>policies</code>.</p>\n\n<hr>\n\n<p>Tracing further, we see that <code>policies</code> is defined in <code>load_balancer.rb</code> on line 154 as:</p>\n\n<pre><code>def policies\n  Fog::AWS::ELB::Policies.new({\n    :data =&gt; policy_descriptions,\n    :service =&gt; service,\n    :load_balancer =&gt; self\n  })\nend\n</code></pre>\n\n<p>Assuming that the <code>data</code> passed to the method is used directly as the <code>@data</code> instance variable, then the problem is that <code>policy_descriptions</code> returned <code>nil</code>.</p>\n\n<p>The implementation of <code>policy_descriptions</code> is:</p>\n\n<pre><code>def policy_descriptions\n  requires :id\n  @policy_descriptions ||= service.describe_load_balancer_policies(id).body[\"DescribeLoadBalancerPoliciesResult\"][\"PolicyDescriptions\"]\nend\n</code></pre>\n\n<p>If <code>service.describe_load_balancer_policies(id).body[\"DescribeLoadBalancerPoliciesResult\"]</code> returned <code>nil</code> (or any object that did not have a <code>[]</code> method) this method would have thrown an error. So, my deduction is that this returned something like a hash, but that hash has no <code>\"PolicyDescriptions\"</code> key.</p>\n\n<p>From there...I don't know.</p>\n"}], "owner": {"reputation": 21, "user_id": 3065764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8272d3e991c34bc1e1b95741476b82e5?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Augustus", "link": "https://stackoverflow.com/users/3065764/dave-augustus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1455477647, "creation_date": 1421868358, "last_edit_date": 1421869261, "question_id": 28075204, "link": "https://stackoverflow.com/questions/28075204/how-can-i-export-existing-aws-elb-policies-undefined-method-reduce", "title": "How can I export existing AWS ELB policies? undefined method &#39;reduce&#39;", "body": "<p>We want to export our ELB configurations for re-use. I can get the ELB configs with:</p>\n\n<pre><code>all_elbs = Fog::AWS::ELB.load_balancers.all()\n</code></pre>\n\n<p>But this returns a failure:</p>\n\n<pre><code>all_policies = Fog::AWS::ELB.policies.all()\n#=&gt; /Library/Ruby/Gems/2.0.0/gems/fog-aws-0.0.6/lib/fog/aws/models/elb/policies.rb:20:\n#=&gt; in `munged_data': undefined method `reduce' for nil:NilClass (NoMethodError)\n</code></pre>\n\n<p>Ultimately, I want to be able to recreate a ELB based on an existing ELB.</p>\n"}, {"tags": ["mysql", "sql", "ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1421869504, "post_id": 28075542, "comment_id": 44530157, "body": "couldn&#39;t be more awesome! +1"}], "tags": [], "owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "is_accepted": true, "score": 3, "last_activity_date": 1421869427, "creation_date": 1421869427, "answer_id": 28075542, "question_id": 28075155, "link": "https://stackoverflow.com/questions/28075155/multiple-distinct-count-for-activerecord-resource/28075542#28075542", "title": "Multiple distinct count for ActiveRecord resource", "body": "<p>Here is a concise way to do it : </p>\n\n<pre><code>Foo.distinct.count(\"CONCAT(attribute1,attribute2)\")\n</code></pre>\n"}], "owner": {"reputation": 1973, "user_id": 806495, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5c29b306703729375c68f4148527467?s=128&d=identicon&r=PG", "display_name": "Leszek Andrukanis", "link": "https://stackoverflow.com/users/806495/leszek-andrukanis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 2, "accepted_answer_id": 28075542, "answer_count": 1, "score": 0, "last_activity_date": 1421869427, "creation_date": 1421868179, "question_id": 28075155, "link": "https://stackoverflow.com/questions/28075155/multiple-distinct-count-for-activerecord-resource", "title": "Multiple distinct count for ActiveRecord resource", "body": "<p>I'd like to count records by unique pair of attributes <code>attribute1</code> <code>attribute2</code>.</p>\n\n<p>So for table <code>foo</code></p>\n\n<pre><code>-----------------------------\nid | attribute1 | attribute2 |\n-----------------------------\n1  | x          | y          |\n2  | x          | y          |\n3  | x          | y1         |\n4  | x1         | y1         |\n</code></pre>\n\n<p>I'd like to get count = 3, so counted records: <code>([x,y], [x,y1], [x1,y1])</code>.\nHow to write this query with ActiveRecord ?</p>\n"}, {"tags": ["ruby", "jekyll", "microdata", "jekyll-extensions"], "comments": [{"owner": {"reputation": 185, "user_id": 2565245, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6b10d5767d1e29006c11e1a2c590f3c?s=128&d=identicon&r=PG", "display_name": "clark", "link": "https://stackoverflow.com/users/2565245/clark"}, "edited": false, "score": 0, "creation_date": 1421866807, "post_id": 28074711, "comment_id": 44528698, "body": "Here&#39;s the markdown I&#39;ve written, the current output, and the desired output: <a href=\"http://pastebin.com/YQ77C970\" rel=\"nofollow noreferrer\">pastebin.com/YQ77C970</a>"}], "answers": [{"tags": [], "owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "is_accepted": true, "score": 1, "last_activity_date": 1422003354, "creation_date": 1422003354, "answer_id": 28106176, "question_id": 28074711, "link": "https://stackoverflow.com/questions/28074711/inserting-microdata-into-jekyll-output/28106176#28106176", "title": "Inserting Microdata into Jekyll output?", "body": "<p>Found a way in <a href=\"http://kramdown.gettalong.org/quickref.html\" rel=\"nofollow\">kramdown documentation</a></p>\n\n<ul>\n<li>{: itemprop=\"ingredient\"} 2 tablespoons butter</li>\n<li>{: itemprop=\"ingredient\"} 1 cup diced onion</li>\n<li>{: itemprop=\"ingredient\"} 1 cup shredded carrot</li>\n</ul>\n\n<p>But what if :</p>\n\n<ul>\n<li>you put your ingredients in the front matter</li>\n</ul>\n\n<p><strong>my_recipe.md</strong></p>\n\n<pre><code>---\nlayout: page\ntitle: My nice recipe\ningredients:\n    - 2 tablespoons butter\n    - 1 cup diced onion\n    - 1 cup shredded carrot\n---\n\n{% include recipe_head.html %}\n\n###How to do it\n\n...\n</code></pre>\n\n<ul>\n<li>make a template</li>\n</ul>\n\n<p>**_includes/recipe_head.html</p>\n\n<pre><code>&lt;h3&gt;{{ page.title }}&lt;/h3&gt;\n&lt;h4&gt;Ingredients&lt;/h4&gt;\n&lt;ul&gt;\n    {% for ingredient in page.ingredients %}\n    &lt;li itemprop=\"ingredient\"&gt;{{ ingredient }}&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n</code></pre>\n\n<p>This will be far more maintainable.</p>\n"}], "owner": {"reputation": 185, "user_id": 2565245, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6b10d5767d1e29006c11e1a2c590f3c?s=128&d=identicon&r=PG", "display_name": "clark", "link": "https://stackoverflow.com/users/2565245/clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 1, "accepted_answer_id": 28106176, "answer_count": 1, "score": 2, "last_activity_date": 1422003354, "creation_date": 1421866611, "last_edit_date": 1421934072, "question_id": 28074711, "link": "https://stackoverflow.com/questions/28074711/inserting-microdata-into-jekyll-output", "title": "Inserting Microdata into Jekyll output?", "body": "<p>I've got a recipe site I'm powering with Jekyll, and now I want to add Microdata (<code>itemscope</code>, <code>itemprop</code>, etc.) into the output static page. I've got a couple lists (ingredients, directions, etc.) and I'm not sure how to have Jekyll render these with the added Microdata tacked on.</p>\n\n<p>I assume I need a Convertor or Filter or some other thing, but I've got next to no experience with Jekyll. Anyone done something similar before?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "edited": false, "score": 1, "creation_date": 1421866861, "post_id": 28074525, "comment_id": 44528729, "body": "You should create a helper for this, there&#39;s a little too much logic here for the view itself"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "reply_to_user": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "edited": false, "score": 0, "creation_date": 1421867098, "post_id": 28074525, "comment_id": 44528854, "body": "So what could I do with a helper? Can you provide an example please"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "edited": false, "score": 0, "creation_date": 1422004347, "post_id": 28075013, "comment_id": 44587286, "body": "That&#39;s a brilliant answer and works perfectly, thank you! If you wouldn&#39;t mind can you please explain what different parts of the code are doing as I&#39;m fairly new to RoR, for example: {|showing| showing.show_date.strftime(&quot;%A %e %B %Y&quot;) }.to_a.each do |showing| and showing.last.map{|s| s.show_time.strftime(&quot;%H:%M&quot;)}.join(&#39; &#39;). Also you&#39;re joining the times with a space in between, is there a way I could do it so that each time goes onto a new line?"}, {"owner": {"reputation": 1168, "user_id": 2551024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c64dfe155dc7e2d79ec11ec61e254b?s=128&d=identicon&r=PG", "display_name": "Xing", "link": "https://stackoverflow.com/users/2551024/xing"}, "edited": false, "score": 0, "creation_date": 1422038516, "post_id": 28075013, "comment_id": 44607239, "body": "Please try to use &#39;pry&#39; gem and debug on the view one by one. @film.showings.group_by{|showing| showing.show_date.strftime(&quot;%A %e %B %Y&quot;) }, this one will create hash -  date as key, and showings array in same date as value. and then .to_a will convert them to two demensional array - first one will be key of hash, second one will be value of hash. and need to loop them one by one and display. so, showing.last will be showings array of a date."}, {"owner": {"reputation": 1168, "user_id": 2551024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c64dfe155dc7e2d79ec11ec61e254b?s=128&d=identicon&r=PG", "display_name": "Xing", "link": "https://stackoverflow.com/users/2551024/xing"}, "edited": false, "score": 0, "creation_date": 1422038901, "post_id": 28075013, "comment_id": 44607459, "body": "Please try to use &#39;pry&#39; gem and debug on the view one by one. @film.showings.group_by{|showing| showing.show_date.strftime(&quot;%A %e %B %Y&quot;) }, this one will create hash -  date as key, and showings array in same date as value. and then .to_a will convert them to two demensional array - first one will be key of hash, second one will be value of hash. and need to loop them one by one and display. so, showing.last will be showings array of a date. and showing.last.map{|s| s.show_time.strftime(&quot;%H:%M&quot;)}, will create array of hours from showings array, and .join(&#39; &#39;) to add spaces between hours."}], "tags": [], "owner": {"reputation": 1168, "user_id": 2551024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c64dfe155dc7e2d79ec11ec61e254b?s=128&d=identicon&r=PG", "display_name": "Xing", "link": "https://stackoverflow.com/users/2551024/xing"}, "is_accepted": true, "score": 1, "last_activity_date": 1421867689, "creation_date": 1421867689, "answer_id": 28075013, "question_id": 28074525, "link": "https://stackoverflow.com/questions/28074525/ruby-on-rails-only-show-data-value-once-if-there-are-more-than-one-of-the-same/28075013#28075013", "title": "Ruby on Rails only show data value once if there are more than one of the same", "body": "<p>You should group records by date and join hours.</p>\n\n<pre><code>&lt;% if not @film.showings.blank? %&gt;\nTo book click on a time below:&lt;/br&gt;\n&lt;% @film.showings.group_by{|showing| showing.show_date.strftime(\"%A %e %B %Y\") }.to_a.each do |showing| %&gt;\n    &lt;%= showing.first %&gt;@ &lt;%= showing.last.map{|s| s.show_time.strftime(\"%H:%M\")}.join(' ')  %&gt;&lt;br&gt;            \n&lt;% end %&gt;\n&lt;% else %&gt;\n    &lt;p&gt;There are currently no showings for this film.&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "edited": false, "score": 0, "creation_date": 1421868136, "post_id": 28075080, "comment_id": 44529382, "body": "So this would go in my show.rb model? How do I call the method from the show.html.erb view? Sorry I&#39;m pretty new to Ruby on Rails."}], "tags": [], "owner": {"reputation": 4286, "user_id": 2423093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ao9H5.png?s=128&g=1", "display_name": "Alex Peachey", "link": "https://stackoverflow.com/users/2423093/alex-peachey"}, "is_accepted": false, "score": 0, "last_activity_date": 1421867911, "creation_date": 1421867911, "answer_id": 28075080, "question_id": 28074525, "link": "https://stackoverflow.com/questions/28074525/ruby-on-rails-only-show-data-value-once-if-there-are-more-than-one-of-the-same/28075080#28075080", "title": "Ruby on Rails only show data value once if there are more than one of the same", "body": "<p>You could place a function like this in helpers or a decorator if you are using them. I'm assuming you pass in the showings from <code>@file.showings</code>. This will return an array that is how you want that you could loop over in the view and display.</p>\n\n<pre><code>def show_times(showings)\n  showings.each_with_object({}) do |showing, hash|\n    key = showing.show_date.strftime(\"%A %e %B %Y\")\n    hash[key] ||= []\n    hash[key] &lt;&lt; showing.show_time.strftime(\"%H:%M\")\n  end.map do |date, times|\n    \"#{date} @ #{times.join(' ')}\"\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "is_accepted": false, "score": 0, "last_activity_date": 1421869085, "creation_date": 1421869085, "answer_id": 28075429, "question_id": 28074525, "link": "https://stackoverflow.com/questions/28074525/ruby-on-rails-only-show-data-value-once-if-there-are-more-than-one-of-the-same/28075429#28075429", "title": "Ruby on Rails only show data value once if there are more than one of the same", "body": "<p>Given an array of datetime objects, you can use the following code to extract a nested hash of date and time showings. It probably best lives inside your <strong>Film</strong> model.</p>\n\n<pre><code>def showings_hash\n  showings.pluck(:show_time).map {|datetime| datetime.to_date}.uniq.map{|date| {date =&gt; dates.select{|datetime| date == datetime.to_date}}}\nend\n</code></pre>\n\n<p>This returns:</p>\n\n<pre><code>- 2015-01-12:\n  - !ruby/object:DateTime 2015-01-12 18:00:00.000000000 Z\n  - !ruby/object:DateTime 2015-01-12 19:00:00.000000000 Z\n  - !ruby/object:DateTime 2015-01-12 20:00:00.000000000 Z\n- 2015-01-13:\n  - !ruby/object:DateTime 2015-01-13 20:00:00.000000000 Z\n</code></pre>\n\n<p>You can then iterate through each showing date in the view like so:</p>\n\n<pre><code>&lt;% @film.showings_hash.each do |showing_date| %&gt;\n  &lt;li&gt;\n    &lt;%= showing_date %&gt;\n    &lt;% showing_date.each do |showtime| %&gt;\n      &lt;%= showtime.strftime(\"%H:%M\") %&gt;\n    &lt;% end %&gt;\n  &lt;/li&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 2, "accepted_answer_id": 28075013, "answer_count": 3, "score": 0, "last_activity_date": 1421869085, "creation_date": 1421865875, "last_edit_date": 1421868214, "question_id": 28074525, "link": "https://stackoverflow.com/questions/28074525/ruby-on-rails-only-show-data-value-once-if-there-are-more-than-one-of-the-same", "title": "Ruby on Rails only show data value once if there are more than one of the same", "body": "<p>In my ruby on rails application I am currently displaying the date and time each film is shown through:</p>\n\n<pre><code>&lt;% if not @film.showings.blank? %&gt;\n    To book click on a time below:&lt;/br&gt;\n    &lt;% @film.showings.each do |showing| %&gt;\n        &lt;%= showing.show_date.strftime(\"%A %e %B %Y\") %&gt;@ &lt;%= showing.show_time.strftime(\"%H:%M\") %&gt;&lt;br&gt;            \n    &lt;% end %&gt;\n&lt;% else %&gt;\n    &lt;p&gt;There are currently no showings for this film.&lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>And this displays data like the following:</p>\n\n<pre><code>Sunday 25 January 2015 @ 12:00\nSunday 25 January 2015 @ 16:00\nMonday 26 January 2015 @ 11:00\nMonday 26 January 2015 @ 22:00\nTuesday 27 January 2015 @ 22:00\nWednesday 28 January 2015 @ 11:00\nWednesday 28 January 2015 @ 12:00\nWednesday 28 January 2015 @ 16:00\nWednesday 28 January 2015 @ 19:30\n</code></pre>\n\n<p>But what I want to be able to do is if the date is repeated then it only shows it once and repeats the time, so for example the date Sunday 25 January 2015 would be shown as: </p>\n\n<p><code>Sunday 25 January 2015 @ 12:00 16:00</code></p>\n"}, {"tags": ["ruby", "coding-style"], "comments": [{"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421871291, "post_id": 28074356, "comment_id": 44531081, "body": "This question belongs on <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421871648, "post_id": 28074356, "comment_id": 44531277, "body": "I think I disagree, based on this from the codereview rules under the off topic section. &quot;Best practices in general (that is, it&#39;s okay to ask &quot;Does this code follow common best practices?&quot;, but not &quot;What is the best practice regarding X?&quot;)&quot;. Maybe my wording wasn&#39;t clear, but I&#39;m asking a general question about multiline parameters followed by a block. I did provide some example code, but it&#39;s more about the general approach than the specific code"}, {"owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421872031, "post_id": 28074356, "comment_id": 44531446, "body": "Forgot to add, if you have recommendations on how to edit it to make that more clear, please let me know."}, {"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421872080, "post_id": 28074356, "comment_id": 44531458, "body": "I respect your disagreement. :) I feel that it does not belong on this site because it falls under the <a href=\"http://stackoverflow.com/tour\">questions-to-avoid</a> category: &quot;Requests for lists of things, polls, <b>opinions</b>, discussions, etc.&quot;. There is no &quot;official&quot; style guide for Ruby, so there can be no correct answer to this. You&#39;re (reasonably) asking for personal preferences\u2014and asking the question well. It&#39;s just off-topic for SO, IMHO."}, {"owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 1, "creation_date": 1421940519, "post_id": 28074356, "comment_id": 44561287, "body": "I see your point, though I&#39;m not sure how it wouldn&#39;t apply to any ruby style related question. Ultimately all style questions are primarily opinion based, particularly in ruby where there is nothing official. If we close this question, why not close all the related questions on the right? These in particular seem very similar, and are highly up voted questions <a href=\"http://stackoverflow.com/questions/616037/ruby-coding-style-guidelines?rq=1\" title=\"ruby coding style guidelines\">stackoverflow.com/questions/616037/&hellip;</a> <a href=\"http://stackoverflow.com/questions/5587264/do-end-vs-curly-braces-for-blocks-in-ruby?rq=1\" title=\"do end vs curly braces for blocks in ruby\">stackoverflow.com/questions/5587264/&hellip;</a>"}, {"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421941596, "post_id": 28074356, "comment_id": 44562067, "body": "A grey area, for sure. :)"}, {"owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421949240, "post_id": 28074356, "comment_id": 44566827, "body": "Maybe it would be better for me to phrase the question as something like &quot;is there a general consensus in the ruby community for how to style x.&quot; Then the answer is a little less subjective since it&#39;s either yes or no. Thoughts?"}], "answers": [{"comments": [{"owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "edited": false, "score": 0, "creation_date": 1421870741, "post_id": 28074535, "comment_id": 44530828, "body": "I like this. I&#39;m curious if you are aware of this practice being codified in a documented style guide somewhere, or if it&#39;s just something you&#39;ve personally developed."}, {"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 1, "creation_date": 1421872773, "post_id": 28074535, "comment_id": 44531775, "body": "Or perhaps <code>collection :available_surveys, survey_options do ... end</code>"}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "reply_to_user": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "edited": false, "score": 0, "creation_date": 1421933486, "post_id": 28074535, "comment_id": 44556512, "body": "@AndrewSwerlick The only Ruby style guide I know of is the unofficial one on github and it doesn&#39;t mention this case. However, splitting complicated single-line expressions into multiple lines is a pretty standard refactoring technique across all programming languages."}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 5, "last_activity_date": 1421865931, "creation_date": 1421865931, "answer_id": 28074535, "question_id": 28074356, "link": "https://stackoverflow.com/questions/28074356/ruby-style-practice-for-multi-line-arguments-followed-by-a-block/28074535#28074535", "title": "Ruby style practice for multi-line arguments followed by a block", "body": "<p>For such a complicated method call, I would build the arguments separately and splat them:</p>\n\n<pre><code>collection_args = [\n  :available_surveys,\n  {\n    exec_context: :decorator,\n    class: Survey,\n    skip_render: lambda {|object, opts| opts[:show_all_surveys] != true }\n  }\n]\ncollection *collection_args do\n  property :name, as: :survey_name\n  property :id\nend\n</code></pre>\n"}], "owner": {"reputation": 863, "user_id": 934876, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60f5a73972bce656c8d4daf75cf8c96b?s=128&d=identicon&r=PG", "display_name": "AndrewSwerlick", "link": "https://stackoverflow.com/users/934876/andrewswerlick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "closed_date": 1421885208, "accepted_answer_id": 28074535, "answer_count": 1, "score": 2, "last_activity_date": 1421865931, "creation_date": 1421865312, "question_id": 28074356, "link": "https://stackoverflow.com/questions/28074356/ruby-style-practice-for-multi-line-arguments-followed-by-a-block", "closed_reason": "Opinion-based", "title": "Ruby style practice for multi-line arguments followed by a block", "body": "<p>What's the general reccomendation for styling and indentation in ruby when you have a method call, with arguments on multiple lines, and a block. For example</p>\n\n<pre><code>collection :available_surveys,\n  exec_context: :decorator,\n  class: Survey,\n  skip_render: lambda {|object, opts| opts[:show_all_surveys] != true } do\n    property :name, as: :survey_name\n    property :id\n  end\n</code></pre>\n\n<p>The method is collection, it has 4 arguments spread across multiple lines, and then a block argument. One of my colleagues feels the indentation style above makes the block look like it's tied to the last argument, rather than the collection method. I couldn't find any clear style recommendations on the internet.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activeadmin"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 1370688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570d3630bbf2c1c8327b2ac439b92689?s=128&d=identicon&r=PG", "display_name": "Kleber NG", "link": "https://stackoverflow.com/users/1370688/kleber-ng"}, "edited": false, "score": 0, "creation_date": 1421868538, "post_id": 28074289, "comment_id": 44529603, "body": "Oh..When I tried to add directly in the input, I was using     f.inputs do       f.input :product, value: products_value without the input_html. Thank&#39;s."}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": true, "score": 1, "last_activity_date": 1421865035, "creation_date": 1421865035, "answer_id": 28074289, "question_id": 28074232, "link": "https://stackoverflow.com/questions/28074232/activeadmin-set-resources-attributes-on-action/28074289#28074289", "title": "Activeadmin set resource&#39;s attributes on action", "body": "<p>Just add the value to the form field as follows:</p>\n\n<pre><code>  f.inputs do\n    f.input :product, input_html: { value: products_value }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 1370688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570d3630bbf2c1c8327b2ac439b92689?s=128&d=identicon&r=PG", "display_name": "Kleber NG", "link": "https://stackoverflow.com/users/1370688/kleber-ng"}, "is_accepted": false, "score": 0, "last_activity_date": 1421868894, "creation_date": 1421868894, "answer_id": 28075377, "question_id": 28074232, "link": "https://stackoverflow.com/questions/28074232/activeadmin-set-resources-attributes-on-action/28075377#28075377", "title": "Activeadmin set resource&#39;s attributes on action", "body": "<p>I accepted Andrey Deineko's answer, but even before I saw it, I've done it in another way:\n    controller do\n      def new\n        @resource_name = ResourceName.new(...)</p>\n\n<p>so, I just defined the action method inside the block controller, creating an instance of the resource with an instance variable named as the ActiveAdmin Resource name.</p>\n"}], "owner": {"reputation": 55, "user_id": 1370688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570d3630bbf2c1c8327b2ac439b92689?s=128&d=identicon&r=PG", "display_name": "Kleber NG", "link": "https://stackoverflow.com/users/1370688/kleber-ng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 28074289, "answer_count": 2, "score": 0, "last_activity_date": 1421868894, "creation_date": 1421864841, "question_id": 28074232, "link": "https://stackoverflow.com/questions/28074232/activeadmin-set-resources-attributes-on-action", "title": "Activeadmin set resource&#39;s attributes on action", "body": "<p>I want to set a default value for an attribute of the activeadmin resource, so when it renders the form, it will use this value.\ne.g.: in the action new, I want to set the attribute <em>product</em> of the object <em>order</em> , so the form will come with the product already selected(but leting it to be changed).</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "asset-pipeline"], "comments": [{"owner": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1421863964, "post_id": 28073942, "comment_id": 44527288, "body": "Have you ran <code>rake assets:precompile</code> before launching your server?"}, {"owner": {"reputation": 838, "user_id": 4107375, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/92eb78c7c4b20429f9d22a1d5e38be57?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/4107375/jay"}, "reply_to_user": {"reputation": 51013, "user_id": 976775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30bd66ad1795804aebe249d8bcb14409?s=128&d=identicon&r=PG", "display_name": "MrYoshiji", "link": "https://stackoverflow.com/users/976775/mryoshiji"}, "edited": false, "score": 0, "creation_date": 1421865842, "post_id": 28073942, "comment_id": 44528202, "body": "Yes, I have tried that."}, {"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 0, "creation_date": 1421869614, "post_id": 28073942, "comment_id": 44530215, "body": "Do you have an file named <code>ui-checkbox-icon.css</code> in your <code>app&#47;assets&#47;stylesheets</code> folder? Development might be picking up something else."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1421874191, "post_id": 28073942, "comment_id": 44532457, "body": "Use <code>asset_path</code> helper with the filename to obtain a valid path from the asset pipeline, including the file&#39;s fingerprint (that &quot;number&quot;)."}], "answers": [{"tags": [], "owner": {"reputation": 976, "user_id": 3213313, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59ba364004f1e00b6fbf239d2891064d?s=128&d=identicon&r=PG&f=1", "display_name": "BarFooBar", "link": "https://stackoverflow.com/users/3213313/barfoobar"}, "is_accepted": false, "score": 1, "last_activity_date": 1421869709, "creation_date": 1421869709, "answer_id": 28075611, "question_id": 28073942, "link": "https://stackoverflow.com/questions/28073942/rails-public-assets-wont-load-in-test-but-they-do-load-in-dev/28075611#28075611", "title": "Rails public assets won&#39;t load in test, but they do load in dev", "body": "<p>Try <code>RAILS_ENV=test bundle exec rake assets:precompile</code> and updating your <code>environments/test.rb</code> so that <code>config.serve_static_assets = true</code>. This should update your asset pipeline configs in that environment.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4494700, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ce912e9ea220dd8916b24e328341be34?s=128&d=identicon&r=PG", "display_name": "Rudolf R&#246;misch", "link": "https://stackoverflow.com/users/4494700/rudolf-r%c3%b6misch"}, "is_accepted": false, "score": 0, "last_activity_date": 1422274938, "creation_date": 1422274938, "answer_id": 28150050, "question_id": 28073942, "link": "https://stackoverflow.com/questions/28073942/rails-public-assets-wont-load-in-test-but-they-do-load-in-dev/28150050#28150050", "title": "Rails public assets won&#39;t load in test, but they do load in dev", "body": "<p>Do you have the same settings for config.assets.digest in development.rb and in test.rb ?\n(see: <a href=\"http://guides.rubyonrails.org/asset_pipeline.html#what-is-fingerprinting-and-why-should-i-care-questionmark\" rel=\"nofollow\">http://guides.rubyonrails.org/asset_pipeline.html#what-is-fingerprinting-and-why-should-i-care-questionmark</a>)\n\"Fingerprinting\" (adding the number after the name of an asset) is enabled by default for production and disabled for all other environments. You can enable or disable it in your configuration through the config.assets.digest.</p>\n"}], "owner": {"reputation": 838, "user_id": 4107375, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/92eb78c7c4b20429f9d22a1d5e38be57?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/4107375/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1422274938, "creation_date": 1421863678, "question_id": 28073942, "link": "https://stackoverflow.com/questions/28073942/rails-public-assets-wont-load-in-test-but-they-do-load-in-dev", "title": "Rails public assets won&#39;t load in test, but they do load in dev", "body": "<p>i'm working with some legacy code and i'm having problems with some assets available in dev and not test.  When I export to PDF in dev everything works fine, but when I try in test I get this error: </p>\n\n<p>\"No such file or directory - /Users/me/current_projects/foo/public/assets/uri-checkbox-icon.css\" </p>\n\n<p>The file is there, but has a number after it like this: \"uri-checkbox-icon-0db5de580292128824f2242038cb1\"  </p>\n\n<p>Does anyone know why that would load in dev, but not test?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake", "bundler", "eventmachine"], "comments": [{"owner": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "edited": false, "score": 0, "creation_date": 1421872073, "post_id": 28073626, "comment_id": 44531457, "body": "why are you using such an old version of the gem?"}, {"owner": {"reputation": 4804, "user_id": 1269281, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ENmA7.jpg?s=128&g=1", "display_name": "bachr", "link": "https://stackoverflow.com/users/1269281/bachr"}, "reply_to_user": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "edited": false, "score": 0, "creation_date": 1421918096, "post_id": 28073626, "comment_id": 44547552, "body": "The reason is that at the end of the output from <code>rake bundle_install</code>, it asks to try <code>gem install eventmachine -v &#39;0.12.10&#39;</code> before trying to setup the project."}], "answers": [{"comments": [{"owner": {"reputation": 4804, "user_id": 1269281, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ENmA7.jpg?s=128&g=1", "display_name": "bachr", "link": "https://stackoverflow.com/users/1269281/bachr"}, "edited": false, "score": 1, "creation_date": 1421938346, "post_id": 28091352, "comment_id": 44559764, "body": "I manged to fix the issue by following this <a href=\"http://fhanik.blogspot.fr/2013/11/installing-ruby-193-on-ubuntu-1204.html\" rel=\"nofollow noreferrer\">article</a>, and it was a ruby version problem. I endup installing <code>ruby1.9.3p551</code> with <code>rvm</code>."}], "tags": [], "owner": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "is_accepted": true, "score": 0, "last_activity_date": 1421937433, "creation_date": 1421937433, "answer_id": 28091352, "question_id": 28073626, "link": "https://stackoverflow.com/questions/28073626/compile-error-when-installing-native-gem-for-eventmachine-v-0-12-10/28091352#28091352", "title": "Compile error when installing native gem for eventmachine -v &#39;0.12.10&#39;", "body": "<p>From what I have seen it seems there is an issue with this version, the only way I found to solve this issue  was this <a href=\"https://groups.google.com/forum/#!topic/rubyinstaller/_mRzGCd7DdQ\" rel=\"nofollow\">thread</a>. My suggestion is look in the Gemfile.lock and see which gem requires that version and think about if you actually need it or check if that gem is update because that is a really old version of eventmachine. </p>\n"}], "owner": {"reputation": 4804, "user_id": 1269281, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ENmA7.jpg?s=128&g=1", "display_name": "bachr", "link": "https://stackoverflow.com/users/1269281/bachr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 28091352, "answer_count": 1, "score": 1, "last_activity_date": 1421937433, "creation_date": 1421862475, "last_edit_date": 1421863035, "question_id": 28073626, "link": "https://stackoverflow.com/questions/28073626/compile-error-when-installing-native-gem-for-eventmachine-v-0-12-10", "title": "Compile error when installing native gem for eventmachine -v &#39;0.12.10&#39;", "body": "<p>I'm having trouble to setup a project with <code>rake bundle_install</code>:</p>\n\n<pre><code>$ rake bundle_install\ncd nats &amp;&amp; bundle install\nrake aborted!\nCommand failed with status (5): [cd nats &amp;&amp; bundle install...]\n\nTasks: TOP =&gt; bundle_install\n(See full trace by running task with --trace)\nFetching gem metadata from http://rubygems.org/.........\nResolving dependencies...\nUsing rake (0.9.2.2) \nUsing daemons (1.1.8) \nUsing diff-lcs (1.1.3) \nInstalling eventmachine (0.12.10) \nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n\n        /usr/bin/ruby1.9.1 extconf.rb \nchecking for rb_trap_immediate in ruby.h,rubysig.h... no\nchecking for rb_thread_blocking_region()... yes\nchecking for inotify_init() in sys/inotify.h... yes\nchecking for writev() in sys/uio.h... yes\nchecking for rb_thread_check_ints()... yes\nchecking for rb_time_new()... yes\nchecking for sys/event.h... no\nchecking for epoll_create() in sys/epoll.h... yes\nchecking for main() in -lcrypto... no\ncreating Makefile\n\nmake\ncompiling sigs.cpp\ncompiling cplusplus.cpp\ncompiling files.cpp\ncompiling kb.cpp\nkb.cpp: In member function \u00e2\u20ac\u02dcvirtual void KeyboardDescriptor::Read()\u00e2\u20ac\u2122:\nkb.cpp:79:27: warning: ignoring return value of \u00e2\u20ac\u02dcssize_t read(int, void*, size_t)\u00e2\u20ac\u2122, declared with attribute warn_unused_result [-Wunused-result]\n  read (GetSocket(), &amp;c, 1);\n                       ^\ncompiling rubymain.cpp\nrubymain.cpp: In function \u00e2\u20ac\u02dcVALUE t_connect_server(VALUE, VALUE, VALUE)\u00e2\u20ac\u2122:\nrubymain.cpp:468:42: error: format not a string literal and no format arguments [-Werror=format-security]\n   rb_raise (EM_eConnectionError, e.what());\n                                          ^\nrubymain.cpp: In function \u00e2\u20ac\u02dcVALUE t_bind_connect_server(VALUE, VALUE, VALUE, VALUE, VALUE)\u00e2\u20ac\u2122:\nrubymain.cpp:488:42: error: format not a string literal and no format arguments [-Werror=format-security]\n   rb_raise (EM_eConnectionError, e.what());\n                                          ^\ncc1plus: some warnings being treated as errors\nmake: *** [rubymain.o] Error 1\n\n\nGem files will remain installed in /home/heavenize/.bundler/tmp/15236/gems/eventmachine-0.12.10 for inspection.\nResults logged to /home/heavenize/.bundler/tmp/15236/gems/eventmachine-0.12.10/ext/gem_make.out\nAn error occurred while installing eventmachine (0.12.10), and Bundler cannot continue.\nMake sure that `gem install eventmachine -v '0.12.10'` succeeds before bundling.\n</code></pre>\n\n<p>Then when I try the required version of <code>eventmachine</code> I got the follwing output:</p>\n\n<pre><code>$  sudo gem install eventmachine -v '0.12.10'\nERROR:  Error installing eventmachine:\nERROR: Failed to build gem native extension.\n\n        /usr/bin/ruby1.9.1 extconf.rb\nchecking for rb_trap_immediate in ruby.h,rubysig.h... no\nchecking for rb_thread_blocking_region()... yes\nchecking for inotify_init() in sys/inotify.h... yes\nchecking for writev() in sys/uio.h... yes\nchecking for rb_thread_check_ints()... yes\nchecking for rb_time_new()... yes\nchecking for sys/event.h... no\nchecking for epoll_create() in sys/epoll.h... yes\nchecking for main() in -lcrypto... no\ncreating Makefile\n\nmake\ncompiling sigs.cpp\ncompiling cplusplus.cpp\ncompiling files.cpp\ncompiling kb.cpp\nkb.cpp: In member function \u00e2\u20ac\u02dcvirtual void KeyboardDescriptor::Read()\u00e2\u20ac\u2122:\nkb.cpp:79:27: warning: ignoring return value of \u00e2\u20ac\u02dcssize_t read(int, void*, size_t)\u00e2\u20ac\u2122, declared with attribute warn_unused_result [-Wunused-result]\n  read (GetSocket(), &amp;c, 1);\n                           ^\ncompiling rubymain.cpp\nrubymain.cpp: In function \u00e2\u20ac\u02dcVALUE t_connect_server(VALUE, VALUE, VALUE)\u00e2\u20ac\u2122:\nrubymain.cpp:468:42: error: format not a string literal and no format arguments [-Werror=format-security]\n   rb_raise (EM_eConnectionError, e.what());\n                                          ^\nrubymain.cpp: In function \u00e2\u20ac\u02dcVALUE t_bind_connect_server(VALUE, VALUE, VALUE, VALUE, VALUE)\u00e2\u20ac\u2122:\nrubymain.cpp:488:42: error: format not a string literal and no format arguments [-Werror=format-security]\n   rb_raise (EM_eConnectionError, e.what());\n                                          ^\ncc1plus: some warnings being treated as errors\nmake: *** [rubymain.o] Error 1\n\n\nGem files will remain installed in /var/lib/gems/1.9.1/gems/eventmachine-0.12.10 for inspection.\nResults logged to /var/lib/gems/1.9.1/gems/eventmachine-0.12.10/ext/gem_make.out\n</code></pre>\n\n<p>I've the following setup:</p>\n\n<pre><code>$ rake --version\nrake, version 0.9.2.2\n$ ruby -v\nruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]\n</code></pre>\n\n<p>How to fix this issue?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sql-server", "ruby-on-rails-4", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "is_accepted": true, "score": 1, "last_activity_date": 1421863050, "creation_date": 1421863050, "answer_id": 28073766, "question_id": 28073552, "link": "https://stackoverflow.com/questions/28073552/rails-activerecord-how-to-quote-protected-column-name-using-select-in-custom/28073766#28073766", "title": "Rails / ActiveRecord: How to quote protected column name using #select in custom query?", "body": "<p>I don't think you can make the select method to protect your column names when using symbols (maybe because different DBMS use different quoting identifiers), but you could pass your selection as a string :</p>\n\n<pre><code>sql = Model.where(:foo =&gt; bar).select(\"[open], [high], [low], [close]\").to_sql\nModel.connection.execute(sql)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "edited": false, "score": 0, "creation_date": 1421924625, "post_id": 28087095, "comment_id": 44551402, "body": "that&#39;s probably because your column names are not reserved words in SQLite but they are in SQL Server.  Be careful, your quoting method won&#39;t work with every DBMS ! I think the SQL standard for quoting column names is &quot; (double quotes)"}], "tags": [], "owner": {"reputation": 3872, "user_id": 895029, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7f32e1afbbd7e104a001c9742f136acb?s=128&d=identicon&r=PG", "display_name": "rwb", "link": "https://stackoverflow.com/users/895029/rwb"}, "is_accepted": false, "score": 0, "last_activity_date": 1421924419, "creation_date": 1421924419, "answer_id": 28087095, "question_id": 28073552, "link": "https://stackoverflow.com/questions/28073552/rails-activerecord-how-to-quote-protected-column-name-using-select-in-custom/28087095#28087095", "title": "Rails / ActiveRecord: How to quote protected column name using #select in custom query?", "body": "<p>I attempted to submit a bug report to Rails, however in doing so I saw the problem did not appear to exists using SQLite test case, this leads me to believe the issue is with the SQL Server Adapter.</p>\n\n<p>Since I am on Rails 4 and not the latest version of the adapter I left it and wrote the following (horrible) method as wrapping the column names was not enough, I needed to prefix the table to prevent ambiguous column names. Yuck</p>\n\n<pre><code>  def self.quote(*columns, klass)\n    columns.map { |col| \"[#{klass.table_name}].[#{col}]\" }.join(', ')\n  end\n</code></pre>\n"}], "owner": {"reputation": 3872, "user_id": 895029, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7f32e1afbbd7e104a001c9742f136acb?s=128&d=identicon&r=PG", "display_name": "rwb", "link": "https://stackoverflow.com/users/895029/rwb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 28073766, "answer_count": 2, "score": 1, "last_activity_date": 1421924419, "creation_date": 1421862190, "question_id": 28073552, "link": "https://stackoverflow.com/questions/28073552/rails-activerecord-how-to-quote-protected-column-name-using-select-in-custom", "title": "Rails / ActiveRecord: How to quote protected column name using #select in custom query?", "body": "<p>Running Rails 4.0.13 with TinyTDS connected to Microsoft SQL Server 2012, I'm trying to run the following query:</p>\n\n<pre><code>sql = Model.where(:foo =&gt; bar).select(:open, :high, :low, :close).to_sql\nModel.connection.execute(sql)\n</code></pre>\n\n<p>The problem is, the generated sql is</p>\n\n<pre><code>\"SELECT open, high, low, close FROM [models]\"\n</code></pre>\n\n<p>Which gives me an error as the column names open and close are protected.</p>\n\n<pre><code>TinyTds::Error: Incorrect syntax near the keyword 'open'\n</code></pre>\n\n<p>If I use <code>#pluck</code>, I can see the correct SQL is generated (with column names escaped):</p>\n\n<pre><code>\"SELECT [models].[open], [models].[high], [models].[low], [models].[close] FROM [models]\"\n</code></pre>\n\n<p>However, this produces an array, which is not what I want.</p>\n\n<p>My question is how can i get <code>#select</code> to correctly quote the column names?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 70793, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "edited": false, "score": 2, "creation_date": 1421861958, "post_id": 28073447, "comment_id": 44526249, "body": "Your example shows a class variable, not a global variable."}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1421866065, "post_id": 28073447, "comment_id": 44528328, "body": "<code>module foo</code> should be a syntax error. module names must be constant (unless you create an anonymous module)"}, {"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421871924, "post_id": 28073447, "comment_id": 44531400, "body": "You should look at module/class constants in Ruby, and also &quot;instance&quot; variables on the class or module itself."}, {"owner": {"reputation": 87, "user_id": 3255353, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/duTJJ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3255353/chris"}, "edited": false, "score": 0, "creation_date": 1421919045, "post_id": 28073447, "comment_id": 44548134, "body": "Apologies, the example I knocked together very quickly and didn&#39;t bother checking - I used a class variable as this is the most similar thing I could to the required scope that I could find"}], "answers": [{"tags": [], "owner": {"reputation": 16538, "user_id": 2602869, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PkMYa.jpg?s=128&g=1", "display_name": "Jikku Jose", "link": "https://stackoverflow.com/users/2602869/jikku-jose"}, "is_accepted": false, "score": 1, "last_activity_date": 1421863976, "last_edit_date": 1421863976, "creation_date": 1421863611, "answer_id": 28073922, "question_id": 28073447, "link": "https://stackoverflow.com/questions/28073447/ruby-variables-extern/28073922#28073922", "title": "Ruby Variables (Extern?)", "body": "<p>Try this:</p>\n\n<pre><code># file_a.rb\nmodule Foo\n  BARREL_ROLL = true\nend\n\n\n\n# file_b.rb\nrequire_relative 'file_a'\n\nmodule Bar\n  if Foo::BARREL_ROLL == true\n    puts 'do a barrel roll'\n  end\nend\n</code></pre>\n\n<p><strong>Notes</strong>:</p>\n\n<ol>\n<li><code>@@myVariable</code> is a <code>class variable</code> and typically not recommended to use, try to refrain from using it.</li>\n<li>I understand you are just starting out Ruby, perhaps checking out the <a href=\"https://github.com/styleguide/ruby\" rel=\"nofollow\">style guide</a> may help you improve to a more <code>Rubyesque</code> way of doing things; your code seems to be influenced by your previous language's style. Following the guide will make your code more readable for most in the community and soon for yourself.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421871883, "post_id": 28074632, "comment_id": 44531371, "body": "Note that you have put the variable in the same module, while it <i>looks</i> like the OP wanted to have a namespaced sub-module <code>Foo::Bar</code> checking for a value on <code>Foo</code>."}, {"owner": {"reputation": 87, "user_id": 3255353, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/duTJJ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3255353/chris"}, "edited": false, "score": 0, "creation_date": 1421919332, "post_id": 28074632, "comment_id": 44548315, "body": "Essentially yes - I was attempting to use <code>Foo</code> as a namespace wrapper for both files"}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421933136, "post_id": 28074632, "comment_id": 44556256, "body": "@Phrogz oh jeez, I didn&#39;t notice that. There&#39;s so much wrong with OP&#39;s code it&#39;s hard to point out exactly what needs fixing."}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1421866307, "creation_date": 1421866307, "answer_id": 28074632, "question_id": 28073447, "link": "https://stackoverflow.com/questions/28073447/ruby-variables-extern/28074632#28074632", "title": "Ruby Variables (Extern?)", "body": "<p>In order for file A to affect the code in file B, B needs to <code>require</code> A.</p>\n\n<p>A.rb</p>\n\n<pre><code>module Foo\n  @@x = 1\nend\n</code></pre>\n\n<p>B.rb</p>\n\n<pre><code>require './A'\n\nmodule Foo\n  def self.bar\n    @@x\n  end\nend\n\np Foo.bar\n# 1\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 3255353, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/duTJJ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3255353/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 28074632, "answer_count": 2, "score": -3, "last_activity_date": 1421866307, "creation_date": 1421861784, "question_id": 28073447, "link": "https://stackoverflow.com/questions/28073447/ruby-variables-extern", "title": "Ruby Variables (Extern?)", "body": "<p>I've just started programming in Ruby and i'm trying to work on a little debug switch that works similar as to below, similar to a C extern variable. My problem is, Im not sure how to have a variable in one file in module X of one file, and access it in the same module of another file. </p>\n\n<p>I'd prefer to not use global variables as they are not limited by scope - is there a scope wide variable I can do this with?</p>\n\n<p>(note, this is std ruby 2.0.0 - NOT rails!)</p>\n\n<p>Cheers,\nChris</p>\n\n<hr>\n\n<pre><code>#file A.rb\nmodule foo\n@@myVariable = 'ruby'\n   ##do something\nend #end foo\n\n#file B.rb\nmodule foo\n   module self.bar(x)\n        if(@@myVariable == 'ruby')\n           puts 'do a barrel roll'\n        end\n   end #end bar\n   ##do something\nend #end foo\n</code></pre>\n\n<hr>\n\n<pre><code>undefined variable @@myVariable\n</code></pre>\n"}, {"tags": ["ruby", "csv", "ftp", "stringio"], "comments": [{"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421862087, "post_id": 28073410, "comment_id": 44526309, "body": "This is not 100%, <code>putbinaryfile</code> expects the PATH of a binary file (which could be a string). I would probably first create a File (see <a href=\"http://devdocs.io/ruby/file#method-c-new\" rel=\"nofollow noreferrer\">devdocs.io/ruby/file#method-c-new</a>) and then upload it. Don&#39;t forget to delete the file after uploading it :)"}, {"owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "reply_to_user": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 1, "creation_date": 1421862748, "post_id": 28073410, "comment_id": 44526651, "body": "You are correct, it is looking for the PATH. What do you think of me using the Ruby Tempfile class? <a href=\"http://devdocs.io/ruby/tempfile\" rel=\"nofollow noreferrer\">devdocs.io/ruby/tempfile</a>"}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421863123, "post_id": 28073410, "comment_id": 44526842, "body": "Sounds good! One more thing: I THINK you can use <code>puttextfile</code> instead of <code>putbinaryfile</code>, as CSV is just text, but be sure to test this first..."}, {"owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "reply_to_user": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421863486, "post_id": 28073410, "comment_id": 44527025, "body": "Alright thanks, I edited my question. Basically i&#39;ve been having trouble from the start getting the string into an actual file, so if you have any thoughts feel free to post an answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421872682, "post_id": 28075849, "comment_id": 44531724, "body": "I believe you mean <code>ftp.putbinaryfile( temp_file.path )</code>, correct?"}, {"owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "edited": false, "score": 0, "creation_date": 1421877537, "post_id": 28075849, "comment_id": 44534168, "body": "I tried both and it works either way - so it apparently knows how to check if it&#39;s a File objet as well"}, {"owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "edited": false, "score": 0, "creation_date": 1421877617, "post_id": 28075849, "comment_id": 44534191, "body": "Thanks for the answer, I like the Tempfile solution as well"}, {"owner": {"reputation": 4088, "user_id": 31325, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/e3a81c8d6a57cfefb13d66e248792eba?s=128&d=identicon&r=PG", "display_name": "baash05", "link": "https://stackoverflow.com/users/31325/baash05"}, "edited": false, "score": 0, "creation_date": 1535957620, "post_id": 28075849, "comment_id": 91238729, "body": "Not an answer to the question.. this persists the file.. Temp or not it writes to disk."}], "tags": [], "owner": {"reputation": 3090, "user_id": 4454732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-8OrTJkCtkn4/AAAAAAAAAAI/AAAAAAAAA4s/7jp2lrThK2k/photo.jpg?sz=128", "display_name": "David Hempy", "link": "https://stackoverflow.com/users/4454732/david-hempy"}, "is_accepted": false, "score": 3, "last_activity_date": 1421870552, "creation_date": 1421870552, "answer_id": 28075849, "question_id": 28073410, "link": "https://stackoverflow.com/questions/28073410/ruby-converting-string-to-file-for-uploading-to-ftp/28075849#28075849", "title": "Ruby converting String to File for uploading to FTP", "body": "<p>Something like this should cover most of the bases:</p>\n\n<pre><code>require 'tempfile'\n\ntemp_file = Tempfile.new('for_you')\ntemp_file.write(string)\ntemp_file.close\n\nftp.putbinaryfile(temp_file)\n\ntemp_file.unlink\n</code></pre>\n\n<p>Using Tempfile relieves you from a lot of issues regarding unique filename, threadsafeness, etc.  Garbage collection will ensure your file gets deleted, even if putbinaryfile raises an exception or similar perils. </p>\n\n<p>The uploaded file will get a name like <code>for_you.23423423.423.423.4</code>, both locally and on the remote server.  If you want it to have a specific name on the remote server like 'daily_log_upload', do this instead:</p>\n\n<pre><code>ftp.putbinaryfile(temp_file, 'daily_log_upload')\n</code></pre>\n\n<p>It will still have a unique name for the local temp file, but you don't care about that.</p>\n"}, {"comments": [{"owner": {"reputation": 3090, "user_id": 4454732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-8OrTJkCtkn4/AAAAAAAAAAI/AAAAAAAAA4s/7jp2lrThK2k/photo.jpg?sz=128", "display_name": "David Hempy", "link": "https://stackoverflow.com/users/4454732/david-hempy"}, "edited": false, "score": 0, "creation_date": 1421972839, "post_id": 28095292, "comment_id": 44577677, "body": "Nice! This is an improvement over Tempfile."}], "tags": [], "owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "is_accepted": true, "score": 4, "last_activity_date": 1421948596, "creation_date": 1421948596, "answer_id": 28095292, "question_id": 28073410, "link": "https://stackoverflow.com/questions/28073410/ruby-converting-string-to-file-for-uploading-to-ftp/28095292#28095292", "title": "Ruby converting String to File for uploading to FTP", "body": "<p>After talking to another developer, he gave me this solution which I found to be a better for my situation, since the file did not exist already. It skips writing the string to a Tempfile and uses StringIO to upload it directly. His solution: </p>\n\n<p>The Net::FTP#putbinaryfile method takes the <em>name</em> of a file on the local filesystem to copy to the remote filesystem. Now, if your data is in a string (and wasn't read from a file on the filesystem) then you may want to use Net::FTP#storbinary instead:</p>\n\n<pre><code>require 'stringio'\nrequire 'net/ftp'\n\nBLOCKSIZE = 512 \ndata      = StringIO.new(\"Hello, world!\\n\")\nhostname  = \"ftp.domain.tld\"\nusername  = \"username\"\npassword  = \"password\"\n\nremote_filename = \"something.txt\"\n\nNet::FTP.open(hostname, username, password) do |ftp|\n  # ...other ftp commands here...\n  ftp.storbinary(\"STOR #{remote_filename}\", data, BLOCKSIZE)\n  # ...any other ftp commands...\nend\n</code></pre>\n\n<p>The above avoids writing data that's not on disk to disk, just so you can upload it somewhere. However, if the data is already in a file on disk, you might as well just fix your code to reference its filename instead.</p>\n"}], "owner": {"reputation": 1259, "user_id": 972040, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a15117b65a2228a0fd54f3ae591790ba?s=128&d=identicon&r=PG", "display_name": "ruevaughn", "link": "https://stackoverflow.com/users/972040/ruevaughn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2031, "favorite_count": 1, "accepted_answer_id": 28095292, "answer_count": 2, "score": 3, "last_activity_date": 1421948596, "creation_date": 1421861622, "last_edit_date": 1421863440, "question_id": 28073410, "link": "https://stackoverflow.com/questions/28073410/ruby-converting-string-to-file-for-uploading-to-ftp", "title": "Ruby converting String to File for uploading to FTP", "body": "<p>Currently we have a method that returns a string with a formatted CSV file. </p>\n\n<pre><code>string   = EXPORT.tickets\n</code></pre>\n\n<p>We need to upload this csv file to a ftp server like so</p>\n\n<pre><code>ftp = Net::FTP.new(server, username, password)\nftp.putbinaryfile(string)\n</code></pre>\n\n<p>however, the <code>string</code> variable is obviously a string, and not a binary file as the putbinaryfile method expects. I see two ways to do this, </p>\n\n<ol>\n<li>convert the <code>string</code> variable to a file first using <code>File</code></li>\n<li>convert the string directly to a file with something like <code>StringIO</code></li>\n</ol>\n\n<p>Do these seem like viable options? If so, how would I approach doing this, thanks in advance!</p>\n\n<p>EDIT:</p>\n\n<p>Since the putbinaryfile method is looking for a file path rather than an actual file, it looks like my best best will be to create a File from the <code>string</code> variable. Can anyone give an example of how this can be accomplished?</p>\n"}, {"tags": ["ruby", "class", "coding-style", "instance-variables"], "answers": [{"tags": [], "owner": {"reputation": 7638, "user_id": 2986116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f1444d1687fdda5fc2f039ccb0c4c?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/2986116/j%c3%a9r%c3%b4me"}, "is_accepted": false, "score": 0, "last_activity_date": 1421861082, "last_edit_date": 1421861082, "creation_date": 1421860776, "answer_id": 28073131, "question_id": 28072804, "link": "https://stackoverflow.com/questions/28072804/setting-not-initialized-instance-variable/28073131#28073131", "title": "Setting not initialized instance variable", "body": "<p>The way you are doing it works but Ruby defined <code>attr_accessor</code>, <code>attr_reader</code> and <code>attr_writer</code> for that purpose.</p>\n\n<p><code>attr_reader</code>: create method to read 'a'</p>\n\n<p><code>attr_writer</code>: create method to write 'a'</p>\n\n<p><code>attr_accessor</code>: create methods to read and write 'a'</p>\n\n<p>I think the best way to do that is to use <code>attr_accessor:a</code></p>\n\n<pre><code>class Klass\n  attr_accessor:a\n  def initialize(a)\n    @a = a\n  end\nend\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>k = Klass.new \"foo\" #example \nk.a = \"bar\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": true, "score": 1, "last_activity_date": 1421861084, "last_edit_date": 1421861084, "creation_date": 1421860779, "answer_id": 28073133, "question_id": 28072804, "link": "https://stackoverflow.com/questions/28072804/setting-not-initialized-instance-variable/28073133#28073133", "title": "Setting not initialized instance variable", "body": "<p>In contrast to other languages, If you do not initialize an instance variable it will always be <code>nil</code> (whereas in certain other languages you could get something undefined).</p>\n\n<p>As long as other methods of <code>Klass</code> do not depend on the instance variable actually having a value, this should be ok.</p>\n\n<p>As for getters and setters, there are <code>attr_accessor</code>, <code>attr_reader</code> and <code>attr_writer</code> (see <a href=\"http://ruby-doc.org/core-2.2.0/Module.html#method-i-attr_accessor\" rel=\"nofollow\">the docs</a>).</p>\n\n<pre><code>class Klass\n  attr_accessor :b\n  # there's also attr_reader and attr_writer\n\n  def initialize(a)\n    @a = a\n  end\nend\n\nk = Klass.new :foo\nk.b = :bar\n\nk.b\n#=&gt; :bar\n\nk.a\n#=&gt; undefined method `a' for #&lt;Klass:0x007f842a17c0e0 @a=:foo, @b=:bar&gt; (NoMethodError)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4252294"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 28073133, "answer_count": 2, "score": 2, "last_activity_date": 1421861084, "creation_date": 1421859752, "question_id": 28072804, "link": "https://stackoverflow.com/questions/28072804/setting-not-initialized-instance-variable", "title": "Setting not initialized instance variable", "body": "<p>Is it elegant to use instance variables in a class which are not initialized and setting them using other methods? Or maybe there is a better way to do that?</p>\n\n<pre><code>class Klass\n  def initialize(a)\n    @a = a\n  end\n\n  def set_b(b)\n    @b = b\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "gem", "rake", "bundler"], "comments": [{"owner": {"reputation": 411, "user_id": 2160362, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d508dde691de2bc0f43a491a7221b857?s=128&d=identicon&r=PG", "display_name": "Gerard van den Bosch", "link": "https://stackoverflow.com/users/2160362/gerard-van-den-bosch"}, "edited": false, "score": 0, "creation_date": 1442131981, "post_id": 28072569, "comment_id": 52951538, "body": "I am having the same issue here, no gems directory available, did you manage to solve this?"}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 3342655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8e47680794c215137eb5983826abd0?s=128&d=identicon&r=PG&f=1", "display_name": "ajayg", "link": "https://stackoverflow.com/users/3342655/ajayg"}, "is_accepted": true, "score": 0, "last_activity_date": 1421859547, "creation_date": 1421859547, "answer_id": 28072739, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror/28072739#28072739", "title": "rake cannot load such file (LoadError)", "body": "<p>It seems that you need to re-install ruby..Hopefully that might solve the problem.Had faced this issue previously.Resolved by reinstalling ruby.</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 6800792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16610bebe60d1a20f50d2b1fa56484c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tombery", "link": "https://stackoverflow.com/users/6800792/tombery"}, "is_accepted": false, "score": 15, "last_activity_date": 1498805373, "last_edit_date": 1498805373, "creation_date": 1473872193, "answer_id": 39495915, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror/39495915#39495915", "title": "rake cannot load such file (LoadError)", "body": "<p>you can try:\n    <code>bundle update rake</code></p>\n\n<p>the same issue was resolved here: <a href=\"https://stackoverflow.com/questions/32053451/ruby-rake-loaderror-bundle-exec-rake-not-working\">Ruby rake loaderror - bundle exec rake not working</a></p>\n"}, {"tags": [], "owner": {"reputation": 4871, "user_id": 2040729, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Vsxsu.jpg?s=128&g=1", "display_name": "Eduardo Santana", "link": "https://stackoverflow.com/users/2040729/eduardo-santana"}, "is_accepted": false, "score": 3, "last_activity_date": 1475709566, "creation_date": 1475709566, "answer_id": 39885146, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror/39885146#39885146", "title": "rake cannot load such file (LoadError)", "body": "<p>Look for the gemspec file.</p>\n\n<p>Your version of rake specified at the gemspec file must match the rake version you are using.</p>\n\n<p>Try: <code>bundle update rake</code>. This will install a new version of rake. Open your gemspec file and update the rake version.</p>\n\n<p>I had this:\n  <code>spec.add_development_dependency \"rake\", \"~&gt; 10.0\"</code></p>\n\n<p>And I have changed to:\n   <code>spec.add_development_dependency \"rake\", \"~&gt; 11.0\"</code></p>\n\n<p>run <code>bundle update rake</code> again:</p>\n\n<p><code>Resolving dependencies...\nUsing rake 11.3.0 (was 10.5.0)</code></p>\n\n<p>After that, it will work.</p>\n"}, {"tags": [], "owner": {"reputation": 1628, "user_id": 4472973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001955044366/picture?type=large", "display_name": "Nikita Leshchev", "link": "https://stackoverflow.com/users/4472973/nikita-leshchev"}, "is_accepted": false, "score": 0, "last_activity_date": 1494361266, "creation_date": 1494361266, "answer_id": 43879170, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror/43879170#43879170", "title": "rake cannot load such file (LoadError)", "body": "<p>Perhaps it helps somebody. I had same error, but with rails, instead of rake.\nI have got such error while installing redmine.</p>\n\n<pre><code>$ sudo bundle exec rails server webrick -e production\n\nbundler: failed to load command: rails (/usr/local/bin/rails)\nLoadError: cannot load such file -- /usr/share/rubygems-integration/all/specifications/bin/rails\n/usr/local/bin/rails:23:in `load'\n/usr/local/bin/rails:23:in `&lt;top (required)&gt;'\n</code></pre>\n\n<p>This is my solution:</p>\n\n<pre><code>$ sudo bundle update rails\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2659, "user_id": 2534479, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/2472926967c5dbb6e31895a660a472ce?s=128&d=identicon&r=PG", "display_name": "aldrien.h", "link": "https://stackoverflow.com/users/2534479/aldrien-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1538706884, "creation_date": 1538706884, "answer_id": 52657614, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror/52657614#52657614", "title": "rake cannot load such file (LoadError)", "body": "<p>This should work in the latest version.</p>\n\n<pre><code># Rakefile.rb\nrequire 'bugsnag/integrations/rake'\n</code></pre>\n"}], "owner": {"reputation": 4804, "user_id": 1269281, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ENmA7.jpg?s=128&g=1", "display_name": "bachr", "link": "https://stackoverflow.com/users/1269281/bachr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10683, "favorite_count": 2, "accepted_answer_id": 28072739, "answer_count": 5, "score": 1, "last_activity_date": 1538706884, "creation_date": 1421859038, "question_id": 28072569, "link": "https://stackoverflow.com/questions/28072569/rake-cannot-load-such-file-loaderror", "title": "rake cannot load such file (LoadError)", "body": "<p>I'm having a strange <code>rake</code> error when I try to install, here is what it says</p>\n\n<pre><code>$ rake bundle_install\n/usr/local/bin/rake:23:in `load': cannot load such file -- /usr/share/rubygems-integration/1.9.1/gems/rake-10.0.4/bin/rake (LoadError)\n        from /usr/local/bin/rake:23:in `&lt;main&gt;'\n</code></pre>\n\n<p>When I try to navigate to the directory, i find nothing:</p>\n\n<pre><code>$ ls /usr/share/rubygems-integration/1.9.1/\nspecifications/\n</code></pre>\n\n<p>Ruby versions:</p>\n\n<pre><code>$ ruby -v\nruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]\n</code></pre>\n\n<p>Why it's trying to load the wrong version and how I could fix this?</p>\n"}, {"tags": ["ruby", "mobile", "jekyll", "adobe-edge"], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": true, "score": 4, "last_activity_date": 1421861340, "creation_date": 1421861340, "answer_id": 28073323, "question_id": 28072551, "link": "https://stackoverflow.com/questions/28072551/jekyll-server-not-working-in-mobile-browser/28073323#28073323", "title": "Jekyll server not working in mobile browser", "body": "<p>As you can observe in the Output: (<code>Server address: http://127.0.0.1:4000/</code>), Jekyll only answers request coming from the local machine.</p>\n\n<p>To make Jekyll answer on all adresses, use the <code>-H</code> option. From <code>jekyll serve --help</code>:</p>\n\n<pre><code>-H, --host [HOST]  Host to bind to\n</code></pre>\n\n<p>use as follows:</p>\n\n<pre><code>jekyll serve --watch -H 0.0.0.0\n</code></pre>\n"}], "owner": {"reputation": 3851, "user_id": 2303073, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/cc5aaf226c82cf32865bbc17d5641942?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2303073/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 28073323, "answer_count": 1, "score": 0, "last_activity_date": 1421864719, "creation_date": 1421858985, "last_edit_date": 1421864719, "question_id": 28072551, "link": "https://stackoverflow.com/questions/28072551/jekyll-server-not-working-in-mobile-browser", "title": "Jekyll server not working in mobile browser", "body": "<p>I'm currently receiving an error when trying to view a <a href=\"http://jekyllrb.com/\" rel=\"nofollow\">Jekyll</a> site using <a href=\"https://creative.adobe.com/products/inspect\" rel=\"nofollow\">Adobe edge inspector</a>. Im using the built in Jekyll development server in port:4000. Furthermore is the Jekyll site in question does not appear within my Safari mobile browser. </p>\n\n<p><strong>Heres how i start up the server</strong> </p>\n\n<pre><code>jekyll serve --watch \n</code></pre>\n\n<p><strong>and here are the outputs</strong> </p>\n\n<pre><code> Generating...                     done.\n Auto-regeneration: enabled for '/Users/auser/Sites/user.me/code'\n Configuration file: /Users/auser/Sites/user.me/code/_config.yml\n Server address: http://127.0.0.1:4000/\n Server running... press ctrl-c to stop.\n</code></pre>\n\n<p>How can I get this to work in my mobile browser?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "date", "ruby-on-rails-4", "attributes"], "comments": [{"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421859064, "post_id": 28072484, "comment_id": 44524541, "body": "Usually you&#39;re supposed to submit a <code>Date</code> or <code>Time</code> (or <code>DateTime</code>), not a <code>String</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4133294"}, "reply_to_user": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421859282, "post_id": 28072484, "comment_id": 44524713, "body": "@Manuel So how does &quot;1/1/1&quot; work when &quot;1/1/15&quot; doesn&#39;t?"}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421860312, "post_id": 28072484, "comment_id": 44525306, "body": "I have no Idea. Maybe this is related to the DB you&#39;re using. That&#39;s why you should submit a Date; see Max William&#39;s answer below."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4133294"}, "edited": false, "score": 0, "creation_date": 1421860075, "post_id": 28072779, "comment_id": 44525185, "body": "At this point I&#39;m just trying to set it using the rails console, so like this: <code>$ User.create(birthday: &quot;1&#47;1&#47;15&quot;)</code>. Why would &quot;1/1/1&quot; work, in that case?"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1421918211, "post_id": 28072779, "comment_id": 44547621, "body": "Rails will try it&#39;s best to convert it to a date, but it&#39;s likely to get it wrong.  Maybe it&#39;s expecting the last number to be the month, and 15 isn&#39;t a valid month.  Either way, it doesn&#39;t really matter - you need to make sure that it will <b>always</b> work by either giving it a string in the format it expects or giving it an actual Date object."}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1421859680, "creation_date": 1421859680, "answer_id": 28072779, "question_id": 28072484, "link": "https://stackoverflow.com/questions/28072484/whats-the-proper-format-for-the-date-datatype/28072779#28072779", "title": "What&#39;s the proper format for the &quot;date&quot; datatype?", "body": "<p>How are you setting the date?  Is it something like <code>@user.birthday = params[:birthday]</code>?  This is going to cause you problems because it's not a date, it's a string, and a string in a different format to how your database stores the date, at that. </p>\n\n<p>You've got two options: </p>\n\n<p>A) Ideally you should convert the input to a date, and then set the field using the actual date object.</p>\n\n<p>B) make sure the format of your parameter matches how your db stores dates (which is \"yyyy-mm-dd\" by the looks of it).</p>\n\n<p>A is preferable.  I would override the User#birthday= method to try to get it to process the date as usefully as possible.  eg</p>\n\n<pre><code>#in User model\n def birthday=(arg)\n   if arg.is_a?(Date)\n     self[:birthday] = arg\n   elsif arg =~ /\\d+\\/\\d+\\/\\d+/\n     self[:birthday] = Date.strptime(arg, \"%d/%m/%y\")\n   elsif arg =~ /\\d+\\-\\d+\\-\\d+/\n     self[:birthday] = Date.strptime(arg, \"%y/%m/%d\")\n   else\n     self[:birthday] = arg\n   end\n end\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4133294"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 0, "accepted_answer_id": 28072779, "answer_count": 1, "score": 1, "last_activity_date": 1421859680, "creation_date": 1421858804, "question_id": 28072484, "link": "https://stackoverflow.com/questions/28072484/whats-the-proper-format-for-the-date-datatype", "title": "What&#39;s the proper format for the &quot;date&quot; datatype?", "body": "<p>My model \"User\" has a date attribute <code>:birthday</code>. But if I submit a birthday with any format other than <code>x/x/x</code>, it just becomes nil. So, for example, <code>1/1/1</code> becomes \"0001-01-01\", but <code>1/1/15</code> becomes nil. <code>1/1/2</code> becomes \"0001-01-02\", but <code>22/1/3</code> becomes nil.</p>\n\n<p>I feel like I'm missing something here. It can't possibly be true that date attributes can only be <code>x/x/x</code>, right?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-activerecord"], "answers": [{"comments": [{"owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "edited": false, "score": 1, "creation_date": 1422043500, "post_id": 28117362, "comment_id": 44609778, "body": "Worked except I needed to declare the class for the <code>parent_decompositions:   has_many :parent_decompositions, class_name: &#39;Decomposition&#39;, foreign_key: :parent_omnicode</code>  Consider editing your answer for future researchers and thanks."}, {"owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "reply_to_user": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "edited": false, "score": 0, "creation_date": 1422051556, "post_id": 28117362, "comment_id": 44613568, "body": "Thanks @JorgedelosSantos I updated the answer. There&#39;s always something to forget."}], "tags": [], "owner": {"reputation": 2859, "user_id": 3945932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1794745acd9e572c24558b78b48d597?s=128&d=identicon&r=PG", "display_name": "ptd", "link": "https://stackoverflow.com/users/3945932/ptd"}, "is_accepted": true, "score": 2, "last_activity_date": 1422043568, "last_edit_date": 1422043568, "creation_date": 1422041555, "answer_id": 28117362, "question_id": 28072307, "link": "https://stackoverflow.com/questions/28072307/self-referential-association-with-attributes-in-activerecord/28117362#28117362", "title": "Self referential association with attributes in ActiveRecord", "body": "<p>You need to change your <code>Item</code> class association to <code>Decomposition</code> by creating two direct <code>has_many</code> associations:</p>\n\n<pre><code>class Decomposition &lt; ActiveRecord::Base\n belongs_to :parent, :class_name =&gt; 'Item', foreign_key: 'children_omnicode'\n belongs_to :child, :class_name =&gt; 'Item', foreign_key: 'parent_omnicode'    \nend\n\nclass Item &lt; ActiveRecord::Base\n  has_many :parent_decompositions, class_name: \"Decomposition\", foreign_key: :parent_omnicode\n  has_many :child_decompositions, class_name: \"Decomposition\", foreign_key: :children_omnicode\n  has_many :children, :through =&gt; :child_decompositions, source: :child\n  has_many :parents, :through =&gt; :parent_decompositions, source: :parent\nend\n</code></pre>\n\n<p>The way you have your code now, both the <code>:children</code> and <code>:parent</code> associations are referring to <code>Decompositions</code> where the <code>Item</code> is the parent. This solves that issue.</p>\n"}], "owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 2, "accepted_answer_id": 28117362, "answer_count": 1, "score": 3, "last_activity_date": 1422043568, "creation_date": 1421858272, "last_edit_date": 1422041003, "question_id": 28072307, "link": "https://stackoverflow.com/questions/28072307/self-referential-association-with-attributes-in-activerecord", "title": "Self referential association with attributes in ActiveRecord", "body": "<p>I'm trying to replicate a relation where something can have many childrens, and many parents of itself with attributes.</p>\n\n<pre><code>item1 x2-&gt; item2\n      x3-&gt; item3 x4-&gt; item4 x2-&gt; item1\n                            x6-&gt; item5\n</code></pre>\n\n<p>I'm not able to create the methods to retrieve the childrens, and the parents of the items.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>class Decomposition &lt; ActiveRecord::Base\n belongs_to :parent, :class_name =&gt; 'Item', foreign_key: 'children_omnicode'\n belongs_to :child, :class_name =&gt; 'Item', foreign_key: 'parent_omnicode'    \nend\n\nclass Item &lt; ActiveRecord::Base\n  has_many :decompositions, foreign_key: :parent_omnicode\n  has_many :children, :through =&gt; :decompositions, source: :child\n  has_many :parents, :through =&gt; :decompositions, source: :parent\nend\n</code></pre>\n\n<p>I'm able to create the children for the Item, but the .parent method returns the childrens also:</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "arrays", "input", "split"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421858695, "post_id": 28072232, "comment_id": 44524262, "body": "I would do this <code>print words.map {|word| censorlist.include?(word) ? &quot;REDACTED&quot; : word}.join(&quot; &quot;)</code>. This will create an Array where words in the <code>censorlist</code> are replaced with &quot;REDACTED&quot; and then it will join them as a <code>String</code> and print the <code>String</code>. You have already built your Arrays using <code>split</code>."}], "answers": [{"comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1421859056, "post_id": 28072464, "comment_id": 44524537, "body": "why not do it this way to avoid iteration <code>puts text.gsub(&#47;#{redact.join(&#39;|&#39;)}&#47;i,&#39;REDACTED&#39;)</code>. This also allows for case insensitivity which is a plus when redacting."}, {"owner": {"reputation": 1, "user_id": 4479058, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cdpa4pNJ1K0/AAAAAAAAAAI/AAAAAAAAAGw/YNG1Zwhvqag/photo.jpg?sz=128", "display_name": "Nooby", "link": "https://stackoverflow.com/users/4479058/nooby"}, "edited": false, "score": 0, "creation_date": 1421861678, "post_id": 28072464, "comment_id": 44526109, "body": "Thanks everyone! That&#39;s super helpful! I&#39;ll have to look into all the suggestions in detail and try to understand what they do, so it might take a while!"}], "tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": false, "score": 0, "last_activity_date": 1421859633, "last_edit_date": 1421859633, "creation_date": 1421858753, "answer_id": 28072464, "question_id": 28072232, "link": "https://stackoverflow.com/questions/28072232/ruby-how-do-i-create-a-stack-out-of-user-input/28072464#28072464", "title": "Ruby: How do I create a stack out of user input?", "body": "<pre><code># ask the user for the text to process\nputs \"Please enter your text here: \"\ntext = gets.chomp\n\n# ask for words to redact. `split()` will split into words by default\nputs \"Which words would you like to redact? \"\nredact = gets.chomp.split\n\nredact.each do |word|\n  # instead of printing each word, we CHANGE the text supplied\n  text.gsub!(word, 'REDACTED')\nend\nputs text\n</code></pre>\n\n<p>For more Information see <a href=\"http://devdocs.io/ruby/string#method-i-split\" rel=\"nofollow\">String#split</a> and <a href=\"http://devdocs.io/ruby/string#method-i-gsub-21\" rel=\"nofollow\">String#gsub!</a></p>\n\n<p><strong>Update</strong>: as @engineersmnky pointed out, there's an ever easier method:</p>\n\n<pre><code>puts \"Please enter your text here: \"\ntext = gets.chomp\nputs \"Which words would you like to redact? \"\nredact = gets.chomp\n\n# create a Regular Expression matching all words to redact\nregex = /#{redact.gsub(' ', '|')}/\nputs text.gsub(regex, 'REDACTED')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4479058, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cdpa4pNJ1K0/AAAAAAAAAAI/AAAAAAAAAGw/YNG1Zwhvqag/photo.jpg?sz=128", "display_name": "Nooby", "link": "https://stackoverflow.com/users/4479058/nooby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421859633, "creation_date": 1421858001, "question_id": 28072232, "link": "https://stackoverflow.com/questions/28072232/ruby-how-do-i-create-a-stack-out-of-user-input", "title": "Ruby: How do I create a stack out of user input?", "body": "<p>Total ruby-baby here, I'm trying to get a hang of it using <a href=\"http://www.codecademy.com/courses/ruby-beginner-en-mzrZ6\" rel=\"nofollow\">this</a> Codecademy Tutorial.\nTrying to understand it better I'm giving the extra questions a spin and getting stuck while trying, but I don't understand why.</p>\n\n<p>So \u2013 The program at hand is very simple: It replaces a single user-defined word within an input with the word REDACTED.\nNow: I want to expand the list of redacted words to as many as the user likes, not just one.</p>\n\n<p>Here's my attempt:</p>\n\n<pre><code>puts \"Please enter your text here: \"\ntext = gets.chomp\nputs \"Which words would you like to redact? \"\nredact = gets.chomp\n\nwords = text.split(\" \")\ncensorlist = redact.split(\" \") \n\n=begin \nHow do I build an array out of this .split to access all the words separately in my if-condition?\n=end\n\nwords.each do |word|\n  if word != censorlist\n    print word + \" \"\n  else \n    print \"REDACTED \" \nend   \nend\n</code></pre>\n\n<p>Sorry if this is too basic to ask around here, but I've been spinning this a while and all the answers i found elsewhere don't make sense to me. i just don't know how to access the array I made with .split.\nThank you!</p>\n\n<p>-N.</p>\n"}, {"tags": ["ruby", "gem", "bundler", "openbsd"], "comments": [{"owner": {"reputation": 3566, "user_id": 1611802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2fe8ed3b97893fc3531a47658615ddae?s=128&d=identicon&r=PG", "display_name": "hcarreras", "link": "https://stackoverflow.com/users/1611802/hcarreras"}, "edited": false, "score": 0, "creation_date": 1430389832, "post_id": 28072128, "comment_id": 48050416, "body": "If someone googling gets this error: I solved it just closing and opening the tab again. It was an issue related with deploying on Heroku."}, {"owner": {"reputation": 15236, "user_id": 1388017, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Z2KPU.png?s=128&g=1", "display_name": "dezman", "link": "https://stackoverflow.com/users/1388017/dezman"}, "edited": false, "score": 0, "creation_date": 1549319285, "post_id": 28072128, "comment_id": 95852910, "body": ".zshrc -- export PATH=$HOME/bin:/usr/local/bin:$PATH"}], "answers": [{"comments": [{"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "reply_to_user": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 0, "creation_date": 1421858911, "post_id": 28072323, "comment_id": 44524428, "body": "This is weird... have you verified the binary actually IS PRESENT in the directory?"}, {"owner": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 1, "creation_date": 1421859449, "post_id": 28072323, "comment_id": 44524795, "body": "Indeed, running <code>&#47;usr&#47;local&#47;lib&#47;ruby&#47;gems&#47;2.2&#47;gems&#47;bundler-1.7.12&#47;bin&#47;bundle</code> seems to work."}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "reply_to_user": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 0, "creation_date": 1421860368, "post_id": 28072323, "comment_id": 44525336, "body": "The Binary should also be present in <code>EXECUTABLE DIRECTORY: &#47;usr&#47;local&#47;bin</code> - is it?"}, {"owner": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 0, "creation_date": 1421860498, "post_id": 28072323, "comment_id": 44525412, "body": "Ooh - it&#39;s there as <code>bundle22</code> :)"}, {"owner": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 0, "creation_date": 1421860680, "post_id": 28072323, "comment_id": 44525522, "body": "Do I have to manually symlink all of the binaries or is there a better way?"}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "reply_to_user": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "edited": false, "score": 0, "creation_date": 1421860959, "post_id": 28072323, "comment_id": 44525686, "body": "Hm usually rubygems should create it correctly (as <code>bundle</code> and not <code>bundle22</code>)... But to be honest I have no idea what could have caused this :)"}], "tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": false, "score": 10, "last_activity_date": 1421858310, "creation_date": 1421858310, "answer_id": 28072323, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle/28072323#28072323", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>You can check the directory in which Rubygems will install gem executables with <code>gem environment</code>.</p>\n\n<p>One of the first points should be <code>EXECUTABLE DIRECTORY</code>. Make sure this directory is in your <code>$PATH</code> (listed as <code>SHELL PATH</code> btw)</p>\n"}, {"comments": [{"owner": {"reputation": 642, "user_id": 1805974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c0cea5c950a2b0d4298a66ecc958fbcb?s=128&d=identicon&r=PG", "display_name": "Henrik B&#248;gelund Lavstsen", "link": "https://stackoverflow.com/users/1805974/henrik-b%c3%b8gelund-lavstsen"}, "edited": false, "score": 1, "creation_date": 1472470474, "post_id": 31097959, "comment_id": 65749415, "body": "I thought you should avoid using sudo on gems, but maybe with --no-user-install flag its for multi user installation"}], "tags": [], "owner": {"reputation": 12560, "user_id": 2016221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e84f1d0ef6fe58cc471a14d11fa81a24?s=128&d=identicon&r=PG", "display_name": "rr-", "link": "https://stackoverflow.com/users/2016221/rr"}, "is_accepted": false, "score": 24, "last_activity_date": 1435482794, "creation_date": 1435482794, "answer_id": 31097959, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle/31097959#31097959", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>You seem to be after installing <code>bundler</code> system-wide. To do this, you need to pass <code>--no-user-install</code> flag to <code>gem</code> and execute it with <code>sudo</code>:</p>\n\n<pre><code>sudo gem install bundler --no-user-install\n</code></pre>\n\n<p>After this, you should see <code>bundle</code> in <code>/usr/bin/</code> just fine:</p>\n\n<pre><code>$ ls /usr/bin/bundle\n/usr/bin/bundle*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 4453855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mrMm8Rh9UpY/AAAAAAAAAAI/AAAAAAAAARI/xXIvM7nZH3k/photo.jpg?sz=128", "display_name": "Ricardo Rojas", "link": "https://stackoverflow.com/users/4453855/ricardo-rojas"}, "is_accepted": false, "score": 33, "last_activity_date": 1558878955, "last_edit_date": 1558878955, "creation_date": 1450466326, "answer_id": 34362519, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle/34362519#34362519", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>I had the same issue using zsh and this fixed it:</p>\n\n<pre><code>$ echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' &gt;&gt; ~/.zshenv\n$ echo 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.zshenv\n$ echo 'source $HOME/.zshenv' &gt;&gt; ~/.zshrc\n$ exec $SHELL\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 2512805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8G1Wg.jpg?s=128&g=1", "display_name": "Yoyo Coder", "link": "https://stackoverflow.com/users/2512805/yoyo-coder"}, "is_accepted": false, "score": 7, "last_activity_date": 1550765348, "last_edit_date": 1550765348, "creation_date": 1459002241, "answer_id": 36236402, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle/36236402#36236402", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>You shound run the below command after installed <code>bundler</code>:</p>\n\n<pre><code>rbenv rehash\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2126, "user_id": 3969516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5lqX1.png?s=128&g=1", "display_name": "Shan Dou", "link": "https://stackoverflow.com/users/3969516/shan-dou"}, "is_accepted": false, "score": 2, "last_activity_date": 1545764029, "last_edit_date": 1545764029, "creation_date": 1545610442, "answer_id": 53908142, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle/53908142#53908142", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>Also just ran into the same error when setting up jekyll. My <code>gem env</code> shows <code>GEM PATHS</code> as follows:</p>\n\n<pre><code>- GEM PATHS:\n    - /usr/local/lib/ruby/gems/2.5.0\n</code></pre>\n\n<p>The content of this directory looks like this:</p>\n\n<pre><code>bin/            cache/          extensions/     specifications/\nbuild_info/     doc/            gems/\n</code></pre>\n\n<p>Inside <code>bin</code>, I see both <code>jekyll</code> and <code>bundle</code>:</p>\n\n<pre><code>$cd /usr/local/lib/ruby/gems/2.5.0/bin/\n$ls\nbundle        jekyll        listen        safe_yaml     sass-convert\nbundler       kramdown      rougify       sass          scss\n</code></pre>\n\n<hr>\n\n<p>If you find similar paths and files as I do, any one of the following approaches should work:</p>\n\n<ul>\n<li><p>Append the full path <code>/usr/local/lib/ruby/gems/2.5.0/bin/</code> to <code>PATH</code> via:</p>\n\n<pre><code>export PATH=\"/usr/local/lib/ruby/gems/2.5.0/bin/:$PATH\"\n</code></pre></li>\n<li><p>Make symbolic links in <code>/usr/local/bin</code> via:</p>\n\n<pre><code>$cd /usr/local/bin\n$ln -sf /usr/local/lib/ruby/gems/2.5.0/bin/bundle .\n$ln -sf /usr/local/lib/ruby/gems/2.5.0/bin/jekyll .\n</code></pre></li>\n<li><p>Set up aliases in <code>.zshrc</code> (or <code>.bashrc</code> and alike):</p>\n\n<pre><code>alias jekyll=\"/usr/local/lib/ruby/gems/2.5.0/bin/jekyll\"\nalias bundle=\"/usr/local/lib/ruby/gems/2.5.0/bin/bundle\"\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>In general, I felt all this path blindness makes the experience of setting up a jekyll site bumpier than expected:( If others have a set of steps that just work (without such needs for troubleshooting), please comment :)</p>\n"}], "owner": {"reputation": 11450, "user_id": 1037526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/388c6379b8a0b5eb840b09aceca15103?s=128&d=identicon&r=PG", "display_name": "Mark Boulder", "link": "https://stackoverflow.com/users/1037526/mark-boulder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27438, "favorite_count": 8, "answer_count": 5, "score": 24, "last_activity_date": 1558878955, "creation_date": 1421857679, "last_edit_date": 1421858667, "question_id": 28072128, "link": "https://stackoverflow.com/questions/28072128/zsh-command-not-found-bundle-after-gem-install-bundle", "title": "zsh: command not found: bundle (after gem install bundle)", "body": "<p>Why <code>zsh: command not found: bundle</code> after <code>gem install bundler</code>? </p>\n\n<p>I tried setting <code>path=( /usr/local/lib/ruby/gems/2.2/gems/ ~/bin /bin /sbin /usr/bin /usr/sbin /usr/local/bin /usr/local/sbin )</code> in <code>/etc/zshrc</code> and <code>source /etc/zshrc</code> to no avail.</p>\n\n<pre><code>root@dev:/home/dev# gem install bundler\nSuccessfully installed bundler-1.7.12\nParsing documentation for bundler-1.7.12\nDone installing documentation for bundler after 10 seconds\n1 gem installed\n\nroot@dev:/home/dev# bundle\nzsh: command not found: bundle\n\nroot@dev:/home/dev# uname -a\nOpenBSD dev.my.domain 5.7 GENERIC#748 amd64\n\nroot@dev:/home/dev# gem environment\nRubyGems Environment:\n  - RUBYGEMS VERSION: 2.4.5\n  - RUBY VERSION: 2.2.0 (2014-12-25 patchlevel 0) [x86_64-openbsd]\n  - INSTALLATION DIRECTORY: /usr/local/lib/ruby/gems/2.2\n  - RUBY EXECUTABLE: /usr/local/bin/ruby22\n  - EXECUTABLE DIRECTORY: /usr/local/bin\n  - SPEC CACHE DIRECTORY: /root/.gem/specs\n  - SYSTEM CONFIGURATION DIRECTORY: /etc\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-openbsd\n  - GEM PATHS:\n     - /usr/local/lib/ruby/gems/2.2\n     - /usr/local/lib/ruby/gems/2.2/gems/\n  - GEM CONFIGURATION:\n     - :update_sources =&gt; true\n     - :verbose =&gt; true\n     - :backtrace =&gt; false\n     - :bulk_threshold =&gt; 1000\n  - REMOTE SOURCES:\n     - https://rubygems.org/\n  - SHELL PATH:\n     - /usr/local/lib/ruby/gems/2.2/gems/\n     - /root/bin\n     - /bin\n     - /sbin\n     - /usr/bin\n     - /usr/sbin\n     - /usr/local/bin\n     - /usr/local/sbin\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "associations", "relationship"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "edited": false, "score": 0, "creation_date": 1421857166, "post_id": 28071895, "comment_id": 44523249, "body": "Doing that displays the error: undefined method `showings&#39; for #&lt;Showing:0x5b596c0&gt;"}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421857306, "post_id": 28071895, "comment_id": 44523343, "body": "Which controller does <code>show.html.erb</code> belong?"}], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": true, "score": 1, "last_activity_date": 1421857423, "creation_date": 1421857423, "answer_id": 28072046, "question_id": 28071895, "link": "https://stackoverflow.com/questions/28071895/ruby-on-rails-how-do-i-display-data-associated-with-a-specific-row/28072046#28072046", "title": "Ruby on rails How do I display data associated with a specific row", "body": "<p>I don't know if that's the problem, but the code in <code>show.html.erb</code> is wrong. You are looping over <code>@film</code>'s showing, but INSIDE the loop you're stil referring to ALL the showings (<code>@film.showings</code>). Inside, try this:</p>\n\n<pre><code>&lt;% @film.showings.each do |showing| %&gt;\n    &lt;%= showing.show_date %&gt;         \n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 28072046, "answer_count": 1, "score": 0, "last_activity_date": 1421857423, "creation_date": 1421857049, "last_edit_date": 1421857282, "question_id": 28071895, "link": "https://stackoverflow.com/questions/28071895/ruby-on-rails-how-do-i-display-data-associated-with-a-specific-row", "title": "Ruby on rails How do I display data associated with a specific row", "body": "<p>In my ruby on rails application I have a show.html.erb page that displays the details of a film, what I want to do is display the dates that film is being shown. In the show.html.erb file I have done this so far:</p>\n\n<pre><code>&lt;% @film.showings.each do |film| %&gt;\n    &lt;%= @film.showings.show_date %&gt;         \n&lt;% end %&gt;\n</code></pre>\n\n<p>And in my models I have the associations:</p>\n\n<p>film.rb:</p>\n\n<pre><code>class Film &lt; ActiveRecord::Base\n    has_many :showings\n    validates :title, presence: true,  length: { minimum: 3 }\nend\n</code></pre>\n\n<p>showing.rb:</p>\n\n<pre><code>class Showing &lt; ActiveRecord::Base\n  belongs_to :film\nend\n</code></pre>\n\n<p>In my showings_controller.rb:</p>\n\n<pre><code>class ShowingsController &lt; ApplicationController\n\n    def show\n        @showing = Showing.find(params[:id])\n    end\n\nend\n</code></pre>\n\n<p>What am I doing wrong? At the minute I get the error:</p>\n\n<p>NoMethodError in Films#show \nundefined method <code>show_date</code> for #</p>\n\n<p>What should I be doing?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "gem", "capistrano"], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1421857670, "post_id": 28071853, "comment_id": 44523597, "body": "Sorry, I&#39;m not following you. The <code>rails4</code> branch exists but I checked out <code>master</code> before doing the deploy. The order from within <code>rails4</code> was <code>git checkout master</code> -&gt; <code>bundle install</code> -&gt; <code>cap production deploy</code>"}, {"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1421858299, "post_id": 28071853, "comment_id": 44523989, "body": "Correction to my last comment: I do understand what you mean about capistrano checking out the branch to be deployed on the server rather than locally. But I still don&#39;t understand why I&#39;m getting the prompt from that gem in my master branch when it only seems to exist in the <code>rails4</code> branch."}, {"owner": {"reputation": 1050, "user_id": 1085629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c565e1fcf5fdaf4b9086e095458aae91?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Dund&#225;\u010dek", "link": "https://stackoverflow.com/users/1085629/tom%c3%a1%c5%a1-dund%c3%a1%c4%8dek"}, "reply_to_user": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1421867077, "post_id": 28071853, "comment_id": 44528839, "body": "Does this happen if you run <code>spring stop</code> and then capistrano again?"}, {"owner": {"reputation": 1050, "user_id": 1085629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c565e1fcf5fdaf4b9086e095458aae91?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Dund&#225;\u010dek", "link": "https://stackoverflow.com/users/1085629/tom%c3%a1%c5%a1-dund%c3%a1%c4%8dek"}, "reply_to_user": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1421909731, "post_id": 28071853, "comment_id": 44543723, "body": "can you please post output of <code>cap -v</code>? another option: what happens if you run your deployment with <code>bundle exec cap ...</code>?"}, {"owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "edited": false, "score": 0, "creation_date": 1421978127, "post_id": 28071853, "comment_id": 44579107, "body": "when I run <code>cap -v</code> from master branch I get <code>Capistrano Version: 3.3.5 (Rake Version: 10.4.2)</code>. 3.3.5 is the version that I upgraded to on the <code>rails4</code> branch. However....when I prefix the deploy command with <code>bundle exec</code> it looks like everything works normally like before!"}], "tags": [], "owner": {"reputation": 1050, "user_id": 1085629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c565e1fcf5fdaf4b9086e095458aae91?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Dund&#225;\u010dek", "link": "https://stackoverflow.com/users/1085629/tom%c3%a1%c5%a1-dund%c3%a1%c4%8dek"}, "is_accepted": true, "score": 1, "last_activity_date": 1421996209, "last_edit_date": 1421996209, "creation_date": 1421856892, "answer_id": 28071853, "question_id": 28071779, "link": "https://stackoverflow.com/questions/28071779/rails-3-2-why-does-my-master-branch-see-the-capistrano-stats-gem-from-my-rails4/28071853#28071853", "title": "Rails 3.2: Why does my master branch see the capistrano-stats gem from my rails4 upgrade branch and can I deploy master?", "body": "<p>If you are deploying <code>master</code>, but you have checked out the <code>rails4</code> branch in local git, you are still deploying using your local config (from the <code>rails4</code> branch).</p>\n\n<p>This is due to the fact, that capistrano does not checkout the branch you want to deploy locally, only on the server you are deploying to and config is loaded before this is done.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>We found out, that running with and without <code>bundle exec</code> runs different versions of capistrano (with <code>bundle exec</code> being the correct one).</p>\n\n<p>If you have more versions of capistrano, it can happen that the non-local one will be selected, but the with highest version will.</p>\n\n<p>To solve that, you can generate a binstub for your capistrano with <code>bundle binstub cap</code>; afterwards you will see that an executable has been added (as <code>./bin/cap</code>) and if you add <code>./bin</code> to your <code>PATH</code>, you will be able to run without <code>bundle exec</code> again.</p>\n"}], "owner": {"reputation": 6202, "user_id": 1066615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iv68W.png?s=128&g=1", "display_name": "sixty4bit", "link": "https://stackoverflow.com/users/1066615/sixty4bit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 28071853, "answer_count": 1, "score": 0, "last_activity_date": 1421996209, "creation_date": 1421856596, "question_id": 28071779, "link": "https://stackoverflow.com/questions/28071779/rails-3-2-why-does-my-master-branch-see-the-capistrano-stats-gem-from-my-rails4", "title": "Rails 3.2: Why does my master branch see the capistrano-stats gem from my rails4 upgrade branch and can I deploy master?", "body": "<p>I've been working in a <code>rails4</code> branch for a while now, upgrading the app from Rails 3.2 to Rails 4.2. In the meantime, I realized that some things that had previously been merged into <code>master</code> were never deployed, so I switched back to <code>master</code> and ran <code>cap production deploy</code>. </p>\n\n<p>All of a sudden, I got this prompt from capistrano that I'd never seen before:</p>\n\n<pre><code>MBA:myapp david$ cpd\n        Would you like to enable statistics?  Here is an example message we would\n        send:\n\n      1|2015-01-21T10:59:17-05:00|1.9.3|x86_64-darwin14.0.0|3.3.5|c52f7ecf\n</code></pre>\n\n<p>As mentioned above, I never received this prompt when deploying previously.  Here is my <code>Gemfile.lock</code> for capistrano on <code>master</code>:</p>\n\n<pre><code>capistrano (3.2.1)\n      i18n\n      rake (&gt;= 10.0.0)\n      sshkit (~&gt; 1.3)\n    capistrano-bundler (1.1.3)\n      capistrano (~&gt; 3.1)\n      sshkit (~&gt; 1.2)\n    capistrano-rails (1.1.2)\n      capistrano (~&gt; 3.1)\n      capistrano-bundler (~&gt; 1.1)\n</code></pre>\n\n<p>...and on <code>rails4</code>:</p>\n\n<pre><code> capistrano (3.3.5)\n      capistrano-stats (~&gt; 1.1.0)\n      i18n\n      rake (&gt;= 10.0.0)\n      sshkit (~&gt; 1.3)\n    capistrano-bundler (1.1.3)\n      capistrano (~&gt; 3.1)\n      sshkit (~&gt; 1.2)\n    capistrano-rails (1.1.2)\n      capistrano (~&gt; 3.1)\n      capistrano-bundler (~&gt; 1.1)\n    capistrano-stats (1.1.1)\n</code></pre>\n\n<p>I notice right away that <code>capistrano-stats</code> exists in the <code>Gemfile.lock</code> for the <code>rails4</code> branch but not in <code>master</code>. Yet I'm still getting the statistics prompt when deploying <code>master</code>, even if I run <code>bundle install</code> on the <code>master</code> branch before deploying. </p>\n\n<p>Can someone explain how this is working with Git, and what the consequences of deploying <code>master</code> would be at this point since it seems to be seeing things (gems) from the <code>rails4</code> branch even though I haven't merged it? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rspec", "capybara"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 1893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbc826377844c3b0c84371ad51ebefc?s=128&d=identicon&r=PG", "display_name": "Ethan Dennis", "link": "https://stackoverflow.com/users/1893480/ethan-dennis"}, "is_accepted": true, "score": 0, "last_activity_date": 1421892533, "creation_date": 1421892533, "answer_id": 28080212, "question_id": 28071666, "link": "https://stackoverflow.com/questions/28071666/rspec-capybara-feature-testing-forms-rendered-from-partial/28080212#28080212", "title": "Rspec, Capybara feature testing forms rendered from partial", "body": "<p>Apologies, for I have done something embarrassingly dumb. I needed to have the user signed in to see the form content. Everything is working now.</p>\n"}], "owner": {"reputation": 36, "user_id": 1893480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbc826377844c3b0c84371ad51ebefc?s=128&d=identicon&r=PG", "display_name": "Ethan Dennis", "link": "https://stackoverflow.com/users/1893480/ethan-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 28080212, "answer_count": 1, "score": 0, "last_activity_date": 1421892533, "creation_date": 1421856273, "question_id": 28071666, "link": "https://stackoverflow.com/questions/28071666/rspec-capybara-feature-testing-forms-rendered-from-partial", "title": "Rspec, Capybara feature testing forms rendered from partial", "body": "<p>I am trying to write a feature test using rspec and capybara. I have a form that is contained within a rendered partial, and when capybara is unable to find the form elements in the spec. Any ideas on how to get capybara to render the partials?</p>\n"}, {"tags": ["ruby", "regex"], "answers": [{"comments": [{"owner": {"reputation": 11499, "user_id": 1236090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0I6m.jpg?s=128&g=1", "display_name": "David Faber", "link": "https://stackoverflow.com/users/1236090/david-faber"}, "edited": false, "score": 2, "creation_date": 1421857274, "post_id": 28071754, "comment_id": 44523327, "body": "Couldn&#39;t one reduce this to this? <code>(?&lt;=\\\\par)(?!(d?\\\\|\\s))</code>"}, {"owner": {"reputation": 1402, "user_id": 275249, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f4a6789a3cfae583e20b747df4dfe519?s=128&d=identicon&r=PG&f=1", "display_name": "n_x_l", "link": "https://stackoverflow.com/users/275249/n-x-l"}, "edited": false, "score": 0, "creation_date": 1421858080, "post_id": 28071754, "comment_id": 44523842, "body": "This did it. Thank you."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 11499, "user_id": 1236090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0I6m.jpg?s=128&g=1", "display_name": "David Faber", "link": "https://stackoverflow.com/users/1236090/david-faber"}, "edited": false, "score": 0, "creation_date": 1421864256, "post_id": 28071754, "comment_id": 44527439, "body": "@DavidFaber, yes I think <a href=\"http://rubular.com/r/kBrcrO2yLP\" rel=\"nofollow noreferrer\">that&#39;s</a> a little better."}, {"owner": {"reputation": 24723, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 11499, "user_id": 1236090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0I6m.jpg?s=128&g=1", "display_name": "David Faber", "link": "https://stackoverflow.com/users/1236090/david-faber"}, "edited": false, "score": 0, "creation_date": 1421864332, "post_id": 28071754, "comment_id": 44527467, "body": "@DavidFaber Yeah. Thats even shorter !!. Added in answer. Thank you :)"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421864465, "post_id": 28071754, "comment_id": 44527536, "body": "You don&#39;t need the inner parenthesis in the negative lookahead."}, {"owner": {"reputation": 24723, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421864611, "post_id": 28071754, "comment_id": 44527611, "body": "@CarySwoveland They are actually useless. Included just to group. Removed anyways. Thanks"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421865586, "post_id": 28071754, "comment_id": 44528087, "body": "I know all do not share my view, but I advise to never include anything that is not needed, redundant parentheses and <code>self.</code> being prime examples. The reason is that readers--especially less-experienced Rubyists--may assume the superfluous bits are needed.  If they are confused by the absence of such bits, they will quickly figure it out and learn something they need to know."}], "tags": [], "owner": {"reputation": 24723, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "is_accepted": true, "score": 4, "last_activity_date": 1421864371, "last_edit_date": 1421864371, "creation_date": 1421856504, "answer_id": 28071754, "question_id": 28071663, "link": "https://stackoverflow.com/questions/28071663/ruby-regex-insert-space-if-set-of-characters-encountered/28071754#28071754", "title": "Ruby Regex: Insert space if set of characters encountered", "body": "<p>You were close. Try changing the regex as</p>\n\n<pre><code>(?&lt;=\\\\par)(?!d\\\\|\\s|\\\\)\n</code></pre>\n\n<p><strong>Changes made</strong></p>\n\n<ul>\n<li><p>Drop the <code>.</code> between the look arounds. This is required as the <code>.</code> would be matched and consumed by engine</p></li>\n<li><p><code>\\d</code> to <code>d</code> as you intend to match <code>d</code> and not digits (<code>\\d</code>)</p></li>\n<li><p><code>\\S</code> to <code>s</code> You have already used a negative look ahead. so <code>\\s</code> with the negation ensurs that there is no space following <code>\\par</code></p></li>\n</ul>\n\n<p><a href=\"http://rubular.com/r/g0wuzCt5LN\" rel=\"nofollow\"><strong>Rubular Demo</strong></a></p>\n\n<p><strong>OR</strong></p>\n\n<p>shorter version would be</p>\n\n<pre><code>(?&lt;=\\\\par)(?!d?\\\\|\\s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 3162752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VOHRk.png?s=128&g=1", "display_name": "AMDcze", "link": "https://stackoverflow.com/users/3162752/amdcze"}, "is_accepted": false, "score": 0, "last_activity_date": 1421856757, "creation_date": 1421856757, "answer_id": 28071817, "question_id": 28071663, "link": "https://stackoverflow.com/questions/28071663/ruby-regex-insert-space-if-set-of-characters-encountered/28071817#28071817", "title": "Ruby Regex: Insert space if set of characters encountered", "body": "<p>I am a little bit confused by what exactly you want, this?</p>\n\n<pre><code>\\\\par(?!d\\\\)(?!\\\\)(?! ).\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1421865195, "creation_date": 1421865195, "answer_id": 28074325, "question_id": 28071663, "link": "https://stackoverflow.com/questions/28071663/ruby-regex-insert-space-if-set-of-characters-encountered/28074325#28074325", "title": "Ruby Regex: Insert space if set of characters encountered", "body": "<p>This is another way, which only uses a negative lookahead: </p>\n\n<pre><code>def stuff_space_maybe(s)\n  s.gsub(/\\\\par(?!\\s|d?\\\\)/,'\\par ')\nend\n\nstuff_space_maybe(\"let's \\\\part\\\\y!\")\n  #=&gt; \"let's \\\\par t\\\\y!\" \nstuff_space_maybe(\"let's \\\\pard\\\\y!\")\n  #=&gt; \"let's \\\\pard\\\\y!\" \nstuff_space_maybe(\"let's \\\\par\\\\y!\")\n  #=&gt; \"let's \\\\par\\\\y!\" \nstuff_space_maybe(\"let's \\\\par\\\\ty!\")\n  #=&gt; \"let's \\\\par\\\\ty!\" \n</code></pre>\n"}], "owner": {"reputation": 1402, "user_id": 275249, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f4a6789a3cfae583e20b747df4dfe519?s=128&d=identicon&r=PG&f=1", "display_name": "n_x_l", "link": "https://stackoverflow.com/users/275249/n-x-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 28071754, "answer_count": 3, "score": 1, "last_activity_date": 1421865195, "creation_date": 1421856266, "question_id": 28071663, "link": "https://stackoverflow.com/questions/28071663/ruby-regex-insert-space-if-set-of-characters-encountered", "title": "Ruby Regex: Insert space if set of characters encountered", "body": "<p>I would like your help formulating a regex in Ruby. </p>\n\n<p>I would like to insert a space after the literal <code>\\par</code> in a string only if these conditions are met: </p>\n\n<ol>\n<li><code>\\par</code> is not followed by <code>d\\</code>, so not <code>\\pard\\</code>.</li>\n<li><code>\\par</code> is not followed by a <code>\\</code>, so not <code>\\par\\</code>.</li>\n<li>And <code>\\par</code> should not be followed by space, so not <code>\\par</code>. </li>\n</ol>\n\n<p>Here is what I came up with: </p>\n\n<p><code>my_string.gsub!(/(?&lt;=\\\\par).(?!(\\d\\\\)|(\\S)|(\\\\))/, ' ')</code>, but this does not work for me at the moment. </p>\n\n<p>Any ideas? </p>\n"}, {"tags": ["ruby", "vim"], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 1411807, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bbc8bbe9681709710bb6938a20c02035?s=128&d=identicon&r=PG", "display_name": "Lethjakman", "link": "https://stackoverflow.com/users/1411807/lethjakman"}, "edited": false, "score": 0, "creation_date": 1421864413, "post_id": 28074083, "comment_id": 44527512, "body": "If it&#39;s multiple lines it seems to throw an error saying: &quot;SyntaxError: eval:1: syntax error, unexpected tIDENTIFIER, expecting end-of-input&quot; Is there a good way to run multiple lines?"}, {"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "reply_to_user": {"reputation": 917, "user_id": 1411807, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bbc8bbe9681709710bb6938a20c02035?s=128&d=identicon&r=PG", "display_name": "Lethjakman", "link": "https://stackoverflow.com/users/1411807/lethjakman"}, "edited": false, "score": 1, "creation_date": 1421864687, "post_id": 28074083, "comment_id": 44527651, "body": "Why don&#39;t you simply use Pry or some other Ruby REPL?"}, {"owner": {"reputation": 917, "user_id": 1411807, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bbc8bbe9681709710bb6938a20c02035?s=128&d=identicon&r=PG", "display_name": "Lethjakman", "link": "https://stackoverflow.com/users/1411807/lethjakman"}, "edited": false, "score": 1, "creation_date": 1421864823, "post_id": 28074083, "comment_id": 44527705, "body": "Because it would be easier for a ruby presentation I&#39;m doing to be able to execute lines in VIM rather than going back and forth between vim and a REPL."}], "tags": [], "owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "is_accepted": false, "score": 2, "last_activity_date": 1421864244, "creation_date": 1421864244, "answer_id": 28074083, "question_id": 28071616, "link": "https://stackoverflow.com/questions/28071616/rubydo-doesnt-execute-currently-selected-in-vim/28074083#28074083", "title": "Rubydo doesn&#39;t execute currently selected in VIM", "body": "<p>None of those commands do what you expect. Please read the documentation before trying random commands:</p>\n\n<pre><code>:help :ruby\n:help :rubydo\n</code></pre>\n\n<p>To execute the current line, yank it with <code>yy</code> and do:</p>\n\n<pre><code>:ruby &lt;C-r&gt;\"&lt;CR&gt;\n</code></pre>\n\n<p>To run the current script, write it with <code>:w</code> then do:</p>\n\n<pre><code>:!ruby %&lt;CR&gt;\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 1411807, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bbc8bbe9681709710bb6938a20c02035?s=128&d=identicon&r=PG", "display_name": "Lethjakman", "link": "https://stackoverflow.com/users/1411807/lethjakman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421864244, "creation_date": 1421856098, "question_id": 28071616, "link": "https://stackoverflow.com/questions/28071616/rubydo-doesnt-execute-currently-selected-in-vim", "title": "Rubydo doesn&#39;t execute currently selected in VIM", "body": "<p>If I have a line selected in vim for example:</p>\n\n<pre><code>puts 'Hello world'\n</code></pre>\n\n<p>and highlight this line, then type :rubydo the line doesn't execute, instead I get an error that \"E471: Argument required\" The same error also happens for the command :ruby % which I have been lead to believe should execute the current file. Does anyone know what I'm doing wrong? Thank you!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "redmine", "redmine-api"], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 2926056, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/959ca1354baf181a087f3788068db08e?s=128&d=identicon&r=PG&f=1", "display_name": "Centimane", "link": "https://stackoverflow.com/users/2926056/centimane"}, "is_accepted": false, "score": 0, "last_activity_date": 1433932930, "creation_date": 1433932930, "answer_id": 30753999, "question_id": 28071482, "link": "https://stackoverflow.com/questions/28071482/how-do-you-insert-new-relations-in-redmine/30753999#30753999", "title": "How do You Insert New Relations in Redmine", "body": "<p>I have discovered the solution to this.</p>\n\n<p>Rather than use the IssueRelation object you need to use the Relation object.</p>\n\n<p>Also, before using the Relation object you must change the site.</p>\n\n<pre><code>Relation.site=\"[the site]/issues/#{issue1.id}/\"\nrel = Relation.new(\n       :issue_to_id =&gt; issue2.id,\n       :relation_type =&gt; 'relates'\n      )\nrel.save\n</code></pre>\n\n<p>You could probably put :site in the Relation.new instead of changing it for the class.</p>\n"}], "owner": {"reputation": 260, "user_id": 2926056, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/959ca1354baf181a087f3788068db08e?s=128&d=identicon&r=PG&f=1", "display_name": "Centimane", "link": "https://stackoverflow.com/users/2926056/centimane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433932930, "creation_date": 1421855755, "question_id": 28071482, "link": "https://stackoverflow.com/questions/28071482/how-do-you-insert-new-relations-in-redmine", "title": "How do You Insert New Relations in Redmine", "body": "<p>I am trying to find the syntax for inserting a new Relation between issues in Redmine using Ruby.</p>\n\n<p>The code I've been trying:</p>\n\n<pre><code>require 'rubygems'\nrequire 'active_resource'\nclass Issue &lt; ActiveResource::Base\n     self.site = '[the site]'\n     self.user = '[the user]'\n     self.password = '[the password]' #not hard coded\n     self.format = :json #I've had issues with Issue.find(i) without explicitly stating the format\nend\n\nclass IssueRelation &lt; ActiveResource::Base\n     self.site = '[the site]'\n     self.user = '[the user]'\n     self.password = '[the password]' #not hard coded\n     self.format = :json #I've had issues with Issue.find(i) without explicitly stating the format\nend\n\nissue1 = Issue.find(1)\nissue2 = Issue.find(2)\n\nputs issue1.id\nputs issue2.id\n\nrelation = IssueRelation.new(\n    :issue =&gt; issue1,\n    :issue_to =&gt; issue2,\n    :relation_type =&gt; 'relates'\n    )\n\nif relation.save\n    puts relation.id\nelse\n    puts relation.errors.full_message\nend\n</code></pre>\n\n<p>The output I get back:</p>\n\n<pre><code>1\n2\n...'handle_response': Failed. Response code = 404. Response Message = not found.\n</code></pre>\n\n<p>The output suggests that Issue 1 and 2 were successfully found, but that the name I'm using for the relation is not valid, hence the 404 not found.</p>\n\n<p>What is the correct syntax for creating a relation in Redmine's API given that I have found the two issues that it will link?</p>\n"}, {"tags": ["ruby", "ruby-on-rails-3", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": false, "score": 0, "last_activity_date": 1421856791, "last_edit_date": 1421856791, "creation_date": 1421856393, "answer_id": 28071722, "question_id": 28071381, "link": "https://stackoverflow.com/questions/28071381/return-json-in-column-wise-format/28071722#28071722", "title": "return json in column-wise format", "body": "<p>You could do the following:</p>\n\n<pre><code>data = {\n  name: User.pluck(:name),\n  age: User.pluck(:age),\n  location: User.pluck(:location)\n}\n\nrender json: data\n</code></pre>\n\n<p>but be advised, this will query the database 3 times!</p>\n\n<p><strong>EDIT</strong>: If you want to do it all in 1 Query, do the following:</p>\n\n<pre><code>data = {\n  name: [],\n  age: [],\n  location: []\n}\n\nUser.pluck(:name, :age, :location).each do |u|\n  data[:name] &lt;&lt; u[0]\n  data[:age] &lt;&lt; u[1]\n  data[:location] &lt;&lt; u[2]\nend\n\nrender json: data\n</code></pre>\n"}], "owner": {"reputation": 6503, "user_id": 3675188, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/38ad90bb6d16a1a2201cf88699d0ebf9?s=128&d=identicon&r=PG&f=1", "display_name": "user3675188", "link": "https://stackoverflow.com/users/3675188/user3675188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421856791, "creation_date": 1421855520, "question_id": 28071381, "link": "https://stackoverflow.com/questions/28071381/return-json-in-column-wise-format", "title": "return json in column-wise format", "body": "<p>How to return json in column-wise format</p>\n\n<p>Suppose the <strong>User</strong> table has 3 columns <code>(Name, age, location)</code>,</p>\n\n<h3>User Table</h3>\n\n<pre><code>Jack, 18, Taiwan\nMary, 27, Japan\n</code></pre>\n\n<p>Expected JSON response format (by columnar)</p>\n\n<pre><code>{\n name:[\"Jack\", \"Mary\"],\n age: [18, 27],\n location: [\"Taiwan\", \"Japan\"]\n}\n</code></pre>\n\n<p>How to finish it on Rails ?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "sql-order-by"], "answers": [{"tags": [], "owner": {"reputation": 1811, "user_id": 3888644, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/29a035a5c3ef08cd60111bde5c9888d2?s=128&d=identicon&r=PG&f=1", "display_name": "Darkmouse", "link": "https://stackoverflow.com/users/3888644/darkmouse"}, "is_accepted": false, "score": 0, "last_activity_date": 1421856810, "creation_date": 1421856810, "answer_id": 28071832, "question_id": 28071304, "link": "https://stackoverflow.com/questions/28071304/how-to-sort-model-by-sum-of-attributes/28071832#28071832", "title": "How to sort model by sum of attributes?", "body": "<p>Assuming <code>:followers_total_count</code> is an integer, you could try this</p>\n\n<pre><code>Artist.order(:followers_total_count, :desc)\n</code></pre>\n"}], "owner": {"reputation": 7060, "user_id": 1103892, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b34241dc41bec4c72dafa9cdd256fc26?s=128&d=identicon&r=PG&f=1", "display_name": "tomekfranek", "link": "https://stackoverflow.com/users/1103892/tomekfranek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421856810, "creation_date": 1421855297, "question_id": 28071304, "link": "https://stackoverflow.com/questions/28071304/how-to-sort-model-by-sum-of-attributes", "title": "How to sort model by sum of attributes?", "body": "<p>I have an Artist model represented by serializer</p>\n\n<pre><code>class ArtistSerializer &lt; ActiveModel::Serializer\n  attributes :id,\n             :name,\n             :followers_total_count\n\n  def followers_total_count\n    [\n      object.facebook_like_count,\n      object.soundcloud_like_count,\n      object.instagram_like_count,\n      object.twitter_like_count,\n      object.mixcloud_like_count,\n      object.youtube_like_count\n    ].map(&amp;:to_i).reduce(:+)\n  end\nend\n</code></pre>\n\n<p>How to sort <code>Artist.all</code> by sum of all providers like count.</p>\n\n<p>Example:</p>\n\n<p>Artist1</p>\n\n<ul>\n<li>facebook_like_count => 100</li>\n<li>twitter_like_count => 50</li>\n</ul>\n\n<p>Artist2</p>\n\n<ul>\n<li>instagram_like_count => 20</li>\n<li>twitter_like_count => 1000</li>\n</ul>\n\n<p>order should be [Artist2, Artist1]</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "web-scraping"], "comments": [{"owner": {"reputation": 6646, "user_id": 573421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f8806a87794cfe6f18321d0e48172f3?s=128&d=identicon&r=PG", "display_name": "iamkrillin", "link": "https://stackoverflow.com/users/573421/iamkrillin"}, "edited": false, "score": 0, "creation_date": 1421855297, "post_id": 28071251, "comment_id": 44521889, "body": "You&#39;ll likely need to modify the user-agent to get past that.  Not sure how you would do that in rails"}, {"owner": {"reputation": 229, "user_id": 2530407, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c0cd4007f109d473c295009a2651f45?s=128&d=identicon&r=PG", "display_name": "jmoon90", "link": "https://stackoverflow.com/users/2530407/jmoon90"}, "reply_to_user": {"reputation": 6646, "user_id": 573421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f8806a87794cfe6f18321d0e48172f3?s=128&d=identicon&r=PG", "display_name": "iamkrillin", "link": "https://stackoverflow.com/users/573421/iamkrillin"}, "edited": false, "score": 0, "creation_date": 1421855405, "post_id": 28071251, "comment_id": 44521979, "body": "What would you modify the user-agent to be?"}, {"owner": {"reputation": 6646, "user_id": 573421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f8806a87794cfe6f18321d0e48172f3?s=128&d=identicon&r=PG", "display_name": "iamkrillin", "link": "https://stackoverflow.com/users/573421/iamkrillin"}, "edited": false, "score": 0, "creation_date": 1421855454, "post_id": 28071251, "comment_id": 44522011, "body": "I usually pick firefox: <a href=\"http://www.useragentstring.com/pages/useragentstring.php\" rel=\"nofollow noreferrer\">useragentstring.com/pages/useragentstring.php</a>"}, {"owner": {"reputation": 229, "user_id": 2530407, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c0cd4007f109d473c295009a2651f45?s=128&d=identicon&r=PG", "display_name": "jmoon90", "link": "https://stackoverflow.com/users/2530407/jmoon90"}, "reply_to_user": {"reputation": 6646, "user_id": 573421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f8806a87794cfe6f18321d0e48172f3?s=128&d=identicon&r=PG", "display_name": "iamkrillin", "link": "https://stackoverflow.com/users/573421/iamkrillin"}, "edited": false, "score": 0, "creation_date": 1421856413, "post_id": 28071251, "comment_id": 44522740, "body": "Hey I changed my user agent to firefox as you mentioned above. But I&#39;m still getting the same &quot;JS capable browser error&quot;        <code>agent.user_agent = &quot;Mozilla&#47;5.0 (Windows NT 6.3; rv:36.0)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4085, "user_id": 1510063, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/uXGc7.jpg?s=128&g=1", "display_name": "Charlie Egan", "link": "https://stackoverflow.com/users/1510063/charlie-egan"}, "is_accepted": false, "score": 1, "last_activity_date": 1422137965, "creation_date": 1422137965, "answer_id": 28130892, "question_id": 28071251, "link": "https://stackoverflow.com/questions/28071251/scraping-external-website-but-returns-you-must-use-a-javascript-capable-browser/28130892#28130892", "title": "Scraping external website but returns &quot;You must use a JavaScript capable browser with this site.&quot; error", "body": "<p>To programmatically interact with a page that requires Javascript for core features you'll need to use a 'headless browser'.</p>\n\n<p>You should look into <a href=\"https://en.wikipedia.org/wiki/Watir\" rel=\"nofollow\">Watir</a>, <a href=\"https://en.wikipedia.org/wiki/Selenium_(software)\" rel=\"nofollow\">Selenium</a> and <a href=\"http://phantomjs.org\" rel=\"nofollow\">phantomjs</a>.</p>\n"}], "owner": {"reputation": 229, "user_id": 2530407, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c0cd4007f109d473c295009a2651f45?s=128&d=identicon&r=PG", "display_name": "jmoon90", "link": "https://stackoverflow.com/users/2530407/jmoon90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422137965, "creation_date": 1421855137, "last_edit_date": 1421857340, "question_id": 28071251, "link": "https://stackoverflow.com/questions/28071251/scraping-external-website-but-returns-you-must-use-a-javascript-capable-browser", "title": "Scraping external website but returns &quot;You must use a JavaScript capable browser with this site.&quot; error", "body": "<p>I'm using the rake task in Ruby on Rails. I have a website where I need to log-in in order to scrape the site. I filled out the form. </p>\n\n<pre><code>form[:login] = user_name\nform[:pw] = password\nform.submit\n</code></pre>\n\n<p>this returns the error</p>\n\n<pre><code>#&lt;Mechanize::Page\n {url\n  #&lt;URI::HTTPS:0x007fa36a0037b8 URL:https://pulse2.com/system/JSAuth/NoScript.html&gt;}\n {meta_refresh}\n {title \"You must use a JavaScript capable browser with this site.\"}\n {iframes}\n {frames}\n {links}\n {forms}&gt;\n</code></pre>\n\n<p>This is weird, because a) Can I turn on JS capability for the scrapper b) Is this an problem with the site itself? </p>\n\n<p>[EDIT] More information. When I look at the form it looks like this. One thing to note is the {action \"/system/JSAuth/NoScript.html\"}. I believe this is the reason why I can't submit my action. IS there a way to get around this??</p>\n\n<pre><code>#&lt;Mechanize::Form\n   {name \"mainform\"}\n   {method \"POST\"}\n   {action \"/system/JSAuth/NoScript.html\"}\n   {fields\n    [hidden:0x3fc5b7d7d8b0 type: hidden name: referer value: ]\n    [hidden:0x3fc5b7d7d75c type: hidden name: VerLoginAttempt value: 1]\n    [hidden:0x3fc5b7d7d608 type: hidden name: FormName value: LoginMain]\n    [text:0x3fc5b7d7d4b4 type: text name: VerLoginID value: ]\n    [field:0x3fc5b7d7d360 type: password name: VerPassword value: ]}\n   {radiobuttons}\n   {checkboxes\n    [checkbox:0x3fc5b7d7d234 type: checkbox name: RCRememberMe value: false]}\n   {file_uploads}\n   {buttons [submit:0x3fc5b7d7d090 type: submit name:  value: Login]}&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "http", "https", "gem"], "comments": [{"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421857014, "post_id": 28071177, "comment_id": 44523137, "body": "Are you behind a Proxy?"}, {"owner": {"reputation": 830, "user_id": 2404456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3b3b46e6e33b240076bc3bbf32abee5?s=128&d=identicon&r=PG", "display_name": "SenhorLucas", "link": "https://stackoverflow.com/users/2404456/senhorlucas"}, "reply_to_user": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421908177, "post_id": 28071177, "comment_id": 44543172, "body": "Yes. Then I added the environmental variable:HTTP_PROXY=<a href=\"http://username:password@proxy:port\" rel=\"nofollow noreferrer\">username:password@proxy:port</a>. But weirdly the error changes to &quot;authentication required&quot; as if it didn&#39;t recognize my login data. I am not admin, but you shouldn&#39;t need admin priviledges to access a website... Moreover, I can &quot;ping&quot; google.com ..."}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421924016, "post_id": 28071177, "comment_id": 44551067, "body": "Try changing it to <code>HTTP_PROXY=http:&#47;&#47;user:pass@proxy:port</code>, and try also setting <code>HTTPS_PROXY</code> to the same value (also <code>http:&#47;&#47;...</code>)."}, {"owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421924166, "post_id": 28071177, "comment_id": 44551152, "body": "Check the first two answers: <a href=\"http://stackoverflow.com/questions/4418/how-do-i-update-ruby-gems-from-behind-a-proxy-isa-ntlm\" title=\"how do i update ruby gems from behind a proxy isa ntlm\">stackoverflow.com/questions/4418/&hellip;</a>"}, {"owner": {"reputation": 830, "user_id": 2404456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3b3b46e6e33b240076bc3bbf32abee5?s=128&d=identicon&r=PG", "display_name": "SenhorLucas", "link": "https://stackoverflow.com/users/2404456/senhorlucas"}, "reply_to_user": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "edited": false, "score": 0, "creation_date": 1421998837, "post_id": 28071177, "comment_id": 44584838, "body": "Thanks guys. I tried your suggestions and both lead me to a <code>407 HTTP error: authentication required</code>"}, {"owner": {"reputation": 384, "user_id": 626027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tLQzv.jpg?s=128&g=1", "display_name": "Nanthini Muniapan", "link": "https://stackoverflow.com/users/626027/nanthini-muniapan"}, "edited": false, "score": 0, "creation_date": 1428047636, "post_id": 28071177, "comment_id": 47026932, "body": "I&#39;m hitting this error as well. Could it be because port 443 is in use by some other service e.g APACHE?"}], "owner": {"reputation": 830, "user_id": 2404456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3b3b46e6e33b240076bc3bbf32abee5?s=128&d=identicon&r=PG", "display_name": "SenhorLucas", "link": "https://stackoverflow.com/users/2404456/senhorlucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421854939, "creation_date": 1421854939, "question_id": 28071177, "link": "https://stackoverflow.com/questions/28071177/gem-install-sass-etimeout-on-windows", "title": "gem install sass ETIMEOUT on windows", "body": "<h2>Problem description:<br></h2>\n\n<p>I try to install a gem, say, sass:</p>\n\n<pre><code>gem install sass\n</code></pre>\n\n<p>And get this answer:</p>\n\n<p>Errno::ETIMEOUT: A connection attempt failed because the connected partydid not properly respond after a period of time, or established connection failed because connected host failed to respond.  - connect(2) for \"api.rubygems.org\" port 443 (<a href=\"https://api.rubygems.org/specs.4.8.gz\" rel=\"nofollow\">https://api.rubygems.org/specs.4.8.gz</a>)</p>\n\n<h2>What I have tried:</h2>\n\n<p>Add a http source from where to retrieve the gems, and remove the https.</p>\n\n<pre><code>gem source -a \"http://rubygems.org\" \ngem source -r \"https://rubygems.org\"\n</code></pre>\n\n<p>Big mistake... Now I cannot add back any of these sources because I carry on not being able to receive a response from them. </p>\n\n<p>I have reinstalled ruby.</p>\n\n<p>I have turned on and off my computer and contacted the IT crowd...</p>\n\n<p>Anyone?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15463976/cannot-access-to-rubygems-org-from-terminal\">this</a> did not help either.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "ruby-on-rails-4", "instagram"], "answers": [{"comments": [{"owner": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1427124081, "post_id": 28071342, "comment_id": 46637275, "body": "Nope, I get &quot;TypeError: can&#39;t convert String into an exact number&quot; when <code>Time.at(&quot;1426311385&quot;)</code>"}, {"owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "reply_to_user": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 1, "creation_date": 1427124551, "post_id": 28071342, "comment_id": 46637621, "body": "<code>Time.at(1426311385)</code> or <code>Time.at(your_variable.to_i)</code>"}, {"owner": {"reputation": 6200, "user_id": 637094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fd50f61387b63900335c8556f86237be?s=128&d=identicon&r=PG", "display_name": "Leonel Gal&#225;n", "link": "https://stackoverflow.com/users/637094/leonel-gal%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1427125445, "post_id": 28071342, "comment_id": 46638229, "body": "Thanks, that did the trick. Its actually a string when it comes down from Instagram&#39;s API."}], "tags": [], "owner": {"reputation": 6267, "user_id": 1144104, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c135bc644610fabc6e059b73fdd7f8ad?s=128&d=identicon&r=PG", "display_name": "jazzytomato", "link": "https://stackoverflow.com/users/1144104/jazzytomato"}, "is_accepted": false, "score": 6, "last_activity_date": 1421855404, "creation_date": 1421855404, "answer_id": 28071342, "question_id": 28071158, "link": "https://stackoverflow.com/questions/28071158/how-can-i-get-created-time-from-this-instagram-json/28071342#28071342", "title": "How Can I get created_time from this instagram json?", "body": "<p>You can use <a href=\"http://ruby-doc.org/core-2.1.5/Time.html#method-c-at\">Time at</a></p>\n\n<pre><code>Time.at(created_time)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4478911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1423385677, "creation_date": 1421854870, "last_edit_date": 1423385677, "question_id": 28071158, "link": "https://stackoverflow.com/questions/28071158/how-can-i-get-created-time-from-this-instagram-json", "title": "How Can I get created_time from this instagram json?", "body": "<p>I got this json and <code>created_time</code> value show time in <strong>integer</strong> format not a in time formate but I want this created_time in proper format.\nHow to get <strong>created_time</strong> in proper format?    </p>\n\n<pre><code>\"filter\"=&gt;\"Normal\",\n\"created_time\"=&gt;\"1421677966\",\n  \"link\"=&gt;\"http://instagram.com/p/yCfw5sKorK/\",\n  \"likes\"=&gt;{\n    \"count\"=&gt;1,\n    \"data\"=&gt;[\n      {\n        \"username\"=&gt;\"nikhil.thombare\",\n        \"profile_picture\"=&gt;\"https://instagramimages-a.akamaihd.net/profiles/anonymousUser.jpg\",\n        \"id\"=&gt;\"1651917721\",\n        \"full_name\"=&gt;\"Nikhil Narendra Thombare\"\n      }\n    ]\n</code></pre>\n"}, {"tags": ["ruby", "puppet"], "answers": [{"comments": [{"owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "edited": false, "score": 0, "creation_date": 1421912566, "post_id": 28071486, "comment_id": 44544944, "body": "I&#39;m afraid but that doesn&#39;t work. I get the following error: Puppet::Settings::InterpolationError: Error converting value for param &#39;config&#39;: Could not find value for $confdir"}, {"owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "edited": false, "score": 0, "creation_date": 1422192819, "post_id": 28071486, "comment_id": 44645694, "body": "It seems to be a bug. Solved the problem temporarily with static path."}], "tags": [], "owner": {"reputation": 2359, "user_id": 405454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IDzwW.png?s=128&g=1", "display_name": "mhutter", "link": "https://stackoverflow.com/users/405454/mhutter"}, "is_accepted": false, "score": 0, "last_activity_date": 1421855769, "creation_date": 1421855769, "answer_id": 28071486, "question_id": 28070512, "link": "https://stackoverflow.com/questions/28070512/how-to-get-the-path-to-the-puppet-conf-in-a-ruby-script/28071486#28071486", "title": "How to get the path to the puppet.conf in a ruby script", "body": "<p>You could probably load the Puppet library by calling</p>\n\n<pre><code>require 'puppet'\n</code></pre>\n\n<p>before calling <code>Puppet</code>.</p>\n"}], "owner": {"reputation": 826, "user_id": 2819525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/830e2fecdd962110e83555e0d2ee8ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Benedikt Bock", "link": "https://stackoverflow.com/users/2819525/benedikt-bock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421914861, "creation_date": 1421853143, "last_edit_date": 1421914861, "question_id": 28070512, "link": "https://stackoverflow.com/questions/28070512/how-to-get-the-path-to-the-puppet-conf-in-a-ruby-script", "title": "How to get the path to the puppet.conf in a ruby script", "body": "<p>I want to write a ruby script that is called from command line.</p>\n\n<p>The script needs to load a configuration from a yaml file. The yaml file is in the Folder of the puppet.conf.</p>\n\n<p>In an custom function of puppet I can get the folder with </p>\n\n<pre><code>File.dirname(Puppet.settings[:config])\n</code></pre>\n\n<p>Unfortunately \"Puppet\" is unknown for the script.</p>\n\n<p>Is it possible to load \"Puppet\" in the script or to get this path in any other way?</p>\n\n<p>---EDIT---</p>\n\n<p>I forgot to mention that this script runs on a puppetmaster and not on a puppetagent. Maybe that matters...</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 2691, "user_id": 3324630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6gEL.jpg?s=128&g=1", "display_name": "Grych", "link": "https://stackoverflow.com/users/3324630/grych"}, "edited": false, "score": 1, "creation_date": 1421852964, "post_id": 28070388, "comment_id": 44520208, "body": "Do you have method <code>destroy</code> in <code>MicropostsController</code> ?"}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421852974, "post_id": 28070388, "comment_id": 44520217, "body": "What does your controller code look like? Have you tried adding logging with <code>logger.info &quot;abcde&quot;</code> to see what&#39;s happening? The request might be getting as far as the controller, before it is redirected somewhere else. Also, I&#39;m not sure why Javascript has any relevance here?"}, {"owner": {"reputation": 4416, "user_id": 2552259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6d74162f339b5acd772d3f5dadaa8ea?s=128&d=identicon&r=PG", "display_name": "Jorge de los Santos", "link": "https://stackoverflow.com/users/2552259/jorge-de-los-santos"}, "edited": false, "score": 2, "creation_date": 1421853930, "post_id": 28070388, "comment_id": 44520813, "body": "Paste your controller method. Looks like you are trying to render after destroy."}, {"owner": {"reputation": 161, "user_id": 4462048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9307244aa379ce81b6db07bad223a8cf?s=128&d=identicon&r=PG&f=1", "display_name": "seque90", "link": "https://stackoverflow.com/users/4462048/seque90"}, "edited": false, "score": 0, "creation_date": 1421869748, "post_id": 28070388, "comment_id": 44530286, "body": "I&#39;ve just pasted the MicropostController."}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421916344, "post_id": 28070388, "comment_id": 44546598, "body": "Hmm... I was originally thinking that this might be a controller problem, but everything that you&#39;ve posted here seems to be fine. I&#39;d say that the answer given by @glyuck is probably right about this - make sure that you have Javascript enabled in your browser (don&#39;t forget about extensions such as NoScript!) and check your browser console for errors. You can see the console by pressing F12 in most browsers - just be aware that you might need to press F5 to refresh in order to see anything if you open the console <i>after</i> navigating to the page."}], "answers": [{"comments": [{"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421853284, "post_id": 28070465, "comment_id": 44520408, "body": "If this is a routing error (<code>Routing Error. &quot;No route matches [GET] &quot;&#47;microposts&#47;3&quot;</code>) then it&#39;s probably a server-side problem, not a browser-side one."}, {"owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "reply_to_user": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 1, "creation_date": 1421853640, "post_id": 28070465, "comment_id": 44520629, "body": "Why downvote? It&#39;s definitely javascript issue. <code>:delete</code> links should not be opened via GET. jquery_ujs creates hidden POST form with <code>&lt;input name=&quot;_method&quot; value=&quot;delete&quot; type=&quot;hidden&quot; &#47;&gt;</code> and submits it.  Also, note that you need to change <code>:confirm =&gt; &quot;You sure?&quot;</code> to <code>:data=&gt; {:confirm =&gt; &quot;You sure?&quot;}</code>"}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421854340, "post_id": 28070465, "comment_id": 44521168, "body": "The OP code includes <code>&lt;%= link_to &quot;delete&quot;, micropost, :method =&gt; :delete</code> so Rails should treat it as a DELETE request (rather than a GET) even if the <i>actual</i> HTTP method differs."}, {"owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "reply_to_user": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421854642, "post_id": 28070465, "comment_id": 44521410, "body": "@GoBusto, try to remove <code>jquery_ujs</code> from your <code>application.js</code> and follow link with <code>:method =&gt; :delete</code>. Surprisingly you browser will send GET request. FYI, without javascript most browsers can only send GET and POST requests. Please, read more here: <a href=\"http://guides.rubyonrails.org/form_helpers.html#how-do-forms-with-patch-put-or-delete-methods-work-questionmark\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/&hellip;</a> and here: <a href=\"https://github.com/rails/jquery-ujs/blob/master/src/rails.js#L170\" rel=\"nofollow noreferrer\">github.com/rails/jquery-ujs/blob/master/src/rails.js#L170</a>"}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421855355, "post_id": 28070465, "comment_id": 44521929, "body": "Ah, sorry, I misunderstood what you were saying - I thought that you were suggesting that it was an AJAX-related problem, rather than a fake-the-HTTP-verb-with-Javascript one. (I did know that most browsers only support GET and POST, incidentally - this is what I was referring to in my <code>:method =&gt; :delete</code> comment). Anyway, consider my downvote rescinded!"}, {"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421916506, "post_id": 28070465, "comment_id": 44546684, "body": "In fact, now that the controller code has been posted, I&#39;m thinking that this is probably going to be the correct answer, so I&#39;ll replace that downvote with an upvote by way of apology. :)"}, {"owner": {"reputation": 161, "user_id": 4462048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9307244aa379ce81b6db07bad223a8cf?s=128&d=identicon&r=PG&f=1", "display_name": "seque90", "link": "https://stackoverflow.com/users/4462048/seque90"}, "edited": false, "score": 0, "creation_date": 1422123227, "post_id": 28070465, "comment_id": 44630160, "body": "Thank you very much for your help."}], "tags": [], "owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "is_accepted": true, "score": 4, "last_activity_date": 1421855892, "last_edit_date": 1421855892, "creation_date": 1421852992, "answer_id": 28070465, "question_id": 28070388, "link": "https://stackoverflow.com/questions/28070388/how-to-send-a-delete-request-to-the-browser-in-ror-4/28070465#28070465", "title": "How to send a DELETE Request to the browser in RoR 4", "body": "<p>Make sure you have</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n</code></pre>\n\n<p>in your <code>application.js</code>. Also review browser's javascript console after  page loaded. Maybe there are some javascript errors, they can block jquery_ujs from working.</p>\n\n<p>Also, note that you need to change <code>:confirm =&gt; \"You sure?\"</code> to <code>:data=&gt; {:confirm =&gt; \"You sure?\"}</code></p>\n\n<p><strong>Explanation:</strong> RUBY is <em>trying</em> to be RESTful,\u00a0so it's sending PATCH requests for <code>edit</code> action, DELETE requests for <code>destroy</code> action. But most browsers can only submit GET and POST forms. Hyper-links are always opened via GET (and link_to generates <code>&lt;a href=...&gt;</code> tag). So rails do some hackery and \"emulate\" DELETE, PUT and PATCH requests.</p>\n\n<p><code>form_tag</code> helper creates additional hidden input: <code>&lt;input name=\"_method\" type=\"hidden\" value=\"delete\" /&gt;</code>, then Rails parses requests parameters and assumes that it's DELETE request. You can read about it <a href=\"http://guides.rubyonrails.org/form_helpers.html#how-do-forms-with-patch-put-or-delete-methods-work-questionmark\" rel=\"nofollow\">in documentation</a>.</p>\n\n<p><code>link_to 'delete', '/some/url', :method =&gt; :delete</code>, in its turn, will generate following html: <code>&lt;a href=\"/some/url/\" data-method=\"delete\"&gt;delete&lt;/a&gt;</code>. Then <code>jquery_ujs</code> javascript intercepts all clicks on links with <code>data-method</code> attribute and creates hidden form with <code>method=\"POST\"</code> and, yes, hidden input with <code>name=\"_method\" value=\"delete\"</code>, then this form is submitted. Take a look at jquery_ujs <a href=\"https://github.com/rails/jquery-ujs/blob/v1.0.3/src/rails.js#L170\" rel=\"nofollow\">source code</a>, it's rather straightforward.</p>\n\n<p><strong>SO</strong> if you see GET request in server console after clicking link with <code>method: :destroy</code>, most likely, there are some problems with javascript.</p>\n"}], "owner": {"reputation": 161, "user_id": 4462048, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9307244aa379ce81b6db07bad223a8cf?s=128&d=identicon&r=PG&f=1", "display_name": "seque90", "link": "https://stackoverflow.com/users/4462048/seque90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 28070465, "answer_count": 1, "score": 1, "last_activity_date": 1421869680, "creation_date": 1421852710, "last_edit_date": 1495542510, "question_id": 28070388, "link": "https://stackoverflow.com/questions/28070388/how-to-send-a-delete-request-to-the-browser-in-ror-4", "title": "How to send a DELETE Request to the browser in RoR 4", "body": "<p>I'm working on the Ruby on Rails Tutorial by Michael Hartl (I'm a noob).</p>\n\n<p>In the application I want to delete a micropost, but whenever I try to execute it in the browser, it tells me that there is Routing Error. \"No route matches [GET] \"/microposts/3\"</p>\n\n<p>This is the code that I have in _micropost.html.erb</p>\n\n<pre><code>&lt;tr&gt;\n    &lt;td class=\"micropost\"&gt;\n        &lt;span class=\"content\"&gt;&lt;%= micropost.content %&gt;&lt;/span&gt;\n        &lt;span class=\"timestamp\"&gt;\n            Posted &lt;%= time_ago_in_words(micropost.created_at) %&gt; ago\n        &lt;/span&gt;\n    &lt;/td&gt;\n    &lt;% if current_user?(micropost.user) %&gt;\n    &lt;td&gt;\n        &lt;%= link_to \"delete\", micropost, :method =&gt; :delete,\n                                         :confirm =&gt; \"You sure?\",\n                                         :title =&gt; micropost.content %&gt;\n    &lt;/td&gt;\n    &lt;% end %&gt;\n&lt;/tr&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I already have the Javascript code that fakes the request according to the book</p>\n\n<pre><code>&lt;head&gt;\n  &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;\n  &lt;%= csrf_meta_tag %&gt;\n  &lt;%= render 'layouts/stylesheets' %&gt;\n  &lt;%= javascript_include_tag :all %&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>and this is part of my routes.rb</p>\n\n<pre><code>Rails.application.routes.draw do\n\n  get 'sessions/new'\n\n  resources :users\n  resources :sessions, :only =&gt; [:new, :create, :destroy]\n  resources :microposts, :only =&gt; [:create, :destroy]\n\n  match '/signup', :to =&gt; 'users#new', via: [:get, :post]\n  match '/signin', :to =&gt; 'sessions#new', via: [:get, :post]\n  match '/signout', :to =&gt; 'sessions#destroy', via: [:get, :post]\n  match '/contact', :to =&gt; 'pages#contact', via: [:get, :post]\n  match '/about', :to =&gt; 'pages#about', via: [:get, :post]\n  match '/help', :to =&gt; 'pages#help', via: [:get, :post]\n  match '/:id', :to =&gt; 'users#show', via: [:get, :post]\n\n  root :to =&gt; 'pages#home'\n</code></pre>\n\n<p>Here is the application.js</p>\n\n<pre><code>// This is a manifest file that'll be compiled into application.js, which will include all the files\n// listed below.\n//\n// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,\n// or vendor/assets/javascripts of plugins, if any, can be referenced here using a relative path.\n//\n// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n// compiled file.\n//\n// Read Sprockets README (https://github.com/sstephenson/sprockets#sprockets-directives) for details\n// about supported directives.\n//\n//= require jquery\n//= require jquery_ujs\n//= require turbolinks\n//= require_tree .\n</code></pre>\n\n<p>And the micropost_controller.rb</p>\n\n<pre><code>class MicropostsController &lt; ApplicationController\n\n    before_filter :authenticate, :only =&gt; [:create, :destroy]\n    before_filter :authorized_user, :only =&gt; :destroy\n\n    def create\n        @micropost = current_user.microposts.build(micropost_params)\n        if @micropost.save\n            flash[:success] = \"Micropost created!\"\n            redirect_to root_path\n        else\n            @feed_items = []\n            render 'pages/home'\n        end\n    end\n\n    def destroy\n        @micropost.destroy\n        redirect_back_or root_path\n    end\n\n    private\n        def micropost_params\n            params.require(:micropost).permit(:content)\n        end\n\n        def authorized_user\n            @micropost = Micropost.find(params[:id])\n            redirect_to root_path unless current_user?(@micropost.user)\n        end\nend\n</code></pre>\n\n<p>I've founded this answer, but the \"button_to\" method doesn't seem to solve my problem: <a href=\"https://stackoverflow.com/questions/3774925/delete-link-sends-get-instead-of-delete-in-rails-3-view\">Delete link sends &quot;Get&quot; instead of &quot;Delete&quot; in Rails 3 view</a></p>\n\n<p>Thank you very much in advance for any answer.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "kaminari"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421854976, "post_id": 28070256, "comment_id": 44521655, "body": "what do your relationships look like for <code>Conversation</code> to <code>Company</code> seems you could handle this with a scope depending. Also where is <code>last_answered_to_i</code> defined?"}, {"owner": {"reputation": 402, "user_id": 3809903, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e1c36e71e453b8ecea77f2e8127942b?s=128&d=identicon&r=PG&f=1", "display_name": "kai", "link": "https://stackoverflow.com/users/3809903/kai"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421855223, "post_id": 28070256, "comment_id": 44521840, "body": "@engineersmnky Company has_many Conversation and method defind Conversation Model"}, {"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421857244, "post_id": 28070256, "comment_id": 44523300, "body": "So you want to return all the conversations for a company or for all companies? sorted by <code>[-conversation.answer_percentage,conversation.last_answered_&zwnj;&#8203;to_i]</code>? Just trying to understand the desired output so that I can devise an appropriate answer."}, {"owner": {"reputation": 402, "user_id": 3809903, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e1c36e71e453b8ecea77f2e8127942b?s=128&d=identicon&r=PG&f=1", "display_name": "kai", "link": "https://stackoverflow.com/users/3809903/kai"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421916643, "post_id": 28070256, "comment_id": 44546774, "body": "@engineersmnky Yes I wanna sort by [-conversation.answer_percentage,conversation.last_answered_&zwnj;&#8203;to_i]. And result ActiveRecord is  Conversation for all company"}, {"owner": {"reputation": 402, "user_id": 3809903, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e1c36e71e453b8ecea77f2e8127942b?s=128&d=identicon&r=PG&f=1", "display_name": "kai", "link": "https://stackoverflow.com/users/3809903/kai"}, "reply_to_user": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 0, "creation_date": 1421916814, "post_id": 28070256, "comment_id": 44546861, "body": "@engineersmnky  Sort by All Company using Company&#39;s all conversation answer percent( simply  answer_count / question_count * 100) and companys last conversation&#39;s answered Term(using last_answered_to_i)"}], "answers": [{"tags": [], "owner": {"reputation": 7078, "user_id": 5049215, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e0ba5b45dafe063b98db2a1d5391433?s=128&d=identicon&r=PG", "display_name": "Sia", "link": "https://stackoverflow.com/users/5049215/sia"}, "is_accepted": true, "score": 0, "last_activity_date": 1442522217, "last_edit_date": 1442522217, "creation_date": 1442521529, "answer_id": 32639371, "question_id": 28070256, "link": "https://stackoverflow.com/questions/28070256/rails-4-how-to-ordering-using-custom-method/32639371#32639371", "title": "Rails 4, how to ordering using custom method", "body": "<p>I think the answer depends on what you want to see in the view because some of the problem could actually be solved in how you call @lists there.  Also, some of the links you found make sorting by a model method sound more difficult than it is.  </p>\n\n<p>In your case, you can sort your conversations by a custom method like so:\n<code>Conversation.all.sort_by(&amp;:custom_method)</code></p>\n\n<p>Or specifically:\n<code>Conversation.all.sort_by(&amp;:last_answered_to_i)</code></p>\n\n<p>Specifically, you cannot use SQL to sort or order by something not in the actual database, so you use the Ruby sort_by method.  For more info on the ampersand, see <a href=\"https://stackoverflow.com/questions/1217088/what-does-mapname-mean-in-ruby\">this post</a>.</p>\n\n<p>For your actual view, I'm not sure really how you want to organize it.  I recently did something where I needed to group my resource by another resource called \"categories\", and then sort the original resource by \"netvotes\" which was a custom model method, then order by name.  I did it by:</p>\n\n<ul>\n<li>Ordering by name in the controller: <code>@resources = Resource.order(:name)</code></li>\n<li>Grouping by category in the outer loop of the view: <code>&lt;% @resources.group_by(&amp;:category).each do |category, resources| %&gt;</code></li>\n<li>Then sorting the resources by votes in the partial for resources: <code>&lt;%= render resources.sort_by(&amp;:netvotes).reverse %&gt;</code></li>\n</ul>\n\n<p>The view is a bit confusing, so here is the full view loop in index.html.erb:</p>\n\n<pre><code>&lt;% @resources.group_by(&amp;:category).each do |category, resources| %&gt;\n  &lt;div class=\"well\"&gt;\n    &lt;h3 class=\"brand-text\"&gt;&lt;%= category.name %&gt;&lt;/h3&gt;\n    &lt;%= render resources.sort_by(&amp;:netvotes).reverse %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>And here is the _resource.html.erb partial:</p>\n\n<pre><code>&lt;div class=\"row resource\"&gt;\n  &lt;div class=\"col-sm-2 text-center\"&gt;\n    &lt;div class=\"vote-box\"&gt;\n      &lt;%= link_to fa_icon('chevron-up lg'), upvote_resource_path(resource), method: :put %&gt;&lt;br&gt;\n      &lt;%= resource.netvotes %&gt;&lt;br&gt;\n      &lt;%= link_to fa_icon('chevron-down lg'), downvote_resource_path(resource), method: :put %&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"col-sm-10\"&gt;\n    &lt;%= link_to resource.name, resource.link, target: \"_blank\" %&gt;\n    &lt;p&gt;&lt;%= resource.notes %&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I hope that helps you think through some more ways to address your problem.</p>\n"}], "owner": {"reputation": 402, "user_id": 3809903, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9e1c36e71e453b8ecea77f2e8127942b?s=128&d=identicon&r=PG&f=1", "display_name": "kai", "link": "https://stackoverflow.com/users/3809903/kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2607, "favorite_count": 0, "accepted_answer_id": 32639371, "answer_count": 1, "score": 0, "last_activity_date": 1456220766, "creation_date": 1421852313, "last_edit_date": 1495541741, "question_id": 28070256, "link": "https://stackoverflow.com/questions/28070256/rails-4-how-to-ordering-using-custom-method", "title": "Rails 4, how to ordering using custom method", "body": "<p>I want to order the <code>Conversation</code> model, using a custom method.</p>\n\n<p>I found some solution:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4055799/how-do-you-order-by-a-custom-model-method-that-has-no-attribute-in-sql\">How do you order by a custom model method that has no attribute in SQL?</a></p>\n\n<p>and </p>\n\n<p><a href=\"http://awaxman11.github.io/blog/2013/10/11/sorting-a-rails-resource-based-on-a-calculated-value/\" rel=\"nofollow noreferrer\">http://awaxman11.github.io/blog/2013/10/11/sorting-a-rails-resource-based-on-a-calculated-value/</a> ,</p>\n\n<p>but <code>Conversation</code> order have priority.</p>\n\n<p>First-  <code>answer_percent desc</code>,\nsecond- order to <code>last_answer</code> time \n(using custom model method <code>last_answered_to_i</code> ).</p>\n\n<p><code>last_answered_to_i</code>  method source:  </p>\n\n<pre><code>def last_answered_to_i\n  if Conversation.where(company_id: self.id, is_answered: true).present?\n    last_conversation = Conversation.where(company_id: self.id, is_answered: true).first\n    if last_conversation.answered_at.blank? || last_conversation.asked_at.blank?\n      minutes =  (Time.now- last_conversation.updated_at)/1.minutes\n    else\n      minutes =  (last_conversation.answered_at - last_conversation.asked_at)/1.minutes\n    end\n    minutes.to_i\n  else\n    nil\n  end\nend\n</code></pre>\n\n<p>after ordering I want add pagination using <code>kaminari</code> gem.</p>\n\n<pre><code>@lists = Company.searchable.order(\"answer_percent desc\").page(params[:page]).per(20)\n</code></pre>\n\n<p>How do I order by column and custom method and add pagination?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "controller", "reddit"], "comments": [{"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 2, "creation_date": 1421852119, "post_id": 28070170, "comment_id": 44519691, "body": "<a href=\"http://stackoverflow.com/help/how-to-ask\">Please add errors trace and code snippet in to the question body.</a>"}, {"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 0, "creation_date": 1421852276, "post_id": 28070170, "comment_id": 44519787, "body": "You should find your record using <code>:id</code> param instead of <code>:link</code> param, which is not present."}, {"owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1421878755, "post_id": 28070170, "comment_id": 44534708, "body": "this doesn&#39;t change anything either"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1421879266, "post_id": 28070170, "comment_id": 44534903, "body": "@\u0410\u043d\u0434\u0440\u0435\u0439\u0412\u043e\u043b\u043a\u043e\u0432 Andrew, do you have any links in your database? Are you sure your link id is being passed in correctly from the form? Is <code>links_params</code> populated?"}, {"owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1421879653, "post_id": 28070170, "comment_id": 44535059, "body": "Links are submitting fine from rails console: $ Link.create(:url =&gt; &quot;<a href=\"http://stack.com\" rel=\"nofollow noreferrer\">stack.com</a>&quot;, :title =&gt; &quot;stack&quot;). And can be accessed after that in console $ Link.last.url =&gt; &quot;<a href=\"http://stack.com\" rel=\"nofollow noreferrer\">stack.com</a>&quot; $ Link.last.title =&gt; &quot;stack&quot;. I&#39;m not sure how to check correct ID-passing.."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1421879913, "post_id": 28070170, "comment_id": 44535168, "body": "throw in a <code>debugger</code> line and step through your console"}, {"owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1421882363, "post_id": 28070170, "comment_id": 44536173, "body": "@vol7ron finally installed debagger  and running console with it. What  new should I see?)"}, {"owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1421926012, "post_id": 28070170, "comment_id": 44552167, "body": "Is it OK that it show question mark for utf8 in server logs? Processing by LinksController#create as HTML   Parameters: {&quot;utf8&quot;=&gt;&quot;?&quot;, &quot;authenticity_token&quot;=&gt;&quot;auth_token=&quot;, &quot;link&quot;=&gt;{&quot;title&quot;=&gt;&quot;YouTube&quot;, &quot;url&quot;=&gt;&quot;<a href=\"http://www.youtube.com/\" rel=\"nofollow noreferrer\">youtube.com</a>&quot; }, &quot;commit&quot;=&gt;&quot;Create Link&quot;}"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1421965387, "creation_date": 1421965387, "answer_id": 28099759, "question_id": 28070170, "link": "https://stackoverflow.com/questions/28070170/couldnt-find-controller-without-an-id/28099759#28099759", "title": "Couldn&#39;t find controller without an ID", "body": "<p>I fixed it after four days(finally!).\nSo links controller should look like this:</p>\n\n<pre><code>def create\n@link = Link.new(links_params)\nif @link.save\n  render('show')\nelse\n  render('new')\nend\n</code></pre>\n\n<p>Because before it was taking me to page localhost:3000/links/show and I needed localhost:3000/links/id  </p>\n"}], "owner": {"reputation": 1, "user_id": 4150780, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000082784659/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u043b\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4150780/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d0%bb%d0%ba%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1421965387, "creation_date": 1421852039, "last_edit_date": 1421878490, "question_id": 28070170, "link": "https://stackoverflow.com/questions/28070170/couldnt-find-controller-without-an-id", "title": "Couldn&#39;t find controller without an ID", "body": "<p>I'm trying to build Reddit on Rails by Schneems. And I keep getting this error at the point of submitting a new <a href=\"https://github.com/schneems/reddit_on_rails#create-a-link\" rel=\"nofollow\">link</a>.</p>\n\n<p>ruby 1.9.3 </p>\n\n<p>Rails 4.2.0 </p>\n\n<p>What's wrong with my Links#Controller ?</p>\n\n<pre><code>class LinksController &lt; ApplicationController\n\ndef show\n  @link = Link.find(params[:id])\nend\n\ndef new\n @link = Link.new\nend\n\ndef create\n  @link = Link.new(links_params)\n if @link.save\n  redirect_to(:action =&gt; 'show')\n else\n  render('new')\n end\nend\n\nprivate\n  def links_params\n    params.require(:link).permit(:title, :url)\n  end\nend\n</code></pre>\n\n<p>The code should take me to a page showing submitted title and url. But it gives me :</p>\n\n<pre><code>ActiveRecord::RecordNotFound in LinksController#show\nCouldn't find Link without an ID\nRails.root: C:/Users/Andrew/Documents/reddit_on_rails\nApplication Trace | Framework Trace | Full Trace\napp/controllers/links_controller.rb:4:in `show'\n</code></pre>\n\n<p>New view is:</p>\n\n<pre><code>&lt;h1&gt;New link&lt;/h1&gt;\n\n\n&lt;%= form_for @link do |f| %&gt;\n&lt;% if @link.errors.any? %&gt;\n&lt;div id=\"error_explanation\"&gt;\n&lt;h2&gt;&lt;%= pluralize(@link.errors.count, \"error\") %&gt; prohibited this link from   being saved:&lt;/h2&gt;\n\n  &lt;ul&gt;\n  &lt;% @link.errors.full_messages.each do |msg| %&gt;\n    &lt;li&gt;&lt;%= msg %&gt;&lt;/li&gt;\n  &lt;% end %&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n&lt;% end %&gt;\n\n&lt;div class=\"field\"&gt;\n&lt;%= f.label :title %&gt;&lt;br /&gt;\n&lt;%= f.text_field :title %&gt;\n&lt;/div&gt;\n&lt;div class=\"field\"&gt;\n&lt;%= f.label :url %&gt;&lt;br /&gt;\n&lt;%= f.text_field :url %&gt;\n&lt;/div&gt;\n&lt;div class=\"actions\"&gt;\n&lt;%= f.submit %&gt;\n&lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I've already added strong params to bundler but that did nothing.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "performance", "ruby-on-rails-4", "load"], "comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1421851663, "post_id": 28069941, "comment_id": 44519360, "body": "<i>&quot;...significantly increase the time...&quot;</i>, do you mean in any <b>measurable</b> way and <b>before something else</b> in your code in a site without 1000 hits per second? With this I don&#39;t mean it&#39;s negligible but to <i>notice</i> a difference you need to have a <i>huge</i> amount of columns or a huge number of requests."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4463692"}, "edited": false, "score": 0, "creation_date": 1421852956, "post_id": 28070191, "comment_id": 44520205, "body": "Thanks, I figured there would be a difference, but I was hoping it would be minor."}, {"owner": {"reputation": 1900, "user_id": 549040, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8fedca91de060ef27476c9632041d59?s=128&d=identicon&r=PG", "display_name": "yujingz", "link": "https://stackoverflow.com/users/549040/yujingz"}, "edited": false, "score": 0, "creation_date": 1421855830, "post_id": 28070191, "comment_id": 44522289, "body": "Yes it would be minor"}], "tags": [], "owner": {"reputation": 1900, "user_id": 549040, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8fedca91de060ef27476c9632041d59?s=128&d=identicon&r=PG", "display_name": "yujingz", "link": "https://stackoverflow.com/users/549040/yujingz"}, "is_accepted": true, "score": 0, "last_activity_date": 1421852089, "creation_date": 1421852089, "answer_id": 28070191, "question_id": 28069941, "link": "https://stackoverflow.com/questions/28069941/does-adding-an-attribute-increase-load-time/28070191#28070191", "title": "Does adding an attribute increase load time?", "body": "<p>Depends.</p>\n\n<p>Adding more attributes to your Example model will definitely increase the load time. But compared with other factors, it will just be too minor.</p>\n\n<p>A couple things to speed your page loading</p>\n\n<ol>\n<li>Cache your <code>example</code> model.</li>\n<li>Use pagination, only load needed amount of data in one single page.</li>\n<li><p>Only select columns you need. Example: </p>\n\n<p>Example.select(\u201cName\u201d, \u201cDate\u201d).where(Score: 0)</p></li>\n</ol>\n\n<p>Consider add profiling tools to better measure your load time composition. Check Miniprofiler out and the example how to use it <a href=\"http://railscasts.com/episodes/368-miniprofiler\" rel=\"nofollow\">http://railscasts.com/episodes/368-miniprofiler</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4463692"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 28070191, "answer_count": 1, "score": 0, "last_activity_date": 1421852089, "creation_date": 1421851426, "question_id": 28069941, "link": "https://stackoverflow.com/questions/28069941/does-adding-an-attribute-increase-load-time", "title": "Does adding an attribute increase load time?", "body": "<p>I'm trying to understand factors that slow a website down. Say I define <code>Example.all</code> somewhere on a page. Would adding more attributes to my Example model significantly increase the time needed for the website to load, even if I don't use the said attributes on that page, since the server might have to iterate through more columns?</p>\n"}, {"tags": ["ruby", "json", "rubygems"], "comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1421855962, "post_id": 28069933, "comment_id": 44522388, "body": "Which version of the development kit? Which version of Ruby?"}, {"owner": {"reputation": 167, "user_id": 4269768, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XoUFA.png?s=128&g=1", "display_name": "Schakron", "link": "https://stackoverflow.com/users/4269768/schakron"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1421923447, "post_id": 28069933, "comment_id": 44550719, "body": "<b>Ruby 2.1.5</b> and <b>DevKit-mingw64-64-4.7.2-20130224-1432-sfx</b>"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 4269768, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XoUFA.png?s=128&g=1", "display_name": "Schakron", "link": "https://stackoverflow.com/users/4269768/schakron"}, "edited": false, "score": 0, "creation_date": 1422017861, "post_id": 28090645, "comment_id": 44594593, "body": "Ok, thanks. I will try this out. I will tell you, if it worked then."}, {"owner": {"reputation": 167, "user_id": 4269768, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XoUFA.png?s=128&g=1", "display_name": "Schakron", "link": "https://stackoverflow.com/users/4269768/schakron"}, "edited": false, "score": 0, "creation_date": 1422266212, "post_id": 28090645, "comment_id": 44667223, "body": "Worked fine for me :)"}], "tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": true, "score": 1, "last_activity_date": 1421935279, "creation_date": 1421935279, "answer_id": 28090645, "question_id": 28069933, "link": "https://stackoverflow.com/questions/28069933/ruby-bundle-fails-with-json-gem-native-extension/28090645#28090645", "title": "Ruby: Bundle fails with json (gem native extension)", "body": "<p>I was able to reproduce your error by installing the <strong>32-bit</strong> version of Ruby and the <strong>64-bit</strong> version of the DevKit. The versions must match!</p>\n\n<p>Uninstall Ruby and then install the 64-bit version: Ruby 2.1.5 (x64)</p>\n"}], "owner": {"reputation": 167, "user_id": 4269768, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/XoUFA.png?s=128&g=1", "display_name": "Schakron", "link": "https://stackoverflow.com/users/4269768/schakron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 28090645, "answer_count": 1, "score": 0, "last_activity_date": 1421935279, "creation_date": 1421851403, "last_edit_date": 1421855770, "question_id": 28069933, "link": "https://stackoverflow.com/questions/28069933/ruby-bundle-fails-with-json-gem-native-extension", "title": "Ruby: Bundle fails with json (gem native extension)", "body": "<p>When I use bundler to install my gems on Windows 7, all of them are installed except json.\nMy error message is the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CBHrz.png\" alt=\"Screenshot of error\">\n<strong>...</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/q16ke.png\" alt=\"enter image description here\"></p>\n\n<p>What I already did was:</p>\n\n<ul>\n<li>Reinstalled everything</li>\n<li>Tried other versions of json</li>\n<li>Installed Ruby Development Kit</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "actionmailer"], "comments": [{"owner": {"reputation": 3199, "user_id": 1611683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/44576838a06da54b55272e8b7d662317?s=128&d=identicon&r=PG", "display_name": "pierallard", "link": "https://stackoverflow.com/users/1611683/pierallard"}, "edited": false, "score": 0, "creation_date": 1421851362, "post_id": 28069835, "comment_id": 44519146, "body": "Mail.new.delivery_method returns non-rails mail delivery method. Just do <code>ActionMailer::Base.smtp_settings</code> if you want your action mailer info."}, {"owner": {"reputation": 495, "user_id": 464938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4881b66c95ed902f705ae0c75af77f43?s=128&d=identicon&r=PG", "display_name": "jeremymarc", "link": "https://stackoverflow.com/users/464938/jeremymarc"}, "reply_to_user": {"reputation": 3199, "user_id": 1611683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/44576838a06da54b55272e8b7d662317?s=128&d=identicon&r=PG", "display_name": "pierallard", "link": "https://stackoverflow.com/users/1611683/pierallard"}, "edited": false, "score": 0, "creation_date": 1421851576, "post_id": 28069835, "comment_id": 44519292, "body": "Thank you for your quick comment. ActionMailer::Base.smtp_settings is showing the correct informations, but mail = mail.new; ...; mail.deliver is still trying to connect to localhost"}, {"owner": {"reputation": 977, "user_id": 3150093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fd13f999326b458f21e8e0b15d0752?s=128&d=identicon&r=PG", "display_name": "kurenn", "link": "https://stackoverflow.com/users/3150093/kurenn"}, "edited": false, "score": 0, "creation_date": 1421959830, "post_id": 28069835, "comment_id": 44572696, "body": "probably a confirmation account from madrillapp?, something like what happens with Sendgrid"}, {"owner": {"reputation": 495, "user_id": 464938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4881b66c95ed902f705ae0c75af77f43?s=128&d=identicon&r=PG", "display_name": "jeremymarc", "link": "https://stackoverflow.com/users/464938/jeremymarc"}, "edited": false, "score": 0, "creation_date": 1422014210, "post_id": 28069835, "comment_id": 44592605, "body": "nop, mail is trying to connect to localhost on port 25."}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 464938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4881b66c95ed902f705ae0c75af77f43?s=128&d=identicon&r=PG", "display_name": "jeremymarc", "link": "https://stackoverflow.com/users/464938/jeremymarc"}, "edited": false, "score": 0, "creation_date": 1421933342, "post_id": 28077584, "comment_id": 44556414, "body": "This is already set config.action_mailer.default_url_options = { :host =&gt; &#39;domain.com&#39; }"}], "tags": [], "owner": {"reputation": 977, "user_id": 3150093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4fd13f999326b458f21e8e0b15d0752?s=128&d=identicon&r=PG", "display_name": "kurenn", "link": "https://stackoverflow.com/users/3150093/kurenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1421877314, "creation_date": 1421877314, "answer_id": 28077584, "question_id": 28069835, "link": "https://stackoverflow.com/questions/28069835/rails-action-mailer-config-not-working-in-production/28077584#28077584", "title": "Rails action_mailer config not working in production", "body": "<p>You need to add the <code>host</code> option for the <code>default_url_options</code> hash on the <code>production.rb</code> file, like so:</p>\n\n<pre><code>  config.action_mailer.default_url_options = { :host =&gt; ENV['HOST_DEFAULT_URL'], \n                                           only_path: false }\n</code></pre>\n\n<p>That should do the trick.</p>\n"}, {"tags": [], "owner": {"reputation": 7633, "user_id": 1520714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b6725a3582042901598451ee700116ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Campbell", "link": "https://stackoverflow.com/users/1520714/mike-campbell"}, "is_accepted": false, "score": 2, "last_activity_date": 1422018168, "creation_date": 1422018168, "answer_id": 28110565, "question_id": 28069835, "link": "https://stackoverflow.com/questions/28069835/rails-action-mailer-config-not-working-in-production/28110565#28110565", "title": "Rails action_mailer config not working in production", "body": "<p>The Mail gem won't use your ActionMailer config by default. ActionMailer uses Mail but those configuration settings will only apply if you send mail via ActionMailer.</p>\n\n<p>If it's working in your dev mode, then you certainly have configured the Mail gem separately in your development.rb environment file, or in an environment specific initializer.</p>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 464938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4881b66c95ed902f705ae0c75af77f43?s=128&d=identicon&r=PG", "display_name": "jeremymarc", "link": "https://stackoverflow.com/users/464938/jeremymarc"}, "is_accepted": true, "score": 2, "last_activity_date": 1422018834, "creation_date": 1422018834, "answer_id": 28110742, "question_id": 28069835, "link": "https://stackoverflow.com/questions/28069835/rails-action-mailer-config-not-working-in-production/28110742#28110742", "title": "Rails action_mailer config not working in production", "body": "<p>I forgot I had this config in my development.rb</p>\n\n<pre><code>Mail.defaults do\n  delivery_method Rails.configuration.action_mailer.delivery_method, Rails.configuration.action_mailer.smtp_settings\nend\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 464938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4881b66c95ed902f705ae0c75af77f43?s=128&d=identicon&r=PG", "display_name": "jeremymarc", "link": "https://stackoverflow.com/users/464938/jeremymarc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1539, "favorite_count": 0, "accepted_answer_id": 28110742, "answer_count": 3, "score": 2, "last_activity_date": 1422018834, "creation_date": 1421851102, "question_id": 28069835, "link": "https://stackoverflow.com/questions/28069835/rails-action-mailer-config-not-working-in-production", "title": "Rails action_mailer config not working in production", "body": "<p>I am trying to setup action_mailer with Rails 4.1.0 to send emails.</p>\n\n<p>In my config/environments/{env}.rb, I have:</p>\n\n<pre><code>config.action_mailer.delivery_method = :smtp\nconfig.action_mailer.smtp_settings = {\n  address:              'smtp.mandrillapp.com',\n  port:                 587,\n  domain:               'domain.com',\n  authentication:       'login',\n  user_name:            'email@domain.com',\n  password:             'pass',\n  enable_starttls_auto: true  }\n</code></pre>\n\n<p>It's working fine in development, but in prod it's trying to connect to localhost.</p>\n\n<pre><code>m = Mail.new\nm.delivery_method\n=&gt; #&lt;Mail::SMTP:0xbd79fdac @settings={:address=&gt;\"localhost\", :port=&gt;25, :domain=&gt;\"localhost.localdomain\", :user_name=&gt;nil, :password=&gt;nil, :authentication=&gt;nil, :enable_starttls_auto=&gt;true, :openssl_verify_mode=&gt;nil, :ssl=&gt;nil, :tls=&gt;nil}&gt;\n</code></pre>\n\n<p>But when I do \"puts Rails.application.config.action_mailer\" Im getting the correct config</p>\n\n<pre><code>{:raise_delivery_errors=&gt;false, :default_url_options=&gt;{:host=&gt;\"domain.com\"}, :delivery_method=&gt;:smtp, :smtp_settings=&gt;{:address=&gt;\"smtp.mandrillapp.com\", :port=&gt;587, :domain=&gt;\"domain.com\", :authentication=&gt;\"login\", :user_name=&gt;\"email@domain.com\", :password=&gt;\"password\", :enable_starttls_auto=&gt;true}, :assets_dir=&gt;\"xxx\", :javascripts_dir=&gt;\"xxx\", :stylesheets_dir=&gt;\"xxx\", :asset_host=&gt;nil, :relative_url_root=&gt;nil}\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rails-activerecord", "activemodel", "ruby-on-rails-4.2"], "comments": [{"owner": {"reputation": 3199, "user_id": 1611683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/44576838a06da54b55272e8b7d662317?s=128&d=identicon&r=PG", "display_name": "pierallard", "link": "https://stackoverflow.com/users/1611683/pierallard"}, "edited": false, "score": 0, "creation_date": 1421850811, "post_id": 28069629, "comment_id": 44518763, "body": "<a href=\"http://stackoverflow.com/questions/17450185/forbidden-attributes-error-in-rails-4-when-encountering-a-situation-where-one-wo\" title=\"forbidden attributes error in rails 4 when encountering a situation where one wo\">stackoverflow.com/questions/17450185/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2075, "user_id": 887934, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/dc7c01a462ab39109c8cf9577329a9a0?s=128&d=identicon&r=PG", "display_name": "fuyi", "link": "https://stackoverflow.com/users/887934/fuyi"}, "edited": false, "score": 0, "creation_date": 1425551254, "post_id": 28103436, "comment_id": 46013154, "body": "params.require(:competition).permit! works for my case. but this leaves the strong parameter in no use, right?"}, {"owner": {"reputation": 1036, "user_id": 4465049, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92iYb.jpg?s=128&g=1", "display_name": "Chitra", "link": "https://stackoverflow.com/users/4465049/chitra"}, "reply_to_user": {"reputation": 2075, "user_id": 887934, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/dc7c01a462ab39109c8cf9577329a9a0?s=128&d=identicon&r=PG", "display_name": "fuyi", "link": "https://stackoverflow.com/users/887934/fuyi"}, "edited": false, "score": 0, "creation_date": 1425703604, "post_id": 28103436, "comment_id": 46081679, "body": "@xiaopang, No this does not leave the strong parameter. To whitelist an entire hash of parameters, the permit! method can be used."}], "tags": [], "owner": {"reputation": 1036, "user_id": 4465049, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92iYb.jpg?s=128&g=1", "display_name": "Chitra", "link": "https://stackoverflow.com/users/4465049/chitra"}, "is_accepted": false, "score": 0, "last_activity_date": 1431459876, "last_edit_date": 1431459876, "creation_date": 1421989985, "answer_id": 28103436, "question_id": 28069629, "link": "https://stackoverflow.com/questions/28069629/rails-4-2-activemodelforbiddenattributeserror-when-saving-model-with-associati/28103436#28103436", "title": "Rails 4.2 ActiveModel::ForbiddenAttributesError when saving model with association", "body": "<p>@xiaopang, Rails 4.2 allow only strong parameters so you can define a private method where you have to permit model level attributes along with associated attributes in such a way </p>\n\n<pre><code>def method\n  params.require(:competition).permit!.tap do |while_listed|\n    while_listed[:activities] = params[:activities]\n  end\nend\n</code></pre>\n\n<p>Now Pass this private method while calling the class method (create_comp). </p>\n\n<p>May this can resolve your problem.</p>\n\n<p>You have one more way to resolve your issue like --\nDefine a private method in your controller and send this method name as a parameter.</p>\n\n<pre><code>def activities_params\n  params.require(:activities).permit!\nend\n</code></pre>\n\n<p>This will allow to create the associated model object.</p>\n"}], "owner": {"reputation": 2075, "user_id": 887934, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/dc7c01a462ab39109c8cf9577329a9a0?s=128&d=identicon&r=PG", "display_name": "fuyi", "link": "https://stackoverflow.com/users/887934/fuyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431459876, "creation_date": 1421850544, "question_id": 28069629, "link": "https://stackoverflow.com/questions/28069629/rails-4-2-activemodelforbiddenattributeserror-when-saving-model-with-associati", "title": "Rails 4.2 ActiveModel::ForbiddenAttributesError when saving model with association", "body": "<p>I have a app working great on Rails 4.0.3 Today when I try to upgrade to Rails 4.2.0, error happened with the code below:</p>\n\n<pre><code>    def self.create_comp(comp)\n        c= Competition.new(comp[:competition])\n        # add activities\n        comp[:activities].each do |act|\n            c.activities.new(act)\n        end\n\n        c.save!\n        c\n    end\n</code></pre>\n\n<p>And error message:</p>\n\n<pre><code>ActiveModel::ForbiddenAttributesError (ActiveModel::ForbiddenAttributesError):\n</code></pre>\n\n<p>What this function does is to save a competition with its associated activities in transaction.</p>\n\n<p>I have the following line defined as association:</p>\n\n<pre><code>has_many :activities, autosave: true\n</code></pre>\n\n<p>So what has been changed in Rails 4.2 to make it throw this exception?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "hash"], "comments": [{"owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "edited": false, "score": 3, "creation_date": 1421850501, "post_id": 28069504, "comment_id": 44518554, "body": "There is a duplicated key: <code>bb</code>. Hash keys should be unique."}, {"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1421850948, "post_id": 28069504, "comment_id": 44518863, "body": "<code>is there a more elegant solution to my problem</code> - I think the main problem here is that you don&#39;t see your true problem. It is not how to convert this hash, but it is why you get a hash like this one in first place. Where is the input hash coming from? Why is it so weirdly formatted?"}, {"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "reply_to_user": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "edited": false, "score": 0, "creation_date": 1421852613, "post_id": 28069504, "comment_id": 44520002, "body": "@falsetru updated the question"}, {"owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1421852668, "post_id": 28069504, "comment_id": 44520035, "body": "@BroiSatse Its because what we are dealing with here are lab tests and their values... the keys will be like <code>height, weight , systolic&#47;diastolic</code> and the values like <code>110, 78 , 120&#47;80</code>, the blood pressures cant be separated and still we want two values for systolic bp and diastolic bp"}, {"owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "edited": false, "score": 0, "creation_date": 1421852863, "post_id": 28069504, "comment_id": 44520149, "body": "Key &quot;ss&quot; maps to Fixnum unlike other keys. Is that intended?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1421863277, "post_id": 28069504, "comment_id": 44526920, "body": "Note: such a question would be a better fit for <a href=\"http://CodeReview.StackExchange.Com/\">CodeReview.SE</a>. Rule of Thumb: if you are sitting in front of a debugger, go to <a href=\"http://StackOverflow.Com/\">StackOverflow</a>, if you are sitting in front of a refactoring window, go to <a href=\"http://CodeReview.StackExchange.Com/\">CodeReview.SE</a>, if you are standing in front of a whiteboard, go to <a href=\"http://Programmers.StackExchange.Com/\">Programmers.SE</a>, if you are sitting in front of a blackboard, go to <a href=\"http://CS.StackExchange.Com/\">ComputerScience.SE</a>, if you are he person writing on the blackboard, \u2026"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1421863589, "post_id": 28069504, "comment_id": 44527078, "body": "\u2026 go to <a href=\"http://CSTheory.StackExchange.Com/\">CSTheory.SE</a>, if you have a problem with your co-worker, boss, or employer, go to <a href=\"http://Workplace.StackExchange.Com/\">Workplace.SE</a>, if you have a problem with your client, go to <a href=\"http://Freelancing.StackExchange.Com/\">Freelancing.SE</a>, if you have questions about personal computing hard- or software, go to <a href=\"http://Superuser.Com/\">Superuser</a>, about server hard- or software, go to <a href=\"http://ServerFault.Com/\">ServerFault</a>, if you are looking for software, go to <a href=\"http://SoftwareRecs.StackExchange.Com/\">Software Recommendations.SE</a>, and if it involves \u2026"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1421863764, "post_id": 28069504, "comment_id": 44527185, "body": "\u2026 a database, <code>SELECT</code> an answer <code>FROM</code> the <a href=\"http://DBA.StackExchange.Com/\">Database Administrators.SE</a>. For security questions, there is <a href=\"http://Security.StackExchange.Com/\">Security.SE</a>, and for cryptography in particular, there is <a href=\"http://Crypto.StackExchange.Com/\">Cryptography.SE</a>. Puh, I think that&#39;s all of them :-D"}], "answers": [{"comments": [{"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 1, "creation_date": 1421850601, "post_id": 28069637, "comment_id": 44518615, "body": "Incorrect value for gf. It is &#39;120/22&#39;, should be &#39;22&#39;."}, {"owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1421850706, "post_id": 28069637, "comment_id": 44518692, "body": "@BroiSatse, Thank you for pointing that. updated according to you."}], "tags": [], "owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "is_accepted": true, "score": 2, "last_activity_date": 1421852919, "last_edit_date": 1421852919, "creation_date": 1421850561, "answer_id": 28069637, "question_id": 28069504, "link": "https://stackoverflow.com/questions/28069504/convert-ruby-hash-into-another-format/28069637#28069637", "title": "convert ruby hash into another format", "body": "<p>Using <a href=\"http://ruby-doc.org/core-2.2.0/Enumerable.html#method-i-each_with_object\" rel=\"nofollow\"><code>Enumerable#each_with_object</code></a>:</p>\n\n<pre><code>hash = {\"ss\"=&gt;1, \"bc/gf\"=&gt;\"120/22\", \"bb\"=&gt;\"hh\"}\nhash.each_with_object({}) { |(key, value), h|\n  value = value.to_s\n  key.split('/').zip(value.split('/')) { |k, v|\n    h[k] = v\n  }\n}\n# {\"ss\"=&gt;\"1\", \"bc\"=&gt;\"120\", \"gf\"=&gt;\"22\", \"bb\"=&gt;\"hh\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7768, "user_id": 1213273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf372446eb8bcca32373052e4dda2164?s=128&d=identicon&r=PG", "display_name": "Severin", "link": "https://stackoverflow.com/users/1213273/severin"}, "edited": false, "score": 0, "creation_date": 1421854728, "post_id": 28069653, "comment_id": 44521476, "body": "Please provide an explanation to your solution :)"}], "tags": [], "owner": {"reputation": 3199, "user_id": 1611683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/44576838a06da54b55272e8b7d662317?s=128&d=identicon&r=PG", "display_name": "pierallard", "link": "https://stackoverflow.com/users/1611683/pierallard"}, "is_accepted": false, "score": 0, "last_activity_date": 1421850598, "creation_date": 1421850598, "answer_id": 28069653, "question_id": 28069504, "link": "https://stackoverflow.com/questions/28069504/convert-ruby-hash-into-another-format/28069653#28069653", "title": "convert ruby hash into another format", "body": "<pre><code>hash = {\"ss\"=&gt;1, \"bb/gf\"=&gt;\"120/22\", \"bb\"=&gt;\"hh\"}\nhash2 = hash.inject({}) do |h, (key, value)|\n  h.merge([ key.to_s.split('/'), value.to_s.split('/')].transpose.to_h)\nend\n</code></pre>\n"}], "owner": {"reputation": 9743, "user_id": 2542215, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/W5t9R.jpg?s=128&g=1", "display_name": "aelor", "link": "https://stackoverflow.com/users/2542215/aelor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 28069637, "answer_count": 2, "score": 0, "last_activity_date": 1421852919, "creation_date": 1421850221, "last_edit_date": 1421852829, "question_id": 28069504, "link": "https://stackoverflow.com/questions/28069504/convert-ruby-hash-into-another-format", "title": "convert ruby hash into another format", "body": "<p>here is a ruby hash </p>\n\n<pre><code>hash = {\"ss\"=&gt;1, \"bc/gf\"=&gt;\"120/22\", \"bb\"=&gt;\"hh\"}\n</code></pre>\n\n<p>I want to convert it to</p>\n\n<pre><code>{\"ss\"=&gt;1, \"bc\"=&gt;\"120\", \"gf\" =&gt; \"22\", \"bb\"=&gt;\"hh\"}\n</code></pre>\n\n<p>what I tried </p>\n\n<pre><code>key_arr = has.keys.map{|s| s.split(\"/\")}.flatten\nval_arr = has.values.map(&amp;:to_s).map{|s| s.split(\"/\")}.flatten\nHash[*key_arr.zip(val_arr).flatten]\n</code></pre>\n\n<p>works fine for me .. but is there a more elegant solution to my problem</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "block"], "comments": [{"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421850282, "post_id": 28069447, "comment_id": 44518449, "body": "your <code>default</code> variable in another scope."}, {"owner": {"reputation": 7544, "user_id": 1085998, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/459252fca62e56c1131babdba2b1babe?s=128&d=identicon&r=PG", "display_name": "daremkd", "link": "https://stackoverflow.com/users/1085998/daremkd"}, "edited": false, "score": 0, "creation_date": 1421850621, "post_id": 28069447, "comment_id": 44518628, "body": "You need to make it available inside the scope of Struct, either change it to a global variable (not recommended) or a constant."}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1421855576, "post_id": 28069447, "comment_id": 44522113, "body": "Your analysis is wrong: the variable <i>is</i> accessible inside the block. It is, however, <i>not</i> accessible inside the method definition. Only blocks are closures, method, class, and module definitions as well as scripts create empty scopes."}], "answers": [{"comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 1, "creation_date": 1421851404, "post_id": 28069545, "comment_id": 44519174, "body": "&quot;The default variable is out of the scope of the A class.&quot; - not really, it&#39;s outside of <code>initialize</code> method definition scope."}], "tags": [], "owner": {"reputation": 7544, "user_id": 1085998, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/459252fca62e56c1131babdba2b1babe?s=128&d=identicon&r=PG", "display_name": "daremkd", "link": "https://stackoverflow.com/users/1085998/daremkd"}, "is_accepted": false, "score": 0, "last_activity_date": 1421862109, "last_edit_date": 1421862109, "creation_date": 1421850310, "answer_id": 28069545, "question_id": 28069447, "link": "https://stackoverflow.com/questions/28069447/ruby-struct-creation-block-cannot-access-variable-outside-the-block/28069545#28069545", "title": "Ruby struct creation block cannot access variable outside the block", "body": "<p>The <code>default</code> variable is out of the scope of the <code>initialize</code> method. I'd recommend you make it into a constant (rename it to DEFAULT) if you want to access it (unless, that is, you plan to change the default during program runtime, but I don't see why you'd do that, otherwise it wouldn't be named that way):</p>\n\n<pre><code>DEFAULT = 'test'\nA = Struct.new(:a, :b) do\n  def initialize(*args)\n    super(*args)\n    self.b ||= DEFAULT\n  end\nend\n\na = A.new(1)\np a.b #=&gt; test\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32008, "user_id": 322020, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dce43cb8158a14c3fed02bea797becd7?s=128&d=identicon&r=PG", "display_name": "Nakilon", "link": "https://stackoverflow.com/users/322020/nakilon"}, "edited": false, "score": 0, "creation_date": 1536576568, "post_id": 28069556, "comment_id": 91459514, "body": "I wonder how much it&#39;s an ok practice to solve scope problem like this."}], "tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": true, "score": 5, "last_activity_date": 1421850339, "creation_date": 1421850339, "answer_id": 28069556, "question_id": 28069447, "link": "https://stackoverflow.com/questions/28069447/ruby-struct-creation-block-cannot-access-variable-outside-the-block/28069556#28069556", "title": "Ruby struct creation block cannot access variable outside the block", "body": "<p>It's because <code>def</code> keyword starts new local variables scope, so <code>default</code> local variable isn't visible inside of it. The workaround is to use <code>define_method</code>, because the block you pass into it is closure:</p>\n\n<pre><code>default = 'test'\nA = Struct.new(:a, :b) do\n  define_method(:initialize) do |*args|\n    super(*args)\n    self.b ||= default\n  end\nend\na = A.new\na.b\n# =&gt; \"test\"\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 1396415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8e7f8e6efa95c9ea4f20177ef7e8d66?s=128&d=identicon&r=PG", "display_name": "eymlo", "link": "https://stackoverflow.com/users/1396415/eymlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 28069556, "answer_count": 2, "score": 3, "last_activity_date": 1421862109, "creation_date": 1421850015, "question_id": 28069447, "link": "https://stackoverflow.com/questions/28069447/ruby-struct-creation-block-cannot-access-variable-outside-the-block", "title": "Ruby struct creation block cannot access variable outside the block", "body": "<p>Accessing the <code>default</code> variable inside the Struct creation block doesn't seem to work in this case:</p>\n\n<pre><code>default = 'test'\nA = Struct.new(:a, :b) do\n  def initialize(*args)\n    super(*args)\n    self.b ||= default\n  end\nend\n</code></pre>\n\n<p>It is throwing the following error:</p>\n\n<pre><code>'initialize': undefined local variable or method `default' for #&lt;struct A a=2, b=nil&gt; (NameError)\n</code></pre>\n\n<p>Can someone explain why this is happening and whether there is a work around?</p>\n\n<p>(Tested on Ruby 1.9.3 and 2.1.2)</p>\n"}, {"tags": ["ruby", "web-crawler", "nokogiri"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 1, "creation_date": 1421849682, "post_id": 28069237, "comment_id": 44518074, "body": "FYI, the part starting with # is called the <i>fragment</i>."}], "answers": [{"comments": [{"owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "edited": false, "score": 1, "creation_date": 1421852015, "post_id": 28069805, "comment_id": 44519604, "body": "On site you provided when <code>#cur=2</code> is added to url, <a href=\"http://vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/2\" rel=\"nofollow noreferrer\">vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/2</a> is loaded via ajax. <code>#cur=3</code> loads <a href=\"http://vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/3\" rel=\"nofollow noreferrer\">vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/3</a> and so on."}, {"owner": {"reputation": 239, "user_id": 3836425, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2206bbbc8d6965bd44162bbc635b21ff?s=128&d=identicon&r=PG&f=1", "display_name": "abent", "link": "https://stackoverflow.com/users/3836425/abent"}, "edited": false, "score": 0, "creation_date": 1421859548, "post_id": 28069805, "comment_id": 44524859, "body": "how can you find from #cur=2 to <a href=\"http://vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/2\" rel=\"nofollow noreferrer\">vnreview.vn/danh-gia-di-dong/-/article_summary/iZQ8/15/0/2</a>"}, {"owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "reply_to_user": {"reputation": 239, "user_id": 3836425, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2206bbbc8d6965bd44162bbc635b21ff?s=128&d=identicon&r=PG&f=1", "display_name": "abent", "link": "https://stackoverflow.com/users/3836425/abent"}, "edited": false, "score": 2, "creation_date": 1421860081, "post_id": 28069805, "comment_id": 44525192, "body": "Open <a href=\"http://vnreview.vn/danh-gia-di-dong\" rel=\"nofollow noreferrer\">vnreview.vn/danh-gia-di-dong</a> in google chrome, then open developer tools (<code>cmd+option+i</code> on mac, <code>ctrl+shift+i</code> on win/linux), then open <code>network</code> tab, clear requests log (2nd button under tabs bar, one with crossed circle). Then click &quot;Ti\u1ebfp theo&quot; link on page you opened. Requests tab will be filled with lots of data. Top request will be the one you are looking for."}], "tags": [], "owner": {"reputation": 3284, "user_id": 783142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fc38842603a093706807ff87aa931b?s=128&d=identicon&r=PG", "display_name": "glyuck", "link": "https://stackoverflow.com/users/783142/glyuck"}, "is_accepted": true, "score": 4, "last_activity_date": 1421851011, "creation_date": 1421851011, "answer_id": 28069805, "question_id": 28069237, "link": "https://stackoverflow.com/questions/28069237/how-to-use-nokogiri-in-ruby-to-parse-link-contain-charater/28069805#28069805", "title": "How to use Nokogiri in ruby to parse link contain # charater", "body": "<p>Fragment is not sent to server with http request, i.e. if you open <code>http://www.example.com/#fragment</code> in browser following request will be made:</p>\n\n<pre><code>GET / HTTP/1.1\nHost: example.com\n</code></pre>\n\n<p>Then after receiving response, browser will append fragment to URL and perform some actions (for example, scroll to element with <code>id=\"fragment\"</code>, or execute javascript callbacks)</p>\n\n<p>If page content differs based on fragment, it's done via javascript. Nokogiri is not capable of running javascript, so you need some other tool, like <a href=\"http://selenium.googlecode.com/git/docs/api/rb/index.html\" rel=\"nofollow\">selenium-webdriver</a> or <a href=\"http://blog.dharanasoft.com/2012/03/19/a-search-spider-in-ruby-using-capybara-webkit/\" rel=\"nofollow\">capybara-webkit</a>.</p>\n\n<p>Another option is to inspect ajax requests on page you trying to parse and probably you'll find JSON with data you need. Then download this json directly. Probably content is already on page, and it's just hidden via css (like tabs in twitter bootstrap).</p>\n"}], "owner": {"reputation": 239, "user_id": 3836425, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2206bbbc8d6965bd44162bbc635b21ff?s=128&d=identicon&r=PG&f=1", "display_name": "abent", "link": "https://stackoverflow.com/users/3836425/abent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 28069805, "answer_count": 1, "score": 0, "last_activity_date": 1504088055, "creation_date": 1421849334, "question_id": 28069237, "link": "https://stackoverflow.com/questions/28069237/how-to-use-nokogiri-in-ruby-to-parse-link-contain-charater", "title": "How to use Nokogiri in ruby to parse link contain # charater", "body": "<p>I use Nokogiri in ruby to parse link like this</p>\n\n<pre><code>link='http://vnreview.vn/danh-gia-di-dong#cur=2'\n\ndoc= Nokogiri::HTML(open(link,'User-Agent'=&gt;'Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.64 Safari/537.31').read, nil, 'UTF-8')\n</code></pre>\n\n<p>but <code>nokogiri</code> return doc is source of link='<a href=\"http://vnreview.vn/danh-gia-di-dong\" rel=\"nofollow\">http://vnreview.vn/danh-gia-di-dong</a>'\nHow can i parse link with <code>#cur=1, #cur=2...</code></p>\n"}, {"tags": ["ruby-on-rails", "ruby", "parameters"], "comments": [{"owner": {"reputation": 661, "user_id": 2481868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ku8h9.jpg?s=128&g=1", "display_name": "pkrawat1", "link": "https://stackoverflow.com/users/2481868/pkrawat1"}, "edited": false, "score": 0, "creation_date": 1421849164, "post_id": 28069095, "comment_id": 44517737, "body": "how about <code>params.require(:post).permit(       :title).merge({       poster_id: current_user.id,        poster_name: current_user.name})</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5800, "user_id": 4287733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835e993afb1e20c1981dd6b8b59ded2d?s=128&d=identicon&r=PG", "display_name": "Nermin", "link": "https://stackoverflow.com/users/4287733/nermin"}, "is_accepted": false, "score": 1, "last_activity_date": 1421849143, "creation_date": 1421849143, "answer_id": 28069171, "question_id": 28069095, "link": "https://stackoverflow.com/questions/28069095/force-strong-parameter-value/28069171#28069171", "title": "force strong parameter value", "body": "<pre><code>   def new_post_params\n     params[:post][:poster_id] = current_user.id\n     params[:post][:poster_name] = current_user.name \n     params.require(:post).permit(\n        :title, \n        :poster_id,\n        :poster_name\n      )     \n   end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 2481868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ku8h9.jpg?s=128&g=1", "display_name": "pkrawat1", "link": "https://stackoverflow.com/users/2481868/pkrawat1"}, "is_accepted": true, "score": 2, "last_activity_date": 1421849375, "creation_date": 1421849375, "answer_id": 28069253, "question_id": 28069095, "link": "https://stackoverflow.com/questions/28069095/force-strong-parameter-value/28069253#28069253", "title": "force strong parameter value", "body": "<p>Try this</p>\n\n<pre><code>params.require(:post).permit(:title).merge(\n  { \n    poster_id: current_user.id,\n    poster_name: current_user.name\n  }\n)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4199907, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-YL2PKFmnFt0/AAAAAAAAAAI/AAAAAAAAA8g/UgvNjWVRu2s/photo.jpg?sz=128", "display_name": "Bowo Keren", "link": "https://stackoverflow.com/users/4199907/bowo-keren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 28069253, "answer_count": 2, "score": 1, "last_activity_date": 1421849375, "creation_date": 1421848933, "question_id": 28069095, "link": "https://stackoverflow.com/questions/28069095/force-strong-parameter-value", "title": "force strong parameter value", "body": "<p>how to insert parameter value manually from controller,\nthis my controller</p>\n\n<pre><code>def new\n  @new_post = Post.new(params[:title])\nend\n\ndef create\n  @new_post = Post.new(new_post_params)\n  if @new_post.save\n    flash[:success] = 'Post created!'\n    redirect_to home_url\n  else\n    flash[:danger] = @new_post.errors.full_messages.to_sentence\n    redirect_to home_url\n  end\nend\n\nprivate\ndef new_post_params\n  params.require(:post).permit(\n    :title, \n    poster_id: current_user.id, \n    poster_name: current_user.name\n )\n</code></pre>\n\n<p>end</p>\n\n<p>my form view like this</p>\n\n<pre><code>form_for @new_post do |f|\n   f.text_area :title\nend\n</code></pre>\n\n<p>tired using this method, poster_id and poster_name still blank</p>\n\n<pre><code>    def new_post_params\n      params.require(:post).permit(\n      :title, \n      poster_id: current_user.id, \n      poster_name: current_user.name\n   )\n   end\n</code></pre>\n"}, {"tags": ["javascript", "ruby", "cucumber", "gherkin"], "comments": [{"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 1, "creation_date": 1421848151, "post_id": 28068404, "comment_id": 44517064, "body": "As a variant, set <code>res</code> into hidden field and then get it&#39;s value in usual way."}, {"owner": {"reputation": 43204, "user_id": 2761509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/79afb77b8b7efb4ae5c39ae91eef7e61?s=128&d=identicon&r=PG&f=1", "display_name": "VB_", "link": "https://stackoverflow.com/users/2761509/vb"}, "reply_to_user": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 0, "creation_date": 1421851570, "post_id": 28068404, "comment_id": 44519287, "body": "@YevgeniyAnfilofyev sorry, but <code>res</code> is <code>Backbone.Collection</code>. I can&#39;t push it to input atribute"}, {"owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "edited": false, "score": 0, "creation_date": 1421851678, "post_id": 28068404, "comment_id": 44519369, "body": "You could stringify <code>res</code>. Something like <code>JSON.stringify(res)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4557, "user_id": 1847280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4124a0c3fbe08db2e0021e3e09b76e7f?s=128&d=identicon&r=PG", "display_name": "Yevgeniy Anfilofyev", "link": "https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev"}, "is_accepted": false, "score": 2, "last_activity_date": 1421851883, "creation_date": 1421851883, "answer_id": 28070106, "question_id": 28068404, "link": "https://stackoverflow.com/questions/28068404/save-javascript-variable-to-cucumber-variable/28070106#28070106", "title": "Save javascript variable to cucumber variable", "body": "<p>I did it this way:</p>\n\n<pre><code>script = \"$.ajax({url: '...'}).then(function(res){\n    $('&lt;input&gt;').attr({\n        type: 'hidden',\n        id: 'foo',\n        name: 'bar',\n        value: JSON.stringify(res)\n    }).appendTo('form');\n});\"\npage.evaluate_script(script)\nwait_for_ajax\nres = page.find('#foo', visible: false).value\n</code></pre>\n\n<p>So you see, it appends hidden input element to form element with stringified value of <code>res</code>. Then I wait for ajax to execute. And then I find it's value on page.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5068758, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153361918416668/picture?type=large", "display_name": "Lorin Thwaits", "link": "https://stackoverflow.com/users/5068758/lorin-thwaits"}, "is_accepted": false, "score": 0, "last_activity_date": 1560925492, "creation_date": 1560925492, "answer_id": 56661282, "question_id": 28068404, "link": "https://stackoverflow.com/questions/28068404/save-javascript-variable-to-cucumber-variable/56661282#56661282", "title": "Save javascript variable to cucumber variable", "body": "<p>You can use LocalStorage, at least with Chromedriver:</p>\n\n<pre><code>page.execute_script 'localStorage.setItem(\"foo\", JSON.stringify(res));'\nwait_for_ajax\nres = page.driver.browser.local_storage['foo']\n</code></pre>\n"}], "owner": {"reputation": 43204, "user_id": 2761509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/79afb77b8b7efb4ae5c39ae91eef7e61?s=128&d=identicon&r=PG&f=1", "display_name": "VB_", "link": "https://stackoverflow.com/users/2761509/vb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560925492, "creation_date": 1421846727, "last_edit_date": 1421847322, "question_id": 28068404, "link": "https://stackoverflow.com/questions/28068404/save-javascript-variable-to-cucumber-variable", "title": "Save javascript variable to cucumber variable", "body": "<p>I use Gherkin with Cucumber. But unfortunately I need to fetch some data from server with JavaScript. </p>\n\n<p><strong>Question:</strong> <em>How to save JavaScript request result to cucumber variable to be able to reuse the result in next steps?</em></p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>Then(/^I load all stuff$/) do\n  script = \"(function  run(){\n    var url = 'localhost:8o8o/getStuff';\n    $.ajax({url: url}).then(function(res) {\n      //PROBLEM: how to save 'res' variable to Ruby variable?\n    });\n  })()\".gsub(/[\\t\\r\\n]/, '');\n  @browser.execute_script(script)\nend\n</code></pre>\n"}, {"tags": ["ruby", "arrays", "memory-management"], "comments": [{"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 1, "creation_date": 1421846393, "post_id": 28068226, "comment_id": 44515982, "body": "If I were you I&#39;d focus on making this more incremental - there&#39;s no need to read the whole file in one go."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1421848275, "post_id": 28068226, "comment_id": 44517145, "body": "As @FrederickCheung advises, you should be reading the input file one line at a time. You can do that with <a href=\"http://www.ruby-doc.org/core-2.2.0/IO.html#method-c-foreach\" rel=\"nofollow noreferrer\">IO#foreach</a>: <code>IO.foreach(&quot;input_file&quot;) do |line| ... end</code>. Transform <code>line</code> in the block and then append that to the output file."}, {"owner": {"reputation": 2231, "user_id": 1238868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9884f1eabc8587f2c9dfd2b1ccf9a6?s=128&d=identicon&r=PG", "display_name": "Michael Chaney", "link": "https://stackoverflow.com/users/1238868/michael-chaney"}, "edited": false, "score": 1, "creation_date": 1421849593, "post_id": 28068226, "comment_id": 44518019, "body": "You should understand that you are making multiple copies of the data in memory.  On your f.write line &quot;map&quot;, &quot;uniq&quot;, and &quot;join&quot; will all make full copies of the data, with &quot;uniq&quot; cutting it down perhaps.  Still, 260MB starts to add up when you multiply it.  Take others&#39; advice here and simply process the data incrementally."}, {"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 0, "creation_date": 1421858710, "post_id": 28068226, "comment_id": 44524273, "body": "An alternative method, depending on your needs, might be to use a database. SQLite should easily be able to handle this much data without you needing to worry about memory use."}], "answers": [{"tags": [], "owner": {"reputation": 6898, "user_id": 2012487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9631fa1981d36a3b5f71426c821a8064?s=128&d=identicon&r=PG", "display_name": "Aguardientico", "link": "https://stackoverflow.com/users/2012487/aguardientico"}, "is_accepted": false, "score": 0, "last_activity_date": 1421847901, "creation_date": 1421847901, "answer_id": 28068764, "question_id": 28068226, "link": "https://stackoverflow.com/questions/28068226/failed-to-allocate-memory-error-with-large-array/28068764#28068764", "title": "&#39;Failed to allocate memory&#39; error with large array", "body": "<p>You can try reading and writing one line at once:</p>\n\n<pre><code>new_file = File.open('smaller_file.txt', 'w')\nFile.open('massive_file.txt', 'r') do |file|\n  file.each_line do |line|\n    new_file.puts line.strip.gsub(/,.*\\z/, \"\")\n  end\nend\nnew_file.close\n</code></pre>\n\n<p>The only thing pending is find duplicated lines</p>\n"}, {"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421848910, "post_id": 28068871, "comment_id": 44517565, "body": "Given the size of the files, you should make <code>unique_lines_array</code> a set rather than an array. Also consider making the elements of that set hashcodes computed for each line. Note you initialize. <code>unique_lines_array</code> as <code>unique_lines_dictionary</code>."}, {"owner": {"reputation": 1910, "user_id": 1800369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604bad179cf022d3bc17baa6cf355fc7?s=128&d=identicon&r=PG", "display_name": "Plamen Nikolov", "link": "https://stackoverflow.com/users/1800369/plamen-nikolov"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1421849238, "post_id": 28068871, "comment_id": 44517787, "body": "Yes, you are right for everything. Thanks for the note."}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 1, "creation_date": 1421853138, "post_id": 28068871, "comment_id": 44520313, "body": "More potential improvements: you probably don&#39;t need an MD5 hash, <code>String#hash</code> will suffice. Also, did you really mean <code>while (line=file_data)</code>? Seems to me you meant to use <code>while (line=file_data.readline)</code>, though that will raise an exception when the end of the file is reached. <code>file_data.each_line do |line|</code> is probably best. You can also rewrite <code>line_hash = Digest::MD5.hexdigest(line); if not unique_lines_set.include? line_hash; unique_lines_set.add(line_hash);</code> as simply <code>if unique_lines_set.add? line.hash</code> Finally, don&#39;t forget to close <code>file_data</code> and <code>file_output</code>."}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1421853168, "post_id": 28068871, "comment_id": 44520338, "body": "You also striped the line twice; that&#39;s not necesssary."}, {"owner": {"reputation": 1910, "user_id": 1800369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604bad179cf022d3bc17baa6cf355fc7?s=128&d=identicon&r=PG", "display_name": "Plamen Nikolov", "link": "https://stackoverflow.com/users/1800369/plamen-nikolov"}, "edited": false, "score": 0, "creation_date": 1421855538, "post_id": 28068871, "comment_id": 44522075, "body": "You are right, I&#39;ve edited the code with the correct file line reading and the file close."}, {"owner": {"reputation": 18308, "user_id": 1375209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dweAo.png?s=128&g=1", "display_name": "toro2k", "link": "https://stackoverflow.com/users/1375209/toro2k"}, "edited": false, "score": 1, "creation_date": 1421856984, "post_id": 28068871, "comment_id": 44523119, "body": "If I&#39;m not missing something you doesn&#39;t insert <code>\\n</code> between lines in the output file, you probably want to use <code>puts</code> in place of <code>write</code>."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 1, "creation_date": 1421861864, "post_id": 28068871, "comment_id": 44526194, "body": "I wouldn&#39;t be so sure about not needing md5 - with a 32 bit hash code the probability of collisions across 2 million values is pretty high (if running ruby on a 64 bit platform the odds are better)"}], "tags": [], "owner": {"reputation": 1910, "user_id": 1800369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604bad179cf022d3bc17baa6cf355fc7?s=128&d=identicon&r=PG", "display_name": "Plamen Nikolov", "link": "https://stackoverflow.com/users/1800369/plamen-nikolov"}, "is_accepted": false, "score": 2, "last_activity_date": 1421857786, "last_edit_date": 1421857786, "creation_date": 1421848255, "answer_id": 28068871, "question_id": 28068226, "link": "https://stackoverflow.com/questions/28068226/failed-to-allocate-memory-error-with-large-array/28068871#28068871", "title": "&#39;Failed to allocate memory&#39; error with large array", "body": "<p>You can read the file line by line:</p>\n\n<pre><code>require 'set'\nrequire 'digest/md5'\nfile_data = File.new('massive_file.txt', 'r')\nfile_output = File.new('smaller_file.txt', 'w')\nunique_lines_set = Set.new\n\nwhile (line = file_data.gets)\n    line.strip!\n    line.gsub!(/,.*\\z/, \"\")\n    # Check if the line is unique\n    line_hash = Digest::MD5.hexdigest(line)\n    if not unique_lines_set.include? line_hash\n      # It is unique so add its hash to the set\n      unique_lines_set.add(line_hash)\n\n      # Write the line in the output file\n      file_output.puts(line)\n    end\nend\n\nfile_data.close\nfile_output.close\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1910, "user_id": 1800369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/604bad179cf022d3bc17baa6cf355fc7?s=128&d=identicon&r=PG", "display_name": "Plamen Nikolov", "link": "https://stackoverflow.com/users/1800369/plamen-nikolov"}, "edited": false, "score": 0, "creation_date": 1422292767, "post_id": 28068912, "comment_id": 44681755, "body": "Following this approach makes removing duplicate lines extremely difficult."}], "tags": [], "owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "is_accepted": false, "score": -1, "last_activity_date": 1421848976, "last_edit_date": 1495542491, "creation_date": 1421848354, "answer_id": 28068912, "question_id": 28068226, "link": "https://stackoverflow.com/questions/28068226/failed-to-allocate-memory-error-with-large-array/28068912#28068912", "title": "&#39;Failed to allocate memory&#39; error with large array", "body": "<p>Alternatively you can read file in chunks which should be faster compared to reading it line by line:</p>\n\n<pre><code>FILENAME=\"massive_file.txt\"\nMEGABYTE = 1024*1024\n\nclass File\n  def each_chunk(chunk_size=MEGABYTE) # or n*MEGABYTE\n    yield read(chunk_size) until eof?\n  end\nend\n\nfiledata = \"\"\nopen(FILENAME, \"rb\") do |f|\n  f.each_chunk() {|chunk|\n      chunk.gsub!(/,.*\\z/, \"\")\n      filedata += chunk\n  }\nend\n</code></pre>\n\n<p>ref: <a href=\"https://stackoverflow.com/a/1682400/3035830\">https://stackoverflow.com/a/1682400/3035830</a></p>\n"}], "owner": {"reputation": 35, "user_id": 4467851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3388a50265bc7b75ba1ea1263eeaeb34?s=128&d=identicon&r=PG&f=1", "display_name": "Matt K", "link": "https://stackoverflow.com/users/4467851/matt-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2619, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1421857786, "creation_date": 1421846217, "last_edit_date": 1421846545, "question_id": 28068226, "link": "https://stackoverflow.com/questions/28068226/failed-to-allocate-memory-error-with-large-array", "title": "&#39;Failed to allocate memory&#39; error with large array", "body": "<p>I am trying to import a large text file (approximately 2 million rows of numbers at 260MB) into an array, make edits to the array, and then write the results to a new text file, by writing:</p>\n\n<pre><code>file_data = File.readlines(\"massive_file.txt\")\nfile_data = file_data.map!(&amp;:strip)\nfile_data.each do |s|\n    s.gsub!(/,.*\\z/, \"\")\nend\nFile.open(\"smaller_file.txt\", 'w') do |f|\n    f.write(file_data.map(&amp;:strip).uniq.join(\"\\n\"))\nend\n</code></pre>\n\n<p>However, I have received the error <code>failed to allocate memory (NoMemoryError)</code>.  How can I allocate more memory to complete the task?  Or, ideally, is there another method I can use where I can avoid having to re-allocate memory?</p>\n"}, {"tags": ["ruby", "chef-infra"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4478350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLNnF.jpg?s=128&g=1", "display_name": "s4geo", "link": "https://stackoverflow.com/users/4478350/s4geo"}, "edited": false, "score": 0, "creation_date": 1421847067, "post_id": 28068358, "comment_id": 44516364, "body": "The attributes of the file are not necessarily when chef last edited it - outside forces could have edited and/or touched the file in the interim, so having a timestamp in the file would provide some information to anyone who reads the file."}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "reply_to_user": {"reputation": 13, "user_id": 4478350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLNnF.jpg?s=128&g=1", "display_name": "s4geo", "link": "https://stackoverflow.com/users/4478350/s4geo"}, "edited": false, "score": 0, "creation_date": 1421847215, "post_id": 28068358, "comment_id": 44516459, "body": "If an outside force touch the file, chef will rewrite it... and the outside force won&#39;t always update the timestamp at top of the file, so I don&#39;t get what it can gives you at all..."}, {"owner": {"reputation": 13, "user_id": 4478350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLNnF.jpg?s=128&g=1", "display_name": "s4geo", "link": "https://stackoverflow.com/users/4478350/s4geo"}, "edited": false, "score": 0, "creation_date": 1421847844, "post_id": 28068358, "comment_id": 44516862, "body": "That assumes that chef will be run on a regular basis which may not be the case in some environments - therefore the delta between chef runs may be significant.  I know that this is far from ideal but this in combination with historical layout of certain files is the reason I was looking to implement something along these lines."}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "reply_to_user": {"reputation": 13, "user_id": 4478350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLNnF.jpg?s=128&g=1", "display_name": "s4geo", "link": "https://stackoverflow.com/users/4478350/s4geo"}, "edited": false, "score": 0, "creation_date": 1421848152, "post_id": 28068358, "comment_id": 44517067, "body": "Chef will output a diff when it overwrites the file (and it backups it in /var/chef/backups with a timestamp). A timestamp inside the file tis not reliable in any way, it&#39;s a lure thinking it will gives anything trustable. Anyway, chef templates are not designed this way, so probably not the tool for what you try to achieve if you really wish the time in the file."}], "tags": [], "owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "is_accepted": false, "score": 1, "last_activity_date": 1421846612, "creation_date": 1421846612, "answer_id": 28068358, "question_id": 28068099, "link": "https://stackoverflow.com/questions/28068099/chef-template-timestamping/28068358#28068358", "title": "Chef Template - Timestamping", "body": "<p>That's the way chef works, it makes a diff between rendered template and actual file, as the timestamp is not the same it replace it.</p>\n\n<p>Your alternate solution won't work either for the same reason, a placeholder will be different than the datetime of the replacements.</p>\n\n<p>The best you can do is write a file aside named 'myfile-last-update' for exemple with a text inside describing the last update of it.</p>\n\n<p>But last question: Why would you want to have the time inside the file as it's already present in the file attribute (<code>ls -l</code> should give you this information) ?</p>\n"}, {"comments": [{"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1421916905, "post_id": 28076452, "comment_id": 44546913, "body": "Nice one (even if I still don&#39;t see a use case), maybe worth noting the <code>&lt;%%= </code> is to have a <code>&lt;%= </code> in the renderer local template source which will be replaced by the second template call."}, {"owner": {"reputation": 30536, "user_id": 400222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75febe3a9bd5b1ad9cb63fceccb6aa31?s=128&d=identicon&r=PG", "display_name": "StephenKing", "link": "https://stackoverflow.com/users/400222/stephenking"}, "reply_to_user": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 1, "creation_date": 1421922706, "post_id": 28076452, "comment_id": 44550255, "body": "Thanks for that note! The actual use case was linked in the answer: For <a href=\"https://github.com/TYPO3-cookbooks/t3-pdns/blob/7aff686016e77a4130e8892c9a4639b07ec91afa/providers/zone.rb#L36-L67\" rel=\"nofollow noreferrer\">PowerDNS</a> I render a zone file from a template. Such a DNS zone needs a serial, usually derived from the current time. But I want to update the serial only, when a change of the template (new host, change in IP etc) occurred."}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1421922906, "post_id": 28076452, "comment_id": 44550390, "body": "Indeed, this is a clear use case :) You&#39;re welcome for the note."}, {"owner": {"reputation": 1271, "user_id": 3139907, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/56638b1938a9bf498cc3cf4276660b86?s=128&d=identicon&r=PG&f=1", "display_name": "Just Lucky Really", "link": "https://stackoverflow.com/users/3139907/just-lucky-really"}, "edited": false, "score": 0, "creation_date": 1495139981, "post_id": 28076452, "comment_id": 75139771, "body": "Haha @StephenKing, exactly the reason I was looking for a way to do this (except I&#39;m creating a custom cookbook for bind) :D"}], "tags": [], "owner": {"reputation": 30536, "user_id": 400222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75febe3a9bd5b1ad9cb63fceccb6aa31?s=128&d=identicon&r=PG", "display_name": "StephenKing", "link": "https://stackoverflow.com/users/400222/stephenking"}, "is_accepted": true, "score": 4, "last_activity_date": 1421873002, "last_edit_date": 1495540041, "creation_date": 1421873002, "answer_id": 28076452, "question_id": 28068099, "link": "https://stackoverflow.com/questions/28068099/chef-template-timestamping/28076452#28076452", "title": "Chef Template - Timestamping", "body": "<p>While I agree with <a href=\"https://stackoverflow.com/users/3627607/tensibai\">Tensibai</a> that what you expect is not what Chef is made for.</p>\n\n<p>What I want to add (because some time ago I searched pretty long for that) is how to include the current time stamp in a file, once it was modified through Chef (somehow you have to circumvent that it always updates the time stamp).</p>\n\n<p>The result can be found <a href=\"https://github.com/TYPO3-cookbooks/t3-pdns/blob/7aff686016e77a4130e8892c9a4639b07ec91afa/providers/zone.rb#L36-L67\" rel=\"nofollow noreferrer\">here</a>, simplified, untested version:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>  time =  Time.new.strftime(\"%Y%m%d%H%M%S\")\n\n  template \"/tmp/example.txt\" do\n    source    \"/tmp/example.txt.erb\" # the source is not in a cookbook, but on the disk of the node!\n    local     true\n    variables(\n      :time =&gt; time\n    )\n    action :nothing\n  end\n\n  template \"/tmp/example.txt.erb\" do\n    variables(\n      variable1 =&gt; \"test\"\n     )\n    notifies :create, resources(:template =&gt; \"/tmp/example.txt\"), :immediately\n  end\n</code></pre>\n\n<p>Everytime, when the content of <code>/tmp/example.txt.erb</code> changes, it triggers <code>/tmp/example.txt</code> to be written - taking <code>/tmp/example.txt.erb</code> as template from the local disk instead of from the cookbook (because <code>local true</code>) and replacing the <code>time</code> variable with the current time.</p>\n\n<p>So the only variable that has to be replaced when writing <code>/tmp/example.txt</code> is the time, thus the <code>example.txt.erb</code> template looks like this:</p>\n\n<pre><code># my template\ntime: &lt;%%= @time %&gt;\nother stuff here.. &lt;%= @variable1 %&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4478350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLNnF.jpg?s=128&g=1", "display_name": "s4geo", "link": "https://stackoverflow.com/users/4478350/s4geo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3098, "favorite_count": 2, "accepted_answer_id": 28076452, "answer_count": 2, "score": 1, "last_activity_date": 1421873002, "creation_date": 1421845881, "question_id": 28068099, "link": "https://stackoverflow.com/questions/28068099/chef-template-timestamping", "title": "Chef Template - Timestamping", "body": "<p>While implementing a templated config file using chef 11.x I'd like to insert the current date/time into the file whenever it is updated.</p>\n\n<p>For example:</p>\n\n<pre><code># Created By : core::time-settings\n# On         : &lt;%= Time.now %&gt;\n</code></pre>\n\n<p>Obviously this evaluates on each recipe run and constantly updates the target file even when the other attributes are OK - which is not desired.  </p>\n\n<p>Therefore is anyone aware of a solution?  I'm not aware of any built-in logic within Chef to achieve this and I don't know of a built-in chef variable that I could evaluate within a ruby block that would only be true if the other attributes are out of compliance (as that would provide a potential workaround).</p>\n\n<p>I know that I could run an execute type operation which only gets run after the template resource has been fired, and it expands a variable in the file to achieve this, but I don't like the concept or idea of doing that.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "ruby", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3245551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/39fa5cf9d1c1233096fc3b1bcc4c9a68?s=128&d=identicon&r=PG&f=1", "display_name": "MurakamiKioto", "link": "https://stackoverflow.com/users/3245551/murakamikioto"}, "edited": false, "score": 0, "creation_date": 1421847311, "post_id": 28068315, "comment_id": 44516525, "body": "Yes, in Network tab have an articles_entries json and the response its not empty, are content inside json parameters. Then is not returning an empty array? I do wrong the query? because otherwise I do not understand why I return [ ]  to make a console.log (ArticlesEntries.query( ) ). Thanks."}, {"owner": {"reputation": 521, "user_id": 1024661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b374f3bd05b1db4a974585ba57661815?s=128&d=identicon&r=PG", "display_name": "jorgecasar", "link": "https://stackoverflow.com/users/1024661/jorgecasar"}, "reply_to_user": {"reputation": 31, "user_id": 3245551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/39fa5cf9d1c1233096fc3b1bcc4c9a68?s=128&d=identicon&r=PG&f=1", "display_name": "MurakamiKioto", "link": "https://stackoverflow.com/users/3245551/murakamikioto"}, "edited": false, "score": 0, "creation_date": 1421872526, "post_id": 28068315, "comment_id": 44531645, "body": "$resource use promises, try with: <code>ArticlesEntries.query(console.log)</code> to print the arguments of the callback. Or using promises <code>ArticlesEntries.query().then(console.log)</code>"}], "tags": [], "owner": {"reputation": 521, "user_id": 1024661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b374f3bd05b1db4a974585ba57661815?s=128&d=identicon&r=PG", "display_name": "jorgecasar", "link": "https://stackoverflow.com/users/1024661/jorgecasar"}, "is_accepted": true, "score": 0, "last_activity_date": 1421846481, "creation_date": 1421846481, "answer_id": 28068315, "question_id": 28068088, "link": "https://stackoverflow.com/questions/28068088/angularjs-factory-resource-return-empty-array/28068315#28068315", "title": "AngularJS factory $resource return empty array", "body": "<p>Did you check in Chrome Developer Tools if the http request is done? Check it in Network tab, and you can show the response to be sure it's an empty array or not.</p>\n"}], "owner": {"reputation": 31, "user_id": 3245551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/39fa5cf9d1c1233096fc3b1bcc4c9a68?s=128&d=identicon&r=PG&f=1", "display_name": "MurakamiKioto", "link": "https://stackoverflow.com/users/3245551/murakamikioto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 28068315, "answer_count": 1, "score": 0, "last_activity_date": 1421846660, "creation_date": 1421845850, "last_edit_date": 1421846660, "question_id": 28068088, "link": "https://stackoverflow.com/questions/28068088/angularjs-factory-resource-return-empty-array", "title": "AngularJS factory $resource return empty array", "body": "<p>I made an .json with jbuilder and create factory in my service.js: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.factory \"ArticlesEntries\",\n      [\"$resource\", ($resource) -&gt; $resource \"/news_articles/:id\", {},\n        index: method: \"GET\", isArray:true , params: action: \"index\"\n        show: method: \"GET\", params: action: \"show\"\n      ]\n</code></pre>\n\n<p>My controller is: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>angular.module('miApp').controller 'ArticlesEntriesCtrl', [\n  \"$scope\",\"$location\", \"ArticlesEntries\"\n  ($scope, $location, ArticlesEntries) -&gt;\n    $scope.articles_entries = ArticlesEntries.query()\n    console.log(ArticlesEntries.query())\n]\n</code></pre>\n\n<p>But when refresh /news_articles nothing happens in the view {{articles_entries.title}} and in console.log return a empty array. </p>\n\n<p>What is wrong?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "watir-webdriver", "page-object-gem"], "answers": [{"comments": [{"owner": {"reputation": 1915, "user_id": 641135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVIeZ.png?s=128&g=1", "display_name": "Christian Baumann", "link": "https://stackoverflow.com/users/641135/christian-baumann"}, "edited": false, "score": 0, "creation_date": 1421848847, "post_id": 28068832, "comment_id": 44517520, "body": "Thanks Justin. When I change it, I get the following error: Watir::Exception::UnknownObjectException: unable to locate element, using {:index=&gt;0, :tag_name=&gt;&quot;input&quot;, :type=&gt;&quot;checkbox&quot;}"}, {"owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "reply_to_user": {"reputation": 1915, "user_id": 641135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVIeZ.png?s=128&g=1", "display_name": "Christian Baumann", "link": "https://stackoverflow.com/users/641135/christian-baumann"}, "edited": false, "score": 0, "creation_date": 1421850975, "post_id": 28068832, "comment_id": 44518892, "body": "I am having problems reproducing that error. Is the HTML provided the actual table? Given that you are doing <code>leg_details_element[&#39;1&#39;]</code>, I would expect that there would be a cell including &quot;1&quot; in it, otherwise no row would be found."}, {"owner": {"reputation": 1915, "user_id": 641135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVIeZ.png?s=128&g=1", "display_name": "Christian Baumann", "link": "https://stackoverflow.com/users/641135/christian-baumann"}, "edited": false, "score": 0, "creation_date": 1421907251, "post_id": 28068832, "comment_id": 44542876, "body": "Seems I oversimplified the table a little bit, the original one is a real huge beast. Yes, the line contains a &quot;1&quot;. And I can access the :pax textfield in the same line with the given code."}, {"owner": {"reputation": 1915, "user_id": 641135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVIeZ.png?s=128&g=1", "display_name": "Christian Baumann", "link": "https://stackoverflow.com/users/641135/christian-baumann"}, "edited": false, "score": 0, "creation_date": 1421914300, "post_id": 28068832, "comment_id": 44545677, "body": "The value &quot;Leg&quot; is used twice in the table header, and the column with checkbox is the 2nd one, so it always tries to find the checkbox in the wrong column. I&#180;ve asked developers to make the headers unique."}], "tags": [], "owner": {"reputation": 44680, "user_id": 1200545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbbfea5f6583c16f96fc11ef821cfeee?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Ko", "link": "https://stackoverflow.com/users/1200545/justin-ko"}, "is_accepted": true, "score": 1, "last_activity_date": 1421848112, "creation_date": 1421848112, "answer_id": 28068832, "question_id": 28067868, "link": "https://stackoverflow.com/questions/28067868/unable-to-check-checkbox-in-table-cell/28068832#28068832", "title": "Unable to check checkbox in table cell", "body": "<p>The <code>text_field</code> accessor is for text fields, which are input elements with type \"text\" and other text-like input fields such as \"email\".</p>\n\n<p>Inputs of type \"checkbox\" are considered checkboxes. It is the <a href=\"http://www.rubydoc.info/github/cheezy/page-object/master/PageObject/Accessors#checkbox-instance_method\" rel=\"nofollow\"><code>checkbox</code> accessor</a> that creates the <code>check_</code> method. In other words, you want the following definition for the checkbox:</p>\n\n<pre><code>checkbox(:show_leg_on_quote_pdf) { leg_details_element['1']['Leg'].checkbox_element }\n</code></pre>\n"}], "owner": {"reputation": 1915, "user_id": 641135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wVIeZ.png?s=128&g=1", "display_name": "Christian Baumann", "link": "https://stackoverflow.com/users/641135/christian-baumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 28068832, "answer_count": 1, "score": 0, "last_activity_date": 1421848224, "creation_date": 1421845191, "last_edit_date": 1421848224, "question_id": 28067868, "link": "https://stackoverflow.com/questions/28067868/unable-to-check-checkbox-in-table-cell", "title": "Unable to check checkbox in table cell", "body": "<p>I have this table:</p>\n\n<pre><code>&lt;iframe title=\"ManageLegs\"&gt;\n    &lt;table title=\"Leg Details\"&gt;\n        &lt;tr&gt;\n            &lt;th class=\"headerRow\"&gt;\n                &lt;div&gt;PAX&lt;/div&gt;\n            &lt;/th&gt;\n            &lt;th class=\"headerRow\"&gt;\n                &lt;div&gt;Leg&lt;/div&gt;\n            &lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"text\"&gt;&lt;/input&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;input type=\"checkbox\"&gt;&lt;/input&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p>Accessing the textbox is working fine, but I can\u00b4t figure out how to check the checkbox.</p>\n\n<p>I use the following code in my PageObject class:</p>\n\n<pre><code>in_iframe(:title =&gt; 'ManageLegs') do |frame|\n    table(:leg_details, title: 'Leg Details', :frame =&gt; frame)\n    text_field(:pax) { leg_details_element['1']['PAX'].text_field_element }\n    text_field(:aircraft) { leg_details_element['1']['Aircraft'].text_field_element }\n    text_field(:show_leg_on_quote_pdf) { leg_details_element['1']['Leg'].checkbox_element }\nend\n</code></pre>\n\n<p>Which I am calling like this:</p>\n\n<pre><code>on(CharterInquirySavedPage).pax = \"2\"\non(CharterInquirySavedPage).check_show_leg_on_quote_pdf\n</code></pre>\n\n<p>It is working fine for setting the pax-textbox, but fails when trying to check the checkbox:</p>\n\n<pre><code>NoMethodError: undefined method `check_show_leg_on_quote_pdf' for #&lt;CharterInquirySavedPage:0x00000004cfd420&gt;\n</code></pre>\n"}, {"tags": ["ruby", "github"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 1232147, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PQ7m5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/1232147/sai"}, "is_accepted": true, "score": 0, "last_activity_date": 1421911663, "creation_date": 1421911663, "answer_id": 28083319, "question_id": 28067416, "link": "https://stackoverflow.com/questions/28067416/getting-commit-tree-code-from-github-based-on-commit-id-using-ruby-githubapi/28083319#28083319", "title": "Getting commit tree code from github based on commit id using Ruby Githubapi", "body": "<p>I implemented the above using \"github_api\" ad here is code to get it done.</p>\n\n<pre><code>git = Github.new\ngithub.git_data.trees.get  'username', 'repo', 'commit_sha'\n</code></pre>\n\n<p>This gives a json formatted data and you can get the value of the parameter based on your requirement</p>\n\n<p>Thanks Github API.</p>\n"}], "owner": {"reputation": 135, "user_id": 1232147, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PQ7m5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/1232147/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 28083319, "answer_count": 1, "score": 0, "last_activity_date": 1421911663, "creation_date": 1421843756, "question_id": 28067416, "link": "https://stackoverflow.com/questions/28067416/getting-commit-tree-code-from-github-based-on-commit-id-using-ruby-githubapi", "title": "Getting commit tree code from github based on commit id using Ruby Githubapi", "body": "<p>I need to get code from github based on commit id. I am using \"github_api\" gem and my app authenticates the user using Github.</p>\n\n<p>For example,if the user gives the commit id what I need is to get the tree url and fetch the code from the file and returns the code</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "ruby-on-rails", "ruby", "eclipse", "selenium"], "comments": [{"owner": {"reputation": 135, "user_id": 1232147, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PQ7m5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/1232147/sai"}, "edited": false, "score": 0, "creation_date": 1421844613, "post_id": 28067200, "comment_id": 44514896, "body": "You can use eclipse by getting the ruby libraries from Market place .."}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 0, "creation_date": 1421846613, "post_id": 28067200, "comment_id": 44516109, "body": "<a href=\"http://assertselenium.com/2013/10/06/getting-started-with-ruby-webdriver/\" rel=\"nofollow noreferrer\">assertselenium.com/2013/10/06/&hellip;</a>   this may helps you. And regarding IDE.. Try Sublime or RubyMine"}, {"owner": {"reputation": 1, "user_id": 2492612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526cef0d727b1e6d2ffcee2b6dec5c51?s=128&d=identicon&r=PG", "display_name": "KalyanMuthiah", "link": "https://stackoverflow.com/users/2492612/kalyanmuthiah"}, "reply_to_user": {"reputation": 135, "user_id": 1232147, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PQ7m5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/1232147/sai"}, "edited": false, "score": 0, "creation_date": 1421847197, "post_id": 28067200, "comment_id": 44516445, "body": "@SaiVardhan Thanks for your suggestion. I am not able to see selenium specific options and syntax suggestions in eclipse.Should i point my eclipse to my gem repository"}, {"owner": {"reputation": 2025, "user_id": 2317875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6574420d716cf1436cc2f9a1b2f0ac3?s=128&d=identicon&r=PG", "display_name": "unigeek", "link": "https://stackoverflow.com/users/2317875/unigeek"}, "edited": false, "score": 0, "creation_date": 1421857851, "post_id": 28067200, "comment_id": 44523707, "body": "Personally, I find that RSpec, Capybara, Poltergeist and PhantomJS make for a lovely stack for end-to-end testing. Between RSpec and Capybara you have a nice high-level of abstraction for writing your tests. Poltergeist and PhantomJS team up to enable headless testing w/o a browser rendering pages (yet screen capture is still possible). Believe the selenium driver is the default for Capybara as well. See <a href=\"https://github.com/jnicklas/capybara\" rel=\"nofollow noreferrer\">github.com/jnicklas/capybara</a>"}, {"owner": {"reputation": 1, "user_id": 2492612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526cef0d727b1e6d2ffcee2b6dec5c51?s=128&d=identicon&r=PG", "display_name": "KalyanMuthiah", "link": "https://stackoverflow.com/users/2492612/kalyanmuthiah"}, "reply_to_user": {"reputation": 2025, "user_id": 2317875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6574420d716cf1436cc2f9a1b2f0ac3?s=128&d=identicon&r=PG", "display_name": "unigeek", "link": "https://stackoverflow.com/users/2317875/unigeek"}, "edited": false, "score": 0, "creation_date": 1421859677, "post_id": 28067200, "comment_id": 44524936, "body": "@unigeek Thanks for suggestion. I am using eclipse with DLTK plugin for ruby development. If i install capybara gem, will get code assistance/ auto suggestion in the editor"}, {"owner": {"reputation": 2025, "user_id": 2317875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6574420d716cf1436cc2f9a1b2f0ac3?s=128&d=identicon&r=PG", "display_name": "unigeek", "link": "https://stackoverflow.com/users/2317875/unigeek"}, "edited": false, "score": 0, "creation_date": 1421860819, "post_id": 28067200, "comment_id": 44525605, "body": "Am not familiar with the DLTK Ruby plugin, but it seems like a tough problem to support API assistance for a dynamic language like Ruby, so I doubt you&#39;d have it after adding RSpec and Capybara. That said, by using RSpec and Capybara you get a nice small DSL for testing so that the lack of API assistance becomes less of an issue."}], "owner": {"reputation": 1, "user_id": 2492612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526cef0d727b1e6d2ffcee2b6dec5c51?s=128&d=identicon&r=PG", "display_name": "KalyanMuthiah", "link": "https://stackoverflow.com/users/2492612/kalyanmuthiah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421843073, "creation_date": 1421843073, "question_id": 28067200, "link": "https://stackoverflow.com/questions/28067200/i-am-trying-to-move-to-selenium-java-to-ruby-but-finding-the-learning-curve-much", "title": "I am trying to move to selenium java to ruby but finding the learning curve much tougher", "body": "<p>I have used Selenium Webdriver in Java for a longtime. I am trying to move to selenium webdriver &amp; ruby but finding the learning process much tougher as the IDE i use for ruby is not as supportive as Eclipse. \nPlease suggest utilities or methods that help in understanding the Selenium Ruby syntax and options/features quickly</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "answers": [{"comments": [{"owner": {"reputation": 1489, "user_id": 1613695, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49b5b3b9873e3060bff7244940fed930?s=128&d=identicon&r=PG", "display_name": "tomasbasham", "link": "https://stackoverflow.com/users/1613695/tomasbasham"}, "edited": false, "score": 0, "creation_date": 1421843085, "post_id": 28067137, "comment_id": 44514005, "body": "Ah, I see. I thought that the send_reset_password_instructions method needed to be called on an object, i.e. as a block <code>after_create { |user| user.send_reset_password_instructions }</code> but I wanted to try out the other syntax <code>&amp;:</code>"}], "tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": true, "score": 3, "last_activity_date": 1421842902, "creation_date": 1421842902, "answer_id": 28067137, "question_id": 28067029, "link": "https://stackoverflow.com/questions/28067029/rails-after-create-proc-no-receiver-given/28067137#28067137", "title": "Rails after_create proc no receiver given", "body": "<p>You shouldn't pass your method as block proc, but as regular argument:</p>\n\n<pre><code>after_create :send_reset_password_instructions\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 3090068, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/69636a28e85f584b8f264495494f3de0?s=128&d=identicon&r=PG&f=1", "display_name": "Yuki Inoue", "link": "https://stackoverflow.com/users/3090068/yuki-inoue"}, "is_accepted": false, "score": 1, "last_activity_date": 1523593164, "creation_date": 1523593164, "answer_id": 49809241, "question_id": 28067029, "link": "https://stackoverflow.com/questions/28067029/rails-after-create-proc-no-receiver-given/49809241#49809241", "title": "Rails after_create proc no receiver given", "body": "<p>As supplemental information to Marek's answer:</p>\n\n<p>When you give <code>{ |user| user.send_reset_password_instructions }</code> block to the <code>after_create</code> method, it becomes a <code>Proc</code> object of <code>#arity == 1</code>, where as <code>&amp;:send_reset_password_instructions</code> becomes <code>arity == -1</code>.  In fact, <code>#arity</code> is used to determine how a the hooked is called.  Refer:  <a href=\"https://github.com/rails/rails/blob/4a68792df7f2cecf9e6d9ddb18dfe761f553eb2a/activesupport/lib/active_support/callbacks.rb#L447\" rel=\"nofollow noreferrer\">https://github.com/rails/rails/blob/4a68792df7f2cecf9e6d9ddb18dfe761f553eb2a/activesupport/lib/active_support/callbacks.rb#L447</a></p>\n\n<p>So, in general, when you define hooks for callbacks, you should not use the <code>&amp;:method_name</code> format.</p>\n"}], "owner": {"reputation": 1489, "user_id": 1613695, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49b5b3b9873e3060bff7244940fed930?s=128&d=identicon&r=PG", "display_name": "tomasbasham", "link": "https://stackoverflow.com/users/1613695/tomasbasham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 28067137, "answer_count": 2, "score": 2, "last_activity_date": 1523593164, "creation_date": 1421842560, "question_id": 28067029, "link": "https://stackoverflow.com/questions/28067029/rails-after-create-proc-no-receiver-given", "title": "Rails after_create proc no receiver given", "body": "<p>I have started a project in Ruby on Rails and using devise for user registration. I am having difficulty getting my head around why the following is not working:</p>\n\n<pre><code># After create hook to send passwrd reset instructions\nafter_create(&amp;:send_reset_password_instructions)\n</code></pre>\n\n<p>I am wondering whether this is a specific implementation issue with the devise method to reset the password information, or I am doing something incorrect. Probably the latter.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "imdb"], "comments": [{"owner": {"reputation": 2691, "user_id": 3324630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6gEL.jpg?s=128&g=1", "display_name": "Grych", "link": "https://stackoverflow.com/users/3324630/grych"}, "edited": false, "score": 0, "creation_date": 1421841954, "post_id": 28066638, "comment_id": 44513361, "body": "<a href=\"http://stackoverflow.com/questions/1966503/does-imdb-provide-an-api\" title=\"does imdb provide an api\">stackoverflow.com/questions/1966503/does-imdb-provide-an-api</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "is_accepted": false, "score": 0, "last_activity_date": 1421841877, "creation_date": 1421841877, "answer_id": 28066824, "question_id": 28066638, "link": "https://stackoverflow.com/questions/28066638/ruby-on-rails-display-imdb-star-rating/28066824#28066824", "title": "Ruby on Rails display imdb star rating", "body": "<p><a href=\"https://github.com/ariejan/imdb\" rel=\"nofollow\">This gem</a> should be all that you need for grabbing the data from IMDB.</p>\n\n<p>In addition, you can get the style for the ratings using <a href=\"https://github.com/wazery/ratyrate\" rel=\"nofollow\">ratyrate</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4227507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427422223, "creation_date": 1421841316, "last_edit_date": 1427422223, "question_id": 28066638, "link": "https://stackoverflow.com/questions/28066638/ruby-on-rails-display-imdb-star-rating", "title": "Ruby on Rails display imdb star rating", "body": "<p>I have a ruby on rails application that on the index.html.erb page loops around each film to display title, image, director, etc. What I would like to do is display the film's imdb rating as well. Is there a way I can do this?</p>\n\n<p>index.html.erb:</p>\n\n<pre><code>&lt;% @films.each do |film| %&gt;\n        &lt;% if film.release_date &lt; Date.today %&gt;\n        &lt;div class='large_panel'&gt;\n            &lt;%= image_tag film.image_url,:size =&gt; \"900x200\" %&gt;\n            &lt;h1&gt;&lt;%= film.title %&gt;&lt;/h1&gt;\n             &lt;div class=\"bbfc-icons\"&gt;\n                &lt;img src=\"/images/bbfc/15.png\" alt=\"15\" height=\"40\" width=\"40\"&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"clearfix\"&gt;\n            &lt;/div&gt;  \n            &lt;div&gt;\n                &lt;div class='film_info_two_column_left wider'&gt;\n                    &lt;div class=\"allShowtimes large_txt\"&gt;\n                        Continues Friday 16th January - Thursday 5th February\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;div class='film_info_two_column_right whatsonpgae'&gt;\n                    &lt;div class=\"allShowtimes\"&gt;\n                        &lt;%= link_to 'Show', film_path(film) %&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;%= link_to 'Edit', edit_film_path(film) %&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;div class='clearfix'&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 1, "creation_date": 1421841478, "post_id": 28066557, "comment_id": 44513090, "body": "No, you can&#39;t do this. Why don&#39;t you simply do <code>!animal.send method_name</code>?"}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1421841546, "post_id": 28066557, "comment_id": 44513136, "body": "Could you show more meta-code, because it is not clear why you do not call <code>! animal.send &quot;#{method_name}&quot;.to_sym</code> when you need a negation. The problems are probably occurring in how you are representing the need to call the negation of the method, and not in your deeper implementation. Alternatively, just adding <code>cant_fly?</code> is short (it&#39;s pretty much the same length as your desired alias_method) and standard Ruby"}, {"owner": {"reputation": 10737, "user_id": 526836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h2HX0.jpg?s=128&g=1", "display_name": "fiction", "link": "https://stackoverflow.com/users/526836/fiction"}, "edited": false, "score": 0, "creation_date": 1421841655, "post_id": 28066557, "comment_id": 44513192, "body": "animal = Pengiun.new; traits = [&#39;can_swim?&#39;, &#39;cannot_fly?&#39;]; animal_has_all_traits = traits.all? { |trait| animal.send(:trait) }"}], "answers": [{"tags": [], "owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "is_accepted": true, "score": 2, "last_activity_date": 1421842314, "creation_date": 1421842314, "answer_id": 28066950, "question_id": 28066557, "link": "https://stackoverflow.com/questions/28066557/can-we-define-alias-method-of-method-name/28066950#28066950", "title": "Can we define alias_method of !method_name", "body": "<p>After all, overriding <code>method_missing</code> in your <code>Animal</code> class doesn't seem as very bad idea. You can do this as follows:</p>\n\n<pre><code>class Animal\n  # ...\n  def method_missing(method_name, *args, &amp;block)\n    match = method_name.match(/^cant_(\\w*)\\?$/)\n    if match\n      !send(\"can_#{match[1]}?\", *args, &amp;block)\n    else\n      super\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 10737, "user_id": 526836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h2HX0.jpg?s=128&g=1", "display_name": "fiction", "link": "https://stackoverflow.com/users/526836/fiction"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 28066950, "answer_count": 1, "score": 0, "last_activity_date": 1421842314, "creation_date": 1421841046, "question_id": 28066557, "link": "https://stackoverflow.com/questions/28066557/can-we-define-alias-method-of-method-name", "title": "Can we define alias_method of !method_name", "body": "<p>I got a class with some predicate method (example from classic Animal Kingdom).</p>\n\n<pre><code>class Bird &lt; Animal\n  include Flying      \n  ...\nend\n\nmodule Flying\n  ...\n  def can_fly?\n    true\n  end\n  ...\nend\n</code></pre>\n\n<p>Unfortunately, we call this predicates with something like</p>\n\n<pre><code>  method_name = 'can_fly?'\n  animal.send \"#{method_name}\".to_sym\n</code></pre>\n\n<p>which worked perfectly till now.</p>\n\n<p>But... </p>\n\n<p>Now we need to call the <code>!animal.can_fly?</code></p>\n\n<p>[metaprograming]We can define <code>method_missing</code> adding <code>non_</code> methods in the Flying module, but the problem is that in the future if we add another <code>method_missing</code> in other Modules(Swimming, Burrowing, etc) there will be conflicts (the other modules will override the method_missing).</p>\n\n<p>So we embraced the most primitive decision, to add </p>\n\n<pre><code>  def cant_fly?\n    !can_fly?\n  end\n</code></pre>\n\n<p>Is there some alias_method or other mechanic that is able to alias a <code>non_</code> method? Like(<strong>the following is not a valid ruby code</strong>)...</p>\n\n<pre><code>alias_method :cannot_fly?, :!can_fly\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "actionmailer"], "answers": [{"tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 2, "last_activity_date": 1421841253, "creation_date": 1421841253, "answer_id": 28066617, "question_id": 28066489, "link": "https://stackoverflow.com/questions/28066489/mailers-not-working-following-upgrade/28066617#28066617", "title": "Mailers not working following upgrade", "body": "<p>You are missing the call to <code>mail</code> inside the mailer action.</p>\n\n<pre><code>def my_email\n  # ...\n\n  mail  to: \"recipient\",\n        subject: \"...\"\nend\n</code></pre>\n\n<p>In your case</p>\n\n<pre><code>def setup_email(...)\n  # ...\n\n  mail  to: @recipients,\n        from: @from,\n        subject: @subject,\nend\n</code></pre>\n"}], "owner": {"reputation": 982, "user_id": 3005105, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/NIIPO.jpg?s=128&g=1", "display_name": "Gareth Burrows", "link": "https://stackoverflow.com/users/3005105/gareth-burrows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 28066617, "answer_count": 1, "score": 0, "last_activity_date": 1421847947, "creation_date": 1421840801, "last_edit_date": 1421847947, "question_id": 28066489, "link": "https://stackoverflow.com/questions/28066489/mailers-not-working-following-upgrade", "title": "Mailers not working following upgrade", "body": "<p>We have recently upgraded form Rails 3.0 to rails 3.2. At the same time we have upgraded from ruby 1.9.3 to Ruby 2.1.5. We are snagging all kinds of things but the one thing that is baffling me is the email, which was working fine before but is now simply not sending. Is there something amiss with the code below?</p>\n\n<p><strong>Controller code</strong></p>\n\n<pre><code>def send_welcome\n  UserNotifier.new_user_welcome(user).deliver\n  ...\nend\n</code></pre>\n\n<p><strong>Notifier code</strong></p>\n\n<pre><code>class EmployeeNotifier &lt; ActionMailer::Base\n\ndef setup_email(to, subject, from = Saas::Config.from_email)\n  @sent_on = Time.zone.now\n  @subject = subject\n  @recipients = to.respond_to?(:email) ? to.email : to\n  @from = from.respond_to?(:email) ? from.email : from\nend\n\ndef new_user_welcome(user)\n  @user = user\n  setup_email(user.email,\"Welcome!\")\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux", "ubuntu", "debian"], "comments": [{"owner": {"reputation": 13534, "user_id": 644810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ADwSQ.png?s=128&g=1", "display_name": "Rustam A. Gasanov", "link": "https://stackoverflow.com/users/644810/rustam-a-gasanov"}, "edited": false, "score": 1, "creation_date": 1421840422, "post_id": 28066154, "comment_id": 44512438, "body": "What is your question? You can install rvm as user(for user if you want) and rvm can deliver any ruby version for you."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4477982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eaddfad283d0cab8dc0413d0ccec150?s=128&d=identicon&r=PG&f=1", "display_name": "mickeyk", "link": "https://stackoverflow.com/users/4477982/mickeyk"}, "edited": false, "score": 0, "creation_date": 1421848138, "post_id": 28066358, "comment_id": 44517061, "body": "My attempt to use the algorithm described in the above link to install Ruby and RoR in Debian 7.7 does rely on RVM, but the install failed at the last step, which is make install, because sudo make install appears to be required to write to the root-privileged directories. Is this a bug in the latest release of Debian?"}, {"owner": {"reputation": 2496, "user_id": 1132628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9a2ea1d861e04547c439049662eb59?s=128&d=identicon&r=PG", "display_name": "cassianoleal", "link": "https://stackoverflow.com/users/1132628/cassianoleal"}, "reply_to_user": {"reputation": 1, "user_id": 4477982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eaddfad283d0cab8dc0413d0ccec150?s=128&d=identicon&r=PG&f=1", "display_name": "mickeyk", "link": "https://stackoverflow.com/users/4477982/mickeyk"}, "edited": false, "score": 0, "creation_date": 1421874557, "post_id": 28066358, "comment_id": 44532625, "body": "RVM shouldn&#39;t try to run anything with <code>sudo</code> apart from installing missing packages (hence the first sentence on my reply). Could you pastebin the logs of where this happened?"}], "tags": [], "owner": {"reputation": 2496, "user_id": 1132628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9a2ea1d861e04547c439049662eb59?s=128&d=identicon&r=PG", "display_name": "cassianoleal", "link": "https://stackoverflow.com/users/1132628/cassianoleal"}, "is_accepted": false, "score": 0, "last_activity_date": 1421840427, "creation_date": 1421840427, "answer_id": 28066358, "question_id": 28066154, "link": "https://stackoverflow.com/questions/28066154/how-do-i-install-ror-on-linux-distros-that-block-sudo/28066358#28066358", "title": "how do I install RoR on Linux distros that block sudo?", "body": "<p>As long as the OS has the tools and libs required to compile build and the gems you'll use, there's no need for <code>sudo</code> at all.</p>\n\n<p>Using a version manager is the easiest way to accomplish that. <a href=\"https://rvm.io/\" rel=\"nofollow\">RVM</a> is the easiest to use and the one I usually recommend for beginners.</p>\n\n<p>Other version managers I find worth mentioning are <a href=\"https://github.com/sstephenson/rbenv\" rel=\"nofollow\">rbenv</a> and <a href=\"https://github.com/postmodern/chruby\" rel=\"nofollow\">chruby</a> (my personal choice), but there's a more comprehensive list <a href=\"https://github.com/wayneeseguin/rvm/blob/master/docs/alt.md\" rel=\"nofollow\">in the RVM docs</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4477982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eaddfad283d0cab8dc0413d0ccec150?s=128&d=identicon&r=PG&f=1", "display_name": "mickeyk", "link": "https://stackoverflow.com/users/4477982/mickeyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421840427, "creation_date": 1421839825, "last_edit_date": 1421839965, "question_id": 28066154, "link": "https://stackoverflow.com/questions/28066154/how-do-i-install-ror-on-linux-distros-that-block-sudo", "title": "how do I install RoR on Linux distros that block sudo?", "body": "<p>The Linux distros I've seen use an outdated version of Ruby that is not compatible with Ruby on Rails at all, so I found this set of instructions to install a compatible non-repository version of Ruby as well as RoR on Debian and Ubuntu:</p>\n\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-on-an-debian-7-0-wheezy-vps-using-rvm\" rel=\"nofollow\">Debian</a></p>\n\n<p><a href=\"https://gorails.com/setup/ubuntu/14.10\" rel=\"nofollow\">Ubuntu</a></p>\n\n<p>The Debian install fails because that method seems absolutely to require sudo. If you install as root you get horrible misconfiguration and no application access as limited user, but you can't install as just a limited user because Debian uses root login and puts up roadblocks to adding sudoers.</p>\n\n<p>I generally like Debian better and would rather run it than Ubuntu, but this issue is forcing me to run Ubuntu instead. So is there a way to get around the sudo blockage in Debian when installing RoR?</p>\n"}, {"tags": ["ruby", "gem", "windows-firewall"], "answers": [{"tags": [], "owner": {"reputation": 1732, "user_id": 2718874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T70to.png?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/2718874/josh"}, "is_accepted": true, "score": 1, "last_activity_date": 1429129426, "creation_date": 1429129426, "answer_id": 29660172, "question_id": 28065426, "link": "https://stackoverflow.com/questions/28065426/how-to-avoid-gem-update-error-in-windows/29660172#29660172", "title": "How to avoid gem update error in windows?", "body": "<p>Here's <a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88\" rel=\"nofollow\">the fix</a> to your problem. </p>\n\n<p>I only had to follow <a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88#installing-using-update-packages-new\" rel=\"nofollow\">these instructions</a>. </p>\n\n<blockquote>\n  <h2>Installing using update packages (NEW)</h2>\n  \n  <p>Now that RubyGems 1.8.x, 2.0.x, and 2.2.x have been released, you can manually\n  update to those versions.</p>\n  \n  <p>First, download the proper version of RubyGems for your installation (e.g. if running version <code>1.8.28</code>, download <code>1.8.30</code>).</p>\n  \n  <p><em>Note</em>: To find the version of RubyGems you're using, run <code>gem --version</code> in the command line.</p>\n  \n  <p>You can find download links at GitHub under\n  <a href=\"https://github.com/rubygems/rubygems/releases\" rel=\"nofollow\">Releases</a>.</p>\n  \n  <p>Now, locate <code>rubygems-update-X.Y.Z.gem</code> where <code>X.Y.Z</code> will be the matching version of RubyGems that you need to update:</p>\n  \n  <ul>\n  <li>Running 1.8.x: download <a href=\"https://github.com/rubygems/rubygems/releases/tag/v1.8.30\" rel=\"nofollow\">1.8.30</a></li>\n  <li>Running 2.0.x: donwload <a href=\"https://github.com/rubygems/rubygems/releases/tag/v2.0.15\" rel=\"nofollow\">2.0.15</a></li>\n  <li>Running 2.2.x: download <a href=\"https://github.com/rubygems/rubygems/releases/tag/v2.2.3\" rel=\"nofollow\">2.2.3</a></li>\n  </ul>\n  \n  <p>Please download the file in a directory that you can later point to (e.g. the\n  root of your harddrive <code>C:\\</code>)</p>\n  \n  <p>Now, using your Command Prompt:</p>\n  \n  <p><code>C:\\&gt;gem install --local</code></p>\n  \n  <p><code>C:\\rubygems-update-1.8.30.gem</code></p>\n  \n  <p><code>C:\\&gt;update_rubygems --no-ri --no-rdoc</code></p>\n  \n  <p>After this, <code>gem --version</code> should report the new update version.</p>\n  \n  <p>You can now safely uninstall <code>rubygems-update</code> gem:</p>\n  \n  <p><code>C:\\&gt;gem uninstall rubygems-update -x\n  Removing update_rubygems\n  Successfully uninstalled rubygems-update-2.2.3</code></p>\n</blockquote>\n\n<p>After following these instructions, I was able to run <code>gem update --system</code> successfully.</p>\n\n<p>I didn't have to implement <a href=\"https://gist.github.com/luislavena/f064211759ee0f806c88#manual-solution-to-ssl-issue\" rel=\"nofollow\">the following set of instructions</a>. </p>\n\n<p>I think I was running gem version 2.4.4.</p>\n"}], "owner": {"reputation": 1100, "user_id": 2297863, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16818575aaad33dbbb68c620b49474e?s=128&d=identicon&r=PG", "display_name": "Subhajit Panja", "link": "https://stackoverflow.com/users/2297863/subhajit-panja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2267, "favorite_count": 0, "accepted_answer_id": 29660172, "answer_count": 1, "score": 1, "last_activity_date": 1429129426, "creation_date": 1421837706, "question_id": 28065426, "link": "https://stackoverflow.com/questions/28065426/how-to-avoid-gem-update-error-in-windows", "title": "How to avoid gem update error in windows?", "body": "<p>showing below error </p>\n\n<pre><code>C:\\Ruby21&gt;gem update\nUpdating installed gems\nERROR: While executing gem ... (Gem::RemoteFetcher::FetchError)\nSSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certif\nicate verify failed (https://api.rubygems.org/specs.4.8.gz)\n\nC:\\Ruby21&gt;\n</code></pre>\n\n<p>May be blocked by windows firewall.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "ruby-on-rails-3.2", "heroku-postgres"], "answers": [{"tags": [], "owner": {"reputation": 844, "user_id": 1320128, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/62a3d316ffb6b84b1e194bccc8e317cb?s=128&d=identicon&r=PG", "display_name": "Alex Teut", "link": "https://stackoverflow.com/users/1320128/alex-teut"}, "is_accepted": false, "score": 0, "last_activity_date": 1421838757, "creation_date": 1421838757, "answer_id": 28065790, "question_id": 28065408, "link": "https://stackoverflow.com/questions/28065408/how-to-write-complex-code-inside-the-xls-file-on-ruby-on-rails/28065790#28065790", "title": "How to write complex code inside the XLS file on ruby on rails", "body": "<p>Request timeout error - looking like it's because of your slow database. Try to run your app local and connected to remote database - I think, you'll receive timeout too.</p>\n"}], "owner": {"reputation": 13, "user_id": 3665025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a07d9a064d908929e185ec7be0ef8dee?s=128&d=identicon&r=PG&f=1", "display_name": "saurabhdexter", "link": "https://stackoverflow.com/users/3665025/saurabhdexter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421838757, "creation_date": 1421837649, "question_id": 28065408, "link": "https://stackoverflow.com/questions/28065408/how-to-write-complex-code-inside-the-xls-file-on-ruby-on-rails", "title": "How to write complex code inside the XLS file on ruby on rails", "body": "<p>index.xls.erb</p>\n\n<pre><code>&lt;% @gd = GoodsDelivery.find_all_by_store_location_id(stores.id) %&gt;\n&lt;% gd_qty = 0.00 %&gt;\n&lt;% for goods_delivery in @gd %&gt;\n   &lt;% gdl_qty = goods_delivery.goods_delivery_line_items.where(:product_id =&gt; prods.id).where(:customer_bill_id =&gt; nil).sum(:quantity) %&gt;\n   &lt;% gd_qty = gd_qty + gdl_qty %&gt;&lt;% end %&gt;\n   &lt;td&gt;&lt;%= gd_qty %&gt;&lt;/td&gt;\n</code></pre>\n\n<p>I have a code something like this in index.xls.erb file due to some issues i cannot move it into the controller, But in local server it is running properly where as Heroku is my cloud there it is giving error as follows</p>\n\n<pre><code>Error Messege :\nRack::Timeout::RequestTimeoutError: Request ran for longer than 29.989883911185302 seconds.: SELECT SUM(\"goods_receipt_line_items\".\"goods_receipt_quantity\") AS sum_id FROM \"goods_receipt_line_items\" WHERE \"goods_receipt_line_items\".\"goods_receipt_id\" = 311 AND \"goods_receipt_line_items\".\"product_id\" = 133\n/app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.11/lib/active_record/connection_adapters/postgresql_adapter.rb:1153:in `async_exec' /app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.11/lib/active_record/connection_adapters/postgresql_adapter.rb:1153:in `exec_no_cache' /app/vendor/bundle/ruby/1.9.1/gems/activerecord-3.2.11/lib/active_record/connection_adapters/postgresql_adapter\n</code></pre>\n"}, {"tags": ["ruby", "custom-headers", "browsermob"], "answers": [{"comments": [{"owner": {"reputation": 3959, "user_id": 1381266, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7ac54c032c1dd24a5e6c737d06b83a03?s=128&d=identicon&r=PG", "display_name": "Galet", "link": "https://stackoverflow.com/users/1381266/galet"}, "edited": false, "score": 0, "creation_date": 1421904056, "post_id": 28081682, "comment_id": 44541951, "body": "I have given browsermob-proxy executable only. its working without headers. How can i pass with headers."}], "tags": [], "owner": {"reputation": 5540, "user_id": 4256475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6fPgN.jpg?s=128&g=1", "display_name": "Jason Hoetger", "link": "https://stackoverflow.com/users/4256475/jason-hoetger"}, "is_accepted": false, "score": 0, "last_activity_date": 1421903715, "creation_date": 1421903715, "answer_id": 28081682, "question_id": 28064515, "link": "https://stackoverflow.com/questions/28064515/pass-custom-header-using-browsermob-proxy/28081682#28081682", "title": "Pass custom header using browsermob proxy", "body": "<p>Did you change the sample code's path? In the code you pasted, you have:</p>\n\n<p><code>server = BrowserMob::Proxy::Server.new(\"/path/to/downloads/browsermob-proxy/bin/browsermob-proxy\")</code></p>\n\n<p>The /path/to/... part should point to the actual browsermob-proxy executable. </p>\n"}, {"tags": [], "owner": {"reputation": 3959, "user_id": 1381266, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7ac54c032c1dd24a5e6c737d06b83a03?s=128&d=identicon&r=PG", "display_name": "Galet", "link": "https://stackoverflow.com/users/1381266/galet"}, "is_accepted": false, "score": 0, "last_activity_date": 1422338647, "creation_date": 1422338647, "answer_id": 28164192, "question_id": 28064515, "link": "https://stackoverflow.com/questions/28064515/pass-custom-header-using-browsermob-proxy/28164192#28164192", "title": "Pass custom header using browsermob proxy", "body": "<p>I have passed headers key and value as a string as below and its works.</p>\n\n<pre><code>require 'selenium/webdriver'\nrequire 'browsermob/proxy'\n\nserver = BrowserMob::Proxy::Server.new(\"/path/to/downloads/browsermob-proxy/bin/browsermob-proxy\") #=&gt; #&lt;BrowserMob::Proxy::Server:0x000001022c6ea8 ...&gt;\nserver.start\n\nproxy = server.create_proxy #=&gt; \n\nproxy.headers({\"test\"=&gt; \"1\"})\n</code></pre>\n"}], "owner": {"reputation": 3959, "user_id": 1381266, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7ac54c032c1dd24a5e6c737d06b83a03?s=128&d=identicon&r=PG", "display_name": "Galet", "link": "https://stackoverflow.com/users/1381266/galet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1180, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422338647, "creation_date": 1421835125, "last_edit_date": 1421845348, "question_id": 28064515, "link": "https://stackoverflow.com/questions/28064515/pass-custom-header-using-browsermob-proxy", "title": "Pass custom header using browsermob proxy", "body": "<p>Am using the following link:-</p>\n\n<pre><code>https://github.com/jarib/browsermob-proxy-rb\n</code></pre>\n\n<p>I have tried this to pass custom header</p>\n\n<pre><code>require 'selenium/webdriver'\nrequire 'browsermob/proxy'\n\nserver = BrowserMob::Proxy::Server.new(\"/path/to/downloads/browsermob-proxy/bin/browsermob-proxy\") #=&gt; #&lt;BrowserMob::Proxy::Server:0x000001022c6ea8 ...&gt;\nserver.start\n\nproxy = server.create_proxy #=&gt; \n\nproxy.headers({'test'=&gt; 1})\n</code></pre>\n\n<p>But it throws error like below:-</p>\n\n<pre><code>RestClient::InternalServerError: 500 Internal Server Error\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/abstract_response.rb:48:in `return!'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/request.rb:230:in `process_result'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/request.rb:178:in `block in transmit'\n    from /home/karunakaran/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/net/http.rb:852:in `start'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/request.rb:172:in `transmit'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in `execute'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/request.rb:33:in `execute'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/rest-client-1.6.7/lib/restclient/resource.rb:67:in `post'\n    from /home/karunakaran/.rvm/gems/ruby-2.0.0-p247@pubm-qa/gems/browsermob-proxy-0.2.0/lib/browsermob/proxy/client.rb:121:in `header'\n    from (irb):45\n</code></pre>\n\n<p>How can i pass custom header using browsermob proxy for request? </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1421835497, "post_id": 28064420, "comment_id": 44509485, "body": "Your use of A &amp; B makes the question confusing to understand.  Eg, what which record would be shown in the &quot;show&quot; action?  Can you change it to more realistic examples?"}, {"owner": {"reputation": 22812, "user_id": 253811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/z6aeX.jpg?s=128&g=1", "display_name": "Emiliano Poggi", "link": "https://stackoverflow.com/users/253811/emiliano-poggi"}, "reply_to_user": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1421836228, "post_id": 28064420, "comment_id": 44509979, "body": "Updated to a more realistc example. Hope is more meaningful."}], "answers": [{"comments": [{"owner": {"reputation": 22812, "user_id": 253811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/z6aeX.jpg?s=128&g=1", "display_name": "Emiliano Poggi", "link": "https://stackoverflow.com/users/253811/emiliano-poggi"}, "edited": false, "score": 0, "creation_date": 1421851871, "post_id": 28065462, "comment_id": 44519506, "body": "Ok, it was a simple over-complicated question (novice typical) with a simple answer. Thank you for sharing your expertise."}, {"owner": {"reputation": 9878, "user_id": 3315785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YsMo6.jpg?s=128&g=1", "display_name": "j-dexx", "link": "https://stackoverflow.com/users/3315785/j-dexx"}, "reply_to_user": {"reputation": 22812, "user_id": 253811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/z6aeX.jpg?s=128&g=1", "display_name": "Emiliano Poggi", "link": "https://stackoverflow.com/users/253811/emiliano-poggi"}, "edited": false, "score": 0, "creation_date": 1421854462, "post_id": 28065462, "comment_id": 44521261, "body": "No worries, that&#39;s what SO is for.  One thing to consider though, if you have validation and it fails and in your <code>create</code> action you have <code>render :new</code> if it fails then I think (can&#39;t remember for certain), then the link to back would go back to the new action not the one that you got to the new action with."}], "tags": [], "owner": {"reputation": 9878, "user_id": 3315785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YsMo6.jpg?s=128&g=1", "display_name": "j-dexx", "link": "https://stackoverflow.com/users/3315785/j-dexx"}, "is_accepted": true, "score": 1, "last_activity_date": 1421837794, "creation_date": 1421837794, "answer_id": 28065462, "question_id": 28064420, "link": "https://stackoverflow.com/questions/28064420/back-link-in-the-view-should-change-according-to-controllers/28065462#28065462", "title": "Back link in the view should change according to controllers", "body": "<p>So you click a link on either the document show page or chapters index to get to the new chapter route?</p>\n\n<p>If you use a back symbol with <code>link_to</code> it will use the referrer so you should be able to just use</p>\n\n<pre><code>&lt;%= link_to 'Back', :back %&gt;\n</code></pre>\n"}], "owner": {"reputation": 22812, "user_id": 253811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/z6aeX.jpg?s=128&g=1", "display_name": "Emiliano Poggi", "link": "https://stackoverflow.com/users/253811/emiliano-poggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28065462, "answer_count": 1, "score": 2, "last_activity_date": 1421837794, "creation_date": 1421834849, "last_edit_date": 1421836186, "question_id": 28064420, "link": "https://stackoverflow.com/questions/28064420/back-link-in-the-view-should-change-according-to-controllers", "title": "Back link in the view should change according to controllers", "body": "<p>Hi from Rails novice. </p>\n\n<p>I have a one-to-many model document-chapters.</p>\n\n<p>The <strong>/chapters/new.html.erb</strong> view can be invoked from:</p>\n\n<ul>\n<li><strong>/document/:id</strong> (clicking on new chapter link with param document id)</li>\n<li><strong>/chapters/</strong> (clicking on new chapter link without param document id)</li>\n</ul>\n\n<p>The view has a Back link. When the request come from document I want Back points to <strong>document/:id/show</strong>, when the request come from chapters/index, I want Back points to <strong>chapter/index</strong>.</p>\n\n<p>I can easily implement the logic inside the view, but I would like to know from Rails experts what could be the best solution for this use case, as normally they always suggest to separate the logic from the view.</p>\n\n<p>I'm developing on Rails 4.</p>\n\n<p>Maybe this is a simply totally wrong approach where the best solution is to have two views getting what is common from a partial?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1421834680, "post_id": 28064333, "comment_id": 44508966, "body": "Surely there is sth in logs. Check <code>logs&#47;development</code>. There is really no way to guess what happened."}, {"owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1421834810, "post_id": 28064333, "comment_id": 44509025, "body": "This is what I can find in the log:  Started GET &quot;/articles/new&quot; for ::1 at 2015-01-21 09:51:36 +0000   ActiveRecord::SchemaMigration Load (0.1ms)  SELECT &quot;schema_migrations&quot;.* FROM &quot;schema_migrations&quot;"}, {"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1421835598, "post_id": 28064333, "comment_id": 44509572, "body": "Can you add more lines from your log file to your question? eg the top 100 lines.  I bet the answer is in there."}, {"owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "reply_to_user": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1421835950, "post_id": 28064333, "comment_id": 44509808, "body": "@MaxWilliams please see here: <a href=\"https://github.com/alessiogastaldo/rails_wa/blob/patch-1/development.log\" rel=\"nofollow noreferrer\">github.com/alessiogastaldo/rails_wa/blob/patch-1/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "edited": false, "score": 0, "creation_date": 1421837709, "post_id": 28065368, "comment_id": 44510897, "body": "That was a typo and I got a route error calling article.  The problem is when I call articles or articles/new"}, {"owner": {"reputation": 155, "user_id": 4022741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6fJFWQXaGQ/AAAAAAAAAAI/AAAAAAAAAC4/-ojsLlzoSG8/photo.jpg?sz=128", "display_name": "Nihal Nizar", "link": "https://stackoverflow.com/users/4022741/nihal-nizar"}, "reply_to_user": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "edited": false, "score": 0, "creation_date": 1421838220, "post_id": 28065368, "comment_id": 44511184, "body": "did you run  &quot; rake db:migrate &quot;   ?"}, {"owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "edited": false, "score": 0, "creation_date": 1421838501, "post_id": 28065368, "comment_id": 44511339, "body": "Yes I did. Do I have to start sqlite3 as service? Or does it run with the command <b>rails server</b> ?"}, {"owner": {"reputation": 155, "user_id": 4022741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6fJFWQXaGQ/AAAAAAAAAAI/AAAAAAAAAC4/-ojsLlzoSG8/photo.jpg?sz=128", "display_name": "Nihal Nizar", "link": "https://stackoverflow.com/users/4022741/nihal-nizar"}, "reply_to_user": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "edited": false, "score": 0, "creation_date": 1421839153, "post_id": 28065368, "comment_id": 44511725, "body": "yes, it will. You have it specified in the gemfile right ?"}, {"owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "edited": false, "score": 0, "creation_date": 1421839477, "post_id": 28065368, "comment_id": 44511904, "body": "Yes. Here you can find the project details <a href=\"https://github.com/agastaldoDataxu/rails_wa\" rel=\"nofollow noreferrer\">github.com/agastaldoDataxu/rails_wa</a>"}], "tags": [], "owner": {"reputation": 155, "user_id": 4022741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6fJFWQXaGQ/AAAAAAAAAAI/AAAAAAAAAC4/-ojsLlzoSG8/photo.jpg?sz=128", "display_name": "Nihal Nizar", "link": "https://stackoverflow.com/users/4022741/nihal-nizar"}, "is_accepted": false, "score": 0, "last_activity_date": 1421837538, "creation_date": 1421837538, "answer_id": 28065368, "question_id": 28064333, "link": "https://stackoverflow.com/questions/28064333/rails-getting-started-guide-error-were-sorry-but-something-went-wrong/28065368#28065368", "title": "Rails - Getting Started guide - Error (We&#39;re sorry but something went wrong)", "body": "<pre><code> ActionController::RoutingError (No route matches [GET] \"/article/new\"):\n</code></pre>\n\n<p>you are calling /article/new .  Try calling /articles/new </p>\n"}], "owner": {"reputation": 366, "user_id": 917651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/RBovL.jpg?s=128&g=1", "display_name": "AlessioG", "link": "https://stackoverflow.com/users/917651/alessiog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 902, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421837538, "creation_date": 1421834596, "last_edit_date": 1421835524, "question_id": 28064333, "link": "https://stackoverflow.com/questions/28064333/rails-getting-started-guide-error-were-sorry-but-something-went-wrong", "title": "Rails - Getting Started guide - Error (We&#39;re sorry but something went wrong)", "body": "<p>I've a problem with Rails. \nI was following the getting started guide (<a href=\"http://guides.rubyonrails.org/getting_started.html\" rel=\"nofollow\">http://guides.rubyonrails.org/getting_started.html</a>) when I arrived to the point 5.6 I got an error: I ran <strong>rails server</strong> and I called <a href=\"http://localhost:3000/articles/new\" rel=\"nofollow\">http://localhost:3000/articles/new</a> through my browser but I received as message \"We're sorry but something went wrong\".</p>\n\n<p>I tried to check the log in order to understand which is the problem but there's no information about errors in the log file. </p>\n\n<p>The error is related to the resource articles, because calling /welcome/index works correctly. </p>\n\n<p>Some details: Rails 4.2.0, ruby 1.9.3p392, sqlite 3.8.5.\nHere the project: <a href=\"https://github.com/agastaldoDataxu/rails_wa\" rel=\"nofollow\">https://github.com/agastaldoDataxu/rails_wa</a></p>\n\n<p>There are other articles in stackoverflow talking about this error, but I cannot find any solutiuon.</p>\n\n<p>Thanks,\nAle</p>\n"}, {"tags": ["ruby", "encoding", "elasticsearch", "logstash"], "comments": [{"owner": {"reputation": 10485, "user_id": 414355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8d6568a8877f85d0b734278e733be9?s=128&d=identicon&r=PG", "display_name": "Magnus B&#228;ck", "link": "https://stackoverflow.com/users/414355/magnus-b%c3%a4ck"}, "edited": false, "score": 0, "creation_date": 1421837034, "post_id": 28064106, "comment_id": 44510491, "body": "Can&#39;t you just use the <a href=\"http://logstash.net/docs/1.4.2/codecs/plain\" rel=\"nofollow noreferrer\">plain codec&#39;s</a> charset option to indicate that the log is GB18030?"}, {"owner": {"reputation": 1, "user_id": 1748657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db99c35fcf80c164092df2a7339e3cdc?s=128&d=identicon&r=PG", "display_name": "phenix3443", "link": "https://stackoverflow.com/users/1748657/phenix3443"}, "reply_to_user": {"reputation": 10485, "user_id": 414355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8d6568a8877f85d0b734278e733be9?s=128&d=identicon&r=PG", "display_name": "Magnus B&#228;ck", "link": "https://stackoverflow.com/users/414355/magnus-b%c3%a4ck"}, "edited": false, "score": 0, "creation_date": 1421839565, "post_id": 28064106, "comment_id": 44511952, "body": "I tried codec &quot;line&quot; and &quot;plain&quot; and set &quot;charset&quot; GB18030,but it didn&#39;t work  at all. The debug infomation report &quot;Receive an event has a different character set .....utf-8 expected&quot;"}], "owner": {"reputation": 1, "user_id": 1748657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db99c35fcf80c164092df2a7339e3cdc?s=128&d=identicon&r=PG", "display_name": "phenix3443", "link": "https://stackoverflow.com/users/1748657/phenix3443"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499332696, "creation_date": 1421833953, "last_edit_date": 1499332696, "question_id": 28064106, "link": "https://stackoverflow.com/questions/28064106/logstash-filter-encode-character-failed", "title": "logstash filter encode character failed", "body": "<p>we have a log in GB18030 charset, and we want to encode the log to UTF8 when it's shipped from logstash to elasticsearch. After read the document from logstash website, we found a filter could do this for us. I had never used RUBY before, I copied a logstash filter from logstash website and modified a little.</p>\n\n<pre><code># Call this file 'foo.rb' (in logstash/filters, as above)\nrequire \"logstash/filters/base\"\nrequire \"logstash/namespace\"\nrequire \"logstash/environment\"\n\nclass LogStash::Filters::Foo &lt; LogStash::Filters::Base\n\n  # Setting the config_name here is required. This is how you\n  # configure this filter from your logstash config.\n  #\n  # filter {\n  #   foo { ... }\n  # }\n  config_name \"foo\"\n  attr_accessor :logger\n\n  # New plugins should start life at milestone 1.\n  milestone 1\n\n\n  public\n  def register\n    # nothing to do\n  end # def register\n\n  public\n  def filter(event)\n    # return nothing unless there's an actual filter event\n    return unless filter?(event)\n    # Replace the event message with our message as configured in the\n    # config file.\n    a = event[\"message\"].force_encoding(\"GB18030\")\n    $stdout.write(\"\\n origin:\"+a+\"\\n\")\n    $stdout.write(\"\\n encoded:+ a.encode(\"UTF-8\",\"GB18030\")+\"\\n\\n\")\n    event[\"message\"] = event[\"message\"].encode(\"UTF-8\",\"GB18030\")\n    # filter_matched should go in the last line of our successful code\n    filter_matched(event)\n  end # def filter\nend # class LogStash::Filters::Foo\n</code></pre>\n\n<p>Here's the screen output </p>\n\n<p>origin:\\xA1\\xA2\\xD3\\xFE]\\xCA\\xFD\\xBE\\xDD\\xD5\\xFD\\xD4\\xD3\\xCA\\xFD\\xBE\\xE2\\xBC\\xD3\nencoded:\\xA1\\xA2\\xD3\\xFE]\\xCA\\xFD\\xBE\\xDD\\xD5\\xFD\\xD4\\xD3\\xCA\\xFD\\xBE\\xE2\\xBC\\xD3</p>\n\n<p>It seems the \"encode\" function didn't work. I tried encode the string above in RUBY2.1.5 interpreter, it works fine.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1421838708, "post_id": 28064091, "comment_id": 44511467, "body": "did you get it working?"}, {"owner": {"reputation": 979, "user_id": 1706697, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3e3e15a101502fe3324f452efa8536c6?s=128&d=identicon&r=PG", "display_name": "Maria Minh", "link": "https://stackoverflow.com/users/1706697/maria-minh"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1421838753, "post_id": 28064091, "comment_id": 44511490, "body": "No. Still not working."}, {"owner": {"reputation": 979, "user_id": 1706697, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3e3e15a101502fe3324f452efa8536c6?s=128&d=identicon&r=PG", "display_name": "Maria Minh", "link": "https://stackoverflow.com/users/1706697/maria-minh"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1421839766, "post_id": 28064091, "comment_id": 44512051, "body": "Thanks Andrey for your support but that still not working. Can you check the updated code please ?"}, {"owner": {"reputation": 979, "user_id": 1706697, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3e3e15a101502fe3324f452efa8536c6?s=128&d=identicon&r=PG", "display_name": "Maria Minh", "link": "https://stackoverflow.com/users/1706697/maria-minh"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1421853675, "post_id": 28064091, "comment_id": 44520653, "body": "Great. This is the updated code :  &lt;%= f.input :country, as: :select, collection: I18n.translate(:countries).map {|key, value| value} %&gt;. That works very well for me. Thanks Andrey."}], "owner": {"reputation": 979, "user_id": 1706697, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3e3e15a101502fe3324f452efa8536c6?s=128&d=identicon&r=PG", "display_name": "Maria Minh", "link": "https://stackoverflow.com/users/1706697/maria-minh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421839950, "creation_date": 1421833899, "last_edit_date": 1421839672, "question_id": 28064091, "link": "https://stackoverflow.com/questions/28064091/having-a-full-name-of-country-with-localized-country-select-gem", "title": "Having a full name of country with localized_country_select gem", "body": "<p>I'm using Formtastic with localized_country_select gem and trying to display the list of countries: </p>\n\n<pre><code>&lt;%= semantic_form_for '', url: 'myUrl', method: 'POST' do |f| %&gt;\n    &lt;%= f.inputs do %&gt;\n        &lt;%= = f.input :country, as: :country, iso_codes: false %&gt;\n    &lt;% end %&gt;\n</code></pre>\n\n     \n\n<p>The countries use the name as the label &amp; key as value. But I would like to have full name instead of code of country in my option's values. I've set iso_codes attribute to false but still not working. Can you tell me if there is any way to do it please? Thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "migration", "rails-activerecord"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 2, "creation_date": 1421832433, "post_id": 28063563, "comment_id": 44507681, "body": "Didn&#39;t you name any of your migration like this?"}, {"owner": {"reputation": 3957, "user_id": 187004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94464371b17302eadec74810ec480aaf?s=128&d=identicon&r=PG", "display_name": "Cristian Bica", "link": "https://stackoverflow.com/users/187004/cristian-bica"}, "edited": false, "score": 0, "creation_date": 1421832922, "post_id": 28063563, "comment_id": 44507960, "body": "You might have another migration named <code>InterestGroupInternalTranslation</code> and that one is loaded"}, {"owner": {"reputation": 1689, "user_id": 611588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UPmiE.jpg?s=128&g=1", "display_name": "FastSolutions", "link": "https://stackoverflow.com/users/611588/fastsolutions"}, "reply_to_user": {"reputation": 3957, "user_id": 187004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94464371b17302eadec74810ec480aaf?s=128&d=identicon&r=PG", "display_name": "Cristian Bica", "link": "https://stackoverflow.com/users/187004/cristian-bica"}, "edited": false, "score": 0, "creation_date": 1421836023, "post_id": 28063563, "comment_id": 44509864, "body": "@bcd  I have another migration called &quot;20140904083721_interest_group_internal_translation.rb&quot; why is this a problem?"}, {"owner": {"reputation": 1689, "user_id": 611588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UPmiE.jpg?s=128&g=1", "display_name": "FastSolutions", "link": "https://stackoverflow.com/users/611588/fastsolutions"}, "edited": false, "score": 0, "creation_date": 1421836516, "post_id": 28063563, "comment_id": 44510157, "body": "Please notice it: <a href=\"http://i.imgur.com/UujsbE3.png\" rel=\"nofollow noreferrer\">i.imgur.com/UujsbE3.png</a>"}, {"owner": {"reputation": 3957, "user_id": 187004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94464371b17302eadec74810ec480aaf?s=128&d=identicon&r=PG", "display_name": "Cristian Bica", "link": "https://stackoverflow.com/users/187004/cristian-bica"}, "edited": false, "score": 0, "creation_date": 1421837076, "post_id": 28063563, "comment_id": 44510523, "body": "That migration&#39;s class name is the same with the model. Rails loads the migrations classes for the ones that are not migrated. That&#39;s why when you run all migration it gives you an error as it cannot find find_each on the migration class. When you run again it will run only the last migration and correctly uses the model class. You should rename the migration class and file name but don&#39;t change the timestamp"}, {"owner": {"reputation": 1689, "user_id": 611588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UPmiE.jpg?s=128&g=1", "display_name": "FastSolutions", "link": "https://stackoverflow.com/users/611588/fastsolutions"}, "reply_to_user": {"reputation": 3957, "user_id": 187004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94464371b17302eadec74810ec480aaf?s=128&d=identicon&r=PG", "display_name": "Cristian Bica", "link": "https://stackoverflow.com/users/187004/cristian-bica"}, "edited": false, "score": 0, "creation_date": 1421842706, "post_id": 28063563, "comment_id": 44513783, "body": "@bcd please post this as a reply so I can mark it as answer."}], "answers": [{"tags": [], "owner": {"reputation": 3957, "user_id": 187004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94464371b17302eadec74810ec480aaf?s=128&d=identicon&r=PG", "display_name": "Cristian Bica", "link": "https://stackoverflow.com/users/187004/cristian-bica"}, "is_accepted": true, "score": 2, "last_activity_date": 1421920303, "creation_date": 1421920303, "answer_id": 28085625, "question_id": 28063563, "link": "https://stackoverflow.com/questions/28063563/undefined-method-find-each-for-migration-runs-the-second-time/28085625#28085625", "title": "Undefined method find_each for migration - runs the second time", "body": "<p>You might have another migration named InterestGroupInternalTranslation and that one is loaded. That migration's class name is the same with the model. Rails loads the migrations classes for the ones that are not migrated. That's why when you run all migration it gives you an error as it cannot find find_each on the migration class. When you run again it will run only the last migration and correctly uses the model class. You should rename the migration class and file name but don't change the timestamp</p>\n"}], "owner": {"reputation": 1689, "user_id": 611588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UPmiE.jpg?s=128&g=1", "display_name": "FastSolutions", "link": "https://stackoverflow.com/users/611588/fastsolutions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 28085625, "answer_count": 1, "score": 0, "last_activity_date": 1421920303, "creation_date": 1421832292, "question_id": 28063563, "link": "https://stackoverflow.com/questions/28063563/undefined-method-find-each-for-migration-runs-the-second-time", "title": "Undefined method find_each for migration - runs the second time", "body": "<p>When I run the following migration: \"20150121081105_update_interest_group_entries.rb\" </p>\n\n<pre><code>class UpdateInterestGroupEntries &lt; ActiveRecord::Migration\n  def change\n    InterestGroupTranslation.find_each do |itt|\n      if itt.alias.blank?\n        itt.alias = \"alias_interest_group_\" + Random.rand(100).to_s + itt.locale.to_s\n        itt.save!\n      end\n    end\n\n    PageTranslation.find_each do |page|\n      if page.alias.blank?\n        page.alias = \"alias_page_\" + Random.rand(100).to_s + page.locale.to_s\n        page.save!\n      end\n    end\n\n    TestimonialTranslation.find_each do |test|\n      if test.alias.blank?\n        test.alias = \"alias_test_\" + Random.rand(100).to_s + test.locale.to_s\n        test.save!\n      end\n    end\n\n    TestimonialInternalTranslation.find_each do |test_internal|\n      if test_internal.alias.blank?\n        test_internal.alias = \"alias_test_internal_\" + Random.rand(100).to_s + test_internal.locale.to_s\n        test_internal.save!\n      end\n    end\n\n    InterestGroupInternalTranslation.find_each do |ittinternal|\n      if ittinternal.alias.blank?\n        ittinternal.alias = \"alias_ittinternal_\" + Random.rand(100).to_s + ittinternal.locale.to_s\n        ittinternal.save!\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>It returns this error:</p>\n\n<pre><code>==  UpdateInterestGroupEntries: migrating =====================================\n-- find_each()\nrake aborted!\nStandardError: An error has occurred, this and all later migrations canceled:\n\nundefined method `find_each' for #&lt;ActiveRecord::Migration:0x007f98f8ca0e98&gt;/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:465:in `block in method_missing'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:438:in `block in say_with_time'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:438:in `say_with_time'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:458:in `method_missing'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:334:in `method_missing'\n/Users/Vincent/Documents/remsis/db/migrate/20150121081105_update_interest_group_entries.rb:31:in `change'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:407:in `block (2 levels) in migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:407:in `block in migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/connection_pool.rb:129:in `with_connection'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:389:in `migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:528:in `migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:720:in `block (2 levels) in migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:775:in `call'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:775:in `block in ddl_transaction'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/connection_adapters/abstract/database_statements.rb:192:in `transaction'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/transactions.rb:208:in `transaction'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:775:in `ddl_transaction'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:719:in `block in migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `each'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:700:in `migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:570:in `up'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/migration.rb:551:in `migrate'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/gems/activerecord-3.2.19/lib/active_record/railties/databases.rake:193:in `block (2 levels) in &lt;top (required)&gt;'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/bin/ruby_executable_hooks:15:in `eval'\n/Users/Vincent/.rvm/gems/ruby-1.9.3-p550/bin/ruby_executable_hooks:15:in `&lt;main&gt;'\n</code></pre>\n\n<p>So it fails on the following lines:</p>\n\n<pre><code>InterestGroupInternalTranslation.find_each do |ittinternal|\n  if ittinternal.alias.blank?\n    ittinternal.alias = \"alias_ittinternal_\" + Random.rand(100).to_s + ittinternal.locale.to_s\n    ittinternal.save!\n  end\nend\n</code></pre>\n\n<p>When I run the same line in Console it works fine:\n<img src=\"https://i.stack.imgur.com/B6FbS.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Strange thing is:</strong>\nWhen I run \"rake db:migrate\" a second time right after the first,it works as a charm and finishes it:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wruL1.png\" alt=\"enter image description here\"></p>\n\n<p>I'm running:</p>\n\n<p>ruby 1.9.3p550 (2014-10-27 revision 48165) [x86_64-darwin13.4.0]</p>\n\n<p>Rails 3.2.19</p>\n"}, {"tags": ["html", "ruby", "xpath", "nokogiri"], "answers": [{"comments": [{"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421867215, "post_id": 28063784, "comment_id": 44528907, "body": "Using <code>my_doc.at</code> or <code>my_doc.at_xpath</code> you can remove the <code>[1]</code> from the XPath, correct?"}, {"owner": {"reputation": 20027, "user_id": 1987598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s3j3n.jpg?s=128&g=1", "display_name": "Mathias M&#252;ller", "link": "https://stackoverflow.com/users/1987598/mathias-m%c3%bcller"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421867287, "post_id": 28063784, "comment_id": 44528949, "body": "@Phrogz Probably, is that Ruby syntax? What does it mean?"}, {"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 1, "creation_date": 1421867376, "post_id": 28063784, "comment_id": 44529006, "body": "Using Nokogiri the <code>at</code> and <code>at_xpath</code> methods will return only the first matching element instead of a collection of nodes."}, {"owner": {"reputation": 20027, "user_id": 1987598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s3j3n.jpg?s=128&g=1", "display_name": "Mathias M&#252;ller", "link": "https://stackoverflow.com/users/1987598/mathias-m%c3%bcller"}, "reply_to_user": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1421867519, "post_id": 28063784, "comment_id": 44529086, "body": "@Phrogz Yes, if you actually <i>want</i> to get one result only and if the first result is the wanted one. But thanks for the hint, I&#39;ll add this to the answer."}], "tags": [], "owner": {"reputation": 20027, "user_id": 1987598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/s3j3n.jpg?s=128&g=1", "display_name": "Mathias M&#252;ller", "link": "https://stackoverflow.com/users/1987598/mathias-m%c3%bcller"}, "is_accepted": true, "score": 1, "last_activity_date": 1421867661, "last_edit_date": 1421867661, "creation_date": 1421832984, "answer_id": 28063784, "question_id": 28063519, "link": "https://stackoverflow.com/questions/28063519/how-to-match-nearest-tag-backward-with-xpath/28063784#28063784", "title": "How to match nearest tag backward with XPath", "body": "<p>Yes, <code>//table[//td[text()='Foo']]</code> gives the outer table as the first result (not the only result) , but <code>//table[//td[text()='Foo']]/following-sibling::table//td</code> still retrieves <code>&lt;td&gt;Bar&lt;/td&gt;</code>.</p>\n\n<p>The problematic part of <code>//table[//td[text()='Foo']]</code> is the <code>//</code> in front of <code>td</code>, because it selects all descendant <code>td</code> elements:</p>\n\n<pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;td&gt;This is selected&lt;/td&gt;\n    &lt;td&gt;\n      &lt;table&gt;\n        &lt;tr&gt;\n          &lt;td&gt;This is also selected&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>You should use <code>//</code> only sparingly. I would use the expression</p>\n\n<pre><code>//table[tr/td = 'Foo']/following-sibling::table[1]/tr/td\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>: As suggested by Phrogz, in Nokogiri, instead of <code>[1]</code> in the expression above, you can use <code>at_xpath</code> as in</p>\n\n<pre><code>doc.at_xpath(//table[tr/td = 'Foo']/following-sibling::table/tr/td).text\n</code></pre>\n\n<p>to only get the first result node that was found. That is, if you actually intend to only find one node and if the wanted node is the first one in document order.</p>\n"}], "owner": {"reputation": 11845, "user_id": 1536527, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Sgr8O.png?s=128&g=1", "display_name": "ironsand", "link": "https://stackoverflow.com/users/1536527/ironsand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 28063784, "answer_count": 1, "score": 2, "last_activity_date": 1421867661, "creation_date": 1421832154, "last_edit_date": 1421833617, "question_id": 28063519, "link": "https://stackoverflow.com/questions/28063519/how-to-match-nearest-tag-backward-with-xpath", "title": "How to match nearest tag backward with XPath", "body": "<p>I have a HTML like this:</p>\n\n<pre><code>html =&lt;&lt;EOS\n&lt;table&gt;&lt;!-- outer table --&gt;\n  &lt;tr&gt;&lt;td&gt;\n    &lt;table&gt;&lt;!-- inner table 1 --&gt;\n      &lt;tr&gt;&lt;td&gt;Foo&lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;table&gt;&lt;!-- inner table 2 --&gt;\n      &lt;tr&gt;&lt;td&gt;Bar&lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n  &lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\nEOS\n</code></pre>\n\n<p>I want to get a changing value <code>Bar</code> from a static value <code>Foo</code>.</p>\n\n<p>With this code I can get the value.</p>\n\n<pre><code>Nokogiri::HTML(html)\ndoc.xpath(\"//table[tr/td[text()='Foo']]/following-sibling::table//td\").text\n</code></pre>\n\n<p>And I wanted to rewrite like this:</p>\n\n<pre><code>doc.xpath(\"//table[//td[text()='Foo']]/following-sibling::table//td\").text\n</code></pre>\n\n<p>But this code doesn't work because <code>//table[//td[text()='Foo']]</code> matches outer table not the inner table.</p>\n\n<p>Is there a expression for <code>nearest backward match</code> in XPath like this?</p>\n\n<p><code>//table[(nearest match expression)td[text()='Foo']]</code></p>\n"}, {"tags": ["ruby", "block"], "comments": [{"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 2, "creation_date": 1421831242, "post_id": 28063188, "comment_id": 44507022, "body": "because its the way ruby works. You can pass lambdas as args wherever you want though"}, {"owner": {"reputation": 25, "user_id": 4471859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c07e22410eda27a5c591a4c9c6814c1?s=128&d=identicon&r=PG&f=1", "display_name": "vike272727", "link": "https://stackoverflow.com/users/4471859/vike272727"}, "reply_to_user": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 0, "creation_date": 1421831822, "post_id": 28063188, "comment_id": 44507331, "body": "Great! so it&#39;s a rule. Okay so blocks can only be passes as last arguments, or what is the exact formal rule I haven&#39;t been able to find it anywhere."}, {"owner": {"reputation": 79161, "user_id": 1064226, "user_type": "registered", "profile_image": "https://graph.facebook.com/36912842/picture?type=large", "display_name": "Frederick Cheung", "link": "https://stackoverflow.com/users/1064226/frederick-cheung"}, "edited": false, "score": 0, "creation_date": 1421833229, "post_id": 28063188, "comment_id": 44508153, "body": "The second version is a syntax error for me (ruby 2.2)"}], "answers": [{"tags": [], "owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1421858471, "creation_date": 1421858471, "answer_id": 28072382, "question_id": 28063188, "link": "https://stackoverflow.com/questions/28063188/block-only-works-if-it-is-the-second-parameter/28072382#28072382", "title": "Block only works if it is the second parameter", "body": "<p>Consider that you can pass an unnamed block, which is very commonly done in Ruby.</p>\n\n<pre><code>adder { 41 }\n</code></pre>\n\n<p>And you can remove the <code>&amp;block</code> argument altogether.</p>\n\n<p>Named blocks must be the last argument.</p>\n\n<p>All methods can take a block.  Most simply do not do anything with a block.</p>\n\n<p><a href=\"http://www.ruby-doc.org/core-2.2.0/doc/syntax/calling_methods_rdoc.html#documentation\" rel=\"nofollow\">Documentation on Methods from ruby-doc.org for Ruby 2.2.0 states:</a></p>\n\n<blockquote>\n  <p>There are three types of arguments when sending a message, the\n  positional arguments, keyword (or named) arguments and the block\n  argument.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1421858967, "creation_date": 1421858967, "answer_id": 28072544, "question_id": 28063188, "link": "https://stackoverflow.com/questions/28063188/block-only-works-if-it-is-the-second-parameter/28072544#28072544", "title": "Block only works if it is the second parameter", "body": "<p>Only the last parameter can be used to capture a method's block. The general argument format (in order) is</p>\n\n<ol>\n<li>Mandatory arguments</li>\n<li>Optional arguments</li>\n<li>Splat</li>\n<li>More mandatory arguments</li>\n<li>Keyword arguments</li>\n<li>Block argument</li>\n</ol>\n\n<p>Note that the block argument is only needed for capturing the method's block as a Proc object, so you can leave it out of your <code>adder</code> method. Every Ruby method implicitly accepts a block.</p>\n"}], "owner": {"reputation": 25, "user_id": 4471859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c07e22410eda27a5c591a4c9c6814c1?s=128&d=identicon&r=PG&f=1", "display_name": "vike272727", "link": "https://stackoverflow.com/users/4471859/vike272727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 28072382, "answer_count": 2, "score": 1, "last_activity_date": 1421858967, "creation_date": 1421831019, "last_edit_date": 1421833110, "question_id": 28063188, "link": "https://stackoverflow.com/questions/28063188/block-only-works-if-it-is-the-second-parameter", "title": "Block only works if it is the second parameter", "body": "<p>I am making rspec tests pass. These are the tests:</p>\n\n<pre><code>describe \"adder\" do\n  it \"adds one to the value returned by the default block\" do\n    adder do\n      5\n    end.should == 6\n  end\n  it \"adds 3 to the value returned by the default block\" do\n    adder(3) do\n      5\n    end.should == 8\n  end\nend\n</code></pre>\n\n<p>This passes the tests:</p>\n\n<pre><code>def adder(n=1,&amp;block)\n  yield + n\nend\n</code></pre>\n\n<p>while this does not:</p>\n\n<pre><code>def adder(&amp;block,n=1)\n  yield + n\nend\n</code></pre>\n\n<p>It works only if I pass the block as the second argument. Why is this? Is this always the case with blocks, or is this just for this particular case?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "environment-variables", "production-environment"], "comments": [{"owner": {"reputation": 17502, "user_id": 512507, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7cad4b98cd14636d4d7d597fee0b76e3?s=128&d=identicon&r=PG", "display_name": "alf", "link": "https://stackoverflow.com/users/512507/alf"}, "edited": false, "score": 0, "creation_date": 1421836032, "post_id": 28063063, "comment_id": 44509872, "body": "are you populating the <code>.env</code> file too?"}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "reply_to_user": {"reputation": 17502, "user_id": 512507, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7cad4b98cd14636d4d7d597fee0b76e3?s=128&d=identicon&r=PG", "display_name": "alf", "link": "https://stackoverflow.com/users/512507/alf"}, "edited": false, "score": 0, "creation_date": 1421843544, "post_id": 28063063, "comment_id": 44514259, "body": "@alf no, do I need this?"}, {"owner": {"reputation": 17502, "user_id": 512507, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7cad4b98cd14636d4d7d597fee0b76e3?s=128&d=identicon&r=PG", "display_name": "alf", "link": "https://stackoverflow.com/users/512507/alf"}, "edited": false, "score": 0, "creation_date": 1421861078, "post_id": 28063063, "comment_id": 44525763, "body": "I haven&#39;t used it myself, but by looking at the source code it seems that the <code>.env</code> file is required and it should contain default values that can be shared and committed to the repo and work for the dev environment. Then you override those values in <code>.env.#{environment}</code>."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 3724235, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b4d1093eb902a67cbe7aa7c2a0c340d?s=128&d=identicon&r=PG&f=1", "display_name": "user3724235", "link": "https://stackoverflow.com/users/3724235/user3724235"}, "is_accepted": false, "score": 2, "last_activity_date": 1456821422, "creation_date": 1456821422, "answer_id": 35718080, "question_id": 28063063, "link": "https://stackoverflow.com/questions/28063063/how-to-use-dotenv-to-add-environment-variables-to-ruby-on-rails-application/35718080#35718080", "title": "How to use dotenv to add Environment Variables to ruby on rails application?", "body": "<p>In Rails 4.1, config/secrets.yml is the new default location for secret_key_base of your application. It can, however, be used also for storing other secret variables, making it a good place for environment-specific tokens, API keys etc.</p>\n\n<p>Fill the file with the secrets you want to store, for example:</p>\n\n<pre><code>development:\n  secret_key_base: your_development_secret\n  api_key: some_key\nproduction:\n  secret_key_base: your_production_secret\n  twitter_consumer_key: production_twitter_key\n  twitter_consumer_secret: production_twitter_secret\n  twitter_oauth_token: production_oauth_token\n  twitter_oauth_token_secret: production_oauth_secret\n</code></pre>\n\n<p>In your code, you can access these secrets with Rails.application.secrets: </p>\n\n<pre><code>Twitter.configure do |config|\n  config.consumer_key       = Rails.application.secrets.twitter_consumer_key\n  config.consumer_secret    = Rails.application.secrets.twitter_consumer_secret\n  config.oauth_token        = Rails.application.secrets.twitter_oauth_token\n  config.oauth_token_secret = Rails.application.secrets.twitter_oauth_token_secret\nend\n</code></pre>\n\n<p>The secrets.yml will be checked into git by default, add it to your .gitignore file.</p>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1456821422, "creation_date": 1421830604, "question_id": 28063063, "link": "https://stackoverflow.com/questions/28063063/how-to-use-dotenv-to-add-environment-variables-to-ruby-on-rails-application", "title": "How to use dotenv to add Environment Variables to ruby on rails application?", "body": "<p>I want to set <code>SECRET_KEY_BASE</code> which is used in <code>secrets.yml</code>:</p>\n\n<pre><code>production:\n  secret_key_base: &lt;%= ENV[\"SECRET_KEY_BASE\"] %&gt;\n</code></pre>\n\n<p>I have tried to add code as follow in <code>.profile</code>:</p>\n\n<pre><code>export SECRET_KEY_BASE=cfbc3b45d65db30b853cdc0557e0be85609cf75974ebb706f46a00abe09eee9454b3d311e48ee4157e1e5d5e3de5b8d2a329dff13871837cbaeae6af2bc2e42f\n</code></pre>\n\n<p>it works well, but this is still not that better, I know that <code>dotenv</code> can add this in a <code>.env</code> file in root path of app, so I add </p>\n\n<pre><code>gem 'dotenv-rails'\ngem 'dotenv-deployment'\n</code></pre>\n\n<p>then I add code as follow into <code>.env.production</code> in root path of rails app:</p>\n\n<pre><code>SECRET_KEY_BASE=cfbc3b45d65db30b853cdc0557e0be85609cf75974ebb706f46a00abe09eee9454b3d311e48ee4157e1e5d5e3de5b8d2a329dff13871837cbaeae6af2bc2e42f\n</code></pre>\n\n<p>But why this doesn't work?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "devise"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 4, "creation_date": 1421830525, "post_id": 28063015, "comment_id": 44506628, "body": "Did you run migration on heroku environment (<code>heroku run bundle exec rake db:migrate</code>)?"}, {"owner": {"reputation": 14407, "user_id": 3035830, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/14809f2ad7f14e2867798697ab8f8006?s=128&d=identicon&r=PG", "display_name": "shivam", "link": "https://stackoverflow.com/users/3035830/shivam"}, "edited": false, "score": 2, "creation_date": 1421830547, "post_id": 28063015, "comment_id": 44506639, "body": "try <code>rake db:migrate</code> seems like your tables are missing"}, {"owner": {"reputation": 1077, "user_id": 4269239, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jTw9F.jpg?s=128&g=1", "display_name": "Sachin Gevariya", "link": "https://stackoverflow.com/users/4269239/sachin-gevariya"}, "edited": false, "score": 1, "creation_date": 1421831941, "post_id": 28063015, "comment_id": 44507395, "body": "It seems like you have no users table on heroku. So for that as per above comments you need to do <code>rake db:migrate</code>   and then you need to try it."}, {"owner": {"reputation": 13, "user_id": 4164258, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1515292111/picture?type=large", "display_name": "Stephanie Kim", "link": "https://stackoverflow.com/users/4164258/stephanie-kim"}, "edited": false, "score": 0, "creation_date": 1421867005, "post_id": 28063015, "comment_id": 44528803, "body": "That fixed it thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 4164258, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1515292111/picture?type=large", "display_name": "Stephanie Kim", "link": "https://stackoverflow.com/users/4164258/stephanie-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1421867040, "creation_date": 1421867040, "answer_id": 28074832, "question_id": 28063015, "link": "https://stackoverflow.com/questions/28063015/login-doesnt-work-on-heroku-for-my-rails-app/28074832#28074832", "title": "Login doesn&#39;t work on heroku for my rails app", "body": "<p>Remember to run heroku run rake db:migrate!</p>\n"}], "owner": {"reputation": 13, "user_id": 4164258, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1515292111/picture?type=large", "display_name": "Stephanie Kim", "link": "https://stackoverflow.com/users/4164258/stephanie-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421867040, "creation_date": 1421830428, "question_id": 28063015, "link": "https://stackoverflow.com/questions/28063015/login-doesnt-work-on-heroku-for-my-rails-app", "title": "Login doesn&#39;t work on heroku for my rails app", "body": "<p>I'm using devise for authentication. It works fine locally, but on heroku when I try to login or sign up I get an error.</p>\n\n<p>Here's the heroku logs. I had to cut a lot of it out, because the apparently it's too much code to post -_-. I can post up more if needed. Thanks in advance!</p>\n\n<pre><code>    2015-01-21T08:46:21.690491+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/connection_adapters/postgresql_adapter.rb:733:in `column_definitions'\n2015-01-21T08:46:21.690522+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:169:in `block in halting'\n2015-01-21T08:46:21.690534+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:169:in `block in halting'\n2015-01-21T08:46:21.690548+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-\n2015-01-21T08:46:21.690505+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/devise-3.4.1/app/controllers/devise/registrations_controller.rb:7:in `new'\n2015-01-21T08:46:21.690519+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:234:in `block in halting'\n2015-01-21T08:46:21.690531+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:169:in `block in halting'\n2015-01-21T08:46:21.690541+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/callbacks.rb:151:in `block in halting_and_conditional'\n2015-01-21T08:46:21.690556+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n2015-01-21T08:46:21.690569+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_controller/metal.rb:236:in `block in action'\n2015-01-21T08:46:21.690579+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/journey/router.rb:30:in `serve'\n2015-01-21T08:46:21.690594+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'\n2015-01-21T08:46:21.690603+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activerecord-4.2.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'\n2015-01-21T08:46:21.690635+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/activesupport-4.2.0/lib/active_support/tagged_logging.rb:68:in `block in tagged'\n2015-01-21T08:46:21.690648+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/actionpack-4.2.0/lib/action_dispatch/middleware/static.rb:113:in `call'\n2015-01-21T08:46:21.688700+00:00 app[web.1]: PG::UndefinedTable: ERROR:  relation \"users\" does not exist\n2015-01-21T08:46:21.688715+00:00 app[web.1]:                  AND a.attnum &gt; 0 AND NOT a.attisdropped\n2015-01-21T08:46:21.690463+00:00 app[web.1]: :               SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n\n2015-01-21T08:46:21.690649+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.0/lib/rack/sendfile.rb:113:in `call'\n2015-01-21T08:46:21.690652+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/railties-4.2.0/lib/rails/application.rb:164:in `call'\n2015-01-21T08:46:21.690656+00:00 app[web.1]:   vendor/bundle/ruby/2.2.0/gems/rack-1.6.0/lib/rack/handler/webrick.rb:89:in `service'\n2015-01-21T08:46:21.921094+00:00 heroku[router]: at=info method=GET path=\"/favicon.ico\" host=murmuring-coast-6346.herokuapp.com request_id=4e931974-f7bf-429d-8659-98f3c016fd8d fwd=\"67.164.93.44\" dyno=web.1 connect=1ms service=4ms status=304 bytes=133\n2015-01-21T08:46:21.695443+00:00 heroku[router]: at=info method=GET path=\"/users/sign_up\" host=murmuring-coast-6346.herokuapp.com request_id=a148b692-c0a6-4998-8710-3a919b0c1025 fwd=\"67.164.93.44\" dyno=web.1 connect=2ms service=12ms status=500 bytes=1754\n</code></pre>\n\n<p><strong>Gemfile</strong></p>\n\n<pre><code>    source 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.2.0'\n# Use sqlite3 as the database for Active Record\ngroup :development, :test do \n    gem 'sqlite3'\nend\n\ngem 'devise'\n\ngem 'cancan'\n\ngem 'pg'\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~&gt; 4.1.0'\n# See https://github.com/sstephenson/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'jquery-turbolinks'\ngem 'turbolinks'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 2.0'\n# bundle exec rake doc:rails generates the API under doc/api.\ngem 'sdoc', '~&gt; 0.4.0', group: :doc\n\ngem 'rails_12factor', group: :production\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~&gt; 3.1.7'\n\n# Use Unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngem 'paperclip'\n\n\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\n\n  # Access an IRB console on exception pages or by using &lt;%= console %&gt; in views\n  gem 'web-console', '~&gt; 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n\n\n\n  ruby '2.2.0'\n\nend\n\n\ngem 'mocha', group: :test\n</code></pre>\n"}, {"tags": ["ruby", "json", "chef-infra"], "comments": [{"owner": {"reputation": 3, "user_id": 3264632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0020a5d0c06ef241300c9fa79dd9e89?s=128&d=identicon&r=PG&f=1", "display_name": "user3264632", "link": "https://stackoverflow.com/users/3264632/user3264632"}, "edited": false, "score": 0, "creation_date": 1421832909, "post_id": 28062951, "comment_id": 44507955, "body": "Also, if I run the exact same command from my chef-repo, it works correctly and uploads the json to data bag."}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1421836042, "post_id": 28062951, "comment_id": 44509875, "body": "To be sure, your json file path is <code>[...]&#47;chef-repo&#47;data_bags&#47;TestDB&#47;default_1.json</code> right ?"}, {"owner": {"reputation": 3, "user_id": 3264632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0020a5d0c06ef241300c9fa79dd9e89?s=128&d=identicon&r=PG&f=1", "display_name": "user3264632", "link": "https://stackoverflow.com/users/3264632/user3264632"}, "reply_to_user": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1421904671, "post_id": 28062951, "comment_id": 44542133, "body": "Yes it is, and code docs and .xls stored in chef-repo"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 3264632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0020a5d0c06ef241300c9fa79dd9e89?s=128&d=identicon&r=PG&f=1", "display_name": "user3264632", "link": "https://stackoverflow.com/users/3264632/user3264632"}, "is_accepted": true, "score": 0, "last_activity_date": 1421989873, "last_edit_date": 1421989873, "creation_date": 1421904948, "answer_id": 28081902, "question_id": 28062951, "link": "https://stackoverflow.com/questions/28062951/error-in-uploading-data-bag-from-ruby/28081902#28081902", "title": "Error in uploading Data bag from Ruby", "body": "<p>It surprisingly got sorted out! I stored all docs in chef-repo, and separated one file into  two, the first to convert .xls to json , and the other to execute knife commands . I now run both ruby scripts from chef-repo and the work just as expected. Phew!</p>\n"}], "owner": {"reputation": 3, "user_id": 3264632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0020a5d0c06ef241300c9fa79dd9e89?s=128&d=identicon&r=PG&f=1", "display_name": "user3264632", "link": "https://stackoverflow.com/users/3264632/user3264632"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 28081902, "answer_count": 1, "score": 0, "last_activity_date": 1421989873, "creation_date": 1421830189, "last_edit_date": 1421830773, "question_id": 28062951, "link": "https://stackoverflow.com/questions/28062951/error-in-uploading-data-bag-from-ruby", "title": "Error in uploading Data bag from Ruby", "body": "<p>I have designed code in ruby which converts my xls to json partially through spreadsheet and code. I need to upload this json to my data bag on chef-server. I am using knife commands from ruby code and running it. The json files upload to my local chef-repo correctly, but for transferring to chef-server  I am getting this error:</p>\n\n<pre><code>ERROR: Chef::Exceptions::ValidationFailed: Data Bag Items must contain a Hash or Mash!\n</code></pre>\n\n<p>I have validated the json, id matches name of file  and tried using [] braces at start and end but doesn't work. This is start of my json:</p>\n\n<p>{\n  \"id\": \"default_1\",\n  \"Sr.No\" : \"1\", ....} </p>\n\n<p>My ruby code essentials look like :</p>\n\n<pre><code> require 'spreadsheet'\n book = Spreadsheet.open('BI.xls')\n sheet1 = book.worksheet('Sheet1') \n.\n.\n.\ncmd1 = \"cd #{current_dir}/chef-repo\"\ncmd2 = \"knife data_bag create TestDB\" #tried knife data bag too\ncmd4 = \"knife data_bag from file TestDB default_1.json\" #tried knife data bag too\n\nupload = %x[#{cmd1} &amp;&amp; #{cmd2}  &amp;&amp; #{cmd4} ]\nputs \"#{upload}\"\n</code></pre>\n\n<p>The command <code>knife node list</code> shows nodes correctly. I am new to chef and ruby , searched and tried many things but not working.</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 1121, "user_id": 3563504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXEHR.png?s=128&g=1", "display_name": "Klaus", "link": "https://stackoverflow.com/users/3563504/klaus"}, "is_accepted": true, "score": 1, "last_activity_date": 1421834661, "creation_date": 1421834661, "answer_id": 28064361, "question_id": 28062617, "link": "https://stackoverflow.com/questions/28062617/loading-new-schema-in-database-without-deleting-existing-data-rails/28064361#28064361", "title": "loading new schema in database without deleting existing data rails", "body": "<p>If you have created the migrations to add some cols in existing tables or delete some tables, the <code>rake db:migrate RAILS_ENV=production</code> command will perform an \"ALTER table...\" without destroying your data, except you are dropping a col or table with data content.</p>\n\n<p>But it's always recommended to perform a database backup before altering your production database.</p>\n"}], "owner": {"reputation": 425, "user_id": 3290805, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/080d59701520ada5412673e5412fd903?s=128&d=identicon&r=PG&f=1", "display_name": "user3290805", "link": "https://stackoverflow.com/users/3290805/user3290805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 1, "accepted_answer_id": 28064361, "answer_count": 1, "score": 0, "last_activity_date": 1421834661, "creation_date": 1421828888, "last_edit_date": 1495540856, "question_id": 28062617, "link": "https://stackoverflow.com/questions/28062617/loading-new-schema-in-database-without-deleting-existing-data-rails", "title": "loading new schema in database without deleting existing data rails", "body": "<p>I have situation here, I have a database in production environment, and now I have to add few columns in table and drop 1 table from the database. I ran all the migrations such as <code>rails g migration AddDeskToHelper desk:string</code> and similar for dropping a table. </p>\n\n<p>But now I want to upload this new generated schema into existing database without deleting any data from the database. </p>\n\n<p>I'm searching about it and did not find any accurate answer.</p>\n\n<p>For example, <a href=\"https://stackoverflow.com/questions/5905287/rake-dbschemaload-vs-migrations\">here</a> \nit says that rake db:schema:load deletes all the data from Database in production environment. </p>\n\n<p>Kindly help me in this case.</p>\n"}, {"tags": ["ruby", "postgresql", "puma"], "comments": [{"owner": {"reputation": 13234, "user_id": 409792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9f1a530bb9d8cf91a889b4af5f80e9?s=128&d=identicon&r=PG", "display_name": "zwippie", "link": "https://stackoverflow.com/users/409792/zwippie"}, "edited": false, "score": 1, "creation_date": 1421830490, "post_id": 28062592, "comment_id": 44506608, "body": "Looks like they already made it an <a href=\"https://github.com/datamapper/do/issues/74\" rel=\"nofollow noreferrer\">issue on GitHub</a>. No fix as yet."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1555940, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d6117730e6948118b362c220f458b61f?s=128&d=identicon&r=PG", "display_name": "H P", "link": "https://stackoverflow.com/users/1555940/h-p"}, "edited": false, "score": 0, "creation_date": 1463717578, "post_id": 30170444, "comment_id": 62192892, "body": "I am using ruby-2.3.1 which I just upgraded to using chruby and ruby-install and get this error  /home/x/.gem/ruby/2.3.1/gems/activesupport-3.2.9/lib/active_&zwnj;&#8203;support/values/time_&zwnj;&#8203;zone.rb:270: warning: circular argument reference - now /home/x/.rubies/ruby-2.3.1/bin/ruby: symbol lookup error: /home/x/.gem/ruby/2.3.1/gems/json-1.7.6/lib/json/ext/generat&zwnj;&#8203;or.so: undefined symbol: rb_data_object_alloc  Any tips please?"}, {"owner": {"reputation": 6264, "user_id": 177665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbfd14c7c9b256708ba495e37f8fa3c8?s=128&d=identicon&r=PG", "display_name": "cbliard", "link": "https://stackoverflow.com/users/177665/cbliard"}, "reply_to_user": {"reputation": 101, "user_id": 1555940, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d6117730e6948118b362c220f458b61f?s=128&d=identicon&r=PG", "display_name": "H P", "link": "https://stackoverflow.com/users/1555940/h-p"}, "edited": false, "score": 0, "creation_date": 1463733637, "post_id": 30170444, "comment_id": 62200503, "body": "I do not know where this error comes from. Try upgrading the json gem. It seems to be a different issue. You should post a new question on StackOverfow."}], "tags": [], "owner": {"reputation": 6264, "user_id": 177665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbfd14c7c9b256708ba495e37f8fa3c8?s=128&d=identicon&r=PG", "display_name": "cbliard", "link": "https://stackoverflow.com/users/177665/cbliard"}, "is_accepted": true, "score": 7, "last_activity_date": 1431354749, "creation_date": 1431354749, "answer_id": 30170444, "question_id": 28062592, "link": "https://stackoverflow.com/questions/28062592/symbol-lookup-error-since-upgrading-to-ruby-2-2-0/30170444#30170444", "title": "Symbol lookup error since upgrading to Ruby 2.2.0", "body": "<p>The <code>pg</code> gem prior to version 0.14.1 uses the method <code>rb_thread_select</code>. This method was removed in Ruby 2.2. According to <a href=\"https://bitbucket.org/ged/ruby-pg/src/b859963462b23f3f07e05eadef59a678b87d9477/History.rdoc?at=default\">their history file</a>, version 0.15.0 released in March 2013 does not use it anymore:</p>\n\n<pre><code>== v0.15.0 [2013-03-03] Michael Granger &lt;ged@FaerieMUD.org&gt;\n\n[...]\n\nEnhancements:\n\n- Make use of rb_thread_fd_select() on Ruby 1.9 and avoid deprecated\n  rb_thread_select().\n\n[...]\n</code></pre>\n\n<p>So you may be using an old <code>pg</code> gem. Upgrading this gem to at least 0.15.0 should fix your issue.</p>\n"}], "owner": {"reputation": 20389, "user_id": 1620210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8f130b2fa9903fca10a10b31ed3f7b94?s=128&d=identicon&r=PG", "display_name": "Kokizzu", "link": "https://stackoverflow.com/users/1620210/kokizzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2239, "favorite_count": 0, "accepted_answer_id": 30170444, "answer_count": 1, "score": 6, "last_activity_date": 1431354749, "creation_date": 1421828767, "last_edit_date": 1421830010, "question_id": 28062592, "link": "https://stackoverflow.com/questions/28062592/symbol-lookup-error-since-upgrading-to-ruby-2-2-0", "title": "Symbol lookup error since upgrading to Ruby 2.2.0", "body": "<p>I got this error, since upgrading to 2.2.0, only happened when a http request sent to <code>puma</code>:</p>\n\n<pre><code>puma 2.10.2 (tcp://0.0.0.0:22555): symbol lookup error: \n  /usr/lib/ruby/gems/2.2.0/extensions/x86_64-linux/2.2.0/do_postgres-0.10.14/do_postgres/do_postgres.so: \n  undefined symbol: rb_thread_select\n</code></pre>\n\n<p>What are the cause and how to fix this?</p>\n\n<p>Downgrading to 2.1.5 fixes this problem anyway.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "nginx", "unicorn", "http-status-code-403"], "comments": [{"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421828787, "post_id": 28062555, "comment_id": 44505817, "body": "Are you sure what you have right permission for <code>nginx</code> user for your app directory?"}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "reply_to_user": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421828819, "post_id": 28062555, "comment_id": 44505828, "body": "@\u0417\u0435\u043b\u0451\u043d\u044b\u0439 how can I know this?"}, {"owner": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "edited": false, "score": 0, "creation_date": 1421828906, "post_id": 28062555, "comment_id": 44505866, "body": "I think that nginx also need user as config in nginx.conf."}, {"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421829105, "post_id": 28062555, "comment_id": 44505958, "body": "try change <code>user username;</code> directive in <code>nginx.conf</code> to same linux user <code>roger</code> in your case and realod all."}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "reply_to_user": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "edited": false, "score": 0, "creation_date": 1421829132, "post_id": 28062555, "comment_id": 44505973, "body": "@Sanjiv you mean add <code>user roger</code> in <code>nginx.conf</code>?"}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "reply_to_user": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421829301, "post_id": 28062555, "comment_id": 44506039, "body": "@\u0417\u0435\u043b\u0451\u043d\u044b\u0439 just now, I add <code>user roger</code> to <code>nginx.conf</code> and <code>sudo service nginx restart</code>, it still return 403"}, {"owner": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "reply_to_user": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421829850, "post_id": 28062555, "comment_id": 44506296, "body": "@\u0417\u0435\u043b\u0451\u043d\u044b\u0439  Can you see the permission of your app and ngnix.conf?"}, {"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "reply_to_user": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "edited": false, "score": 0, "creation_date": 1421829950, "post_id": 28062555, "comment_id": 44506340, "body": "@Sanjiv it is not my question, i never use <code>home</code> directory for rails app."}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "reply_to_user": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "edited": false, "score": 0, "creation_date": 1421830369, "post_id": 28062555, "comment_id": 44506537, "body": "@Sanjiv my rails app <code>hello_app</code> is <code>775</code>, my <code>nginx.conf</code> is <code>644</code>"}, {"owner": {"reputation": 1077, "user_id": 4269239, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jTw9F.jpg?s=128&g=1", "display_name": "Sachin Gevariya", "link": "https://stackoverflow.com/users/4269239/sachin-gevariya"}, "edited": false, "score": 0, "creation_date": 1421833167, "post_id": 28062555, "comment_id": 44508118, "body": "You can use this as ref: [<a href=\"http://stackoverflow.com/questions/19285355/nginx-403-error-directory-index-of-folder-is-forbidden](Click\" title=\"nginx 403 error directory index of folder is forbidden%5d(Click\">stackoverflow.com/questions/19285355/&hellip;</a> here)"}], "answers": [{"comments": [{"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "edited": false, "score": 0, "creation_date": 1421994052, "post_id": 28092403, "comment_id": 44583008, "body": "Thanks, you do help me a log, but can you tell me what is the <code>xxx.socket</code>, now my <code>&#47;home&#47;roger&#47;ruby_workspace&#47;hello_app&#47;tmp&#47;sockets&#47;</code> is empty and I do not find it in <a href=\"https://github.com/gitlabhq/gitlabhq/tree/master/tmp/sockets\" rel=\"nofollow noreferrer\">githq</a>"}, {"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "edited": false, "score": 1, "creation_date": 1422001277, "post_id": 28092403, "comment_id": 44585860, "body": "I have known what is <code>xxx.socket</code> via this post <a href=\"http://sleekd.com/general/configuring-nginx-and-unicorn/\" rel=\"nofollow noreferrer\">Configuring Nginx and Unicorn</a>"}], "tags": [], "owner": {"reputation": 1752, "user_id": 228067, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aK37f.jpg?s=128&g=1", "display_name": "sashaegorov", "link": "https://stackoverflow.com/users/228067/sashaegorov"}, "is_accepted": true, "score": 1, "last_activity_date": 1421940132, "creation_date": 1421940132, "answer_id": 28092403, "question_id": 28062555, "link": "https://stackoverflow.com/questions/28062555/ruby-on-rails-application-return-403-error-deploy-in-ubuntu-with-unicorn-and-ngi/28092403#28092403", "title": "Ruby on rails application return 403 error deploy in ubuntu with unicorn and nginx?", "body": "<p>Take a look on <a href=\"https://github.com/gitlabhq/gitlabhq/blob/master/lib/support/nginx/gitlab\" rel=\"nofollow\">this</a> Nginx configuration example as <strong>consistent</strong> and <strong>fully</strong> functional. This config describes <em>Nginx</em> proxying of <em>Rails app</em> runing on <em><a href=\"http://unicorn.bogomips.org/\" rel=\"nofollow\">Unicorn</a></em> via Unix socket. Now you ready to fix your config!:-)</p>\n\n<p>In order to use this config from example above, setup Unicorn to <strong>use socket</strong> (bit faster) or HTTP port. And make sure Unicorn starts correctly. Only after that you may continue.</p>\n\n<p>Please be sure <code>@hello_app</code> is correct upstream name in your config. Currently it's definition is absent in your code:</p>\n\n<pre><code>upstream hello_app{\n  # Update xxx.socket below:\n  server unix:/home/roger/ruby_workspace/hello_app/tmp/sockets/xxx.socket fail_timeout=0;\n  # Or use HTTP port here e.g.\n  # server http://hello_app\n}\n</code></pre>\n\n<p>Anyway it's much more easy to debug proxying, when everything behind it is working.</p>\n\n<p>Just in case, make sure you have assets precompilled;-)</p>\n\n<pre><code>$ RAILS_ENV=production bundle exec rake assets:precompile\n</code></pre>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 28092403, "answer_count": 1, "score": 0, "last_activity_date": 1421940132, "creation_date": 1421828643, "question_id": 28062555, "link": "https://stackoverflow.com/questions/28062555/ruby-on-rails-application-return-403-error-deploy-in-ubuntu-with-unicorn-and-ngi", "title": "Ruby on rails application return 403 error deploy in ubuntu with unicorn and nginx?", "body": "<p>I deploy a <code>ruby on rails</code> application in ubuntu. I have test my application with <code>RAILS_ENV=production rails s</code>, everything is ok. But with <code>unicorn</code> and <code>nginx</code>, I got 403 error.</p>\n\n<p>here is the error log:</p>\n\n<pre><code>2015/01/21 16:04:48 [error] 12432#0: *1 directory index of \"/home/roger/ruby_workspace/hello_app/public/\" is forbidden, client: 192.168.44.1, server: , request: \"GET / HTTP/1.1\", host: \"192.168.44.131\"\n</code></pre>\n\n<p>ll /home/roger/ruby_workspace/hello_app/public/ return</p>\n\n<pre><code>drwxrwxr-x  2 roger roger 4096  1\u6708 13 14:55 ./\ndrwxrwxr-x 14 roger roger 4096  1\u6708 19 22:30 ../\n-rwxrwxr-x  1 roger roger 1564  1\u6708 13 14:55 404.html*\n-rwxrwxr-x  1 roger roger 1547  1\u6708 13 14:55 422.html*\n-rwxrwxr-x  1 roger roger 1477  1\u6708 13 14:55 500.html*\n-rwxrwxr-x  1 roger roger    0  1\u6708 13 14:55 favicon.ico*\n-rwxrwxr-x  1 roger roger  202  1\u6708 13 14:55 robots.txt*\n</code></pre>\n\n<p>this is part of my nginx.conf:</p>\n\n<pre><code>server {\n    listen 80 default deferred;\n    root /home/roger/ruby_workspace/hello_app/public/;\n    try_files $uri/index.html $uri @hello_app;\n    client_max_body_size 128M;\n    keepalive_timeout 5;\n\n    access_log logs/host.access.log main;\n\n    location @hello_app {\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header HOST $http_host;\n        proxy_redirect off;\n        #proxy_pass http://hello_app;\n    }\n\n    error_page 500 502 503 504 /500.html;\n}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "forms"], "comments": [{"owner": {"reputation": 48413, "user_id": 1279683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1veuT.jpg?s=128&g=1", "display_name": "Marek Lipka", "link": "https://stackoverflow.com/users/1279683/marek-lipka"}, "edited": false, "score": 2, "creation_date": 1421827533, "post_id": 28062266, "comment_id": 44505312, "body": "It comes from <a href=\"https://github.com/plataformatec/simple_form\" rel=\"nofollow noreferrer\">simple_form</a> gem."}], "answers": [{"comments": [{"owner": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421828545, "post_id": 28062403, "comment_id": 44505713, "body": "Note: <code>SimpleForm</code> it is just wrappers around default <code>form_for</code> and <code>fields_for</code> helpers in <code>Rails</code>."}, {"owner": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "reply_to_user": {"reputation": 38307, "user_id": 2057388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ceef8c04f66cd0e2bd360ef6abc14a81?s=128&d=identicon&r=PG", "display_name": "\u0417\u0435\u043b\u0451\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/2057388/%d0%97%d0%b5%d0%bb%d1%91%d0%bd%d1%8b%d0%b9"}, "edited": false, "score": 0, "creation_date": 1421828781, "post_id": 28062403, "comment_id": 44505813, "body": "Yes, it is just wrappers around form_for and fields_for help"}], "tags": [], "owner": {"reputation": 643, "user_id": 2148560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104ea27c9f86094417685ce999daa2ea?s=128&d=identicon&r=PG", "display_name": "Sanjiv", "link": "https://stackoverflow.com/users/2148560/sanjiv"}, "is_accepted": true, "score": 4, "last_activity_date": 1421830990, "last_edit_date": 1421830990, "creation_date": 1421828007, "answer_id": 28062403, "question_id": 28062266, "link": "https://stackoverflow.com/questions/28062266/what-does-f-input-in-a-rails-form-do/28062403#28062403", "title": "What does f.input in a rails form do?", "body": "<p><code>f.inputs</code> is not defined in rails. You may be using \"simple-form\" gem. <a href=\"https://github.com/plataformatec/simple_form\" rel=\"nofollow\">Simple Form</a> has various views helpers to generates html contents. It has various method such as: <code>text</code>, <code>radio</code>, <code>email</code> however <code>:as =&gt; :transmission</code> options seems to be user defined as its not defined in \"simple form\" also. You can take look at <a href=\"https://github.com/plataformatec/simple_form/blob/master/lib/simple_form/action_view_extensions/form_helper.rb\" rel=\"nofollow\">https://github.com/plataformatec/simple_form/blob/master/lib/simple_form/action_view_extensions/form_helper.rb</a>. <code>f.input</code> work same as <code>f.textbox</code> or similar to rails but it has much more options than bare rails html helpers.</p>\n"}], "owner": {"reputation": 54, "user_id": 4440835, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9845b042951b9c1f6cff1cdda8e0d9b2?s=128&d=identicon&r=PG&f=1", "display_name": "Yui", "link": "https://stackoverflow.com/users/4440835/yui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4939, "favorite_count": 0, "accepted_answer_id": 28062403, "answer_count": 1, "score": 1, "last_activity_date": 1421830990, "creation_date": 1421827452, "question_id": 28062266, "link": "https://stackoverflow.com/questions/28062266/what-does-f-input-in-a-rails-form-do", "title": "What does f.input in a rails form do?", "body": "<p>I started to program with Rails after i finished some lessons in Ruby.\nWhen i looked at someone's code I got confused.\nIt looked like he makes some form using Rails but I just can't understand how it works.\nWell just take a look on the code... Hopefully you can help me to understand this:</p>\n\n<pre><code>=f.inputs do\n   =f.input :type, :as =&gt; :transmission, :label =&gt; false\n   =create_submit_link('Do something',:id=&gt;'transmit')\n</code></pre>\n\n<p>Now the f.input row will print me 3 rows of following stuff:\n(row 1): radio_button | labeltext | text_field; (row 2): 1x radio_button |labeltext| number_field; (row 3): radio_button |labeltext|</p>\n\n<p>How is that possible? :O</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "activerecord", "models"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 3590393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4bd5673e44de2179b28ab6ab01d6a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3590393", "link": "https://stackoverflow.com/users/3590393/user3590393"}, "is_accepted": false, "score": 2, "last_activity_date": 1423242283, "creation_date": 1423242283, "answer_id": 28370974, "question_id": 28061409, "link": "https://stackoverflow.com/questions/28061409/weird-issue-has-many-through-association-in-updated-rails/28370974#28370974", "title": "Weird issue has_many through association in updated Rails", "body": "<p>I had the same problem using ruby 2.2.0. For the specific project, I returned to my previous version, 2.1.3, and everything goes right.</p>\n"}, {"tags": [], "owner": {"reputation": 7503, "user_id": 139607, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/223395b4fdae9ca2b8512f8c1378d705?s=128&d=identicon&r=PG", "display_name": "Matthew O&#39;Riordan", "link": "https://stackoverflow.com/users/139607/matthew-oriordan"}, "is_accepted": true, "score": 4, "last_activity_date": 1424274065, "creation_date": 1424274065, "answer_id": 28587551, "question_id": 28061409, "link": "https://stackoverflow.com/questions/28061409/weird-issue-has-many-through-association-in-updated-rails/28587551#28587551", "title": "Weird issue has_many through association in updated Rails", "body": "<p>FYI, I can confirm this is an issue with ActiveRecord and Ruby 2.2.  I was using ActiveRecord 3.2 and since changing to the 3-2-stable branch, the issue is gone.  I believe this is fixed now in 4.x branches.  I have raised an issue for this at <a href=\"https://github.com/rails/rails/issues/18991\" rel=\"nofollow\">https://github.com/rails/rails/issues/18991</a>.</p>\n"}], "owner": {"reputation": 1998, "user_id": 1920622, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e79e2b4b00afb2d10594b1894cb7df87?s=128&d=identicon&r=PG", "display_name": "Laurent", "link": "https://stackoverflow.com/users/1920622/laurent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 28587551, "answer_count": 2, "score": 2, "last_activity_date": 1424277684, "creation_date": 1421823946, "question_id": 28061409, "link": "https://stackoverflow.com/questions/28061409/weird-issue-has-many-through-association-in-updated-rails", "title": "Weird issue has_many through association in updated Rails", "body": "<p>I updated from Ruby 2.1.2 to Ruby 2.2.0 and updated all the gems linked to it. I've a few models linked between each others like</p>\n\n<pre><code>class Question &lt; ActiveRecord::Base\n\n      belongs_to :course_version  \n      has_one :course, through: :course_version\n\n\n      has_many :answer_questions\n      has_many :answers, through: :answer_questions\n\nend\n\nclass AnswerQuestion &lt; ActiveRecord::Base\n\n      belongs_to :answer\n      belongs_to :question\n\nend\n\nclass Answer &lt; ActiveRecord::Base\n\n      has_many :answer_questions\n      has_many :questions, through: :answer_questions\n\nend\n</code></pre>\n\n<p>As you understood, we have questions that got answers and go through answer_questions to know what they got. It was working perfectly before I updated Ruby. Now when i do something like ...</p>\n\n<pre><code>my_question.answers &lt;&lt; my_answer\n</code></pre>\n\n<p>It literally blows up </p>\n\n<pre><code>NoMethodError: undefined method `name' for nil:NilClass\n    /Users/Loschcode/.rvm/gems/ruby-2.2.0/gems/activerecord-4.0.0/lib/active_record/associations/has_many_association.rb:80:in `cached_counter_attribute_name'\n    /Users/Loschcode/.rvm/gems/ruby-2.2.0/gems/activerecord-4.0.0/lib/active_record/associations/has_many_association.rb:76:in `has_cached_counter?'\n    /Users/Loschcode/.rvm/gems/ruby-2.2.0/gems/activerecord-4.0.0/lib/active_record/associations/has_many_association.rb:84:in `update_counter'\n</code></pre>\n\n<p><code>name</code> is a field which's supposed to be in the <code>questions</code> table. It's been a couple of hour I try to understand this ...</p>\n"}, {"tags": ["ruby", "exec", "capistrano"], "answers": [{"tags": [], "owner": {"reputation": 5130, "user_id": 1443478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4J9cr.jpg?s=128&g=1", "display_name": "Brennan", "link": "https://stackoverflow.com/users/1443478/brennan"}, "is_accepted": true, "score": 2, "last_activity_date": 1421819478, "creation_date": 1421819478, "answer_id": 28060464, "question_id": 28060422, "link": "https://stackoverflow.com/questions/28060422/how-do-you-split-long-exec-commands-up/28060464#28060464", "title": "How do you split long exec commands up?", "body": "<p>You can split string up into separate lines:</p>\n\n<pre><code>exec \"bundle install &amp;&amp; \" +\n     \"apt-get install nginx &amp;&amp; \" +\n     \"cat file\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 4, "last_activity_date": 1421820242, "creation_date": 1421820242, "answer_id": 28060604, "question_id": 28060422, "link": "https://stackoverflow.com/questions/28060422/how-do-you-split-long-exec-commands-up/28060604#28060604", "title": "How do you split long exec commands up?", "body": "<p>What about</p>\n\n<pre><code>exec [\n  'bundle exec promiscuous publish \"Xaaron::User.all\"',\n  'bundle exec promiscuous publish \"Xaaron::Role.all\"',\n  'bundle exec promiscuous publish \"Xaaron::Permission.all\"',\n  'bundle exec promiscuous publish \"Xaaron::ApiKey.all\"',\n].join(\" &amp;&amp; \")\n</code></pre>\n\n<p>or in this particular case,</p>\n\n<pre><code>exec %w[User Role Permission ApiKey]\n.map{|e| \"bundle exec promiscuous publish \\\"Xaaron::#{e}.all\\\"\"}.join(\" &amp;&amp; \")\n</code></pre>\n"}], "owner": {"reputation": 9945, "user_id": 1270259, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f8493a9385dae9f438379050d76ac2bf?s=128&d=identicon&r=PG", "display_name": "TheWebs", "link": "https://stackoverflow.com/users/1270259/thewebs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 28060464, "answer_count": 2, "score": 0, "last_activity_date": 1421820242, "creation_date": 1421819219, "question_id": 28060422, "link": "https://stackoverflow.com/questions/28060422/how-do-you-split-long-exec-commands-up", "title": "How do you split long exec commands up?", "body": "<p>in ruby when you are writing a deploy script say in capistrano, you can use <code>exec</code> to run commands, how ever what do you do when you have an exec line this long:</p>\n\n<pre><code>exec 'bundle exec promiscuous publish \"Xaaron::User.all\" &amp;&amp; bundle exec promiscuous publish \"Xaaron::Role.all\" &amp;&amp; bundle exec promiscuous publish \"Xaaron::Permission.all\" &amp;&amp; bundle exec promiscuous publish \"Xaaron::ApiKey.all\"'\n</code></pre>\n\n<p>It works, it runs, it does what I want, but I have to add more to it. And its a bit long. So how do I break it up into multiple lines and still have it run normally?</p>\n"}, {"tags": ["ruby", "rspec", "web-scraping", "tdd", "mechanize"], "comments": [{"owner": {"reputation": 1440, "user_id": 3839549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477123df7db174c0b2739f0e6ac9b20e?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Slutzkin", "link": "https://stackoverflow.com/users/3839549/dave-slutzkin"}, "edited": false, "score": 0, "creation_date": 1421819284, "post_id": 28060001, "comment_id": 44502147, "body": "Where did the downloaded <code>login_page.html</code> file come from? The right way to do this is usually to use the excellent <a href=\"https://github.com/vcr/vcr\" rel=\"nofollow noreferrer\">VCR gem</a> to do all the page recording and replaying for you."}, {"owner": {"reputation": 476, "user_id": 3976494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YdvPl.jpg?s=128&g=1", "display_name": "Hunter", "link": "https://stackoverflow.com/users/3976494/hunter"}, "reply_to_user": {"reputation": 1440, "user_id": 3839549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477123df7db174c0b2739f0e6ac9b20e?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Slutzkin", "link": "https://stackoverflow.com/users/3839549/dave-slutzkin"}, "edited": false, "score": 0, "creation_date": 1421823533, "post_id": 28060001, "comment_id": 44503686, "body": "@Dave It was the login page from the website i&#39;m accessing.  I downloaded the source code"}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1421893879, "post_id": 28060001, "comment_id": 44539385, "body": "You don&#39;t need FakeWeb for this, just use the <code>Mechanize::Page</code> constructor"}, {"owner": {"reputation": 1440, "user_id": 3839549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477123df7db174c0b2739f0e6ac9b20e?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Slutzkin", "link": "https://stackoverflow.com/users/3839549/dave-slutzkin"}, "edited": false, "score": 0, "creation_date": 1421973271, "post_id": 28060001, "comment_id": 44577798, "body": "@Hunter don&#39;t download it yourself, use VCR (as I said earlier) which will take care of all that."}], "owner": {"reputation": 476, "user_id": 3976494, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YdvPl.jpg?s=128&g=1", "display_name": "Hunter", "link": "https://stackoverflow.com/users/3976494/hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421817010, "creation_date": 1421816798, "last_edit_date": 1421817010, "question_id": 28060001, "link": "https://stackoverflow.com/questions/28060001/mechanize-ruby-gem-not-recognizing-a-form-from-a-saved-html-file-but-it-recog", "title": "Mechanize (Ruby gem) not recognizing a form from a saved HTML file, but it recognizes the form when accessing the actual website?", "body": "<p>I'm trying to write Rspec tests for my Mechanize agent. </p>\n\n<p>My agent is supposed to go to a website, log into the form, then scrape some data off the website. I also downloaded FakeWeb to stub the HTTP requests, and make my tests faster.</p>\n\n<p>Here is my account_spec.spec file:</p>\n\n<pre><code>require 'spec_helper'\n\ndescribe Account do\n  before(:each) { @account = Account.new('bob', '1234') }\n\n  describe '#login' do\n    before(:each) do\n      home_page = File.read('spec/html/home_page.html')\n      login_page = File.read('spec/html/login_page.html')\n\n      FakeWeb.register_uri(:get, \n        \"https://www.example.com/\",\n        body: home_page,\n        status: [\"200\", \"Success\"],\n        content_type: \"text/html\")\n\n      FakeWeb.register_uri(:get,\n        \"https://www.example.com/account/login\",\n        body: login_page,\n        status: [\"200\", \"Success\"],\n        content_type: \"text/html\")\n\n      @web_crawler = Mechanize.new\n      @home_page = @web_crawler.get(\"https://www.example.com/\")\n      @login_page = @web_crawler.get(\"https://www.example.com/account/login\")\n    end # -- before :each\n\n    it 'finds the login form' do\n      login_form = @login_page.form_with(:class =&gt; \"form login\")\n      puts login_form.class   # ==&gt; nil:NilClass\n    end\n  end # -- #login\n\nend # -- Account\n</code></pre>\n\n<p>However, when I comment out the FakeWeb uri for <code>example/account/login</code> (it then accesses the real server), it actually returns the correct form. Basically, if I am searching for the form in my locally saved HTML file, Mechanize can not find it, but if I check the actual website, it does find it. I would like to know if there is a way around this, and why this happens.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["ruby", "ajax", "load", "sinatra", "erb"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1433908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb55dc8ff58f336cddf1e895e62e4ae?s=128&d=identicon&r=PG", "display_name": "imtuned", "link": "https://stackoverflow.com/users/1433908/imtuned"}, "edited": false, "score": 1, "creation_date": 1421865397, "post_id": 28072922, "comment_id": 44527996, "body": "Thank you! That&#39;s perfect!"}], "tags": [], "owner": {"reputation": 11068, "user_id": 335847, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/o0AC7.png?s=128&g=1", "display_name": "iain", "link": "https://stackoverflow.com/users/335847/iain"}, "is_accepted": true, "score": 2, "last_activity_date": 1421860123, "creation_date": 1421860123, "answer_id": 28072922, "question_id": 28059926, "link": "https://stackoverflow.com/questions/28059926/speed-up-sinatra-page-load-with-ajax/28072922#28072922", "title": "Speed up Sinatra page load with Ajax?", "body": "<p>You are correct, it may help. The old mantra of \"separate that which changes from that which does not\" is applicable in any part of programming.</p>\n\n<p>Here's route that returns some data:</p>\n\n<pre><code>require 'json'\nget \"/time-now/?\" do\n  content_type :json\n  {time: Time.now.to_s}.to_json\nend\n</code></pre>\n\n<p>and here's some javascript (<a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">jQuery ajax</a>) to call it:</p>\n\n<pre><code>$.ajax({\n  accepts: \"application/json\",\n  type: \"GET\",\n  url: \"/time-now\",\n  dataType: \"json\",\n  success: function(res, status, xhr) {\n    return [$(\"#time\").html(res)];\n  },\n  error: function(res, status, xhr) {\n    return [$(\"#time\").addClass(\"error\")];\n  },\n  complete: function(res, status, xhr) {\n    return [$(\"#button1\").show()];\n  }\n});\n</code></pre>\n\n<p>(that bit of jQuery may be a little bit wrong, just warning you, it's a copy 'n paste job hacked to fit this example)</p>\n\n<p>Perhaps you could stop serving user pages from Sinatra routes and use static (i.e. prebuilt) pages with javascript in them that make AJAX calls to Sinatra routes. Or a mixture of the two types. Then you've got the start of a web service data API. There are lots of javascript frameworks to help with this, (e.g. Ember, Backbone, Angular and many more) and plenty of API builders alongside Sinatra, like <a href=\"https://github.com/intridea/grape\" rel=\"nofollow\">Grape</a> and <a href=\"https://github.com/mattetti/Weasel-Diesel\" rel=\"nofollow\">Weasel Diesel</a>.</p>\n"}], "owner": {"reputation": 57, "user_id": 1433908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb55dc8ff58f336cddf1e895e62e4ae?s=128&d=identicon&r=PG", "display_name": "imtuned", "link": "https://stackoverflow.com/users/1433908/imtuned"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 28072922, "answer_count": 1, "score": 1, "last_activity_date": 1421860123, "creation_date": 1421816379, "last_edit_date": 1421831181, "question_id": 28059926, "link": "https://stackoverflow.com/questions/28059926/speed-up-sinatra-page-load-with-ajax", "title": "Speed up Sinatra page load with Ajax?", "body": "<p>I am using the Sinatra to develop a web application but I am running into long page load time issue.</p>\n\n<p>The application goes through and display a lot of data so I am sure this is the cause but I was wondering if there was a way to have the main erb layout of the page load first and then after that load, the data loads on top of it.</p>\n\n<p>My first thought was AJAX but I am not sure how I would implement this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby", "gem", "rubygems", "bundler", "gemfile"], "answers": [{"comments": [{"owner": {"reputation": 1803, "user_id": 1330926, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/JIPkr.jpg?s=128&g=1", "display_name": "Ryo", "link": "https://stackoverflow.com/users/1330926/ryo"}, "edited": false, "score": 0, "creation_date": 1421823305, "post_id": 28059729, "comment_id": 44503570, "body": "Looks like it was my misunderstanding. Thanks!"}], "tags": [], "owner": {"reputation": 4281, "user_id": 1491850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd1125371f70fe174275e950d64885b7?s=128&d=identicon&r=PG", "display_name": "Daniel Perez", "link": "https://stackoverflow.com/users/1491850/daniel-perez"}, "is_accepted": true, "score": 1, "last_activity_date": 1421815287, "creation_date": 1421815287, "answer_id": 28059729, "question_id": 28059477, "link": "https://stackoverflow.com/questions/28059477/bundler-using-shared-gem-when-it-exists-rather-than-downloading-from-gem-serve/28059729#28059729", "title": "Bundler: using shared gem when it exists, rather than downloading from gem server", "body": "<p>This is the current behavior.\nWhen running <code>gem install</code>, directly or via <code>bundle install</code>, <code>gem</code> will first build a dependency graph with all the needed gems. If the <code>gem</code> is found locally it will use it, otherwise it will try to download it from the specified source.</p>\n\n<p>If you want, try it yourself.</p>\n\n<pre><code>bundle gem gem_a\nbundle gem gem_b\ncd gem_a\nvim gem_a.gemspec\n</code></pre>\n\n<p>add </p>\n\n<pre><code>spec.add_dependency 'multi_json', '~&gt; 1.10.1'\n</code></pre>\n\n<p>or any dependency you want to the gem and run bundle install.</p>\n\n<pre><code>cd ../gem_b\nvim Gemfile\n</code></pre>\n\n<p>and add</p>\n\n<pre><code>gem 'gem_a', path: '../gem_a'\n</code></pre>\n\n<p>then run</p>\n\n<pre><code>bundle install --verbose\n</code></pre>\n\n<p>you will see that the <code>multi_json</code> or whatever dependency of <code>gem_a</code> uses the local version and does not download anything.</p>\n\n<p>This is of course also true for gems from remote sources.</p>\n"}], "owner": {"reputation": 1803, "user_id": 1330926, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/JIPkr.jpg?s=128&g=1", "display_name": "Ryo", "link": "https://stackoverflow.com/users/1330926/ryo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28059729, "answer_count": 1, "score": 0, "last_activity_date": 1421815287, "creation_date": 1421813320, "last_edit_date": 1495539810, "question_id": 28059477, "link": "https://stackoverflow.com/questions/28059477/bundler-using-shared-gem-when-it-exists-rather-than-downloading-from-gem-serve", "title": "Bundler: using shared gem when it exists, rather than downloading from gem server", "body": "<p>Say, I have Gemfile like following.</p>\n\n<pre><code>source \"GEM_REPOSITORY\"\n\ngem 'gem_A'\n# gem_A has no additional dependency\n\ngem 'gem_B'\n# gem_B depends on gem_B_1 and gem_B_2\n</code></pre>\n\n<p>When I run <code>bundle install</code>, I want Bundler to do the following.</p>\n\n<ol>\n<li><p>If a gem already exists in \"local system-wide gems\", it copies the gem from local.</p></li>\n<li><p>If a gem doesn't exist in local, it looks for GEM_REPOSITORY.</p></li>\n</ol>\n\n<p>I looked for some related articles, and found some of likely-answers like </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16072412/ruby-bundler-multiple-sources-in-gemfile\">Ruby Bundler multiple sources in Gemfile</a></li>\n<li><a href=\"http://bundler.io/v1.3/man/gemfile.5.html#SOURCE-PRIORITY\" rel=\"nofollow noreferrer\">SOURCE PRIORITY</a></li>\n</ul>\n\n<p>But none of the above looks like the answer for me.\nUsing source repository priority does't work. Because in the example above, if dependent gem (say, <code>gem_B_1</code>) exits in local but the target gem (<code>gem_B</code>) doesn't exist in local, it'll download both of above from the remote repository.</p>\n\n<p>Are there any work around for doing this?\nIf not, don't you guys think it's necessary considering the cost of the implementation and the effect?</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "nginx", "passenger"], "answers": [{"comments": [{"owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "edited": false, "score": 1, "creation_date": 1421827340, "post_id": 28061463, "comment_id": 44505251, "body": "why <code>application.js</code>? why not <code>Gemfile</code>?"}, {"owner": {"reputation": 2351, "user_id": 1238111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLdRX.jpg?s=128&g=1", "display_name": "Shamsul Haque", "link": "https://stackoverflow.com/users/1238111/shamsul-haque"}, "reply_to_user": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "edited": false, "score": 0, "creation_date": 1421832070, "post_id": 28061463, "comment_id": 44507467, "body": "Sorry, it should be in <code>Gemfile</code>."}], "tags": [], "owner": {"reputation": 2351, "user_id": 1238111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLdRX.jpg?s=128&g=1", "display_name": "Shamsul Haque", "link": "https://stackoverflow.com/users/1238111/shamsul-haque"}, "is_accepted": false, "score": 0, "last_activity_date": 1421832013, "last_edit_date": 1421832013, "creation_date": 1421824220, "answer_id": 28061463, "question_id": 28059405, "link": "https://stackoverflow.com/questions/28059405/ruby-on-rails-application-cannot-find-a-javascript-runtime-in-production-environ/28061463#28061463", "title": "Ruby on rails application cannot find a JavaScript runtime in production environment(deploy with passenger and nginx)?", "body": "<p>Add this line in <code>Gemfile</code> file:-</p>\n\n<pre><code>gem 'therubyracer'\n</code></pre>\n\n<p>Then:-</p>\n\n<pre><code>bundle install\n</code></pre>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421832013, "creation_date": 1421812847, "last_edit_date": 1421815083, "question_id": 28059405, "link": "https://stackoverflow.com/questions/28059405/ruby-on-rails-application-cannot-find-a-javascript-runtime-in-production-environ", "title": "Ruby on rails application cannot find a JavaScript runtime in production environment(deploy with passenger and nginx)?", "body": "<p>I deployed a <code>ruby on rails</code> application in ubuntu with <code>passenger</code> and <code>nginx</code>, but it returned a 500 error.</p>\n\n<p>I read the log, It is because <code>Could not find a JavaScript runtime.</code>, but I have installed <code>node.js</code> in my server(and it runs node ok).</p>\n\n<p>Here is the error log:</p>\n\n<pre><code>Could not spawn process for application /home/roger/ruby_workspace/blog: An error occured while starting up the preloader.\n  Error ID: f57c8900\n  Error details saved to: /tmp/passenger-error-tIcmuB.html\n  Message from application: Could not find a JavaScript runtime. See https://github.com/sstephenson/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/execjs-2.2.2/lib/execjs/runtimes.rb:51:in `autodetect'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/execjs-2.2.2/lib/execjs.rb:5:in `&lt;module:ExecJS&gt;'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/execjs-2.2.2/lib/execjs.rb:4:in `&lt;top (required)&gt;'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/uglifier-2.7.0/lib/uglifier.rb:3:in `require'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/uglifier-2.7.0/lib/uglifier.rb:3:in `&lt;top (required)&gt;'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:76:in `require'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:76:in `block (2 levels) in require'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:72:in `each'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:72:in `block in require'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:61:in `each'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler/runtime.rb:61:in `require'\n  /home/roger/.rvm/gems/ruby-2.2.0@global/gems/bundler-1.7.11/lib/bundler.rb:134:in `require'\n  /home/roger/ruby_workspace/blog/config/application.rb:7:in `&lt;top (required)&gt;'\n  /home/roger/ruby_workspace/blog/config/environment.rb:2:in `require'\n  /home/roger/ruby_workspace/blog/config/environment.rb:2:in `&lt;top (required)&gt;'\n  config.ru:3:in `require'\n  config.ru:3:in `block in &lt;main&gt;'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'\n  /home/roger/ruby_workspace/blog/vendor/bundle/ruby/2.2.0/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'\n  config.ru:1:in `new'\n  config.ru:1:in `&lt;main&gt;'\n  /opt/passenger/passenger-4.0.57/helper-scripts/rack-preloader.rb:112:in `eval'\n  /opt/passenger/passenger-4.0.57/helper-scripts/rack-preloader.rb:112:in `preload_app'\n  /opt/passenger/passenger-4.0.57/helper-scripts/rack-preloader.rb:158:in `&lt;module:App&gt;'\n  /opt/passenger/passenger-4.0.57/helper-scripts/rack-preloader.rb:29:in `&lt;module:PhusionPassenger&gt;'\n  /opt/passenger/passenger-4.0.57/helper-scripts/rack-preloader.rb:28:in `&lt;main&gt;'\n</code></pre>\n\n<p>And the enviroment.rb:</p>\n\n<pre><code># Load the Rails application.\nrequire File.expand_path('../application', __FILE__)\n\n# Initialize the Rails application.\nRails.application.initialize!\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 3487168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clBNM.png?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/3487168/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1421814319, "creation_date": 1421814319, "answer_id": 28059604, "question_id": 28059390, "link": "https://stackoverflow.com/questions/28059390/reading-custom-js-files-in-rails-4-1/28059604#28059604", "title": "Reading custom JS Files in rails 4.1", "body": "<p>Just add another comma and include the name of the .js file. So if you wanted a special javascript file for your form validations called form.js on a particular view you would put the following code...</p>\n\n<pre><code>&lt;%= javascript_include_tag \"form\" %&gt;\n</code></pre>\n\n<p>If you wanted multiple javascript files for 1 view it would look like this</p>\n\n<pre><code>&lt;%= javascript_include_tag \"form\", \"script_2\", \"script_3\" %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1421817676, "creation_date": 1421817676, "answer_id": 28060149, "question_id": 28059390, "link": "https://stackoverflow.com/questions/28059390/reading-custom-js-files-in-rails-4-1/28060149#28060149", "title": "Reading custom JS Files in rails 4.1", "body": "<p>Sure, put this on your page:</p>\n\n<pre><code>&lt;script src=\"myscript.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and put myscript.js in the <code>public/</code> directory.</p>\n"}], "owner": {"reputation": 11, "user_id": 3601815, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9e89ca7f92a253d05b510cad3a4727c3?s=128&d=identicon&r=PG&f=1", "display_name": "jmfernandez", "link": "https://stackoverflow.com/users/3601815/jmfernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1421817676, "creation_date": 1421812726, "last_edit_date": 1421815455, "question_id": 28059390, "link": "https://stackoverflow.com/questions/28059390/reading-custom-js-files-in-rails-4-1", "title": "Reading custom JS Files in rails 4.1", "body": "<p>In my Rails 4.1 project I have the following code: </p>\n\n<pre><code>{\n    &lt;% = javascript_include_tag \"application\", \"data-turbolinks-track\" =&gt; true%&gt; \n}\n</code></pre>\n\n<p>which I load all my js files with extention. My question is if there is another way to load the .js files that are only of resources necessary for a given form ??????</p>\n"}, {"tags": ["ruby", "rack-pow"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421811461, "post_id": 28059138, "comment_id": 44499830, "body": "thanks for the response. Makes more sense now. I did type those things into the terminal and then it just said &quot;file exists&quot;. When I opened up the browser it just said the same thing &quot;Application not found Symlink your app to ~/.pow/test first&quot;"}, {"owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "reply_to_user": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421811602, "post_id": 28059138, "comment_id": 44499878, "body": "so if you go to ~/.pow directory do you see the symlink there?"}, {"owner": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421815679, "post_id": 28059138, "comment_id": 44500954, "body": "I don&#39;t really know....i type ls -1 and i see 5 names...all of which  are names I have tried to symlink. Pardon my ignorance, I don&#39;t get anything when i go to mydirectory.dev. it says 404 error. if i type in anyting else.dev it gives me the same application not found thing"}, {"owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "reply_to_user": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 1, "creation_date": 1421815825, "post_id": 28059138, "comment_id": 44500982, "body": "If you get 404 error when you go to mydirectory.dev, then POW is already working. Its your ruby application that is not working. If you are getting application not found in other url, your application is not set up properly."}, {"owner": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421816211, "post_id": 28059138, "comment_id": 44501093, "body": "ok. thank you for helping me out. all i was trying to do was set up codekit so i could develop sites locally. i guess that was the wrong idea."}, {"owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "reply_to_user": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421818130, "post_id": 28059138, "comment_id": 44501750, "body": "there is nothing wrong with using up codekit. if you define your problem in more detail, I can help you set that up. Also please consider marking this question resolved."}, {"owner": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "edited": false, "score": 0, "creation_date": 1421904033, "post_id": 28059138, "comment_id": 44541947, "body": "if you could still help me out, I would really appreciate it. was a little busy earlier, didn&#39;t see your response. basically, I am trying to run multiple wordpress servers at once. I have mamp set up and working but after this point I am lost. I tried symlinking the right folder but I keep getting nothing when i check the url, webpage not available error. I figure I am not doing the pow part correctly. BTW, when i am symlinking my directory the terminal doesnt show any sort of response or anything."}], "tags": [], "owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "is_accepted": false, "score": 2, "last_activity_date": 1493357314, "last_edit_date": 1493357314, "creation_date": 1421810944, "answer_id": 28059138, "question_id": 28059037, "link": "https://stackoverflow.com/questions/28059037/application-not-found-when-using-pow/28059138#28059138", "title": "&quot;Application not found&quot; when using Pow", "body": "<p>Symlinks are basically a shortcut to the main folder. So in order for <code>POW</code> to work, you will need to create shortcut of your directory in <code>.pow</code> directory. That's where <code>POW</code> looks for directories. </p>\n\n<p><code>/path/to/myapp</code> is the path to the directory where your development files are. In your case, as its in desktop the path will be <code>~/Desktop/your_directory</code></p>\n\n<p>Open up your terminal and type the following:</p>\n\n<pre><code># changes directory to ~/.pow\n$ cd ~/.pow \n\n# creates symlink (shortcut) of your_directory in .pow directory\n$ ln -s ~/Desktop/your_directory\n</code></pre>\n\n<p>Now in your browser, if you go to <code>http://your_directory.dev/</code>, your application should be ready.</p>\n\n<p><strong>Update</strong></p>\n\n<p>As of php 5.4 there is a build in server. Which means, you can just do the following to access your website in the browser.</p>\n\n<pre><code>$ cd ~/Desktop/your_directory  // or whereever your php project is\n$ php -S localhost:8000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238, "user_id": 5386570, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db9905de7b5d8800f17e83503ba26243?s=128&d=identicon&r=PG&f=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/5386570/rex"}, "is_accepted": true, "score": 1, "last_activity_date": 1446771816, "creation_date": 1446771816, "answer_id": 33557752, "question_id": 28059037, "link": "https://stackoverflow.com/questions/28059037/application-not-found-when-using-pow/33557752#33557752", "title": "&quot;Application not found&quot; when using Pow", "body": "<p>Okay, I had the same problem, but I found the solution.</p>\n\n<p>During the second step, when creating the symlink, make sure you not only provide the path, but also give the symlink folder a name. Otherwise, you have created a folder that doesn't link you to anywhere. Hence in the terminal, telling you the file exist, but it fact it doesn't work.</p>\n\n<p><code>ln -s /path/to/myapp myapp</code>\ninstead of <code>ln -s /path/to/myapp</code></p>\n\n<p>Check this out: <a href=\"http://osr507doc.sco.com/en/OSUserG/_Creating_link_to_file.html\" rel=\"nofollow\">http://osr507doc.sco.com/en/OSUserG/_Creating_link_to_file.html</a></p>\n"}], "owner": {"reputation": 323, "user_id": 4476481, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c3891647c38c7df8f39fbc77122ba04e?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4476481/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 1, "accepted_answer_id": 33557752, "answer_count": 2, "score": 1, "last_activity_date": 1539422896, "creation_date": 1421810130, "last_edit_date": 1539422896, "question_id": 28059037, "link": "https://stackoverflow.com/questions/28059037/application-not-found-when-using-pow", "title": "&quot;Application not found&quot; when using Pow", "body": "<p>I have POW installed, but I do not understand how to symlink to my <code>app</code>. </p>\n\n<p>The example they use has <code>/path/to/myapp</code>. I really don't get what path I put in here. </p>\n\n<p>I have a folder on my desktop that I wanted to use for my development files. Do I put that file path in here? </p>\n\n<p>I know this is basic, but the guides they have online don't clarify this part. </p>\n\n<p>I keep trying to symlink things and the terminal just says that the file exists. And then nothing happens.</p>\n"}, {"tags": ["ruby", "nginx", "sinatra", "passenger"], "answers": [{"tags": [], "owner": {"reputation": 217, "user_id": 4443249, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100000487150108/picture?type=large", "display_name": "nanolab", "link": "https://stackoverflow.com/users/4443249/nanolab"}, "is_accepted": true, "score": 0, "last_activity_date": 1451485625, "last_edit_date": 1592644375, "creation_date": 1421859384, "answer_id": 28072688, "question_id": 28058992, "link": "https://stackoverflow.com/questions/28058992/passenger-nginx-sinatra-friendly-error-page-does-not-appear/28072688#28072688", "title": "Passenger + Nginx + Sinatra: friendly error page does not appear", "body": "<p>Asked here <a href=\"https://github.com/sinatra/sinatra/issues/963\" rel=\"nofollow noreferrer\">https://github.com/sinatra/sinatra/issues/963</a> and got the answer.\nIt works now!</p>\n<blockquote>\n<p>The fix is already in master branch. Until a new release is made, you can point the gem to master:</p>\n<pre><code># Gemfile\ngem 'sinatra', github: 'sinatra/sinatra'\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 217, "user_id": 4443249, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100000487150108/picture?type=large", "display_name": "nanolab", "link": "https://stackoverflow.com/users/4443249/nanolab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 28072688, "answer_count": 1, "score": 1, "last_activity_date": 1451485625, "creation_date": 1421809777, "question_id": 28058992, "link": "https://stackoverflow.com/questions/28058992/passenger-nginx-sinatra-friendly-error-page-does-not-appear", "title": "Passenger + Nginx + Sinatra: friendly error page does not appear", "body": "<p>Just installed Ruby by RVM and Passender: gem install passenger &amp;&amp; rvmsudo passenger-install-nginx-module</p>\n\n<p>Simple Sinatra app works fine:</p>\n\n<pre><code>app.rb:\n\nrequire 'sinatra'\nget '/' do\n  \"Hello World!\"\nend\n\nconfig.ru:\n\nrequire 'sinatra'\nrequire './app.rb'\nrun Sinatra::Application\n</code></pre>\n\n<p>But when I add error in code, for example:</p>\n\n<pre><code>require 'sinatra'\nget '/' do\n  aaa # error here\n  \"Hello World!\"\nend\n</code></pre>\n\n<p>I exect to see purple friendly error page, but I see just: <strong>Internal Server Error</strong> if passenger_app_env production in nginx.conf, or standart <strong>An error occurred</strong> nginx error page if production passenger_app_env development.\nIn both cases there is an error message in error.log</p>\n"}, {"tags": ["ruby", "performance", "oop", "design-patterns", "hash"], "answers": [{"comments": [{"owner": {"reputation": 5747, "user_id": 2756552, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11d1b6ee2e6fe5cfa5a119849e7cd077?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/2756552/danny"}, "edited": false, "score": 0, "creation_date": 1553333934, "post_id": 28059287, "comment_id": 97351898, "body": "Very ruby-like and simple implementation Joel!"}], "tags": [], "owner": {"reputation": 32543, "user_id": 528726, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6307569a99dd77fff0463032051d7e39?s=128&d=identicon&r=PG", "display_name": "joelparkerhenderson", "link": "https://stackoverflow.com/users/528726/joelparkerhenderson"}, "is_accepted": true, "score": 6, "last_activity_date": 1421813112, "last_edit_date": 1421813112, "creation_date": 1421812045, "answer_id": 28059287, "question_id": 28058871, "link": "https://stackoverflow.com/questions/28058871/ruby-hash-for-sparse-matrix/28059287#28059287", "title": "Ruby hash for Sparse Matrix", "body": "<p>Use the hash way because it's easy, fast to write, and fast to access.</p>\n\n<p>For the hash key, use an array like this:</p>\n\n<pre><code>hash[[row,col]] = value\n</code></pre>\n\n<p>You can use anything for the row and col, such as a string, number, complex object, etc.</p>\n\n<p>For learning purposes, you may be interesting in wrapping Hash:</p>\n\n<pre><code>class SparseMatrix\n\n  def initialize\n    @hash = {}\n  end\n\n  def [](row, col)\n    @hash[[row, col]]\n  end\n\n  def []=(row, col, val)\n    @hash[[row, col]] = val\n  end\n\nend\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>matrix = SparseMatrix.new\nmatrix[1,2] = 3\nmatrix[1,2] #=&gt; 3\n</code></pre>\n\n<p>For learning purposes, you can use as many dimensions as you like:</p>\n\n<pre><code>class SparseMatrix\n\n  def initialize\n    @hash = {}\n  end\n\n  def [](*keys)\n    @hash[keys]\n  end\n\n  def []=(*keys, val)\n    @hash[keys] = val\n  end\n\nend\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>matrix = SparseMatrix.new\nmatrix[1,2,3,4] = 5\nmatrix[1,2,3,4] #=&gt; 5\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 2566157, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/B8jYl.jpg?s=128&g=1", "display_name": "DeMarco", "link": "https://stackoverflow.com/users/2566157/demarco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 28059287, "answer_count": 1, "score": 3, "last_activity_date": 1421813112, "creation_date": 1421809044, "question_id": 28058871, "link": "https://stackoverflow.com/questions/28058871/ruby-hash-for-sparse-matrix", "title": "Ruby hash for Sparse Matrix", "body": "<p>I know that there are several <a href=\"https://stackoverflow.com/questions/6730060/sparse-matrix-libraries-for-ruby\">libraries</a> for it in Ruby. But I must create my own (for learning purposes). </p>\n\n<p>I am considering two approaches for this:</p>\n\n<p>A hash whereas the key is a string in the form </p>\n\n<p><code>myhash[\"row.col\"]</code> so I can use the default value as zero when the element doesn't exist.</p>\n\n<p>Or creating a Sparse class, then checking elements to return its value:</p>\n\n<pre><code>class SparseMatrix &lt; Array\n  require 'contracts'\n  include Contracts\n  attr_accessor :value, :array\n  attr_reader :row, :col\n  @@array = Array.new\n  Contract Num, Num, Num =&gt;  nil\n  def initialize(value,row,col)\n    @value = value\n    @row = row\n    @col = col\n  end\n  def self.all_instances\n    @@array\n  end\n  Contract Num, Num =&gt;  Num\n  def getElement(row,col)\n    flag = false\n    array.each do |x|\n      if x.row == row &amp;&amp; x.col == col\n        return x.value\n      end\n    end\n    0\n  end\nend\n</code></pre>\n\n<p>I don't want this to be subjective, I wonder for the design patterns mostly used which would be a more logical format to do? (My question is because as much as \"row.col\" seems easier to begin with, it also involves several conversion from/to strings/numbers and it could have performance problems. ( I am new to ruby, so I am not sure)</p>\n"}]