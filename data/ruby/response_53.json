[{"tags": ["ruby", "terminal", "rvm"], "comments": [{"owner": {"reputation": 13553, "user_id": 643500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c66ad2afcf08e4a22f7b3cf5ca7ebc2?s=128&d=identicon&r=PG", "display_name": "Hitham S. AlQadheeb", "link": "https://stackoverflow.com/users/643500/hitham-s-alqadheeb"}, "edited": false, "score": 0, "creation_date": 1452729486, "post_id": 34779319, "comment_id": 57303694, "body": "You are missing a single quote in ruby &#39;2.2.3&#39;"}, {"owner": {"reputation": 1011, "user_id": 3891638, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pqkeX.jpg?s=128&g=1", "display_name": "cozyconemotel", "link": "https://stackoverflow.com/users/3891638/cozyconemotel"}, "reply_to_user": {"reputation": 13553, "user_id": 643500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c66ad2afcf08e4a22f7b3cf5ca7ebc2?s=128&d=identicon&r=PG", "display_name": "Hitham S. AlQadheeb", "link": "https://stackoverflow.com/users/643500/hitham-s-alqadheeb"}, "edited": false, "score": 1, "creation_date": 1452731286, "post_id": 34779319, "comment_id": 57304257, "body": "@HithamS.AlQadheeb your comment should be the accepted answer"}], "answers": [{"tags": [], "owner": {"reputation": 13553, "user_id": 643500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c66ad2afcf08e4a22f7b3cf5ca7ebc2?s=128&d=identicon&r=PG", "display_name": "Hitham S. AlQadheeb", "link": "https://stackoverflow.com/users/643500/hitham-s-alqadheeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1452731820, "creation_date": 1452731820, "answer_id": 34779708, "question_id": 34779319, "link": "https://stackoverflow.com/questions/34779319/there-was-an-error-parsing-gemfile-syntax-error-unexpected-tidentifier-expe/34779708#34779708", "title": "There was an error parsing `Gemfile`: syntax error, unexpected tIDENTIFIER, expecting end-of-input", "body": "<p>You are missing a single quote in the ruby line</p>\n\n<p><a href=\"https://i.stack.imgur.com/C6QQv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6QQv.png\" alt=\"Missing quote\"></a></p>\n\n<p>make it:</p>\n\n<pre><code>ruby '2.2.3'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5175128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1b60f023cf6eaffb383c781d7a512c?s=128&d=identicon&r=PG&f=1", "display_name": "kang", "link": "https://stackoverflow.com/users/5175128/kang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2363, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452731820, "creation_date": 1452729207, "question_id": 34779319, "link": "https://stackoverflow.com/questions/34779319/there-was-an-error-parsing-gemfile-syntax-error-unexpected-tidentifier-expe", "title": "There was an error parsing `Gemfile`: syntax error, unexpected tIDENTIFIER, expecting end-of-input", "body": "<p>Can someone help me? I am getting this error when I try to run rails server.\n<a href=\"http://i.stack.imgur.com/3sFdB.png\" rel=\"nofollow\">terminal error</a></p>\n\n<p>My gemfiles are as such <a href=\"http://i.stack.imgur.com/FbgwH.png\" rel=\"nofollow\">gemfiles</a></p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["ruby", "git", "github", "githooks"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5692364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6L7dFZhnnjI/AAAAAAAAAAI/AAAAAAAAADQ/R9kJI0Vr1Hs/photo.jpg?sz=128", "display_name": "Richard Miehe", "link": "https://stackoverflow.com/users/5692364/richard-miehe"}, "edited": false, "score": 0, "creation_date": 1452898017, "post_id": 34779165, "comment_id": 57384825, "body": "I can see how easy it would be to add.  Thanks for the suggestion."}, {"owner": {"reputation": 13, "user_id": 5692364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6L7dFZhnnjI/AAAAAAAAAAI/AAAAAAAAADQ/R9kJI0Vr1Hs/photo.jpg?sz=128", "display_name": "Richard Miehe", "link": "https://stackoverflow.com/users/5692364/richard-miehe"}, "edited": false, "score": 0, "creation_date": 1453395686, "post_id": 34779165, "comment_id": 57592748, "body": "I have added the --no-verify option to the commit and push methods in this fork on github <a href=\"https://github.com/richmi/ruby-git/tree/no-verify\" rel=\"nofollow noreferrer\">richmi/ruby-git</a>. A pull request has been submitted."}], "tags": [], "owner": {"reputation": 1011, "user_id": 3891638, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pqkeX.jpg?s=128&g=1", "display_name": "cozyconemotel", "link": "https://stackoverflow.com/users/3891638/cozyconemotel"}, "is_accepted": true, "score": 0, "last_activity_date": 1452728387, "creation_date": 1452728387, "answer_id": 34779165, "question_id": 34778930, "link": "https://stackoverflow.com/questions/34778930/how-can-i-add-no-verify-option-to-a-commit-using-git-gem/34779165#34779165", "title": "How can I add --no-verify option to a commit using git gem?", "body": "<p>Unfortunately, as we can see from its <a href=\"https://github.com/schacon/ruby-git/blob/master/lib/git/lib.rb\" rel=\"nofollow\" title=\"source\">source</a></p>\n\n<pre><code>def commit(message, opts = {})\n  arr_opts = []\n  arr_opts &lt;&lt; \"--message=#{message}\" if message\n  arr_opts &lt;&lt; '--amend' &lt;&lt; '--no-edit' if opts[:amend]\n  arr_opts &lt;&lt; '--all' if opts[:add_all] || opts[:all] \n  arr_opts &lt;&lt; '--allow-empty' if opts[:allow_empty]\n  arr_opts &lt;&lt; \"--author=#{opts[:author]}\" if opts[:author]\n\n  command('commit', arr_opts)\nend\n</code></pre>\n\n<p>the gem only allows for a few options for <code>commit</code>.</p>\n\n<p>You could possibly monkey-patch it though, as the source code seems very easy to read.</p>\n"}], "owner": {"reputation": 13, "user_id": 5692364, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6L7dFZhnnjI/AAAAAAAAAAI/AAAAAAAAADQ/R9kJI0Vr1Hs/photo.jpg?sz=128", "display_name": "Richard Miehe", "link": "https://stackoverflow.com/users/5692364/richard-miehe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 833, "favorite_count": 0, "accepted_answer_id": 34779165, "answer_count": 1, "score": 1, "last_activity_date": 1452728387, "creation_date": 1452727109, "question_id": 34778930, "link": "https://stackoverflow.com/questions/34778930/how-can-i-add-no-verify-option-to-a-commit-using-git-gem", "title": "How can I add --no-verify option to a commit using git gem?", "body": "<p>I'm using the 'git' gem from rubygems.org to interact with a git repository.  Our company has recently added git hooks on commit that are getting in the way. I'd like to at least temporarily skip the git hooks to allow automation to continue working. On the command line I can use <code>git commit --no-verify</code> but can't find a way to do this using the git gem.  Is there a way to skip the commit checks with the git gem?</p>\n"}, {"tags": ["ruby", "rack", "ruby-2.3"], "answers": [{"comments": [{"owner": {"reputation": 888, "user_id": 48970, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98b0b5d6f5ab8a7b6f353e1582007aec?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/48970/shane"}, "edited": false, "score": 0, "creation_date": 1585939925, "post_id": 34780579, "comment_id": 107951715, "body": "The flag looks like it <i>does</i> apply to the gems you&#39;re including."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 6, "last_activity_date": 1452737697, "creation_date": 1452737697, "answer_id": 34780579, "question_id": 34778494, "link": "https://stackoverflow.com/questions/34778494/how-to-start-rack-application-with-frozen-string-literals/34780579#34780579", "title": "How to start Rack application with frozen string literals?", "body": "<p>You can't pass parameters for <code>ruby</code> to <code>rackup</code>, unfortunately. However, <a href=\"https://github.com/rack/rack/blob/master/bin/rackup\" rel=\"noreferrer\"><code>rackup</code></a> is really, really simple:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nrequire \"rack\"\nRack::Server.start\n</code></pre>\n\n<p>The simplest solution, then, is to duplicate this file in your project (in, say, <code>bin/frozen_rackup</code>) but change the first line to this:</p>\n\n<pre><code>#!/usr/bin/env ruby --enable-frozen-string-literal\n</code></pre>\n\n<p>Then make sure the file is executable (<code>chmod u+x bin/frozen_rackup</code>) and run <code>bin/frozen_rackup</code> instead of <code>rackup</code>.</p>\n\n<p>P.S. I'm guessing that <code>--enable-frozen-string-literal</code> doesn't apply to gems your script requires, since it would break a lot of gems, but I haven't tested this and YMMV.</p>\n"}], "owner": {"reputation": 851, "user_id": 1751190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417e52cae8a5085088b679f3cbfd066e?s=128&d=identicon&r=PG", "display_name": "Oeste", "link": "https://stackoverflow.com/users/1751190/oeste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 0, "accepted_answer_id": 34780579, "answer_count": 1, "score": 4, "last_activity_date": 1452737697, "creation_date": 1452725059, "question_id": 34778494, "link": "https://stackoverflow.com/questions/34778494/how-to-start-rack-application-with-frozen-string-literals", "title": "How to start Rack application with frozen string literals?", "body": "<p>I'm trying to run our application under ruby 2.3 using the new ruby feature for automatic frozen strings turned on globally.  <a href=\"https://bugs.ruby-lang.org/issues/11473\" rel=\"nofollow\">(Ruby 2.3)</a>  This is normally done by passing the argument to a ruby script when starting as follows:</p>\n\n<pre><code>ruby --enable-frozen-string-literal ruby_code_file.rb\n</code></pre>\n\n<p>Unfortunately, our application is started using rackup, and I've tried the following command:</p>\n\n<pre><code>rackup --enable-frozen-string-literal\n</code></pre>\n\n<p>But this does not appear to work.  How do I pass that parameter into Rack?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 9030, "user_id": 5101476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCQrl.jpg?s=128&g=1", "display_name": "ice\u30c4", "link": "https://stackoverflow.com/users/5101476/ice%e3%83%84"}, "edited": false, "score": 4, "creation_date": 1452723745, "post_id": 34778140, "comment_id": 57301384, "body": "You could make use of the <code>.sort</code> method perhaps?"}, {"owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "edited": false, "score": 0, "creation_date": 1452723828, "post_id": 34778140, "comment_id": 57301418, "body": "Maybe <code>Array#hash</code> is useful?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 1, "creation_date": 1452727330, "post_id": 34778140, "comment_id": 57302862, "body": "You used the term &quot;set&quot; three times, and a fourth time implicitly when you said &quot;The arrangement of the numbers inside of the array do not matter.&quot; So, why don&#39;t you use a <code>set</code>? (Okay, technically speaking, what you describe is a <i>bag</i> aka <i>multiset</i>, but the same question: why don&#39;t you use a bag or multiset instead of an array?)"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1452736583, "post_id": 34778140, "comment_id": 57305884, "body": "There are only 2002 distinct combinations for 5 digits."}], "answers": [{"tags": [], "owner": {"reputation": 1011, "user_id": 3891638, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pqkeX.jpg?s=128&g=1", "display_name": "cozyconemotel", "link": "https://stackoverflow.com/users/3891638/cozyconemotel"}, "is_accepted": false, "score": 1, "last_activity_date": 1452725480, "last_edit_date": 1452725480, "creation_date": 1452724884, "answer_id": 34778462, "question_id": 34778140, "link": "https://stackoverflow.com/questions/34778140/storing-a-specific-set-of-numbers-in-ruby/34778462#34778462", "title": "Storing a specific set of numbers in ruby", "body": "<pre><code>[1,2,3,4,5].sort.hash #=&gt; 1777030444607087813\n[2,3,4,5,1].sort.hash #=&gt; 1777030444607087813\n</code></pre>\n\n<p>should make the sets distinguishable.</p>\n\n<p>Also should be a more memory-friendly solution because </p>\n\n<pre><code>5.size #=&gt; 8\n1777030444607087813.size #=&gt; 8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1452735374, "post_id": 34780205, "comment_id": 57305489, "body": "Worth noting that this only works for lists containing numbers up to M, where M is the number of primes loaded (10, in this example). Still, very clever."}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1452735818, "post_id": 34780205, "comment_id": 57305632, "body": "@SilvioMayolo, Yes, the question says 5 <i>digits</i>, but you can easily make the <code>pr</code> array larger"}], "tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": false, "score": 1, "last_activity_date": 1452735062, "creation_date": 1452735062, "answer_id": 34780205, "question_id": 34778140, "link": "https://stackoverflow.com/questions/34778140/storing-a-specific-set-of-numbers-in-ruby/34780205#34780205", "title": "Storing a specific set of numbers in ruby", "body": "<p>The problem with hashes is that you always need to worry about collisions. Here is a way to make sure each value is unique, (and it's even O(N))</p>\n\n<pre><code>require 'prime'\npr = Prime.take(10)\n[ 1, 2, 3, 4, 5].map{|x| pr[x]}.reduce(&amp;:*)\n=&gt; 15015 \n[ 2, 3, 4, 5, 1].map{|x| pr[x]}.reduce(&amp;:*)\n=&gt; 15015 \n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 383883, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e393748be1dbbb23cfe4fcae104dba1f?s=128&d=identicon&r=PG", "display_name": "awojo", "link": "https://stackoverflow.com/users/383883/awojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452735062, "creation_date": 1452723443, "question_id": 34778140, "link": "https://stackoverflow.com/questions/34778140/storing-a-specific-set-of-numbers-in-ruby", "title": "Storing a specific set of numbers in ruby", "body": "<p>How do you generate some sort of checksum of an array of 5 numbers that would distinguish a set of numbers from another? </p>\n\n<p>For example: \n    [ 1, 2, 3, 4, 5] has the same checksum as [ 2, 3, 4, 5, 1]</p>\n\n<p>I want to generate millions of 5 digit combinations and compare them against a predetermined set of numbers. I want to be able to checksum the ones I generate, and then compare them against a bank of numbers I've already generated.</p>\n\n<p>Let me explain:</p>\n\n<ul>\n<li>I create an array of numbers as an array </li>\n<li>I generate 6 numbers in an array using Rand()</li>\n<li>I compare the generated numbers to the array I created, exit if they match</li>\n<li>If the numbers don't match, create a hash that I can compare future arrays to. The arrangement of the numbers inside of the array do not matter.</li>\n</ul>\n\n<p>I thought about using an md5sum, but then if the elements change inside, then the md5 would be the same.</p>\n\n<p>I could just store the arrays in memory, but I'm trying to minimize the amount of numbers I store in memory</p>\n"}, {"tags": ["ruby-on-rails", "arrays", "ruby", "alternating"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1452722010, "post_id": 34777483, "comment_id": 57300550, "body": "Not clear how the <code>cat</code> array is involved. Is the cycle in <code>list</code> fixed? If so, then only the length of the cycle should matter. I don&#39;t get why you have that particular <code>cat</code> array. Or, it there more to it with <code>cat</code>?"}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452752504, "post_id": 34777483, "comment_id": 57310051, "body": "The cycle in list is fixed."}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452752543, "post_id": 34777483, "comment_id": 57310063, "body": "The car array gives the length of the categories to look for, so that I don&#39; need to do a group_by"}], "answers": [{"comments": [{"owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "edited": false, "score": 1, "creation_date": 1452722734, "post_id": 34777913, "comment_id": 57300918, "body": "sawa&#39;s comment to the original question is fair. I assume that you use <code>cat</code> to construct the <code>list</code>. If so, there might be even better ways of getting where you want. I&#39;ll leave that to others, though."}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "edited": false, "score": 0, "creation_date": 1452752633, "post_id": 34777913, "comment_id": 57310099, "body": "I am not using cat to construct the list. Both come from other services I do not have control over."}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "edited": false, "score": 0, "creation_date": 1452752765, "post_id": 34777913, "comment_id": 57310131, "body": "Also, the list is a gross simplification of a larger 2D array"}, {"owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "reply_to_user": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "edited": false, "score": 1, "creation_date": 1452760003, "post_id": 34777913, "comment_id": 57313424, "body": "OK, then I hope my answer will help :)"}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "edited": false, "score": 0, "creation_date": 1452763348, "post_id": 34777913, "comment_id": 57315450, "body": "Thanks for taking the time to answer :)"}], "tags": [], "owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "is_accepted": true, "score": 3, "last_activity_date": 1452722438, "creation_date": 1452722438, "answer_id": 34777913, "question_id": 34777483, "link": "https://stackoverflow.com/questions/34777483/alternate-formatting-of-rows-with-multiple-rows-in-each-set/34777913#34777913", "title": "Alternate formatting of rows, with multiple rows in each set", "body": "<p>You could use <a href=\"http://apidock.com/ruby/Enumerator/with_index\" rel=\"nofollow\"><code>with_index</code></a>, <a href=\"http://ruby-doc.org/core-2.2.0/doc/syntax/methods_rdoc.html#label-Array+Decomposition\" rel=\"nofollow\">array decomposition</a> and some math:</p>\n\n<pre><code>list.map.with_index do |(title, category), index|\n  if index % (2 * cat_count) &lt; cat_count\n    [bold(title), category]\n  else\n    [title, category]\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1452756630, "last_edit_date": 1452756630, "creation_date": 1452752774, "answer_id": 34782968, "question_id": 34777483, "link": "https://stackoverflow.com/questions/34777483/alternate-formatting-of-rows-with-multiple-rows-in-each-set/34782968#34782968", "title": "Alternate formatting of rows, with multiple rows in each set", "body": "<pre><code>enum = [*[\"b_\"]*cat.size, *[\"\"]*cat.size].cycle\n  #=&gt; #&lt;Enumerator: [\"b_\", \"b_\", \"b_\", \"b_\", \"\", \"\", \"\", \"\"]:cycle&gt;\nlist.map { |t,c| [enum.next+t, c] }\n  #=&gt; [[\"b_T1\", \"Cat 1\"], [\"b_T2\", \"Cat 2\"], [\"b_T3\", \"Cat 3\"], [\"b_T4\", \"Cat 4\"],\n  #    [\"T5\", \"Cat 1\"], [\"T6\", \"Cat 2\"], [\"T7\", \"Cat 3\"], [\"T8\", \"Cat 4\"],\n  #    [\"b_T9\", \"Cat 1\"], [\"b_T10\", \"Cat 2\"], [\"b_T11\", \"Cat 3\"], [\"b_T12\", \"Cat 4\"]] \n</code></pre>\n\n<p><a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-cycle\" rel=\"nofollow\">Array#cycle</a> is used to convert the array <code>[\"b_\", \"b_\", \"b_\", \"b_\", \"\", \"\", \"\", \"\"]</code> to an endlessly repeating enumerator.</p>\n\n<p>It is then simply a matter of mapping each element of <code>list</code> to a new value in which the \"T\" string is prepended with the next element of <code>enum</code> (<code>\"b_\"</code> or <code>\"\"</code>).</p>\n\n<p>I have chosen to use this enumerator to add \"T\" prefixes that alternate with each group of <code>cat.size</code> elements, but the more conventional way is to use indices:</p>\n\n<pre><code>list.map.with_index { |(t,c),i| [(i/4).even? ? \"b_\"+t : \"t\", c] } \n  #=&gt; [[\"b_T1\", \"Cat 1\"], [\"b_T2\", \"Cat 2\"], [\"b_T3\", \"Cat 3\"], [\"b_T4\", \"Cat 4\"],\n  #    [\"T5\", \"Cat 1\"], [\"T6\", \"Cat 2\"], [\"T7\", \"Cat 3\"], [\"T8\", \"Cat 4\"],\n  #    [\"b_T9\", \"Cat 1\"], [\"b_T10\", \"Cat 2\"], [\"b_T11\", \"Cat 3\"], [\"b_T12\", \"Cat 4\"]] \n</code></pre>\n\n<p>With Ruby 2.3.1 you will be able to write:</p>\n\n<pre><code>list.each_with_index { |(t,_),i| print \"#{ (i/4).even? ? t.boldify : t } \" }\n</code></pre>\n\n<p><sub><strong>T1</strong> <strong>T2</strong> <strong>T3</strong> <strong>T4</strong> T5 T6 T7 T8 <strong>T9</strong> <strong>T10</strong> <strong>T11</strong> <strong>T12</strong></sub></p>\n"}], "owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 34777913, "answer_count": 2, "score": 0, "last_activity_date": 1452756630, "creation_date": 1452720903, "last_edit_date": 1452752803, "question_id": 34777483, "link": "https://stackoverflow.com/questions/34777483/alternate-formatting-of-rows-with-multiple-rows-in-each-set", "title": "Alternate formatting of rows, with multiple rows in each set", "body": "<p>I'm programming in Ruby.</p>\n\n<p>Given that I have the following 2D array:</p>\n\n<pre><code>list = [\n  [\"T1\", \"Cat 1\"],\n  [\"T2\", \"Cat 2\"],\n  [\"T3\", \"Cat 3\"],\n  [\"T4\", \"Cat 4\"],\n  [\"T5\", \"Cat 1\"],\n  [\"T6\", \"Cat 2\"],\n  [\"T7\", \"Cat 3\"],\n  [\"T8\", \"Cat 4\"],\n  [\"T9\", \"Cat 1\"],\n  [\"T10\", \"Cat 2\"],\n  [\"T11\", \"Cat 3\"],\n  [\"T12\", \"Cat 4\"],\n]\n</code></pre>\n\n<p>I also have a list of categories:</p>\n\n<pre><code>cat = [\"Cat 1\", \"Cat 2\", \"Cat 3\", \"Cat 4\"]\ncat_count = cat.count\n</code></pre>\n\n<p>I also have the method <code>bold</code>, which formats text to be bold, for simplicity here I am going to use the method below:</p>\n\n<pre><code>def bold(text)\n  'b_' &lt;&lt; text\nend\n</code></pre>\n\n<p>I would like to format each set of categories, in an alternating fashion. So the first set would be bold, and then the second set not, the third set bold, the fourth set not etc.</p>\n\n<p>In this case I would get out the following formatted output:\n<strong>T1\nT2\nT3\nT4</strong>\nT5\nT6\nT7\nT8\n<strong>T9\nT10\nT11\nT12</strong></p>\n\n<p>I expect the following ruby output:</p>\n\n<pre><code>[\"b_T1\", \"Cat 1\"]\n[\"b_T2\", \"Cat 2\"]\n[\"b_T3\", \"Cat 3\"]\n[\"b_T4\", \"Cat 4\"]\n[\"T5\", \"Cat 1\"]\n[\"T6\", \"Cat 2\"]\n[\"T7\", \"Cat 3\"]\n[\"T8\", \"Cat 4\"]\n[\"b_T9\", \"Cat 1\"]\n[\"b_T10\", \"Cat 2\"]\n[\"b_T11\", \"Cat 3\"]\n[\"b_T12\", \"Cat 4\"]\n</code></pre>\n\n<p>I have the following code at the moment, which does not look very Rubyist at all. Please help me improve this code.</p>\n\n<pre><code>cat_increment = 0\nswitch = 1\n\nlist.map do |l|\n  cat_increment+=1\n  entry = switch ? [bold(l.first), l.second] : l\n  if cat_increment == cat_count\n    switch = switch ? nil : 1\n    cat_increment = 0\n  end \n  entry\nend\n</code></pre>\n"}, {"tags": ["ruby", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 2, "creation_date": 1452720585, "post_id": 34777204, "comment_id": 57299876, "body": "There is not enough information in your question. What is the correct encoding of the string, if not UTF-8? What encoding is reported by the API&#39;s HTTP headers? What encoding is set on the database table? What code is responsible for retrieving the data from the API? What code inserts it into the database? What code retrieves it from the database?"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1153961, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fda0d555b68864bed9eab1ae190fdded?s=128&d=identicon&r=PG", "display_name": "plotti", "link": "https://stackoverflow.com/users/1153961/plotti"}, "edited": false, "score": 0, "creation_date": 1452855119, "post_id": 34778340, "comment_id": 57360872, "body": "That is an excellent answer! Thanks a lot I&#39;ve learned a lot!"}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 2, "last_activity_date": 1452735484, "last_edit_date": 1452735484, "creation_date": 1452724377, "answer_id": 34778340, "question_id": 34777204, "link": "https://stackoverflow.com/questions/34777204/utf-8-ruby-encoding/34778340#34778340", "title": "UTF-8 ruby encoding", "body": "<p>Your string is UTF-8.</p>\n\n<p>I can tell because your fix is to replace the bytes (97, 204, 136) with the bytes (195, 164).</p>\n\n<p>The first byte you're replacing, 97 (<code>0x61</code>) is the UTF-8 character <code>a</code>. The second two bytes, 204 and 136 (<code>0xCC 0x88</code>), are the bytes for the UTF-8 character U+0308, the <a href=\"http://www.fileformat.info/info/unicode/char/0308/index.htm\" rel=\"nofollow\">combining diaeresis</a>: <code>\u0308</code>. The two characters combine to form <code>a\u0308</code>.</p>\n\n<p>The bytes you're expecting are 195 and 164 (<code>0xC3 0xA4</code>) which, together, are U+00E4, or <a href=\"http://www.fileformat.info/info/unicode/char/00e4/index.htm\" rel=\"nofollow\">Latin small letter \"a\" with diaeresis</a>.</p>\n\n<p>Both are UTF-8. One prints <code>a\u0308</code> and the other prints <code>\u00e4</code>. This is an example of <a href=\"https://en.wikipedia.org/wiki/Unicode_equivalence\" rel=\"nofollow\">Unicode equivalence</a>.</p>\n\n<p>In other words:</p>\n\n<pre><code>str1 = \"a\\xCC\\x88\"\nputs str1 # =&gt; a\u0308\np str1.bytes # =&gt; [97, 204, 136]\np str1.encoding # =&gt; #&lt;Encoding:UTF-8&gt;\n\nstr2 = \"\\xC3\\xA4\"\nputs str2 # =&gt; \u00e4\np str2.bytes # =&gt; [195, 164]\np str2.encoding # =&gt; #&lt;Encoding:UTF-8&gt;\n</code></pre>\n\n<p>Fortunately, we have <a href=\"https://en.wikipedia.org/wiki/Unicode_equivalence#Normalization\" rel=\"nofollow\">Unicode normalization</a> to help deal with this. This is a <em>big</em> topic, but the very, very insufficient TL;DR is that the Unicode consortium has prescribed standard ways to normalize strings like the above, i.e. how to turn <code>str1</code> into <code>str2</code>.</p>\n\n<p>Unfortunately, it's impossible to say what the best solution for you is, since you didn't provide any details. Your database might have built-in normalization functionality, but I don't know what database you're using so I can't say. Since you did mention Ruby I can point you to the <a href=\"http://ruby-doc.org/stdlib-2.3.0/libdoc/unicode_normalize/rdoc/String.html\" rel=\"nofollow\"><code>String#unicode_normalize</code></a> method, which was introduced in Ruby's standard library in Ruby 2.2:</p>\n\n<pre><code>str1 = \"a\\xCC\\x88\"\nstr2 = \"\\xC3\\xA4\"\np str1 == str2 # =&gt; false\n\nstr1_normalized = str1.unicode_normalize\n\np str1_normalized == str2\n# =&gt; true\np str1_normalized.bytes == str2.bytes\n# =&gt; true\n</code></pre>\n\n<p>If you don't have Ruby 2.2+, well... upgrade. But if you can't upgrade for some reason you can use <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/Multibyte/Unicode.html#method-i-normalize\" rel=\"nofollow\">ActiveSupport::Multibyte::Unicode.normalize</a>, which is especially convenient if you're using Rails, or the <a href=\"https://github.com/blackwinter/unicode\" rel=\"nofollow\">Unicode gem</a>.</p>\n\n<h3>One more thing</h3>\n\n<p>You don't need to do this, since the above is the correct way to do Unicode normalization in Ruby, but a much easier way to do this:</p>\n\n<pre><code>\"WinterID\u00e4Schwiiz\".bytes.join(\",\").gsub(\"97,204,136\",\"195,164\").split(\",\").collect{|s| s.to_i }.pack('C*').force_encoding('utf-8')\n</code></pre>\n\n<p>...would have been this:</p>\n\n<pre><code>\"WinterID\u00e4Schwiiz\".gsub(\"a\\xCC\\x88\", \"\\xC3\\xA4\")\n</code></pre>\n\n<p>Any time you see something like <code>join(\",\")...split(\",\")</code> in Ruby it's almost certainly the wrong solution.</p>\n"}], "owner": {"reputation": 137, "user_id": 1153961, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fda0d555b68864bed9eab1ae190fdded?s=128&d=identicon&r=PG", "display_name": "plotti", "link": "https://stackoverflow.com/users/1153961/plotti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 34778340, "answer_count": 1, "score": 1, "last_activity_date": 1452735484, "creation_date": 1452719937, "question_id": 34777204, "link": "https://stackoverflow.com/questions/34777204/utf-8-ruby-encoding", "title": "UTF-8 ruby encoding", "body": "<p>I've got this string: WinterID\u00e4Schwiiz, which comes from an API and I want to search for it in the database. Now it turns out that this string has a different encoding than how its saved in my database. Yet ruby says the encoding for both is utf-8. What is going on?</p>\n\n<p>I've figured out the most terrible way to fix this problem by going down to the bytesequence and replace the bytes representing the \"\u00e4\" with a different bytesequence and then forceencoding it to utf8. It works but hurts my eyes. Does anyone have a better solution than:</p>\n\n<pre><code> \"WinterID\u00e4Schwiiz\".bytes.join(\",\").gsub(\"97,204,136\",\"195,164\").split(\",\").collect{|s| s.to_i}.pack('C*').force_encoding('utf-8')\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "validation", "ruby-on-rails-4", "devise"], "answers": [{"tags": [], "owner": {"reputation": 12542, "user_id": 156746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8TsPx.jpg?s=128&g=1", "display_name": "DiegoSalazar", "link": "https://stackoverflow.com/users/156746/diegosalazar"}, "is_accepted": true, "score": 0, "last_activity_date": 1452721022, "creation_date": 1452721022, "answer_id": 34777516, "question_id": 34776855, "link": "https://stackoverflow.com/questions/34776855/extend-devise-form-validations-to-custom-user-form/34777516#34777516", "title": "Extend Devise form validations to custom user form", "body": "<p>You should create your own validations in your user model. The Devise wiki has a little info on this:</p>\n\n<p><a href=\"https://github.com/plataformatec/devise/wiki/How-to:-Use-a-custom-email-validator-with-Devise\" rel=\"nofollow\">https://github.com/plataformatec/devise/wiki/How-to:-Use-a-custom-email-validator-with-Devise</a></p>\n\n<p><a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Customize-user-account-status-validation-when-logging-in\" rel=\"nofollow\">https://github.com/plataformatec/devise/wiki/How-To:-Customize-user-account-status-validation-when-logging-in</a></p>\n"}], "owner": {"reputation": 138, "user_id": 3602175, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0e2991f27bcfa4f66100afb1ae8bd460?s=128&d=identicon&r=PG&f=1", "display_name": "akaimo", "link": "https://stackoverflow.com/users/3602175/akaimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34777516, "answer_count": 1, "score": 0, "last_activity_date": 1452721022, "creation_date": 1452718578, "question_id": 34776855, "link": "https://stackoverflow.com/questions/34776855/extend-devise-form-validations-to-custom-user-form", "title": "Extend Devise form validations to custom user form", "body": "<p>I am using the Devise gem to handle my app authentication and have added some custom features allowing the administrator role to ADD/EDIT users.  </p>\n\n<p>To enable these features I have an additional form in my users view which is used for the custom NEW/EDIT methods. </p>\n\n<p>Is there a way I can easily extend the Devise native validations to this custom form or should I just recreate these validations in my user model?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "abap"], "answers": [{"tags": [], "owner": {"reputation": 18082, "user_id": 218890, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/t855u.jpg?s=128&g=1", "display_name": "vwegert", "link": "https://stackoverflow.com/users/218890/vwegert"}, "is_accepted": false, "score": 2, "last_activity_date": 1452718258, "creation_date": 1452718258, "answer_id": 34776778, "question_id": 34775985, "link": "https://stackoverflow.com/questions/34775985/is-it-still-possible-to-use-blue-ruby-on-sap-systems/34776778#34776778", "title": "Is it still possible to use Blue Ruby on SAP systems?", "body": "<p>I'm hardly an authority, but reading <a href=\"http://scn.sap.com/community/scripting-languages/blog/2010/12/18/blue-ruby-now-available-on-code-exchange\" rel=\"nofollow\">this blog</a>, I'd say...</p>\n\n<blockquote>\n  <p>in the course of our everlasting re-organization - it is true that the\n  only thing that's constant at SAP is change - <strong>Blue Ruby, the research\n  project, is no longer</strong>.</p>\n</blockquote>\n\n<p>...alive is probably not a word I'd use, no...</p>\n"}], "owner": {"reputation": 6491, "user_id": 410823, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08ab32adfbfa32a2f52733864c72c0e6?s=128&d=identicon&r=PG", "display_name": "Skarab", "link": "https://stackoverflow.com/users/410823/skarab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1452787470, "creation_date": 1452715395, "last_edit_date": 1452787470, "question_id": 34775985, "link": "https://stackoverflow.com/questions/34775985/is-it-still-possible-to-use-blue-ruby-on-sap-systems", "title": "Is it still possible to use Blue Ruby on SAP systems?", "body": "<p>Around 2011, I have heard about Blue Ruby, a way to run ruby inside the ABAP virtual machine. I cannot find any information about it. Is it still alive? Does somebody use it in development for, e.g., testing (TDD)? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "api", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "is_accepted": false, "score": 1, "last_activity_date": 1452715497, "creation_date": 1452715497, "answer_id": 34776016, "question_id": 34775844, "link": "https://stackoverflow.com/questions/34775844/how-do-i-implement-a-search-bar-in-a-rails-application-that-will-use-an-api-such/34776016#34776016", "title": "How do I implement a search bar in a Rails application that will use an API such as Yelp&#39;s?", "body": "<p>I can't speak to how to implement an entire feature since that is outside the scope of this question. However I can give some advice. <a href=\"https://github.com/jnunemaker/httparty\" rel=\"nofollow\">HTTParty</a> is a great gem in my experience for reaching out to APIs. I would have a search_controller that the user posts to, and then have that controller use different plain ruby classes to reach out to the various APIs user HTTParty as the http client.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 4765787, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10204838375573193/picture?type=large", "display_name": "Kenny Zhang", "link": "https://stackoverflow.com/users/4765787/kenny-zhang"}, "edited": false, "score": 0, "creation_date": 1452787069, "post_id": 34776085, "comment_id": 57331438, "body": "Users have to log in to use the search functionality. Do you think it would be better to use their API or web scrape?"}, {"owner": {"reputation": 551, "user_id": 3558900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EI06H.jpg?s=128&g=1", "display_name": "Randall Valenciano", "link": "https://stackoverflow.com/users/3558900/randall-valenciano"}, "reply_to_user": {"reputation": 63, "user_id": 4765787, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10204838375573193/picture?type=large", "display_name": "Kenny Zhang", "link": "https://stackoverflow.com/users/4765787/kenny-zhang"}, "edited": false, "score": 0, "creation_date": 1452793877, "post_id": 34776085, "comment_id": 57335919, "body": "I would go to use their official API. We scraping sometimes its forbidden and dangerous, you can end up stealing info without consent."}], "tags": [], "owner": {"reputation": 551, "user_id": 3558900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EI06H.jpg?s=128&g=1", "display_name": "Randall Valenciano", "link": "https://stackoverflow.com/users/3558900/randall-valenciano"}, "is_accepted": false, "score": 1, "last_activity_date": 1452715753, "creation_date": 1452715753, "answer_id": 34776085, "question_id": 34775844, "link": "https://stackoverflow.com/questions/34775844/how-do-i-implement-a-search-bar-in-a-rails-application-that-will-use-an-api-such/34776085#34776085", "title": "How do I implement a search bar in a Rails application that will use an API such as Yelp&#39;s?", "body": "<p>For using API's like Yelp, Evenbrite or external API's you usually have to register to get full access to them. In any case, you may or may not have to login to the API. </p>\n\n<p>Guessing that your search bar doesn't have autocomplete and you don't have to log in, you must create a controller that handles the search. That controller can call multiple models or wrappers, that each of one handles the API call to an specific provider.  </p>\n\n<p>If the provider doesn't have a gem, you can use this:\n<a href=\"http://blog.teamtreehouse.com/its-time-to-httparty\" rel=\"nofollow\">http://blog.teamtreehouse.com/its-time-to-httparty</a></p>\n\n<p>Other providers like Stripe i.e, do provide a gem. For those cases, i recommend to search in <a href=\"https://www.ruby-toolbox.com/\" rel=\"nofollow\">https://www.ruby-toolbox.com/</a>, where you can find gems (type eventbrite in the search bar of this site). Those gems are rated by use, popularity and more. It's a good source of knowledge.</p>\n\n<p>If you need to login to API's, you probably need to register your app so you can use it via a protocol, i.e Oauth, like the Github API.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5800342"}, "is_accepted": false, "score": 1, "last_activity_date": 1453002194, "creation_date": 1453002194, "answer_id": 34834875, "question_id": 34775844, "link": "https://stackoverflow.com/questions/34775844/how-do-i-implement-a-search-bar-in-a-rails-application-that-will-use-an-api-such/34834875#34834875", "title": "How do I implement a search bar in a Rails application that will use an API such as Yelp&#39;s?", "body": "<p>If the APIs you are reaching out to follow a restful format I have found this gem really helpful for treating restful APIs like active record associations: <a href=\"https://rubygems.org/gems/activeresource/versions/4.0.0\" rel=\"nofollow\">https://rubygems.org/gems/activeresource/versions/4.0.0</a></p>\n"}], "owner": {"reputation": 63, "user_id": 4765787, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10204838375573193/picture?type=large", "display_name": "Kenny Zhang", "link": "https://stackoverflow.com/users/4765787/kenny-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1453002194, "creation_date": 1452714859, "last_edit_date": 1452715054, "question_id": 34775844, "link": "https://stackoverflow.com/questions/34775844/how-do-i-implement-a-search-bar-in-a-rails-application-that-will-use-an-api-such", "title": "How do I implement a search bar in a Rails application that will use an API such as Yelp&#39;s?", "body": "<p>I am making a Rails application that is using Postgres as the database. I want to be able to implement a search bar in one of my views that will get information from multiple APIs (perhaps Yelp and Eventbrite, maybe more). It would then display the results to the user. </p>\n\n<p>I have not decided on how to filter these results. The user should then be able to save their favorite results, be able to look into these results' details, and share them with friends.</p>\n\n<p>Which gems should I use? What is the best way to implement this search? Any advice would be appreciated.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 2, "creation_date": 1452721957, "post_id": 34775682, "comment_id": 57300523, "body": "Adding <code>is_a</code> globally to String is a pretty bad idea. If anywhere else in the project someone else decides to also add an <code>is_a</code> method to String - you will get some interesting bugs."}], "answers": [{"comments": [{"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1452714916, "post_id": 34775775, "comment_id": 57296884, "body": "This solution returns <code>nil</code> for <code>&#39;string&#39;.is_a?(String)</code>, which is supposed to be <code>true</code> and most probably will break something in 3rd party libraries"}], "tags": [], "owner": {"reputation": 10246, "user_id": 1559386, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/52ebc97578e2a9226fd3794b6d683036?s=128&d=identicon&r=PG", "display_name": "Daniel Schmidt", "link": "https://stackoverflow.com/users/1559386/daniel-schmidt"}, "is_accepted": false, "score": -2, "last_activity_date": 1452714608, "creation_date": 1452714608, "answer_id": 34775775, "question_id": 34775682, "link": "https://stackoverflow.com/questions/34775682/custom-is-a-in-ruby/34775775#34775775", "title": "Custom .is_a? in Ruby", "body": "<p>One of the great things about ruby is that you may reopen any class. So an implementation of this may look like this:</p>\n\n<pre><code>class String\n    def is_a?(type)\n        return true if type == UID\n    end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "is_accepted": false, "score": 0, "last_activity_date": 1452715525, "last_edit_date": 1452715525, "creation_date": 1452714780, "answer_id": 34775827, "question_id": 34775682, "link": "https://stackoverflow.com/questions/34775682/custom-is-a-in-ruby/34775827#34775827", "title": "Custom .is_a? in Ruby", "body": "<p>Not to pollute global <code>String</code> - use refinements:</p>\n\n<pre><code>class UID &lt; String\nend\n\nmodule CustomStringIsA\n  refine String do\n    def is_a? what\n      if what == UID\n        self == '123'\n      else\n        super\n      end\n    end\n  end\nend\n\nputs '123'.is_a?(UID) # false\n\nusing CustomStringIsA\nputs '123'.is_a?(Fixnum) # false\nputs '123'.is_a?(UID) # true\n</code></pre>\n\n<p>But better use <code>===</code>, so you can then use <code>case</code> like this:</p>\n\n<pre><code>class UID &lt; String\n  def self.=== str\n    str === '123'\n  end\nend\n\nclass UID2 &lt; String\n  def self.=== str\n    str === '456'\n  end\nend\n\ncase '456'\nwhen UID\n  puts 'uid'\nwhen UID2\n  puts 'uid2'\nelse\n  puts 'else'\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": false, "score": 7, "last_activity_date": 1452715650, "creation_date": 1452715650, "answer_id": 34776057, "question_id": 34775682, "link": "https://stackoverflow.com/questions/34775682/custom-is-a-in-ruby/34776057#34776057", "title": "Custom .is_a? in Ruby", "body": "<p>If you are looking for succinct way of doing the check, why not use regular expression and match using <code>=~</code> operator.</p>\n\n<p>This is as neat as using custom <code>is_a?</code> and does not require messing up with <code>String</code> class.</p>\n\n<p>For example:</p>\n\n<pre><code>UID = /^[[:digit:]]{3}[[:alnum:]]{6}$/\n\nt = '001ABC123'\n\nif t =~ UID\n   #...\nend\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 5603796, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/06fa80d09269e07919c203d2db3c4666?s=128&d=identicon&r=PG&f=1", "display_name": "user5603796", "link": "https://stackoverflow.com/users/5603796/user5603796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1452728820, "creation_date": 1452714322, "last_edit_date": 1452728820, "question_id": 34775682, "link": "https://stackoverflow.com/questions/34775682/custom-is-a-in-ruby", "title": "Custom .is_a? in Ruby", "body": "<p>Is it possible to create a custom <code>is_a?</code> in Ruby?</p>\n\n<p>I have a string that can be either a UID or a nickname that I need to check and decide.</p>\n\n<p>UID: <code>001ABC123</code> (starts with 3 numeric and ends in 6 alphanumeric characters)</p>\n\n<p>Nickname: <code>john</code> (can be anything but never starts with a number)</p>\n\n<p>I want to be able to do:</p>\n\n<pre><code>t = '001ABC123'\n\nif t.is_a? UID\n  ...\nend\n</code></pre>\n\n<p>Is it possible?</p>\n"}, {"tags": ["html", "ruby-on-rails", "ruby", "css"], "comments": [{"owner": {"reputation": 2788, "user_id": 4139024, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qOcL9.jpg?s=128&g=1", "display_name": "blckbird", "link": "https://stackoverflow.com/users/4139024/blckbird"}, "edited": false, "score": 1, "creation_date": 1452713591, "post_id": 34775418, "comment_id": 57296081, "body": "Can you add your html?"}], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 5747951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-y7gPx05xGJ0/AAAAAAAAAAI/AAAAAAAAAG4/nwnudI01L28/photo.jpg?sz=128", "display_name": "Megan Woodruff", "link": "https://stackoverflow.com/users/5747951/megan-woodruff"}, "edited": false, "score": 0, "creation_date": 1452714764, "post_id": 34775466, "comment_id": 57296796, "body": "Wow! I didn&#39;t even realize I didn&#39;t have the body tag! Thanks so much!"}], "tags": [], "owner": {"reputation": 520, "user_id": 865929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e41a29f72e024d9d8a29e322f3ef3703?s=128&d=identicon&r=PG", "display_name": "Sean Glover", "link": "https://stackoverflow.com/users/865929/sean-glover"}, "is_accepted": true, "score": 3, "last_activity_date": 1452713597, "creation_date": 1452713597, "answer_id": 34775466, "question_id": 34775418, "link": "https://stackoverflow.com/questions/34775418/how-do-i-place-div-on-background-image/34775466#34775466", "title": "How do I place div &quot;on&quot; background image?", "body": "<p>Try adding these CSS properties to the body, instead of the document itself.</p>\n\n<pre><code>body {\n   background-image: url('destroyer.jpg');\n   background-repeat: no-repeat;\n}\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 5747951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-y7gPx05xGJ0/AAAAAAAAAAI/AAAAAAAAAG4/nwnudI01L28/photo.jpg?sz=128", "display_name": "Megan Woodruff", "link": "https://stackoverflow.com/users/5747951/megan-woodruff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34775466, "answer_count": 1, "score": 0, "last_activity_date": 1452715363, "creation_date": 1452713428, "last_edit_date": 1452715363, "question_id": 34775418, "link": "https://stackoverflow.com/questions/34775418/how-do-i-place-div-on-background-image", "title": "How do I place div &quot;on&quot; background image?", "body": "<p>I have a RoR app and I am attempting to add a background image. In my css file that is located in app/assets/stylesheets I have:</p>\n\n<pre><code>html{\nbackground-image: (destroyer.jpg);\nbackground-repeat: no-repeat;\nbackground-attachment: scroll;\nbackground-position: top;\nmin-height: 100;\n}\n</code></pre>\n\n<p>However, each time I add a div to the homepage html, the image seems to be forced to the bottom on the page. All I want is a full page static background image. For the record, I have changed scroll to fixed in the attachment as well as taken off the min height with no luck.</p>\n\n<p>Please advise.</p>\n"}, {"tags": ["jquery", "ruby-on-rails", "ruby", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 523, "user_id": 5111648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-74DTt-HbmB8/AAAAAAAAAAI/AAAAAAAAAAs/rZ6Us2_uu4Q/photo.jpg?sz=128", "display_name": "William Holt", "link": "https://stackoverflow.com/users/5111648/william-holt"}, "edited": false, "score": 1, "creation_date": 1452713443, "post_id": 34775292, "comment_id": 57295965, "body": "Try: &lt;%= link_to &#39;&#39;, account, class: &#39;fa fa-eye&#39;, &#39;data-toggle&#39;: &#39;tooltip&#39;, &#39;data-placement&#39;:&#39;top&#39;, title: &#39;Tooltip on top&#39; %&gt;"}, {"owner": {"reputation": 803, "user_id": 4739356, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2840861b630380bb691a2e7b793c22ca?s=128&d=identicon&r=PG&f=1", "display_name": "M.T Davis", "link": "https://stackoverflow.com/users/4739356/m-t-davis"}, "reply_to_user": {"reputation": 523, "user_id": 5111648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-74DTt-HbmB8/AAAAAAAAAAI/AAAAAAAAAAs/rZ6Us2_uu4Q/photo.jpg?sz=128", "display_name": "William Holt", "link": "https://stackoverflow.com/users/5111648/william-holt"}, "edited": false, "score": 0, "creation_date": 1452713852, "post_id": 34775292, "comment_id": 57296232, "body": "@william-holt Thanks. I see what I did wrong. It&#39;s always the simple things."}], "answers": [{"tags": [], "owner": {"reputation": 803, "user_id": 4739356, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2840861b630380bb691a2e7b793c22ca?s=128&d=identicon&r=PG&f=1", "display_name": "M.T Davis", "link": "https://stackoverflow.com/users/4739356/m-t-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1475184010, "creation_date": 1475184010, "answer_id": 39780203, "question_id": 34775292, "link": "https://stackoverflow.com/questions/34775292/bootstrap-tooltips-in-ruby-on-rails-app-not-working/39780203#39780203", "title": "Bootstrap tooltips in Ruby on Rails App Not Working", "body": "<p><strong>Solution to adding bootstrap tooltips in Rails App</strong></p>\n\n<pre><code>&lt;td&gt;&lt;%= link_to ' Edit', edit_account_path(account), class: \"fa fa-pencil-square-o\", 'data-toggle': 'tooltip', 'data-placement':'top', title: 'Edit Client Account'  %&gt;&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 803, "user_id": 4739356, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2840861b630380bb691a2e7b793c22ca?s=128&d=identicon&r=PG&f=1", "display_name": "M.T Davis", "link": "https://stackoverflow.com/users/4739356/m-t-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1625, "favorite_count": 0, "accepted_answer_id": 39780203, "answer_count": 1, "score": 1, "last_activity_date": 1475184010, "creation_date": 1452712947, "last_edit_date": 1452716909, "question_id": 34775292, "link": "https://stackoverflow.com/questions/34775292/bootstrap-tooltips-in-ruby-on-rails-app-not-working", "title": "Bootstrap tooltips in Ruby on Rails App Not Working", "body": "<p>Running\n<code>ruby 2.2.1p85 (2015-02-26 revision 49769) [x86_64-linux]</code>\nand <code>Rails 4.2.5</code></p>\n\n<p>I'm trying to added bootstrap tooklips into a ruby tag <code>&lt;%= link_to '', account, class: \"fa fa-eye\" %&gt;</code> but it doesn't seem to work.</p>\n\n<p>The syntax I used was </p>\n\n<pre><code>&lt;%= link_to '', account, class: \"fa fa-eye\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Tooltip on top\"&gt;Tooltip on top %&gt;\n</code></pre>\n\n<p>I placed the sample code from the bootstrap site </p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-default\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Tooltip on top\"&gt;Tooltip on top&lt;/button&gt;\n</code></pre>\n\n<p>just to make sure that the js was working correctly and it seem to be fine. I want to avoid installing bootstrap-tooltip-rails Gem or any other gem for that matter. Not sure what I'm missing.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1452712365, "post_id": 34775017, "comment_id": 57295306, "body": "Not sure why you are using lower cases in the regex with the <code>i</code> option rather than directly writing the upper case letters when you are only looking for upper case letters."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452712386, "post_id": 34775017, "comment_id": 57295317, "body": "Regex by itself is just an expression. It does not do anything. You have not made clear how you are going to use it."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452712390, "post_id": 34775017, "comment_id": 57295318, "body": "Not sure what you are going to do with it, but just replacing those letters with blank string can leave you blank spaces on either side of where the directions were, and furthermore, even a comma as in your last example, and won&#39;t give you the desired result."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452712772, "post_id": 34775017, "comment_id": 57295564, "body": "I have no idea how you can distinguish a direction from a non-direction letter (like <code>E</code> in <code>apartment 82E</code>) using just a regex and without an AI or any kind of relevant database."}, {"owner": {"reputation": 7019, "user_id": 2788206, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b577ff7b8c73ee8573d43fa2519c4faf?s=128&d=identicon&r=PG", "display_name": "Sampat Badhe", "link": "https://stackoverflow.com/users/2788206/sampat-badhe"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452968398, "post_id": 34775017, "comment_id": 57402553, "body": "@sawa I have updated my question. I am having on requirement where I want to remove the direction from the street address and save it differently. and users inputs can be in any case <code>upper case</code> or <code>lower case</code> so <code>i</code> is used."}], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 3, "last_activity_date": 1452712123, "creation_date": 1452712123, "answer_id": 34775049, "question_id": 34775017, "link": "https://stackoverflow.com/questions/34775017/regex-to-remove-characters-from-the-string/34775049#34775049", "title": "regex to remove characters from the string", "body": "<pre><code>\\b((e|w)|(n|s)(e|w)?)\\b\n</code></pre>\n\n<p>Should do it for you.<code>\\b</code> is <code>word boundary</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/iJ7bT6/8\" rel=\"nofollow\">https://regex101.com/r/iJ7bT6/8</a></p>\n"}, {"tags": [], "owner": {"reputation": 607, "user_id": 5764537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPvFw.png?s=128&g=1", "display_name": "zsltg", "link": "https://stackoverflow.com/users/5764537/zsltg"}, "is_accepted": false, "score": 1, "last_activity_date": 1452713057, "creation_date": 1452713057, "answer_id": 34775324, "question_id": 34775017, "link": "https://stackoverflow.com/questions/34775017/regex-to-remove-characters-from-the-string/34775324#34775324", "title": "regex to remove characters from the string", "body": "<pre><code>/,?\\s?\\b((e|w)|(n|s)(e|w)?)\\b\\s?/i\n</code></pre>\n\n<p>This would also remove the blank spaces around the directions and preceding comma.</p>\n\n<p>Example: <a href=\"https://regex101.com/r/iW8dZ7/2\" rel=\"nofollow\">https://regex101.com/r/iW8dZ7/2</a></p>\n"}, {"tags": [], "owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1452719810, "creation_date": 1452719810, "answer_id": 34777182, "question_id": 34775017, "link": "https://stackoverflow.com/questions/34775017/regex-to-remove-characters-from-the-string/34777182#34777182", "title": "regex to remove characters from the string", "body": "<p>Here is the best I could come up with:</p>\n\n<pre><code>/[\\s,]*\\b(?:[EW]|[NS][EW]?)\\b/i\n</code></pre>\n\n<p>The regex matches:</p>\n\n<ul>\n<li><code>[\\s,]*</code> - zero or more whitespaces and commas</li>\n<li><code>\\b</code> - word boundary (leading)</li>\n<li><code>(?:[EW]|[NS][EW]?)</code> - a non-capturing grouping construct that matches:\n\n<ul>\n<li><code>[EW]</code> - either <code>E</code> or <code>W</code></li>\n<li><code>[NS][EW]?</code> - either <code>N</code> or <code>S</code> <em>optionally</em> (thus these are missing from the first alternative) followed by either <code>E</code> or <code>W</code>.</li>\n</ul></li>\n<li><code>\\b</code> - trailing word boundary</li>\n</ul>\n\n<p><strong>NOTE</strong> that using character classes (those <code>[...]</code> thingies) to match single characters is the best practice as they do not cause backtracking (so it is preferred to groups with alternatives that are usually used with <em>sequences of characters</em>).</p>\n\n<p>See <a href=\"http://ideone.com/tIMuF3\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<pre><code>rx = /[\\s,]*\\b(?:[EW]|[NS][EW]?)\\b/i\nputs \"123 Main Street S\".sub(rx, '').strip  # =&gt; \"123 Main Street\"\nputs \"E 123 Main Street\".sub(rx, '').strip  # =&gt; \"123 Main Street\"\nputs \"SE 123 Main Street\".sub(rx, '').strip # =&gt; \"123 Main Street\"\nputs \"123 Main Street, SW, US\".sub(rx, '').strip # =&gt; \"123 Main Street, US\"\n</code></pre>\n"}], "owner": {"reputation": 7019, "user_id": 2788206, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b577ff7b8c73ee8573d43fa2519c4faf?s=128&d=identicon&r=PG", "display_name": "Sampat Badhe", "link": "https://stackoverflow.com/users/2788206/sampat-badhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 1, "accepted_answer_id": 34777182, "answer_count": 3, "score": 1, "last_activity_date": 1452968191, "creation_date": 1452712002, "last_edit_date": 1452968191, "question_id": 34775017, "link": "https://stackoverflow.com/questions/34775017/regex-to-remove-characters-from-the-string", "title": "regex to remove characters from the string", "body": "<p>I have street address and I want to replace the street direction with blank string. </p>\n\n<p>this are the streets <code>E, W, S, N, NE, NW, SE, SW</code> which I want to replace with blank string</p>\n\n<p>I have tried this regex <code>/((e|w)|(n|s)(e|w)?)/i</code> to replace the direction, but this replacing all the instance characters present in regex.</p>\n\n<p>I would like convert street address like following - </p>\n\n<pre><code>\"123 Main Street S\" =&gt; \"123 Main Street\"\n\"E 123 Main Street\" =&gt; \"123 Main Street\"\n\"SE 123 Main Street\" =&gt; \"123 Main Street\"\n\"123 Main Street, SW, US\" =&gt; \"123 Main Street, US\"\n\"123 Main Street, s, USA\" =&gt; \"123 Main Street, USA\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "sqlite", "insert", "many-to-many"], "comments": [{"owner": {"reputation": 551, "user_id": 3558900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EI06H.jpg?s=128&g=1", "display_name": "Randall Valenciano", "link": "https://stackoverflow.com/users/3558900/randall-valenciano"}, "edited": false, "score": 0, "creation_date": 1452712118, "post_id": 34774798, "comment_id": 57295164, "body": "I believe this was answered here: <a href=\"http://stackoverflow.com/questions/5218994/how-to-save-many-has-many-through-objects-at-the-same-time-in-rails\" title=\"how to save many has many through objects at the same time in rails\">stackoverflow.com/questions/5218994/&hellip;</a> Best"}, {"owner": {"reputation": 3, "user_id": 2483178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7b66eefd24b88d598db5fc079a3bc7?s=128&d=identicon&r=PG", "display_name": "JoaoMorais", "link": "https://stackoverflow.com/users/2483178/joaomorais"}, "reply_to_user": {"reputation": 551, "user_id": 3558900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EI06H.jpg?s=128&g=1", "display_name": "Randall Valenciano", "link": "https://stackoverflow.com/users/3558900/randall-valenciano"}, "edited": false, "score": 0, "creation_date": 1452713255, "post_id": 34774798, "comment_id": 57295835, "body": "@RandallValenciano i did that on my create function but now gives me an error.  undefined method `each&#39; for nil:NilClass    def create     @team = Team.new(team_params)     @team.leagues = @leagues     team.save   Thanks for helping :)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2483178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7b66eefd24b88d598db5fc079a3bc7?s=128&d=identicon&r=PG", "display_name": "JoaoMorais", "link": "https://stackoverflow.com/users/2483178/joaomorais"}, "edited": false, "score": 0, "creation_date": 1452732322, "post_id": 34775607, "comment_id": 57304557, "body": "I noticed that while its creating the row on the database, its not inserting the league_id, it creates everything including the team_id, just not league_id :/"}], "tags": [], "owner": {"reputation": 1150, "user_id": 5213790, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/JsYim.jpg?s=128&g=1", "display_name": "mrvncaragay", "link": "https://stackoverflow.com/users/5213790/mrvncaragay"}, "is_accepted": true, "score": 0, "last_activity_date": 1452714036, "creation_date": 1452714036, "answer_id": 34775607, "question_id": 34774798, "link": "https://stackoverflow.com/questions/34774798/rubyonrails-many-to-many-relationship-not-inserting-into-join-table/34775607#34775607", "title": "#RubyOnRails Many to Many relationship not inserting into join table", "body": "<p>Im assuming your teams_join_leagues table like this:</p>\n\n<pre><code> create_table \"teams_join_leagues\", force: :cascade do |t|\n    t.integer  \"team_id\"\n    t.integer  \"league_id\"\n    ....\n  end\n</code></pre>\n\n<p>so in your create team, it should look like this or similar</p>\n\n<pre><code>def create\n    @league = current_team.teams_join_leagues.build(league_id: params[:league_id])\n    if @league.save\n        ....\n  end\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2483178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7b66eefd24b88d598db5fc079a3bc7?s=128&d=identicon&r=PG", "display_name": "JoaoMorais", "link": "https://stackoverflow.com/users/2483178/joaomorais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34775607, "answer_count": 1, "score": 0, "last_activity_date": 1452714036, "creation_date": 1452711159, "question_id": 34774798, "link": "https://stackoverflow.com/questions/34774798/rubyonrails-many-to-many-relationship-not-inserting-into-join-table", "title": "#RubyOnRails Many to Many relationship not inserting into join table", "body": "<p>I'm creating an app while learning how to code in Ruby. I'm making a simple league app where i can create new teams, players, leagues...</p>\n\n<p>I have a team model and a league model and because a team can enter in more than one league and one league can have more than one team they are a many to many association. However, when i create / edit a team it doesnt insert anything into the join table, only changes the other attributes.</p>\n\n<p>The models:</p>\n\n<p>Team Model</p>\n\n<pre><code>class Team &lt; ActiveRecord::Base\n    validates_presence_of :name\n    has_many :teams_join_leagues, :dependent =&gt; :destroy\n    has_many :leagues, through: :teams_join_leagues\nend\n</code></pre>\n\n<p>League Model</p>\n\n<pre><code>class League &lt; ActiveRecord::Base\n    validates_presence_of :name, :begindate, :enddate, :prizepool, :season_id\n\n    validate :start_must_be_before_end_time\n\n  has_many :teams_join_leagues, :dependent =&gt; :destroy\n  has_many :teams, through: :teams_join_leagues\n</code></pre>\n\n<p>Join TeamLeague Model</p>\n\n<pre><code>class TeamsJoinLeague &lt; ActiveRecord::Base\n    belongs_to :team \n    belongs_to :league\nend\n</code></pre>\n\n<p>TeamController param function:</p>\n\n<pre><code>def team_params\n      params.require(:team).permit(:name, leagues: [:id])\n    end\n</code></pre>\n\n<p>Create function:</p>\n\n<pre><code>def create\n    @team = Team.new(team_params)\n\n    respond_to do |format|\n      if @team.save\n        format.html { redirect_to @team, notice: 'Team was successfully     created.' }\n    format.json { render :show, status: :created, location: @team }\n  else\n    format.html { render :new }\n    format.json { render json: @team.errors, status: :unprocessable_entity }\n    end\n   end\n end\n</code></pre>\n\n<p>What i'm doing wrong? it never inserts anything on the join table leaving all the teams without leagues :/</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "instagram", "instagram-api"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 2780077, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/29ff7ba98c059c1b9f1717ab3d684eb4?s=128&d=identicon&r=PG&f=1", "display_name": "sebaMelgar", "link": "https://stackoverflow.com/users/2780077/sebamelgar"}, "edited": false, "score": 0, "creation_date": 1452714876, "post_id": 34775731, "comment_id": 57296863, "body": "Ok, thanks! Yes I know, but I need the biggest account order by followers&#39;s account. So I have to request for each user, I have to find other way to order the list of users that the API returns.  Also you don&#39;t need the access token, check the link below: <a href=\"https://www.instagram.com/developer/endpoints/users/#get_users\" rel=\"nofollow noreferrer\">instagram.com/developer/endpoints/users/#get_users</a> But any way, thank you :D"}], "tags": [], "owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "is_accepted": false, "score": 1, "last_activity_date": 1452714485, "creation_date": 1452714485, "answer_id": 34775731, "question_id": 34774783, "link": "https://stackoverflow.com/questions/34774783/return-users-ordered-by-followers-instagram-api/34775731#34775731", "title": "Return Users ordered by followers Instagram API", "body": "<p>As far as Instragrams documentation goes this is not possible: <a href=\"https://www.instagram.com/developer/endpoints/users/#get_users_search\" rel=\"nofollow\">https://www.instagram.com/developer/endpoints/users/#get_users_search</a></p>\n\n<p>From what I can see you can only search by username and I don't see any other way to add parameters. So unless there is an unknown hidden param I don't think this is possible.</p>\n\n<p>If you have a specific user you can see how many users follow that user here: <a href=\"https://www.instagram.com/developer/endpoints/relationships/#get_users_follows\" rel=\"nofollow\">https://www.instagram.com/developer/endpoints/relationships/#get_users_follows</a> but you would need an access token for that user.</p>\n"}], "owner": {"reputation": 97, "user_id": 2780077, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/29ff7ba98c059c1b9f1717ab3d684eb4?s=128&d=identicon&r=PG&f=1", "display_name": "sebaMelgar", "link": "https://stackoverflow.com/users/2780077/sebamelgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452715592, "creation_date": 1452711121, "last_edit_date": 1452715592, "question_id": 34774783, "link": "https://stackoverflow.com/questions/34774783/return-users-ordered-by-followers-instagram-api", "title": "Return Users ordered by followers Instagram API", "body": "<p>I have an issue, I want to get the biggest accounts in Instagram using the API for ruby. When I said \"biggest\", I meant the accounts ordered by the amount of followers.</p>\n\n<p>I found the service <code>/search</code>, but I don't know how to make the query. It seems that it's only to search by username.</p>\n\n<p>Any idea or workaround?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ruby", "gulp", "capistrano"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1880123, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3d59f328693521785d4f135d44c2b8b?s=128&d=identicon&r=PG", "display_name": "Kirsten Larsen", "link": "https://stackoverflow.com/users/1880123/kirsten-larsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1452711125, "creation_date": 1452711125, "answer_id": 34774787, "question_id": 34774629, "link": "https://stackoverflow.com/questions/34774629/sshkitcommandfailed-gulp-exit-status-256/34774787#34774787", "title": "SSHKit::Command::Failed: gulp exit status: 256", "body": "<p>FOUND IT! It was within the SASS code - there was an error and thus it did not compile properly.</p>\n"}], "owner": {"reputation": 21, "user_id": 1880123, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3d59f328693521785d4f135d44c2b8b?s=128&d=identicon&r=PG", "display_name": "Kirsten Larsen", "link": "https://stackoverflow.com/users/1880123/kirsten-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452711125, "creation_date": 1452710619, "question_id": 34774629, "link": "https://stackoverflow.com/questions/34774629/sshkitcommandfailed-gulp-exit-status-256", "title": "SSHKit::Command::Failed: gulp exit status: 256", "body": "<p>Running Capistrano. Worked yesterday, not working today. Here's the main error. It's with Gulp... Ran <code>gulp -v</code> and both local and global are 3.9.0 </p>\n\n<pre><code>INFO[17d08d58] Running /usr/bin/env gulp --production --no-color on localhost\ncap aborted!\nSSHKit::Command::Failed: gulp exit status: 256\ngulp stdout: [10:25:28] Using gulpfile ...gulpfile.js\n[10:25:28] Starting 'clean'...\n[10:25:28] Finished 'clean' after 14 ms\n[10:25:28] Starting 'default'...\n[10:25:28] Starting 'wiredep'...\n[10:25:28] Starting 'scssLint'...\n[10:25:28] Finished 'scssLint' after 13 \u03bcs\n[10:25:28] Starting 'jshint'...\n[10:25:29] Starting 'browserify'...\n[10:25:29] Starting 'fonts'...\n[10:25:29] Starting 'images'...\n[10:25:29] Finished 'default' after 1.08 s\n[10:25:30] Finished 'wiredep' after 1.34 s\n[10:25:30] Starting 'styles'...\ngulp stderr: stream.js:94\n  throw er; // Unhandled stream error in pipe.\n        ^\nError: invalid top-level expression\n</code></pre>\n\n<p>Any help would be greatly appreciated. I also ran <code>capistrano-ssh-doctor</code> and everything was working great. </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 9737, "user_id": 2422778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUihh.jpg?s=128&g=1", "display_name": "Mike Szyndel", "link": "https://stackoverflow.com/users/2422778/mike-szyndel"}, "edited": false, "score": 0, "creation_date": 1452717445, "post_id": 34774429, "comment_id": 57298305, "body": "Did you change the name of the controller lately? Or move the file? Can you also please include <code>sessions_helper.rb</code>? Does removing it solve the issue?"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5304159, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7893e9339603b608d48bf19abe9e53f?s=128&d=identicon&r=PG&f=1", "display_name": "Asan", "link": "https://stackoverflow.com/users/5304159/asan"}, "edited": false, "score": 0, "creation_date": 1466893076, "post_id": 34795236, "comment_id": 63507086, "body": "Same thing happened to me. I also had to clear my cookies to make it work."}], "tags": [], "owner": {"reputation": 165, "user_id": 4825206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-W4QVgGUUPgY/AAAAAAAAAAI/AAAAAAAAApg/fXCxdZNiI9k/photo.jpg?sz=128", "display_name": "Koala Bear", "link": "https://stackoverflow.com/users/4825206/koala-bear"}, "is_accepted": true, "score": 1, "last_activity_date": 1452790353, "creation_date": 1452790353, "answer_id": 34795236, "question_id": 34774429, "link": "https://stackoverflow.com/questions/34774429/rails-tutorial-unable-to-autoload-constant-sessionscontroller/34795236#34795236", "title": "Rails Tutorial: Unable to autoload constant SessionsController", "body": "<p>This turned out to be an issue with Cloud9's online IDE.  For whatever reason it was displaying the sessions_controller.rb file with everything in it, when it fact (again, for reasons I do not understand) it was blank.  Closing the workspace on all machines and reopening it showed the file as blank, and copy+pasting the controller code in the original post solved the issue.</p>\n"}], "owner": {"reputation": 165, "user_id": 4825206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-W4QVgGUUPgY/AAAAAAAAAAI/AAAAAAAAApg/fXCxdZNiI9k/photo.jpg?sz=128", "display_name": "Koala Bear", "link": "https://stackoverflow.com/users/4825206/koala-bear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 0, "accepted_answer_id": 34795236, "answer_count": 1, "score": 0, "last_activity_date": 1490096594, "creation_date": 1452710060, "last_edit_date": 1452710322, "question_id": 34774429, "link": "https://stackoverflow.com/questions/34774429/rails-tutorial-unable-to-autoload-constant-sessionscontroller", "title": "Rails Tutorial: Unable to autoload constant SessionsController", "body": "<p>I'm going through Michael Hartl's rails tutorial and all is well, but I seem to have borked something and I can't figure out where (partially thanks to my horrendously sloppy git commits)</p>\n\n<blockquote>\n  <p>LoadError: Unable to autoload constant SessionsController, expected /home/ubuntu/workspace/sample_app/app/controllers/sessions_controller.rb to define it</p>\n</blockquote>\n\n<p>Inside of <code>~/workspace/sample_app/app/controllers/sessions_controller.rb</code>:</p>\n\n<pre><code>class SessionsController &lt; ApplicationController\n  def new\n  end\n\n  def create\n    user = User.find_by(email: params[:session][:email].downcase)\n    if user &amp;&amp; user.authenticate(params[:session][:password])\n      log_in user\n      params[:session][:remember_me] == '1' ? remember(user) : forget(user)\n      flash[:success] = \"Successfully logged in!\"\n      redirect_back_or(user)\n    else\n      flash.now[:danger] = \"Invalid email or password\"\n      render 'new'\n    end\n  end\n\n  def destroy\n    logout if logged_in?\n    redirect_to login_path\n  end\nend\n</code></pre>\n\n<p>The test in question that is failing is:</p>\n\n<pre><code>require 'test_helper'\n\nclass SessionsControllerTest &lt; ActionController::TestCase\n  test \"should get new\" do\n    get :new\n    assert_response :success\n  end    \nend\n</code></pre>\n\n<p>Everything I'm digging up is telling me it's a case sensitivity issue, but the snake case and camel case look correct to me. It was working fine earlier but now it's not, and I'm really unsure where I could've gone wrong.</p>\n\n<p>Other integration tests that rely on the <code>SessionsController</code> are also failing, when referencing the <code>sessions_helper.rb</code> file. But I figure failing on a get <code>:new</code> would be the right place to start fixing it.</p>\n"}, {"tags": ["ruby-on-rails", "arrays", "ruby", "string"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452708070, "post_id": 34773753, "comment_id": 57292632, "body": "That is invalid. Do you mean <code>&quot;[\\&quot;http</code>...?"}, {"owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452708464, "post_id": 34773753, "comment_id": 57292851, "body": "Yeah, I meant like this: &quot;[\\&quot;<a href=\"http://paulgraham.com/re.html\" rel=\"nofollow noreferrer\">paulgraham.com/re.html</a>\\&quot;]&quot;"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452708697, "post_id": 34773753, "comment_id": 57292960, "body": "You fixed where you shouldn&#39;t have. Now, it&#39;s wrong in the other way."}, {"owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452709005, "post_id": 34773753, "comment_id": 57293146, "body": "sawa, I&#39;m confused. If I do the URI extract from message.body I get: [&quot;<a href=\"http://getbootstrap.com/javascript/#tabs\" rel=\"nofollow noreferrer\">getbootstrap.com/javascript/#tabs</a>&quot;, &quot;<a href=\"http://paulgraham.com/re.html&quot;]\" rel=\"nofollow noreferrer\">paulgraham.com/re.html&quot;]</a>, and then I save it to the db as message.link. Then I fetch the data from the db and I get back &quot;[\\&quot;<a href=\"http://getbootstrap.com/javascript/#tabs\" rel=\"nofollow noreferrer\">getbootstrap.com/javascript/#tabs</a>\\&quot;, \\&quot;<a href=\"http://paulgraham.com/re.html\" rel=\"nofollow noreferrer\">paulgraham.com/re.html</a>\\&quot;]&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "edited": false, "score": 0, "creation_date": 1452708577, "post_id": 34773868, "comment_id": 57292898, "body": "you can display all the items from an array using flatten and map: <code>@messages.map(&amp;:link).flatten =&gt; [link, link, link, link]</code>"}, {"owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "edited": false, "score": 0, "creation_date": 1452709411, "post_id": 34773868, "comment_id": 57293420, "body": "court3nay, what I don&#39;t get is how you can mix the different objects. In this example the first link belongs to message(1) and the other three to message(2)?"}, {"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "reply_to_user": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "edited": false, "score": 0, "creation_date": 1452711261, "post_id": 34773868, "comment_id": 57294673, "body": "Yes. Since it&#39;s not obvious what you want to do with the links, I&#39;m giving you some general ruby ideas  :) You might want to make a separate class/table for links with has_many association"}, {"owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "edited": false, "score": 0, "creation_date": 1452711339, "post_id": 34773868, "comment_id": 57294719, "body": "Basically, when a user creates a chat message the link gets saved, so the users can find all the links from a conversation. I&#39;m not sure if I need a new class. I will just display the links as a list (kinda index page), and if user click on one of them then gets to the given page. So besides recognizing links in chat messages and displaying them I do nothing with the links. What do you think? Do I need a separate class?"}, {"owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "edited": false, "score": 0, "creation_date": 1452717887, "post_id": 34773868, "comment_id": 57298560, "body": "court3nay, plz take a look at the updated question. I would like to display 12 links with created_at attribute, but since @message_links2 is an array I can&#39;t call the pagination on it and it doesn&#39;t contain the created_at date. If I call the pagination on the message.with_links objects like in the current code then the number of links will vary since it&#39;s unknown how many links an object has."}, {"owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "reply_to_user": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "edited": false, "score": 0, "creation_date": 1452734413, "post_id": 34773868, "comment_id": 57305195, "body": "I think you should keep links in a separate table and paginate on that. if you did that, you&#39;d be finished already :) you can easily extract &#39;em out with a callback."}], "tags": [], "owner": {"reputation": 977, "user_id": 4142552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Puiw1rqSrjE/AAAAAAAAAAI/AAAAAAAAASA/2u6qPeqLeYY/photo.jpg?sz=128", "display_name": "court3nay", "link": "https://stackoverflow.com/users/4142552/court3nay"}, "is_accepted": true, "score": 1, "last_activity_date": 1452708152, "last_edit_date": 1495541719, "creation_date": 1452708152, "answer_id": 34773868, "question_id": 34773753, "link": "https://stackoverflow.com/questions/34773753/extract-elements-from-a-string-representing-an-array/34773868#34773868", "title": "Extract elements from a string representing an array", "body": "<p>This is where you want a serialized column. Then you won't need to do the conversion yourself.  see: <a href=\"https://stackoverflow.com/questions/6694432/using-rails-serialize-to-save-hash-to-database\">Using Rails serialize to save hash to database</a></p>\n"}], "owner": {"reputation": 2210, "user_id": 4811651, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ozvMA.jpg?s=128&g=1", "display_name": "Sean Magyar", "link": "https://stackoverflow.com/users/4811651/sean-magyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 34773868, "answer_count": 1, "score": 0, "last_activity_date": 1452717724, "creation_date": 1452707875, "last_edit_date": 1452717724, "question_id": 34773753, "link": "https://stackoverflow.com/questions/34773753/extract-elements-from-a-string-representing-an-array", "title": "Extract elements from a string representing an array", "body": "<p>My message object has a link attribute <code>@message.link</code>, which is a string. Before saving message.link to db I <code>URI.extract</code> from message.body:</p>\n\n<pre><code>[\"http://getbootstrap.com/javascript/#tabs\", \"http://paulgraham.com/re.html\"]\n</code></pre>\n\n<p>Once I save it to the db message.link will be saved as:</p>\n\n<pre><code>\"[\\\"http://getbootstrap.com/javascript/#tabs\\\", \\\"http://paulgraham.com/re.html\\\"]\"\n</code></pre>\n\n<p>When I fetch the data from db later on how can I get the array from the message.link string like this?</p>\n\n<pre><code>[\"http://getbootstrap.com/javascript/#tabs\", \"http://paulgraham.com/re.html\"]\n</code></pre>\n\n<p>To display the links from all message objects, how should I extract the links? Let's say <code>message(1).link</code> has one link, <code>message(2)</code> has three links, and I'd like to display all the four links as separated elements of <code>@message_links</code> or whatever instance variable.</p>\n\n<p>UPDATE</p>\n\n<p>Method works but can't display the :created_at and do the pagination properly since @message_links2 will be an array of links.</p>\n\n<pre><code>@message_links = @conversation.messages.with_link.order(created_at: :desc).paginate(page: params[:page], per_page: 12)\n@message_links2 = @message_links.map(&amp;:link).flatten\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "heroku"], "comments": [{"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452707539, "post_id": 34773578, "comment_id": 57292303, "body": "it has specified the error as: <code>application.css has already been required</code>, so just eliminate allitiona require for the css"}, {"owner": {"reputation": 1, "user_id": 5785792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5310dd25793ed95c65a56c39228b4fc?s=128&d=identicon&r=PG&f=1", "display_name": "dnatapradja", "link": "https://stackoverflow.com/users/5785792/dnatapradja"}, "reply_to_user": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452757957, "post_id": 34773578, "comment_id": 57312423, "body": "I didn&#39;t understand your answer. Could you repeat that? If you meant deleting application.css, the file was already replaced with application.css.scss to begin with so it didn&#39;t exist when I was pushing to heroku."}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452766605, "post_id": 34773578, "comment_id": 57317605, "body": "no, I meant remove additions require key from your css sources"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5785792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5310dd25793ed95c65a56c39228b4fc?s=128&d=identicon&r=PG&f=1", "display_name": "dnatapradja", "link": "https://stackoverflow.com/users/5785792/dnatapradja"}, "edited": false, "score": 0, "creation_date": 1452757026, "post_id": 34779793, "comment_id": 57311992, "body": "This is the error I got when running rake assets:precompile locally: /usr/local/rvm/gems/ruby-2.2.1/gems/activesupport-4.1.0/lib/&zwnj;&#8203;active_support/value&zwnj;&#8203;s/time_zone.rb:285: warning: circular argument reference - now"}], "tags": [], "owner": {"reputation": 358, "user_id": 1894421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f8d115dd20a51bf2e13c3e1598ff8352?s=128&d=identicon&r=PG", "display_name": "apebeast", "link": "https://stackoverflow.com/users/1894421/apebeast"}, "is_accepted": false, "score": 0, "last_activity_date": 1452732362, "last_edit_date": 1495540321, "creation_date": 1452732362, "answer_id": 34779793, "question_id": 34773578, "link": "https://stackoverflow.com/questions/34773578/git-push-heroku-master-error-on-rake-assetsprecompile/34779793#34779793", "title": "Git Push Heroku Master error on rake assets:precompile", "body": "<p>Try running <code>rake assets:precompile</code> in your local application first. Then push the app to heroku once again.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/22778784/rake-assetsprecompile-rails-env-production-not-working-as-required\">rake assets:precompile RAILS_ENV=production not working as required</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5785792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5310dd25793ed95c65a56c39228b4fc?s=128&d=identicon&r=PG&f=1", "display_name": "dnatapradja", "link": "https://stackoverflow.com/users/5785792/dnatapradja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452756921, "creation_date": 1452707392, "last_edit_date": 1452756921, "question_id": 34773578, "link": "https://stackoverflow.com/questions/34773578/git-push-heroku-master-error-on-rake-assetsprecompile", "title": "Git Push Heroku Master error on rake assets:precompile", "body": "<p>Trying to push changes to Heroku with: git push heroku master.</p>\n\n<p>I got the following CircularDependencyError when it came to rake assets:precompile</p>\n\n<pre><code>-----&gt; Preparing app for Rails asset pipeline\n       Running: rake assets:precompile\n       I, [2016-01-13T15:55:28.215959 #354]  INFO -- : Writing /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/public/assets/application-b1c75457422e7764779b3a41c1807582.js\n       rake aborted!\n       Sprockets::CircularDependencyError: /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/app/assets/stylesheets/application.css has already been required\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:392:in `circular_call_protection'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:373:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:94:in `block in build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/caching.rb:58:in `cache_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:93:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:287:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:61:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:111:in `block in resolve_dependencies'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:105:in `each'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:105:in `resolve_dependencies'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:97:in `build_required_assets'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:16:in `initialize'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:374:in `new'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:374:in `block in build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:395:in `circular_call_protection'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:373:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:94:in `block in build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/caching.rb:58:in `cache_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:93:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:287:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:61:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:111:in `block in resolve_dependencies'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:105:in `each'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:105:in `resolve_dependencies'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:97:in `build_required_assets'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/processed_asset.rb:16:in `initialize'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:374:in `new'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:374:in `block in build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:395:in `circular_call_protection'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:373:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:94:in `block in build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/caching.rb:58:in `cache_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:93:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:287:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:61:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/bundled_asset.rb:37:in `init_with'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/asset.rb:24:in `from_hash'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/caching.rb:54:in `cache_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:93:in `build_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/base.rb:287:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/index.rb:61:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:211:in `block in find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:257:in `benchmark'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:210:in `find_asset'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:119:in `block in compile'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:118:in `each'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/sprockets/manifest.rb:118:in `compile'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:70:in `block (3 levels) in define'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-2.11.0/lib/rake/sprocketstask.rb:146:in `with_logger'\n       /tmp/build_0e4aaf291c7a69ab27b8f7714889c996/vendor/bundle/ruby/2.0.0/gems/sprockets-rails-2.3.3/lib/sprockets/rails/task.rb:69:in `block (2 levels) in define'\n       Tasks: TOP =&gt; assets:precompile\n       (See full trace by running task with --trace)  !  !     Precompiling assets failed.  !  !     Push rejected, failed to compile Ruby app\n</code></pre>\n\n<p>I am new to Ruby and programming in general. Any help would be greatly appreciated.</p>\n\n<p>Notes: It has no problems when pushing on Git Push Origin Master</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "persistence"], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 1222686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20c50605a4005303bfc6452899b723?s=128&d=identicon&r=PG", "display_name": "kimrgrey", "link": "https://stackoverflow.com/users/1222686/kimrgrey"}, "is_accepted": false, "score": 2, "last_activity_date": 1452705644, "creation_date": 1452705644, "answer_id": 34773041, "question_id": 34772951, "link": "https://stackoverflow.com/questions/34772951/storing-questions-asked-from-table-using-ruby-on-rails/34773041#34773041", "title": "Storing questions asked from table using Ruby on Rails", "body": "<p>Just use rails session to store information about your survey between requests: <a href=\"http://www.justinweiss.com/articles/how-rails-sessions-work/\" rel=\"nofollow\">http://www.justinweiss.com/articles/how-rails-sessions-work/</a>.</p>\n"}], "owner": {"reputation": 149, "user_id": 1339976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04e887979300ac301fa81bf7e0f8c4ce?s=128&d=identicon&r=PG", "display_name": "zapatify", "link": "https://stackoverflow.com/users/1339976/zapatify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452705644, "creation_date": 1452705313, "question_id": 34772951, "link": "https://stackoverflow.com/questions/34772951/storing-questions-asked-from-table-using-ruby-on-rails", "title": "Storing questions asked from table using Ruby on Rails", "body": "<p>My goal is to ask a series of questions.  Kind of like flashcards.  I have the questions in a table, and I can load them into a hash and ask them at random.  The problem is that I want to be able to ask a particular question once per review session.  The problem I have is that as soon as the page loads I lose the history and the hash resets to all the questions.  How do you solve this using (just) Rails?  I know the answer is probably \"use JavaScript\" but was wondering if it was possible using pure Rails.<br>\nOne solution I thought of was creating a temp table and pulling all the questions there, and then deleting the question as soon as it's asked.  Is that the best solution? </p>\n"}, {"tags": ["ruby", "inline-styles", "react.rb"], "answers": [{"comments": [{"owner": {"reputation": 2184, "user_id": 3536548, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qEPjr.png?s=128&g=1", "display_name": "Thermatix", "link": "https://stackoverflow.com/users/3536548/thermatix"}, "edited": false, "score": 0, "creation_date": 1452766101, "post_id": 34775571, "comment_id": 57317231, "body": "I see, I think it&#39;s stupid but I guess if that&#39;s the way it has to be then that&#39;s the way it has to be."}, {"owner": {"reputation": 162, "user_id": 1279177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978332aaec076a6491b78ccf860759d6?s=128&d=identicon&r=PG", "display_name": "ajjahn", "link": "https://stackoverflow.com/users/1279177/ajjahn"}, "reply_to_user": {"reputation": 2184, "user_id": 3536548, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qEPjr.png?s=128&g=1", "display_name": "Thermatix", "link": "https://stackoverflow.com/users/3536548/thermatix"}, "edited": false, "score": 0, "creation_date": 1452780517, "post_id": 34775571, "comment_id": 57326492, "body": "The choice was most likely made by the React.js team to play nice with JSON key formatting. React.rb currently has an open issue regarding how to better handle this situation: <a href=\"https://github.com/zetachang/react.rb/issues/108\" rel=\"nofollow noreferrer\">github.com/zetachang/react.rb/issues/108</a> ."}], "tags": [], "owner": {"reputation": 162, "user_id": 1279177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978332aaec076a6491b78ccf860759d6?s=128&d=identicon&r=PG", "display_name": "ajjahn", "link": "https://stackoverflow.com/users/1279177/ajjahn"}, "is_accepted": true, "score": 2, "last_activity_date": 1452713937, "creation_date": 1452713937, "answer_id": 34775571, "question_id": 34772443, "link": "https://stackoverflow.com/questions/34772443/auto-adding-of-px-suffix-to-style-values-in-react-rb/34775571#34775571", "title": "auto-adding of &#39;px&#39; suffix to style values in react.rb", "body": "<p>Style attributes should be specified in <strong>camel case</strong>. For css <code>z-index: -1;</code> write <code>{ zIndex: -1 }</code>.</p>\n\n<p>React.js converts css declarations from camel case to their proper format</p>\n\n<p>React also automatically adds the 'px' suffix to unit-less property values, with some exception as outlined in <a href=\"https://facebook.github.io/react/tips/style-props-value-px.html\" rel=\"nofollow\">these docs</a>.</p>\n"}], "owner": {"reputation": 2184, "user_id": 3536548, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qEPjr.png?s=128&g=1", "display_name": "Thermatix", "link": "https://stackoverflow.com/users/3536548/thermatix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 34775571, "answer_count": 1, "score": 0, "last_activity_date": 1452716441, "creation_date": 1452703907, "question_id": 34772443, "link": "https://stackoverflow.com/questions/34772443/auto-adding-of-px-suffix-to-style-values-in-react-rb", "title": "auto-adding of &#39;px&#39; suffix to style values in react.rb", "body": "<p>I've noticed that when I try to set the z-index of a page element using inline style, px gets added to the value automatically but z-index needs a number not a pixel value. </p>\n\n<p>So the web-browser won't accept it as a valid value and so Z-index effectively doesn't work because of it.</p>\n\n<p>I'm doing</p>\n\n<pre><code>{\n  \"z-index\" =&gt; -1\n}\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex", "devise", "passwords"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1452703449, "post_id": 34771819, "comment_id": 57289514, "body": "What do you mean it &quot;just does not work&quot;? Please edit your question to include the steps you&#39;re taking to test this code, the result you expect and the result you&#39;re getting."}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452706389, "post_id": 34771819, "comment_id": 57291587, "body": "set <code>pry</code> breakpoint into <code>#password_complexity</code> method and try match manually as: <code>&#47;\\A(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[[:^alnum:]])&zwnj;&#8203;&#47;x =~ password</code>"}, {"owner": {"reputation": 3, "user_id": 5785395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16bb879a98db2e39835631ce3bdac50?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Zafar", "link": "https://stackoverflow.com/users/5785395/sarim-zafar"}, "edited": false, "score": 0, "creation_date": 1452706495, "post_id": 34771819, "comment_id": 57291655, "body": "It doesn&#39;t work meaning that if I enter the incorrect password which does not match the regex expression it still accepts it."}, {"owner": {"reputation": 3, "user_id": 5785395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16bb879a98db2e39835631ce3bdac50?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Zafar", "link": "https://stackoverflow.com/users/5785395/sarim-zafar"}, "edited": false, "score": 1, "creation_date": 1452782871, "post_id": 34771819, "comment_id": 57328245, "body": "So, I was able to resolve the issue. It was quite a silly solution. The password that was being entered was first hashed using BCrypt and then undergoing validation. Thus, it would pass almost all the tests all the time (including the length and the matching of special characters).  In any case, the following code works perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5785395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16bb879a98db2e39835631ce3bdac50?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Zafar", "link": "https://stackoverflow.com/users/5785395/sarim-zafar"}, "edited": false, "score": 1, "creation_date": 1452782665, "post_id": 34775086, "comment_id": 57328076, "body": "The only reason why I am doing it inside a function is because I want to later break it down so that the user can exactly know what he is missing and not just a general message."}], "tags": [], "owner": {"reputation": 1476, "user_id": 3282479, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/45e313bf91a74f84cb6dfc02625797de?s=128&d=identicon&r=PG&f=1", "display_name": "rohan", "link": "https://stackoverflow.com/users/3282479/rohan"}, "is_accepted": true, "score": 2, "last_activity_date": 1452712257, "creation_date": 1452712257, "answer_id": 34775086, "question_id": 34771819, "link": "https://stackoverflow.com/questions/34771819/unable-to-perform-password-complexity-implementation-in-ruby-on-rails/34775086#34775086", "title": "Unable to perform password complexity implementation in Ruby on Rails?", "body": "<p>What you did should work, but why not do it simply like this</p>\n\n<pre><code>validates :password, format: { with: /\\A(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[[:^alnum:]])/, message: \"must include at least one lowercase letter, one uppercase letter, and one digit\" }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5785395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16bb879a98db2e39835631ce3bdac50?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Zafar", "link": "https://stackoverflow.com/users/5785395/sarim-zafar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 34775086, "answer_count": 1, "score": 0, "last_activity_date": 1452712257, "creation_date": 1452702191, "last_edit_date": 1495540894, "question_id": 34771819, "link": "https://stackoverflow.com/questions/34771819/unable-to-perform-password-complexity-implementation-in-ruby-on-rails", "title": "Unable to perform password complexity implementation in Ruby on Rails?", "body": "<p>I have researched a lot on this topic but due to some reason I am unable to perform password complexity implementation on my Ruby on Rails Web Application. I have installed the devise gem and followed <a href=\"https://stackoverflow.com/questions/22052473/best-flexible-rails-password-security-implementation\">Best flexible rails password security implementation</a> and <a href=\"https://stackoverflow.com/questions/14430648/how-to-validate-password-strength-with-devise-in-ruby-on-rails\">How to validate password strength with Devise in Ruby on Rails?</a>.</p>\n\n<p>My regex seems to be working when I check it online </p>\n\n<pre><code>/\\A(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[[:^alnum:]])/x\n</code></pre>\n\n<p>but once I implement it inside my user.rb it just does not work. </p>\n\n<p>My user.rb file:</p>\n\n<pre><code>#Active Record for Users\nclass User &lt; ActiveRecord::Base\n  belongs_to :entity\n  has_and_belongs_to_many :groups, :join_table =&gt; \"users_groups\"\n  has_many :surveys, inverse_of: :user\n  has_many :results, inverse_of: :user\n\n  validates :password, :firstName, :email, :salt, :role, :timezone, presence: true\n  validates :email, :uniqueness =&gt; {:scope =&gt; :entity_id}\n  validates_format_of :email, :with =&gt; /.+@.+\\..+/i\n\n  devise :database_authenticatable, :validatable\n  validate :password_complexity\n\n  #User Authentication\n  def self.authenticate(email=\"\", lpassword=\"\")\n    users = User.where(email: email)\n    results = []\n    users.each do |user|\n      if user &amp;&amp; user.match_password(lpassword)\n      results.push(user)\n      end\n    end\n    if(results.length == 0)\n    return false\n    else\n    return results\n    end\n  end\n\n  #Password Check\n  def match_password(lpassword=\"\")\n        return (BCrypt::Password.new(password).is_password?(lpassword+salt))\n    end\n\n  #Password Authentication\n  def password_complexity\n      if password.present? and not password.match(/\\A(?=.{8,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[[:^alnum:]])/x)\n        errors.add :password, \"must include at least one lowercase letter, one uppercase letter, and one digit\"\n      end\n   end\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "qt", "crash", "qtruby"], "answers": [{"tags": [], "owner": {"reputation": 1757, "user_id": 5766404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Scz0L.png?s=128&g=1", "display_name": "bogl", "link": "https://stackoverflow.com/users/5766404/bogl"}, "is_accepted": true, "score": 1, "last_activity_date": 1452702400, "last_edit_date": 1452702400, "creation_date": 1452701997, "answer_id": 34771753, "question_id": 34771752, "link": "https://stackoverflow.com/questions/34771752/qt-ruby-application-crash-in-qtabstractitemmodelmimedata-how-to-find-and-f/34771753#34771753", "title": "Qt/Ruby Application Crash in Qt::AbstractItemModel::mimeData - How to find and fix the cause?", "body": "<p>The C++ prototype for <code>mimeData</code> is :</p>\n\n<pre><code>QMimeData * QAbstractItemModel::mimeData \n  ( const QModelIndexList &amp; indexes ) const [virtual]\n</code></pre>\n\n<p>The method returns a pointer to a <code>QMimeData</code> object. My implementation of <code>mimeData</code> was <strong>returning a pointer to a local variable</strong>. Thus the non-deterministic crashes.</p>\n\n<p>Once found, fixing the issue was easy. An instance variable would stay alive and keep its value until the next call of <code>mimeData</code>:</p>\n\n<pre><code>  @mimeData = Qt::MimeData.new\n  @mimeData.setData(\"application/x-tegi.json\", encodedData)\n  @mimeData\nend\n</code></pre>\n\n<p>Another possibility is to call <code>super</code> and leave the construction and deconstruction to the superclass. This also inherits the default mime data (\"application/x-qabstractitemmodeldatalist\"):</p>\n\n<pre><code>  mimeData = super\n  mimeData.setData(\"application/x-tegi.json\", encodedData)\n  mimeData\nend\n</code></pre>\n\n<p>After having found the issue, it appears trivial to me. Nevertheless I would like to share it, because I wasted too much time with it. The qtruby documentation warns about pointer arguments and mentions some unsupported functions returning <code>uchar</code> pointers, but no word about functions returning pointers to Qt objects. Being lulled by qtruby seamlessly wrapping data types to and fro, I looked so many times over that little asterisk without spotting it. </p>\n"}], "owner": {"reputation": 1757, "user_id": 5766404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Scz0L.png?s=128&g=1", "display_name": "bogl", "link": "https://stackoverflow.com/users/5766404/bogl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 34771753, "answer_count": 1, "score": 1, "last_activity_date": 1452702400, "creation_date": 1452701997, "last_edit_date": 1452702339, "question_id": 34771752, "link": "https://stackoverflow.com/questions/34771752/qt-ruby-application-crash-in-qtabstractitemmodelmimedata-how-to-find-and-f", "title": "Qt/Ruby Application Crash in Qt::AbstractItemModel::mimeData - How to find and fix the cause?", "body": "<p>Recently I wrote a little application using Ruby and Qt. It was my first non-trivial project with qtruby. After some time I managed to translate C++ references and tutorials into working Ruby code, and got the hang of it. </p>\n\n<p>Only when implementing my own drag and drop functionality in  <code>QTreeView</code> widgets, I got really stuck. I could isolate the problem to the <code>Qt::AbstractItemModel::mimeData</code> method. After eliminating some other mistakes, I ended up with the following code which somehow caused the application to <strong>crash</strong> as soon as a drag action occured.</p>\n\n<pre><code>class TreeModel &lt; Qt::AbstractItemModel\n  def mimeData(indexlist)\n    encodedData = Qt::ByteArray.new(\"\")\n    stream = Qt::DataStream.new(encodedData, Qt::IODevice::WriteOnly)  \n\n    indexlist.each do |index|\n      if index.column == 0\n        if index.isValid\n          stream &lt;&lt; index.item.mime_data.to_json\n        end\n      end\n    end\n\n    mimeData = Qt::MimeData.new\n    mimeData.setData(\"application/x-tegi.json\", encodedData)\n    mimeData\n  end\nend\n</code></pre>\n\n<p>The crash appeared non-deterministic, a few times the code just worked. The error dump and backtrace did not give me a hint, only that the crash happened inside <code>QApplication::exec</code>.</p>\n\n<p><strong>What is the issue and how can it be fixed?</strong></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452704607, "post_id": 34771708, "comment_id": 57290416, "body": "seems that stream is loaded before loading concern, make sure that you have applied the concerns inside the class definition"}], "answers": [{"tags": [], "owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "is_accepted": false, "score": 0, "last_activity_date": 1452704878, "creation_date": 1452704878, "answer_id": 34772796, "question_id": 34771708, "link": "https://stackoverflow.com/questions/34771708/undefined-class-method-using-rails-concerns/34772796#34772796", "title": "Undefined class method using Rails Concerns", "body": "<p>It seems that the <code>Stream</code> is loaded before loading concern, make sure that you have applied the concerns inside the class definition. When rails loader matches class name for <code>Stream</code> constant, it autoloads it before the finishing evaliation of the <code>faculty_block</code>, so replace constants in it with symbols:</p>\n\n<pre><code>[:Program, :Stream, :Course, :Department, :Teacher].each do |sym|\n   model = sym.to_s.constantize\n   model.send(:include, FacultyBlock)\n   model.send(:extend, FacultyBlock::ClassMethods) # I added this just to try\nend\n</code></pre>\n"}], "owner": {"reputation": 2041, "user_id": 2071800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e1f877eccccc9e714b4d4fe03917f2a7?s=128&d=identicon&r=PG", "display_name": "Joe Half Face", "link": "https://stackoverflow.com/users/2071800/joe-half-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1452704878, "creation_date": 1452701915, "last_edit_date": 1495542214, "question_id": 34771708, "link": "https://stackoverflow.com/questions/34771708/undefined-class-method-using-rails-concerns", "title": "Undefined class method using Rails Concerns", "body": "<p>I did everything pretty much as described here: <a href=\"https://stackoverflow.com/questions/14541823/how-to-use-concerns-in-rails-4\">question</a></p>\n\n<p>But I keep getting error:</p>\n\n<pre><code>NoMethodError: undefined method `parent_model' for Stream (call 'Stream.connection' to establish a connection):Class\n</code></pre>\n\n<p>In model/concerns <code>faculty_block.rb</code></p>\n\n<pre><code>module FacultyBlock\n  extend ActiveSupport::Concern\n  included do\n    def find_faculty\n      resource = self\n      until resource.respond_to?(:faculty)\n        resource = resource.parent\n      end\n   resource.faculty\n    end\n    def parent\n      self.send(self.class.parent)\n    end\n  end\n\n  module ClassMethods\n    def parent_model(model)\n      @@parent = model\n    end\n  end\n\nend\n\n[Program, Stream, Course, Department, Teacher].each do |model|\n  model.send(:include, FacultyBlock)\n  model.send(:extend, FacultyBlock::ClassMethods) # I added this just to try\nend\n</code></pre>\n\n<p>In initializers:</p>\n\n<pre><code>require \"faculty_block\"\n</code></pre>\n\n<p>method call:</p>\n\n<pre><code>class Stream &lt; ActiveRecord::Base\n parent_model :program\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "regex"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452702172, "post_id": 34771682, "comment_id": 57288492, "body": "Ideal solution will be for the web server to re-direct to <code>https</code> URL"}, {"owner": {"reputation": 845, "user_id": 5646801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d133162c0a6c4b45ad559f5a86f8f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Sergii K", "link": "https://stackoverflow.com/users/5646801/sergii-k"}, "edited": false, "score": 0, "creation_date": 1452703101, "post_id": 34771682, "comment_id": 57289247, "body": "If you just need regexp for gsub: <code>.gsub(&#47;&lt;img src=\\&#39;http&#47;, &#39;&lt;img src=\\&#39;https&#39;)</code>; <code>.gsub(&#47;&lt;img src=\\&quot;http&#47;, &#39;&lt;img src=&quot;https&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1452702367, "creation_date": 1452702367, "answer_id": 34771874, "question_id": 34771682, "link": "https://stackoverflow.com/questions/34771682/ruby-replace-img-src-https-to-http/34771874#34771874", "title": "Ruby replace img src https to http", "body": "<p>If the image tags only consist of <code>&lt;img src=\"\"&gt;</code> (no attributes), you could o the following:</p>\n\n<pre><code>&lt;img.*?src=('|\")((?!https)[^\"']+)\\1\n# look for an image tag literally\n# look for src=\" or src='\n# assure that it is no https (negative lookahead)\n# capture everything up to the previously captured delimiter (quote/double quote)\n</code></pre>\n\n<p>These strings need to be replaced.</p>\n\n<p>See <a href=\"https://regex101.com/r/nA4yX4/1\" rel=\"nofollow\">https://regex101.com/r/nA4yX4/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 1312, "user_id": 2280562, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/3a1ecbfd6f642d6f18eaa9a51edbed89?s=128&d=identicon&r=PG", "display_name": "Sebastian Corneliu V&#238;rlan", "link": "https://stackoverflow.com/users/2280562/sebastian-corneliu-v%c3%aerlan"}, "edited": false, "score": 0, "creation_date": 1452702806, "post_id": 34771900, "comment_id": 57288989, "body": "It works great. Thank you. Can you recomend me where can I learn regex easy?"}], "tags": [], "owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "is_accepted": true, "score": 2, "last_activity_date": 1452702423, "creation_date": 1452702423, "answer_id": 34771900, "question_id": 34771682, "link": "https://stackoverflow.com/questions/34771682/ruby-replace-img-src-https-to-http/34771900#34771900", "title": "Ruby replace img src https to http", "body": "<p>Use a regex instead of a string:</p>\n\n<pre><code>mystring = \"text &lt;img src='https://image.com/img.jpg' /&gt; text\"\n\nmystring.gsub(/\\&lt;img src=(\"|')https.+(\"|')/){|match| match.gsub('https','http')}\n=&gt; \"text &lt;img src='http://image.com/img.jpg' /&gt; text\"\n</code></pre>\n"}], "owner": {"reputation": 1312, "user_id": 2280562, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/3a1ecbfd6f642d6f18eaa9a51edbed89?s=128&d=identicon&r=PG", "display_name": "Sebastian Corneliu V&#238;rlan", "link": "https://stackoverflow.com/users/2280562/sebastian-corneliu-v%c3%aerlan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 34771900, "answer_count": 2, "score": 0, "last_activity_date": 1452702429, "creation_date": 1452701819, "last_edit_date": 1452702429, "question_id": 34771682, "link": "https://stackoverflow.com/questions/34771682/ruby-replace-img-src-https-to-http", "title": "Ruby replace img src https to http", "body": "<p>How can I replace in a string all <code>https</code> from a image source to <code>http</code>?</p>\n\n<pre><code>&lt;img src=\"https\n&lt;img src='https\n&lt;img title=\"title\" src=\"https\n</code></pre>\n\n<p>Because of this type of combinations</p>\n\n<pre><code>\"text &lt;img src='https://image.com/img.jpg' /&gt; text\".gsub('&lt;img src=\"https', '&lt;img src=\"http')\n</code></pre>\n\n<p>will let https unreplaced.</p>\n\n<pre><code>gsub('https', 'http')\n</code></pre>\n\n<p>is not good because I don't want to replace the links for example.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "xml", "ebay-api"], "answers": [{"comments": [{"owner": {"reputation": 2168, "user_id": 4386626, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f2c9512ee4dac8ccbbf45fc2cf1a8046?s=128&d=identicon&r=PG&f=1", "display_name": "ToddT", "link": "https://stackoverflow.com/users/4386626/toddt"}, "edited": false, "score": 0, "creation_date": 1452720305, "post_id": 34773187, "comment_id": 57299741, "body": "Yea just starting so VERY confused.. Thanks for pointing me in the right direction!!"}, {"owner": {"reputation": 1632, "user_id": 1670318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5e2b3530e7767d6df048293d516c50?s=128&d=identicon&r=PG", "display_name": "SH-", "link": "https://stackoverflow.com/users/1670318/sh"}, "reply_to_user": {"reputation": 2168, "user_id": 4386626, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f2c9512ee4dac8ccbbf45fc2cf1a8046?s=128&d=identicon&r=PG&f=1", "display_name": "ToddT", "link": "https://stackoverflow.com/users/4386626/toddt"}, "edited": false, "score": 0, "creation_date": 1452721714, "post_id": 34773187, "comment_id": 57300415, "body": "Your Welcome. Good Luck !!"}], "tags": [], "owner": {"reputation": 1632, "user_id": 1670318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5e2b3530e7767d6df048293d516c50?s=128&d=identicon&r=PG", "display_name": "SH-", "link": "https://stackoverflow.com/users/1670318/sh"}, "is_accepted": true, "score": 3, "last_activity_date": 1452706094, "creation_date": 1452706094, "answer_id": 34773187, "question_id": 34771299, "link": "https://stackoverflow.com/questions/34771299/ebay-bulkdataexchangerequests-api-xml-uuid-is-missing/34773187#34773187", "title": "ebay BulkDataExchangeRequests API XML - UUID is missing", "body": "<p>Based on your XML provided above; It seems that you are confusing the nature of LMS.</p>\n\n<ul>\n<li>LMS is not a make a call -> change eBay listing.</li>\n<li>LMS is a multi-step process to handle Bulk Operations.</li>\n<li>Because of the Bulk nature, the steps are separated into multiple calls.</li>\n<li>The advantage of this is that the Service can validate each step separately.</li>\n<li>Also it simplifies sending large payloads.</li>\n</ul>\n\n<p>That means that you MUST NOT include the <code>Item</code> Payload in the <strong>createUploadJob</strong>. (See <a href=\"http://developer.ebay.com/devzone/bulk-data-exchange/CallRef/createUploadJob.html\" rel=\"nofollow\">Ebay Documentation</a>).</p>\n\n<hr>\n\n<p>In general, you MUST:</p>\n\n<ol>\n<li>Create the upload Job. (<a href=\"http://developer.ebay.com/devzone/bulk-data-exchange/CallRef/createUploadJob.html\" rel=\"nofollow\">createUploadJob</a>).</li>\n<li>Then upload the File. (<a href=\"http://developer.ebay.com/devzone/file-transfer/CallRef/uploadFile.html\" rel=\"nofollow\">uploadFile</a>).</li>\n<li>Then start the Job. (<a href=\"http://developer.ebay.com/devzone/bulk-data-exchange/CallRef/startUploadJob.html\" rel=\"nofollow\">startUploadJob</a>).</li>\n</ol>\n\n<p>Followed By:</p>\n\n<ol>\n<li>(SHOULD) Wait Some time.</li>\n<li>Check the Job's status. (<a href=\"http://developer.ebay.com/devzone/bulk-data-exchange/CallRef/getJobStatus.html\" rel=\"nofollow\">getJobStatus</a>).</li>\n<li>Download the Result File. (<a href=\"http://developer.ebay.com/devzone/file-transfer/CallRef/downloadFile.html\" rel=\"nofollow\">downloadFile</a>).</li>\n</ol>\n\n<p>You should read the <a href=\"http://developer.ebay.com/devzone/large-merchant-services/Concepts/LMS_APIGuide.html\" rel=\"nofollow\">LMS guide</a>. Starting with the section on <a href=\"http://developer.ebay.com/devzone/large-merchant-services/concepts/LMS_APIGuide.html#working\" rel=\"nofollow\">workflow</a>.</p>\n"}], "owner": {"reputation": 2168, "user_id": 4386626, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f2c9512ee4dac8ccbbf45fc2cf1a8046?s=128&d=identicon&r=PG&f=1", "display_name": "ToddT", "link": "https://stackoverflow.com/users/4386626/toddt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 34773187, "answer_count": 1, "score": 1, "last_activity_date": 1452706094, "creation_date": 1452700756, "question_id": 34771299, "link": "https://stackoverflow.com/questions/34771299/ebay-bulkdataexchangerequests-api-xml-uuid-is-missing", "title": "ebay BulkDataExchangeRequests API XML - UUID is missing", "body": "<p>I'm testing a request to the LMS side of the eBay API by sending a <em>AddFixedPriceItemRequest</em> to <em>BulkDataExchangeRequests</em> via <em>createUploadJob</em>. </p>\n\n<p>When I do this I get the error: \"UUID is required\"  even though in the documentation that I can find it says UUID is optional. However, I am including a UUID in the body of the call. </p>\n\n<p>For the life of me I can't find an example of what the entire API call should look like. Headers included.</p>\n\n<p>I am coding this in Ruby using the gems HTTParty and Builder for the XML. My other calls are working fine and I verified this is the actual XML that is being sent.</p>\n\n<p>Here is what my XML looks like with header info:</p>\n\n<pre><code>destination = 'https://webservices.sandbox.ebay.com/BulkDataExchangeService'\n\nheaders = {\n \"X-EBAY-API-COMPATIBILITY-LEVEL\"=&gt;\"949\",\n \"X-EBAY-API-DEV-NAME\"=&gt;\"My dev name token\",\n \"X-EBAY-API-APP-NAME\"=&gt;\"App name token\",\n \"X-EBAY-API-CERT-NAME\"=&gt;\"Cert name token\",\n \"X-EBAY-SOA-OPERATION-NAME\"=&gt;\"createUploadJob\",\n \"X-EBAY-SOA-SECURITY-TOKEN\" =&gt; \"My auth token\",\n \"X-EBAY-API-SITEID\"=&gt;\"0\",\n \"Content-Type\"=&gt;\"text/xml\"}\n\n &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;BulkDataExchangeRequests&gt;\n  &lt;Header&gt;\n   &lt;SiteId&gt;0&lt;/SiteId&gt;\n   &lt;Version&gt;739&lt;/Version&gt;\n  &lt;/Header&gt;\n&lt;AddFixedPriceItemRequest xmlns=\"urn:ebay:apis:eBLBaseComponents\"&gt;\n&lt;RequesterCredentials&gt;\n  &lt;eBayAuthToken&gt;My Auth token&lt;/eBayAuthToken&gt;\n&lt;/RequesterCredentials&gt;\n&lt;ErrorLanguage&gt;en_US&lt;/ErrorLanguage&gt;\n&lt;WarningLevel&gt;High&lt;/WarningLevel&gt;\n&lt;Item&gt;\n  &lt;Title&gt;Listing with a bunch of CSS but no JS&lt;/Title&gt;\n  &lt;Description&gt;\n    &lt;![CDATA[bunch of html]]&gt;\n  &lt;/Description&gt;\n  &lt;PrimaryCategory&gt;\n    &lt;CategoryID&gt;37565&lt;/CategoryID&gt;\n  &lt;/PrimaryCategory&gt;\n  &lt;ConditionID&gt;3000&lt;/ConditionID&gt;\n  &lt;CategoryMappingAllowed&gt;true&lt;/CategoryMappingAllowed&gt;\n  &lt;Country&gt;US&lt;/Country&gt;\n  &lt;Currency&gt;USD&lt;/Currency&gt;\n  &lt;DispatchTimeMax&gt;3&lt;/DispatchTimeMax&gt;\n  &lt;ListingDuration&gt;Days_7&lt;/ListingDuration&gt;\n  &lt;ListingType&gt;FixedPriceItem&lt;/ListingType&gt;\n  &lt;PaymentMethods&gt;PayPal&lt;/PaymentMethods&gt;\n  &lt;PayPalEmailAddress&gt;todd@piedmontred.com&lt;/PayPalEmailAddress&gt;\n  &lt;PictureDetails&gt;\n    &lt;PictureURL&gt;http://s18.postimg.org/ocjdgkfrt/4_pack.jpg&lt;/PictureURL&gt;\n  &lt;/PictureDetails&gt;\n  &lt;PostalCode&gt;28211&lt;/PostalCode&gt;\n  &lt;ItemSpecifics&gt;\n    &lt;NameValueList&gt;\n      &lt;Name&gt;Brand&lt;/Name&gt;\n      &lt;Value&gt;Nike&lt;/Value&gt;\n    &lt;/NameValueList&gt;\n    &lt;NameValueList&gt;\n      &lt;Name&gt;Model&lt;/Name&gt;\n      &lt;Value&gt;Odyssey&lt;/Value&gt;\n    &lt;/NameValueList&gt;\n  &lt;/ItemSpecifics&gt;\n  &lt;Variations&gt;\n    &lt;VariationSpecificsSet&gt;\n      &lt;NameValueList&gt;\n        &lt;Name&gt;Size&lt;/Name&gt;\n        &lt;Value&gt;XS&lt;/Value&gt;\n        &lt;Value&gt;Large&lt;/Value&gt;\n      &lt;/NameValueList&gt;\n      &lt;NameValueList&gt;\n        &lt;Name&gt;Color&lt;/Name&gt;\n        &lt;Value&gt;Black&lt;/Value&gt;\n        &lt;Value&gt;Pink&lt;/Value&gt;\n      &lt;/NameValueList&gt;\n    &lt;/VariationSpecificsSet&gt;\n    &lt;Variation&gt;\n      &lt;SKU&gt;my_first_sku&lt;/SKU&gt;\n      &lt;StartPrice&gt;35.99&lt;/StartPrice&gt;\n      &lt;Quantity&gt;5&lt;/Quantity&gt;\n      &lt;VariationSpecifics&gt;\n        &lt;NameValueList&gt;\n          &lt;Name&gt;Size&lt;/Name&gt;\n          &lt;Value&gt;XS&lt;/Value&gt;\n        &lt;/NameValueList&gt;\n        &lt;NameValueList&gt;\n          &lt;Name&gt;Color&lt;/Name&gt;\n          &lt;Value&gt;Black&lt;/Value&gt;\n        &lt;/NameValueList&gt;\n      &lt;/VariationSpecifics&gt;\n    &lt;/Variation&gt;\n    &lt;Variation&gt;\n      &lt;SKU&gt;my_second_sku&lt;/SKU&gt;\n      &lt;StartPrice&gt;38.99&lt;/StartPrice&gt;\n      &lt;Quantity&gt;6&lt;/Quantity&gt;\n      &lt;VariationSpecifics&gt;\n        &lt;NameValueList&gt;\n          &lt;Name&gt;Size&lt;/Name&gt;\n          &lt;Value&gt;Large&lt;/Value&gt;\n        &lt;/NameValueList&gt;\n        &lt;NameValueList&gt;\n          &lt;Name&gt;Color&lt;/Name&gt;\n          &lt;Value&gt;Pink&lt;/Value&gt;\n        &lt;/NameValueList&gt;\n      &lt;/VariationSpecifics&gt;\n    &lt;/Variation&gt;\n    &lt;Pictures&gt;\n      &lt;VariationSpecificName&gt;Color&lt;/VariationSpecificName&gt;\n      &lt;VariationSpecificPictureSet&gt;\n        &lt;VariationSpecificValue&gt;Black&lt;/VariationSpecificValue&gt;\n        &lt;PictureURL&gt;http://thecodeplayer.com/uploads/s.jpg&lt;/PictureURL&gt;\n        &lt;PictureURL&gt;http://thecodeplayer.com/uploads/1.jpg&lt;/PictureURL&gt;\n      &lt;/VariationSpecificPictureSet&gt;\n      &lt;VariationSpecificPictureSet&gt;\n        &lt;VariationSpecificValue&gt;Pink&lt;/VariationSpecificValue&gt;\n        &lt;PictureURL&gt;http://thecodeplayer.com/uploads/mediaB.jpg&lt;/PictureURL&gt;\n        &lt;PictureURL&gt;http://thecodeplayer.com/uploads/mediadx.jpg&lt;/PictureURL&gt;\n      &lt;/VariationSpecificPictureSet&gt;\n    &lt;/Pictures&gt;\n  &lt;/Variations&gt;\n  &lt;ReturnPolicy&gt;\n    &lt;ReturnsAcceptedOption&gt;ReturnsAccepted&lt;/ReturnsAcceptedOption&gt;\n    &lt;RefundOption&gt;MoneyBack&lt;/RefundOption&gt;\n    &lt;ReturnsWithinOption&gt;Days_30&lt;/ReturnsWithinOption&gt;\n    &lt;Description&gt;This is just a description for the return \n     policy&lt;/Description&gt;\n    &lt;ShippingCostPaidByOption&gt;Buyer&lt;/ShippingCostPaidByOption&gt;\n  &lt;/ReturnPolicy&gt;\n  &lt;ShippingDetails&gt;\n    &lt;ShippingType&gt;Flat&lt;/ShippingType&gt;\n    &lt;ShippingServiceOptions&gt;\n      &lt;ShippingServicePriority&gt;1&lt;/ShippingServicePriority&gt;\n      &lt;ShippingService&gt;USPSMedia&lt;/ShippingService&gt;\n      &lt;ShippingServiceCost&gt;2.50&lt;/ShippingServiceCost&gt;\n    &lt;/ShippingServiceOptions&gt;\n  &lt;/ShippingDetails&gt;\n  &lt;Site&gt;US&lt;/Site&gt;\n  &lt;UUID&gt;8deb51e81bdc4b8eb136f92b746dd898&lt;/UUID&gt;\n&lt;/Item&gt;\n</code></pre>\n\n<p>\n</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activeadmin", "cancan", "cancancan"], "comments": [{"owner": {"reputation": 1500, "user_id": 2772719, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/emBMW.jpg?s=128&g=1", "display_name": "Adamantish", "link": "https://stackoverflow.com/users/2772719/adamantish"}, "edited": false, "score": 0, "creation_date": 1452703860, "post_id": 34771287, "comment_id": 57289849, "body": "Have you tried taking the bang off <code>access_denied!</code> .So just <code>access_denied</code> . And you&#39;ve got all your config in place like <code>config.on_unauthorized_access = :access_denied</code> ?"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452703990, "post_id": 34771287, "comment_id": 57289960, "body": "at first try <code>raise CanCan::AccessDenied, exception.message</code>"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452704107, "post_id": 34771287, "comment_id": 57290047, "body": "then: <code>rescue_from ActiveRecord::RecordInvalid, with: -&gt; { ... }</code>"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452704189, "post_id": 34771287, "comment_id": 57290116, "body": "well, seems the second advice is not required =)"}, {"owner": {"reputation": 610, "user_id": 797941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753b6e6f77f8d8024171729875c806a?s=128&d=identicon&r=PG", "display_name": "Pirhoo", "link": "https://stackoverflow.com/users/797941/pirhoo"}, "reply_to_user": {"reputation": 1500, "user_id": 2772719, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/emBMW.jpg?s=128&g=1", "display_name": "Adamantish", "link": "https://stackoverflow.com/users/2772719/adamantish"}, "edited": false, "score": 0, "creation_date": 1452704515, "post_id": 34771287, "comment_id": 57290353, "body": "@Adamantish  yes, same result without the bang (<code>access_denied</code> is called, as defined in active_admin.rb)"}, {"owner": {"reputation": 610, "user_id": 797941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753b6e6f77f8d8024171729875c806a?s=128&d=identicon&r=PG", "display_name": "Pirhoo", "link": "https://stackoverflow.com/users/797941/pirhoo"}, "reply_to_user": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452704525, "post_id": 34771287, "comment_id": 57290360, "body": "@\u041c\u0430\u043b\u044a\u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a same result too, the exception is not catched"}, {"owner": {"reputation": 14684, "user_id": 446267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7012ce54f5b02c8741ae73cec596b7fc?s=128&d=identicon&r=PG", "display_name": "\u041c\u0430\u043b\u044a \u0421\u043a\u0440\u044b\u043b\u0435\u0432\u044a", "link": "https://stackoverflow.com/users/446267/%d0%9c%d0%b0%d0%bb%d1%8a-%d0%a1%d0%ba%d1%80%d1%8b%d0%bb%d0%b5%d0%b2%d1%8a"}, "edited": false, "score": 0, "creation_date": 1452704956, "post_id": 34771287, "comment_id": 57290654, "body": "can you repalce the <code>CanCan::AccessDenied</code> wth your own expection class dericed from <code>StandardError</code>?"}, {"owner": {"reputation": 610, "user_id": 797941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753b6e6f77f8d8024171729875c806a?s=128&d=identicon&r=PG", "display_name": "Pirhoo", "link": "https://stackoverflow.com/users/797941/pirhoo"}, "edited": false, "score": 0, "creation_date": 1452705338, "post_id": 34771287, "comment_id": 57290905, "body": "Still not catched. So I suppose the problem doesn&#39;t come from the CanCan&#39;s exception."}, {"owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "edited": false, "score": 0, "creation_date": 1452723471, "post_id": 34771287, "comment_id": 57301270, "body": "Did you double check that no redirect occurs? Maybe you hit another AccessDenied after the redirect?"}, {"owner": {"reputation": 610, "user_id": 797941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753b6e6f77f8d8024171729875c806a?s=128&d=identicon&r=PG", "display_name": "Pirhoo", "link": "https://stackoverflow.com/users/797941/pirhoo"}, "reply_to_user": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "edited": false, "score": 0, "creation_date": 1452849156, "post_id": 34771287, "comment_id": 57357515, "body": "@Raffael that&#39;s a good idea but I tried to add some debug outputs in the rescue function and they&#39;re never displayed neither :/"}], "owner": {"reputation": 610, "user_id": 797941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753b6e6f77f8d8024171729875c806a?s=128&d=identicon&r=PG", "display_name": "Pirhoo", "link": "https://stackoverflow.com/users/797941/pirhoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452700737, "creation_date": 1452700737, "question_id": 34771287, "link": "https://stackoverflow.com/questions/34771287/rescue-from-in-applicationcontroller-doesnt-catch-exception", "title": "rescue_from in ApplicationController doesn&#39;t catch exception", "body": "<p>I'm setting up a simple RoR application. It mixes ActiveAdmin with CanCan to manage authorizations. When I raise a <code>CanCan::AccessDenied</code>, the exception is never rescured as it should:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>class ApplicationController &lt; ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  protect_from_forgery\n  # Ensure authorization happens on every action in your application\n  check_authorization\n\n  # If the user authorization fails, a CanCan::AccessDenied exception will be raised\n  rescue_from CanCan::AccessDenied do |exception|\n    redirect_to root_url, :alert =&gt; exception.message\n  end\n\n  def access_denied!(exception)\n    raise CanCan::AccessDenied.new exception.message\n  end\nend\n</code></pre>\n\n<p>Instead of redirecting to the <code>root_url</code>, the Exception is displayed like it is not catched.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FuSuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FuSuj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any clue? Thanks!</p>\n"}, {"tags": ["ruby", "sinatra"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1452704132, "post_id": 34770765, "comment_id": 57290066, "body": "Is your config file called <code>config.yml</code> or <code>config.yaml</code>? What gets printed if you do <code>p settings</code> inside the <code>get</code> block?"}, {"owner": {"reputation": 31, "user_id": 5785152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe617e4e25bfeb73235c00412e3b3eb?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Boland", "link": "https://stackoverflow.com/users/5785152/miguel-boland"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1452713849, "post_id": 34770765, "comment_id": 57296230, "body": "Hi, <code>config.yml</code> and <code>p settings</code> prints &#39;Main&#39;"}, {"owner": {"reputation": 31, "user_id": 5785152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe617e4e25bfeb73235c00412e3b3eb?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Boland", "link": "https://stackoverflow.com/users/5785152/miguel-boland"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1452715211, "post_id": 34770765, "comment_id": 57297056, "body": "On a side note, found a workaround: <code>config = YAML.load(File.read(&#39;config.yml&#39;))</code> and `config[&#39;svp&#39;] to access the yml parameter"}, {"owner": {"reputation": 181, "user_id": 5793266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O3q6Z.png?s=128&g=1", "display_name": "konacaret", "link": "https://stackoverflow.com/users/5793266/konacaret"}, "edited": false, "score": 0, "creation_date": 1453091006, "post_id": 34770765, "comment_id": 57434673, "body": "<code>puts settings.inspect</code> will always be the class name where the config is loaded.  So <code>Main</code> is the expected result.  To check to see if your config file was actually loaded, try adding <code>puts settings.methods(false).inspect</code> right below the <code>config_file &#39;config.yml&#39;</code> line.  If loaded properly, you should see <code>svp</code> methods in the results.  E.g., <code>[:app_file=, :app_file, :app_file?, :environments=, :environments, :environments?, :svp=, :svp, :svp?]</code>  My guess is that this is a relative path problem.  What command do you use to start your app?  What does <code>ls -1</code> in your app&#39;s root dir return?"}], "answers": [{"tags": [], "owner": {"reputation": 9294, "user_id": 9314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zWCkA.jpg?s=128&g=1", "display_name": "random", "link": "https://stackoverflow.com/users/9314/random"}, "is_accepted": false, "score": 0, "last_activity_date": 1499391647, "creation_date": 1499391647, "answer_id": 44961281, "question_id": 34770765, "link": "https://stackoverflow.com/questions/34770765/ruby-sinatra-settings-undefined-method-when-accessing-config-file/44961281#44961281", "title": "Ruby Sinatra-settings undefined method when accessing config file", "body": "<p>Verify that your YAML file has the <code>svp</code> value set for the three basic environments of \"development\", \"test\", \"production\":</p>\n\n<pre><code>svp:\n  development: app/development-values\n  test: app/test-values\n  production: app/production-values\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5785152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe617e4e25bfeb73235c00412e3b3eb?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Boland", "link": "https://stackoverflow.com/users/5785152/miguel-boland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499391647, "creation_date": 1452699445, "question_id": 34770765, "link": "https://stackoverflow.com/questions/34770765/ruby-sinatra-settings-undefined-method-when-accessing-config-file", "title": "Ruby Sinatra-settings undefined method when accessing config file", "body": "<p>I'm developing a ruby website using sinatra/sinatra-settings, I'm getting the following error while trying to access the variables from <code>config.yml</code>.\nMy main application is: </p>\n\n<pre><code>require 'sinatra'\nrequire 'sinatra/reloader'\nrequire 'sinatra/config_file'\nrequire_relative 'web_data'\n\n\nclass Main &lt; Sinatra::Base\n  register Sinatra::ConfigFile\n  config_file 'config.yml'\n\n  puts settings.inspect\n  c = Marshal.load(File.read(settings.svp)) rescue WebData.new(0)\n\n  get '/a/:name' do\n     c.increment\n     File.open(settings.svp, 'w') {|f| f.write(Marshal.dump(c)) }\n     \"Hello, #{params[:name] ? params[:name] : 'world'}!\"+c.getcount.to_s\n  end\n\nend\n</code></pre>\n\n<p>My <code>config.yaml</code> is:</p>\n\n<pre><code>svp: app/systemvalues\n</code></pre>\n\n<p>Error thrown is:</p>\n\n<pre><code>2016-01-13 15:35:17 - NoMethodError - undefined method `svp' for Main:Class:\n\n/home/miguel/workspace/personal_website/app/app.rb:16:in `block in &lt;class:Main&gt;'\n</code></pre>\n\n<p>I've tried adding the register Sinatra::ConfigFile, to no avail.</p>\n\n<p>Oh and puts settings.inspect prints out <code>Main</code> (the class name)</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 2, "creation_date": 1452699438, "post_id": 34770731, "comment_id": 57286328, "body": "If it&#39;s going to be on separate lines, don&#39;t use ternary."}, {"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1452699510, "post_id": 34770731, "comment_id": 57286398, "body": "Good question, and ok, so it&#39;s not suppose to use ternary, but on his first example its calling twice <code>HighVolage.content_path</code> its not a DRY?"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 1, "creation_date": 1452699608, "post_id": 34770731, "comment_id": 57286501, "body": "@ArnoldRoa, it&#39;s not that much of a problem. If you really want to be DRY at all costs, you can <code>x = if[...]end</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4561, "user_id": 1043569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0f0397c0ae99625fde35aaa75a20494e?s=128&d=identicon&r=PG", "display_name": "Atri", "link": "https://stackoverflow.com/users/1043569/atri"}, "edited": false, "score": 0, "creation_date": 1452699760, "post_id": 34770861, "comment_id": 57286620, "body": "Could you please explain why it is better than the other 2 approaches?"}, {"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 3, "creation_date": 1452699988, "post_id": 34770861, "comment_id": 57286807, "body": "this is what is recommended by the ruby style guides, but with a bit different identation: <a href=\"https://github.com/bbatsov/ruby-style-guide#use-if-case-returns\" rel=\"nofollow noreferrer\">github.com/bbatsov/ruby-style-guide#use-if-case-returns</a>"}, {"owner": {"reputation": 2607, "user_id": 4470392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CvLjT.jpg?s=128&g=1", "display_name": "Maxim Pontyushenko", "link": "https://stackoverflow.com/users/4470392/maxim-pontyushenko"}, "reply_to_user": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 1, "creation_date": 1452700173, "post_id": 34770861, "comment_id": 57286964, "body": "@ArnoldRoa Nice edit. Thanks!"}], "tags": [], "owner": {"reputation": 2607, "user_id": 4470392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CvLjT.jpg?s=128&g=1", "display_name": "Maxim Pontyushenko", "link": "https://stackoverflow.com/users/4470392/maxim-pontyushenko"}, "is_accepted": true, "score": 12, "last_activity_date": 1452700314, "last_edit_date": 1452700314, "creation_date": 1452699661, "answer_id": 34770861, "question_id": 34770731, "link": "https://stackoverflow.com/questions/34770731/good-code-practice-for-variable-assignment-using-a-condition/34770861#34770861", "title": "Good code practice for variable assignment using a condition", "body": "<p>In my opinion here is the best option:</p>\n\n<pre><code>HighVoltage.content_path = \n  if @locale\n    \"#{@template_to_use}/pages/#{@locale}/\"\n  else\n    'pages/'\n  end\n</code></pre>\n\n<p>You don't repeat yourself with <code>HighVoltage.content_path =</code> as in the first example that you have provided. <strong>BUT</strong> some people do find my approach to look a little bit ugly compared to this one. So you could use it if you believe the same. </p>\n\n<p>You better not to use <code>A ? B : C</code> statement if it will take multiple lines. </p>\n\n<p>See <a href=\"https://github.com/bbatsov/ruby-style-guide#use-if-case-returns\">https://github.com/bbatsov/ruby-style-guide#use-if-case-returns</a> for further reference.</p>\n"}, {"comments": [{"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1452699850, "post_id": 34770885, "comment_id": 57286683, "body": "That&#39;s talking about a nested ternary. There&#39;s no nested ternary in this question."}, {"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1452699925, "post_id": 34770885, "comment_id": 57286753, "body": "The style says  that maxim reply is the correct, but with a different identation check this: <a href=\"https://github.com/bbatsov/ruby-style-guide#use-if-case-returns\" rel=\"nofollow noreferrer\">github.com/bbatsov/ruby-style-guide#use-if-case-returns</a>"}, {"owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "edited": false, "score": 0, "creation_date": 1452699958, "post_id": 34770885, "comment_id": 57286779, "body": "Ok I will edit my response accordingly"}, {"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1452700176, "post_id": 34770885, "comment_id": 57286966, "body": "Ok now this reply is the right one! :)"}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 0, "creation_date": 1452700199, "post_id": 34770885, "comment_id": 57286986, "body": "This is about using <code>HighVoltage.content_path</code> twice. It doesn&#39;t say anything about the ternary."}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "reply_to_user": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 0, "creation_date": 1452700246, "post_id": 34770885, "comment_id": 57287012, "body": "@ArnoldRoa, what&#39;s the difference with Maxim&#39;s answer?"}, {"owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "edited": false, "score": 0, "creation_date": 1452700387, "post_id": 34770885, "comment_id": 57287129, "body": "I have edited my and Maxim&#39;s answer to say effectively the same thing now. I believe both are correct."}, {"owner": {"reputation": 41278, "user_id": 84631, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/181035f8aac1cb68d50dc58b67dc0349?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/84631/mischa"}, "edited": false, "score": 2, "creation_date": 1452700839, "post_id": 34770885, "comment_id": 57287474, "body": "Since they are the same you might as well delete yours."}], "tags": [], "owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "is_accepted": false, "score": 2, "last_activity_date": 1452700024, "last_edit_date": 1452700024, "creation_date": 1452699731, "answer_id": 34770885, "question_id": 34770731, "link": "https://stackoverflow.com/questions/34770731/good-code-practice-for-variable-assignment-using-a-condition/34770885#34770885", "title": "Good code practice for variable assignment using a condition", "body": "<p>According to the ruby style guide this is prefered</p>\n\n<pre><code>HighVoltage.content_path =\n  if @locale\n    \"#{@template_to_use}/pages/#{@locale}/\"\n  else\n    'pages/'\n  end\n</code></pre>\n\n<p><a href=\"https://github.com/bbatsov/ruby-style-guide#use-if-case-returns\" rel=\"nofollow\">https://github.com/bbatsov/ruby-style-guide#use-if-case-returns</a></p>\n"}, {"comments": [{"owner": {"reputation": 1100, "user_id": 1415546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/092770076bb0cf421bacba912565331d?s=128&d=identicon&r=PG", "display_name": "NateSHolland", "link": "https://stackoverflow.com/users/1415546/natesholland"}, "edited": false, "score": 0, "creation_date": 1452700128, "post_id": 34771011, "comment_id": 57286926, "body": "This is considered bad according to the ruby style guide."}, {"owner": {"reputation": 6268, "user_id": 503831, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/992c174c48fa4dadacb03854dbf7ade8?s=128&d=identicon&r=PG", "display_name": "Arnold Roa", "link": "https://stackoverflow.com/users/503831/arnold-roa"}, "edited": false, "score": 1, "creation_date": 1452700328, "post_id": 34771011, "comment_id": 57287083, "body": "Limit lines to 80 chars: <a href=\"https://github.com/bbatsov/ruby-style-guide#80-character-limits\" rel=\"nofollow noreferrer\">github.com/bbatsov/ruby-style-guide#80-character-limits</a>"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 2, "creation_date": 1452700329, "post_id": 34771011, "comment_id": 57287084, "body": "Simply because the line is long."}, {"owner": {"reputation": 199, "user_id": 5683537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110adb96b426817d7216e7c09832ec8?s=128&d=identicon&r=PG", "display_name": "dranieri", "link": "https://stackoverflow.com/users/5683537/dranieri"}, "edited": false, "score": 1, "creation_date": 1452702910, "post_id": 34771011, "comment_id": 57289066, "body": "Ohh gotcha. I would say Maxim Pontyushenko &#39;s answer is the best then.  .. or change the &quot;@template_to_use&quot; to just &quot;@template&quot; ... 81 characters so close lol"}], "tags": [], "owner": {"reputation": 199, "user_id": 5683537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110adb96b426817d7216e7c09832ec8?s=128&d=identicon&r=PG", "display_name": "dranieri", "link": "https://stackoverflow.com/users/5683537/dranieri"}, "is_accepted": false, "score": 2, "last_activity_date": 1452700041, "creation_date": 1452700041, "answer_id": 34771011, "question_id": 34770731, "link": "https://stackoverflow.com/questions/34770731/good-code-practice-for-variable-assignment-using-a-condition/34771011#34771011", "title": "Good code practice for variable assignment using a condition", "body": "<p>Why not use a single line for the ternary? </p>\n\n<pre><code>HighVoltage.content_path = @locale ? \"#{@template_to_use}/pages/#{@locale}/\" : 'pages/'\n</code></pre>\n\n<p>I think either is readable and its just a matter of preference... If you want to have less lines of code go for the ternary option, if you like the readability of the first option then use that.</p>\n"}], "owner": {"reputation": 1020, "user_id": 3560707, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a4d3c62501a9818887bfb5e7c11772d3?s=128&d=identicon&r=PG", "display_name": "jacr1614", "link": "https://stackoverflow.com/users/3560707/jacr1614"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "closed_date": 1452700336, "accepted_answer_id": 34770861, "answer_count": 3, "score": 4, "last_activity_date": 1452700314, "creation_date": 1452699363, "last_edit_date": 1452699705, "question_id": 34770731, "link": "https://stackoverflow.com/questions/34770731/good-code-practice-for-variable-assignment-using-a-condition", "closed_reason": "Opinion-based", "title": "Good code practice for variable assignment using a condition", "body": "<p>I had this code:</p>\n\n<pre><code>if @locale\n    HighVoltage.content_path = \"#{@template_to_use}/pages/#{@locale}/\"\nelse\n    HighVoltage.content_path = 'pages/'\nend\n</code></pre>\n\n<p>Now I have this version:</p>\n\n<pre><code>HighVoltage.content_path = @locale ?\n    \"#{@template_to_use}/pages/#{@locale}/\" :\n    'pages/'\n</code></pre>\n\n<p>What would be the suggested way to write this piece of code, first or second version or may be other</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "yaml", "cloud9-ide"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "edited": false, "score": 1, "creation_date": 1452699488, "post_id": 34770530, "comment_id": 57286380, "body": "have you run <code>rake db:setup</code>? did you run through all the steps in the <a href=\"https://github.com/bikeindex/bike_index#running-the-bike-index-locally\" rel=\"nofollow noreferrer\">instructions</a>?"}, {"owner": {"reputation": 11, "user_id": 5780935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1522597441402148/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041b\u0435\u0431\u0435\u0434\u0435\u0432", "link": "https://stackoverflow.com/users/5780935/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%9b%d0%b5%d0%b1%d0%b5%d0%b4%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1452703520, "post_id": 34770530, "comment_id": 57289571, "body": "Thanks for the reply. No, I couldn&#39;t finish the instructions. Postgresql wasn&#39;t running, so I&#39;ve started it. Now the output is: <a href=\"http://pastebin.com/gBcxGaax\" rel=\"nofollow noreferrer\">pastebin.com/gBcxGaax</a>"}, {"owner": {"reputation": 11, "user_id": 5780935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1522597441402148/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041b\u0435\u0431\u0435\u0434\u0435\u0432", "link": "https://stackoverflow.com/users/5780935/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%9b%d0%b5%d0%b1%d0%b5%d0%b4%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1452703852, "post_id": 34770530, "comment_id": 57289842, "body": "I see that permission denied to create database. But why? The Cloud9 manual said that DB should be pre-provisioned. Should the app use the DB that is stated in the yml?"}, {"owner": {"reputation": 3226, "user_id": 4449035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-cDrTIBwolm0/AAAAAAAAAAI/AAAAAAAANmE/OK9Bjdfpl7g/photo.jpg?sz=128", "display_name": "Brady Dowling", "link": "https://stackoverflow.com/users/4449035/brady-dowling"}, "edited": false, "score": 0, "creation_date": 1452705294, "post_id": 34770530, "comment_id": 57290875, "body": "It might help to post this in <a href=\"https://community.c9.io\" rel=\"nofollow noreferrer\">community.c9.io</a> for more specific Cloud9 help"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "edited": false, "score": 0, "creation_date": 1452708057, "post_id": 34770530, "comment_id": 57292626, "body": "possible duplicate: <a href=\"http://stackoverflow.com/questions/26545746/cloud9-postgres\">stackoverflow.com/questions/26545746/cloud9-postgres</a>"}, {"owner": {"reputation": 11, "user_id": 5780935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1522597441402148/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041b\u0435\u0431\u0435\u0434\u0435\u0432", "link": "https://stackoverflow.com/users/5780935/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%9b%d0%b5%d0%b1%d0%b5%d0%b4%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1452713601, "post_id": 34770530, "comment_id": 57296091, "body": "@omouse thanks a lot. Will try tomorrow."}], "owner": {"reputation": 11, "user_id": 5780935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1522597441402148/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041b\u0435\u0431\u0435\u0434\u0435\u0432", "link": "https://stackoverflow.com/users/5780935/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%9b%d0%b5%d0%b1%d0%b5%d0%b4%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452698845, "creation_date": 1452698845, "question_id": 34770530, "link": "https://stackoverflow.com/questions/34770530/rescue-in-check-for-missing-columns-uninitialized-constant-activerecordnodat", "title": "rescue in check_for_missing_columns&#39;: uninitialized constant ActiveRecord::NoDatabaseError (NameError)", "body": "<p>I'm trying to run <a href=\"https://github.com/bikeindex/bike_index\" rel=\"nofollow\">this application</a> via cloud9.io. I'm not a programmer. Tried everything I could comprehend, but hit a dead end. I try to run the app, but it throw an error. Here is the output:</p>\n\n<pre><code>Digest::Digest is deprecated; use Digest\nAuto-loading of `.env.development` will be removed in 1.0. See https://github.com/bkeepers/dotenv-deployment if you would like to continue using this feature.\n=&gt; Booting WEBrick\n=&gt; Rails 3.2.22 application starting in development on http://0.0.0.0:8080\n=&gt; Call with -d to detach\n=&gt; Ctrl-C to shutdown server\nConnecting to database specified by database.yml\nExiting\n/usr/local/rvm/gems/ruby-2.1.3/gems/doorkeeper-2.0.1/lib/doorkeeper/config.rb:29:in `rescue in check_for_missing_columns': uninitialized constant ActiveRecord::NoDatabaseError (NameError)\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/doorkeeper-2.0.1/lib/doorkeeper/config.rb:21:in `check_for_missing_columns'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/doorkeeper-2.0.1/lib/doorkeeper/config.rb:11:in `configure'\n        from /home/ubuntu/workspace/config/initializers/doorkeeper.rb:6:in `&lt;top (required)&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/engine.rb:593:in `block (2 levels) in &lt;class:Engine&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/engine.rb:592:in `each'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/engine.rb:592:in `block in &lt;class:Engine&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/initializable.rb:30:in `instance_exec'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/initializable.rb:30:in `run'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/initializable.rb:55:in `block in run_initializers'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/initializable.rb:54:in `each'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/initializable.rb:54:in `run_initializers'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/application.rb:136:in `initialize!'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/railtie/configurable.rb:30:in `method_missing'\n        from /home/ubuntu/workspace/config/environment.rb:5:in `&lt;top (required)&gt;'\n        from /home/ubuntu/workspace/config.ru:17:in `block in &lt;main&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/builder.rb:51:in `instance_eval'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/builder.rb:51:in `initialize'\n        from /home/ubuntu/workspace/config.ru:in `new'\n        from /home/ubuntu/workspace/config.ru:in `&lt;main&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/builder.rb:40:in `eval'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/builder.rb:40:in `parse_file'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/server.rb:200:in `app'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/commands/server.rb:46:in `app'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/server.rb:304:in `wrapped_app'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/rack-1.4.7/lib/rack/server.rb:254:in `start'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/commands/server.rb:70:in `start'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/commands.rb:55:in `block in &lt;top (required)&gt;'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/commands.rb:50:in `tap'\n        from /usr/local/rvm/gems/ruby-2.1.3/gems/railties-3.2.22/lib/rails/commands.rb:50:in `&lt;top (required)&gt;'\n        from script/rails:6:in `require'\n        from script/rails:6:in `&lt;main&gt;'\n\n\nProcess exited with code: 1\n[K\n\nProcess exited with code: 1\n</code></pre>\n\n<p>Here's the contents of database.yml</p>\n\n<pre><code>development:\n  adapter: postgresql\n  encoding: utf8\n  database: bikereg\n  username: postgres\n  password: !q2w3e4r5t\n  pool: 5\n\ntest:\n  adapter: postgresql\n  database: bikereg_test\n\nstaging:\n  adapter: postgresql\n  database: bikereg_staging\n\nproduction:\n  adapter: postgresql\n  database: bikereg_production\n  pool: 25\n</code></pre>\n\n<p>Any idea how to fix it?</p>\n"}, {"tags": ["ruby", "postgresql", "rubygems", "pg"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452697558, "post_id": 34770044, "comment_id": 57284871, "body": "Have you created table <code>testtable</code>?"}, {"owner": {"reputation": 1, "user_id": 4526335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef13df3a7d72557348c5b227ae771e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Roog", "link": "https://stackoverflow.com/users/4526335/roog"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452697775, "post_id": 34770044, "comment_id": 57285042, "body": "Yep of course and a few rows in it."}, {"owner": {"reputation": 4336, "user_id": 3961156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a099935fef0cd290e3ff5e50ee9f0c17?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Savinkov", "link": "https://stackoverflow.com/users/3961156/dmitry-savinkov"}, "edited": false, "score": 0, "creation_date": 1452697803, "post_id": 34770044, "comment_id": 57285063, "body": "have you used double quotes during creating table &quot;TestTable&quot; or smth similar?"}, {"owner": {"reputation": 1, "user_id": 4526335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef13df3a7d72557348c5b227ae771e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Roog", "link": "https://stackoverflow.com/users/4526335/roog"}, "edited": false, "score": 0, "creation_date": 1452697991, "post_id": 34770044, "comment_id": 57285214, "body": "No. It is all lower case."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452698002, "post_id": 34770044, "comment_id": 57285225, "body": "Have you created <code>testtable</code> in <code>postgres</code> database?  Your code works for me for a table that I have in my database, so either you using wrong table name or database name"}, {"owner": {"reputation": 1, "user_id": 4526335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef13df3a7d72557348c5b227ae771e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Roog", "link": "https://stackoverflow.com/users/4526335/roog"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 1, "creation_date": 1452699311, "post_id": 34770044, "comment_id": 57286215, "body": "I realized I had two conflicted postgres databases on my local host! It is now fixed! Thank you @WandMaker"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1452729874, "post_id": 34770044, "comment_id": 57303828, "body": "I&#39;d recommend looking at <a href=\"http://sequel.jeremyevans.net\" rel=\"nofollow noreferrer\">Sequel</a>. It&#39;s much easier and more portable than using Pg directly."}], "owner": {"reputation": 1, "user_id": 4526335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef13df3a7d72557348c5b227ae771e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Roog", "link": "https://stackoverflow.com/users/4526335/roog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487024226, "creation_date": 1452697502, "last_edit_date": 1487024226, "question_id": 34770044, "link": "https://stackoverflow.com/questions/34770044/ruby-script-cannot-find-table-from-postgresql-database-pgundefinedtable", "title": "Ruby script cannot find table from PostgreSQL database (PG::UndefinedTable)", "body": "<p>I'm trying to interact with my PostgreSQL database. I installed the 'pg' gem, and I'd like to execute a very simple script like this one:</p>\n\n<pre><code>require 'pg'\nconn = PG::Connection.open('127.0.0.1' , 5432, nil, nil, 'postgres', 'postgres', 'admin')  \nres  = conn.exec('SELECT * FROM testtable')\n</code></pre>\n\n<p>But all I get is: </p>\n\n<blockquote>\n  <p>testdb.rb:4:in `exec': ERROR:  relation \"testtable\" does not exist (PG::UndefinedTable)</p>\n</blockquote>\n\n<p>If you have any clue or sample code, that would help a lot! </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "devise"], "comments": [{"owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "edited": false, "score": 0, "creation_date": 1452697357, "post_id": 34769911, "comment_id": 57284720, "body": "Creating two models with devise should be enough, for example <code>User</code> and <code>Admin</code>"}, {"owner": {"reputation": 1002, "user_id": 5479988, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z_oUVK4Wkuo/AAAAAAAAAAI/AAAAAAAAABA/vn2BD49K67M/photo.jpg?sz=128", "display_name": "Jim Van Fleet", "link": "https://stackoverflow.com/users/5479988/jim-van-fleet"}, "edited": false, "score": 0, "creation_date": 1452700163, "post_id": 34769911, "comment_id": 57286955, "body": "If you are able to use subdomains instead of subdirectories, Devise includes a HOWTO at <a href=\"https://github.com/plataformatec/devise/wiki/How-to:-Scope-login-to-subdomain\" rel=\"nofollow noreferrer\">github.com/plataformatec/devise/wiki/&hellip;</a>"}, {"owner": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "reply_to_user": {"reputation": 1002, "user_id": 5479988, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z_oUVK4Wkuo/AAAAAAAAAAI/AAAAAAAAABA/vn2BD49K67M/photo.jpg?sz=128", "display_name": "Jim Van Fleet", "link": "https://stackoverflow.com/users/5479988/jim-van-fleet"}, "edited": false, "score": 0, "creation_date": 1452701230, "post_id": 34769911, "comment_id": 57287769, "body": "@JimVanFleet Unfortunately I&#39;m not able to use subdomains (business/above my pay grade reasons)."}], "answers": [{"comments": [{"owner": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "edited": false, "score": 0, "creation_date": 1452704970, "post_id": 34772678, "comment_id": 57290663, "body": "Looks promising. Would be interested to see how the session_store needs to be set up to support paths."}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 5, "last_activity_date": 1452704527, "creation_date": 1452704527, "answer_id": 34772678, "question_id": 34769911, "link": "https://stackoverflow.com/questions/34769911/devise-w-subdirectories-in-rails/34772678#34772678", "title": "Devise w/ Subdirectories in Rails", "body": "<p>Devise will support the authentication if you have the model and <code>sessions</code> set up properly.</p>\n\n<p>--</p>\n\n<p>What you're doing is very similar to if you had a <a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Use-subdomains\" rel=\"noreferrer\"><code>subdomain</code></a>:</p>\n\n<pre><code>#config/routes.rb\nscope Tenant do\n   root \"application#dashboard\"\n   devise_for :users, controllers: {}\nend\n\n#lib/tenant.rb\nmodule CompanyDispatch\n\n    def initializer(router)\n        @router = router\n    end\n\n    def self.matches?(request)\n        Account.exists? request.path.split(\"/\").first\n    end\n\nend\n</code></pre>\n\n<p>The above will give you the ability to access <code>url.com/:tenant_1/sign_in</code> (might need tweaking etc).</p>\n\n<p>You may have to adapt the <code>Devise</code> methods - either with its <code>Warden</code> strategy, or its <a href=\"https://github.com/plataformatec/devise/wiki/How-to:-Scope-login-to-subdomain\" rel=\"noreferrer\"><code>find</code> methods</a>:</p>\n\n<pre><code># app/models/user.rb\nclass User &lt; ActiveRecord::Base\n  devise :database_authenticatable, :registerable,\n         :recoverable, :rememberable, :trackable, request_keys: [:x]\n\n  def self.find_for_authentication(warden_conditions)\n    account = Account.find warden_conditions[:x]\n    where(email: warden_conditions[:email], account_id: account.id ).first\n  end\nend\n</code></pre>\n\n<p>The above code needs the correct request parameter passed through to Devise; you'll then need to ensure the <code>session</code> is only scoped to each tenant:</p>\n\n<pre><code>#config/initializers/session_store.rb\nRails.application.config.session_store :cookie_store, key: '_[app_name]_session' #-&gt; need to add something here so paths will be used\n</code></pre>\n\n<p>--</p>\n\n<p>That's an overall of how you'd do it. The above code needs tweaking but I am super tired right now, so I'll update afterwards unless you'd prefer me to delete it.</p>\n"}, {"tags": [], "owner": {"reputation": 3630, "user_id": 4799659, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153200714295120/picture?type=large", "display_name": "fylooi", "link": "https://stackoverflow.com/users/4799659/fylooi"}, "is_accepted": false, "score": 0, "last_activity_date": 1453276370, "creation_date": 1453276370, "answer_id": 34894390, "question_id": 34769911, "link": "https://stackoverflow.com/questions/34769911/devise-w-subdirectories-in-rails/34894390#34894390", "title": "Devise w/ Subdirectories in Rails", "body": "<p>A very simple implementation:</p>\n\n<p>According to <a href=\"https://github.com/plataformatec/devise/wiki/How-To:-Change-the-default-sign_in-and-sign_out-routes\" rel=\"nofollow\">How To: Change the default sign_in and sign_out routes</a></p>\n\n<pre><code>devise_for :users, :skip =&gt; [:sessions]\nas :user do\n  get ':tenant_slug/signin' =&gt; 'devise/sessions#new', :as =&gt; :new_user_session\n  post ':tenant_slug/signin' =&gt; 'devise/sessions#create', :as =&gt; :user_session\n  delete ':tenant_slug/signout' =&gt; 'devise/sessions#destroy', :as =&gt; :destroy_user_session\nend\n</code></pre>\n\n<p>You can probably scope a session cookie to a specific path, but that won't provide any real security as the cookie is controlled by the user. </p>\n\n<p>An alternative would be a filter in your <code>ApplicationController</code> to ensure that the user can only access paths containing his <code>tenant_slug</code>. This is assuming all routes for the user are namespaced under his own tenant slug.</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n  before_action :ensure_user_belongs_to_tenant\n\n  def ensure_user_belongs_to_tenant\n    redirect_to tenant_root_path(current_user.tenant) unless params[:tenant_slug] == current_user.tenant.slug\n  end\nend \n</code></pre>\n\n<p>To include the tenant during authentication, you can concatenate the tenant's name onto <code>Model#authenticable_salt</code>. The default implementation from <code>Devise::Models::DatabaseAuthenticable</code> just uses the first 30 characters of the encrypted password. </p>\n\n<pre><code>def User &lt; ActiveRecord::Base\n  def authenticatable_salt\n    super + tenant.to_s\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 19398, "user_id": 435471, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WvUmQ.jpg?s=128&g=1", "display_name": "Kyle Decot", "link": "https://stackoverflow.com/users/435471/kyle-decot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 34772678, "answer_count": 2, "score": 0, "last_activity_date": 1453276370, "creation_date": 1452697161, "question_id": 34769911, "link": "https://stackoverflow.com/questions/34769911/devise-w-subdirectories-in-rails", "title": "Devise w/ Subdirectories in Rails", "body": "<p>I'm building a rails application in which I need to support multiple tenants via:</p>\n\n<pre><code>example.com/:tenant_1\nexample.com/:tenant_2\n</code></pre>\n\n<p>For each of these tenants I would like to have separate logins:</p>\n\n<pre><code>example.com/:tenant_1/sign_in\nexample.com/:tenant_2/sign_in\n</code></pre>\n\n<p>For each tenant I would like their login session to be scoped to the applicable tenant subdirectory. Is this something that devise supports and if so how would one go about implementing this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "answers": [{"tags": [], "owner": {"reputation": 1457, "user_id": 4777130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80725311c070095c9b6141a5b092d763?s=128&d=identicon&r=PG&f=1", "display_name": "Mihail Petkov", "link": "https://stackoverflow.com/users/4777130/mihail-petkov"}, "is_accepted": true, "score": 4, "last_activity_date": 1452696763, "creation_date": 1452696763, "answer_id": 34769750, "question_id": 34769564, "link": "https://stackoverflow.com/questions/34769564/with-ruby-on-rails-how-do-i-create-an-activerecord-migration-with-a-default-val/34769750#34769750", "title": "With Ruby on Rails, how do I create an ActiveRecord migration with a default value for datetime of January 1st, 2004", "body": "<p>change:</p>\n\n<pre><code>DateTime.now\n</code></pre>\n\n<p>to</p>\n\n<pre><code>DateTime.new(2004, 1, 1)\n</code></pre>\n"}], "owner": {"reputation": 3285, "user_id": 834333, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/4Uilc.jpg?s=128&g=1", "display_name": "Andrew Paul Simmons", "link": "https://stackoverflow.com/users/834333/andrew-paul-simmons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 1, "accepted_answer_id": 34769750, "answer_count": 1, "score": 1, "last_activity_date": 1452696763, "creation_date": 1452696295, "question_id": 34769564, "link": "https://stackoverflow.com/questions/34769564/with-ruby-on-rails-how-do-i-create-an-activerecord-migration-with-a-default-val", "title": "With Ruby on Rails, how do I create an ActiveRecord migration with a default value for datetime of January 1st, 2004", "body": "<p>Here is my migration </p>\n\n<pre><code>class AddUpdateStartedAtToToUserMappings &lt; ActiveRecord::Migration\n   def change\n     add_column :user_mappings, :update_started_at, :datetime, default: DateTime.now\n   end \nend\n</code></pre>\n\n<p>I want the default to be January 1st, 2004 not DateTime.now </p>\n\n<p>How do I do this? </p>\n"}, {"tags": ["ruby", "macos"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1452696866, "post_id": 34769441, "comment_id": 57284375, "body": "Yes, if it has a proper shebang line and executable flag is set."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "edited": false, "score": 0, "creation_date": 1453479884, "post_id": 34776285, "comment_id": 57634265, "body": "It seems not worked for me. If I ran <code>ruby xxx.rbw</code> in a terminal, the &quot;xxx.rbw&quot; worked well. But if I tried to use <code>do shell script &quot;ruby &quot; &amp; filepath</code> command in Automator, <code>ruby</code> cannot locate some environment variables correctly. For example, if I use Automator, ruby cannot find <code>tk</code> library. Why?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "reply_to_user": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "edited": false, "score": 0, "creation_date": 1453481874, "post_id": 34776285, "comment_id": 57635666, "body": "I don&#39;t know. Are you using RVM or rbenv? Automator may be running the system Ruby."}, {"owner": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "edited": false, "score": 0, "creation_date": 1453516411, "post_id": 34776285, "comment_id": 57649310, "body": "Yes, I used RVM to reinstall ruby2.0.0 to get <code>tk</code> support. Is there any way to make Automator run the RVM ruby?"}, {"owner": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "edited": false, "score": 0, "creation_date": 1453538910, "post_id": 34776285, "comment_id": 57653567, "body": "I think your Automator solution is very good. But I cannot solve my ruby path problem. I choose to use <code>ruby *.rbw</code> to open my *.rbw files..."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 1, "last_activity_date": 1452716438, "last_edit_date": 1495539894, "creation_date": 1452716438, "answer_id": 34776285, "question_id": 34769441, "link": "https://stackoverflow.com/questions/34769441/can-i-double-click-to-run-a-rbw-file-in-mac/34776285#34776285", "title": "Can I double click to run a .rbw file in Mac?", "body": "<p>You can, but it takes a little setup. The reason you can't do this directly is that OS X will only let you associate applications with a file type\u2014you can't associate a file type with any old executable. There's some good information on OS X's behavior in this answer: <a href=\"https://stackoverflow.com/questions/5125907/how-to-run-a-shell-script-in-os-x-by-double-clicking\">How to run a shell script in OS X by double-clicking?</a></p>\n\n<p>Here are the steps you need to take:</p>\n\n<h2>1. Create an application that runs Ruby scripts</h2>\n\n<p>This is easier than it sounds. First, run Automator and in the \"Choose a type for your document\" dialog choose \"Application.\" Then, from the Actions menu on the left, double-click on \"Run AppleScript\" (use the search box to find it quickly). Now paste the following script into the box:</p>\n\n\n\n<pre class=\"lang-applescript prettyprint-override\"><code>on run {input}\n    set filepath to quoted form of POSIX path of input\n    do shell script \"ruby \" &amp; filepath\nend run\n</code></pre>\n\n<p>This is pretty basic AppleScript. What it does is take the input, which will be the filename of the file you double-click on, and runs <code>ruby</code> with that filename as an argument.</p>\n\n<p>Now save the application with a name like \"Run Ruby Script.\" You can save it wherever you want, but I think <code>~/Applications</code> is a good choice.</p>\n\n<h2>2. Tell OS X to open <code>.rbw</code> files with the application you just created</h2>\n\n<p>Find the <code>.rbw</code> file in Finder. Right-click on it and choose <strong>Open With</strong> and then <strong>Other...</strong>. The \"Choose Application\" dialog will appear. At the bottom, choose \"All Applications\" in the <strong>Enable</strong> drop-down. Navigate to the \"Run Ruby Script\" application you just created and select it. Finally, check the <strong>Always Open With</strong> checkbox and click on <strong>Open</strong>.</p>\n\n<h2>What about the output?</h2>\n\n<p>The above duplicates the behavior of <code>.rbw</code> files on Windows, which is to say that the script is executed silently\u2014no terminal window is opened and no output is seen.</p>\n\n<p>If you want to capture the output you could change the AppleScript run the command in Terminal or iTerm instead\u2014and you might have to do that if your script is interactive, but it's beyond the scope of the question\u2014but I think a simpler solution is to just display the output in the default text editor, which can be accomplished thusly:</p>\n\n<pre class=\"lang-applescript prettyprint-override\"><code>on run {input}\n    set filepath to quoted form of POSIX path of input\n    do shell script \"ruby \" &amp; filepath &amp; \" | open -f \"\nend run\n</code></pre>\n\n<p>This just pipes the output from <code>ruby</code> to <a href=\"https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/open.1.html\" rel=\"nofollow noreferrer\"><code>open -f</code></a>, which writes the output to a temporary file and opens it in the default text editor, e.g. TextEdit.</p>\n"}], "owner": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 34776285, "answer_count": 1, "score": 0, "last_activity_date": 1452716438, "creation_date": 1452695910, "question_id": 34769441, "link": "https://stackoverflow.com/questions/34769441/can-i-double-click-to-run-a-rbw-file-in-mac", "title": "Can I double click to run a .rbw file in Mac?", "body": "<p>I can start a .rbw file using <code>ruby filename.rbw</code>.</p>\n\n<p>But can I open it using double click?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json"], "answers": [{"comments": [{"owner": {"reputation": 1058, "user_id": 5756373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10153355260463424/picture?type=large", "display_name": "chemook78", "link": "https://stackoverflow.com/users/5756373/chemook78"}, "edited": false, "score": 0, "creation_date": 1452743404, "post_id": 34770248, "comment_id": 57307564, "body": "Thanks Inpego, that works! I actually want to update this table based on the JSON data on a regular basis. The table is a result of a stock screener so the list of stocks will change (company name, quote, P/E; but not the URL belonging to company name). I am thinking to run a Stock.delete_all every time and then the code above to load a new table. Is that the way to go? Or do a check for the &quot;company&quot; column, see if there are any duplicates with the new data and update P/E + quote and add new rows if the company doesn&#39;t exist yet. Should I do this with an if statement? Thanks for the advice!"}, {"owner": {"reputation": 2637, "user_id": 3223249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hri7E.jpg?s=128&g=1", "display_name": "Inpego", "link": "https://stackoverflow.com/users/3223249/inpego"}, "reply_to_user": {"reputation": 1058, "user_id": 5756373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10153355260463424/picture?type=large", "display_name": "chemook78", "link": "https://stackoverflow.com/users/5756373/chemook78"}, "edited": false, "score": 0, "creation_date": 1452763008, "post_id": 34770248, "comment_id": 57315220, "body": "The first way is more simple and most likely will perform better, I recommend to choose it therefore. I also recommend to use <code>Stock.connection.execute(&quot;TRUNCATE TABLE #{Stock.table_name}&quot;)</code> instead of <code>Stock.delete_all</code> for the sake of performance, in case you are not using external keys for this table."}, {"owner": {"reputation": 2637, "user_id": 3223249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hri7E.jpg?s=128&g=1", "display_name": "Inpego", "link": "https://stackoverflow.com/users/3223249/inpego"}, "reply_to_user": {"reputation": 1058, "user_id": 5756373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10153355260463424/picture?type=large", "display_name": "chemook78", "link": "https://stackoverflow.com/users/5756373/chemook78"}, "edited": false, "score": 0, "creation_date": 1452767909, "post_id": 34770248, "comment_id": 57318383, "body": "see <a href=\"http://stackoverflow.com/questions/139630/whats-the-difference-between-truncate-and-delete-in-sql\" title=\"whats the difference between truncate and delete in sql\">stackoverflow.com/questions/139630/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2637, "user_id": 3223249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hri7E.jpg?s=128&g=1", "display_name": "Inpego", "link": "https://stackoverflow.com/users/3223249/inpego"}, "is_accepted": true, "score": 7, "last_activity_date": 1452698064, "creation_date": 1452698064, "answer_id": 34770248, "question_id": 34769435, "link": "https://stackoverflow.com/questions/34769435/save-json-from-api-endpoint-to-database-in-ruby-on-rails-app/34770248#34770248", "title": "Save JSON from API endpoint to database in Ruby on Rails app", "body": "<p>Yes, these are right steps.</p>\n\n<p>First, you should create <code>Stock</code> model:</p>\n\n<pre><code>$ rails g model stock --skip\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code># get JSON\nresult = Net::HTTP.get(URI.parse('https://www.kimonolabs.com/api/3obhv4p0?apikey=WWHHbKEkOmAPXsObOccPBXTb5NgRyCNO'))\n\n# parse JSON\njson = JSON.parse(result)\n\n# save data to DB\njson['results']['collection1'][1..-1].each do |data| # [1..-1] ignores first dummy element\n  Stock.create(\n    company: data['property1']['text'],\n    url: data['url'],\n    pe: data['property2'].gsub(',', ''), # .gsub removes thousands separator\n    quote: data['property3'].gsub(',', '')\n  )\nend\n</code></pre>\n"}], "owner": {"reputation": 1058, "user_id": 5756373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10153355260463424/picture?type=large", "display_name": "chemook78", "link": "https://stackoverflow.com/users/5756373/chemook78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2131, "favorite_count": 5, "accepted_answer_id": 34770248, "answer_count": 1, "score": 2, "last_activity_date": 1453799439, "creation_date": 1452695894, "question_id": 34769435, "link": "https://stackoverflow.com/questions/34769435/save-json-from-api-endpoint-to-database-in-ruby-on-rails-app", "title": "Save JSON from API endpoint to database in Ruby on Rails app", "body": "<p>I am new to Ruby on Rails and need some advice on this! I trying to build a webscraper and have a JSON file here at Kimono Labs, where you can turn website data into API's:</p>\n\n<p><a href=\"https://www.kimonolabs.com/api/3obhv4p0?apikey=WWHHbKEkOmAPXsObOccPBXTb5NgRyCNO\" rel=\"nofollow\">https://www.kimonolabs.com/api/3obhv4p0?apikey=WWHHbKEkOmAPXsObOccPBXTb5NgRyCNO</a> that I want to save to the database of my Ruby on Rails application. </p>\n\n<p>Specifically it's the \"results\" key that I want to save to the database. It contains data from Google Finance with the company, URL to quote page, P/E and latest price. Which has the following format:</p>\n\n<pre><code>\"results\": {\n    \"collection1\": [\n      {\n        \"property1\": {\n          \"href\": \"https://www.google.com/finance?catid=TRBC:57&amp;sort=a&amp;ei=Tx2WVonTG9uhe7Hpv_AN\",\n          \"text\": \"Company\"\n        },\n        \"property2\": \"P/E (ttm)\",\n        \"property3\": \"Quote\",\n        \"index\": 1,\n        \"url\": \"https://www.google.com/finance?catid=TRBC%3A57&amp;sort=PE_RATIO&amp;ei=6tyMVrqxIdaP0ASF0pbACQ\"\n      },\n      {\n        \"property1\": {\n          \"href\": \"https://www.google.com/finance?q=NASDAQ:NANO&amp;ei=Tx2WVonTG9uhe7Hpv_AN\",\n          \"text\": \"Nanometrics Incorporated\"\n        },\n        \"property2\": \"10,100.72\",\n        \"property3\": \"14.04\",\n        \"index\": 2,\n        \"url\": \"https://www.google.com/finance?catid=TRBC%3A57&amp;sort=PE_RATIO&amp;ei=6tyMVrqxIdaP0ASF0pbACQ\"\n      },\n</code></pre>\n\n<p>This is the migration I have:</p>\n\n<pre><code>ActiveRecord::Schema.define(version: 20160108073353) do\n\n  create_table \"stocks\", force: :cascade do |t|\n    t.string   \"company\"\n    t.datetime \"created_at\", null: false\n    t.datetime \"updated_at\", null: false\n    t.string   \"url\"\n    t.float    \"pe\"\n    t.float    \"quote\"\n  end\n</code></pre>\n\n<p>The question is how do I load this JSON file into my application? I think it has the following steps and therefore my question can be broken up into:</p>\n\n<ul>\n<li>I need to open/load it with RestClient or OpenURI > how do I do this?</li>\n<li>Parse the data and make it a Ruby hash > how do I do this? </li>\n<li>Then loop through the hash and save data to database? > how do I do this?</li>\n</ul>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["ruby", "capybara", "capybara-webkit", "iron.io"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 5667863, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/FFJki.jpg?s=128&g=1", "display_name": "RubyCat", "link": "https://stackoverflow.com/users/5667863/rubycat"}, "edited": false, "score": 0, "creation_date": 1452713896, "post_id": 34769852, "comment_id": 57296258, "body": "So, basically I need to use docker to do this? Coz the iron ruby docker is using alpine linux as the image and it&#39;s not that straight forward to install qt webkit. Or maybe I should use ubuntu image. What do you think?"}, {"owner": {"reputation": 30856, "user_id": 105562, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/e66ceae48943526967c5118011e58b63?s=128&d=identicon&r=PG", "display_name": "Travis Reeder", "link": "https://stackoverflow.com/users/105562/travis-reeder"}, "reply_to_user": {"reputation": 135, "user_id": 5667863, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/FFJki.jpg?s=128&g=1", "display_name": "RubyCat", "link": "https://stackoverflow.com/users/5667863/rubycat"}, "edited": false, "score": 0, "creation_date": 1452756253, "post_id": 34769852, "comment_id": 57311615, "body": "I see. You could try building it using our old images: <a href=\"https://hub.docker.com/r/iron/images/tags/\" rel=\"nofollow noreferrer\">hub.docker.com/r/iron/images/tags</a> , but you probably don&#39;t need the .worker file. Follow steps 1 and 2 at the dockerworker link but use the iron/images:ruby-2.1 instead of iron/ruby:dev, then continue at these steps to upload your zip: <a href=\"https://github.com/iron-io/dockerworker/tree/master/ruby#if-you-dont-want-to-package-your-code-using-docker\" rel=\"nofollow noreferrer\">github.com/iron-io/dockerworker/tree/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 30856, "user_id": 105562, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/e66ceae48943526967c5118011e58b63?s=128&d=identicon&r=PG", "display_name": "Travis Reeder", "link": "https://stackoverflow.com/users/105562/travis-reeder"}, "is_accepted": false, "score": 2, "last_activity_date": 1452697026, "creation_date": 1452697026, "answer_id": 34769852, "question_id": 34769159, "link": "https://stackoverflow.com/questions/34769159/how-to-use-gemfile-in-iron-io-worker/34769852#34769852", "title": "How to use Gemfile in iron.io worker", "body": "<p>There's a couple things here:</p>\n\n<p>1) you are using full_remote_build with a .worker file, but then uploading the zip. Those two things don't go together, it's one or the other. </p>\n\n<p>2) Be sure you are vendoring the gems so they are included when you zip them. To vendor: <code>docker run --rm -v \"$PWD\":/worker -w /worker iron/ruby:dev bundle install --standalone --clean</code>. Then at the top of your script, add: <code>require_relative 'bundle/bundler/setup'</code>. </p>\n\n<p>See the documentation here for more details: <a href=\"https://github.com/iron-io/dockerworker/tree/master/ruby\" rel=\"nofollow\">https://github.com/iron-io/dockerworker/tree/master/ruby</a></p>\n"}], "owner": {"reputation": 135, "user_id": 5667863, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/FFJki.jpg?s=128&g=1", "display_name": "RubyCat", "link": "https://stackoverflow.com/users/5667863/rubycat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1452697026, "creation_date": 1452695080, "question_id": 34769159, "link": "https://stackoverflow.com/questions/34769159/how-to-use-gemfile-in-iron-io-worker", "title": "How to use Gemfile in iron.io worker", "body": "<p>I'd like to use gems specified from Gemfile that I uploaded. However, I keep getting</p>\n\n<pre><code>/usr/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- capybara (LoadError) from /usr/lib/ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require' from app.rb:3:in `&lt;main&gt;'\n</code></pre>\n\n<p>Seems like the code cannot find the required gems. This is my <code>.worker</code> file:</p>\n\n<pre><code>runtime \"ruby\"\nstack \"ruby-2.1\"\n\nexec \"app.rb\"\n\ngemfile \"Gemfile\"\n\nfull_remote_build true\n</code></pre>\n\n<p>My <code>Gemfile</code>:</p>\n\n<pre><code>source \"https://rubygems.org\"\n\ngem \"capybara\"\ngem \"capybara-webkit\"\n</code></pre>\n\n<p>I uploaded my work using this command:</p>\n\n<pre><code>zip -r my_work.zip . ; iron worker upload --zip my_work.zip --name my_work iron/ruby ruby app.rb ; iron worker queue --wait my_work\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 19244, "user_id": 1978251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73f7dd539ad8ec8372af0d06e4f76939?s=128&d=identicon&r=PG", "display_name": "engineersmnky", "link": "https://stackoverflow.com/users/1978251/engineersmnky"}, "edited": false, "score": 1, "creation_date": 1452695116, "post_id": 34769011, "comment_id": 57283124, "body": "Since what you have is working can you clarify what you mean by &quot;Additionally though, I need to call :human_attribute_name on the correct class to generate labels.&quot; I don&#39;t know what the &quot;correct&quot; class is or what you mean by &quot;labels&quot; please explain the issue you are facing not the problem you have already solved."}], "answers": [{"tags": [], "owner": {"reputation": 1500, "user_id": 2772719, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/emBMW.jpg?s=128&g=1", "display_name": "Adamantish", "link": "https://stackoverflow.com/users/2772719/adamantish"}, "is_accepted": false, "score": 0, "last_activity_date": 1452701762, "last_edit_date": 1452701762, "creation_date": 1452701395, "answer_id": 34771514, "question_id": 34769011, "link": "https://stackoverflow.com/questions/34769011/dynamic-method-calls-on-rails-association/34771514#34771514", "title": "Dynamic Method Calls on Rails Association", "body": "<p>It's not clear what you're trying to accomplish but if I had to guess I'd say you're trying to make some kind of CMS or reporting system in which the definition of what data to display can be altered through a user interface. There are gems for this kind of thing but seeing as you're on this track...</p>\n\n<p>By :human_attribute_name I assume you mean the friendly name to be displayed on the page as a label. First of all it would be more appropriate to use a string rather than symbol as you can then use spaces and more characters. Assuming you never intend to have duplicate label names on the same webpage you could try using a hash instead of an array.</p>\n\n<pre><code>fields = { \n           \"Field One\" =&gt; \"field_one\" ,\n           \"Field Two\" =&gt; \"field_two\" ,\n           \"Field One Of Some Association\" =&gt; \"some_association.field_one\"\n         }\n</code></pre>\n\n<p>and then fetch the data in a similar way to that shown in the answer you referenced.</p>\n\n<pre><code>data = {}\n\nfields.each_pair do | friendly_name, attribute |\n  data[friendly_name] = if attribute.include?('.')\n    attribute.split('.').inject(some_object, :send)\n  else\n    some_object.send(attribute)\n  end\nend\n</code></pre>\n\n<p>That should leave you with a hash you can loop over in your view like this</p>\n\n<pre><code>{ \n  \"Field One\" =&gt; \"Mr\" ,\n  \"Field Two\" =&gt; \"Data\",\n  \"Field One Of Some Association\" =&gt; \"A Friend Of Mr Data\"\n}\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 2227594, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/228229fcadbd44ca5224e06176adc05e?s=128&d=identicon&r=PG", "display_name": "scoots", "link": "https://stackoverflow.com/users/2227594/scoots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1452701762, "creation_date": 1452694670, "last_edit_date": 1495541045, "question_id": 34769011, "link": "https://stackoverflow.com/questions/34769011/dynamic-method-calls-on-rails-association", "title": "Dynamic Method Calls on Rails Association", "body": "<p>Given an array like this:</p>\n\n<pre><code>%w{ field_one, field_two, some_association.field_one }\n</code></pre>\n\n<p>I need to iterate over this and dynamically call these methods on a given object, exactly as described here: <a href=\"https://stackoverflow.com/questions/7393812/ruby-send-method-with-rails-associations\">Ruby send method with rails associations</a></p>\n\n<p>So far I have this, which does fetch the values correctly:</p>\n\n<pre><code>field.include?('.') ? field.split('.').inject(some_object, :send) : some_object.send(field)\n</code></pre>\n\n<p>Additionally though, I need to call :human_attribute_name on the correct class to generate labels. What is a clean way to accomplish this?</p>\n"}, {"tags": ["arrays", "ruby", "performance", "swap"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1452697721, "post_id": 34768831, "comment_id": 57285005, "body": "Erik Michaels-Ober mentions it in his talk as 40% faster but not why - <a href=\"https://youtu.be/fGFM_UrSp70?t=30m11s\" rel=\"nofollow noreferrer\">youtu.be/fGFM_UrSp70?t=30m11s</a>"}], "answers": [{"comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1452695846, "post_id": 34768893, "comment_id": 57283621, "body": "could you improve your answer with instruction sequences, or something?"}, {"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1452726524, "post_id": 34768893, "comment_id": 57302574, "body": "&quot;The parallel assignment creates a temporary array, which it afterwards splats.&quot; \u2013 That&#39;s what the language specification says <i>should</i> happen. However, any Ruby implementation is free to <i>not</i> do this, provided that the user cannot observe the difference. I know for a fact that JRuby optimizes away the intermediate <code>Array</code>, and I believe Rubinius and IronRuby do, too. I suspect, Topaz and MagLev may eliminate it as well. I guess JRuby+Truffle does so, too. YARV doesn&#39;t, but then again, YARV is well known for being slow and not performing any optimizations whatsoever, so it&#39;s no surprise."}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": true, "score": 5, "last_activity_date": 1452700600, "last_edit_date": 1452700600, "creation_date": 1452694333, "answer_id": 34768893, "question_id": 34768831, "link": "https://stackoverflow.com/questions/34768831/parallel-assignment-performance-in-ruby/34768893#34768893", "title": "parallel assignment performance in Ruby", "body": "<p>The parallel assignment creates a temporary array, which it afterwards splats.</p>\n\n<pre><code>GC.disable\n\ndef with_temp\n  a = 1\n  b = 2\n\n  t = a\n  a = b\n  b = t\nend\n\ndef with_parallel\n  a = 1\n  b = 2\n\n  a, b = b, a\nend\n\nbefore_all = ObjectSpace.each_object(Array).count\nwith_temp\nafter_with_temp = ObjectSpace.each_object(Array).count\nwith_parallel\nafter_with_parallel = ObjectSpace.each_object(Array).count\n\nGC.enable\n\nputs after_with_temp - before_all          # =&gt; 1\nputs after_with_parallel - after_with_temp # =&gt; 2\n</code></pre>\n\n<p>The one extra <code>Array</code> comes from <code>ObjectSpace.each_object(Array).count</code> itself.</p>\n\n<hr>\n\n<p>Another way to verify - look at the instructions:</p>\n\n<pre><code>puts RubyVM::InstructionSequence.compile(\"a = 1; b = 2; t = a; a = b; b = t\").disasm\nputs RubyVM::InstructionSequence.compile(\"a = 1; b = 2; a, b = b, a\").disasm\n</code></pre>\n\n<blockquote>\n  <p>== disasm: @>==========<br>\n  local table (size: 4, argc: 0 [opts: 0, rest: -1, post: 0, block: -1, kw: -1@-1, kwrest: -1])<br>\n  [ 4] a          [ 3] b          [ 2] t<br>\n  0000 trace            1                                               (   1)<br>\n  0002 putobject_OP_INT2FIX_O_1_C_<br>\n  0003 setlocal_OP__WC__0 4<br>\n  0005 putobject        2<br>\n  0007 setlocal_OP__WC__0 3<br>\n  0009 getlocal_OP__WC__0 4<br>\n  0011 setlocal_OP__WC__0 2<br>\n  0013 getlocal_OP__WC__0 3<br>\n  0015 setlocal_OP__WC__0 4<br>\n  0017 getlocal_OP__WC__0 2<br>\n  0019 dup<br>\n  0020 setlocal_OP__WC__0 3<br>\n  0022 leave<br></p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>== disasm: @>==========<br>\n  local table (size: 3, argc: 0 [opts: 0, rest: -1, post: 0, block: -1, kw: -1@-1, kwrest: -1])<br>\n  [ 3] a          [ 2] b<br>\n  0000 trace            1                                               (   1)<br>\n  0002 putobject_OP_INT2FIX_O_1_C_<br>\n  0003 setlocal_OP__WC__0 3<br>\n  0005 putobject        2<br>\n  0007 setlocal_OP__WC__0 2<br>\n  0009 getlocal_OP__WC__0 2<br>\n  0011 getlocal_OP__WC__0 3<br>\n  0013 <strong>newarray         2</strong><br>\n  0015 dup<br>\n  0016 expandarray      2, 0<br>\n  0019 setlocal_OP__WC__0 3<br>\n  0021 setlocal_OP__WC__0 2<br>\n  0023 leave<br></p>\n</blockquote>\n"}], "owner": {"reputation": 63, "user_id": 5784750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a40ae90185f7edd016697632b4f7db?s=128&d=identicon&r=PG&f=1", "display_name": "John Perkins", "link": "https://stackoverflow.com/users/5784750/john-perkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 2, "accepted_answer_id": 34768893, "answer_count": 1, "score": 6, "last_activity_date": 1452700600, "creation_date": 1452694174, "last_edit_date": 1452694823, "question_id": 34768831, "link": "https://stackoverflow.com/questions/34768831/parallel-assignment-performance-in-ruby", "title": "parallel assignment performance in Ruby", "body": "<p>Setting up a temporary variable to swap two elements in array seems to be more efficient than using parallel assignment. Can someone help explaining?</p>\n\n<pre><code>require \"benchmark\"\n\nBenchmark.bm do |b|\n  b.report do\n    40000000.times { array[1], array[2] = array[2], array[1] }\n  end\nend\n\nBenchmark.bm do |b|\n  b.report do\n    40000000.times do\n      t        = array[1]\n      array[1] = array[2]\n      array[2] = t\n    end\n  end\nend\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>   user     system      total        real\n   4.470000   0.020000   4.490000 (  4.510368)\n   user     system      total        real\n   3.220000   0.010000   3.230000 (  3.255109)\n</code></pre>\n"}, {"tags": ["ruby", "ruby-on-rails-3"], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 4993517, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/cc7c669cf8ed5e60e7443150e3a5b513?s=128&d=identicon&r=PG&f=1", "display_name": "SreRoR", "link": "https://stackoverflow.com/users/4993517/sreror"}, "edited": false, "score": 0, "creation_date": 1452691996, "post_id": 34767956, "comment_id": 57280876, "body": "thanks for your reply.. thanks a lottt..  so haaapppyyyyyyyyyyyy"}], "tags": [], "owner": {"reputation": 1457, "user_id": 4777130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80725311c070095c9b6141a5b092d763?s=128&d=identicon&r=PG&f=1", "display_name": "Mihail Petkov", "link": "https://stackoverflow.com/users/4777130/mihail-petkov"}, "is_accepted": true, "score": 2, "last_activity_date": 1452692087, "last_edit_date": 1452692087, "creation_date": 1452691613, "answer_id": 34767956, "question_id": 34767792, "link": "https://stackoverflow.com/questions/34767792/how-to-get-json-response-in-rails-api/34767956#34767956", "title": "How to get json response in rails api", "body": "<p>I think you should change <code>@programmes</code> to <code>{ :programmers =&gt; @programmes.as_json }</code></p>\n\n<pre><code>class Api::V1::Categories::ProgrammesController &lt; ApiController\n  def category\n    @category = Category.all\n    @programmes = Programme.joins(:category).find_by(category_id: params[:category_id])\n    if @programmes.present?\n      render :json=&gt; {:message=&gt;\"Programme not exists \"}, :status=&gt;422\n    else\n      render :json =&gt; { :programmers =&gt; @programmes.as_json }\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 950, "user_id": 4993517, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/cc7c669cf8ed5e60e7443150e3a5b513?s=128&d=identicon&r=PG&f=1", "display_name": "SreRoR", "link": "https://stackoverflow.com/users/4993517/sreror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 0, "accepted_answer_id": 34767956, "answer_count": 1, "score": 1, "last_activity_date": 1452692766, "creation_date": 1452691162, "last_edit_date": 1452692766, "question_id": 34767792, "link": "https://stackoverflow.com/questions/34767792/how-to-get-json-response-in-rails-api", "title": "How to get json response in rails api", "body": "<p>I want to display all programmes which I got from a query as json response. I'm getting the programmes, but don't know how to render them through json. I'm using the <code>jbuilder</code> gem and created a <code>create.json.buider.rb</code> file. In my query I'm getting everything correctly, but I'm not receiving a JSON response with whatever details in I have in the query.</p>\n\n<p>This is my controller. I have tried it like this but I'm not getting a json response. Only a status as 200.</p>\n\n<pre><code>class Api::V1::Categories::ProgrammesController &lt; ApiController\n  respond_to :json\n  def category\n    @category=Category.all\n    @programmes=Programme.joins(:category).find_by(category_id: params[:category_id])\n    if @programmes.present?\n      render :json=&gt; {:message=&gt;\"Programme not exists \"}, :status=&gt;422\n    else\n      render :json =&gt; @programmes\n    end\n  end\nend\n</code></pre>\n\n<p>My <code>create.json.jbuilder</code> file:</p>\n\n<pre><code>json.programmes @programmes\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452690361, "post_id": 34767399, "comment_id": 57279800, "body": "Spelling of <code>initialize</code> is wrong, and you cannot assign value to <code>self</code> - use instance variable - like <code>@gmail</code>."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452690482, "post_id": 34767399, "comment_id": 57279877, "body": "If I define @gmail, I&#39;ll just define an attribute gmail that is the message.  I want the message to &#39;be&#39; the same thing or at least an exact copy with all the same methods and attributes (up until I add some more stuff that won&#39;t be accessible to the Gmail::Message class)."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452691201, "post_id": 34767399, "comment_id": 57280344, "body": "If it helps, the instance itself appears to be a simple json object."}], "answers": [{"comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 2, "creation_date": 1452690548, "post_id": 34767554, "comment_id": 57279923, "body": "This will work only if one is creating instance of <code>GmailMessage</code> directly - how can you convert an instance of <code>Gmail::Message</code> to <code>GmailMessage</code> which is what OP is asking."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452690552, "post_id": 34767554, "comment_id": 57279924, "body": "Scratch this ----&gt; Perfect.. As it happens, I don&#39;t need &#39;extra&#39; as I won&#39;t be adding extra things at the initialization step, just later on once I&#39;ve done some processing... Knew it would be something simple... This is rails after all..."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 1, "creation_date": 1452690617, "post_id": 34767554, "comment_id": 57279963, "body": "@KeiranBetteley Are you sure this is what you want?  I thought you had an instance of <code>Gmail::Message</code> and you wanted it to become <code>GmailMessage</code> object.  That is not possible."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452690803, "post_id": 34767554, "comment_id": 57280086, "body": "You&#39;re right. (My test was rubbish). This isn&#39;t creating the GmailMessage object with the Gmail::Message object&#39;s properties. Was hoping it was this easy...."}, {"owner": {"reputation": 4204, "user_id": 312395, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8f5729e2c83fe66872a973005f1dae67?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/312395/matthias"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452698854, "post_id": 34767554, "comment_id": 57285872, "body": "@WandMaker you are right. My example only shows how you can &quot;use&quot; the parent class methods and stuff through normal inheritance. But the instance itself will not be converted."}], "tags": [], "owner": {"reputation": 4204, "user_id": 312395, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8f5729e2c83fe66872a973005f1dae67?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/312395/matthias"}, "is_accepted": false, "score": 1, "last_activity_date": 1452690421, "creation_date": 1452690421, "answer_id": 34767554, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods/34767554#34767554", "title": "Inherit a class from a gem and add local methods", "body": "<p>Following should work:</p>\n\n<pre><code>class GmailMessage &lt; Gmail::Message\n\n  def initialize(extra)\n    super\n    # some additional stuff\n    @extra = extra\n  end\n\n  def something_clever\n    #do something clever utilising the Gmail::Message methods\n  end\n\nend\n\nGmailMessage.new # =&gt; will call first the initializer of Gmail::Message class..\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452705068, "post_id": 34767845, "comment_id": 57290737, "body": "I like this a lot.  Benefit is that it&#39;s easier to apply universally. Downside is that I once I have an instance I don&#39;t know whether it has the extra methods included or not. (could do a responds_to? I suppose).  With the class inheritance idea, the aim was to explicitly use it for a specific purpose."}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452705491, "post_id": 34767845, "comment_id": 57291003, "body": "Sicne we are doing <code>include</code> for class <code>Gmail::Message</code>, all instances will have the methods from <code>GmailMessage</code> module - irrespective of whether instance was created before calling <code>include</code> or after."}], "tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": true, "score": 2, "last_activity_date": 1452693858, "last_edit_date": 1452693858, "creation_date": 1452691318, "answer_id": 34767845, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods/34767845#34767845", "title": "Inherit a class from a gem and add local methods", "body": "<p>You can use concept of <code>mixin</code>, wherein you include a <code>Module</code> in another class to enhance it with additional functions.</p>\n\n<p>Here is how to do it. To create a complete working example, I have created  modules that resemble what you may have in your code base.</p>\n\n<pre><code># Assumed to be present in 3rd party gem, dummy implementation used for demonstration\nmodule Gmail\n    class Message\n        def initialize\n            @some_var = \"there\"\n        end\n        def subject\n            \"Hi\"\n        end\n    end\nend\n\n# Your code\nmodule GmailMessage\n    # You can code this method assuming as if it is an instance method\n    # of Gmail::Message. Once we include this module in that class, it\n    # will be able to call instance methods and access instance variables.\n    def something_clever\n        puts \"Subject is #{subject} and @some_var = #{@some_var}\"\n    end\nend\n\n# Enhance 3rd party class with your code by including your module\nGmail::Message.include(GmailMessage)\n\n# Below gmail object will actually be obtained by reading the user inbox\n# Lets create it explicitly for demonstration purposes.\ngmail = Gmail::Message.new\n\n# Method can access methods and instance variables of gmail object\np gmail.something_clever  \n#=&gt; Subject is Hi and @some_var = there\n\n# You can call the methods of original class as well on same object\np gmail.subject\n#=&gt; \"Hi\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452702413, "post_id": 34767983, "comment_id": 57288662, "body": "NoMethodError: undefined method `subject&#39; for #&lt;GmailMessage:0x007fcc336e4270&gt;."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452702505, "post_id": 34767983, "comment_id": 57288727, "body": "I get the correct response on @my_message.message.subject"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452703068, "post_id": 34767983, "comment_id": 57289223, "body": "That&#39;s unusual.  I just copied-and-pasted my code into a test app and it works fine.  did you do the <code>message_missing</code> method exactly as described?"}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452703202, "post_id": 34767983, "comment_id": 57289329, "body": "I copied and pasted your code. I&#39;m on rails 3.2.18 and ruby 2.1. Let me check again.... Checked. I get a GmailMessage object with @message=&lt;whateevr the original&gt;.  If I add an attr_accessor for :message I can get the response on @my_message.message. Otherwise I just get undefined method error"}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452703816, "post_id": 34767983, "comment_id": 57289812, "body": "None of the code is rails dependent.  I wrote it on Ruby 1.9.3 and I know <code>respond_do?</code> returns false for protected methods under Ruby 2+ but this isn&#39;t a protected method."}, {"owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452703911, "post_id": 34767983, "comment_id": 57289893, "body": "Can you try a different class?  <code>my_object = GmailMessage.new(&quot;Hello&quot;)</code> then try <code>p my_object.upcase</code> ... does that print &quot;HELLO&quot; ?"}, {"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452757538, "post_id": 34767983, "comment_id": 57312227, "body": "The original <code>Gmail::Message</code>class also contains a similar <code>method_missing</code> method-forwarding-hack. So the <code>respond_to</code> check will fail."}], "tags": [], "owner": {"reputation": 32451, "user_id": 2516474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2179a340c0e84edc285d432211145d?s=128&d=identicon&r=PG", "display_name": "SteveTurczyn", "link": "https://stackoverflow.com/users/2516474/steveturczyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1452760903, "last_edit_date": 1452760903, "creation_date": 1452691717, "answer_id": 34767983, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods/34767983#34767983", "title": "Inherit a class from a gem and add local methods", "body": "<p>I'm not sure why you can't just have a simple wrapper class...</p>\n\n<pre><code>class GmailMessage\n\n  def initialize(message)\n    @message = message\n  end\n\n  def something_clever\n    # do something clever here\n  end\n\n  def method_missing(m, *args, &amp;block)  \n    if @message.class.instance_methods.include?(m)\n      @message.send(m, *args, &amp;block)\n    else\n      super\n    end  \n  end \nend\n</code></pre>\n\n<p>Then you can do...</p>\n\n<pre><code>  @my_message = GmailMessage.new(@original_message)\n</code></pre>\n\n<p>@my_message will correctly respond to all the methods that were supported with @original_message and you can add your own methods to the class.</p>\n\n<p>EDIT  - changed thanks to @jeeper's observations in the comments</p>\n"}, {"comments": [{"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452702194, "post_id": 34768458, "comment_id": 57288506, "body": "I&#39;ve no idea why, but this doesn&#39;t work for me.  a.subject NoMethodError: undefined method `subject&#39; for #&lt;GmailMessage:"}, {"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452756922, "post_id": 34768458, "comment_id": 57311940, "body": "Are you sure that the original class <code>Gmail::Message</code> has a <code>subject</code> method? If <a href=\"https://github.com/dcparker/ruby-gmail/blob/master/lib/gmail/message.rb\" rel=\"nofollow noreferrer\">github.com/dcparker/ruby-gmail/blob/master/lib/gmail/message&zwnj;&#8203;.rb</a> is the class you&#39;re using, it seems it doesn&#39;t. Maybe you need to call <code>wrapper.message.subject</code>?"}, {"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "reply_to_user": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "edited": false, "score": 0, "creation_date": 1452757231, "post_id": 34768458, "comment_id": 57312077, "body": "Okay I see now that <code>Gmail::Message</code> uses <code>method_missing</code> to forward unknown method calls to it&#39;s <code>message</code> attribute. We can now see that this is a bad idea, since it makes the public API impossible to introspect."}], "tags": [], "owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "is_accepted": false, "score": 1, "last_activity_date": 1452693072, "creation_date": 1452693072, "answer_id": 34768458, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods/34768458#34768458", "title": "Inherit a class from a gem and add local methods", "body": "<p>Building upon what the other posters have said, you can use built-in class <a href=\"http://ruby-doc.org/stdlib-2.1.0/libdoc/delegate/rdoc/SimpleDelegator.html\" rel=\"nofollow\">SimpleDelegator</a> in ruby to wrap an existing message:</p>\n\n<pre><code>require 'delegate'\n\nclass MyMessage &lt; SimpleDelegator\n  def my_clever_method\n    some_method_on_the_original_message + \"woohoo\"\n  end\nend\n\nclass OriginalMessage\n  def some_method_on_the_original_message\n    \"hey\"\n  end\n\n  def another_original_method\n    \"zoink\"\n  end\nend\n\noriginal = OriginalMessage.new\nwrapper = MyMessage.new(original)\n\nputs wrapper.my_clever_method\n# =&gt; \"heywoohoo\"\n\nputs wrapper.another_original_method\n# =&gt; \"zoink\"\n</code></pre>\n\n<p>As you can see, the wrapper automatically forwards method calls to the wrapped object.</p>\n"}, {"comments": [{"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452756239, "post_id": 34772643, "comment_id": 57311611, "body": "I would not recommend this approach."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "reply_to_user": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452773731, "post_id": 34772643, "comment_id": 57321970, "body": "Why not? It&#39;s basically the only thing that actually works that I can work out..."}, {"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452773820, "post_id": 34772643, "comment_id": 57322028, "body": "If the original object mutates, you&#39;re new object won&#39;t see those changes. There are other more comprehensible ways of doing this."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "reply_to_user": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452787835, "post_id": 34772643, "comment_id": 57331997, "body": "Ok. I&#39;m not worried about that though. In fact, I might want one or other object to mutate.  I&#39;d love a cleaner way of doing what I&#39;ve done above...  But none of the answers so far actually do it...  i.e. Take an object, create a new object under a new class which absorbs all of the methods from the class and any &#39;data&#39; (instance variables) and allow me to run new methods on it without messing with the original class or object."}, {"owner": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452795535, "post_id": 34772643, "comment_id": 57336852, "body": "That&#39;s b/c the original object is written unwisely."}, {"owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "reply_to_user": {"reputation": 4349, "user_id": 648392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2bd8a8c583866711c234a612f6b157?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/648392/jesper"}, "edited": false, "score": 0, "creation_date": 1452855340, "post_id": 34772643, "comment_id": 57360974, "body": "The original object isn&#39;t written unwisely, it&#39;s from a gem and is just designed to do something pretty standard. Ah, just seen your message above"}], "tags": [], "owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "is_accepted": false, "score": -1, "last_activity_date": 1452704440, "creation_date": 1452704440, "answer_id": 34772643, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods/34772643#34772643", "title": "Inherit a class from a gem and add local methods", "body": "<p>It's not the prettiest, but it works...</p>\n\n<pre><code>class GmailMessage &lt; Gmail::Message\n\n  def initialize(message)\n    message.instance_variables.each do |variable|\n      self.instance_variable_set(\n        variable, \n        message.instance_variable_get(variable)\n        )\n    end\n  end\n\n  def something_clever\n    # do something clever here\n  end\n\nend\n</code></pre>\n\n<p>Thanks for all your help guys.</p>\n"}], "owner": {"reputation": 1925, "user_id": 2386548, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb0c86baa20f25404248077f3c01e0b8?s=128&d=identicon&r=PG", "display_name": "Carpela", "link": "https://stackoverflow.com/users/2386548/carpela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1671, "favorite_count": 0, "accepted_answer_id": 34767845, "answer_count": 5, "score": 4, "last_activity_date": 1452760903, "creation_date": 1452689905, "last_edit_date": 1452690979, "question_id": 34767399, "link": "https://stackoverflow.com/questions/34767399/inherit-a-class-from-a-gem-and-add-local-methods", "title": "Inherit a class from a gem and add local methods", "body": "<p>I use a gem to manage certain attributes of a gmail api integration, and I'm pretty happy with the way it works. </p>\n\n<p>I want to add some local methods to act on the Gmail::Message class that is used in that gem.</p>\n\n<p>i.e. I want to do something like this. </p>\n\n<pre><code>models/GmailMessage.rb\n  class GmailMessage &lt; Gmail::Message\n\n    def initialize(gmail)\n      #create a Gmail::Message instance as a GmailMessage instance \n      self = gmail\n    end\n\n    def something_clever\n      #do something clever utilising the Gmail::Message methods\n    end\n  end\n</code></pre>\n\n<p>I don't want to persist it. But obviously I can't define self in that way.</p>\n\n<p>To clarify, I want to take an instance of Gmail::Message and create a GmailMessage instance which is a straight copy of that other message.</p>\n\n<p>I can then run methods like @gmail.subject and @gmail.html, but also run @gmail.something_clever... and save local attributes if necessary.</p>\n\n<p>Am I completely crazy? </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1452697471, "post_id": 34766566, "comment_id": 57284806, "body": "&quot;if you need the values&quot; is confusing since you are not saving them to a variable. (Also, there&#39;s a small typo in that line.) Presumably, that&#39;s the only reason you would favor that approach, as, unlike the first, it obtains all the values even when <code>false</code> is returned and creates an array for those values."}, {"owner": {"reputation": 219, "user_id": 8846445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-ffhhOjTTAJI/AAAAAAAAAAI/AAAAAAAAAEk/t1TCejCmk1s/photo.jpg?sz=128", "display_name": "BenFarhat Souhaib", "link": "https://stackoverflow.com/users/8846445/benfarhat-souhaib"}, "edited": false, "score": 0, "creation_date": 1549977080, "post_id": 34766566, "comment_id": 96092956, "body": "Is it possible to apply that for nested properties? having something like: <code>%i( p1 p2 p3.attr ).all? { |key| params[key].present?</code> }"}], "tags": [], "owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "is_accepted": true, "score": 18, "last_activity_date": 1452687584, "creation_date": 1452687584, "answer_id": 34766566, "question_id": 34766494, "link": "https://stackoverflow.com/questions/34766494/check-presence-of-multiple-params/34766566#34766566", "title": "Check Presence of multiple params", "body": "<p>You can use the <code>Enumerable.all?</code> method:</p>\n\n<pre><code>%i( p1 p2 p3 ).all? { |key| params[key].present? }\n</code></pre>\n\n<p>Another alternative, if you need the values, it to fetch them and check the presence.</p>\n\n<pre><code>params.values_at(*%i( p1 p2 p3 )).all?(&amp;:present?)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>params.values_at(:p1, :p2, :p3).all?(&amp;:present?)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": false, "score": 0, "last_activity_date": 1452690099, "last_edit_date": 1452690099, "creation_date": 1452688865, "answer_id": 34767020, "question_id": 34766494, "link": "https://stackoverflow.com/questions/34766494/check-presence-of-multiple-params/34767020#34767020", "title": "Check Presence of multiple params", "body": "<p>In Rails, you can make use of <code>Hash#slice</code> to figure out whether required keys are present in hash.</p>\n\n<pre><code># Below require is needed only in stand-alone program for testing purposes\nrequire 'active_support/core_ext/hash'\n\nparams = {:p1=&gt;\"1\", :p2=&gt;\"2\", :p3 =&gt; \"3\", :p4=&gt;\"4\"}    \nmandatory_keys = [:p1, :p2, :p3]\n\nif (params.slice(*mandatory_keys).values.all?(&amp;:present?)\n    puts \"All mandatory params present\"\nelse\n    puts \"Mandatory params missing\"\nend\n</code></pre>\n"}], "owner": {"reputation": 1588, "user_id": 723334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Yoz09.jpg?s=128&g=1", "display_name": "prajeesh", "link": "https://stackoverflow.com/users/723334/prajeesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3394, "favorite_count": 3, "accepted_answer_id": 34766566, "answer_count": 2, "score": 7, "last_activity_date": 1452690099, "creation_date": 1452687367, "last_edit_date": 1452687835, "question_id": 34766494, "link": "https://stackoverflow.com/questions/34766494/check-presence-of-multiple-params", "title": "Check Presence of multiple params", "body": "<p>I need to check the presence of multiple params.\nCurrently what i have written is</p>\n\n<pre><code>if params[:p1].present? &amp;&amp; params[:p2].present? &amp;&amp; params[:p3].present?\n  # Do something\nend\n</code></pre>\n\n<p>Is there a more efficient way to do this?</p>\n"}, {"tags": ["ruby", "regex", "literals"], "answers": [{"comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1452687612, "post_id": 34766519, "comment_id": 57277956, "body": "As far as I know, in some old versions of some language you could use a space inside the limiting quantifier and it was ignored. I cannot remember that language now. There was such an SO question before, and some comment mentioned that fact."}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1452687925, "post_id": 34766519, "comment_id": 57278192, "body": "This space inside can be ignored if a VERBOSE flag is used, BTW, but the special meaning will still be lost."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452688109, "post_id": 34766519, "comment_id": 57278320, "body": "@sawa if u use <code>re.Verbose</code> it will match <code>a{1,2}</code>.the special meaning is lost in all cases"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1452698400, "post_id": 34766519, "comment_id": 57285547, "body": "Not surprisingly, <code>&quot;a{1, 2}&quot; =~ &#47;.{1, 2}&#47;x #=&gt; nil</code>, <code>x</code> being the <i>extended/free-spacing</i> regex definition mode."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 7, "last_activity_date": 1452688313, "last_edit_date": 1452688313, "creation_date": 1452687432, "answer_id": 34766519, "question_id": 34766477, "link": "https://stackoverflow.com/questions/34766477/what-meaning-does-it-have-when-i-put-a-space-within-a-range-quantifier-in-a-rege/34766519#34766519", "title": "What meaning does it have when I put a space within a range quantifier in a regex?", "body": "<pre><code>/.{1, 2}/ \n</code></pre>\n\n<p>matches <code>\"a{1, 2}\"</code>. Though it is syntactically valid, the <code>{1, 2}</code> stops being a <em>limiting quantifier</em>.</p>\n\n<p>Once a <code>space</code> appears between the comma and the <code>max</code> numeric value, <code>{1, 2}</code> behaves as a <code>literal</code> string match.</p>\n"}], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 34766519, "answer_count": 1, "score": 7, "last_activity_date": 1452688313, "creation_date": 1452687322, "question_id": 34766477, "link": "https://stackoverflow.com/questions/34766477/what-meaning-does-it-have-when-i-put-a-space-within-a-range-quantifier-in-a-rege", "title": "What meaning does it have when I put a space within a range quantifier in a regex?", "body": "<p>Putting a space within a range quantifier in a regex seems syntactically valid:</p>\n\n<pre><code>/.{1, 2}/ # =&gt; /.{1, 2}/\n</code></pre>\n\n<p>However, such space seems to alter the behaviour compared to when there is no such space:</p>\n\n<pre><code>\"a\" =~ /.{1,2}/ # =&gt; 0\n\"a\" =~ /.{1, 2}/ # =&gt; nil\n</code></pre>\n\n<p>What would be the meaning of a regex with space within a range like <code>/.{1, 2}/</code>?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "version"], "comments": [{"owner": {"reputation": 9323, "user_id": 1047207, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2U8wC.jpg?s=128&g=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/1047207/raj"}, "edited": false, "score": 0, "creation_date": 1452687194, "post_id": 34766174, "comment_id": 57277667, "body": "If it is just about bumping on releases. How about Tagging Releases in Git - <a href=\"http://githowto.com/tagging_versions\" rel=\"nofollow noreferrer\">githowto.com/tagging_versions</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "edited": false, "score": 0, "creation_date": 1452690690, "post_id": 34766680, "comment_id": 57280016, "body": "I appreciate describing your past experience. Using only git tags sounds indeed alright, but we&#39;re having custom endpoints that print the app version, and those are taken from somewhere inside the app. Else, maybe the CI tool can bump this automatically, right? But I&#39;m looking on where exactly to store this version."}], "tags": [], "owner": {"reputation": 80852, "user_id": 2483313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIBTG.jpg?s=128&g=1", "display_name": "spickermann", "link": "https://stackoverflow.com/users/2483313/spickermann"}, "is_accepted": false, "score": 1, "last_activity_date": 1452687899, "creation_date": 1452687899, "answer_id": 34766680, "question_id": 34766174, "link": "https://stackoverflow.com/questions/34766174/where-to-store-a-rails-apps-version/34766680#34766680", "title": "Where to store a Rails app&#39;s version", "body": "<p>I worked in teams which deployed new versions more than 10 times a day. I think it it error prone to expect the developers to increased versions numbers on each deploy in a meaningful way. </p>\n\n<p>I would suggest to configure your deploy script to tag the release in git with tags like <code>production/2015-01-13_13-18-42</code>.</p>\n\n<p>That allows to see which tag was deployed in a given timeframe. Since git allows to checkout or revert to a tag, it is easy to rollback, test or just compare different versions.</p>\n"}, {"comments": [{"owner": {"reputation": 1592, "user_id": 4271743, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Nivk1.jpg?s=128&g=1", "display_name": "ConnorCMcKee", "link": "https://stackoverflow.com/users/4271743/connorcmckee"}, "reply_to_user": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "edited": false, "score": 0, "creation_date": 1452691236, "post_id": 34766967, "comment_id": 57280365, "body": "Yes. The first step in our development of a new iteration is to determine its scope, which in turn determines if we&#39;re updating to a new major, minor, or patch number. For us it&#39;s an important step either way because we have named version branches in our VCS (a corporate requirement), so someone was going to have to key in the numbers anyway. That said, it has proven useful to have these values in the code, as they are also leveraged in custom generators (for instance, we use a custom structure of seed files, with a new being generated every release and named according to the current version)."}, {"owner": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "edited": false, "score": 0, "creation_date": 1452691795, "post_id": 34766967, "comment_id": 57280734, "body": "This was really helpful. But this means that if you fix the scope to, say, <code>2.0.0</code>, then this version will stick there for all environments prior to deploying to production, right? I would rather have more specific versions, say <code>2.0.0.pre.1</code> for a test/qa environment, <code>2.0.0.rc.1</code> for a staging/uat environment and only have <code>2.0.0</code> for a final/production state of the project."}, {"owner": {"reputation": 1592, "user_id": 4271743, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Nivk1.jpg?s=128&g=1", "display_name": "ConnorCMcKee", "link": "https://stackoverflow.com/users/4271743/connorcmckee"}, "reply_to_user": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "edited": false, "score": 0, "creation_date": 1452692127, "post_id": 34766967, "comment_id": 57280960, "body": "That&#39;s entirely valid. There&#39;s certainly room for expansion of the versioning following this method. We operate via a fairly small development team, and find it beneficial to display the version to which we are developing, but we tend to flag at least the rails environment type with the version information through development (via a derivation of <code>Rails.env</code>). In our case it wouldn&#39;t make sense to have a change in the files for UAT or the like, as once it passes UAT it&#39;s entirely hands off for our developers."}, {"owner": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "edited": false, "score": 0, "creation_date": 1452695678, "post_id": 34766967, "comment_id": 57283502, "body": "I understand. Thanks for sharing!"}], "tags": [], "owner": {"reputation": 1592, "user_id": 4271743, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Nivk1.jpg?s=128&g=1", "display_name": "ConnorCMcKee", "link": "https://stackoverflow.com/users/4271743/connorcmckee"}, "is_accepted": false, "score": 1, "last_activity_date": 1452688687, "creation_date": 1452688687, "answer_id": 34766967, "question_id": 34766174, "link": "https://stackoverflow.com/questions/34766174/where-to-store-a-rails-apps-version/34766967#34766967", "title": "Where to store a Rails app&#39;s version", "body": "<p>Working on a project which deploys versions every 2-4 weeks, I've traditionally stored versions in a module of application information constants, rather similar to your first example. Generally we've used a constant MAJOR_VERSION, MINOR_VERSION, PATCH_VERSION, and a method to display in the form of <code>\"#{major}.#{minor}.#{patch}\"</code>.</p>\n\n<p>This is obviously more than necessary if you have no intention to display the version to users of your application, but we find it's effective, and an important part of our updating process is to update this file.</p>\n"}], "owner": {"reputation": 14224, "user_id": 433940, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6b9f0021f63ca2fb96c0e50f422e0489?s=128&d=identicon&r=PG", "display_name": "linkyndy", "link": "https://stackoverflow.com/users/433940/linkyndy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452688687, "creation_date": 1452686437, "question_id": 34766174, "link": "https://stackoverflow.com/questions/34766174/where-to-store-a-rails-apps-version", "title": "Where to store a Rails app&#39;s version", "body": "<p>I would like to maintain a version of my Rails app, so that I can easily bump it on releases. I've stumbled upon different places of where to store this version inside a project, but I'm not sure where is the recommended way to store it:</p>\n\n<ul>\n<li>in <code>app/version.rb</code>, in a <code>MyRailsAppModule::VERSION</code>;</li>\n<li>in <code>app/version.rb</code>, in a <code>VERSION</code>;</li>\n<li>in <code>app/VERSION</code>, as plain text;</li>\n<li>in <code>VERSION</code>, as plain text.</li>\n</ul>\n\n<p>I would especially appreciate some pro's for the chosen solution, as to why it is recommended to store it there.</p>\n"}, {"tags": ["php", "ruby-on-rails", "ruby", "linux", "shell"], "comments": [{"owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "edited": false, "score": 0, "creation_date": 1452684436, "post_id": 34764914, "comment_id": 57275872, "body": "WPScan has installation guide in pretty nice readme. <a href=\"https://github.com/wpscanteam/wpscan\" rel=\"nofollow noreferrer\">github.com/wpscanteam/wpscan</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "is_accepted": false, "score": 0, "last_activity_date": 1452704146, "last_edit_date": 1452704146, "creation_date": 1452684647, "answer_id": 34765547, "question_id": 34764914, "link": "https://stackoverflow.com/questions/34764914/ruby-command-not-executing-in-php-shell-exec-function/34765547#34765547", "title": "Ruby command not executing in PHP shell_exec function", "body": "<p>Try something like this:</p>\n\n<pre><code>$wp_command = shell-exec('cd /var/www/html/wp-scan &amp;&amp; ruby wpscan.rb --url example.com --follow-redirection --log');\n\necho $wp_command;\n\ndie;\n</code></pre>\n\n<p>Should work if you install WPScan and RVM correctly.</p>\n"}], "owner": {"reputation": 283, "user_id": 5783699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5f62716bdbf26c3777c25506620abf6?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Kohli", "link": "https://stackoverflow.com/users/5783699/rahul-kohli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453678113, "creation_date": 1452682851, "last_edit_date": 1452703634, "question_id": 34764914, "link": "https://stackoverflow.com/questions/34764914/ruby-command-not-executing-in-php-shell-exec-function", "title": "Ruby command not executing in PHP shell_exec function", "body": "<p>I want to run WPScan through PHP file. I am using shell_exec function to call the WPScan command, but it throws out following error:</p>\n\n<pre><code>[ERROR] cannot load such file -- bundler/setup\n</code></pre>\n\n<p>WPScan needs ruby to be running in the server and WPScan command can only run inside the WPScan directory. When we run this command outside the WPScan directory, than it throws out the same following error:</p>\n\n<pre><code>[ERROR] cannot load such file -- bundler/setup\n</code></pre>\n\n<p>Means browser is not able to locate the files needed by the WPScan, and all the files are placed inside the document root of the website. Other all commands are working through shell_exec, but ruby command throws out a error. In short it is unable to find the files needed by the WPScan.</p>\n\n<p>The command is:</p>\n\n<pre><code>ruby wpscan.rb --url http://example.com/ --follow-redirection --log\n</code></pre>\n\n<p>I tried using full path also:</p>\n\n<pre><code>/usr/local/rvm/rubies/ruby-2.3.0/bin/ruby /var/www/html/wp-scan/wpscan.rb --url example.com --follow-redirection --log\n</code></pre>\n\n<p>But nothing works.</p>\n\n<pre><code>$wp_command = shell_exec('/usr/local/rvm/rubies/ruby-2.3.0/bin/ruby /var/www/html/wp-scan/wpscan.rb --url example.com --follow-redirection --log');\n\necho $wp_command;\n\ndie;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "json", "rest"], "comments": [{"owner": {"reputation": 9323, "user_id": 1047207, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2U8wC.jpg?s=128&g=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/1047207/raj"}, "edited": false, "score": 0, "creation_date": 1452682720, "post_id": 34764564, "comment_id": 57274669, "body": "Post your code whatever you have tried so far"}, {"owner": {"reputation": 824, "user_id": 5580690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzdJe.png?s=128&g=1", "display_name": "Nitin Srivastava", "link": "https://stackoverflow.com/users/5580690/nitin-srivastava"}, "edited": false, "score": 0, "creation_date": 1452689928, "post_id": 34764564, "comment_id": 57279502, "body": "Hi, Please update the question with one more level"}, {"owner": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "edited": false, "score": 0, "creation_date": 1452694814, "post_id": 34764564, "comment_id": 57282892, "body": "I update the question :)"}], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "edited": false, "score": 0, "creation_date": 1452684913, "post_id": 34765071, "comment_id": 57276211, "body": "That work with one level, but i can&#39;t do it with two, like:      &lt;%= text_field_tag &#39;paymentInfo[transactionType[something]]&#39; %&gt;  Is There a way to do this?"}, {"owner": {"reputation": 4339, "user_id": 1338339, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/L1igS.jpg?s=128&g=1", "display_name": "lllllll", "link": "https://stackoverflow.com/users/1338339/lllllll"}, "reply_to_user": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "edited": false, "score": 0, "creation_date": 1452685920, "post_id": 34765071, "comment_id": 57276846, "body": "Use <code>&lt;%= text_field_tag &#39;paymentInfo[transactionType][something]&#39; %&gt;</code> instead (Note the change in the brackets)."}, {"owner": {"reputation": 4339, "user_id": 1338339, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/L1igS.jpg?s=128&g=1", "display_name": "lllllll", "link": "https://stackoverflow.com/users/1338339/lllllll"}, "reply_to_user": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "edited": false, "score": 0, "creation_date": 1452700748, "post_id": 34765071, "comment_id": 57287412, "body": "Are you sure? I just tried that exactly and it works fine.  <i>Note: I just saw your updated question. Take into account that you cannot set <code>paymentInfo[transactionType]</code> to a text_field, and at the same time have <code>paymentInfo[transactionType][something]</code>. That&#39;s not a valid JSON</i>"}], "tags": [], "owner": {"reputation": 4339, "user_id": 1338339, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/L1igS.jpg?s=128&g=1", "display_name": "lllllll", "link": "https://stackoverflow.com/users/1338339/lllllll"}, "is_accepted": true, "score": 1, "last_activity_date": 1452683294, "creation_date": 1452683294, "answer_id": 34765071, "question_id": 34764564, "link": "https://stackoverflow.com/questions/34764564/mount-a-multi-level-json-object-from-a-form-in-rails/34765071#34765071", "title": "Mount a &quot;multi-level&quot; JSON Object from a form in Rails", "body": "<p>Something like this?</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>&lt;%= form_tag '/someroute',{method: :post, format: :json} do %&gt;\n  &lt;%= number_field_tag 'totalAmount', '0',{class:'form-control',min:0} %&gt;\n  &lt;%= select_tag 'paymentInfo[transactionType]', options_for_select(['Paypal','Bitcoin','CC'],'Paypal'),{class:'form-control'} %&gt;\n  &lt;%= submit_tag 'Pay!' %&gt;\n&lt;% end %&gt;\n</code></pre>\n"}], "owner": {"reputation": 680, "user_id": 4897880, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2d3bf5b67282f5f466e503d702dabcf3?s=128&d=identicon&r=PG", "display_name": "Eduardo Pedroso", "link": "https://stackoverflow.com/users/4897880/eduardo-pedroso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 34765071, "answer_count": 1, "score": 1, "last_activity_date": 1452697682, "creation_date": 1452681851, "last_edit_date": 1452697682, "question_id": 34764564, "link": "https://stackoverflow.com/questions/34764564/mount-a-multi-level-json-object-from-a-form-in-rails", "title": "Mount a &quot;multi-level&quot; JSON Object from a form in Rails", "body": "<p>I need some help with a Rails Project. I need to mount a multi level JSON with a structure like this (a lot bigger than this lol):</p>\n\n<pre><code>{\"totalAmount\" =&gt; 0,\n  \"paymentInfo\" =&gt; {\n    \"transactionType\" =&gt; {\n      \"something\" =&gt; 10\n    }\n  }\n}\n</code></pre>\n\n<p>I'm trying to get it using a form_tag, but I can't get the object inside the object from it. How can I do it the right way? I'm going to pass this JSON to a Rest Service via HTTParty</p>\n\n<p>my form so far</p>\n\n<pre><code>&lt;%= form_tag '/sendPayment',{method: :post} do %&gt;\n&lt;div&gt;\n  &lt;%= label_tag 'Total Amount' %&gt;\n  &lt;%= text_field_tag 'totalAmount' %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;div&gt;\n  &lt;%= label_tag 'Transaction Type' %&gt;\n  &lt;%= text_field_tag 'paymentInfo[transactionType]' %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;%= label_tag 'something' %&gt;\n  &lt;%= text_field_tag 'paymentInfo[transactionType][something]' %&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;%= submit_tag 'Save' %&gt;\n&lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>My Controller</p>\n\n<pre><code>require 'rubygems'\nrequire 'httparty'\nrequire 'json'\nrequire 'digest'\n\n\nclass PaymentsController &lt; ApplicationController\n  def index\n  end\n\n  def sendPayment\n   puts params\n\n   @jsonParams = params.to_json\n   puts @jsonParams\n   @result = HTTParty.post('http://public-api-elb-1090807689.us-west-     2.elb.amazonaws.com/v1/sync/payments'.to_str,\n  :body =&gt; @jsonParams.to_json,\n  :headers =&gt; { 'Content-Type' =&gt; 'application/json' } )\n\nputs @result\n end\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "activerecord"], "comments": [{"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "edited": false, "score": 0, "creation_date": 1452683446, "post_id": 34763911, "comment_id": 57275202, "body": "I have taken the liberty of editing your question to make the title and question more specific.  If I have erred and caused your question to no longer be accurate, would you please roll back my edit?"}], "answers": [{"tags": [], "owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "is_accepted": false, "score": 2, "last_activity_date": 1452683020, "creation_date": 1452683020, "answer_id": 34764987, "question_id": 34763911, "link": "https://stackoverflow.com/questions/34763911/avoid-connectiontimeouterror-when-pool-size-is-smaller-than-number-of-threads/34764987#34764987", "title": "Avoid ConnectionTimeoutError when pool size is smaller than number of threads", "body": "<p>ActiveRecord uses a separate connection for each thread.  The reliable way to make this code work is to make the pool size greater than or equal to the number of threads.</p>\n\n<p>If you want to have a smaller pool size than the number of threads, you should increase the amount of time that ActiveRecord waits to get a connection out of the pool.  This is done with the <code>checkout_timeout</code> option, e.g.:</p>\n\n<pre><code>ActiveRecord::Base.establish_connection(  \n  ...\n  checkout_timeout: 3_600,    # wait an hour\n)  \n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 1738072, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/91090720a6e4d539526bb446ed76c556?s=128&d=identicon&r=PG", "display_name": "yaswant singh", "link": "https://stackoverflow.com/users/1738072/yaswant-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1452683392, "creation_date": 1452680063, "last_edit_date": 1452683392, "question_id": 34763911, "link": "https://stackoverflow.com/questions/34763911/avoid-connectiontimeouterror-when-pool-size-is-smaller-than-number-of-threads", "title": "Avoid ConnectionTimeoutError when pool size is smaller than number of threads", "body": "<p>Can I reliably have a connection pool size smaller than the number of threads which are concurrently using ActiveRecord connections?  I want the thread pool size to be one.</p>\n\n<p>I am getting error:</p>\n\n<pre><code>could not obtain a database connection within 5.000       \nconds (waited 5.000 seconds) ActiveRecord::ConnectionTimeoutError)\n</code></pre>\n\n<p>I'm trying to simulate it my local machine. but here also I'm facing the same error.</p>\n\n<pre><code>@db_host  = \"localhost\"\n@db_user  = \"root\"\n@db_pass  = \"root\"\n@db_name = \"me_dev1\"\n\nActiveRecord::Base.establish_connection(  \n:adapter =&gt; \"mysql2\",  \n:host =&gt; @db_host,  \n:database =&gt; @db_name,  \n:pool     =&gt; 1,\n:reaping_frequency =&gt; 1\n)  \n\nclass Test &lt; ActiveRecord::Base  \n   def create_data\n\n      100.times do |i|\n        t1=Thread.new {\n         begin\n          test=Test.where(:test_name =&gt; \"automation test\")\n          puts test\n         ensure\n          ActiveRecord::Base.connection.close if ActiveRecord::Base.connection ;\n          ActiveRecord::Base.clear_active_connections! ;\n        end\n     }\n    t1.join\n   end\n   end \nend \n\nTest.new.create_data\n</code></pre>\n\n<p>Thanks </p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1452680095, "post_id": 34763817, "comment_id": 57272836, "body": "When should exception be thrown? When the process exits? How can you know that it won&#39;t be called some time in the future?"}, {"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "reply_to_user": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1452680181, "post_id": 34763817, "comment_id": 57272884, "body": "The exception should be thrown, when class B was defined. But you have a point with <i>How can you know that it won&#39;t be called some time in the future?</i>"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1452680257, "post_id": 34763817, "comment_id": 57272949, "body": "A class can be reopened. A module can be included after a class is defined."}, {"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "reply_to_user": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1452680318, "post_id": 34763817, "comment_id": 57272992, "body": "Hmmm, your right. Ok, then I have to decide on run time if the block was called."}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 1, "creation_date": 1452680521, "post_id": 34763817, "comment_id": 57273109, "body": "My point is - you can check if the method was called. You can&#39;t check that it wasn&#39;t called, unless you have some constraint on <i>until when</i> should it be called."}, {"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "reply_to_user": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "edited": false, "score": 0, "creation_date": 1452680572, "post_id": 34763817, "comment_id": 57273146, "body": "Ok, can you summarize your comments in an answer, so that I can accept it?"}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 2, "creation_date": 1452680879, "post_id": 34763817, "comment_id": 57273345, "body": "If you want exception to be thrown when <code>B</code> is instantiated, then, you could check whether <code>B.config</code> is <code>nil</code> or not, in the constructor"}, {"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "reply_to_user": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452688529, "post_id": 34763817, "comment_id": 57278595, "body": "@WandMaker that&#39;s what I meant by checking on run time"}, {"owner": {"reputation": 13359, "user_id": 1779477, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f62e1d28063f41fd9728d811fea3a84c?s=128&d=identicon&r=PG&f=1", "display_name": "idmean", "link": "https://stackoverflow.com/users/1779477/idmean"}, "edited": false, "score": 0, "creation_date": 1452692570, "post_id": 34763817, "comment_id": 57281280, "body": "This kind of requirement to call a method seems a bit weird.  Why do you need this?"}, {"owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "edited": false, "score": 0, "creation_date": 1452692805, "post_id": 34763817, "comment_id": 57281438, "body": "The included module can only work, if it was configured by the class in which it gets included. And because every instance share the same configuration, I thought that the check if the module has a valid configuration could be done when the class is loaded, and not every time a new instance of that class is created."}], "answers": [{"tags": [], "owner": {"reputation": 1616, "user_id": 329320, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d4ea18be907fb6130be9749ec336cd6?s=128&d=identicon&r=PG", "display_name": "thrice801", "link": "https://stackoverflow.com/users/329320/thrice801"}, "is_accepted": false, "score": 0, "last_activity_date": 1453416953, "creation_date": 1453416953, "answer_id": 34935950, "question_id": 34763817, "link": "https://stackoverflow.com/questions/34763817/check-if-a-class-method-was-called/34935950#34935950", "title": "Check if a class method was called", "body": "<p>Technically, @ndn is right, it could be called after the class has been evaluated. However, it sounds like what you want is to validate that the configure method has been called at some point within the class body definition (this will also allow any modules that have been included, to finish evaluating, so if a module include calls the configure method, it's all good as well).</p>\n\n<p>The closest solution I've come up to address this situation can be found here:</p>\n\n<p><a href=\"https://github.com/jasonayre/trax_core/blob/master/lib/trax/core/abstract_methods.rb\" rel=\"nofollow\">https://github.com/jasonayre/trax_core/blob/master/lib/trax/core/abstract_methods.rb</a></p>\n\n<p>The above code is an abstract methods implementation for ruby, which technically isn't what you're asking (you are talking about calling the method, abstract methods are about checking that a subclass defined it), but the same trick I used there could be applied.</p>\n\n<p>Basically, I'm using ruby's trace point library to watch for the end of the class definition to hit, at which point it fires an event, I check whether the method was defined, and throw an error if not. So as long as you're calling configure from WITHIN your classes, a similar solution could work for you. Something like (not tested):</p>\n\n<pre><code>module MustConfigure\n  extend ::ActiveSupport::Concern\n\n  module ClassMethods\n    def inherited(subklass)\n      super(subklass)\n      subklass.class_attribute :_configured_was_called\n      subklass._configured_was_called = false\n\n      trace = ::TracePoint.new(:end) do |tracepoint|\n        if tracepoint.self == subklass #modules also trace end we only care about the class end\n          trace.disable\n\n          raise NotImplementedError.new(\"Must call configure\") unless subklass._configured_was_called\n        end\n      end\n\n      trace.enable\n\n      subklass\n    end\n\n    def configure(&amp;block)\n      self._configured_was_called = true\n      #do your thing\n    end\n  end\nend\n\nclass A\n  include MustConfigure\nend\n\nclass B &lt; A\n  configure do\n    #dowhatever\n  end\nend\n\nclass C &lt; B\n  #will blow up here\nend\n</code></pre>\n\n<p>Or, you could try using the InheritanceHooks module from my library and skip the manual tracepoint handling:</p>\n\n<pre><code>class BaseClass\n  include::Trax::Core::InheritanceHooks\n  after_inherited do\n    raise NotImplementedError unless self._configure_was_called\n  end\nend\n</code></pre>\n\n<p>Note, although I am using this pattern in production at the moment, and everything works great on MRI, because tracepoint is a library built for debugging, there are some limitations when using jruby. (right now it breaks unless you pass the jruby debug flag) -- I opened an issue awhile back trying to get tracepoint added in without having to enable debug explicitly.</p>\n\n<p><a href=\"https://github.com/jruby/jruby/issues/3096\" rel=\"nofollow\">https://github.com/jruby/jruby/issues/3096</a></p>\n"}, {"tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 0, "last_activity_date": 1480071052, "creation_date": 1480071052, "answer_id": 40803225, "question_id": 34763817, "link": "https://stackoverflow.com/questions/34763817/check-if-a-class-method-was-called/40803225#40803225", "title": "Check if a class method was called", "body": "<p>Here's an example based on your structure.\nIt checks at instantiation if configure has been called, and will work automatically with any class on which you prepended MyModule.</p>\n\n<p>It checks at every instantiation if configure has been called, but it is just checking a boolean so it shouldn't have any performance impact.</p>\n\n<p>I looked for a way to undefine a prepended method for a specific class but didn't find anything.</p>\n\n<pre><code>module MyModule\n  def self.prepended base\n    base.extend(ClassMethods)\n  end\n\n  module ClassMethods\n    attr_reader :config\n\n    def configured?\n      @configured\n    end\n\n    def configure &amp;block\n      @configured = true\n      @config = {}\n      block.call(@config) if block\n    end\n  end\n\n  def initialize(*p)\n    klass = self.class\n    if klass.configured? then\n      super\n    else\n      raise \"Please run #{klass}.configure before calling #{klass}.new\"\n    end\n  end\nend\n\nclass A\n  prepend MyModule\n\n  configure do |config|\n    config[:a] = true\n    puts \"A has been configured with #{config}\"\n  end\nend\n\nclass B\n  prepend MyModule\nend\n\nA.new\nputs \"A has been instantiated\"\n\nputs\n\nB.new\nputs \"B has been instantiated\"\n\n# =&gt;\n# A has been configured with {:a=&gt;true}\n# A has been instantiated\n\n# check_module_class.rb:27:in `initialize': Please run B.configure before calling B.new (RuntimeError)\n#   from check_module_class.rb:50:in `new'\n#   from check_module_class.rb:50:in `&lt;main&gt;'\n</code></pre>\n"}], "owner": {"reputation": 12290, "user_id": 228370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a3f87affc7032e0af7cc4ce2ddb08ce9?s=128&d=identicon&r=PG", "display_name": "23tux", "link": "https://stackoverflow.com/users/228370/23tux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 798, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1480071052, "creation_date": 1452679791, "question_id": 34763817, "link": "https://stackoverflow.com/questions/34763817/check-if-a-class-method-was-called", "title": "Check if a class method was called", "body": "<p>I have the following module and classes:</p>\n\n<pre><code>module MyModule\n  def self.included base\n    base.extend(ClassMethods)\n  end\n\n  module ClassMethods\n    attr_reader :config\n\n    # this method MUST be called by every class which includes MyModule\n    def configure &amp;block\n      @config = {}\n      block.call(@config) if block\n    end\n  end\nend\n\nclass A\n  include MyModule\n\n  configure do |config|\n    # do sth with the config\n  end\nend\n\nclass B\n  include MyModule\nend\n</code></pre>\n\n<p>Is it possible to check, if the <code>configure</code> method from the module was called? This means <code>A</code> should be fine, but <code>B</code> should throw an error, because it never called <code>configure</code>.</p>\n\n<p>I tried it within the <code>self.included</code> callback, but the <code>configure</code> method gets called afterwards.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1452678944, "post_id": 34763397, "comment_id": 57271997, "body": "It&#39;s very hard to try to answer this.  Can you add the stack trace for one of the times where it happens?  This should point you towards the page which is calling the missing template/partial which should give you some clues."}, {"owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "reply_to_user": {"reputation": 30655, "user_id": 138557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/73c04e9ef9ca435c5b19a2e765ae6d20?s=128&d=identicon&r=PG", "display_name": "Max Williams", "link": "https://stackoverflow.com/users/138557/max-williams"}, "edited": false, "score": 0, "creation_date": 1452681303, "post_id": 34763397, "comment_id": 57273668, "body": "Added specs, backtrace and a full error message. The problem is, it happens on multiple pages and all of them work most of the time."}, {"owner": {"reputation": 5556, "user_id": 3712432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nSika.png?s=128&g=1", "display_name": "Alex P", "link": "https://stackoverflow.com/users/3712432/alex-p"}, "edited": false, "score": 0, "creation_date": 1452706000, "post_id": 34763397, "comment_id": 57291352, "body": "How are you deploying? I&#39;m guessing Capybara given that you have a timestamp in the view path. I&#39;ve seen similar issues where Unicorn doesn&#39;t pick up the changed file handles properly, and keeps looking for an old template that&#39;s been deleted (as Capybara only keeps <i>n</i> previous releases). If you hard-restart the app server process and the errors go away, that&#39;s an indicator your problem could be something similar."}], "owner": {"reputation": 2314, "user_id": 2882921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffb2397ff2a97e133bdaa6cb2b449b7e?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Kruczek", "link": "https://stackoverflow.com/users/2882921/piotr-kruczek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452681110, "creation_date": 1452678785, "last_edit_date": 1452681110, "question_id": 34763397, "link": "https://stackoverflow.com/questions/34763397/unexpected-actionviewmissingtemplate-errors-on-production-environment", "title": "Unexpected ActionView::MissingTemplate errors on production environment", "body": "<p>I've got an application, which is live for a couple of months. Recently I've been receiving a lot of <code>ActionView::MissingTemplate</code> errors, for both <code>Missing template</code> and <code>Missing partial</code>, but the thing is, they seem to happen more or less randomly. </p>\n\n<p>The only way i found to reproduce the problem was furiously changing browser language via <a href=\"https://chrome.google.com/webstore/detail/quick-language-switcher/pmjbhfmaphnpbehdanbjphdcniaelfie?hl=en\" rel=\"nofollow\">Quick Language Switcher</a> plugin for Chrome. If i did it fast enough, eventually one of the requests returned 500. I use <a href=\"https://github.com/iain/http_accept_language\" rel=\"nofollow\">http_accept_language</a> gem to change the site's locale (in application_controller).</p>\n\n<p>Other possible factors:</p>\n\n<ul>\n<li><strong>happens only in production environment</strong></li>\n<li>unfortunately it happens for \"standard\" users as well (not trying to abuse the service)</li>\n<li>it's not browser related (happens on all of them)</li>\n<li>it's not action related (happens on multiple actions)</li>\n<li>it's not language related (happens on multiple languages)</li>\n</ul>\n\n<p>I'm not sure how to address this issue, it may be related to server strain, since we've gotten more traffic lately.</p>\n\n<p>Any hint, idea or even direction would be appreciated.</p>\n\n<p>EDIT:</p>\n\n<p>Specs: <code>Rails 4.1.5</code>, <code>ruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-darwin13.0]</code></p>\n\n<p>Backtrace: <a href=\"http://pastebin.com/nsaxPvAB\" rel=\"nofollow\">http://pastebin.com/nsaxPvAB</a></p>\n\n<p>Example of error:</p>\n\n<pre><code>ActionView::MissingTemplate: Missing template static_pages/privacy_policy, application/privacy_policy with {:locale=&gt;[:ru, :en], :formats=&gt;[:html], :variants=&gt;[], :handlers=&gt;[:erb, :builder, :raw, :ruby, :coffee, :arb, :haml, :jbuilder]}. Searched in: * \"usr_path/releases/20160112094523/app/views\" * \"usr_path/shared/bundle/ruby/2.1.0/bundler/gems/dark_api-7386deedfd7b/app/views\" * \"usr_path/shared/bundle/ruby/2.1.0/gems/activeadmin-1.0.0.pre2/app/views\" * \"usr_path/shared/bundle/ruby/2.1.0/gems/kaminari-0.16.3/app/views\" * \"usr_path/shared/bundle/ruby/2.1.0/gems/devise-3.4.1/app/views\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "excel", "roo-gem"], "answers": [{"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": false, "score": 1, "last_activity_date": 1452679306, "last_edit_date": 1495541046, "creation_date": 1452679306, "answer_id": 34763602, "question_id": 34763130, "link": "https://stackoverflow.com/questions/34763130/how-to-save-a-modified-excel-file-using-rooexcel/34763602#34763602", "title": "How to save a modified excel file using Roo::Excel?", "body": "<p><a href=\"https://github.com/roo-rb/roo\" rel=\"nofollow noreferrer\">Documentation</a> says </p>\n\n<blockquote>\n  <p>Roo implements read access for all common spreadsheet types.</p>\n</blockquote>\n\n<p>Closest to saving, it has export to CSV, <code>sheet.to_csv</code>, that may not work if you want to save as excel. </p>\n\n<p>You may want to look at <a href=\"https://stackoverflow.com/questions/4644341/which-gem-support-import-export-to-xlsx-file-in-ruby\">Which gem support Import/Export to xlsx file in ruby</a> for alternatives.</p>\n"}], "owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1745, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1452679306, "creation_date": 1452678126, "last_edit_date": 1452678878, "question_id": 34763130, "link": "https://stackoverflow.com/questions/34763130/how-to-save-a-modified-excel-file-using-rooexcel", "title": "How to save a modified excel file using Roo::Excel?", "body": "<p>I opened an existing excel file using Roo::Excel. I was also able to modify the content. The problem is I don't know how to save it. Is Roo:Excel only meant for reading? If not, how do I save the changes?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "factory-bot"], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 5032873, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MSWnq.jpg?s=128&g=1", "display_name": "mike927", "link": "https://stackoverflow.com/users/5032873/mike927"}, "edited": false, "score": 0, "creation_date": 1452677488, "post_id": 34762824, "comment_id": 57270913, "body": "application does not have a service, it is related through severals model like I &#39;ve mentioned. Here is just my problem."}, {"owner": {"reputation": 28830, "user_id": 221213, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bbfbca5273f9d020ef4ccfbadcecccba?s=128&d=identicon&r=PG", "display_name": "KARASZI Istv&#225;n", "link": "https://stackoverflow.com/users/221213/karaszi-istv%c3%a1n"}, "reply_to_user": {"reputation": 613, "user_id": 5032873, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MSWnq.jpg?s=128&g=1", "display_name": "mike927", "link": "https://stackoverflow.com/users/5032873/mike927"}, "edited": false, "score": 0, "creation_date": 1452677608, "post_id": 34762824, "comment_id": 57271004, "body": "Then you would need to create the &quot;middle&quot; instance(s) as well or use the second example."}, {"owner": {"reputation": 613, "user_id": 5032873, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MSWnq.jpg?s=128&g=1", "display_name": "mike927", "link": "https://stackoverflow.com/users/5032873/mike927"}, "edited": false, "score": 0, "creation_date": 1452680482, "post_id": 34762824, "comment_id": 57273088, "body": "callback and ignore statment it was what I was looking for! Thanks a lot :)"}], "tags": [], "owner": {"reputation": 28830, "user_id": 221213, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bbfbca5273f9d020ef4ccfbadcecccba?s=128&d=identicon&r=PG", "display_name": "KARASZI Istv&#225;n", "link": "https://stackoverflow.com/users/221213/karaszi-istv%c3%a1n"}, "is_accepted": true, "score": 1, "last_activity_date": 1452677580, "last_edit_date": 1452677580, "creation_date": 1452677282, "answer_id": 34762824, "question_id": 34762722, "link": "https://stackoverflow.com/questions/34762722/factorygirl-overwrite-deep-related-object-attribute/34762824#34762824", "title": "FactoryGirl - overwrite deep related object attribute", "body": "<p>In these cases we usually create a separate \"lower\" instance and pass that to the \"upper\" instance.</p>\n\n<p>Like:</p>\n\n<pre><code>service = FactoryGirl.build(:service, name: 'Something else')\napplication = FactoryGirl.create(:application, service: service)\n</code></pre>\n\n<p>Of course you could also achieve the same behavior if you use this pattern very much in your codebase with the following factory:</p>\n\n<pre><code>factory :application do\n  transient do\n    service_name nil\n  end\n\n  association :service\n\n  after(:build) do |application, evaluator|\n    if evaluator.service_name\n      application.service.name = evaluator.service_name\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 5032873, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MSWnq.jpg?s=128&g=1", "display_name": "mike927", "link": "https://stackoverflow.com/users/5032873/mike927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 34762824, "answer_count": 1, "score": 0, "last_activity_date": 1452677580, "creation_date": 1452676964, "last_edit_date": 1452677388, "question_id": 34762722, "link": "https://stackoverflow.com/questions/34762722/factorygirl-overwrite-deep-related-object-attribute", "title": "FactoryGirl - overwrite deep related object attribute", "body": "<p>I have some not too common issue with factory. I've got several models related with each other. I created quite fine factory that creates that whole \"chain\" invoking only below </p>\n\n<pre><code>FactoryGirl.create(:application)\n</code></pre>\n\n<p>Above command creates like I've mentioned before several related models. I user Faker to populate attributes' names. Everything works fine but, I would like to overwrite one deep related model called 'service' with application model. I thought about trait but I can't invoke that trait within </p>\n\n<pre><code>trait :my_trait do\n  name 'Overwritten name'\nend\n\nFactoryGirl.create(:application, :my_trait)\n</code></pre>\n\n<p>Obviously above is wrong because trait regards to application instead of nested service model. One solution I found is update it after create factory but I would prefer to do it more globally. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "resque"], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 3165873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b4cbb983cf971cd46adb79084ea41fc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu Kansal", "link": "https://stackoverflow.com/users/3165873/himanshu-kansal"}, "edited": false, "score": 1, "creation_date": 1452678628, "post_id": 34763251, "comment_id": 57271763, "body": "Server is running fine.I have tried hitting the same url.And I am able to hit using direct call."}, {"owner": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "reply_to_user": {"reputation": 370, "user_id": 3165873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b4cbb983cf971cd46adb79084ea41fc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu Kansal", "link": "https://stackoverflow.com/users/3165873/himanshu-kansal"}, "edited": false, "score": 0, "creation_date": 1452679164, "post_id": 34763251, "comment_id": 57272166, "body": "To be clear, is the problem when you use it Directly, or when you use it with Resque? The wording of your question wasn&#39;t clear for me on that."}, {"owner": {"reputation": 370, "user_id": 3165873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b4cbb983cf971cd46adb79084ea41fc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu Kansal", "link": "https://stackoverflow.com/users/3165873/himanshu-kansal"}, "edited": false, "score": 0, "creation_date": 1452680745, "post_id": 34763251, "comment_id": 57273253, "body": "The problem is when I use it with Resque."}], "tags": [], "owner": {"reputation": 3164, "user_id": 193785, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b9110bc3c6f788945c789bf190932dc1?s=128&d=identicon&r=PG", "display_name": "BookOfGreg", "link": "https://stackoverflow.com/users/193785/bookofgreg"}, "is_accepted": false, "score": 0, "last_activity_date": 1452678441, "creation_date": 1452678441, "answer_id": 34763251, "question_id": 34762674, "link": "https://stackoverflow.com/questions/34762674/ruby-nethttp-start-giving-connection-refused/34763251#34763251", "title": "Ruby Net::HTTP.start giving connection refused", "body": "<p>It's likely you do not have any server running on <code>port 8081</code> which is why the connection will be refused.\nCheck it with <code>lsof -i</code> and look for programs bound to 8081 on a linux machine.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6471038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-p2_oor0INkY/AAAAAAAAAAI/AAAAAAAAAAA/z0R8oXN2_vA/photo.jpg?sz=128", "display_name": "Vikas Panwar", "link": "https://stackoverflow.com/users/6471038/vikas-panwar"}, "is_accepted": false, "score": 1, "last_activity_date": 1466022334, "last_edit_date": 1466022334, "creation_date": 1466013695, "answer_id": 37842603, "question_id": 34762674, "link": "https://stackoverflow.com/questions/34762674/ruby-nethttp-start-giving-connection-refused/37842603#37842603", "title": "Ruby Net::HTTP.start giving connection refused", "body": "<p>try explicitly connecting to the loop back address. There may be resolution issues with localhost.</p>\n\n<pre><code>uri = URI('http://127.0.0.1:8081/adhoc/dummy_poll?noAuth=true')\n</code></pre>\n"}], "owner": {"reputation": 370, "user_id": 3165873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b4cbb983cf971cd46adb79084ea41fc?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu Kansal", "link": "https://stackoverflow.com/users/3165873/himanshu-kansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1152, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1544019525, "creation_date": 1452676800, "last_edit_date": 1544019525, "question_id": 34762674, "link": "https://stackoverflow.com/questions/34762674/ruby-nethttp-start-giving-connection-refused", "title": "Ruby Net::HTTP.start giving connection refused", "body": "<p>I have a ruby class in which I am making Net::HTTP.start call inside perform method.This is the code:</p>\n\n<pre><code>class Poller\n\ndef self.perform(args)\nuri = URI('http://localhost:8081/adhoc/dummy_poll?noAuth=true')\nbegin\n  Net::HTTP.start(uri.host, uri.port, :read_timeout=&gt;30) do |http|\n    request = Net::HTTP::Get.new uri\n    @response = http.request request\n    @responsecode = @response.code\n  end\nrescue Exception =&gt; e\n  Rails.logger.error \"error mess==&gt;\"+e.message()\n  @responsecode = \"408\"\nend\n</code></pre>\n\n<p>When I enqueue this within <code>resque</code> from another class using this line:</p>\n\n<pre><code>Resque.enqueue_in_with_queue(:data_workflow_manager,10,Poller,args)\n</code></pre>\n\n<p>I get this error:</p>\n\n<p><strong>Connection refused - connect(2) for \"::1\" port 8081.</strong></p>\n\n<p>However, HTTP.start works fine without any errors when the perform method is called in some another class using:</p>\n\n<pre><code>    Poller.perform(args)\n</code></pre>\n\n<p>Please help me understand, why is this happening?</p>\n"}, {"tags": ["android", "ruby", "adb"], "answers": [{"tags": [], "owner": {"reputation": 1011, "user_id": 3891638, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pqkeX.jpg?s=128&g=1", "display_name": "cozyconemotel", "link": "https://stackoverflow.com/users/3891638/cozyconemotel"}, "is_accepted": false, "score": 1, "last_activity_date": 1452724041, "creation_date": 1452724041, "answer_id": 34778269, "question_id": 34762602, "link": "https://stackoverflow.com/questions/34762602/standalone-ruby-script-using-cheezy-adb/34778269#34778269", "title": "Standalone ruby script using cheezy/ADB", "body": "<p>I looked at the github readme and it said that <code>ADB</code> was a mixin. Try</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nrequire 'ADB'\nclass ADBClass\n    include ADB\nend\n\nADBClass.start_server\n</code></pre>\n\n<p>Should work.</p>\n"}], "owner": {"reputation": 11, "user_id": 5783321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8703ca6f455d6c0bd63b100609351462?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/5783321/rafal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452724041, "creation_date": 1452676556, "question_id": 34762602, "link": "https://stackoverflow.com/questions/34762602/standalone-ruby-script-using-cheezy-adb", "title": "Standalone ruby script using cheezy/ADB", "body": "<p>I'm trying to use <a href=\"https://github.com/cheezy/ADB\" rel=\"nofollow\">https://github.com/cheezy/ADB</a>\n as described here: <a href=\"https://github.com/cheezy/ADB/wiki/Start-and-Stop-ADB-Service\" rel=\"nofollow\">https://github.com/cheezy/ADB/wiki/Start-and-Stop-ADB-Service</a> </p>\n\n<p>I've installed gem but I'm unable to use it.</p>\n\n<p>My script.rb file:</p>\n\n<pre><code>#!/usr/bin/env ruby\n\nrequire 'ADB'\n\nADB.start_server\n</code></pre>\n\n<p>and gem list result</p>\n\n<pre><code>LOCAL GEMS \n\nADB (0.5.6)\nbundler (1.11.2)\nchildprocess (0.5.9)\nffi (1.9.10)\n</code></pre>\n\n<p>Error message: </p>\n\n<pre><code>undefined method `start_server' for ADB:Module (NoMethodError)\nfrom -e:1:in `load'\nfrom -e:1:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "rubygems", "resque"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1452672807, "post_id": 34761122, "comment_id": 57267908, "body": "did you run <code>bundle install</code>?"}, {"owner": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1452673537, "post_id": 34761122, "comment_id": 57268349, "body": "Yes I did bundle install several times, I still get the same issue."}], "answers": [{"comments": [{"owner": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "edited": false, "score": 0, "creation_date": 1452680998, "post_id": 34763770, "comment_id": 57273435, "body": "I am trying this and getting back to you, in some time. Thanks"}, {"owner": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "edited": false, "score": 0, "creation_date": 1452683700, "post_id": 34763770, "comment_id": 57275372, "body": "Its working for me. I need to figure out why it is not working with my back end application."}, {"owner": {"reputation": 304, "user_id": 5703856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7iLpO.png?s=128&g=1", "display_name": "zirf", "link": "https://stackoverflow.com/users/5703856/zirf"}, "reply_to_user": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "edited": false, "score": 0, "creation_date": 1452684278, "post_id": 34763770, "comment_id": 57275779, "body": "$ gem list | grep responders  responders(2.1.1) ?"}, {"owner": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "edited": false, "score": 0, "creation_date": 1452684822, "post_id": 34763770, "comment_id": 57276147, "body": "responders gem is installed. version 2.1.1"}], "tags": [], "owner": {"reputation": 304, "user_id": 5703856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7iLpO.png?s=128&g=1", "display_name": "zirf", "link": "https://stackoverflow.com/users/5703856/zirf"}, "is_accepted": false, "score": 0, "last_activity_date": 1452679689, "creation_date": 1452679689, "answer_id": 34763770, "question_id": 34761122, "link": "https://stackoverflow.com/questions/34761122/unable-to-start-resque-worker/34763770#34763770", "title": "Unable to start resque worker", "body": "<p>My way (don't forget to start redis-server): </p>\n\n<pre><code>$ git clone  https://github.com/cristianbica/activejob-resque.git\n$ cd activejob-resque/\n$ bundle install\n...\n$ TERM_CHILD=1 LOGGING=1 QUEUE=* bundle exec rake resque:work\nactivejob-resque]$ TERM_CHILD=1 LOGGING=1 QUEUE=* bundle exec rake resque:work\n*** Starting worker test.lo:17635:*\n*** Registered signals\n*** Running before_first_fork hooks\n*** Checking default\n*** Sleeping for 5.0 seconds\n*** resque-1.25.2: Waiting for *\n...\n</code></pre>\n\n<p>Deprecation warnings excluded. Pay attention</p>\n\n<pre><code>$ bundle exec rake resque:work\nset QUEUE env var, e.g. $ QUEUE=critical,high rake resque:work\n</code></pre>\n\n<p>You shoul set QUEUE enviromental variable at least.\nAbove action just for test, but try it first of all. Works for me.</p>\n"}], "owner": {"reputation": 4504, "user_id": 449344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYFYK.jpg?s=128&g=1", "display_name": "Jeevan Dongre", "link": "https://stackoverflow.com/users/449344/jeevan-dongre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452679689, "creation_date": 1452671523, "question_id": 34761122, "link": "https://stackoverflow.com/questions/34761122/unable-to-start-resque-worker", "title": "Unable to start resque worker", "body": "<p>I am trying to use resque with active job. I am following the introductions specified in the <a href=\"http://bica.co/2015/01/20/active-job-resque/\" rel=\"nofollow\">link</a> </p>\n\n<p>When ever I tried to start resque with the following command </p>\n\n<pre><code>bundle exec rake resque:work\n</code></pre>\n\n<p>I get the following error</p>\n\n<pre><code>The controller-level `respond_to' feature has been extracted to the `responders` gem. Add it to your Gemfile to continue using this feature:\n  gem 'responders', '~&gt; 2.0'\nConsult the Rails upgrade guide for details.\n</code></pre>\n\n<p>Please look at my Gemfile once </p>\n\n<pre><code>source 'https://rubygems.org'\n\ngem 'rails', '4.2.5'\n\ngem 'rails-api', \"~&gt; 0.4.0\"\n\ngem 'spring', :group =&gt; :development\n\ngem \"activerecord-import\", \"~&gt; 0.4.0\"\n\ngem 'mysql2', \"~&gt; 0.3.0\"\n\ngem 'delayed_job'\n\ngem \"delayed_job_web\"\n\ngem 'delayed_job_active_record'\n\ngem \"daemons\"\n\ngem 'resque'\n\ngem 'responders'\n\n\n# ADD-ONS\n\n# Require smarter_csv for data import\ngem \"smarter_csv\", \"~&gt; 1.0.19\"\ngem \"active_model_serializers\", \"~&gt; 0.8.0\"\ngem \"kaminari\", \"~&gt; 0.16.0\"\ngem \"api-pagination\", \"~&gt; 4.0.0\"\ngem \"colorize\", \"~&gt; 0.7.5\"\ngem \"versionist\", \"~&gt; 1.4.0\"\ngem \"httpclient\", \"~&gt; 2.6.0.1\"\ngem \"rest-client\", \"~&gt; 1.7.0\"\ngem 'devise', '~&gt; 3.4.1'\ngem 'omniauth-facebook',\"~&gt; 2.0.1\"\ngem \"omniauth-google-oauth2\",\"~&gt; 0.2.6\"\n# git@github.com:baschtl/devise-token_authenticatable.git\ngem 'devise-token_authenticatable'\ngem \"devise-encryptable\" ,'~&gt; 0.1.2'\ngem 'minitest', '~&gt; 5.5'\ngem \"bunny\", \"&gt;= 1.7.0\"\ngem 'aws-sdk', '~&gt; 2'\ngem 'rantly', '~&gt; 0.3.1'\ngem 'forgery', '~&gt; 0.6.0'\ngem 'unicorn', '~&gt; 4.8.3'\n</code></pre>\n\n<p>What is the problem ? I am not able to find the solutions online. \nI am using rails 4.2.5\nAlso active_model_serializers had to be pinned to 0.8.0. </p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452675839, "post_id": 34761000, "comment_id": 57269799, "body": "Thanks, it works in terms of code but I have two follow up questions to this. 1. I need the result to be an ActiveRecord (not an array), is there a way to do that? 2. If I want to add filter on Products like (&quot;products.active&quot;), how would I do that with this solution?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676252, "post_id": 34761000, "comment_id": 57270034, "body": "2. The linked documentation clearly shows, with an example, what to do about conditions on included tables. 1. Just don&#39;t <code>flat_map</code> then."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676756, "post_id": 34761000, "comment_id": 57270401, "body": "1. If I don&#39;t use flat_map how do I get the products out of that query, then?"}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676818, "post_id": 34761000, "comment_id": 57270445, "body": "2. I didn&#39;t actually realize that it was a link. Will look it up."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677250, "post_id": 34761000, "comment_id": 57270741, "body": "If you don&#39;t want an array of <code>Product</code> or an <code>ActiveRecord::Relation</code>, I don&#39;t know what you do want."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677526, "post_id": 34761000, "comment_id": 57270947, "body": "But I DO want an ActiveRecord::Relation. I am not 100% sure though. I want the same type of result as one get with a Product.where(:foo =&gt; &#39;bar&#39;)"}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677603, "post_id": 34761000, "comment_id": 57271003, "body": "When I test your solution it actually seems like it is creating the same type of query (albeit more elegantly) in terms that I get a Product.where(:id =&gt; 1,2,3,...7000) which is just as slow."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677655, "post_id": 34761000, "comment_id": 57271038, "body": "The reason I can&#39;t use an array output is because I need to add where-filters etc on the result, like &quot;products.where(:foo =&gt; &#39;bar&#39;)"}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 1, "last_activity_date": 1452671059, "creation_date": 1452671059, "answer_id": 34761000, "question_id": 34760842, "link": "https://stackoverflow.com/questions/34760842/rails-find-relations-on-relations/34761000#34761000", "title": "Rails: Find relations on relations", "body": "<p><a href=\"http://apidock.com/rails/ActiveRecord/QueryMethods/includes\" rel=\"nofollow\"><code>includes</code></a> should help. Didn't test, but something like:</p>\n\n<pre><code>Category.includes(:products).where(id: [1, 2, 3]).flat_map(&amp;:products)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452675541, "post_id": 34761154, "comment_id": 57269596, "body": "This won&#39;t really work since I have a CategoryProductRelation in between. Basically, Product does not have a :category_id attribute. Is there another way around it?"}, {"owner": {"reputation": 1636, "user_id": 1256849, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/dfa0i.jpg?s=128&g=1", "display_name": "Harry Bomrah", "link": "https://stackoverflow.com/users/1256849/harry-bomrah"}, "reply_to_user": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676076, "post_id": 34761154, "comment_id": 57269930, "body": "I think then you need at least 2 queries to do it."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676215, "post_id": 34761154, "comment_id": 57270009, "body": "Most likely, but I can&#39;t seem to get my head around how. I tested and it seems like the category_id.in won&#39;t work either but I think this would be the same as Product.where(:category_id =&gt; [1,2,3]). I can&#39;t see the difference actually."}, {"owner": {"reputation": 1636, "user_id": 1256849, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/dfa0i.jpg?s=128&g=1", "display_name": "Harry Bomrah", "link": "https://stackoverflow.com/users/1256849/harry-bomrah"}, "reply_to_user": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452676572, "post_id": 34761154, "comment_id": 57270270, "body": "O yes its same .. I told you i use mongoid. Mongoid requires .in for finding in array."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677030, "post_id": 34761154, "comment_id": 57270583, "body": "Thanks, this works but is basically the same solution as the one I have. My three categories has apprx 7.000 products which creates a query similar to Product.where(:id =&gt; 1,2,3,4,5,6...7000) which takes about 100-200 ms. Perhaps the question is, should it take that long or is it actually an indexing question? The CategoryProductRelation is properly indexed though."}, {"owner": {"reputation": 1636, "user_id": 1256849, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/dfa0i.jpg?s=128&g=1", "display_name": "Harry Bomrah", "link": "https://stackoverflow.com/users/1256849/harry-bomrah"}, "reply_to_user": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677263, "post_id": 34761154, "comment_id": 57270753, "body": "I think indexing Product should also help reducing time. Also you use mysql i think. You can use joins. Its powerful. I usually work with document based dbs for big data, these dbs are already faster for these kind of queries."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677417, "post_id": 34761154, "comment_id": 57270856, "body": "Thanks. I checked the indexes and they seem alright. Btw I am using postgresql. How would I use joins in your solution?"}, {"owner": {"reputation": 1341, "user_id": 743975, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6b0899d70c3239ead231cebc7e8ce9af?s=128&d=identicon&r=PG", "display_name": "Dmitry Polyakovsky", "link": "https://stackoverflow.com/users/743975/dmitry-polyakovsky"}, "edited": false, "score": 0, "creation_date": 1452893985, "post_id": 34761154, "comment_id": 57383089, "body": "If you are using Mongiod I would recommend building has_and_belongs_to_many :products, index: true and has_and_belongs_to_many :categories, index: true in both models and avoiding a lookup table.  It will be fast however since category will have many products, product_ids array will get very large."}], "tags": [], "owner": {"reputation": 1636, "user_id": 1256849, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/dfa0i.jpg?s=128&g=1", "display_name": "Harry Bomrah", "link": "https://stackoverflow.com/users/1256849/harry-bomrah"}, "is_accepted": false, "score": 1, "last_activity_date": 1452676810, "last_edit_date": 1452676810, "creation_date": 1452671678, "answer_id": 34761154, "question_id": 34760842, "link": "https://stackoverflow.com/questions/34760842/rails-find-relations-on-relations/34761154#34761154", "title": "Rails: Find relations on relations", "body": "<p>I am not sure if this works in your case. I use mongoid so i do something like this.</p>\n\n<pre><code>Product.where(:category_id.in =&gt; [1,2,3])\n</code></pre>\n\n<p>This gives me all the products with the categories whose ids are 1,2,3.</p>\n\n<p>For Product model</p>\n\n<pre><code>belongs_to :category\n</code></pre>\n\n<p>For Category model</p>\n\n<pre><code>has_many :products\n</code></pre>\n\n<p>I hope you get an idea.</p>\n\n<p>For two queries you can do something like this.</p>\n\n<pre><code>category_product_relations_ids = CategoryProductRelation.where(:category_ids =&gt; [1,2,3]).pluck(:id)\nProduct.where(:category_product_relation_id =&gt; category_product_relations_ids)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452677877, "post_id": 34762765, "comment_id": 57271189, "body": "Thanks, my gut feeling is that this is the way to go. I will look it up and get back."}], "tags": [], "owner": {"reputation": 3773, "user_id": 991903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J12Hi.jpg?s=128&g=1", "display_name": "Meier", "link": "https://stackoverflow.com/users/991903/meier"}, "is_accepted": false, "score": 1, "last_activity_date": 1452677415, "last_edit_date": 1452677415, "creation_date": 1452677088, "answer_id": 34762765, "question_id": 34760842, "link": "https://stackoverflow.com/questions/34760842/rails-find-relations-on-relations/34762765#34762765", "title": "Rails: Find relations on relations", "body": "<p>The magic word is database join.\nTo use it, you need to think a little in the opposite direction.\nYou ask for products with conditions on a joined table.</p>\n\n<p><a href=\"http://guides.rubyonrails.org/active_record_querying.html#joining-tables\" rel=\"nofollow\">http://guides.rubyonrails.org/active_record_querying.html#joining-tables</a></p>\n\n<p>specificly look for: \"12.3. 12.3 Specifying Conditions on the Joined Tables\"</p>\n\n<p>So it is something like</p>\n\n<pre><code>Products.joins(:category_product_relations).\n  where( category_product_relations: {category_id: [1,2,3]} )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452679406, "post_id": 34763120, "comment_id": 57272325, "body": "This seems to be the best solution so far. It does not create the dreaded Product.where(:id =&gt; 1,2,3,...7000) that I assume will use a lot of memory in the db. It is still almost as slow though (which surprises me). However, by adding a .limit to it I can speed it up significantly. .limit(1) = 2.8 ms, limit(50)=3.9ms, limit(500)=11.5ms, limit(5000) = 74ms, no limit (i.e. 7000) = 100 ms."}, {"owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "edited": false, "score": 0, "creation_date": 1452680000, "post_id": 34763120, "comment_id": 57272749, "body": "Tested it some more and this seems to be the best solution to my problem. I guess what is unique in my situation is that I have a relation model that makes things a bit more complicated. Thanks!"}], "tags": [], "owner": {"reputation": 3077, "user_id": 1257369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UVwvN.gif?s=128&g=1", "display_name": "everyman", "link": "https://stackoverflow.com/users/1257369/everyman"}, "is_accepted": true, "score": 1, "last_activity_date": 1452678102, "creation_date": 1452678102, "answer_id": 34763120, "question_id": 34760842, "link": "https://stackoverflow.com/questions/34760842/rails-find-relations-on-relations/34763120#34763120", "title": "Rails: Find relations on relations", "body": "<p>What about <code>merge</code>? </p>\n\n<pre><code>Product.joins(:categories).merge(Category.where(:id =&gt; [1,2,3])).pluck(:id)\n</code></pre>\n\n<p><a href=\"http://apidock.com/rails/ActiveRecord/SpawnMethods/merge\" rel=\"nofollow\">http://apidock.com/rails/ActiveRecord/SpawnMethods/merge</a></p>\n\n<blockquote>\n  <p>Merges in the conditions from other, if other is an\n  ActiveRecord::Relation</p>\n</blockquote>\n"}], "owner": {"reputation": 2103, "user_id": 916691, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67aa4724f58e7091e24833b24b090264?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/916691/christoffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 34763120, "answer_count": 4, "score": 1, "last_activity_date": 1452678102, "creation_date": 1452670447, "last_edit_date": 1592644375, "question_id": 34760842, "link": "https://stackoverflow.com/questions/34760842/rails-find-relations-on-relations", "title": "Rails: Find relations on relations", "body": "<p>I can't believe I haven't come up with a good solution to this common problem after 5 years of Rails-programming. Also, I assume there are 100's of answers to this particular question but I don't know the definitions (relations? associations? etc) to search it well. So here we go:</p>\n<p>I have two models: Categories and Products and a CategoryProductRelation-model to tie them together.</p>\n<p>Category-model:</p>\n<pre><code>has_many :category_product_relations\nhas_many :products, :through =&gt; :category_product_relations\n</code></pre>\n<p>CategoryProductRelation-model:</p>\n<pre><code>has_many :products\nhas_many :categories\n</code></pre>\n<p>Category typically has some 1000 products.</p>\n<h2>The problem</h2>\n<p>Very often I need to do searches like &quot;All products in the Food type of categories&quot; i.e. Categories: 'Fruits' (1), 'Cereal' (2), 'Meat'(3).</p>\n<p>Basically, what I would <em>like</em> to do is something like <code>Category.where(:id =&gt; [1,2,3]).products</code> which obviously doesn't work.</p>\n<h2>My (slow) solution</h2>\n<p>What I often do is something like this:</p>\n<pre><code>products = Product.where(:id =&gt; CategoryProductRelation.where(:category_id =&gt; [1,2,3]).pluck(:product_id))\n</code></pre>\n<p>which works, mostly fine as well. However, this is very slow if the amount of products is large resulting in 400ms queries!</p>\n<p>There <strong>has</strong> to be a smarter way, right? This feels like Rails 101 but I can't figure it out in a way that is simple and <strong>fast</strong>!</p>\n<p>Lastly, iterating through Category like:</p>\n<pre><code>Category.where(:id =&gt; [1,2,3]).each do |category|\ncategory.products \n#...and so on\nend\n</code></pre>\n<p>seems to be equally slow.</p>\n<p>Is there a magic bullet to this common problem?</p>\n"}, {"tags": ["ruby", "regex", "rubular"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452670831, "post_id": 34760598, "comment_id": 57266870, "body": "Please use English punctuation when you write in English."}, {"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1452671249, "post_id": 34760598, "comment_id": 57267105, "body": "I&#39;d match the quoted substrings and replace the ampersands inside each match."}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1452671997, "post_id": 34760598, "comment_id": 57267451, "body": "It can&#39;t be done in any robust way with regex."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1452672575, "post_id": 34760598, "comment_id": 57267771, "body": "@pguardiario: It can&#39;t be done at all with regex, given that regex is only search (it does not cover replacing). But it can be done with regex and other stuff :)"}, {"owner": {"reputation": 40, "user_id": 5299899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f2464d187fd7e7caeb42971fc55a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/5299899/manu"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452674614, "post_id": 34760598, "comment_id": 57269014, "body": "Sorry @sawa will you highlight the mistakes on my current post so I can improve on this."}, {"owner": {"reputation": 40, "user_id": 5299899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f2464d187fd7e7caeb42971fc55a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/5299899/manu"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452685112, "post_id": 34760598, "comment_id": 57276336, "body": "@sawa I have made changes to the highlighted portions , but i dont know if its right or not , this time instead of highlighting make the corrections , so that I will get a better understanding . Thanks"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452685920, "post_id": 34760598, "comment_id": 57276845, "body": "@Manu In English, you shouldn&#39;t put a space before colons commas, etc., and you should end a sentence with a period or an exclamation or question mark (unless it ends with things like a block of formatted code)."}], "answers": [{"comments": [{"owner": {"reputation": 40, "user_id": 5299899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f2464d187fd7e7caeb42971fc55a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/5299899/manu"}, "edited": false, "score": 0, "creation_date": 1452677025, "post_id": 34761342, "comment_id": 57270576, "body": "I am new to regex , can you explain the difference between /&quot;.*?&quot;/ and /&quot;.*&quot;/ ?"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 40, "user_id": 5299899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f2464d187fd7e7caeb42971fc55a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/5299899/manu"}, "edited": false, "score": 0, "creation_date": 1452677431, "post_id": 34761342, "comment_id": 57270869, "body": "Non-greedy vs. greedy. Try them both on <code>&#39;both &quot;foo&quot; and &quot;bar&quot;&#39;</code>."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 1, "last_activity_date": 1452672470, "creation_date": 1452672470, "answer_id": 34761342, "question_id": 34760598, "link": "https://stackoverflow.com/questions/34760598/regular-expression-to-match-special-characters-within-double-quotes/34761342#34761342", "title": "Regular expression to match special characters within double quotes", "body": "<pre><code>str = %q{&amp; is here \"&amp; is here also , &amp; has again occured\"}\nstr.gsub!(/\".*?\"/) do |substr|\n  substr.gsub(/&amp;/, '$')\nend\nputs str\n# =&gt; &amp; is here \"$ is here also , $ has again occured\"\n</code></pre>\n\n<p>EDIT: Just noticed that stribizhev proposed this way before I wrote it.</p>\n"}], "owner": {"reputation": 40, "user_id": 5299899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f2464d187fd7e7caeb42971fc55a7a?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/5299899/manu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 34761342, "answer_count": 1, "score": -2, "last_activity_date": 1452688117, "creation_date": 1452669610, "last_edit_date": 1452688117, "question_id": 34760598, "link": "https://stackoverflow.com/questions/34760598/regular-expression-to-match-special-characters-within-double-quotes", "title": "Regular expression to match special characters within double quotes", "body": "<p>My input string is : </p>\n\n<pre><code>\"&amp; is here \"&amp; is here also, &amp; has again occured\"\"\n</code></pre>\n\n<p>Using gsub method in Ruby language, is there a way to substitute character '&amp;' which is occuring within double quotes with character '$', if gsub method doesnt solve this problem, is there any other approach which can be used to address this problem.</p>\n\n<p>Since first arguement in gsub method can be a regex, so matched regex will be substituted by the second arguement, getting a right regex for identifying might also solve this problem since it can be substituted in the gsub method for replacing '&amp;' with '$'.</p>\n\n<p>Expected output is as shown : </p>\n\n<pre><code>&amp; is here \"$ is here also , $ has again occured\"\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1452670966, "post_id": 34760415, "comment_id": 57266956, "body": "Your second question is not clear. What do you mean by fixing it?"}, {"owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "edited": false, "score": 0, "creation_date": 1452671310, "post_id": 34760415, "comment_id": 57267132, "body": "I assume you want <code>%w(1 2 3 4)</code> as the result. If I&#39;m right, you can use <code>a.push(*b)</code>, and in this way, <code>a</code> will not change with <code>b</code>."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 4, "creation_date": 1452671838, "post_id": 34760415, "comment_id": 57267380, "body": "Say you enter a house in a blue T-shirt, then change into a red T-shirt. If anyone takes a photo of the house, would you expect a house with someone in a blue T-shirt, or a house with someone in a red T-shirt? &quot;But it was me that changed clothes, why did the house change?&quot; The house didn&#39;t, but its contents did."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1452672193, "post_id": 34760415, "comment_id": 57267564, "body": "<a href=\"http://goo.gl/4YNv0Y\" rel=\"nofollow noreferrer\">This visualisation</a> is instructive (Python instead of Ruby, but otherwise exactly the same)."}], "answers": [{"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": true, "score": 4, "last_activity_date": 1452669505, "creation_date": 1452669505, "answer_id": 34760575, "question_id": 34760415, "link": "https://stackoverflow.com/questions/34760415/array-element-is-modified/34760575#34760575", "title": "Array element is modified", "body": "<p>The array instance that is referenced by <code>b</code> and the one that is pushed into <code>a</code>, both are same instance - hence, modifying one will result in changes seen in other as well.</p>\n\n<p>You can try:</p>\n\n<pre><code>a &lt;&lt; b.dup\n</code></pre>\n\n<p>so that a copy of <code>b</code> is pushed into <code>a</code>.</p>\n"}], "owner": {"reputation": 97, "user_id": 5782278, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EngaR.jpg?s=128&g=1", "display_name": "Messi", "link": "https://stackoverflow.com/users/5782278/messi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 34760575, "answer_count": 1, "score": 1, "last_activity_date": 1452670941, "creation_date": 1452668930, "last_edit_date": 1452670941, "question_id": 34760415, "link": "https://stackoverflow.com/questions/34760415/array-element-is-modified", "title": "Array element is modified", "body": "<p>Here is my challenge.</p>\n\n<pre><code>a = [\"1\", \"2\"]\nb = [\"3\", \"4\"]\na &lt;&lt; b\na # =&gt; [\"1\",\"2\",[\"3\",\"4\"]] \n</code></pre>\n\n<p>If I modify the value of <code>b[0]</code>, <code>a</code> also is changed.   </p>\n\n<pre><code>b[0] = \"5\"\na # =&gt; [\"1\",\"2\",[\"5\",\"4\"]]\n</code></pre>\n\n<p>After pushing <code>b</code> into <code>a</code>, <code>b</code> was modified. Why is <code>a</code> changed, and how can I fix it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1452669881, "post_id": 34760373, "comment_id": 57266354, "body": "what is the sql query being generated in the console at the time of this action ?"}, {"owner": {"reputation": 6105, "user_id": 1700874, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad36477949cfd7db659cd4420537911c?s=128&d=identicon&r=PG&f=1", "display_name": "The Whiz of Oz", "link": "https://stackoverflow.com/users/1700874/the-whiz-of-oz"}, "edited": false, "score": 0, "creation_date": 1452669905, "post_id": 34760373, "comment_id": 57266364, "body": "can you do these actions in the console and give the output here"}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 4933446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cddb61a578ce2805e2f1ce9ef4cf1fe?s=128&d=identicon&r=PG", "display_name": "quazar", "link": "https://stackoverflow.com/users/4933446/quazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1452670835, "creation_date": 1452670835, "answer_id": 34760943, "question_id": 34760373, "link": "https://stackoverflow.com/questions/34760373/could-not-find-record-error-while-deleting-record-in-rails/34760943#34760943", "title": "Could not find record error while deleting record in Rails", "body": "<p>I think destroy method is returning an object. In ruby anything other than false or null will be taken to true in if statement. You can do puts on destroy method and see what its returning.</p>\n"}, {"comments": [{"owner": {"reputation": 5644, "user_id": 9908141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seDql.jpg?s=128&g=1", "display_name": "Imran Ahmad", "link": "https://stackoverflow.com/users/9908141/imran-ahmad"}, "edited": false, "score": 0, "creation_date": 1452672262, "post_id": 34761114, "comment_id": 57267601, "body": "You are right, the issue was same but in different way. Now its solved. I have added the answer for same."}], "tags": [], "owner": {"reputation": 935, "user_id": 5039866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oH8jw.jpg?s=128&g=1", "display_name": "Nirajan Pokharel", "link": "https://stackoverflow.com/users/5039866/nirajan-pokharel"}, "is_accepted": false, "score": 0, "last_activity_date": 1452671486, "creation_date": 1452671486, "answer_id": 34761114, "question_id": 34760373, "link": "https://stackoverflow.com/questions/34760373/could-not-find-record-error-while-deleting-record-in-rails/34761114#34761114", "title": "Could not find record error while deleting record in Rails", "body": "<p>i presume your,</p>\n\n<pre><code>@catalogue_entry = CatalogueEntry.find(params[:catalogue_entry_id])\n</code></pre>\n\n<p>is returning that error because it cant find CatalogueEntry with id 6, make sure you have CatalogueEntry with that id.</p>\n"}, {"tags": [], "owner": {"reputation": 5644, "user_id": 9908141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seDql.jpg?s=128&g=1", "display_name": "Imran Ahmad", "link": "https://stackoverflow.com/users/9908141/imran-ahmad"}, "is_accepted": false, "score": 2, "last_activity_date": 1452671512, "creation_date": 1452671512, "answer_id": 34761120, "question_id": 34760373, "link": "https://stackoverflow.com/questions/34760373/could-not-find-record-error-while-deleting-record-in-rails/34761120#34761120", "title": "Could not find record error while deleting record in Rails", "body": "<p>Solved! All I did is this:</p>\n\n<pre><code> def destroy_catalogue_entry\n    @catalogue_entry = CatalogueEntry.find(params[:catalogue_entry_id])\n    if @catalogue_entry.destroy\n      flash[:success] = 'Catalogue entry deleted Successfully'\n      redirect_to action: :view_catalogue_entries, dc_id: @catalogue_entry.dc_id\n    else\n      flash[:success] = 'Failed...'\n    end\n  end\n</code></pre>\n\n<p>When I notice the console, the record was getting deleted successfully but after that there was a <code>SELECT</code> query for the same record, that is why it was throwing the error <strong>Couldn't find CatalogueEntry with 'id'=16</strong>. As I redirected it, the problem was solved.</p>\n"}], "owner": {"reputation": 5644, "user_id": 9908141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seDql.jpg?s=128&g=1", "display_name": "Imran Ahmad", "link": "https://stackoverflow.com/users/9908141/imran-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1491793814, "creation_date": 1452668793, "last_edit_date": 1452671586, "question_id": 34760373, "link": "https://stackoverflow.com/questions/34760373/could-not-find-record-error-while-deleting-record-in-rails", "title": "Could not find record error while deleting record in Rails", "body": "<p>I'm trying to delete a record by passing id of that record. The code looks like this:</p>\n\n<pre><code>def destroy_catalogue_entry\n    @catalogue_entry = CatalogueEntry.find(params[:catalogue_entry_id])\n    if @catalogue_entry.destroy\n      flash[:success] = 'Catalogue entry deleted successfully.'\n    else\n      flash[:error] = 'Failed...'\n    end\n  end\n</code></pre>\n\n<p>I'm getting an interesting error. When my function <code>destroy_catalogue_entry</code> is called it shows:</p>\n\n<pre><code>Couldn't find CatalogueEntry with 'id'=16\n</code></pre>\n\n<p>but as I comment If condition section and render <code>@catalogue_entry</code> as json, the output is printed successfully. So how is it possible? Am I making some silly mistake or is there logical reason. Please enlighten me.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 346, "user_id": 1288149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ed2d184424801ae6f411163db81e0c?s=128&d=identicon&r=PG", "display_name": "Samuel Brand&#227;o", "link": "https://stackoverflow.com/users/1288149/samuel-brand%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1452685977, "post_id": 34760335, "comment_id": 57276890, "body": "Given that a helper is just a Ruby Module, you can simply include it <b>somewhere</b> to use it. Did you try just to <code>&lt;% include ApplicationHelper %&gt;</code> in your edit.html.erb? You may need to require it before though, I&#39;m not sure if autoload of constants is enabled within the scaffolding engine."}, {"owner": {"reputation": 419, "user_id": 5446866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baefeba415ea65389947553df2b5b7a1?s=128&d=identicon&r=PG", "display_name": "Rajesh Sharma", "link": "https://stackoverflow.com/users/5446866/rajesh-sharma"}, "edited": false, "score": 0, "creation_date": 1452692231, "post_id": 34760335, "comment_id": 57281033, "body": "scaffold does not evaluate these methods. it will work even if you don&#39;t define them since all it is doing it generating file with that content in it. so they don&#39;t necessarily need to be defined or included. Also i tried to do the same setup and it works for me. you probably have an error elsewhere."}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 1072096, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ODpCT.jpg?s=128&g=1", "display_name": "jmkoni", "link": "https://stackoverflow.com/users/1072096/jmkoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1452693390, "creation_date": 1452693390, "answer_id": 34768572, "question_id": 34760335, "link": "https://stackoverflow.com/questions/34760335/how-to-use-function-defined-at-helper-into-scaffold-generate-template/34768572#34768572", "title": "How to use function defined at helper into scaffold generate template?", "body": "<p>I think there's a bit of a misunderstanding here. Here's what a scaffold is, according to <a href=\"http://guides.rubyonrails.org/command_line.html\" rel=\"nofollow\">Rails Guides</a>:</p>\n\n<blockquote>\n  <p>A scaffold in Rails is a full set of model, database migration for\n  that model, controller to manipulate it, views to view and manipulate\n  the data, and a test suite for each of the above.</p>\n</blockquote>\n\n<p>So when you say <code>rails g scaffold subject title:string contents:text</code>, you are creating a model, <code>Subject</code>, with the attributes <code>title</code> (of type string) and <code>contents</code> (of type text), and all the files that can be automatically created with it.</p>\n\n<p>From there, you can use <code>title</code> in your .erb files. For example:</p>\n\n<pre><code>&lt;% title \"Edit \" + plural_table_name.capitalize %&gt;\n\n&lt;%= render 'form' %&gt; \n</code></pre>\n\n<p>Also, I'm not sure what you are trying to do here: <code>plural_table_name.capitalize+@&lt;%=singular_table_name %&gt;.id.to_s</code>, but I'm fairly certain that is not valid.</p>\n"}, {"tags": [], "owner": {"reputation": 1288, "user_id": 5938227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O9cUT.png?s=128&g=1", "display_name": "dieuhd", "link": "https://stackoverflow.com/users/5938227/dieuhd"}, "is_accepted": true, "score": 3, "last_activity_date": 1455762978, "creation_date": 1455762978, "answer_id": 35471755, "question_id": 34760335, "link": "https://stackoverflow.com/questions/34760335/how-to-use-function-defined-at-helper-into-scaffold-generate-template/35471755#35471755", "title": "How to use function defined at helper into scaffold generate template?", "body": "<p>I think you should use <code>&lt;%%</code> instead of <code>&lt;%</code> same as:</p>\n\n<pre><code>&lt;%% title \"Edit \" + plural_table_name.capitalize+@&lt;%=singular_table_name %&gt;.id.to_s %&gt;\n</code></pre>\n\n<p>Because the <code>title</code> is a function that not define in scaffold lib and don't nedd compile when run <code>generate scaffold</code>.</p>\n"}], "owner": {"reputation": 4498, "user_id": 3963530, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fCpdE.jpg?s=128&g=1", "display_name": "dieuvn3b", "link": "https://stackoverflow.com/users/3963530/dieuvn3b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 2, "accepted_answer_id": 35471755, "answer_count": 2, "score": 2, "last_activity_date": 1455762978, "creation_date": 1452668622, "last_edit_date": 1455757818, "question_id": 34760335, "link": "https://stackoverflow.com/questions/34760335/how-to-use-function-defined-at-helper-into-scaffold-generate-template", "title": "How to use function defined at helper into scaffold generate template?", "body": "<p>I defined a function at <code>application_helper</code></p>\n\n<pre><code>  def title(page_title)\n    content_for :title, page_title.to_s\n  end\n</code></pre>\n\n<p>and I custom scaffold edit template(<code>lib/templates/erb/scaffold/edit.html.erb</code>)</p>\n\n<pre><code>&lt;% title \"Edit \" + plural_table_name.capitalize+@&lt;%=singular_table_name %&gt;.id.to_s %&gt;\n\n&lt;%%= render 'form' %&gt;\n</code></pre>\n\n<p>But when I run <code>rails g scaffold subject title:string contents:text</code>, there occurs an error: </p>\n\n<blockquote>\n  <p>'template': undefined method 'title'</p>\n</blockquote>\n\n<p>Please tell me how to use <code>title</code> in the scaffold template to auto generate.</p>\n"}, {"tags": ["ruby", "interpreter"], "comments": [{"owner": {"reputation": 1600, "user_id": 3715103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/53104fc50d5c6ba9c2819d5c33631380?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna Sundar", "link": "https://stackoverflow.com/users/3715103/prasanna-sundar"}, "edited": false, "score": 1, "creation_date": 1452669208, "post_id": 34760078, "comment_id": 57266023, "body": "try <code>ruby --version</code>"}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452670630, "post_id": 34760078, "comment_id": 57266775, "body": "What do you mean by <code>interpeter</code>?"}, {"owner": {"reputation": 88, "user_id": 4218742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a81b8f60bcdb73eab3b82a63fa6d900?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/4218742/david"}, "edited": false, "score": 0, "creation_date": 1452671066, "post_id": 34760078, "comment_id": 57267020, "body": "ruby --version outputs &quot;ruby 2.1.7p400 (2015-08-18 revision 51632) [x86_64-linux-gnu]&quot;"}, {"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1452679953, "post_id": 34760078, "comment_id": 57272717, "body": "Have a look at <a href=\"http://stackoverflow.com/questions/7822623/rails-how-can-my-app-tell-if-it-is-running-in-mri-or-jruby\" title=\"rails how can my app tell if it is running in mri or jruby\">stackoverflow.com/questions/7822623/&hellip;</a>"}], "owner": {"reputation": 88, "user_id": 4218742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a81b8f60bcdb73eab3b82a63fa6d900?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/4218742/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452667633, "creation_date": 1452667633, "question_id": 34760078, "link": "https://stackoverflow.com/questions/34760078/how-can-i-find-out-which-interpreter-is-being-used-for-my-ruby-version-ruby-2-1", "title": "How can i find out which interpreter is being used for my ruby version &quot;ruby 2.1.7p400&quot; running on ubuntu?", "body": "<p>I have attempted</p>\n\n<pre><code>echo $RUBY_ENGINE\n\necho $RUBY_DESCRIPTION\n</code></pre>\n\n<p>both variable values are blank</p>\n"}, {"tags": ["ruby", "mongodb"], "comments": [{"owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "edited": false, "score": 0, "creation_date": 1452669543, "post_id": 34759923, "comment_id": 57266198, "body": "You can use the cursor combo <a href=\"https://goo.gl/lHC6lP\" rel=\"nofollow noreferrer\"><b><code>limit()</code></b></a> + <a href=\"https://goo.gl/VgUux6\" rel=\"nofollow noreferrer\"><b><code>skip()</code></b></a> to achieve that but for millions of records performance is compromised since it gets slower as you increase the page number since skip() may become IO bound. Using skip requires the server to walk though all the documents (or index values) from 0 to the offset (skip) value. Consider using range-based pagination for these kinds of tasks. e.g if sorting by <code>&quot;lastModified&quot;</code> date you would simple pass the last <code>&quot;lastModified&quot;</code> value as the criteria for the query to get the next page of data."}, {"owner": {"reputation": 6808, "user_id": 683216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c2ad89d0d01b5ac83c12ce847c124e1?s=128&d=identicon&r=PG", "display_name": "botbot", "link": "https://stackoverflow.com/users/683216/botbot"}, "reply_to_user": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "edited": false, "score": 0, "creation_date": 1452813558, "post_id": 34759923, "comment_id": 57346458, "body": "@chridam can you show an example of limit() + skip()?"}], "answers": [{"comments": [{"owner": {"reputation": 6808, "user_id": 683216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c2ad89d0d01b5ac83c12ce847c124e1?s=128&d=identicon&r=PG", "display_name": "botbot", "link": "https://stackoverflow.com/users/683216/botbot"}, "edited": false, "score": 0, "creation_date": 1452668751, "post_id": 34760085, "comment_id": 57265800, "body": "yes, this works if you want to find a range with a given field, but i don&#39;t want to find a range in a given field, only in the returned results."}], "tags": [], "owner": {"reputation": 4103, "user_id": 4271125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQnWR.jpg?s=128&g=1", "display_name": "djaszczurowski", "link": "https://stackoverflow.com/users/4271125/djaszczurowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1452667690, "creation_date": 1452667690, "answer_id": 34760085, "question_id": 34759923, "link": "https://stackoverflow.com/questions/34759923/get-a-range-of-documents-from-mongo-in-ruby/34760085#34760085", "title": "Get a range of documents from mongo in ruby", "body": "<p>the accurate query depends on what driver are you using, but in general stick to <code>$in</code> query (from mongo doc: <code>The $in operator selects the documents where the value of a field equals any value in the specified array</code>)</p>\n\n<p>mongo console example\n<code>db.inventory.find( { your_field_name: { $in: [ 5, 15 ] } } )</code></p>\n\n<p>now try to translate it to your driver query [$in array should include your range]</p>\n"}], "owner": {"reputation": 6808, "user_id": 683216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c2ad89d0d01b5ac83c12ce847c124e1?s=128&d=identicon&r=PG", "display_name": "botbot", "link": "https://stackoverflow.com/users/683216/botbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452668683, "creation_date": 1452666986, "last_edit_date": 1452668683, "question_id": 34759923, "link": "https://stackoverflow.com/questions/34759923/get-a-range-of-documents-from-mongo-in-ruby", "title": "Get a range of documents from mongo in ruby", "body": "<p>Imagine I have 1000 documents in mongo. They are songs.</p>\n\n<pre><code>songs = @db[\"songs\"].find()\n</code></pre>\n\n<p>Now I have a cursor to these songs. What if I want to get a specific range of these records, for example 31 - 40. (Note: 31 and 40 are not IDs or pertain to any field in the record, they are just being used like and index in an array of results)</p>\n\n<p>In an array this would be easy</p>\n\n<pre><code>songs[31..40]\n</code></pre>\n\n<p>How can I do this in mongo / ruby?</p>\n\n<p>Extra credit: would this solution be ok for millions of records?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "autoload", "activesupport"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1452666837, "post_id": 34759750, "comment_id": 57264931, "body": "what if you write <code>module Feedbacks class GivenFeedbacksController &lt; ::FeedbacksController end end</code>"}, {"owner": {"reputation": 2748, "user_id": 3266953, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5feb665600e276fd9c6361a5adc5cc93?s=128&d=identicon&r=PG&f=1", "display_name": "TWONEKSONE", "link": "https://stackoverflow.com/users/3266953/twoneksone"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1452667610, "post_id": 34759750, "comment_id": 57265278, "body": "Same result. Was my first attempt."}, {"owner": {"reputation": 419, "user_id": 5446866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baefeba415ea65389947553df2b5b7a1?s=128&d=identicon&r=PG", "display_name": "Rajesh Sharma", "link": "https://stackoverflow.com/users/5446866/rajesh-sharma"}, "edited": false, "score": 0, "creation_date": 1452692439, "post_id": 34759750, "comment_id": 57281183, "body": "try changing <b>FeedbacksController</b> to <b>Feedbacks::BaseController</b> and moving the file into feedbacks"}, {"owner": {"reputation": 2748, "user_id": 3266953, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5feb665600e276fd9c6361a5adc5cc93?s=128&d=identicon&r=PG&f=1", "display_name": "TWONEKSONE", "link": "https://stackoverflow.com/users/3266953/twoneksone"}, "edited": false, "score": 0, "creation_date": 1452712891, "post_id": 34759750, "comment_id": 57295638, "body": "Maybe I found the issue. The problem could  be <a href=\"https://github.com/Apipie/apipie-rails/issues/418\" rel=\"nofollow noreferrer\">Apipie</a>"}], "owner": {"reputation": 2748, "user_id": 3266953, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5feb665600e276fd9c6361a5adc5cc93?s=128&d=identicon&r=PG&f=1", "display_name": "TWONEKSONE", "link": "https://stackoverflow.com/users/3266953/twoneksone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452666231, "creation_date": 1452666231, "question_id": 34759750, "link": "https://stackoverflow.com/questions/34759750/circular-dependency-detected-while-autoloading-constant-controller", "title": "Circular dependency detected while autoloading constant controller", "body": "<p>Hei there! I lost an entire day on this.\nThis is my project tree:<br>\n<code>app\n |__controllers\n    |__application_controller.rb\n    |__feedbacks_controller.rb\n    |__feedbacks\n       |__given_feedbacks_controller.rb\n       |__received_feedbacks_controller.rb\n</code></p>\n\n<p>feedbacks_controller.rb</p>\n\n<pre><code>class FeedbacksController &lt; ApplicationController\n  ...\nend\n</code></pre>\n\n<p>given_feedbacks_controller.rb</p>\n\n<pre><code>class Feedbacks::GivenFeedbacksController &lt; FeedbacksController\n  ...\nend\n</code></pre>\n\n<p>received_feedbacks_controller.rb</p>\n\n<pre><code>class Feedbacks::ReceivedFeedbacksController &lt; FeedbacksController\n  ...\nend\n</code></pre>\n\n<p>config/routes.rb</p>\n\n<pre><code>  ...\nresources :users, except: [:new, :edit] do\n  resources :given_feedbacks,\n            only: [:index],\n            controller: 'feedbacks/given_feedbacks'\n  resources :received_feedbacks,\n            only: [:index],\n            controller: 'feedbacks/received_feedbacks'\nend\nresources :feedbacks, only: [:show, :create, :update, :destroy]\n  ...\n</code></pre>\n\n<p>I figured out that the issue is probably on the inheritage because if I do:</p>\n\n<p>given_feedbacks_controller.rb</p>\n\n<pre><code>class Feedbacks::GivenFeedbacksController &lt; AppicationController\n  ...\nend\n</code></pre>\n\n<p>received_feedbacks_controller.rb</p>\n\n<pre><code>class Feedbacks::ReceivedFeedbacksController &lt; AppicationController\n  ...\nend\n</code></pre>\n\n<p>the error is not raised.</p>\n\n<p>I tried in my <code>test.rb</code> both this configuration:</p>\n\n<pre><code>config.eager_load = true \n</code></pre>\n\n<p>and</p>\n\n<pre><code>config.allow_concurrency = false\n</code></pre>\n\n<p>and anyway the error occurs also in development.</p>\n\n<p>Here the error raised from a test execution:</p>\n\n<pre><code>    /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:492:in 'load_missing_constant': Circular dependency detected while autoloading constant Feedbacks::GivenFeedbacksController (RuntimeError)\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:184:in 'const_missing'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/inflector/methods.rb:263:in 'const_get'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/inflector/methods.rb:263:in 'block in constantize'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/inflector/methods.rb:259:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/inflector/methods.rb:259:in 'inject'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/inflector/methods.rb:259:in 'constantize'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:566:in 'get'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:597:in 'constantize'\n    from /.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.4/lib/action_dispatch/routing/route_set.rb:72:in 'controller_reference'\n    from /.rvm/gems/ruby-2.2.1/gems/actionpack-4.2.4/lib/action_dispatch/routing/route_set.rb:62:in 'controller'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:59:in 'route_app_controller'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:69:in 'block in routes_for_action'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:68:in 'select'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:68:in 'routes_for_action'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/apipie_module.rb:18:in 'method_missing'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/method_description.rb:171:in 'api_data'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/method_description.rb:26:in 'initialize'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:92:in 'new'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:92:in 'block in define_method_description'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:84:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/application.rb:84:in 'define_method_description'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/apipie_module.rb:18:in 'method_missing'\n    from /.rvm/gems/ruby-2.2.1/gems/apipie-rails-0.3.5/lib/apipie/dsl_definition.rb:408:in 'method_added'\n    from /development/on_call_work/app/controllers/feedbacks_controller.rb:34:in '&lt;class:FeedbacksController&gt;'\n    from /development/on_call_work/app/controllers/feedbacks_controller.rb:1:in '&lt;top (required)&gt;'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:457:in 'load'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:457:in 'block in load_file'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:647:in 'new_constants_in'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:456:in 'load_file'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:354:in 'require_or_load'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:494:in 'load_missing_constant'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:184:in 'const_missing'\n    from /development/on_call_work/app/controllers/feedbacks/given_feedbacks_controller.rb:2:in '&lt;top (required)&gt;'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:457:in 'load'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:457:in 'block in load_file'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:647:in 'new_constants_in'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:456:in 'load_file'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:354:in 'require_or_load'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:317:in 'depend_on'\n    from /.rvm/gems/ruby-2.2.1/gems/activesupport-4.2.4/lib/active_support/dependencies.rb:233:in 'require_dependency'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:472:in 'block (2 levels) in eager_load!'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:471:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:471:in 'block in eager_load!'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:469:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:469:in 'eager_load!'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/engine.rb:346:in 'eager_load!'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/application/finisher.rb:56:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/application/finisher.rb:56:in 'block in &lt;module:Finisher&gt;'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/initializable.rb:30:in 'instance_exec'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/initializable.rb:30:in 'run'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/initializable.rb:55:in 'block in run_initializers'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:226:in 'block in tsort_each'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:348:in 'block (2 levels) in each_strongly_connected_component'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:429:in 'each_strongly_connected_component_from'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:347:in 'block in each_strongly_connected_component'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in 'each'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in 'call'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:345:in 'each_strongly_connected_component'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:224:in 'tsort_each'\n    from /.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/tsort.rb:203:in 'tsort_each'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/initializable.rb:54:in 'run_initializers'\n    from /.rvm/gems/ruby-2.2.1/gems/railties-4.2.4/lib/rails/application.rb:352:in 'initialize!'\n    from /development/on_call_work/config/environment.rb:5:in '&lt;top (required)&gt;'\n    from /development/on_call_work/spec/rails_helper.rb:3:in 'require'\n    from /development/on_call_work/spec/rails_helper.rb:3:in '&lt;top (required)&gt;'\n    from /development/on_call_work/spec/controllers/feedbacks/given_feedbacks_controller_spec.rb:1:in 'require'\n    from /development/on_call_work/spec/controllers/feedbacks/given_feedbacks_controller_spec.rb:1:in '&lt;top (required)&gt;'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/configuration.rb:1361:in 'load'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/configuration.rb:1361:in 'block in load_spec_files'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/configuration.rb:1359:in 'each'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/configuration.rb:1359:in 'load_spec_files'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/runner.rb:102:in 'setup'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/runner.rb:88:in 'run'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/runner.rb:73:in 'run'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/lib/rspec/core/runner.rb:41:in 'invoke'\n    from /.rvm/gems/ruby-2.2.1/gems/rspec-core-3.4.1/exe/rspec:4:in '&lt;top (required)&gt;'\n    from /.rvm/gems/ruby-2.2.1/bin/rspec:23:in 'load'\n    from /.rvm/gems/ruby-2.2.1/bin/rspec:23:in '&lt;main&gt;'\n    from /.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in 'eval'\n    from /.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in '&lt;main&gt;'\n</code></pre>\n\n<p>of course the error is raised both from given_feedbacks_controller and received_feedbacks_controller</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 1231, "user_id": 1082010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EiEby.png?s=128&g=1", "display_name": "Mareq", "link": "https://stackoverflow.com/users/1082010/mareq"}, "is_accepted": true, "score": 2, "last_activity_date": 1452667399, "creation_date": 1452667399, "answer_id": 34760011, "question_id": 34759552, "link": "https://stackoverflow.com/questions/34759552/what-is-a-less-verbose-way-to-express-this-code/34760011#34760011", "title": "What is a less verbose way to express this code?", "body": "<p>If I correctly understood your question I think <code>to_json</code> is the method you art looking for. Such method can render related objects too, for example:</p>\n\n<pre><code>item.to_json(include: :sub_items)\n</code></pre>\n\n<p>It will generate:</p>\n\n<pre><code>{ id: item_id, attr1: item_attr1_value, sub_items: [{ id: 2, attr2: value2, ... }, ...]\n</code></pre>\n"}], "owner": {"reputation": 2618, "user_id": 2228070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/329ef92f05f1986990497ab0bbc63749?s=128&d=identicon&r=PG", "display_name": "NmdMystery", "link": "https://stackoverflow.com/users/2228070/nmdmystery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 34760011, "answer_count": 1, "score": 0, "last_activity_date": 1452667399, "creation_date": 1452665300, "question_id": 34759552, "link": "https://stackoverflow.com/questions/34759552/what-is-a-less-verbose-way-to-express-this-code", "title": "What is a less verbose way to express this code?", "body": "<p>I'm using Ruby on Rails and have run into an issue whereby I need to render a MySQL query to JSON.  I've attempted to Google the issue and have found the <code>as_json</code> method, which doesn't entirely work.  The <code>as_json</code> method doesn't render sub-objects, even when I attempt to render the sub_object in a separate call (IE <code>@item[:sub_item] = item.sub_item.as_json</code> will still result in the sub_item being nil when it reaches the view).</p>\n\n<pre><code>@initial_posts.push({\n    :attempted =&gt; post.attempted,\n    :body =&gt; post.body,\n    :correct =&gt; post.correct,\n    :course_id =&gt; post.course_id,\n    :created_at =&gt; post.created_at,\n    :entity_type =&gt; post.entity_type,\n    :file =&gt; post.file,\n    :flagged =&gt; post.flagged,\n    :global =&gt; post.global,\n    :id =&gt; post.id,\n    :incorrect =&gt; post.incorrect,\n    :is_link =&gt; post.is_link,\n    :removed =&gt; post.removed,\n    :subscribed =&gt; post.subscribed,\n    :title =&gt; post.title,\n    :updated_at =&gt; post.updated_at,\n    :upvotes =&gt; post.upvotes,\n    :user_id =&gt; post.user_id,\n    :uuid =&gt; post.uuid,\n    :views =&gt; post.views,\n    :voted =&gt; post.voted,\n    :comment =&gt; [],\n    :quiz_choice =&gt; [],\n\n    :user =&gt; {\n        :UUID =&gt; post.user.UUID,\n        :account_type =&gt; post.user.account_type,\n        :created_at =&gt; post.user.created_at,\n        :email =&gt; post.user.email,\n        :first_name =&gt; post.user.first_name,\n        :id =&gt; post.user.id,\n        :image =&gt; post.user.image,\n        :image_content_type =&gt; post.user.image_content_type,\n        :image_file_name =&gt; post.user.image_file_name,\n        :image_file_size =&gt; post.user.image_file_size,\n        :image_updated_at =&gt; post.user.image_updated_at,\n        :last_name =&gt; post.user.last_name,\n        :picture =&gt; post.user.picture,\n        :rank =&gt; post.user.rank,\n        :reputation =&gt; post.user.reputation,\n        :updated_at =&gt; post.user.updated_at,\n        :upvotes =&gt; post.user.upvotes,\n        :username =&gt; post.user.username\n    }\n})\n\npost.comment.each do |comment|\n    @initial_posts.last[:comment].push({\n        :comment =&gt; comment.comment,\n        :course_id =&gt; comment.course_id,\n        :created_at =&gt; comment.created_at,\n        :id =&gt; comment.id,\n        :post_id =&gt; comment.post_id,\n        :updated_at =&gt; comment.updated_at,\n        :upvote =&gt; comment.upvote,\n        :user_id =&gt; comment.user_id,\n\n        :user =&gt; {\n            :UUID =&gt; comment.user.UUID,\n            :account_type =&gt; comment.user.account_type,\n            :created_at =&gt; comment.user.created_at,\n            :email =&gt; comment.user.email,\n            :first_name =&gt; comment.user.first_name,\n            :id =&gt; comment.user.id,\n            :image =&gt; comment.user.image,\n            :image_content_type =&gt; comment.user.image_content_type,\n            :image_file_name =&gt; comment.user.image_file_name,\n            :image_file_size =&gt; comment.user.image_file_size,\n            :image_updated_at =&gt; comment.user.image_updated_at,\n            :last_name =&gt; comment.user.last_name,\n            :picture =&gt; comment.user.picture,\n            :rank =&gt; comment.user.rank,\n            :reputation =&gt; comment.user.reputation,\n            :updated_at =&gt; comment.user.updated_at,\n            :upvotes =&gt; comment.user.upvotes,\n            :username =&gt; comment.user.username\n        }\n    })\nend\n\npost.quiz_choice.each do |quiz_choice|\n    @initial_posts.last[:quiz_choice].push({\n        :choice =&gt; quiz_choice.choice,\n        :created_at =&gt; quiz_choice.created_at,\n        :id =&gt; quiz_choice.id,\n        :is_answer =&gt; quiz_choice.is_answer,\n        :post_id =&gt; quiz_choice.post_id,\n        :updated_at =&gt; quiz_choice.updated_at\n    })\nend\n</code></pre>\n\n<p>This is obviously going to be a problem if the model or migrations are changed at any point.  How can I write this in less, hopefully more portable, code?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1453, "user_id": 3192664, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yH1co.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/3192664/gautam"}, "edited": false, "score": 0, "creation_date": 1452664916, "post_id": 34759424, "comment_id": 57264189, "body": "check with <code>rake routes</code> or <code>rake routes | grep socket</code> in your terminal"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1452689359, "post_id": 34759424, "comment_id": 57279117, "body": "<code>socket.io</code> is typically used with the websocket plugins - are you using anything like <code>pusher</code> or even <code>nodeJS</code>? Also, giving some context would be beneficial -- do you have any info on when the error shows?"}, {"owner": {"reputation": 9222, "user_id": 307428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a598c573fb032f717dd0754250366cc9?s=128&d=identicon&r=PG", "display_name": "jdog", "link": "https://stackoverflow.com/users/307428/jdog"}, "edited": false, "score": 0, "creation_date": 1452714842, "post_id": 34759424, "comment_id": 57296843, "body": "Yes we are using nodeJS, but I don&#39;t reference a GET on socket.io/1 anywhere in my code? I don&#39;t know what is trying to hit that route or why?"}], "owner": {"reputation": 9222, "user_id": 307428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a598c573fb032f717dd0754250366cc9?s=128&d=identicon&r=PG", "display_name": "jdog", "link": "https://stackoverflow.com/users/307428/jdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1452719857, "creation_date": 1452664766, "last_edit_date": 1452719857, "question_id": 34759424, "link": "https://stackoverflow.com/questions/34759424/how-to-track-down-a-random-route-actioncontrollerroutingerror-no-route-matc", "title": "How to track down a random route? (ActionController::RoutingError (No route matches [GET] &quot;/socket.io/1&quot;):)", "body": "<p>I am getting an error in my app, but not sure how anything is pointing to socket.io/1? I have searched my code base and nothing in the code is pointing to this URI?</p>\n\n<pre><code>ActionController::RoutingError (No route matches [GET] \"/socket.io/1\"):\n</code></pre>\n\n<p>How do I track down what is pointing to this non-existent route? Is there a way to print out what code or other controller or view is trying to hit that route?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1452663820, "post_id": 34759092, "comment_id": 57263823, "body": "yeah, I usually don&#39;t bother. If the field is mandatory - you can use the inclusion-in trick above, and to be sure put <code>null: false</code> on the column"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1452666250, "post_id": 34759092, "comment_id": 57264685, "body": "If you need the value to be <code>true</code> or <code>false</code> but not <code>nil</code> then you want to use the validation. If <code>true</code>, <code>false</code>, and <code>nil</code> are all okay, you don&#39;t need the validation. Which of those is correct for you depends entirely on your use case."}, {"owner": {"reputation": 18703, "user_id": 3951782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5zDXr.png?s=128&g=1", "display_name": "sudo bangbang", "link": "https://stackoverflow.com/users/3951782/sudo-bangbang"}, "reply_to_user": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1452666669, "post_id": 34759092, "comment_id": 57264868, "body": "@Jordan: I&#39;m cool with nil as long as ruby validates it to false and there are no scenarios that might break the system. Are there any?"}], "answers": [{"tags": [], "owner": {"reputation": 2218, "user_id": 5129208, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wfsc3HumFMQ/AAAAAAAAAAI/AAAAAAAAAGw/2TW94iOeLhQ/photo.jpg?sz=128", "display_name": "yez", "link": "https://stackoverflow.com/users/5129208/yez"}, "is_accepted": false, "score": 0, "last_activity_date": 1452663804, "last_edit_date": 1495540034, "creation_date": 1452663804, "answer_id": 34759194, "question_id": 34759092, "link": "https://stackoverflow.com/questions/34759092/to-validate-or-not-to-validate-boolean-field/34759194#34759194", "title": "To validate or not to validate boolean field", "body": "<p>If you want real type validation, I'd say check out the <a href=\"https://github.com/yez/validates_type\" rel=\"nofollow noreferrer\"><code>validates_type</code></a> gem. It will conduct validation on your attribute <strong>before</strong> type coercion. Type coercion can have some unexpected behaviour, <a href=\"https://stackoverflow.com/a/22375231/5129208\">this answer</a> shows how only a certain set of values is \"truthy\".</p>\n\n<p>If you accept a <code>Boolean</code> to be <code>nil</code>, that's not really a <code>Boolean</code> right? That's either <code>true</code>, <code>false</code> or a third value, <code>nil</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 18703, "user_id": 3951782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5zDXr.png?s=128&g=1", "display_name": "sudo bangbang", "link": "https://stackoverflow.com/users/3951782/sudo-bangbang"}, "edited": false, "score": 0, "creation_date": 1452668751, "post_id": 34760301, "comment_id": 57265799, "body": "Thankyou @Jordan +1 for the scenario."}], "tags": [], "owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "is_accepted": true, "score": 11, "last_activity_date": 1452668794, "last_edit_date": 1452668794, "creation_date": 1452668534, "answer_id": 34760301, "question_id": 34759092, "link": "https://stackoverflow.com/questions/34759092/to-validate-or-not-to-validate-boolean-field/34760301#34760301", "title": "To validate or not to validate boolean field", "body": "<p>Whether or not you should validate a boolean attribute for inclusion in <code>[ true, false ]</code> depends entirely on your use case.</p>\n\n<p>You've correctly identified that, in the absence of validation of other code, a boolean field in Rails will always be (after type coercion) <code>true</code>, <code>false</code>, or <code>nil</code>. Rails won't coerce <code>nil</code> to <code>false</code>. If you set a model's boolean attribute to <code>nil</code> and save it, the attribute will be <code>nil</code>, not <code>false</code>, when you fetch the it from the database later.</p>\n\n<p>You can think of <code>nil</code> as a \"third state\" for a boolean field. Consider a simple survey app that lets users save an unfinished survey to complete later. Suppose a user saves an incomplete survey with the question \"Do you eat meat?\" unanswered. You don't want to store <code>false</code> in the database because that would indicate that the user answered \"no.\" When the user comes back to finish the survey you want that question to still be unanswered, so you want to store <code>nil</code> in the database.</p>\n\n<p>In cases like the above, it's appropriate (and necessary) <em>not</em> to validate for inclusion in <code>[ true, false ]</code>.</p>\n\n<p>However, as a rule of thumb I would say that in all other cases\u2014i.e. in any case where you don't have a specific <em>need</em> for <code>nil</code> values\u2014you should validate boolean fields for inclusion in <code>[ true, false ]</code>.</p>\n\n<p>Of course, if you <em>do</em> allow <code>nil</code> you'll need to be careful because, as you know, <code>nil</code> is a <em>falsey</em> value in Ruby. You'll have to explicitly check for \"nilness\" in places where you might otherwise rely on a value's truthiness or falsiness. That is, instead of this:</p>\n\n<pre><code>if !is_meat_eater\n  unanswered_questions &lt;&lt; :is_meat_eater\nend\n</code></pre>\n\n<p>...which will not behave as intended if <code>is_meat_eater</code> is <code>false</code>, you'll need to explicitly check for <code>nil</code>:</p>\n\n<pre><code>if is_meat_eater.nil?\n  unanswered_questions &lt;&lt; :is_meat_eater\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 5, "last_activity_date": 1452683165, "creation_date": 1452683165, "answer_id": 34765040, "question_id": 34759092, "link": "https://stackoverflow.com/questions/34759092/to-validate-or-not-to-validate-boolean-field/34765040#34765040", "title": "To validate or not to validate boolean field", "body": "<p>You don't need to validate a <code>boolean</code> field, <strong>if it's not true it's false</strong>.</p>\n\n<p>Just <a href=\"http://api.rubyonrails.org/classes/ActiveRecord/Migration.html\" rel=\"noreferrer\">set a \"default\" in your db</a> so that the bool is always going to have a certain value no matter what:</p>\n\n<pre><code>#db/migrate/add_boolean_column_______.rb\nclass AddBooleanColumn &lt; ActiveRecord::Migration\n   def change\n      change_table :table do |t|\n         t.boolean :field, default: false\n      end\n   end\nend \n</code></pre>\n\n<p>This way, I wouldn't even include any validations. The system will ensure you're either setting it as true or false - which is up to you as the developer.</p>\n"}], "owner": {"reputation": 18703, "user_id": 3951782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5zDXr.png?s=128&g=1", "display_name": "sudo bangbang", "link": "https://stackoverflow.com/users/3951782/sudo-bangbang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6129, "favorite_count": 1, "accepted_answer_id": 34760301, "answer_count": 3, "score": 14, "last_activity_date": 1452683165, "creation_date": 1452663263, "last_edit_date": 1495541406, "question_id": 34759092, "link": "https://stackoverflow.com/questions/34759092/to-validate-or-not-to-validate-boolean-field", "title": "To validate or not to validate boolean field", "body": "<p>Is there any benefit in having validations for boolean fields of models?</p>\n\n<p>I had a validation for ensuring the presence of a boolean field  </p>\n\n<pre><code>validates :boolean_attribute, presence: true\n</code></pre>\n\n<p>It failed when boolean_attribute was false. I googled around and found these SO questions relating to the issue.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10506575/rails-database-defaults-and-model-validation-for-boolean-fields\">Rails database defaults and model validation for Boolean fields</a><br>\n<a href=\"https://stackoverflow.com/questions/27002946/rails-validates-presense-not-validating-on-boolean\">Rails validates_presence not validating on Boolean?</a></p>\n\n<p>Then added this validation instead  </p>\n\n<pre><code> validates :field, :inclusion =&gt; {:in =&gt; [true, false]}\n</code></pre>\n\n<p>This made me think. Do I need any validations for boolean fields at all? Its value will always be true or false or nil right? Even if someone maliciously try to change it to say, a number, wouldn't the type take care of it? Or is there some safety the above inclusion validation provides?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku", "routing"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 2, "creation_date": 1452660292, "post_id": 34758550, "comment_id": 57262645, "body": "That output is correct - there is no route for GET for like, because the route requires PUT instead. So what is generating the link (and using the wrong HTTP verb)?"}, {"owner": {"reputation": 7032, "user_id": 1743174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f871161f754442df697dce1cede77a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dipak Gupta", "link": "https://stackoverflow.com/users/1743174/dipak-gupta"}, "edited": false, "score": 1, "creation_date": 1452660598, "post_id": 34758550, "comment_id": 57262747, "body": "How you tested your put request ? Have you sent a put request from some tool or you just type this into url and press enter. If you type url and press enter it will always send a get request to server. For test put request send request through some tool like postman for chrome etc."}, {"owner": {"reputation": 138, "user_id": 1484701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed9af2a2f3f6cf000c6dd56cfdcee05?s=128&d=identicon&r=PG", "display_name": "tigeruppercut", "link": "https://stackoverflow.com/users/1484701/tigeruppercut"}, "edited": false, "score": 0, "creation_date": 1452661368, "post_id": 34758550, "comment_id": 57263013, "body": "from your terminal, curl it:  curl -XPUT &#39;<a href=\"http://yoursite.whatever/links/1/like\" rel=\"nofollow noreferrer\">yoursite.whatever/links/1/like</a>&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452705738, "post_id": 34769064, "comment_id": 57291169, "body": "I edited my methods to become patch methods after looking at your answer and then looking into patch vs put. I tested this locally and it worked. I then precompiled my assets before pushing to heroku and it is still running a get request?"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452705908, "post_id": 34769064, "comment_id": 57291281, "body": "Hmm this is interesting. Can you go into your browser console and check to see if your assets / JS files are loading correctly in Heroku? To do this, you can just right-click on the page &amp; select &quot;inspect element&quot;. &quot;console&quot; is in there"}, {"owner": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452706130, "post_id": 34769064, "comment_id": 57291428, "body": "I inspected the browser and it looks like I am not running my jQuery script over a secure connection based on the error below. I will change that and then see what happens.  <code>Mixed Content: The page at &#39;https:&#47;&#47;quotesappp.herokuapp.com&#47;&#39; was loaded over HTTPS, but requested an insecure script &#39;http:&#47;&#47;code.jquery.com&#47;jquery-1.11.3.min.js&#39;. This request has been blocked; the content must be served over HTTPS.</code>"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452706326, "post_id": 34769064, "comment_id": 57291549, "body": "nice, I don&#39;t know what I did to make it work but I&#39;ll take that! Congrats :)"}, {"owner": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452706557, "post_id": 34769064, "comment_id": 57291685, "body": "the inspect element suggestion led me to see that I wasn&#39;t running my jQuery script over https, instead, http. I&#39;m calling jQuery manually in my app.html.erb file due to a constraint I had with a gem im using. Your suggestion to look into it was what i needed"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "edited": false, "score": 0, "creation_date": 1452706889, "post_id": 34769064, "comment_id": 57291917, "body": "Nice man, thanks for the upvote and I hope you have a greatday"}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": true, "score": 1, "last_activity_date": 1452694822, "creation_date": 1452694822, "answer_id": 34769064, "question_id": 34758550, "link": "https://stackoverflow.com/questions/34758550/routing-in-rails-app-request-being-made-is-different-from-what-is-shown-when-i/34769064#34769064", "title": "Routing in rails app. Request being made is different from what is shown when I run rake routes", "body": "<p>You're calling a <code>GET</code> request on a <code>PUT</code> route.</p>\n\n<p>The fix is to make sure you're sending the correct method:</p>\n\n<pre><code>&lt;%= link_to \"Like\", like_link_path(@link), method: :patch %&gt;\n</code></pre>\n\n<p>--</p>\n\n<p>If you're setting the method as required, you may not have the javascript compiled in Heroku properly.</p>\n\n<p>To fix this, you'll be best <code>precompiling</code> before pushing to heroku:</p>\n\n<pre><code>$ rake assets:precompile RAILS_ENV=production\n$ git add .\n$ git commit -a -m \"Precompiled\"\n$ git push heroku master\n</code></pre>\n\n<hr>\n\n<p>As a an aside, here's how I'd handle the routes and structure of what you're trying to achieve:</p>\n\n<pre><code>#config/routes.rb\nresources :links do\n   match :like, via: [:patch, :delete], on: :member\nend\n\n#app/controllers/links_controller.rb\nclass LinksController &lt; ApplicationController\n   def like\n      @link = Link.find params[:id]\n      if request.patch?\n         ...\n      elsif request.delete?\n         ...\n      end\n   end\nend\n</code></pre>\n"}], "owner": {"reputation": 1004, "user_id": 2091331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9ff378547e4b88acd5cd7b4f9b15b956?s=128&d=identicon&r=PG", "display_name": "Jbur43", "link": "https://stackoverflow.com/users/2091331/jbur43"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 34769064, "answer_count": 1, "score": 0, "last_activity_date": 1452694822, "creation_date": 1452660161, "question_id": 34758550, "link": "https://stackoverflow.com/questions/34758550/routing-in-rails-app-request-being-made-is-different-from-what-is-shown-when-i", "title": "Routing in rails app. Request being made is different from what is shown when I run rake routes", "body": "<p>When I run the command below for my routes on Heroku, I get the below output.</p>\n\n<pre><code>[quotes_app]$heroku run rake routes\n    Running rake routes on quotesappp... up, run.4768\n             like_link    PUT    /links/:id/like(.:format)       links#upvote\n             dislike_link PUT    /links/:id/dislike(.:format)    links#downvote\n                    links GET    /links(.:format)                links#index\n                          POST   /links(.:format)                links#create\n                     root GET    /                               links#index\n</code></pre>\n\n<p>Now when I look at my Heroku logs after trying to test this route as an end user, I get this error:</p>\n\n<pre><code>Jan 12 20:35:14 quotesappp app/web.1:  ActionController::RoutingError (No route matches [GET] \"/links/1/like\"): \n\nJan 12 20:35:14 quotesappp heroku/router:  at=info method=GET path=\"/links/1/like\" host=quotesappp.herokuapp.com request_id=052c9342-2c8a-41c2-99f5-56ac9cb673c3 fwd=\"96.248.110.224\" dyno=web.1 connect=1ms service=9ms status=404 bytes=1744 \n</code></pre>\n\n<p>As you can see from the Heroku raked routes I have a put request set for link/:id/like and also /dislike, but when I test it, the request comes back as a get request. Has anyone had any experience with this or may know why this is occurring?</p>\n"}, {"tags": ["ruby", "read-eval-print-loop", "irb", "pry"], "answers": [{"comments": [{"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 0, "creation_date": 1452664877, "post_id": 34758540, "comment_id": 57264172, "body": "My primary issue is with trying out blocks of code from my code base to the REPL. If I have to edit individual lines,I might as well change to position of dots."}, {"owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "edited": false, "score": 1, "creation_date": 1452664949, "post_id": 34758540, "comment_id": 57264200, "body": "Setting the command_prefix does not solve the problem for me. Can you try the example in my question - if it works what is the version of pry that you are using.  I have added it to my <code>.pryrc</code> .. executing directly in REPL does not work either."}, {"owner": {"reputation": 9353, "user_id": 845413, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/F6eYZ.png?s=128&g=1", "display_name": "Ryan Taylor", "link": "https://stackoverflow.com/users/845413/ryan-taylor"}, "edited": false, "score": 0, "creation_date": 1464306787, "post_id": 34758540, "comment_id": 62444054, "body": "Yes, this doesn&#39;t work for lines starting with periods, which is what the question is about."}], "tags": [], "owner": {"reputation": 2358, "user_id": 2386185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cP5b.jpg?s=128&g=1", "display_name": "mech", "link": "https://stackoverflow.com/users/2386185/mech"}, "is_accepted": false, "score": 0, "last_activity_date": 1452660086, "creation_date": 1452660086, "answer_id": 34758540, "question_id": 34758354, "link": "https://stackoverflow.com/questions/34758354/executing-statements-with-leading-periods-in-pry/34758540#34758540", "title": "Executing statements with leading periods in pry", "body": "<p>As outlined in <a href=\"https://github.com/pry/pry/wiki/Command-system#Command_prefix\" rel=\"nofollow\">Pry's internal wiki</a>, you have two options:</p>\n\n<ol>\n<li>You can either prefix your command with a semicolon so Pry ignores it (messy, in my opinion).</li>\n<li>You can alter the <code>config.command_prefix</code> property (by default an empty string <code>\"\"</code>) which will make it so you need to add the new <code>command_prefix</code> whenever you want to use System commands.</li>\n</ol>\n\n<p>Example of #2:</p>\n\n<pre><code>pry(main)&gt; Pry.config.command_prefix = \"%\"\n=&gt; \"%\"\npry(main)&gt; ls -l\nNameError: undefined local variable or method `l' for main:Object\nfrom (pry):2:in `&lt;main&gt;'\npry(main)&gt; %ls\nlocals: _  _ex_  _pry_  _in_  _out_  _file_  _dir_\npry(main)&gt;\n</code></pre>\n"}], "owner": {"reputation": 11987, "user_id": 476712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pAp3y.jpg?s=128&g=1", "display_name": "lorefnon", "link": "https://stackoverflow.com/users/476712/lorefnon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452664689, "creation_date": 1452658871, "last_edit_date": 1452664689, "question_id": 34758354, "link": "https://stackoverflow.com/questions/34758354/executing-statements-with-leading-periods-in-pry", "title": "Executing statements with leading periods in pry", "body": "<p>Pry interprets a command with a leading <code>.</code> as a system command and passes it to shell. However this prevents me from executing blocks of code with lines that have leading <code>.</code>, which are very frequent in my code.</p>\n\n<p>In IRB something like below works fine: </p>\n\n<pre><code>2.2.3 :001 &gt; begin\n2.2.3 :002 &gt;     \"hello world\"\n2.2.3 :003?&gt;       .split(\" \")\n2.2.3 :004?&gt;       .map(&amp;:upcase)\n2.2.3 :005?&gt;   end\n =&gt; [\"HELLO\", \"WORLD\"]\n</code></pre>\n\n<p>In Pry however: </p>\n\n<pre><code>[6] pry(#&lt;MailFetcherService&gt;)&gt; begin\n[6] pry(#&lt;MailFetcherService&gt;)*   \"hello world\"\n[6] pry(#&lt;MailFetcherService&gt;)*   .split(\" \")\nsh: -c: line 0: syntax error near unexpected token `\" \"'\nsh: -c: line 0: `split(\" \")'\nError: there was a problem executing system command: split(\" \")\n</code></pre>\n\n<p>Is there a way to work around this? I am OK with any of the below: </p>\n\n<ul>\n<li>Interpret <code>.</code> as a system command only when there are no leading spaces before it.</li>\n<li>Changing to some other obscure delimiter rather than <code>.</code> for system command</li>\n<li>Last resort: System commands are disabled entirely - this is not a feature I use often.</li>\n</ul>\n"}, {"tags": ["ruby-on-rails", "ruby", "gmail", "actionmailer"], "answers": [{"comments": [{"owner": {"reputation": 408, "user_id": 2766706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5e52e5b7d797b9fe670f266399d31df?s=128&d=identicon&r=PG", "display_name": "chr0nikler", "link": "https://stackoverflow.com/users/2766706/chr0nikler"}, "edited": false, "score": 1, "creation_date": 1470124138, "post_id": 35964232, "comment_id": 64805883, "body": "I&#39;m running into the same issue right now, but whenever i visit the page, it says I get &quot;The setting you are looking for is not available for your account.&quot; Do you know how to get around this?"}], "tags": [], "owner": {"reputation": 31, "user_id": 3923619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lsko5.jpg?s=128&g=1", "display_name": "bbrails09", "link": "https://stackoverflow.com/users/3923619/bbrails09"}, "is_accepted": false, "score": 3, "last_activity_date": 1457822538, "creation_date": 1457822538, "answer_id": 35964232, "question_id": 34758289, "link": "https://stackoverflow.com/questions/34758289/rails-4-action-mailer-smtp-auth-error-missing-secret-phrase/35964232#35964232", "title": "Rails 4 action mailer SMTP-AUTH error missing secret phrase?", "body": "<p>I just dealt with a very similar scenario in an app I'm working on. I was getting the exact same \"SMTP-AUTH requested but missing secret phrase\" error. What ultimately fixed it for me was two-fold:</p>\n\n<p>1) Make sure that you're using an application-specific password for gmail. <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow\">Instructions from Google here</a> > How to generate an App password. Note that if you don't already have 2-factor authentication, you'll need to set that up first as well. You'll end up with an application password that is 16 characters long. You'll use that as the password that Rails uses via your SMPT settings.</p>\n\n<p>2) Make sure that you have appropriately setup your local environment variables file so that it loads upon compiling of the Rails app, and is excluded from git tracking by putting the filename in your gitignore. I use a file called app_name/config/local_env.yml, but you could also use the standard secrets.yml file that comes with Rails 4.2, or the figaro gem is pretty popular for managing ENV variables. <a href=\"http://railsapps.github.io/rails-environment-variables.html\" rel=\"nofollow\">This RailsApps page</a> gives a good overview of how to manage your ENV variables.</p>\n\n<p>Ultimately, my SMTP settings ended up looking nearly identical to yours:</p>\n\n<pre><code>#GMAIL CONFIG\nconfig.action_mailer.default_url_options = { :host =&gt;'localhost:3000' }\nconfig.action_mailer.delivery_method = :smtp\nconfig.action_mailer.perform_deliveries = true\nconfig.action_mailer.raise_delivery_errors = true\nconfig.action_mailer.default :charset =&gt; \"utf-8\"\nconfig.action_mailer.smtp_settings = {\naddress: \"smtp.gmail.com\",\nport: 587,\ndomain: \"gmail.com\",\nauthentication: \"plain\",\nenable_starttls_auto: true,\nuser_name: ENV[\"GMAIL_USERNAME\"],\npassword: ENV[\"GMAIL_PASSWORD\"]\n}\n</code></pre>\n\n<p>Best of luck!</p>\n"}, {"tags": [], "owner": {"reputation": 2821, "user_id": 734861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/898cac257f853f8bf0a1a84a67d88c40?s=128&d=identicon&r=PG", "display_name": "kofhearts", "link": "https://stackoverflow.com/users/734861/kofhearts"}, "is_accepted": false, "score": 0, "last_activity_date": 1513684489, "creation_date": 1513684489, "answer_id": 47886457, "question_id": 34758289, "link": "https://stackoverflow.com/questions/34758289/rails-4-action-mailer-smtp-auth-error-missing-secret-phrase/47886457#47886457", "title": "Rails 4 action mailer SMTP-AUTH error missing secret phrase?", "body": "<p>for me i had put the password in bashrc file and i forgot to restart the puma server. if you restart the puma server then this error is fixed. </p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 12322720, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_SIW3XCw1Ww/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHys1jPdwkFuBg6Sk-TkmfOaZGbw/photo.jpg?sz=128", "display_name": "ZZ4", "link": "https://stackoverflow.com/users/12322720/zz4"}, "is_accepted": false, "score": 0, "last_activity_date": 1591656876, "creation_date": 1591656876, "answer_id": 62272448, "question_id": 34758289, "link": "https://stackoverflow.com/questions/34758289/rails-4-action-mailer-smtp-auth-error-missing-secret-phrase/62272448#62272448", "title": "Rails 4 action mailer SMTP-AUTH error missing secret phrase?", "body": "<p>Had this setup locally working fine and when deployed to prod it didn't work, I think Google may check the device it's comming from, or at least the ip, I generated a new application password for the production server and after a couple of minutes it started working. </p>\n\n<p>So if Google SMTP AND you change device/ip without config changes try generating a new APP password.</p>\n"}], "owner": {"reputation": 135, "user_id": 860689, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df56f818ff0ace2fdc43b08326041655?s=128&d=identicon&r=PG", "display_name": "minifigmaster125", "link": "https://stackoverflow.com/users/860689/minifigmaster125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6495, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1591656876, "creation_date": 1452658381, "question_id": 34758289, "link": "https://stackoverflow.com/questions/34758289/rails-4-action-mailer-smtp-auth-error-missing-secret-phrase", "title": "Rails 4 action mailer SMTP-AUTH error missing secret phrase?", "body": "<p>I'm having trouble sending email using Rails 4 action mailer via gmail. It all should be so simple ... yet it isn't working. Specifically, I get </p>\n\n<pre><code>ArgumentError (SMTP-AUTH requested but missing secret phrase):\n</code></pre>\n\n<p>I've read the other questions here regarding the situation, but most of them had simple fixes (\"user_name\" instead of \"username\", or ENV variable was wrong). I've double checked, and I'm certain my credentials are correct. Here is the relevant section of my development.rb:</p>\n\n<pre><code>config.action_mailer.delivery_method = :smtp                          \nconfig.action_mailer.smtp_settings = {                    \n  address: 'smtp.gmail.com',                                      \n  port: 587,  \n  domain:  'mydomain.com', \n  user_name:  ENV[\"GMAIL_USERNAME\"],  \n  password:  ENV[\"GMAIL_PXXWRD\"],   \n  authentication: 'plain',\n  enable_starttls_auto: true                         \n}  \n</code></pre>\n\n<p>I initially had the credentials in plaintext, but that I though maybe I should move them to env variables to solve the issue. It didn't change anything. As a note, my gmail is a company gmail, so it doesn't actually end in \"@gmail.com\". I'm not sure if that changes anything, but I thought I'd mention it. I've also tried with a standard gmail address, it changes nothing.</p>\n\n<p>Also, does \"missing secret phrase\" refer to a bad password? Or is it not finding a password to begin with? What else could cause the error? Thanks for your time guys.</p>\n"}, {"tags": ["ruby", "twitter-bootstrap-rails"], "comments": [{"owner": {"reputation": 2722, "user_id": 719797, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4479248f4117d276209c00b5c3560be6?s=128&d=identicon&r=PG", "display_name": "bpn", "link": "https://stackoverflow.com/users/719797/bpn"}, "edited": false, "score": 0, "creation_date": 1452661178, "post_id": 34757973, "comment_id": 57262952, "body": "are you making use of any ruby versioning tools like rbenv or rvm? If not I highly recommend using that to overcome such issues"}, {"owner": {"reputation": 49, "user_id": 3944671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/006aec1d2d8e1748951147df4a0e962e?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhanbayev Nursultan", "link": "https://stackoverflow.com/users/3944671/nikhanbayev-nursultan"}, "reply_to_user": {"reputation": 2722, "user_id": 719797, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4479248f4117d276209c00b5c3560be6?s=128&d=identicon&r=PG", "display_name": "bpn", "link": "https://stackoverflow.com/users/719797/bpn"}, "edited": false, "score": 0, "creation_date": 1452664233, "post_id": 34757973, "comment_id": 57263960, "body": "@bpn Thank you! But honestly I cant manage installing even one of them."}], "answers": [{"tags": [], "owner": {"reputation": 3948, "user_id": 749004, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/eea17847c5b1429676c08432dba052ef?s=128&d=identicon&r=PG", "display_name": "Zajn", "link": "https://stackoverflow.com/users/749004/zajn"}, "is_accepted": true, "score": 2, "last_activity_date": 1452662449, "creation_date": 1452662449, "answer_id": 34758941, "question_id": 34757973, "link": "https://stackoverflow.com/questions/34757973/ruby-twitter-bootstrap-rails/34758941#34758941", "title": "Ruby twitter-bootstrap-rails", "body": "<p>It sounds like what you need to do is add the <code>twitter-bootstrap-rails</code> gem to your <code>Gemfile</code>, and run <code>bundle install</code>.</p>\n\n<p>Although you installed the gem using <code>gem install</code>, <code>bundler</code> doesn't know that because it's not present in your Gemfile.</p>\n\n<p>Once you add the gem to your Gemfile and run <code>bundle install</code>, <code>bundle show</code> should display the path of the installed gem. Your generators should work as well!</p>\n"}], "owner": {"reputation": 49, "user_id": 3944671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/006aec1d2d8e1748951147df4a0e962e?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhanbayev Nursultan", "link": "https://stackoverflow.com/users/3944671/nikhanbayev-nursultan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 34758941, "answer_count": 1, "score": 1, "last_activity_date": 1452662449, "creation_date": 1452656139, "question_id": 34757973, "link": "https://stackoverflow.com/questions/34757973/ruby-twitter-bootstrap-rails", "title": "Ruby twitter-bootstrap-rails", "body": "<p>I am just started learning Ruby rails and immediately facing problem.</p>\n\n<p>I am using Windows 8.1, Ruby 2.2.3, Rails 4.2.5.\nProblem is I installed twitter-bootstrap-rails gem, like this:</p>\n\n<pre><code>   gem install twitter-bootstrap-rails\n</code></pre>\n\n<p>, and it said me everything have gone well, no problems. But when I type </p>\n\n<pre><code>   bundle show twitter-bootstrap-rails\n</code></pre>\n\n<p>it says me there is no such gem. And for that reason I think I cant use rails generator, bootstrap is not in generators list: </p>\n\n<pre><code>   rails g --help\n</code></pre>\n\n<p>I am completely new in Ruby. Any help will be appreciated. Thank you in advance!</p>\n"}, {"tags": ["ruby", "sketchup"], "comments": [{"owner": {"reputation": 3948, "user_id": 749004, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/eea17847c5b1429676c08432dba052ef?s=128&d=identicon&r=PG", "display_name": "Zajn", "link": "https://stackoverflow.com/users/749004/zajn"}, "edited": false, "score": 1, "creation_date": 1452661723, "post_id": 34757826, "comment_id": 57263128, "body": "Hey Jim, what is actually happening when you try to run this code?"}], "answers": [{"tags": [], "owner": {"reputation": 236, "user_id": 1278656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ca7605fad7d4d5081ff549827a58d4?s=128&d=identicon&r=PG", "display_name": "Bugra Barin", "link": "https://stackoverflow.com/users/1278656/bugra-barin"}, "is_accepted": false, "score": 1, "last_activity_date": 1452696503, "creation_date": 1452696503, "answer_id": 34769648, "question_id": 34757826, "link": "https://stackoverflow.com/questions/34757826/ruby-code-automatic-sketchup-icosahedron/34769648#34769648", "title": "Ruby code &quot;Automatic Sketchup&quot; icosahedron", "body": "<p>Your code actually works after fixing a few typos. I changed these 2 lines as shown:</p>\n\n<pre><code>pt1 = Geom:: Point3d.new 0,-Ss,Gr\npt8 = Geom:: Point3d.new Gr,0,-Ss\n</code></pre>\n\n<p>and removed this line altogether</p>\n\n<pre><code>ent = Sketchup.active_mod.entities\n</code></pre>\n\n<p>Give it a try that way. Some of the faces end up reversed but the geometry does get created.</p>\n"}], "owner": {"reputation": 11, "user_id": 5772385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27rem.jpg?s=128&g=1", "display_name": "130jim", "link": "https://stackoverflow.com/users/5772385/130jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452696503, "creation_date": 1452655111, "question_id": 34757826, "link": "https://stackoverflow.com/questions/34757826/ruby-code-automatic-sketchup-icosahedron", "title": "Ruby code &quot;Automatic Sketchup&quot; icosahedron", "body": "<p>Hi my name is Jim and I am having a very hard time just displaying my first ruby Sketchup code on the sketchup page.\nI have Windows 8\nSketchup 2016 pro</p>\n\n<p>The code in the file below is basically copied out of the book \" Automatic Sketchup \"\nI am so new to Ruby that I can't detect what is being left out.\nThere must be something else needed to make it run.\nIt is suppose to add an icosahedron to the sketch.</p>\n\n<p>If I could just get over this hump, I would be so happy.\nIf someone could point me in the right direction I would be forever indebted for your help.</p>\n\n<pre><code>mod = Sketchup.active_model # Open model\nent = mod.entities # All entities in model\nsel = mod.selection # Current selection\nview = mod.active_view\n\nSs = 1.11935599 # Short side\nGr = 1.65742 # Long side\n\npt0 = Geom:: Point3d.new 0,Ss,Gr\npt1 = Geom:: Point3d.new 0,-Ss,GS\npt2 = Geom:: Point3d.new Gr,0,Ss\npt3 = Geom:: Point3d.new -Gr,0,Ss\npt4 = Geom:: Point3d.new Ss,-Gr,0\npt5 = Geom:: Point3d.new -Ss,-Gr,0\npt6 = Geom:: Point3d.new 0,Ss,-Gr\npt7 = Geom:: Point3d.new 0,-Ss,-Gr\npt8 = Geom:: Point3d.new Gr,0.-Ss\npt9 = Geom:: Point3d.new -Gr,0,-Ss\npt10 = Geom:: Point3d.new Ss,Gr,0\npt11 = Geom:: Point3d.new -Ss,Gr,0\n\npm = Geom:: PolygonMesh.new 12, 20\n\n #Top half\npm.add_polygon pt0, pt1, pt2\npm.add_polygon pt0, pt1, pt3\npm.add_polygon pt1, pt4, pt5\npm.add_polygon pt1, pt4, pt2\npm.add_polygon pt1, pt3, pt5\n\n #Middle\npm.add_polygon pt4, pt5, pt7\npm.add_polygon pt2, pt8, pt4\npm.add_polygon pt10, pt11, pt0\npm.add_polygon pt3, pt9, pt5\npm.add_polygon pt2, pt8, pt10\npm.add_polygon pt2, pt0, pt10\npm.add_polygon pt9, pt5, pt7\npm.add_polygon pt7, pt8, pt4\npm.add_polygon pt11, pt9, pt3\npm.add_polygon pt11, pt3, pt0\n\n #Bottom half\npm.add_polygon pt6, pt7, pt8\npm.add_polygon pt6, pt7, pt9\npm.add_polygon pt6, pt10, pt11\npm.add_polygon pt6, pt10, pt8\npm.add_polygon pt6, pt9, pt11\n\n #Draw face in the mesh\nent = Sketchup.active_mod.entities\nent.add_faces_from_mesh pm\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "ajax", "acts-as-votable"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4310077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/11900571/picture?type=large", "display_name": "Greg S&#233;guin", "link": "https://stackoverflow.com/users/4310077/greg-s%c3%a9guin"}, "edited": false, "score": 0, "creation_date": 1452666649, "post_id": 34758433, "comment_id": 57264855, "body": "Thanks! I&#39;ve added the rendered HTML as well as the error that I get from the js console with the line of code that it&#39;s getting tripped up on."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "reply_to_user": {"reputation": 47, "user_id": 4310077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/11900571/picture?type=large", "display_name": "Greg S&#233;guin", "link": "https://stackoverflow.com/users/4310077/greg-s%c3%a9guin"}, "edited": false, "score": 0, "creation_date": 1452724116, "post_id": 34758433, "comment_id": 57301528, "body": "@GregS&#233;guin ok, updated with what I <i>think</i> might be going on. have a go with that and see."}], "tags": [], "owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "is_accepted": true, "score": 1, "last_activity_date": 1452724089, "last_edit_date": 1452724089, "creation_date": 1452659366, "answer_id": 34758433, "question_id": 34757728, "link": "https://stackoverflow.com/questions/34757728/rails-upvote-downvote-using-ajax-and-acts-as-votable/34758433#34758433", "title": "Rails upvote/downvote using Ajax and acts_as_votable", "body": "<p>If you have a look at the code you've provided... the code is coloured for what is inside and outside of a string... and you'll notice this line here:</p>\n\n<pre><code> $(this).closest('.votes').html(' &lt;%= link_to \"Unlike\",  unlike_joke_path(@joke), remote: true, method: :get, class: 'unlike_joke' %&gt;');\n</code></pre>\n\n<p>gets coloured so that parts of the code are inside the string... but parts aren't (scroll to the right to see it, it's near the end).</p>\n\n<p>I don't know for sure that this is your error, but you probably should consider changing this to:</p>\n\n<pre><code> $(this).closest('.votes').html(' &lt;%= link_to \"Unlike\",  unlike_joke_path(@joke), remote: true, method: :get, class: \"unlike_joke\" %&gt;');\n</code></pre>\n\n<p>if only to clear up ambiguity. (also check the other lines for similar issues)</p>\n\n<hr>\n\n<p>Ok, I think the problem is this.\nonce you have clicked like... you go to the action for liking (which, BTW you should probably call 'like' instead of 'upvote' for consistency)>\nThen you render the like.js.</p>\n\n<p>at this point you want the js to actually update the like-count etc.\nYou already have the javascript and you just want to run it right away.\nYou don't need to bind it to ajax success... you already have succeeded. So your like.js should just contain the bare javascript to actually update the screen right now eg:</p>\n\n<pre><code>var like_joke = $('.unlike_joke');\nlike_joke.parent().parent().find('.vote_count').html('&lt;%= escape_javascript     @joke.votes_for.size.to_s %&gt;');\nlike_joke.closest('.like_joke').hide();\nlike_joke.closest('.votes').html(' &lt;%= link_to \"Unlike\",  unlike_joke_path(@joke), remote: true, method: :get, class: 'unlike_joke' %&gt;');\n</code></pre>\n\n<p>Note: untested and there may be bugs, but you get the idea. Don;'t put a function that will get called on ajax success or it will sit there waiting for some other success to happen. Success has already happened... now just go and do the thing :)</p>\n\n<p>Also note: there's a typo here:</p>\n\n<pre><code>   &lt;span class=\"badge voute_count\"&gt;&lt;%= @joke.get_downvotes.size %&gt;&lt;/span&gt;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>   &lt;span class=\"badge vote_count\"&gt;&lt;%= @joke.get_downvotes.size %&gt;&lt;/span&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1452724153, "post_id": 34769744, "comment_id": 57301549, "body": "This may well work - but the OP is trying to learn how to do this and will be served better for figuring out what went wrong with what they tried rather than being handed a solution as a fait accompli"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "reply_to_user": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1452761903, "post_id": 34769744, "comment_id": 57314456, "body": "I&#39;ll delete if the OP doesn&#39;t like it"}], "tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1452696742, "creation_date": 1452696742, "answer_id": 34769744, "question_id": 34757728, "link": "https://stackoverflow.com/questions/34757728/rails-upvote-downvote-using-ajax-and-acts-as-votable/34769744#34769744", "title": "Rails upvote/downvote using Ajax and acts_as_votable", "body": "<p>A better way...</p>\n\n<pre><code>#config/routes.rb\nresources :jokes do\n  match :vote, via: [:post, :delete], on: :member\nend\n\n#app/controllers/jokes_controller.rb\nclass JokesController &lt; ApplicationController\n   def vote\n       @joke = Joke.find(params[:id])\n       if request.post?\n           @joke.upvote_from current_user\n       elsif request.delete?\n           @joke.downvote_from current_user\n       end\n       respond_to do |format|\n          format.html { redirect_to :back }\n          format.js\n       end\n   end\nend\n</code></pre>\n\n<p>Make a single <code>partial</code> view:</p>\n\n<pre><code>#app/views/jokes/_vote.html.erb\n&lt;% voted   = current_user.voted_for? joke %&gt;\n&lt;% styling = voted ? \"\" : \"un\" %&gt;\n&lt;% arrow   = voted ? \"up\" : \"down\" %&gt;\n&lt;% method  = voted ? :delete : :post %&gt;\n\n&lt;%= link_to vote_joke_path(joke), method: method, remote: true, class: '#{styling}like_joke', id: joke.id do %&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" aria-label=\"Left Align\"&gt;\n        &lt;i class=\"fa fa-arrow-&lt;%= arrow %&gt;\"&gt;&lt;/i&gt;\n        &lt;span class=\"badge vote_count\"&gt;&lt;%= joke.get_upvotes.size %&gt;&lt;/span&gt;\n    &lt;/button&gt;\n&lt;% end %&gt;\n\n#app/views/jokes/show.html.erb\n&lt;%= render partial: \"vote\", locals: { joke: @joke } %&gt;\n</code></pre>\n\n<p>This way, when you invoke <code>vote.js.erb</code> from your <code>JokesController</code>, you'll be able to use the following:</p>\n\n<pre><code>#app/views/jokes/vote.js.erb\n$(\"&lt;%=j @joke.id %&gt;\").html(\"&lt;%=j render partial: \"jokes/vote\", locals: { joke: @joke } %&gt;\");\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4310077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/11900571/picture?type=large", "display_name": "Greg S&#233;guin", "link": "https://stackoverflow.com/users/4310077/greg-s%c3%a9guin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 1, "accepted_answer_id": 34758433, "answer_count": 2, "score": 1, "last_activity_date": 1452724089, "creation_date": 1452654349, "last_edit_date": 1452666602, "question_id": 34757728, "link": "https://stackoverflow.com/questions/34757728/rails-upvote-downvote-using-ajax-and-acts-as-votable", "title": "Rails upvote/downvote using Ajax and acts_as_votable", "body": "<p>Still fairly new to Rails. I used the acts_as_votable gem to create upvote and upvote buttons to allow users to upvote/downvote jokes, but I can't make them change from upvote / downvote (and vice versa) and update the counter each time they click without refreshing the page. I tried following other kind-of-similar answers without luck. Here's what I tried to implement.</p>\n\n<p>Joke Model </p>\n\n<pre><code>acts_as_votable \n</code></pre>\n\n<p>User Model</p>\n\n<pre><code>acts_as voter\n</code></pre>\n\n<p>Routes.rb is</p>\n\n<pre><code>resources :jokes do\nmember do\n  get \"like\" =&gt; \"jokes#upvote\"\n  get \"unlike\" =&gt; \"jokes#downvote\"\nend\nend\n</code></pre>\n\n<p>Jokes Controller is</p>\n\n<pre><code>#upvote from user\ndef upvote\n    @joke = Joke.find(params[:id])\n    @joke.upvote_from current_user\n    respond_to do |format|\n        format.html { redirect_to :back }\n        format.js { render :layout =&gt; false }\n    end\nend\n\n#downvote from user\ndef downvote\n    @joke = Joke.find(params[:id])\n    @joke.downvote_from current_user\n    respond_to do |format|\n        format.html { redirect_to :back }\n        format.js { render :layout =&gt; false }\n    end\nend\n</code></pre>\n\n<p>My view:</p>\n\n<pre><code>&lt;div class=\"votes\"&gt;\n&lt;%= link_to like_joke_path(@joke), method: :get, remote: true, class:     'like_joke' do %&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" aria-label=\"Left Align\"&gt;\n        &lt;i class=\"fa fa-arrow-up\"&gt;&lt;/i&gt;\n        &lt;span class=\"badge vote_count\"&gt;&lt;%= @joke.get_upvotes.size %&gt;&lt;/span&gt;\n    &lt;/button&gt;\n&lt;% end %&gt;\n\n&lt;%= link_to unlike_joke_path(@joke), method: :get, remote: true, class: 'unlike_joke' do %&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" aria-label=\"Left Align\"&gt;\n        &lt;i class=\"fa fa-arrow-down\"&gt;&lt;/i&gt;\n        &lt;span class=\"badge voute_count\"&gt;&lt;%= @joke.get_downvotes.size %&gt;&lt;/span&gt;\n    &lt;/button&gt;\n&lt;% end %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>like.js.erb:</p>\n\n<pre><code>$('.like_joke').bind('ajax:success', function(){\n   $(this).parent().parent().find('.vote_count').html('&lt;%= escape_javascript     @joke.votes_for.size.to_s %&gt;');\n   $(this).closest('.like_joke').hide();\n   $(this).closest('.votes').html(' &lt;%= link_to \"Unlike\",  unlike_joke_path(@joke), remote: true, method: :get, class: 'unlike_joke' %&gt;');\n});\n</code></pre>\n\n<p>and finally unlike.js.erb:</p>\n\n<pre><code>$('.unlike_joke').bind('ajax:success', function(){\n   $(this).parent().parent().find('.vote_count').html('&lt;%= escape_javascript @joke.votes_for.size.to_s %&gt;');\n   $(this).closest('.unlike_joke').hide();\n   $(this).closest('.votes').html(' &lt;%= link_to \"Like\", like_joke_path(@joke), remote: true, method: :get, class: 'like_joke' %&gt;');\n});\n</code></pre>\n\n<p>Here's the rendered HTML:</p>\n\n<pre><code>&lt;div class=\"votes\"&gt;\n&lt;a class=\"like_joke\" data-remote=\"true\" data-method=\"get\" href=\"/jokes/11-cat-joke-title/like\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" aria-label=\"Left Align\"&gt;\n        &lt;i class=\"fa fa-arrow-up\"&gt;&lt;/i&gt;\n        &lt;span class=\"badge vote_count\"&gt;0&lt;/span&gt;\n    &lt;/button&gt;\n&lt;/a&gt;\n&lt;a class=\"unlike_joke\" data-remote=\"true\" data-method=\"get\" href=\"/jokes/11-cat-joke-title/unlike\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-info\" aria-label=\"Left Align\"&gt;\n        &lt;i class=\"fa fa-arrow-down\"&gt;&lt;/i&gt;\n        &lt;span class=\"badge voute_count\"&gt;1&lt;/span&gt;\n     &lt;/button&gt;\n&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<p>When I look at the js console, I get an internal server error at jquery.js?body=1:9665 which is xhr.send( ( options.hasContent &amp;&amp; options.data ) || null );</p>\n\n<p>It seems like I'm close, but I think I've messed up something in my views and js. Can someone show me what I'm missing?</p>\n"}, {"tags": ["ruby", "xcode", "macos", "homebrew"], "comments": [{"owner": {"reputation": 663, "user_id": 3905211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/830acfecd033566a5acc618e5d5bfeff?s=128&d=identicon&r=PG", "display_name": "kozlice", "link": "https://stackoverflow.com/users/3905211/kozlice"}, "edited": false, "score": 0, "creation_date": 1452654805, "post_id": 34757652, "comment_id": 57261184, "body": "<a href=\"http://stackoverflow.com/questions/25675993/xcode-select-command-not-found\" title=\"xcode select command not found\">stackoverflow.com/questions/25675993/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5781992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b02c5d40eb1f4359c9df8718aebd04d?s=128&d=identicon&r=PG&f=1", "display_name": "Rayborn", "link": "https://stackoverflow.com/users/5781992/rayborn"}, "edited": false, "score": 0, "creation_date": 1452729150, "post_id": 34760000, "comment_id": 57303577, "body": "I had open xcode but cannot acces location in the preference menu, it freeze xcode when i try to access it"}], "tags": [], "owner": {"reputation": 2821, "user_id": 4814218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FRmut.png?s=128&g=1", "display_name": "villy393", "link": "https://stackoverflow.com/users/4814218/villy393"}, "is_accepted": false, "score": 0, "last_activity_date": 1452667345, "creation_date": 1452667345, "answer_id": 34760000, "question_id": 34757652, "link": "https://stackoverflow.com/questions/34757652/installing-homebrew-on-yosemite-10-10-5-error/34760000#34760000", "title": "Installing Homebrew on Yosemite 10.10.5 error", "body": "<p>Open Xcode. It might be that u need to accept terms and conditions. </p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 5330531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q7YJY.gif?s=128&g=1", "display_name": "Screed", "link": "https://stackoverflow.com/users/5330531/screed"}, "is_accepted": false, "score": 0, "last_activity_date": 1453135914, "creation_date": 1453135914, "answer_id": 34860007, "question_id": 34757652, "link": "https://stackoverflow.com/questions/34757652/installing-homebrew-on-yosemite-10-10-5-error/34860007#34860007", "title": "Installing Homebrew on Yosemite 10.10.5 error", "body": "<p>Did you install Xcode command line tools?</p>\n\n<pre><code> $ xcode-select --install\n</code></pre>\n\n<p>An important dependency before Homebrew can work is the Command Line Tools for Xcode. </p>\n"}], "owner": {"reputation": 1, "user_id": 5781992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b02c5d40eb1f4359c9df8718aebd04d?s=128&d=identicon&r=PG&f=1", "display_name": "Rayborn", "link": "https://stackoverflow.com/users/5781992/rayborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453135914, "creation_date": 1452653791, "question_id": 34757652, "link": "https://stackoverflow.com/questions/34757652/installing-homebrew-on-yosemite-10-10-5-error", "title": "Installing Homebrew on Yosemite 10.10.5 error", "body": "<p>I tried to Find an answear with this problem \nbut I could so here it is</p>\n\n<pre><code>    ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n==&gt; This script will install:\n/usr/local/bin/brew\n/usr/local/Library/...\n/usr/local/share/man/man1/brew.1\n\nPress RETURN to continue or any other key to abort\n==&gt; Installing the Command Line Tools (expect a GUI popup):\n==&gt; /usr/bin/sudo /usr/bin/xcode-select --install\nPassword:\nsudo: /usr/bin/xcode-select: command not found\nFailed during: /usr/bin/sudo /usr/bin/xcode-select --install\n</code></pre>\n\n<p>I didnt understand the problem with the xcode\nbut didt kite get so hope you can help me with this \nbefore hand every try its appricieted</p>\n"}, {"tags": ["ruby", "rspec"], "answers": [{"comments": [{"owner": {"reputation": 555, "user_id": 848240, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/470fdef3ef59da9c3848052deb644e49?s=128&d=identicon&r=PG", "display_name": "uMinded", "link": "https://stackoverflow.com/users/848240/uminded"}, "edited": false, "score": 0, "creation_date": 1452688002, "post_id": 34757727, "comment_id": 57278230, "body": "Thanks. When the original test failed with eq(0.00032) but returned 1/3125 I knew they were mathematically identical so I just copied the output to the eq() test."}], "tags": [], "owner": {"reputation": 16564, "user_id": 1261399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/679444399bbf92e3a5d3f16347809f3f?s=128&d=identicon&r=PG", "display_name": "Leo Correa", "link": "https://stackoverflow.com/users/1261399/leo-correa"}, "is_accepted": true, "score": 2, "last_activity_date": 1452654349, "creation_date": 1452654349, "answer_id": 34757727, "question_id": 34757626, "link": "https://stackoverflow.com/questions/34757626/rspec-eq-rounding-numbers/34757727#34757727", "title": "Rspec eq() rounding numbers", "body": "<p>This is not RSpec rounding anything, it's simply Ruby assuming that since you're dividing two <code>Fixnum</code> then you want a <code>Fixnum</code> back.</p>\n\n<p>If any of the numbers you were diving was a <code>Float</code> or <code>Rational</code> your division would yield the corresponding class and it will pass your equality check.</p>\n\n<pre><code>&gt; power(5, -5) == (1/3125)\n=&gt; false\n&gt; power(5, -5).class\n=&gt; Rational\n&gt; (1/3125).class\n=&gt; Fixnum\n&gt; 0.00032.class\n=&gt; Float\n&gt; (1/3125)\n=&gt; 0\n&gt; (1.0/3125)\n=&gt; 0.00032\n&gt; power(5, -5) == (1.0/3125)\n=&gt; true\n</code></pre>\n"}], "owner": {"reputation": 555, "user_id": 848240, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/470fdef3ef59da9c3848052deb644e49?s=128&d=identicon&r=PG", "display_name": "uMinded", "link": "https://stackoverflow.com/users/848240/uminded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 34757727, "answer_count": 1, "score": 0, "last_activity_date": 1452654349, "creation_date": 1452653657, "question_id": 34757626, "link": "https://stackoverflow.com/questions/34757626/rspec-eq-rounding-numbers", "title": "Rspec eq() rounding numbers", "body": "<p>How do you stop Rspec from rounding fixNum's in compares like eq()?  </p>\n\n<p>Ruby:</p>\n\n<pre><code>def power(base, exponent)\n  base**exponent\nend\n</code></pre>\n\n<p>Rspec:</p>\n\n<pre><code>Failure/Error: expect(power(5,-5)).to eq(1/3125)\n\n   expected: 0\n        got: (1/3125)\n</code></pre>\n\n<p>but passes with</p>\n\n<pre><code>expect(power(5,-5)).to eq(0.00032)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1452655271, "post_id": 34757582, "comment_id": 57261285, "body": "I can help you with this, but I need to know what exactly do you have in the variable? is it the name of the association that you will be creating the model for?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5781967, "user_type": "registered", "profile_image": "https://graph.facebook.com/1039214679451049/picture?type=large", "display_name": "Alexis Johnson", "link": "https://stackoverflow.com/users/5781967/alexis-johnson"}, "edited": false, "score": 1, "creation_date": 1452657539, "post_id": 34757906, "comment_id": 57261842, "body": "Thank you! The constantize method was the missing link I needed! I ended up changing things around just a bit, and it seems to be working. (I am now passing in &quot;Metro&quot; and using the code below)      model_name = model.constantize     model_name.create(coordinates: coordinates, name: station[&quot;properties&quot;][&quot;NAME&quot;], address: station[&quot;properties&quot;][&quot;ADDRESS&quot;], hood: hood[0])"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "reply_to_user": {"reputation": 13, "user_id": 5781967, "user_type": "registered", "profile_image": "https://graph.facebook.com/1039214679451049/picture?type=large", "display_name": "Alexis Johnson", "link": "https://stackoverflow.com/users/5781967/alexis-johnson"}, "edited": false, "score": 0, "creation_date": 1452658173, "post_id": 34757906, "comment_id": 57261986, "body": "Great to hear it helped :) Also: Welcome to Stack Overflow. :D As a newbie to the site, I don&#39;t know if you know or not, but if an answer solves your problem, you can/should &quot;accept&quot; it. To do that, hover over the left side of the answer and a &#39;tick&#39; will appear... you probably can&#39;t click it right away, but eventually you will be able to. Sometimes it&#39;s difficult to decide between answers if you&#39;ve received more than one good one..."}], "tags": [], "owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "is_accepted": true, "score": 1, "last_activity_date": 1452655686, "creation_date": 1452655686, "answer_id": 34757906, "question_id": 34757582, "link": "https://stackoverflow.com/questions/34757582/using-variables-for-model-names-in-active-record/34757906#34757906", "title": "Using Variables for Model Names in Active Record", "body": "<p>For now I'm going to assume that what you have in the variable is a <code>String</code> that is the name of the class in table-name format. eg in your example you have <code>metros</code> in the variable... from that I assume you have a <code>Metro</code> class which you are trying to create.</p>\n\n<p>If so... you first need to convert your lowercase table-name style variable  (<code>\"metros\"</code>) into a class name-style eg <code>\"Metro\"</code>\nNote: this is title cased and singular (rather than plural).</p>\n\n<p>Rails has a method to do this to strings for exactly the purpose you want: <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-classify\" rel=\"nofollow\"><code>classify</code></a> eg you could use it thus:</p>\n\n<pre><code>model_name = hood[0][model] # 'metros'\nmodel_name.classify # 'Metro'\n</code></pre>\n\n<p>Note that it's still just a string, and you can't call <code>create</code> on a string.. so how do you make it the real class? <a href=\"http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-constantize\" rel=\"nofollow\"><code>constantize</code></a></p>\n\n<p>Use this to turn the string into the actual model-class you're trying to find... which you can then call <code>create</code> on eg:</p>\n\n<pre><code>model_name = hood[0][model] # 'metros'\nthe_klass = model_name.classify.constantize # Metro\nyour_instance = the_klass.create(...)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5781967, "user_type": "registered", "profile_image": "https://graph.facebook.com/1039214679451049/picture?type=large", "display_name": "Alexis Johnson", "link": "https://stackoverflow.com/users/5781967/alexis-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 34757906, "answer_count": 1, "score": 0, "last_activity_date": 1452655686, "creation_date": 1452653433, "question_id": 34757582, "link": "https://stackoverflow.com/questions/34757582/using-variables-for-model-names-in-active-record", "title": "Using Variables for Model Names in Active Record", "body": "<p>I am writing a seed file that will make several API calls via HTTParty in order to populate the database. I am pulling the same information for several different models and I would like to be able to use a single method for all of them. However, I cannot figure out how to reference the model name through a variable. Specifically I am having difficulties because each of these must belong to another model. I have tried the following: </p>\n\n<pre><code>def create_assets(subject, model, geokit_hoods)\n  response = HTTParty.get(\"https://raw.githubusercontent.com/benbalter/dc-maps/master/maps/#{subject}.geojson\")\n  parsed = JSON.parse(response)\n  collection = parsed[\"features\"]\n  collection.each do |station|\n    coordinates = station[\"geometry\"][\"coordinates\"].reverse\n    point = Geokit::LatLng.new(coordinates[0], coordinates[1])\n    geokit_hoods.each do |hood|\n      if hood[1].contains?(point)\n        hood[0][model].create(coordinates: coordinates, name: station[\"properties\"][\"NAME\"], address: station[\"properties\"][\"ADDRESS\"])\n        break\n      end\n    end\n  end\nend\n</code></pre>\n\n<p>Which I called via the following:</p>\n\n<pre><code>create_assets(\"metro-stations-district\", \"metros\", geokit_hoods)\n</code></pre>\n\n<p>hood[0] refers to an existing neighborhood model, and hood[1] is the polygon associated with that neighborhood. The code works when referring to hood[0].metros.create(...), but I am looking for a way to make this method useful across many models.</p>\n\n<p>Any ideas would be appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "instance"], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 5422500, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/543ae4e0bac64ed0ceac17a648a01f2e?s=128&d=identicon&r=PG&f=1", "display_name": "uno", "link": "https://stackoverflow.com/users/5422500/uno"}, "edited": false, "score": 0, "creation_date": 1452673405, "post_id": 34757804, "comment_id": 57268272, "body": "Hi @Taryn East . . Can I ask what is the purpose of .rake eg(mon_batch_scripts.rake) What is the difference between .rake and .rb file?"}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1452696969, "post_id": 34757804, "comment_id": 57284440, "body": "Nice work but I had to downvote because it doesn&#39;t really explain what it is"}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "reply_to_user": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 0, "creation_date": 1452723582, "post_id": 34757804, "comment_id": 57301317, "body": "@RichPeck the OP was satisfied... also I answered what was actually asked - to understand the idea of what an instance is, and point out where the instance was in the code provided."}, {"owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "edited": false, "score": 1, "creation_date": 1452761829, "post_id": 34757804, "comment_id": 57314417, "body": "No problem, I would have downvoted and not mentioned anything; I just wanted to put it out there that I was the one who downvoted that&#39;s all"}], "tags": [], "owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "is_accepted": true, "score": 2, "last_activity_date": 1452657369, "last_edit_date": 1452657369, "creation_date": 1452654918, "answer_id": 34757804, "question_id": 34757303, "link": "https://stackoverflow.com/questions/34757303/what-is-an-instance-in-rails/34757804#34757804", "title": "What is an instance in rails?", "body": "<p>An instance usually represents one row in your database table, but more generally it has a very specific meaning relating to your class.</p>\n\n<p>Classes and instances are Object Oriented Programming concepts, but can be present in other contexts too.</p>\n\n<p>Even in the real world...\nLets pretend you have a class called 'Car'</p>\n\n<p>An instance would be the specific car that you have parked in your garage right now. Another instance would be your neighbour's car.</p>\n\n<p>In a database context, if your class was called 'EmployeeRecord' then an instance of that would be the record that has your name and employee-number on it, as opposed to the one for your boss.</p>\n\n<p>But in your case, in Rails:\nYou have a class called <code>Confbridge</code>. If you create a new one of these using eg <code>conf = Confbridge.new</code> then what you have in the variable <code>conf</code> is an instance of class <code>Confbridge</code></p>\n\n<p>To specifically look at the code you've showed - you don't have an instance in that code. What you have shown above is the code that makes up the <code>Confbridge</code> class - from that you can make instances that will have the properties you defined when writing the class (eg each of your instances will validate that <code>confno</code> is unique if you call <code>conf.save</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 1880, "user_id": 5508939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fCMtP.jpg?s=128&g=1", "display_name": "Yang", "link": "https://stackoverflow.com/users/5508939/yang"}, "is_accepted": false, "score": 4, "last_activity_date": 1452654966, "creation_date": 1452654966, "answer_id": 34757810, "question_id": 34757303, "link": "https://stackoverflow.com/questions/34757303/what-is-an-instance-in-rails/34757810#34757810", "title": "What is an instance in rails?", "body": "<p>To be short, instance is an object of a certain class. In your example <code>Confbridge</code> is a model class. All of the following are instances of this class:</p>\n\n<pre><code>Confbridge.new\nConfbridge.first\nConfbridge.find(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73119, "user_id": 1143732, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mFUOI.jpg?s=128&g=1", "display_name": "Richard Peck", "link": "https://stackoverflow.com/users/1143732/richard-peck"}, "is_accepted": false, "score": 1, "last_activity_date": 1452702082, "creation_date": 1452702082, "answer_id": 34771782, "question_id": 34757303, "link": "https://stackoverflow.com/questions/34757303/what-is-an-instance-in-rails/34771782#34771782", "title": "What is an instance in rails?", "body": "<p>An <em>instance</em> comes from <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">Object Orientated Programming</a> (which Ruby is a proponent of)...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ue9cA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ue9cA.png\" alt=\"enter image description here\"></a></p>\n\n<p>OOP basically replaces <em>variables</em> with <em>objects</em> (although they're the same thing).</p>\n\n<p>The difference between the two is that an <em>object</em> is stored either as a \"class\" or a \"function\", with both <em>attributes</em> and <em>functions</em>/<em>methods</em> appended to it.</p>\n\n<p>In short, objects can be <em>manipulated</em> in the application whilst variables are static.</p>\n\n<hr>\n\n<p>Games use OOP because it allows you to invoke a series of objects into the environment and interact with them.</p>\n\n<p>For example, with <a href=\"http://superprofundo.com/2010/12/09/object-oriented-programming-in-a-nutshell/\" rel=\"nofollow noreferrer\">Mario</a>, <code>Mario</code> will be an object, a <code>Koopa</code> can be an object etc.</p>\n\n<p>When you move, you're editing <code>Mario</code>'s \"position\" (<code>x</code>/<code>y</code>) in the environment, which can also mean that if the coords intersect with another object, Mario dies...</p>\n\n<pre><code>def keypress\n   @mario.move x,y\nend\n\nclass Mario\n   def move x,y \n     ##updates environment\n     ##checks if collision\n   end\nend\n</code></pre>\n\n<p>The interactivity between these objects is what allows games to seem like they retain their state (each enemy is an object with different characteristics).</p>\n\n<p>Thus, when you think about <code>Rails</code>, you must appreciate that <em>everything</em> you do is object-orientated. All your variables etc should be objects. Models are responsible for building these objects with certain attributes/methods etc:</p>\n\n<pre><code>#app/models/car.rb\nclass Car &lt; ActiveRecord::Base\n   def blow_up!\n      self.destroy\n   end\nend\n\n@car = Car.find params[:id] #-&gt; invokes an instance of the Car object, populating with data from the db\n@car.blow_up! #-&gt; invoking the \"blow_up!\" instance method.\n</code></pre>\n\n<p>Thus to describe the <em>instance</em> of an object, you're talking about a class which has been initialized &amp; populated with data from your DB.</p>\n\n<p>In your case, the instance occurs in your <code>Controller</code>, when you invoke the class with one of the <a href=\"http://www.railstips.org/blog/archives/2009/05/11/class-and-instance-methods-in-ruby/\" rel=\"nofollow noreferrer\">class methods</a>:</p>\n\n<pre><code>@confbridge = Confbridge.find(1) #-&gt; creates an instance\n@confbridge.destroy              #-&gt; performs action on instance\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 5422500, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/543ae4e0bac64ed0ceac17a648a01f2e?s=128&d=identicon&r=PG&f=1", "display_name": "uno", "link": "https://stackoverflow.com/users/5422500/uno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 34757804, "answer_count": 3, "score": 0, "last_activity_date": 1452702082, "creation_date": 1452651397, "question_id": 34757303, "link": "https://stackoverflow.com/questions/34757303/what-is-an-instance-in-rails", "title": "What is an instance in rails?", "body": "<p>I have this model. and my freind told me that . I should only have one <strong>INSTANCE</strong> on unique/confno . . </p>\n\n<p>Where is the instance here?</p>\n\n<pre><code>class Confbridge &lt; ActiveRecord::Base\n  has_many :confbridge_schedules, :dependent =&gt; :destroy\n\n  validates :confno, uniqueness: true, :allow_nil =&gt; true, :allow_blank =&gt; true\n\n :confno =&gt; confno, :circle =&gt; cid, :confbridge_id =&gt; id )\n\nend\n</code></pre>\n\n<p><strong>and how can i easily understance instance?</strong></p>\n\n<p>thanks :)</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "chef-infra", "chef-recipe", "chef-solo"], "answers": [{"comments": [{"owner": {"reputation": 8777, "user_id": 5632400, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dd1581444277a110a7b803f5ab4e4d14?s=128&d=identicon&r=PG&f=1", "display_name": "meallhour", "link": "https://stackoverflow.com/users/5632400/meallhour"}, "edited": false, "score": 0, "creation_date": 1452652710, "post_id": 34757394, "comment_id": 57260722, "body": "How can i use a role-pattern cookbook to solve my problem?"}, {"owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "reply_to_user": {"reputation": 8777, "user_id": 5632400, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dd1581444277a110a7b803f5ab4e4d14?s=128&d=identicon&r=PG&f=1", "display_name": "meallhour", "link": "https://stackoverflow.com/users/5632400/meallhour"}, "edited": false, "score": 0, "creation_date": 1452653299, "post_id": 34757394, "comment_id": 57260868, "body": "You would write one. Describing the full process is out of scope for SO."}, {"owner": {"reputation": 2215, "user_id": 1996540, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/609b69cbb09257883a4e32d7d5aff098?s=128&d=identicon&r=PG", "display_name": "ZedTuX", "link": "https://stackoverflow.com/users/1996540/zedtux"}, "edited": false, "score": 0, "creation_date": 1558423708, "post_id": 34757394, "comment_id": 99085382, "body": "The given link by @Tensibai is no more available/invalid"}], "tags": [], "owner": {"reputation": 43208, "user_id": 78722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf611565f0b79abd0b3dc200ad867661?s=128&d=identicon&r=PG", "display_name": "coderanger", "link": "https://stackoverflow.com/users/78722/coderanger"}, "is_accepted": false, "score": 1, "last_activity_date": 1452652065, "creation_date": 1452652065, "answer_id": 34757394, "question_id": 34756875, "link": "https://stackoverflow.com/questions/34756875/how-to-use-ohai-attributes-within-a-chef-role-that-is-defined-in-json-format/34757394#34757394", "title": "How to use OHAI attributes within a chef role that is defined in JSON format?", "body": "<p>You cannot use ohai data in roles, JSON format or otherwise. Roles are purely static data, converted to JSON during upload even if they are using the <code>.rb</code> DSL. anything dynamic must live in a cookbook, in this case probably a role-pattern cookbook.</p>\n"}], "owner": {"reputation": 8777, "user_id": 5632400, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dd1581444277a110a7b803f5ab4e4d14?s=128&d=identicon&r=PG&f=1", "display_name": "meallhour", "link": "https://stackoverflow.com/users/5632400/meallhour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452652065, "creation_date": 1452648264, "question_id": 34756875, "link": "https://stackoverflow.com/questions/34756875/how-to-use-ohai-attributes-within-a-chef-role-that-is-defined-in-json-format", "title": "How to use OHAI attributes within a chef role that is defined in JSON format?", "body": "<p>I want to know what is the correct way to assign <code>node['ipaddress']</code> OHAI attribute within the chef role. My chef role is defined in the <code>JSON format</code>.</p>\n\n<pre><code>{  \n  \"name\": \"temp_role\",  \n  \"description\": \"This is temp role\",  \n  \"json_class\": \"Chef::Role\",  \n  \"default_attributes\": {  \n\"client_addr\": #{node['ipaddress']}  \n  },  \n  \"override_attributes\": {  \n  },    \n  \"chef_type\": \"role\",  \n  \"run_list\": [  \n   \"recipe[test::prereq]\"  \n  ],  \n  \"env_run_lists\": {  \n  }  \n}  \n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-5", "actioncable"], "comments": [{"owner": {"reputation": 374, "user_id": 3957567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f518cff5b3250b015162a4023c67147?s=128&d=identicon&r=PG", "display_name": "John Kacz", "link": "https://stackoverflow.com/users/3957567/john-kacz"}, "edited": false, "score": 0, "creation_date": 1453397586, "post_id": 34756809, "comment_id": 57593926, "body": "Which version of Action Cabel you are on? Rails Beta1?"}, {"owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "reply_to_user": {"reputation": 374, "user_id": 3957567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f518cff5b3250b015162a4023c67147?s=128&d=identicon&r=PG", "display_name": "John Kacz", "link": "https://stackoverflow.com/users/3957567/john-kacz"}, "edited": false, "score": 0, "creation_date": 1453398975, "post_id": 34756809, "comment_id": 57594788, "body": "@JohnKacz yes, thats right"}, {"owner": {"reputation": 374, "user_id": 3957567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f518cff5b3250b015162a4023c67147?s=128&d=identicon&r=PG", "display_name": "John Kacz", "link": "https://stackoverflow.com/users/3957567/john-kacz"}, "edited": false, "score": 0, "creation_date": 1453407775, "post_id": 34756809, "comment_id": 57599939, "body": "It looks like you don&#39;t have a subscribed method defined in your MyChannel class. From the docs (<a href=\"https://github.com/rails/rails/tree/master/actioncable#channel-example-1-user-appearances\" rel=\"nofollow noreferrer\">link</a>): &quot;Simply calling <code>App.cable.subscriptions.create</code> will setup the subscription, which will call <code>AppearanceChannel#subscribed</code>&quot;"}, {"owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "reply_to_user": {"reputation": 374, "user_id": 3957567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f518cff5b3250b015162a4023c67147?s=128&d=identicon&r=PG", "display_name": "John Kacz", "link": "https://stackoverflow.com/users/3957567/john-kacz"}, "edited": false, "score": 0, "creation_date": 1453420722, "post_id": 34756809, "comment_id": 57605839, "body": "@JohnKacz No, that&#39;s not necessary"}, {"owner": {"reputation": 374, "user_id": 3957567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f518cff5b3250b015162a4023c67147?s=128&d=identicon&r=PG", "display_name": "John Kacz", "link": "https://stackoverflow.com/users/3957567/john-kacz"}, "edited": false, "score": 0, "creation_date": 1453823643, "post_id": 34756809, "comment_id": 57762836, "body": "Ok, sorry. I haven&#39;t done much with Action Cable yet (it&#39;s on my list), but why is it not necessary? Every example I&#39;m seeing the channel class has a subscribed method."}, {"owner": {"reputation": 1185, "user_id": 1299792, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a30020548296b36eeaae81a04a5e2594?s=128&d=identicon&r=PG", "display_name": "Marklar", "link": "https://stackoverflow.com/users/1299792/marklar"}, "edited": false, "score": 0, "creation_date": 1469148782, "post_id": 34756809, "comment_id": 64429616, "body": "Did you release your gem publicly?"}], "answers": [{"comments": [{"owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 0, "creation_date": 1457539021, "post_id": 35896385, "comment_id": 59453531, "body": "I think I tried all possible paths at time but I&#39;ll try it again to see if it works. Will it be exposed automatically in the gem, or do I&#39;ve to create a rails engine?"}, {"owner": {"reputation": 1498, "user_id": 3719597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7bLC.jpg?s=128&g=1", "display_name": "ollpu", "link": "https://stackoverflow.com/users/3719597/ollpu"}, "reply_to_user": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 0, "creation_date": 1457540671, "post_id": 35896385, "comment_id": 59454770, "body": "It is automatically exposed. By the way, I forgot to add the /application_cable part to the path. Remember to add that! I edited the post to add that in."}, {"owner": {"reputation": 1498, "user_id": 3719597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7bLC.jpg?s=128&g=1", "display_name": "ollpu", "link": "https://stackoverflow.com/users/3719597/ollpu"}, "reply_to_user": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 0, "creation_date": 1457541092, "post_id": 35896385, "comment_id": 59455036, "body": "Sorry, I didn&#39;t realize you were making a gem! You should make Cable aware of your channel somehow. I&#39;m afraid I can&#39;t help you with that."}, {"owner": {"reputation": 1498, "user_id": 3719597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7bLC.jpg?s=128&g=1", "display_name": "ollpu", "link": "https://stackoverflow.com/users/3719597/ollpu"}, "reply_to_user": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 0, "creation_date": 1457542165, "post_id": 35896385, "comment_id": 59455811, "body": "Okay, I had a look at the source. The classes are searched for in <a href=\"https://github.com/rails/rails/blob/master/actioncable/lib/action_cable/connection/subscriptions.rb#L29\" rel=\"nofollow noreferrer\">github.com/rails/rails/blob/master/actioncable/lib/action_ca&zwnj;&#8203;ble/&hellip;</a> . So you should somehow get your class onto that list."}, {"owner": {"reputation": 1498, "user_id": 3719597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7bLC.jpg?s=128&g=1", "display_name": "ollpu", "link": "https://stackoverflow.com/users/3719597/ollpu"}, "reply_to_user": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "edited": false, "score": 1, "creation_date": 1457542656, "post_id": 35896385, "comment_id": 59456158, "body": "Aand I had another look at the source. The classes are loaded in <a href=\"https://github.com/rails/rails/blob/master/actioncable/lib/action_cable/server/base.rb#L61\" rel=\"nofollow noreferrer\">github.com/rails/rails/blob/master/actioncable/lib/action_ca&zwnj;&#8203;ble/&hellip;</a> . The config.channel_paths -list is accessible through ActionCable.server.config in initializers. Hope this helps!"}], "tags": [], "owner": {"reputation": 1498, "user_id": 3719597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7bLC.jpg?s=128&g=1", "display_name": "ollpu", "link": "https://stackoverflow.com/users/3719597/ollpu"}, "is_accepted": false, "score": 3, "last_activity_date": 1457542726, "last_edit_date": 1457542726, "creation_date": 1457538866, "answer_id": 35896385, "question_id": 34756809, "link": "https://stackoverflow.com/questions/34756809/actioncable-channel-not-accessible-outside-rails-plugin/35896385#35896385", "title": "ActionCable channel not accessible outside rails plugin", "body": "<p><strong>This answer doesn't apply to gems, only making channels within a Rails app.</strong></p>\n\n<p>Your <code>my_channel.rb</code> is located in the wrong place. I'm not sure if behaviour has changed between the betas (I'm using beta3), but it should be located in <code>app/channels/application_cable/</code>.</p>\n\n<p>I was experiencing the same issue, and realized my channel file was named inappropriately (<code>host.rb</code> instead of <code>host_channel.rb</code>). After renaming the file, it started working.</p>\n\n<p>I believe the channel files are only searched for with the specific location and naming scheme (<code>app/channels/application_cable/*_channel.rb</code>) by default.</p>\n"}], "owner": {"reputation": 16822, "user_id": 560073, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-A_vJq0ilPI8/AAAAAAAAAAI/AAAAAAAAAJI/dKesA-ExUzA/photo.jpg?sz=128", "display_name": "Linus Oleander", "link": "https://stackoverflow.com/users/560073/linus-oleander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3054, "favorite_count": 2, "answer_count": 1, "score": 14, "last_activity_date": 1457542726, "creation_date": 1452647803, "question_id": 34756809, "link": "https://stackoverflow.com/questions/34756809/actioncable-channel-not-accessible-outside-rails-plugin", "title": "ActionCable channel not accessible outside rails plugin", "body": "<p>I'm trying to create a gem which exposes an ActionCable channel, but I can't get it to work.</p>\n\n<p>This is my gem</p>\n\n<pre><code># lib/my_channel.rb\nclass MyChannel &lt; ActionCable::Channel::Base\n  def wait(data)\n    # logic ...\n  end\nend\n\n# lib/engine.rb\nmodule MyApp\n  class Engine &lt; ::Rails::Engine\n    isolate_namespace MyApp\n  end\nend\n</code></pre>\n\n<p>I then add the gem to my main applications <code>Gemfile</code>, run <code>bundle install</code>, start up the console and run <code>MyChannel</code>. Which don't yield and error, meaning that the channel as been included properly.</p>\n\n<p>I then add this to my main application</p>\n\n<pre><code>// application.js\nvar socket = \"ws://localhost:3000/cable\";\nvar cable = ActionCable.createConsumer(socket);\ncable.subscriptions.create({ \"channel\": \"MyChannel\" }, {\n  received: function(){\n    // ...\n  }\n});\n</code></pre>\n\n<p>But I'm getting this error</p>\n\n<pre><code>Subscription class not found ({\"command\"=&gt;\"subscribe\", \"identifier\"=&gt;\"{\\\"channel\\\":\\\"MyChannel\\\"}\"})\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["ruby", "docker", "rubygems"], "comments": [{"owner": {"reputation": 2374, "user_id": 1129040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f3d99e0d102df8d69ade3097354cb32?s=128&d=identicon&r=PG", "display_name": "Evgeny Chernyavskiy", "link": "https://stackoverflow.com/users/1129040/evgeny-chernyavskiy"}, "edited": false, "score": 0, "creation_date": 1452654138, "post_id": 34756737, "comment_id": 57261046, "body": "Not sure for what reasons exactly you&#39;re trying to avoid having build tools in the image, but doesn&#39;t simply uninstalling them in a <code>RUN</code> step after <code>bundle install</code> accomplish what you want?"}, {"owner": {"reputation": 547, "user_id": 433483, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/91191b529664e649054925bb9ca4f04e?s=128&d=identicon&r=PG", "display_name": "jvergeldedios", "link": "https://stackoverflow.com/users/433483/jvergeldedios"}, "reply_to_user": {"reputation": 2374, "user_id": 1129040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f3d99e0d102df8d69ade3097354cb32?s=128&d=identicon&r=PG", "display_name": "Evgeny Chernyavskiy", "link": "https://stackoverflow.com/users/1129040/evgeny-chernyavskiy"}, "edited": false, "score": 0, "creation_date": 1452710094, "post_id": 34756737, "comment_id": 57293871, "body": "@EvgenyChernyavskiy My understanding is that because Docker uses a union file system even if you uninstall or delete things in a <code>RUN</code> step the files are still accessible in the image. As for why I don&#39;t want build tools in the image, one is because of bloat, two is because of attack surface. If build tools aren&#39;t installed an attacker doesn&#39;t have the option of compiling arbitrary code on my machines."}, {"owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1452710808, "post_id": 34756737, "comment_id": 57294360, "body": "@jvergeldedios more importantly, this is about building the <i>right</i> execution environment, the one which contains <i>only</i> what you need to run your service instead of including as well a bunch of unrelated tools (needed at some point to build parts of the service): you want to end up with an environment not polluted by side-effects introduced by the presence of said unrelated tools. Hence my option 3 detailed below."}, {"owner": {"reputation": 547, "user_id": 433483, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/91191b529664e649054925bb9ca4f04e?s=128&d=identicon&r=PG", "display_name": "jvergeldedios", "link": "https://stackoverflow.com/users/433483/jvergeldedios"}, "edited": false, "score": 0, "creation_date": 1452723179, "post_id": 34756737, "comment_id": 57301133, "body": "There&#39;s some good discussion around this here: <a href=\"http://security.stackexchange.com/questions/12113/installing-development-tools-on-production-server-security-risk\" title=\"installing development tools on production server security risk\">security.stackexchange.com/questions/12113/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 547, "user_id": 433483, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/91191b529664e649054925bb9ca4f04e?s=128&d=identicon&r=PG", "display_name": "jvergeldedios", "link": "https://stackoverflow.com/users/433483/jvergeldedios"}, "edited": false, "score": 0, "creation_date": 1452711335, "post_id": 34759675, "comment_id": 57294718, "body": "So for example, if I wanted a base Ruby image the steps would be to build Ruby in one image, create a package from the resulting binaries, add that package to a volume on that image, mount that volume in a new image, install the package? Then for my application dependencies I would use my new base image, build the native dependencies on the host (assuming the architecture is the same) and just copy them into the image in my Dockerfile."}, {"owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 547, "user_id": 433483, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/91191b529664e649054925bb9ca4f04e?s=128&d=identicon&r=PG", "display_name": "jvergeldedios", "link": "https://stackoverflow.com/users/433483/jvergeldedios"}, "edited": false, "score": 0, "creation_date": 1452711394, "post_id": 34759675, "comment_id": 57294755, "body": "@jvergeldedios yes, that is the idea, that I used multiple time whenever a tool/package was not directly available."}, {"owner": {"reputation": 1702, "user_id": 446220, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ef06aba3fec716664adf74b3e7c0af56?s=128&d=identicon&r=PG", "display_name": "psmith", "link": "https://stackoverflow.com/users/446220/psmith"}, "edited": false, "score": 0, "creation_date": 1473221295, "post_id": 34759675, "comment_id": 66051381, "body": "This seems like a simpler approach to achieve the reduced image size: <a href=\"http://blog.kontena.io/building-minimal-docker-image-for-rails/\" rel=\"nofollow noreferrer\">blog.kontena.io/building-minimal-docker-image-for-rails</a>"}, {"owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 1702, "user_id": 446220, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ef06aba3fec716664adf74b3e7c0af56?s=128&d=identicon&r=PG", "display_name": "psmith", "link": "https://stackoverflow.com/users/446220/psmith"}, "edited": false, "score": 0, "creation_date": 1473230011, "post_id": 34759675, "comment_id": 66054424, "body": "@psmith Thank you. I have included your comment in the answer for more visibility (as well as a reason why my approach is needed in my case)"}], "tags": [], "owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": true, "score": 3, "last_activity_date": 1473229978, "last_edit_date": 1495541778, "creation_date": 1452665837, "answer_id": 34759675, "question_id": 34756737, "link": "https://stackoverflow.com/questions/34756737/how-do-i-build-a-docker-image-for-a-ruby-project-without-build-tools/34759675#34759675", "title": "How do I build a Docker image for a Ruby project without build tools?", "body": "<p>I use option 3 all the time, the goal being to end up with an image which has only what I need to <em>run</em> (not to compile)</p>\n\n<p>For example, <a href=\"https://github.com/VonC/b2d/blob/9a532a80de6a0a30656ac9488f200ee072283d16/apache/build#L6-L14\" rel=\"nofollow noreferrer\">here I build and install Apache first</a>, before using the resulting image as a base image for my (patched and recompiled) Apache setup.</p>\n\n<p>Build:</p>\n\n<pre><code>if [ \"$(docker images -q apache.deb 2&gt; /dev/null)\" = \"\" ]; then\n  docker build -t apache.deb -f Dockerfile.build . || exit 1\nfi\n</code></pre>\n\n<p>The <a href=\"https://github.com/VonC/b2d/blob/9a532a80de6a0a30656ac9488f200ee072283d16/apache/Dockerfile.build#L29-L31\" rel=\"nofollow noreferrer\">Dockerfile.build</a> declares a volume which contains the resulting Apache recompiled (in a deb file)</p>\n\n<pre><code>RUN checkinstall --pkgname=apache2-4 --pkgversion=\"2.4.10\" --backup=no --deldoc=yes --fstrans=no --default\nRUN mkdir $HOME/deb &amp;&amp; mv *.deb $HOME/deb\nVOLUME /root/deb\n</code></pre>\n\n<p>Installation:</p>\n\n<pre><code>if [ \"$(docker images -q apache.inst 2&gt; /dev/null)\" = \"\" ]; then\n    docker inspect apache.deb.cont &gt; /dev/null 2&gt;&amp;1 || docker run -d -t --name=apache.deb.cont apache.deb\n    docker inspect apache.inst.cont &gt; /dev/null 2&gt;&amp;1 || docker run -u root -it --name=apache.inst.cont --volumes-from apache.deb.cont --entrypoint \"/bin/sh\" openldap -c \"dpkg -i /root/deb/apache2-4_2.4.10-1_amd64.deb\"\n    docker commit apache.inst.cont apache.inst\n    docker rm apache.deb.cont apache.inst.cont\nfi\n</code></pre>\n\n<p>Here I install the deb using another image (in my case 'openldap') as a base image:</p>\n\n<pre><code>docker run -u root -it --name=apache.inst.cont --volumes-from apache.deb.cont --entrypoint \"/bin/sh\" openldap -c \"dpkg -i /root/deb/apache2-4_2.4.10-1_amd64.deb\"\ndocker commit apache.inst.cont apache.inst\n</code></pre>\n\n<p>Finally I have a <a href=\"http://docker%20commit%20apache.inst.cont%20apache.inst\" rel=\"nofollow noreferrer\">regular Dockerfile</a> starting from the image I just committed.</p>\n\n<pre><code>FROM apache.inst:latest\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/users/446220/psmith\">psmith</a> points out in the comments to <a href=\"http://blog.kontena.io/building-minimal-docker-image-for-rails/\" rel=\"nofollow noreferrer\">Building Minimal Docker Image for Rails App</a> from <a href=\"https://twitter.com/kolehja\" rel=\"nofollow noreferrer\">Jari Kolehmainen</a>.<br>\nFor a ruby application, you can remove the part needed for the build easily with:</p>\n\n<pre><code>bundle install --without development test &amp;&amp; \\\napk del build-dependencies\n</code></pre>\n\n<p>Since ruby is needed to <em>run</em> the application anyway, that works great in this case.</p>\n\n<p>I my case, I still need a separate image for building, as <code>gcc</code> is not needed to run Apache (and it is quite large, comes with multiple dependencies, some of them needed by Apache at runtime, some not...)</p>\n"}], "owner": {"reputation": 547, "user_id": 433483, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/91191b529664e649054925bb9ca4f04e?s=128&d=identicon&r=PG", "display_name": "jvergeldedios", "link": "https://stackoverflow.com/users/433483/jvergeldedios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 1, "accepted_answer_id": 34759675, "answer_count": 1, "score": 1, "last_activity_date": 1473229978, "creation_date": 1452647313, "question_id": 34756737, "link": "https://stackoverflow.com/questions/34756737/how-do-i-build-a-docker-image-for-a-ruby-project-without-build-tools", "title": "How do I build a Docker image for a Ruby project without build tools?", "body": "<p>I'm trying to build a Docker image for a Ruby project. The problem is the project has some gem dependencies that need to build native extensions. My understanding is that I have a couple of choices:</p>\n\n<ol>\n<li>Start with a base image that already has build tools installed.</li>\n<li>Use a base image with no build tools, install build tools as a step in the Dockerfile before running <code>bundle install</code>.</li>\n<li>Precompile the native extensions on the host, vendorize the gem, and simply copy the resulting bundle into the image.</li>\n</ol>\n\n<p>1 &amp; 2 seem to require that the resulting image contains the build tools needed to build the native extensions. I'm trying to avoid that scenario for security reasons. 3 is cumbersome, but doable, and would accomplish what I want.</p>\n\n<p>Are there any options I'm missing or am I misunderstanding something?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 28138, "user_id": 337166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fKzgt.jpg?s=128&g=1", "display_name": "jvnill", "link": "https://stackoverflow.com/users/337166/jvnill"}, "edited": false, "score": 0, "creation_date": 1452648036, "post_id": 34756731, "comment_id": 57259469, "body": "swap 2:00pm and 8:00am.  first argument should be the lower value and 8:00am comes first before 2:00pm."}, {"owner": {"reputation": 32896, "user_id": 1276506, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7149d2bc15314277ac69357ef7251650?s=128&d=identicon&r=PG", "display_name": "boulder_ruby", "link": "https://stackoverflow.com/users/1276506/boulder-ruby"}, "edited": false, "score": 0, "creation_date": 1452649526, "post_id": 34756731, "comment_id": 57259908, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1074309/how-do-i-download-a-picture-using-ruby\">How do I download a picture using ruby?</a>"}, {"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "reply_to_user": {"reputation": 32896, "user_id": 1276506, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7149d2bc15314277ac69357ef7251650?s=128&d=identicon&r=PG", "display_name": "boulder_ruby", "link": "https://stackoverflow.com/users/1276506/boulder-ruby"}, "edited": false, "score": 0, "creation_date": 1452651377, "post_id": 34756731, "comment_id": 57260420, "body": "@boulder_ruby Did you paste the wrong link by mistake?"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1745190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c432b829ab6f01f221e56a3586b8d296?s=128&d=identicon&r=PG", "display_name": "updater", "link": "https://stackoverflow.com/users/1745190/updater"}, "edited": false, "score": 0, "creation_date": 1452649327, "post_id": 34756862, "comment_id": 57259851, "body": "But it not working(or i do something wrong). I want 9 if evening or night. If &#39;normal during day&#39; - 4"}], "tags": [], "owner": {"reputation": 28138, "user_id": 337166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fKzgt.jpg?s=128&g=1", "display_name": "jvnill", "link": "https://stackoverflow.com/users/337166/jvnill"}, "is_accepted": true, "score": 2, "last_activity_date": 1452662841, "last_edit_date": 1452662841, "creation_date": 1452648158, "answer_id": 34756862, "question_id": 34756731, "link": "https://stackoverflow.com/questions/34756731/check-time-between-2pm-and-8am/34756862#34756862", "title": "Check time between 2pm and 8am", "body": "<p>swap 2:00pm and 8:00am. first argument should be the lower value and 8:00am comes first before 2:00pm.</p>\n\n<pre><code>[3] pry(main)&gt; Time.current\n=&gt; 2016-01-13 09:21:14 +0800\n[4] pry(main)&gt; Time.current.between?(Time.parse('9:00am'), Time.parse('2:00pm'))\n=&gt; true\n[5] pry(main)&gt; Time.parse('1:00am').between?(Time.parse('9:00am'), Time.parse('2:00pm'))\n=&gt; false\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>You can also use <code>Time.current.hour.between?(9, 16)</code></p>\n"}], "owner": {"reputation": 667, "user_id": 1745190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c432b829ab6f01f221e56a3586b8d296?s=128&d=identicon&r=PG", "display_name": "updater", "link": "https://stackoverflow.com/users/1745190/updater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 34756862, "answer_count": 1, "score": 0, "last_activity_date": 1452662841, "creation_date": 1452647268, "last_edit_date": 1452649979, "question_id": 34756731, "link": "https://stackoverflow.com/questions/34756731/check-time-between-2pm-and-8am", "title": "Check time between 2pm and 8am", "body": "<p>How to check if time is between 2pm and 8am ? This is not working:</p>\n\n<pre><code>value = Time.current.between?(Time.parse(\"2:00pm\"), Time.parse(\"8:00am\")) ? 9 : 4\n</code></pre>\n\n<p>If time is 1AM it should return 9, else 4(I want 9 if evening or night. If 'normal during day' - 4)\nAny idea?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "cron"], "comments": [{"owner": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1452649548, "post_id": 34756448, "comment_id": 57259918, "body": "what happens when you run <code>bin&#47;rails runner -e production Listing.process_unanswered_messages</code> from current folder ?"}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "reply_to_user": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1452699428, "post_id": 34756448, "comment_id": 57286319, "body": "Let me try that and will let you know ASAP. Thanks @Nithin"}, {"owner": {"reputation": 3543, "user_id": 2231236, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ZyG2H.jpg?s=128&g=1", "display_name": "Nithin", "link": "https://stackoverflow.com/users/2231236/nithin"}, "edited": false, "score": 0, "creation_date": 1452700847, "post_id": 34756448, "comment_id": 57287481, "body": "also make sure the release version id in cron file is being matched to current one."}], "answers": [{"comments": [{"owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "reply_to_user": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452648218, "post_id": 34756650, "comment_id": 57259526, "body": "you redirected process <code>stderr</code> and <code>stdout</code> streams to <code>&#47;tmp&#47;cron_debug.log</code> but not cron log. <code>&gt;&gt;&#47;tmp&#47;cron_debug.log 2&gt;&amp;1</code> this is not cron log, this is just stream redirect <a href=\"http://www.tldp.org/LDP/abs/html/io-redirection.html\" rel=\"nofollow noreferrer\">tldp.org/LDP/abs/html/io-redirection.html</a>"}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452648683, "post_id": 34756650, "comment_id": 57259651, "body": "Ok I see thanks for the help! Now, how can I access the cron logs? I have no cron file in <code>&#47;var&#47;log&#47;</code>."}, {"owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "reply_to_user": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452648788, "post_id": 34756650, "comment_id": 57259678, "body": "Which distro you using?"}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452648868, "post_id": 34756650, "comment_id": 57259708, "body": "Ubuntu 14.04.2 LTS (GNU/Linux 4.1.5-x86_64-linode61 x86_64)"}, {"owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "reply_to_user": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452649178, "post_id": 34756650, "comment_id": 57259799, "body": "<code>grep CRON &#47;var&#47;log&#47;syslog</code>"}], "tags": [], "owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "is_accepted": false, "score": 1, "last_activity_date": 1452646748, "creation_date": 1452646748, "answer_id": 34756650, "question_id": 34756448, "link": "https://stackoverflow.com/questions/34756448/cron-job-not-running-on-prod-linux-server-using-whenever-gem/34756650#34756650", "title": "Cron Job not running on prod Linux server using Whenever gem", "body": "<p>Check out cron log in <code>journalctl</code> or <code>/var/log/</code> directory (distro dependent).</p>\n\n<p>Also check out quote escaping like this <code>'\\''Listing.listing_weekly_activity_reminder'\\''</code></p>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 1720344, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TYlxm.png?s=128&g=1", "display_name": "damoiser", "link": "https://stackoverflow.com/users/1720344/damoiser"}, "is_accepted": false, "score": 1, "last_activity_date": 1452782309, "last_edit_date": 1492085627, "creation_date": 1452703475, "answer_id": 34772293, "question_id": 34756448, "link": "https://stackoverflow.com/questions/34756448/cron-job-not-running-on-prod-linux-server-using-whenever-gem/34772293#34772293", "title": "Cron Job not running on prod Linux server using Whenever gem", "body": "<p>Looking at your logs seems that the user that runs the crons has some issues with the rights/permissions:</p>\n\n<pre><code>Jan 13 01:10:44 localhost cron[7009]: (CRON) DEATH (can't open or create /var/run/crond.pid: Permission denied)\nJan 13 01:10:56 localhost cron[7016]: (CRON) DEATH (can't lock /var/run/crond.pid, otherpid may be 3604: Resource temporarily unavailable)\n</code></pre>\n\n<p>Try to follow this solution to see if this help: <a href=\"https://serverfault.com/questions/274434/cron-permission-denied-on-everything\">https://serverfault.com/questions/274434/cron-permission-denied-on-everything</a></p>\n\n<p>Changing the execution-rights and the user-permission could probably solve this.</p>\n"}], "owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452782309, "creation_date": 1452645401, "last_edit_date": 1495540321, "question_id": 34756448, "link": "https://stackoverflow.com/questions/34756448/cron-job-not-running-on-prod-linux-server-using-whenever-gem", "title": "Cron Job not running on prod Linux server using Whenever gem", "body": "<p>Everything works fine locally, I set up a time-driven job which calls certain class methods at different intervals (sends emails based on certain factors):</p>\n\n<pre><code>set :output, \"&amp;&gt;&gt;/tmp/cron_debug.log\"\n\nevery 2.days, :at =&gt; '4:00 am' do\n  runner \"Listing.listing_weekly_activity_reminder\"\nend\n\nevery 2.days, :at =&gt; '5:00 am' do\n  runner \"Listing.listing_biweekly_activity_reminder\"\nend\n\nevery 2.days, :at =&gt; '6:00 am' do\n  runner \"Listing.listing_last_activity_reminder\"\nend\n\nevery 1.day, :at =&gt; '7:00 am' do\n  runner \"Listing.process_unanswered_messages\"\nend\n</code></pre>\n\n<p>I deploy using <a href=\"http://capistranorb.com/#\" rel=\"nofollow noreferrer\">Capistrano v3</a> as shown in the <a href=\"https://github.com/javan/whenever#capistrano-v3-integration\" rel=\"nofollow noreferrer\">Whenever docs</a></p>\n\n<p>Capfile:</p>\n\n<pre><code>require 'whenever/capistrano'\n</code></pre>\n\n<p>Now I ssh'ed into my prod server and followed the same steps outlined in <a href=\"https://stackoverflow.com/a/13257752/3307520\">THIS</a> answer.</p>\n\n<p><code>crontab -l</code>:</p>\n\n<pre><code># Begin Whenever generated tasks for: /data/nestie.co/releases/20160112014954/config/schedule.rb\n0 4 1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31 * * /bin/bash -l -c 'cd /data/nestie.co/releases/20160112014954 &amp;&amp; bin/rails runner -e production '\\''Listing.listing_weekly_activity_reminder'\\'' &gt;&gt; &amp;&gt;&gt;/tmp/cron_debug.log 2&gt;&amp;1'\n\n0 5 1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31 * * /bin/bash -l -c 'cd /data/nestie.co/releases/20160112014954 &amp;&amp; bin/rails runner -e production '\\''Listing.listing_biweekly_activity_reminder'\\'' &gt;&gt; &amp;&gt;&gt;/tmp/cron_debug.log 2&gt;&amp;1'\n\n0 6 1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31 * * /bin/bash -l -c 'cd /data/nestie.co/releases/20160112014954 &amp;&amp; bin/rails runner -e production '\\''Listing.listing_last_activity_reminder'\\'' &gt;&gt; &amp;&gt;&gt;/tmp/cron_debug.log 2&gt;&amp;1'\n\n0 7 * * * /bin/bash -l -c 'cd /data/nestie.co/releases/20160112014954 &amp;&amp; bin/rails runner -e production '\\''Listing.process_unanswered_messages'\\'' &gt;&gt; &amp;&gt;&gt;/tmp/cron_debug.log 2&gt;&amp;1'\n\n# End Whenever generated tasks for: /data/nestie.co/releases/20160112014954/config/schedule.rb\n</code></pre>\n\n<p><strong>UPDATE</strong>\nThe output of \n<code>grep CRON /var/log/syslog</code>:</p>\n\n<pre><code>Jan 12 06:35:01 localhost CRON[10670]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 06:45:01 localhost CRON[10913]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 06:55:01 localhost CRON[11156]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 07:00:01 localhost CRON[11279]: (deploy) CMD (/bin/bash -l -c 'cd /data/nestie.co/releases/20160112014954 &amp;&amp; bin/rails runner -e production '\\''Listing.process_unanswered_messages'\\'' &gt;&gt; &amp;&gt;&gt;/tmp/cron_debug.log 2&gt;&amp;1')\nJan 12 07:00:02 localhost CRON[11278]: (CRON) info (No MTA installed, discarding output)\nJan 12 07:17:01 localhost CRON[11758]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 07:25:01 localhost CRON[11953]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 07:35:01 localhost CRON[12196]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nDec 24 15:05:01 localhost CRON[12438]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 07:45:01 localhost CRON[12439]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 08:17:01 localhost CRON[13219]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nDec 24 15:45:01 localhost CRON[13413]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 08:25:01 localhost CRON[13414]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nDec 24 15:55:01 localhost CRON[13656]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 08:35:01 localhost CRON[13657]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 08:45:01 localhost CRON[13900]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 08:55:01 localhost CRON[14143]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:05:01 localhost CRON[14527]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:15:01 localhost CRON[14770]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:17:01 localhost CRON[14821]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 09:25:01 localhost CRON[15016]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:35:01 localhost CRON[15259]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:45:01 localhost CRON[15502]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 09:55:01 localhost CRON[15745]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:05:01 localhost CRON[15993]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:15:01 localhost CRON[16236]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:17:01 localhost CRON[16287]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 10:25:01 localhost CRON[16482]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:35:01 localhost CRON[16725]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:45:01 localhost CRON[16968]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 10:55:01 localhost CRON[17211]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:05:01 localhost CRON[17454]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:15:01 localhost CRON[17697]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:17:01 localhost CRON[17748]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 11:25:01 localhost CRON[17943]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:35:01 localhost CRON[18186]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:45:01 localhost CRON[18429]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 11:55:01 localhost CRON[18672]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:05:01 localhost CRON[18915]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:15:01 localhost CRON[19158]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:17:01 localhost CRON[19209]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 12:25:01 localhost CRON[19404]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:35:01 localhost CRON[19647]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:45:01 localhost CRON[19890]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 12:55:01 localhost CRON[20133]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 13:35:01 localhost CRON[21108]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 13:45:01 localhost CRON[21351]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 13:55:01 localhost CRON[21594]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:05:01 localhost CRON[21837]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:15:01 localhost CRON[22080]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:17:01 localhost CRON[22131]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 14:25:01 localhost CRON[22326]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:35:01 localhost CRON[22610]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:45:01 localhost CRON[22853]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 14:55:01 localhost CRON[23096]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:05:01 localhost CRON[23339]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:15:01 localhost CRON[23582]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:17:01 localhost CRON[23633]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 15:25:01 localhost CRON[23828]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:35:01 localhost CRON[24071]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:45:01 localhost CRON[24314]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 15:55:01 localhost CRON[24557]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:05:01 localhost CRON[24805]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:15:01 localhost CRON[25048]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:17:01 localhost CRON[25099]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 16:25:01 localhost CRON[25294]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:35:01 localhost CRON[25537]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:45:01 localhost CRON[25781]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 16:55:01 localhost CRON[26026]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:05:01 localhost CRON[26269]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:15:01 localhost CRON[26512]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:17:01 localhost CRON[26563]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 17:25:01 localhost CRON[26758]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:35:01 localhost CRON[27001]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:45:01 localhost CRON[27244]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 17:55:01 localhost CRON[27487]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 18:05:01 localhost CRON[27730]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 18:15:01 localhost CRON[27973]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 18:17:01 localhost CRON[28024]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 18:25:01 localhost CRON[28219]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 18:35:01 localhost CRON[28668]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 18:55:01 localhost CRON[29183]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 19:15:01 localhost CRON[29670]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 19:17:01 localhost CRON[29721]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 19:25:01 localhost CRON[29916]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 19:35:01 localhost CRON[30159]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 19:45:01 localhost CRON[30402]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 19:55:01 localhost CRON[30671]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:05:01 localhost CRON[30914]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:15:01 localhost CRON[31157]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:17:01 localhost CRON[31208]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 20:25:01 localhost CRON[31643]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:35:01 localhost CRON[31887]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:45:01 localhost CRON[32131]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 20:55:01 localhost CRON[32375]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:05:01 localhost CRON[32618]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:15:01 localhost CRON[394]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:17:01 localhost CRON[446]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 21:25:01 localhost CRON[646]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:35:01 localhost CRON[898]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:45:01 localhost CRON[1141]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 21:55:01 localhost CRON[1389]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 22:05:01 localhost CRON[1651]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 22:15:01 localhost CRON[1894]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 22:17:01 localhost CRON[1945]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 22:25:01 localhost CRON[2281]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 22:55:01 localhost CRON[3040]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 23:15:01 localhost CRON[3554]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan  4 17:25:01 localhost CRON[3607]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 23:17:01 localhost CRON[3607]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 12 23:25:01 localhost CRON[3802]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 12 23:59:01 localhost CRON[4633]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 60 2)\nJan 13 00:05:01 localhost CRON[4780]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 00:15:01 localhost CRON[5385]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 00:17:01 localhost CRON[5437]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 13 00:25:01 localhost CRON[5747]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 00:35:01 localhost CRON[6105]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 00:45:01 localhost CRON[6354]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 00:55:01 localhost CRON[6597]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:10:44 localhost cron[7009]: (CRON) DEATH (can't open or create /var/run/crond.pid: Permission denied)\nJan 13 01:10:56 localhost cron[7016]: (CRON) DEATH (can't lock /var/run/crond.pid, otherpid may be 3604: Resource temporarily unavailable)\nDec 26 07:25:01 localhost CRON[7026]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:11:36 localhost cron[7042]: (CRON) DEATH (can't open or create /var/run/crond.pid: Permission denied)\nJan 13 01:15:01 localhost CRON[7152]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:17:01 localhost CRON[7203]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 13 01:25:01 localhost CRON[7399]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:35:01 localhost CRON[7841]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:45:01 localhost CRON[8084]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 01:55:01 localhost CRON[8327]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 02:05:01 localhost CRON[8570]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 02:15:01 localhost CRON[8814]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\nJan 13 02:17:01 localhost CRON[8865]: (root) CMD (   cd / &amp;&amp; run-parts --report /etc/cron.hourly)\nJan 13 02:25:01 localhost CRON[9060]: (root) CMD (command -v debian-sa1 &gt; /dev/null &amp;&amp; debian-sa1 1 1)\ndeploy@localhost:~$ sudo grep CRON /var/log/syslog\n</code></pre>\n\n<p>After 2 days of digging around I am still clueless...!</p>\n"}, {"tags": ["javascript", "ruby", "angularjs", "middleman"], "answers": [{"comments": [{"owner": {"reputation": 1534, "user_id": 2439580, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YTXZ5.jpg?s=128&g=1", "display_name": "stilllife", "link": "https://stackoverflow.com/users/2439580/stilllife"}, "edited": false, "score": 0, "creation_date": 1452679159, "post_id": 34761333, "comment_id": 57272164, "body": "I&#39;ve tried <code>url_for</code> like this:      <code>when(&#39;&#47;dashboard&#39;, {                 templateUrl: &#39;&lt;%= url_for(&quot;templates&#47;dashboard.html&quot;) %&gt;&#39;</code>  but it didn&#39;t take into account the asset hash"}], "tags": [], "owner": {"reputation": 7994, "user_id": 1625339, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b8ba46f911517c8b2ccc39e0be9050c0?s=128&d=identicon&r=PG", "display_name": "Aetherus", "link": "https://stackoverflow.com/users/1625339/aetherus"}, "is_accepted": false, "score": 0, "last_activity_date": 1452672422, "creation_date": 1452672422, "answer_id": 34761333, "question_id": 34756218, "link": "https://stackoverflow.com/questions/34756218/middleman-asset-hash-with-angular-templateurl/34761333#34761333", "title": "Middleman asset_hash with Angular templateUrl", "body": "<p>I must tell you that I didn't meet this problem (All my js, css and images are hashed, but html files are not). Here is my Gemfile</p>\n\n<p><strong>Gemfile</strong></p>\n\n<pre><code># If you do not have OpenSSL installed, update\n# the following line to use \"http://\" instead\nsource 'https://ruby.taobao.org'\n\ngem \"middleman\", \"~&gt;4.0.0\"\n\n# Live-reloading plugin\n# gem \"middleman-livereload\", \"~&gt; 3.2.0\"\n\n# For faster file watcher updates on Windows:\ngem \"wdm\", \"~&gt; 0.1.0\", :platforms =&gt; [:mswin, :mingw]\n\n# Windows does not come with time zone data\ngem \"tzinfo-data\", platforms: [:mswin, :mingw, :jruby]\n\ngem \"middleman-minify-html\"\n\ngem \"middleman-sprockets\", \"~&gt; 4.0.0.rc\"\n</code></pre>\n\n<p>And here is my <code>config.rb</code></p>\n\n<p><strong>config.rb</strong></p>\n\n<pre><code>set :css_dir, 'css'\n\nset :js_dir, 'app'\n\nset :images_dir, 'images'\n\nset :layout, false\n\n# Build-specific configuration\nconfigure :development do\n  set :backend, 'http://localhost:3000'\n  set :frontend, 'http://localhost:4567/#'\nend\n\nconfigure :build do\n  set :backend, 'https://api.example.com'\n  set :frontend, 'https://www.example.com/#'\n\n  # For example, change the Compass output style for deployment\n  activate :minify_css\n\n  # Minify Javascript on build\n  activate :minify_javascript\n\n  # Minify HTML files on build, requires gem `middleman-minify-html`\n  activate :minify_html\n\n  # Enable cache buster\n  activate :asset_hash\n\n  # gzip text files\n  activate :gzip\nend\n</code></pre>\n\n<p>You can see that I use Middleman 4.0.</p>\n\n<p>If your problem remains after upgrading middleman, maybe you can rename your js file to <code>xxx.js.erb</code> and try the helper <code>url_for</code>.</p>\n"}], "owner": {"reputation": 1534, "user_id": 2439580, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YTXZ5.jpg?s=128&g=1", "display_name": "stilllife", "link": "https://stackoverflow.com/users/2439580/stilllife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452672422, "creation_date": 1452643962, "question_id": 34756218, "link": "https://stackoverflow.com/questions/34756218/middleman-asset-hash-with-angular-templateurl", "title": "Middleman asset_hash with Angular templateUrl", "body": "<p>I am using Middleman with the <code>activate :asset_hash</code> option in order to compile assets with the hash to force cache invalidation. The problem is that I also load some html templated with Angular templateUrl like this:</p>\n\n<pre><code>function($routeProvider) {\n    $routeProvider.\n        when('/dashboard', {\n            templateUrl: 'templates/dashboard.html',\n....\n</code></pre>\n\n<p>but the <code>dashboard</code> file gets compiled with an hash like <code>templates/dashboard-cc1554f0.html</code> and so Angular doesn't find the file.</p>\n\n<p>Is there a way to pass within the Angular file the same hash that Middleman generates on build ?</p>\n"}, {"tags": ["ruby", "logging"], "answers": [{"tags": [], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "is_accepted": true, "score": 1, "last_activity_date": 1452669266, "creation_date": 1452669266, "answer_id": 34760503, "question_id": 34755890, "link": "https://stackoverflow.com/questions/34755890/ruby-logger-formatter-change-message-only/34760503#34760503", "title": "ruby Logger formatter change message only", "body": "<p>Based on the <a href=\"http://ruby-doc.org/stdlib-2.1.0/libdoc/logger/rdoc/Logger.html\" rel=\"nofollow\">example in documentation</a>, one can do the following:</p>\n\n<pre><code>require 'logger'\nlogger = Logger.new(STDOUT)\n\noriginal_formatter = Logger::Formatter.new\nlogger.formatter = proc { |severity, datetime, progname, msg|\n  original_formatter.call(severity, datetime, progname, \"[mymessage] #{msg}\\n\")\n}\n\nlogger.debug(\"I am a debug msg\")\nlogger.info(\"I am an info msg\")\n</code></pre>\n\n<p>Output of program:</p>\n\n<pre><code>D, [2016-01-13T12:45:47.354261 #11512] DEBUG -- : [mymessage] I am a debug msg\n\nI, [2016-01-13T12:45:47.354261 #11512]  INFO -- : [mymessage] I am an info msg\n</code></pre>\n"}], "owner": {"reputation": 3389, "user_id": 598093, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d6a1117d6211d32a2d286966efc7701?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/598093/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 34760503, "answer_count": 1, "score": 1, "last_activity_date": 1452669266, "creation_date": 1452642214, "question_id": 34755890, "link": "https://stackoverflow.com/questions/34755890/ruby-logger-formatter-change-message-only", "title": "ruby Logger formatter change message only", "body": "<p>I want to change only the <code>msg</code> part of the default_formatter in <a href=\"https://github.com/ruby/ruby/blob/23ccbdf52188b78427f41d75b1a4b81959ac9876/lib/logger.rb#L490-L531\" rel=\"nofollow\">Ruby 1.9.3 Logger</a>.\nHow can I do this?</p>\n\n<p>I know that I can do</p>\n\n<pre><code>logger.formatter = proc do |severity, datetime, progname, msg|\n   \"[mymessage] #{msg}\\n\"\nend\n</code></pre>\n\n<p>but then I lose the other default formatting of <code>severity, datetime, progname</code>.</p>\n\n<p>Ideally I'd like to just do <code>msg = \"[mymessage] \" + msg</code> and then execute the default formatter with this new <code>msg</code>.</p>\n"}, {"tags": ["c++", "c", "ruby", "ffi"], "answers": [{"comments": [{"owner": {"reputation": 336, "user_id": 1268096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe44f97581f87362589676aaeeabb29b?s=128&d=identicon&r=PG", "display_name": "Ramrod", "link": "https://stackoverflow.com/users/1268096/ramrod"}, "edited": false, "score": 0, "creation_date": 1452707885, "post_id": 34757066, "comment_id": 57292528, "body": "1) So, the &quot;important&quot; part for wrapping is everything to the left of the asterisk? 2) If there are double asterisks, is that then considered a pointer?"}, {"owner": {"reputation": 349, "user_id": 2976394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017122c70a04228a2558fd8089334d7e?s=128&d=identicon&r=PG&f=1", "display_name": "x64architecture", "link": "https://stackoverflow.com/users/2976394/x64architecture"}, "reply_to_user": {"reputation": 336, "user_id": 1268096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe44f97581f87362589676aaeeabb29b?s=128&d=identicon&r=PG", "display_name": "Ramrod", "link": "https://stackoverflow.com/users/1268096/ramrod"}, "edited": false, "score": 0, "creation_date": 1452742761, "post_id": 34757066, "comment_id": 57307394, "body": "For wrapping the important part is to the left. And for your second question its still a pointer (its a pointer that points to a pointer)."}, {"owner": {"reputation": 336, "user_id": 1268096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe44f97581f87362589676aaeeabb29b?s=128&d=identicon&r=PG", "display_name": "Ramrod", "link": "https://stackoverflow.com/users/1268096/ramrod"}, "edited": false, "score": 0, "creation_date": 1452751871, "post_id": 34757066, "comment_id": 57309854, "body": "Once I get everything wrapped I&#39;ll know for certain if this is right - thanks for your help! Now for me to sort out when  * is a pointer or indicative of something else (like a string)!"}], "tags": [], "owner": {"reputation": 349, "user_id": 2976394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017122c70a04228a2558fd8089334d7e?s=128&d=identicon&r=PG&f=1", "display_name": "x64architecture", "link": "https://stackoverflow.com/users/2976394/x64architecture"}, "is_accepted": false, "score": 1, "last_activity_date": 1452649526, "creation_date": 1452649526, "answer_id": 34757066, "question_id": 34755855, "link": "https://stackoverflow.com/questions/34755855/wrapping-a-c-function-with-ffi-for-ruby/34757066#34757066", "title": "Wrapping a C function with FFI for Ruby", "body": "<pre><code>attach_function :create_client, [:pointer, :string], :pointer\n</code></pre>\n\n<p>The <code>const char *</code> means its a c string the <code>const</code> part after only matters to the function your calling. See <a href=\"http://www.cplusplus.com/forum/beginner/103108/\" rel=\"nofollow\">this</a> for more details. The function you wrapped looks correct to me but im assuming you need more than this function which will be more complex.</p>\n\n<p>The FFI wiki has some good info <a href=\"https://github.com/ffi/ffi/wiki\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 336, "user_id": 1268096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe44f97581f87362589676aaeeabb29b?s=128&d=identicon&r=PG", "display_name": "Ramrod", "link": "https://stackoverflow.com/users/1268096/ramrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452649526, "creation_date": 1452641999, "last_edit_date": 1452642632, "question_id": 34755855, "link": "https://stackoverflow.com/questions/34755855/wrapping-a-c-function-with-ffi-for-ruby", "title": "Wrapping a C function with FFI for Ruby", "body": "<p>I admittedly struggle with C and C++, but I'm trying to wrap a C++ function (extern to 'C') in FFI but don't quite understand the syntax.</p>\n\n<p>The form of the externed C code is:  </p>\n\n<pre><code>Client *create_client(Address *address, const char * const foo){\n//make stuff  \n}\n</code></pre>\n\n<p>My question, specifically, is how to wrap that in Ruby using FFI? I <em>think</em> the constructor takes two pointers, so it would be of form:  </p>\n\n<pre><code>attach_function :create_client, [:pointer, :pointer], :pointer\n</code></pre>\n\n<p>But, on the other hand, the const char * const foo confuses me - should it be treated as a string like so:  </p>\n\n<pre><code>attach_function :create_client, [:pointer, :string], :pointer\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby", "time", "command-line", "io"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1452644006, "post_id": 34755754, "comment_id": 57258424, "body": "You are expected to do the work and come here with <i>specific</i> questions. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 27, "user_id": 5294673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53c8df5960a3bdde91a819e233e578bf?s=128&d=identicon&r=PG&f=1", "display_name": "MDB", "link": "https://stackoverflow.com/users/5294673/mdb"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452725454, "post_id": 34755754, "comment_id": 57302173, "body": "I apologize for the broad wording and large background.  I edited my question."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1452728835, "post_id": 34755754, "comment_id": 57303448, "body": "where exactly are you stuck? Do you know how to read the file? do you have any thoughts about how you might find the difference in minutes between those two times? (hint, you can express HH:MM as minutes since midnight) I could feed you an answer, but you haven&#39;t given any indication that you have tried to figure it out."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5294673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53c8df5960a3bdde91a819e233e578bf?s=128&d=identicon&r=PG&f=1", "display_name": "MDB", "link": "https://stackoverflow.com/users/5294673/mdb"}, "edited": false, "score": 0, "creation_date": 1452725504, "post_id": 34757883, "comment_id": 57302193, "body": "Thank you for all of your help.  Your links helped me tremendously, and I edited the example in my original post."}], "tags": [], "owner": {"reputation": 10076, "user_id": 4010391, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/NgRol.jpg?s=128&g=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/4010391/travis"}, "is_accepted": false, "score": 2, "last_activity_date": 1456347233, "last_edit_date": 1495542206, "creation_date": 1452655534, "answer_id": 34757883, "question_id": 34755754, "link": "https://stackoverflow.com/questions/34755754/time-difference-method-with-ruby/34757883#34757883", "title": "Time Difference Method with Ruby", "body": "<p>I'd suggest looking into <a href=\"http://ruby-doc.org/core-2.1.0/IO.html#method-c-readlines\" rel=\"nofollow noreferrer\">IO#readlines</a> for reading the content of your text file.</p>\n\n<p>Once you're able to work with each line, you can use <a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-split\" rel=\"nofollow noreferrer\">String#split</a> to obtain the information that you're looking to grab like so:</p>\n\n<pre><code>\"Work  Bertha 06:30 11:12\".split(' ')\n#=&gt; [\"Work\", \"Bertha\", \"06:30\", \"11:12\"]\n</code></pre>\n\n<p>Then you need the elapsed time between 2 time points. Ruby has <a href=\"http://ruby-doc.org/core-2.2.0/Time.html\" rel=\"nofollow noreferrer\">time</a> objects that can parse time from a string, but will set the date as the current date, which shouldn't matter for what you're working on.</p>\n\n<pre><code>require 'time'\nemployee = [\"Work\", \"Bertha\", \"06:30\", \"11:12\"]\nclock_in  = Time.parse(employee[2])\n#=&gt; 2016-01-12 06:30:00 -0600\nclock_out = Time.parse(employee[3])\n#=&gt; 2016-01-12 11:12:00 -0600\n</code></pre>\n\n<p>Time objects can be subtracted to find the change in time between the two. It'll return the time in seconds. You can add up all the seconds from times someone clocked in/out</p>\n\n<pre><code>clock_out - clock_in\n#=&gt; 16920.0\n</code></pre>\n\n<p>There are many ways to make this more of a human readable time format. I suggest starting <a href=\"https://stackoverflow.com/questions/4136248/how-to-generate-a-human-readable-time-range-using-ruby-on-rails\">here</a></p>\n"}], "owner": {"reputation": 27, "user_id": 5294673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53c8df5960a3bdde91a819e233e578bf?s=128&d=identicon&r=PG&f=1", "display_name": "MDB", "link": "https://stackoverflow.com/users/5294673/mdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1452661811, "answer_count": 1, "score": 0, "last_activity_date": 1456347233, "creation_date": 1452641387, "last_edit_date": 1452725410, "question_id": 34755754, "link": "https://stackoverflow.com/questions/34755754/time-difference-method-with-ruby", "closed_reason": "Needs more focus", "title": "Time Difference Method with Ruby", "body": "<p>I have been tasked with building a simple Ruby app that does two things:</p>\n\n<p>Registers new users with a New command\nShows their time difference with Work command</p>\n\n<p>It would be for an office building and the purpose would be to keep track of total hours worked.</p>\n\n<p>I am also supposed to pull this information from a .txt file like so:</p>\n\n<pre><code>New Aaron\nNew Bertha\nNew Charles\nWork  Bertha 06:30 11:12\nWork  Bertha 12:03 16:17\nWork  Charles 07:52 17:02\n</code></pre>\n\n<p>With the time expressed in only minutes and hours.  I don't think anyone would be working past midnight.  This is the part that really confuses me, as I am having a lot of trouble trying to find the difference in their times for work, as shown in an expected output .txt file:</p>\n\n<pre><code>Aaron: 0 hours 0 minutes\nBertha: 8 hours 52 minutes\nCharles: 9 hours 10 minutes\n</code></pre>\n\n<p>Once again, I am <strong>ONLY</strong> asking for help with finding the difference in each individual's time for work.</p>\n\n<p>Any and all help would be appreciated.</p>\n"}, {"tags": ["ruby"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5781478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5063f92b8803d24470dc7acc41d49f5?s=128&d=identicon&r=PG&f=1", "display_name": "Amidabrian", "link": "https://stackoverflow.com/users/5781478/amidabrian"}, "edited": false, "score": 0, "creation_date": 1452641773, "post_id": 34755726, "comment_id": 57257696, "body": "Do you mean?  class Person   def initialize(name)     @name = name   end      def greet(other_name)     &quot;Hi #{other_name}, my name is #{@name}&quot;     return other_name   end en"}, {"owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "reply_to_user": {"reputation": 35, "user_id": 5781478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5063f92b8803d24470dc7acc41d49f5?s=128&d=identicon&r=PG&f=1", "display_name": "Amidabrian", "link": "https://stackoverflow.com/users/5781478/amidabrian"}, "edited": false, "score": 0, "creation_date": 1452642228, "post_id": 34755726, "comment_id": 57257871, "body": "@Amidabrian, yes. However, I&#39;m guessing you want to either return that value or print it. If you want to return it, delete the last line (<code>return other_name</code>). If you want to print it, put <code>puts</code> in front of the string: <code>puts &quot;Hi #{other_name}, my name is #{@name}&quot;</code>."}, {"owner": {"reputation": 35, "user_id": 5781478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5063f92b8803d24470dc7acc41d49f5?s=128&d=identicon&r=PG&f=1", "display_name": "Amidabrian", "link": "https://stackoverflow.com/users/5781478/amidabrian"}, "edited": false, "score": 0, "creation_date": 1452643321, "post_id": 34755726, "comment_id": 57258242, "body": "Thanks for your help"}], "tags": [], "owner": {"reputation": 33085, "user_id": 2423164, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nxbnp.jpg?s=128&g=1", "display_name": "ndnenkov", "link": "https://stackoverflow.com/users/2423164/ndnenkov"}, "is_accepted": true, "score": 3, "last_activity_date": 1452641430, "last_edit_date": 1452641430, "creation_date": 1452641254, "answer_id": 34755726, "question_id": 34755705, "link": "https://stackoverflow.com/questions/34755705/it-is-giving-me-undefined-local-variable-error/34755726#34755726", "title": "It is giving me undefined local variable error?", "body": "<p>The problem is that <code>name</code> is a local variable only available in the constructor. To reference it as an instance variable in the greet method, use <code>#{@name}</code> instead of <code>#{name}</code>.</p>\n"}], "owner": {"reputation": 35, "user_id": 5781478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5063f92b8803d24470dc7acc41d49f5?s=128&d=identicon&r=PG&f=1", "display_name": "Amidabrian", "link": "https://stackoverflow.com/users/5781478/amidabrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 34755726, "answer_count": 1, "score": 0, "last_activity_date": 1452641430, "creation_date": 1452641139, "last_edit_date": 1452641400, "question_id": 34755705, "link": "https://stackoverflow.com/questions/34755705/it-is-giving-me-undefined-local-variable-error", "title": "It is giving me undefined local variable error?", "body": "<p>Not sure why this is giving me an error of </p>\n\n<blockquote>\n  <p>\"`greet': undefined local variable or method `name' for # (NameError) from `'</p>\n</blockquote>\n\n<pre><code>class Person\n  def initialize(name)\n    @name = name\n  end\n\n  def greet(other_name)\n    \"Hi #{other_name}, my name is #{name}\"\n    return other_name\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby", "cucumber", "xcode7", "calabash", "calabash-ios"], "comments": [{"owner": {"reputation": 778, "user_id": 2581843, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000141231384/picture?type=large", "display_name": "Sander Saelmans", "link": "https://stackoverflow.com/users/2581843/sander-saelmans"}, "edited": false, "score": 0, "creation_date": 1452640806, "post_id": 34755486, "comment_id": 57257334, "body": "Did you by any chance name your xcode differently than the default name? For example xCode 7.1 or xCode 7.2 etc? Calabash might be looking in de xCode 7.1 directory to find the 9.1 simulator, while it is in the xCode 7.2 directory. Also, what does your terminal say when you type &#39;xcode-select -p&#39;?"}, {"owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "reply_to_user": {"reputation": 778, "user_id": 2581843, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000141231384/picture?type=large", "display_name": "Sander Saelmans", "link": "https://stackoverflow.com/users/2581843/sander-saelmans"}, "edited": false, "score": 0, "creation_date": 1452649349, "post_id": 34755486, "comment_id": 57259854, "body": "As far as I can tell, Xcode is named Xcode everywhere.. I don&#39;t think that would be it, because my 8.4 simulator recognized it.. it&#39;s only when I switch to 9.1 simulator that I get those errors...  when I type &#39;xcode-select -p&#39; in the terminal, I get &quot;/Applications/Xcode.app/Contents/Developer&quot;"}, {"owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "edited": false, "score": 0, "creation_date": 1452675864, "post_id": 34755486, "comment_id": 57269814, "body": "Please use code formatting."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "edited": false, "score": 0, "creation_date": 1452702124, "post_id": 34762471, "comment_id": 57288450, "body": "yesssss, a combination of this worked. what i did was i updated the run-loop and calabash-ios version in gemfile.lock file.. when i updated the calabash framework yesterday, there was still a mismatch with what was in the gemfile.lock file, and it looked like the run-loop version i had was maybe incompatible with xcode 7.2, so i updated to the latest run-loop version (2.0.3). i also updated the calabash-ios version to 0.16.4 to match what i had in the terminal. after i did a bundle install and rebuilt the app, it ran in the simulator! thanks, Joshua!"}, {"owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "edited": false, "score": 0, "creation_date": 1452705331, "post_id": 34762471, "comment_id": 57290898, "body": "Joshua, a followup question.. noticed that on some of my tests that I send to background and bring up again, that those tests are failing now.. get this message:   uia action failed because: Input: var x = target.deactivateAppForDuration(2.0); var MAX_RETRY=5, retry_count = 0; while (!x &amp;&amp; retry_count &lt; MAX_RETRY) { x = target.deactivateAppForDuration(2.0); retry_count += 1}; x  I noticed at this link <a href=\"https://github.com/calabash/calabash-ios/blob/develop/changelog/0.16.3.md\" rel=\"nofollow noreferrer\">github.com/calabash/calabash-ios/blob/develop/changelog/&hellip;</a> that &quot;Sending apps to the background is broken on Xcode 7 simulators and iOS 9 devices.&quot;  is this still broken in 0.16.4?"}, {"owner": {"reputation": 311, "user_id": 5696048, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HWOq1xBgfwI/AAAAAAAAAAI/AAAAAAAAADc/9VIWuCFvYIs/photo.jpg?sz=128", "display_name": "Christopher Fuentes", "link": "https://stackoverflow.com/users/5696048/christopher-fuentes"}, "edited": false, "score": 0, "creation_date": 1452716825, "post_id": 34762471, "comment_id": 57297950, "body": "The current latest is 0.17.0 (soon to be 0.17.1). We always recommend using the latest version."}, {"owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "edited": false, "score": 0, "creation_date": 1452741837, "post_id": 34762471, "comment_id": 57307193, "body": "Hey Christopher, I would go to 0.17.0 for calabash, except I get the error that&#39;s here: <a href=\"https://github.com/calabash/calabash-ios/issues/959\" rel=\"nofollow noreferrer\">github.com/calabash/calabash-ios/issues/959</a> .. basically it tells me &quot;Unable to auto detect APP_BUNDLE_PATH. Have you built your app for simulator?&quot; And when I try to put in the bundle path manually, it can&#39;t find it either.. when that issue will be fixed, I&#39;ll definitely switch to the latest version. Thanks for responding!"}, {"owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "edited": false, "score": 0, "creation_date": 1452852013, "post_id": 34762471, "comment_id": 57359229, "body": "irradio Please don&#39;t let the auto-detection keep you from 0.17.1.  If you need help finding your .app, please ask for help with that in another question.  Apple broke dactivateAppForDuration. 0.17.0 has the fix."}, {"owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "edited": false, "score": 0, "creation_date": 1453136790, "post_id": 34762471, "comment_id": 57459747, "body": "Okay, went to 0.17.1 .. seems to work. Only thing is that I can&#39;t start the test server from the terminal, but that&#39;s no big deal b/c I can just run the simulator from Xcode. And it still doesn&#39;t detect the APP_BUNDLE_PATH automatically so I had to do that thing in the ci folder where I exported the APP_BUNDLE_PATH and it worked. So things are good for the most part now, thanks!!"}], "tags": [], "owner": {"reputation": 2440, "user_id": 2047304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fcea18e8fa7f6f5016b38ac97be13f7?s=128&d=identicon&r=PG", "display_name": "jmoody", "link": "https://stackoverflow.com/users/2047304/jmoody"}, "is_accepted": true, "score": 1, "last_activity_date": 1452676190, "creation_date": 1452676190, "answer_id": 34762471, "question_id": 34755486, "link": "https://stackoverflow.com/questions/34755486/upgrading-to-ios-9-1-simulator-makes-calabash-not-recognize-the-device-target/34762471#34762471", "title": "Upgrading to iOS 9.1 simulator makes Calabash not recognize the device target", "body": "<p>After installing a new Xcode or moving/renaming an Xcode installation, you need to restart your machine.  </p>\n\n<p>You have a mismatch between the gem version (0.14.3) and the server version in your app (0.16.4).  Please see the <a href=\"https://github.com/calabash/calabash-ios/wiki/Updating-your-Calabash-iOS-version\" rel=\"nofollow\">Updating your Calabash iOS version</a>.  </p>\n\n<p>I believe that your run-loop version is not compatible with Xcode 7.2.</p>\n\n<p>If you are not using a Gemfile, we recommend that you start.</p>\n"}], "owner": {"reputation": 43, "user_id": 2483820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/285266538707677a5a1158068905d092?s=128&d=identicon&r=PG", "display_name": "irradio", "link": "https://stackoverflow.com/users/2483820/irradio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 34762471, "answer_count": 1, "score": 1, "last_activity_date": 1453197420, "creation_date": 1452640026, "last_edit_date": 1453197420, "question_id": 34755486, "link": "https://stackoverflow.com/questions/34755486/upgrading-to-ios-9-1-simulator-makes-calabash-not-recognize-the-device-target", "title": "Upgrading to iOS 9.1 simulator makes Calabash not recognize the device target", "body": "<p>xcode installation location: <code>/Applications/Xcode.app/Contents/Developer</code></p>\n\n<p>xcode version: <code>Xcode 7.2</code> Build version <code>7C68</code></p>\n\n<p>calabash version: <code>0.16.4</code></p>\n\n<pre><code>calabash.framework version: `0.16.4`\nprofiling: /Users/moody/git/calabash/calabash-ios-server/build/framework/version-tool/Build/Intermediates/calabash.build/Debug/version.build/Objects-normal/x86_64/main.gcda: cannot open: No such file or directory\nprofiling: /Users/moody/git/calabash/calabash-ios-server/build/framework/version-tool/Build/Intermediates/calabash.build/Debug/version.build/Objects-normal/x86_64/main.gcda: cannot open: No such file or directory\nprofiling: /Users/moody/git/calabash/calabash-ios-server/build/framework/version-tool/Build/Intermediates/calabash.build/Debug/version.build/Objects-normal/x86_64/main.gcda: cannot open: No such file or directory\nprofiling: /Users/moody/git/calabash/calabash-ios-server/build/framework/version-tool/Build/Intermediates/calabash.build/Debug/version.build/Objects-normal/x86_64/main.gcda: cannot open: No such file or directory\n</code></pre>\n\n<p>(I'm getting the top text after I upgraded from <code>0.14.3</code> to <code>0.16.4</code>, before that it would only tell me <code>0.14.3</code> without the extra stuff)</p>\n\n<p>Here's the problem:\nWhen I updated the Simulator version in Xcode and in our <code>01_launch.rb</code> from <code>8.4</code> to <code>9.1</code>, my calabash features will not run. Here is the error I'm getting:</p>\n\n<pre><code>No device_target was specified and did not detect a connected device. Set a device_target option in the relaunch method. (RuntimeError)\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:684:in `default_uia_strategy'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:627:in `relaunch'\n  /Users/myname/Development/sprayerMobile/SprayMobile/features/support/01_launch.rb:35:in `Before'\nRetrying.. Errno::ECONNREFUSED: (Connection refused - connect(2) for \"localhost\" port 37265 (http://localhost:37265))\nRetrying.. Errno::ECONNREFUSED: (Connection refused - connect(2) for \"localhost\" port 37265 (http://localhost:37265))\nFailing... Errno::ECONNREFUSED\n  Connection refused - connect(2) for \"localhost\" port 37265 (http://localhost:37265) (Errno::ECONNREFUSED)\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:799:in `initialize'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:799:in `new'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:799:in `create_socket'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:747:in `block in connect'\n  /Users/myname/.rbenv/versions/2.2.3/lib/ruby/2.2.0/timeout.rb:88:in `block in timeout'\n  /Users/myname/.rbenv/versions/2.2.3/lib/ruby/2.2.0/timeout.rb:98:in `call'\n  /Users/myname/.rbenv/versions/2.2.3/lib/ruby/2.2.0/timeout.rb:98:in `timeout'\n  /Users/myname/.rbenv/versions/2.2.3/lib/ruby/2.2.0/timeout.rb:124:in `timeout'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:746:in `connect'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:612:in `query'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient/session.rb:164:in `query'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:1191:in `do_get_block'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:974:in `block in do_request'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:1082:in `protect_keep_alive_disconnected'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:969:in `do_request'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:822:in `request'\n  /Users/myname/.calabash/gems/httpclient-2.6.0.1/lib/httpclient.rb:725:in `post'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/http_helpers.rb:57:in `block in make_http_request'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/http_helpers.rb:50:in `times'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/http_helpers.rb:50:in `make_http_request'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/http_helpers.rb:29:in `http'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/connection_helpers.rb:11:in `http'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/map.rb:71:in `raw_map'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/map.rb:23:in `map'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/core.rb:112:in `query'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/tests_helpers.rb:23:in `element_does_not_exist'\n  /Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/tests_helpers.rb:30:in `element_exists'\n  /Users/myname/Development/company/Company/features/support/01_launch.rb:43:in `Before'\n</code></pre>\n\n<p>This error goes away when I switch back to <code>8.4</code> Has anyone experienced this, or maybe knows of a way to fix this issue? To me it seems like a simulator issue, since when I switch back b/w the simulators, in <code>9.1</code> I get those errors, where with <code>8.4</code> my features run fine.. but my coworker put in some Xcode 7 updates that I pulled into my code, so it's possible that it has to do with his updates too...</p>\n\n<p>As an aside, why is it refering to <code>0.14.3</code> gems if I upgraded to <code>0.16.4</code>?</p>\n\n<p>*Update</p>\n\n<p>When I add <code>DEBUG=1</code> before running features, I get these warnings:</p>\n\n<pre><code>WARN: deprecated '1.5.0' - Replaced with RunLoop::Xcode\n/Users/myname/.calabash/gems/run_loop-1.5.6/lib/run_loop/xctools.rb:183:in `xcode_version_gte_51?'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:490:in `default_launch_method'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:420:in `default_launch_args'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:534:in `relaunch'\n/Users/myname/Development/sprayerMobile/SprayMobile/features/support/01_launch.rb:36:in `block in &lt;top (required)&gt;'\nWARN: deprecated '1.5.0' - Replaced by RunLoop::Xcode\n/Users/myname/.calabash/gems/run_loop-1.5.6/lib/run_loop/sim_control.rb:21:in `xctools'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:666:in `default_uia_strategy'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:627:in `relaunch'\n/Users/myname/Development/sprayerMobile/SprayMobile/features/support/01_launch.rb:36:in `block in &lt;top (required)&gt;'\n/Users/myname/.calabash/gems/cucumber-1.3.20/lib/cucumber/core_ext/instance_exec.rb:48:in `instance_exec'\nWARN: deprecated '1.5.0' - Replaced with RunLoop::Instruments\n/Users/myname/.calabash/gems/run_loop-1.5.6/lib/run_loop/xctools.rb:265:in `instruments'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:666:in `default_uia_strategy'\n/Users/myname/.calabash/gems/calabash-cucumber-0.14.3/lib/calabash-cucumber/launcher.rb:627:in `relaunch'\n/Users/myname/Development/sprayerMobile/SprayMobile/features/support/01_launch.rb:36:in `block in &lt;top (required)&gt;'\n/Users/myname/.calabash/gems/cucumber-1.3.20/lib/cucumber/core_ext/instance_exec.rb:48:in `instance_exec'\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["arrays", "ruby", "file"], "comments": [{"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 5, "creation_date": 1452639648, "post_id": 34755394, "comment_id": 57256931, "body": "Please show your attempts"}, {"owner": {"reputation": 1, "user_id": 5781424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xG5Gtanys2U/AAAAAAAAAAI/AAAAAAAAC7I/udkEz39T4nc/photo.jpg?sz=128", "display_name": "Nishita Kheur", "link": "https://stackoverflow.com/users/5781424/nishita-kheur"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1452640047, "post_id": 34755394, "comment_id": 57257058, "body": "f = File.open(&#39;file.text&#39;) payload = f.read puts payload   gives output as  &quot;[&quot;abc&quot;, &quot;def&quot;...]&quot; which is a string and it becomes difficult to read as an array."}, {"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "edited": false, "score": 0, "creation_date": 1452640250, "post_id": 34755394, "comment_id": 57257132, "body": "This could be done with a regular expression"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1452640737, "post_id": 34755394, "comment_id": 57257306, "body": "Please do NOT put code in a comment. Edit your question and add the missing code as if you&#39;d added it initially. Do not add &quot;Edit:&quot; or &quot;Update:&quot; to mark it as we can see when and where things have been changed. Also, please format your question correctly; Failing to do so only slows and discourages our responses. The more effort you put into your question to research, solve and ask it will pay off in the effort used to answer it. Read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;, &quot;<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;, <a href=\"http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a> and <a href=\"http://tinyurl.com/stack-hints\" rel=\"nofollow noreferrer\">tinyurl.com/stack-hints</a>"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1452641205, "post_id": 34755394, "comment_id": 57257499, "body": "Where does &quot;File1.txt&quot; come from? If it&#39;s <code>[&quot;abc&quot;, &quot;def&quot;..]</code> then it&#39;s not a standard serialized format and needs to be changed to a standard serialization, such as JSON or YAML, and whoever came up with the current format should be subject to a very pointed code-review. I suspect this is <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">an XY problem</a>, where you should ask &quot;How should I store data on disk&quot;, instead of &quot;How do I read the data I&#39;ve stored on disk?&quot;"}, {"owner": {"reputation": 1, "user_id": 5781424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xG5Gtanys2U/AAAAAAAAAAI/AAAAAAAAC7I/udkEz39T4nc/photo.jpg?sz=128", "display_name": "Nishita Kheur", "link": "https://stackoverflow.com/users/5781424/nishita-kheur"}, "edited": false, "score": 0, "creation_date": 1452642123, "post_id": 34755394, "comment_id": 57257827, "body": "Hello @TinMan, I am writing into the file and creating it. What do you think is the best format for data like above? abc and def are actually xml strings."}], "answers": [{"comments": [{"owner": {"reputation": 2623, "user_id": 625354, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xc5hf.jpg?s=128&g=1", "display_name": "Dbz", "link": "https://stackoverflow.com/users/625354/dbz"}, "edited": false, "score": 0, "creation_date": 1452640544, "post_id": 34755569, "comment_id": 57257229, "body": "I think JSON is much saner. This seems like it could be dangerous. Actually, <code>exec</code> might be the dangerous one."}, {"owner": {"reputation": 1, "user_id": 5781424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xG5Gtanys2U/AAAAAAAAAAI/AAAAAAAAC7I/udkEz39T4nc/photo.jpg?sz=128", "display_name": "Nishita Kheur", "link": "https://stackoverflow.com/users/5781424/nishita-kheur"}, "edited": false, "score": 0, "creation_date": 1452641911, "post_id": 34755569, "comment_id": 57257750, "body": "Hi @cody, thanks for your response and the solution you provided perfectly worked for me! Thanks again. Could you also elaborate on &#39;Using JSON as your serialization format might be saner option though?&#39; I am not sure what you mean here. The content I am trying to read from the file is not a key value pair."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1452647635, "post_id": 34755569, "comment_id": 57259374, "body": "Nashita, it would not be surprising if the string contained in the file were produced with <code>JSON</code>: <code>require &#39;json&#39;; JSON.generate [&quot;abc&quot;, &quot;def&quot;] #=&gt; &quot;[\\&quot;abc\\&quot;,\\&quot;def\\&quot;]&quot;</code> (or <code>[&quot;abc&quot;, &quot;def&quot;].to_json</code>). You can convert the string back to the array with <code>JSON.parse &quot;[\\&quot;abc\\&quot;,\\&quot;def\\&quot;]&quot; #=&gt; [&quot;abc&quot;, &quot;def&quot;]</code> (or <code>JSON.parse &#39;[&quot;abc&quot;, &quot;def&quot;]&#39; #=&gt; [&quot;abc&quot;, &quot;def&quot;]&#39;</code>).  See the doc for the <a href=\"http://ruby-doc.org/stdlib-2.0.0/libdoc/json/rdoc/JSON.html\" rel=\"nofollow noreferrer\">JSON module</a> and, for example, <a href=\"http://code.tutsplus.com/tutorials/an-introduction-to-rubys-json-library--cms-24771\" rel=\"nofollow noreferrer\">this tutorial</a>."}], "tags": [], "owner": {"reputation": 31012, "user_id": 25398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3690dee254e9aa9d98ff964a70e89f23?s=128&d=identicon&r=PG", "display_name": "Cody Caughlan", "link": "https://stackoverflow.com/users/25398/cody-caughlan"}, "is_accepted": true, "score": 1, "last_activity_date": 1452640462, "creation_date": 1452640462, "answer_id": 34755569, "question_id": 34755394, "link": "https://stackoverflow.com/questions/34755394/how-to-read-an-array-from-a-file-and-store-it-in-an-array/34755569#34755569", "title": "How to read an array from a file and store it in an array", "body": "<p>You will need to use <code>Kernel#eval</code> to parse the file contents (string) as Ruby code.</p>\n\n<p>Contents of eval.txt:</p>\n\n<pre><code>['abc', 'def']\n</code></pre>\n\n<p>Ruby code:</p>\n\n<pre><code>contents = File.read(\"eval.txt\")\nfoo = Kernel.eval(contents)\nputs \"Length of foo is #{foo.length}\"\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>Length of foo is 2\n</code></pre>\n\n<p>Using JSON as your serialization format might be saner option though.</p>\n"}], "owner": {"reputation": 1, "user_id": 5781424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xG5Gtanys2U/AAAAAAAAAAI/AAAAAAAAC7I/udkEz39T4nc/photo.jpg?sz=128", "display_name": "Nishita Kheur", "link": "https://stackoverflow.com/users/5781424/nishita-kheur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 0, "accepted_answer_id": 34755569, "answer_count": 1, "score": -2, "last_activity_date": 1452641070, "creation_date": 1452639590, "last_edit_date": 1452641070, "question_id": 34755394, "link": "https://stackoverflow.com/questions/34755394/how-to-read-an-array-from-a-file-and-store-it-in-an-array", "title": "How to read an array from a file and store it in an array", "body": "<p>I am trying to read an array from a file and save it in <code>myArray[]</code>.</p>\n\n<p>File1.txt is <code>[\"abc\", \"def\"...]</code> and I want to be able to parse <code>myArray[0]</code> which is \"abc\", <code>myArray[1]</code> which is \"def\" and so on.</p>\n\n<pre><code>f = File.open('file.text')\npayload = f.read\nputs payload\n</code></pre>\n\n<p>gives output as <code>[\"abc\", \"def\"...]</code> which is a string and it becomes difficult to read as an array.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "json"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1452640022, "post_id": 34755356, "comment_id": 57257047, "body": "&quot;Cannot get it working&quot; is very unspecific... what happens? What do you think should happen?"}], "answers": [{"tags": [], "owner": {"reputation": 4054, "user_id": 3626701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401db4625e42a7797db528d1f7ddcb00?s=128&d=identicon&r=PG", "display_name": "Oss", "link": "https://stackoverflow.com/users/3626701/oss"}, "is_accepted": true, "score": 1, "last_activity_date": 1452641916, "last_edit_date": 1452641916, "creation_date": 1452639813, "answer_id": 34755447, "question_id": 34755356, "link": "https://stackoverflow.com/questions/34755356/how-to-parse-and-loop-through-json-sub-children/34755447#34755447", "title": "How to parse and loop through JSON sub-children", "body": "<p>The hash returned from <code>JSON.parse</code> does not have a <code>.each</code> method.</p>\n\n<p>Imagine your input hash in a more organized way:</p>\n\n<pre><code>{\n    \"normal_domains\":[ {\n        \"urls [\n        \"domain1.com\",\n        \"domain2.com\"\n        ],\n        \"id\":3,\n        \"find\":\"ama\",\n        \"type\":\"text\"\n    }],\n    \"premium_domains\":[{\n        \"urls\":[\n        \"domain3.com\",\n        \"domain4.com\"\n        ],\n        \"id\":1,\n        \"find\":\"amg\",\n        \"type\":\"text\"\n    }]\n}\n</code></pre>\n\n<p>You code should be:</p>\n\n<pre><code>result = JSON.parse from_api\n\nresult.keys.each do |domain_type|\n  childArray = result[domain_type]\n  childArray.each do |child|\n    urls = child[\"urls\"]\n    urls.each do |url|\n      puts \"Domain type: #{domain_type}\"\n      puts \"Domain: #{url}\"\n      puts \"ID: #{child['id']}\"\n      puts \"Find: #{child['find']}\"          \n    end\n  end\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 2, "creation_date": 1452641980, "post_id": 34755560, "comment_id": 57257776, "body": "<i>WHY</i> should the OP do this? Don&#39;t throw out code, explain why something should be done a certain way so they can build upon  it."}], "tags": [], "owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "is_accepted": false, "score": 0, "last_activity_date": 1452643303, "last_edit_date": 1452643303, "creation_date": 1452640378, "answer_id": 34755560, "question_id": 34755356, "link": "https://stackoverflow.com/questions/34755356/how-to-parse-and-loop-through-json-sub-children/34755560#34755560", "title": "How to parse and loop through JSON sub-children", "body": "<p>If you want to iterate over an array in a style that is common in C i.e. using array indexes, you should do it like</p>\n\n<pre><code>urls = domain['urls']\n(0..urls.length).each do |i|\n    puts \" URL: #{urls[i]}\"\nend\n</code></pre>\n\n<p>or at least handle the case when indexing an array element returns <code>nil</code> when the code tries to access data beyond what has been entered in the array. Using array indexes is often unnecessary since iterators can be used.</p>\n\n<p>Using iterators, one does not need the indexes and there is no need to check if the access is beyond the boundaries of a container.</p>\n\n<pre><code>result.each do |key,value|\n    puts \"Domain type: #{key}\"\n    value.each do |domain|\n        id = domain['id']\n        find = domain['find']\n        type = domain['type']\n        puts \" ID: #{id}\"\n        puts \" Find: #{find}\"\n        puts \" Type: #{type}\"\n\n        domain['urls'].each do |url|\n            puts \" URL: #{url}\"\n        end\n    end\nend\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5781403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/589929f9354a9c4b4c629314b70afafc?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5781403/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 34755447, "answer_count": 2, "score": 0, "last_activity_date": 1452643303, "creation_date": 1452639375, "last_edit_date": 1452641817, "question_id": 34755356, "link": "https://stackoverflow.com/questions/34755356/how-to-parse-and-loop-through-json-sub-children", "title": "How to parse and loop through JSON sub-children", "body": "<p>I have a JSON string:</p>\n\n<pre><code>{\n \"normal_domains\":[{\n   \"urls [\n    \"domain1.com\",\n    \"domain2.com\"\n],\n\"id\":3,\n\"find\":\"ama\",\n\"type\":\"text\"\n}\n],\n \"premium_domains\":[{\n  \"urls\":[\n   \"domain3.com\",\n   \"domain4.com\"\n],\n \"id\":1,\n \"find\":\"amg\",\n \"type\":\"text\"\n  }\n ]\n}\n</code></pre>\n\n<p>I want to output a list for each domain in the hash with corresponding attributes:</p>\n\n<pre><code>Domain type: normal_domains\nDomain: domain3.com\nID: 3\nFind: ama\n-- for each domain --\n</code></pre>\n\n<p>The code I have is this, but I cannot get it working. It returns <code>NoMethodError: undefined method [] for nil:NilClass</code>:</p>\n\n<pre><code>from_api = '{\"normal_domains\":[{\"urls\":[\"domain1.com\",\"domain2.com\"],\"id\":3,\"find\":\"ama\",\"type\":\"text\"}],\"premium_domains\":[{\"urls\":[\"domain3.com\",\"domain4.com\"],\"id\":1,\"find\":\"amg\",\"type\":\"text\"}]}'\nresult     = JSON.parse from_api\n\n\nresult.each do |child|\n\n  loop_index = 0\n  child.each do |sub_child|\n\n    puts \"Domain type: #{child}\"\n    puts \"Domain: #{sub_child[loop_index]['urls']}\"\n    puts \"ID: #{sub_child[loop_index]['id']}\"\n    puts \"Find: #{sub_child[loop_index]['find']}\"\n\n    loop_index += 1\n  end\n\n\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "google-analytics"], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 1547669, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a15cfaaad27177e7a8a161a0403d8ab1?s=128&d=identicon&r=PG", "display_name": "JohnSalzarulo", "link": "https://stackoverflow.com/users/1547669/johnsalzarulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1452645902, "creation_date": 1452645902, "answer_id": 34756517, "question_id": 34755157, "link": "https://stackoverflow.com/questions/34755157/getting-google-analytics-up-in-rails-3-app/34756517#34756517", "title": "Getting Google Analytics up in Rails 3 App", "body": "<p>My guess is that you forgot to replace the placeholder within the analytics.js.coffee file. </p>\n\n<pre><code>@analyticsId: -&gt;\n    # your google analytics ID(s) here...\n  'UA-XXXXXXX-XX'\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 3787971, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/21308605/picture?type=large", "display_name": "user3787971", "link": "https://stackoverflow.com/users/3787971/user3787971"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452645902, "creation_date": 1452638519, "question_id": 34755157, "link": "https://stackoverflow.com/questions/34755157/getting-google-analytics-up-in-rails-3-app", "title": "Getting Google Analytics up in Rails 3 App", "body": "<p>I've tried all the methods outlined <a href=\"http://railsapps.github.io/rails-google-analytics.html\" rel=\"nofollow noreferrer\">Here</a> for getting google analytics up and running on my rails app. </p>\n\n<p>I think that google is talking to my app because when I inspect the elements and look at the network I see the .js file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qsj1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qsj1j.png\" alt=\"But I&#39;m not seeing any data come in through realtime analytics on my account\"></a></p>\n\n<p>I thought I might need to just sit and wait but this didn't work. I've now tried several ways to do this and nothing is working.</p>\n\n<p>gemfile</p>\n\n<pre><code>source 'https://rubygems.org'\n\ngem 'rails', '3.2.11'\n\n# Bundle edge Rails instead:\n# gem 'rails', :git =&gt; 'git://github.com/rails/rails.git'\n# For google analytics\ngem 'google-analytics-rails', '1.0.0'\n\ngem 'activeadmin'\ngem 'pg'\n\n# Gems used only for assets and not required\n# in production environments by default.\ngroup :assets do\n  gem 'sass-rails',   '~&gt; 3.2.3'\n  gem 'coffee-rails', '~&gt; 3.2.1'\n\n  # See https://github.com/sstephenson/execjs#readme for more supported runtimes\n  # gem 'therubyracer', :platforms =&gt; :ruby\n\n  gem 'uglifier', '&gt;= 1.0.3'\nend\n\ngroup :development do\n  gem 'pry'\nend\n\ngem 'rails_12factor' \ngem 'delayed_job_active_record'\n\ngem 'unicorn'\n</code></pre>\n\n<p>I have this line in my head tag at the bottom.</p>\n\n<pre><code>&lt;%= analytics_init if Rails.env.production? %&gt;\n</code></pre>\n\n<p>I thought this was the problem so I removed the if statement but that seemed like a bad idea as it would allow google to track any environment.It still didn't work after this...</p>\n\n<p>What am I missing? I've never had this problem with analytics before. Any suggestions?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "rake"], "owner": {"reputation": 181, "user_id": 3225381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pUcfu.jpg?s=128&g=1", "display_name": "IggyPlop", "link": "https://stackoverflow.com/users/3225381/iggyplop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1452636375, "creation_date": 1452636375, "question_id": 34754647, "link": "https://stackoverflow.com/questions/34754647/rails-task-naming-conventions", "title": "Rails task naming conventions", "body": "<p>I was wondering if there is a generally accepted naming convention in regards to rake tasks? My current naming convention starts with the object name(s), followed by the task being performed, so for a task that verifies user photos, the task name would be:</p>\n\n<pre><code>user:photos:verify\n</code></pre>\n\n<p>However, I can't help but think there might be a better way.</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "routes"], "answers": [{"comments": [{"owner": {"reputation": 1180, "user_id": 4825744, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10155467328840293/picture?type=large", "display_name": "Shawn Wilson", "link": "https://stackoverflow.com/users/4825744/shawn-wilson"}, "edited": false, "score": 0, "creation_date": 1452664698, "post_id": 34759321, "comment_id": 57264118, "body": "So could this also work like above using the if statements in the application layout page or are partials required here? I would like the  Mac bar to extend across the application depending on the type of user ( visitor, admin or resident )?"}], "tags": [], "owner": {"reputation": 71, "user_id": 3306027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bdd81d9d6ae5e1d49c7683f4cd65cc8?s=128&d=identicon&r=PG", "display_name": "esergion", "link": "https://stackoverflow.com/users/3306027/esergion"}, "is_accepted": true, "score": 1, "last_activity_date": 1452664378, "creation_date": 1452664378, "answer_id": 34759321, "question_id": 34754564, "link": "https://stackoverflow.com/questions/34754564/creating-seperate-nav-bars-for-different-devise-scopes/34759321#34759321", "title": "Creating seperate nav bars for different Devise scopes", "body": "<p>Just make some partials and use <code>if</code> statements like:</p>\n\n<pre><code>if signed_in?\n  if current_visitor\n     = render 'path/to/visitor/navbar'\n  if current_admin\n     = render 'path/to/admin/navbar'\n  if current_resident\n     = render 'path/to/resident/navbar'\n</code></pre>\n"}], "owner": {"reputation": 1180, "user_id": 4825744, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10155467328840293/picture?type=large", "display_name": "Shawn Wilson", "link": "https://stackoverflow.com/users/4825744/shawn-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 34759321, "answer_count": 1, "score": 0, "last_activity_date": 1452664378, "creation_date": 1452635979, "last_edit_date": 1452642202, "question_id": 34754564, "link": "https://stackoverflow.com/questions/34754564/creating-seperate-nav-bars-for-different-devise-scopes", "title": "Creating seperate nav bars for different Devise scopes", "body": "<p>I have three separate logins for my app:</p>\n\n<p>routes.rb:</p>\n\n<pre><code>  devise_for :visitors, controllers: { registrations: 'visitor/registrations' }\n  ## Visitors Authentication Scope ##\n    devise_scope :visitor do\n      authenticated :visitor do\n        root 'properties#index', as: :visitor_authenticated_root\n      end\n      unauthenticated :visitor do\n        root 'devise/sessions#new', as: :visitor_unauthenticated_root\n      end\n    end\n  ## END Visitors Authentication Scope ##\n\n  devise_for :admins, controllers: { registrations: 'admin/registrations' }\n  ## Administration Authentication Scope ##\n    devise_scope :admin do\n      authenticated :admin do\n        root 'properties#index', as: :admin_authenticated_root\n      end\n      unauthenticated :admin do\n        root 'devise/sessions#new', as: :admin_unauthenticated_root\n      end\n    end\n  ## END Administration Authentication Scope ##\n\n  devise_for :residents, controllers: { registrations: 'resident/registrations' }\n  ## Residents Authentication Scope ##\n    devise_scope :resident do\n      authenticated :resident do\n        root 'properties#index', as: :resident_authenticated_root\n      end\n      unauthenticated :resident do\n        root 'devise/sessions#new', as: :resident_unauthenticated_root\n      end\n    end\n  ## END Residents Authentication Scope ##\n</code></pre>\n\n<p>Currently they all point to <code>properties#index</code>. The admin scope will point to an admin page as the route, but each of these will have different navbar functionality, and different view layouts.</p>\n\n<p>I would usually use an <code>if</code>/<code>else</code> statement if I was using boolean values to set my user types, however I created individual models for this. </p>\n\n<p>How can I set-up different layouts? I read some articles but not many of them make sense, or do not do what I am trying to accomplish.</p>\n\n<p>I am using Rails 4 and Ruby 2.</p>\n"}, {"tags": ["ruby", "rubygems", "rvm"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 2, "creation_date": 1452636740, "post_id": 34754492, "comment_id": 57255638, "body": "I&#39;m sure there&#39;s some overhead in RVM figuring out your current version of ruby, locating the binary and executing it.  Why not just alias <code>wmctile</code> in your bash_profile to the source?"}, {"owner": {"reputation": 5926, "user_id": 910868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Xk0IG.png?s=128&g=1", "display_name": "mreq", "link": "https://stackoverflow.com/users/910868/mreq"}, "reply_to_user": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 1, "creation_date": 1452636885, "post_id": 34754492, "comment_id": 57255722, "body": "It&#39;s a distributed gem meant to be used by other users, which would only have the gem, not the source."}, {"owner": {"reputation": 5926, "user_id": 910868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Xk0IG.png?s=128&g=1", "display_name": "mreq", "link": "https://stackoverflow.com/users/910868/mreq"}, "reply_to_user": {"reputation": 10490, "user_id": 513951, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6cace4406e1ea825e78ec0134a5ea6fd?s=128&d=identicon&r=PG&f=1", "display_name": "user513951", "link": "https://stackoverflow.com/users/513951/user513951"}, "edited": false, "score": 1, "creation_date": 1452638920, "post_id": 34754492, "comment_id": 57256627, "body": "@JesseSielaff It is pure ruby. The problem seems to be in the generated file, <code>&#47;usr&#47;bin&#47;env ruby_executable_hooks</code> seems to be fairly slow. I&#39;ve edited the answer with the source of the generated bin file."}, {"owner": {"reputation": 2927, "user_id": 379556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b40b9119576eac427c3624e174ea0ec4?s=128&d=identicon&r=PG", "display_name": "Rui Marques", "link": "https://stackoverflow.com/users/379556/rui-marques"}, "edited": false, "score": 0, "creation_date": 1577982321, "post_id": 34754492, "comment_id": 105301163, "body": "Can the AntiVirus be the culprit? I&#39;ve seen Ruby and it&#39;s gems slowing down significantly on Windows computers running TrendMicro AV."}, {"owner": {"reputation": 5926, "user_id": 910868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Xk0IG.png?s=128&g=1", "display_name": "mreq", "link": "https://stackoverflow.com/users/910868/mreq"}, "reply_to_user": {"reputation": 2927, "user_id": 379556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b40b9119576eac427c3624e174ea0ec4?s=128&d=identicon&r=PG", "display_name": "Rui Marques", "link": "https://stackoverflow.com/users/379556/rui-marques"}, "edited": false, "score": 1, "creation_date": 1578065414, "post_id": 34754492, "comment_id": 105328525, "body": "@RuiMarques No, the outputs are from Ubuntu."}], "answers": [{"comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1579843156, "post_id": 36715025, "comment_id": 105909606, "body": "I think this makes sense. A LONG path search could be responsible."}], "tags": [], "owner": {"reputation": 4272, "user_id": 501266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/iDtAx.jpg?s=128&g=1", "display_name": "Keith Bennett", "link": "https://stackoverflow.com/users/501266/keith-bennett"}, "is_accepted": false, "score": 1, "last_activity_date": 1579843097, "last_edit_date": 1579843097, "creation_date": 1461059962, "answer_id": 36715025, "question_id": 34754492, "link": "https://stackoverflow.com/questions/34754492/installed-gem-much-slower-than-source/36715025#36715025", "title": "Installed gem much slower than source", "body": "<p>RVM puts the proper directories for your Ruby version and gemset in the path whenever the RVM Ruby is set.  My PATH begins with this:</p>\n\n<pre><code>/Users/kbennett/.rvm/gems/ruby-2.3.0/bin\n/Users/kbennett/.rvm/gems/ruby-2.3.0@global/bin\n/Users/kbennett/.rvm/rubies/ruby-2.3.0/bin\n/Users/kbennett/.rvm/bin\n</code></pre>\n\n<p>So, I think it's the OS and not Ruby itself that is responsible for the delay.  You could test this by putting a simple shell script file in that gem bin directory, and calling it with and without its absolute location to see if you get the same difference.</p>\n"}], "owner": {"reputation": 5926, "user_id": 910868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Xk0IG.png?s=128&g=1", "display_name": "mreq", "link": "https://stackoverflow.com/users/910868/mreq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 11, "last_activity_date": 1579843097, "creation_date": 1452635711, "last_edit_date": 1579843056, "question_id": 34754492, "link": "https://stackoverflow.com/questions/34754492/installed-gem-much-slower-than-source", "title": "Installed gem much slower than source", "body": "<p>Running an installed gem is much slower than running its local source counterpart.</p>\n\n<p>Installed gem:</p>\n\n<pre><code>$ time wmctile switch_to Thunderbird\n\nreal  0m0.682s\nuser  0m0.491s\nsys 0m0.091s\n</code></pre>\n\n<p>Local source:</p>\n\n<pre><code>$ time ./work/wmctile/bin/wmctile switch_to Thunderbird\n\nreal  0m0.197s\nuser  0m0.118s\nsys 0m0.064s\n</code></pre>\n\n<p>Why? Could it be because of RVM, or is this a \"feature\" of Ruby gems in general? Is there a way to speed it up?</p>\n\n<p>This is the generated bin file:</p>\n\n<pre><code>$ which wmctile\n/home/some_user_name/.rvm/gems/ruby-2.1.2/bin/wmctile\n\n$ cat $( which wmctile )\n#!/usr/bin/env ruby_executable_hooks\n#\n# This file was generated by RubyGems.\n#\n# The application 'wmctile' is installed as part of a gem, and\n# this file is here to facilitate running it.\n#\n\nrequire 'rubygems'\n\nversion = \"&gt;= 0\"\n\nif ARGV.first\n  str = ARGV.first\n  str = str.dup.force_encoding(\"BINARY\") if str.respond_to? :force_encoding\n  if str =~ /\\A_(.*)_\\z/ and Gem::Version.correct?($1) then\n    version = $1\n    ARGV.shift\n  end\nend\n\ngem 'wmctile', version\nload Gem.bin_path('wmctile', 'wmctile', version)\n</code></pre>\n"}, {"tags": ["ruby", "rubygems", "jruby"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452637991, "post_id": 34755019, "comment_id": 57256249, "body": "Thanks for your reply! And yep, lib/batching_core.rb does exist in the gem. The FNF seems to come from the gem not being installed at all.  If I were to build the gem under the default platform, that same require happens without issue."}, {"owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452638190, "post_id": 34755019, "comment_id": 57256345, "body": "<code>jruby-1.7.18 :004 &gt;   require &#39;fubar&#39; </code> <code>LoadError: no such file to load -- fubar</code>                <code>from org&#47;jruby&#47;RubyKernel.java:1071:in require </code>"}, {"owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452639794, "post_id": 34755019, "comment_id": 57256976, "body": "For clarity of the question, I updated the gemspec (and console outputs) to resolve the warnings. The issue persists."}, {"owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452640236, "post_id": 34755019, "comment_id": 57257126, "body": "The gem does not have jars in it. Rather bundle install creates a lib/batching_core_jars.rb with maven descriptors for the jars specified in the gemspec. I got the idea from: <a href=\"https://github.com/mkristian/jar-dependencies/tree/master/examples/gem-with-jar-dependencies\" rel=\"nofollow noreferrer\">github.com/mkristian/jar-dependencies/tree/master/examples/&hellip;</a>"}, {"owner": {"reputation": 1336, "user_id": 152946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1d37642fdaa1662ff46e4c65731e9ab?s=128&d=identicon&r=PG", "display_name": "Charles Oliver Nutter", "link": "https://stackoverflow.com/users/152946/charles-oliver-nutter"}, "reply_to_user": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452644019, "post_id": 34755019, "comment_id": 57258429, "body": "Ok, my next guess...are you actually installing with the &quot;gem&quot; from JRuby? Or perhaps are GEM_* env vars set to some unexpected location?"}, {"owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "edited": false, "score": 0, "creation_date": 1452663422, "post_id": 34755019, "comment_id": 57263661, "body": "When I gem install with the default platform in the gemspec, it creates a directory under $GEM_HOME/ that looks like an exploded gem:  /Users/USERNAME/.rvm/gems/jruby-1.7.18/gems/batching_core-0.&zwnj;&#8203;1.0/  This looks like it&#39;s under jruby. Could the other install w/ <code>platform = &quot;java&quot; </code> put it somewhere else? I don&#39;t get <code>Successfully installed batching_core-0.1.0</code> when <code>platform = &quot;java&quot;</code>"}], "tags": [], "owner": {"reputation": 1336, "user_id": 152946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1d37642fdaa1662ff46e4c65731e9ab?s=128&d=identicon&r=PG", "display_name": "Charles Oliver Nutter", "link": "https://stackoverflow.com/users/152946/charles-oliver-nutter"}, "is_accepted": false, "score": 0, "last_activity_date": 1452637925, "creation_date": 1452637925, "answer_id": 34755019, "question_id": 34754484, "link": "https://stackoverflow.com/questions/34754484/locally-install-a-gem-built-with-platform-java-jruby-1-7-18/34755019#34755019", "title": "Locally install a gem built with platform=java | JRuby 1.7.18", "body": "<p>It looks to me like the gem does not contain the file you're trying to require. Can you check the contents to see if \"batching_core.rb\" is in the gem's lib dir?</p>\n\n<p>As for the warning...I'm confused about your environment. This is a gem with a jar in it being installed on JRuby? Maybe it would clarify some things if you link to the project or post the gemspec.</p>\n"}], "owner": {"reputation": 289, "user_id": 2367545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a04a0cbc707bc5dee69bef7bfb0ac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Val H", "link": "https://stackoverflow.com/users/2367545/val-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452703738, "creation_date": 1452635691, "last_edit_date": 1452703738, "question_id": 34754484, "link": "https://stackoverflow.com/questions/34754484/locally-install-a-gem-built-with-platform-java-jruby-1-7-18", "title": "Locally install a gem built with platform=java | JRuby 1.7.18", "body": "<p>It seems that the workflow that I use to build and install gems locally does not translate when the gemspec has platform = \"java\".</p>\n\n<p>I am using Jruby 1.7.18, installed with rvm</p>\n\n<pre><code>$ which gem\n/Users/USERNAME/.rvm/rubies/jruby-1.7.18/bin/gem\n</code></pre>\n\n<p>When I build a gem with the default platform, everything goes according to plan:</p>\n\n<pre><code>$ grep platform batching_core.gemspec \n  # spec.platform      = \"java\"\n\n$ gem build batching_core.gemspec \n  Successfully built RubyGem\n  Name: batching_core\n  Version: 0.1.0\n  File: batching_core-0.1.0.gem\n\n$ gem install batching_core-0.1.0.gem \n\njar dependencies found on non-java platform gem - do not install jars\n\nSuccessfully installed batching_core-0.1.0\n1 gem installed\n</code></pre>\n\n<p>Note the success message of \"Successfully installed batching_core-0.1.0\"</p>\n\n<p>But when my project requires me to use platform=java so that I can require some jar files. I can build the gem, but I cannot install it. The installation ends without the success message, and I cannot require the gem in irb:</p>\n\n<pre><code>$ grep platform batching_core.gemspec \n  spec.platform      = \"java\"\n\n$ gem build batching_core.gemspec \n  Successfully built RubyGem\n  Name: batching_core\n  Version: 0.1.0\n  File: batching_core-0.1.0-java.gem\n\n$ gem install batching_core-0.1.0-java.gem \n$\n</code></pre>\n\n<p>^^ Note the lack of output. No success message, no output at all.</p>\n\n<pre><code>$ irb\njruby-1.7.18 :001 &gt; require 'batching_core'\nLoadError: no such file to load -- batching_core\n    from org/jruby/RubyKernel.java:1071:in `require'\n    from /Users/USERNAME/.rvm/rubies/jruby-1.7.18/lib/ruby/shared/rubygems/core_ext/kernel_require.rb:55:in `require'\n</code></pre>\n\n<p>I tried the solution suggested here, but got the same result.\n<a href=\"https://stackoverflow.com/questions/32433839/creating-a-gem-using-jruby-and-not-ruby\">Creating a gem using Jruby and not Ruby</a></p>\n\n<p>EDIT: Here's the project that causes the issue:</p>\n\n<p><a href=\"https://github.com/ValerieAnne563/so34754484\" rel=\"nofollow\">https://github.com/ValerieAnne563/so34754484</a></p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "edited": false, "score": 0, "creation_date": 1452635580, "post_id": 34754352, "comment_id": 57255052, "body": "have you tried <code>gem install rake -v &#39;10.4.2&#39;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 5544789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f58d3aa4533271f63502ebb04c6619d?s=128&d=identicon&r=PG&f=1", "display_name": "stateno", "link": "https://stackoverflow.com/users/5544789/stateno"}, "is_accepted": false, "score": 0, "last_activity_date": 1452637024, "creation_date": 1452637024, "answer_id": 34754802, "question_id": 34754352, "link": "https://stackoverflow.com/questions/34754352/error-could-not-find-a-valid-gem-rake-10-4-2/34754802#34754802", "title": "ERROR: Could not find a valid gem &#39;rake&#39; &lt;=10.4.2.&gt;", "body": "<p><code>Make sure that 'gem install rake -v '10.4.2' succeeds before bundling.</code></p>\n\n<p>Type <code>gem install rake -v '10.4.2</code> in to your command line and it'll install the rake gem.</p>\n\n<p>Gems are simply other Ruby programs you can add to use within your program. See here: <a href=\"https://rubygems.org/\" rel=\"nofollow\">https://rubygems.org/</a> and here: <a href=\"https://en.wikipedia.org/wiki/RubyGems\" rel=\"nofollow\">https://en.wikipedia.org/wiki/RubyGems</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5749753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b342111505ecc4db39b957b52b66b2d?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew McGovern", "link": "https://stackoverflow.com/users/5749753/matthew-mcgovern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452637024, "creation_date": 1452635140, "question_id": 34754352, "link": "https://stackoverflow.com/questions/34754352/error-could-not-find-a-valid-gem-rake-10-4-2", "title": "ERROR: Could not find a valid gem &#39;rake&#39; &lt;=10.4.2.&gt;", "body": "<p>Tried to bundle install in my first ruby project, doing a tutorial so i'm pretty new to all of this coding stuff. I was following part of the tutorial and everything was going fine until I encountered this:</p>\n\n<blockquote>\n  <p>Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0 state=SSLv3 read\n  server certificate B: certificate verify failed <a href=\"https://rubygems.org/gems/rake-10.4.2\" rel=\"nofollow\">https://rubygems.org/gems/rake-10.4.2</a>\n  An error occured while installing rake &lt;10.4.2>, and Bundler cannot continue.\n  Make sure that 'gem install rake -v '10.4.2' succeeds before bundling.</p>\n</blockquote>\n\n<p>Please explain in layman terms </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 7894, "user_id": 981616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92513702d30405c7e2ca056bdc72aa9f?s=128&d=identicon&r=PG", "display_name": "uday", "link": "https://stackoverflow.com/users/981616/uday"}, "edited": false, "score": 0, "creation_date": 1452636636, "post_id": 34754264, "comment_id": 57255601, "body": "You can add <code>params:{}</code> in the end. Like <code>params: {order_ids: @orders}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "is_accepted": false, "score": 0, "last_activity_date": 1452635447, "creation_date": 1452635447, "answer_id": 34754416, "question_id": 34754264, "link": "https://stackoverflow.com/questions/34754264/using-form-tag-to-create-a-button/34754416#34754416", "title": "Using form_tag to create a button", "body": "<p>Try something like this:</p>\n\n<pre><code>&lt;%= form_tag({ action: :approve_reviews, rating: 5 }) do -%&gt;\n  &lt;%= hidden_field_tag 'order_ids', @orders %&gt;\n  &lt;%= submit_tag 'Approve reviews with 5 stars' %&gt;\n&lt;%= end -%&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3065, "user_id": 419959, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7ca7408d9899de034d52aeca2df043a5?s=128&d=identicon&r=PG", "display_name": "Aswin Ramakrishnan", "link": "https://stackoverflow.com/users/419959/aswin-ramakrishnan"}, "is_accepted": true, "score": 0, "last_activity_date": 1452636023, "last_edit_date": 1452636023, "creation_date": 1452635592, "answer_id": 34754452, "question_id": 34754264, "link": "https://stackoverflow.com/questions/34754264/using-form-tag-to-create-a-button/34754452#34754452", "title": "Using form_tag to create a button", "body": "<p>I'd recommend doing it this way -</p>\n\n<ol>\n<li>It is a bad idea to send so much data through the URL</li>\n<li>Have a <code>form</code> and a hidden field that contains the values for the order IDs (and probably Rating, unless you have your routes configured for it)</li>\n<li><p>Have a simple button that just submits the form when clicked</p>\n\n<pre><code>&lt;%= form_tag({ :action =&gt; :approve_reviews }) do -%&gt;\n    &lt;%= hidden_field_tag :order_ids, :value =&gt; @orders %&gt;\n    &lt;%= hidden_field_tag :rating, :value =&gt; 5 %&gt;\n    &lt;%= submit_tag \"Approve reviews with 5 stars\" %&gt;\n &lt;% end -%&gt;\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 7894, "user_id": 981616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92513702d30405c7e2ca056bdc72aa9f?s=128&d=identicon&r=PG", "display_name": "uday", "link": "https://stackoverflow.com/users/981616/uday"}, "is_accepted": false, "score": 1, "last_activity_date": 1452636835, "creation_date": 1452636835, "answer_id": 34754752, "question_id": 34754264, "link": "https://stackoverflow.com/questions/34754264/using-form-tag-to-create-a-button/34754752#34754752", "title": "Using form_tag to create a button", "body": "<p>You can simply add <code>params:{}</code> in the end to <code>your button_to</code></p>\n\n<p><code>&lt;%= button_to \"Approve reviews with 5 stars\", action: :approve_reviews, params: {order_ids: @orders, rating: 5} %&gt;</code></p>\n\n<p>Note: by default the method will be post so you don't have to specify the method.</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 191, "user_id": 5665142, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8169f3ad928be16311262c50315800d5?s=128&d=identicon&r=PG&f=1", "display_name": "learningruby347", "link": "https://stackoverflow.com/users/5665142/learningruby347"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 34754452, "answer_count": 3, "score": 0, "last_activity_date": 1452814172, "creation_date": 1452634703, "last_edit_date": 1452814172, "question_id": 34754264, "link": "https://stackoverflow.com/questions/34754264/using-form-tag-to-create-a-button", "title": "Using form_tag to create a button", "body": "<p>So I have this code in my views to create a button that approves all 5 star reviews. The issue I'm facing is that <code>button_to</code> doesn't hide the params and order_ids is about 200 order objects. So when I click on the button, I get the error </p>\n\n<p><code>Request-URI Too Large WEBrick::HTTPStatus::RequestURITooLarge</code> </p>\n\n<p>I think I need to use the <code>form_tag</code> helper but I'm not too sure how to make a button with <code>form_tag</code>. Or how to link the two things. </p>\n\n<pre><code>&lt;div style=\"margin: 0 0 50px 0\"&gt;\n  &lt;%= button_to \"Approve reviews with 5 stars\",\n    { action: :approve_reviews, order_ids: @orders, rating: 5 }\n    , method: :post %&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "refactoring"], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1745190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c432b829ab6f01f221e56a3586b8d296?s=128&d=identicon&r=PG", "display_name": "updater", "link": "https://stackoverflow.com/users/1745190/updater"}, "edited": false, "score": 0, "creation_date": 1452635581, "post_id": 34754334, "comment_id": 57255053, "body": "I need this as as Service, because my class have more def ;)"}], "tags": [], "owner": {"reputation": 3134, "user_id": 3884750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100003183948251/picture?type=large", "display_name": "Oleg  Sobchuk", "link": "https://stackoverflow.com/users/3884750/oleg-sobchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1452635394, "last_edit_date": 1452635394, "creation_date": 1452635081, "answer_id": 34754334, "question_id": 34754132, "link": "https://stackoverflow.com/questions/34754132/refactor-small-service/34754334#34754334", "title": "Refactor small Service", "body": "<p>it should be in <code>Report</code> model:</p>\n\n<pre><code>class Report &lt; ActiveRecord::Base\n  STATUSES = {read: 'read', pending: 'pending'}\n\n  scope :ordered_limit, -&gt;(limit) { order('created_at DESC').limit(limit) }\n  scope :filter_category, -&gt;(category) { where(category: category) if category }\n  scope :filter_cost, -&gt;(cost) { where(cost: cost) if cost }\n  scope :filter_email, -&gt;(email) { where(email: email) if email }\n\n  def self.get_oldest_reports(count, filter={})\n    reports = unread.ordered_limit(count)\n      .filter_category(filter[:category])\n      .filter_cost(cost)\n      .filter_email(email)\n    reports.update_all(status: STATUSES[:read])\n\n    reports.to_a # not sure you need it\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 542, "user_id": 1222686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc20c50605a4005303bfc6452899b723?s=128&d=identicon&r=PG", "display_name": "kimrgrey", "link": "https://stackoverflow.com/users/1222686/kimrgrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1452638747, "creation_date": 1452638747, "answer_id": 34755198, "question_id": 34754132, "link": "https://stackoverflow.com/questions/34754132/refactor-small-service/34755198#34755198", "title": "Refactor small Service", "body": "<p>You can do something like this if you want to simplify code that works with filters:</p>\n\n<pre><code>reports = Report.unread.order('created_at DESC').limit(count)\n[:category, :cost, :email].each do |key|\n  reports = reports.where(key =&gt; filter[key]) if filter[key].present?\nend\nreports.update_all(status: Report.statuses[:read])\nreports.to_a\n</code></pre>\n\n<p>And, by the way, it's not good idea to call <code>update_all</code> in method named <code>get_xxx</code>. If I'm getting something I'm not expecting that something will be changed.</p>\n\n<p>P.S. If you like oneliners you can even do something like this:</p>\n\n<pre><code>reports.where(filter.slice(:category, :cost, :email).select { |k, v| v.present? })\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 1745190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c432b829ab6f01f221e56a3586b8d296?s=128&d=identicon&r=PG", "display_name": "updater", "link": "https://stackoverflow.com/users/1745190/updater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452640157, "creation_date": 1452634214, "last_edit_date": 1452640157, "question_id": 34754132, "link": "https://stackoverflow.com/questions/34754132/refactor-small-service", "title": "Refactor small Service", "body": "<p>I have this small code</p>\n\n<pre><code>class ReadReportService\n  def self.get_oldest_reports(count, filter={})\n    reports = Report.unread.order('created_at DESC').limit(count)\n\n    reports = reports.where(category: filter[:category]) if filter[:category].present?\n    reports = reports.where(cost: filter[:cost]) if filter[:cost].present?\n    reports = reports.where(email: filter[:email]) if filter[:email].present?\n\n    reports.update_all(status: Report.statuses[:read])\n\n    reports.to_a\n  end\nend\n</code></pre>\n\n<p>Can I do this better and nicer? How Can I improve check hash parameters present?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 1224, "user_id": 1170266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b2db3460298af8f4a585f95cf556874?s=128&d=identicon&r=PG", "display_name": "archana", "link": "https://stackoverflow.com/users/1170266/archana"}, "edited": false, "score": 3, "creation_date": 1452633038, "post_id": 34753806, "comment_id": 57253795, "body": "You are correct that you will have to do it in multiple taps <code>Object.tap(&amp;:do_work).tap(&amp;:do_more_work)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1296, "user_id": 5773006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ddVI.jpg?s=128&g=1", "display_name": "axvm", "link": "https://stackoverflow.com/users/5773006/axvm"}, "is_accepted": true, "score": 0, "last_activity_date": 1452633464, "creation_date": 1452633464, "answer_id": 34753953, "question_id": 34753806, "link": "https://stackoverflow.com/questions/34753806/using-symbolto-proc-with-multiple-procs/34753953#34753953", "title": "Using Symbol#to_proc with multiple procs", "body": "<p>If you are looking for a good architectural solution then you need to implement <a href=\"https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)\" rel=\"nofollow\">FIFO</a> stack for that.</p>\n\n<p>Or you can do it like you mentioned above:</p>\n\n<pre><code>Object.tap(&amp;:do_work).tap(&amp;:do_more_work)\n</code></pre>\n"}], "owner": {"reputation": 246, "user_id": 3946042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ee6e460265caf3c4324311216405e7?s=128&d=identicon&r=PG&f=1", "display_name": "ebrohman", "link": "https://stackoverflow.com/users/3946042/ebrohman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 34753953, "answer_count": 1, "score": 0, "last_activity_date": 1452633464, "creation_date": 1452632798, "question_id": 34753806, "link": "https://stackoverflow.com/questions/34753806/using-symbolto-proc-with-multiple-procs", "title": "Using Symbol#to_proc with multiple procs", "body": "<p>I have some ruby code that operates on an ActiveRecord object using a couple of methods, and the end game is to return the object itself.  I want to use two methods that have return values other than the object itself (boolean values).  I like using the shorthand Symbol#to_proc syntax, i.e.</p>\n\n<pre><code>Object.tap(&amp;:do_work)\n</code></pre>\n\n<p>Is it possible to pass multiple procs? i.e.</p>\n\n<pre><code>Object.tap(&amp;:do_work, &amp;:do_more_work)\n</code></pre>\n\n<p>The above syntax does not work.  Is this possible or do I have to do something like:</p>\n\n<pre><code>Object.tap(&amp;:do_work).tap(&amp;:do_more_work)\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongoid"], "answers": [{"tags": [], "owner": {"reputation": 4054, "user_id": 3626701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401db4625e42a7797db528d1f7ddcb00?s=128&d=identicon&r=PG", "display_name": "Oss", "link": "https://stackoverflow.com/users/3626701/oss"}, "is_accepted": false, "score": 0, "last_activity_date": 1453047734, "creation_date": 1453047734, "answer_id": 34840567, "question_id": 34753530, "link": "https://stackoverflow.com/questions/34753530/how-to-not-truncate-mongoid-logs/34840567#34840567", "title": "How to not truncate Mongoid logs?", "body": "<p>Mongoid truncates the logs so you should check your mongo logs. Here is how:</p>\n\n<ul>\n<li><p>First <code>ps aux | grep mongod</code></p></li>\n<li><p>If you specified a log file you will find a <code>--logpath</code> option on your <code>mongod</code> instance. </p></li>\n<li><p>If not you will find something like this <code>mongod --profile=1 --slowms=1 --config /usr/local/etc/mongod.conf</code></p></li>\n<li><p><code>cat /usr/local/etc/mongod.conf</code> to find something like the following</p>\n\n<p>systemLog:\n  destination: file\n  path: /usr/local/var/log/mongodb/mongo.log\n  logAppend: true</p></li>\n<li><p>Then <code>tail -f /usr/local/var/log/mongodb/mongo.log</code></p></li>\n</ul>\n\n<p>This way you can view full un-truncated logs.</p>\n\n<p>If you can not see debug logs then login to <code>mongo</code>, choose your database and then <code>db.setLogLevel(number)</code> where <code>number</code> is between 1 to 5.</p>\n\n<p>Read more about <a href=\"https://docs.mongodb.org/v3.0/reference/method/db.setLogLevel/\" rel=\"nofollow\"><code>db.setLogLevel()</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 5304, "user_id": 740394, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/796442b522b037319711277a81d775ca?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/740394/rodrigo"}, "is_accepted": true, "score": 19, "last_activity_date": 1533826419, "last_edit_date": 1533826419, "creation_date": 1453127095, "answer_id": 34857053, "question_id": 34753530, "link": "https://stackoverflow.com/questions/34753530/how-to-not-truncate-mongoid-logs/34857053#34857053", "title": "How to not truncate Mongoid logs?", "body": "<p>After digging into <a href=\"https://github.com/mongodb/mongo-ruby-driver/blob/6e363f40fa7ab6c416f041c67508aa5b0c1d70a0/lib/mongo/monitoring/command_log_subscriber.rb#L31\" rel=\"noreferrer\">Mongo Ruby Driver</a> (which is used by Mongoid >= 5), I've found a solution:</p>\n\n<pre><code>Mongo::Monitoring::CommandLogSubscriber::LOG_STRING_LIMIT = 1_000\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>The proper way to do this is add <code>truncate_logs</code> option to mongoid.yml file:</p>\n\n<p><strong>config/mongoid.yml:</strong></p>\n\n<pre><code>development:\n  clients:\n    default:\n      database: database_name_development\n      hosts:\n        - localhost:27017\n      options:\n        truncate_logs: false\n</code></pre>\n\n<p>--</p>\n\n<p><em>Mongoid has a poor documentation</em></p>\n"}], "owner": {"reputation": 5304, "user_id": 740394, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/796442b522b037319711277a81d775ca?s=128&d=identicon&r=PG", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/740394/rodrigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 0, "accepted_answer_id": 34857053, "answer_count": 2, "score": 11, "last_activity_date": 1533826419, "creation_date": 1452631831, "last_edit_date": 1452887806, "question_id": 34753530, "link": "https://stackoverflow.com/questions/34753530/how-to-not-truncate-mongoid-logs", "title": "How to not truncate Mongoid logs?", "body": "<p>This is how the Mongoid log the operations:</p>\n\n<pre><code>D, [2016-01-12T18:42:19.790639 #7906] DEBUG -- : MONGODB | localhost:27017 | app_test.update | STARTED | {\"update\"=&gt;\"users\", \"updates\"=&gt;[{\"q\"=&gt;{\"_id\"=&gt;BSON::ObjectId('5695652bc54d2d1ee200001e')}, \"u\"=&gt;{\"$addToSet\"=&gt;{\"favorite_ids\"=&gt;{\"$each\"=&gt;[BSON::ObjectId('5695652bc54d2d1ee200001f')]}}}, \"multi\"=&gt;false, \"upsert\"=&gt;false}], \"writeConcern\"=&gt;{:w=&gt;1}, \"orde...\n</code></pre>\n\n<p>I want to be able to see the full log message. Is that possible?</p>\n\n<p>Obs: I'm using <strong>Mongoid 5</strong>.</p>\n"}, {"tags": ["ruby", "macos", "rvm"], "comments": [{"owner": {"reputation": 1231, "user_id": 1082010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EiEby.png?s=128&g=1", "display_name": "Mareq", "link": "https://stackoverflow.com/users/1082010/mareq"}, "edited": false, "score": 0, "creation_date": 1452629095, "post_id": 34752495, "comment_id": 57251626, "body": "Error message is <i>Unrecognized archive format</i> and the file extension is <code>.bz2</code>. Do you have <code>bzip2</code> compression tool installed?"}, {"owner": {"reputation": 45322, "user_id": 421705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581b1760881c962648f99d6040d41829?s=128&d=identicon&r=PG", "display_name": "Holger Just", "link": "https://stackoverflow.com/users/421705/holger-just"}, "edited": false, "score": 0, "creation_date": 1452631269, "post_id": 34752495, "comment_id": 57252837, "body": "It seems your internet provider (in this case, your public library) somehow interferes with the download. Also, at least I needed the git master of RVM to install Ruby 2.3. Use <code>rvm get head</code> and try again."}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 3191428, "user_type": "registered", "profile_image": "https://graph.facebook.com/10716206/picture?type=large", "display_name": "Kevin Choubacha", "link": "https://stackoverflow.com/users/3191428/kevin-choubacha"}, "is_accepted": false, "score": 0, "last_activity_date": 1452639760, "creation_date": 1452639760, "answer_id": 34755433, "question_id": 34752495, "link": "https://stackoverflow.com/questions/34752495/cant-install-ruby-2-3-0-with-rvm-1-26-11-osx-yosemite/34755433#34755433", "title": "Can&#39;t install Ruby 2.3.0 with rvm 1.26.11 (OSX Yosemite)", "body": "<p>It looks like you need to open up your web browser and accept their terms of service. There's a connect link in the file that got downloaded by rvm.</p>\n\n<p>Once that is set up the requests should probably work and it will download the proper file instead of getting redirected to a wifi splash screen.</p>\n\n<p>You might also try a different wireless hotspot.</p>\n"}], "owner": {"reputation": 667, "user_id": 2675858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/882fb3a24f09726fa15d2dbe96413086?s=128&d=identicon&r=PG&f=1", "display_name": "Uzzar", "link": "https://stackoverflow.com/users/2675858/uzzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1678, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1452639760, "creation_date": 1452627924, "last_edit_date": 1452631413, "question_id": 34752495, "link": "https://stackoverflow.com/questions/34752495/cant-install-ruby-2-3-0-with-rvm-1-26-11-osx-yosemite", "title": "Can&#39;t install Ruby 2.3.0 with rvm 1.26.11 (OSX Yosemite)", "body": "<p>Trying to figure out why I am unable to install <code>ruby 2.3.0</code></p>\n\n<h1>Steps Taken:</h1>\n\n<ul>\n<li>made sure I had latest stable version of rvm by running <code>rvm get stable</code></li>\n<li>made sure to update homebrew (suggested on a stackoverflow post) by running <code>brew update</code> </li>\n<li>made sure that xcode command lines tools are up to date for OS X Yosemite (10.10.5)</li>\n<li>run <code>rvm install 2.3.0</code> command while on global gemset</li>\n</ul>\n\n<h1>Error Message:</h1>\n\n<p>rvm install 2.3.0</p>\n\n<pre><code>ruby  \nSearching for binary rubies, this might take some time.\nNo binary rubies available for: osx/10.10/x86_64/ruby-2.3.0.\nContinuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.\nChecking requirements for osx.\nCertificates in '/usr/local/etc/openssl/cert.pem' are already up to date.\nRequirements installation successful.\nInstalling Ruby from source to: /Users/uzzar/.rvm/rubies/ruby-2.3.0, this may take a while depending on your cpu(s)...\nruby-2.3.0 - #downloading ruby-2.3.0, this may take a while depending on your connection...\nruby-2.3.0 - #extracting ruby-2.3.0 to /Users/uzzar/.rvm/src/ruby-2.3.0....\nError running '__rvm_package_extract /Users/uzzar/.rvm/archives/ruby-2.3.0.tar. bz2 /Users/uzzar/.rvm/tmp/rvm_src_75065',\nshowing last 15 lines of /Users/uzzar/.rvm/log/1452550299_ruby-2.3.0/extract.log\n++ [[ -d /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0 ]]\n++ case \"$1\" in\n++ [[ -n '' ]]\n++ __rvm_tar xjf /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 -C /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0\n++ tar xjf /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 -C /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0\ntar: Unrecognized archive format\ntar: Error exit delayed from previous errors.\n++ return 1\n++ return 1\n++ __return=1\n++ ((  __return == 0  ))\n++ [[ -n /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0 ]]\n++ command rm -rf /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0\n++ rm -rf /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.65tKWmz0\n++ return 1\nThere has been an error while trying to extract the source. Halting the installation.\nThere has been an error fetching the ruby interpreter. Halting the installation.\n</code></pre>\n\n<h1>Output of <code>/Users/uzzar/.rvm/log/1452549742_ruby-2.3.0/extract.log</code>:</h1>\n\n<pre><code>ruby  \n[2016-01-11 17:02:22] __rvm_package_extract__rvm_package_extract () \n{ \n    rvm_debug __rvm_package_extract:$#: \"$@\";\n    \\typeset __tempdir __path __file __return;\n    __return=0;\n    __tempdir=\"$( TMPDIR=\"${rvm_tmp_path}\" mktemp -d -t rvm-tmp.XXXXXXXXX     )\";\n    __rvm_package_extract_run \"$1\" \"$__tempdir\" || __return=$?;\n    if (( __return == 0 )); then\n        for __path in \"$__tempdir\"/*;\n        do\n            __file=\"${__path##*/}\";\n            if [[ -n \"${__file}\" &amp;&amp; -e \"$2/${__file}\" ]]; then\n                \\command \\rm -rf \"$2/${__file}\" || __return=$?;\n            fi;\n            \\command \\mv -f \"${__path}\" \"$2/\" || __return=$?;\n        done;\n    fi;\n    if [[ -n \"$__tempdir\" ]]; then\n        \\command \\rm -rf \"$__tempdir\";\n    fi;\n    return $__return\n}\ncurrent path: /Users/uzzar/.rvm/src\nGEM_HOME=/Users/uzzar/.rvm/gems/ruby-2.2.1@global\nPATH=/usr/local/opt/pkg-config/bin:/usr/local/opt/libtool/bin:/usr/local/opt/automake/bin:/usr/local/opt/autoconf/bin:/Users/uzzar/.rvm/gems/ruby-2.2.1@global/bin:/Users/uzzar/.rvm/rubies/ruby-2.2.1/bin:/Users/uzzar/.rvm/bin:/Applications/Postgres.app/Contents/Versions/9.4/bin:/Users/uzzar/.nvm/v0.10.36/bin:/usr/local/heroku/bin:/Users/uzzar/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/git/bin:/Users/uzzar/.nvm/nvm.sh:/Users/uzzar/.node/bin:/usr/local/bin\nGEM_PATH=/Users/uzzar/.rvm/gems/ruby-2.2.1@global\ncommand(3): __rvm_package_extract /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 /Users/uzzar/.rvm/tmp/rvm_src_75065\n++ rvm_debug __rvm_package_extract:2: /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 /Users/uzzar/.rvm/tmp/rvm_src_75065\n++ ((  0  ))\n++ return 0\n++ typeset __tempdir __path __file __return\n++ __return=0\n+++ TMPDIR=/Users/uzzar/.rvm/tmp\n+++ mktemp -d -t rvm-tmp.XXXXXXXXX\n++ __tempdir=/Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\n++ __rvm_package_extract_run /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\n++ [[    != *\\ \\-\\-\\n\\o\\-\\s\\a\\m\\e\\-\\o\\w\\n\\e\\r\\ * ]]\n++ __rvm_tar --help\n++ __rvm_grep -- --no-same-owner\n++ GREP_OPTIONS=\n++ command grep -- --no-same-owner\n++ grep -- --no-same-owner\n++ return 1\n++ [[ -d /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se ]]\n++ case \"$1\" in\n++ [[ -n '' ]]\n++ __rvm_tar xjf /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 -C /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\n++ tar xjf /Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2 -C /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\ntar: Unrecognized archive format\ntar: Error exit delayed from previous errors.\n++ return 1\n++ return 1\n++ __return=1\n++ ((  __return == 0  ))\n++ [[ -n /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se ]]\n++ command rm -rf /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\n++ rm -rf /Users/uzzar/.rvm/tmp/rvm-tmp.XXXXXXXXX.mARyv1Se\n++ return 1\n</code></pre>\n\n<p>Looked in <code>/Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2</code> to see what I could find and I got this: </p>\n\n<pre><code>html    \n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;title&gt;BPL Wireless Internet Access&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" /&gt;\n    &lt;meta name=\"robots\" content=\"noindex, nofollow\" /&gt;\n  &lt;style media=\"screen\" type=\"text/css\"&gt;\n        html { font-size: 100%; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }\n        form { margin: 0; }\n        label { cursor: pointer; }\n        button, input { font-size: 100%; margin: 0; vertical-align: baseline; *vertical-    align: middle; line-height: normal; *overflow: visible; }\n    button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }\n\n        a, a:visited, a:active {color: #1682b9; text-decoration: none;}\n        a:hover {color: #444;}\n\n        .hidden { display: none; }\n\n        body {\n          margin: 0;\n          padding:0;\n          background: #fff;\n          color: #333;\n          font-size: 14px;\n          line-height: 1.4em;\n          font-family: futura, arial, sans-serif;\n        }\n\n        h1 { font-family: helvetica, helvetica neue, futura, arial, sans-serif; }\n        h1 {\n          font-size: 24px;\n          font-weight: bold;\n          color: #676767;\n          margin: 0;\n        }\n        h2 {\n          font-size: 14px;\n          font-weight: normal;\n          margin-bottom:10px;\n        }\n\n        ul {margin:8px 8px 8px 24px; padding:0}\n        li {padding-bottom:8px}\n\n\n        #container {\n          margin: 0 auto;\n          padding: 0;\n          overflow: auto;\n          width: 100%\n        }\n\n        .header {\n          background: #ececeb;\n          border-bottom: 1px solid #ddd;\n          padding: 0;\n          margin: 0 0 1em 0;\n        }\n\n        .header h1 { background: url(images/header2.png) no-repeat #ececeb; height:93px; text-indent:-9999px}\n\n\n        #content {margin:0 0 0 15px; max-width:885px}\n\n        #contentwrapper{\n        float: left;\n        width: 100%;\n        }\n\n        #msg_col {\n          margin-left:238px;\n        }\n\n        #msg_col p {margin:0 0 10px 0; padding:0; font-weight:bold}\n\n        #button_col {\n          float: left;\n          width: 220px;\n          margin-left: -100%\n        }\n\n        .color_button {\n          font-size: 18px;\n          padding: 8px 20px;\n          -moz-border-radius: 3px;\n          border: 1px solid #325098;\n          border-radius: 3px;\n          font-style: normal;\n          font-weight: 600;\n          background: #4060ad;\n          white-space: nowrap;\n          display: inline-block;\n          box-shadow: 1px 1px 2px 2px #ddd;\n          }\n\n        .color_button:hover, .color_button:focus {\n          background: #345197;\n        }\n\n        .color_button a {\n          padding: 12px 3px;\n          display: block;\n          border: none;\n          background: none;\n          width: 100%;\n          height: auto;\n          color: #fff;\n          margin: -3px auto;\n          cursor: pointer;\n        }\n\n\n        #footer {\n          clear: both;\n          padding: 0;\n          margin: 2em 15px 20px 15px;\n          color: #444;\n          max-width:870px\n        }\n\n\n        #footer-items {margin:0; padding:0;}\n        #footer-items li.boxit {\n            list-style:none;\n            display:inline;\n            float:left;\n            margin:10px 0 0 0;\n            padding:0;\n            width:33%\n            }\n\n      #footer-items li h2 {\n          border-bottom:1px dotted #aaa;\n          }\n\n\n        #footer-items li div {\n            font-size: 12px;\n            padding:0 34px 0 0\n            }\n\n        #footer-items img {\n            float:left; \n            padding:0 10px 4px 0\n            }\n\n        #connect {margin:0}\n        #connect li {margin:0 14px 14px 0; display:inline; float:left; width:32px; text-indent:-9999px;}\n        #connect li a {background: url(images/connect.png?x=5) no-repeat;  display: block; height:32px;}\n        #connect li a.facebook {background-position:0 0}\n        #connect li a.twitter {background-position:0px -32px}\n        #connect li a.flickr {background-position:0px -64px}\n        #connect li a.youtube {background-position:0px -96px}\n        #connect li a.instagram {background-position:0px -128px}\n\n        #credits {clear:both; overflow:auto; margin: 230px 15px 10px 15px;}\n        #credits img {padding:0 10px 0 10px; vertical-align:top}\n\n        /* styles for handheld devices */\n        @media only screen\n        and (max-width : 480px) {\n\n        .header h1 { background: #ececeb url(images/logobpl_sm.png) no-repeat 5px     7px; height:44px; text-indent:0; padding:10px 5px 5px 140px; color:#333; font-    size: 18px; line-height:1.2}\n\n        #contentwrapper{\n        float: none;\n        width: 100%;\n        }\n\n        #msg_col {\n          margin-left:0;\n        }\n\n        #button_col {\n          float: none;\n          width: 100%;\n          margin-left: 0\n        }\n\n        .color_button {width:80%; text-align:center}\n\n        #footer-items li.boxit {\n            list-style:none;\n            display:block;\n            float:none;\n            margin:10px 0 10px 0;\n            padding:5px 0 0;\n            width:100%;\n            clear: both\n            }\n\n        #footer-items li div {\n            padding:0 5px 0 0\n            }\n\n\n        #connect li {\n            list-style:none;\n            display:inline;\n            width:32px;\n            float:left;\n            }\n\n        }\n\n        #mobileapp {background:#5e6b73 url(images/apple-phone2.png) no-repeat 15px bottom; height:110px; max-height:120px; padding:0px 10px 0 112px; margin-top:-1em; margin-bottom:1em; color:#fff;}\n        #mobileapp h2 {font-size:16px; font-weight:bold; margin-bottom:5px; padding-top:10px; color:#fff}\n        #mobileapp a {color:#fff; text-decoration:underline}\n  &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n\n  &lt;div id=\"container\"&gt;\n\n    &lt;div class=\"header\"&gt;\n      &lt;h1&gt;Wireless Internet Access&lt;/span&gt;&lt;/h1&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"mobileapp\"&gt;&lt;h2&gt;Stay connected to BPL while on the go!&lt;/h2&gt;&lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http://www.bklynlibrary.org/my-bpl-mobile-apps\"&gt;Download the My BPL mobile app&lt;/a&gt; for iPhone&amp;reg; and Android&amp;#8482;.&lt;/div&gt;\n\n  &lt;div id=\"content\"&gt;\n\n\n&lt;div id=\"contentwrapper\"&gt;\n  &lt;div id=\"msg_col\"&gt;\n\n    &lt;p&gt;Brooklyn Public Library is happy to provide you with free WiFi internet access&lt;/p&gt;\n\n    &lt;ul&gt;\n      &lt;li&gt;Use of BPL's wireless networks to commit any crime -- including identity theft, the viewing and downloading of child pornography, and the illegal downloading of copyrighted materials is strictly prohibited. Violators may be prosecuted.&lt;/li&gt;\n\n      &lt;li&gt;The Library's wireless network is not secure. Information sent to and from your laptop can be captured by anyone else with a wireless device and the appropriate software.&lt;/li&gt;\n\n      &lt;li&gt;Library staff is not able to provide technical assistance for your device. BPL cannot guarantee a wireless connection.&lt;/li&gt;\n\n      &lt;li&gt;The Library assumes no responsibility for the safety of equipment or for laptop configurations, security, or data files resulting from connection to the Library's network.&lt;/li&gt;\n\n      &lt;li&gt;Laptops, cords and adapters must be properly connected to electrical outlets in a safe manner.&lt;/li&gt;\n\n    &lt;/ul&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div id=\"button_col\"&gt;\n    &lt;div class=\"color_button wider\"&gt;\n        &lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http%3A%2F%2Fwww.bklynlibrary.org%2F\" title=\"Agree &amp; Continue\" id=\"continue_link\"&gt;Agree &amp;amp; Continue&lt;/a&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n\n\n\n    &lt;/div&gt;\n\n  &lt;div id=\"footer\"&gt;\n\n  &lt;ul id=\"footer-items\"&gt;\n\n  &lt;li class=\"boxit\"&gt;\n    &lt;div&gt;\n    &lt;h2&gt;Get a Library Card&lt;/h2&gt;\n\n    &lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=https://bpl.brooklynpubliclibrary.org/patron/registration.aspx\" title=\"Sign up for a library card.\"&gt;&lt;img src=\"images/newcard.png\" alt=\"Library Card\" width=\"112\" height=\"75\" border=\"0\"&gt;Sign up now&lt;/a&gt; for a BPL library card.\n\n    &lt;/div&gt;\n\n  &lt;/li&gt;\n  &lt;li class=\"boxit\"&gt;\n    &lt;h2&gt;Connect with BPL&lt;/h2&gt;\n    &lt;div&gt;\n\n    &lt;ul id=\"connect\"&gt;\n      &lt;li&gt;&lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http://www.facebook.com/BrooklynPublicLibrary\" class=\"facebook\" title=\"facebook\"&gt;facebook&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http://twitter.com/BKLYNlibrary\" class=\"twitter\"&gt;twitter&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http://instagram.com/BKLYNlibrary\" class=\"instagram\" title=\"instagram\"&gt;instagram&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"https://n28.network-auth.com/splash/grant?continue_url=http:// www.youtube.com/user/BPLvideos\" class=\"youtube\"&gt;youtube&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;/div&gt;\n\n  &lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;div id=\"credits\"&gt;\n  Powered by: \n  &lt;img src=\"images/twcable.png\" alt=\"Time Warner Cable\" width=\"100\" height=\"40\" border=\"0\"&gt;\n  &lt;img src=\"images/powertolearn.png\" alt=\"Power to Learn - a service of CABLEVISION\" width=\"160\" height=\"40\" border=\"0\"&gt;\n  &lt;/div&gt;\n\n  &lt;/div&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The contents of  <code>/Users/uzzar/.rvm/archives/ruby-2.3.0.tar.bz2</code> suggests that I might be having this problem due to access to internet? Not sure but would appreciate your help/explanation.  </p>\n\n<p>Thank you</p>\n"}, {"tags": ["ruby", "selenium-webdriver", "cucumber", "capybara", "site-prism"], "comments": [{"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 0, "creation_date": 1452640288, "post_id": 34752426, "comment_id": 57257143, "body": "The idea is for scenarios to be isolated from each other so that something in one scenario doesn&#39;t break a different scenario - If the background is only being called once then changes made in one scenario could affect others, and your scenario running becomes order dependent -  If you are just wanting to prepopulate some tables that don&#39;t get changed by the tests then you might want to look at the :except option for DatabaseCleaner when used with :truncation"}], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1452633417, "post_id": 34753812, "comment_id": 57253972, "body": "I am using Ruby here in my test frameworks. And i have written similar structure as you have, ran before hook only once with login steps but still i want to run background only once for each feature files. Because i don&#39;t want to load same data again and again before each scenario which takes way lot of my time. And different feature files i have different set of data to load. So my background should execute only once."}, {"owner": {"reputation": 670, "user_id": 5244942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fARol.jpg?s=128&g=1", "display_name": "N..", "link": "https://stackoverflow.com/users/5244942/n"}, "reply_to_user": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1452635577, "post_id": 34753812, "comment_id": 57255048, "body": "You could hack background using status but it is not good and Industrial standard to do. As per my knowledge there is no way to run background using cucumber"}, {"owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1452703631, "post_id": 34753812, "comment_id": 57289655, "body": "I can fix it using a work around: instead having multiple scenarios, i can keep all steps into 1 scenario and having some modification in my step codes which actually might resolve my issue."}, {"owner": {"reputation": 670, "user_id": 5244942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fARol.jpg?s=128&g=1", "display_name": "N..", "link": "https://stackoverflow.com/users/5244942/n"}, "reply_to_user": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "edited": false, "score": 0, "creation_date": 1452704890, "post_id": 34753812, "comment_id": 57290597, "body": "All modification in scenario should make sense to Business owner and other stake holder. Fixing scenario for Automation point is not good idea."}], "tags": [], "owner": {"reputation": 670, "user_id": 5244942, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fARol.jpg?s=128&g=1", "display_name": "N..", "link": "https://stackoverflow.com/users/5244942/n"}, "is_accepted": false, "score": 0, "last_activity_date": 1452632824, "creation_date": 1452632824, "answer_id": 34753812, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/34753812#34753812", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>We had similar problem and couldn't find any solution for background for multiple scenario. Background is design to run for all scenario after every scenario it will run Background. If you have examples in scenario in this case it will run after each examples.</p>\n\n<p>We had to option to fix this problem.</p>\n\n<p>1) Used @BeforeClass Annotation of junit\n2) Create setup scenario and It will always execute in first place.</p>\n\n<p>For example : In API testing, You take login once and used that session every time to access other API</p>\n\n<p>Feature:Setup Data\nGiven Customer logs in as System Admin</p>\n\n<p>Scenario: Verify ......... 1 When A1 And B1 Then C1</p>\n\n<p>Scenario: Verify ......... 2 When A2 And B2 Then C2</p>\n\n<p>Scenario: Verify ......... 2 When A3 And B3 Then C3</p>\n\n<p>After first scenario it will execute all scenario and You don't need to use background. </p>\n\n<p>I would say using background every time it must be part of business requirement else it will create unwanted test data and load on testing environment and may result in slow down testing execution time.</p>\n\n<p>Please let me know if you find other solution.</p>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 3434387, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AF81I.jpg?s=128&g=1", "display_name": "Saikat", "link": "https://stackoverflow.com/users/3434387/saikat"}, "is_accepted": true, "score": 4, "last_activity_date": 1455755530, "creation_date": 1455755530, "answer_id": 35470545, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/35470545#35470545", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>Background is designed to run each time before each scenario. Its not good and standard as well to hack Background. </p>\n"}, {"comments": [{"owner": {"reputation": 485, "user_id": 819000, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QUefa.jpg?s=128&g=1", "display_name": "Syed Siraj Uddin", "link": "https://stackoverflow.com/users/819000/syed-siraj-uddin"}, "edited": false, "score": 0, "creation_date": 1561109301, "post_id": 41618795, "comment_id": 99965012, "body": "@BeforeAll is not a cucumber annotation"}], "tags": [], "owner": {"reputation": 336, "user_id": 976718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d92bb4f0aded45d1bd177eff37e080e?s=128&d=identicon&r=PG", "display_name": "burythehammer", "link": "https://stackoverflow.com/users/976718/burythehammer"}, "is_accepted": false, "score": 3, "last_activity_date": 1484240059, "creation_date": 1484240059, "answer_id": 41618795, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/41618795#41618795", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>Tests <strong>should be isolated</strong>. That is the way Cucumber is designed, and there's a very good reason for it. I would strongly urge against it unless you absolutely have to.</p>\n\n<p>If you have something that needs to be executed before your entire test suite, consider a @BeforeAll hook.</p>\n\n<p>That said, I've come across this before. We had tests which would start a process that took a long time (such as provisioning a VM, which would take 10 minutes a time..), but could be skipped in other tests if it had already been done.</p>\n\n<p>So you may want to design steps along the lines of..</p>\n\n<p>\"Given that .. X has been done\"</p>\n\n<p>and in the step detect whether X is done or not, and if not, then do X. If it has, then skip it. For example, say creating users is a process that takes absolutely ages. Then we could do..</p>\n\n<p><code>Given that user \"Joe Bloggs\" has been created</code></p>\n\n<p>The step definition would first try to determine if Joe existed, and then if they didn't, create the user. You have an initial start up problem, but then other tests will be able to safely assume Joe exists.</p>\n\n<p><strong>WHY YOU SHOULD NOT DO THIS</strong></p>\n\n<p>If you do this, there's a high probability your tests will conflict with one another. </p>\n\n<p>Say you have lots of tests that use the Joe Bloggs user. Maybe some will delete him from the system. Some might temporarily deactivate the user, add roles, change their name.. all sorts of things. All tests assume certain things about the system they're testing, and you are intentionally harming your tests assumptions about the environment.</p>\n\n<p>It's particularly bad if you are running parallel tests. Maybe your system has a restriction that only one person can log in at a time as Joe. Or every test is changing loads of things about Joe, and no test can assume anything about the state of the Joe user. Then you'll be in a huge mess.</p>\n\n<p>The best solution is often to create brand new data for each test you run. Open up those APIs and create disposable data for each test run. Here's a good blog post about it: <a href=\"https://opencredo.com/test-automation-concepts-data-aliases/\" rel=\"nofollow noreferrer\">https://opencredo.com/test-automation-concepts-data-aliases/</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3045809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nbK_0-Xm7xM/AAAAAAAAAAI/AAAAAAAADnc/E5rlzoH7b90/photo.jpg?sz=128", "display_name": "Varun Naresh", "link": "https://stackoverflow.com/users/3045809/varun-naresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1544167272, "last_edit_date": 1544167272, "creation_date": 1544166445, "answer_id": 53664805, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/53664805#53664805", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>Running some steps (<strong>Background</strong>) before each <em>set of scenarios</em> or a <em>Scenario Outline</em> can also be achieved by creating a <strong>tagged @Before</strong> method and passing a Scenario object as parameter. Within the before method, execute your logic only if the scenario name is different as compared to the last scenario.</p>\n\n<p>Below is a how you can do it:</p>\n\n<pre><code>Feature:Setup Data Given Customer logs in as System Admin\n\n@BeforeMethodName\nScenario Outline: Verify ......... 1 \n    When &lt;Variable1&gt; And &lt;Variable2&gt; \n    Then &lt;Variable3&gt;\n\nExamples:\n    | Variable1 | Variable2 | Variable3 |\n    | A1        | B1        | C1        |\n    | A2        | B2        | C2        |\n    | A3        | B3        | C3        |\n    | A4        | B4        | C4        |\n\n\n@BeforeMethodName\nScenario Outline: Verify ......... 2 \n    When &lt;Variable1&gt; And &lt;Variable2&gt; \n    Then &lt;Variable3&gt;\n\nExamples:\n    | Variable1 | Variable2 | Variable3 |\n    | X1        | Y1          | Z1      |\n    | X2        | Y2          | Z2      |\n    | X3        | Y3          | Z3      |\n    | X4        | Y4          | Z4      |\n</code></pre>\n\n<p>And define the @BeforeMethodName as below:</p>\n\n<pre><code>private static String scenarioName = null;\n\npublic className BeforeMethodName(Scenario scene) {\n\n        if(!scene.getName().equals(scenarioName)) {\n\n//            Implement your logic\n\n        scenarioName = scene.getName()\n        }\n\n        return this;\n    }\n</code></pre>\n\n<p>This way BeforeMethodName will be called before each scenario but will execute the logic only once per Scenario Outline.</p>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 6800247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3060495c5d90b4295387d6df3b959966?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Hill", "link": "https://stackoverflow.com/users/6800247/luke-hill"}, "is_accepted": false, "score": 0, "last_activity_date": 1550839898, "creation_date": 1550839898, "answer_id": 54827593, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/54827593#54827593", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p><em>Old issue, but adding incase others find this.</em></p>\n\n<p>As has been mentioned, cucumber should only be used to structure your code.</p>\n\n<p>You can use tagged hooks to create items which are used on a sub-set of tests. Furthermore you could isolate the code into Helpers, and then conditionally call these helpers inside your ruby steps.</p>\n\n<p>Probably need a bit more clarity to make a judgement</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5078315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1y5400Sf9rY/AAAAAAAAAAI/AAAAAAAAAIc/XiWksVRaef4/photo.jpg?sz=128", "display_name": "Mujeeb007", "link": "https://stackoverflow.com/users/5078315/mujeeb007"}, "is_accepted": false, "score": 2, "last_activity_date": 1558406367, "creation_date": 1558406367, "answer_id": 56230400, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen/56230400#56230400", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>If you want your background to be run only once. You can add condition with an instance variable ex, i==0 then execute the logic and increment i at the end of the method.</p>\n\n<p>For the next scenario, i value is 1 which is not equal to 0,the it won't execute the logic. </p>\n"}], "owner": {"reputation": 207, "user_id": 5631763, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/245046d37ae87654c4d5e83266568584?s=128&d=identicon&r=PG&f=1", "display_name": "SaeeK", "link": "https://stackoverflow.com/users/5631763/saeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13163, "favorite_count": 0, "accepted_answer_id": 35470545, "answer_count": 6, "score": 3, "last_activity_date": 1558406367, "creation_date": 1452627674, "last_edit_date": 1452631267, "question_id": 34752426, "link": "https://stackoverflow.com/questions/34752426/want-to-execute-background-only-once-in-cucumber-feature-files-for-multiple-scen", "title": "Want to execute Background only once in Cucumber feature files for multiple scenarios", "body": "<p>I Want to execute Background only once in each cucumber feature files for multiple scenarios. how can i do that in step files?  </p>\n\n<p>Feature: User can verify...........</p>\n\n<p>Background:\n    Given Enter test data for a specific logic</p>\n\n<p>Scenario: Verify ......... 1\n    When   A1\n    And    B1\n    Then   C1</p>\n\n<p>Scenario: Verify ......... 2\n    When   A2\n    And    B2\n    Then   C2</p>\n\n<p>Scenario: Verify ......... 2\n    When   A3\n    And    B3\n    Then   C3</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 1072096, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ODpCT.jpg?s=128&g=1", "display_name": "jmkoni", "link": "https://stackoverflow.com/users/1072096/jmkoni"}, "is_accepted": true, "score": 5, "last_activity_date": 1452628131, "last_edit_date": 1452628131, "creation_date": 1452627554, "answer_id": 34752389, "question_id": 34752304, "link": "https://stackoverflow.com/questions/34752304/model-validation-not-working-in-rails-4/34752389#34752389", "title": "Model Validation not working in rails 4", "body": "<p>You have misspelled minimum :) Try this:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  validates :username, presence: true, length: { minimum: 3, maximum: 25 }\nend\n</code></pre>\n\n<p>Also, re: the answer below, this is directly from the RailsGuides for Active Record Validations:</p>\n\n<pre><code>class Essay &lt; ActiveRecord::Base\n  validates :content, length: {\n    minimum: 300,\n    maximum: 400,\n    tokenizer: lambda { |str| str.split(/\\s+/) },\n    too_short: \"must have at least %{count} words\",\n    too_long: \"must have at most %{count} words\"\n  }\nend\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 2885921, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bCvLZ.jpg?s=128&g=1", "display_name": "tin tin", "link": "https://stackoverflow.com/users/2885921/tin-tin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1577, "favorite_count": 0, "accepted_answer_id": 34752389, "answer_count": 1, "score": 0, "last_activity_date": 1452628131, "creation_date": 1452627225, "question_id": 34752304, "link": "https://stackoverflow.com/questions/34752304/model-validation-not-working-in-rails-4", "title": "Model Validation not working in rails 4", "body": "<p>I don't know why, but I am stuck with a simple issue. I have a simple User model and I have given a simple validation to one of its field ie., username for presence and its length.</p>\n\n<p>Below is the code:</p>\n\n<p>user.rb</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  validates :username, presence: true, length: { minumum: 3, maximum: 25 }\nend\n</code></pre>\n\n<p>Accordingly, </p>\n\n<pre><code>user = User.new(username: 'hi')\nuser.save\n</code></pre>\n\n<p>must fail as the length of the username (i.e., is too short as per the validation given). But in my case it is getting saved without any errors. Currently it is only giving errors when username is blank but not giving errors for min length. Note: I have reload! my rails console </p>\n"}]