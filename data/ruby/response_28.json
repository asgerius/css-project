[{"tags": ["ruby", "selenium", "capybara"], "comments": [{"owner": {"reputation": 15, "user_id": 4958884, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205989745038199/picture?type=large", "display_name": "Tamara Sk", "link": "https://stackoverflow.com/users/4958884/tamara-sk"}, "edited": false, "score": 0, "creation_date": 1437606790, "post_id": 31575566, "comment_id": 51105957, "body": "Please, do not suggest using other solutions that :tab, it&#39;s would be inefficient to switch right now considering large number of tests using it and limited time."}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1437613782, "post_id": 31575566, "comment_id": 51107654, "body": "<a href=\"https://en.wikipedia.org/wiki/Google_Chrome_release_history\" rel=\"nofollow noreferrer\">chrome</a> did release version 44.0.2403 on 2015-07-21."}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1437624631, "post_id": 31575566, "comment_id": 51110153, "body": "chrome updates updates roughly every month or two (although that&#39;s not written in stone).  AFAIK, there&#39;s no official rollback procedure for chrome aside from uninstalling and reinstalling, which assumes you can find the installer for the browser version that you want."}, {"owner": {"reputation": 42014, "user_id": 2709090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238c2b7cde2c817fc9a5a2b8eaa2ffad?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Walpole", "link": "https://stackoverflow.com/users/2709090/thomas-walpole"}, "edited": false, "score": 0, "creation_date": 1437672714, "post_id": 31575566, "comment_id": 51140394, "body": "what version of chromedriver are you using?"}, {"owner": {"reputation": 15, "user_id": 4958884, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205989745038199/picture?type=large", "display_name": "Tamara Sk", "link": "https://stackoverflow.com/users/4958884/tamara-sk"}, "edited": false, "score": 0, "creation_date": 1437677059, "post_id": 31575566, "comment_id": 51143028, "body": "chromedriver: stable 2.10"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 5149103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68863b57a2c1c626325a5594724fc87f?s=128&d=identicon&r=PG&f=1", "display_name": "cjmccann", "link": "https://stackoverflow.com/users/5149103/cjmccann"}, "is_accepted": true, "score": 0, "last_activity_date": 1437677759, "last_edit_date": 1495542611, "creation_date": 1437677759, "answer_id": 31595858, "question_id": 31575566, "link": "https://stackoverflow.com/questions/31575566/selenium-ruby-tab-stopped-working-when-running-test/31595858#31595858", "title": "Selenium Ruby :tab stopped working when running test", "body": "<p>We are having this problem in Chrome as well, and it all started with Chrome update 44.</p>\n\n<p>I tried using \"\\t\", :tab, :return, :enter, and :escape to remove focus from a text input (symbols found <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/rb/Selenium/WebDriver/Keys.html\" rel=\"nofollow noreferrer\">here</a>), but none of them are working in the most recent version of Chrome.</p>\n\n<p>I know you mentioned you are not looking for solutions other than tab, but short of rolling back your browser version and disabling updates, or waiting for the possibility of a fix from Google itself, you will have to change the scripts being executed.</p>\n\n<p>We found that this has worked well so far:\n    driver.execute_script(\"document.activeElement.blur()\")</p>\n\n<p>If the desired behavior in your case is to shift focus two fields forward, then you might consider another Javascript solution that looks something like what is discussed in this thread:\n<a href=\"https://stackoverflow.com/questions/1803338/simulate-the-tab-key-function-in-javascript\">simulate the tab key function in javascript</a></p>\n\n<p>Of course, this probably isn't the best long term solution, as even some very quick Googling shows that sending a tab key to switch focus has been recommended tons of times to people using WebDriver. Because of this, I'm keeping my fingers crossed there will be another Chrome update to revert the behavior.</p>\n"}], "owner": {"reputation": 15, "user_id": 4958884, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205989745038199/picture?type=large", "display_name": "Tamara Sk", "link": "https://stackoverflow.com/users/4958884/tamara-sk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 31595858, "answer_count": 1, "score": 0, "last_activity_date": 1437677759, "creation_date": 1437606697, "last_edit_date": 1437607825, "question_id": 31575566, "link": "https://stackoverflow.com/questions/31575566/selenium-ruby-tab-stopped-working-when-running-test", "title": "Selenium Ruby :tab stopped working when running test", "body": "<p>It worked until today, no code got changed\nSo if I do something like </p>\n\n<p><code>page.find('#edit-user').native.send_keys(:tab, :tab)</code> it's not working (it's highlighting the element #edit-user but not moving forward)      specifically for the tab key, it's working correctly for :space or :enter.</p>\n\n<p>It was working previously, it's a small possibility that it's related to some settings change for the Chrome browser but not sure exactly how and why </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1437607654, "post_id": 31575452, "comment_id": 51106160, "body": "Have a look at <code>collection_chack_boxes</code> method: <a href=\"http://apidock.com/rails/v4.0.2/ActionView/Helpers/FormOptionsHelper/collection_check_boxes\" rel=\"nofollow noreferrer\">apidock.com/rails/v4.0.2/ActionView/Helpers/FormOptionsHelpe&zwnj;&#8203;r/&hellip;</a>. You can use it with a form helper as well like <code>f.collection_check_boxes(:locations, @locations, :id, :name)</code>"}, {"owner": {"reputation": 1211, "user_id": 1422649, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8a165c0b985029fa986eebcc5b4ce730?s=128&d=identicon&r=PG", "display_name": "Evan Ward", "link": "https://stackoverflow.com/users/1422649/evan-ward"}, "reply_to_user": {"reputation": 39050, "user_id": 2336231, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/d7kOQ.jpg?s=128&g=1", "display_name": "BroiSatse", "link": "https://stackoverflow.com/users/2336231/broisatse"}, "edited": false, "score": 0, "creation_date": 1437608180, "post_id": 31575452, "comment_id": 51106306, "body": "Might be braindead from working but ruby api docs seem to read a bit like gibberish to me. Also, how can i set a value in an array to true/false based on them being checked?"}], "answers": [{"comments": [{"owner": {"reputation": 1211, "user_id": 1422649, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8a165c0b985029fa986eebcc5b4ce730?s=128&d=identicon&r=PG", "display_name": "Evan Ward", "link": "https://stackoverflow.com/users/1422649/evan-ward"}, "edited": false, "score": 0, "creation_date": 1437609377, "post_id": 31575895, "comment_id": 51106607, "body": "Thanks for this. Is there a way i can make the <code>exits</code> reference contain <code>locations</code> that are checked, and not contain those that are unchecked?"}], "tags": [], "owner": {"reputation": 178, "user_id": 3821061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db5b26e2eaf048f6630218876cf094e?s=128&d=identicon&r=PG&f=1", "display_name": "spejamchr", "link": "https://stackoverflow.com/users/3821061/spejamchr"}, "is_accepted": false, "score": 0, "last_activity_date": 1437620240, "last_edit_date": 1495535363, "creation_date": 1437608874, "answer_id": 31575895, "question_id": 31575452, "link": "https://stackoverflow.com/questions/31575452/rails-checkbox-form-from-array/31575895#31575895", "title": "Rails - checkbox form from array", "body": "<p>Edit: Sorry, I must have had a brain-fart or something. You're not doing a simple has-many and belongs-to relationship, you want a has-many-and-belongs-to-many relationship. That's more complicated than I know how to explain. But this answer explained it very well: <a href=\"https://stackoverflow.com/questions/2168442/many-to-many-relationship-with-the-same-model-in-rails#answer-2168528\">Many-to-many relationship with the same model in rails?</a></p>\n\n<p>You can get <code>Location#exits</code> instead of <code>Location#locations</code> by changing the name of the <code>has_many</code> relation like this:</p>\n\n<pre><code>class Location &lt; ActiveRecord::Base\n  # has_many :locations   Instead of this...\n  has_many :exits, :class_name =&gt; 'Location' # ...Do this\n  validates :name, presence: true, length: { minimum: 1 }\n  validates :description, presence: true\nend\n</code></pre>\n\n<p>This is called a self-join. You're associating a model with itself.</p>\n\n<p>Keep in mind that this will make <code>Location#locations</code> unavailable.</p>\n\n<p>Then in your form you would do something like:</p>\n\n<pre><code>&lt;% @locations.each do |e| %&gt;\n  &lt;%= f.label :exit %&gt;\n  &lt;%= f.check_box :exit %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>The Ruby on Rails site has a nice guide about associations, includeing self-joins like what you're asking about: <a href=\"http://guides.rubyonrails.org/association_basics.html#self-joins\" rel=\"nofollow noreferrer\">http://guides.rubyonrails.org/association_basics.html#self-joins</a></p>\n\n<p>If you like RailsCasts: <a href=\"http://railscasts.com/episodes/163-self-referential-association\" rel=\"nofollow noreferrer\">http://railscasts.com/episodes/163-self-referential-association</a></p>\n"}], "owner": {"reputation": 1211, "user_id": 1422649, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8a165c0b985029fa986eebcc5b4ce730?s=128&d=identicon&r=PG", "display_name": "Evan Ward", "link": "https://stackoverflow.com/users/1422649/evan-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1437671449, "creation_date": 1437605960, "last_edit_date": 1437671449, "question_id": 31575452, "link": "https://stackoverflow.com/questions/31575452/rails-checkbox-form-from-array", "title": "Rails - checkbox form from array", "body": "<p>I have a admin controller to create \"Locations\", inside of which is a form. In the form you can create a new \"Location\" and give it a name, description, and \"exits\".</p>\n\n<pre><code>&lt;%= form_for @location do |f| %&gt;\n    &lt;p&gt;\n        &lt;%= f.label :name %&gt;&lt;br&gt;\n        &lt;%= f.text_field :name %&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n        &lt;%= f.label :description %&gt;&lt;br&gt;\n        &lt;%= f.text_area :description %&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n        Exits:\n        &lt;br/&gt;\n        &lt;% @locations.each do |e| %&gt;\n            &lt;%= f.label :locations %&gt;\n            &lt;%= f.check_box :locations %&gt;\n        &lt;% end %&gt;\n    &lt;/p&gt;\n\n    &lt;p&gt;\n        &lt;%= f.submit %&gt;\n    &lt;/p&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><code>@locations</code> is all of the available locations to set up as an \"exit\". I'm trying to create an array of locations inside of the new location using checkboxes to check whether or not they should be set as \"exits\", but not really sure how to proceed since i'm just teaching myself and it's day one.</p>\n\n<p>I'm also wondering how to set up the \"exits\" in the Location model. Right now i have:</p>\n\n<pre><code>class Location &lt; ActiveRecord::Base\n    has_many :locations\n    validates :name, presence: true, length: { minimum: 1 }\n    validates :description, presence: true\nend\n</code></pre>\n\n<p>created with:</p>\n\n<pre><code>class CreateLocations &lt; ActiveRecord::Migration\n  def change\n    create_table :locations do |t|\n\n      t.string :name\n      t.text :description\n      t.references :location, index: true, foreign_key: true\n\n      t.timestamps null: false\n    end\n  end\nend\n</code></pre>\n\n<p>But i would like to have them referenced as \"exits\" not \"locations\" (ie <code>Location.exits</code> instead of <code>Location.locations</code>).</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I've updated the form to use the collection_check_boxes helper</p>\n\n<pre><code>&lt;%= f.collection_check_boxes(:exit_ids, @locations, :id, :name) do |cb| %&gt;\n    &lt;%= cb.label %&gt; &lt;%= cb.check_box %&gt; &lt;br/&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>So I have this in the create action now</p>\n\n<pre><code>    def create\n        @location = Location.new(location_params)\n\n        if @location.save\n            params[:location][:exit_ids].each do |e|\n                if e.to_i &gt; 0\n                    tempLocation = Location.find(e.to_i)\n                    @location.allowExitTo(tempLocation)\n                end\n            end\n            redirect_to @location\n        else\n            render 'new'\n        end\n    end\n</code></pre>\n\n<p>Which goes allows exits through:</p>\n\n<pre><code>def allowExitTo(other_location)\n    exit_locations.create(to_id: other_location.id)\nend\n</code></pre>\n\n<p>creating an exit relationship with:</p>\n\n<pre><code>class Exit &lt; ActiveRecord::Base\n    belongs_to :from, class_name: 'Location'\n    belongs_to :to, class_name: 'Location'\n\n    validates :from_id, presence: true\n    validates :to_id, presence: true\nend\n</code></pre>\n\n<p>Hope I'm on the right track. It seems to work so I guess so.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "class", "inheritance", "scope"], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 510722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z6pTT.jpg?s=128&g=1", "display_name": "ajmccluskey", "link": "https://stackoverflow.com/users/510722/ajmccluskey"}, "is_accepted": true, "score": 3, "last_activity_date": 1437610148, "last_edit_date": 1437610148, "creation_date": 1437607082, "answer_id": 31575630, "question_id": 31575278, "link": "https://stackoverflow.com/questions/31575278/how-to-access-variables-from-an-extended-class-in-ruby/31575630#31575630", "title": "How to access variables from an extended class in ruby", "body": "<p>Yes they can, and here's a snippet that shows how.</p>\n\n<pre><code>class A2\n  def initialize\n    @foo = 42\n  end\nend\n\nclass B2 &lt; A2\n  def print_foo\n    puts @foo\n  end\nend\n\n# Prints 42\nB2.new.print_foo\n</code></pre>\n\n<p>The above code defines a class <code>A2</code>, with a constructor that defines and sets an instance variable <code>@foo</code>. Class <code>B2</code> extends <code>A2</code>, and defines a method that uses <code>@foo</code>.</p>\n\n<p>I think the issue with your code is that <code>@property</code> is not assigned a value, as the assignment isn't in a method that gets called at any point.</p>\n"}, {"tags": [], "owner": {"reputation": 2612, "user_id": 2273578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211dd1a8e9f61b248fba83b9924f4f13?s=128&d=identicon&r=PG", "display_name": "Mario P&#233;rez", "link": "https://stackoverflow.com/users/2273578/mario-p%c3%a9rez"}, "is_accepted": false, "score": 1, "last_activity_date": 1437607089, "creation_date": 1437607089, "answer_id": 31575632, "question_id": 31575278, "link": "https://stackoverflow.com/questions/31575278/how-to-access-variables-from-an-extended-class-in-ruby/31575632#31575632", "title": "How to access variables from an extended class in ruby", "body": "<p>Yes. You need to init instance variables in the <code>initialize</code> method. </p>\n\n<p>See an example:</p>\n\n<pre><code>class A\n  attr_accessor :property  \n\n  def initialize\n    self.property = 'prop'\n  end\nend\n\nclass B &lt; A\nend\n\nputs B.new.property # prints \"prop\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 1, "last_activity_date": 1437607911, "creation_date": 1437607911, "answer_id": 31575757, "question_id": 31575278, "link": "https://stackoverflow.com/questions/31575278/how-to-access-variables-from-an-extended-class-in-ruby/31575757#31575757", "title": "How to access variables from an extended class in ruby", "body": "<p>Variables starting with an <code>@</code> sigil are <em>instance variables</em>. They belong to a particular instance (i.e. \"object\").</p>\n\n<p>You have two objects in your code, one object is the class <code>A</code>, the second object is the class <code>B</code>. Each of those two objects has its own instance variables.</p>\n\n<p><code>A</code> has an instance variable called <code>@property</code> with the value <code>'prop'</code>. <code>B</code> has no instance variables, however, uninitialized instance variables evaluate to <code>nil</code> instead of raising an exception, so, you don't get an error, but it evaluates to <code>nil</code>.</p>\n\n<p>You cant' inherit variables. The only thing you can inherit in Ruby, are methods:</p>\n\n<pre><code>class A\n  def self.property\n    'prop'\n  end\nend\n\nclass B &lt; A\n  puts property\nend\n# prop\n</code></pre>\n\n<p>Ruby also has class variables that start with an <code>@@</code> sigil. These are shared across the entire class hierarchy:</p>\n\n<pre><code>class A\n  @@property= 'prop'\nend\n\nclass B &lt; A\n  puts @@property\nend\n# prop\n</code></pre>\n\n<p>However, class variables are almost never used in Ruby, because of the wide scope they have, almost like globals.</p>\n"}], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 2, "accepted_answer_id": 31575630, "answer_count": 3, "score": 0, "last_activity_date": 1437610148, "creation_date": 1437604872, "question_id": 31575278, "link": "https://stackoverflow.com/questions/31575278/how-to-access-variables-from-an-extended-class-in-ruby", "title": "How to access variables from an extended class in ruby", "body": "<p>In most languages you can do something like the following:</p>\n\n<pre><code>class a {\n    this.property = 'prop'\n}\n\nclass b extends a {\n    puts this.property //prints 'prop'\n}\n</code></pre>\n\n<p>How does this work in ruby? My initial thought was something like</p>\n\n<pre><code>class A\n    @property = 'prop'\nend\n\nclass B &lt; A\n    puts @property\nend\n</code></pre>\n\n<p>But this doesn't work. Ruby has the <code>self</code> keyword but that seems from what I can tell to be reserved for methods. Can classes inherit variables in ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 4228154, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh3.googleusercontent.com/-NEi44yrrL6Y/AAAAAAAAAAI/AAAAAAAC0_Q/ctN2y7mHgx4/photo.jpg?sz=128", "display_name": "Justin Doshay", "link": "https://stackoverflow.com/users/4228154/justin-doshay"}, "is_accepted": false, "score": 0, "last_activity_date": 1437623843, "creation_date": 1437623843, "answer_id": 31577905, "question_id": 31575221, "link": "https://stackoverflow.com/questions/31575221/ror-nested-models-not-quite-working/31577905#31577905", "title": "RoR nested models not quite working", "body": "<p>in the <strong>application_helper.rb</strong> i changed:</p>\n\n<pre><code>new_object = f.object\n</code></pre>\n\n<p>to</p>\n\n<pre><code>new_object = f.object.send(association).klass.new\n</code></pre>\n\n<p>and now all is well.</p>\n"}], "owner": {"reputation": 89, "user_id": 4228154, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh3.googleusercontent.com/-NEi44yrrL6Y/AAAAAAAAAAI/AAAAAAAC0_Q/ctN2y7mHgx4/photo.jpg?sz=128", "display_name": "Justin Doshay", "link": "https://stackoverflow.com/users/4228154/justin-doshay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1437623843, "creation_date": 1437604553, "question_id": 31575221, "link": "https://stackoverflow.com/questions/31575221/ror-nested-models-not-quite-working", "title": "RoR nested models not quite working", "body": "<p>I have been trying to tackle this. for the most part, it all works but when i try to add multiple songs, it only saves 1(the most recent one) and wont save multiple songs to the album model. I followed bates(revised) tutorial and cant seem to figure it out.  Any help would be greatly appreciated.</p>\n\n<p><strong>application_helper.rb</strong></p>\n\n<pre><code>module ApplicationHelper\n  def link_to_add_fields(name, f, association)\n    new_object = f.object\n    id = new_object.object_id\n    fields = f.fields_for(association, new_object, child_index: id) do |builder|\n      render(association.to_s.singularize + \"_field\", f: builder)\n    end\n    link_to(name, '#', class: \"add_fields\", data: {id: id, fields: fields.gsub(\"\\n\", \"\")})\n  end\n</code></pre>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code>&lt;%= simple_form_for [@band, @album] do |f| %&gt;\n  &lt;%= render 'album_field', f: f %&gt;\n  &lt;%= link_to_add_fields \"Add Album\", f, :albums %&gt;&lt;br /&gt;\n  &lt;%= link_to 'Back', band_album_path(current_band, @album) %&gt;\n  &lt;div class=\"actions\"&gt;\n    &lt;%= f.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>_album_field.html.erb</strong></p>\n\n<pre><code>&lt;fieldset&gt;\n  &lt;%= f.label :content, \"Album\" %&gt;&lt;br /&gt;\n  &lt;%= f.text_field :title %&gt;&lt;br /&gt;\n  &lt;%= f.label :content, \"Comment\" %&gt;&lt;br /&gt;\n  &lt;%= f.text_area :comment %&gt;&lt;br /&gt;\n  &lt;%= f.fields_for :songs do |builder| %&gt;&lt;br /&gt;\n    &lt;%= render 'song_field', f: builder %&gt;\n  &lt;% end %&gt;\n  &lt;%= link_to_add_fields \"Add Song\", f, :songs %&gt;&lt;br /&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p><strong>_song_field.html.erb</strong></p>\n\n<pre><code>&lt;fieldset&gt;\n  &lt;%= f.label :content, \"Song\" %&gt;\n  &lt;%= f.text_field :title %&gt;\n  &lt;%= f.hidden_field :_destroy %&gt;\n  &lt;%= link_to \"remove\", '#', class: \"remove_fields\" %&gt;\n&lt;/fieldset&gt;\n</code></pre>\n"}, {"tags": ["ruby", "puppet"], "comments": [{"owner": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "edited": false, "score": 0, "creation_date": 1437604886, "post_id": 31575213, "comment_id": 51105396, "body": "Try it with css turned off in your browser."}, {"owner": {"reputation": 857, "user_id": 1434563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mK47t.jpg?s=128&g=1", "display_name": "Ethan Brouwer", "link": "https://stackoverflow.com/users/1434563/ethan-brouwer"}, "reply_to_user": {"reputation": 25150, "user_id": 383888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kd57u.jpg?s=128&g=1", "display_name": "Mori", "link": "https://stackoverflow.com/users/383888/mori"}, "edited": false, "score": 0, "creation_date": 1437605025, "post_id": 31575213, "comment_id": 51105438, "body": "This isn&#39;t ruby on rails. I&#39;m not viewing it in a browser. This is a template for a file in puppet. I&#39;ll edit the post to be more clear."}], "answers": [{"tags": [], "owner": {"reputation": 1515, "user_id": 633567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b45355cfdc64d509b8cbfe2d5789ee94?s=128&d=identicon&r=PG", "display_name": "adzdavies", "link": "https://stackoverflow.com/users/633567/adzdavies"}, "is_accepted": true, "score": 5, "last_activity_date": 1437609440, "creation_date": 1437609440, "answer_id": 31575986, "question_id": 31575213, "link": "https://stackoverflow.com/questions/31575213/how-do-i-fix-this-ruby-template-to-fix-formatting-of-resulting-file/31575986#31575986", "title": "How do I fix this ruby template to fix formatting of resulting file?", "body": "<p>Using a \"-%>\" instead of \"%>\" to close might help:</p>\n\n<pre><code>&lt;% @machine_info.each do |key, value| -%&gt;\n  &lt;%= \"#{key}: #{value}\" %&gt;\n&lt;% end -%&gt;\n</code></pre>\n\n<p>Here's a link to the puppet docs:\n<a href=\"https://docs.puppetlabs.com/guides/templating.html#trim-mode\">https://docs.puppetlabs.com/guides/templating.html#trim-mode</a></p>\n"}], "owner": {"reputation": 857, "user_id": 1434563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mK47t.jpg?s=128&g=1", "display_name": "Ethan Brouwer", "link": "https://stackoverflow.com/users/1434563/ethan-brouwer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 31575986, "answer_count": 1, "score": 0, "last_activity_date": 1437609440, "creation_date": 1437604519, "last_edit_date": 1437605133, "question_id": 31575213, "link": "https://stackoverflow.com/questions/31575213/how-do-i-fix-this-ruby-template-to-fix-formatting-of-resulting-file", "title": "How do I fix this ruby template to fix formatting of resulting file?", "body": "<p>I'm trying to write a file on my system using puppet here's the declaration:</p>\n\n<pre><code>file { '/etc/salt/grains':\n  ensure  =&gt; present,\n  content =&gt; template('pp_salt_manager/grains.erb'),\n}\n</code></pre>\n\n<p>And this is my really short .erb file:</p>\n\n<pre><code>&lt;% @machine_info.each do |key, value| %&gt;\n  &lt;%= \"#{key}: #{value}\" %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>For reference, this is machine_info:</p>\n\n<pre><code>$machine_info = {'deployment' =&gt; 'c7', 'local' =&gt; 'US', 'env' =&gt; 'stable'}\n</code></pre>\n\n<p>My problem is, this is the output file:</p>\n\n<pre><code>_ # Empty line\n  deployment: c7\n_ # Another empty line\n  local: US\n_ # Once again, an empty line\n  env: stable\n</code></pre>\n\n<p>How do I make it look like this:</p>\n\n<pre><code>deployment: c7\nlocal: US\nenv: stable\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ruby", "macos", "installation"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5145657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6rAu_uuyEJg/AAAAAAAAAAI/AAAAAAAAAC8/I24HXRLXQkg/photo.jpg?sz=128", "display_name": "Tom McCarthy", "link": "https://stackoverflow.com/users/5145657/tom-mccarthy"}, "edited": false, "score": 0, "creation_date": 1437734383, "post_id": 31575186, "comment_id": 51166560, "body": "Thought this would work, but I get an &quot;Error: No such keg: /usr/local/Cellar/ruby&quot;"}, {"owner": {"reputation": 1448, "user_id": 3990714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d3ffcc10f19da50e8c320016137dd7?s=128&d=identicon&r=PG&f=1", "display_name": "nonamorando", "link": "https://stackoverflow.com/users/3990714/nonamorando"}, "reply_to_user": {"reputation": 1, "user_id": 5145657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6rAu_uuyEJg/AAAAAAAAAAI/AAAAAAAAAC8/I24HXRLXQkg/photo.jpg?sz=128", "display_name": "Tom McCarthy", "link": "https://stackoverflow.com/users/5145657/tom-mccarthy"}, "edited": false, "score": 0, "creation_date": 1437736004, "post_id": 31575186, "comment_id": 51167554, "body": "Did you first install just Ruby through Homebrew? &#39;brew install ruby&#39;"}, {"owner": {"reputation": 1, "user_id": 5145657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6rAu_uuyEJg/AAAAAAAAAAI/AAAAAAAAAC8/I24HXRLXQkg/photo.jpg?sz=128", "display_name": "Tom McCarthy", "link": "https://stackoverflow.com/users/5145657/tom-mccarthy"}, "edited": false, "score": 0, "creation_date": 1437934923, "post_id": 31575186, "comment_id": 51227358, "body": "I&#39;ve tried that and then &#39;brew link ruby,&#39; but it didn&#39;t work.  I then tried &#39;brew unlink ruby &amp;&amp; brew link ruby&#39; as advised by Homebrew on the Terminal, but ruby -v still returned &#39;ruby 2.0.0 ...&#39;"}], "tags": [], "owner": {"reputation": 1448, "user_id": 3990714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9d3ffcc10f19da50e8c320016137dd7?s=128&d=identicon&r=PG&f=1", "display_name": "nonamorando", "link": "https://stackoverflow.com/users/3990714/nonamorando"}, "is_accepted": false, "score": 0, "last_activity_date": 1437604339, "creation_date": 1437604339, "answer_id": 31575186, "question_id": 31575171, "link": "https://stackoverflow.com/questions/31575171/os-x-using-older-ruby-version-than-installed/31575186#31575186", "title": "OS X Using Older Ruby Version Than Installed", "body": "<p>Try <code>brew link Ruby</code>, which should link your Ruby from home brew with the Ruby you use on the command line.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5145657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6rAu_uuyEJg/AAAAAAAAAAI/AAAAAAAAAC8/I24HXRLXQkg/photo.jpg?sz=128", "display_name": "Tom McCarthy", "link": "https://stackoverflow.com/users/5145657/tom-mccarthy"}, "edited": false, "score": 0, "creation_date": 1437734338, "post_id": 31575275, "comment_id": 51166526, "body": "Doesn&#39;t do a thing as rum isn&#39;t installed and I can&#39;t seem to install it."}], "tags": [], "owner": {"reputation": 938, "user_id": 4522937, "user_type": "registered", "profile_image": "https://graph.facebook.com/730829297031111/picture?type=large", "display_name": "Kaysser Kayyali", "link": "https://stackoverflow.com/users/4522937/kaysser-kayyali"}, "is_accepted": false, "score": 0, "last_activity_date": 1437604858, "creation_date": 1437604858, "answer_id": 31575275, "question_id": 31575171, "link": "https://stackoverflow.com/questions/31575171/os-x-using-older-ruby-version-than-installed/31575275#31575275", "title": "OS X Using Older Ruby Version Than Installed", "body": "<p>in command line type <code>rvm use 2.1.3</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5145657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6rAu_uuyEJg/AAAAAAAAAAI/AAAAAAAAAC8/I24HXRLXQkg/photo.jpg?sz=128", "display_name": "Tom McCarthy", "link": "https://stackoverflow.com/users/5145657/tom-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437604858, "creation_date": 1437604245, "question_id": 31575171, "link": "https://stackoverflow.com/questions/31575171/os-x-using-older-ruby-version-than-installed", "title": "OS X Using Older Ruby Version Than Installed", "body": "<p>Just installed Ruby 2.1.3 on my iMac (10.10.2) with ruby-install through Homebrew.  I've already been using ruby 2.0.0p481, but just installed Rails too and wanted to update Ruby.  As I said, ruby-install did install Ruby 2.1.3, but when I use 'ruby-v' I still get ruby 2.0.0p481.  I want to use 2.1.3 though and can't see why it's not being used after being installed.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "heroku"], "comments": [{"owner": {"reputation": 75, "user_id": 1435339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c583e1b05e6d76f7a09eda266d15335?s=128&d=identicon&r=PG", "display_name": "JoeliusCaeser", "link": "https://stackoverflow.com/users/1435339/joeliuscaeser"}, "edited": false, "score": 0, "creation_date": 1437610193, "post_id": 31575047, "comment_id": 51106782, "body": "I figured out what was wrong and was able to push to Heroku, by comparing the Gem.lock files in my two local repositories. I noticed that somehow this entry got made in my new &quot;clean&quot; respository&#39;s Gem.lock: <code>remote: git:&#47;&#47;github.com&#47;lacco&#47;mailboxer.git revision: d436329f771d1607a6835f0aeb8b1120a3562a47</code> The original &quot;dirty&quot; repository had this instead:  <code>remote: git:&#47;&#47;github.com&#47;lacco&#47;mailboxer.git revision: d4f0e9c70e29fcc5c2b4b7c87379e1830d45a367</code> Replacing the first entry with the second allowed me to push to Heroku and my site is back up and running."}], "answers": [{"tags": [], "owner": {"reputation": 19878, "user_id": 556573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/az7kz.png?s=128&g=1", "display_name": "elithrar", "link": "https://stackoverflow.com/users/556573/elithrar"}, "is_accepted": true, "score": 2, "last_activity_date": 1437613340, "creation_date": 1437613340, "answer_id": 31576524, "question_id": 31575047, "link": "https://stackoverflow.com/questions/31575047/resetting-accidental-changes-on-heroku/31576524#31576524", "title": "Resetting Accidental Changes on Heroku", "body": "<p>For future reference, the quickest way to go back to your last deployment is via:</p>\n\n<pre><code>$ heroku rollback \n</code></pre>\n\n<p>Docs here: <a href=\"https://devcenter.heroku.com/articles/releases#rollback\" rel=\"nofollow\">https://devcenter.heroku.com/articles/releases#rollback</a></p>\n"}], "owner": {"reputation": 75, "user_id": 1435339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c583e1b05e6d76f7a09eda266d15335?s=128&d=identicon&r=PG", "display_name": "JoeliusCaeser", "link": "https://stackoverflow.com/users/1435339/joeliuscaeser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 31576524, "answer_count": 1, "score": 2, "last_activity_date": 1437613340, "creation_date": 1437603644, "question_id": 31575047, "link": "https://stackoverflow.com/questions/31575047/resetting-accidental-changes-on-heroku", "title": "Resetting Accidental Changes on Heroku", "body": "<p>I've run into a very annoying problem. I'm working on a Rails project that is hosted on Heroku, with the central repo hosted on Bitbucket. Unfortunately, I don't have access to a linux box, so I've been working in Windows, which has forced me to make all sorts of changes to the project (gem versions etc.) in order to get it to function in my local environment. Normally this isn't a big deal, as long as I don't push any of those changes to Heroku or Bitbucket. Today, however, I made some very small changes to a view in order to fix a bug (like 3 lines total), pushed those small changes to Bitbucket, and then made the mistake of accidentally pushing all of my changes to Heroku (along with a bunch of Aptana config files).</p>\n\n<p>So I have a situation where I have a correct codebase on Bitbucket, a(n intentionally) screwed up local repo, and an accidentally screwed up Heroku server. In order to try an rectify the situation, I cloned the Bitbucket repo into an entirely new local repo and then tried to push that to Heroku. When I did so, I got an error indicating that my local repo was behind, so I tried to fix that with:</p>\n\n<pre><code>git pull heroku master\ngit reset master XXXthe_commit_I_want_reflected_on_herokuXXX --hard\ngit push heroku master -f\n</code></pre>\n\n<p>Unfortunately when I do that, Heroku is now failing to build. My site was up and running earlier this morning, so I know that the old codebase was fully functional. I know that the only changes between that fully functional commit and the one I'm trying to push are 3 lines in a view, so even if they aren't good changes they shouldn't break the build. I have no idea what is breaking the build now.</p>\n\n<p>In the meantime, I've used Heroku's web gui to rollback to the last working build (the one before I pushed my Windows hacks), but I really need to get this working. Can anyone help?</p>\n\n<p>Here's my Heroku build log</p>\n\n<pre><code>-----&gt; Ruby app detected\n-----&gt; Compiling Ruby/Rails\n-----&gt; Using Ruby version: ruby-2.2.0\n-----&gt; Installing dependencies using 1.9.7\n   Ruby version change detected. Clearing bundler cache.\n   Old: ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]\n   New: ruby 2.2.0p0 (2014-12-25 revision 49005) [x86_64-linux]\n   Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment\n   Fetching gem metadata from https://rubygems.org/.............\n   Fetching version metadata from https://rubygems.org/...\n   Fetching dependency metadata from https://rubygems.org/..\n   Fetching git://github.com/Armor-Payments/armor_payments_ruby.git\n   Fetching git://github.com/lacco/mailboxer.git\n   fatal: Could not parse object 'd436329f771d1607a6835f0aeb8b1120a3562a47'.\n   Git error: command `git reset --hard d436329f771d1607a6835f0aeb8b1120a3562a47`\n   in directory\n   /tmp/build_a5ee9a745f4daf14f284ecb5241f4bd2/vendor/bundle/ruby/2.2.0/bundler/gems/mailboxer-d436329f771d\n   has failed.\n   If this error persists you could try removing the cache directory\n   '/tmp/build_a5ee9a745f4daf14f284ecb5241f4bd2/vendor/bundle/ruby/2.2.0/cache/bundler/git/mailboxer-2227b0f1f9bdf29f4822c250264b96e64ed63013'\n   Bundler Output: Fetching gem metadata from https://rubygems.org/.............\n   Fetching version metadata from https://rubygems.org/...\n   Fetching dependency metadata from https://rubygems.org/..\n   Fetching git://github.com/Armor-Payments/armor_payments_ruby.git\n   Fetching git://github.com/lacco/mailboxer.git\n   fatal: Could not parse object 'd436329f771d1607a6835f0aeb8b1120a3562a47'.\n   Git error: command `git reset --hard d436329f771d1607a6835f0aeb8b1120a3562a47`\n   in directory\n   /tmp/build_a5ee9a745f4daf14f284ecb5241f4bd2/vendor/bundle/ruby/2.2.0/bundler/gems/mailboxer-d436329f771d\n   has failed.\n   If this error persists you could try removing the cache directory\n   '/tmp/build_a5ee9a745f4daf14f284ecb5241f4bd2/vendor/bundle/ruby/2.2.0/cache/bundler/git/mailboxer-2227b0f1f9bdf29f4822c250264b96e64ed63013'\n!\n!     Failed to install gems via Bundler.\n!\n!     Push rejected, failed to compile Ruby app\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "spree", "prawn"], "owner": {"reputation": 113, "user_id": 2820694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b2092f4d3e9f4cb374bf6e02386b2ba2?s=128&d=identicon&r=PG", "display_name": "ChrisEstanol", "link": "https://stackoverflow.com/users/2820694/chrisestanol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1437603950, "creation_date": 1437603585, "last_edit_date": 1437603950, "question_id": 31575030, "link": "https://stackoverflow.com/questions/31575030/spree-print-invoice-blank", "title": "Spree Print Invoice Blank", "body": "<p>I am using Spree 3.0.0, <a href=\"https://github.com/spree-contrib/spree_print_invoice\" rel=\"nofollow\">Spree Print Invoice gem</a> and I have set it up in my gemfile using the branch: '3-0-stable'.</p>\n\n<p>I have installed it with the command </p>\n\n<pre><code>bundle &amp;&amp; exec rails g spree_print_invoice:install\n</code></pre>\n\n<p>I have a simple <strong>config/initializers/print_invoice.rb</strong> </p>\n\n<pre><code>Spree::PrintInvoice::Config.set(page_layout: :portrait,page_size: 'A4')\nSpree::PrintInvoice::Config.set(print_buttons: 'invoice')\nSpree::PrintInvoice::Config.set(store_pdf: true) # Default: tmp/order_prints\n</code></pre>\n\n<p>I have now in my admin configuration a Print Invoice Settings section as well as a print invoice button with each orders.</p>\n\n<p>Here is the log when creating invoice:</p>\n\n<pre><code>Started GET \"/admin/orders/R123456789.pdf?template=invoice\" for ::1 at 2015-07-22 17:10:00 -0500\nProcessing by Spree::Admin::OrdersController#show as PDF\n  Parameters: {\"template\"=&gt;\"invoice\", \"id\"=&gt;\"R123456789\"}\n  Spree::Preference Load (0.3ms)  SELECT  \"spree_preferences\".* FROM \"spree_preferences\" WHERE \"spree_preferences\".\"key\" = $1 LIMIT 1  [[\"key\", \"spree/backend_configuration/locale\"]]\n  Spree::User Load (0.5ms)  SELECT  \"spree_users\".* FROM \"spree_users\" WHERE \"spree_users\".\"deleted_at\" IS NULL AND \"spree_users\".\"id\" = $1  ORDER BY \"spree_users\".\"id\" ASC LIMIT 1  [[\"id\", 6]]\n   (0.4ms)  SELECT COUNT(*) FROM \"spree_roles\" INNER JOIN \"spree_roles_users\" ON \"spree_roles\".\"id\" = \"spree_roles_users\".\"role_id\" WHERE \"spree_roles_users\".\"user_id\" = $1 AND \"spree_roles\".\"name\" = $2  [[\"user_id\", 6], [\"name\", \"admin\"]]\n  Spree::Order Load (0.6ms)  SELECT  \"spree_orders\".* FROM \"spree_orders\" WHERE \"spree_orders\".\"number\" = $1  ORDER BY \"spree_orders\".\"id\" ASC LIMIT 1  [[\"number\", \"R123456789\"]]\n  Spree::Adjustment Load (0.5ms)  SELECT \"spree_adjustments\".* FROM \"spree_adjustments\" WHERE \"spree_adjustments\".\"adjustable_type\" = 'Spree::Order' AND \"spree_adjustments\".\"adjustable_id\" IN (1)  ORDER BY spree_adjustments.created_at ASC\n  Rendered text template (0.0ms)\nSent data  (2.7ms)\nCompleted 200 OK in 18ms (Views: 2.5ms | ActiveRecord: 2.3ms)\n</code></pre>\n\n<p>The invoices are created into <strong>tmp/order_prints</strong> but they all are completely blanks. The pdf viewer of my browser is blocked on loading.\nAnything I need to do in order to make it work?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ubuntu", "rubygems", "rvm"], "comments": [{"owner": {"reputation": 254, "user_id": 1591363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab56679c523cbf5286ccbe46da261b8c?s=128&d=identicon&r=PG", "display_name": "Aleks", "link": "https://stackoverflow.com/users/1591363/aleks"}, "edited": false, "score": 1, "creation_date": 1437636350, "post_id": 31574940, "comment_id": 51114857, "body": "it seems you do not have ruby instaled, what rvm list shows?"}, {"owner": {"reputation": 12867, "user_id": 1337392, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/KquuZ.jpg?s=128&g=1", "display_name": "Flame_Phoenix", "link": "https://stackoverflow.com/users/1337392/flame-phoenix"}, "reply_to_user": {"reputation": 254, "user_id": 1591363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab56679c523cbf5286ccbe46da261b8c?s=128&d=identicon&r=PG", "display_name": "Aleks", "link": "https://stackoverflow.com/users/1591363/aleks"}, "edited": false, "score": 0, "creation_date": 1437687209, "post_id": 31574940, "comment_id": 51148589, "body": "edited the question to have your requirements"}], "answers": [{"tags": [], "owner": {"reputation": 12867, "user_id": 1337392, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/KquuZ.jpg?s=128&g=1", "display_name": "Flame_Phoenix", "link": "https://stackoverflow.com/users/1337392/flame-phoenix"}, "is_accepted": true, "score": 0, "last_activity_date": 1437688033, "creation_date": 1437688033, "answer_id": 31598620, "question_id": 31574940, "link": "https://stackoverflow.com/questions/31574940/rvm-error-installing-rubygems-on-ubuntu/31598620#31598620", "title": "RVM error installing rubygems on Ubuntu", "body": "<p>I had ruby installed, but turns out it was not set in rvm. \nTo fix this first I tried using <code>rvm use ruby --default</code>, but I got the infamous \"rvm is not a function\" error.</p>\n\n<p>To fix this, first run <code>bash --login</code> and then then <code>rvm use ruby --default</code>. </p>\n\n<p>Once these steps are complete you can proceed with rubygems installation.</p>\n"}], "owner": {"reputation": 12867, "user_id": 1337392, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/KquuZ.jpg?s=128&g=1", "display_name": "Flame_Phoenix", "link": "https://stackoverflow.com/users/1337392/flame-phoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 31598620, "answer_count": 1, "score": 0, "last_activity_date": 1437688033, "creation_date": 1437603193, "last_edit_date": 1495540271, "question_id": 31574940, "link": "https://stackoverflow.com/questions/31574940/rvm-error-installing-rubygems-on-ubuntu", "title": "RVM error installing rubygems on Ubuntu", "body": "<p>I have an ubuntu machine and I am trying to install rubygems using RVM by following this guide:</p>\n\n<ul>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-on-ubuntu-12-04-lts-precise-pangolin-with-rvm\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-on-ubuntu-12-04-lts-precise-pangolin-with-rvm</a></li>\n</ul>\n\n<p>When I run the command <code>rvm rubygems current</code> or even the command <code>rvm rubygems latest</code> I get the following error: </p>\n\n<pre><code>fl4m3ph03n1x: ~ $ rvm rubygems current\nsystem - #downloading rubygems-2.4.8\nsystem - #extracting rubygems-2.4.8.....\nsystem - #removing old rubygems.........\n$LANG was empty, setting up LANG=en_US.utf8, if it fails again try setting LANG to something sane and try again.\nsystem - #installing rubygems-2.4.8.\nError running 'env GEM_HOME=/home/fl4m3ph03n1x/.rvm/gems/system@global GEM_PATH= /home/fl4m3ph03n1x/.rvm/rubies/system/bin/ruby -d /home/fl4m3ph03n1x/.rvm/src/rubygems-2.4.8/setup.rb --no-document',\nshowing last 15 lines of /home/fl4m3ph03n1x/.rvm/log/1437602750_system/rubygems.install.log\n[2015-07-22 22:05:50] /home/fl4m3ph03n1x/.rvm/rubies/system/bin/ruby\ncurrent path: /home/fl4m3ph03n1x/.rvm/src/rubygems-2.4.8\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/fl4m3ph03n1x/.rvm/bin\ncommand(7): env GEM_HOME=/home/fl4m3ph03n1x/.rvm/gems/system@global GEM_PATH= /home/fl4m3ph03n1x/.rvm/rubies/system/bin/ruby -d /home/fl4m3ph03n1x/.rvm/src/rubygems-2.4.8/setup.rb --no-document\nenv: /home/fl4m3ph03n1x/.rvm/rubies/system/bin/ruby: No such file or directory\n</code></pre>\n\n<p>At first I thought the error was due to the <code>--no-document</code> flag, but after reading and trying <a href=\"https://github.com/rvm/rvm/issues/3152\" rel=\"nofollow noreferrer\">this discussion on github</a>, nothing changed.</p>\n\n<p>I also checked this <a href=\"https://stackoverflow.com/questions/14969019/installing-ruby-rubygems-error-ubuntu\">stackoverflow discussion</a> but it doesn't seem to be applicable to my case because I have a fresh installation (no manually installed packages nor anything).</p>\n\n<p>Over all I tried using commands like <code>rvm get head</code> and <code>rvm stable</code> but nothing seems to work.</p>\n\n<p>What am I missing? Could this be a permission's problem somehow?</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>This is the result of <code>rvm list</code>:</p>\n\n<pre><code>rvm rubies\n\n   ruby-2.2.1 [ x86_64 ]\n\n# Default ruby not set. Try 'rvm alias create default &lt;ruby&gt;'.\n\n# =&gt; - current\n# =* - current &amp;&amp; default\n#  * - default\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1437602529, "post_id": 31574674, "comment_id": 51104400, "body": "Because you&#39;re adding a newline to the string?"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1437602643, "post_id": 31574674, "comment_id": 51104452, "body": "<a href=\"http://ruby-doc.org/core-2.2.0/String.html#method-i-3C-3C\" rel=\"nofollow noreferrer\"><code>String#&lt;&lt;</code></a> (aka concat) <i>mutates</i> the original string object (which was created by &quot;peace&quot;). I recommend <i>not</i> using mutations for strings, but instead use <code>+</code> instead of <code>&lt;&lt;</code> here."}, {"owner": {"reputation": 23, "user_id": 3040171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/59b9f6ffe2cd878bbbcbdc9b91d8cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "user3040171", "link": "https://stackoverflow.com/users/3040171/user3040171"}, "edited": false, "score": 0, "creation_date": 1437606232, "post_id": 31574674, "comment_id": 51105804, "body": "Thanks  user2864740. I got it."}], "answers": [{"comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1437602885, "post_id": 31574792, "comment_id": 51104558, "body": "There is no &quot;symbol version&quot;, because symbols cannot be mutated (and furthermore, have no <code>#&lt;&lt;</code>)."}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1437606468, "post_id": 31574792, "comment_id": 51105868, "body": "I think he&#39;s recommending enumeration of statuses, which is a good idea. It can be done as symbols, ActiveRecord enums, or a custom class."}, {"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 0, "creation_date": 1437616136, "post_id": 31574792, "comment_id": 51108180, "body": "The &quot;symbol version&quot; is just showing the same example and how the (accidental) mutation effect can be avoided by using symbols. The article in which this example is used is contrasting the two."}], "tags": [], "owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "is_accepted": false, "score": 1, "last_activity_date": 1437602569, "creation_date": 1437602569, "answer_id": 31574792, "question_id": 31574674, "link": "https://stackoverflow.com/questions/31574674/immutable-vs-mutable/31574792#31574792", "title": "Immutable vs mutable", "body": "<p>Since <code>status = \"peace\"</code> is a string, when <code>buggy_logger &lt;&lt; \"\\n\"</code> is ran, it's updating the string of <code>buggy_logger</code> (and subsequently, <code>status</code>) to be \"peace\\n\"</p>\n\n<p>Therefore, when the method is ran, it returns true because <code>status != \"peace\"</code> anymore.</p>\n\n<p>Now, if in the beginning you used a symbol <code>status = :peace</code>, it would not be able to be altered with the \"\\n\" appendage. Therefore, the method would return false because <code>status == :peace</code></p>\n\n<p><strong>Symbol version:</strong></p>\n\n<pre><code>status = :peace\n\n buggy_logger = status\n\n print \"Status: \"\n #print buggy_logger &lt;&lt; \"\\n\" # This is no longer possible. It will cause an error\n\ndef launch_nukes?(status)\n  unless status == :peace\n   return true\n  else\nreturn false\n end\nend\n\nprint \"Nukes Launched: #{launch_nukes?(status)}\\n\"  # &lt;- Returns FALSE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 2, "creation_date": 1437605212, "post_id": 31575322, "comment_id": 51105486, "body": "Or .. just use the correct non-mutating operator (ie. not <code>&lt;&lt;</code>)."}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1437605618, "post_id": 31575322, "comment_id": 51105627, "body": "@user2864740 You can do this, but it&#39;s dangerous to &#39;guess&#39; at which operators mutate and which don&#39;t. It&#39;s safer to just create a new object from the get go."}, {"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 2, "creation_date": 1437606017, "post_id": 31575322, "comment_id": 51105736, "body": "@Rots What are you recommending OP do? Use <code>String.new</code> and <code>&lt;&lt;</code>? I&#39;d fail that in a code review."}, {"owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "reply_to_user": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1437606208, "post_id": 31575322, "comment_id": 51105799, "body": "@MarkThomas You&#39;re right! I&#39;m going to change the second section of my answer to match user2864740&#39;s comment."}], "tags": [], "owner": {"reputation": 5286, "user_id": 455770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMHwz.jpg?s=128&g=1", "display_name": "Rots", "link": "https://stackoverflow.com/users/455770/rots"}, "is_accepted": true, "score": 2, "last_activity_date": 1437606258, "last_edit_date": 1437606258, "creation_date": 1437605177, "answer_id": 31575322, "question_id": 31574674, "link": "https://stackoverflow.com/questions/31574674/immutable-vs-mutable/31575322#31575322", "title": "Immutable vs mutable", "body": "<p>Your question is \"why does the variable change?\"</p>\n\n<p>The answer is because <code>buggy_logger</code> holds a reference to <code>status</code>. Easily proven by inspecting the <code>object_id</code>.</p>\n\n<pre><code>irb(main):001:0&gt; a = \"hi\"\n=&gt; \"hi\"\nirb(main):002:0&gt; a.object_id\n=&gt; 24088560\nirb(main):003:0&gt; b = a\n=&gt; \"hi\"\nirb(main):004:0&gt; b.object_id\n=&gt; 24088560\nirb(main):005:0&gt;\n</code></pre>\n\n<p>To create a copy use <code>+</code> or any non-mutating operator. Don't use <code>&lt;&lt;</code>.</p>\n\n<pre><code>irb(main):010:0&gt; c = a + \" guys\"\n=&gt; \"hi guys\"\nirb(main):011:0&gt; c.object_id\n=&gt; 26523040\nirb(main):012:0&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3040171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/59b9f6ffe2cd878bbbcbdc9b91d8cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "user3040171", "link": "https://stackoverflow.com/users/3040171/user3040171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 31575322, "answer_count": 2, "score": 0, "last_activity_date": 1437606258, "creation_date": 1437602045, "last_edit_date": 1437602093, "question_id": 31574674, "link": "https://stackoverflow.com/questions/31574674/immutable-vs-mutable", "title": "Immutable vs mutable", "body": "<p>I do not understand what is going on in the line<br>\n<code>print buggy_logger &lt;&lt; \"\\n\" # &lt;- This insertion is the bug.</code>\nWhy is that the variable status changes when the above line is called? \nI am following this website <a href=\"http://www.reactive.io/tips/2009/01/11/the-difference-between-ruby-symbols-and-strings/\" rel=\"nofollow\">http://www.reactive.io/tips/2009/01/11/the-difference-between-ruby-symbols-and-strings/</a></p>\n\n<pre><code>status = \"peace\"\n\n buggy_logger = status\n\n print \"Status: \"\n print buggy_logger &lt;&lt; \"\\n\" # &lt;- This insertion is the bug.\n\ndef launch_nukes?(status)\n  unless status == 'peace'\n   return true\n  else\nreturn false\n end\nend\n\nprint \"Nukes Launched: #{launch_nukes?(status)}\\n\"\n</code></pre>\n\n<p>OUTPUT IS:</p>\n\n<h1>=> Status: peace</h1>\n\n<h1>=> Nukes Launched: true</h1>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql"], "comments": [{"owner": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1437602283, "post_id": 31574538, "comment_id": 51104291, "body": "You need to create a new migration to add post_id column to the comments table, then migrate your database, then create a new comment."}, {"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "reply_to_user": {"reputation": 1755, "user_id": 3247496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/nDtef.png?s=128&g=1", "display_name": "Ahmad Al-kheat", "link": "https://stackoverflow.com/users/3247496/ahmad-al-kheat"}, "edited": false, "score": 0, "creation_date": 1437602538, "post_id": 31574538, "comment_id": 51104408, "body": "is there a function I do that does this?"}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "edited": false, "score": 0, "creation_date": 1438134000, "post_id": 31574538, "comment_id": 51321349, "body": "@Isaac were either of the answers helpful?"}, {"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1438136880, "post_id": 31574538, "comment_id": 51321943, "body": "yes it did end being a problem with the migration. I apologize it took me so long to get back!"}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437603889, "post_id": 31574863, "comment_id": 51104990, "body": "How i created the comment it uses the post as reference so when the comment model is created it makes it belong to the post"}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437604816, "post_id": 31574863, "comment_id": 51105365, "body": "I&#39;m not sure what you&#39;re saying -- are you asking how to create a comment with a reference to a post? or are you saying you&#39;ve done this already?"}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437605942, "post_id": 31574863, "comment_id": 51105719, "body": "@user1852651 That&#39;s inaccurate; <code>post:references</code> and <code>post:belongs_to</code> are effectively synonymous in this case. AFAIK there&#39;s no built-in generator for polymorphic associations."}, {"owner": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437606086, "post_id": 31574863, "comment_id": 51105759, "body": "@eirikir Check this out: <a href=\"http://guides.rubyonrails.org/association_basics.html#polymorphic-associations\" rel=\"nofollow noreferrer\">guides.rubyonrails.org/&hellip;</a>"}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437606422, "post_id": 31574863, "comment_id": 51105855, "body": "@user1852651 The linked article makes no mention of generators"}, {"owner": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437606776, "post_id": 31574863, "comment_id": 51105949, "body": "To generate a polymorphic association in the terminal, you use <code>rails g migration add_postable_type_to_comments postable:references</code>. That&#39;s an example. That would create <b>two</b> columns in the comments table: <code>postable_id</code> and <code>postable_type</code>. The <code>postable_type</code> column stores the class name of what the comment belongs to. So if we had pictures and posts and both could have comments, then then it would fill that column with the word <code>Picture</code> or <code>Post</code> respectively for each entry."}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437606787, "post_id": 31574863, "comment_id": 51105956, "body": "@user1852651 That&#39;s inaccurate. They generate the same code. I&#39;m not sure how else to explain it to you."}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "edited": false, "score": 0, "creation_date": 1437608295, "post_id": 31574863, "comment_id": 51106337, "body": "@user1852651 The Rails guide on migrations makes clear that <code>belongs_to</code> is an alias for <code>references</code> for migration generators: &quot;the generator accepts column type as references(also available as belongs_to)&quot;(<a href=\"http://edgeguides.rubyonrails.org/active_record_migrations.html#creating-a-standalone-migration\" rel=\"nofollow noreferrer\">edgeguides.rubyonrails.org/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "is_accepted": true, "score": 1, "last_activity_date": 1437602848, "creation_date": 1437602848, "answer_id": 31574863, "question_id": 31574538, "link": "https://stackoverflow.com/questions/31574538/pgundefinedcolumn-error-column-comments-post-id-does-not-exist/31574863#31574863", "title": "PG::UndefinedColumn: ERROR: column comments.post_id does not exist", "body": "<p>Yes, you're missing the field <code>post_id</code> on the <code>Comment</code> model, which would tell Rails which comments belong to which posts.</p>\n\n<p>You can add it by generating a migration from the command line like so:</p>\n\n<pre><code>rails generate migration AddPostIdToComments post:references\nrake db:migrate\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 1852651, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/rfKGa.jpg?s=128&g=1", "display_name": "Graham S.", "link": "https://stackoverflow.com/users/1852651/graham-s"}, "is_accepted": false, "score": 4, "last_activity_date": 1437604837, "creation_date": 1437604837, "answer_id": 31575272, "question_id": 31574538, "link": "https://stackoverflow.com/questions/31574538/pgundefinedcolumn-error-column-comments-post-id-does-not-exist/31575272#31575272", "title": "PG::UndefinedColumn: ERROR: column comments.post_id does not exist", "body": "<p>You probably just need to add the column into your <code>comments</code> table.</p>\n\n<p>You can do that by creating a migration via the terminal to add the column in:</p>\n\n<pre><code>$ rails g migration add_post_id_column_to_comments post:belongs_to\n$ rake db:migrate\n</code></pre>\n\n<p>The reason you want to use <code>post:belongs_to</code> is that Rails will automatically append the <code>_id</code> suffix and create a foreign key in the comments table to refer back to each other. </p>\n\n<p>So essentially this part of the migration <code>post:belongs_to</code> will add the column <code>post_id</code> to your comments table. (Same thing if you did for example <code>cars:belongs_to</code>, you would get <code>cars_id</code>, etc)</p>\n\n<p>That way you can be able to refer to the post's comments like this:</p>\n\n<pre><code>@post.comments\n</code></pre>\n\n<p>The reason why your <code>@post.comments</code> is failing now is that it is looking for that <code>post_id</code> column that you have not made yet which is probably also because you may not have defined the relationship between your <code>Post</code> and <code>Comment</code> models.</p>\n\n<hr>\n\n<p>If you haven't done so already you just need to quickly define the relationship in each model:</p>\n\n<ul>\n<li>A post <em>has many</em> comments.</li>\n<li>A comment <code>belongs to</code> a post.</li>\n</ul>\n\n<p>Get the lingo?</p>\n\n<p>In your <code>Post</code> model, just add</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n    has_many :comments   # make sure it's pluralized\nend\n</code></pre>\n\n<p>and in your <code>Comment</code> model, add</p>\n\n<pre><code>class Comment &lt; ActiveRecord::Base\n    belongs_to :post  # and this one is singularized\nend\n</code></pre>\n\n<p>Then try running your app again. Let me know how it goes.</p>\n"}], "owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10998, "favorite_count": 2, "accepted_answer_id": 31574863, "answer_count": 2, "score": 2, "last_activity_date": 1437604837, "creation_date": 1437601509, "last_edit_date": 1437602128, "question_id": 31574538, "link": "https://stackoverflow.com/questions/31574538/pgundefinedcolumn-error-column-comments-post-id-does-not-exist", "title": "PG::UndefinedColumn: ERROR: column comments.post_id does not exist", "body": "<p>I cant seem to figure out why I keep getting this error. I am trying to add comment forms to a blog I am making and it wont work. Here is what the full error says.</p>\n\n<p>ActiveRecord::StatementInvalid in Posts#show</p>\n\n<p>Showing /Users/ipbyrne/FirstRailsApp/blog/app/views/posts/show.html.erb where line #17 raised:</p>\n\n<p>PG::UndefinedColumn: ERROR:  column comments.post_id does not exist\nLINE 1: SELECT COUNT(<em>) FROM \"comments\"  WHERE \"comments\".\"post_id\" ...\n                                               ^\n: SELECT COUNT(</em>) FROM \"comments\"  WHERE \"comments\".\"post_id\" = $1</p>\n\n<pre><code>&lt;/p&gt;\n\n   &lt;div id=\"comments\"&gt;\n       &lt;h2&gt;&lt;%= @post.comments.count %&gt; Comments&lt;/h2&gt; &lt;-- Says it breaks here\n       &lt;%= render @post.comments %&gt;\n\n       &lt;h3&gt;Add a comment:&lt;/h3&gt;\n</code></pre>\n\n<p>From what i can understand there is a column missing in one of the tables in the schema.rb file? Incase this the case here is what mine looks like</p>\n\n<pre><code># encoding: UTF-8\n# This file is auto-generated from the current state of the database. Instead\n# of editing this file, please use the migrations feature of Active Record to\n# incrementally modify your database, and then regenerate this schema definition.\n#\n# Note that this schema.rb definition is the authoritative source for your\n# database schema. If you need to create the application database on another\n# system, you should be using db:schema:load, not running all the migrations\n# from scratch. The latter is a flawed and unsustainable approach (the more migrations\n# you'll amass, the slower it'll run and the greater likelihood for issues).\n#\n# It's strongly recommended that you check this file into your version control system.\n\nActiveRecord::Schema.define(version: 20140911230918) do\n\n  create_table \"comments\", force: true do |t|\n    t.string   \"name\"\n    t.text     \"body\"\n    t.integer  \"post_id\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  add_index \"comments\", [\"post_id\"], name: \"index_comments_on_post_id\"\n\n  create_table \"posts\", force: true do |t|\n    t.string   \"title\"\n    t.text     \"body\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  create_table \"users\", force: true do |t|\n    t.string   \"email\",                  default: \"\", null: false\n    t.string   \"encrypted_password\",     default: \"\", null: false\n    t.string   \"reset_password_token\"\n    t.datetime \"reset_password_sent_at\"\n    t.datetime \"remember_created_at\"\n    t.integer  \"sign_in_count\",          default: 0,  null: false\n    t.datetime \"current_sign_in_at\"\n    t.datetime \"last_sign_in_at\"\n    t.string   \"current_sign_in_ip\"\n    t.string   \"last_sign_in_ip\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  add_index \"users\", [\"email\"], name: \"index_users_on_email\", unique: true\n  add_index \"users\", [\"reset_password_token\"], name: \"index_users_on_reset_password_token\", unique: true\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "rest", "ssl", "openssl", "net-http"], "comments": [{"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1437625191, "post_id": 31574447, "comment_id": 51110320, "body": "Why you are trying to use the old and insecure SSLv2? It might not be even supported at all and apart from that TLS extensions (which ruby tries to use in this case) is only supported starting with TLS 1.0."}], "answers": [{"tags": [], "owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "is_accepted": true, "score": 1, "last_activity_date": 1437663903, "last_edit_date": 1495540342, "creation_date": 1437663903, "answer_id": 31591239, "question_id": 31574447, "link": "https://stackoverflow.com/questions/31574447/getting-opensslsslsslerror-ssl-set-tlsext-host-name-when-trying-to-make-a-p/31591239#31591239", "title": "Getting OpenSSL::SSL::SSLError: SSL_set_tlsext_host_name when trying to make a post request through https", "body": "<blockquote>\n  <p>http.ssl_version = 'SSLv2'</p>\n</blockquote>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Server_Name_Indication\" rel=\"nofollow noreferrer\">Server Name Indication</a>, or SNI, is a TLS extension. Extensions were not available until TLS 1.0.</p>\n\n<p>And SSLv2 is insecure. You should probably avoid it (and SSLv3) in 2015. Also see <a href=\"https://stackoverflow.com/q/22550213\">How to set TLS context options in Ruby (like OpenSSL::SSL::SSL_OP_NO_SSLv2)</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 3606049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0401cea7529d78bea67cd0c56e88f83f?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel89", "link": "https://stackoverflow.com/users/3606049/daniel89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 31591239, "answer_count": 1, "score": 2, "last_activity_date": 1437690286, "creation_date": 1437601070, "last_edit_date": 1437690286, "question_id": 31574447, "link": "https://stackoverflow.com/questions/31574447/getting-opensslsslsslerror-ssl-set-tlsext-host-name-when-trying-to-make-a-p", "title": "Getting OpenSSL::SSL::SSLError: SSL_set_tlsext_host_name when trying to make a post request through https", "body": "<p>I'm trying to send a post request through https using net/http class in ruby and I'm getting this error:</p>\n\n<pre><code> OpenSSL::SSL::SSLError: SSL_set_tlsext_host_name\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:920:in `connect'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:920:in `block in connect'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/timeout.rb:76:in `timeout'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:920:in `connect'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:863:in `do_start'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:852:in `start'\n        from C:/RailsInstaller/Ruby2.1.0/lib/ruby/2.1.0/net/http.rb:1369:in `request'\n</code></pre>\n\n<p>Here's the code example i'm using:</p>\n\n<pre><code>uri = URI.parse('https://somehost/1')\nproxy = \"proxy-chain.domain.com\"\nport = 911\nhttp = Net::HTTP.new(uri.host, uri.port, proxy, port)\nhttp.use_ssl = true\nhttp.ssl_version = 'SSLv2'\nhttp.ciphers = OpenSSL::Cipher.ciphers      \nreq = Net::HTTP::Post.new(uri.request_uri)\nreq.set_form_data(JSON.parse(some_jsonstring_data))\nres = http.request(req)\n</code></pre>\n\n<p><strong>More Info:</strong></p>\n\n<p>I know that the host I'm trying to hit uses TLS1.2</p>\n\n<p>I've tried to set the ssl_options as suggested in @jww's answer below with no luck... If I don't set the ssl_version I get this error:</p>\n\n<pre><code>OpenSSL::SSL::SSLError: SSL_connect SYSCALL returned=5 errno=0 state=SSLv2/v3 read server hello A\n</code></pre>\n\n<p>Any help is super welcome. Thank you all!!</p>\n"}, {"tags": ["ruby", "regex", "go"], "comments": [{"owner": {"reputation": 481662, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 7, "creation_date": 1437601016, "post_id": 31574320, "comment_id": 51103780, "body": "Please check <a href=\"http://stackoverflow.com/a/23968993/3832970\">this answer</a>. In short: it is not possible to use backreferences in Go regex."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 3512719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0856fcbf5ab5a610e0c3e2dfc77e2c46?s=128&d=identicon&r=PG", "display_name": "marsgoonbars", "link": "https://stackoverflow.com/users/3512719/marsgoonbars"}, "is_accepted": true, "score": 1, "last_activity_date": 1437618881, "creation_date": 1437618881, "answer_id": 31577242, "question_id": 31574320, "link": "https://stackoverflow.com/questions/31574320/how-to-use-lookbehind-regexp-in-go/31577242#31577242", "title": "How to use lookbehind regexp in go?", "body": "<p>lookbehinds aren't supported neither are backreferences like <strong>@stribizhev</strong> mentioned.</p>\n\n<p><strong>Regular Expression 2 (RE2) Syntax Reference:</strong><br />\n<a href=\"https://github.com/google/re2/wiki/Syntax\" rel=\"nofollow\">https://github.com/google/re2/wiki/Syntax</a><br /></p>\n\n<blockquote>\n  <p>The syntax of the regular expressions accepted is the same general\n  syntax used by Perl, Python, and other languages. More precisely, it\n  is the syntax accepted by RE2 and described at\n  //code.google.com/p/re2/wiki/Syntax, except for \\C. <strong>--GoLang Docs</strong><br />\n  (<strong>ref:</strong> <a href=\"https://golang.org/pkg/regexp/\" rel=\"nofollow\">https://golang.org/pkg/regexp/</a>)</p>\n</blockquote>\n"}], "owner": {"reputation": 1929, "user_id": 1163114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e37db02fffa5f438329187fea4d287d?s=128&d=identicon&r=PG", "display_name": "bab", "link": "https://stackoverflow.com/users/1163114/bab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 1, "accepted_answer_id": 31577242, "answer_count": 1, "score": 1, "last_activity_date": 1437618881, "creation_date": 1437600556, "last_edit_date": 1437603148, "question_id": 31574320, "link": "https://stackoverflow.com/questions/31574320/how-to-use-lookbehind-regexp-in-go", "title": "How to use lookbehind regexp in go?", "body": "<p>I'm trying to convert this ruby regex to go. </p>\n\n<pre><code>GROUP_CALL = /^(?&lt;i1&gt;[ \\t]*)group\\(?[ \\t]*(?&lt;grps&gt;#{SYMBOLS})[ \\t]*\\)?[ \\t]+do[ \\t]*?\\n(?&lt;blk&gt;.*?)\\n^\\k&lt;i1&gt;end[ \\t]*$/m\n</code></pre>\n\n<p>I converted it to </p>\n\n<pre><code>groupCall := regexp.MustCompile(\"^(?P&lt;i1&gt;[ \\\\t]*)group\\\\(?[ \\\\t]*(?P&lt;grps&gt;(?::\\\\w+|:\\\"[^\\\"#]+\\\"|:'[^']+')([ \\\\t]*,[ \\\\t]*(?::\\\\w+|:\\\"[^\\\"#]+\\\"|:'[^']+'))*)[ \\\\t]*\\\\)?[ \\\\t]+do[ \\\\t]*?\\\\n(?P&lt;blk&gt;.*?)\\\\n^\\\\k&lt;i1&gt;end[ \\\\t]*$/s\")\n</code></pre>\n\n<p>but when run I get this error</p>\n\n<pre><code>error parsing regexp: invalid escape sequence: \\k\n</code></pre>\n\n<p>There's no mention of <code>\\k</code> in the <a href=\"https://golang.org/pkg/regexp/syntax/\" rel=\"nofollow\">go docs</a>, is there no equivalent in go?</p>\n"}, {"tags": ["ruby", "methods", "fixnum"], "comments": [{"owner": {"reputation": 4494, "user_id": 3727050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OFrev.png?s=128&g=1", "display_name": "urban", "link": "https://stackoverflow.com/users/3727050/urban"}, "edited": false, "score": 0, "creation_date": 1437600351, "post_id": 31574184, "comment_id": 51103453, "body": "Why don&#39;t you use log2 function? Should give you back integer if the input is on ^2. Google <code>log2 1024</code>"}, {"owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "edited": false, "score": 0, "creation_date": 1437600381, "post_id": 31574184, "comment_id": 51103469, "body": "Not a Ruby expert but it seems you&#39;re using the inject method on an integer instead of on an array"}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437600510, "post_id": 31574184, "comment_id": 51103537, "body": "I tried converting num to an array with <code>num.to_a</code> but that wouldnt work for me"}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437600598, "post_id": 31574184, "comment_id": 51103587, "body": "Log2 looks like a good idea, but how could I incorporate it to make sure I&#39;m only getting whole integers as a result?"}], "answers": [{"comments": [{"owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437602466, "post_id": 31574516, "comment_id": 51104374, "body": "Of course we never use <code>conditional_statement ? true : false</code> because <code>conditional_statement</code> by definition will itself evaluate as <code>true</code> or <code>false</code>."}, {"owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "reply_to_user": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437603381, "post_id": 31574516, "comment_id": 51104789, "body": "Yeah i was playing it safe and using OP&#39;s code as a base since it&#39;s my very first attempt at Ruby. Then realized how pointless that <code>if</code> was."}, {"owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437641056, "post_id": 31574516, "comment_id": 51117597, "body": "Feel free to update your code to improve that.  So it doesn&#39;t get mentioned again, or so someone else doesn&#39;t have to edit it. :)  And welcome to Ruby!"}, {"owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437685742, "post_id": 31574516, "comment_id": 51147875, "body": "Not a code review site, of course, but at this point, I wouldn&#39;t even use the local variable result.  Just compare the two values directly, and it will return true or false, and is simple enough to read and understand."}, {"owner": {"reputation": 3183, "user_id": 1214743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9CsNP.png?s=128&g=1", "display_name": "Malachi", "link": "https://stackoverflow.com/users/1214743/malachi"}, "reply_to_user": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437686113, "post_id": 31574516, "comment_id": 51148063, "body": "@vgoff you should come check us out over at CR, maybe drop by <a href=\"http://chat.stackexchange.com/rooms/8595/the-2nd-monitor\">The Second Monitor</a>"}], "tags": [], "owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "is_accepted": false, "score": 0, "last_activity_date": 1437669974, "last_edit_date": 1437669974, "creation_date": 1437601416, "answer_id": 31574516, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31574516#31574516", "title": "Create a method to find if a number is a power of 2?", "body": "<p>As was pointed out in the comments above, you were getting errors because you're trying to use the <code>inject</code> method on a non-iterable (an int). Here's a solution using the suggested <code>log2</code></p>\n\n<pre><code>def is_power_of_two?(num)\n  result = Math.log2(num)\n  result == Integer(result)\nend\n</code></pre>\n\n<p>Note: will fail with very big numbers close to binaries (like 2 ^ 64 - 1). A foolproof version (but slower) would be:</p>\n\n<pre><code>def is_power_of_two?(num)\n  while (num % 2 == 0 and num != 0)\n    num /= 2\n  end\n  num == 1\nend\n</code></pre>\n\n<p>Please comment any improvements that any of you may find.</p>\n"}, {"tags": [], "owner": {"reputation": 2718, "user_id": 4934077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5DyJ.png?s=128&g=1", "display_name": "Mario Zannone", "link": "https://stackoverflow.com/users/4934077/mario-zannone"}, "is_accepted": false, "score": 5, "last_activity_date": 1437602410, "last_edit_date": 1495540941, "creation_date": 1437601755, "answer_id": 31574606, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31574606#31574606", "title": "Create a method to find if a number is a power of 2?", "body": "<p>Try:</p>\n\n<pre><code>def is_power_of_two?(num)\n  num != 0 &amp;&amp; (num &amp; (num - 1)) == 0\nend\n</code></pre>\n\n<p>It is well explained <a href=\"https://stackoverflow.com/questions/600293/how-to-check-if-a-number-is-a-power-of-2\">here</a> (for C#, but @GregHewgill's explanation applies here as well)</p>\n"}, {"comments": [{"owner": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 1, "creation_date": 1437602916, "post_id": 31574833, "comment_id": 51104572, "body": "<code>(Math.log2(n) % 1).zero?</code>"}, {"owner": {"reputation": 3597, "user_id": 2112512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9689bb4f705b8bede56deddf66c87ef?s=128&d=identicon&r=PG", "display_name": "Jake Worth", "link": "https://stackoverflow.com/users/2112512/jake-worth"}, "reply_to_user": {"reputation": 9786, "user_id": 485864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34b46a9a4723bdbc6e1fdcf71b08517?s=128&d=identicon&r=PG", "display_name": "vgoff", "link": "https://stackoverflow.com/users/485864/vgoff"}, "edited": false, "score": 0, "creation_date": 1437603069, "post_id": 31574833, "comment_id": 51104650, "body": "That&#39;s also pretty legit -- will add to answer."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437605084, "post_id": 31574833, "comment_id": 51105449, "body": "<code>power_of_two? -3 #=&gt; Math::DomainError: Numerical argument is out of domain - &quot;log2&quot;</code>."}, {"owner": {"reputation": 3597, "user_id": 2112512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9689bb4f705b8bede56deddf66c87ef?s=128&d=identicon&r=PG", "display_name": "Jake Worth", "link": "https://stackoverflow.com/users/2112512/jake-worth"}, "edited": false, "score": 0, "creation_date": 1437607659, "post_id": 31574833, "comment_id": 51106161, "body": "Good point; this method assumes that the input is a positive integer."}], "tags": [], "owner": {"reputation": 3597, "user_id": 2112512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9689bb4f705b8bede56deddf66c87ef?s=128&d=identicon&r=PG", "display_name": "Jake Worth", "link": "https://stackoverflow.com/users/2112512/jake-worth"}, "is_accepted": false, "score": 2, "last_activity_date": 1437704937, "last_edit_date": 1437704937, "creation_date": 1437602728, "answer_id": 31574833, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31574833#31574833", "title": "Create a method to find if a number is a power of 2?", "body": "<p>I would do something like this, using Ruby's <code>Math</code> module.</p>\n\n<pre><code>def power_of_two?(n)\n  Math.log2(n) % 1 == 0\nend\n</code></pre>\n\n<p>Or, if you wanted to be really cool:</p>\n\n<pre><code>def power_of_two?(n)\n  (Math.log2(n) % 1).zero?\nend\n</code></pre>\n\n<p>Some IRB output: </p>\n\n<pre><code>2.1.0 :004 &gt; power_of_two?(2)\n =&gt; true\n2.1.0 :005 &gt; power_of_two?(32768)\n =&gt; true\n2.1.0 :006 &gt; power_of_two?(65536)\n =&gt; true\n</code></pre>\n\n<p>This method assumes that the input is a positive integer.</p>\n\n<p><a href=\"http://ruby-doc.org/core-1.9.3/Math.html#method-c-log2\" rel=\"nofollow\">Source</a></p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437613672, "post_id": 31575280, "comment_id": 51107636, "body": "Could you give some more insight into this answer&#39;s syntax? I don&#39;t understand it unfortuntely"}, {"owner": {"reputation": 291, "user_id": 1577938, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d136099c9534aab6617f96ca925492b?s=128&d=identicon&r=PG", "display_name": "E.A.", "link": "https://stackoverflow.com/users/1577938/e-a"}, "edited": false, "score": 0, "creation_date": 1508525047, "post_id": 31575280, "comment_id": 80658319, "body": "Cary, I believe there are no case where a negative number can be power of 2.  A negative N will result in a number less than 1 and a positive non-zero N, will result in a number greater than 1.  If N is a negative number, the use case is invalid and po2? should be false"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1508542947, "post_id": 31575280, "comment_id": 80664926, "body": "@EA, I wrote this more than two years ago. Looking back I&#39;m wondering what I was thinking at the time, but also why it took so long for someone (you) to point out the obvious. Thanks for letting me know. I&#39;ll edit."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": true, "score": 7, "last_activity_date": 1508542999, "last_edit_date": 1508542999, "creation_date": 1437604878, "answer_id": 31575280, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31575280#31575280", "title": "Create a method to find if a number is a power of 2?", "body": "<p>Clearly, <code>n</code> is a non-negative integer.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def po2?(n)\n  n.to_s(2).count('1') == 1\nend\n</code></pre>\n\n<p><strong>Examples</strong></p>\n\n<pre><code>po2?  0     #=&gt; false\npo2?  1     #=&gt; true\npo2? 32     #=&gt; true\npo2? 33     #=&gt; false\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><a href=\"http://ruby-doc.org//core-2.2.0/Fixnum.html#method-i-to_s\" rel=\"nofollow noreferrer\">Fixnum#to_s</a> provides the string representation of an integer (the receiver) for a given base. The method's argument, which defaults to 10, is the base. For example:</p>\n\n<pre><code>16.to_s     #=&gt; \"16\" \n16.to_s(8)  #=&gt; \"20\" \n16.to_s(16) #=&gt; \"10\"\n15.to_s(16) #=&gt;  \"f\"\n</code></pre>\n\n<p>It's base 2 we're interested in. For powers of 2:</p>\n\n<pre><code> 1.to_s(2)  #=&gt;      \"1\" \n 2.to_s(2)  #=&gt;     \"10\" \n 4.to_s(2)  #=&gt;    \"100\" \n 8.to_s(2)  #=&gt;   \"1000\"\n16.to_s(2)  #=&gt;  \"10000\"\n</code></pre>\n\n<p>For a few natural numbers that are are not powers of 2: </p>\n\n<pre><code> 3.to_s(2)  #=&gt;    \"11\" \n 5.to_s(2)  #=&gt;   \"101\" \n11.to_s(2)  #=&gt;  \"1011\" \n</code></pre>\n\n<p>We therefore wish to match binary strings that contain one <code>1</code>.</p>\n\n<p><strong>Another Way</strong></p>\n\n<pre><code>R = /\n    \\A      # match beginning of string (\"anchor\")\n    10*     # match 1 followed by zero or more zeroes\n    \\z      # match end of string (\"anchor\")\n    /x      # free-spacing regex definition mode\n\ndef po2?(n)\n  (n.to_s(2) =~ R) ? true : false\nend\n\npo2?(4)  #=&gt; true\npo2?(5)  #=&gt; false\n</code></pre>\n\n<p><strong>And one for the road</strong></p>\n\n<p>This uses <a href=\"http://ruby-doc.org//core-2.2.0/Fixnum.html#method-i-bit_length\" rel=\"nofollow noreferrer\">Fixnum#bit_length</a> and <a href=\"http://ruby-doc.org//core-2.2.0/Fixnum.html#method-i-5B-5D\" rel=\"nofollow noreferrer\">Fixnum#[]</a>:</p>\n\n<pre><code>def po2?(n)\n  m = n.bit_length-1\n  n[m] == 1 and m.times.all? { |i| n[i].zero? }\nend\n\npo2?  0     #=&gt; false\npo2?  1     #=&gt; true\npo2? 32     #=&gt; true\npo2? 33     #=&gt; false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31319, "user_id": 981183, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88dd7155ef7c0e5f43ab8d1a9efdecab?s=128&d=identicon&r=PG&f=1", "display_name": "K M Rakibul Islam", "link": "https://stackoverflow.com/users/981183/k-m-rakibul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1437673161, "last_edit_date": 1437673161, "creation_date": 1437672407, "answer_id": 31594235, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31594235#31594235", "title": "Create a method to find if a number is a power of 2?", "body": "<p>Here is another solution that uses recursion:</p>\n\n<pre><code>def power_of_2?(number)\n return true if number == 1\n return false if number == 0 || number % 2 != 0\n power_of_2?(number / 2)\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1297, "user_id": 5042431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VZqF.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/5042431/charles"}, "is_accepted": false, "score": -1, "last_activity_date": 1437699715, "creation_date": 1437699715, "answer_id": 31600526, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/31600526#31600526", "title": "Create a method to find if a number is a power of 2?", "body": "<p>In my opinion, the easiest -- but maybe a little long -- way of doing what you need to do is just writing this recursive method like so:</p>\n\n<pre><code>def power_of_two?(number)\n    continue = true\n    if number == 1\n        return true\n    end\n    if number % 2 != 0\n        return false\n    else\n        while continue == true do\n            if number.to_f / 2.0 == 2.0\n                continue = false\n                return true\n            else\n                if number % 2 != 0\n                    continue = false \n                    return false\n                else\n                    number /= 2\n                    continue = true\n                end\n            end\n        end\n    end\nend\n</code></pre>\n\n<p>One is a power of two (2^0), so it first checks if the number given is 1. If not, it checks if it is odd, because 1 is the only odd number that is a power of two. </p>\n\n<p>If it is odd it returns false and moves on to the else statement. It will check if the number divided by 2 is two, because then it would obviously be a power of 2. It does this as a float, because 5/2 in Ruby would return 2. </p>\n\n<p>If that is false, it then again checks if the number is odd -- unnecessary on the first round, necessary after that. If the number is not odd, it will divide the number by two and then do the loop another time. </p>\n\n<p>This will continue until the program resolves itself by getting 2 or any odd number, and returns true or false, respectively.  </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7196999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DH2hr.jpg?s=128&g=1", "display_name": "brocknroll", "link": "https://stackoverflow.com/users/7196999/brocknroll"}, "edited": false, "score": 0, "creation_date": 1507675585, "post_id": 46161361, "comment_id": 80302650, "body": "while this looked elegant to me at first, I realize now that it&#39;s inefficient as all get out, as it goes through potentially a lot more numbers  than needed  to get your answer.   looked good."}], "tags": [], "owner": {"reputation": 1, "user_id": 7196999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DH2hr.jpg?s=128&g=1", "display_name": "brocknroll", "link": "https://stackoverflow.com/users/7196999/brocknroll"}, "is_accepted": false, "score": 0, "last_activity_date": 1505158834, "last_edit_date": 1505158834, "creation_date": 1505151132, "answer_id": 46161361, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/46161361#46161361", "title": "Create a method to find if a number is a power of 2?", "body": "<p>I ran into this one in a bootcamp application prep.  I'm not a math person and don't understand a few of these methods, so I wanted to submit a common sense approach for people like me.  this requires little knowledge of math, except to know a number to the second power will be the result of some number multiplied by itself. </p>\n\n<pre><code>def is_power_of_two?(num)\n  num.times  {|n| return true if (n+1) * (n+1) == num}\n  false\nend\n</code></pre>\n\n<p>this method counts up to the num variable starting at 1 and returns true if (any of those numbers in the sequence multiplied by itself)  is equal to num &amp; if num is not 0 (more on that below).</p>\n\n<p>example: \nnum = 9</p>\n\n<pre><code>1 * 1 == 9 #=&gt; false\n2 * 2 == 9 #=&gt; false\n3 * 3 == 9 #=&gt; true \n</code></pre>\n\n<p>true is returned and method is finished running.  </p>\n\n<p>the #times method requires an integer > 0, so this edge case is \"handled\" by virtue of the fact that #times does nothing with \"0\" as the variable and returns false when outside of the #times iteration.  </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11214182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cnKyq.jpg?s=128&g=1", "display_name": "Alek2077", "link": "https://stackoverflow.com/users/11214182/alek2077"}, "is_accepted": false, "score": 0, "last_activity_date": 1555700566, "last_edit_date": 1555700566, "creation_date": 1555699388, "answer_id": 55766369, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2/55766369#55766369", "title": "Create a method to find if a number is a power of 2?", "body": "<p>Another way to solve this is to go the other way around than most of the answers here - we can use the number 1 to start and find out if the number is the power of two. Like this:</p>\n\n<pre><code>def power_of_two?(num)\n  product = 1\n\n  while product &lt; num\n    product *= 2\n  end\n  product == num\nend\n</code></pre>\n\n<p>We start with 1. Then we multiply the 1 by 2, and keep multiplying by 2 until the product is larger than <code>num</code> (<code>product &lt; num</code>). Once we hit that condition, we stop, exit the loop, and check if it's equal to <code>num</code> (<code>product == num</code>). If it is, the <code>num</code> is the power of 2.</p>\n"}], "owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3882, "favorite_count": 0, "accepted_answer_id": 31575280, "answer_count": 8, "score": 0, "last_activity_date": 1555700566, "creation_date": 1437599997, "last_edit_date": 1437600357, "question_id": 31574184, "link": "https://stackoverflow.com/questions/31574184/create-a-method-to-find-if-a-number-is-a-power-of-2", "title": "Create a method to find if a number is a power of 2?", "body": "<p>I have this code to return <code>true</code> if <code>num</code> is a power of 2. </p>\n\n<pre><code>def is_power_of_two?(num)\n  result = num.inject(0) {|n1, n2| n2 ** n1}\n  if result == num\n    true\n  else\n    false\n  end\nend\n\np is_power_of_two?(16)\n</code></pre>\n\n<p>I keep getting an error though. How could I fix and simplify this code?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "wisper"], "comments": [{"owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "edited": false, "score": 0, "creation_date": 1437599908, "post_id": 31573600, "comment_id": 51103251, "body": "can you share your tests, which you have tried?"}, {"owner": {"reputation": 16672, "user_id": 22237, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hkobD.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/22237/kris"}, "edited": false, "score": 0, "creation_date": 1437728063, "post_id": 31573600, "comment_id": 51162659, "body": "Wisper does not operate differently during tests. Could you try without <code>async</code> and see if the listeners are called by putting a breakpoint or <code>raise</code> in one of the listener methods."}, {"owner": {"reputation": 21, "user_id": 1456785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7691707313c9fc08d92219e29fde49?s=128&d=identicon&r=PG", "display_name": "FatSheep", "link": "https://stackoverflow.com/users/1456785/fatsheep"}, "edited": false, "score": 0, "creation_date": 1437794726, "post_id": 31573600, "comment_id": 51193759, "body": "I tested with async disabled, but no luck. :(, put break points in the listen also did not pause the program from running"}, {"owner": {"reputation": 16672, "user_id": 22237, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hkobD.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/22237/kris"}, "edited": false, "score": 0, "creation_date": 1440001737, "post_id": 31573600, "comment_id": 52096234, "body": "Try insecting <code>Wisper::GlobalListeners.listeners</code> to see if your listeners are subscribed."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1456785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7691707313c9fc08d92219e29fde49?s=128&d=identicon&r=PG", "display_name": "FatSheep", "link": "https://stackoverflow.com/users/1456785/fatsheep"}, "edited": false, "score": 0, "creation_date": 1437674804, "post_id": 31574160, "comment_id": 51141632, "body": "In my project, the listeners are necessary to receive message from publishers and update the models accordingly, since the listener is not working now, i cannot test the rest of the functions after the listener"}], "tags": [], "owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "is_accepted": false, "score": 1, "last_activity_date": 1437599910, "creation_date": 1437599910, "answer_id": 31574160, "question_id": 31573600, "link": "https://stackoverflow.com/questions/31573600/rails-wisper-under-test/31574160#31574160", "title": "rails wisper under test", "body": "<p>Even the authors are relying on some mocking/stubbing in the integrations tests, so that might be the correct way.</p>\n\n<pre><code>class MyCommand\n  include Wisper::Publisher\n\n  def execute(be_successful)\n    if be_successful\n      broadcast('success', 'hello')\n    else\n      broadcast('failure', 'world')\n    end\n  end\nend\n\ndescribe Wisper do\n\n  it 'subscribes object to all published events' do\n    listener = double('listener')\n    expect(listener).to receive(:success).with('hello')\n\n    command = MyCommand.new\n\n    command.subscribe(listener)\n\n    command.execute(true)\n  end\n</code></pre>\n\n<p><a href=\"https://github.com/krisleech/wisper/blob/master/spec/lib/integration_spec.rb\" rel=\"nofollow\">https://github.com/krisleech/wisper/blob/master/spec/lib/integration_spec.rb</a></p>\n"}], "owner": {"reputation": 21, "user_id": 1456785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7691707313c9fc08d92219e29fde49?s=128&d=identicon&r=PG", "display_name": "FatSheep", "link": "https://stackoverflow.com/users/1456785/fatsheep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1603148566, "creation_date": 1437597698, "last_edit_date": 1603148566, "question_id": 31573600, "link": "https://stackoverflow.com/questions/31573600/rails-wisper-under-test", "title": "rails wisper under test", "body": "<p>I have a project which used wisper <a href=\"https://github.com/krisleech/wisper\" rel=\"nofollow noreferrer\">https://github.com/krisleech/wisper</a> to provide publisher and subscribers functionalities.</p>\n<p>The gem works perfectly under development and production modes. However, when I try to add some tests for them (rake test:integration), the newly added tests refused to work. The publisher (maybe also the listener) in the tests mode stopped working anymore.</p>\n<p><code>Core::Request.subscribe(Listener::Studentlistener, async: true)</code>\n<code>Core::Request.subscribe(Listener::Tutorlistener, async: true)</code></p>\n<p>I used the sidekiq as a async backend, i used wisper-sidekiq gem to handle the async requests, not sure if this would be the problem?\n,puma as the server, MRI ruby 2.0.0</p>\n<p>Do I have to a set up something in order for the test to run?</p>\n<pre><code>it &quot;Student can get latest status after looking for xxx tutor&quot; do\n  post api_v1_students_request_look_for_xxx_tutor_path, \n     { subject: 'nothing' },\n     { &quot;AUTHORIZATION&quot; =&gt; &quot;xxx&quot;}\n  \n  expect(response).to be_success\n\n  get api_v1_students_status_path, nil,\n    { &quot;AUTHORIZATION&quot; =&gt; &quot;xxx&quot;}\n  \n  expect(response).to be_success\n  \n  json_response = JSON.parse(response.body)\n  \n  expect(json_response['state']).to eq('matching')\nend\n</code></pre>\n<p>The listener should receive the publishing between these two posts and update the state to be &quot;matching&quot;. However, now when I run rspec the test failed because the publisher never publish anything and hence the state is  not updated correctly.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "excel", "validation", "roo"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 5141057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10205605394948061/picture?type=large", "display_name": "Raymond Ruiz-Veve", "link": "https://stackoverflow.com/users/5141057/raymond-ruiz-veve"}, "edited": false, "score": 0, "creation_date": 1437657533, "post_id": 31574208, "comment_id": 51128830, "body": "When I made this change, It still told me that there was no implicit conversion into a string. When I did file_url.to_s, it was able to find the correct path, however, I still get an error... but this time, though it finds the correct path, it now says that the file does not exist..."}, {"owner": {"reputation": 167, "user_id": 5141057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10205605394948061/picture?type=large", "display_name": "Raymond Ruiz-Veve", "link": "https://stackoverflow.com/users/5141057/raymond-ruiz-veve"}, "edited": false, "score": 0, "creation_date": 1437664269, "post_id": 31574208, "comment_id": 51134647, "body": "This worked after changing Roo::Excell to Roo::Spreadsheet and install the roo-xls gem. =] Thanks for the help!"}], "tags": [], "owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "is_accepted": true, "score": 2, "last_activity_date": 1437600092, "creation_date": 1437600092, "answer_id": 31574208, "question_id": 31573319, "link": "https://stackoverflow.com/questions/31573319/validation-of-uploaded-excel-file-before-save-using-rails-with-roo-xls-gem/31574208#31574208", "title": "Validation of uploaded Excel file before save using Rails with Roo-xls gem", "body": "<p>You're passing the symbol <code>:file_url</code> to <code>Roo::Excel.new</code>, it wants a path to the file.  Try:</p>\n\n<pre><code>sheet = Roo::Excel.new(file_url)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1885, "user_id": 2288538, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/W96yd.jpg?s=128&g=1", "display_name": "Shalev Shalit", "link": "https://stackoverflow.com/users/2288538/shalev-shalit"}, "is_accepted": false, "score": 0, "last_activity_date": 1437640620, "creation_date": 1437640620, "answer_id": 31582213, "question_id": 31573319, "link": "https://stackoverflow.com/questions/31573319/validation-of-uploaded-excel-file-before-save-using-rails-with-roo-xls-gem/31582213#31582213", "title": "Validation of uploaded Excel file before save using Rails with Roo-xls gem", "body": "<p>You can send the <strong>tempfile</strong> to <strong>Roo</strong>.<br>\nLet's say you are sending the file to <code>params</code> as <code>:file</code>:</p>\n\n<pre><code>Roo::Excel.open(params[:file].tempfile.to_path.to_s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 5141057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10205605394948061/picture?type=large", "display_name": "Raymond Ruiz-Veve", "link": "https://stackoverflow.com/users/5141057/raymond-ruiz-veve"}, "is_accepted": false, "score": 0, "last_activity_date": 1437664184, "creation_date": 1437664184, "answer_id": 31591371, "question_id": 31573319, "link": "https://stackoverflow.com/questions/31573319/validation-of-uploaded-excel-file-before-save-using-rails-with-roo-xls-gem/31591371#31591371", "title": "Validation of uploaded Excel file before save using Rails with Roo-xls gem", "body": "<p>Okay, I figured it out. Instead of <code>Roo::Excell</code>, it needs to be </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>sheet = Roo::Spreadsheet.open(self.file_url)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, I needed to install the <code>gem 'roo-xls'</code> gem in order to read the spreadsheet.</p>\n"}, {"tags": [], "owner": {"reputation": 1082, "user_id": 5591519, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVfFbIebPdk/AAAAAAAAAAI/AAAAAAAAAC0/aJ-GcD8mvGE/photo.jpg?sz=128", "display_name": "Shivam Bharadwaj", "link": "https://stackoverflow.com/users/5591519/shivam-bharadwaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1501160733, "last_edit_date": 1501160733, "creation_date": 1501159127, "answer_id": 45351067, "question_id": 31573319, "link": "https://stackoverflow.com/questions/31573319/validation-of-uploaded-excel-file-before-save-using-rails-with-roo-xls-gem/45351067#45351067", "title": "Validation of uploaded Excel file before save using Rails with Roo-xls gem", "body": "<p>In my case following code is working fine. (Assuming that you have installed required gems)<strong>In my case I have the .xls file in my root directory</strong></p>\n\n<pre><code>require 'roo'\nrequire 'roo-xls'\nclass ExcelReader\n  def read_file()\n  sheet = Roo::Spreadsheet.open('Test.xls')\n  sheet.each do |row|\n  puts row\nend\n end\n  obj=ExcelReader.new()\n  obj.read_file()\n end\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 5141057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10205605394948061/picture?type=large", "display_name": "Raymond Ruiz-Veve", "link": "https://stackoverflow.com/users/5141057/raymond-ruiz-veve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "accepted_answer_id": 31574208, "answer_count": 4, "score": 2, "last_activity_date": 1501160733, "creation_date": 1437596734, "last_edit_date": 1437599693, "question_id": 31573319, "link": "https://stackoverflow.com/questions/31573319/validation-of-uploaded-excel-file-before-save-using-rails-with-roo-xls-gem", "title": "Validation of uploaded Excel file before save using Rails with Roo-xls gem", "body": "<p>In a model, before uploading an <code>.xls</code> file, I want to be able to validate excel files before they are saved by the application. I am trying to open the to-be-saved excel file from the <code>:file_url</code> object(column in comits table where the <code>.xls</code> files will be saved) and then validate it but I am getting a <code>no implicit conversion of Symbol into String</code> error. </p>\n\n<p>The validation works when I place the actual file path of an excel file that has been uploaded and saved by carrierwave into <code>Roo::Excel.new(\"\")</code> but that defeats the purpose of my validation.  </p>\n\n<p>How can I grab the excel file without it being stored in the application?</p>\n\n<p>I appreciate the help! I hope is not too confusing. </p>\n\n<p>This is my <code>comit.rb</code>\n</p>\n\n<pre><code>class Comit &lt; ActiveRecord::Base\n  belongs_to :user\n  mount_uploader :file_url, ComitUploader, mount_on: :file_url\n  validates :filename, :file_url, presence: true\n  validates_format_of :file_url, with: /.xls/, message: \"Wrong file format\"\n  before_save :validate_excel\n\n  def validate_excel\n    sheet = Roo::Excel.new(:file_url)\n    errors = []\n\n    header = sheet.row(1)\n    num_of_columns = sheet.last_column\n\n    errors &lt;&lt; 'Need headers' unless\n    errors &lt;&lt; 'Need more columns' if num_of_columns &lt; 21\n\n    errors\n  end\nend\n</code></pre>\n\n\n"}, {"tags": ["arrays", "ruby", "loops"], "answers": [{"comments": [{"owner": {"reputation": 2718, "user_id": 4934077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5DyJ.png?s=128&g=1", "display_name": "Mario Zannone", "link": "https://stackoverflow.com/users/4934077/mario-zannone"}, "edited": false, "score": 0, "creation_date": 1437596701, "post_id": 31573040, "comment_id": 51101459, "body": "Good catch. However it seems to me that there is still a problem with the algorithm. It is not catching the best buy solution, but simply each  solution which is better than or equal to the current best. E.g.: stock_picker([1,8,2,9]) will still output [0, 1, 0, 3]."}, {"owner": {"reputation": 110, "user_id": 5145149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1907c19609f139680a4b1188bdcdab92?s=128&d=identicon&r=PG&f=1", "display_name": "JasonMattingly", "link": "https://stackoverflow.com/users/5145149/jasonmattingly"}, "edited": false, "score": 0, "creation_date": 1437597242, "post_id": 31573040, "comment_id": 51101817, "body": "I thought that might become a problem. All I can think to do is to let the loop finish and produce a single &quot;best_profit&quot; and then afterwards run a separate loop that uses the best_profit variable to search the array again for matches. It sounds so clunky though and I&#39;d really like to keep it to one loop if I can."}, {"owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "edited": false, "score": 0, "creation_date": 1437597270, "post_id": 31573040, "comment_id": 51101834, "body": "Yeah, because you add items to the buy_and_sell_days array whenever they are the current best_profit, but best_profit can change, so you get an entry from the first best_profit, and the second."}, {"owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "edited": false, "score": 0, "creation_date": 1437597298, "post_id": 31573040, "comment_id": 51101857, "body": "There&#39;s a couple ways to skin that.  You could gather all profits and their days, and then grab the max..."}], "tags": [], "owner": {"reputation": 21521, "user_id": 78613, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0fa1dc97175c4cc1ea4ecf506119961c?s=128&d=identicon&r=PG", "display_name": "Nick Veys", "link": "https://stackoverflow.com/users/78613/nick-veys"}, "is_accepted": true, "score": 1, "last_activity_date": 1437597760, "last_edit_date": 1437597760, "creation_date": 1437595763, "answer_id": 31573040, "question_id": 31572722, "link": "https://stackoverflow.com/questions/31572722/loop-isnt-recording-all-solutions-into-an-array/31573040#31573040", "title": "Loop isn&#39;t recording all solutions into an array", "body": "<p>The <code>index</code> method:</p>\n\n<blockquote>\n  <p>Returns the index of the first object in ary such that the object is == to obj.</p>\n</blockquote>\n\n<p>So: <code>prices.index(1)</code> is 0 and <code>prices.index(9)</code> is 1</p>\n\n<p>If you use the index method, there's not enough information for it to know to pick the second one over the first one, so you get <code>[0, 1, 0, 1]</code>.</p>\n\n<p>You could pass the index along with it so you can avoid this altogether.  You could also store <strong>all</strong> possible profits and dates, and then grab the maximum when you're done.  Easier!  Here's both:</p>\n\n<pre><code>def stock_picker(prices)\n  buy_and_sell_days = []\n  buy_and_sell_days2 = {}\n\n  best_profit = 0\n\n  prices.each_with_index do |low, lidx|\n    prices.each_with_index do |high, hidx|\n      if hidx &gt; lidx\n        buy_and_sell_days2[high - low] ||= []\n        buy_and_sell_days2[high - low] &lt;&lt; [lidx, hidx]\n        profit = high - low\n        if profit &gt; best_profit\n          best_profit = profit\n        end\n        if high - low == best_profit\n          buy_and_sell_days.push(lidx, hidx)\n        end\n      end\n    end\n  end\n\n  p buy_and_sell_days\n  p buy_and_sell_days2\n  p buy_and_sell_days2.max_by { |profit, pairs| profit }\n  p best_profit\nend\n\nstock_picker([1,9,2,9])\n#&gt; [0, 1, 0, 3]\n#&gt; {8=&gt;[[0, 1], [0, 3]], 1=&gt;[[0, 2]], -7=&gt;[[1, 2]], 0=&gt;[[1, 3]], 7=&gt;[[2, 3]]}\n#&gt; [8, [[0, 1], [0, 3]]]\n#&gt; 8\n</code></pre>\n"}], "owner": {"reputation": 110, "user_id": 5145149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1907c19609f139680a4b1188bdcdab92?s=128&d=identicon&r=PG&f=1", "display_name": "JasonMattingly", "link": "https://stackoverflow.com/users/5145149/jasonmattingly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 31573040, "answer_count": 1, "score": 0, "last_activity_date": 1437598758, "creation_date": 1437594630, "last_edit_date": 1437597556, "question_id": 31572722, "link": "https://stackoverflow.com/questions/31572722/loop-isnt-recording-all-solutions-into-an-array", "title": "Loop isn&#39;t recording all solutions into an array", "body": "<p>This loop searches through the <code>stock_picker</code> variable and determines which two days would be the best \"buy\" and \"sell\" days by checking for which two days would net the most profit. The loop correctly sees that my greatest profit would be 8 by buying on day zero and selling on day one. </p>\n\n<p>However, I want the program to record ALL possible best buy and sell dates into an array. My profit would still be 8 if I bought on day 0 and sold on day 3, but the program does not record this. Instead it returns an array of <code>[0,1,0,1]</code> which tells me it sees the two solutions, but is for some reason not recording the second one. How can I return an array of <code>[0,1,0,3]</code>?</p>\n\n<pre><code>def stock_picker(prices)\n  buy_and_sell_days = []\n\n  best_profit = 0\n\n  prices.each do |low|\n    prices.each do |high|\n      if prices.index(high) &gt; prices.index(low)\n        profit = high - low\n        if profit &gt; best_profit\n          best_profit = profit\n        end\n        if high - low == best_profit\n          buy_and_sell_days.push(prices.index(low), prices.index(high))\n        end\n      end\n    end\n  end\n\n  p buy_and_sell_days\n  p best_profit\n\nend\n\nstock_picker([1, 9, 2, 9])\n</code></pre>\n\n<p>(edited for format/legibility)</p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "rubygems", "cloud9-ide", "searchkick"], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 4022226, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-5_-ymKxMsaQ/AAAAAAAAAAI/AAAAAAAABrc/lx1n1QiqCcg/photo.jpg?sz=128", "display_name": "vickris", "link": "https://stackoverflow.com/users/4022226/vickris"}, "edited": false, "score": 0, "creation_date": 1437641698, "post_id": 31573357, "comment_id": 51118011, "body": "I have elastic search installed. Can&#39;t see why &#39;rake searchkick:reindex CLASS=Movie&#39; wont work now that I get &#39;Faraday::ConnectionFailed: Connection refused - connect(2) for &quot;localhost&quot; port 9200&#39;"}, {"owner": {"reputation": 273, "user_id": 4022226, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-5_-ymKxMsaQ/AAAAAAAAAAI/AAAAAAAABrc/lx1n1QiqCcg/photo.jpg?sz=128", "display_name": "vickris", "link": "https://stackoverflow.com/users/4022226/vickris"}, "edited": false, "score": 1, "creation_date": 1437657280, "post_id": 31573357, "comment_id": 51128605, "body": "sorry noticed I had not installed elastic search correctly. I uninstalled what i had then made a fresh install"}], "tags": [], "owner": {"reputation": 953, "user_id": 1993536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17a3a074b629368c391549294af55654?s=128&d=identicon&r=PG", "display_name": "izaban", "link": "https://stackoverflow.com/users/1993536/izaban"}, "is_accepted": true, "score": 0, "last_activity_date": 1437596842, "creation_date": 1437596842, "answer_id": 31573357, "question_id": 31572603, "link": "https://stackoverflow.com/questions/31572603/how-to-install-the-searchkick-gem-when-using-cloud9-online-ide/31573357#31573357", "title": "How to install the searchkick gem when using cloud9 online IDE", "body": "<p>Searchkick is a gem that works with elasticsearch. Maybe you need to install elasticsearch first or run it if you have already installed.</p>\n\n<p>You can check how to setup elasticsearch in the following <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html\" rel=\"nofollow\">link</a>:</p>\n"}, {"tags": [], "owner": {"reputation": 2586, "user_id": 1805275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/839c46fffb57ab074a462631c4dcc97e?s=128&d=identicon&r=PG", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/1805275/st%c3%a9phane"}, "is_accepted": false, "score": 1, "last_activity_date": 1440006769, "creation_date": 1440006769, "answer_id": 32102364, "question_id": 31572603, "link": "https://stackoverflow.com/questions/31572603/how-to-install-the-searchkick-gem-when-using-cloud9-online-ide/32102364#32102364", "title": "How to install the searchkick gem when using cloud9 online IDE", "body": "<p>To make <a href=\"https://github.com/ankane/searchkick\" rel=\"nofollow\">searchkick</a> working on <a href=\"https://c9.io/\" rel=\"nofollow\">Cloud9</a> you have to execute elasticseach first.</p>\n\n<p>Even if <code>searchkick</code> gem install the dependencies of <code>elasticsearch</code> it is not enought (at least for Cloud9). You have to install it manually and execute it.</p>\n\n<p>You can find the latest version on <a href=\"https://www.elastic.co/downloads/elasticsearch\" rel=\"nofollow\">the official website</a>. And execute these commands on your terminal:</p>\n\n<pre><code>wget https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-VERSION.zip\nunzip elasticsearch-VERSION.zip\ncd elasticsearch-VERSION\n./bin/elasticsearch&amp;\n</code></pre>\n\n<p>To check if everythings if working well, <code>curl -X GET 'http://localhost:9200'</code> should returns a <code>\"status\" : 200</code>.</p>\n\n<p>To stop the server, you can use the RESTful API:</p>\n\n<pre><code>curl -X POST 'http://localhost:9200/_cluster/nodes/_local/_shutdown'\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 4022226, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-5_-ymKxMsaQ/AAAAAAAAAAI/AAAAAAAABrc/lx1n1QiqCcg/photo.jpg?sz=128", "display_name": "vickris", "link": "https://stackoverflow.com/users/4022226/vickris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 31573357, "answer_count": 2, "score": 2, "last_activity_date": 1440006769, "creation_date": 1437594316, "last_edit_date": 1437596449, "question_id": 31572603, "link": "https://stackoverflow.com/questions/31572603/how-to-install-the-searchkick-gem-when-using-cloud9-online-ide", "title": "How to install the searchkick gem when using cloud9 online IDE", "body": "<p>I am following <a href=\"https://www.youtube.com/watch?v=0DR5JLZ2Qgg&amp;index=5&amp;list=PL23ZvcdS3XPLNdRYB_QyomQsShx59tpc-\" rel=\"nofollow\">a tutorial</a> where we want to add a search functionality to the app. But when I run <code>rake searchkick:reindex CLASS=Movie</code> in the terminal I get </p>\n\n<pre><code>rake aborted!\nFaraday::ConnectionFailed: Connection refused - connect(2) for \"localhost\" port 9200\n/usr/local/rvm/gems/ruby-2.2.1/gems/faraday-0.9.1/lib/faraday/adapter/net_http.rb:80:in `perform_request'\n/usr/local/rvm/gems/ruby-2.2.1/gems/faraday-\nTasks: TOP =&gt; searchkick:reindex\n(See full trace by running task with --trace)\n</code></pre>\n\n<p>Is there any other way to get around this when using an online IDE? I think this only happens to those who use online editors.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 445, "user_id": 4368245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h0TDk.jpg?s=128&g=1", "display_name": "spectre6000", "link": "https://stackoverflow.com/users/4368245/spectre6000"}, "edited": false, "score": 0, "creation_date": 1437595605, "post_id": 31572515, "comment_id": 51100757, "body": "Since you appear to be learning, I&#39;ll just point you in the right direction so you can figure it out and get the most for your miles:  You&#39;ll essentially convert the string to an array, then iterate over it (google &quot;enumerable&quot;). Use a regular expression (&lt;= google) to then find the item in the array that is a URL."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1437597960, "post_id": 31572515, "comment_id": 51102212, "body": "Welcome to Stack Overflow. It&#39;s important to show your attempt to solve a problem. It&#39;s better for us to correct your code than it is for us to write code that is totally unrelated to surrounding code in your program. You&#39;ll have to shoehorn in the new code which can introduce new problems."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2213501, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4fa8d30103192c0c2943b23e8022d9e7?s=128&d=identicon&r=PG", "display_name": "napsterdsilva", "link": "https://stackoverflow.com/users/2213501/napsterdsilva"}, "edited": false, "score": 0, "creation_date": 1437596941, "post_id": 31572570, "comment_id": 51101637, "body": "its not working for me. i see the following <code>irb(main):010:0&gt; regexp = &#47;;adurl=(.*)\\\\&#47; &#47;;adurl=(.*)\\\\&#47; irb(main):011:0&gt; regexp.match(a)[1] NoMethodError: undefined method </code>[]&#39; for nil:NilClass \tfrom (irb):11 \tfrom /Users/pradeep/.rvm/rubies/ruby-2.0.0-p598/bin/irb:12:in <code>&lt;main&gt;&#39;</code>"}], "tags": [], "owner": {"reputation": 2612, "user_id": 2273578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211dd1a8e9f61b248fba83b9924f4f13?s=128&d=identicon&r=PG", "display_name": "Mario P&#233;rez", "link": "https://stackoverflow.com/users/2273578/mario-p%c3%a9rez"}, "is_accepted": false, "score": -1, "last_activity_date": 1437594608, "last_edit_date": 1437594608, "creation_date": 1437594209, "answer_id": 31572570, "question_id": 31572515, "link": "https://stackoverflow.com/questions/31572515/find-and-extract-a-varying-substring-in-ruby/31572570#31572570", "title": "Find and extract a varying substring in Ruby", "body": "<p>Try regular expressions:</p>\n\n<pre><code>regexp = /;adurl=(.*)\\\\/\nregexp.match(a)[1] # --&gt; http://google.com\n</code></pre>\n\n<p>Test it here <a href=\"http://rubular.com/\" rel=\"nofollow\">http://rubular.com/</a></p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 2213501, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4fa8d30103192c0c2943b23e8022d9e7?s=128&d=identicon&r=PG", "display_name": "napsterdsilva", "link": "https://stackoverflow.com/users/2213501/napsterdsilva"}, "edited": false, "score": 0, "creation_date": 1437597507, "post_id": 31573378, "comment_id": 51101976, "body": "Thanks you The Tin Man, That worked !! You are awesome. I appreciate your time to share that info."}], "tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 2, "last_activity_date": 1437597367, "last_edit_date": 1437597367, "creation_date": 1437596922, "answer_id": 31573378, "question_id": 31572515, "link": "https://stackoverflow.com/questions/31572515/find-and-extract-a-varying-substring-in-ruby/31573378#31573378", "title": "Find and extract a varying substring in Ruby", "body": "<p>This'll find it:</p>\n\n<pre><code>a = 'foobarbizzbazz;adurl=http://google.com\" foobarbizzbazz'\na[/adurl=([^\"]+)\"/, 1] # =&gt; \"http://google.com\"\n</code></pre>\n\n<p>It's using <a href=\"http://ruby-doc.org/core-2.2.2/String.html#method-i-5B-5D\" rel=\"nofollow\">String's <code>[]</code> method</a> to search the string. <code>,1</code> tells it to return the first capture-group.</p>\n\n<p><code>[^\"]+</code> in Regular Expressions creates a \"<a href=\"http://ruby-doc.org/core-2.2.2/Regexp.html#class-Regexp-label-Character+Classes\" rel=\"nofollow\">character class</a>\" and means \"one or more characters <em>NOT</em> <code>\"</code>\", so in effect it's finding the occurrence of \"adurl=\", capturing all characters up to the first double-quote, and returning them.</p>\n\n<p>Creating a <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/uri/rdoc/index.html\" rel=\"nofollow\">URI</a> object then is very easy:</p>\n\n<pre><code>require 'uri'\n\nurl = 'foobarbizzbazz;adurl=http://google.com\" foobarbizzbazz'\nuri = URI.parse(url[/adurl=([^\"]+)\"/, 1]) # =&gt; #&lt;URI::HTTP http://google.com&gt;\n</code></pre>\n\n<p>At that point you can take advantage of URI's methods to manipulate the URL to your heart's content.</p>\n"}], "owner": {"reputation": 153, "user_id": 2213501, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4fa8d30103192c0c2943b23e8022d9e7?s=128&d=identicon&r=PG", "display_name": "napsterdsilva", "link": "https://stackoverflow.com/users/2213501/napsterdsilva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437597964, "creation_date": 1437594012, "last_edit_date": 1437597964, "question_id": 31572515, "link": "https://stackoverflow.com/questions/31572515/find-and-extract-a-varying-substring-in-ruby", "title": "Find and extract a varying substring in Ruby", "body": "<p>I have a string:</p>\n\n<pre><code>a = 'foobarbizzbazz;adurl=http://google.com\" foobarbizzbazz'\n</code></pre>\n\n<p>How do I extract the substring in between <code>;adurl=</code> and <code>\"</code>? This substring would be assigned to a URL object. The string, and interior URL, varies each time so I need to extract an unknown part of the string.</p>\n\n<p>I am unable to figure out a way to use <code>begin_with</code>, <code>end_with</code>, or <code>contains</code> to get the desired output.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "edited": false, "score": 0, "creation_date": 1437594527, "post_id": 31572226, "comment_id": 51100108, "body": "What are the contents of /Users/dorianflowers/.rvm/gems/ruby-2.1.0/extensions/x86_64-&zwnj;&#8203;darwin-14/2.1.0-stat&zwnj;&#8203;ic/bcrypt-ruby-3.0.1&zwnj;&#8203;/gem_make.out ?"}, {"owner": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "edited": false, "score": 0, "creation_date": 1437594644, "post_id": 31572226, "comment_id": 51100177, "body": "Also, the compiler on osx versions have changed significantly over the past few releases, can you try installing the most current version of bcrypt? You might be able to <code>bundle update bcrypt</code> to bypass the problem entirely."}, {"owner": {"reputation": 13, "user_id": 4955399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df199d7c3c0fe8b88524c1230af5314?s=128&d=identicon&r=PG&f=1", "display_name": "Dorian", "link": "https://stackoverflow.com/users/4955399/dorian"}, "reply_to_user": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "edited": false, "score": 0, "creation_date": 1437595586, "post_id": 31572226, "comment_id": 51100748, "body": "The contents are what are seen in the body of the question. I also tried running &#39;bundle update bcrypt&#39; and it responded with &#39;Could not find gem &#39;crypt&#39;.&#39;"}, {"owner": {"reputation": 301, "user_id": 2649131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48215119ff0870b7997aa48bb2e89870?s=128&d=identicon&r=PG", "display_name": "krstck", "link": "https://stackoverflow.com/users/2649131/krstck"}, "edited": false, "score": 1, "creation_date": 1437596650, "post_id": 31572226, "comment_id": 51101428, "body": "Do you have Xcode and command line tools updated on your Mac? If not then make sure those are up to date."}], "answers": [{"tags": [], "owner": {"reputation": 6462, "user_id": 3784008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55ou4.jpg?s=128&g=1", "display_name": "anothermh", "link": "https://stackoverflow.com/users/3784008/anothermh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524604478, "creation_date": 1524604478, "answer_id": 50010801, "question_id": 31572226, "link": "https://stackoverflow.com/questions/31572226/trouble-installing-bcrypt-ruby-3-0-1/50010801#50010801", "title": "Trouble Installing bcrypt-ruby (3.0.1)", "body": "<p>These errors all indicate that there is no compiler on your computer:</p>\n\n<pre><code>error: stdio.h: No such file or directory\nerror: sys/types.h: No such file or directory\nerror: sys/stat.h: No such file or directory\nerror: stdlib.h: No such file or directory\nerror: string.h: No such file or directory\nerror: strings.h: No such file or directory\nerror: inttypes.h: No such file or directory\nerror: stdint.h: No such file or directory\nerror: unistd.h: No such file or directory\nerror: sys/select.h: No such file or directory\n</code></pre>\n\n<p>On macOS, the easiest way to resolve this is to install the Xcode command line tools:</p>\n\n<pre><code>xcode-select --install\n</code></pre>\n\n<p>The Xcode command line tools include all the above libraries and the compilers needed to build bcrypt-ruby. (and most other gems)</p>\n"}], "owner": {"reputation": 13, "user_id": 4955399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df199d7c3c0fe8b88524c1230af5314?s=128&d=identicon&r=PG&f=1", "display_name": "Dorian", "link": "https://stackoverflow.com/users/4955399/dorian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524604478, "creation_date": 1437592967, "last_edit_date": 1524603958, "question_id": 31572226, "link": "https://stackoverflow.com/questions/31572226/trouble-installing-bcrypt-ruby-3-0-1", "title": "Trouble Installing bcrypt-ruby (3.0.1)", "body": "<p>I am having trouble installing crypt-ruby 3.0.1 on my mac. Does anyone now what the cause of this maybe? Below is the following output error.</p>\n\n<pre><code>Dorians-MacBook-Pro:rentsnap_webapp dorianflowers$ gem install bcrypt-ruby -v '3.0.1'\nBuilding native extensions.  This could take a while...\nERROR:  Error installing bcrypt-ruby:\n  ERROR: Failed to build gem native extension.\n\n      /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/bin/ruby -r ./siteconf20150722-8311-1gpgksu.rb extconf.rb\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling bcrypt_ext.c\nIn file included from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/ruby.h:29,\n             from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby.h:33,\n             from bcrypt_ext.c:1:\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:26:19: error: stdio.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:28:24: error: sys/types.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:31:23: error: sys/stat.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:34:21: error: stdlib.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:45:21: error: string.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:48:22: error: strings.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:51:23: error: inttypes.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:54:21: error: stdint.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:57:21: error: unistd.h: No such file or directory\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:61:25: error: sys/select.h: No such file or directory\nIn file included from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/defines.h:68,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/ruby.h:29,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby.h:33,\n                 from bcrypt_ext.c:1:\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/missing.h:23:45: error: math.h: No such file or directory\nIn file included from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/ruby.h:184,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby.h:33,\n                 from bcrypt_ext.c:1:\n/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1/include/limits.h:15:25: error: limits.h: No such file or directory\nIn file included from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:35,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/ruby.h:1694,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby.h:33,\n                 from bcrypt_ext.c:1:\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/st.h:139: error: expected declaration specifiers or \u2018...\u2019 before \u2018uint32_t\u2019\nIn file included from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/ruby.h:1694,\n                 from /Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby.h:33,\n                 from bcrypt_ext.c:1:\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:348: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_fdset_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:440: error: expected declaration specifiers or \u2018...\u2019 before \u2018fd_set\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:440: error: expected declaration specifiers or \u2018...\u2019 before \u2018fd_set\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:440: error: expected declaration specifiers or \u2018...\u2019 before \u2018fd_set\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:440: warning: \u2018struct timeval\u2019 declared inside parameter list\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:440: warning: its scope is only this definition or declaration, which is probably not what you want\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:441: error: expected declaration specifiers or \u2018...\u2019 before \u2018rb_fdset_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:441: error: expected declaration specifiers or \u2018...\u2019 before \u2018rb_fdset_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:441: error: expected declaration specifiers or \u2018...\u2019 before \u2018rb_fdset_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:441: warning: \u2018struct timeval\u2019 declared inside parameter list\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:442: warning: \u2018struct timeval\u2019 declared inside parameter list\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:545: error: expected declaration specifiers or \u2018...\u2019 before \u2018mode_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:624: error: expected declaration specifiers or \u2018...\u2019 before \u2018pid_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:638: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_fork\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:639: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_fork_err\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:641: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_waitpid\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:642: error: expected \u2018)\u2019 before \u2018pid\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:643: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_spawn\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:644: error: expected \u2018=\u2019, \u2018,\u2019, \u2018;\u2019, \u2018asm\u2019 or \u2018__attribute__\u2019 before \u2018rb_spawn_err\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:646: error: expected \u2018)\u2019 before \u2018pid\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:755: error: expected declaration specifiers or \u2018...\u2019 before \u2018uint32_t\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:882: error: expected \u2018)\u2019 before \u2018long\u2019\n/Users/dorianflowers/.rvm/rubies/ruby-2.1.0/include/ruby-2.1.0/ruby/intern.h:883: error: expected \u2018)\u2019 before \u2018long\u2019\nbcrypt_ext.c: In function \u2018bc_salt\u2019:\nbcrypt_ext.c:46: warning: incompatible implicit declaration of built-in function \u2018strlen\u2019\nmake: *** [bcrypt_ext.o] Error 1\n\nmake failed, exit code 2\n\nGem files will remain installed in /Users/dorianflowers/.rvm/gems/ruby-2.1.0/gems/bcrypt-ruby-3.0.1 for inspection.\nResults logged to /Users/dorianflowers/.rvm/gems/ruby-2.1.0/extensions/x86_64-darwin-14/2.1.0-static/bcrypt-ruby-3.0.1/gem_make.out\n</code></pre>\n"}, {"tags": ["ruby", "shell", "markdown", "jekyll", "liquid"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 1, "creation_date": 1437598127, "post_id": 31571950, "comment_id": 51102293, "body": "Welcome to Stack Overflow.&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, <a href=\"http://meta.stackoverflow.com/questions/254393\">describe the problem</a> and what has been done so far to solve it.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5143929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7559edd0887548fbdf668cea2d63d8c0?s=128&d=identicon&r=PG&f=1", "display_name": "John Kelly", "link": "https://stackoverflow.com/users/5143929/john-kelly"}, "edited": false, "score": 0, "creation_date": 1437596475, "post_id": 31572455, "comment_id": 51101310, "body": "Thanks, it looks like Prism has horizontal scrolling but nothing to display the &quot;current path&quot; or file for each block. Unfortunately writing a prism plugin is a little above my abilities"}, {"owner": {"reputation": 312, "user_id": 865168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/U2zgb.jpg?s=128&g=1", "display_name": "CJW", "link": "https://stackoverflow.com/users/865168/cjw"}, "reply_to_user": {"reputation": 13, "user_id": 5143929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7559edd0887548fbdf668cea2d63d8c0?s=128&d=identicon&r=PG&f=1", "display_name": "John Kelly", "link": "https://stackoverflow.com/users/5143929/john-kelly"}, "edited": false, "score": 0, "creation_date": 1437659502, "post_id": 31572455, "comment_id": 51130601, "body": "Here is a nice one <a href=\"http://codepen.io/tommymcdonald/pen/FiJcI\" rel=\"nofollow noreferrer\">codepen.io/tommymcdonald/pen/FiJcI</a> which is in the style of a mac terminal."}], "tags": [], "owner": {"reputation": 312, "user_id": 865168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/U2zgb.jpg?s=128&g=1", "display_name": "CJW", "link": "https://stackoverflow.com/users/865168/cjw"}, "is_accepted": false, "score": 0, "last_activity_date": 1437593828, "creation_date": 1437593828, "answer_id": 31572455, "question_id": 31571950, "link": "https://stackoverflow.com/questions/31571950/terminal-looking-code-block-in-jekyll/31572455#31572455", "title": "Terminal-looking code block in Jekyll", "body": "<p>You could start with something like prism.js and maybe even write a plugin for it if there isn't one already. The chef website is really neat.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5143929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7559edd0887548fbdf668cea2d63d8c0?s=128&d=identicon&r=PG&f=1", "display_name": "John Kelly", "link": "https://stackoverflow.com/users/5143929/john-kelly"}, "edited": false, "score": 0, "creation_date": 1437693826, "post_id": 31590539, "comment_id": 51150904, "body": "Ah, I was able to get Pygments working and found <a href=\"http://stackoverflow.com/questions/11093233/how-to-support-scrolling-when-using-pygments-with-jekyll/23393920#23393920\">this answer</a> showing how to get scrolling working with Pygments in Jekyll. Now I just need to figure out how to add a &quot;bar&quot; up top displaying the file or directory the commands or code below belong in."}, {"owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "reply_to_user": {"reputation": 13, "user_id": 5143929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7559edd0887548fbdf668cea2d63d8c0?s=128&d=identicon&r=PG&f=1", "display_name": "John Kelly", "link": "https://stackoverflow.com/users/5143929/john-kelly"}, "edited": false, "score": 0, "creation_date": 1437694061, "post_id": 31590539, "comment_id": 51150980, "body": "@JohnKelly that&#39;s more of a CSS and styling issue than Jekyll unfortunately. I&#39;ve tried doing that on my site too and it didn&#39;t work out the way I wanted. Alternatively you can try just using 3rd party hosts like github gists, or ideone or pastebins."}], "tags": [], "owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "is_accepted": true, "score": 0, "last_activity_date": 1437662272, "creation_date": 1437662272, "answer_id": 31590539, "question_id": 31571950, "link": "https://stackoverflow.com/questions/31571950/terminal-looking-code-block-in-jekyll/31590539#31590539", "title": "Terminal-looking code block in Jekyll", "body": "<p>Jekyll <strong>already has support for syntax highlighters</strong> called <strong>Pygments</strong> and <strong>Rouge</strong>. These are installed and Pygments is the default.</p>\n\n<p>The benefit of this compared to other JS implementations is that your syntax is highlighted at compile time, so when the end user sees it they see HTML + CSS. <strong>Without the need for using JS your website will also nicely work for those no-script users</strong>. </p>\n\n<p><strong>The documentation for that is <a href=\"http://jekyllrb.com/docs/templates/#code-snippet-highlighting\" rel=\"nofollow\">here</a></strong>. If you choose to use <code>pygments</code> you'll need Python, else you can just go for <code>Rouge</code> which is written in Ruby. If you don't need a ton of language support (i.e since I assume you'll be doing terminal commands most of the time and don't need the other language supports, Rouge should be sufficient)</p>\n\n<p><strong>Note that you will need the <code>syntax.css</code> style sheet</strong> as described <a href=\"http://jekyllrb.com/docs/templates/#stylesheets-for-syntax-highlighting\" rel=\"nofollow\">here</a>. In the past it is too easy to miss out on adding that to the HTML and not getting the desired results. After which is just tweaking those settings to match your website's style.</p>\n"}, {"tags": [], "owner": {"reputation": 2018, "user_id": 4063844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a16caf6cde2ed73c383c6be548e96f?s=128&d=identicon&r=PG", "display_name": "Travis", "link": "https://stackoverflow.com/users/4063844/travis"}, "is_accepted": false, "score": 0, "last_activity_date": 1437663627, "creation_date": 1437663627, "answer_id": 31591140, "question_id": 31571950, "link": "https://stackoverflow.com/questions/31571950/terminal-looking-code-block-in-jekyll/31591140#31591140", "title": "Terminal-looking code block in Jekyll", "body": "<p>Check out <a href=\"https://asciinema.org/\" rel=\"nofollow\">asciinema</a>. \nYou should be able to embed that in your Jekyll blog as per <a href=\"https://asciinema.org/docs/embedding\" rel=\"nofollow\">the docs</a>.</p>\n\n<p>Example:\n<a href=\"https://asciinema.org/a/14\" rel=\"nofollow\"><img src=\"https://asciinema.org/a/14.png\" alt=\"asciicast\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 5143929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7559edd0887548fbdf668cea2d63d8c0?s=128&d=identicon&r=PG&f=1", "display_name": "John Kelly", "link": "https://stackoverflow.com/users/5143929/john-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 0, "accepted_answer_id": 31590539, "answer_count": 3, "score": 1, "last_activity_date": 1437663627, "creation_date": 1437592163, "question_id": 31571950, "link": "https://stackoverflow.com/questions/31571950/terminal-looking-code-block-in-jekyll", "title": "Terminal-looking code block in Jekyll", "body": "<p>Please bear with me, as I'm a devops/systems person and definitely not a web developer in the slightest.</p>\n\n<p>I currently have a static Jekyll blog running on Github Pages and although the theme I'm using (Carte Noire) has nice looking code blocks and highlighting, I am really looking for a block that I can use to show terminal commands and their output, essentially similar to what Chef Docs use in their tutorials to show the commands their running: <a href=\"https://learn.chef.io/learn-the-basics/ubuntu/configure-a-resource/\" rel=\"nofollow\">https://learn.chef.io/learn-the-basics/ubuntu/configure-a-resource/</a></p>\n\n<p>I can only seem to find js terminal emulators, where all I want is a way to display terminal commands w/ highlighting in a terminal-like window. Also, preferably something with horizontal scrolling so the text does not wrap around. </p>\n"}, {"tags": ["ruby", "ruby-on-rails-4", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 445394, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/abd604a6eb29e40857b9257106274ecb?s=128&d=identicon&r=PG", "display_name": "grimmwerks", "link": "https://stackoverflow.com/users/445394/grimmwerks"}, "edited": false, "score": 1, "creation_date": 1437645192, "post_id": 31572705, "comment_id": 51120244, "body": "But I&#39;ve already got config.serve_static_files = ENV[&#39;RAILS_SERVE_STATIC_FILES&#39;].present?  and in the heroku config vars they automatically add RAILS_SERVE_STATIC_FILES =&gt; enabled; so wouldn&#39;t that be the same thing?"}], "tags": [], "owner": {"reputation": 679, "user_id": 3499961, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/fHjY4.png?s=128&g=1", "display_name": "Badr Tazi", "link": "https://stackoverflow.com/users/3499961/badr-tazi"}, "is_accepted": false, "score": 0, "last_activity_date": 1437594587, "creation_date": 1437594587, "answer_id": 31572705, "question_id": 31571893, "link": "https://stackoverflow.com/questions/31571893/heroku-serve-static-assets-issue/31572705#31572705", "title": "heroku &#39;serve_static_assets&#39; issue", "body": "<p>In <code>your_app/config/environments/production.rb</code> under <code>Rails.application.configure do</code> add this:</p>\n\n<pre><code>config.serve_static_files = true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1443, "user_id": 4064922, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-2_1oNmjkoec/AAAAAAAAAAI/AAAAAAAAAXE/OTUcRfaAZeM/photo.jpg?sz=128", "display_name": "Aboozar Rajabi", "link": "https://stackoverflow.com/users/4064922/aboozar-rajabi"}, "is_accepted": false, "score": 1, "last_activity_date": 1466063222, "creation_date": 1466063222, "answer_id": 37852925, "question_id": 31571893, "link": "https://stackoverflow.com/questions/31571893/heroku-serve-static-assets-issue/37852925#37852925", "title": "heroku &#39;serve_static_assets&#39; issue", "body": "<p>If you don't find <code>serve_static_assets</code> in one of your config files, it's likely that one gem (probably rails_serve_static_assets) is setting this option. So do it:</p>\n\n<pre><code>bundle update rails_serve_static_assets\n</code></pre>\n\n<p>or generally:</p>\n\n<pre><code>bundle update \n</code></pre>\n\n<p>The second one will update all of your gems.\nIt solved my problem</p>\n"}], "owner": {"reputation": 491, "user_id": 445394, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/abd604a6eb29e40857b9257106274ecb?s=128&d=identicon&r=PG", "display_name": "grimmwerks", "link": "https://stackoverflow.com/users/445394/grimmwerks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1466063222, "creation_date": 1437591980, "last_edit_date": 1495542160, "question_id": 31571893, "link": "https://stackoverflow.com/questions/31571893/heroku-serve-static-assets-issue", "title": "heroku &#39;serve_static_assets&#39; issue", "body": "<p>I'm having a trouble pushing to heroku; I keep getting:</p>\n\n<pre><code>DEPRECATION WARNING: The configuration option `config.serve_static_assets` has been renamed to `config.serve_static_files` to clarify its role (it merely enables serving everything in the `public` folder and is unrelated to the asset pipeline). The `serve_static_assets` alias will be removed in Rails 5.0. Please migrate your configuration files accordingly. (called from block in tsort_each at /app/vendor/ruby-2.1.6/lib/ruby/2.1.0/tsort.rb:226)\n</code></pre>\n\n<p>(also just saw it again as this):</p>\n\n<pre><code>DEPRECATION WARNING: The configuration option `config.serve_static_assets` has been renamed to `config.serve_static_files` to clarify its role (it merely enables serving everything in the `public` folder and is unrelated to the asset pipeline). The `serve_static_assets` alias will be removed in Rails 5.0. Please migrate your configuration files accordingly. (called from block in tsort_each at /tmp/build_c9447e81993b6aaa7ea4e3f42707ac87/vendor/ruby-2.1.6/lib/ruby/2.1.0/tsort.rb:226)\n</code></pre>\n\n<p>Now I've read things such as <a href=\"https://stackoverflow.com/questions/28415821/hartls-sample-app-warning-on-config-serve-static-files-and-test-already-define\">Hartl&#39;s sample_app warning on config.serve_static_files, and test already defined</a> and I've searched through my app and don't have it set; HOWEVER in my Gemfile.lock:</p>\n\n<pre><code>rails_serve_static_assets\n</code></pre>\n\n<p>219        rails_stdout_logging\n  220:     rails_serve_static_assets (0.0.2)</p>\n\n<p>Could that be the issue?  Should I delete the .lock and bundle install again now that in my production.rb:</p>\n\n<pre><code>config.serve_static_files = ENV['RAILS_SERVE_STATIC_FILES'].present?\n</code></pre>\n\n<p>Wondering if I should upgrade to 2.2.2 : patchlevel 95, Rubygems: ; 2.4.5</p>\n"}, {"tags": ["ruby", "logging", "sinatra"], "answers": [{"tags": [], "owner": {"reputation": 1756, "user_id": 295671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0fc94068a4be0dd57d34a223722f2690?s=128&d=identicon&r=PG", "display_name": "james246", "link": "https://stackoverflow.com/users/295671/james246"}, "is_accepted": false, "score": 1, "last_activity_date": 1437600740, "creation_date": 1437600740, "answer_id": 31574369, "question_id": 31571785, "link": "https://stackoverflow.com/questions/31571785/how-do-i-add-custom-logging-for-which-route-is-satisfying-a-request-in-sinatra/31574369#31574369", "title": "How do I add custom logging for which route is satisfying a request in Sinatra?", "body": "<p>You can use Sinatra's <code>before</code> hook in your controller, and print out some information contained on the <code>request</code></p>\n\n<pre><code>before do\n  if request.request_method == :get || request.request_method == :post\n    puts request.path_info, params.inspect #\u00a0check out the request variable for more info you might like to ouput\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 9274, "user_id": 10393, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/179dd478f871d63cba9b6427eee28113?s=128&d=identicon&r=PG", "display_name": "Steven Noble", "link": "https://stackoverflow.com/users/10393/steven-noble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437600740, "creation_date": 1437591608, "question_id": 31571785, "link": "https://stackoverflow.com/questions/31571785/how-do-i-add-custom-logging-for-which-route-is-satisfying-a-request-in-sinatra", "title": "How do I add custom logging for which route is satisfying a request in Sinatra?", "body": "<p>I'm working on a Sinatra app that has a bunch of routes of all sorts. I'd like to add some custom logging that logs the params of the <code>get</code> or <code>post</code> call that ends up generating the response for the request. I realize I could subclass the <code>get</code>/<code>post</code> definition to wrap the block with a logging call. But I suspect there is a more appropriate approach.</p>\n"}, {"tags": ["ruby", "gridfs", "voltrb"], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 368602, "user_type": "registered", "profile_image": "https://graph.facebook.com/144900684/picture?type=large", "display_name": "Ryan", "link": "https://stackoverflow.com/users/368602/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1437591502, "creation_date": 1437591502, "answer_id": 31571744, "question_id": 31571686, "link": "https://stackoverflow.com/questions/31571686/is-it-possible-to-use-gridfs-with-ruby-volt/31571744#31571744", "title": "Is it possible to use GridFS with Ruby Volt?", "body": "<p>Sorry, we don't have a way to use gridfs at the moment.  You can get access to the raw mongo adaptor with:</p>\n\n<pre><code>Volt::DataStore.fetch.db\n</code></pre>\n\n<p>You probably don't want the gridfs entry in the same mongo collection as your using as a volt model.</p>\n"}], "owner": {"reputation": 177, "user_id": 3579220, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5f6b81754a3c31823dfee76236d6ffe6?s=128&d=identicon&r=PG&f=1", "display_name": "user3579220", "link": "https://stackoverflow.com/users/3579220/user3579220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437591502, "creation_date": 1437591331, "question_id": 31571686, "link": "https://stackoverflow.com/questions/31571686/is-it-possible-to-use-gridfs-with-ruby-volt", "title": "Is it possible to use GridFS with Ruby Volt?", "body": "<p>I want to store some pictures in the database and was thinking about using GridFS to do it efficiently. Is it possible to use GridFS in the Ruby Volt framework? If so, how does one go about doing it?</p>\n"}, {"tags": ["ruby", "hashmap", "hash"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1437592294, "post_id": 31571656, "comment_id": 51098807, "body": "In the docs they&#39;re listed as being the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 2, "creation_date": 1437593363, "post_id": 31571764, "comment_id": 51099480, "body": "You can compare the methods from within Ruby: <code>Hash.instance_method(:store) == Hash.instance_method(:[]=) #=&gt; true</code>"}], "tags": [], "owner": {"reputation": 27303, "user_id": 1003123, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ef598363853c3081cc13585afbe81d0f?s=128&d=identicon&r=PG", "display_name": "enrico.bacis", "link": "https://stackoverflow.com/users/1003123/enrico-bacis"}, "is_accepted": false, "score": 5, "last_activity_date": 1437591941, "last_edit_date": 1437591941, "creation_date": 1437591551, "answer_id": 31571764, "question_id": 31571656, "link": "https://stackoverflow.com/questions/31571656/difference-between-hashkey-value-and-hash-storekey-value/31571764#31571764", "title": "Difference between hash[&quot;key&quot;] = &quot;value&quot; and hash.store(&quot;key&quot;,&quot;value&quot;)", "body": "<p>In order to understand it we can inspect the ruby source code. The source code for the class <code>hash</code> can be found <a href=\"https://github.com/ruby/ruby/blob/9f1c009497431a5fd161eb530f8f1ccfbe0acac3/hash.c\" rel=\"nofollow\">here</a>.</p>\n\n<p>The method <code>[]=</code> is defined at line <a href=\"https://github.com/ruby/ruby/blob/9f1c009497431a5fd161eb530f8f1ccfbe0acac3/hash.c#L4017\" rel=\"nofollow\">4017</a> as:</p>\n\n<pre><code>rb_define_method(rb_cHash,\"[]=\", rb_hash_aset, 2);\n</code></pre>\n\n<p>The method <code>store</code> is defined at line <a href=\"https://github.com/ruby/ruby/blob/9f1c009497431a5fd161eb530f8f1ccfbe0acac3/hash.c#L4018\" rel=\"nofollow\">4018</a> as:</p>\n\n<pre><code>rb_define_method(rb_cHash,\"store\", rb_hash_aset, 2);\n</code></pre>\n\n<p>As you can see they both point to the C function <code>rb_hash_aset</code>, this means that the method <code>store</code> is simply an alias for the <code>[]=</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "edited": false, "score": 0, "creation_date": 1437602732, "post_id": 31572265, "comment_id": 51104487, "body": "&quot;They are just two different ways of doing the same thing.&quot; \u2013 They are more than that: they are <i>aliases</i>, IOW, they are not two <i>different</i> ways, they are the <i>same</i> way, just under a different name."}], "tags": [], "owner": {"reputation": 51, "user_id": 2383714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T83Oe.jpg?s=128&g=1", "display_name": "bizworld", "link": "https://stackoverflow.com/users/2383714/bizworld"}, "is_accepted": false, "score": 0, "last_activity_date": 1437608833, "last_edit_date": 1437608833, "creation_date": 1437593119, "answer_id": 31572265, "question_id": 31571656, "link": "https://stackoverflow.com/questions/31571656/difference-between-hashkey-value-and-hash-storekey-value/31572265#31572265", "title": "Difference between hash[&quot;key&quot;] = &quot;value&quot; and hash.store(&quot;key&quot;,&quot;value&quot;)", "body": "<p>There is no difference between the two. </p>\n\n<p>If you run both in irb (interactive ruby), you'll get the same result.</p>\n\n<p>Say you have a hash named list, with the following key/value pairs:</p>\n\n<pre><code>list = { \"item\" =&gt; \"Milk\", \"quantity\" =&gt; 2 }\n</code></pre>\n\n<p>When you add the key, \"price\" with the value, 10, using</p>\n\n<pre><code>list.store(\"price\", 10)\n</code></pre>\n\n<p>list, will now return,</p>\n\n<pre><code># =&gt; {\"item\"=&gt;\"Milk\", \"quantity\"=&gt;2, \"price\"=&gt;10}\n</code></pre>\n\n<p>Likewise, deleting the key, \"price\"</p>\n\n<pre><code>list.delete(\"price\")\n</code></pre>\n\n<p>and then adding the key again, using </p>\n\n<pre><code>list[\"price\"] = 10\n</code></pre>\n\n<p>list, will also return,</p>\n\n<pre><code># =&gt; {\"item\"=&gt;\"Milk\", \"quantity\"=&gt;2, \"price\"=&gt;10}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 2383714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T83Oe.jpg?s=128&g=1", "display_name": "bizworld", "link": "https://stackoverflow.com/users/2383714/bizworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1437608833, "creation_date": 1437591243, "last_edit_date": 1437591988, "question_id": 31571656, "link": "https://stackoverflow.com/questions/31571656/difference-between-hashkey-value-and-hash-storekey-value", "title": "Difference between hash[&quot;key&quot;] = &quot;value&quot; and hash.store(&quot;key&quot;,&quot;value&quot;)", "body": "<p>In Ruby, what's the difference between </p>\n\n<pre><code>hash[\"key\"] = \"value\"\n</code></pre>\n\n<p>and </p>\n\n<pre><code>hash.store(\"key\",\"value\")\n</code></pre>\n"}, {"tags": ["arrays", "ruby"], "comments": [{"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 0, "creation_date": 1437591709, "post_id": 31571627, "comment_id": 51098463, "body": "Which error do you get? You should show the code you tried that caused the error; not just the part that works."}, {"owner": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "edited": false, "score": 1, "creation_date": 1437591784, "post_id": 31571627, "comment_id": 51098511, "body": "You just have to name the argument, for example <code>def alternate_sum(a)</code> and then use <code>a</code> as it it were an array, calling array methods on it. Maybe check whether it is an array at the beginning of the method"}, {"owner": {"reputation": 39, "user_id": 4683444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7df4a3af0f58bb80c10dd8883c32b078?s=128&d=identicon&r=PG&f=1", "display_name": "dwhipple", "link": "https://stackoverflow.com/users/4683444/dwhipple"}, "edited": false, "score": 0, "creation_date": 1437592654, "post_id": 31571627, "comment_id": 51099039, "body": "Sorry if I was too brief. I was getting a syntax error stating that I couldn&#39;t pass in array like this ... def arr([a]). Then, I tried to add the splat * and that didn&#39;t work. Then I removed the brackets and splat and it finally worked. I was also missing an end to the method. Any reason why splat and brackets don&#39;t work? I&#39;m confused."}, {"owner": {"reputation": 39, "user_id": 4683444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7df4a3af0f58bb80c10dd8883c32b078?s=128&d=identicon&r=PG&f=1", "display_name": "dwhipple", "link": "https://stackoverflow.com/users/4683444/dwhipple"}, "reply_to_user": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "edited": false, "score": 0, "creation_date": 1437592751, "post_id": 31571627, "comment_id": 51099096, "body": "Also the code that worked was: <code>def alternate_sq_sum(a)</code> and calling it like so <code>alternate_sq_sum([1,2,3,4,5])</code> so thanks @blueygh2 :). Does anyone know why the splat argument doesn&#39;t work here?"}, {"owner": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "edited": false, "score": 0, "creation_date": 1437592842, "post_id": 31571627, "comment_id": 51099153, "body": "@dwhipple you need <i>named</i> arguments, passing a type such as <code>[]</code> for <i>array</i> doesn&#39;t work. you can&#39;t tell ruby what type the arguments are, so you better choose good names like <i>arr</i> for array"}, {"owner": {"reputation": 1460, "user_id": 1493379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf946b17cfc8c468c17451bd14a53830?s=128&d=identicon&r=PG", "display_name": "blueygh2", "link": "https://stackoverflow.com/users/1493379/blueygh2"}, "edited": false, "score": 0, "creation_date": 1437593207, "post_id": 31571627, "comment_id": 51099375, "body": "@dwhipple also, splat doesnt work because without splat it wouldn&#39;t work either."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 4683444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7df4a3af0f58bb80c10dd8883c32b078?s=128&d=identicon&r=PG&f=1", "display_name": "dwhipple", "link": "https://stackoverflow.com/users/4683444/dwhipple"}, "is_accepted": false, "score": 1, "last_activity_date": 1437593074, "last_edit_date": 1437593074, "creation_date": 1437592874, "answer_id": 31572191, "question_id": 31571627, "link": "https://stackoverflow.com/questions/31571627/passing-an-array-as-an-argument-in-ruby/31572191#31572191", "title": "Passing an array as an argument in Ruby", "body": "<p>I just wanted to thank everyone for the replies and post the code that worked. It appears I had [] inside where the argument would be and was missing an end that was causing it to fail.</p>\n\n<pre><code>def alternate_sq_sum(a)\n  even = a.select.each_with_index { |str,i| i.even? }\n  odd = a.select.each_with_index {|str,i| i.odd? }\n\n  even_sum = 0\n  even.map do |n|\n    even_sum +=n\n  end\n\n  odd_sum = 0\n  odd.map do |n|\n    n*=n\n    odd_sum+=n\n  end\n\n  total = even_sum + odd_sum\n  total\nend\n\nalternate_sq_sum([1,2,3,4,5])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4182477, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006917166975/picture?type=large", "display_name": "\u0412\u0430\u0441\u0438\u0441\u0443\u0430\u043b\u0438\u044f \u041b\u043e\u0445\u0430\u043d\u043a\u0438\u043d\u0430", "link": "https://stackoverflow.com/users/4182477/%d0%92%d0%b0%d1%81%d0%b8%d1%81%d1%83%d0%b0%d0%bb%d0%b8%d1%8f-%d0%9b%d0%be%d1%85%d0%b0%d0%bd%d0%ba%d0%b8%d0%bd%d0%b0"}, "is_accepted": false, "score": 0, "last_activity_date": 1438198853, "creation_date": 1438198853, "answer_id": 31709681, "question_id": 31571627, "link": "https://stackoverflow.com/questions/31571627/passing-an-array-as-an-argument-in-ruby/31709681#31709681", "title": "Passing an array as an argument in Ruby", "body": "<p>One thing is still unclear: we have to take squares of integers at even positions but you take squares of odds and this code works! But method even returns <strong>true</strong> if int is an even.</p>\n"}], "owner": {"reputation": 39, "user_id": 4683444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7df4a3af0f58bb80c10dd8883c32b078?s=128&d=identicon&r=PG&f=1", "display_name": "dwhipple", "link": "https://stackoverflow.com/users/4683444/dwhipple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438198853, "creation_date": 1437591165, "question_id": 31571627, "link": "https://stackoverflow.com/questions/31571627/passing-an-array-as-an-argument-in-ruby", "title": "Passing an array as an argument in Ruby", "body": "<p>I've been learning Ruby and am attempting a problem that takes an array of numbers as input, squares the integers at even positions in the array and then sums the squared integers + the integers at odd positions in the array. (1,2,3,4,5 should return 29). I got it to run, however, I'm having trouble passing in the numbers as an argument. Everytime I attempt to define the method and pass in the array when calling the method, I get an error.</p>\n\n<p><strong>Basically, I want the method to be:</strong> </p>\n\n<p><code>def alternate_sq_sum([])</code> and the ability to pass any array of numbers by calling the method. </p>\n\n<pre><code>Ex. alternate_sq_sum([1,4,63,2,1]).\n</code></pre>\n\n<p><strong>Here's my current code:</strong></p>\n\n<pre><code>arr = [1,2,3,4,5]\neven = arr.select.each_with_index { |str,i| i.even? }\nodd = arr.select.each_with_index {|str,i| i.odd? }\n\neven_sum = 0\neven.map do |n|\n  even_sum +=n\nend\n\nodd_sum = 0\nodd.map do |n|\n  n*=n\n  odd_sum+=n\nend\n\nprint even_sum + odd_sum\n</code></pre>\n"}, {"tags": ["ruby", "object", "comparison"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1437591045, "post_id": 31571556, "comment_id": 51098005, "body": "Use <code>.equal?</code>: <a href=\"https://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and\" title=\"whats the difference between equal eql and\">stackoverflow.com/questions/7156955/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1610, "user_id": 2434726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SpJSS.jpg?s=128&g=1", "display_name": "scottysseus", "link": "https://stackoverflow.com/users/2434726/scottysseus"}, "edited": false, "score": 0, "creation_date": 1437656654, "post_id": 31571625, "comment_id": 51128123, "body": "Yes, .equal? was exactly what I needed. thank you also for the link to the source."}], "tags": [], "owner": {"reputation": 24214, "user_id": 124257, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Y1Udo.jpg?s=128&g=1", "display_name": "fresskoma", "link": "https://stackoverflow.com/users/124257/fresskoma"}, "is_accepted": true, "score": 12, "last_activity_date": 1589564432, "last_edit_date": 1589564432, "creation_date": 1437591158, "answer_id": 31571625, "question_id": 31571556, "link": "https://stackoverflow.com/questions/31571556/ruby-check-if-two-variables-are-the-same-instance/31571625#31571625", "title": "ruby: check if two variables are the same instance", "body": "<p>According to <a href=\"https://github.com/ruby/ruby/blob/9e41a75255d15765648279629fd3134cae076398/object.c#L235\" rel=\"nofollow noreferrer\">the source</a>, the <code>Object#equal?</code> method should do what you're trying to do:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// From object.c\nrb_obj_equal(VALUE obj1, VALUE obj2)\n{\n    if (obj1 == obj2) return Qtrue;\n    return Qfalse;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24214, "user_id": 124257, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Y1Udo.jpg?s=128&g=1", "display_name": "fresskoma", "link": "https://stackoverflow.com/users/124257/fresskoma"}, "edited": false, "score": 4, "creation_date": 1437644238, "post_id": 31574913, "comment_id": 51119638, "body": "The documentation of <code>equal?</code> explicitly states that it should not be overridden because it is use for object identity (in hashes and the like). Overriding <code>equal?</code> probably has severe side-effects."}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": -2, "last_activity_date": 1437603065, "creation_date": 1437603065, "answer_id": 31574913, "question_id": 31571556, "link": "https://stackoverflow.com/questions/31571556/ruby-check-if-two-variables-are-the-same-instance/31574913#31574913", "title": "ruby: check if two variables are the same instance", "body": "<p>No, not really. And that is Good Thing&trade;.</p>\n\n<p>A basic tenet of object-orientation is that one object can simulate another object. If you could tell whether or not two objects are the same object (\"Reference Equality\"), then you could tell apart the simulation from the real thing, thus breaking object-orientation \u2026 which, for an object-oriented language like Ruby is not so good.</p>\n\n<p>The default implementation of <code>Object#equal?</code> does indeed check for reference equality, but, just like every other method in Ruby, it can be overridden in subclasses or monkey-patched, so there is no way to <em>guarantee</em> that it will actually check for reference equality. And that is how it should be.</p>\n"}], "owner": {"reputation": 1610, "user_id": 2434726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SpJSS.jpg?s=128&g=1", "display_name": "scottysseus", "link": "https://stackoverflow.com/users/2434726/scottysseus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3204, "favorite_count": 1, "accepted_answer_id": 31571625, "answer_count": 2, "score": 7, "last_activity_date": 1589564432, "creation_date": 1437590863, "question_id": 31571556, "link": "https://stackoverflow.com/questions/31571556/ruby-check-if-two-variables-are-the-same-instance", "title": "ruby: check if two variables are the same instance", "body": "<p>I have a class <code>Issue</code> in which each class has a <code>key</code> field. Because <code>key</code>s are <em>meant</em> to be unique, I overrode the comparison operator such that two <code>Issue</code> objects are compared based on <code>key</code> like so:</p>\n\n<pre><code>def ==(other_issue)\n  other_issue.key == @key\nend\n</code></pre>\n\n<p>However, I am dealing with a case in which two there may be two variables referring to the same instance of an <code>Issue</code>, and thus a comparison by key would not distinguish between them. Is there any way I could check if the two variables refer to the same place?</p>\n"}, {"tags": ["ruby", "methods"], "comments": [{"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "reply_to_user": {"reputation": 16621, "user_id": 319741, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b625972bd759abcd3de0d2283617a1b7?s=128&d=identicon&r=PG", "display_name": "Scott C Wilson", "link": "https://stackoverflow.com/users/319741/scott-c-wilson"}, "edited": false, "score": 0, "creation_date": 1437590329, "post_id": 31571321, "comment_id": 51097529, "body": "My ideas so far were to add all the possible pairs in the array, and then if any of the pairs == 0, I would return the indices of those numbers. But I&#39;m not sure how to go about doing that."}, {"owner": {"reputation": 16621, "user_id": 319741, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b625972bd759abcd3de0d2283617a1b7?s=128&d=identicon&r=PG", "display_name": "Scott C Wilson", "link": "https://stackoverflow.com/users/319741/scott-c-wilson"}, "edited": false, "score": 0, "creation_date": 1437590461, "post_id": 31571321, "comment_id": 51097618, "body": "Remember that adding &quot;b&quot; and &quot;a&quot; is the same as adding &quot;a&quot; and &quot;b&quot;, so you only have to do half that work."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1437590552, "post_id": 31571321, "comment_id": 51097676, "body": "here&#39;s a hint: no temp array is needed. Just two loops."}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 1, "creation_date": 1437590908, "post_id": 31571321, "comment_id": 51097927, "body": "I&#39;m wracking my brain and still can&#39;t do it!"}, {"owner": {"reputation": 3625, "user_id": 1431389, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc7b30dfd25062fbf6ccdfb6e09da9c8?s=128&d=identicon&r=PG", "display_name": "Sturm", "link": "https://stackoverflow.com/users/1431389/sturm"}, "edited": false, "score": 0, "creation_date": 1437591565, "post_id": 31571321, "comment_id": 51098354, "body": "Well, if the array is large enough it would be more correct to use a temp array."}, {"owner": {"reputation": 2560, "user_id": 5112122, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206053108358704/picture?type=large", "display_name": "Horacio", "link": "https://stackoverflow.com/users/5112122/horacio"}, "edited": false, "score": 0, "creation_date": 1437592045, "post_id": 31571321, "comment_id": 51098667, "body": "Maybe you can ask for every item on the list if exist his negative, and if it exists..."}, {"owner": {"reputation": 3625, "user_id": 1431389, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc7b30dfd25062fbf6ccdfb6e09da9c8?s=128&d=identicon&r=PG", "display_name": "Sturm", "link": "https://stackoverflow.com/users/1431389/sturm"}, "reply_to_user": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "edited": false, "score": 0, "creation_date": 1437593321, "post_id": 31571321, "comment_id": 51099451, "body": "@Ajedi32 For arbitrarily large data sets sorting would be faster. You have to  store the original position in some way, such as a temp array."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437600359, "post_id": 31571321, "comment_id": 51103456, "body": "If <code>a = [1,1,1,1,1]</code>, do you want <code>[0,1]</code> or <code>[1,2]</code> or <code>[2,3]</code> or <code>[0,4]</code>, or do you want <code>[[0,1],[2,3]]</code> or <code>[[1,2],[3,4]]</code> or...?"}], "answers": [{"comments": [{"owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "edited": false, "score": 0, "creation_date": 1437592492, "post_id": 31571843, "comment_id": 51098935, "body": "Expressive way version is very nice"}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437593773, "post_id": 31571843, "comment_id": 51099709, "body": "I keep getting an error with your first code. The <code>if nums[i1] + nums[i2] == 0</code> statement is causing me some trouble"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437595227, "post_id": 31571843, "comment_id": 51100532, "body": "@Shawn Shawn. Oops sorry, off-by-one error. Guess I don&#39;t use <code>for</code> loops very often in Ruby. Anyway, should be fixed now."}, {"owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "edited": false, "score": 0, "creation_date": 1437595838, "post_id": 31571843, "comment_id": 51100899, "body": "@Ajedi32 you rarely need to use <b>for</b> in ruby"}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437596019, "post_id": 31571843, "comment_id": 51101018, "body": "@Ajedi32 I really like the expressive way of doing this as well. Could you explain why in the 3rd line you write <code>result_pair &amp;&amp; result_pair.map(&amp;:last)</code>? Wouldn&#39;t <code>result_pair.map(&amp;:last)</code> suffice?"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 1, "creation_date": 1437596195, "post_id": 31571843, "comment_id": 51101121, "body": "@Shawn The previous line returns <code>nil</code> if no matches are found. Calling <code>map</code> on nil would result in an error, so we take advantage of short circuit evaluation here to ensure that <code>result_pair</code> is not nil before attempting to call <code>map</code> on it. Rails has a nice method called <code>try</code> built for dealing with that problem, but you can&#39;t use it outside of Rails without loading ActiveSupport."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1437599839, "post_id": 31571843, "comment_id": 51103196, "body": "Method #1: <code>two_sum [0] #=&gt; [0, 0] </code>."}], "tags": [], "owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "is_accepted": true, "score": 2, "last_activity_date": 1437596215, "last_edit_date": 1437596215, "creation_date": 1437591779, "answer_id": 31571843, "question_id": 31571321, "link": "https://stackoverflow.com/questions/31571321/how-should-i-write-this-method/31571843#31571843", "title": "How should I write this method?", "body": "<p>As with a lot of things in Ruby, there are a couple different ways of doing this. The \"classic\" approach to this problem would be to use two nested loops:</p>\n\n<pre><code>def two_sum(nums)\n  for i1 in 0...nums.length\n    for i2 in i1...nums.length\n      # Inside this loop, nums[i1] represents one number in the array\n      # and nums[i2] represents a different number.\n      #\n      # If we find that the sum of these numbers is zero...\n      if nums[i1] + nums[i2] == 0\n        # Then we have our answer\n        return i1, i2\n      end\n    end\n  end\n\n  # At this point we've checked every possible combination and haven't\n  # found an answer, so a pair of numbers that sum to zero in that array\n  # must not exist. Return nil.\n  nil\nend\n</code></pre>\n\n<p>The other approach uses Ruby magic to do the same thing in a somewhat more expressive way:</p>\n\n<pre><code>def two_sum(nums)\n  result_pair = nums.each_with_index.to_a.combination(2).find{|n1, n2| n1.first + n2.first == 0}\n  result_pair &amp;&amp; result_pair.map(&amp;:last)\nend\n</code></pre>\n\n<p>The breakdown here is a bit more complex. If you'd like to understand it, I recommend looking at the documentation for these methods on <a href=\"http://ruby-doc.org/core/Array.html\" rel=\"nofollow\"><code>Array</code></a> and <a href=\"http://ruby-doc.org/core/Enumerable.html\" rel=\"nofollow\"><code>Enumerable</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "is_accepted": false, "score": 0, "last_activity_date": 1437595643, "creation_date": 1437595643, "answer_id": 31573006, "question_id": 31571321, "link": "https://stackoverflow.com/questions/31571321/how-should-i-write-this-method/31573006#31573006", "title": "How should I write this method?", "body": "<p>Here is another way to do this:</p>\n\n<pre><code>def two_sum(nums)\n  seen = {}\n  nums.each_with_index do |n, i| \n    return seen[-1*n], i if seen.key?(-1*n)\n    seen[n] = i\n  end\n  nil\nend\n</code></pre>\n\n<p>It's faster that the above (you do it in one pass) so O(n). \nIt does use O(n) additional space compared to the naive approach that checks each element against each element (but that one's O(n^2)</p>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1437603775, "creation_date": 1437603775, "answer_id": 31575077, "question_id": 31571321, "link": "https://stackoverflow.com/questions/31571321/how-should-i-write-this-method/31575077#31575077", "title": "How should I write this method?", "body": "<p>This returns offsets for all pairs of values that sum to zero. The return value is not unique, however. If, for example, <code>a = [1,1,1,-1,-1]</code>, pairs summing to zero might be at offsets <code>[[0,3],[1,4]]</code> or <code>[[1,3],[2,4]]</code> or other values.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def match_zero_sums(arr)\n  h = arr.each_with_index.group_by(&amp;:first)\n  h.keys.select { |k| k &gt;= 0 }.each_with_object([]) do |k,a|\n    while (k==0 &amp;&amp; h[k].size &gt; 1) || (k&gt;0 &amp;&amp; h[k].any? &amp;&amp; h[-k].any?)\n      a &lt;&lt; [h[k].shift.last, h[-k].shift.last]\n    end if h.key?(-k)\n  end\nend\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>arr = [2,3,0,0,-2,-3,4,-3,0,3]\nmatch_zero_sums(arr)\n  #=&gt; [[0, 4], [1, 5], [9, 7], [2, 3]]\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>For <code>arr</code> in the example:</p>\n\n<pre><code>enum0 = arr.each_with_index\n  #=&gt; #&lt;Enumerator: [2, 3, 0, 0, -2, -3, 4, -3, 0, 3]:each_with_index&gt; \nh = enum0.group_by(&amp;:first)\n  #=&gt; { 2=&gt;[[2, 0]], 3=&gt;[[3, 1], [3, 9]], 0=&gt;[[0, 2], [0, 3], [0, 8]],\n  #    -2=&gt;[[-2, 4]], -3=&gt;[[-3, 5], [-3, 7]], 4=&gt;[[4, 6]]} \nnon_neg_keys = h.keys.select { |k| k &gt;= 0 }\n  #=&gt; [2, 3, 0, 4]\nenum1 = non_neg_keys.each_with_object([])\n  #=&gt; #&lt;Enumerator: [2, 3, 0, 4]:each_with_object([])&gt; \nk,a = enum1.next\n  #=&gt; [2, []] \nk #=&gt; 2 \na #=&gt; [] \nh.key?(-k)\n  #=&gt; h.key?(-2) =&gt; true\n</code></pre>\n\n<p>so execute the <code>while</code> loop:</p>\n\n<pre><code>k==0 &amp;&amp; h[k].size &gt; 1\n  #=&gt; 2==0 &amp;&amp; h[2].size &gt; 1\n  #=&gt; false &amp;&amp; true =&gt; false\nk&gt;0 &amp;&amp; h[k].any? &amp;&amp; h[-k].any?\n  #=&gt; 2&gt;0 &amp;&amp; h[2].any? &amp;&amp; h[-2].any?\n  #=&gt; true &amp;&amp; true &amp;&amp; true =&gt; true\nfalse || true #=&gt; true\n</code></pre>\n\n<p>so compute:</p>\n\n<pre><code>a &lt;&lt; [h[k].shift.last, h[-k].shift.last]\n  #=&gt; a &lt;&lt; [h[2].shift.last, h[-2].shift.last]\n  #=&gt; a &lt;&lt; [[2,0].last, [-2,4].last]\n  #=&gt; a &lt;&lt; [0,4]\n</code></pre>\n\n<p>so now:</p>\n\n<pre><code>a #=&gt; [[0,4]]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>h #=&gt; { 2=&gt;[], 3=&gt;[[3, 1], [3, 9]], 0=&gt;[[0, 2], [0, 3], [0, 8]],\n  #    -2=&gt;[], -3=&gt;[[-3, 5], [-3, 7]], 4=&gt;[[4, 6]]} \n</code></pre>\n\n<p>The remaining calculations are similar.</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 8445655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02b6178ebd358d5257318ef0f8c0dc?s=128&d=identicon&r=PG&f=1", "display_name": "bdbasinger", "link": "https://stackoverflow.com/users/8445655/bdbasinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1521762190, "creation_date": 1521762190, "answer_id": 49440224, "question_id": 31571321, "link": "https://stackoverflow.com/questions/31571321/how-should-i-write-this-method/49440224#49440224", "title": "How should I write this method?", "body": "<p>As always, there are usually many ways to solve a problem, especially with Ruby. If you had come from another language like Java or Python, there is a great chance you might not be already familiar with the <code>each_with_index</code> or <code>each.with_index</code> methods. Without over complicating the solution, just break the problem down into two separate while loops, and return the indexes of the pair that equates to zero if it exists. Ruby provides many methods to make life much easier, but without knowing the majority of them, you'll still be able to solve a plethora of problems with a solid foundation of the basics of programming.</p>\n\n<pre><code>def two_sum(nums)\n  i = 0\n  while i &lt; nums.length\n    j = 0\n    while j &lt; nums.length\n      if nums[i] + nums[j] == 0\n        return i, j\n      end\n      j += 1\n    end\n    i += 1\n  end\n  return nil\nend`\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 1, "accepted_answer_id": 31571843, "answer_count": 4, "score": 0, "last_activity_date": 1521762190, "creation_date": 1437590107, "last_edit_date": 1437590430, "question_id": 31571321, "link": "https://stackoverflow.com/questions/31571321/how-should-i-write-this-method", "title": "How should I write this method?", "body": "<p>The question's prompt is: </p>\n\n<blockquote>\n  <p>Write a method that takes an array of numbers. If a pair of numbers in the array sums to zero, return the positions of those two numbers. If no pair of numbers sums to zero, return <code>nil</code>.</p>\n</blockquote>\n\n<p>I'm not sure how to approach this problem and what would be the simplest way. Would this involve the .index method?</p>\n\n<pre><code>def two_sum(nums)\nend\n\ntwo_sum([1,3,5,-3])\n</code></pre>\n"}, {"tags": ["ruby", "jekyll", "liquid", "github-pages"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 3018787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5743fc86ac84246972f3da02d1d48681?s=128&d=identicon&r=PG", "display_name": "ryanstraits", "link": "https://stackoverflow.com/users/3018787/ryanstraits"}, "is_accepted": false, "score": 2, "last_activity_date": 1437650632, "creation_date": 1437650632, "answer_id": 31585929, "question_id": 31571150, "link": "https://stackoverflow.com/questions/31571150/jekyll-error-liquid-exception-undefined-method-encoding-for-nilnilclass-in/31585929#31585929", "title": "Jekyll Error &quot;Liquid Exception: undefined method `encoding&#39; for nil:NilClass in _layouts/post.html&quot;", "body": "<p>Found the issue: A lot of my posts were imported using a \"Wordpress to Jekyll\" converter and it looks like it left the \"title:\" field blank in the Front Matter of a few of those posts. Just wish the error would have been a bit more specific.</p>\n\n<p>I guess the lesson at the end of the day is: don't leave your Front Matter blank, folks!</p>\n"}, {"comments": [{"owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "edited": false, "score": 0, "creation_date": 1510235484, "post_id": 36082161, "comment_id": 81355597, "body": "Tested on github page and working! It was generating a build failed error. (Though the <code>{{ page.title | cgi_escape }}</code> was working fine locally with jekyll 3.3 for me)."}, {"owner": {"reputation": 251709, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "reply_to_user": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "edited": false, "score": 0, "creation_date": 1510237346, "post_id": 36082161, "comment_id": 81356977, "body": "@Sylhare good to know, so it must mean that Jekyll fixed it, but GH pages hasn&#39;t updated their version yet, since they use a fixed version: <a href=\"https://github.com/isaacs/github/issues/249\" rel=\"nofollow noreferrer\">github.com/isaacs/github/issues/249</a> that is why you should use the github gem instead: <a href=\"https://github.com/cirosantilli/cirosantilli.github.io/blob/c99510a0bd98a65896e06f35e5eda6b0bc84c25c/Gemfile#L3\" rel=\"nofollow noreferrer\">github.com/cirosantilli/cirosantilli.github.io/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 251709, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "is_accepted": false, "score": 4, "last_activity_date": 1463469153, "last_edit_date": 1463469153, "creation_date": 1458297466, "answer_id": 36082161, "question_id": 31571150, "link": "https://stackoverflow.com/questions/31571150/jekyll-error-liquid-exception-undefined-method-encoding-for-nilnilclass-in/36082161#36082161", "title": "Jekyll Error &quot;Liquid Exception: undefined method `encoding&#39; for nil:NilClass in _layouts/post.html&quot;", "body": "<p>The problem for me was a:</p>\n\n<pre><code>{{ cgi_escape_title = page.title | cgi_escape }}\n</code></pre>\n\n<p>in my <code>_layouts/default.html</code>, for pages that don't have <code>page.title</code>.</p>\n\n<p>One solution is to do instead:</p>\n\n<pre><code>{{ page.title | default: \"\" | cgi_escape }}\n</code></pre>\n\n<p>which converts the <code>nul</code> title to <code>\"\"</code>, or if you are feeling more verbose:</p>\n\n<pre><code>{% if page.title %}\n  {% assign cgi_escape_title = page.title | cgi_escape %}\n{% else %}\n  {% assign cgi_escape_title = '' %}\n{% endif %}\n{{ cgi_escape_title }}\n</code></pre>\n\n<p>Tested on Jekyll 3.0.3.</p>\n"}], "owner": {"reputation": 51, "user_id": 3018787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5743fc86ac84246972f3da02d1d48681?s=128&d=identicon&r=PG", "display_name": "ryanstraits", "link": "https://stackoverflow.com/users/3018787/ryanstraits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1808, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1463469153, "creation_date": 1437589585, "last_edit_date": 1437590040, "question_id": 31571150, "link": "https://stackoverflow.com/questions/31571150/jekyll-error-liquid-exception-undefined-method-encoding-for-nilnilclass-in", "title": "Jekyll Error &quot;Liquid Exception: undefined method `encoding&#39; for nil:NilClass in _layouts/post.html&quot;", "body": "<p>Getting the following error when trying to run <code>jekyll build</code> or <code>jekyll serve</code>:</p>\n\n<pre><code>Liquid Exception: undefined method 'encoding' for nil:NilClass in _layouts/post.html\njekyll 2.5.3 | Error: undefined method 'encoding' for nil:NilClass\n</code></pre>\n\n<p>It looks to be an issue with a RVM/ruby file? (see the --trace logs below) but I haven't really touched anything code-wise (especially not in any ruby files) and haven't edited '/_layouts/post.html' in the last several commits and this just popped up.</p>\n\n<p>Here's the repository on Github: <a href=\"https://github.com/ryanstraits/ryanstraits.github.io\" rel=\"nofollow\">https://github.com/ryanstraits/ryanstraits.github.io</a>, though the master branch is on the last commit before this error occurred.</p>\n\n<p>Not much of a serious coder, so I'm a little baffled. Any help would be great.</p>\n\n<p>Here's what I get when I run <code>jekyll build --trace</code>:</p>\n\n<pre><code>Liquid Exception: undefined method encoding' for nil:NilClass in _layouts/post.html /Users/Straits/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/cgi/util.rb:8:inescape': undefined method encoding' for nil:NilClass (NoMethodError) from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/filters.rb:134:incgi_escape'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/strainer.rb:43:in invoke' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/context.rb:82:ininvoke'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/variable.rb:50:in block in render' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/variable.rb:38:ineach'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/variable.rb:38:in inject' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/variable.rb:38:inrender'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:109:in block in render_all' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:ineach'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:in render_all' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/if.rb:40:inblock (2 levels) in render'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/if.rb:38:in each' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/if.rb:38:inblock in render'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/context.rb:112:in stack' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/if.rb:37:inrender'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:109:in block in render_all' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:ineach'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:in render_all' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/for.rb:117:inblock (2 levels) in render'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/for.rb:105:in each' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/for.rb:105:ineach_with_index'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/for.rb:105:in block in render' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/context.rb:112:instack'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/tags/for.rb:104:in render' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:109:inblock in render_all'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:in each' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:96:inrender_all'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/block.rb:82:in render' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/template.rb:128:inrender'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/liquid-2.6.2/lib/liquid/template.rb:138:in render!' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/convertible.rb:106:inrender_liquid'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/convertible.rb:205:in render_all_layouts' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/convertible.rb:239:indo_layout'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/post.rb:261:in render' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/site.rb:298:inblock in render'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/site.rb:297:in each' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/site.rb:297:inrender'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/site.rb:51:in process' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/command.rb:28:inprocess_site'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/commands/build.rb:56:in build' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/commands/build.rb:34:inprocess'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/lib/jekyll/commands/build.rb:18:in block (2 levels) in init_with_program' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary/command.rb:220:incall'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary/command.rb:220:in block in execute' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary/command.rb:220:ineach'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary/command.rb:220:in execute' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary/program.rb:42:ingo'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/gems/mercenary-0.3.5/lib/mercenary.rb:19:in program' from /Users/Straits/.rvm/gems/ruby-2.2.0/gems/jekyll-2.5.3/bin/jekyll:20:in'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/bin/jekyll:23:in load' from /Users/Straits/.rvm/gems/ruby-2.2.0/bin/jekyll:23:in\n\n'\nfrom /Users/Straits/.rvm/gems/ruby-2.2.0/bin/ruby_executable_hooks:15:in eval' from /Users/Straits/.rvm/gems/ruby-2.2.0/bin/ruby_executable_hooks:15:in'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 5242, "user_id": 3083848, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JMddU.jpg?s=128&g=1", "display_name": "Emu", "link": "https://stackoverflow.com/users/3083848/emu"}, "edited": false, "score": 0, "creation_date": 1437590435, "post_id": 31571130, "comment_id": 51097598, "body": "are you using <code>rvm</code>?"}, {"owner": {"reputation": 5242, "user_id": 3083848, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JMddU.jpg?s=128&g=1", "display_name": "Emu", "link": "https://stackoverflow.com/users/3083848/emu"}, "edited": false, "score": 0, "creation_date": 1437590936, "post_id": 31571130, "comment_id": 51097944, "body": "run <code>gem env</code> to your terminal &amp; check the outputs. I believe your ruby installation has a problem. Check the command output. It will lead you to find the error."}, {"owner": {"reputation": 111, "user_id": 4367378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d26f529a37c668107886bf990ccd6c72?s=128&d=identicon&r=PG", "display_name": "Jake Wengroff", "link": "https://stackoverflow.com/users/4367378/jake-wengroff"}, "reply_to_user": {"reputation": 5242, "user_id": 3083848, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JMddU.jpg?s=128&g=1", "display_name": "Emu", "link": "https://stackoverflow.com/users/3083848/emu"}, "edited": false, "score": 0, "creation_date": 1437591233, "post_id": 31571130, "comment_id": 51098140, "body": "@Emu What should I be looking at when I run <code>gem env</code>?  I think my Shell Path may have some issues:  - SHELL PATH:      - /Users/JakeWengroff/.rvm/gems/ruby-2.1.2/bin      - /Users/JakeWengroff/.rvm/gems/ruby-2.1.2@global/bin      - /Users/JakeWengroff/.rvm/rubies/ruby-2.1.2/bin      - /Users/JakeWengroff/.rvm/bin      - /usr/local/bin      - /usr/bin      - /bin      - /usr/sbin      - /sbin      - /usr/local/git/bin      - /opt/sm/bin      - /opt/sm/pkg/active/bin      - /opt/sm/pkg/active/sbin"}, {"owner": {"reputation": 185, "user_id": 4865310, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e3ac6507cc4d2c3ba0827dc211bd639?s=128&d=identicon&r=PG&f=1", "display_name": "Reinier", "link": "https://stackoverflow.com/users/4865310/reinier"}, "edited": false, "score": 0, "creation_date": 1476015682, "post_id": 31571130, "comment_id": 67167459, "body": "@Jake Did you manage to solve this issue?"}, {"owner": {"reputation": 111, "user_id": 4367378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d26f529a37c668107886bf990ccd6c72?s=128&d=identicon&r=PG", "display_name": "Jake Wengroff", "link": "https://stackoverflow.com/users/4367378/jake-wengroff"}, "reply_to_user": {"reputation": 185, "user_id": 4865310, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e3ac6507cc4d2c3ba0827dc211bd639?s=128&d=identicon&r=PG&f=1", "display_name": "Reinier", "link": "https://stackoverflow.com/users/4865310/reinier"}, "edited": false, "score": 0, "creation_date": 1476147705, "post_id": 31571130, "comment_id": 67217450, "body": "@Reinier Unfortunately, I have not."}, {"owner": {"reputation": 185, "user_id": 4865310, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e3ac6507cc4d2c3ba0827dc211bd639?s=128&d=identicon&r=PG&f=1", "display_name": "Reinier", "link": "https://stackoverflow.com/users/4865310/reinier"}, "edited": false, "score": 0, "creation_date": 1476256795, "post_id": 31571130, "comment_id": 67263346, "body": "@Jake, I have installed a new version of ruby with RVM and then installed rails on top of that. This solved the issue for me, but I am not sure if this is the right way.."}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 4865310, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9e3ac6507cc4d2c3ba0827dc211bd639?s=128&d=identicon&r=PG&f=1", "display_name": "Reinier", "link": "https://stackoverflow.com/users/4865310/reinier"}, "is_accepted": false, "score": 0, "last_activity_date": 1476256980, "creation_date": 1476256980, "answer_id": 39992739, "question_id": 31571130, "link": "https://stackoverflow.com/questions/31571130/cannot-create-new-rails-project-require-cannot-load-such-file-config-boo/39992739#39992739", "title": "Cannot Create New Rails Project: `require&#39;: cannot load such file -- /config/boot (LoadError)", "body": "<p>I had a similar issue, for me it turned out to be a problem with ruby. I have installed a different version of Ruby with RVM and installed the rails gem with this other version of Ruby.</p>\n\n<pre><code>rvm install 2.2.2\n\ngem install rails\n</code></pre>\n\n<p>I would not recommend this solution as a sustainable one, but I couldn't solve this in a different way and at least it will get you going again.</p>\n"}], "owner": {"reputation": 111, "user_id": 4367378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d26f529a37c668107886bf990ccd6c72?s=128&d=identicon&r=PG", "display_name": "Jake Wengroff", "link": "https://stackoverflow.com/users/4367378/jake-wengroff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1476256980, "creation_date": 1437589517, "question_id": 31571130, "link": "https://stackoverflow.com/questions/31571130/cannot-create-new-rails-project-require-cannot-load-such-file-config-boo", "title": "Cannot Create New Rails Project: `require&#39;: cannot load such file -- /config/boot (LoadError)", "body": "<p>I am trying to create a new Rails project, </p>\n\n<pre><code>Jakes-Air:code JakeWengroff$ rails new MyNewProject -T\n</code></pre>\n\n<p>but I keep getting this error:</p>\n\n<pre><code>script/rails:5:in `require': cannot load such file -- /Users/JakeWengroff/config/boot (LoadError)\nfrom script/rails:5:in `&lt;main&gt;'\n</code></pre>\n\n<p>Checking the Ruby version, <code>ruby -v</code>, I get</p>\n\n<pre><code>ruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-darwin13.0]\n</code></pre>\n\n<p>When I want to check the version of Rails, <code>rails -v</code>, I get the same error as when I want to initiate a new Rails proejct:</p>\n\n<pre><code>script/rails:5:in `require': cannot load such file -- /Users/JakeWengroff/config/boot (LoadError)\nfrom script/rails:5:in `&lt;main&gt;'\n</code></pre>\n\n<p>So, I reinstalled Rails, <code>gem install rails -v 4.2.0</code>:</p>\n\n<pre><code>Successfully installed rails-4.2.0\nParsing documentation for rails-4.2.0\nDone installing documentation for rails after 1 seconds\n1 gem installed\n</code></pre>\n\n<p>I also did <code>bundle install</code> and <code>bundle check</code> and everything was fine.  But the error persisted.</p>\n\n<p>After reviewing some other, similar questions here, I thought it had to do with gemsets. From the RVM <a href=\"https://rvm.io/gemsets/creating\">website</a>, I decided to try <code>rvm gemset create rails420</code>, which gave me</p>\n\n<pre><code>ruby-2.1.2 - #gemset created /Users/JakeWengroff/.rvm/gems/ruby-2.1.2@rails420\nruby-2.1.2 - #generating rails420 wrappers..............\n</code></pre>\n\n<p>But then trying <code>rails -v</code> and <code>rails new MyNewProject -T</code> still threw the original error.</p>\n\n<p>Any help is greatly appreciated.<br>\nThank you in advance.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 5074, "user_id": 4207394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mmfTf.png?s=128&g=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/4207394/deep"}, "edited": false, "score": 0, "creation_date": 1437590728, "post_id": 31571047, "comment_id": 51097807, "body": "paste your seed file"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 4877061, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206865899749795/picture?type=large", "display_name": "Luke Meyer", "link": "https://stackoverflow.com/users/4877061/luke-meyer"}, "edited": false, "score": 0, "creation_date": 1437593983, "post_id": 31572027, "comment_id": 51099823, "body": "my apologies, i didnt notice the changed first line. This gives me a new error with the same location &#39;TypeError: no implicit conversion of nil into String&#39;"}], "tags": [], "owner": {"reputation": 1461, "user_id": 2059047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5e1327cb46137894ca902795db2111ac?s=128&d=identicon&r=PG", "display_name": "Prashant4224", "link": "https://stackoverflow.com/users/2059047/prashant4224"}, "is_accepted": false, "score": 0, "last_activity_date": 1437592389, "creation_date": 1437592389, "answer_id": 31572027, "question_id": 31571047, "link": "https://stackoverflow.com/questions/31571047/rails-rake-dbseed-not-working/31572027#31572027", "title": "Rails &#39;rake db:seed&#39; not working", "body": "<p>Can you try this:</p>\n\n<pre><code>Paperclip::Attachment.default_options.merge!({\n  :storage =&gt; :s3,\n  :s3_credentials =&gt; {\n    :bucket =&gt; ENV['XXX_DEV_S3_BUCKET'],\n    :access_key_id =&gt; ENV['S3_ACCESS_KEY_ID'],\n    :secret_access_key =&gt; ENV['S3_SECRET_ACCESS_KEY'],\n  },\n :url =&gt; ENV['XXX_DEV_S3_URL'],\n :path =&gt; \"/:class/:attachment/:id_partition/:style/:filename\"\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 4877061, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206865899749795/picture?type=large", "display_name": "Luke Meyer", "link": "https://stackoverflow.com/users/4877061/luke-meyer"}, "edited": false, "score": 0, "creation_date": 1437594665, "post_id": 31572628, "comment_id": 51100190, "body": "hmm where would i find that file? i&#39;ve been looking around but can&#39;t seem to locate anything like that"}, {"owner": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "reply_to_user": {"reputation": 81, "user_id": 4877061, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206865899749795/picture?type=large", "display_name": "Luke Meyer", "link": "https://stackoverflow.com/users/4877061/luke-meyer"}, "edited": false, "score": 0, "creation_date": 1437594754, "post_id": 31572628, "comment_id": 51100239, "body": "@LukeMeyer DotEnv is usually in the project root (since it starts with a dot, you might have to <code>ls -al</code> to see it). Figaro uses config/application.yml"}], "tags": [], "owner": {"reputation": 17497, "user_id": 23915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e935da7b67c03dd56f385b031f485c?s=128&d=identicon&r=PG", "display_name": "Unixmonkey", "link": "https://stackoverflow.com/users/23915/unixmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1437594373, "creation_date": 1437594373, "answer_id": 31572628, "question_id": 31571047, "link": "https://stackoverflow.com/questions/31571047/rails-rake-dbseed-not-working/31572628#31572628", "title": "Rails &#39;rake db:seed&#39; not working", "body": "<p>The S3 bucket is configured to use <code>ENV['XXX_DEV_S3_BUCKET']</code>.</p>\n\n<p>I would guess that you don't have that environment variable set.</p>\n\n<p>Check the project for a file named <code>.env</code> or <code>.env.development</code> or <code>application.yml</code>.</p>\n\n<p>These files are used by <a href=\"https://github.com/bkeepers/dotenv\" rel=\"nofollow\">dotenv</a> or <a href=\"https://github.com/laserlemon/figaro\" rel=\"nofollow\">Figaro</a> to manage environment variables.</p>\n\n<p>If this is a Heroku application, you may also need to check <code>heroku config</code> to see if there are values set there.</p>\n\n<p>Otherwise, you may need to pass them in yourself using one of the above tools to help, or pass them directly into the command-line like this:</p>\n\n<pre><code>XXX_DEV_S3_BUCKET=xxx-production S3_ACCESS_KEY_ID=1823123412 S3_SECRET_ACCESS_KEY=blahblahblah bin/rake db:seed\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4877061, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10206865899749795/picture?type=large", "display_name": "Luke Meyer", "link": "https://stackoverflow.com/users/4877061/luke-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437594373, "creation_date": 1437589252, "last_edit_date": 1437592719, "question_id": 31571047, "link": "https://stackoverflow.com/questions/31571047/rails-rake-dbseed-not-working", "title": "Rails &#39;rake db:seed&#39; not working", "body": "<p>Upon trying to complete a 'rake db:reset' command, i am getting this error</p>\n\n<pre><code>rake aborted!\nArgumentError: missing required :bucket option\n</code></pre>\n\n<p>I've checked the several other posts here about this problem, but can't seem to find anything that works. This is all local hosting as of now so i don't think i need to do anything with Heroku.</p>\n\n<p>In the seeds.rb file that the error points to, i have nothing even containing the word bucket, and in my development.rb file, my paperclip defaults are as follows:</p>\n\n<pre><code>config.paperclip_defaults = {\n:storage =&gt; :s3,\n:s3_credentials =&gt; {\n  :bucket =&gt; ENV['XXX_DEV_S3_BUCKET'],\n  :url =&gt; ENV['XXX_DEV_S3_URL'],\n  :access_key_id =&gt; ENV['S3_ACCESS_KEY_ID'],\n  :secret_access_key =&gt; ENV['S3_SECRET_ACCESS_KEY'],\n}\n}\n</code></pre>\n\n<p>I've tried moving the bucket line out of the s3 credentials, but i get the same error. any help is appreciated.</p>\n\n<p>edit: here is the area in my seed file where the error points, the entire file is pretty large</p>\n\n<pre><code>family = Family.create!({name: \"family1\"})\n\nrandom = male_names.shuffle.pop.split\ndad_first_name = random[0]\nmom_first_name = female_names.shuffle.pop.split[0]\nlast_name = random[1]\n\nparents = family.users.create!([\n  {\n      first_name: dad_first_name,\n      last_name: last_name,\n      username: 'parent1',\n      email: dad_first_name + \"@\" + last_name + \".com\",\n      password: '123456',\n      password_confirmation: '123456',\n      role: \"parent\",\n      avatar: File.open(\"#{Rails.root}/db/images/parent1.jpg\")\n  },\n  {\n    first_name: mom_first_name,\n    last_name: last_name,\n    username: 'parent2',\n    email: mom_first_name + \"@\" + last_name + \".com\",\n    password: '123456',\n    password_confirmation: '123456',\n    role: \"parent\",\n    avatar: File.open(\"#{Rails.root}/db/images/parent2.jpg\")\n  }\n])\n</code></pre>\n\n<p>The error points specifically to the line that starts with \"parents\"</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1437588296, "post_id": 31570692, "comment_id": 51096281, "body": "To clarify, you have a blacklist text file. You want <code>return true</code> if some user input includes a blacklisted word?"}, {"owner": {"reputation": 163714, "user_id": 123527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99e0b39c091e10d9c7d4452a34ca52dc?s=128&d=identicon&r=PG", "display_name": "Simone Carletti", "link": "https://stackoverflow.com/users/123527/simone-carletti"}, "edited": false, "score": 2, "creation_date": 1437588436, "post_id": 31570692, "comment_id": 51096364, "body": "What have you tried? You may want to show your code rather than expecting us to write it for you."}], "answers": [{"tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 1, "last_activity_date": 1437588448, "creation_date": 1437588448, "answer_id": 31570797, "question_id": 31570692, "link": "https://stackoverflow.com/questions/31570692/ruby-check-if-variable-exists-in-a-file/31570797#31570797", "title": "Ruby check if variable exists in a file", "body": "<p>Just read in the file and convert it to a <code>Set</code> you can use to test for inclusion:</p>\n\n<pre><code>require 'set'\nbanned = Set.new(File.readlines('bannedwords.txt').collect(&amp;:chomp))\n\nbanned.include?('John')\n# =&gt; true\n\nbanned.include?('Papa Smurf')\n# =&gt; false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 2795927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RK9wK.jpg?s=128&g=1", "display_name": "vikram7", "link": "https://stackoverflow.com/users/2795927/vikram7"}, "is_accepted": false, "score": 2, "last_activity_date": 1437588640, "creation_date": 1437588640, "answer_id": 31570856, "question_id": 31570692, "link": "https://stackoverflow.com/questions/31570692/ruby-check-if-variable-exists-in-a-file/31570856#31570856", "title": "Ruby check if variable exists in a file", "body": "<p><code>File.readlines(\"bannedwords.txt\")</code> would return an array of names in your text file.</p>\n\n<p><code>.collect(&amp;:chomp)</code> would strip the newlines from your array elements.</p>\n\n<p><code>.include?(@username)</code> would check if <code>@username</code> is in the array.</p>\n\n<p>Putting all those together:</p>\n\n<p><code>File.readlines(\"bannedwords.txt\").collect(&amp;:chomp).include?(@username)</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4194859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a539d698db79dc0852bf1cae8558c0?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Pratt", "link": "https://stackoverflow.com/users/4194859/jerome-pratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1437588800, "creation_date": 1437588800, "answer_id": 31570904, "question_id": 31570692, "link": "https://stackoverflow.com/questions/31570692/ruby-check-if-variable-exists-in-a-file/31570904#31570904", "title": "Ruby check if variable exists in a file", "body": "<p>You can use</p>\n\n<pre><code>File.read(\"path/to/bannedwords.txt\").include?(@username).\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2935, "user_id": 817496, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/WdFnA.jpg?s=128&g=1", "display_name": "RedBassett", "link": "https://stackoverflow.com/users/817496/redbassett"}, "is_accepted": false, "score": 0, "last_activity_date": 1437590580, "creation_date": 1437590580, "answer_id": 31571477, "question_id": 31570692, "link": "https://stackoverflow.com/questions/31570692/ruby-check-if-variable-exists-in-a-file/31571477#31571477", "title": "Ruby check if variable exists in a file", "body": "<p><strong>The basic structure</strong>:</p>\n\n<p>What you're doing is checking if a value is in an array. Ignoring the loading of the file for the moment, this check is simple:</p>\n\n<p><code>bannedUsernames.include? username</code></p>\n\n<p><strong>The data</strong>:</p>\n\n<p>As for actually loading the file, you want to open the file, loop through the lines, and add each line to the array:</p>\n\n<pre><code>banned_usernames = [] # Empty array\n\n# Open the file and assign it to the handle f\nf = File.open(\"banned_usernames.txt\")\n\n# If this line doesn't make sense then read up on ruby blocks\nf.each_line { |line| banned_usernames.push line }\n</code></pre>\n\n<p>Then just use the line from above to do your <code>if</code> statement:</p>\n\n<pre><code>if banned_usernames.include? username\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 4859805, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/51b284145d41e1cd6943610ae840f6e6?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/4859805/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 31570797, "answer_count": 4, "score": -1, "last_activity_date": 1437590580, "creation_date": 1437588136, "last_edit_date": 1437588450, "question_id": 31570692, "link": "https://stackoverflow.com/questions/31570692/ruby-check-if-variable-exists-in-a-file", "title": "Ruby check if variable exists in a file", "body": "<p>I have a text file of one word per line. </p>\n\n<p>I want to check if a Ruby variable exists on any lines in that file. </p>\n\n<p><code>@username = John</code></p>\n\n<p>and in bannedwords.txt:</p>\n\n<pre><code>Alex\nAdam\nMary\nJohn\nJames\n</code></pre>\n\n<p>So it would be true. What is the best function to use in Ruby for this?</p>\n"}, {"tags": ["ruby", "selenium", "jenkins", "cucumber"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2809188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6ce4acdb64a9a978f6ccf7c2b783b4?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/2809188/raj"}, "edited": false, "score": 0, "creation_date": 1437671456, "post_id": 31571210, "comment_id": 51139659, "body": "using the jenkins &#39;use shell script&#39; i got to the point where all the gems are installed but even after that the error lies.  <code>rake aborted! cannot load such file -- cucumber &#47;Users&#47;kshitij&#47;office&#47;actio-test-frame&#47;Rakefile:1:in`` </code>&lt;top (required)&gt;&#39;```"}], "tags": [], "owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "is_accepted": false, "score": 0, "last_activity_date": 1437589766, "creation_date": 1437589766, "answer_id": 31571210, "question_id": 31570632, "link": "https://stackoverflow.com/questions/31570632/cucumber-rake-error-in-jenkins-integration/31571210#31571210", "title": "cucumber rake error in jenkins integration", "body": "<p>you can run bundle install using backticks. Just make sure to run it before you need all your gems.</p>\n\n<pre><code>`bundle install`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1772, "user_id": 5743300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86b739012f3bafbce2e40f59f3291c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Emjey", "link": "https://stackoverflow.com/users/5743300/emjey"}, "edited": false, "score": 0, "creation_date": 1493127399, "post_id": 31762222, "comment_id": 74273373, "body": "Please could you answer this question  <a href=\"http://stackoverflow.com/questions/43612140/ruby-cucumber-integration-to-jenkins-bitbucket\" title=\"ruby cucumber integration to jenkins bitbucket\">stackoverflow.com/questions/43612140/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3257, "user_id": 4341733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b1793f226cb3189da8bc9c6264d72b7?s=128&d=identicon&r=PG", "display_name": "diabolist", "link": "https://stackoverflow.com/users/4341733/diabolist"}, "is_accepted": false, "score": 0, "last_activity_date": 1438434714, "creation_date": 1438434714, "answer_id": 31762222, "question_id": 31570632, "link": "https://stackoverflow.com/questions/31570632/cucumber-rake-error-in-jenkins-integration/31762222#31762222", "title": "cucumber rake error in jenkins integration", "body": "<p>You don't need to use <code>rake</code> to run cucumber. Try running cucumber directly in your jenkins shell script. Once you've got that working then you can start using rake if you really want to.</p>\n"}], "owner": {"reputation": 11, "user_id": 2809188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6ce4acdb64a9a978f6ccf7c2b783b4?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/2809188/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438434714, "creation_date": 1437587903, "last_edit_date": 1437592744, "question_id": 31570632, "link": "https://stackoverflow.com/questions/31570632/cucumber-rake-error-in-jenkins-integration", "title": "cucumber rake error in jenkins integration", "body": "<p>I am seeing </p>\n\n<pre><code>rake aborted!\ncannot load such file -- cucumber'\n</code></pre>\n\n<p>error in jenkins while trying to integrate cucumber ruby test to jenkins.</p>\n\n<h2>The Rakefile has following code</h2>\n\n<pre><code>require 'cucumber'\nrequire 'cucumber/rake/task'\n\ntask default: :cucumber\n\nCucumber::Rake::Task.new do |t|\n  t.cucumber_opts = %w{--format pretty}\nend\n</code></pre>\n\n<p>I think I need to use <code>bundle install</code> in the Rakefile but I don't know how to achieve this. Any pointers on how to fix this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux", "apache", "passenger"], "answers": [{"tags": [], "owner": {"reputation": 7832, "user_id": 2497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d33a294d8b03b0eec187cb1dc4d8d7?s=128&d=identicon&r=PG", "display_name": "Srdjan Pejic", "link": "https://stackoverflow.com/users/2497/srdjan-pejic"}, "is_accepted": false, "score": 1, "last_activity_date": 1437591233, "creation_date": 1437591233, "answer_id": 31571653, "question_id": 31570544, "link": "https://stackoverflow.com/questions/31570544/ruby-upgrade-permission-errorerrnoeacces/31571653#31571653", "title": "Ruby Upgrade permission error(Errno::EACCES)", "body": "<p>In the short term, I suggest you install rvm, <a href=\"https://rvm.io\" rel=\"nofollow\">https://rvm.io</a> and then using it, install Ruby 1.9.</p>\n\n<p>This way, you can keep redmine on 1.9 by setting up a <code>.ruby_version</code> file within its directory that auto-selects the 1.9 version. The rest of your system will use the system ruby, it being 2.x.</p>\n\n<p>In the long term, you need to find out how to upgrade redmine to work on 2.x Ruby. Also, you might need to install Phusion Passenger specific to the 2.x Ruby and configure Apache to use that.</p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 4241265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4c01d9bf9d104d3d4c3f8aaefa37ee54?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/4241265/neo"}, "is_accepted": true, "score": 0, "last_activity_date": 1437591940, "creation_date": 1437591940, "answer_id": 31571883, "question_id": 31570544, "link": "https://stackoverflow.com/questions/31570544/ruby-upgrade-permission-errorerrnoeacces/31571883#31571883", "title": "Ruby Upgrade permission error(Errno::EACCES)", "body": "<p>So I found out the problem. The main problem was that <code>/etc/apache2/apache2.conf</code> had the wrong path for <code>passenger</code>. That was the main reason for apache log error. I fixed that by re-running <code>sudo passenger-install-apache2-module</code>. As pointed out by @Srdjan, I had to install passenger specific to ruby version installed. After that it worked.</p>\n"}], "owner": {"reputation": 329, "user_id": 4241265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4c01d9bf9d104d3d4c3f8aaefa37ee54?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/4241265/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 31571883, "answer_count": 2, "score": 0, "last_activity_date": 1437591940, "creation_date": 1437587687, "question_id": 31570544, "link": "https://stackoverflow.com/questions/31570544/ruby-upgrade-permission-errorerrnoeacces", "title": "Ruby Upgrade permission error(Errno::EACCES)", "body": "<p>I had ruby v1.9 installed ( and am running a few rails applications, e.g: redmine). I wanted to install GitLab, which required ruby >2.0. So I installed ruby following <a href=\"http://doc.gitlab.com/ce/install/installation.html\" rel=\"nofollow\">this</a> guideline( compiled from source). Now after GitLab installation finished i restarted apache, now redmine has stopped working. Tried running <code>gem install bundler</code> and <code>bundle install</code> both of them gave the following error: </p>\n\n<pre><code>ERROR:  While executing gem ... (Errno::EACCES)\nPermission denied @ rb_sysopen - /usr/local/lib/ruby/gems/2.1.0/gems/bundler-1.10.5/.gitignore\n</code></pre>\n\n<p>I am guessing that I cannot run them cause they are in folders that only root can access. Anyway, now running with <code>sudo</code> didn't solve the problem. Apache log shows the following error: </p>\n\n<pre><code>[ 2015-07-22 13:51:30.0223 377/7f2ed6b49700 \n\nage/Cor/Req/CheckoutSession.cpp:252 ]: [Client 1-82] Cannot checkout session because a spawning error occurred. The identifier of the error is f16d292b. Please see earlier logs for details about the error.\nApp 4932 stderr: *** ERROR ***: Cannot execute /usr/bin/ruby1.9.1: No such file or directory (2)\nApp 4932 stdout: \n[ 2015-07-22 13:51:30.4210 377/7f2ed40bf700 App/Implementation.cpp:303 ]: Could not spawn process for application /sites/www/6Qj8BHSbtswjs5gJXv1lXpao: An error occurred while starting up the preloader. It exited before signalling successful startup back to Phusion Passenger.\n  Error ID: b9bbbe68\n  Error details saved to: /tmp/passenger-error-OA4S88.html\n  Message from application: An error occurred while starting up the preloader. It exited before signalling successful startup back to Phusion Passenger. Please read &lt;a href=\"https://github.com/phusion/passenger/wiki/Debugging-application-startup-problems\"&gt;this article&lt;/a&gt; for more information about this problem.&lt;br&gt;\n&lt;h2&gt;Raw process output:&lt;/h2&gt;\n&lt;pre&gt;*** ERROR ***: Cannot execute /usr/bin/ruby1.9.1: No such file or directory (2)\n\n&lt;/pre&gt;\n\n[ 2015-07-22 13:51:30.4274 377/7f2ed62c7700 age/Cor/Req/CheckoutSession.cpp:252 ]: [Client 2-82] Cannot checkout session because a spawning error occurred. The identifier of the error is b9bbbe68. Please see earlier logs for details about the error.\n</code></pre>\n\n<p>I am guessing that application is trying to use old ruby path, which is unavailable. Can somebody provide a solution that would solve this issue?  </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ibm-cloud", "gemfile"], "comments": [{"owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437590514, "post_id": 31570534, "comment_id": 51097657, "body": "What ruby buildpack are you using?  What does your <code>manifest.yml</code> look like?  Please update your question with these answers.  Also please check out this blog post for some tips on running your Ruby app. <a href=\"https://jeffsloyer.io/2015/03/05/tips-for-migrating-ruby-on-rails-applications-to-bluemix/\" rel=\"nofollow noreferrer\">jeffsloyer.io/2015/03/05/&hellip;</a>"}, {"owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "edited": false, "score": 0, "creation_date": 1437600050, "post_id": 31570534, "comment_id": 51103319, "body": "I have added the manifest file"}, {"owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "reply_to_user": {"reputation": 691, "user_id": 4777392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5PqIx.png?s=128&g=1", "display_name": "vmovva", "link": "https://stackoverflow.com/users/4777392/vmovva"}, "edited": false, "score": 0, "creation_date": 1437639306, "post_id": 31570534, "comment_id": 51116470, "body": "@vmovva @JeffSloyer using this buildpack worked for me <code>push csw-events -b https:&#47;&#47;github.com&#47;cloudfoundry&#47;staticfile-buildpack.git -s cflinuxfs2</code> . The app seems to be also running on the bluemix but, I get this error <code>403 Forbidden ~ nginx</code>  any ideas as to what is causing it?"}, {"owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437649064, "post_id": 31570534, "comment_id": 51122779, "body": "You should be using the ruby build pack not the static one."}, {"owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437667260, "post_id": 31570534, "comment_id": 51136928, "body": "Do you have a postgres database bound to your app?  Additionally why do you have the ibm_db gem in your app?  It looks like your app is having issue with active support.  Its stemming from <code>config.ru</code> line 4.  The error I see is <code>uninitialized constant RailsStarter</code>."}, {"owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "reply_to_user": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437673040, "post_id": 31570534, "comment_id": 51140567, "body": "@JeffSloyer , Yes, tht was a mistake. I was playing with my <code>config.ru</code> file and forgot to change it back. The app successfully gets deployed on the bluemix now. There seems to be a problem with the app on bluemix now <a href=\"http://csw-events.mybluemix.net/\" rel=\"nofollow noreferrer\">link</a>. I tried again running the app locally, it works fine.  I will try to post the log file on the main question  area."}, {"owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437673136, "post_id": 31570534, "comment_id": 51140624, "body": "I have seen that when you don&#39;t use the correct command to start our app or rake assets has not been run. Can you post your manifest.yml?"}, {"owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437673175, "post_id": 31570534, "comment_id": 51140643, "body": "Is there a db bound to your app?"}, {"owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "reply_to_user": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "edited": false, "score": 0, "creation_date": 1437673635, "post_id": 31570534, "comment_id": 51140914, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/84105/discussion-between-betafish-and-jeff-sloyer\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "edited": false, "score": 0, "creation_date": 1437661799, "post_id": 31585642, "comment_id": 51132452, "body": "I tried using the Ruby buildpack as suggested. But unfortunately, the app doen not start. I have added the log file to the main part of the questions. Do you see anything unsual in the log file?"}], "tags": [], "owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1437649804, "creation_date": 1437649804, "answer_id": 31585642, "question_id": 31570534, "link": "https://stackoverflow.com/questions/31570534/deploying-ruby-on-rails-app-openconferenceware-to-ibm-bluemix/31585642#31585642", "title": "Deploying Ruby on Rails App (OpenConferenceWare) to IBM Bluemix", "body": "<p>You should be using the Ruby buildpack instead of the static (nginx) one.  The link to the Ruby buildpack is <a href=\"https://github.com/cloudfoundry/ruby-buildpack.git\" rel=\"nofollow\">https://github.com/cloudfoundry/ruby-buildpack.git</a>.</p>\n\n<p>To use this buildpack do the following.</p>\n\n<p><code>cf push csw-events -b https://github.com/cloudfoundry/ruby-buildpack.git</code>.</p>\n"}], "owner": {"reputation": 990, "user_id": 2354908, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QNpFH.jpg?s=128&g=1", "display_name": "Betafish", "link": "https://stackoverflow.com/users/2354908/betafish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 31585642, "answer_count": 1, "score": 0, "last_activity_date": 1437673581, "creation_date": 1437587658, "last_edit_date": 1437673581, "question_id": 31570534, "link": "https://stackoverflow.com/questions/31570534/deploying-ruby-on-rails-app-openconferenceware-to-ibm-bluemix", "title": "Deploying Ruby on Rails App (OpenConferenceWare) to IBM Bluemix", "body": "<p>I have been trying to push my 'openconferenceware' appl to bluemix. While, the application runs flawlessly on my local system, it doesnt get deployed on the Bluemix. </p>\n\n<p>Below is the log output.</p>\n\n<pre><code>Writing config/database.yml to read from DATABASE_URL\n-----&gt; Preparing app for Rails asset pipeline\n       Running: rake assets:precompile\n       rake aborted!\n       NameError: uninitialized constant OpenConferenceWare\n       /tmp/staged/app/config/initializers/01_open_conference_ware.rb:3:in `&lt;top (required)&gt;'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/engine.rb:609:in `block (2 levels) in &lt;class:Engine&gt;'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/engine.rb:608:in `each'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/engine.rb:608:in `block in &lt;class:Engine&gt;'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `instance_exec'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/initializable.rb:30:in `run'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/initializable.rb:55:in `block in run_initializers'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/initializable.rb:54:in `run_initializers'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/application.rb:215:in `initialize!'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/railtie/configurable.rb:30:in `method_missing'\n       /tmp/staged/app/config/environment.rb:5:in `&lt;top (required)&gt;'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/application.rb:189:in `require_environment!'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/railties-4.0.2/lib/rails/application.rb:250:in `block in run_tasks_blocks'\n       /tmp/staged/app/vendor/bundle/ruby/2.1.0/gems/sprockets-rails-2.0.1/lib/sprockets/rails/task.rb:54:in `block (2 levels) in define'\n       Tasks: TOP =&gt; environment\n       (See full trace by running task with --trace)\n !\n !     Precompiling assets failed.\n !\nStaging failed: Buildpack compilation step failed\n</code></pre>\n\n<p>Below is my Gemfile</p>\n\n<pre><code>source 'https://rubygems.org'\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails'\n\n# Use sqlite3 as the database for Active Record\ngem 'sqlite3'\ngem 'ibm_db'\ngem 'pg'\n\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 4.0.0'\n\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n\n# Use CoffeeScript for .js.coffee assets and views\ngem 'coffee-rails', '~&gt; 4.0.0'\n\n# See https://github.com/sstephenson/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 1.2'\n\ngem \"open_conference_ware\", \"~&gt; 1.0.0.pre\"\ngroup :doc do\n  # bundle exec rake doc:rails generates the API under doc/api.\n  gem 'sdoc', require: false\nend\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt-ruby', '~&gt; 3.1.2'\n\n# Use unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano', group: :development\n\n# Use debugger\n# gem 'debugger', group: [:development, :test]\n</code></pre>\n\n<p>and my Database.yml file</p>\n\n<pre><code># SQLite version 3.x\n#   gem install sqlite3\n#\n#   Ensure the SQLite 3 gem is defined in your Gemfile\n#   gem 'sqlite3'\ndevelopment:\n  adapter: sqlite3\n  database: db/development.sqlite3\n  pool: 5\n  timeout: 5000\n\n# Warning: The database defined as \"test\" will be erased and\n# re-generated from your development database when you run \"rake\".\n# Do not set this db to the same as development or production.\ntest:\n  adapter: sqlite3\n  database: db/test.sqlite3\n  pool: 5\n  timeout: 5000\n\nproduction:\n  adapter: sqlite3\n  database: db/production.sqlite3\n  pool: 5\n  timeout: 5000\n</code></pre>\n\n<p>Any pointers on how to migrate the app onto bluemix.</p>\n\n<p><strong>Addl.INFO</strong> \nManifest file</p>\n\n<pre><code>applications:\n- disk_quota: 1024M\n  host: csw-events\n  name: csw-events\n  path: .\n  domain: mybluemix.net\n  instances: 1\n  memory: 1920M\n</code></pre>\n\n<p>I also tried with (As suggested in this <a href=\"https://jeffsloyer.io/2015/03/05/tips-for-migrating-ruby-on-rails-applications-to-bluemix/\" rel=\"nofollow\">post</a>):</p>\n\n<pre><code>applications:\n- disk_quota: 1024M\n  host: csw-events\n  name: csw-events\n  path: .\n  domain: mybluemix.net\n  instances: 1\n  memory: 1920M\n  command: bundle exec rake db:setup &amp;&amp; bundle exec rails s -p $PORT\n  services:\n  #swap out the below for your own\n  cf cs elephantsql turtle dnxluuom\n  #cf cs rediscloud 25mb yourownname\n  #redis cloud has different plans, check out cf marketplace for the plans\n    - postgres-myapp\n</code></pre>\n\n<p>With the second version of Manifest file, I get manifest error: </p>\n\n<pre><code>Error reading manifest file: yaml: control characters are not allowed at line 1, column 1\n</code></pre>\n\n<p>I use <strong>ruby 2.2.1p85</strong> </p>\n\n<p>Building from the ruby buildpack results in the below snippet of the log file (The app does not start)</p>\n\n<pre><code>2015-07-23T16:21:16.22+0200 [STG/0]      OUT        Bundle complete! 11 Gemfile dependencies, 69 gems now installed.\n2015-07-23T16:21:16.22+0200 [STG/0]      OUT        Gems in the groups development and test were not installed.\n2015-07-23T16:21:16.22+0200 [STG/0]      OUT        Bundled gems are installed into ./vendor/bundle.\n2015-07-23T16:21:16.24+0200 [STG/0]      OUT        Bundle completed (0.61s)\n2015-07-23T16:21:16.26+0200 [STG/0]      OUT        Cleaning up the bundler cache.\n2015-07-23T16:21:18.36+0200 [STG/0]      OUT -----&gt; Writing config/database.yml to read from DATABASE_URL\n2015-07-23T16:21:22.48+0200 [STG/0]      OUT -----&gt; Preparing app for Rails asset pipeline\n2015-07-23T16:21:22.58+0200 [STG/0]      OUT        Running: rake assets:precompile\n2015-07-23T16:21:23.13+0200 [STG/0]      OUT        /tmp/staged/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.r                                               b:282: warning: circular argument reference - now\n2015-07-23T16:21:25.85+0200 [STG/0]      OUT        Asset precompilation completed (3.25s)\n2015-07-23T16:21:25.85+0200 [STG/0]      OUT        Cleaning assets\n2015-07-23T16:21:25.85+0200 [STG/0]      OUT        Running: rake assets:clean\n2015-07-23T16:21:26.39+0200 [STG/0]      OUT        /tmp/staged/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.r                                               b:282: warning: circular argument reference - now\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT ###### WARNING:\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        Include 'rails_12factor' gem to enable all platform features\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        See https://devcenter.heroku.com/articles/rails-integration-gems for more information.\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT ###### WARNING:\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        You have not declared a Ruby version in your Gemfile.\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        To set your Ruby version add this line to your Gemfile:\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        ruby '2.2.2'\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        # See https://devcenter.heroku.com/articles/ruby-versions for more information.\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT ###### WARNING:\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        No Procfile detected, using the default web server (webrick)\n2015-07-23T16:21:28.98+0200 [STG/0]      OUT        https://devcenter.heroku.com/articles/ruby-default-web-server\n2015-07-23T16:21:37.09+0200 [STG/130]    OUT -----&gt; Uploading droplet (38M)\n2015-07-23T16:21:47.20+0200 [DEA/130]    OUT Starting app instance (index 0) with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a\n2015-07-23T16:22:04.76+0200 [App/0]      ERR /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.rb:282: w                                               arning: circular argument reference - now\n2015-07-23T16:22:07.72+0200 [App/0]      ERR /home/vcap/app/config.ru:4:in `block in &lt;main&gt;': uninitialized constant RailsStarter (NameError)\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `instance_eval'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `initialize'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `new'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `&lt;main&gt;'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `eval'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `new_from_string'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:40:in `parse_file'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:277:in `build_app_and_optio                                               ns_from_config'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:199:in `app'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:48:in `app'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:314:in `wrapped_app'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:75:in `start'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:76:in `block in &lt;top                                                (required)&gt;'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `tap'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `&lt;top (require                                               d)&gt;'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from bin/rails:4:in `require'\n2015-07-23T16:22:07.72+0200 [App/0]      ERR    from bin/rails:4:in `&lt;main&gt;'\n2015-07-23T16:22:07.79+0200 [App/0]      OUT =&gt; Booting WEBrick\n2015-07-23T16:22:07.79+0200 [App/0]      OUT =&gt; Rails 4.0.2 application starting in production on http://0.0.0.0:61596\n2015-07-23T16:22:07.79+0200 [App/0]      OUT =&gt; Run `rails server -h` for more startup options\n2015-07-23T16:22:07.79+0200 [App/0]      OUT =&gt; Ctrl-C to shutdown server\n2015-07-23T16:22:07.79+0200 [App/0]      OUT Exiting\n2015-07-23T16:22:07.87+0200 [DEA/130]    ERR Instance (index 0) failed to start accepting connections\n2015-07-23T16:22:07.91+0200 [API/0]      OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"cbb191f6bdd0440daaf5d4eac49df869\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661327}\n2015-07-23T16:22:07.91+0200 [API/10]     OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"cbb191f6bdd0440daaf5d4eac49df869\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661327}\n2015-07-23T16:23:31.79+0200 [DEA/18]     OUT Starting app instance (index 0) with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a\n2015-07-23T16:23:59.11+0200 [App/0]      ERR /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.rb:282: w                                               arning: circular argument reference - now\n2015-07-23T16:24:03.67+0200 [App/0]      ERR /home/vcap/app/config.ru:4:in `block in &lt;main&gt;': uninitialized constant RailsStarter (NameError)\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `instance_eval'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `initialize'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `new'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `&lt;main&gt;'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `eval'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `new_from_string'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:40:in `parse_file'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:277:in `build_app_and_optio                                               ns_from_config'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:199:in `app'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:48:in `app'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:314:in `wrapped_app'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:75:in `start'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:76:in `block in &lt;top                                                (required)&gt;'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `tap'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `&lt;top (require                                               d)&gt;'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from bin/rails:4:in `require'\n2015-07-23T16:24:03.67+0200 [App/0]      ERR    from bin/rails:4:in `&lt;main&gt;'\n2015-07-23T16:24:03.75+0200 [App/0]      OUT =&gt; Booting WEBrick\n2015-07-23T16:24:03.75+0200 [App/0]      OUT =&gt; Rails 4.0.2 application starting in production on http://0.0.0.0:61502\n2015-07-23T16:24:03.75+0200 [App/0]      OUT =&gt; Run `rails server -h` for more startup options\n2015-07-23T16:24:03.75+0200 [App/0]      OUT =&gt; Ctrl-C to shutdown server\n2015-07-23T16:24:03.75+0200 [App/0]      OUT Exiting\n2015-07-23T16:24:03.89+0200 [DEA/18]     ERR Instance (index 0) failed to start accepting connections\n2015-07-23T16:24:03.92+0200 [API/0]      OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"f3bbb48d0e864b29a36c93170061303d\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661443}\n2015-07-23T16:24:03.93+0200 [API/4]      OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"f3bbb48d0e864b29a36c93170061303d\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661443}\n2015-07-23T16:24:32.45+0200 [DEA/97]     OUT Starting app instance (index 0) with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a\n2015-07-23T16:24:58.93+0200 [App/0]      ERR /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.rb:282: w                                               arning: circular argument reference - now\n2015-07-23T16:25:03.78+0200 [App/0]      ERR /home/vcap/app/config.ru:4:in `block in &lt;main&gt;': uninitialized constant RailsStarter (NameError)\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `instance_eval'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:55:in `initialize'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `new'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/config.ru:in `&lt;main&gt;'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `eval'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:49:in `new_from_string'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/builder.rb:40:in `parse_file'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:277:in `build_app_and_optio                                               ns_from_config'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:199:in `app'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:48:in `app'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/rack-1.5.5/lib/rack/server.rb:314:in `wrapped_app'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands/server.rb:75:in `start'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:76:in `block in &lt;top                                                (required)&gt;'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `tap'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/railties-4.0.2/lib/rails/commands.rb:71:in `&lt;top (require                                               d)&gt;'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from bin/rails:4:in `require'\n2015-07-23T16:25:03.78+0200 [App/0]      ERR    from bin/rails:4:in `&lt;main&gt;'\n2015-07-23T16:25:03.86+0200 [App/0]      OUT =&gt; Booting WEBrick\n2015-07-23T16:25:03.86+0200 [App/0]      OUT =&gt; Rails 4.0.2 application starting in production on http://0.0.0.0:61788\n2015-07-23T16:25:03.86+0200 [App/0]      OUT =&gt; Run `rails server -h` for more startup options\n2015-07-23T16:25:03.86+0200 [App/0]      OUT =&gt; Ctrl-C to shutdown server\n2015-07-23T16:25:03.86+0200 [App/0]      OUT Exiting\n2015-07-23T16:25:03.99+0200 [DEA/97]     ERR Instance (index 0) failed to start accepting connections\n2015-07-23T16:25:04.03+0200 [API/8]      OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"7d73c9cf8dfd458b98e28349d6ac3903\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661503}\n2015-07-23T16:25:04.03+0200 [API/3]      OUT App instance exited with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a payload: {\"cc_partition\"=&gt;\"default\", \"dropl                                               et\"=&gt;\"ff6f8fba-6b2c-4f38-a118-8154fe77114a\", \"version\"=&gt;\"d2bc534f-8115-4e37-9504-dc0bc560232f\", \"instance\"=&gt;\"7d73c9cf8dfd458b98e28349d6ac3903\", \"index\"=&gt;0,                                                \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_description\"=&gt;\"failed to accept connections within health check timeout\", \"crash_timestamp\"=&gt;1437661503}\n2015-07-23T16:25:47.20+0200 [DEA/7]      OUT Starting app instance (index 0) with guid ff6f8fba-6b2c-4f38-a118-8154fe77114a\n2015-07-23T16:26:15.33+0200 [App/0]      ERR /home/vcap/app/vendor/bundle/ruby/2.2.0/gems/activesupport-4.0.2/lib/active_support/values/time_zone.rb:282: w                                               arning: circular argument reference - now\n</code></pre>\n\n<p>mainfest file </p>\n\n<pre><code>applications:\n- services:\n  - postgres-myapp\n  disk_quota: 1024M\n  host: csw-events\n  name: csw-events\n  path: .\n  domain: mybluemix.net\n  instances: 1\n  memory: 1920M\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord"], "comments": [{"owner": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "edited": false, "score": 0, "creation_date": 1437587809, "post_id": 31570429, "comment_id": 51095975, "body": "Just to be clear, you mean all objects where <code>foo.x == foo.y</code>?"}, {"owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "reply_to_user": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "edited": false, "score": 0, "creation_date": 1437587970, "post_id": 31570429, "comment_id": 51096080, "body": "@katafrakt let me clarify, return the objects where more objects share the values for foo.x and foo.y I&#39;ll edit the question with an example."}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1437588738, "post_id": 31570429, "comment_id": 51096567, "body": "should it take always 2 arguments (attributes), or it should be any number of attributes?"}, {"owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1437589089, "post_id": 31570429, "comment_id": 51096771, "body": "@AndreyDeineko I just need two in my case"}, {"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1438179947, "post_id": 31570429, "comment_id": 51345199, "body": "@johnmitsch any progress with the question?"}, {"owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "reply_to_user": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1438180542, "post_id": 31570429, "comment_id": 51345671, "body": "@HunterStevens yes the comment on the second answer was able to help me, let me mark that as correct"}, {"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1438180607, "post_id": 31570429, "comment_id": 51345718, "body": "Great to hear. Why did you decide to create your own method, instead of what I suggested, which uses ActiveRecord&#39;s DSL?"}], "answers": [{"comments": [{"owner": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "edited": false, "score": 3, "creation_date": 1437588754, "post_id": 31570731, "comment_id": 51096575, "body": "So basically to get an array of those you need to <code>arr.group_by{|i| [i.x, i.y]}.select{|k,v| v.length &gt; 1}.values.flatten</code>"}, {"owner": {"reputation": 2376, "user_id": 3311657, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d1d7b5444ea5fbb3b5e0ecb8303a88e?s=128&d=identicon&r=PG", "display_name": "steve klein", "link": "https://stackoverflow.com/users/3311657/steve-klein"}, "reply_to_user": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "edited": false, "score": 0, "creation_date": 1437588970, "post_id": 31570731, "comment_id": 51096697, "body": "Very slick @katafrakt.  Philip you may want to edit your original answer to include this."}, {"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "edited": false, "score": 0, "creation_date": 1437589361, "post_id": 31570731, "comment_id": 51096933, "body": "Not sure that would give you what you want though as now you&#39;d have a flat array of Foos.  You wouldn&#39;t know which belong to which though.  All depends on OP&#39;s use case though I suppose."}, {"owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "reply_to_user": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "edited": false, "score": 0, "creation_date": 1437589627, "post_id": 31570731, "comment_id": 51097090, "body": "@katafrakt awesome, many thanks, looks like that will work in my case. I am just wondering if it will take into account if values are nil? As in, if i.x is nil for two objects, would that be considered duplicates? In my particular case, I wouldn&#39;t want it to."}, {"owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "reply_to_user": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "edited": false, "score": 0, "creation_date": 1437589924, "post_id": 31570731, "comment_id": 51097266, "body": "@johnmitsch Yes, nils would get combined. You could fix that be ensuring the original collection didn&#39;t have any Foos with a nil x or y."}, {"owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "edited": false, "score": 0, "creation_date": 1437590024, "post_id": 31570731, "comment_id": 51097320, "body": "@PhilipHallstrom what if one had to exclude nils? add an if statement to the .select?"}, {"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "reply_to_user": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "edited": false, "score": 0, "creation_date": 1437591901, "post_id": 31570731, "comment_id": 51098571, "body": "@johnmitsch Can you elaborate what you want or do not want with <code>nil</code> attributes?"}], "tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": true, "score": 2, "last_activity_date": 1437588269, "creation_date": 1437588269, "answer_id": 31570731, "question_id": 31570429, "link": "https://stackoverflow.com/questions/31570429/rails-find-objects-with-duplicate-attributes/31570731#31570731", "title": "rails - Find objects with duplicate attributes", "body": "<p>I'm not sure I like this solution or how well it would work for you, but it should work.</p>\n\n<pre><code>foos = Foo.some_ar_query_that_returns_some_foos\ngrouped_foos = foo.group_by {|f| [f.x, f.y]}\n</code></pre>\n\n<p>grouped_foos will now be a hash. The keys will be an array of x and y values. The values will be an array of Foo instances with the same values.  Any element of the hash where the size of the value is more than one has duplicates.</p>\n"}, {"tags": [], "owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "is_accepted": false, "score": 3, "last_activity_date": 1437589068, "creation_date": 1437589068, "answer_id": 31570984, "question_id": 31570429, "link": "https://stackoverflow.com/questions/31570429/rails-find-objects-with-duplicate-attributes/31570984#31570984", "title": "rails - Find objects with duplicate attributes", "body": "<p>I think the simplest solution would be to use the <code>where</code> method from ActiveRecord. Using <code>Foo.where()</code> returns an array of objects, where each object matches <em>all</em> conditions provided.</p>\n\n<p>For your question, I would write something similar to the following examples:</p>\n\n<pre><code>similar_attributes = Foo.where(x: 1, y: 2)\n# =&gt; similar_attributes = [#&lt;Foo:0x000&gt;, #&lt;Foo:0x001&gt;]\n# Arbitrary Foo object labels\n\nsimilar_attributes.include?(one)\n# =&gt; true\n\nsimilar_attributes.include?(two)\n# =&gt; true\n\nsimilar_attributes.include?(three)\n# =&gt; false\n\nFoo.where(x: 1, y: 2).include?(one)\n# =&gt; true\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 4347435, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xz45ukfg8h8/AAAAAAAAAAI/AAAAAAAAABg/oMd_rOCMOZo/photo.jpg?sz=128", "display_name": "john mitsch", "link": "https://stackoverflow.com/users/4347435/john-mitsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2438, "favorite_count": 1, "accepted_answer_id": 31570731, "answer_count": 2, "score": 4, "last_activity_date": 1437589068, "creation_date": 1437587389, "last_edit_date": 1437588268, "question_id": 31570429, "link": "https://stackoverflow.com/questions/31570429/rails-find-objects-with-duplicate-attributes", "title": "rails - Find objects with duplicate attributes", "body": "<p>If I have an array of object <code>Foo</code> how can I find and return the objects with duplicate values for specific attributes? For instance, I want to return objects that have duplicate values for both <code>Foo.x</code> and <code>Foo.y</code></p>\n\n<p>I am using rails 3.2 and ruby 1.9</p>\n\n<p>I am looking for something like:</p>\n\n<pre><code>one = Foo.create!(:x =&gt; 1, :y =&gt; 2, :z =&gt; 3)\ntwo = Foo.create!(:x =&gt; 1, :y =&gt; 2, :z =&gt; 6)\nthree = Foo.create!(:x =&gt; 4, :y =&gt; 2, :z =&gt; 3)\n\narr = [one, two, three]\n\narr.return_duplicates_for_columns(Foo.x, Foo.y) = [one, two]\n</code></pre>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 16538, "user_id": 2602869, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PkMYa.jpg?s=128&g=1", "display_name": "Jikku Jose", "link": "https://stackoverflow.com/users/2602869/jikku-jose"}, "edited": false, "score": 0, "creation_date": 1437588896, "post_id": 31570233, "comment_id": 51096656, "body": "Is it possible for you to change the templating in the file to something like this: <code>my name is {{ name }}</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1362, "user_id": 3236557, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/p6V9b.jpg?s=128&g=1", "display_name": "Kirill Zhukov", "link": "https://stackoverflow.com/users/3236557/kirill-zhukov"}, "is_accepted": true, "score": 2, "last_activity_date": 1437587678, "creation_date": 1437587678, "answer_id": 31570540, "question_id": 31570233, "link": "https://stackoverflow.com/questions/31570233/removing-escape-characters-when-parsing-a-string-from-file/31570540#31570540", "title": "removing escape characters when parsing a string from file", "body": "<pre><code>file= 'tesst.txt'\nname = 'CDJ'\n\nFile.readlines(file).each do |line|\n  eval(\"puts \\\"#{line}\\\"\")\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16538, "user_id": 2602869, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PkMYa.jpg?s=128&g=1", "display_name": "Jikku Jose", "link": "https://stackoverflow.com/users/2602869/jikku-jose"}, "is_accepted": false, "score": 0, "last_activity_date": 1437589940, "creation_date": 1437589940, "answer_id": 31571262, "question_id": 31570233, "link": "https://stackoverflow.com/questions/31570233/removing-escape-characters-when-parsing-a-string-from-file/31571262#31571262", "title": "removing escape characters when parsing a string from file", "body": "<p>Consider this:</p>\n\n<pre><code>class Template\n  def initialize(source: DATA)\n    @text = source.read.chomp.split(\"\\n\")\n  end\n\n  def render(locals: {})\n    locals.each do |key, value|\n      instance_variable_set(\"@#{key}\", value)\n      self.class.send(:attr_reader, key)\n    end\n\n    @text\n      .map { |line| eval(\"\\\"#{line}\\\"\") }\n      .join(\"\\n\")\n  end\nend\n\nputs Template\n  .new(source: File.open('./tesst.txt', 'r'))\n  .render(locals: {name: 'George', age: 29})\n\n__END__\nmy name is #{name}\nI am #{age} years old\n</code></pre>\n\n<p><strong>Notes</strong>:</p>\n\n<ol>\n<li>Variables can be provided through the hash.</li>\n<li><code>File</code> can be switched with <code>DATA</code> to read contents from bottom of file after <code>__END__</code></li>\n</ol>\n"}], "owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 31570540, "answer_count": 2, "score": 0, "last_activity_date": 1437589940, "creation_date": 1437586710, "question_id": 31570233, "link": "https://stackoverflow.com/questions/31570233/removing-escape-characters-when-parsing-a-string-from-file", "title": "removing escape characters when parsing a string from file", "body": "<p>I'm trying to read from a file a string that interpolates variables which are defined in the code, and substitutes the string value of those variables.</p>\n\n<p>The text file:</p>\n\n<pre><code>my name is #{name}\n</code></pre>\n\n<p>the code:</p>\n\n<pre><code>file = File.open(\"tesst.txt\", \"r\")\narr = []\nname = \"CDJ\"\nfile.each_line.with_index { |line, index|\n  puts line\n}\nfile.close\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>My name is CDJ\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>My name is #{name}\n</code></pre>\n\n<p>When output is line.inspect:</p>\n\n<pre><code>\"My name is \\#{name}\"\n</code></pre>\n\n<p>Can anyone help me format this string correctly so it reads #{name} as a variable instead of a string with the inserted escape character?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 2359, "user_id": 4001324, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/73330a07ee52d37d1c9606b73728a175?s=128&d=identicon&r=PG", "display_name": "Shane G", "link": "https://stackoverflow.com/users/4001324/shane-g"}, "edited": false, "score": 0, "creation_date": 1587058967, "post_id": 31569683, "comment_id": 108367356, "body": "And if you are not on a MAC what do you do? Thanks"}], "tags": [], "owner": {"reputation": 1930, "user_id": 1337204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkzuG.jpg?s=128&g=1", "display_name": "tpbowden", "link": "https://stackoverflow.com/users/1337204/tpbowden"}, "is_accepted": true, "score": 3, "last_activity_date": 1437584930, "creation_date": 1437584930, "answer_id": 31569683, "question_id": 31569560, "link": "https://stackoverflow.com/questions/31569560/can-not-install-gem-pg-to-deploy-rails-app-to-heroku/31569683#31569683", "title": "Can not install gem &#39;pg&#39; to deploy rails app to heroku", "body": "<p>You're missing the development headers which come in the <code>libpq-dev</code> package. That needs to be installed through whatever package manager you use (or if you're using a mac you can just do <code>brew install postgresql</code>)</p>\n"}], "owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 1, "accepted_answer_id": 31569683, "answer_count": 1, "score": 2, "last_activity_date": 1437584930, "creation_date": 1437584497, "question_id": 31569560, "link": "https://stackoverflow.com/questions/31569560/can-not-install-gem-pg-to-deploy-rails-app-to-heroku", "title": "Can not install gem &#39;pg&#39; to deploy rails app to heroku", "body": "<p>I am trying to deploy my rails app to heroku and have replaced my gem 'sqlite3' with gem 'pg'. I have done this because I was getting an error trying to push my git to my heroku saying sqlite3 is not supported. whenever I try to run bundle install I get this error.</p>\n\n<pre><code>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    /Users/ipbyrne/.rvm/rubies/ruby-2.2.1/bin/ruby -r ./siteconf20150722-14766-1b3cg9.rb extconf.rb\nchecking for pg_config... no\nNo pg_config... trying anyway. If building fails, please try again with\n --with-pg-config=/path/to/pg_config\nchecking for libpq-fe.h... no\nCan't find the 'libpq-fe.h header\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/Users/ipbyrne/.rvm/rubies/ruby-2.2.1/bin/$(RUBY_BASE_NAME)\n    --with-pg\n    --without-pg\n    --enable-windows-cross\n    --disable-windows-cross\n    --with-pg-config\n    --without-pg-config\n    --with-pg_config\n    --without-pg_config\n    --with-pg-dir\n    --without-pg-dir\n    --with-pg-include\n    --without-pg-include=${pg-dir}/include\n    --with-pg-lib\n    --without-pg-lib=${pg-dir}/lib\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/ipbyrne/.rvm/gems/ruby-2.2.1/gems/pg-0.18.2 for inspection.\nResults logged to /Users/ipbyrne/.rvm/gems/ruby-2.2.1/extensions/x86_64-darwin-14/2.2.0-static/pg-0.18.2/gem_make.out\nAn error occurred while installing pg (0.18.2), and Bundler cannot continue.\nMake sure that `gem install pg -v '0.18.2'` succeeds before bundling.\n</code></pre>\n\n<p>Here is what my Gemfile looks like</p>\n\n<pre><code>source 'https://rubygems.org'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '4.0.0'\n\n# Use sqlite3 as the database for Active Record\ngem 'pg'\n\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 4.0.0'\n\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n\n# Use CoffeeScript for .js.coffee assets and views\ngem 'coffee-rails', '~&gt; 4.0.0'\n\n# See https://github.com/sstephenson/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'\n\n# Turbolinks makes following links in your web application faster. Read more: https://github.com/rails/turbolinks\ngem 'turbolinks'\n\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 1.2'\n\ngroup :doc do\n  # bundle exec rake doc:rails generates the API under doc/api.\n  gem 'sdoc', require: false\nend\n\ngem 'devise', '~&gt; 3.3.0'\n\ngem 'bootstrap-sass', '~&gt; 3.2.0.2'\n\ngem 'acts_as_votable', '~&gt; 0.10.0'\n\ngem 'simple_form', '~&gt;3.0.2'\n\n\n# Use ActiveModel has_secure_password\n# gem 'bcrypt-ruby', '~&gt; 3.0.0'\n\n# Use unicorn as the app server\n# gem 'unicorn'\n\n# Use Capistrano for deployment\n# gem 'capistrano', group: :development\n\n# Use debugger\n# gem 'debugger', group: [:development, :test]\n</code></pre>\n\n<p>And here is the error I get whenever i try to manually install the gem running 'gem install pg -v '0.18.2' like it says at the end of the first error.</p>\n\n<pre><code>Building native extensions.  This could take a while...\nERROR:  Error installing pg:\n    ERROR: Failed to build gem native extension.\n\n    /Users/ipbyrne/.rvm/rubies/ruby-2.2.1/bin/ruby -r ./siteconf20150722-14778-10kqj2o.rb extconf.rb\nchecking for pg_config... no\nNo pg_config... trying anyway. If building fails, please try again with\n --with-pg-config=/path/to/pg_config\nchecking for libpq-fe.h... no\nCan't find the 'libpq-fe.h header\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary\nlibraries and/or headers.  Check the mkmf.log file for more details.  You may\nneed configuration options.\n\nProvided configuration options:\n    --with-opt-dir\n    --without-opt-dir\n    --with-opt-include\n    --without-opt-include=${opt-dir}/include\n    --with-opt-lib\n    --without-opt-lib=${opt-dir}/lib\n    --with-make-prog\n    --without-make-prog\n    --srcdir=.\n    --curdir\n    --ruby=/Users/ipbyrne/.rvm/rubies/ruby-2.2.1/bin/$(RUBY_BASE_NAME)\n    --with-pg\n    --without-pg\n    --enable-windows-cross\n    --disable-windows-cross\n    --with-pg-config\n    --without-pg-config\n    --with-pg_config\n    --without-pg_config\n    --with-pg-dir\n    --without-pg-dir\n    --with-pg-include\n    --without-pg-include=${pg-dir}/include\n    --with-pg-lib\n    --without-pg-lib=${pg-dir}/lib\n\nextconf failed, exit code 1\n\nGem files will remain installed in /Users/ipbyrne/.rvm/gems/ruby-2.2.1/gems/pg-0.18.2 for inspection.\nResults logged to /Users/ipbyrne/.rvm/gems/ruby-2.2.1/extensions/x86_64-darwin-14/2.2.0-static/pg-0.18.2/gem_make.out\n</code></pre>\n"}, {"tags": ["ruby", "cucumber"], "comments": [{"owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437584562, "post_id": 31569499, "comment_id": 51094063, "body": "what are you naming each file?"}, {"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "reply_to_user": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437584650, "post_id": 31569499, "comment_id": 51094119, "body": "test.feature and test_steps.rb @JeffPrice"}, {"owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437584858, "post_id": 31569499, "comment_id": 51094252, "body": "and what does your directory structure look like? Also, can you run cucumber with -verbose option which will show everything that is being loaded."}, {"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "reply_to_user": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437585221, "post_id": 31569499, "comment_id": 51094454, "body": "everything is in a folder called &quot;features&quot; with a test.feature in it, and a subfolder called &quot;step-definitions&quot; containing test_steps.rb"}, {"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "reply_to_user": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437585251, "post_id": 31569499, "comment_id": 51094476, "body": "@JeffPrice is this what you&#39;re looking for?  <a href=\"http://pastebin.com/6GY6EndJ\" rel=\"nofollow noreferrer\">pastebin.com/6GY6EndJ</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "edited": false, "score": 0, "creation_date": 1437585735, "post_id": 31569833, "comment_id": 51094767, "body": "So that fixed it, but why? How can I fix this so I don&#39;t have to run it with that option every time? Is there a way to?"}, {"owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 0, "creation_date": 1437586021, "post_id": 31569833, "comment_id": 51094940, "body": "Yes, place a cucumber.yml file in the config directory off of your project root. Please see: <a href=\"https://github.com/cucumber/cucumber/wiki/cucumber.yml\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber/wiki/cucumber.yml</a>"}, {"owner": {"reputation": 3129, "user_id": 227397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVdnG.jpg?s=128&g=1", "display_name": "Jeff Price", "link": "https://stackoverflow.com/users/227397/jeff-price"}, "edited": false, "score": 1, "creation_date": 1437586070, "post_id": 31569833, "comment_id": 51094971, "body": "It fixed the issue because you told cucumber to require all the files in the features directory and all of it&#39;s sub directories."}], "tags": [], "owner": {"reputation": 1362, "user_id": 3236557, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/p6V9b.jpg?s=128&g=1", "display_name": "Kirill Zhukov", "link": "https://stackoverflow.com/users/3236557/kirill-zhukov"}, "is_accepted": true, "score": 0, "last_activity_date": 1437585385, "creation_date": 1437585385, "answer_id": 31569833, "question_id": 31569499, "link": "https://stackoverflow.com/questions/31569499/my-cucumber-script-doesnt-seem-to-be-picking-up-my-ruby-script/31569833#31569833", "title": "My Cucumber script doesn&#39;t seem to be picking up my Ruby script", "body": "<p>Since your feature files and step definitions are in <code>features</code> folder, try to run cucumber with <code>--require features</code> option.</p>\n"}], "owner": {"reputation": 23, "user_id": 2141818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d19ba7ff9a7219f96ff9fcba8e19587?s=128&d=identicon&r=PG", "display_name": "chuloon", "link": "https://stackoverflow.com/users/2141818/chuloon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 31569833, "answer_count": 1, "score": 1, "last_activity_date": 1437585385, "creation_date": 1437584294, "question_id": 31569499, "link": "https://stackoverflow.com/questions/31569499/my-cucumber-script-doesnt-seem-to-be-picking-up-my-ruby-script", "title": "My Cucumber script doesn&#39;t seem to be picking up my Ruby script", "body": "<p>I am very new to Cucumber and Ruby, so please forgive me if what I'm missing seems simple. I'm able to run my Cucumber script, and it gives me the following result:</p>\n\n<pre><code>Feature: guru99 Demopage Login\n\n  In order to Login in Demopage we have to enter login details\n\n  Scenario: Register On Guru99 Demopage without email # test.feature:5\n    Given I am on the Guru homepage                   # test.feature:7\n    When enter blank details for Register             # test.feature:9\n    Then error email shown                            # test.feature:11\n\n1 scenario (1 undefined)\n3 steps (3 undefined)\n0m0.040s\n\nYou can implement step definitions for undefined steps with these snippets:\n\nGiven(/^I am on the Guru homepage$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n\nWhen(/^enter blank details for Register$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n\nThen(/^error email shown$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n</code></pre>\n\n<p>This is expected. However, when I add my .rb file which contains:</p>\n\n<pre><code>require 'watir-webdriver'\nrequire 'colorize'\n\nbrowser = Watir::Browser.new\n\nGiven(/^I am on the Guru homepage$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n\nWhen(/^enter blank details for Register$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n\nThen(/^error email shown$/) do\n  pending # Write code here that turns the phrase above into concrete actions\nend\n</code></pre>\n\n<p>Running the Cucumber script returns the exact same result as it did before. I have everything in a folder called \"features\" and the .rb file is in a subfolder of that called step_definitions. What am I doing wrong? I can't seem to find an answer online, so any help at all will be greatly appreciated!</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "database", "associations"], "comments": [{"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437584478, "post_id": 31569388, "comment_id": 51094016, "body": "Post your schema.rb files that shows your columns."}, {"owner": {"reputation": 95, "user_id": 2194743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b09f8ba1bf6b501ef9e88cfde7663670?s=128&d=identicon&r=PG", "display_name": "RobeeZ", "link": "https://stackoverflow.com/users/2194743/robeez"}, "reply_to_user": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437584695, "post_id": 31569388, "comment_id": 51094149, "body": "edited my post @Daiku"}, {"owner": {"reputation": 95, "user_id": 2194743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b09f8ba1bf6b501ef9e88cfde7663670?s=128&d=identicon&r=PG", "display_name": "RobeeZ", "link": "https://stackoverflow.com/users/2194743/robeez"}, "reply_to_user": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437586322, "post_id": 31569388, "comment_id": 51095114, "body": "i think i found the problem, in my user model I should set the foreign key to user_a. but how i have 2 user association in my Match model, what should i write then in my User model?"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437587278, "post_id": 31569388, "comment_id": 51095686, "body": "Well, don&#39;t you need to create two users, and link them together with a match?"}], "answers": [{"tags": [], "owner": {"reputation": 2262, "user_id": 4101569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c4c64e58bc5cdeec8e7ce067131a54?s=128&d=identicon&r=PG", "display_name": "katafrakt", "link": "https://stackoverflow.com/users/4101569/katafrakt"}, "is_accepted": false, "score": 1, "last_activity_date": 1437588030, "creation_date": 1437588030, "answer_id": 31570666, "question_id": 31569388, "link": "https://stackoverflow.com/questions/31569388/rails-multiple-association-unknown-attribute/31570666#31570666", "title": "Rails - multiple association unknown attribute", "body": "<p>The only way I know how to make it work with your schema is to put in user model:</p>\n\n<pre><code>has_many :matches_as_a, foreign_key: 'user_a'\nhas_many :matches_as_b, foreign_key: 'user_b'\n\ndef matches\n  matches_as_a + matches_as_b\nend\n</code></pre>\n\n<p>If there is another way, I'd be glad to know it and refactor some of my apps (not including join models, of course) ;)</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 2194743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b09f8ba1bf6b501ef9e88cfde7663670?s=128&d=identicon&r=PG", "display_name": "RobeeZ", "link": "https://stackoverflow.com/users/2194743/robeez"}, "edited": false, "score": 0, "creation_date": 1437589274, "post_id": 31570766, "comment_id": 51096876, "body": "seems to be working, but when im creating the matches on the test cases, i should write like this?  <code>post :create, { user_a: user.id, user_b: user2.id, match: @match_attribs }</code>"}, {"owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "reply_to_user": {"reputation": 95, "user_id": 2194743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b09f8ba1bf6b501ef9e88cfde7663670?s=128&d=identicon&r=PG", "display_name": "RobeeZ", "link": "https://stackoverflow.com/users/2194743/robeez"}, "edited": false, "score": 0, "creation_date": 1437589479, "post_id": 31570766, "comment_id": 51097002, "body": "The foreign keys should be included in <code>@match_attribs</code>, so it would be <code>{ match: @match_attribs.merge(user_a_id: user.id, user_b_id: user2.id) }</code>"}], "tags": [], "owner": {"reputation": 3614, "user_id": 1569930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7bc43a689388dd4697947ffe8f4c9dcd?s=128&d=identicon&r=PG", "display_name": "eirikir", "link": "https://stackoverflow.com/users/1569930/eirikir"}, "is_accepted": true, "score": 1, "last_activity_date": 1437588353, "creation_date": 1437588353, "answer_id": 31570766, "question_id": 31569388, "link": "https://stackoverflow.com/questions/31569388/rails-multiple-association-unknown-attribute/31570766#31570766", "title": "Rails - multiple association unknown attribute", "body": "<p>Rails and SQL convention dictate that foreign keys should end in <code>_id</code>, e.g. <code>user_a_id</code>, <code>user_b_id</code>. Since Rails is built around \"convention over configuration,\" convention will make your code simpler. If you change the field names, the code becomes:</p>\n\n<p><strong>match.rb</strong></p>\n\n<pre><code>belongs_to :user_a, class_name: \"User\"\nbelongs_to :user_b, class_name: \"User\"\n</code></pre>\n\n<p><strong>user.rb</strong></p>\n\n<pre><code>has_many :matches_a, class_name: 'Match', foreign_key: 'user_a_id'\nhas_many :matches_b, class_name: 'Match', foreign_key: 'user_b_id'\n\ndef matches\n  Match.where(\"user_a_id = :id OR user_b_id = :id\", id: id)\nend\n</code></pre>\n\n<p>Using a method is the only way to make this kind of relation. This way will return a relation that you can further query, while simply concatenating the other two relations (<code>matches_a + matches_b</code>) will return an array.</p>\n"}], "owner": {"reputation": 95, "user_id": 2194743, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b09f8ba1bf6b501ef9e88cfde7663670?s=128&d=identicon&r=PG", "display_name": "RobeeZ", "link": "https://stackoverflow.com/users/2194743/robeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 31570766, "answer_count": 2, "score": 0, "last_activity_date": 1437588353, "creation_date": 1437583975, "last_edit_date": 1437584768, "question_id": 31569388, "link": "https://stackoverflow.com/questions/31569388/rails-multiple-association-unknown-attribute", "title": "Rails - multiple association unknown attribute", "body": "<p>I'm making an API in Rails, and has a Model called Match which has 2 association to the User model defined as</p>\n\n<pre><code>belongs_to :user_a, class_name: 'User', foreign_key: 'user_a'\nbelongs_to :user_b, class_name: 'User', foreign_key: 'user_b'\n</code></pre>\n\n<p>In User model:</p>\n\n<pre><code>has_many :matches\n</code></pre>\n\n<p>In my Match controller spec, I'm doing the following:</p>\n\n<pre><code>before(:each) do\n    user = FactoryGirl.create :user\n    api_authorization_header user.auth_token\n    @match_attribs = FactoryGirl.attributes_for :match\n    post :create, { match: @match_attribs }\nend\n</code></pre>\n\n<p>and the tests fails with \"unknown attribute: user_id\"</p>\n\n<p>If I make the change to post:</p>\n\n<pre><code>post :create, { user_a: user.id, user_b: user.id, match: @match_attribs }\n</code></pre>\n\n<p>then its still giving me unknown attribute.</p>\n\n<p>Edit: scheme for matches:</p>\n\n<pre><code>create_table \"matches\", force: true do |t|\n    t.integer  \"user_a\"\n    t.integer  \"user_b\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\nend\n\nadd_index \"matches\", [\"user_a\"], name: \"index_matches_on_user_a\"\nadd_index \"matches\", [\"user_b\"], name: \"index_matches_on_user_b\"\n</code></pre>\n\n<p>Thanks for any help</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "edited": false, "score": 0, "creation_date": 1437584016, "post_id": 31569307, "comment_id": 51093743, "body": "I don&#39;t think this is the best way of doing it. Can you use a partial with the common elements in the layout?"}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1437584188, "post_id": 31569307, "comment_id": 51093840, "body": "Why can&#39;t you include that link in the corresponding view file i.e, <code>account_activation.html.erb</code> directly?"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1437584461, "post_id": 31569307, "comment_id": 51094005, "body": "It is a link inside a footer. So the footer is part of the general layout and lists several links, one of which I would only like to have included for this specific mailer/method. So I can&#39;t just include it in the view file (or I would have to include the entire footer in the view). I could make a partial for this one line, but isn&#39;t it possible to directly do this inside the mailer layout? Creating an additional file/partial for it, I find makes it less organized."}, {"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1437584668, "post_id": 31569307, "comment_id": 51094132, "body": "I guess <code>mailer_name == &#39;user&#39;</code> should be <code>mailer_name == &#39;user_mailer&#39;</code>"}, {"owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "edited": false, "score": 0, "creation_date": 1437584925, "post_id": 31569307, "comment_id": 51094301, "body": "I&#39;m afraid that still produces the same error."}], "answers": [{"tags": [], "owner": {"reputation": 18773, "user_id": 91830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2505b282d57c29be797dc35b245adb4c?s=128&d=identicon&r=PG", "display_name": "Philip Hallstrom", "link": "https://stackoverflow.com/users/91830/philip-hallstrom"}, "is_accepted": true, "score": 5, "last_activity_date": 1437586612, "creation_date": 1437586612, "answer_id": 31570203, "question_id": 31569307, "link": "https://stackoverflow.com/questions/31569307/how-to-include-conditional-in-mailer-layout-for-mailer-method/31570203#31570203", "title": "How to include conditional in mailer layout for mailer method?", "body": "<p>In your layout, in the footer section put something like this:</p>\n\n<pre><code>&lt;div id='footer'&gt;\n  copyright | terms | privacy\n  &lt;% if content_for?(:footer) %&gt;\n    |\n    &lt;%= yield :footer %&gt;\n  &lt;% end %&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then in your specific mailer view do this:</p>\n\n<pre><code>&lt;% content_for :footer do %&gt;\n  special link\n&lt;% end %&gt;\n</code></pre>\n\n<p>I do this to add special notes in the footer of emails that vary from email to email. Works great.</p>\n"}], "owner": {"reputation": 2754, "user_id": 4499505, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2d1e61c81e3933b4ff09de01b9ff81d4?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4499505/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 1, "accepted_answer_id": 31570203, "answer_count": 1, "score": 2, "last_activity_date": 1437586612, "creation_date": 1437583758, "last_edit_date": 1437585112, "question_id": 31569307, "link": "https://stackoverflow.com/questions/31569307/how-to-include-conditional-in-mailer-layout-for-mailer-method", "title": "How to include conditional in mailer layout for mailer method?", "body": "<p>I am designing a mailer layout in Rails. It's a general layout that different mailers will use. In the middle of the general layout, there's a link I want to include but only if it's <code>user_mailer.rb</code> with the method <code>def account_activation(user)</code> that is sending email. Is there a way to do this?</p>\n\n<p>In the layout I tried:</p>\n\n<pre><code>&lt;% if mailer_name == 'user' &amp;&amp; ['account_activation'].include?(action_name) %&gt;\n</code></pre>\n\n<p>but this generated the error:</p>\n\n<pre><code>undefined local variable or method 'mailer_name' for #&lt;#&lt;Class:0x007f18d0701f30&gt;:0x00000006109c70&gt;\n</code></pre>\n\n<p>If I change <code>mailer_name</code> to <code>mailer</code> it no longer generates an error but it doesn't display the link either (even though I'm looking at the preview for the account_activation method.</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 13948, "user_id": 283342, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e3ef6dbec3a443e7cda5b5624311ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/283342/adrian"}, "edited": false, "score": 0, "creation_date": 1437583120, "post_id": 31569002, "comment_id": 51093239, "body": "You could always just test to see if the string has a &quot;.&quot; in it. BTW, do you want &quot;100.00&quot; to be counted as an integer or a float?"}, {"owner": {"reputation": 1072, "user_id": 2840647, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bbc7740efb4b280be4485f2f7c6c5742?s=128&d=identicon&r=PG&f=1", "display_name": "user2840647", "link": "https://stackoverflow.com/users/2840647/user2840647"}, "reply_to_user": {"reputation": 13948, "user_id": 283342, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e3ef6dbec3a443e7cda5b5624311ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/283342/adrian"}, "edited": false, "score": 0, "creation_date": 1437583474, "post_id": 31569002, "comment_id": 51093446, "body": "@Adrian that would be counted as a float."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 2, "creation_date": 1437584261, "post_id": 31569002, "comment_id": 51093886, "body": "&quot;1.3&quot; is contained in &quot;ab1.3cd&quot;. Is that what you mean, or do you want to know if your string <code>str</code> equals the representation of an integer or float (i.e, does there exist an integer or float <code>n</code> such that <code>n.to_s == str</code>)?"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1437584301, "post_id": 31569002, "comment_id": 51093903, "body": "Will your &quot;strings&quot; always be ONLY the value (<code>&quot;123&quot;</code> or <code>&quot;1.23&quot;</code>) or will the value be embedded inside non-digits (<code>&quot;ab 1.23 cd&quot;</code>)?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 1, "creation_date": 1437584994, "post_id": 31569002, "comment_id": 51094338, "body": "Why the rush selecting an answer?? I expect others are still working on solutions. Also, kindly answer the questions raised in the comments (by editing your question)."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1437585621, "post_id": 31569002, "comment_id": 51094706, "body": "The best way is to convert it to the target class and catch any exception"}], "answers": [{"comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 1, "creation_date": 1437584909, "post_id": 31569280, "comment_id": 51094287, "body": "or &quot;-2&quot; for a negative integer?"}, {"owner": {"reputation": 13948, "user_id": 283342, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e3ef6dbec3a443e7cda5b5624311ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/283342/adrian"}, "edited": false, "score": 0, "creation_date": 1437584979, "post_id": 31569280, "comment_id": 51094329, "body": "Those two examples are why I said &quot;edit regular expressions to taste.&quot;"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1437585132, "post_id": 31569280, "comment_id": 51094420, "body": "Adrian: &quot;Edit regular expressions to taste.&quot; is not good enough. Negative numbers are easy to deal with but @tadman&#39;s comment brings into question whether regex is the way to go here."}], "tags": [], "owner": {"reputation": 13948, "user_id": 283342, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e3ef6dbec3a443e7cda5b5624311ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/283342/adrian"}, "is_accepted": true, "score": -1, "last_activity_date": 1437583677, "creation_date": 1437583677, "answer_id": 31569280, "question_id": 31569002, "link": "https://stackoverflow.com/questions/31569002/determine-whether-a-string-contains-an-integer-or-a-float-in-ruby/31569280#31569280", "title": "Determine whether a string contains an Integer or a Float in Ruby", "body": "<p>You could use regular expressions:</p>\n\n<pre><code>n = '100.0'\n\nif n =~ /\\A\\d+\\z/\n  puts 'integer'\nelsif n =~ /\\A\\d+\\.\\d+\\z/\n  puts 'float'\nelse\n  puts 'not integer or float'\nend\n</code></pre>\n\n<p>Edit regular expressions to taste.</p>\n"}, {"tags": [], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "is_accepted": false, "score": 7, "last_activity_date": 1437585447, "creation_date": 1437585447, "answer_id": 31569852, "question_id": 31569002, "link": "https://stackoverflow.com/questions/31569002/determine-whether-a-string-contains-an-integer-or-a-float-in-ruby/31569852#31569852", "title": "Determine whether a string contains an Integer or a Float in Ruby", "body": "<p>The correct way to do this is the <code>Integer</code> and <code>Float</code> methods.</p>\n\n<pre><code>Integer(\"100\")\n100\nInteger(\"1.03\")\n# ArgumentError: invalid value for Integer(): \"1.03\"\nFloat(\"1.03\")\n1.03\nFloat(\"1.2e9\")\n1200000000.0\nFloat(\"100\")\n100.0\n</code></pre>\n\n<p>You can make methods out of these like so:</p>\n\n<pre><code>class String\n  def is_int?\n    Integer(self) &amp;&amp; true rescue false\n  end\n\n  def is_float?\n    Float(self) &amp;&amp; true rescue false\n  end\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1437585570, "creation_date": 1437585570, "answer_id": 31569897, "question_id": 31569002, "link": "https://stackoverflow.com/questions/31569002/determine-whether-a-string-contains-an-integer-or-a-float-in-ruby/31569897#31569897", "title": "Determine whether a string contains an Integer or a Float in Ruby", "body": "<p>Something like this should capture the various ways of expressing numbers as strings:</p>\n\n<pre><code>%w[\n  1\n  1.0\n  0xDEADBEEF\n  0b1010\n  1e10\n  1.2e10\n  -1\n  -1.2\n  a1\n  a1.0\n].each do |str|\n  type = begin\n           :integer if Integer(str)\n         rescue ArgumentError\n           begin\n            :float if Float(str)\n           rescue ArgumentError\n            :neither\n           end\n         end\n  type # =&gt; :integer, :float, :integer, :integer, :float, :float, :integer, :float, :neither, :neither\nend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1437585757, "post_id": 31569901, "comment_id": 51094775, "body": "<code>integer_or_float?(&quot;pool floaties&quot;) #=&gt; :float</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1437585977, "post_id": 31569901, "comment_id": 51094900, "body": "@Max, &quot;pool floaties&quot; are clearly floats. Note I initially demanded integer or float, then was doing the edit when you left the comment."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1437585813, "last_edit_date": 1437585813, "creation_date": 1437585587, "answer_id": 31569901, "question_id": 31569002, "link": "https://stackoverflow.com/questions/31569002/determine-whether-a-string-contains-an-integer-or-a-float-in-ruby/31569901#31569901", "title": "Determine whether a string contains an Integer or a Float in Ruby", "body": "<p>If the string is the representation of an integer or float (ie., if the string <code>str</code> can be obtained by converting an integer or float to <code>str</code>):</p>\n\n<pre><code>def integer_or_float?(str)\n  :integer if Integer(str) rescue :float\nend\n\ninteger_or_float? \"-123\"  #=&gt; :integer\ninteger_or_float? \"12.3\"  #=&gt; :float\ninteger_or_float? \"1.2e9\" #=&gt; :float\n</code></pre>\n\n<p>If the string may not be the representation of an integer or float:</p>\n\n<pre><code>def integer_or_float?(str)\n  :integer if Integer(str) rescue (:float if Float(str) rescue nil)\nend\n\ninteger_or_float? \"-123\"  #=&gt; :integer\ninteger_or_float? \"12.3\"  #=&gt; :float\ninteger_or_float? \"1.2e9\" #=&gt; :float\ninteger_or_float? \"1.2x\"  #=&gt; :nil\n</code></pre>\n"}], "owner": {"reputation": 1072, "user_id": 2840647, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bbc7740efb4b280be4485f2f7c6c5742?s=128&d=identicon&r=PG&f=1", "display_name": "user2840647", "link": "https://stackoverflow.com/users/2840647/user2840647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "accepted_answer_id": 31569280, "answer_count": 4, "score": 1, "last_activity_date": 1437588985, "creation_date": 1437582900, "last_edit_date": 1437588985, "question_id": 31569002, "link": "https://stackoverflow.com/questions/31569002/determine-whether-a-string-contains-an-integer-or-a-float-in-ruby", "title": "Determine whether a string contains an Integer or a Float in Ruby", "body": "<p>Let's say I get some input as a string, and I would like to know whether it contains an <code>Integer</code> or a <code>Float</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>input_1 = \"100\"\ninput_2 = \"100.0123\"\n</code></pre>\n\n<p>Now, let's take into account the following:</p>\n\n<pre><code>input_1.respond_to?(:to_f) # =&gt; true \ninput_1.is_a?(Float)       # =&gt; false\ninput_1.is_a?(Fixnum)      # =&gt; false\ninput_1.to_f?              # =&gt; 100.0\n\ninput_2.respond_to?(:to_i) # =&gt; true\ninput_2.is_a?(Integer)     # =&gt; false\ninput_2.is_a?(Fixnum)      # =&gt; false\ninput_2.to_i               # =&gt; 100\n</code></pre>\n\n<p>In the cases above, we can't actually determine whether the string contains an <code>Integer</code> or a <code>Float</code>.  Is there a way in Ruby to determine whether a string contains a <code>Fixnum</code> or <code>Float</code>?</p>\n"}, {"tags": ["ruby", "authentication", "login", "watir", "required"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5144441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ad5d3e6838de6951ca8e01c344b285b?s=128&d=identicon&r=PG&f=1", "display_name": "Troy", "link": "https://stackoverflow.com/users/5144441/troy"}, "edited": false, "score": 0, "creation_date": 1437588206, "post_id": 31568790, "comment_id": 51096227, "body": "I am working on a eCommerce site that is not live yet, and when I click to checkout, then the authentication box displays again. Any ideas on how to deal with this?"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "reply_to_user": {"reputation": 23, "user_id": 5144441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ad5d3e6838de6951ca8e01c344b285b?s=128&d=identicon&r=PG&f=1", "display_name": "Troy", "link": "https://stackoverflow.com/users/5144441/troy"}, "edited": false, "score": 1, "creation_date": 1437593227, "post_id": 31568790, "comment_id": 51099390, "body": "Since you&#39;re going to checkout, you&#39;re probably going from <code>http</code> to <code>https</code>.    I&#39;ve edited with a hacky workaround that basically primes the pump when you launch the browser."}], "tags": [], "owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "is_accepted": true, "score": 2, "last_activity_date": 1437593403, "last_edit_date": 1437593403, "creation_date": 1437582278, "answer_id": 31568790, "question_id": 31568652, "link": "https://stackoverflow.com/questions/31568652/how-to-enter-data-for-authentication-required-pop-up-using-ruby-page-object-and/31568790#31568790", "title": "How to enter data for authentication required pop up using ruby, page-object and watir-webdriver", "body": "<p>You can pass in the authentication credentials via the URL, which will bypass the dialog.  There's an example on <a href=\"http://watirwebdriver.com/basic-browser-authentication/\" rel=\"nofollow\">http://watirwebdriver.com/basic-browser-authentication/</a>:</p>\n\n<pre><code>require 'watir-webdriver'\nb = Watir::Browser.start 'http://admin:password@yourwebsite.com'\nb.goto 'https://admin:password@yourwebsite.com/cart'  # replace 'cart' as appropriate\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5144441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ad5d3e6838de6951ca8e01c344b285b?s=128&d=identicon&r=PG&f=1", "display_name": "Troy", "link": "https://stackoverflow.com/users/5144441/troy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 31568790, "answer_count": 1, "score": -1, "last_activity_date": 1437593403, "creation_date": 1437581808, "last_edit_date": 1437582198, "question_id": 31568652, "link": "https://stackoverflow.com/questions/31568652/how-to-enter-data-for-authentication-required-pop-up-using-ruby-page-object-and", "title": "How to enter data for authentication required pop up using ruby, page-object and watir-webdriver", "body": "<p>I feel my problem has a simple solution (although I am not able to find a relevant answer through researching). I am using RubyMine ruby 2.0.0 for automated testing and mostly using watir-webdriver, 0.6.4, and page-object, 0.9.4 gems. </p>\n\n<p>When Ruby opens the site I am testing. Before the page loads an Authentication Required pop up box is displayed. It says, \"The server <a href=\"http://example.com:80\" rel=\"nofollow\">http://example.com:80</a> requires a username and password. The server says: Authentication Required.\" I am not able to inspect it as an element, therefore I don't know how to interact with it. I have been bypassing the issue by manually entering the username and password.</p>\n\n<p>I think it will be easier to just fill the fields in and click Log In rather then store a cookie, but you guys will know best.</p>\n"}, {"tags": ["ruby", "node.js", "oauth", "saml-2.0", "intuit"], "answers": [{"tags": [], "owner": {"reputation": 1144, "user_id": 2697567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/654ade29cadf74f8c990c1441b637e0f?s=128&d=identicon&r=PG", "display_name": "britztopher", "link": "https://stackoverflow.com/users/2697567/britztopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1437746902, "creation_date": 1437746902, "answer_id": 31612676, "question_id": 31568579, "link": "https://stackoverflow.com/questions/31568579/intuit-customer-account-data-cad-saml-assertion-returning-ambiguous-error-mess/31612676#31612676", "title": "Intuit Customer Account Data (CAD) SAML Assertion returning Ambiguous Error Message", "body": "<p>OK, so after cloning the aggcat repo for the ruby script and modifying the template for the assertion message to use constants instead of variables then comparing the that assertion message to the one my script was generating I finally found the reason why this was failing.  To make sure the sha1 digest was the same and the signature was the same I had to make the assertion messages were the same.  </p>\n\n<p>The reason for failure was that sample Assertion Sample in the documentation is wrong all over the place:</p>\n\n<p><a href=\"https://developer.intuit.com/docs/0020_customeraccountdata/009_using_customeraccountdata/0010_gettingstarted/0025_making_your_first_connection/saml_assertion_sample\" rel=\"nofollow\">https://developer.intuit.com/docs/0020_customeraccountdata/009_using_customeraccountdata/0010_gettingstarted/0025_making_your_first_connection/saml_assertion_sample</a></p>\n\n<p>There are spaces missing and the one thing that got me was this element:\n           \nThis is not a terminating element and needs a closing tag. For example:</p>\n\n<p></p>\n\n<p>In addition, the xml doc type () is not needed either.</p>\n"}, {"tags": [], "owner": {"reputation": 1144, "user_id": 2697567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/654ade29cadf74f8c990c1441b637e0f?s=128&d=identicon&r=PG", "display_name": "britztopher", "link": "https://stackoverflow.com/users/2697567/britztopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1439143071, "creation_date": 1439143071, "answer_id": 31907204, "question_id": 31568579, "link": "https://stackoverflow.com/questions/31568579/intuit-customer-account-data-cad-saml-assertion-returning-ambiguous-error-mess/31907204#31907204", "title": "Intuit Customer Account Data (CAD) SAML Assertion returning Ambiguous Error Message", "body": "<p>After all this aggravation with intuit's developer documentation, I decided to save everyone the trouble of trying to follow it to confusion, and made an NPM module called <a href=\"https://github.com/britztopher/intuit-cad\" rel=\"nofollow\">intuit-cad</a>, which builds the SAML assertion and performs all the authentication in order for you to make clean API calls easily.  Also, this module is built on top of promises, which make error handling and callback hell prevention a breeze.  In addition to the library I have a simple blog post about it here: <a href=\"http://brilliantbritz.com/2015/08/09/how-to-add-intuit-customer-account-data-cad-with-loopback-framework/\" rel=\"nofollow\">intuit-cad blog post</a></p>\n"}], "owner": {"reputation": 1144, "user_id": 2697567, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/654ade29cadf74f8c990c1441b637e0f?s=128&d=identicon&r=PG", "display_name": "britztopher", "link": "https://stackoverflow.com/users/2697567/britztopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1439143071, "creation_date": 1437581629, "question_id": 31568579, "link": "https://stackoverflow.com/questions/31568579/intuit-customer-account-data-cad-saml-assertion-returning-ambiguous-error-mess", "title": "Intuit Customer Account Data (CAD) SAML Assertion returning Ambiguous Error Message", "body": "<p>I am trying to obtain oauth tokens in order to use the CAD API, however, I keep getting this error:</p>\n\n<p><code>Signature on SAML token is INVALID commentary: [Verification against Static Certificate not supported in this scenario.</code></p>\n\n<p>Since they dont have an NPM or NodeJS I have started to create one, however, I am getting hung up on the SAML assertion request.  So far I have ported over this ruby gem for making the saml request to get the new oauth token which is found here:</p>\n\n<p><a href=\"https://github.com/cloocher/aggcat/blob/master/lib/aggcat/base.rb\" rel=\"nofollow\">https://github.com/cloocher/aggcat/blob/master/lib/aggcat/base.rb</a> (line 70) def saml_message...</p>\n\n<p>My first stab at this is not neat, but I'm just trying to verify I can make a SAML request with NodeJS and get a response back containing oauth token. </p>\n\n<p>My source code for this NodeJS script can be found at:\n<a href=\"https://github.com/britztopher/intuit-cad/blob/master/server/saml2.js\" rel=\"nofollow\">https://github.com/britztopher/intuit-cad/blob/master/server/saml2.js</a></p>\n\n<p>And the Intuit documentation for making this request can be found here:</p>\n\n<p><a href=\"https://developer.intuit.com/docs/0020_customeraccountdata/009_using_customeraccountdata/0010_gettingstarted/0025_making_your_first_connection\" rel=\"nofollow\">Intuits CAD Doc</a> which is lacking any kind of sample of what is needed to produce the assertion message.</p>\n\n<p>If any clarification is needed please comment, as I am just trying to jump this first hurdle.</p>\n"}, {"tags": ["ruby-on-rails", "arrays", "ruby", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 2202, "user_id": 1156761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c259c1adbed8fb52084c9b80c5d9f52a?s=128&d=identicon&r=PG", "display_name": "Chris Yeung", "link": "https://stackoverflow.com/users/1156761/chris-yeung"}, "edited": false, "score": 0, "creation_date": 1437584143, "post_id": 31569083, "comment_id": 51093815, "body": "Hmm, I saw that postgres and Rails 4 came out with the array column. I guess sometimes the performance is actually better when storing as array columns? I may ask a new question to see if anyone can evaluate when to use array column and when to use associations"}, {"owner": {"reputation": 2202, "user_id": 1156761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c259c1adbed8fb52084c9b80c5d9f52a?s=128&d=identicon&r=PG", "display_name": "Chris Yeung", "link": "https://stackoverflow.com/users/1156761/chris-yeung"}, "edited": false, "score": 0, "creation_date": 1437584430, "post_id": 31569083, "comment_id": 51093984, "body": "then why is array column created? I assume it is rails intention to adopt some noSQL approach of storing data? I am no expert in it and would like to learn more, I think if Rails 4 / Postgres decides to implement it, there must be a reason? We can offload this discussion to another thread. =&gt; <a href=\"http://stackoverflow.com/questions/31569511/when-should-i-use-array-columns-v-s-associations-in-rails\" title=\"when should i use array columns v s associations in rails\">stackoverflow.com/questions/31569511/&hellip;</a>"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "reply_to_user": {"reputation": 2202, "user_id": 1156761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c259c1adbed8fb52084c9b80c5d9f52a?s=128&d=identicon&r=PG", "display_name": "Chris Yeung", "link": "https://stackoverflow.com/users/1156761/chris-yeung"}, "edited": false, "score": 1, "creation_date": 1437588223, "post_id": 31569083, "comment_id": 51096237, "body": "@ChrisYeung Despite the results of the separate question let me know, if this answer was helpful with regards to queries"}, {"owner": {"reputation": 4357, "user_id": 1986871, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/fJ2VQ.jpg?s=128&g=1", "display_name": "Chris Cirefice", "link": "https://stackoverflow.com/users/1986871/chris-cirefice"}, "edited": false, "score": 1, "creation_date": 1545068196, "post_id": 31569083, "comment_id": 94489216, "body": "Bad advice in the first paragraph - there are valid reasons to store array data in database. If there wasn&#39;t a good enough use case for it, the data type wouldn&#39;t exist (although I agree in OP&#39;s case it <i>should</i> be an association). However, +1 for actually providing the solution of how to query the array datatype and answering OP&#39;s question."}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": true, "score": 3, "last_activity_date": 1591162709, "last_edit_date": 1591162709, "creation_date": 1437583155, "answer_id": 31569083, "question_id": 31568528, "link": "https://stackoverflow.com/questions/31568528/how-to-query-array-columns-in-rails-4/31569083#31569083", "title": "How to query array columns in Rails 4?", "body": "<ol>\n<li><p>Usually, <a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow noreferrer\">associations</a> are a preferable way of approaching the problem:</p>\n\n<p><code>Book has_many :subjects # or has_one/has_and_belongs_to_many</code></p>\n\n<p><code>Subject belongs_to :book # or has_and_belongs_to_many</code></p>\n\n<p>And then just create a table <code>subjects</code>, save all your subjects there and you're set up.</p></li>\n<li><p>Your queries:</p></li>\n</ol>\n\n<blockquote>\n  <p>Query books that contains any of the listed subjects - e.g. Fiction OR\n  Biography</p>\n</blockquote>\n\n<pre><code>Book.find_by_sql \"SELECT * FROM books WHERE 'Fiction' = ANY (subjects) OR 'Biography' = ANY (subjects)\"\n</code></pre>\n\n<blockquote>\n  <p>Query books that doesn't contain a certain subject - e.g. NOT Physics</p>\n</blockquote>\n\n<pre><code>Book.where.not(\"subjects @&gt; ?\", \"{Physics}\")\n</code></pre>\n\n<blockquote>\n  <p>Query books that doesn't contain ANY of the subjects - e.g. NOT\n  (Physics OR Chemistry OR Biology)</p>\n</blockquote>\n\n<pre><code>Book.find_by_sql \"SELECT * FROM books WHERE books NOT IN (SELECT * FROM books WHERE 'Physics' = ANY (subjects) OR 'Chemistry' = ANY (subjects) OR 'Biology' = ANY (subjects)\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4014, "user_id": 1156973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JSL6O.gif?s=128&g=1", "display_name": "hellion", "link": "https://stackoverflow.com/users/1156973/hellion"}, "edited": false, "score": 0, "creation_date": 1615489960, "post_id": 58730840, "comment_id": 117713473, "body": "How would you query this with dynamic subjects?"}], "tags": [], "owner": {"reputation": 191, "user_id": 9229331, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xhxTSuVI1Ow/AAAAAAAAAAI/AAAAAAAAALg/Z1D-2HMh3yE/photo.jpg?sz=128", "display_name": "manthan andharia", "link": "https://stackoverflow.com/users/9229331/manthan-andharia"}, "is_accepted": false, "score": 18, "last_activity_date": 1573045395, "creation_date": 1573045395, "answer_id": 58730840, "question_id": 31568528, "link": "https://stackoverflow.com/questions/31568528/how-to-query-array-columns-in-rails-4/58730840#58730840", "title": "How to query array columns in Rails 4?", "body": "<p>For,</p>\n\n<p><strong>Query books that contains any of the listed subjects - e.g. Fiction OR Biography</strong></p>\n\n<pre><code>Book.where(\"subjects &amp;&amp;  ?\", \"{Fiction,Biography}\")\n</code></pre>\n\n<p><strong>Query books that doesn't contain a certain subject - e.g. NOT Physics</strong></p>\n\n<pre><code>Book.where(\"subjects &lt;&gt;  ?\", \"{Physics}\")\n</code></pre>\n\n<p><strong>Query books that don't contain ANY of the subjects - e.g. NOT (Physics OR Chemistry OR Biology)</strong></p>\n\n<pre><code>Book.where.not(\"subjects &amp;&amp;  ?\", \"{Physics,Chemistry,Biology}\")\n</code></pre>\n\n<p>You can see the array functions of Postgres for reference.</p>\n\n<p><a href=\"https://www.postgresql.org/docs/8.2/functions-array.html\" rel=\"noreferrer\">https://www.postgresql.org/docs/8.2/functions-array.html</a></p>\n"}], "owner": {"reputation": 2202, "user_id": 1156761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c259c1adbed8fb52084c9b80c5d9f52a?s=128&d=identicon&r=PG", "display_name": "Chris Yeung", "link": "https://stackoverflow.com/users/1156761/chris-yeung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6091, "favorite_count": 0, "accepted_answer_id": 31569083, "answer_count": 2, "score": 7, "last_activity_date": 1591162709, "creation_date": 1437581479, "last_edit_date": 1592644375, "question_id": 31568528, "link": "https://stackoverflow.com/questions/31568528/how-to-query-array-columns-in-rails-4", "title": "How to query array columns in Rails 4?", "body": "<p>I can't find any good articles about how to query <code>array columns</code> in Rails. I came across the need to query an Array column in Rails.</p>\n<p>I found from an article teaching how to do basic query <a href=\"http://blog.arkency.com/2014/10/how-to-start-using-arrays-in-rails-with-postgresql/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Let's follow the example in the article where <code>Book</code> covers many <code>subjects</code> and subjects is stored as an array column:</p>\n<pre><code>add_column :books, :subjects, :text, array: true, default: []\n</code></pre>\n<blockquote>\n<p><strong>Query books that contains a certain subject</strong> - e.g. History</p>\n</blockquote>\n<pre><code>Book.where(&quot;'history' = ANY (subjects)&quot;)\n</code></pre>\n<blockquote>\n<p><strong>Query books that contains all listed subjects</strong> - e.g. Finance AND Business AND Accounting</p>\n</blockquote>\n<pre><code>Book.where(&quot;subjects @&gt; ?&quot;, &quot;{Finance,Business,Accounting}&quot;)\n</code></pre>\n<hr />\n<p>I wonder how I can do the following?</p>\n<blockquote>\n<p><strong>Query books that contains any of the listed subjects</strong> - e.g. Fiction OR Biography</p>\n<p><strong>Query books that doesn't contain a certain subject</strong> - e.g. NOT Physics</p>\n<p><strong>Query books that doesn't contain ANY of the subjects</strong> - e.g. NOT (Physics OR Chemistry OR Biology)</p>\n</blockquote>\n<p>And is there any <code>Rails</code> way of doing the above queries?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "ruby-on-rails-4", "drop-down-menu"], "answers": [{"tags": [], "owner": {"reputation": 6538, "user_id": 430418, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e92dbe16dbf6d5938bd97d561ee7dde4?s=128&d=identicon&r=PG", "display_name": "schmijos", "link": "https://stackoverflow.com/users/430418/schmijos"}, "is_accepted": false, "score": 1, "last_activity_date": 1438938047, "creation_date": 1438938047, "answer_id": 31873689, "question_id": 31568451, "link": "https://stackoverflow.com/questions/31568451/add-a-custom-country-field-option-to-country-select-ruby-on-rails-gem/31873689#31873689", "title": "Add a custom country field option to country_select ruby on rails gem", "body": "<p>According to the <a href=\"https://github.com/stefanpenner/country_select/blob/fad7c1d4aa24af9c84b1718176392d56f201a1f3/spec/country_select_spec.rb#L161\" rel=\"nofollow\">tests of <code>country_select</code></a> it supports the <code>include_blank</code>-option of <code>select_tag</code>. So you should be able to use:</p>\n\n<pre><code>&lt;%= f.country_select(:country_to, include_blank: 'Anywhere') %&gt;\n</code></pre>\n\n<p>Please consider also having a look at the <a href=\"https://github.com/bbatsov/ruby-style-guide\" rel=\"nofollow\">ruby style guide</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 806, "user_id": 477932, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6f887043a14f055e92c098da0e6ddcad?s=128&d=identicon&r=PG", "display_name": "ubugnu", "link": "https://stackoverflow.com/users/477932/ubugnu"}, "is_accepted": false, "score": 0, "last_activity_date": 1590578802, "creation_date": 1590578802, "answer_id": 62041970, "question_id": 31568451, "link": "https://stackoverflow.com/questions/31568451/add-a-custom-country-field-option-to-country-select-ruby-on-rails-gem/62041970#62041970", "title": "Add a custom country field option to country_select ruby on rails gem", "body": "<p>Just add, for example, this initializer:</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code># config/initializers/00_add_countries.rb\n\nrequire 'countries'\n\nISO3166::Data.register(\n  alpha2: 'ww',\n  name: 'World',\n  translations: {\n    'en' =&gt; 'World',\n    'de' =&gt; 'Welt',\n    'fr' =&gt; 'Monde'\n  }\n)\n\nISO3166::Country.new('ww').name == 'World'\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4721912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vgg5F.jpg?s=128&g=1", "display_name": "frizurd", "link": "https://stackoverflow.com/users/4721912/frizurd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1590578802, "creation_date": 1437581295, "question_id": 31568451, "link": "https://stackoverflow.com/questions/31568451/add-a-custom-country-field-option-to-country-select-ruby-on-rails-gem", "title": "Add a custom country field option to country_select ruby on rails gem", "body": "<p>I'm currently using the country_select gem for ruby on rails:\n<a href=\"https://github.com/stefanpenner/country_select\" rel=\"nofollow\">https://github.com/stefanpenner/country_select</a></p>\n\n<p>The following code prints a list of all the countries:</p>\n\n<pre><code>&lt;%= f.country_select :CountryTo, html_options = {:class =&gt; \"form-control\"} %&gt;\n</code></pre>\n\n<p>I want to add a custom option field in the select dropdown with the value \"Anywhere\".\nDoes anyone know how I can achieve this? I am pretty new with Ruby on rails so my apologies if there is a super easy fix, thank you.</p>\n"}, {"tags": ["ruby", "email", "smtp", "report", "smtpclient"], "answers": [{"comments": [{"owner": {"reputation": 2093, "user_id": 3309314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3683a7a05e7e97a67c262b774db00d08?s=128&d=identicon&r=PG&f=1", "display_name": "user3309314", "link": "https://stackoverflow.com/users/3309314/user3309314"}, "edited": false, "score": 0, "creation_date": 1437588355, "post_id": 31569265, "comment_id": 51096309, "body": "What is the difference between <code>mail.from = &#39;sender@smtp.server.com&#39;</code> and <code>mail[:from] = &#39;sender@smtp.server.com&#39;</code>? <a href=\"https://github.com/mikel/mail/blob/master/lib/mail/message.rb#L81-L99\" rel=\"nofollow noreferrer\">Documentation</a> says it&#39;s the same"}, {"owner": {"reputation": 1362, "user_id": 3236557, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/p6V9b.jpg?s=128&g=1", "display_name": "Kirill Zhukov", "link": "https://stackoverflow.com/users/3236557/kirill-zhukov"}, "reply_to_user": {"reputation": 2093, "user_id": 3309314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3683a7a05e7e97a67c262b774db00d08?s=128&d=identicon&r=PG&f=1", "display_name": "user3309314", "link": "https://stackoverflow.com/users/3309314/user3309314"}, "edited": false, "score": 0, "creation_date": 1437597974, "post_id": 31569265, "comment_id": 51102220, "body": "@user3309314, you are right. No difference. I didn&#39;t see that."}], "tags": [], "owner": {"reputation": 1362, "user_id": 3236557, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/p6V9b.jpg?s=128&g=1", "display_name": "Kirill Zhukov", "link": "https://stackoverflow.com/users/3236557/kirill-zhukov"}, "is_accepted": false, "score": 1, "last_activity_date": 1437583619, "creation_date": 1437583619, "answer_id": 31569265, "question_id": 31568289, "link": "https://stackoverflow.com/questions/31568289/ruby-send-mail-with-dsn/31569265#31569265", "title": "Ruby send mail with DSN", "body": "<p>According to <a href=\"https://github.com/mikel/mail/blob/master/lib/mail/mail.rb#L44\" rel=\"nofollow\">documentation from source code</a> and <a href=\"https://github.com/mikel/mail#making-an-email-have-it-your-way\" rel=\"nofollow\">README page</a> on GitHub, you need to do something like that:</p>\n\n<pre><code>mail = Mail.new\nmail.delivery_method :smtp, address: 'smtp.server.com', port: 25\nmail[:from] = 'sender@smtp.server.com'\nmail[:to]   = '&lt;recipient@yet.another.server.com&gt; NOTIFY=SUCCESS ORCPT=rfc822;recipient@yet.another.server.com'\nmail.deliver!\n</code></pre>\n\n<p>May be more elegant way would be:</p>\n\n<pre><code>mail = Mail.new do\n  from 'sender@smtp.server.com'\n  to '&lt;recipient@yet.another.server.com&gt; NOTIFY=SUCCESS ORCPT=rfc822;recipient@yet.another.server.com'\nend\n\nmail.delivery_method :smtp, address: 'smtp.server.com', port: 25\n\nmail.deliver!\n</code></pre>\n"}], "owner": {"reputation": 2093, "user_id": 3309314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3683a7a05e7e97a67c262b774db00d08?s=128&d=identicon&r=PG&f=1", "display_name": "user3309314", "link": "https://stackoverflow.com/users/3309314/user3309314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437583619, "creation_date": 1437580843, "question_id": 31568289, "link": "https://stackoverflow.com/questions/31568289/ruby-send-mail-with-dsn", "title": "Ruby send mail with DSN", "body": "<p>Using gem <a href=\"https://github.com/mikel/mail\" rel=\"nofollow\">mail</a> and considering <a href=\"http://www.sendmail.org/~ca/email/dsn.html\" rel=\"nofollow\">http://www.sendmail.org/~ca/email/dsn.html</a> I want to do something like this:</p>\n\n<pre><code>mail = Mail.new\nmail.delivery_method :smtp, :address =&gt; 'smtp.server.com', :port =&gt; 25\nmail.from = 'sender@smtp.server.com'\nmail.to = '&lt;recipient@yet.another.server.com&gt; NOTIFY=SUCCESS ORCPT=rfc822;recipient@yet.another.server.com'\nmail.deliver!\n</code></pre>\n\n<p>And I get error:</p>\n\n<pre><code>...ruby/2.1.0/net/smtp.rb:957:in `check_response': 501 5.1.3 Bad recipient address syntax (Net::SMTPSyntaxError)\n</code></pre>\n\n<p>Then I try monkey-patching (I know it's dirty):</p>\n\n<pre><code>class Net::SMTP\n  def rcptto(to_addr)\n    if $SAFE &gt; 0\n      raise SecurityError, 'tainted to_addr' if to_addr.tainted?\n    end\n    # REPLACE\n    # getok(\"RCPT TO:&lt;#{to_addr}&gt;\")\n    # WITH\n    getok(\"RCPT TO:&lt;#{to_addr}&gt; NOTIFY=SUCCESS,FAILURE,DELAY ORCPT=rfc822;#{to_addr}\")\n  end\nend\n</code></pre>\n\n<p>and it works fine but it's ugly ( </p>\n\n<p>Does anyone know more legal and beauty solution? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "comments": [{"owner": {"reputation": 14010, "user_id": 3109182, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a4b305f0077055b4fdcf715067775d5a?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3109182/anthony"}, "edited": false, "score": 0, "creation_date": 1437580742, "post_id": 31568137, "comment_id": 51091718, "body": "you need to run a migration on heroku.  <code>rake db:migrate</code>"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1437580831, "post_id": 31568137, "comment_id": 51091770, "body": "<code>heroku run rake db:migrate</code>"}, {"owner": {"reputation": 33, "user_id": 2589736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2ae7d71678e9e2de102679f434c3524b?s=128&d=identicon&r=PG", "display_name": "user2589736", "link": "https://stackoverflow.com/users/2589736/user2589736"}, "edited": false, "score": 0, "creation_date": 1437614732, "post_id": 31568137, "comment_id": 51107847, "body": "I ran the migrations, it is not working."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2589736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2ae7d71678e9e2de102679f434c3524b?s=128&d=identicon&r=PG", "display_name": "user2589736", "link": "https://stackoverflow.com/users/2589736/user2589736"}, "edited": false, "score": 0, "creation_date": 1437614545, "post_id": 31568329, "comment_id": 51107808, "body": "On my question I clarify that I have run all the migrations."}], "tags": [], "owner": {"reputation": 9480, "user_id": 625348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eEgMg.jpg?s=128&g=1", "display_name": "mohamed-ibrahim", "link": "https://stackoverflow.com/users/625348/mohamed-ibrahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1437580942, "creation_date": 1437580942, "answer_id": 31568329, "question_id": 31568137, "link": "https://stackoverflow.com/questions/31568137/when-i-deploy-my-rails-app-to-heroku-a-foreign-key-disappears/31568329#31568329", "title": "When I deploy my rails app to heroku a foreign key disappears", "body": "<p>Heroku not run migration when you deploy your code you have to run migration right after you push code:</p>\n\n<pre><code> heroku run rake db:migrate\n</code></pre>\n\n<p>and that is explain why you can't see the new column spot_id in you Product model.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 2589736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2ae7d71678e9e2de102679f434c3524b?s=128&d=identicon&r=PG", "display_name": "user2589736", "link": "https://stackoverflow.com/users/2589736/user2589736"}, "is_accepted": false, "score": 0, "last_activity_date": 1437628936, "creation_date": 1437628936, "answer_id": 31578760, "question_id": 31568137, "link": "https://stackoverflow.com/questions/31568137/when-i-deploy-my-rails-app-to-heroku-a-foreign-key-disappears/31578760#31578760", "title": "When I deploy my rails app to heroku a foreign key disappears", "body": "<p>I clone my heroku app with the command below:</p>\n\n<pre><code>% heroku git:clone -a the-app\n</code></pre>\n\n<p>After comparing my Heroku repo with the local repo I didn't find any difference in the code. Everything was the same, so I decided to reset my database.</p>\n\n<pre><code> % heroku pg:reset DATABASE\n</code></pre>\n\n<p>The I run the migrations, and finally the spot_id appeared, and I can update the products.</p>\n"}], "owner": {"reputation": 33, "user_id": 2589736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2ae7d71678e9e2de102679f434c3524b?s=128&d=identicon&r=PG", "display_name": "user2589736", "link": "https://stackoverflow.com/users/2589736/user2589736"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437628936, "creation_date": 1437580456, "question_id": 31568137, "link": "https://stackoverflow.com/questions/31568137/when-i-deploy-my-rails-app-to-heroku-a-foreign-key-disappears", "title": "When I deploy my rails app to heroku a foreign key disappears", "body": "<p>All the code that I'm showing below is the code that I have cloned from heroku.</p>\n\n<p>I have this relationship in my app:</p>\n\n<h1>Schema</h1>\n\n<pre><code>  create_table \"spots\", id: false, force: :cascade do |t|\n    t.string  \"id\",        null: false\n    t.integer \"bid_cents\", null: false\n    t.integer \"ask_cents\", null: false\n  end\n\n  create_table \"products\", id: false, force: :cascade do |t|\n    t.string   \"id\",                                       null: false\n    t.string   \"type\",                                     null: false\n    t.text     \"description\",                              null: false\n    t.decimal  \"weight\",                                   null: false\n    t.string   \"metal\",                                    null: false\n    t.string   \"spot_id\",                                  null: false\n    t.integer  \"elemetal_capital_premium_cents\"\n    t.integer  \"goldtrex_markup_cents\",                    null: false\n    t.datetime \"created_at\",                               null: false\n    t.datetime \"updated_at\",                               null: false\n    t.integer  \"shopify_id\",                     limit: 8, null: false\n  end\n\nadd_index \"products\", [\"spot_id\"], name: \"index_products_on_spot_id\", using: :btree\n</code></pre>\n\n<h1>Extract from the models</h1>\n\n<h2>Extract from product</h2>\n\n<pre><code>class Product &lt; ActiveRecord::Base\n  self.primary_key = :id\n\n  belongs_to :spot\n\n  before_create :shopify_create\n  before_update :shopify_update\n  ...\n</code></pre>\n\n<h2>Extract from spot</h2>\n\n<pre><code>class Spot &lt; ActiveRecord::Base\n  self.primary_key = :id\n\n  monetize :bid_cents\n  monetize :ask_cents\n\n  has_many :products\n</code></pre>\n\n<h2>Extract of inheritance from Product to ElemetalCapitalProduct and GoldtrexProduct</h2>\n\n<pre><code>class ElemetalCapitalProduct &lt; Product\n\n  def self.available_products\n    ElemetalCapital::Product.all.size\n  end\n\nclass GoldtrexProduct &lt; Product\n  validates_presence_of :id, \n                        :description, \n                        :weight, \n                        :metal, \n                        :spot_id,\n                        :goldtrex_markup_cents\n</code></pre>\n\n<h1>Methods that I'm trying to use</h1>\n\n<pre><code>def self.update_products!\n    ec_products = ElemetalCapital::Product.all\n    transaction do\n      ec_products.each do |ec_product|\n        product = ElemetalCapitalProduct.where(id: ec_product.id).first_or_initialize\n        product.spot_id = ec_product.spot\n        product.goldtrex_markup = 25\n        product.description = ec_product.description\n        product.metal = ec_product.metal\n        product.weight = ec_product.weight\n        product.elemetal_capital_premium = ec_product.premiumBuy\n        product.save!\n      end\n    end\n</code></pre>\n\n<p>In the controller:</p>\n\n<pre><code>  def master_update\n    ElemetalCapitalProduct.update_products!\n    redirect_to elemetal_capital_products_path\n  end\n</code></pre>\n\n<h1>Problem</h1>\n\n<p>If I run that method in my local machine that works. However, when I deploy to heroku, and I try to use that method I got this error:</p>\n\n<pre><code>Started GET \"/elemetal_capital_products/elemetal_capital_api_dashboard\" for 101.176.220.53 at 2015-07-22 15:11:55 +0000\n2015-07-22T15:11:55.383259+00:00 app[web.1]:   User Load (2.0ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT 1  [[\"id\", 1]]\n2015-07-22T15:11:55.380497+00:00 app[web.1]: Processing by ElemetalCapitalProductsController#elemetal_capital_api_dashboard as HTML\n2015-07-22T15:11:55.386042+00:00 app[web.1]:   Rendered shared/_page_title.erb (0.1ms)\n2015-07-22T15:11:55.900630+00:00 heroku[router]: at=info method=GET path=\"/elemetal_capital_products/elemetal_capital_api_dashboard\" host=goldtrex.herokuapp.com request_id=a6b622f6-aa23-4a77-817f-deb3d236b7eb fwd=\"101.176.220.53\" dyno=web.1 connect=0ms service=524ms status=200 bytes=5498\n2015-07-22T15:11:55.886397+00:00 app[web.1]:   Rendered elemetal_capital_products/elemetal_capital_api_dashboard.html.erb within layouts/application (501.3ms)\n2015-07-22T15:11:55.888365+00:00 app[web.1]: Completed 200 OK in 508ms (Views: 504.2ms | ActiveRecord: 2.0ms)\n2015-07-22T15:11:57.753099+00:00 app[web.1]: Started POST \"/elemetal_capital_products/master_update\" for 101.176.220.53 at 2015-07-22 15:11:57 +0000\n2015-07-22T15:11:57.926609+00:00 app[web.1]:    (1.9ms)  BEGIN\n2015-07-22T15:11:57.944657+00:00 app[web.1]: \n2015-07-22T15:11:57.942913+00:00 app[web.1]:    (2.0ms)  ROLLBACK\n2015-07-22T15:11:57.944661+00:00 app[web.1]: NoMethodError (undefined method `spot_id=' for #&lt;ElemetalCapitalProduct:0x007f00909740b8&gt;):\n2015-07-22T15:11:57.944664+00:00 app[web.1]:   app/models/product.rb:95:in `each'\n2015-07-22T15:11:57.944663+00:00 app[web.1]:   app/models/product.rb:97:in `block (2 levels) in update_products!'\n2015-07-22T15:11:57.944665+00:00 app[web.1]:   app/models/product.rb:95:in `block in update_products!'\n2015-07-22T15:11:57.944667+00:00 app[web.1]:   app/models/product.rb:94:in `update_products!'\n2015-07-22T15:11:57.944668+00:00 app[web.1]:   app/controllers/elemetal_capital_products_controller.rb:34:in `master_update'\n2015-07-22T15:11:57.944670+00:00 app[web.1]: \n2015-07-22T15:11:57.944671+00:00 app[web.1]: \n2015-07-22T15:11:57.756503+00:00 app[web.1]: Processing by ElemetalCapitalProductsController#master_update as HTML\n2015-07-22T15:11:57.756599+00:00 app[web.1]:   Parameters: {\"authenticity_token\"=&gt;\"R8o+PLuoFdbHUttiEadQ1msEhOXt0TYZQz/bF6378zl2RdHVMePsYXH7fTPB5P///zSaKNWgrLOZSIN17D94eA==\"}\n2015-07-22T15:11:57.760060+00:00 app[web.1]:   User Load (2.1ms)  SELECT  \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT 1  [[\"id\", 1]]\n2015-07-22T15:11:57.933116+00:00 app[web.1]:   ElemetalCapitalProduct Load (2.2ms)  SELECT  \"products\".* FROM \"products\" WHERE \"products\".\"type\" IN ('ElemetalCapitalProduct') AND \"products\".\"id\" = $1  ORDER BY \"products\".\"id\" ASC LIMIT 1  [[\"id\", \"SBAR10-OPM\"]]\n2015-07-22T15:11:57.943605+00:00 app[web.1]: Completed 500 Internal Server Error in 187ms\n2015-07-22T15:11:57.951593+00:00 heroku[router]: at=info method=POST path=\"/elemetal_capital_products/master_update\" host=goldtrex.herokuapp.com request_id=075d778d-acfb-4438-9f0d-a59b5f409a16 fwd=\"101.176.220.53\" dyno=web.1 connect=1ms service=197ms status=500 bytes=1741\n</code></pre>\n\n<ul>\n<li>I have run the migrations on the production app and all of them are up.</li>\n</ul>\n\n<h1>Something strange</h1>\n\n<p>If I have to my rails console in heroku, and I type Product to see the attributes I can't see the spot_id</p>\n\n<pre><code>Product\n=&gt; Product(id: string, type: string, description: text, weight: decimal, metal: string, elemetal_capital_premium_cents: integer, goldtrex_markup_cents: integer, created_at: datetime, updated_at: datetime, shopify_id: integer)\n</code></pre>\n\n<p>But if I go to my local machine, I can see the spot_id:</p>\n\n<pre><code>[3] pry(main)&gt; Product\n=&gt; Product(id: string, type: string, description: text, weight: decimal, metal: string, spot_id: string, elemetal_capital_premium_cents: integer, goldtrex_markup_cents: integer, created_at: datetime, updated_at: datetime, shopify_id: integer)\n</code></pre>\n\n<p><strong><em>Could someone help me with this problem?</em></strong>, I compare the heroku code with my master branch, and they are the same. I'm thinking about running a migration to add spot_id, but it won't make sense because in the schema that relationship exists, however in the model apparently it doesn't exist. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ruby", "amazon-web-services", "amazon-s3", "aws-sdk"], "comments": [{"owner": {"reputation": 4001, "user_id": 599765, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/836ed996b63a770fb92cbe40ea29586a?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Schild", "link": "https://stackoverflow.com/users/599765/andr%c3%a9-schild"}, "edited": false, "score": 0, "creation_date": 1437579720, "post_id": 31567726, "comment_id": 51090965, "body": "Please format your question corretcly, and put in the error message(s) you receive"}, {"owner": {"reputation": 5175, "user_id": 4370109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcQgO.jpg?s=128&g=1", "display_name": "Brian Tompsett - \u6c64\u83b1\u6069", "link": "https://stackoverflow.com/users/4370109/brian-tompsett-%e6%b1%a4%e8%8e%b1%e6%81%a9"}, "edited": false, "score": 0, "creation_date": 1437581030, "post_id": 31567726, "comment_id": 51091915, "body": "I have fixed the question layout to improve readability."}, {"owner": {"reputation": 11, "user_id": 5144390, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LgWG-heL3i0/AAAAAAAAAAI/AAAAAAAAAD0/4JTU-Qqe2II/photo.jpg?sz=128", "display_name": "Antonio Calderon", "link": "https://stackoverflow.com/users/5144390/antonio-calderon"}, "edited": false, "score": 0, "creation_date": 1438028448, "post_id": 31567726, "comment_id": 51269643, "body": "Sorry for that, it was my first message!"}], "answers": [{"tags": [], "owner": {"reputation": 9234, "user_id": 4629810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-gcabh64Le4c/AAAAAAAAAAI/AAAAAAAAAQ8/GquVsg_lVoA/photo.jpg?sz=128", "display_name": "Mircea", "link": "https://stackoverflow.com/users/4629810/mircea"}, "is_accepted": false, "score": 1, "last_activity_date": 1437586720, "creation_date": 1437586720, "answer_id": 31570235, "question_id": 31567726, "link": "https://stackoverflow.com/questions/31567726/getting-readable-information-from-amazon-sdk-ruby/31570235#31570235", "title": "Getting readable information from Amazon sdk ruby", "body": "<p>Seahorse is part of the core of the SDK:\n<a href=\"https://github.com/aws/aws-sdk-ruby/tree/master/aws-sdk-core/lib/seahorse\" rel=\"nofollow\">https://github.com/aws/aws-sdk-ruby/tree/master/aws-sdk-core/lib/seahorse</a></p>\n\n<p>The clients of all the services are modeled to use the Base of this. </p>\n\n<p>Now back to your question:<br>\nYou get an \"empty\" response as in it does not conform to what the client base is used to. </p>\n\n<p>=== for <strong>get_bucket_location</strong> ===</p>\n\n<p>the way to get your bucket location is the following:</p>\n\n<pre><code>resp = s3.get_bucket_location(bucket: \"mybucketname\")\nputs resp.data.location_constraint\n</code></pre>\n\n<p>empty string means US Standard, per documentation here: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETlocation.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETlocation.html</a></p>\n\n<p>the code that monkey patches this in is here: <a href=\"https://github.com/aws/aws-sdk-ruby/blob/53712d3e4583c982837fb3a301fa2c67226a05ff/aws-sdk-core/lib/aws-sdk-core/plugins/s3_get_bucket_location_fix.rb\" rel=\"nofollow\">https://github.com/aws/aws-sdk-ruby/blob/53712d3e4583c982837fb3a301fa2c67226a05ff/aws-sdk-core/lib/aws-sdk-core/plugins/s3_get_bucket_location_fix.rb</a> </p>\n\n<p>== for <strong>get_bucket_login</strong> ==  </p>\n\n<p>I don't see this method on the client. If it's logging instead of login, you can see the response structure in the documentation: <a href=\"http://docs.aws.amazon.com/sdkforruby/api/Aws/S3/Client.html#get_bucket_logging-instance_method\" rel=\"nofollow\">http://docs.aws.amazon.com/sdkforruby/api/Aws/S3/Client.html#get_bucket_logging-instance_method</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5144390, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LgWG-heL3i0/AAAAAAAAAAI/AAAAAAAAAD0/4JTU-Qqe2II/photo.jpg?sz=128", "display_name": "Antonio Calderon", "link": "https://stackoverflow.com/users/5144390/antonio-calderon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437588358, "creation_date": 1437579322, "last_edit_date": 1437588358, "question_id": 31567726, "link": "https://stackoverflow.com/questions/31567726/getting-readable-information-from-amazon-sdk-ruby", "title": "Getting readable information from Amazon sdk ruby", "body": "<p>Maybe someone could help me with an issue while working with Amazon SDK for Ruby.</p>\n\n<p>When trying to retrieve information with commands like <code>\"get_bucket_login\"</code> or <code>\"get_bucket_location\"</code> what I get as a response is:</p>\n\n<pre><code>&lt;Seahorse::Client::Response:....&gt;\n</code></pre>\n\n<p>According to the documentation, these requests should return strings.\n    What am I missing? Someone found the same issue?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "authentication", "devise"], "answers": [{"comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1437579318, "post_id": 31567579, "comment_id": 51090676, "body": "<code>current_user.projects.find(params[:id])</code>"}, {"owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "edited": false, "score": 0, "creation_date": 1437582446, "post_id": 31567579, "comment_id": 51092833, "body": "This method helped me authenticate. Is there any way to do with the URL issue?"}], "tags": [], "owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "is_accepted": false, "score": 2, "last_activity_date": 1437579351, "last_edit_date": 1437579351, "creation_date": 1437578947, "answer_id": 31567579, "question_id": 31567385, "link": "https://stackoverflow.com/questions/31567385/only-users-that-created-their-own-project-can-see-the-edit-page-and-actually-edi/31567579#31567579", "title": "Only users that created their own project can see the edit page and actually edit", "body": "<p>In your projects controller, add devise's authentication:</p>\n\n<pre><code>before_action :authenticate_user!, only: [:edit, :update]\n</code></pre>\n\n<p>This will ensure that the user is logged in when trying to view the edit page.</p>\n\n<p>Next, you want to ensure that the logged-in user is the owner of the project.</p>\n\n<p>To do this, you'll need to modify the <code>edit</code> and <code>update</code> methods to find the <code>project</code> by more than just the params:</p>\n\n<pre><code>def edit\n  @project = current_user.projects.find(params[:id])\n  #...\nend\n\ndef update\n  @project = current_user.projects.find(params[:id])\n  #...\nend\n</code></pre>\n\n<p>Now, only the <code>current_user</code> who owns the project can view the edit page and send the updates.</p>\n\n<hr>\n\n<p><strong>Bonus points:</strong> If you want to refactor the code above and not use the same \"@project = \" line twice, you can create another <code>before_action</code> which will assign the @project for both <code>edit</code> and <code>update</code>:</p>\n\n<pre><code>before_action :authenticate_user!,   only: [:edit, :update]\nbefore_action :find_project_by_user, only: [:edit, :update]\n\nprivate\n\n  def find_project_by_user\n    @project = current_user.projects.find(params[:id])\n  end\n</code></pre>\n\n<p>Doing this, you won't have to add the same \"@project = \" line into both the <code>edit</code> and <code>update</code> methods.</p>\n"}, {"comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1437579916, "post_id": 31567839, "comment_id": 51091097, "body": "why downvote? pundit is a good recommendation with regards to defining who can do what. +1"}], "tags": [], "owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "is_accepted": false, "score": 0, "last_activity_date": 1437579607, "creation_date": 1437579607, "answer_id": 31567839, "question_id": 31567385, "link": "https://stackoverflow.com/questions/31567385/only-users-that-created-their-own-project-can-see-the-edit-page-and-actually-edi/31567839#31567839", "title": "Only users that created their own project can see the edit page and actually edit", "body": "<p>What you really want is to move beyond authentication, into authorization.  Authentication validates that the user is who they say they are.  Authorization validates that a user is allowed to perform a specific action on a specific object.  Check out the <a href=\"https://github.com/elabs/pundit\" rel=\"nofollow\">Pundit Gem.</a>.  Its really simple and easy to use.</p>\n"}, {"comments": [{"owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "edited": false, "score": 0, "creation_date": 1437582145, "post_id": 31567852, "comment_id": 51092650, "body": "So I changed the routes per your suggestion, however, I&#39;m getting this: <code>user_projects GET    &#47;users&#47;:user_id&#47;projects(.:format)          projects#index</code> I want to be able to eliminate, the <code>&#47;users&#47;</code> and just have <code>&#47;:user_id&#47;projects</code> (I&#39;m sure this :user_id can be changed to the username? But also, I want everyone to be able to view the projects, and only the user who created certain projects edit them."}, {"owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "edited": false, "score": 0, "creation_date": 1437582392, "post_id": 31567852, "comment_id": 51092799, "body": "I was able to implement @WesFoster answer below to get the user authenticating about editing and updating, but just wanted to redo the URL issue"}, {"owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "edited": false, "score": 0, "creation_date": 1437602968, "post_id": 31567852, "comment_id": 51104592, "body": "I&#39;m not sure what you mean, the project_controller should be under user? So I should create a user folder and just put this controller under that? Isn&#39;t there an easier way? I&#39;m thinking like maybe <code>get &#39;:username&#47;:project_id&#39; =&gt; &#39;project#show&#39;</code> or something? I tried to do nested routes, but there are a few broken errors, so Im thinking of other possibilities? Or is this the best way to do it?"}, {"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "reply_to_user": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "edited": false, "score": 0, "creation_date": 1437648396, "post_id": 31567852, "comment_id": 51122388, "body": "@hellomello actually nesting controllers under corresponding folders and then creating nested routes with automatically generated routes (not manually set) is what RESTful resources are about :)"}], "tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": true, "score": 1, "last_activity_date": 1437582732, "last_edit_date": 1437582732, "creation_date": 1437579646, "answer_id": 31567852, "question_id": 31567385, "link": "https://stackoverflow.com/questions/31567385/only-users-that-created-their-own-project-can-see-the-edit-page-and-actually-edi/31567852#31567852", "title": "Only users that created their own project can see the edit page and actually edit", "body": "<blockquote>\n  <p>Maybe I need to somehow do localhost:3000/projects/username1/24 or\n  something? And then if they edit, it'll be\n  <code>localhost:3000/projects/username1/24/edit</code>.... How can I accomplish\n  this?</p>\n</blockquote>\n\n<p>Since user has many projects, you would probably want the url of the type:</p>\n\n<pre><code>localhost:3000/users/1/projects/2/edit\n</code></pre>\n\n<p>To accomplish this you would need the following setup:</p>\n\n<pre><code>#routes.rb\n\nresources :users, shallow: true do # notice shallow, it will eliminate users/ from the path, but as I'm not mistaken /user_id/ as well..\n  resources :projects\nend\n</code></pre>\n\n<p>The controller projects should be put under:</p>\n\n<pre><code>app/controllers/users/projects_controller.rb\n</code></pre>\n\n<p>and it should look like</p>\n\n<pre><code>class Users\n  class Projects\n    #...\n  end\nend\n</code></pre>\n\n<p>With this setup you'll ensure, that user only see his projects.</p>\n\n<pre><code>def index\n  @projects = Projects.all # user can see all projects\n  #...\nend\n\ndef show\n  @project = Projects.find(params[:project_id])\n  #...\nend\n\ndef edit\n  @project = current_user.projects.find(params[:project_id]) # can edit only those, which he associated with\n  # ...\nend\n</code></pre>\n\n<p>And just make sure you are making the link_to edit visible only for the user who can edit.</p>\n\n<p>As to paths:</p>\n\n<p>there are two options:</p>\n\n<pre><code>resources :users, path: '' do # will hide the users part from path\n  #...\nend\nresources :users, shallow: true do # will actually also hide the users/user_id part\n  #...\nend\n</code></pre>\n"}], "owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 31567852, "answer_count": 3, "score": 0, "last_activity_date": 1437582732, "creation_date": 1437578437, "question_id": 31567385, "link": "https://stackoverflow.com/questions/31567385/only-users-that-created-their-own-project-can-see-the-edit-page-and-actually-edi", "title": "Only users that created their own project can see the edit page and actually edit", "body": "<p>Is there an easy way to allow users who created their own project able to edit their work?</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n  belongs_to :user\nend\n\nclass User &lt; ActiveRecord::Base\n  has_many :projects\nend\n</code></pre>\n\n<p>How do I check if the <code>current_user</code> that is logged in can actually edit their stuff?</p>\n\n<p>If my projects URL's are something like <code>localhost:3000/projects/24</code>, I want only the user who created this project can go into <code>localhost:3000/projects/24/edit</code> to view the page and actually edit... </p>\n\n<hr>\n\n<p>At this time of writing, now I'm thinking this might not be he best way? Maybe I need to somehow do <code>localhost:3000/projects/username1/24</code> or something? And then if they edit, it'll be <code>localhost:3000/projects/username1/24/edit</code>.... How can I accomplish this?</p>\n\n<p>My routes:</p>\n\n<pre><code>Rails.application.routes.draw do\n  devise_for :users\n  get 'users/:id' =&gt; 'users#show', as: :user\n  resources :projects\nend\n</code></pre>\n\n<p>My controller is just basic stuff from scaffolding</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 700467, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f0a454d0f5002eea5f0b7d98596b4ac1?s=128&d=identicon&r=PG&f=1", "display_name": "captain awesome", "link": "https://stackoverflow.com/users/700467/captain-awesome"}, "edited": false, "score": 0, "creation_date": 1437580043, "post_id": 31567440, "comment_id": 51091196, "body": "Thanks for your response. You posted: <code>self[:time_duration] = hours.to_i + minutes.to_i</code>. This did not convert correctly. I corrected this by doing: <code>self[:time_duration] = hours.hour.to_i + minutes.minute.to_i</code> and it worked. :)"}, {"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "reply_to_user": {"reputation": 349, "user_id": 700467, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f0a454d0f5002eea5f0b7d98596b4ac1?s=128&d=identicon&r=PG&f=1", "display_name": "captain awesome", "link": "https://stackoverflow.com/users/700467/captain-awesome"}, "edited": false, "score": 1, "creation_date": 1437584685, "post_id": 31567440, "comment_id": 51094143, "body": "Ahh, you&#39;re right, I overlooked that. Glad it helped! I&#39;ll update the answer"}, {"owner": {"reputation": 349, "user_id": 700467, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f0a454d0f5002eea5f0b7d98596b4ac1?s=128&d=identicon&r=PG&f=1", "display_name": "captain awesome", "link": "https://stackoverflow.com/users/700467/captain-awesome"}, "edited": false, "score": 0, "creation_date": 1437584969, "post_id": 31567440, "comment_id": 51094321, "body": "Is there a way I can mass populate the <code>time_duration</code> column with the values already stored in the <code>minutes</code> and <code>hours</code> column? There&#39;s a lot of house keeping I may have to do. Was hoping a way to convert the data already in the <code>hours</code> and <code>minutes</code> column, convert them to seconds then mass populate the <code>time_duration</code> column."}, {"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "reply_to_user": {"reputation": 349, "user_id": 700467, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f0a454d0f5002eea5f0b7d98596b4ac1?s=128&d=identicon&r=PG&f=1", "display_name": "captain awesome", "link": "https://stackoverflow.com/users/700467/captain-awesome"}, "edited": false, "score": 0, "creation_date": 1437585204, "post_id": 31567440, "comment_id": 51094447, "body": "I&#39;ll add a solution for you to the answer"}], "tags": [], "owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "is_accepted": true, "score": 1, "last_activity_date": 1437585372, "last_edit_date": 1437585372, "creation_date": 1437578607, "answer_id": 31567440, "question_id": 31567307, "link": "https://stackoverflow.com/questions/31567307/rails-convert-hours-and-minutes-to-seconds-then-assign-value-to-key/31567440#31567440", "title": "Rails - Convert hours and minutes to seconds then assign value to key", "body": "<p>First, you can remove the hidden <code>time_duration</code> field from the form, since it is not needed.</p>\n\n<p>Then, you'll create a <code>before_save</code> method for your car model:</p>\n\n<p><strong>car.rb</strong></p>\n\n<pre><code>class Car &lt; ActiveRecord::Base\n  belongs_to :service\n  belongs_to :tech\n  has_many :appointments \n\n  before_save :generate_time_duration\n\n  def generate_time_duration\n    self[:time_duration] = hours.hours.to_i + minutes.minutes.to_i\n  end\nend\n</code></pre>\n\n<p><strong>What this does:</strong> Before the car object is saved, it will run the <code>generate_time_duration</code> method. What this method does is it simply sums the <code>hours.to_i</code> and <code>minutes.to_i</code> and assigns it to the car's <code>time_duration</code> attribute.</p>\n\n<hr>\n\n<p><strong>Update old DB records</strong></p>\n\n<p>Since you're adding this functionality in your application AFTER records have already been created, here is a quick way to update all of your current records:</p>\n\n<ol>\n<li>In your command line, open a rails console by running the command <code>rails c</code> (or <code>rails console</code>)</li>\n<li>In the console, run this command: <code>Car.all.each { |c| c.save! }</code></li>\n</ol>\n\n<p>This is a quick, one-time fix that will loop through all Car records, save them, and subsequently update their <code>time_duration</code> fields.</p>\n"}], "owner": {"reputation": 349, "user_id": 700467, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f0a454d0f5002eea5f0b7d98596b4ac1?s=128&d=identicon&r=PG&f=1", "display_name": "captain awesome", "link": "https://stackoverflow.com/users/700467/captain-awesome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 1, "accepted_answer_id": 31567440, "answer_count": 1, "score": 2, "last_activity_date": 1437585372, "creation_date": 1437578273, "question_id": 31567307, "link": "https://stackoverflow.com/questions/31567307/rails-convert-hours-and-minutes-to-seconds-then-assign-value-to-key", "title": "Rails - Convert hours and minutes to seconds then assign value to key", "body": "<p>I would like to combine both values <code>:hours</code> and <code>:minutes</code> and convert them to <code>to_i</code> in seconds. Next is to assign this value (which should be in seconds) to the <code>:time_duration</code> which is a column in the <code>cars</code> db before it creates a new <code>service</code>. The <code>:time_duration</code> is in a <code>hidden_field</code> because there's no reason to render this data in the view.</p>\n\n<blockquote>\n  <p><strong>views</strong></p>\n</blockquote>\n\n<p>This is my <code>_car_fields.html.erb</code> which is a nested partial inside a view template called, <code>_form.html.erb</code> .</p>\n\n<p><strong>_car_fields.html.erb</strong></p>\n\n<pre><code>&lt;div class=\"nested-fields\"&gt;\n  &lt;div class=\"field\"&gt;\n        &lt;%= f.label :name %&gt;&lt;br&gt;\n        &lt;%= f.text_field :name %&gt;&lt;br&gt;\n        &lt;%= f.label :hours %&gt;\n        &lt;%= f.select :hours, '0'..'8' %&gt;\n        &lt;%= f.label :minutes %&gt;\n        &lt;%= f.select :minutes, options_for_select( (0..45).step(15), selected: f.object.minutes )%&gt;&lt;br&gt;\n        &lt;%= f.label :price %&gt;&lt;br&gt;\n        &lt;%= f.text_field :price, :value =&gt; (number_with_precision(f.object.price, :precision =&gt; 2) || 0) %&gt; &lt;br&gt;\n        &lt;%= f.label :details %&gt;&lt;br&gt;\n        &lt;%= f.text_area :details %&gt;&lt;/div&gt;\n    &lt;%= link_to_remove_association \"Remove Car\", f, class: 'btn btn-default' %&gt;\n   &lt;%= f.hidden_field :time_duration, value: %&gt;\n  &lt;br&gt;\n    &lt;hr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>_form.html.erb</strong></p>\n\n<pre><code>&lt;%= simple_form_for @service do |f| %&gt;\n  &lt;div class=\"field\"&gt;\n\n    &lt;%= f.label \"Select service category\" %&gt;\n    &lt;br&gt;\n\n    &lt;%= collection_select(:service, :service_menu_id, ServiceMenu.all, :id, :name, {:prompt =&gt; true }) %&gt;\n\n    &lt;%= f.fields_for :cars do |task| %&gt;\n      &lt;%= render 'car_fields', :f =&gt; task %&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"links\"&gt;\n    &lt;%= link_to_add_association 'Add New Car', f, :cars, class: 'btn btn-default' %&gt;\n  &lt;/div&gt;&lt;br&gt;\n\n  &lt;div class=\"actions\"&gt;\n    &lt;%= f.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><strong>controller</strong></p>\n</blockquote>\n\n<p><strong>services_controller</strong></p>\n\n<pre><code>def new\n    @service = current_tech.services.build\n  end\n\n  def create\n    @service = current_tech.services.build(service_params)\n\n    respond_to do |format|\n      if @service.save\n        format.html { redirect_to @service, notice: 'Service was successfully created.' }\n        format.json { render :show, status: :created, location: @service }\n      else\n        format.html { render :new }\n        format.json { render json: @service.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  private\n\n    def service_params\n      params.require(:service).permit(:name, :service_menu_id, cars_attributes: [:tech_id, :name, :hours, :minutes, :price, :details, :_destroy])\n    end\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><strong>models</strong></p>\n</blockquote>\n\n<p><strong>service.rb</strong></p>\n\n<pre><code>class Service &lt; ActiveRecord::Base  \n    belongs_to :tech\n    belongs_to :service_menu\n    has_many :cars, dependent: :destroy\n    accepts_nested_attributes_for :cars, :reject_if =&gt; :all_blank, :allow_destroy =&gt; true\nend\n</code></pre>\n\n<p><strong>car.rb</strong></p>\n\n<pre><code>class Car&lt; ActiveRecord::Base\n  belongs_to :service\n  belongs_to :tech\n  has_many :appointments \nend\n</code></pre>\n"}, {"tags": ["ruby", "macos", "jekyll"], "comments": [{"owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "edited": false, "score": 0, "creation_date": 1437587299, "post_id": 31567029, "comment_id": 51095695, "body": "could u try reinstall Xcode CLI tools? Also, try something like this here, which also requires a reinstall: <a href=\"http://jtimberman.housepub.org/blog/2012/02/26/xcode-command-line-tools/\" rel=\"nofollow noreferrer\">jtimberman.housepub.org/blog/2012/02/26/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "edited": false, "score": 0, "creation_date": 1437578435, "post_id": 31567086, "comment_id": 51090027, "body": "I get the error <code>sh: prompt_git: command not found</code> on <code>sudo su</code>"}, {"owner": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "edited": false, "score": 0, "creation_date": 1437578708, "post_id": 31567086, "comment_id": 51090241, "body": "Is this probably related to an erroneous PATH variable?"}, {"owner": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "edited": false, "score": 0, "creation_date": 1437586531, "post_id": 31567086, "comment_id": 51095243, "body": "Seems to return the same error! I&#39;m guessing that there is no support for OSX 10.11?"}, {"owner": {"reputation": 45, "user_id": 4095653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b3e440d9f65f7f7158bfc158197bf6?s=128&d=identicon&r=PG&f=1", "display_name": "Krypte", "link": "https://stackoverflow.com/users/4095653/krypte"}, "reply_to_user": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "edited": false, "score": 0, "creation_date": 1437638427, "post_id": 31567086, "comment_id": 51115995, "body": "I don&#39;t think it has anything to do with OXS version"}], "tags": [], "owner": {"reputation": 45, "user_id": 4095653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b3e440d9f65f7f7158bfc158197bf6?s=128&d=identicon&r=PG&f=1", "display_name": "Krypte", "link": "https://stackoverflow.com/users/4095653/krypte"}, "is_accepted": false, "score": -3, "last_activity_date": 1437577677, "creation_date": 1437577677, "answer_id": 31567086, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/31567086#31567086", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>Try :</p>\n\n<pre><code> sudo su\n</code></pre>\n\n<p>Enter your password, try again as root <code>gem install jekyll</code></p>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "is_accepted": false, "score": 0, "last_activity_date": 1437646119, "last_edit_date": 1495535494, "creation_date": 1437646119, "answer_id": 31584266, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/31584266#31584266", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>It seems this was an OS specific issue. I found a similar issue here, and the answer I found here helped solve the problem :\n<a href=\"https://stackoverflow.com/questions/30812777/cannot-install-cocoa-pods-after-uninstalling-results-in-error\">Cannot install cocoa pods after uninstalling, results in error</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5334805, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205698446514539/picture?type=large", "display_name": "Leif Niemczik", "link": "https://stackoverflow.com/users/5334805/leif-niemczik"}, "is_accepted": false, "score": 0, "last_activity_date": 1442250030, "creation_date": 1442250030, "answer_id": 32570066, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/32570066#32570066", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>I ran into the same error message.</p>\n\n<p>Solved for me by installing ruby from brew.</p>\n"}, {"comments": [{"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 2, "creation_date": 1444678070, "post_id": 32783830, "comment_id": 53993607, "body": "Good answers <i>explain</i> as well as provide code. Consider updating your answer to include an explanation about how this code works and why it is the best option."}, {"owner": {"reputation": 643, "user_id": 591483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a82da14e110b77088972d84fa9d12bce?s=128&d=identicon&r=PG", "display_name": "Ian Howson", "link": "https://stackoverflow.com/users/591483/ian-howson"}, "edited": false, "score": 0, "creation_date": 1469489271, "post_id": 32783830, "comment_id": 64546882, "body": "Disabling SIP just for Jekyll might be a little excessive."}], "tags": [], "owner": {"reputation": 1, "user_id": 2757385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c4cb64e1d72a2977566a602467a9dbb?s=128&d=identicon&r=PG&f=1", "display_name": "jkw", "link": "https://stackoverflow.com/users/2757385/jkw"}, "is_accepted": false, "score": 0, "last_activity_date": 1444641728, "last_edit_date": 1444641728, "creation_date": 1443189364, "answer_id": 32783830, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/32783830#32783830", "title": "How can I install Jekyll on OSX 10.11?", "body": "<pre><code>sudo nvram boot-args=\"rootless=0\"; sudo reboot\nreboot\nsudo gem install jekyll -V\ncd into directory\njekyll serve --watch\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15523, "user_id": 274502, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c6768f8be92fe851f2a5502fb9845778?s=128&d=identicon&r=PG", "display_name": "cregox", "link": "https://stackoverflow.com/users/274502/cregox"}, "edited": false, "score": 0, "creation_date": 1451297626, "post_id": 32950829, "comment_id": 56724702, "body": "+1 for the SIP link. @blessing answer is what actually did the trick for me: <code>sudo gem install -n &#47;usr&#47;local&#47;bin&#47; jekyll</code>"}, {"owner": {"reputation": 558, "user_id": 9959070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EVl0F.jpg?s=128&g=1", "display_name": "Kris Stern", "link": "https://stackoverflow.com/users/9959070/kris-stern"}, "edited": false, "score": 0, "creation_date": 1582900837, "post_id": 32950829, "comment_id": 106946970, "body": "Thanks for the suggestion for trying to install the latest version of Ruby for using Jekyll, it wasn&#39;t working for me with a slightly older version of Ruby before, now it works! Massive thanks!"}], "tags": [], "owner": {"reputation": 2108, "user_id": 1463384, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/vBt5b.jpg?s=128&g=1", "display_name": "thatuxguy", "link": "https://stackoverflow.com/users/1463384/thatuxguy"}, "is_accepted": false, "score": 10, "last_activity_date": 1446456116, "last_edit_date": 1446456116, "creation_date": 1444054636, "answer_id": 32950829, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/32950829#32950829", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>Apple has added System Integrity Protection (SIP) to increase security. This means that Jekyll has been effected as it uses the default Ruby install.\n<a href=\"http://www.macworld.com/article/2948140/os-x/private-i-el-capitans-system-integrity-protection-will-shift-utilities-functions.html\">More details on SIP</a>.</p>\n\n<p>To get around this other users have been installing the Homebrew version. It's also likely that Jekyll v3.0 will start to move towards using this version too.</p>\n\n<ul>\n<li><p>Install the Xcode command line utilities:</p>\n\n<pre><code>xcode-select --install\n</code></pre></li>\n<li><p>Install Homebrew (instructions at <a href=\"http://brew.sh\">http://brew.sh</a>)</p></li>\n<li><p>Modify <code>$PATH</code> to use Homebrew:</p>\n\n<pre><code>export PATH=/usr/local/bin:$PATH\n</code></pre></li>\n<li><p>Modify <code>$PATH</code> for GUI apps:</p>\n\n<pre><code>launchctl setenv PATH \"/usr/local/bin:$PATH\"\n</code></pre></li>\n<li><p>Install the latest Ruby:</p>\n\n<pre><code>brew install ruby\n</code></pre></li>\n<li><p>Install the latest Jekyll:</p>\n\n<pre><code>gem install jekyll\n</code></pre></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 828, "user_id": 435811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FvLtO.png?s=128&g=1", "display_name": "gutierrezalex", "link": "https://stackoverflow.com/users/435811/gutierrezalex"}, "edited": false, "score": 0, "creation_date": 1447262363, "post_id": 33059347, "comment_id": 55085467, "body": "This worked for me from <a href=\"http://jekyllrb.com/docs/troubleshooting/#jekyll-amp-mac-os-x-1011\" rel=\"nofollow noreferrer\">jekyllrb.com/docs/troubleshooting/#jekyll-amp-mac-os-x-1011</a>"}, {"owner": {"reputation": 15523, "user_id": 274502, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c6768f8be92fe851f2a5502fb9845778?s=128&d=identicon&r=PG", "display_name": "cregox", "link": "https://stackoverflow.com/users/274502/cregox"}, "edited": false, "score": 0, "creation_date": 1451298230, "post_id": 33059347, "comment_id": 56725039, "body": "This also work for <a href=\"https://help.github.com/articles/using-jekyll-with-pages/\" rel=\"nofollow noreferrer\">installing bundler</a>!! :D"}], "tags": [], "owner": {"reputation": 560, "user_id": 4420046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W8hz5.jpg?s=128&g=1", "display_name": "Blessing Lopes", "link": "https://stackoverflow.com/users/4420046/blessing-lopes"}, "is_accepted": true, "score": 28, "last_activity_date": 1453232780, "last_edit_date": 1453232780, "creation_date": 1444514066, "answer_id": 33059347, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/33059347#33059347", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>This is a side effect of Apple's new rootless (aka System Integrity Protection or SIP) feature in OS X El Capitan, but it does not affect <strong>/usr/local/bin</strong>.</p>\n\n<p>You might try the following: </p>\n\n<pre><code>sudo gem install -n /usr/local/bin/ jekyll\n</code></pre>\n\n<p>This tells gem to install Jekyll into a folder that isn't protected by SIP, rather than the default protected location under <code>/Library/Ruby/Gems</code>.</p>\n\n<p>This is the <a href=\"http://jekyllrb.com/docs/troubleshooting/#jekyll-amp-mac-os-x-1011\" rel=\"noreferrer\">solution suggested by Jekyll's developers</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1445028078, "post_id": 33077501, "comment_id": 54165612, "body": "Generally you don&#39;t need sudo for brew"}], "tags": [], "owner": {"reputation": 12398, "user_id": 1236396, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce25695d3aa46e5a3cc20d5924b7fc24?s=128&d=identicon&r=PG", "display_name": "Koen Peters", "link": "https://stackoverflow.com/users/1236396/koen-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1444641685, "last_edit_date": 1492087506, "creation_date": 1444641685, "answer_id": 33077501, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/33077501#33077501", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>The new El Capitan version of OS X has a new technology called <a href=\"https://en.wikipedia.org/wiki/System_Integrity_Protection\" rel=\"nofollow noreferrer\">SIP</a> that won't let users (even when using <code>sudo</code>) write to the <code>/usr/bin</code> folder. This breaks the install process. You can <a href=\"https://apple.stackexchange.com/questions/208478/how-do-i-disable-system-integrity-protection-sip-aka-rootless-on-max-os-x-el\">disable SIP</a>, but I'd prefer to keep it on since it provides protection against bad stuff. </p>\n\n<p>SIP does allow writing in the <code>/usr/local</code> folder so what I did was manually install ruby there using brew and then install jekyll. That worked fine. </p>\n\n<pre><code>sudo brew install ruby\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4064, "user_id": 5389500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uLAJ9.png?s=128&g=1", "display_name": "Sentry.co", "link": "https://stackoverflow.com/users/5389500/sentry-co"}, "is_accepted": false, "score": 1, "last_activity_date": 1469204027, "last_edit_date": 1489747555, "creation_date": 1451812163, "answer_id": 34574936, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/34574936#34574936", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>Don't install Jekyll with Homebrew, The security of Homebrew is unknown : <a href=\"https://security.stackexchange.com/questions/105088/osx-homebrew-security-risks\">https://security.stackexchange.com/questions/105088/osx-homebrew-security-risks</a></p>\n\n<p>Here is how you install it without homeBrew: with a vanilla OSX el cap: <a href=\"http://digitalshore.io/how-to-install-jekyll-mac-os-x-el-capitan/\" rel=\"nofollow noreferrer\">http://digitalshore.io/how-to-install-jekyll-mac-os-x-el-capitan/</a></p>\n\n<h2>Update 1:</h2>\n\n<p>The only drawback is that you have to type in your password everytime you use sudo, which isnt a big deal. I rather do that than install more dependencies. You should host your Jekyll config on github anyway, that way you wont have to deal with the command line at all. Here is my article on how to set Jekyll up with github: <a href=\"http://stylekit.org/blog/2016/01/06/The-Jekyll-Setup/\" rel=\"nofollow noreferrer\">http://stylekit.org/blog/2016/01/06/The-Jekyll-Setup/</a></p>\n\n<h2>Update 2:</h2>\n\n<p>Since then i've made a 30 second video tutorial on how you can setup a jekyll blog on github: <a href=\"https://vimeo.com/154566844\" rel=\"nofollow noreferrer\">https://vimeo.com/154566844</a></p>\n"}, {"tags": [], "owner": {"reputation": 9244, "user_id": 2397550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iAb8N.jpg?s=128&g=1", "display_name": "JoostS", "link": "https://stackoverflow.com/users/2397550/joosts"}, "is_accepted": false, "score": 0, "last_activity_date": 1503390188, "creation_date": 1503390188, "answer_id": 45812485, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11/45812485#45812485", "title": "How can I install Jekyll on OSX 10.11?", "body": "<p>If you cannot get it to work you can always try Cloud9. </p>\n\n<p>Cloud9 offers a full development environment in the cloud (running Linux). Their IDE is also quite good and their environments are also very useful for collaboration. Setting up Git is really simple (using the 'git clone' command). With Cloud9 you will be able to work from any computer with a browser, without installing anything.</p>\n\n<ol>\n<li>create a free account on Cloud9 (<a href=\"https://c9.io\" rel=\"nofollow noreferrer\">https://c9.io</a>)</li>\n<li>create an empty project (Ubuntu) and follow these steps: </li>\n<li>type on the command line: gem install jekyll</li>\n<li>create an empty _config.yml file in the root</li>\n<li>create a index.md file in the root</li>\n<li>type on the command line: jekyll serve --host $IP --port $PORT --baseurl ''</li>\n<li>your website is now running 'locally' on Cloud9</li>\n</ol>\n\n<p>The content of your index.md file:</p>\n\n<pre><code>---\ntitle: Home\n---\n\nHello world!\n</code></pre>\n\n<p>With Cloud9 you can develop on Linux and feel like a pro. Try it! You will love it.</p>\n"}], "owner": {"reputation": 323, "user_id": 3947292, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/51af5b7f0b884eea6421e3c4ac357248?s=128&d=identicon&r=PG&f=1", "display_name": "lenignes", "link": "https://stackoverflow.com/users/3947292/lenignes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7146, "favorite_count": 10, "accepted_answer_id": 33059347, "answer_count": 9, "score": 18, "last_activity_date": 1503390188, "creation_date": 1437577544, "question_id": 31567029, "link": "https://stackoverflow.com/questions/31567029/how-can-i-install-jekyll-on-osx-10-11", "title": "How can I install Jekyll on OSX 10.11?", "body": "<pre><code>ERROR:  While executing gem ... (Errno::EPERM)\nOperation not permitted - /usr/bin/jekyll\n</code></pre>\n\n<p>I'm getting a permission error on trying to install Jekyll. I'm currently running OSX 10.11 (El Capitan). I also have Xcode 7 and have installed the developer tools. Is there a workaround or is this an OS specific issue?</p>\n"}, {"tags": ["ruby", "rubymine", "rubymine-7"], "comments": [{"owner": {"reputation": 74087, "user_id": 214790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f878c8230342730990acd21f889301d4?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/214790/matt"}, "edited": false, "score": 1, "creation_date": 1437587177, "post_id": 31566906, "comment_id": 51095642, "body": "The UTF-8 representation of <code>\ufb20</code> is the three bytes <code>xEF</code>, <code>xAC</code>, <code>xA0</code>. Those three bytes interpreted as ISO-8859-1 are <code>&#239;&#172; </code> (where the last character is non-breaking space). So it looks like your IDE is using ISO-8859-1 (or Window-1252) when displaying the bytes from Ruby."}], "answers": [{"tags": [], "owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "is_accepted": false, "score": 0, "last_activity_date": 1437580647, "creation_date": 1437580647, "answer_id": 31568213, "question_id": 31566906, "link": "https://stackoverflow.com/questions/31566906/print-unicode-charcater-to-rubymine-console/31568213#31568213", "title": "print unicode charcater to Rubymine console", "body": "<p>Try encoding the character in ruby, and then printing it. </p>\n\n<pre><code>symbol = \"\\ufb20\"\nputs symbol.encode('utf-16')\n</code></pre>\n\n<p>And change Rubymine to be encoded in UTF-16</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2993456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437580647, "creation_date": 1437577252, "last_edit_date": 1437580512, "question_id": 31566906, "link": "https://stackoverflow.com/questions/31566906/print-unicode-charcater-to-rubymine-console", "title": "print unicode charcater to Rubymine console", "body": "<p>So I want to print a hebrew character, unicode value of <code>\\u{fb20}</code> into the Rubymine console, the common output where <code>hello world</code> would typically go if you were to just run <code>puts 'hello world'</code>.</p>\n\n<p>The code I am trying to run is just <code>puts \"\\u{fb20}\"</code>, nothing crazy. </p>\n\n<p>Rubymine is set to default system encoding for both projectg and IDE levels, and I have tried setting the encoding to UTF-8 and UTF-16, but neither of these three setting will simply print this character correctly to the console.</p>\n\n<p>I get <code>\u00ef\u00ac\u00a0</code> printed to the console at the moment, which is not the right character. The right character is <code>\ufb20</code>.</p>\n"}, {"tags": ["arrays", "ruby", "json", "csv"], "comments": [{"owner": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 0, "creation_date": 1437578125, "post_id": 31566789, "comment_id": 51089783, "body": "try using <code>wb</code> when opening csv for writing"}, {"owner": {"reputation": 292, "user_id": 2710983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c80d7567e3b4e47daa4e9f69e29ec1fc?s=128&d=identicon&r=PG&f=1", "display_name": "daneasterman", "link": "https://stackoverflow.com/users/2710983/daneasterman"}, "reply_to_user": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 0, "creation_date": 1437578276, "post_id": 31566789, "comment_id": 51089906, "body": "On second thoughts probably flatten isn&#39;t the best method to use, the format for how I think the JSON needs to look to be ready for CSV is in this gist: <a href=\"https://gist.github.com/daneasterman/5b49c30b85d33fced965\" rel=\"nofollow noreferrer\">gist.github.com/daneasterman/5b49c30b85d33fced965</a>"}, {"owner": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 0, "creation_date": 1437578331, "post_id": 31566789, "comment_id": 51089948, "body": "Well, yeah. As @Martin mentioned in this answer - nested hash need different approach."}, {"owner": {"reputation": 292, "user_id": 2710983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c80d7567e3b4e47daa4e9f69e29ec1fc?s=128&d=identicon&r=PG&f=1", "display_name": "daneasterman", "link": "https://stackoverflow.com/users/2710983/daneasterman"}, "reply_to_user": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 0, "creation_date": 1437578558, "post_id": 31566789, "comment_id": 51090124, "body": "any idea what approach I need to use @konart?"}, {"owner": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 0, "creation_date": 1437579503, "post_id": 31566789, "comment_id": 51090797, "body": "The very first thing that comes to mind is to create you own hash object with keys you need and map it with json object&#39;s key values while unpacking nested hashes."}], "answers": [{"tags": [], "owner": {"reputation": 2177, "user_id": 684133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e34bba8a34fc266d15ab1cebafd0a2?s=128&d=identicon&r=PG", "display_name": "Martin Vidner", "link": "https://stackoverflow.com/users/684133/martin-vidner"}, "is_accepted": false, "score": 3, "last_activity_date": 1437578023, "creation_date": 1437578023, "answer_id": 31567213, "question_id": 31566789, "link": "https://stackoverflow.com/questions/31566789/cant-flatten-json-array-to-prepare-for-csv-conversion-using-ruby-2-1-4/31567213#31567213", "title": "Can&#39;t flatten JSON array to prepare for CSV conversion using Ruby 2.1.4", "body": "<p><a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-flatten\" rel=\"nofollow\"><code>Array#flatten</code></a> only flattens arrays. There is also <a href=\"http://ruby-doc.org/core-2.2.0/Hash.html#method-i-flatten\" rel=\"nofollow\"><code>Hash#flatten</code></a>, which also produces an array. You seem to want to flatten a nested Hash for which I don't know of a library method.</p>\n\n<p>It seems that your result is empty because there's an <code>.each</code> missing after the <code>flatten</code> - the block is simply not run.</p>\n"}, {"comments": [{"owner": {"reputation": 292, "user_id": 2710983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c80d7567e3b4e47daa4e9f69e29ec1fc?s=128&d=identicon&r=PG&f=1", "display_name": "daneasterman", "link": "https://stackoverflow.com/users/2710983/daneasterman"}, "edited": false, "score": 0, "creation_date": 1437580330, "post_id": 31567792, "comment_id": 51091421, "body": "This is great @mario-zannone, it works brilliantly! But can you break down the hflat method a bit - I don&#39;t understand all the syntax - ie. teach a man to fish and all that! - thanks!"}, {"owner": {"reputation": 2718, "user_id": 4934077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5DyJ.png?s=128&g=1", "display_name": "Mario Zannone", "link": "https://stackoverflow.com/users/4934077/mario-zannone"}, "reply_to_user": {"reputation": 292, "user_id": 2710983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c80d7567e3b4e47daa4e9f69e29ec1fc?s=128&d=identicon&r=PG&f=1", "display_name": "daneasterman", "link": "https://stackoverflow.com/users/2710983/daneasterman"}, "edited": false, "score": 1, "creation_date": 1437581063, "post_id": 31567792, "comment_id": 51091937, "body": "Well, <code>hflat</code> converts an hash (<code>h</code>) in an array of values, reapplying itself recursively for each value that is an hash itself. The code uses the ruby 2.x array function flat_map that is more or less equivalent to  array.map {...}.flatten. Check the ruby 2.x docs for details."}], "tags": [], "owner": {"reputation": 2718, "user_id": 4934077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5DyJ.png?s=128&g=1", "display_name": "Mario Zannone", "link": "https://stackoverflow.com/users/4934077/mario-zannone"}, "is_accepted": true, "score": 1, "last_activity_date": 1437579477, "creation_date": 1437579477, "answer_id": 31567792, "question_id": 31566789, "link": "https://stackoverflow.com/questions/31566789/cant-flatten-json-array-to-prepare-for-csv-conversion-using-ruby-2-1-4/31567792#31567792", "title": "Can&#39;t flatten JSON array to prepare for CSV conversion using Ruby 2.1.4", "body": "<p>Try this:</p>\n\n<pre><code>require 'csv'\nrequire 'json'\n\ndef hflat(h)\n  h.values.flat_map {|v| v.is_a?(Hash) ? hflat(v) : v }\nend\n\nCSV.open('file.csv', 'w') do |csv|\n  JSON.parse(File.open('file.json').read).each do |h| \n    csv &lt;&lt; hflat(h)\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 292, "user_id": 2710983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c80d7567e3b4e47daa4e9f69e29ec1fc?s=128&d=identicon&r=PG&f=1", "display_name": "daneasterman", "link": "https://stackoverflow.com/users/2710983/daneasterman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 31567792, "answer_count": 2, "score": 0, "last_activity_date": 1437579477, "creation_date": 1437576975, "question_id": 31566789, "link": "https://stackoverflow.com/questions/31566789/cant-flatten-json-array-to-prepare-for-csv-conversion-using-ruby-2-1-4", "title": "Can&#39;t flatten JSON array to prepare for CSV conversion using Ruby 2.1.4", "body": "<p>I have an array of nested JSON \"hash\" objects that I need to completely flatten so it ports over to CSV cleanly, which is obviously not nested and \"multidimensional\" like JSON typically is.</p>\n\n<p>But the flatten method (used here with ! bang) is not working (it creates the file with no error but then the file is empty).</p>\n\n<p>In my ruby file below I leave a working example of commented out code which isjust doing a simply conversion without the .flatten method. Since the JSON is an array (at the highest level) - separated by commas and enclosed in square brackets, shouldn't it take the .flatten method, just as it takes .each in the working commented out block? (This is also what the docs seems to indicate!)</p>\n\n<pre><code>require 'csv'\nrequire 'json'\n\n# CSV.open('false-hotels-merged.csv', 'w') do |csv|\n#   JSON.parse(File.open('monfri-false-hotels-merged.json').read).each do |hash|\n#     csv &lt;&lt; hash.values\n#   end\n# end\n\nCSV.open('wed-all-false-hotels.csv', 'w') do |csv|\n  JSON.parse(File.open('monfri-false-hotels-merged.json').read).flatten! do |f|\n    csv &lt;&lt; f.values\n  end\nend\n</code></pre>\n\n<p>Example JSON data snippet:</p>\n\n<pre><code>[...\n        {\n          \"id\": \"111707\",\n          \"name\": \"Seven Park Place by William Drabble\",\n          \"phone\": \"+442073161600\",\n          \"email\": \"restaurant@stjameshotelandclub.com\",\n          \"website\": \"http://www.stjameshotelandclub.com/michelin-star-chef-william-drabble\",\n          \"location\": {\n            \"latitude\": 51.5062548,\n            \"longitude\": -0.1403209,\n            \"address\": {\n              \"line1\": \"7-8 Park Place\",\n              \"line2\": \"St James's\",\n              \"line3\": \"\",\n              \"postcode\": \"SW1A 1LP\",\n              \"city\": \"London\",\n              \"country\": \"UK\"\n            }\n          }\n        },\n        {\n          \"id\": \"104493\",\n          \"name\": \"Seymour's Restaurant &amp; Bar\",\n          \"phone\": \"+442079352010\",\n          \"email\": \"reservations@theleonard.com\",\n          \"website\": \"http://www.theleonard.com\",\n          \"location\": {\n            \"latitude\": 51.51463,\n            \"longitude\": -0.15779,\n            \"address\": {\n              \"line1\": \"15 Seymour Street\",\n              \"line2\": \"\",\n              \"line3\": \"\",\n              \"postcode\": \"W1H 7JW\",\n              \"city\": \"London\",\n              \"country\": \"UK\"\n            }\n          }\n        },\n        {\n          \"id\": \"250922\",\n          \"name\": \"Shaka Zulu\",\n          \"phone\": \"+442033769911\",\n          \"email\": \"info@shaka-zulu.com\",\n          \"website\": \"http://www.shaka-zulu.com/\",\n          \"location\": {\n            \"latitude\": 51.5414979,\n            \"longitude\": -0.1458655,\n            \"address\": {\n              \"line1\": \"Stables Market \",\n              \"line2\": \"Camden\",\n              \"line3\": \"\",\n              \"postcode\": \"NW1 8AB\",\n              \"city\": \"London\",\n              \"country\": \"UK\"\n            }\n          }\n        }\n    ]\n</code></pre>\n\n<p>Again, no errors at all in the terminal - just blank CSV file created.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437578670, "post_id": 31567406, "comment_id": 51090204, "body": "Just added the full trace to the original question."}, {"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437578805, "post_id": 31567406, "comment_id": 51090299, "body": "First full trace was of wrong error. Just fixed and put up original error"}, {"owner": {"reputation": 270, "user_id": 2838090, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001758333079/picture?type=large", "display_name": "Faizan", "link": "https://stackoverflow.com/users/2838090/faizan"}, "reply_to_user": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437579438, "post_id": 31567406, "comment_id": 51090757, "body": "@Isaac Kindly add link.rb and schema of link."}, {"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437579575, "post_id": 31567406, "comment_id": 51090862, "body": "just added them both. and thank you for helping me resolve this."}], "tags": [], "owner": {"reputation": 270, "user_id": 2838090, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001758333079/picture?type=large", "display_name": "Faizan", "link": "https://stackoverflow.com/users/2838090/faizan"}, "is_accepted": false, "score": 0, "last_activity_date": 1457805729, "last_edit_date": 1457805729, "creation_date": 1437578495, "answer_id": 31567406, "question_id": 31566769, "link": "https://stackoverflow.com/questions/31566769/ruby-on-rails-destroy-method-does-not-work-if-link-has-been-voted-on-reddit-cl/31567406#31567406", "title": "Ruby On Rails. Destroy Method does not work if link has been voted on *Reddit Clone*", "body": "<p>The error must be in your <code>index.html.erb</code> file. You are calling 'name' on some nil object.</p>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437579924, "post_id": 31567841, "comment_id": 51091105, "body": "I believe that is exactly whats going on. so i just need to add allow_destroy: true into the link model? I added the link model to give you an idea of what it looks like."}, {"owner": {"reputation": 2871, "user_id": 610796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/825808ddae9004f1d45becff8583b094?s=128&d=identicon&r=PG", "display_name": "Musannif Zahir", "link": "https://stackoverflow.com/users/610796/musannif-zahir"}, "reply_to_user": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437581026, "post_id": 31567841, "comment_id": 51091912, "body": "<code>has_many :comments , dependent: :destroy</code> is what you need. It&#39;ll delete all comments associated with the link when deleting the link."}, {"owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "edited": false, "score": 0, "creation_date": 1437581234, "post_id": 31567841, "comment_id": 51092071, "body": "The problem is not the post with comments on them cant be deleted, the problem is the post with upvotes or down votes on them cant be deleted."}], "tags": [], "owner": {"reputation": 2871, "user_id": 610796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/825808ddae9004f1d45becff8583b094?s=128&d=identicon&r=PG", "display_name": "Musannif Zahir", "link": "https://stackoverflow.com/users/610796/musannif-zahir"}, "is_accepted": true, "score": 0, "last_activity_date": 1437579613, "creation_date": 1437579613, "answer_id": 31567841, "question_id": 31566769, "link": "https://stackoverflow.com/questions/31566769/ruby-on-rails-destroy-method-does-not-work-if-link-has-been-voted-on-reddit-cl/31567841#31567841", "title": "Ruby On Rails. Destroy Method does not work if link has been voted on *Reddit Clone*", "body": "<p>Sounds like you're unable to delete it because the link has associated votes. You will have to update the relationships in your <code>Link</code> model so that it allows <code>allow_destroy: true</code>, in which case it will delete the associations as well.</p>\n"}], "owner": {"reputation": 553, "user_id": 5115866, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3NxoYj_arVc/AAAAAAAAAAI/AAAAAAAAABM/SLm_R6BLn9s/photo.jpg?sz=128", "display_name": "Isaac Byrne", "link": "https://stackoverflow.com/users/5115866/isaac-byrne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 31567841, "answer_count": 2, "score": 1, "last_activity_date": 1604130110, "creation_date": 1437576933, "last_edit_date": 1437589021, "question_id": 31566769, "link": "https://stackoverflow.com/questions/31566769/ruby-on-rails-destroy-method-does-not-work-if-link-has-been-voted-on-reddit-cl", "title": "Ruby On Rails. Destroy Method does not work if link has been voted on *Reddit Clone*", "body": "<p>I am able to delete the links that are assigned to each user, unless they are voted upon. If a link has any votes on it the delete method being called no longer works. </p>\n\n<p>Here is a link to the website deployed on heroku. If you sign up. submit a link, vote it up or down and then try to delete you will see the error I am experiencing.</p>\n\n<p><a href=\"https://salty-eyrie-2549.herokuapp.com/\" rel=\"nofollow\">https://salty-eyrie-2549.herokuapp.com/</a></p>\n\n<p>EDIT: After launching the app live i found the code works as long as the app is not being hosted locally... Very Strange...</p>\n\n<p>This is the error I am getting.</p>\n\n<p>NoMethodError in LinksController#destroy</p>\n\n<p>undefined method `name' for nil:NilClass</p>\n\n<p>Extracted source (around line #59):</p>\n\n<pre><code># DELETE /links/1.json\ndef destroy\n    @link.destroy\n    respond_to do |format|\n      format.html { redirect_to links_url, notice: 'Link was successfully destroyed.' }\n      format.json { head :no_content }\n</code></pre>\n\n<p>Rails.root: /Users/ipbyrne/FirstRailsApp/raddit</p>\n\n<p>Application Trace | Framework Trace | Full Trace\napp/controllers/links_controller.rb:59:in `destroy'\nRequest</p>\n\n<p>Parameters:</p>\n\n<pre><code>{\"_method\"=&gt;\"delete\",\n \"authenticity_token\"=&gt;\"3JyyNGNPHhdVcQ7tZQ64t+ouQjiNFnwxQXw25fgJGX4=\",\n \"id\"=&gt;\"5\"}\n</code></pre>\n\n<p>I am using the act_as_votable ruby gem.</p>\n\n<p>The first block below is my show.html.erb where the destroy method is being called from</p>\n\n<p>The second block is my links_controller.rb file.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;div class=\"page-header\"&gt;\r\n    &lt;h1&gt;&lt;a href=\"&lt;%= @link.url %&gt;\"&gt;&lt;%= @link.title %&gt;&lt;/a&gt;&lt;br&gt; &lt;small&gt;Submitted by &lt;%= @link.user.name %&gt;&lt;/small&gt;&lt;/h1&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"btn-group\"&gt;\r\n\t&lt;%= link_to 'Visit URL', @link.url, class: \"btn btn-primary\" %&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"btn-group pull-right\"&gt;\r\n  &lt;%= link_to like_link_path(@link), method: :put, class: \"btn btn-default btn-sm\" do %&gt;\r\n    &lt;span class=\"glyphicon glyphicon-chevron-up\"&gt;&lt;/span&gt;\r\n    Upvote\r\n    &lt;%= @link.get_upvotes.size %&gt;\r\n  &lt;% end %&gt;\r\n  &lt;%= link_to dislike_link_path(@link), method: :put, class: \"btn btn-default btn-sm\" do %&gt;\r\n    &lt;span class=\"glyphicon glyphicon-chevron-down\"&gt;\r\n    Downvote\r\n    &lt;%= @link.get_downvotes.size %&gt;\r\n  &lt;% end %&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;% if @link.user == current_user -%&gt;\r\n\t&lt;div class=\"btn-group\"&gt;\r\n\t\t&lt;%= link_to 'Edit', edit_link_path(@link), class: \"btn btn-default\" %&gt;\r\n\t\t&lt;%= link_to 'Destroy', @link, method: :delete, data: { confirm: 'Are you sure?' }, class: \"btn btn-default\" %&gt;\r\n\t&lt;/div&gt;\r\n&lt;% end %&gt;\r\n\r\n&lt;h3 class=\"comments_title\"&gt;\r\n  &lt;%= @link.comments.count %&gt; Comments\r\n&lt;/h3&gt;\r\n\r\n&lt;div id=\"comments\"&gt;\r\n  &lt;%= render :partial =&gt; @link.comments %&gt;\r\n&lt;/div&gt;\r\n&lt;%= simple_form_for [@link, Comment.new]  do |f| %&gt;\r\n  &lt;div class=\"field\"&gt;\r\n    &lt;%= f.text_area :body, class: \"form-control\" %&gt;\r\n  &lt;/div&gt;\r\n  &lt;br&gt;\r\n  &lt;%= f.submit \"Add Comment\", class: \"btn btn-primary\" %&gt;\r\n&lt;% end %&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class LinksController &lt; ApplicationController\r\n  before_action :set_link, only: [:show, :edit, :update, :destroy]\r\n  before_action :authenticate_user!, except: [:index, :show]\r\n  before_action :authorized_user, only: [:edit, :update, :destroy]\r\n\r\n  # GET /links\r\n  # GET /links.json\r\n  def index\r\n    @links = Link.all\r\n  end\r\n\r\n  # GET /links/1\r\n  # GET /links/1.json\r\n  def show\r\n  end\r\n\r\n  # GET /links/new\r\n  def new\r\n    @link = current_user.links.build\r\n  end\r\n\r\n  # GET /links/1/edit\r\n  def edit\r\n  end\r\n\r\n  # POST /links\r\n  # POST /links.json\r\n  def create\r\n    @link = current_user.links.build(link_params)\r\n\r\n    respond_to do |format|\r\n      if @link.save\r\n        format.html { redirect_to @link, notice: 'Link was successfully created.' }\r\n        format.json { render :show, status: :created, location: @link }\r\n      else\r\n        format.html { render :new }\r\n        format.json { render json: @link.errors, status: :unprocessable_entity }\r\n      end\r\n    end\r\n  end\r\n\r\n  # PATCH/PUT /links/1\r\n  # PATCH/PUT /links/1.json\r\n  def update\r\n    respond_to do |format|\r\n      if @link.update(link_params)\r\n        format.html { redirect_to @link, notice: 'Link was successfully updated.' }\r\n        format.json { render :show, status: :ok, location: @link }\r\n      else\r\n        format.html { render :edit }\r\n        format.json { render json: @link.errors, status: :unprocessable_entity }\r\n      end\r\n    end\r\n  end\r\n\r\n  # DELETE /links/1\r\n  # DELETE /links/1.json\r\n  def destroy\r\n    @link.destroy\r\n    respond_to do |format|\r\n      format.html { redirect_to links_url, notice: 'Link was successfully destroyed.' }\r\n      format.json { head :no_content }\r\n    end\r\n  end\r\n\r\n  def upvote\r\n    @link = Link.find(params[:id])\r\n    @link.upvote_by current_user\r\n    redirect_to :back\r\n  end\r\n\r\n  def downvote\r\n    @link = Link.find(params[:id])\r\n    @link.downvote_from current_user\r\n    redirect_to :back\r\n  end\r\n\r\n  private\r\n    # Use callbacks to share common setup or constraints between actions.\r\n    def set_link\r\n      @link = Link.find(params[:id])\r\n    end\r\n\r\n    def authorized_user\r\n      @link = current_user.links.find_by(id: params[:id])\r\n      redirect_to links_path, notice: \"Not authorized to edit this link\" if @link.nil?\r\n    end\r\n\r\n    # Never trust parameters from the scary internet, only allow the white list through.\r\n    def link_params\r\n      params.require(:link).permit(:title, :url)\r\n    end\r\nend</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Full Trace Error</p>\n\n<pre><code>activerecord (4.0.0) lib/active_record/associations/has_many_association.rb:80:in `cached_counter_attribute_name'\nactiverecord (4.0.0) lib/active_record/associations/has_many_association.rb:103:in `inverse_updates_counter_cache?'\nactiverecord (4.0.0) lib/active_record/associations/has_many_association.rb:113:in `delete_records'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:493:in `remove_records'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:486:in `block in delete_or_destroy'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:152:in `block in transaction'\nactiverecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:200:in `transaction'\nactiverecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:151:in `transaction'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:486:in `delete_or_destroy'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:247:in `destroy'\nactiverecord (4.0.0) lib/active_record/associations/collection_association.rb:170:in `destroy_all'\nactiverecord (4.0.0) lib/active_record/associations/has_many_association.rb:26:in `handle_dependency'\nactiverecord (4.0.0) lib/active_record/associations/builder/association.rb:97:in `has_many_dependent_for_votes_for'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:377:in `_run__4103742494544083763__destroy__callbacks'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'\nactiverecord (4.0.0) lib/active_record/callbacks.rb:289:in `destroy'\nactiverecord (4.0.0) lib/active_record/transactions.rb:265:in `block in destroy'\nactiverecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'\nactiverecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'\nactiverecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'\nactiverecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'\nactiverecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'\nactiverecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'\nactiverecord (4.0.0) lib/active_record/transactions.rb:265:in `destroy'\napp/controllers/links_controller.rb:59:in `destroy'\nactionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'\nactionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'\nactionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'\nactionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:443:in `_run__1823692881447443679__process_action__callbacks'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'\nactionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'\nactionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'\nactionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'\nactivesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'\nactivesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'\nactivesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'\nactionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'\nactionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'\nactiverecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'\nactionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'\nactionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'\nactionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'\nactionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'\nactionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'\nactionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'\nactionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'\nactionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'\nactionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'\nactionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'\nactionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'\nactionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'\nwarden (1.2.3) lib/warden/manager.rb:35:in `block in call'\nwarden (1.2.3) lib/warden/manager.rb:34:in `catch'\nwarden (1.2.3) lib/warden/manager.rb:34:in `call'\nrack (1.5.5) lib/rack/etag.rb:23:in `call'\nrack (1.5.5) lib/rack/conditionalget.rb:35:in `call'\nrack (1.5.5) lib/rack/head.rb:11:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'\nrack (1.5.5) lib/rack/session/abstract/id.rb:225:in `context'\nrack (1.5.5) lib/rack/session/abstract/id.rb:220:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'\nactiverecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'\nactiverecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'\nactiverecord (4.0.0) lib/active_record/migration.rb:369:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__1414070385979111640__call__callbacks'\nactivesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'\nactionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\nrailties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'\nrailties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'\nactivesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'\nactivesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'\nactivesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'\nrailties (4.0.0) lib/rails/rack/logger.rb:21:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'\nrack (1.5.5) lib/rack/methodoverride.rb:21:in `call'\nrack (1.5.5) lib/rack/runtime.rb:17:in `call'\nactivesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'\nrack (1.5.5) lib/rack/lock.rb:17:in `call'\nactionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'\nrailties (4.0.0) lib/rails/engine.rb:511:in `call'\nrailties (4.0.0) lib/rails/application.rb:97:in `call'\nrack (1.5.5) lib/rack/lock.rb:17:in `call'\nrack (1.5.5) lib/rack/content_length.rb:14:in `call'\nrack (1.5.5) lib/rack/handler/webrick.rb:60:in `service'\n/Users/ipbyrne/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'\n/Users/ipbyrne/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'\n/Users/ipbyrne/.rvm/rubies/ruby-2.2.1/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'\n</code></pre>\n\n<p>Link.rb</p>\n\n<pre><code>class Link &lt; ActiveRecord::Base\n     acts_as_votable\n     belongs_to :user\n     has_many :comments\nend\n</code></pre>\n\n<p>Schema</p>\n\n<pre><code># encoding: UTF-8\n# This file is auto-generated from the current state of the database. Instead\n# of editing this file, please use the migrations feature of Active Record to\n# incrementally modify your database, and then regenerate this schema definition.\n#\n# Note that this schema.rb definition is the authoritative source for your\n# database schema. If you need to create the application database on another\n# system, you should be using db:schema:load, not running all the migrations\n# from scratch. The latter is a flawed and unsustainable approach (the more migrations\n# you'll amass, the slower it'll run and the greater likelihood for issues).\n#\n# It's strongly recommended that you check this file into your version control system.\n\nActiveRecord::Schema.define(version: 20150722133429) do\n\n  create_table \"comments\", force: true do |t|\n    t.integer  \"link_id\"\n    t.text     \"body\"\n    t.integer  \"user_id\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  add_index \"comments\", [\"link_id\"], name: \"index_comments_on_link_id\"\n  add_index \"comments\", [\"user_id\"], name: \"index_comments_on_user_id\"\n\n  create_table \"links\", force: true do |t|\n    t.string   \"title\"\n    t.string   \"url\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n    t.integer  \"user_id\"\n  end\n\n  add_index \"links\", [\"user_id\"], name: \"index_links_on_user_id\"\n\n  create_table \"users\", force: true do |t|\n    t.string   \"email\",                  default: \"\", null: false\n    t.string   \"encrypted_password\",     default: \"\", null: false\n    t.string   \"reset_password_token\"\n    t.datetime \"reset_password_sent_at\"\n    t.datetime \"remember_created_at\"\n    t.integer  \"sign_in_count\",          default: 0,  null: false\n    t.datetime \"current_sign_in_at\"\n    t.datetime \"last_sign_in_at\"\n    t.string   \"current_sign_in_ip\"\n    t.string   \"last_sign_in_ip\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n    t.string   \"name\"\n  end\n\n  add_index \"users\", [\"email\"], name: \"index_users_on_email\", unique: true\n  add_index \"users\", [\"reset_password_token\"], name: \"index_users_on_reset_password_token\", unique: true\n\n  create_table \"votes\", force: true do |t|\n    t.integer  \"votable_id\"\n    t.string   \"votable_type\"\n    t.integer  \"voter_id\"\n    t.string   \"voter_type\"\n    t.boolean  \"vote_flag\"\n    t.string   \"vote_scope\"\n    t.integer  \"vote_weight\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  add_index \"votes\", [\"votable_id\", \"votable_type\", \"vote_scope\"], name: \"index_votes_on_votable_id_and_votable_type_and_vote_scope\"\n  add_index \"votes\", [\"voter_id\", \"voter_type\", \"vote_scope\"], name: \"index_votes_on_voter_id_and_voter_type_and_vote_scope\"\n\nend\n</code></pre>\n\n<p>Link Model</p>\n\n<pre><code>class Link &lt; ActiveRecord::Base\n\n\n    acts_as_votable\n     belongs_to :user\n     has_many :comments \nend\n</code></pre>\n"}, {"tags": ["ruby"], "answers": [{"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 1, "last_activity_date": 1437582216, "creation_date": 1437582216, "answer_id": 31568769, "question_id": 31566364, "link": "https://stackoverflow.com/questions/31566364/how-to-create-ipaddr-object-with-a-netmask/31568769#31568769", "title": "How to create IPAddr-object with a netmask", "body": "<p>When a netmask is supplied, the address is treated as a network address, not a host address, at least that's how I interpret your findings in combination with <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/ipaddr/rdoc/IPAddr.html#method-c-new\" rel=\"nofollow\">the docs</a>:</p>\n\n<blockquote>\n  <p>If a prefixlen or a mask is specified, it returns a <strong>masked IP address</strong>. </p>\n</blockquote>\n\n<p>I assume, by \"masked IP address\", the author means a network address, at least that's what makes the most sense given the behavior you observed and the <a href=\"http://ruby-doc.org/stdlib-2.2.2/libdoc/ipaddr/rdoc/IPAddr.html#method-i-to_range\" rel=\"nofollow\">description of the <code>IPAddr#to_range</code> method</a>.</p>\n"}], "owner": {"reputation": 430, "user_id": 2600803, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000555733116/picture?type=large", "display_name": "Mario P. Waxenegger", "link": "https://stackoverflow.com/users/2600803/mario-p-waxenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 31568769, "answer_count": 1, "score": 1, "last_activity_date": 1437582216, "creation_date": 1437575981, "question_id": 31566364, "link": "https://stackoverflow.com/questions/31566364/how-to-create-ipaddr-object-with-a-netmask", "title": "How to create IPAddr-object with a netmask", "body": "<p>I just tried to use Ruby's <a href=\"http://ruby-doc.org/stdlib-1.9.3/libdoc/ipaddr/rdoc/IPAddr.html\" rel=\"nofollow\">IPAddr</a> class and I've been wondering if it is possible to create a new IPAddr with a netmask. To clarify my issue this is what I've done:</p>\n\n<pre><code>IPAddr.new \"192.186.2.253/24\"\n=&gt; #&lt;IPAddr: IPv4:192.186.2.0/255.255.255.0&gt;\n</code></pre>\n\n<p>What I would expect is to get this:</p>\n\n<pre><code>#&lt;IPAddr: IPv4:192.186.2.253/255.255.255.0&gt;\n</code></pre>\n\n<p>If I use the <code>to_range</code> method, the ip addresses are matching the second example.</p>\n\n<p>Did i get anything wrong with this class? How can I achieve to initialize such an ip address without cutting off the host id.</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["ruby", "chef-infra", "lazy-evaluation"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "edited": false, "score": 0, "creation_date": 1437577324, "post_id": 31566411, "comment_id": 51089147, "body": "Ah, I understand - I was expecting #{build.call} to automatically get the new value. However, underneath the build = ... line I&#39;ve added a log statement (which does get run at converge time), and that also came up blank. e.g. \u2013 <code>log &quot;Build is #{build.call}&quot; do level :info end</code> produced log[Build is ] on output"}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "edited": false, "score": 0, "creation_date": 1437577511, "post_id": 31566411, "comment_id": 51089274, "body": "@linxit The log operation itself runs at converge time, but not the Ruby code that configures it. <code>log &quot;Build is #{build.call}&quot;</code> is really no different from <code>some_variable = build.call; log &quot;Build is #{some_varaible}&quot;</code> from the perspective of the Ruby interpreter."}, {"owner": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "edited": false, "score": 0, "creation_date": 1437656890, "post_id": 31566411, "comment_id": 51128313, "body": "Hmm, it&#39;s impossible to set the variable at compile time, so I basically turned the whole recipe into a ruby_block. Ugly, but it&#39;s working now!"}, {"owner": {"reputation": 3973, "user_id": 4070979, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a40b217933f720d09ae107a2b6d66cb?s=128&d=identicon&r=PG&f=1", "display_name": "Tejay Cardon", "link": "https://stackoverflow.com/users/4070979/tejay-cardon"}, "edited": false, "score": 0, "creation_date": 1437657424, "post_id": 31566411, "comment_id": 51128734, "body": "That really depends on what you&#39;re doing with that variable.  If you can show us where it is used, we may be able to show you a better way."}, {"owner": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "edited": false, "score": 0, "creation_date": 1437658335, "post_id": 31566411, "comment_id": 51129586, "body": "It&#39;s stored in a file on a separate server, so I have to download it, parse the file and extract the string (actually a Jenkins build number). So I was doing that in a ruby block (see code above), but then need to use the variable to create a subdirectory and unzip a file into it, then go into that directory tree to execute a shell script, so this <code>#{build}</code> variable is used in several places."}, {"owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "reply_to_user": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "edited": false, "score": 0, "creation_date": 1437658444, "post_id": 31566411, "comment_id": 51129679, "body": "@linxit Well, you <i>could</i> do that at compile time. Not sure it makes a big difference at this point though. Either way it&#39;s going to be a bit awkward."}], "tags": [], "owner": {"reputation": 36058, "user_id": 1157054, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c9d0ecbe3045579b72f96744c62735c?s=128&d=identicon&r=PG", "display_name": "Ajedi32", "link": "https://stackoverflow.com/users/1157054/ajedi32"}, "is_accepted": true, "score": 1, "last_activity_date": 1437576088, "creation_date": 1437576088, "answer_id": 31566411, "question_id": 31566043, "link": "https://stackoverflow.com/questions/31566043/how-to-update-a-node-attribute-in-chef-at-converge-time/31566411#31566411", "title": "How to update a node attribute in Chef at converge time?", "body": "<p>The problem here is that your <code>release_dir =</code> line is getting executed at compile time, <em>before</em> the code in your <code>ruby_block</code> has run. Obviously at that point in time, <code>build.call</code> is just going to return an empty string, because the code that sets <code>node['myapp']['jenkins']['build']</code> hasn't run yet.</p>\n\n<p>Put another way, the code in the recipe is getting executed like this:</p>\n\n<pre><code># Compile time\n\nruby_block \"get build number\" do\n  block do\n    # Random stuff here that will get executed at converge time\n  end\nend\n\nbuild = DelayedEvaluator.new { node['myapp']['jenkins']['build'] }\n\nrelease_dir = \"#{node['myapp']['dir']['main']}/releases/#{build.call}\"\n\n# ...\n\n# Okay, everything's compiled. Now we converge...\n\nf = File.open(\"/tmp/MyappJenkinsBuildInfo.txt\")\nf.each {|line|\n  line_arr = line.split('=')\n  if line_arr[0] == 'jenkins.build.number'\n    node.default['myapp']['jenkins']['build'] = line_arr[1]\n    break\n  end\n}\nf.close\n</code></pre>\n\n<p>So to answer your question, you <em>are</em> setting a node attribute at converge time. If you do it that way though, you have to realize that it's <em>impossible</em> to access that variable at compile time, since at compile time the variable hasn't even been set yet. Either set the variable at compile time, or don't try accessing it until converge time. Unfortunately, you can't have both.</p>\n"}], "owner": {"reputation": 3, "user_id": 5143973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41fd6b902d9b7504d0120fcc334970de?s=128&d=identicon&r=PG&f=1", "display_name": "linxit", "link": "https://stackoverflow.com/users/5143973/linxit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 0, "accepted_answer_id": 31566411, "answer_count": 1, "score": 0, "last_activity_date": 1437576088, "creation_date": 1437575241, "last_edit_date": 1495542824, "question_id": 31566043, "link": "https://stackoverflow.com/questions/31566043/how-to-update-a-node-attribute-in-chef-at-converge-time", "title": "How to update a node attribute in Chef at converge time?", "body": "<p>I'm trying to parse a value from a file in order to set it as an attribute for use further down the recipe (to set as a subdirectory name).</p>\n\n<p>The file is downloaded from a jenkins server and parsed in a ruby block to get the value - so far so good. However, if I try to assign that to the node attribute, it doesn't work. I thought I'd found the answer here: <a href=\"https://stackoverflow.com/questions/20620724/how-to-lazily-evaluate-an-arbitrary-variable-with-chef\">How to lazily evaluate an arbitrary variable with Chef</a>, but none of the methods mentioned there work for me. What am I doing wrong?</p>\n\n<pre><code>ruby_block \"get build number\" do\n  block do\n    f = File.open(\"/tmp/MyappJenkinsBuildInfo.txt\")\n    f.each {|line|\n      line_arr = line.split('=')\n      if line_arr[0] == 'jenkins.build.number'\n        node.default['myapp']['jenkins']['build'] = line_arr[1]\n        break\n      end\n    }\n    f.close\n  end\nend\n\nbuild = DelayedEvaluator.new { node['myapp']['jenkins']['build'] }\n\nrelease_dir = \"#{node['myapp']['dir']['main']}/releases/#{build.call}\"\n</code></pre>\n\n<p>This \"works\" in that there's no syntax error, but the value of #{build.call} is an empty string. The file definitely exists, and I've already tested that line_arr[1] inside the ruby block is getting the right value (with a puts statement inside the RB). I've also tried using lambda in place of DelayedEvaluator.new.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4"], "comments": [{"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 1, "creation_date": 1437575701, "post_id": 31566029, "comment_id": 51087860, "body": "<code>LEFT INNER JOIN</code>? What is that?"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1437575728, "post_id": 31566029, "comment_id": 51087885, "body": "Is there a specific reason you aren&#39;t using the <code>has_many</code> and <code>belongs_to</code> relationships for ActiveRecord objects? It looks like you&#39;re using rails to generate the join manually, but if all you want is the relation to be established to access the fields, then use the tools to your advantage. See Rails <a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow noreferrer\">Active Record Associations</a>. If you really do need to do this explicitly for some reason, see <a href=\"http://stackoverflow.com/questions/10322164/rails-3-joins-select-only-certain-columns\">this answer</a> for an approach."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437576167, "post_id": 31566029, "comment_id": 51088224, "body": "I&#39;ve added some code above how we have set up the models. we use has many and belongs to  are there a better way to get the data we need?"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437576449, "post_id": 31566029, "comment_id": 51088454, "body": "Your <code>User</code> table doesn&#39;t lool right.  I think you want the &quot;through&quot; on the other attribute."}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437576496, "post_id": 31566029, "comment_id": 51088492, "body": "And add some of the attributes that are not about the relations, and an example of what attributes you are not able to find."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437576608, "post_id": 31566029, "comment_id": 51088587, "body": "@Felix did you read the information in the link I provided for &quot;Active Record Associations&quot;? It describes in detail how these relations work."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437576753, "post_id": 31566029, "comment_id": 51088699, "body": "Yes but, can&#39;t find a solution for my problem. added some more infos above"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 1, "creation_date": 1437577263, "post_id": 31566029, "comment_id": 51089104, "body": "You are on the right track, you just need to fix your association, as I mentioned above.  Then you should be able to simply do stuff like <code>user.user_groups</code> and <code>user_group.users</code>.  Rails will take care of the join for you behind the scenes."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437577354, "post_id": 31566029, "comment_id": 51089169, "body": "I read the active record associations, but can&#39;t find what you mean can you please give me a hint"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437577553, "post_id": 31566029, "comment_id": 51089300, "body": "Your <code>User</code> model:  The &quot;through&quot; clause is on the wrong attribute.  It should be on <code>user_groups</code>."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437578044, "post_id": 31566029, "comment_id": 51089717, "body": "I changed that, but nothing changed. Do I have to change something on this line as well: <code>@users = current_client.users.joins(&#39;LEFT OUTER JOIN user_group_users ON user_group_users.user_id = users.id&#39;)</code>"}, {"owner": {"reputation": 1219, "user_id": 2463608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71a718079ab00b87628fd52df9eb6e42?s=128&d=identicon&r=PG", "display_name": "Daiku", "link": "https://stackoverflow.com/users/2463608/daiku"}, "edited": false, "score": 0, "creation_date": 1437579117, "post_id": 31566029, "comment_id": 51090532, "body": "You should not need to do any SQL.  Let rails do it.  If your schema is correct, it should just work.  You should be able to get the user_groups for any user, and the users for any user_group."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437581809, "post_id": 31566029, "comment_id": 51092419, "body": "And how do I have to make the sql"}], "answers": [{"comments": [{"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437597815, "post_id": 31569474, "comment_id": 51102144, "body": "thanks for your help, but I can&#39;t follow you at all. When I delete the model UserGroupUser, how can I save? I do it this way at the moment: <code>@user_group_user = UserGroupUser.new       @user_group_user.user_id = params[:user_id]       @user_group_user.user_groups_id =  params[:usergroup_id]</code> and where should I do the check if a user is in group in controller or in the view? when I do it the controller how should I combine the normal @user with the result of the check?"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437598031, "post_id": 31569474, "comment_id": 51102249, "body": "@Felix Rails will save the intermediary table information for you automatically when you save a User or a UserGroup. Again, I am assuming that you don&#39;t really need the data from the intermediary table since what you are really looking for is the User or UserGroup information."}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437598293, "post_id": 31569474, "comment_id": 51102396, "body": "can you show me how it should like if I save a user to a group? don&#39;t understand how it should work without that model"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437598755, "post_id": 31569474, "comment_id": 51102632, "body": "@Felix, save a user: <code>@user.save</code>. Save a group: <code>@group.save</code>. Rails does the rest. The link I gave for Rails Associations explains how to set the values of associations (such as <code>@user.user_groups....</code> or <code>@group.users...</code>"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437599084, "post_id": 31569474, "comment_id": 51102801, "body": "I try it ... but It dosn&#39;t work ... I tried this way: <code>@all = @user.user_groups</code> do you probably have about 2 miniutes in skype or so to explain it to me?"}, {"owner": {"reputation": 4750, "user_id": 4367019, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/CnP5z.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4367019/felix"}, "edited": false, "score": 0, "creation_date": 1437599863, "post_id": 31569474, "comment_id": 51103211, "body": "okay I&#39;m one step closer to goal ... there was a spelling mistake"}], "tags": [], "owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "is_accepted": false, "score": 2, "last_activity_date": 1437586831, "last_edit_date": 1437586831, "creation_date": 1437584238, "answer_id": 31569474, "question_id": 31566029, "link": "https://stackoverflow.com/questions/31566029/rails-join-need-both-tables-in-result/31569474#31569474", "title": "Rails join, need both tables in result", "body": "<p>You're trying to do too much and not letting Rails do the work it's intended to do for you. You should read the <a href=\"http://guides.rubyonrails.org/association_basics.html\" rel=\"nofollow\">documentation</a> in Rails carefully, because all of the information you need is there, and you can find several examples online using Google.</p>\n\n<p>In your case, you really only need a \"has and belongs to many\" relation. As described in the documentation, this is similar to the \"has many... through\" but doesn't require that your code know about the intermediate model (what you call, <code>UserGroupUser</code>).</p>\n\n<pre><code>class UserGroup &lt; ActiveRecord::Base\n  has_and_belongs_to_many :users\nend\n\nclass User &lt; ActiveRecord::Base\n  has_and_belongs_to_many :user_groups\nend\n</code></pre>\n\n<p>In your code, let's suppose you have a <code>UserGroup</code> active record object in <code>@group</code> and you have a user active record object in <code>@user</code>. Then this will tell you if the user is in the group:</p>\n\n<pre><code>@group.users.map { |u| u.id }.include? @user.id\n</code></pre>\n\n<p>If you want to check every user, then loop with <code>User.all.each do |user| ...</code>.</p>\n\n<p>You can get rid of the <code>UserGroupUser</code> model, but you still need the table, as described in the documentation.</p>\n"}], "owner": {"reputation": 33, "user_id": 4901696, "user_type": "registered", "profile_image": "https://graph.facebook.com/894493400594446/picture?type=large", "display_name": "Christine Margraf-Hohlwegler", "link": "https://stackoverflow.com/users/4901696/christine-margraf-hohlwegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1437586831, "creation_date": 1437575219, "last_edit_date": 1437576731, "question_id": 31566029, "link": "https://stackoverflow.com/questions/31566029/rails-join-need-both-tables-in-result", "title": "Rails join, need both tables in result", "body": "<p>I have two tables users (id, name ...) and user_group_users (user_id, usergroup_id)</p>\n\n<p>I try to get a join on both tables, need something like this in result</p>\n\n<p>user.id user.name user_group_users.user_id, user_group_users.user_group_id</p>\n\n<p>Tried This:</p>\n\n<pre><code>@users = current_client.users.joins('LEFT INNER JOIN user_group_users ON user_group_users.user_id = users.id')\n</code></pre>\n\n<p>But in the result the user_group_users.user_id, user_group_users.user_group_id are missing</p>\n\n<p>how can I solve that?</p>\n\n<p>Models:</p>\n\n<pre><code>class UserGroupUser &lt; ActiveRecord::Base\n  belongs_to :user_group\n  belongs_to :user\nend\n\nclass UserGroup &lt; ActiveRecord::Base\n  has_many :user_group_users\n  has_many :users, :through =&gt; :user_group_users\nend\n\n\nclass User &lt; ActiveRecord::Base\n  has_many :user_groups\n  has_many :user_group_users, :through =&gt; :user_group_users\nend\n</code></pre>\n\n<p>I want to generate this list, with all users: \n<a href=\"https://i.stack.imgur.com/aghMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aghMJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I need the user_id and usergroup_id from usergroupusers to set the switcher on if the user is already in this group.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "time"], "comments": [{"owner": {"reputation": 3210, "user_id": 5089231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX0dy.jpg?s=128&g=1", "display_name": "Athar", "link": "https://stackoverflow.com/users/5089231/athar"}, "edited": false, "score": 0, "creation_date": 1437575672, "post_id": 31565999, "comment_id": 51087841, "body": "why dont you just do <code>Time.now</code> if your Time.now.zone is already &#39;YEKT&#39;"}, {"owner": {"reputation": 338, "user_id": 2252437, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Jxtih.jpg?s=128&g=1", "display_name": "Avael Kross", "link": "https://stackoverflow.com/users/2252437/avael-kross"}, "reply_to_user": {"reputation": 3210, "user_id": 5089231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX0dy.jpg?s=128&g=1", "display_name": "Athar", "link": "https://stackoverflow.com/users/5089231/athar"}, "edited": false, "score": 0, "creation_date": 1437576336, "post_id": 31565999, "comment_id": 51088365, "body": "Here are some complicated rules for timezones, and it should be tested. Anyway, question is: Why module (Time) returns &quot;YEKT&quot; to me if it&#39;s not a valid timezone for another method of Time? And how can I fix it."}, {"owner": {"reputation": 3210, "user_id": 5089231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX0dy.jpg?s=128&g=1", "display_name": "Athar", "link": "https://stackoverflow.com/users/5089231/athar"}, "edited": false, "score": 1, "creation_date": 1437576946, "post_id": 31565999, "comment_id": 51088847, "body": "so if you can try this <code>ActiveSupport::TimeZone.all.collect(&amp;:name)</code> this will return you the list which are allowed by to <code>in_time_zone</code> method. now Time.now.zone will return you system time zone. you can try any time which is in the list and it will work"}, {"owner": {"reputation": 338, "user_id": 2252437, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Jxtih.jpg?s=128&g=1", "display_name": "Avael Kross", "link": "https://stackoverflow.com/users/2252437/avael-kross"}, "reply_to_user": {"reputation": 3210, "user_id": 5089231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX0dy.jpg?s=128&g=1", "display_name": "Athar", "link": "https://stackoverflow.com/users/5089231/athar"}, "edited": false, "score": 0, "creation_date": 1437577023, "post_id": 31565999, "comment_id": 51088901, "body": "Thanks, now I see that Time.now.zone returns system time zone. It&#39;s an answer for &quot;why&quot; :)"}], "answers": [{"comments": [{"owner": {"reputation": 338, "user_id": 2252437, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Jxtih.jpg?s=128&g=1", "display_name": "Avael Kross", "link": "https://stackoverflow.com/users/2252437/avael-kross"}, "edited": false, "score": 3, "creation_date": 1437576262, "post_id": 31566416, "comment_id": 51088319, "body": "It&#39;s not an answer; Why module (Time) returns &quot;YEKT&quot; to me if it&#39;s not a valid timezone for another method of Time?"}], "tags": [], "owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "is_accepted": false, "score": 5, "last_activity_date": 1476899017, "last_edit_date": 1476899017, "creation_date": 1437576103, "answer_id": 31566416, "question_id": 31565999, "link": "https://stackoverflow.com/questions/31565999/invalid-timezone/31566416#31566416", "title": "Invalid timezone", "body": "<p>These are the available timezones.</p>\n\n<pre><code>{\n \"International Date Line West\"=&gt;\"Pacific/Midway\",\n \"Midway Island\"=&gt;\"Pacific/Midway\",\n \"American Samoa\"=&gt;\"Pacific/Pago_Pago\",\n \"Hawaii\"=&gt;\"Pacific/Honolulu\",\n \"Alaska\"=&gt;\"America/Juneau\",\n \"Pacific Time (US &amp; Canada)\"=&gt;\"America/Los_Angeles\",\n \"Tijuana\"=&gt;\"America/Tijuana\",\n \"Mountain Time (US &amp; Canada)\"=&gt;\"America/Denver\",\n \"Arizona\"=&gt;\"America/Phoenix\",\n \"Chihuahua\"=&gt;\"America/Chihuahua\",\n \"Mazatlan\"=&gt;\"America/Mazatlan\",\n \"Central Time (US &amp; Canada)\"=&gt;\"America/Chicago\",\n \"Saskatchewan\"=&gt;\"America/Regina\",\n \"Guadalajara\"=&gt;\"America/Mexico_City\",\n \"Mexico City\"=&gt;\"America/Mexico_City\",\n \"Monterrey\"=&gt;\"America/Monterrey\",\n \"Central America\"=&gt;\"America/Guatemala\",\n \"Eastern Time (US &amp; Canada)\"=&gt;\"America/New_York\",\n \"Indiana (East)\"=&gt;\"America/Indiana/Indianapolis\",\n \"Bogota\"=&gt;\"America/Bogota\",\n \"Lima\"=&gt;\"America/Lima\",\n \"Quito\"=&gt;\"America/Lima\",\n \"Atlantic Time (Canada)\"=&gt;\"America/Halifax\",\n \"Caracas\"=&gt;\"America/Caracas\",\n \"La Paz\"=&gt;\"America/La_Paz\",\n \"Santiago\"=&gt;\"America/Santiago\",\n \"Newfoundland\"=&gt;\"America/St_Johns\",\n \"Brasilia\"=&gt;\"America/Sao_Paulo\",\n \"Buenos Aires\"=&gt;\"America/Argentina/Buenos_Aires\",\n \"Montevideo\"=&gt;\"America/Montevideo\",\n \"Georgetown\"=&gt;\"America/Guyana\",\n \"Greenland\"=&gt;\"America/Godthab\",\n \"Mid-Atlantic\"=&gt;\"Atlantic/South_Georgia\",\n \"Azores\"=&gt;\"Atlantic/Azores\",\n \"Cape Verde Is.\"=&gt;\"Atlantic/Cape_Verde\",\n \"Dublin\"=&gt;\"Europe/Dublin\",\n \"Edinburgh\"=&gt;\"Europe/London\",\n \"Lisbon\"=&gt;\"Europe/Lisbon\",\n \"London\"=&gt;\"Europe/London\",\n \"Casablanca\"=&gt;\"Africa/Casablanca\",\n \"Monrovia\"=&gt;\"Africa/Monrovia\",\n \"UTC\"=&gt;\"Etc/UTC\",\n \"Belgrade\"=&gt;\"Europe/Belgrade\",\n \"Bratislava\"=&gt;\"Europe/Bratislava\",\n \"Budapest\"=&gt;\"Europe/Budapest\",\n \"Ljubljana\"=&gt;\"Europe/Ljubljana\",\n \"Prague\"=&gt;\"Europe/Prague\",\n \"Sarajevo\"=&gt;\"Europe/Sarajevo\",\n \"Skopje\"=&gt;\"Europe/Skopje\",\n \"Warsaw\"=&gt;\"Europe/Warsaw\",\n \"Zagreb\"=&gt;\"Europe/Zagreb\",\n \"Brussels\"=&gt;\"Europe/Brussels\",\n \"Copenhagen\"=&gt;\"Europe/Copenhagen\",\n \"Madrid\"=&gt;\"Europe/Madrid\",\n \"Paris\"=&gt;\"Europe/Paris\",\n \"Amsterdam\"=&gt;\"Europe/Amsterdam\",\n \"Berlin\"=&gt;\"Europe/Berlin\",\n \"Bern\"=&gt;\"Europe/Berlin\",\n \"Rome\"=&gt;\"Europe/Rome\",\n \"Stockholm\"=&gt;\"Europe/Stockholm\",\n \"Vienna\"=&gt;\"Europe/Vienna\",\n \"West Central Africa\"=&gt;\"Africa/Algiers\",\n \"Bucharest\"=&gt;\"Europe/Bucharest\",\n \"Cairo\"=&gt;\"Africa/Cairo\",\n \"Helsinki\"=&gt;\"Europe/Helsinki\",\n \"Kyiv\"=&gt;\"Europe/Kiev\",\n \"Riga\"=&gt;\"Europe/Riga\",\n \"Sofia\"=&gt;\"Europe/Sofia\",\n \"Tallinn\"=&gt;\"Europe/Tallinn\",\n \"Vilnius\"=&gt;\"Europe/Vilnius\",\n \"Athens\"=&gt;\"Europe/Athens\",\n \"Istanbul\"=&gt;\"Europe/Istanbul\",\n \"Minsk\"=&gt;\"Europe/Minsk\",\n \"Jerusalem\"=&gt;\"Asia/Jerusalem\",\n \"Harare\"=&gt;\"Africa/Harare\",\n \"Pretoria\"=&gt;\"Africa/Johannesburg\",\n \"Kaliningrad\"=&gt;\"Europe/Kaliningrad\",\n \"Moscow\"=&gt;\"Europe/Moscow\",\n \"St. Petersburg\"=&gt;\"Europe/Moscow\",\n \"Volgograd\"=&gt;\"Europe/Volgograd\",\n \"Samara\"=&gt;\"Europe/Samara\",\n \"Kuwait\"=&gt;\"Asia/Kuwait\",\n \"Riyadh\"=&gt;\"Asia/Riyadh\",\n \"Nairobi\"=&gt;\"Africa/Nairobi\",\n \"Baghdad\"=&gt;\"Asia/Baghdad\",\n \"Tehran\"=&gt;\"Asia/Tehran\",\n \"Abu Dhabi\"=&gt;\"Asia/Muscat\",\n \"Muscat\"=&gt;\"Asia/Muscat\",\n \"Baku\"=&gt;\"Asia/Baku\",\n \"Tbilisi\"=&gt;\"Asia/Tbilisi\",\n \"Yerevan\"=&gt;\"Asia/Yerevan\",\n \"Kabul\"=&gt;\"Asia/Kabul\",\n \"Ekaterinburg\"=&gt;\"Asia/Yekaterinburg\",\n \"Islamabad\"=&gt;\"Asia/Karachi\",\n \"Karachi\"=&gt;\"Asia/Karachi\",\n \"Tashkent\"=&gt;\"Asia/Tashkent\",\n \"Chennai\"=&gt;\"Asia/Kolkata\",\n \"Kolkata\"=&gt;\"Asia/Kolkata\",\n \"Mumbai\"=&gt;\"Asia/Kolkata\",\n \"New Delhi\"=&gt;\"Asia/Kolkata\",\n \"Kathmandu\"=&gt;\"Asia/Kathmandu\",\n \"Astana\"=&gt;\"Asia/Dhaka\",\n \"Dhaka\"=&gt;\"Asia/Dhaka\",\n \"Sri Jayawardenepura\"=&gt;\"Asia/Colombo\",\n \"Almaty\"=&gt;\"Asia/Almaty\",\n \"Novosibirsk\"=&gt;\"Asia/Novosibirsk\",\n \"Rangoon\"=&gt;\"Asia/Rangoon\",\n \"Bangkok\"=&gt;\"Asia/Bangkok\",\n \"Hanoi\"=&gt;\"Asia/Bangkok\",\n \"Jakarta\"=&gt;\"Asia/Jakarta\",\n \"Krasnoyarsk\"=&gt;\"Asia/Krasnoyarsk\",\n \"Beijing\"=&gt;\"Asia/Shanghai\",\n \"Chongqing\"=&gt;\"Asia/Chongqing\",\n \"Hong Kong\"=&gt;\"Asia/Hong_Kong\",\n \"Urumqi\"=&gt;\"Asia/Urumqi\",\n \"Kuala Lumpur\"=&gt;\"Asia/Kuala_Lumpur\",\n \"Singapore\"=&gt;\"Asia/Singapore\",\n \"Taipei\"=&gt;\"Asia/Taipei\",\n \"Perth\"=&gt;\"Australia/Perth\",\n \"Irkutsk\"=&gt;\"Asia/Irkutsk\",\n \"Ulaanbaatar\"=&gt;\"Asia/Ulaanbaatar\",\n \"Seoul\"=&gt;\"Asia/Seoul\",\n \"Osaka\"=&gt;\"Asia/Tokyo\",\n \"Sapporo\"=&gt;\"Asia/Tokyo\",\n \"Tokyo\"=&gt;\"Asia/Tokyo\",\n \"Yakutsk\"=&gt;\"Asia/Yakutsk\",\n \"Darwin\"=&gt;\"Australia/Darwin\",\n \"Adelaide\"=&gt;\"Australia/Adelaide\",\n \"Canberra\"=&gt;\"Australia/Melbourne\",\n \"Melbourne\"=&gt;\"Australia/Melbourne\",\n \"Sydney\"=&gt;\"Australia/Sydney\",\n \"Brisbane\"=&gt;\"Australia/Brisbane\",\n \"Hobart\"=&gt;\"Australia/Hobart\",\n \"Vladivostok\"=&gt;\"Asia/Vladivostok\",\n \"Guam\"=&gt;\"Pacific/Guam\",\n \"Port Moresby\"=&gt;\"Pacific/Port_Moresby\",\n \"Magadan\"=&gt;\"Asia/Magadan\",\n \"Srednekolymsk\"=&gt;\"Asia/Srednekolymsk\",\n \"Solomon Is.\"=&gt;\"Pacific/Guadalcanal\",\n \"New Caledonia\"=&gt;\"Pacific/Noumea\",\n \"Fiji\"=&gt;\"Pacific/Fiji\",\n \"Kamchatka\"=&gt;\"Asia/Kamchatka\",\n \"Marshall Is.\"=&gt;\"Pacific/Majuro\",\n \"Auckland\"=&gt;\"Pacific/Auckland\",\n \"Wellington\"=&gt;\"Pacific/Auckland\",\n \"Nuku'alofa\"=&gt;\"Pacific/Tongatapu\",\n \"Tokelau Is.\"=&gt;\"Pacific/Fakaofo\",\n \"Chatham Is.\"=&gt;\"Pacific/Chatham\",\n \"Samoa\"=&gt;\"Pacific/Apia\"\n}\n</code></pre>\n\n<p><a href=\"http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html\" rel=\"noreferrer\">http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 7894, "user_id": 981616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92513702d30405c7e2ca056bdc72aa9f?s=128&d=identicon&r=PG", "display_name": "uday", "link": "https://stackoverflow.com/users/981616/uday"}, "edited": false, "score": 2, "creation_date": 1437577443, "post_id": 31566775, "comment_id": 51089224, "body": "you can see all the supported timezones using <code>rake time:zones:all</code>"}], "tags": [], "owner": {"reputation": 338, "user_id": 2252437, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Jxtih.jpg?s=128&g=1", "display_name": "Avael Kross", "link": "https://stackoverflow.com/users/2252437/avael-kross"}, "is_accepted": true, "score": -1, "last_activity_date": 1437577254, "last_edit_date": 1437577254, "creation_date": 1437576944, "answer_id": 31566775, "question_id": 31565999, "link": "https://stackoverflow.com/questions/31565999/invalid-timezone/31566775#31566775", "title": "Invalid timezone", "body": "<p>Why it happens(thanks @Athar):</p>\n\n<p>Time.now.zone returns a system time zone, while <code>in_time_zone</code> works with strict list (<code>ActiveSupport::TimeZone.all.collect(&amp;:name)</code>)</p>\n\n<p>Workaround: You can specify your timezone that way:</p>\n\n<pre><code>TZ=UTC rails console\n\n1.9.3-p327 :001 &gt; Time.now.zone\n=&gt; \"UTC\"\n</code></pre>\n\n<p>\"UTC\" is a valid timezone, so everything works.</p>\n"}, {"tags": [], "owner": {"reputation": 1765, "user_id": 3837223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwzEq.png?s=128&g=1", "display_name": "mnishiguchi", "link": "https://stackoverflow.com/users/3837223/mnishiguchi"}, "is_accepted": false, "score": 1, "last_activity_date": 1547596711, "creation_date": 1547596711, "answer_id": 54208545, "question_id": 31565999, "link": "https://stackoverflow.com/questions/31565999/invalid-timezone/54208545#54208545", "title": "Invalid timezone", "body": "<p>I use this simple core extension for String so that I can ensure that I use rails-acceptable time zone names.</p>\n\n<pre><code>ruby 2.5\nrails 5.2\n</code></pre>\n\ndefine core extension\n\n<pre><code># app/lib/core_extensions/string.rb\nmodule CoreExtensions\n  module String\n    def to_time_zone_name\n      strip!\n      return self if ActiveSupport::TimeZone::MAPPING.key?(self)\n\n      ActiveSupport::TimeZone::MAPPING.invert[self]\n    end\n\n    def valid_time_zone_name?\n      to_time_zone_name.present?\n    end\n  end\nend\n</code></pre>\n\nset up core extension\n\n<pre><code># config/initializers/core_extensions.rb\nString.include CoreExtensions::String\n</code></pre>\n\nusage\n\n<pre><code>\"YEKT\".valid_time_zone_name?\n#=&gt; false\n\"Tokyo\".valid_time_zone_name?\n#=&gt; true\n</code></pre>\n\n<p>Hope this will be useful for somebody.</p>\n"}], "owner": {"reputation": 338, "user_id": 2252437, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Jxtih.jpg?s=128&g=1", "display_name": "Avael Kross", "link": "https://stackoverflow.com/users/2252437/avael-kross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6201, "favorite_count": 1, "accepted_answer_id": 31566775, "answer_count": 3, "score": 5, "last_activity_date": 1547596711, "creation_date": 1437575175, "question_id": 31565999, "link": "https://stackoverflow.com/questions/31565999/invalid-timezone", "title": "Invalid timezone", "body": "<p>Just wondering why it happens:</p>\n\n<pre><code>1.9.3-p327 :001 &gt; Time.now.zone\n=&gt; \"YEKT\"\n\n1.9.3-p327 :002 &gt; Time.now.in_time_zone(\"YEKT\")\nArgumentError: Invalid Timezone: YEKT\n</code></pre>\n\n<p>YEKT - is the timezone of my city(Yekaterinburg).</p>\n\n<p>What the hell is going on? I'm setting up a project and trying to fix all tests, but can't fix this behavior. Or can I emulate another current timezone(without changing code ideally)?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "activerecord", "associations"], "owner": {"reputation": 996, "user_id": 240952, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Oz7Kp.png?s=128&g=1", "display_name": "Orlando", "link": "https://stackoverflow.com/users/240952/orlando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437574698, "creation_date": 1437574698, "question_id": 31565784, "link": "https://stackoverflow.com/questions/31565784/ruby-on-rails-complex-association-with-mapping-table", "title": "Ruby on Rails complex association with mapping table", "body": "<p>I have the following models:</p>\n\n<p><code>Mapping</code>,\n<code>Plan</code> (plan_id),\n<code>UpgradeGroup</code> (pug_id),\n<code>Upgrade</code> (pu_id),\n<code>OptionGroup</code> (pog_id),\nand <code>Option</code> (po_id).</p>\n\n<p>Their relationship is that <code>Plan</code> has many <code>UpgradeGroup</code>, <code>Upgrade</code>, <code>OptionGroup</code>, and <code>Option</code>. <code>UpgradeGroup</code> belongs to <code>Plan</code> and has many <code>Upgrade</code>, <code>OptionGroup</code>, and <code>Option</code>. <code>Upgrade</code> belongs to <code>UpgradeGroup</code> and has many <code>OptionGroup</code> and <code>Option</code>. <code>OptionGroup</code> belongs to <code>Upgrade</code> and has many <code>Option</code>. And lastly, <code>Option</code> belongs to <code>OptionGroup</code>.</p>\n\n<p>I'm working with multiple databases I cannot change in any way, and this set of associations is the one I'm having trouble with. The <code>Mapping</code> table contains the following details regarding how the objects are matched up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/znLcS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/znLcS.png\" alt=\"Mapping database table\"></a></p>\n\n<p>I have each of the models set up already using the proper table name and primary key, but I need to set up an association where I can say plan.upgrade_groups and get 4 results (objects with pug_ids: 12, 27, 28, 30), or plan.upgrade_group.first.upgrades and get 1 result (pu_id: 44) and such. Right now I'm as far as plan.mappings #=> all 16 results, where the <code>Mapping</code> model is:</p>\n\n<pre><code>has_many :plans,\n  foreign_key: \"plan_id\"\n\nhas_many :upgrade_groups,\n  foreign_key: \"pug_id\"\n\nhas_many :upgrades,\n  foreign_key: \"pu_id\"\n\nhas_many :option_groups,\n  foreign_key: \"pog_id\"\n\nhas_many :options,\n  foreign_key: \"po_id\"\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "nested-forms"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437581053, "post_id": 31567534, "comment_id": 51091932, "body": "IF i do remove tsk1s... can it still work to add more fields like fields_for do? There are any working example that you can send me?"}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437581134, "post_id": 31567534, "comment_id": 51091996, "body": "You can use <code>fields_for</code> on any associated model. Check out <a href=\"https://gorails.com/episodes/forum-nested-attributes-and-fields-for\" rel=\"nofollow noreferrer\">gorails.com/episodes/forum-nested-attributes-and-fields-for</a> for a recent, simple demo."}, {"owner": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437586580, "post_id": 31567534, "comment_id": 51095280, "body": "if i use this commad of yours, it will work? Where do i put then, def a new method?"}, {"owner": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437657120, "post_id": 31567534, "comment_id": 51128484, "body": "Yes, i did what you said so, but it didn&#39;t worked, maybe i did it wrong, could you please explain to me like i&#39;m five?"}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "reply_to_user": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437663388, "post_id": 31567534, "comment_id": 51133887, "body": "Not in this space, but there is already lots of help out there: <a href=\"http://guides.rubyonrails.org/form_helpers.html\" rel=\"nofollow noreferrer\">Form helpers</a>, <a href=\"http://www.sitepoint.com/complex-rails-forms-with-nested-attributes/\" rel=\"nofollow noreferrer\">Complex Rails forms with nested attributes</a> (a little old), <a href=\"http://www.createdbypete.com/articles/working-with-nested-forms-and-a-many-to-many-association-in-rails-4/\" rel=\"nofollow noreferrer\">Nested forms and a many to many association</a>, <a href=\"http://www.theodinproject.com/ruby-on-rails/advanced-forms\" rel=\"nofollow noreferrer\">Advanced forms</a>."}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": true, "score": 0, "last_activity_date": 1437578805, "creation_date": 1437578805, "answer_id": 31567534, "question_id": 31565554, "link": "https://stackoverflow.com/questions/31565554/ror-nested-form-hidden-field-value/31567534#31567534", "title": "RoR: Nested Form , Hidden Field, value", "body": "<p>IDs are not assigned until you <code>save</code> the records, so there's no way the form can submit something like <code>tsk1_id</code> - it doesn't exist yet.</p>\n\n<p>What you'll need to do is add the wiring in your controller to attach <code>tsk2</code> to <code>tsk1</code> and <code>tsk3</code> to <code>tsk2</code>.</p>\n\n<pre><code>@task = Task.new(task_params)\n@task.tsk1s.first.tsk2 = @task.tsk2s.first\n@task.tsk2s.first.tsk3 = @task.tsk3s.first\n@task.save\n</code></pre>\n\n<hr>\n\n<p>Part of the trouble might be that this is a strange schema. You're accessing some tskNs <code>through: :task</code> and others directly, which makes the wiring complicated.</p>\n\n<p>You might consider removing <code>Tsk1</code>, <code>Tsk2</code>, and <code>Tsk3</code> in favor of:</p>\n\n<ol>\n<li>Just a <code>Task</code> with an optional <code>parent_id</code>. Then you can build any tree of tasks and dependencies and get some functionality out of gems like <a href=\"https://github.com/amerine/acts_as_tree\" rel=\"nofollow\">acts_as_tree</a>.</li>\n<li><code>Task</code> and <code>Subtask</code>, with an <code>order</code> attribute on <code>Subtask</code>. Then you can assign <code>Subtask</code>s to <code>Task</code>s and specify the <code>order</code> they need to be finished in.</li>\n</ol>\n\n<p>Rails' form helpers will handle these cases much better than your current version.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437669997, "post_id": 31592999, "comment_id": 51138744, "body": "being simple, i have a project, where it has tasks, and tasks do child-tasks, im using nested form to be able to add any amount of tasks, that&#39;s why there are 3 tables named tsk1, tsk2 and tsk3. I have made what you said and got an error: undefined local variable or method `tsk1&#39; for #&lt;#&lt;Class:0x007fdbce80d908&gt;:0x007fdbce81b5f8&gt; , If you can name me other way to accomplish want i need it&#39;d be wonderful.. thanks for your time."}, {"owner": {"reputation": 795, "user_id": 1416586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c9e88549055ec5a72a74cc152067ac?s=128&d=identicon&r=PG", "display_name": "Breno Perucchi", "link": "https://stackoverflow.com/users/1416586/breno-perucchi"}, "reply_to_user": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "edited": false, "score": 0, "creation_date": 1437740760, "post_id": 31592999, "comment_id": 51170561, "body": "I don&#39;t know what happened with your form. Theoretically this should works. Please debug the object tsk1 in your form. Search by betterError for improve your debugs"}], "tags": [], "owner": {"reputation": 795, "user_id": 1416586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c9e88549055ec5a72a74cc152067ac?s=128&d=identicon&r=PG", "display_name": "Breno Perucchi", "link": "https://stackoverflow.com/users/1416586/breno-perucchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1437668656, "creation_date": 1437668656, "answer_id": 31592999, "question_id": 31565554, "link": "https://stackoverflow.com/questions/31565554/ror-nested-form-hidden-field-value/31592999#31592999", "title": "RoR: Nested Form , Hidden Field, value", "body": "<p>It's very complicated underestand what you want because in your relationchips are ambiguity references</p>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class Task &lt; ActiveRecord::Base\n  has_many :tsk1s\n  has_many :tsk2s, through: tsk1s\n  has_many :tsk3s, through: tsk2s\n  has_many :projetos\n  belongs_to :projeto\n\n  accepts_nested_attributes_for :tsk1s, allow_destroy: true\nend\n</code></pre>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class Tsk1 &lt; ActiveRecord::Base\nbelongs_to :task\nhas_many :tsk2s\naccepts_nested_attributes_for :tsk2s, allow_destroy: true\n\nend\n</code></pre>\n\n<pre class=\"lang-ruby prettyprint-override\"><code>class Tsk2 &lt; ActiveRecord::Base\nbelongs_to :tsk1\nhas_many :tsk3s\n\naccepts_nested_attributes_for :tsk3s, allow_destroy: true\n\nend\n</code></pre>\n\n<p>You have to modify the params to accept the above modification (I assume that you can fix this)</p>\n\n<pre><code>def task_params\n  params.require(:task).permit( :projeto_id, :raiz, :descr, :hour, :typo,\n   :tsk1s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :_destroy, :task_id, \n   :tsk2s_attributes =&gt; [:tsk1_id]], :tsk2s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :task_id, :tsk1_id ,:_destroy, :tsk3s_attributes =&gt; [:tsk2_id]],  \n   :tsk3s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :tsk2_id, :_destroy, :task_id])\nend\n</code></pre>\n\n<p>In your view</p>\n\n<pre><code>   ### inputs for task ####\n&lt;%= f.fields_for :tsk1s do |tsk1| %&gt;\n   ### inputs for tsk1 ####\n &lt;%= tsk1.fields_for :tsk2s do |tsk2| %&gt;\n      ### inputs for tsk2 ####\n &lt;%= tsk2.fields_for :tsk3s do |tsk3| %&gt;\n      ### inputs for tsk3 ####\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5061511, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91ee51a7e4dfc2d6e06d05a16b12101a?s=128&d=identicon&r=PG&f=1", "display_name": "Joao Carlos", "link": "https://stackoverflow.com/users/5061511/joao-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 31567534, "answer_count": 2, "score": 0, "last_activity_date": 1437668656, "creation_date": 1437574134, "question_id": 31565554, "link": "https://stackoverflow.com/questions/31565554/ror-nested-form-hidden-field-value", "title": "RoR: Nested Form , Hidden Field, value", "body": "<p>I have a Huge Nested Form, where it has a TASK and an field_for tsk1, tsk2 and tsk3, which all them belongs to TASK, but i'd like to tsk2 to get the id of the tsk1 and tsk3 of the tsk2, how can i handle this? i have tried hidden fields with value => [:tsk1_id] but didn't worked. </p>\n\n<p>_form = <a href=\"http://pastebin.com/K8qS9Tqw\" rel=\"nofollow\">http://pastebin.com/K8qS9Tqw</a> </p>\n\n<p>task controller </p>\n\n<pre><code>class TasksController &lt; ApplicationController\n  before_action :set_task, only: [:show, :edit, :update, :destroy]\n\n  # GET /tasks\n  # GET /tasks.json\n  def index\n    @tasks = Task.all\n  end\n\n  # GET /tasks/1\n  # GET /tasks/1.json\n  def show\n  end\n\n  # GET /tasks/new\n  def new\n    @task = Task.new\n    @tasks = Task.all\n  end\n\n\n  # GET /tasks/1/edit\n  def edit\n  end\n\n  # POST /tasks\n  # POST /tasks.json\n  def create\n    @task = Task.new(task_params)\n\n    respond_to do |format|\n      if @task.save\n        format.html { redirect_to projetopo_path, notice: 'Task was successfully created.' }\n        format.json { render :show, status: :created, location: @task }\n      else\n        format.html { render :new }\n        format.json { render json: @task.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PATCH/PUT /tasks/1\n  # PATCH/PUT /tasks/1.json\n  def update\n    respond_to do |format|\n      if @task.update(task_params)\n        format.html { redirect_to @task, notice: 'Task was successfully updated.' }\n        format.json { render :show, status: :ok, location: @task }\n      else\n        format.html { render :edit }\n        format.json { render json: @task.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /tasks/1\n  # DELETE /tasks/1.json\n  def destroy\n    @task.destroy\n    respond_to do |format|\n      format.html { redirect_to tasks_url, notice: 'Task was successfully destroyed.' }\n      format.json { head :no_content }\n    end\n  end\n\n  private\n    # Use callbacks to share common setup or constraints between actions.\n    def set_task\n      @task = Task.find(params[:id])\n    end\n\n    # Never trust parameters from the scary internet, only allow the white list through.\n  def task_params\n  params.require(:task).permit( :projeto_id, :raiz, :descr, :hour, :typo,  :tsk1s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :_destroy, :task_id, :tsk2s_attributes =&gt; [:tsk1_id]], :tsk2s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :task_id, :tsk1_id ,:_destroy, :tsk3s_attributes =&gt; [:tsk2_id]], :tsk3s_attributes =&gt; [ :raiz, :descr, :hour, :typo, :tsk2_id, :_destroy, :task_id])\nend\nend\n</code></pre>\n\n<p>task model </p>\n\n<pre><code>class Task &lt; ActiveRecord::Base\nhas_many :tsk1s\nhas_many :tsk2s \nhas_many :tsk3s\nhas_many :projetos\nbelongs_to :projeto\n\naccepts_nested_attributes_for :tsk1s, allow_destroy: true\naccepts_nested_attributes_for :tsk2s, allow_destroy: true\naccepts_nested_attributes_for :tsk3s, allow_destroy: true\n\nend\n</code></pre>\n\n<p>tsk1 model </p>\n\n<pre><code>class Tsk1 &lt; ActiveRecord::Base\nbelongs_to :task\nhas_many :tsk2s, through: :task\naccepts_nested_attributes_for :tsk2s, allow_destroy: true\n\n\n\nend\n</code></pre>\n\n<p>tsk2 model </p>\n\n<pre><code>class Tsk2 &lt; ActiveRecord::Base\nbelongs_to :tsk1\nhas_many :tsk3s , through: :tsk1\nbelongs_to :task\n\naccepts_nested_attributes_for :tsk3s, allow_destroy: true\n\nend\n</code></pre>\n\n<p>tsk3 model </p>\n\n<pre><code>class Tsk3 &lt; ActiveRecord::Base\nbelongs_to :tsk2\nbelongs_to :task\n\nend\n</code></pre>\n"}, {"tags": ["ruby", "shoes-4"], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 1810896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8480daec7137f28565bc2d2e666b915a?s=128&d=identicon&r=PG", "display_name": "PragTob", "link": "https://stackoverflow.com/users/1810896/pragtob"}, "is_accepted": false, "score": 0, "last_activity_date": 1438615270, "creation_date": 1438615270, "answer_id": 31791020, "question_id": 31565474, "link": "https://stackoverflow.com/questions/31565474/flow-is-undefined-class-inheritance-issue-ruby-shoes/31791020#31791020", "title": "Flow is undefined - class inheritance issue? (Ruby Shoes)", "body": "<p>You are overwriting the initialize method which breaks the whole setup of shoes (it needs to get an app instance on which to call the flow method for instance).</p>\n\n<p>You are also following a <code>url</code> sample without using any actual <code>url</code> calls.</p>\n\n<p>A <a href=\"https://github.com/shoes/shoes4/blob/1b86197e86eabfcdcf804d867c909716cc8bc59f/samples/simple-guess-game.rb\" rel=\"nofollow\">widget</a> might suit your use case better.</p>\n\n<p>Personally I rather resort to defining methods within an app and then calling those :)</p>\n"}], "owner": {"reputation": 399, "user_id": 4457982, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f46b0a7d1146b6c39820aad74799a234?s=128&d=identicon&r=PG&f=1", "display_name": "h3xc0ntr0l", "link": "https://stackoverflow.com/users/4457982/h3xc0ntr0l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438615270, "creation_date": 1437573907, "question_id": 31565474, "link": "https://stackoverflow.com/questions/31565474/flow-is-undefined-class-inheritance-issue-ruby-shoes", "title": "Flow is undefined - class inheritance issue? (Ruby Shoes)", "body": "<p>I am following a sample located <a href=\"https://github.com/shoes/shoes4/blob/master/samples/class-book.rb\" rel=\"nofollow\">here</a> in the samples folder on the official Shoes github repo. I saw that the programmer defined a class <code>Book</code> which inherited from <code>Shoes</code>. I have a relatively large program coming along with shoes that I'm porting for 3.x, and I wanted to split all of my different classes into smaller files to make it easier on me. I have a file like so</p>\n\n<pre><code>#this class essentially sets up user interface\nclass Interface &lt; Shoes\n  def initialize\n    flow do\n      @shed = button \"New\"\n      @editbutton = button \"Edit\"\n      @employees = button \"Employees\"\n      @sdays = button \"Special Days\"\n      @makenote = button \"Make Note\"\n      @backbutton = button \"Go Back\"\n    end\n  end\nend\n</code></pre>\n\n<p>My main file looks like so</p>\n\n<pre><code>$LOAD_PATH &lt;&lt; \".\"\nrequire 'loader' #all of these are other classes i have defined\nrequire 'interface' #contains the interface class\nrequire 'schutil'\nShoes.app title: \"Baesler's Scheduling Application\", width: 1024, height: 768, resizable: true do\n  Interface.new\nend\n</code></pre>\n\n<p>First of all, in the sample I provided, the programmer never had to use a block with Shoes.app. I don't know how, but his class got initialized with shoes when it was ran. That was my original intention, but when I try that (the code above without ever calling Interface.init), nothing shows up in Shoes, but it does load. However, using the above code as-is, I get the following error:\n<code>NoMethodError: undefined method 'flow' for nil:NilClass</code></p>\n\n<p>If it helps at all, I am using the Shoes 4 preview 3 gem and am running Windows 8.1 64 bit. What am I doing wrong? Is this a bug in the Shoes codebase, or am I doing this wrong? Any help would be greatly appreciated.</p>\n"}, {"tags": ["ruby", "string", "split"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4925872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ee0b0e4e1de8f555cb75623cf17aa6a7?s=128&d=identicon&r=PG&f=1", "display_name": "ZHH", "link": "https://stackoverflow.com/users/4925872/zhh"}, "edited": false, "score": 1, "creation_date": 1437573162, "post_id": 31565131, "comment_id": 51085673, "body": "Could you explain what each means? I&#39;m very newbie to dev. Thanks!"}, {"owner": {"reputation": 99, "user_id": 4925872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ee0b0e4e1de8f555cb75623cf17aa6a7?s=128&d=identicon&r=PG&f=1", "display_name": "ZHH", "link": "https://stackoverflow.com/users/4925872/zhh"}, "edited": false, "score": 0, "creation_date": 1437573229, "post_id": 31565131, "comment_id": 51085726, "body": "Plus, i tried like this <code>string.split(&#39;\\s+(?=\\S*:)&#39;)</code> but doesnt work."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 99, "user_id": 4925872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ee0b0e4e1de8f555cb75623cf17aa6a7?s=128&d=identicon&r=PG&f=1", "display_name": "ZHH", "link": "https://stackoverflow.com/users/4925872/zhh"}, "edited": false, "score": 1, "creation_date": 1437573317, "post_id": 31565131, "comment_id": 51085796, "body": "@ZHH <code>string.split(&#47;\\s+(?=\\S*:)&#47;)</code>"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437574448, "post_id": 31565131, "comment_id": 51086815, "body": "Why is it <code>*</code> after <code>\\S</code>? The result may be the same, but from the meaning, I think it should be rather <code>+</code>, or even without a quantifier."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437574512, "post_id": 31565131, "comment_id": 51086867, "body": "@sawa if the string is <code>A:Hey :Hey</code> i guess it should be split too"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437574571, "post_id": 31565131, "comment_id": 51086929, "body": "@vks My interpretation was that a colon will always be preceded by some letter (most likely a single letter)."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 10, "last_activity_date": 1437573242, "last_edit_date": 1437573242, "creation_date": 1437573063, "answer_id": 31565131, "question_id": 31565003, "link": "https://stackoverflow.com/questions/31565003/string-split-by-certain-condition/31565131#31565131", "title": "String split by certain condition", "body": "<pre><code>\\s+(?=\\S*:)\n</code></pre>\n\n<p>You can split by this.</p>\n\n<p>See demo.</p>\n\n<p><a href=\"https://regex101.com/r/hF7zZ1/4\">https://regex101.com/r/hF7zZ1/4</a></p>\n\n<p>This basically use a <code>lookahead</code> to make sure that the <code>space</code> which is being split upon is followed by <code>non space characters and :</code> .So it will work as you want.</p>\n"}], "owner": {"reputation": 99, "user_id": 4925872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ee0b0e4e1de8f555cb75623cf17aa6a7?s=128&d=identicon&r=PG&f=1", "display_name": "ZHH", "link": "https://stackoverflow.com/users/4925872/zhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 31565131, "answer_count": 1, "score": 3, "last_activity_date": 1437574205, "creation_date": 1437572753, "last_edit_date": 1437574205, "question_id": 31565003, "link": "https://stackoverflow.com/questions/31565003/string-split-by-certain-condition", "title": "String split by certain condition", "body": "<p>I'd like to split this string by <code>' '</code> only if it has <code>':'</code>:</p>\n\n<pre><code>\"A:Hey B:Are C:You there\"\n</code></pre>\n\n<p><code>C:You there</code> should be not split. The result should be:</p>\n\n<pre><code>[\"A:Hey\", \"B:Are\", \"C:You there\"]\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "postgresql", "heroku", "deployment"], "comments": [{"owner": {"reputation": 591, "user_id": 1169939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRDKs.jpg?s=128&g=1", "display_name": "marksiemers", "link": "https://stackoverflow.com/users/1169939/marksiemers"}, "edited": false, "score": 0, "creation_date": 1437573678, "post_id": 31564649, "comment_id": 51086124, "body": "Using <code>seed.rb</code> is good for small amounts of default data (I use it to load the countries in the ISO 3166 list). I would take care that you do the equivalent of an <code>UPSERT</code> anytime you are seeding, you want to be able to run the seed file multiple times without creating duplicates. You can use <code>first_or_create</code> with Rails 3.2.1+"}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 3251097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb5cd4aa3846aae5da34794a52971405?s=128&d=identicon&r=PG", "display_name": "user81269", "link": "https://stackoverflow.com/users/3251097/user81269"}, "is_accepted": false, "score": 4, "last_activity_date": 1437572509, "last_edit_date": 1437572509, "creation_date": 1437572060, "answer_id": 31564711, "question_id": 31564649, "link": "https://stackoverflow.com/questions/31564649/will-rails-db-data-be-lost-on-redeploy-to-heroku/31564711#31564711", "title": "Will Rails db Data be Lost on Redeploy to Heroku?", "body": "<p>If you're using a database, your data won't get lost on redeploys. Only the data which is stored in <code>/tmp</code> gets lost after a deploy is performed.</p>\n\n<p>I'm going to assume you're using heroku postgres. In this case check out this, it's good to regularly create backups: <a href=\"https://devcenter.heroku.com/articles/heroku-postgres-backups\" rel=\"nofollow\">https://devcenter.heroku.com/articles/heroku-postgres-backups</a> </p>\n\n<p>In <code>seed.rb</code> you should only add data which is necessary to set up the project, and nothing more. e.g. create an admin.</p>\n"}, {"tags": [], "owner": {"reputation": 7032, "user_id": 1743174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f871161f754442df697dce1cede77a5?s=128&d=identicon&r=PG&f=1", "display_name": "Dipak Gupta", "link": "https://stackoverflow.com/users/1743174/dipak-gupta"}, "is_accepted": false, "score": 3, "last_activity_date": 1437573213, "creation_date": 1437573213, "answer_id": 31565202, "question_id": 31564649, "link": "https://stackoverflow.com/questions/31564649/will-rails-db-data-be-lost-on-redeploy-to-heroku/31565202#31565202", "title": "Will Rails db Data be Lost on Redeploy to Heroku?", "body": "<p>No data will be lost on redeploy to heroku until you intentionally do so.\nSeed data only for populating some default database values in a rails application. </p>\n\n<p>I am assuming you are uploading pictures in your application and they don't persist after deploy. So that true. Heroku does allow you to upload images to heroku. But they not persist after deployment.</p>\n\n<p>Uploaded images persist for particular interval of time.</p>\n\n<p>If this is the case with you try upload images to amazon s3 bucket, all uploading gem support that.</p>\n"}], "owner": {"reputation": 597, "user_id": 4534985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Z4Y06.jpg?s=128&g=1", "display_name": "inthenameofmusik", "link": "https://stackoverflow.com/users/4534985/inthenameofmusik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437573213, "creation_date": 1437571885, "question_id": 31564649, "link": "https://stackoverflow.com/questions/31564649/will-rails-db-data-be-lost-on-redeploy-to-heroku", "title": "Will Rails db Data be Lost on Redeploy to Heroku?", "body": "<p>I've been searching and doing my research but I can't seem to find any articles directly talking about this. I have an art gallery rails app with around 6 models of different attributes, pieces of art, etc. When I make changes to their site and redeploy, will the databases also be reset? Or is Postgres and the rails app separate on Heroku?</p>\n\n<p>I also read that someone takes all of their data and puts it into <code>seed.rb</code> then repopulates the databases with the seed data once it's redeployed? Does that sound right? Any insight would be very helpful. Thank you</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2453, "user_id": 2647198, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fhjZv.jpg?s=128&g=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/2647198/vikram"}, "edited": false, "score": 0, "creation_date": 1437926356, "post_id": 31564491, "comment_id": 51224475, "body": "I managed to upload files but code is writing complete file write now, so I added new question here <a href=\"http://stackoverflow.com/questions/31639004/stop-file-write-if-file-size-exceeds-500kb-ruby-on-rails\" title=\"stop file write if file size exceeds 500kb ruby on rails\">stackoverflow.com/questions/31639004/&hellip;</a>"}], "owner": {"reputation": 2453, "user_id": 2647198, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/fhjZv.jpg?s=128&g=1", "display_name": "Vikram", "link": "https://stackoverflow.com/users/2647198/vikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1437574482, "creation_date": 1437571477, "last_edit_date": 1437574482, "question_id": 31564491, "link": "https://stackoverflow.com/questions/31564491/upload-only-few-kbs-of-large-file", "title": "Upload only few KB&#39;s of large file", "body": "<p>On my rails app I have file fields and some text fields for url of remote server files, these file can be large in size ( 1-2 GB ) so i want to upload only few KB's to check initials of files.</p>\n\n<p>I have installed paperclip but I am not sure if it can be done with this.</p>\n\n<p>I tried with custom code as well but they all are uploading complete files.</p>\n\n<p>Also looked into blueimp jquery upload but not sure how to us it with my for.</p>\n\n<p>Following is my requirement in detail</p>\n\n<p>App has a form with file fields and text fields for remote file urls ( to upload to server ), When user clicks on check button all files ( few kbs ) should be downloaded, run function to check all files and remove invalid files and then run function to upload complete files.</p>\n\n<p>It there any tutorial or method or gem which for this type of requirement ?</p>\n"}, {"tags": ["ruby", "webdriver", "testunit"], "answers": [{"tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1437571310, "creation_date": 1437571310, "answer_id": 31564425, "question_id": 31564157, "link": "https://stackoverflow.com/questions/31564157/formatting-console-output-from-testunit/31564425#31564425", "title": "Formatting console output from Test::Unit", "body": "<p><code>[32;1m</code> and in general any <code>[((\\d+);?)m</code> is the color escape sequence. They highlight the output in your console. <code>[32;1m.[0m</code> is literally a <strong>green dot</strong>, denoting successful test execution.</p>\n\n<p>There are three ways to handle them:</p>\n\n<h3>Set the <a href=\"http://ruby-doc.org/core-1.9.3/IO.html#method-i-tty-3F\" rel=\"nofollow\"><code>tty?</code></a> attribute to false on the output stream</h3>\n\n<p>This will make a perfect log file, but you\u2019ll lose any color highlighting in the console itself.</p>\n\n<h3>Use different writers for console and file</h3>\n\n<p>This is a long way round and seem to be an overkill for your approach.</p>\n\n<h3>Filter out escape sequences</h3>\n\n<p>I would go with:</p>\n\n<pre><code>$out_file.write string.gsub /\\[[\\d;]+m/, ''\n</code></pre>\n\n<p>The above will filter any crap out and you\u2019ll get the plain old-school text in your file.</p>\n"}], "owner": {"reputation": 109, "user_id": 3896725, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bRCOH.jpg?s=128&g=1", "display_name": "Jen", "link": "https://stackoverflow.com/users/3896725/jen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 31564425, "answer_count": 1, "score": 0, "last_activity_date": 1437571310, "creation_date": 1437570654, "question_id": 31564157, "link": "https://stackoverflow.com/questions/31564157/formatting-console-output-from-testunit", "title": "Formatting console output from Test::Unit", "body": "<pre><code>require \"json\"\nrequire \"selenium-webdriver\"\ngem \"test-unit\"\nrequire \"test/unit\"\n\nclass Tests &lt; Test::Unit::TestCase\n\n$out_file = File.new('log.txt', 'w')\n\ndef $stdout.write string\n  $out_file.write string\n  super\nend\n</code></pre>\n\n<p>When I use the above code the output in the console looks great but when it's finished it dumps everything into my log file (like I expect) but the format in the log file comes out with strange extra characters at the end.  The first two lines below are as expected but the third is ???</p>\n\n<p>First Run - Main: 1.998</p>\n\n<p>First Run - Drill Through: 16.527</p>\n\n<p>[32;1m.[0m</p>\n\n<p>I've been fishing around for some options and I've tried to configure the test-unit.yml file fiddling with the format options below but no matter what I try there nothing changes the format of the output.</p>\n\n<p>runner: console\nconsole_options:\n  output_level: 1\n  format: documentation\n  show_detail_immediately: true</p>\n"}, {"tags": ["ruby", "windows", "gem"], "answers": [{"comments": [{"owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "edited": false, "score": 0, "creation_date": 1437610126, "post_id": 31567351, "comment_id": 51106770, "body": "Thanks, that did solve the problem. I updated to rubygems 2.4.8. For another purpose I needed to install gtksourceview2, and ran into the exact same problem (even with 2.4.8)"}, {"owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "reply_to_user": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "edited": false, "score": 0, "creation_date": 1438023083, "post_id": 31567351, "comment_id": 51266639, "body": "<a href=\"https://rubygems.org/gems/gtksourceview2/versions/2.2.5\" rel=\"nofollow noreferrer\">rubygems.org</a> only lists a <code>mingw32-x86</code> binary for <code>gtksourceview2</code> version 2.2.3"}], "tags": [], "owner": {"reputation": 4288, "user_id": 527152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c784b2e1c3fb28d8bad8f50ca0282b4?s=128&d=identicon&r=PG", "display_name": "Azolo", "link": "https://stackoverflow.com/users/527152/azolo"}, "is_accepted": true, "score": 1, "last_activity_date": 1437578708, "last_edit_date": 1437578708, "creation_date": 1437578365, "answer_id": 31567351, "question_id": 31563570, "link": "https://stackoverflow.com/questions/31563570/how-to-include-x86-mingw32-binaries-when-install-a-gem/31567351#31567351", "title": "How to include x86-mingw32 binaries when install a gem", "body": "<p>So that is super weird. It looks like there's a bug in the version that ships with <code>Ruby 2.1.6</code> that is causing it to do weird things. Probably related to the <code>platforms</code> update in <code>rubygems 2.3.0</code>.</p>\n\n<p>Anyway, there is a binary version of <code>gtk3</code> available but you have to update <code>rubygems</code> Try doing <code>gem update --system</code> and install <code>gtk3</code> again.</p>\n\n<p><em>Note:</em> You can check the available versions of a gem using the <a href=\"https://rubygems.org\" rel=\"nofollow\">rubygems</a> site. Here are the <a href=\"https://rubygems.org/gems/gtk3\" rel=\"nofollow\">available <code>gtk3</code> versions</a>.</p>\n"}], "owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "accepted_answer_id": 31567351, "answer_count": 1, "score": 0, "last_activity_date": 1437578708, "creation_date": 1437569184, "question_id": 31563570, "link": "https://stackoverflow.com/questions/31563570/how-to-include-x86-mingw32-binaries-when-install-a-gem", "title": "How to include x86-mingw32 binaries when install a gem", "body": "<p>On Windows 7, with ruby 2.1.6:\nI try to install gtk3 with:\ngem install gtk3</p>\n\n<pre><code>C:\\&gt;gem install gtk3                                                                                      \nFetching: pkg-config-1.1.6.gem (100%)                                                                     \nSuccessfully installed pkg-config-1.1.6                                                                   \nFetching: cairo-1.14.1-x86-mingw32.gem (100%)                                                             \nSuccessfully installed cairo-1.14.1-x86-mingw32                                                           \nFetching: glib2-2.2.5-x86-mingw32.gem (100%)                                                              \nSuccessfully installed glib2-2.2.5-x86-mingw32                                                            \nFetching: gobject-introspection-2.2.5-x86-mingw32.gem (100%)                                              \nSuccessfully installed gobject-introspection-2.2.5-x86-mingw32                                            \nFetching: gio2-2.2.5-x86-mingw32.gem (100%)                                                               \nSuccessfully installed gio2-2.2.5-x86-mingw32                                                             \nFetching: atk-2.2.5-x86-mingw32.gem (100%)                                                                \nSuccessfully installed atk-2.2.5-x86-mingw32                                                              \nFetching: pango-2.2.5-x86-mingw32.gem (100%)                                                              \nSuccessfully installed pango-2.2.5-x86-mingw32                                                            \nFetching: gdk_pixbuf2-2.2.5-x86-mingw32.gem (100%)                                                        \nSuccessfully installed gdk_pixbuf2-2.2.5-x86-mingw32                                                      \nFetching: cairo-gobject-2.2.5-x86-mingw32.gem (100%)                                                      \nSuccessfully installed cairo-gobject-2.2.5-x86-mingw32                                                    \nFetching: gdk3-2.2.5-x86-mingw32.gem (100%)                                                               \nSuccessfully installed gdk3-2.2.5-x86-mingw32                                                             \nFetching: gtk3-2.2.5.gem (100%)                                                                           \nERROR:  Error installing gtk3:                                                                            \n        The 'gtk3' native gem requires installed build tools.\n</code></pre>\n\n<p>So now I notice that for all the gems it is installing, it gets a version with -x86-mingw32 as part of it. Except for gtk3, it says: gtk3-2.2.5.gem, without the -x86-mingw32.</p>\n\n<p>So my question: How can I force installer to download the version with -x86-mingw32 ? or the fact that it doesn't, does that mean that there is no such gem.</p>\n\n<p>If not, how can I find what previous version does include the binaries as part of the gem i.e. -x86-mingw32</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "oop", "variables", "model-view-controller"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1437568218, "post_id": 31563186, "comment_id": 51081962, "body": "One difference would be you can&#39;t use <code>local_varaibles</code> defined in controller in views but you can use <code>object_variables</code>."}, {"owner": {"reputation": 110512, "user_id": 350087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/808bec1c640143bd7091888d9edfb2f2?s=128&d=identicon&r=PG", "display_name": "apneadiving", "link": "https://stackoverflow.com/users/350087/apneadiving"}, "edited": false, "score": 0, "creation_date": 1437568259, "post_id": 31563186, "comment_id": 51081988, "body": "btw you should really not use <code>delete</code>"}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1437568756, "post_id": 31563186, "comment_id": 51082357, "body": "Right use <code>.destroy</code> instead of <code>.delete</code>. <code>delete</code> does not call any callbacks on the the model such as cascading destroys (destroy child records when parent is deleted) or any cleanup."}], "answers": [{"tags": [], "owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "is_accepted": false, "score": 1, "last_activity_date": 1437568263, "creation_date": 1437568263, "answer_id": 31563251, "question_id": 31563186, "link": "https://stackoverflow.com/questions/31563186/rails-controller-object-scope-vs-controller-function-scope/31563251#31563251", "title": "Rails - Controller Object Scope vs Controller Function Scope", "body": "<p>In your provided code, <code>local_variable</code> would only be available to the current method in the controller. Your <code>@object_variable</code> would be available to the method, but also to the view (to be accesses directly as <code>@object_variable</code>)</p>\n\n<p>Therefore, you should reserve using <code>@object_variable</code> for only when you want to use the variable in your views.</p>\n"}, {"tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 4, "last_activity_date": 1437569399, "creation_date": 1437569399, "answer_id": 31563656, "question_id": 31563186, "link": "https://stackoverflow.com/questions/31563186/rails-controller-object-scope-vs-controller-function-scope/31563656#31563656", "title": "Rails - Controller Object Scope vs Controller Function Scope", "body": "<p>Rails exports the controller's instance variables into what is called the view context:</p>\n\n<pre><code>class UserController &lt; ApplicationController\n  def new \n    @user = User.new\n  end\nend\n</code></pre>\n\n<hr>\n\n<pre><code># the view gets any @ variables from the controller.\n# views/users/new.html.haml\n= form_for(@user) do\n</code></pre>\n\n<p>Rails also offers another mechanism called locals as well:</p>\n\n<pre><code>class UserController &lt; ApplicationController\n  def new \n    render :new, locals: { user: User.new }\n  end\nend\n</code></pre>\n\n<hr>\n\n<pre><code># locals are lexical variables in the view context.\n# views/users/new.html.haml\n= form_for(user) do\n</code></pre>\n\n<p>Which exports a local variable to the view context.</p>\n\n<h2>So when do you use what?</h2>\n\n<p>Use lexical (local) variables (some_variable) for anything you do not want to implicitly export to the view. Use the locals option when rendering when you need to pass data between views and partials or things that are not quite part of the \"public api\" of your controller.</p>\n\n<p>Use instance variables (@foo) only for important exports from your controller and treat them as part of a public API. Make sure you test them:</p>\n\n<pre><code>describe UserController do\n  describe \"#new\" do\n    before { get :new }\n    it \"assigns as new user as @user\" do\n      expect(assigns(:user)).to be_a_new_record\n    end\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 5933, "user_id": 3501228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/6ocDo.jpg?s=128&g=1", "display_name": "Noman Ur Rehman", "link": "https://stackoverflow.com/users/3501228/noman-ur-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1437569399, "creation_date": 1437568130, "question_id": 31563186, "link": "https://stackoverflow.com/questions/31563186/rails-controller-object-scope-vs-controller-function-scope", "title": "Rails - Controller Object Scope vs Controller Function Scope", "body": "<p>I have seen local variables as well as object variables being used in Rails controller actions. An example of both is given below:</p>\n\n<pre><code># Local variable\nclass MyController &lt; ApplicationController\n  def some_action\n    local_variable = Model.find(&lt;some-condition&gt;).delete\n  end\nend\n\n# Object variable\nclass MyController &lt; ApplicationController\n  def some_action\n    @object_variable = Model.find(&lt;some-condition&gt;).delete\n  end\nend\n</code></pre>\n\n<p>I want to know what is the difference between both of them and the scenarios that they are both suited to be used in.</p>\n"}, {"tags": ["ruby", "hash"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437566805, "post_id": 31562459, "comment_id": 51080910, "body": "It is ungrammatical to use <code>nor</code> in affirmative sentences like &quot;the depth of the hash nor the names of the nodes stay the same&quot;. Did you mean they do <b>not</b> stay the same, in other words, <b>neither</b> of them stay the same?"}, {"owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437566985, "post_id": 31562459, "comment_id": 51081039, "body": "@sawa sorry english is not my first language. I edited my post adding neither, hope it makes sense now and is grammatically correct too? if not correct me please."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437567840, "post_id": 31562459, "comment_id": 51081708, "body": "Your edit made that part okay. Your wording &quot;hash depth&quot; is misleading. You seem to mean &quot;a sequence of hash keys&quot;."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1439508479, "post_id": 31562459, "comment_id": 51903411, "body": "Don&#39;t forget to select an answer if you find any of them helpful."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "edited": false, "score": 0, "creation_date": 1437567733, "post_id": 31562648, "comment_id": 51081632, "body": "This is not what I asked for, but it will be useful if I want the user to input the hash_depth in a ruby square bracket notation, instead of just the names of the nodes separated by commas. Thank you"}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437566787, "creation_date": 1437566787, "answer_id": 31562648, "question_id": 31562459, "link": "https://stackoverflow.com/questions/31562459/access-variable-hash-depth-values-with-square-brackets-notation/31562648#31562648", "title": "Access variable hash depth values with square brackets notation", "body": "<p>Although <code>eval</code> does everything you need, there is another approach, since you already have the working code for comma-separated list:</p>\n\n<pre><code>hash_depth=\"[:node1][:node2][:node3][:node4]\"\ncsh = hash_depth.gsub(/\\A\\[:|\\]\\[:|\\]\\Z/, { '][:' =&gt; ',' })\n#\u21d2 \"node1,node2,node3,node4\"\n</code></pre>\n\n<p>And now you are free to apply your existing function to <code>csh</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10490, "user_id": 513951, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6cace4406e1ea825e78ec0134a5ea6fd?s=128&d=identicon&r=PG&f=1", "display_name": "user513951", "link": "https://stackoverflow.com/users/513951/user513951"}, "edited": false, "score": 0, "creation_date": 1452051697, "post_id": 31562941, "comment_id": 56996233, "body": "Do you think this answer can be improved with <code>Hash#dig</code>?"}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 1, "last_activity_date": 1437567553, "creation_date": 1437567553, "answer_id": 31562941, "question_id": 31562459, "link": "https://stackoverflow.com/questions/31562459/access-variable-hash-depth-values-with-square-brackets-notation/31562941#31562941", "title": "Access variable hash depth values with square brackets notation", "body": "<p>If this is a webapp, I think you should prepare a list of short textareas, which starts with a single text item, and the user can keep adding a new item to the list by clicking on a button. The areas will be filled by the user, and will be sent.</p>\n\n<p>Then, you will probably receive this through some serialized form. You decode this to get an array of strings:</p>\n\n<pre><code>str_a = [\"node1\", \"node2\", \"node3\", \"node4\"]\n</code></pre>\n\n<p>and you can reach the inner element by doing:</p>\n\n<pre><code>str_a.inject(hash1){|h, s| h[s.to_sym]} #=&gt; {:node5 =&gt; 1}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437568197, "creation_date": 1437566313, "last_edit_date": 1437568197, "question_id": 31562459, "link": "https://stackoverflow.com/questions/31562459/access-variable-hash-depth-values-with-square-brackets-notation", "title": "Access variable hash depth values with square brackets notation", "body": "<p>Given this hash:</p>\n\n<pre><code>hash1= { node1: { node2: { node3: { node4: { node5: 1 } } } } }\n</code></pre>\n\n<p>We access inside nodes with square brackets like this:</p>\n\n<pre><code>hash1[:node1][:node2][:node3][:node4]\n</code></pre>\n\n<p>Now I have a hash that I know will always be nested as it is an XML response from a SOAP webservice, but neither the depth of the hash nor the names of the nodes stay the same. So it would be nice if I could ask the user of my application for the hash depth and store it in a variable. And then be able to do <code>hash1[:hash_depth]</code> and achieve the same result as above.</p>\n\n<p>I have accomplished what I want by the following code:</p>\n\n<pre><code>str = 'node1,node2,node3,node4'\nstr_a = str.split(',')\nhash_copy = hash1\nstr_a.each { |s| hash_copy = hash_copy.[](s.to_sym) }\nhash_copy\n=&gt; {:node5=&gt;1}\nhash1[:node1][:node2][:node3][:node4]\n=&gt; {:node5=&gt;1}\n</code></pre>\n\n<p>that is asking the user to enter the hash depth separated by commas, store it in a string, split it, make an array, clone the original hash, go down each level and modify the hash till I get to the desired node. Is there a way to do it with the square brackets notation and using a variable to store the depth without modifying the hash or needing to clone it? </p>\n\n<p><strong>Edit</strong>:\nsomeone answered with the following (can't see his post anymore???)</p>\n\n<pre><code>hash_depth=\"[:node1][:node2][:node3][:node4]\"\neval \"hash1#{hash_depth}\"\n</code></pre>\n"}, {"tags": ["ruby", "scala", "monkeypatching"], "answers": [{"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": true, "score": 2, "last_activity_date": 1437563328, "creation_date": 1437563328, "answer_id": 31561402, "question_id": 31561137, "link": "https://stackoverflow.com/questions/31561137/scala-monkey-patching-compared-to-ruby/31561402#31561402", "title": "Scala Monkey Patching Compared to Ruby", "body": "<p>Scala will only attempt to find an implicit conversion for methods that aren't found. Since Scala finds a <code>Int.+</code> method, it won't try to look for an implicit conversion, as opposed to <code>toRoman</code>, where Scala <em>doesn't</em> find the method and thus will search for an implicit conversion from <code>Int</code> to some type with a <code>toRoman</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 17720, "user_id": 498594, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/EYtd3.png?s=128&g=1", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/498594/kelvin"}, "is_accepted": false, "score": 1, "last_activity_date": 1479840326, "last_edit_date": 1479840326, "creation_date": 1479838461, "answer_id": 40748871, "question_id": 31561137, "link": "https://stackoverflow.com/questions/31561137/scala-monkey-patching-compared-to-ruby/40748871#40748871", "title": "Scala Monkey Patching Compared to Ruby", "body": "<p>This comes close:</p>\n\n<pre><code>class WrappedInt(val n: Int) {\n  def + (other: Int): Int = {\n    n - other\n  }\n}\nimplicit def unpack(wi: WrappedInt): Int = {\n  wi.n\n}\n\n// usage\nval wrapped = new WrappedInt(5)\nprintln(wrapped + 3)  // performs 5 - 3\nprintln(wrapped * 2)  // 5 * 2 (`unpack` is called first)\n</code></pre>\n\n<p>Note however that if you pass a <code>WrappedInt</code> into a method that expects an <code>Int</code>, the method will operate on the unwrapped value, so the \"patch\" won't be active inside the method:</p>\n\n<pre><code>def addOne(n: Int) = {\n  n + 1\n}\nprintln(addOne(new WrappedInt(5)))  // Prints 6 (no patch)\n</code></pre>\n\n<p>I think it's better not to allow global patching - it's very dangerous because it there's no indication something has been patched if you're looking at a class in isolation. Everyone on a project will need to learn and memorize all these things that happen invisibly. And if you're working on multiple projects, you'll need to remember which project has which patch. With Scala, third-party implicits must be explicitly imported, so there's some indication in the current file or scope that something special is going on.</p>\n\n<p>Ruby has refinements, but they <a href=\"http://interblah.net/why-is-nobody-using-refinements\" rel=\"nofollow noreferrer\">don't seem very popular</a>, probably because patching is so easy and ingrained in the culture.</p>\n"}], "owner": {"reputation": 9567, "user_id": 1900722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/nGsJr.jpg?s=128&g=1", "display_name": "anquegi", "link": "https://stackoverflow.com/users/1900722/anquegi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "accepted_answer_id": 31561402, "answer_count": 2, "score": 1, "last_activity_date": 1479840326, "creation_date": 1437562602, "question_id": 31561137, "link": "https://stackoverflow.com/questions/31561137/scala-monkey-patching-compared-to-ruby", "title": "Scala Monkey Patching Compared to Ruby", "body": "<p>In Scala you can do Monkey Patching using implicits but yesterday I saw this example in ruby wih Fixnum, it's a silly thing but I would like to implement it in scala</p>\n\n<pre><code>class Fixnum\n\n  def to_roman\n    'I'*self #only works until 3, but only for this purpose \n  end\n\n   def +(other)\n      self - other\n   end\nend\n\n\nputs 2.to_roman #This prints \"II\"\nputs 1 + 1 #This prints 0\n</code></pre>\n\n<p>however in scala I can not make to work the + (inverse) method</p>\n\n<pre><code>object TestImplicits extends App {\n\n  implicit class ReverseInt(val original: Int) extends AnyVal {\n\n    def toRoman = { \"I\" * original }\n\n    def +(other:Int){\n      original - other\n    }\n  }\n\n  println(5.toRoman) // prints IIIII\n  println( 5 + 3 )  // prints 8\n\n}\n</code></pre>\n\n<p>Also it is better that scala does't have global monkey patching like Ruby?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "oracle"], "comments": [{"owner": {"reputation": 2095, "user_id": 1172724, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c430604dc066eec3ca657502c55a2c9b?s=128&d=identicon&r=PG", "display_name": "Shani", "link": "https://stackoverflow.com/users/1172724/shani"}, "edited": false, "score": 0, "creation_date": 1437562665, "post_id": 31560909, "comment_id": 51078129, "body": "contents of your Gem-file is useful too."}, {"owner": {"reputation": 9323, "user_id": 1047207, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2U8wC.jpg?s=128&g=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/1047207/raj"}, "edited": false, "score": 0, "creation_date": 1437563896, "post_id": 31560909, "comment_id": 51078918, "body": "Post o/p of <code>bundle show oracle_enhanced_adapter</code>"}, {"owner": {"reputation": 1, "user_id": 5142844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4cfeb1b726f1481b17ba8e18fbb2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Minjeong Kim", "link": "https://stackoverflow.com/users/5142844/minjeong-kim"}, "edited": false, "score": 0, "creation_date": 1437564310, "post_id": 31560909, "comment_id": 51079194, "body": "it says &#39;Could not find gem &#39;oracle_enhanced_adapter&#39;. but i already installed gem &#39;activerecord-oracle_enhanced-adapter-1.6.2&#39;"}, {"owner": {"reputation": 9323, "user_id": 1047207, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2U8wC.jpg?s=128&g=1", "display_name": "RAJ", "link": "https://stackoverflow.com/users/1047207/raj"}, "edited": false, "score": 0, "creation_date": 1437564823, "post_id": 31560909, "comment_id": 51079542, "body": "@MinjeongKim Please add content of your <code>Gemfile</code> to your question"}, {"owner": {"reputation": 1, "user_id": 5142844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4cfeb1b726f1481b17ba8e18fbb2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Minjeong Kim", "link": "https://stackoverflow.com/users/5142844/minjeong-kim"}, "edited": false, "score": 0, "creation_date": 1437565673, "post_id": 31560909, "comment_id": 51080113, "body": "just attached gemfile below. thanks!"}], "owner": {"reputation": 1, "user_id": 5142844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4cfeb1b726f1481b17ba8e18fbb2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Minjeong Kim", "link": "https://stackoverflow.com/users/5142844/minjeong-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437581823, "creation_date": 1437561986, "last_edit_date": 1437581823, "question_id": 31560909, "link": "https://stackoverflow.com/questions/31560909/cant-start-oracle-db-on-ubuntu", "title": "Can&#39;t start oracle DB on ubuntu", "body": "<p>I'm trying to make an application with Ruby on Rails using Oracle DB. After I set up the <em>'database.yml'</em> file, I tried to type <code>rake db:create</code>. \nbut I got this message below:</p>\n\n<blockquote>\n  <p>Rake tasks not supported by 'oracle_enhanced' adapter\n  Couldn't create database for {*\"adapter\"=>\"oracle_enhanced\", \"database\"=>\"xx.xxx.xx.xx:1521/xxxx\", \"username\"=>\"****\", \"password\"=>\"****\"*}\n  db/test.sqlite3 already exists\n  rake aborted!\n  LoadError: Could not load 'active_record/connection_adapters/oracle_enhanced_adapter'. Make sure that the adapter in config/database.yml is valid. If you use an adapter other than 'mysql','mysql2','postgresql' or 'sqlite3' add the necessary adapter gem to the Gemfile.</p>\n</blockquote>\n\n<p>I already installed <code>oracle_enhanced_adapter</code>, I don't understand what is the problem. </p>\n\n<hr>\n\n<pre><code>source 'http://rubygems.org'\ngem 'rails', '4.2.3'\ngem 'sqlite3'\ngem 'sass-rails', '~&gt;5.0'\ngem 'uglifier', '&gt;=1.3.0'\ngem 'coffee-rails', '~&gt;4.1.0'\ngem 'jquery-rails'\ngem 'turbolinks'\ngem 'jbuilder', '~&gt;2.0'\ngem 'sdoc', '~&gt;0.4.0', group: :doc\ngroup :development, :test do\ngem 'byebug'\ngem 'web-console', '~&gt;2.0'\ngem 'spring'\ngem 'ruby-oci8'\ngem 'googlecharts'\ngem 'rack'\n</code></pre>\n"}, {"tags": ["ruby", "email", "imap"], "answers": [{"comments": [{"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1437837951, "post_id": 31561003, "comment_id": 51203406, "body": "Ruby must have a MIME header parser. Your expression doesn&#39;t handle header folding..."}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437562200, "creation_date": 1437562200, "answer_id": 31561003, "question_id": 31560552, "link": "https://stackoverflow.com/questions/31560552/how-to-decode-a-imap-fetch-result/31561003#31561003", "title": "How to decode a IMAP fetch result?", "body": "<pre><code>attr = \"Return-Path...\"\nattr.split(/\\r\\n(?=\\S)/).map { |e| e.split /:\\s*/, 2 }.to_h\n#\u21d2 {\n#                 \"Content-Type\" =&gt; \"multipart/mixed;\\r\\n boundary=\\\"------------050205030209030608020806\\\"\\r\\n\\r\\n\",\n#                         \"Date\" =&gt; \"Thu, 30 Oct 2014 12:10:57 +0100\",\n#                 \"Delivered-To\" =&gt; \"try.com-prova.prova@try.com\",\n#                         \"From\" =&gt; \"CBS - zum zum &lt;zum@zum.biz&gt;\",\n#                  \"In-Reply-To\" =&gt; \"&lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\",\n#                 \"MIME-Version\" =&gt; \"1.0\",\n#                   \"Message-ID\" =&gt; \"&lt;54521CC1.5030105@zum.biz&gt;\",\n#                 \"Organization\" =&gt; \"zum Business Solutions\",\n#                     \"Received\" =&gt; \"from 88-149-230-97.v4.ngi.it (HELO ?192.168.5.104?) (zum@zum.biz@88.149.230.97)\\r\\n  by 0 with ESMTPA; 30 Oct 2014 11:11:00 -0000\",\n#                   \"References\" =&gt; \"&lt;30D51861-7016-423D-BD10-963162547964@gmail.com&gt; &lt;CA94F654-03A9-4728-8FE8-C04EE09D195E@gmail.com&gt; &lt;AC91AEE8-A0F1-44DA-A7BF-7032D41902EC@gmail.com&gt; &lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\",\n#                  \"Return-Path\" =&gt; \"&lt;blabl@bla.biz&gt;\",\n#                      \"Subject\" =&gt; \"Fwd: Re: Nuovo sito web, Webmail SSL, Sicurezza ed Beta Archivio\\r\\n Email\",\n#                           \"To\" =&gt; \"prova.prova@try.com\",\n#                   \"User-Agent\" =&gt; \"Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.2.0\",\n#       \"X-Forwarded-Message-Id\" =&gt; \"&lt;30D51861-7016-423D-BD10-963162547964@gmail.com&gt; &lt;CA94F654-03A9-4728-8FE8-C04EE09D195E@gmail.com&gt; &lt;AC91AEE8-A0F1-44DA-A7BF-7032D41902EC@gmail.com&gt; &lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\",\n#             \"X-Originating-IP\" =&gt; \"88.149.230.97\",\n#  \"X-Qmail-Scanner-Diagnostics\" =&gt; \"from 88-149-230-97.v4.ngi.it (zum@zum.biz@88-149-230-97.v4.ngi.it) by mail-zum.cbsolt.net (envelope-from &lt;alessio@zum.biz&gt;, uid 89) with qmail-scanner-2.11st \\r\\n (clamdscan: 0.98.4/19501. spamassassin: 3.4.0. perlscan: 2.11st.  \\r\\n Clear:RC:1(88.149.230.97):. \\r\\n Processed in 0.481596 secs); 30 Oct 2014 11:11:15 -0000\"\n# }\n</code></pre>\n"}], "owner": {"reputation": 2159, "user_id": 4898937, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/iwgDT.jpg?s=128&g=1", "display_name": "ciaoben", "link": "https://stackoverflow.com/users/4898937/ciaoben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437562200, "creation_date": 1437561026, "question_id": 31560552, "link": "https://stackoverflow.com/questions/31560552/how-to-decode-a-imap-fetch-result", "title": "How to decode a IMAP fetch result?", "body": "<p>Hi I am using the ruby stdlib <code>net/imap</code> <code>fetch</code> method. </p>\n\n<p>I am calling this way:</p>\n\n<pre><code>headers = imap.fetch range, \"BODY[header]\"\n</code></pre>\n\n<p>Everything is fine, but I get in response a Struct, with a <code>attr</code> key with the following string:</p>\n\n<pre><code>\"Return-Path: &lt;blabl@bla.biz&gt;\\r\\nDelivered-To: try.com-prova.prova@try.com\\r\\nReceived: (qmail 21596 invoked by uid 106); 30 Oct 2014 11:11:16 -0000\\r\\nX-Originating-IP: 109.168.113.152\\r\\nX-Qmail-Scanner-Diagnostics: from mail.zum.biz by mx02eeh (envelope-from &lt;zum@zum.biz&gt;, uid 89) with qmail-scanner-2.11st \\r\\n (clamdscan: 0.98.1/19557. spamassassin: 3.3.2. perlscan: 2.11st.  \\r\\n Clear:RC:1(109.168.113.152):. \\r\\n Processed in 0.664894 secs); 30 Oct 2014 11:11:16 -0000\\r\\nReceived: from mail.zum.biz (109.168.113.152)\\r\\n  by 0 with SMTP; 30 Oct 2014 11:11:15 -0000\\r\\nReceived: (qmail 28197 invoked by uid 108); 30 Oct 2014 11:11:15 -0000\\r\\nX-Originating-IP: 88.149.230.97\\r\\nX-Qmail-Scanner-Diagnostics: from 88-149-230-97.v4.ngi.it (zum@zum.biz@88-149-230-97.v4.ngi.it) by mail-zum.cbsolt.net (envelope-from &lt;alessio@zum.biz&gt;, uid 89) with qmail-scanner-2.11st \\r\\n (clamdscan: 0.98.4/19501. spamassassin: 3.4.0. perlscan: 2.11st.  \\r\\n Clear:RC:1(88.149.230.97):. \\r\\n Processed in 0.481596 secs); 30 Oct 2014 11:11:15 -0000\\r\\nReceived: from 88-149-230-97.v4.ngi.it (HELO ?192.168.5.104?) (zum@zum.biz@88.149.230.97)\\r\\n  by 0 with ESMTPA; 30 Oct 2014 11:11:00 -0000\\r\\nMessage-ID: &lt;54521CC1.5030105@zum.biz&gt;\\r\\nDate: Thu, 30 Oct 2014 12:10:57 +0100\\r\\nFrom: CBS - zum zum &lt;zum@zum.biz&gt;\\r\\nOrganization: zum Business Solutions\\r\\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.2.0\\r\\nMIME-Version: 1.0\\r\\nTo: prova.prova@try.com\\r\\nSubject: Fwd: Re: Nuovo sito web, Webmail SSL, Sicurezza ed Beta Archivio\\r\\n Email\\r\\nReferences: &lt;30D51861-7016-423D-BD10-963162547964@gmail.com&gt; &lt;CA94F654-03A9-4728-8FE8-C04EE09D195E@gmail.com&gt; &lt;AC91AEE8-A0F1-44DA-A7BF-7032D41902EC@gmail.com&gt; &lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\\r\\nIn-Reply-To: &lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\\r\\nX-Forwarded-Message-Id: &lt;30D51861-7016-423D-BD10-963162547964@gmail.com&gt; &lt;CA94F654-03A9-4728-8FE8-C04EE09D195E@gmail.com&gt; &lt;AC91AEE8-A0F1-44DA-A7BF-7032D41902EC@gmail.com&gt; &lt;0CE556AF-1FDD-4A3F-8B11-009A0D251A7E@gmail.com&gt;\\r\\nContent-Type: multipart/mixed;\\r\\n boundary=\\\"------------050205030209030608020806\\\"\\r\\n\\r\\n\"\n</code></pre>\n\n<p>This is a string and it is pretty unusable. I want to know if there is a way to decode it and map it to an hash or an object.</p>\n\n<p>Or if I need to do manually, any suggestion?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "mongoid", "mongoid4"], "answers": [{"tags": [], "owner": {"reputation": 16396, "user_id": 2564298, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BhG1x.jpg?s=128&g=1", "display_name": "Rajdeep Singh", "link": "https://stackoverflow.com/users/2564298/rajdeep-singh"}, "is_accepted": true, "score": 4, "last_activity_date": 1437560306, "creation_date": 1437560306, "answer_id": 31560310, "question_id": 31559833, "link": "https://stackoverflow.com/questions/31559833/how-to-retrieve-a-mongoid-document-id-after-it-was-persisted/31560310#31560310", "title": "How to retrieve a mongoid document _id after it was persisted?", "body": "<p>Did you try this?</p>\n\n<pre><code>mongoid_object = SomeMongoidObject.new\nmongoid_object.save\n</code></pre>\n\n<p>Now you can get the id by simply doing one of the following</p>\n\n<pre><code>mongoid_object.id #=&gt; id will be returned\n</code></pre>\n\n<p><strong>or</strong> </p>\n\n<pre><code>mongoid_object[\"_id\"]\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>mongoid_object._id\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1214, "user_id": 3868605, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a10f4fb3f76237d61cccd3997dcca1c7?s=128&d=identicon&r=PG&f=1", "display_name": "alobodzk", "link": "https://stackoverflow.com/users/3868605/alobodzk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 0, "accepted_answer_id": 31560310, "answer_count": 1, "score": 1, "last_activity_date": 1437560337, "creation_date": 1437559074, "question_id": 31559833, "link": "https://stackoverflow.com/questions/31559833/how-to-retrieve-a-mongoid-document-id-after-it-was-persisted", "title": "How to retrieve a mongoid document _id after it was persisted?", "body": "<p>Sorry if it's trivial, but I can't find an answer, so maybe I don't know how to ask the question.\nI have a simple case:</p>\n\n<p>I do:</p>\n\n<pre><code>SomeMongoidObject.new.save\n</code></pre>\n\n<p>And after that I want to use the id of new object to start a new background worker process. I can't find how can I get the _id of the newly created object?\nThe save method returns a status.</p>\n\n<p>Could you help me with that?</p>\n"}, {"tags": ["ruby"], "comments": [{"owner": {"reputation": 7126, "user_id": 994125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b34e5d4d9a1d4a187da1abb1defa594?s=128&d=identicon&r=PG", "display_name": "Laf", "link": "https://stackoverflow.com/users/994125/laf"}, "edited": false, "score": 2, "creation_date": 1437571340, "post_id": 31559311, "comment_id": 51084272, "body": "Unrelated to programming issues."}, {"owner": {"reputation": 8378, "user_id": 2076787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfe965ab5ef94a0568bc61c36b46d4c?s=128&d=identicon&r=PG", "display_name": "D-side", "link": "https://stackoverflow.com/users/2076787/d-side"}, "edited": false, "score": 0, "creation_date": 1437572499, "post_id": 31559311, "comment_id": 51085154, "body": "I believe there&#39;s no common spec, people just implement routing like that because they&#39;ve worked with it before and it&#39;s familiar."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1437572697, "post_id": 31559311, "comment_id": 51085305, "body": "Rails uses this URL format since 2005. Maybe because you can easily convert these to symbols and <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#parameters\" rel=\"nofollow noreferrer\">use them as hash keys</a>."}, {"owner": {"reputation": 3739, "user_id": 3816975, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b0ed658140346ffe92a1617abee600f?s=128&d=identicon&r=PG&f=1", "display_name": "parchment", "link": "https://stackoverflow.com/users/3816975/parchment"}, "reply_to_user": {"reputation": 7126, "user_id": 994125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b34e5d4d9a1d4a187da1abb1defa594?s=128&d=identicon&r=PG", "display_name": "Laf", "link": "https://stackoverflow.com/users/994125/laf"}, "edited": false, "score": 0, "creation_date": 1437577474, "post_id": 31559311, "comment_id": 51089240, "body": "@Laf yeah, probably, it&#39;s only for my curiosity, not to solve a problem. Do you have a suggestion where I should ask these kinds of questions?"}, {"owner": {"reputation": 3739, "user_id": 3816975, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b0ed658140346ffe92a1617abee600f?s=128&d=identicon&r=PG&f=1", "display_name": "parchment", "link": "https://stackoverflow.com/users/3816975/parchment"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1437577580, "post_id": 31559311, "comment_id": 51089325, "body": "@Stefan So this kind of format is basically popularized by rails? The <code>:symbol</code> syntax does suggest that this originated from ruby."}, {"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 1, "creation_date": 1437644899, "post_id": 31559311, "comment_id": 51120054, "body": "@parchment well, Rails <i>is</i> written in Ruby so this choice seems obvious. I&#39;ve asked Nicholas Seckar (routing was his <a href=\"http://rubyonrails.org/core/alumni/\" rel=\"nofollow noreferrer\">contribution to Rails</a>) about the origins of the colon-syntax yesterday. His reply: <i>&quot;I don&#39;t think it was inspired by any other framework. I do not remember who suggested it first; DHH and pragmatic Dave both had a lot of input into routing.&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 1229, "user_id": 568801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f836f35abbccabd7c66cbdc2362f9?s=128&d=identicon&r=PG", "display_name": "stoodfarback", "link": "https://stackoverflow.com/users/568801/stoodfarback"}, "is_accepted": true, "score": 1, "last_activity_date": 1437558911, "creation_date": 1437558911, "answer_id": 31559770, "question_id": 31559311, "link": "https://stackoverflow.com/questions/31559311/source-for-this-kind-of-string-formatting/31559770#31559770", "title": "Source for this kind of string formatting?", "body": "<p>I'm not aware of an official spec. In the rails guides, they are referred to as \"bound parameters\" or \"segments\": <a href=\"http://guides.rubyonrails.org/routing.html#bound-parameters\" rel=\"nofollow\">http://guides.rubyonrails.org/routing.html#bound-parameters</a></p>\n"}], "owner": {"reputation": 3739, "user_id": 3816975, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9b0ed658140346ffe92a1617abee600f?s=128&d=identicon&r=PG&f=1", "display_name": "parchment", "link": "https://stackoverflow.com/users/3816975/parchment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1437572559, "accepted_answer_id": 31559770, "answer_count": 1, "score": 2, "last_activity_date": 1437571401, "creation_date": 1437557718, "last_edit_date": 1437571401, "question_id": 31559311, "link": "https://stackoverflow.com/questions/31559311/source-for-this-kind-of-string-formatting", "closed_reason": "Not suitable for this site", "title": "Source for this kind of string formatting?", "body": "<p>I've seen string formatting templates like these a lot of times; in sinatra, jekyll, hexo, and many other applications.</p>\n\n<pre><code>/user/:id/:name\n/post/:slug\n</code></pre>\n\n<p>I've seen the source of the three programs I mentioned above, but each have their own implementation, and they doesn't refer to any kind of source or specification. What is its name, and who originally created it?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "npm", "bower"], "answers": [{"comments": [{"owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "edited": false, "score": 0, "creation_date": 1437560444, "post_id": 31559684, "comment_id": 51076662, "body": "should I expect this to work even if I can&#39;t find the asset on rails-assets?"}, {"owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "reply_to_user": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "edited": false, "score": 0, "creation_date": 1437560495, "post_id": 31559684, "comment_id": 51076694, "body": "No, all the available gems are listed."}], "tags": [], "owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "is_accepted": false, "score": 1, "last_activity_date": 1437558678, "creation_date": 1437558678, "answer_id": 31559684, "question_id": 31559074, "link": "https://stackoverflow.com/questions/31559074/install-non-gem-package-as-ruby-gem/31559684#31559684", "title": "Install non gem-package as ruby-gem?", "body": "<p><strong>qwest</strong> can be usually found at rails assets <a href=\"https://rails-assets.org/\" rel=\"nofollow\">https://rails-assets.org/</a>, but at this moment there seems to be some kind of a problem with the build process.</p>\n\n<pre><code>gem 'rails-assets-qwest'\nInclude following in application.js:\n//= require qwest\n</code></pre>\n"}], "owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437558678, "creation_date": 1437557100, "question_id": 31559074, "link": "https://stackoverflow.com/questions/31559074/install-non-gem-package-as-ruby-gem", "title": "Install non gem-package as ruby-gem?", "body": "<p>I have a simple front-end-library that is used for ajax-requests. It can be installed like this:</p>\n\n<pre><code>jam install qwest\nbower install qwest\nnpm install qwest --save-dev\n</code></pre>\n\n<p>It's also hosted on github, <a href=\"https://github.com/pyrsmk/qwest\" rel=\"nofollow\">https://github.com/pyrsmk/qwest</a>.</p>\n\n<p>I wish to use it in a ruby on rails project. Can I somehow include it in my Gemfile?</p>\n"}, {"tags": ["ruby", "automation", "watir"], "comments": [{"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 1, "creation_date": 1437577284, "post_id": 31558837, "comment_id": 51089123, "body": "You could create an array of hashes (where the key/value pairs are username/password combinations) and iterate over it.  You&#39;d probably need to add logout and go to login page steps at the end of the script as well."}, {"owner": {"reputation": 3, "user_id": 4849293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d635aa9698bf6ab70caa6c7c05f17dc?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanthvarma", "link": "https://stackoverflow.com/users/4849293/hemanthvarma"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1437579523, "post_id": 31558837, "comment_id": 51090814, "body": "Thanks for the comment @orde but i need to know how to use them if you can add a piece of code that will give me an idea how to use them i would greatly appreciate it."}, {"owner": {"reputation": 6589, "user_id": 409820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b01ab32f3a9016b9e2ade35f3aeb4023?s=128&d=identicon&r=PG", "display_name": "Chuck van der Linden", "link": "https://stackoverflow.com/users/409820/chuck-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1437777379, "post_id": 31558837, "comment_id": 51190625, "body": "your code above makes a lot of assumptions regarding the causes of the messages you expect to see.   for example if your password was not blank, but you got the password cannot be blank message   I suggest you look into a framework for doing tests, and put your watir code inside of that.. something like Cucumber, Rspec, or another functional or unit testing tool ought to suffice.. then you can also make each test more atomic and stand alone, instead of a big long chain script"}], "answers": [{"tags": [], "owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "is_accepted": true, "score": 0, "last_activity_date": 1437672599, "last_edit_date": 1437672599, "creation_date": 1437585140, "answer_id": 31569750, "question_id": 31558837, "link": "https://stackoverflow.com/questions/31558837/how-to-automate-test-cases-by-giving-multiple-inputs/31569750#31569750", "title": "How to automate test cases by giving multiple inputs?", "body": "<p>The code below creates a <a href=\"http://ruby-doc.org/core-2.2.0/Hash.html\" rel=\"nofollow\">hash</a> called users (which contains usernames/passwords), launches a browser, iterates over the hash, and prints the key and value for each key/value pair:</p>\n\n<pre><code>require 'watir-webdriver'\nusers = {\"user_one\" =&gt; \"password\", \"user_two\" =&gt; \"password\"}\n\nb = Watir::Browser.new \nb.goto('http://www.example.org')\nusers.each do |key, value|\n  puts key\n  puts value\n  b.refresh\nend\n\n#=&gt; user_one\n#=&gt; password\n#=&gt; user_two\n#=&gt; password\n</code></pre>\n\n<p>To use symbols as hash keys, you'd do the same but convert the key to a string:</p>\n\n<pre><code>users = {user_one: \"password\", user_two: \"password\"}\n\nb = Watir::Browser.new \nb.goto('http://www.example.org')\nusers.each do |key, value|\n  puts key.to_s                    # convert symbol to string\n  puts value\n  b.refresh\nend\n</code></pre>\n\n<p>And a working demo:</p>\n\n<pre><code>require 'watir-webdriver'\nusers = {sample: \"sample\", sample1: \"sample1\", sample2: \"sample2\"} # hash of users\nb = Watir::Browser.new                                             # launch browser\nb.goto('https://foodclub.org/sample/login')\nusers.each do |key, value|                                         # iterate on hash\n  b.text_field(name: \"user_id\").set  key.to_s                      # set key as username\n  b.text_field(name: \"password\").set value                         # set value as password\n  b.button(name: \"login\").click\n  b.link(text: \"Logout\").click\nend\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4849293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d635aa9698bf6ab70caa6c7c05f17dc?s=128&d=identicon&r=PG&f=1", "display_name": "Hemanthvarma", "link": "https://stackoverflow.com/users/4849293/hemanthvarma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 31569750, "answer_count": 1, "score": 0, "last_activity_date": 1437672599, "creation_date": 1437556433, "last_edit_date": 1437642519, "question_id": 31558837, "link": "https://stackoverflow.com/questions/31558837/how-to-automate-test-cases-by-giving-multiple-inputs", "title": "How to automate test cases by giving multiple inputs?", "body": "<pre><code>require 'rubygems'\nrequire 'watir'\nrequire 'watir-webdriver/wait'\n\nusername = 'abcd'\npassword = '1234'\n\nWatir::Browser.new :firefox\n\nputs 'Beginning of test: Yahoo Login.'\nputs ' Step 1: go to the test site: ' + '&lt;https://mail.yahoo.com&gt;'\nbrowser = Watir::Browser.start '&lt;https://mail.yahoo.com&gt;'\n\nputs 'Step 2: enter username'\nbrowser.text_field(id: 'login-username').when_present.set(username)\nbrowser.text_field(id: 'login-username').wait_until_present\n\nputs 'Step 3: enter password'\nbrowser.text_field(:id, 'login-passwd').set(password)\n\nputs 'Step 4: Check keep me signed in check box'\nbrowser.checkbox(:id, 'persistent').clear\n\nputs 'Step 5: Click sign in button'\nbrowser.button(:value, 'Sign In').click\n\nif browser.text.include? ' This ID is not yet taken. '\n  puts 'Testcase01 pass : Enter a valid username '\n  Kernel.exit(false)\nend\n\nif browser.text.include? 'Please enter your password'\n  puts 'Testcase02 pass : password can not be blank'\n  Kernel.exit(false)\nend\n\nbrowser.button(id: 'mail-search-btn').when_present\nbrowser.button(id: 'mail-search-btn').wait_until_present\n\nif browser.text.include? 'Hemanth'\n  puts 'Testcase04 pass : ***Login successfull'\nelse\n  puts '***Error in Login'\nend\n</code></pre>\n\n<p>Now it gets the job done for single user name and password, and I need to loop it to check for 4 test cases?  I mean I need to pass 4 combinations of username and passwords for the above script.  How can I do that?</p>\n\n<p>here is the test cases\ntestcase               username        password      signin<br>\ntc_yahoo_login_01    abcd                  xyz123      true<br>\ntc_yahoo_login_02    abcde             abcd123      false<br>\ntc_yahoo_login_03                   abc123      true<br>\ntc_yahoo_login_04    abcd                          true<br>\ntc_yahoo_login_05    abcd                     abcd123     false<br>\nthese are the test cases i need to implement and only once successful login will happen. do you got any idea what output im trying to get?</p>\n"}, {"tags": ["mysql", "ruby-on-rails", "ruby", "oracle", "rake"], "comments": [{"owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "edited": false, "score": 0, "creation_date": 1437555809, "post_id": 31558459, "comment_id": 51073382, "body": "do you intend to use one of active record models for querying?"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "reply_to_user": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "edited": false, "score": 0, "creation_date": 1437556166, "post_id": 31558459, "comment_id": 51073633, "body": "It is better if I can just directly execute the sql command. @adamliesko"}, {"owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "edited": false, "score": 0, "creation_date": 1437556386, "post_id": 31558459, "comment_id": 51073785, "body": "then, see the answer below"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1437621131, "post_id": 31558645, "comment_id": 51109346, "body": "Another thing, I changed the adapter in MySQLConnection class to &#39;mysql2&#39;. But when I removed the class the code above doesn&#39;t work anymore. It says NameError: uninitialized constant Mysql2"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1437624032, "post_id": 31558645, "comment_id": 51110011, "body": "I removed the MySQLConnection class since the configuration for the connection is already defined in Mysql2::Client.new(...)"}], "tags": [], "owner": {"reputation": 1751, "user_id": 1212336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4002e9409f235e93386772dbe71c1500?s=128&d=identicon&r=PG", "display_name": "adamliesko", "link": "https://stackoverflow.com/users/1212336/adamliesko"}, "is_accepted": false, "score": 0, "last_activity_date": 1437555880, "creation_date": 1437555880, "answer_id": 31558645, "question_id": 31558459, "link": "https://stackoverflow.com/questions/31558459/how-to-establish-connection-from-a-rake-task/31558645#31558645", "title": "How to establish connection from a rake task?", "body": "<p>You can use mysql2 gem (<a href=\"https://github.com/brianmario/mysql2\" rel=\"nofollow\">https://github.com/brianmario/mysql2</a>) inside your rake task.</p>\n\n<pre><code>client = Mysql2::Client.new(:host =&gt; \"localhost\", :username =&gt; \"username\", :database =&gt; \"sample_database\", :password =&gt; \"password\")\nusers = client.query(\"SELECT * FROM users\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1437615273, "post_id": 31563250, "comment_id": 51107969, "body": "I got NoMethodError: undefined method `execute&#39; for #&lt;ActiveRecord::ConnectionAdapters::ConnectionPool:0x0000010&zwnj;&#8203;7a9c8d0&gt;"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1437616955, "post_id": 31563250, "comment_id": 51108386, "body": "Tried to do connection.connection.execute(&#39;SELECT * FROM symbol_events&#39;) the it says NoMethodError: undefined method `init&#39; for Mysql:Class. What could I possibly be missing?"}, {"owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "edited": false, "score": 0, "creation_date": 1437623936, "post_id": 31563250, "comment_id": 51109991, "body": "I&#39;m positive that my connection is correct. But I don&#39;t know what to do with this undefined method `init&#39; for Mysql:Class."}], "tags": [], "owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "is_accepted": false, "score": 2, "last_activity_date": 1437617601, "last_edit_date": 1437617601, "creation_date": 1437568256, "answer_id": 31563250, "question_id": 31558459, "link": "https://stackoverflow.com/questions/31558459/how-to-establish-connection-from-a-rake-task/31563250#31563250", "title": "How to establish connection from a rake task?", "body": "<p>With the connection generated using ActiveRecord::Base you can execute SQL statements against whatever database you connect to. Like so:</p>\n\n<pre><code>connection = ActiveRecord::Base.establish_connection(\n  :adapter  =&gt; \"mysql\",\n  :host     =&gt; \"faraway\",\n  :username =&gt; \"myuser\",\n  :password =&gt; \"mypass\",\n  :database =&gt; \"somedatabase\"\n)\nconnection.execute('SELECT * FROM users')\n</code></pre>\n\n<p>Once established, the connection can also be referenced from ActiveRecord::Base class.</p>\n\n<pre><code>ActiveRecord::Base.establish_connection(...)\nActiveRecord::Base.connection.execute(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 5436341, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3xhK0.jpg?s=128&g=1", "display_name": "Mounika", "link": "https://stackoverflow.com/users/5436341/mounika"}, "is_accepted": false, "score": 0, "last_activity_date": 1477479582, "creation_date": 1477479582, "answer_id": 40260521, "question_id": 31558459, "link": "https://stackoverflow.com/questions/31558459/how-to-establish-connection-from-a-rake-task/40260521#40260521", "title": "How to establish connection from a rake task?", "body": "<p>Thought it might be helpful for someone else. The following worked for me!</p>\n\n<pre><code>connection = ActiveRecord::Base.establish_connection(\n  :adapter  =&gt; \"mysql\",\n  :host     =&gt; \"faraway\",\n  :username =&gt; \"myuser\",\n  :password =&gt; \"mypass\",\n  :database =&gt; \"somedatabase\"\n)\n\n@connection = ActiveRecord::Base.connection\nresult = @connection.exec_query('SELECT * FROM users')\n\nresult.each do |row|\nputs row\nend\n</code></pre>\n\n<p>Here, users is an already existing table in the \"somedatabase\".</p>\n"}, {"tags": [], "owner": {"reputation": 2949, "user_id": 2592808, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ZhoRz.jpg?s=128&g=1", "display_name": "halfbit", "link": "https://stackoverflow.com/users/2592808/halfbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1480795123, "creation_date": 1480795123, "answer_id": 40951911, "question_id": 31558459, "link": "https://stackoverflow.com/questions/31558459/how-to-establish-connection-from-a-rake-task/40951911#40951911", "title": "How to establish connection from a rake task?", "body": "<p>although I am a noob with connections and \"database back office\" my trivial approach works like a charm, and there is no need with parameters in rake task that is for updating \"domain tables\" that contain only defining data like legal or help texts:</p>\n\n<pre><code>pre_db = ActiveRecord::Base.establish_connection('preproduction').connection\n\nprod_db = ActiveRecord::Base.establish_connection('online').connection\n</code></pre>\n\n<p>and in <code>database.yml</code> I defined the databases. (\"preproduction\" is a step between dev and prod in my case and a real environment like \"development\". where 'online' is almost the same as 'production' (I made a different entry only for security reasons - not to destroy production if <code>database.yml</code> gets uploaded)     </p>\n"}], "owner": {"reputation": 85, "user_id": 3875422, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/bAS6Z.jpg?s=128&g=1", "display_name": "Catherine", "link": "https://stackoverflow.com/users/3875422/catherine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3656, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1480795123, "creation_date": 1437555387, "last_edit_date": 1437570753, "question_id": 31558459, "link": "https://stackoverflow.com/questions/31558459/how-to-establish-connection-from-a-rake-task", "title": "How to establish connection from a rake task?", "body": "<p>I need to create a rake task that gets the table rows from a MySQL database, parse the data, and insert into an Oracle database. The databases are on two different hosts. </p>\n\n<p>My current attempt:</p>\n\n<pre><code>namespace :import_from_mysql do\n  class MySQLConnection &lt; ActiveRecord::Base\n    self.abstract_class = true\n    establish_connection({\n    :adapter  =&gt; 'mysql',\n    :host     =&gt; 'xxx.xxx.com',\n    :database =&gt; 'sample_database',\n    :username =&gt; 'username',\n    :password =&gt; 'password'\n    })\n  end\n\n  class MySQLTable &lt; MySQLConnection\n    self.table_name = \"users\"\n    self.primary_key = \"id\"\n    self.inheritance_column = \"something_unique_here\"\n  end\n\n  desc \"Parse data before inserting to oracle database\"\n  task :insert_to_oracle =&gt; :environment do |t|\n    puts \"Rake task has begun...\\n\\n\"\n    puts \"Parsing data from MYSQL...\\n\\n\"\n\n    MySQLTable.establish_connection\n\n    puts \"Rake task has completed!\"\n  end\nend\n</code></pre>\n\n<p>But the <strong>MySQLTable.establish_connection</strong> establishes a connection to my local database which is sqlite even though I'm trying to connect to a mysql_adapter.</p>\n\n<p>When I tried to establish a connection using the command below, I was able to connect to a MySQL adapter but I don't know how I can access my tables after the connection was established:</p>\n\n<pre><code>ActiveRecord::Base.establish_connection({:adapter =&gt; \"mysql\", :database =&gt; \"sample_database\", :host =&gt; \"xxx.xxx.com\", :username =&gt; \"username\", :password =&gt; \"password\" })\n</code></pre>\n\n<p>Any idea on why it keeps on connecting to sqlite? And after successfully establishing a connection to mysql, how do I select table rows after the MySQLTable.establish_connection statement?</p>\n"}, {"tags": ["arrays", "ruby", "hash", "unique"], "answers": [{"comments": [{"owner": {"reputation": 3779, "user_id": 1214341, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c2ab16e7bad14de2336741347b36c2cf?s=128&d=identicon&r=PG", "display_name": "vjdhama", "link": "https://stackoverflow.com/users/1214341/vjdhama"}, "edited": false, "score": 0, "creation_date": 1437555233, "post_id": 31558165, "comment_id": 51072953, "body": "I think a fair warning should be given about second case as it mutates the value of the array itself."}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "reply_to_user": {"reputation": 3779, "user_id": 1214341, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c2ab16e7bad14de2336741347b36c2cf?s=128&d=identicon&r=PG", "display_name": "vjdhama", "link": "https://stackoverflow.com/users/1214341/vjdhama"}, "edited": false, "score": 0, "creation_date": 1437555303, "post_id": 31558165, "comment_id": 51073002, "body": "@vjdhama : Sorry I didn&#39;t get you, but I have put the comment about both cases"}, {"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "reply_to_user": {"reputation": 21415, "user_id": 1270812, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LmoZ6.jpg?s=128&g=1", "display_name": "Dr.Kameleon", "link": "https://stackoverflow.com/users/1270812/dr-kameleon"}, "edited": false, "score": 1, "creation_date": 1437556657, "post_id": 31558165, "comment_id": 51073987, "body": "@Dr.Kameleon : My pleasure. Glad to help you."}], "tags": [], "owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "is_accepted": true, "score": 4, "last_activity_date": 1437556633, "last_edit_date": 1437556633, "creation_date": 1437554564, "answer_id": 31558165, "question_id": 31558037, "link": "https://stackoverflow.com/questions/31558037/unique-array-of-hashes-by-key-value/31558165#31558165", "title": "Unique array of hashes by key value", "body": "<p>Try this by using <strong><a href=\"http://ruby-doc.org/core-2.2.0/Array.html#method-i-uniq\" rel=\"nofollow\">Array#uniq</a></strong>:</p>\n\n<pre><code>arr.uniq{|h| h[:text]} # Returns a new array by removing duplicate values\n =&gt; [{:id=&gt;0, :text=&gt;\"someText\"}, {:id=&gt;1, :text=&gt;\"anotherText\"}]\n# OR    \narr.uniq!{|h| h[:text]} # Removes duplicate elements from self.\n=&gt; [{:id=&gt;0, :text=&gt;\"someText\"}, {:id=&gt;1, :text=&gt;\"anotherText\"}]\n</code></pre>\n\n<hr>\n\n<p>There will be many different approaches to achieve your goal but as you are looking for fastest way, Here is benchmark of both <strong>uniq</strong> and <strong>group_by</strong>. This is just for sample. Like this you can test yourself different approaches and check for the solution as per your requirements..</p>\n\n<pre><code>require 'benchmark'\narr = [{ :id =&gt; 0, :text =&gt; \"someText\" }, { :id =&gt; 1, :text =&gt; \"anotherText\" }, { :id =&gt; 2, :text =&gt; \"someText\" }]\nBenchmark.bm do |x|\n  x.report(\"group_by:\")   { arr.group_by { |e| e[:text] }.values.map &amp;:first }\n  x.report(\"uniq:\")   { arr.uniq{|h| h[:text]} }\nend\n# output\n            user     system      total        real\ngroup_by:  0.000000   0.000000   0.000000 (  0.000039)\nuniq:      0.000000   0.000000   0.000000 (  0.000012)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9602, "user_id": 3607136, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NRFso.jpg?s=128&g=1", "display_name": "Gagan Gami", "link": "https://stackoverflow.com/users/3607136/gagan-gami"}, "edited": false, "score": 0, "creation_date": 1437557259, "post_id": 31558607, "comment_id": 51074432, "body": "mudasobwa : I have added benchmark just to make clear about fastest way to OP. My intention is not to prove your approach as wrong and mine right. So please don&#39;t mind and not misunderstood me. Anyways I am glad to know this new trick :)"}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 2, "last_activity_date": 1437555764, "creation_date": 1437555764, "answer_id": 31558607, "question_id": 31558037, "link": "https://stackoverflow.com/questions/31558037/unique-array-of-hashes-by-key-value/31558607#31558607", "title": "Unique array of hashes by key value", "body": "<p>While <code>uniq</code> is a perfect solution for the problem as it stated, there is more flexible approach where you are to specify an additional condition on what is to be picked out of multiple variants:</p>\n\n<pre><code>#                                        \u21d3\u21d3\u21d3\u21d3\u21d3\u21d3\u21d3\narr.group_by { |e| e[:text] }.values.map &amp;:first\n</code></pre>\n\n<p>One might put any condition there to select only those elements with even <code>:id</code>, or whatever.</p>\n"}], "owner": {"reputation": 21415, "user_id": 1270812, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LmoZ6.jpg?s=128&g=1", "display_name": "Dr.Kameleon", "link": "https://stackoverflow.com/users/1270812/dr-kameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 1, "accepted_answer_id": 31558165, "answer_count": 2, "score": 1, "last_activity_date": 1437556633, "creation_date": 1437554257, "last_edit_date": 1437555443, "question_id": 31558037, "link": "https://stackoverflow.com/questions/31558037/unique-array-of-hashes-by-key-value", "title": "Unique array of hashes by key value", "body": "<p>OK, so... I have an array of hashes like this:</p>\n\n<pre><code>[\n    { :id =&gt; 0, :text =&gt; \"someText\" },\n    { :id =&gt; 1, :text =&gt; \"anotherText\" },\n    { :id =&gt; 2, :text =&gt; \"someText\" }\n]\n</code></pre>\n\n<p>What I want, is to <code>filter</code> hashes with removing duplicate <code>:text</code> values, so that the result is:</p>\n\n<pre><code>[\n    { :id =&gt; 0, :text =&gt; \"someText\" },\n    { :id =&gt; 1, :text =&gt; \"anotherText\" }\n]\n</code></pre>\n\n<p>How can I do that?</p>\n\n<hr>\n\n<p>P.S. Of course, I can find a way and do it. What I'm asking for is the best (&amp; fastest) Ruby-friendly way, given that I'm not such a Ruby guru. ;-)</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ssl", "openssl"], "comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437553481, "post_id": 31557628, "comment_id": 51071903, "body": "I think your server has this config in <code>&#47;etc&#47;ssl&#47;openssl.cnf</code>. If it\u2019s a case, the simplest and fastest fix would be: <code>sudo ln -s &#47;usr&#47;local&#47;ssl &#47;etc&#47;ssl</code>."}, {"owner": {"reputation": 71, "user_id": 5123433, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a608f84a69ec8e937870efdb9f07f8a4?s=128&d=identicon&r=PG&f=1", "display_name": "lmatejic", "link": "https://stackoverflow.com/users/5123433/lmatejic"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437553986, "post_id": 31557628, "comment_id": 51072189, "body": "Seems not, I get: creating symbolic link <code>&#47;etc&#47;ssl&#39; to </code>/usr/local/ssl&#39;: No such file or directory"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437555492, "post_id": 31557628, "comment_id": 51073153, "body": "Oh, sorry, I mixed the arguments up. It must be of course: <code>sudo ln -s &#47;etc&#47;ssl &#47;usr&#47;local&#47;ssl</code>. Sorry for that."}, {"owner": {"reputation": 71, "user_id": 5123433, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a608f84a69ec8e937870efdb9f07f8a4?s=128&d=identicon&r=PG&f=1", "display_name": "lmatejic", "link": "https://stackoverflow.com/users/5123433/lmatejic"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437556003, "post_id": 31557628, "comment_id": 51073521, "body": "Unforunately still the same thing...Let me make a little digression. For now I&#39;ve decided to use a generic self-signed certificate created over the web for app testing. Could you tell me how to use the .cert and .key files with my app ? @mudasobwa"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5123433, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a608f84a69ec8e937870efdb9f07f8a4?s=128&d=identicon&r=PG&f=1", "display_name": "lmatejic", "link": "https://stackoverflow.com/users/5123433/lmatejic"}, "is_accepted": true, "score": 0, "last_activity_date": 1439457486, "creation_date": 1439457486, "answer_id": 31984181, "question_id": 31557628, "link": "https://stackoverflow.com/questions/31557628/using-https-and-ssl-with-ruby-on-rails/31984181#31984181", "title": "Using https and SSL with Ruby on Rails", "body": "<p>For anyone that has an issue like this, the problem was with using the rails WEBrick library for the server. I'm not sure exactly why, but simply switching to <a href=\"https://github.com/macournoyer/thin/\" rel=\"nofollow\"><strong>Thin server</strong></a> and using the \n<code>thin start --ssl</code> command <strong>instead of</strong> <code>force_ssl</code> with WEBrick fixed  the issue. Feel free to post any additional info if you know of any reasons.</p>\n"}], "owner": {"reputation": 71, "user_id": 5123433, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a608f84a69ec8e937870efdb9f07f8a4?s=128&d=identicon&r=PG&f=1", "display_name": "lmatejic", "link": "https://stackoverflow.com/users/5123433/lmatejic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 31984181, "answer_count": 1, "score": 2, "last_activity_date": 1439457486, "creation_date": 1437553178, "question_id": 31557628, "link": "https://stackoverflow.com/questions/31557628/using-https-and-ssl-with-ruby-on-rails", "title": "Using https and SSL with Ruby on Rails", "body": "<p>I've run into bit of a problem with setting up my self-signed certificate to test out how it all works. I found a nice gist on GitHub : <a href=\"https://gist.github.com/trcarden/3295935#file-gistfile1-sh-L17\" rel=\"nofollow\">https://gist.github.com/trcarden/3295935#file-gistfile1-sh-L17</a>\nexplaining how to do it simply enough. </p>\n\n<p>It errors out on step 3, when entering this command into the Rails console: </p>\n\n<pre><code>$ openssl req -new -key server.key -out server.csr\n</code></pre>\n\n<p>The problem I run into is the following: </p>\n\n<pre><code>Unable to load config info from /usr/local/ssl/openssl.cnf\n</code></pre>\n\n<p>This is an output from the Rails console and it seems as a pretty standard error when searching for it on the internet. I've found lots of Q&amp;A threads on various sites but absolutely nothing I've managed to find does the trick. </p>\n\n<p>Any advice on what do try out to solve this ? Thanks</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby", "actioncontroller"], "comments": [{"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1437552680, "post_id": 31557445, "comment_id": 51071435, "body": "what is the value of @pages?"}], "answers": [{"tags": [], "owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "is_accepted": true, "score": 0, "last_activity_date": 1437553286, "creation_date": 1437553286, "answer_id": 31557668, "question_id": 31557445, "link": "https://stackoverflow.com/questions/31557445/undefined-method-collect-for-page0x007f4f200a9350/31557668#31557668", "title": "undefined method `collect&#39; for #&lt;Page:0x007f4f200a9350", "body": "<p>I am sure you have something like this written somewhere:</p>\n\n<pre><code>@pages = Page.collect #...\n</code></pre>\n\n<p>whereas it ought (in order to use <em>Enumerable</em> methods) be:</p>\n\n<pre><code>Page.all.collect\n</code></pre>\n\n<p>because Enumerable's <a href=\"http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-collect\" rel=\"nofollow\"><code>collect</code></a> operates on array data structure, and <code>Page.all</code> is what actually returns this collection.</p>\n"}], "owner": {"reputation": 3, "user_id": 5078421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f1a3907e974eefc61f4a9bef60b1a9?s=128&d=identicon&r=PG", "display_name": "tanGoO", "link": "https://stackoverflow.com/users/5078421/tangoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 31557668, "answer_count": 1, "score": 0, "last_activity_date": 1437553286, "creation_date": 1437552640, "last_edit_date": 1437552862, "question_id": 31557445, "link": "https://stackoverflow.com/questions/31557445/undefined-method-collect-for-page0x007f4f200a9350", "title": "undefined method `collect&#39; for #&lt;Page:0x007f4f200a9350", "body": "<p>can anyone help me with this error ? I'm pretty rookie and still not how it works so if anyone can explain to me how to fix this is really appreciate it , now I attached the code which gives me the error</p>\n\n<pre><code>3: &lt;%= render :partial =&gt; \"shared/ubiquo/feedback\" %&gt;\n4: \n5: &lt;%= show_filter_info %&gt;\n6: &lt;%= pages_list(@pages, @pages_pages) %&gt;\n7: \n8: &lt;% content_for :sidebar do %&gt;\n9: &lt;%= show_filters %&gt;\n</code></pre>\n"}, {"tags": ["ruby", "xml"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "edited": false, "score": 0, "creation_date": 1437555747, "post_id": 31557205, "comment_id": 51073330, "body": "~doc = Nokogiri::XML(&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;soap:Envelope xmlns:soap=&quot;<a href=\"http://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow noreferrer\">schemas.xmlsoap.org/soap/envelope</a>&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xmlns:xsd=&quot;<a href=\"http://www.w3.org/2001/XMLSchema&quot;&gt;&lt;soap:Body&gt;&lt;CelsiusToFahrenheitResponse\" rel=\"nofollow noreferrer\">w3.org/2001/&hellip;</a> xmlns=&quot;<a href=\"http://www.w3schools.com/webservices/&quot;&gt;&lt;CelsiusToFahrenheitResult&gt;77&lt;/CelsiusToFahrenheitResult&gt;&lt;/CelsiusToFahrenheitResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;&#39;)~\" rel=\"nofollow noreferrer\">w3schools.com/webservices/&hellip;</a>    ~xml_str = doc.remove_namespaces!.xpath(&#39;//Body/*&#39;).to_s~  this worked for me"}], "tags": [], "owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1437551946, "creation_date": 1437551946, "answer_id": 31557205, "question_id": 31556896, "link": "https://stackoverflow.com/questions/31556896/only-keep-values-from-a-long-xml-string/31557205#31557205", "title": "Only keep values from a long xml string", "body": "<p>Nokogiri\u2019s <a href=\"http://www.nokogiri.org/tutorials/searching_a_xml_html_document.html\" rel=\"nofollow\"><code>xpath</code></a> comes to the rescue:</p>\n\n<pre><code>require 'nokogiri'\nxml = '&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Enve....'\nxxml = Nokogiri::XML.parse xml\nxxml.xpath('//soap:Body/*').to_s\n#\u21d2 \"&lt;CelsiusToFahrenheitResponse ...\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "is_accepted": false, "score": 0, "last_activity_date": 1437556155, "creation_date": 1437556155, "answer_id": 31558741, "question_id": 31556896, "link": "https://stackoverflow.com/questions/31556896/only-keep-values-from-a-long-xml-string/31558741#31558741", "title": "Only keep values from a long xml string", "body": "<p><code>doc = Nokogiri::XML('&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Body&gt;&lt;CelsiusToFahrenheitResponse xmlns=\"http://www.w3schools.com/webservices/\"&gt;&lt;CelsiusToFahrenheitResult&gt;77&lt;/CelsiusToFahrenheitResult&gt;&lt;/CelsiusToFahrenheitResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;')\nxml_str = doc.remove_namespaces!.xpath('//Body/*').to_s</code></p>\n\n<p>this brings the desired result</p>\n\n<pre><code>&lt;CelsiusToFahrenheitResponse&gt;\n  &lt;CelsiusToFahrenheitResult&gt;77&lt;/CelsiusToFahrenheitResult&gt;\n&lt;/CelsiusToFahrenheitResponse&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5028706, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/559579753/picture?type=large", "display_name": "Penelope Aether Mitsubishi", "link": "https://stackoverflow.com/users/5028706/penelope-aether-mitsubishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437556155, "creation_date": 1437551127, "question_id": 31556896, "link": "https://stackoverflow.com/questions/31556896/only-keep-values-from-a-long-xml-string", "title": "Only keep values from a long xml string", "body": "<p>Hello I have this long xml string</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Body&gt;&lt;CelsiusToFahrenheitResponse xmlns=\"http://www.w3schools.com/webservices/\"&gt;&lt;CelsiusToFahrenheitResult&gt;77&lt;/CelsiusToFahrenheitResult&gt;&lt;/CelsiusToFahrenheitResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>Would it be possible to remove everything (including all xmlns attributes) but the parts between <code>&lt;soap:body&gt;&lt;/soap:body&gt;</code> like this</p>\n\n<pre><code>&lt;CelsiusToFahrenheitResponse&gt;\n    &lt;CelsiusToFahrenheitResult&gt;77&lt;/CelsiusToFahrenheitResult&gt;\n&lt;/CelsiusToFahrenheitResponse&gt;\n</code></pre>\n\n<p>If new lines or identation is not possible that would be ok too.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "heroku"], "answers": [{"tags": [], "owner": {"reputation": 2871, "user_id": 610796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/825808ddae9004f1d45becff8583b094?s=128&d=identicon&r=PG", "display_name": "Musannif Zahir", "link": "https://stackoverflow.com/users/610796/musannif-zahir"}, "is_accepted": true, "score": 2, "last_activity_date": 1437552415, "creation_date": 1437552415, "answer_id": 31557363, "question_id": 31556792, "link": "https://stackoverflow.com/questions/31556792/custom-log-file-on-heroku/31557363#31557363", "title": "Custom Log file on heroku", "body": "<p>Heroku provides you with an ephemeral filesystem - you cannot rely on persisting anything to disk (this is one of the reasons why, even to view your logs on heroku, you have to use their cmdline tools)</p>\n\n<p>The recommended approach is to use a <a href=\"https://addons.heroku.com/#logging\" rel=\"nofollow\">logging addon</a></p>\n"}], "owner": {"reputation": 5008, "user_id": 2840147, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vcVX6.jpg?s=128&g=1", "display_name": "Sachin Prasad", "link": "https://stackoverflow.com/users/2840147/sachin-prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "accepted_answer_id": 31557363, "answer_count": 1, "score": 0, "last_activity_date": 1437552415, "creation_date": 1437550814, "last_edit_date": 1437551253, "question_id": 31556792, "link": "https://stackoverflow.com/questions/31556792/custom-log-file-on-heroku", "title": "Custom Log file on heroku", "body": "<p>I'm trying to create a custom log file 'log/clockwork.log' on heroku.</p>\n\n<p>In application.rb file I have added this:</p>\n\n<pre><code>ClockworkLogger = ActiveSupport::Logger.new(\"#{Rails.root.to_s}/log/clockwork.log\")\n</code></pre>\n\n<p>To use this loggger in my rake I'm doing:</p>\n\n<pre><code>ClockworkLogger.info(\"Updating Brands #{Time.now.strftime(\"%Y-%m-%d %H:%M:%S\")}\")\n</code></pre>\n\n<p>Now the problem is on heroku the APP isn't able to find the clockwork log file. </p>\n\n<p>I'm getting this error:</p>\n\n<pre><code>rrno::ENOENT: No such file or directory - /tmp/build_bd6cb20b87892a0f8482b4260c5c5277/log/clockwork.log\n</code></pre>\n\n<p>Any idea what I'm doing wrong Or do you have any better way of doing it?</p>\n"}, {"tags": ["ruby", "netbeans", "netbeans-8", "netbeans-6.9"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 3333438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8PFh5.jpg?s=128&g=1", "display_name": "Banee Ishaque K", "link": "https://stackoverflow.com/users/3333438/banee-ishaque-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1484889343, "last_edit_date": 1484889343, "creation_date": 1437631615, "answer_id": 31579361, "question_id": 31556326, "link": "https://stackoverflow.com/questions/31556326/netbeans-ide-6-9-1-not-opening/31579361#31579361", "title": "Netbeans IDE 6.9.1 not opening", "body": "<p>Finally I solved the problem.\nThe problem is with the jdk.</p>\n\n<p><strong>Netbeans IDE 6.9.1 and 8.0.2 works very well with jdk 7u72.\nAnd Netbeans IDE 6.9.1 can't start with jdk 8u45,because a runtime exception is occurs.</strong></p>\n\n<p><strike>Now,I am in a confusion.\njdk 8 is not a replacement for jdk 7.Sun microsystems giving support for both jdk 7 &amp; 8.\nI am using jdk for android development(as dependency for both android studio and eclipse with ADT plug-in),java development(as dependency for Netbeans IDE 8.02),\nas dependency for php development using Netbeans IDE 8.0.2,as dependency for ruby development using Netbeans IDE 6.9.1.\nWhich jdk is suitable in my case-jdk 7 or 8 or both (selecting appropriate jdk for appropriate application by passing cmd arguments)?\nmy development environment is win 7 enterprise 64 bit...</strike></p>\n\n<p>Update : The support for jdk7 is ended &amp; according to oracle, users must migrate to jdk8. So, we must use jdk8 and avoid use of jdk7. </p>\n\n<p>Update : Install ruby plugin from official Netbeans plugin repository via plugin manager. The ruby plugin for netbeans (early, it is embedded in netbeans installation as in the case of netbeans 6.9.1 and earlier versions. But later it is removed and available as a plugin as in the case of netbeans versions after 6.9.1) is a fully matured development package for Ruby including rails via jruby &amp; supports all latest Netbeans versions.</p>\n"}], "owner": {"reputation": 451, "user_id": 3333438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8PFh5.jpg?s=128&g=1", "display_name": "Banee Ishaque K", "link": "https://stackoverflow.com/users/3333438/banee-ishaque-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1853, "favorite_count": 0, "accepted_answer_id": 31579361, "answer_count": 1, "score": 3, "last_activity_date": 1526455297, "creation_date": 1437549395, "last_edit_date": 1526455297, "question_id": 31556326, "link": "https://stackoverflow.com/questions/31556326/netbeans-ide-6-9-1-not-opening", "title": "Netbeans IDE 6.9.1 not opening", "body": "<p>I am using Netbeans IDE 8.0.2 with jdk8u45 on my Windows 7 enterprise 64 bit machine for Java,php,JSP development.Recently i heard from my friend that Netbeans IDE also supports Ruby development.Later I found that Netbeans IDE ended the support for Ruby Development on version 7.So,I downloaded Netbeans 6.9.1 with Ruby Package from Netbeans website and Installed on my machine.The package contains Glassfish Sever community edition too and installed successfully.But, Netbeans 6.9.1 is not opening.</p>\n\n<p><strong>Is there anyone succeeded using Netbeans for Ruby development in Win7 64 bit machine?</strong>...Please help me or <strong><em>suggest me a better IDE for Ruby development</em></strong>,I am already experienced with Netbeans,Visual Studio and Eclipse.. </p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 2437, "user_id": 4058838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56c7770d8f5d6b9ec7a13e82fbf0a59c?s=128&d=identicon&r=PG", "display_name": "Amit Badheka", "link": "https://stackoverflow.com/users/4058838/amit-badheka"}, "edited": false, "score": 0, "creation_date": 1437552136, "post_id": 31556173, "comment_id": 51071092, "body": "Look into javascript_include_tag"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5142257, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e13964d54afacab4992cc28ad274ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eman Yalpsid", "link": "https://stackoverflow.com/users/5142257/eman-yalpsid"}, "edited": false, "score": 0, "creation_date": 1437550573, "post_id": 31556267, "comment_id": 51070161, "body": "And how i would incapsulate that in a method? As i said, i want to simply call the method in index.html.erb and in the method to have something like you said. So &lt;%= library.getJS %&gt; and in a ruby file(inside my library) to have a method called getJS ."}, {"owner": {"reputation": 3196, "user_id": 4245174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qhbam.jpg?s=128&g=1", "display_name": "ifma", "link": "https://stackoverflow.com/users/4245174/ifma"}, "reply_to_user": {"reputation": 141, "user_id": 5142257, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e13964d54afacab4992cc28ad274ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eman Yalpsid", "link": "https://stackoverflow.com/users/5142257/eman-yalpsid"}, "edited": false, "score": 0, "creation_date": 1437550813, "post_id": 31556267, "comment_id": 51070299, "body": "Where are you building your library? If you are building it in the app/assets/javascripts directory you don&#39;t have to do anything, it gets included either way, because of the line &quot;&lt;%= javascript_include_tag &#39;application&#39;, &#39;data-turbolinks-track&#39; =&gt; true %&gt;&quot; in your application.html.erb file in your layouts folder."}, {"owner": {"reputation": 3196, "user_id": 4245174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qhbam.jpg?s=128&g=1", "display_name": "ifma", "link": "https://stackoverflow.com/users/4245174/ifma"}, "reply_to_user": {"reputation": 141, "user_id": 5142257, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e13964d54afacab4992cc28ad274ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eman Yalpsid", "link": "https://stackoverflow.com/users/5142257/eman-yalpsid"}, "edited": false, "score": 0, "creation_date": 1437551072, "post_id": 31556267, "comment_id": 51070453, "body": "Otherwise just add this somewhere in your index.html.erb file and the helper will automatically include any new file you create in that directory you specified which holds the library of javascripts: &#39; javascript_include_tag &quot;/some_directory/my_lib_of_javascripts&quot; &#39;"}, {"owner": {"reputation": 141, "user_id": 5142257, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e13964d54afacab4992cc28ad274ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eman Yalpsid", "link": "https://stackoverflow.com/users/5142257/eman-yalpsid"}, "edited": false, "score": 0, "creation_date": 1437551176, "post_id": 31556267, "comment_id": 51070530, "body": "To be more explicit: I am building a package for others to use and to be easy to do so. That&#39;s why I don&#39;t want to put my javascripts in some special place, i just want them to be in my package and to be included from the package by calling my function getJS."}], "tags": [], "owner": {"reputation": 3196, "user_id": 4245174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qhbam.jpg?s=128&g=1", "display_name": "ifma", "link": "https://stackoverflow.com/users/4245174/ifma"}, "is_accepted": false, "score": 0, "last_activity_date": 1437549194, "creation_date": 1437549194, "answer_id": 31556267, "question_id": 31556173, "link": "https://stackoverflow.com/questions/31556173/call-ruby-method-inside-index-html-erb-to-load-javascripts/31556267#31556267", "title": "Call ruby method inside index.html.erb to load javascripts", "body": "<p>By default, any javascript/css file that you include in your app/assets folder will get loaded through your layout view, and as such, you will have access to those methods within any view in your app/views folder.</p>\n\n<p>If you want to load something specifically, i.e. from the vendor folder you can just use a rails helper <code>asset_path</code> like so:</p>\n\n<p>For a css file:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"&lt;%= asset_path 'my_vendor_css_file.css' %&gt;\"&gt;\n</code></pre>\n\n<p>For a js file:</p>\n\n<pre><code>&lt;script src=\"&lt;%= asset_path 'my_vendor_js_file.js' %&gt;\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Add whichever to your index.html.erb file to load it there.</p>\n"}, {"tags": [], "owner": {"reputation": 2199, "user_id": 4268574, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/DIMLY.jpg?s=128&g=1", "display_name": "General Failure", "link": "https://stackoverflow.com/users/4268574/general-failure"}, "is_accepted": false, "score": 0, "last_activity_date": 1437549687, "last_edit_date": 1592644375, "creation_date": 1437549687, "answer_id": 31556410, "question_id": 31556173, "link": "https://stackoverflow.com/questions/31556173/call-ruby-method-inside-index-html-erb-to-load-javascripts/31556410#31556410", "title": "Call ruby method inside index.html.erb to load javascripts", "body": "<blockquote>\n<p>something like &lt;%= library.get_javascripts %&gt;</p>\n</blockquote>\n<p>Ruby on Rails has <a href=\"http://apidock.com/rails/ActionView/Helpers/JavaScriptHelper/javascript_tag\" rel=\"nofollow noreferrer\">javascript_tag</a> and <a href=\"http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/javascript_include_tag\" rel=\"nofollow noreferrer\">javascript_include_tag</a></p>\n"}], "owner": {"reputation": 141, "user_id": 5142257, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e13964d54afacab4992cc28ad274ad1a?s=128&d=identicon&r=PG&f=1", "display_name": "Eman Yalpsid", "link": "https://stackoverflow.com/users/5142257/eman-yalpsid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437550904, "creation_date": 1437548902, "last_edit_date": 1437550904, "question_id": 31556173, "link": "https://stackoverflow.com/questions/31556173/call-ruby-method-inside-index-html-erb-to-load-javascripts", "title": "Call ruby method inside index.html.erb to load javascripts", "body": "<p>Is it possible to call a ruby method inside index.html.erb that loads all my javascript files? I know you can do that directly using js but I am building a library and I want the client to be able to add the javascript files by simply calling my method.</p>\n\n<p>I guess it will be something like \n    <code>&lt;%= library.get_javascripts %&gt;</code>\nbut I can't figure it out how the code would look like. </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "gem", "refile"], "comments": [{"owner": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1437549330, "post_id": 31556113, "comment_id": 51069522, "body": "What is the exact error message? and did you permit <code>:remove_project_images_files</code> in your <code>strong_params</code> method?"}, {"owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "reply_to_user": {"reputation": 32131, "user_id": 2346461, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/i3xAf.jpg?s=128&g=1", "display_name": "Pavan", "link": "https://stackoverflow.com/users/2346461/pavan"}, "edited": false, "score": 0, "creation_date": 1437549641, "post_id": 31556113, "comment_id": 51069683, "body": "Hi @Pavan! Yeah, I included that in my strong_params. I have these included: <code>:remove_project_images_files, project_images_files: []</code>...  the last one is like that because of multiple upload images per the documentation. I&#39;m just getting <code>undefined method</code>. But if I do attach that to the loop, how does the form know which image its attached to? Since it&#39;ll just loop as many check boxes based on the images, but won&#39;t really have any data attached to it to let the server know which image to delete"}], "owner": {"reputation": 7430, "user_id": 659751, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X4DC1.jpg?s=128&g=1", "display_name": "hellomello", "link": "https://stackoverflow.com/users/659751/hellomello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437631748, "creation_date": 1437548705, "last_edit_date": 1437631748, "question_id": 31556113, "link": "https://stackoverflow.com/questions/31556113/attaching-checkboxes-to-an-array-of-images-for-delete-images-inside-form-in-ru", "title": "Attaching checkboxes to an array of images (for delete images) inside form in Ruby On Rails, using Refile gem", "body": "<p>I'm looking at this <a href=\"https://github.com/refile/refile#removing-attached-files\" rel=\"nofollow\">documentation</a>, and I'm having trouble coming up with a solution in creating checkboxes to my images, but associated to the form?</p>\n\n<p>If you see below, my images are looped inside the form...</p>\n\n<p>edit view</p>\n\n<pre><code>&lt;%= simple_form_for @project, html: { multipart: true } do |f| %&gt;\n\n  &lt;% @project.project_images.each do |img| %&gt;\n    &lt;%= attachment_image_tag(img, :file, :fit, 1000, 430) %&gt;\n  &lt;% end %&gt;\n\n  &lt;%= f.attachment_field :trip_images_files, multiple: true %&gt;\n  &lt;%= f.button :submit %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<hr>\n\n<p>I can add <code>&lt;%= f.check_box :remove_project_images %&gt;</code> inside the .each loop?</p>\n\n<pre><code>  &lt;% @project.project_images.each do |img| %&gt;\n    &lt;%= attachment_image_tag(img, :file, :fit, 1000, 430) %&gt;\n    &lt;%= f.check_box :remove_project_images_files %&gt;\n  &lt;% end %&gt;\n</code></pre>\n\n<p>Actually, at the time of writing this.. I'm getting <code>undefined method 'remove_project_images_files'</code>, now I'm not even sure at all.</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "tags", "response", "tumblr"], "comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 1, "creation_date": 1437547239, "post_id": 31555579, "comment_id": 51068398, "body": "why not just raise <code>tagpost.inspect</code>, see the content and then iterate with right approach?"}, {"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 1, "creation_date": 1437547398, "post_id": 31555579, "comment_id": 51068472, "body": "I guess it should be <code>tagpost.each</code> instead of <code>tagpost[&quot;tagged&quot;].each</code>."}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437547966, "post_id": 31555579, "comment_id": 51068764, "body": "@mudasobwa you&#39;re right :)"}, {"owner": {"reputation": 2871, "user_id": 610796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/825808ddae9004f1d45becff8583b094?s=128&d=identicon&r=PG", "display_name": "Musannif Zahir", "link": "https://stackoverflow.com/users/610796/musannif-zahir"}, "edited": false, "score": 0, "creation_date": 1437548053, "post_id": 31555579, "comment_id": 51068816, "body": "for future debugging, use <code>p post[&quot;id&quot;]</code> instead of <code>puts</code> (the first will call <code>.inspect</code> and the latter <code>.to_s</code>"}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "edited": false, "score": 0, "creation_date": 1437548841, "post_id": 31555579, "comment_id": 51069236, "body": "@audreydeineko I tried .inspect and it gave me the same result as posting  without any specific methods called"}, {"owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "reply_to_user": {"reputation": 2871, "user_id": 610796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/825808ddae9004f1d45becff8583b094?s=128&d=identicon&r=PG", "display_name": "Musannif Zahir", "link": "https://stackoverflow.com/users/610796/musannif-zahir"}, "edited": false, "score": 0, "creation_date": 1437548918, "post_id": 31555579, "comment_id": 51069284, "body": "@MusannifZahir ok, wow...learn something new everyday"}], "owner": {"reputation": 573, "user_id": 4566078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pWJYn.jpg?s=128&g=1", "display_name": "marriedjane875", "link": "https://stackoverflow.com/users/4566078/marriedjane875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437546928, "creation_date": 1437546928, "question_id": 31555579, "link": "https://stackoverflow.com/questions/31555579/how-to-pull-specifics-from-tumblr-posts-when-searching-tags", "title": "How to pull specifics from tumblr posts when searching tags", "body": "<p>How do I pull specifics from tumblr posts when searching tags?\nFor example, my code looks like this:</p>\n\n<pre><code>tagpost = client.tagged(\"lol\", :limit =&gt; 1)\n\ntagpost[\"tagged\"].each do |posts|\n    puts posts[\"id\"]\nend\n</code></pre>\n\n<p>The error reads </p>\n\n<p><code>[]': no implicit conversion of String into Integer (TypeError)\n    from tumblr.rb:67:in &lt;main&gt;'</code></p>\n\n<p>I'm trying to just get the posts ids to show after searching with tags.\nThanks for your help :)</p>\n"}, {"tags": ["ruby", "string"], "comments": [{"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 0, "creation_date": 1437545280, "post_id": 31554995, "comment_id": 51067489, "body": "Why do you need to use <code>match</code> and <code>count</code>?"}, {"owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "edited": false, "score": 3, "creation_date": 1437545323, "post_id": 31554995, "comment_id": 51067510, "body": "Your current code has nothing to do with <code>&#39;a&#39;</code> or <code>&#39;z&#39;</code>."}, {"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437545826, "post_id": 31554995, "comment_id": 51067739, "body": "I know, I had no idea how to begin :| No need for match or count, I was just thinking that I might be able to use them."}], "answers": [{"comments": [{"owner": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437546212, "post_id": 31555183, "comment_id": 51067950, "body": "<code>&#47;(?&lt;=a)(.{,2})(?=z)&#47;</code> gives more accurate match :)"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 105308, "user_id": 2035262, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pPtKA.jpg?s=128&g=1", "display_name": "Aleksei Matiushkin", "link": "https://stackoverflow.com/users/2035262/aleksei-matiushkin"}, "edited": false, "score": 0, "creation_date": 1437546671, "post_id": 31555183, "comment_id": 51068156, "body": "@mudasobwa As I understand, extracting a match is not the purpose."}], "tags": [], "owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "is_accepted": false, "score": 5, "last_activity_date": 1437545484, "creation_date": 1437545484, "answer_id": 31555183, "question_id": 31554995, "link": "https://stackoverflow.com/questions/31554995/how-to-count-the-number-of-characters-between-two-characters-in-a-string/31555183#31555183", "title": "How to count the number of characters between two characters in a string", "body": "<pre><code>!!(\"fjeioaeiz\" =~ /a.{,2}z/) #=&gt; true\n!!(\"fjeioaz\" =~ /a.{,2}z/) #=&gt; true\n!!(\"fjeioasbdz\" =~ /a.{,2}z/) #=&gt; false\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437546211, "post_id": 31555344, "comment_id": 51067948, "body": "Wow this is very informative, thank you!  Could the code look something like this? <code>string.match(&#47;a[a-z]{0,2}z&#47;) ? true : false</code>"}, {"owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437546482, "post_id": 31555344, "comment_id": 51068074, "body": "Edited my post to explain ruby side of it."}, {"owner": {"reputation": 89316, "user_id": 238886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8ca29123b5669b26f9b6ca2c62d9d215?s=128&d=identicon&r=PG", "display_name": "Wayne Conrad", "link": "https://stackoverflow.com/users/238886/wayne-conrad"}, "edited": false, "score": 0, "creation_date": 1437565856, "post_id": 31555344, "comment_id": 51080246, "body": "I like how this answer explains in increments.  Nicely done.  By the way, a terser form of the function is possible: <code>string =~ &#47;a[a-z]{0,2}z&#47;</code>"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437572099, "post_id": 31555344, "comment_id": 51084854, "body": "What if <code>string = &#39;a3z&#39;</code>? You could replace <code>[a-z]</code> with <code>.</code>, but then your answer (aside from the discussion) would be the same as @sawa&#39;s."}], "tags": [], "owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "is_accepted": true, "score": 7, "last_activity_date": 1437546465, "last_edit_date": 1437546465, "creation_date": 1437546008, "answer_id": 31555344, "question_id": 31554995, "link": "https://stackoverflow.com/questions/31554995/how-to-count-the-number-of-characters-between-two-characters-in-a-string/31555344#31555344", "title": "How to count the number of characters between two characters in a string", "body": "<p>Regex would be a good way to solve this problem.</p>\n\n<p>You can use <a href=\"https://regex101.com/\" rel=\"noreferrer\">online regex testers</a> to experiment with different regexes, inputs and outputs.</p>\n\n<p>The first solution that comes to my mind is to come up with a pattern for each possible correct input:</p>\n\n<ul>\n<li>az </li>\n<li>a[a-z]z </li>\n<li>a[a-z][a-z]z</li>\n</ul>\n\n<p>Which means:</p>\n\n<ul>\n<li>Match the string \"az\"</li>\n<li>Match a string with \"a\" and then a character from \"a\" to \"z\" and then a \"z\" character</li>\n<li>Match a string with an \"a\" and then 2 characters from \"a\" to \"z\" and then a \"z\"</li>\n</ul>\n\n<p>and then combine them with the 'or' operator (|)</p>\n\n<ul>\n<li>az|a[a-z]z|a[a-z][a-z]z</li>\n</ul>\n\n<p>Which means match on all three of those conditions.</p>\n\n<p><a href=\"https://regex101.com/r/rC2gU5/1\" rel=\"noreferrer\">A link to this example is here</a>.</p>\n\n<p>Doing it this way is a bit verbose so it can be improved by expressing this in a more compact way:</p>\n\n<ul>\n<li>a[a-z]{0,2}z</li>\n</ul>\n\n<p>This means:</p>\n\n<ul>\n<li>Match an \"a\" then match a character from \"a\" to \"z\" 0, 1 or 2 times and then match a \"z\"</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/rC2gU5/2\" rel=\"noreferrer\">A link to this example is here</a></p>\n\n<p>You use the method on ruby strings called match which takes in a regex object and then check the boolean return value.</p>\n\n<p>Edit:</p>\n\n<p>The ruby code would look something like this:</p>\n\n<pre><code>def nearby_az(string)\n  return string.match(/a[a-z]{0,2}z/) != nil\nend\n</code></pre>\n\n<p>string.match() returns an object that you can query to get information about the match. If there is no match, string.match() will return nil.</p>\n"}, {"comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1437557396, "post_id": 31556001, "comment_id": 51074525, "body": "+1 for a no-rexgex alternative, but you&#39;re processing parts of the string multiple times due to <code>str[i+1,3].include?</code>. It should be enough, to check each character once."}], "tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 1, "last_activity_date": 1437581137, "last_edit_date": 1437581137, "creation_date": 1437548347, "answer_id": 31556001, "question_id": 31554995, "link": "https://stackoverflow.com/questions/31554995/how-to-count-the-number-of-characters-between-two-characters-in-a-string/31556001#31556001", "title": "How to count the number of characters between two characters in a string", "body": "<p>Look, Ma! No regex!</p>\n\n<pre><code>def a_upto_4_z(str)\n   str.each_char.with_index.any? { |c,i| c == ?a &amp;&amp; str[i+1,3].include?(?z) }\nend\n\na_upto_4_z \"rvaxxzo\"  #=&gt; true \na_upto_4_z \"rvaxxxzo\" #=&gt; false \na_upto_4_z \"rvaxzo\"   #=&gt; true \na_upto_4_z \"rvazo\"    #=&gt; true \na_upto_4_z \"rvzao\"    #=&gt; false \n</code></pre>\n\n<p><strong>Edit</strong>: @Stefan makes a good point. Let's do it this way:</p>\n\n<pre><code>def mind_the_gap(str, max_gap=2)\n  gap = max_gap + 1 # or larger\n  str.each_char do |c|\n    case c\n    when ?z\n      return true if gap &lt;= max_gap\n    when ?a\n      gap = 0\n    else\n      gap += 1\n    end\n  end\n  false\nend\n\nmind_the_gap \"rvaxxzo\"  #=&gt; true \nmind_the_gap \"rvaxxxzo\" #=&gt; false \nmind_the_gap \"rvaxzo\"   #=&gt; true \nmind_the_gap \"rvazo\"    #=&gt; true \nmind_the_gap \"rvzao\"    #=&gt; false \n</code></pre>\n\n<p>Note it is not necessary to increment <code>gap</code> when <code>c == ?z</code> and <code>gap &gt; max_gap</code>.</p>\n"}], "owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 31555344, "answer_count": 3, "score": 2, "last_activity_date": 1437581137, "creation_date": 1437544812, "last_edit_date": 1437545715, "question_id": 31554995, "link": "https://stackoverflow.com/questions/31554995/how-to-count-the-number-of-characters-between-two-characters-in-a-string", "title": "How to count the number of characters between two characters in a string", "body": "<p>This is the question's prompt:</p>\n\n<blockquote>\n  <p>Write a method that takes a string and returns <code>true</code> if the letter\n      <code>\"z\"</code> appears within three letters after an <code>\"a\"</code>. You may assume\n      that the string contains only lowercase letters.</p>\n</blockquote>\n\n<p>I'm trying to use the ternary operator, and want to include the <code>match</code> or <code>count</code> methods. Any idea on how I can find the number of characters between <code>\"a\"</code> and <code>\"z\"</code> or the simplest way to solve this?</p>\n\n<pre><code>def nearby_az(string)\n  string.count &lt;= 3 ? true : false\nend\n</code></pre>\n"}, {"tags": ["ruby", "rubygems", "bundle"], "comments": [{"owner": {"reputation": 3779, "user_id": 1214341, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c2ab16e7bad14de2336741347b36c2cf?s=128&d=identicon&r=PG", "display_name": "vjdhama", "link": "https://stackoverflow.com/users/1214341/vjdhama"}, "edited": false, "score": 0, "creation_date": 1437543845, "post_id": 31554478, "comment_id": 51066887, "body": "did you install bundler? are you on Linux?"}, {"owner": {"reputation": 1515, "user_id": 633567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b45355cfdc64d509b8cbfe2d5789ee94?s=128&d=identicon&r=PG", "display_name": "adzdavies", "link": "https://stackoverflow.com/users/633567/adzdavies"}, "edited": false, "score": 0, "creation_date": 1437544977, "post_id": 31554478, "comment_id": 51067346, "body": "As well as OS, how did you install ruby?"}], "answers": [{"tags": [], "owner": {"reputation": 1515, "user_id": 633567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b45355cfdc64d509b8cbfe2d5789ee94?s=128&d=identicon&r=PG", "display_name": "adzdavies", "link": "https://stackoverflow.com/users/633567/adzdavies"}, "is_accepted": false, "score": 1, "last_activity_date": 1437544780, "creation_date": 1437544780, "answer_id": 31554986, "question_id": 31554478, "link": "https://stackoverflow.com/questions/31554478/bundle-install-loaderror/31554986#31554986", "title": "Bundle install (LoadError)", "body": "<p>You should install bundler first:</p>\n\n<pre><code>gem install bundler\n</code></pre>\n\n<p>This needs to be done once after installing ruby.</p>\n"}, {"tags": [], "owner": {"reputation": 958, "user_id": 1373197, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/42bfe7262a92f2c22e381859a53a46dd?s=128&d=identicon&r=PG", "display_name": "Albert Paul", "link": "https://stackoverflow.com/users/1373197/albert-paul"}, "is_accepted": false, "score": 2, "last_activity_date": 1437545031, "creation_date": 1437545031, "answer_id": 31555045, "question_id": 31554478, "link": "https://stackoverflow.com/questions/31554478/bundle-install-loaderror/31555045#31555045", "title": "Bundle install (LoadError)", "body": "<p>I think you don't have bundler gem installed,</p>\n\n<p>Try</p>\n\n<pre><code>gem install bundler\nbundle install\n</code></pre>\n\n<p>in terminal.</p>\n"}], "owner": {"reputation": 45, "user_id": 5121946, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/87f2ddd0f0ff0fa2fa49426b445f109e?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_in", "link": "https://stackoverflow.com/users/5121946/newbie-in"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437571139, "creation_date": 1437542715, "last_edit_date": 1437571139, "question_id": 31554478, "link": "https://stackoverflow.com/questions/31554478/bundle-install-loaderror", "title": "Bundle install (LoadError)", "body": "<p>I have just started off using ruby and I'm struggling using bundle. </p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p>My error : </p>\n\n<pre><code>/usr/local/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- bundler (LoadError) \nfrom /usr/local/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require' \nfrom /usr/bin/bundle:7:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "git", "heroku", "asset-pipeline"], "answers": [{"comments": [{"owner": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437543530, "post_id": 31554460, "comment_id": 51066777, "body": "I tried both of these methods and my assets are still not loading. I even tried deleting my public/assets folder and precompiling again. I noticed that my new assets were being precompiled but not served. Does this have to do with the method you provided me? I appreciate the help"}, {"owner": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437543815, "post_id": 31554460, "comment_id": 51066873, "body": "Yes I tried both of the methods you described. Do you need any other information that might help from me?"}, {"owner": {"reputation": 241, "user_id": 5122065, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001767966523201/picture?type=large", "display_name": "Ruslan Kornienko", "link": "https://stackoverflow.com/users/5122065/ruslan-kornienko"}, "reply_to_user": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437543923, "post_id": 31554460, "comment_id": 51066922, "body": "Try config.assets.compile set to true."}, {"owner": {"reputation": 241, "user_id": 5122065, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001767966523201/picture?type=large", "display_name": "Ruslan Kornienko", "link": "https://stackoverflow.com/users/5122065/ruslan-kornienko"}, "reply_to_user": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437544136, "post_id": 31554460, "comment_id": 51067006, "body": "which rails version is used?"}, {"owner": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437544362, "post_id": 31554460, "comment_id": 51067091, "body": "No luck with that. I am using rails 4.2.1. I have added my application.rb to my question, I hope that helps"}, {"owner": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "edited": false, "score": 0, "creation_date": 1437583527, "post_id": 31554460, "comment_id": 51093480, "body": "Yes I have read that. Can you please take a look at my recent update? I appreciate the help"}], "tags": [], "owner": {"reputation": 241, "user_id": 5122065, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001767966523201/picture?type=large", "display_name": "Ruslan Kornienko", "link": "https://stackoverflow.com/users/5122065/ruslan-kornienko"}, "is_accepted": false, "score": 0, "last_activity_date": 1437542640, "creation_date": 1437542640, "answer_id": 31554460, "question_id": 31554262, "link": "https://stackoverflow.com/questions/31554262/new-image-assets-not-displayed-on-heroku-staging-site/31554460#31554460", "title": "New image assets not displayed on Heroku staging site", "body": "<p>Go to config/application.rb.\nFind string <code>config.assets.enabled</code> and set value to 'true'.\nOr <code>config.assets.initialize_on_precompile</code> and set to true.</p>\n"}], "owner": {"reputation": 1137, "user_id": 3344544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/unJqF.jpg?s=128&g=1", "display_name": "szier", "link": "https://stackoverflow.com/users/3344544/szier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1437583490, "creation_date": 1437541596, "last_edit_date": 1437583490, "question_id": 31554262, "link": "https://stackoverflow.com/questions/31554262/new-image-assets-not-displayed-on-heroku-staging-site", "title": "New image assets not displayed on Heroku staging site", "body": "<p><strong>UPDATE:</strong> I have just discovered that only when I push to production do my assets appear on staging.</p>\n\n<p>Whenever I add new image assets, precompile them, and deploy to staging they do not appear. However, everything works locally and on Production. Here is my code and my process whenever adding new image assets. Any help would be appreciated. I am very new to this and have been searching everywhere for an answer.</p>\n\n<p><strong>staging.rb</strong></p>\n\n<pre><code>Rails.application.configure do\n  config.cache_classes = true\n  config.eager_load = true\n  config.consider_all_requests_local       = false\n  config.action_controller.perform_caching = true\n  config.action_mailer.default_url_options = { :host =&gt; 'http://site_name.herokuapp.com' }\n  config.serve_static_files = ENV['RAILS_SERVE_STATIC_FILES'].present?\n  config.assets.js_compressor = :uglifier\n  config.assets.compile = false\n  config.assets.digest = true\n  config.log_level = :debug\n  config.action_controller.asset_host = Proc.new { |source|\n    if source =~ /\\b(.png|.jpg|.gif|.svg)\\b/i\n      \"http://key.cloudfront.net\"\n    end\n  }\n  config.i18n.fallbacks = true\n  config.active_support.deprecation = :notify\n  config.log_formatter = ::Logger::Formatter.new\n  config.active_record.dump_schema_after_migration = false\nend\n</code></pre>\n\n<p><strong>How I precompile my assets for staging</strong></p>\n\n<pre><code>RAILS_ENV=staging bundle exec rake assets:precompile\n</code></pre>\n\n<p><strong>How I precompile my assets for production</strong></p>\n\n<pre><code>RAILS_ENV=staging bundle exec rake assets:precompile\n</code></pre>\n\n<p><strong>application.rb</strong></p>\n\n<pre><code>require File.expand_path('../boot', __FILE__)\n\nrequire 'rails/all'\n\n# Require the gems listed in Gemfile, including any gems\n# you've limited to :test, :development, or :production.\nBundler.require(*Rails.groups)\n\nmodule InfoSite\n  class Application &lt; Rails::Application\n    # Settings in config/environments/* take precedence over those     specified here.\n    # Application configuration should go into files in   config/initializers\n    # -- all .rb files in that directory are automatically loaded.\n\n    # Set Time.zone default to the specified zone and make Active   Record auto-convert to this zone.\n    # Run \"rake -D time\" for a list of tasks for finding time zone   names. Default is UTC.\n    # config.time_zone = 'Central Time (US &amp; Canada)'\n\n    config.serve_static_files = true\n    config.assets.compile = true\n    config.assets.configure do |env|\n      if Rails.env.development? || Rails.env.test?\n        env.cache = ActiveSupport::Cache.lookup_store(:memory_store)\n      end\n  end\n    # The default locale is :en and all translations from     config/locales/*.rb,yml are auto loaded.\n    # config.i18n.load_path += Dir[Rails.root.join('my', 'locales', '*. {rb,yml}').to_s]\n    # config.i18n.default_locale = :de\n\n    # Do not swallow errors in after_commit/after_rollback callbacks.\n    config.active_record.raise_in_transactional_callbacks = true\n  end\nend\n</code></pre>\n\n<p>My Process for adding an image asset:</p>\n\n<ol>\n<li>Place image in app/assets/images</li>\n<li>Use it in a layout (using asset pipline: = image_tag 'image.png')</li>\n<li>Check locally (everything works)</li>\n<li>Use <code>RAILS_ENV=staging bundle exec rake assets:precompile</code></li>\n<li>Use <code>RAILS_ENV=production bundle exec rake assets:precompile</code></li>\n<li>Check github, all assets are updated and I can see that they have     precompiled</li>\n<li>git push staging master</li>\n</ol>\n\n<p>Now if I view staging, the assets return me an empty image box displaying the image's name. </p>\n\n<p>Is there something I am missing in my process? Should I be taking a different approach to this?</p>\n"}, {"tags": ["ruby", "string", "methods"], "comments": [{"owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "edited": false, "score": 0, "creation_date": 1437569158, "post_id": 31553708, "comment_id": 51082642, "body": "I&#39;d agree, however the titles of each are different enough. Depending on the user&#39;s search for this problem one or the other may come up."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437538939, "post_id": 31553782, "comment_id": 51065301, "body": "I&#39;m trying to understand this part: &#39;%d:%02d&#39;. Could you give more insight into this?"}, {"owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 1, "creation_date": 1437539196, "post_id": 31553782, "comment_id": 51065367, "body": "@Shawn <a href=\"http://ruby-doc.org/core-2.1.2/Kernel.html#method-i-sprintf\" rel=\"nofollow noreferrer\">Reference manual of <code>sprintf</code></a>."}], "tags": [], "owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "is_accepted": false, "score": 1, "last_activity_date": 1437538690, "creation_date": 1437538690, "answer_id": 31553782, "question_id": 31553708, "link": "https://stackoverflow.com/questions/31553708/time-conversion-in-ruby/31553782#31553782", "title": "Time conversion in Ruby?", "body": "<p>Use formatted output:</p>\n\n<pre><code>sprintf('%d:%02d', time_hours, time_minutes)\n</code></pre>\n\n<p>or the equivalent:</p>\n\n<pre><code>'%d:%02d' % [time_hours, time_minutes]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 0, "creation_date": 1437539023, "post_id": 31553804, "comment_id": 51065323, "body": "Could you explain why you used splat in the one-liner?"}, {"owner": {"reputation": 16527, "user_id": 3124288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6fa5b34aa1b0d8508347f48a8d596399?s=128&d=identicon&r=PG&f=1", "display_name": "JKillian", "link": "https://stackoverflow.com/users/3124288/jkillian"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 2, "creation_date": 1437539380, "post_id": 31553804, "comment_id": 51065414, "body": "@Shawn <code>sprintf</code>&#39;s first argument is a string, and then the rest of its arguments are a list of values to substitute into a string. <code>divmod</code> returns an array with two values. The <code>*</code> makes is so that the elements of the array are used as if they were passed directly to the method. I don&#39;t know the technical term for this though..."}, {"owner": {"reputation": 16527, "user_id": 3124288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6fa5b34aa1b0d8508347f48a8d596399?s=128&d=identicon&r=PG&f=1", "display_name": "JKillian", "link": "https://stackoverflow.com/users/3124288/jkillian"}, "reply_to_user": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "edited": false, "score": 1, "creation_date": 1437539454, "post_id": 31553804, "comment_id": 51065439, "body": "@Shawn See the &#39;Calling Methods&#39; section of this article: <a href=\"https://endofline.wordpress.com/2011/01/21/the-strange-ruby-splat/\" rel=\"nofollow noreferrer\">endofline.wordpress.com/2011/01/21/the-strange-ruby-splat</a>"}], "tags": [], "owner": {"reputation": 16527, "user_id": 3124288, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6fa5b34aa1b0d8508347f48a8d596399?s=128&d=identicon&r=PG&f=1", "display_name": "JKillian", "link": "https://stackoverflow.com/users/3124288/jkillian"}, "is_accepted": true, "score": 4, "last_activity_date": 1437539049, "last_edit_date": 1437539049, "creation_date": 1437538808, "answer_id": 31553804, "question_id": 31553708, "link": "https://stackoverflow.com/questions/31553708/time-conversion-in-ruby/31553804#31553804", "title": "Time conversion in Ruby?", "body": "<pre><code>def time_conversion(mins)\n   hours, minutes = mins.divmod(60)\n   sprintf('%d:%02d', hours, minutes)\nend\n</code></pre>\n\n<p>or you can even make it a one-liner:</p>\n\n<pre><code>def time_conversion(mins)\n   sprintf('%d:%02d', *mins.divmod(60))\nend\n</code></pre>\n\n<p>The <a href=\"http://ruby-doc.org/core-2.2.2/Kernel.html#method-i-sprintf\" rel=\"nofollow\"><code>Numeric#divmod method</code></a> returns the result of integer division and the result of the modulo operator at once. <code>'%d'</code> means insert an integer here. <code>'%02d'</code> means insert an integer and display at least two digits, filling in with 0s if necessary. You can do a lot more with <a href=\"http://ruby-doc.org/core-2.2.2/Kernel.html#method-i-sprintf\" rel=\"nofollow\"><code>sprintf</code></a> as well.</p>\n"}], "owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1437579500, "accepted_answer_id": 31553804, "answer_count": 2, "score": 2, "last_activity_date": 1437539049, "creation_date": 1437538143, "last_edit_date": 1437538642, "question_id": 31553708, "link": "https://stackoverflow.com/questions/31553708/time-conversion-in-ruby", "closed_reason": "Duplicate", "title": "Time conversion in Ruby?", "body": "<p>I have this code to convert minutes into \"hours:minutes\" format.</p>\n\n<pre><code>def time_conversion(minutes)\n    time = \"\"\n    time_hours = minutes/60\n    time_hours.round(0)\n    time_minutes = minutes % 60\n    time_minutes.round(2)\n    time = \"#{time_hours}:#{time_minutes}\"\n    return time\nend\n\np time_conversion(360)\n</code></pre>\n\n<p>But my output is \"6:0\" when I want it to be \"6:00\". How could I clean this code up (simplify it) and also accomplish what I'm trying to do?</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "linux", "ms-access", "import"], "comments": [{"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1437626360, "post_id": 31553698, "comment_id": 51110654, "body": "&quot;slower and a less than ideal solution&quot; are not reasons why you <i>can&#39;t</i> do something, although they certainly could be reasons why you would <i>prefer not to</i> do something. Don&#39;t rule out a possible solution just because it is not &quot;ideal&quot;."}, {"owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1437627810, "post_id": 31553698, "comment_id": 51111055, "body": "True, only the second reason is really why I can&#39;t do it."}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 1, "creation_date": 1437673315, "post_id": 31553698, "comment_id": 51140739, "body": "Is the database encrypted or otherwise &quot;locked&quot; in such a way that you cannot use something like <a href=\"http://ucanaccess.sourceforge.net/site.html\" rel=\"nofollow noreferrer\">UCanAccess</a> or <a href=\"http://jackcess.sourceforge.net/\" rel=\"nofollow noreferrer\">Jackcess</a> to connect directly to the tables and dump them?"}], "answers": [{"tags": [], "owner": {"reputation": 2044, "user_id": 1107211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mte2a.jpg?s=128&g=1", "display_name": "wurde", "link": "https://stackoverflow.com/users/1107211/wurde"}, "is_accepted": false, "score": 0, "last_activity_date": 1437540752, "creation_date": 1437540752, "answer_id": 31554109, "question_id": 31553698, "link": "https://stackoverflow.com/questions/31553698/is-it-possible-to-connect-to-a-ms-access-db-on-linux/31554109#31554109", "title": "Is it possible to connect to a MS Access DB on linux?", "body": "<p>Consider exporting your MS Access data to CSV. Then import that CSV using a script with a standalone ActiveRecord connection to your Rails database.</p>\n\n<p>Maybe write directly to Rails database.</p>\n\n<pre><code>connection = ActiveRecord::Base.establish_connection(\n  :adapter  =&gt; \"mysql\",\n  :host     =&gt; \"localhost\",\n  :username =&gt; \"myuser\",\n  :password =&gt; \"mypass\",\n  :database =&gt; \"somedatabase\"\n)\naccess_csv.each do |record|\n  # &gt;&gt; conditional logic &lt;&lt;\n  connection.execute('INSERT INTO STATEMENT')\nend\n</code></pre>\n\n<p>Or convert the CSV into seed data file and <code>rake db:seed</code></p>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 5122065, "user_type": "registered", "profile_image": "https://graph.facebook.com/1001767966523201/picture?type=large", "display_name": "Ruslan Kornienko", "link": "https://stackoverflow.com/users/5122065/ruslan-kornienko"}, "is_accepted": false, "score": 0, "last_activity_date": 1437543120, "creation_date": 1437543120, "answer_id": 31554584, "question_id": 31553698, "link": "https://stackoverflow.com/questions/31553698/is-it-possible-to-connect-to-a-ms-access-db-on-linux/31554584#31554584", "title": "Is it possible to connect to a MS Access DB on linux?", "body": "<p>You should create db dump file. <a href=\"https://dev.mysql.com/doc/refman/5.1/en/mysqldump.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.1/en/mysqldump.html</a>\nCopy it to local machine.\nUse Siquel Pro for show db \n<a href=\"http://www.sequelpro.com/\" rel=\"nofollow\">http://www.sequelpro.com/</a></p>\n"}], "owner": {"reputation": 3434, "user_id": 587959, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8a12c9364e0bc741b5784d0020084c78?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/587959/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 820, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437627831, "creation_date": 1437538090, "last_edit_date": 1437627831, "question_id": 31553698, "link": "https://stackoverflow.com/questions/31553698/is-it-possible-to-connect-to-a-ms-access-db-on-linux", "title": "Is it possible to connect to a MS Access DB on linux?", "body": "<p>With a rails application deployed on a linux server, is it possible to directly import data from an access database? On windows I can use win32ole to do this, but my linux server would not have this library. Is there a gem out there to accomplish this or perhaps another way to connect to an Microsoft Access database?</p>\n\n<p>Note* I can't export the data from access first because 1) this would be slower and a less than ideal solution and 2) the MS Access database is a commercial application that does not give the ability to export the data I want.</p>\n"}, {"tags": ["ruby", "datetime"], "comments": [{"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1437537264, "post_id": 31553499, "comment_id": 51064905, "body": "Could you give a couple lines from your CSV? Ideally, the lines that you find don&#39;t work?"}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1437537715, "post_id": 31553499, "comment_id": 51065011, "body": "Put  <code>puts dateper</code> after your <code>dateper = ...</code> declaration to see if it matches what you think it&#39;s supposed to be."}, {"owner": {"reputation": 37, "user_id": 4635358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/53bdfc2294617f3e268a138983be0054?s=128&d=identicon&r=PG&f=1", "display_name": "mantrarush", "link": "https://stackoverflow.com/users/4635358/mantrarush"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1437538597, "post_id": 31553499, "comment_id": 51065215, "body": "@Amadan:  One row of CSV has  7/26/13 12:00:00 AM -05:00,62.2,63.02,62.07,63.02,5.00168E+07  More row would look like 8/23/13 12:00:00 AM -05:00,71.84,71.93,71.36,71.6,5.55304E+07 8/26/13 12:00:00 AM -05:00,71.56,72.91,71.52,71.87,8.26536E+07 8/27/13 12:00:00 AM -05:00,71.16,71.81,69.49,69.82,1.058488E+08"}, {"owner": {"reputation": 37, "user_id": 4635358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/53bdfc2294617f3e268a138983be0054?s=128&d=identicon&r=PG&f=1", "display_name": "mantrarush", "link": "https://stackoverflow.com/users/4635358/mantrarush"}, "reply_to_user": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1437538770, "post_id": 31553499, "comment_id": 51065255, "body": "@Beartech p dateper gave me &quot;7/13/15 12:00:00 AM -05:00&quot; as one of the many dates"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1437539348, "post_id": 31553499, "comment_id": 51065406, "body": "If it gave you that as one of the <i>many dates</i>, that means your code worked for many rows. What was the last row that it printed before the error? I would suppose that you have a badly formatted date in it."}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1437539464, "post_id": 31553499, "comment_id": 51065446, "body": "I saved the data you posted to a .csv file and ran your code in pry. Worked perfect. My first suspect would be a problem with your .csv file. What OS are you on? Is your .csv file a pure text file? Do you know what line-ending characters are in use? i.e. Windows or Unix?"}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1437539582, "post_id": 31553499, "comment_id": 51065476, "body": "Amadan brings up a good point you need to clarify. Do you get the error immediately or do some lines process successfully?"}, {"owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "edited": false, "score": 0, "creation_date": 1437540003, "post_id": 31553499, "comment_id": 51065582, "body": "OK, I put a space before one of my lines and the script choked on that line with the exact same error. So Amadan is probably right, you have a malformed date somewhere."}, {"owner": {"reputation": 37, "user_id": 4635358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/53bdfc2294617f3e268a138983be0054?s=128&d=identicon&r=PG&f=1", "display_name": "mantrarush", "link": "https://stackoverflow.com/users/4635358/mantrarush"}, "edited": false, "score": 0, "creation_date": 1437541166, "post_id": 31553499, "comment_id": 51065948, "body": "Thanks so much guys! Turns out of the dates was flawed. It is working well now. Truly appreciate the help."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4635358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/53bdfc2294617f3e268a138983be0054?s=128&d=identicon&r=PG&f=1", "display_name": "mantrarush", "link": "https://stackoverflow.com/users/4635358/mantrarush"}, "edited": false, "score": 0, "creation_date": 1437542384, "post_id": 31554135, "comment_id": 51066356, "body": "Thanks for the input, that was helpful :)"}], "tags": [], "owner": {"reputation": 5292, "user_id": 2727267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e7c773908a4f6095f63cb9553bbc7af?s=128&d=identicon&r=PG", "display_name": "Beartech", "link": "https://stackoverflow.com/users/2727267/beartech"}, "is_accepted": false, "score": 0, "last_activity_date": 1437541458, "last_edit_date": 1437541458, "creation_date": 1437540909, "answer_id": 31554135, "question_id": 31553499, "link": "https://stackoverflow.com/questions/31553499/error-using-strptime-strftime-while-converting-date-to-epoch/31554135#31554135", "title": "Error using strptime, strftime while converting date to epoch", "body": "<p>You have some malformed dates somewhere. Use <code>rescue</code> to avoid the script choking on them.</p>\n\n<pre><code>CSV.foreach(File.path(\"month.csv\")) do |row|\n dateper=row[0].split(',')[0] \n p DateTime.strptime(dateper,\"%m/%d/%y %I:%M:%S %p %z\").strftime(\"%s\") rescue p \"malformed date:#{dateper} on line #{$.}\"\nend\n</code></pre>\n\n<p>This will allow the script to continue and show you the bad dates.</p>\n"}], "owner": {"reputation": 37, "user_id": 4635358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/53bdfc2294617f3e268a138983be0054?s=128&d=identicon&r=PG&f=1", "display_name": "mantrarush", "link": "https://stackoverflow.com/users/4635358/mantrarush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437541458, "creation_date": 1437536766, "last_edit_date": 1437539165, "question_id": 31553499, "link": "https://stackoverflow.com/questions/31553499/error-using-strptime-strftime-while-converting-date-to-epoch", "title": "Error using strptime, strftime while converting date to epoch", "body": "<p>I am trying to extract dates from csv file and convert them to epoch time</p>\n\n<pre><code>CSV.foreach(File.path(\"month.csv\")) do |row|\n dateper=row[0].split(',')[0] \n p DateTime.strptime(dateper,\"%m/%d/%y %I:%M:%S %p %z\").strftime(\"%s\")\nend\n</code></pre>\n\n<p>I am getting <em>invalid date (ArgumentError)</em> as the result. However, if I print out dateper, choose one of the outputs randomly and cop-paste it in place of dateper in line 3, I get an epoch value. What am I doing wrong? dateper is of string value, and strptime minus strftime seems to give an output. </p>\n\n<p>month.csv sample:</p>\n\n<p>7/26/13 12:00:00 AM -05:00,62.2,63.02,62.07,63.02,5.00168E+07<br>\n8/23/13 12:00:00 AM -05:00,71.84,71.93,71.36,71.6,5.55304E+07<br>\n8/26/13 12:00:00 AM -05:00,71.56,72.91,71.52,71.87,8.26536E+07<br>\n8/27/13 12:00:00 AM -05:00,71.16,71.81,69.49,69.82,1.058488E+08  </p>\n\n<p>Could someone help me with this?</p>\n"}, {"tags": ["ruby", "gem", "dependency-management"], "answers": [{"tags": [], "owner": {"reputation": 3930, "user_id": 4613236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQZcm.jpg?s=128&g=1", "display_name": "Zoran", "link": "https://stackoverflow.com/users/4613236/zoran"}, "is_accepted": true, "score": 2, "last_activity_date": 1437534053, "last_edit_date": 1437534053, "creation_date": 1437533585, "answer_id": 31553058, "question_id": 31553041, "link": "https://stackoverflow.com/questions/31553041/equivilent-of-npm-install-for-gems/31553058#31553058", "title": "Equivilent of &quot;npm install&quot; for gems", "body": "<p>An excellent tool for dependency management in Ruby projects is <a href=\"http://bundler.io/\" rel=\"nofollow\">Bundler</a>. It allows Ruby projects to specify the exact gems and versions required for the app to run as intended.</p>\n\n<p>You can specify the dependencies within a Gemfile in the root of your directory, like so:</p>\n\n<pre><code>source 'https://rubygems.org'\ngem 'nokogiri'\ngem 'rack', '~&gt;1.1'\ngem 'rspec', :require =&gt; 'spec'\n</code></pre>\n\n<p>If the end user has bundler available on their system, they can run <code>bundle install</code> within your app and have all the necessary gems installed.</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 0, "last_activity_date": 1437554114, "creation_date": 1437554114, "answer_id": 31557983, "question_id": 31553041, "link": "https://stackoverflow.com/questions/31553041/equivilent-of-npm-install-for-gems/31557983#31557983", "title": "Equivilent of &quot;npm install&quot; for gems", "body": "<p>The Ruby equivalent to <code>npm</code> is a project called <a href=\"http://guides.rubygems.org/\" rel=\"nofollow\"><em>RubyGems</em></a>, the equivalent to <code>npm install</code> is <a href=\"http://guides.rubygems.org/command-reference/#gem-install\" rel=\"nofollow\"><code>gem install</code></a>. <a href=\"http://guides.rubygems.org/specification-reference/#add_runtime_dependency\" rel=\"nofollow\">Dependencies</a> are listed in the <a href=\"http://guides.rubygems.org/specification-reference/\" rel=\"nofollow\">Gemspec</a> and typically installed automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 1543, "user_id": 3589634, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VyTzB.jpg?s=128&g=1", "display_name": "Anony-mouse", "link": "https://stackoverflow.com/users/3589634/anony-mouse"}, "is_accepted": false, "score": 2, "last_activity_date": 1531138529, "last_edit_date": 1531138529, "creation_date": 1437554418, "answer_id": 31558106, "question_id": 31553041, "link": "https://stackoverflow.com/questions/31553041/equivilent-of-npm-install-for-gems/31558106#31558106", "title": "Equivilent of &quot;npm install&quot; for gems", "body": "<p>Bundler is what I generally use.It has functionalities that match that of npm.For example if I have dependancies inside the <code>Gemfile</code> itself bundler will automatically take care of them and create the <code>Gemfile.lock</code> for you. Do have a look <a href=\"http://bundler.io/\" rel=\"nofollow noreferrer\">here.</a></p>\n"}], "owner": {"reputation": 17178, "user_id": 61592, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/55ff1426273f950b43135f619d025476?s=128&d=identicon&r=PG", "display_name": "Todd R", "link": "https://stackoverflow.com/users/61592/todd-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 31553058, "answer_count": 3, "score": 1, "last_activity_date": 1531138529, "creation_date": 1437533455, "question_id": 31553041, "link": "https://stackoverflow.com/questions/31553041/equivilent-of-npm-install-for-gems", "title": "Equivilent of &quot;npm install&quot; for gems", "body": "<p>I'm (re)starting to learn Ruby and am writing an application which will (unsurprisingly) require several gems to be installed. I'll need to provide this application to someone else to run, and I'm concerned that they won't have the gems needed. Coming from node.js, with it's package.json and ability to \"npm install\", leaves me wondering how to ensure dependencies will be easy for others to install. I can include a shell script to install everything, but is there a better, more Rubyish way to do manage gems?</p>\n"}, {"tags": ["arrays", "ruby", "string", "methods"], "answers": [{"tags": [], "owner": {"reputation": 1125, "user_id": 3354209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddRMd.png?s=128&g=1", "display_name": "yossarian", "link": "https://stackoverflow.com/users/3354209/yossarian"}, "is_accepted": false, "score": 0, "last_activity_date": 1437532283, "creation_date": 1437532283, "answer_id": 31552885, "question_id": 31552854, "link": "https://stackoverflow.com/questions/31552854/undefined-method-pop-in-ruby/31552885#31552885", "title": "Undefined method &#39;pop&#39; in Ruby?", "body": "<p>You're calling <code>pop</code> on <code>sentence</code>, which is a String.</p>\n\n<p>You probably want this:</p>\n\n<pre><code>long_word = sentence.split(\" \").sort_by {|x| x.length}.pop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1437532285, "creation_date": 1437532285, "answer_id": 31552886, "question_id": 31552854, "link": "https://stackoverflow.com/questions/31552854/undefined-method-pop-in-ruby/31552886#31552886", "title": "Undefined method &#39;pop&#39; in Ruby?", "body": "<p><code>split</code> and <code>sort_by</code> do not change the variable in any way, they return a new value. Thus, if you don't assign this to something, <code>sentence</code> remains a <code>String</code>, <code>\"hello dogs are fast\"</code>, and strings don't have <code>#pop</code>.</p>\n\n<pre><code>sentence = sentence.split(\" \").sort_by {|x| x.length}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "is_accepted": true, "score": 2, "last_activity_date": 1437532691, "last_edit_date": 1437532691, "creation_date": 1437532343, "answer_id": 31552892, "question_id": 31552854, "link": "https://stackoverflow.com/questions/31552854/undefined-method-pop-in-ruby/31552892#31552892", "title": "Undefined method &#39;pop&#39; in Ruby?", "body": "<p>You are calling array method <code>pop</code> on a string <code>sentence</code>, not a received from <code>split</code> array of strings.</p>\n\n<p>By the way, your code can be simplified:</p>\n\n<pre><code>def longest_word(sentence)\n  sentence.split(' ').sort_by(&amp;:length).pop\nend\n\np longest_word(\"hello dogs are fast\")\n#=&gt; \"hello\"\n</code></pre>\n\n<p><a href=\"http://repl.it/yHH/1\" rel=\"nofollow\"><strong>Demonstration</strong></a></p>\n\n<p>You can also use <a href=\"http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-max_by\" rel=\"nofollow\"><code>max_by</code></a>:</p>\n\n<pre><code>sentence.split(\" \").max_by(&amp;:length)\n</code></pre>\n\n<p><a href=\"http://repl.it/yHH/3\" rel=\"nofollow\"><strong>Demonstration</strong></a></p>\n"}], "owner": {"reputation": 141, "user_id": 5042162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nocGv.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5042162/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 31552892, "answer_count": 3, "score": 1, "last_activity_date": 1437532691, "creation_date": 1437532087, "last_edit_date": 1437532522, "question_id": 31552854, "link": "https://stackoverflow.com/questions/31552854/undefined-method-pop-in-ruby", "title": "Undefined method &#39;pop&#39; in Ruby?", "body": "<p>I have this code</p>\n\n<pre><code>def longest_word(sentence)\n  long_word = \"\"\n  sentence.split(\" \").sort_by {|x| x.length}\n  long_word = sentence.pop\n\n  return long_word\nend\n\np longest_word(\"hello dogs are fast\")\n</code></pre>\n\n<p>And I get the error that the method 'pop' is undefined when I try running it. Does this have something to do with gemfiles? I thought I set that stuff up already.</p>\n"}, {"tags": ["ruby-on-rails", "ruby"], "comments": [{"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1437531129, "post_id": 31552666, "comment_id": 51063495, "body": "No, <code>post</code> is a local variable in the <code>@posts.each |post| ...</code> block."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1437531185, "post_id": 31552666, "comment_id": 51063503, "body": "Ah, you&#39;re right. Sorry, missed that."}, {"owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "edited": false, "score": 0, "creation_date": 1437531478, "post_id": 31552666, "comment_id": 51063562, "body": "I looked at your UsersController and you don&#39;t actually seem to be associating the post with a user at all - why do you expect post.user to be anything else than nil? If your application allows posts without a related user you should check for the existance of post.user before trying to print out the name."}, {"owner": {"reputation": 3587, "user_id": 4918948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0f565037fbddb5a8d5a30fa1e7273?s=128&d=identicon&r=PG&f=1", "display_name": "Vrushali Pawar", "link": "https://stackoverflow.com/users/4918948/vrushali-pawar"}, "edited": false, "score": 0, "creation_date": 1437547973, "post_id": 31552666, "comment_id": 51068767, "body": "@jlquaccia instead if doing <code>post.user.name</code> do like this <code>post.try(:user).try(:name)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16077, "user_id": 319702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Rb5G2.jpg?s=128&g=1", "display_name": "sameera207", "link": "https://stackoverflow.com/users/319702/sameera207"}, "reply_to_user": {"reputation": 165, "user_id": 3534558, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/BsoRU.jpg?s=128&g=1", "display_name": "jlquaccia", "link": "https://stackoverflow.com/users/3534558/jlquaccia"}, "edited": false, "score": 0, "creation_date": 1437687608, "post_id": 31553434, "comment_id": 51148766, "body": "@jlquaccia, glad to help :D"}], "tags": [], "owner": {"reputation": 16077, "user_id": 319702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Rb5G2.jpg?s=128&g=1", "display_name": "sameera207", "link": "https://stackoverflow.com/users/319702/sameera207"}, "is_accepted": true, "score": 4, "last_activity_date": 1437536348, "creation_date": 1437536348, "answer_id": 31553434, "question_id": 31552666, "link": "https://stackoverflow.com/questions/31552666/rails-nomethoderror-undefined-method-name-for-nilnilclass/31553434#31553434", "title": "Rails - NoMethodError - undefined method `name&#39; for nil:NilClass", "body": "<p>you are not setting the <code>user</code> when creating a post, Im not sure about the implementation of your <code>authorize</code> method. However, </p>\n\n<p>it should be something like</p>\n\n<pre><code>#assuming you have the user as `current_user`\nclass PostsController &lt; ApplicationController\n  ...\n  def create\n    @topic = Topic.find(params[:topic_id])\n    @post = Post.new(post_params)\n    @post.user = current_user\n    @post.topic = @topic\n    ...\n  end \n  ...\nend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1809, "user_id": 4966705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-33GGBSJvG1o/AAAAAAAAAAI/AAAAAAAAAEw/l3yn5OOYHKA/photo.jpg?sz=128", "display_name": "rob", "link": "https://stackoverflow.com/users/4966705/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1437537414, "creation_date": 1437537414, "answer_id": 31553601, "question_id": 31552666, "link": "https://stackoverflow.com/questions/31552666/rails-nomethoderror-undefined-method-name-for-nilnilclass/31553601#31553601", "title": "Rails - NoMethodError - undefined method `name&#39; for nil:NilClass", "body": "<p>your post has no user. you have to check why your post not saved the user. to prevent this error you have to check, user exist in post.</p>\n\n<p>i would prefer to use <code>delegate</code> and follow the <code>law of demeter</code></p>\n\n<p>post.rb</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  has_many :comments\n  belongs_to :user\n  belongs_to :topic\n\n  delegate :name, :to :user, allow_nil: true, prefix: true\n  default_scope { order('created_at DESC') }\nend\n</code></pre>\n\n<p>after this, you can receive the users name from the post like <code>post.user_name</code> and it will be forwarded to the name attribute of the user object.</p>\n\n<p>and change in your <code>show.html</code></p>\n\n<pre><code>&lt;%= post.user.name %&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;%= post.user_name %&gt;\n</code></pre>\n\n<blockquote>\n  <p>additional: please do not use default_scope. if you dont need the <code>order()</code> you always have to <code>unscope</code> your queries.</p>\n</blockquote>\n"}], "owner": {"reputation": 165, "user_id": 3534558, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/BsoRU.jpg?s=128&g=1", "display_name": "jlquaccia", "link": "https://stackoverflow.com/users/3534558/jlquaccia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2766, "favorite_count": 0, "accepted_answer_id": 31553434, "answer_count": 2, "score": 1, "last_activity_date": 1439083805, "creation_date": 1437530610, "question_id": 31552666, "link": "https://stackoverflow.com/questions/31552666/rails-nomethoderror-undefined-method-name-for-nilnilclass", "title": "Rails - NoMethodError - undefined method `name&#39; for nil:NilClass", "body": "<p>I'm new to rails and recently noticed an error on one of my show views while working on a project for school.  The error has to do with the name method not being defined yet I'm unsure how to remedy this.  Help would be much appreciated!  The error I receive is:</p>\n\n<pre><code>NoMethodError in Topics#show\n\nShowing /Users/Jason/code/bloccit/app/views/topics/show.html.erb where line #17 raised:\n\nundefined method `name' for nil:NilClass\n\n&lt;%= link_to post.title, [@topic, post] %&gt;\n         &lt;/h4&gt;\n         &lt;small&gt;\n           submitted &lt;%= time_ago_in_words(post.created_at) %&gt; ago by &lt;%= post.user.name %&gt;&lt;br&gt;\n           &lt;%= post.comments.count %&gt; Comments\n         &lt;/small&gt;\n       &lt;/div&gt;\n</code></pre>\n\n<p>Relevant files include..</p>\n\n<p>topics/show.html.erb</p>\n\n<pre><code>&lt;h1&gt;&lt;%= @topic.name %&gt;&lt;/h1&gt;\n\n&lt;% if policy(@topic).update? %&gt;\n  &lt;%= link_to \"Edit Topic\", edit_topic_path, class: 'btn btn-success' %&gt;\n&lt;% end %&gt;\n\n&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-8\"&gt;\n    &lt;p class=\"lead\"&gt;&lt;%= @topic.description %&gt;&lt;/p&gt;\n    &lt;% @posts.each do |post| %&gt;\n      &lt;div class=\"media\"&gt;\n        &lt;div class=\"media-body\"&gt;\n          &lt;h4 class=\"media-heading\"&gt;\n            &lt;%= link_to post.title, [@topic, post] %&gt;\n          &lt;/h4&gt;\n          &lt;small&gt;\n            submitted &lt;%= time_ago_in_words(post.created_at) %&gt; ago by &lt;%= post.user.name %&gt;&lt;br&gt;\n            &lt;%= post.comments.count %&gt; Comments\n          &lt;/small&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n  &lt;div class=\"col-md-4\"&gt;\n    &lt;% if policy(Post.new).create? %&gt;\n      &lt;%= link_to \"New Post\", new_topic_post_path(@topic), class: 'btn btn-success' %&gt;\n    &lt;% end %&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>post.rb</p>\n\n<pre><code>class Post &lt; ActiveRecord::Base\n  has_many :comments\n  belongs_to :user\n  belongs_to :topic\n\n  default_scope { order('created_at DESC') }\nend\n</code></pre>\n\n<p>topic.rb</p>\n\n<pre><code>class Topic &lt; ActiveRecord::Base\n  has_many :posts\nend\n</code></pre>\n\n<p>posts_controller.rb</p>\n\n<pre><code>class PostsController &lt; ApplicationController\n  def show\n    @post = Post.find(params[:id])\n    @topic = Topic.find(params[:topic_id])\n    authorize @post\n  end\n\n  def new\n    @topic = Topic.find(params[:topic_id])\n    @post = Post.new\n    authorize @post\n  end\n\n  def create\n    @topic = Topic.find(params[:topic_id])\n    @post = Post.new(post_params)\n    @post.topic = @topic\n    authorize @post\n\n    if @post.save\n      flash[:notice] = \"Post was saved.\"\n      redirect_to [@topic, @post]\n    else\n      flash[:error] = \"There was an error saving the post.  Please try again.\"\n      render :new\n    end\n  end\n\n  def edit\n    @topic = Topic.find(params[:topic_id])\n    @post = Post.find(params[:id])\n    authorize @post\n  end\n\n  def update\n    @topic = Topic.find(params[:topic_id])\n    @post = Post.find(params[:id])\n    authorize @post\n\n    if @post.update_attributes(post_params)\n      flash[:notice] = \"Post was updated.\"\n      redirect_to [@topic, @post]\n    else\n      flash[:error] = \"There was an error saving the post.  Please try again.\"\n      render :new\n    end\n  end\n\n  private\n\n  def post_params\n    params.require(:post).permit(:title, :body)\n  end\nend\n</code></pre>\n\n<p>topics_controller.rb</p>\n\n<pre><code>class TopicsController &lt; ApplicationController\n  def index\n    @topics = Topic.all\n    authorize @topics\n  end\n\n  def new\n    @topic = Topic.new\n    authorize @topic\n  end\n\n  def show\n    @topic = Topic.find(params[:id])\n    @posts = @topic.posts\n    authorize @topic\n  end\n\n  def create\n    @topic = Topic.new(topic_params)\n    authorize @topic\n    if @topic.save\n      redirect_to @topic, notice: \"Topic was saved successfully.\"\n    else\n      flash[:error] = \"Error creating topic.  Please try again.\"\n      render :new\n    end\n  end\n\n  def edit\n    @topic = Topic.find(params[:id])\n    authorize @topic\n  end\n\n  def update\n    @topic = Topic.find(params[:id])\n    authorize @topic\n    if @topic.update_attributes(topic_params)\n      redirect_to @topic, notice: \"Topic was updated successfully.\"\n    else\n      flash[:error] = \"Error saving topic.  Please try again.\"\n      render :edit\n    end\n  end\n\n  private\n\n  def topic_params\n    params.require(:topic).permit(:name, :description, :public)\n  end\nend\n</code></pre>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "rake-task"], "answers": [{"comments": [{"owner": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1437546142, "post_id": 31554784, "comment_id": 51067922, "body": "So, how exactly would you use it inside controller?"}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "reply_to_user": {"reputation": 47232, "user_id": 1772830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qtoqg.jpg?s=128&g=1", "display_name": "Andrey Deineko", "link": "https://stackoverflow.com/users/1772830/andrey-deineko"}, "edited": false, "score": 0, "creation_date": 1498902617, "post_id": 31554784, "comment_id": 76698986, "body": "I might suggest string interpolation here as well as prepending <code>bundle exec</code> so do: <code>system &quot;RAILS_ENV=#{Rails.env} bundle exec rake foo:bar&quot;</code>  @AndreyDeineko He&#39;s literally given you the exact command here.  <code>system</code> runs shell commands as you would on the terminal command line."}], "tags": [], "owner": {"reputation": 971, "user_id": 2301404, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a58cf6b9f5d523fa29d55b184ad630ba?s=128&d=identicon&r=PG", "display_name": "Sagar.Patil", "link": "https://stackoverflow.com/users/2301404/sagar-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1437543960, "creation_date": 1437543960, "answer_id": 31554784, "question_id": 31552611, "link": "https://stackoverflow.com/questions/31552611/call-rake-method-inside-of-rails/31554784#31554784", "title": "Call Rake Method inside of Rails", "body": "<p><code>system \"RAILS_ENV=\"+Rails.env+\" rake foo:bar\"</code></p>\n"}], "owner": {"reputation": 69, "user_id": 4259749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/de14cc4af3ebf06b0096dcd6ffe22479?s=128&d=identicon&r=PG&f=1", "display_name": "Gpcnec76", "link": "https://stackoverflow.com/users/4259749/gpcnec76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 800, "favorite_count": 1, "closed_date": 1437553401, "answer_count": 1, "score": 0, "last_activity_date": 1437543960, "creation_date": 1437530098, "question_id": 31552611, "link": "https://stackoverflow.com/questions/31552611/call-rake-method-inside-of-rails", "closed_reason": "Duplicate", "title": "Call Rake Method inside of Rails", "body": "<p>I have a helper method (create_employee) inside of a Rake task that I would like to use inside a Rails controller.</p>\n\n<pre><code>lib/taks/billing.rb\n\nrequire 'rake'\n\ntask :billing =&gt; :environment do\n  //logic in task\nend\n\ncreate_employee args1\n  //logic to create new employee\nend\n</code></pre>\n\n<p>How can I call this method within a Rails Controller?</p>\n"}, {"tags": ["ruby", "windows", "gtk3"], "comments": [{"owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "edited": false, "score": 0, "creation_date": 1437532806, "post_id": 31552590, "comment_id": 51063839, "body": "I decided to uninstall the x64 version and install ruby 2.1.6 32bit, with 32bit DevKit. However, I run into the same problem."}, {"owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "edited": false, "score": 0, "creation_date": 1437555811, "post_id": 31552590, "comment_id": 51073385, "body": "It seems like gtk2 or gtk3 are not supported on Windows at least for v2.1.6  Here are some links that I found: <a href=\"https://www.ruby-forum.com/topic/4620044\" rel=\"nofollow noreferrer\">link 1</a>, <a href=\"https://github.com/ruby-gnome2/ruby-gnome2/issues/280\" rel=\"nofollow noreferrer\">link 2</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "is_accepted": true, "score": 1, "last_activity_date": 1437610448, "last_edit_date": 1495541641, "creation_date": 1437610448, "answer_id": 31576107, "question_id": 31552590, "link": "https://stackoverflow.com/questions/31552590/error-when-try-to-install-ruby-gtk3-gem/31576107#31576107", "title": "Error when try to install ruby gtk3 gem", "body": "<p>This issue is answered in a related question that I had:\n<a href=\"https://stackoverflow.com/questions/31563570/how-to-include-x86-mingw32-binaries-when-install-a-gem\">How to include x86-mingw32 binaries when install a gem</a></p>\n\n<p>One does not need to install DevKit (and maybe better not too). The problem is that the installer does not download the gem with windows binaries (<code>-x86-mingw32</code>).</p>\n\n<p>Once I updated to newer rubygems version (<code>gem update --system</code>) the problem is solved.</p>\n"}], "owner": {"reputation": 2506, "user_id": 352032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cec93b077a7e82f28cdf6616d72bb0cd?s=128&d=identicon&r=PG", "display_name": "RaelB", "link": "https://stackoverflow.com/users/352032/raelb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 31576107, "answer_count": 1, "score": 0, "last_activity_date": 1437610448, "creation_date": 1437529966, "question_id": 31552590, "link": "https://stackoverflow.com/questions/31552590/error-when-try-to-install-ruby-gtk3-gem", "title": "Error when try to install ruby gtk3 gem", "body": "<p>I have installed ruby 2.1.6 x64 on Windows 7 x64, to C:\\Ruby21-x64.\nI also downloaded and \"installed\" the appropriate DevKit</p>\n\n<p>When I try to install the gtk3 gem I get the following error:</p>\n\n<pre><code>C:\\&gt;gem install gtk3                                                                                      \nFetching: gobject-introspection-2.2.5-x64-mingw32.gem (100%)                                              \nSuccessfully installed gobject-introspection-2.2.5-x64-mingw32                                            \nFetching: gio2-2.2.5-x64-mingw32.gem (100%)                                                               \nSuccessfully installed gio2-2.2.5-x64-mingw32                                                             \nFetching: cairo-gobject-2.2.5-x64-mingw32.gem (100%)                                                      \nSuccessfully installed cairo-gobject-2.2.5-x64-mingw32                                                    \nFetching: gdk3-2.2.5-x64-mingw32.gem (100%)                                                               \nSuccessfully installed gdk3-2.2.5-x64-mingw32                                                             \nFetching: gtk3-2.2.5.gem (100%)                                                                           \nTemporarily enhancing PATH to include DevKit...                                                           \nBuilding native extensions.  This could take a while...                                                   \nERROR:  Error installing gtk3:                                                                            \n        ERROR: Failed to build gem native extension.                                                      \n\n    C:/Ruby21-x64/bin/ruby.exe extconf.rb                                                                 \nchecking for --enable-debug-build option... no                                                            \nchecking for -Wall option to compiler... yes                                                              \nchecking for -Waggregate-return option to compiler... yes                                                 \nchecking for -Wcast-align option to compiler... yes                                                       \nchecking for -Wextra option to compiler... yes                                                            \nchecking for -Wformat=2 option to compiler... yes                                                         \nchecking for -Winit-self option to compiler... yes                                                        \nchecking for -Wlarger-than-65500 option to compiler... yes                                                \nchecking for -Wmissing-declarations option to compiler... yes                                             \nchecking for -Wmissing-format-attribute option to compiler... yes                                         \nchecking for -Wmissing-include-dirs option to compiler... yes                                             \nchecking for -Wmissing-noreturn option to compiler... yes                                                 \nchecking for -Wmissing-prototypes option to compiler... yes                                               \nchecking for -Wnested-externs option to compiler... yes                                                   \nchecking for -Wold-style-definition option to compiler... yes                                             \nchecking for -Wpacked option to compiler... yes                                                           \nchecking for -Wp,-D_FORTIFY_SOURCE=2 option to compiler... yes                                            \nchecking for -Wpointer-arith option to compiler... yes                                                    \nchecking for -Wswitch-default option to compiler... yes                                                   \nchecking for -Wswitch-enum option to compiler... yes                                                      \nchecking for -Wundef option to compiler... yes                                                            \nchecking for -Wout-of-line-declaration option to compiler... no                                           \nchecking for -Wunsafe-loop-optimizations option to compiler... yes                                        \nchecking for -Wwrite-strings option to compiler... yes                                                    \nchecking for rb_define_alloc_func() in ruby.h... no                                                       \nchecking for rb_block_proc() in ruby.h... no                                                              \nchecking for new allocation framework... yes                                                              \nchecking for attribute assignment... no                                                                   \nchecking for rb_errinfo()... no                                                                           \nchecking for cairo... yes                                                                                 \nchecking for rb_cairo.h... no                                                                             \n*** extconf.rb failed ***                                                                                 \nCould not create Makefile due to some reason, probably lack of necessary                                  \nlibraries and/or headers.  Check the mkmf.log file for more details.  You may                             \nneed configuration options.                                                                               \n\nProvided configuration options:                                                                           \n        --with-opt-dir                                                                                    \n        --without-opt-dir                                                                                 \n        --with-opt-include                                                                                \n        --without-opt-include=${opt-dir}/include                                                          \n        --with-opt-lib                                                                                    \n        --without-opt-lib=${opt-dir}/lib                                                                  \n        --with-make-prog                                                                                  \n        --without-make-prog                                                                               \n        --srcdir=.                                                                                        \n        --curdir                                                                                          \n        --ruby=C:/Ruby21-x64/bin/ruby                                                                     \n        --enable-debug-build                                                                              \n        --disable-debug-build                                                                             \n        --with-pkg-config                                                                                 \n        --without-pkg-config                                                                              \n        --with-override-variables                                                                         \n        --without-override-variables                                                                      \n\nextconf failed, exit code 1                                                                               \n\nGem files will remain installed in C:/Ruby21-x64/lib/ruby/gems/2.1.0/gems/gtk3-2.2.5 for inspection.      \nResults logged to C:/Ruby21-x64/lib/ruby/gems/2.1.0/extensions/x64-mingw32/2.1.0/gtk3-2.2.5/gem_make.out\n</code></pre>\n\n<p>My list of installed gems is:</p>\n\n<pre><code>*** LOCAL GEMS ***                                                                                        \n\natk (2.2.5 x64-mingw32)                                                                                   \nbigdecimal (1.2.4)                                                                                        \ncairo (1.14.1 x64-mingw32)                                                                                \ncairo-gobject (2.2.5 x64-mingw32)                                                                         \ngdk3 (2.2.5 x64-mingw32)                                                                                  \ngdk_pixbuf2 (2.2.5 x64-mingw32)                                                                           \ngio2 (2.2.5 x64-mingw32)                                                                                  \nglib2 (2.2.5 x64-mingw32)                                                                                 \ngobject-introspection (2.2.5 x64-mingw32)                                                                 \ngtk2 (2.2.5 x64-mingw32)                                                                                  \nio-console (0.4.3)                                                                                        \njson (1.8.1)                                                                                              \nminitest (4.7.5)                                                                                          \npango (2.2.5 x64-mingw32)                                                                                 \npkg-config (1.1.6)                                                                                        \npsych (2.0.5)                                                                                             \nrake (10.1.0)                                                                                             \nrdoc (4.1.0)                                                                                              \nrequire_all (1.3.2)                                                                                       \ntest-unit (2.1.6.0)                                                                                       \nvrlib (1.0.16)\n</code></pre>\n\n<p>Any ideas of how to solve?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ruby-on-rails", "ruby", "sidekiq", "mail-form"], "comments": [{"owner": {"reputation": 2208, "user_id": 1231365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/e1iZm.jpg?s=128&g=1", "display_name": "kirqe", "link": "https://stackoverflow.com/users/1231365/kirqe"}, "edited": false, "score": 0, "creation_date": 1437960605, "post_id": 31552289, "comment_id": 51234085, "body": "got the answer here <a href=\"http://stackoverflow.com/questions/31639073/mail-form-gem-with-sidekiq-worker\" title=\"mail form gem with sidekiq worker\">stackoverflow.com/questions/31639073/&hellip;</a>. The topic can be closed and treated as duplicate."}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 3565586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e364925b3077d9c8a72dea3f5e80e6?s=128&d=identicon&r=PG&f=1", "display_name": "wired9", "link": "https://stackoverflow.com/users/3565586/wired9"}, "is_accepted": false, "score": -1, "last_activity_date": 1437528793, "creation_date": 1437528793, "answer_id": 31552425, "question_id": 31552289, "link": "https://stackoverflow.com/questions/31552289/how-to-send-async-emails-with-mail-form-gem-and-sidekiq/31552425#31552425", "title": "How to send async emails with mail_form gem and sidekiq?", "body": "<p>Set up Sidekiq as backend for Active Job\n<a href=\"http://edgeguides.rubyonrails.org/active_job_basics.html\" rel=\"nofollow\">http://edgeguides.rubyonrails.org/active_job_basics.html</a></p>\n\n<p>And then use the deliver_later method from ActionMailer</p>\n\n<p><a href=\"http://edgeapi.rubyonrails.org/classes/ActionMailer/MessageDelivery.html#method-i-deliver_later\" rel=\"nofollow\">http://edgeapi.rubyonrails.org/classes/ActionMailer/MessageDelivery.html#method-i-deliver_later</a></p>\n"}], "owner": {"reputation": 2208, "user_id": 1231365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/e1iZm.jpg?s=128&g=1", "display_name": "kirqe", "link": "https://stackoverflow.com/users/1231365/kirqe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "closed_date": 1438001185, "answer_count": 1, "score": 0, "last_activity_date": 1437872085, "creation_date": 1437527724, "last_edit_date": 1437872085, "question_id": 31552289, "link": "https://stackoverflow.com/questions/31552289/how-to-send-async-emails-with-mail-form-gem-and-sidekiq", "closed_reason": "Duplicate", "title": "How to send async emails with mail_form gem and sidekiq?", "body": "<p>I'm using mail_form gem and have the following code</p>\n\n<pre><code> def create\n    @contact = Contact.new(contact_params)\n    @contact.request = request\n    respond_to do |format|\n      if @contact.deliver\n        format.html { redirect_to root_path, notice: \"Thank you for your message.\"}\n      else\n        format.html {render :new, error: \"There was a problem with sending your message.\"}\n      end\n    end\n  end\n</code></pre>\n\n<p>When I submit my contact form, it takes a few seconds to send a message and redirect to home page.</p>\n\n<p>How to make this process async using sidekiq?</p>\n"}, {"tags": ["arrays", "ruby", "string"], "comments": [{"owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "edited": false, "score": 6, "creation_date": 1437525948, "post_id": 31552001, "comment_id": 51062263, "body": "How one should know what is next \u2013 <code>1</code>, <code>12</code> or  <code>12345678910</code>? It would be pretty simple if you&#39;ve wanted only integers in 0..9 range. Otherwise it is pretty...impossible."}, {"owner": {"reputation": 42085, "user_id": 3444240, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OjOru.jpg?s=128&g=1", "display_name": "potashin", "link": "https://stackoverflow.com/users/3444240/potashin"}, "edited": false, "score": 1, "creation_date": 1437526291, "post_id": 31552001, "comment_id": 51062338, "body": "Without additional rules, of course.For example, If values in the string are supposed to be sorted (i.e. previous is always less than current or otherwise)  and you should write the first value that is greater than current. (1 &lt; 2 &lt; 3 &lt; ... &lt; 8 &lt; 9 &lt; 10)"}, {"owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "edited": false, "score": 0, "creation_date": 1437594150, "post_id": 31552001, "comment_id": 51099898, "body": "I edited the question for clarity. Is this what you had in mind?"}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437767398, "post_id": 31552001, "comment_id": 51186731, "body": "This is an interesting question, even though it is not stated precisely. I hope four votes to reopen are suffiicient for resuscitation. If reopened, I will post an answer that contains what I think is a precise statement of the problem. That may help Amritdeep clarify the question (with an edit)."}], "answers": [{"comments": [{"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437842639, "post_id": 31552225, "comment_id": 51204901, "body": "How would you &quot;modify existing predicate&quot; for an arbitrary string? That is, your code should not make assumptions about the number of digits in the last integer extracted from the string."}], "tags": [], "owner": {"reputation": 605, "user_id": 1398515, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e66c923725405358c56acb9ab4f93a2?s=128&d=identicon&r=PG", "display_name": "Datt", "link": "https://stackoverflow.com/users/1398515/datt"}, "is_accepted": false, "score": 5, "last_activity_date": 1437527218, "creation_date": 1437527218, "answer_id": 31552225, "question_id": 31552001, "link": "https://stackoverflow.com/questions/31552001/ruby-array-conversion/31552225#31552225", "title": "Ruby array conversion", "body": "<p>How about this:</p>\n\n<pre><code>a = [\"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899\"]\nb = a.first.each_char.map {|n| n.to_i }\nif b.size &gt; 8\n  c = b[0..8]\n  c += b[9..b.size].each_slice(2).map(&amp;:join).map(&amp;:to_i)\nend\n\n# It would yield as follows:\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]\n</code></pre>\n\n<p>For later numbers beyond 99, modify existing predicate accordingly.</p>\n"}, {"comments": [{"owner": {"reputation": 270444, "user_id": 405017, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2024054e404233ed97b7d9287aff103d?s=128&d=identicon&r=PG", "display_name": "Phrogz", "link": "https://stackoverflow.com/users/405017/phrogz"}, "edited": false, "score": 0, "creation_date": 1437540339, "post_id": 31553969, "comment_id": 51065662, "body": "Note: the desired output asks for ints in the output, not strings."}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1437545889, "post_id": 31553969, "comment_id": 51067783, "body": "Monotone sequence is not narrow enough of a condition to disambiguate the question. <code>[1, 2, 34, 567, 8910]</code> would be another solution. It is primarily the OP&#39;s fault, but you are also wrong in making it sound like you disambiguated the question."}, {"owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1437547434, "post_id": 31553969, "comment_id": 51068494, "body": "@sawa - Along with the accompanying code it does. We&#39;re not doing rigorous proofs here, we&#39;re answering questions as best we can. Nice counterexample by the way."}, {"owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 2, "creation_date": 1437769296, "post_id": 31553969, "comment_id": 51187639, "body": "Nice one. You might consider making the sequence monotonically non-decreasing rather than increasing. You could meet @sawa&#39;s objection by stating the assumption that if <code>n</code> is a natural number extracted from the string, the next number <code>m</code> extracted will have as few digits as possible (provided <code>m &gt;= n</code>)."}, {"owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "reply_to_user": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "edited": false, "score": 0, "creation_date": 1437800640, "post_id": 31553969, "comment_id": 51194640, "body": "@Cary - Thank you. I&#39;ll let you take it from here if it gets reopened."}], "tags": [], "owner": {"reputation": 5730, "user_id": 667987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c00249587cb5aa0ceb5765dc811faa7?s=128&d=identicon&r=PG", "display_name": "seph", "link": "https://stackoverflow.com/users/667987/seph"}, "is_accepted": false, "score": 1, "last_activity_date": 1437541130, "last_edit_date": 1437541130, "creation_date": 1437539945, "answer_id": 31553969, "question_id": 31552001, "link": "https://stackoverflow.com/questions/31552001/ruby-array-conversion/31553969#31553969", "title": "Ruby array conversion", "body": "<p>Assuming a monotonic sequence, here's my run at it.</p>\n\n<pre><code>input = a.first.chars\noutput = []\nprevious_int = 0\n\nuntil input.empty?\n  temp = []\n  temp &lt;&lt; input.shift until temp.join.to_i &gt; previous_int\n  previous_int = temp.join.to_i\n  output &lt;&lt; previous_int\nend\n\nputs output.to_s\n\n#=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93653, "user_id": 256970, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87b71ecb90417c88f7873a2f0f9492e9?s=128&d=identicon&r=PG", "display_name": "Cary Swoveland", "link": "https://stackoverflow.com/users/256970/cary-swoveland"}, "is_accepted": false, "score": 0, "last_activity_date": 1437842514, "creation_date": 1437842514, "answer_id": 31628780, "question_id": 31552001, "link": "https://stackoverflow.com/questions/31552001/ruby-array-conversion/31628780#31628780", "title": "Ruby array conversion", "body": "<p><strong>Assumptions</strong></p>\n\n<ul>\n<li>the first (natural) number extracted from the string is the first character of the string converted to an integer;</li>\n<li>if the number <code>n</code> is extracted from the string, the next number extracted, <code>m</code>, satisfies <code>n &lt;= m</code> (i.e., the sequence is monotonically non-decreasing);</li>\n<li>if <code>n</code> is extracted from the string, the next number extracted will have as few digits as possible (i.e., at most one greater than the number of digits in <code>n</code>); and</li>\n<li>there is no need to check the validity of the string (e.g., \"54632\" is invalid).</li>\n</ul>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def split_it(str)\n  return [] if str.empty?\n  a = [str[0]]\n  offset = 1\n  while offset &lt; str.size\n    sz = a.last.size\n    sz +=1 if str[offset,sz] &lt; a.last\n    a &lt;&lt; str[offset, sz]\n    offset += sz\n  end\n  a.map(&amp;:to_i)\nend\n</code></pre>\n\n<p><strong>Examples</strong></p>\n\n<pre><code>split_it(\"12345678910\")\n  #=&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nsplit_it(\"12343636412252891407189118901\")\n  #=&gt; [1, 2, 3, 4, 36, 36, 41, 225, 289, 1407, 1891, 18901]\n</code></pre>\n"}], "owner": {"reputation": 3783, "user_id": 1289029, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/62ef1f1e7cb7f6c083fe6c2678b32361?s=128&d=identicon&r=PG", "display_name": "Amrit Dhungana", "link": "https://stackoverflow.com/users/1289029/amrit-dhungana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1437842514, "creation_date": 1437525722, "last_edit_date": 1437582406, "question_id": 31552001, "link": "https://stackoverflow.com/questions/31552001/ruby-array-conversion", "title": "Ruby array conversion", "body": "<p>I have a string of digits:</p>\n\n<pre><code>s = \"12345678910\"\n</code></pre>\n\n<p>As you can see it is the numbers 1 through 10 listed in increasing order. I want to convert it to an array of those numbers:</p>\n\n<pre><code>a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>How can I do it? </p>\n"}, {"tags": ["ruby-on-rails", "ruby", "ruby-on-rails-4", "controller"], "answers": [{"tags": [], "owner": {"reputation": 1515, "user_id": 633567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b45355cfdc64d509b8cbfe2d5789ee94?s=128&d=identicon&r=PG", "display_name": "adzdavies", "link": "https://stackoverflow.com/users/633567/adzdavies"}, "is_accepted": false, "score": 1, "last_activity_date": 1437526349, "creation_date": 1437526349, "answer_id": 31552105, "question_id": 31551804, "link": "https://stackoverflow.com/questions/31551804/generated-set-model-path-in-rails-controller/31552105#31552105", "title": "generated Set_model path in rails controller", "body": "<p>Looks like you want to use \"new_like_path\" rather than \"like_path\".</p>\n\n<p>You probably would benefit from reading this closely: <a href=\"http://guides.rubyonrails.org/routing.html\" rel=\"nofollow\">http://guides.rubyonrails.org/routing.html</a></p>\n\n<p>When you use \"like_path\" you are linking to an existing record, whose id you should pass to the \"like_path\" route generator. Like:</p>\n\n<pre><code>like_path(2)  # link to like with id==2\n</code></pre>\n"}], "owner": {"reputation": 894, "user_id": 3638724, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/778a344a5b886e6897657b5ac1f48d1e?s=128&d=identicon&r=PG&f=1", "display_name": "xeroshogun", "link": "https://stackoverflow.com/users/3638724/xeroshogun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437526349, "creation_date": 1437524289, "question_id": 31551804, "link": "https://stackoverflow.com/questions/31551804/generated-set-model-path-in-rails-controller", "title": "generated Set_model path in rails controller", "body": "<p>I'm used scaffold_controller to generate a controller for a model I have.  In my view, I have the following link to</p>\n\n<pre><code>link_to, 'Like', like_path(param: 'param')\n</code></pre>\n\n<p>In my controller that was generated, I have a private method set_like which is called and I can figure out why.  I just want the link to go to the likes#new path, but it's going to the set_like method first.   I feel like this is a new rails thing and I'm not sure why.  Any ideas?</p>\n"}]