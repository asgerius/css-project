[{"tags": ["c++", "boost", "boost-polygon"], "comments": [{"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 1, "creation_date": 1504742341, "post_id": 46085826, "comment_id": 79133830, "body": "The number of points inside a polygon or on its boundary is infinite (for unlimited precision, but still huge for finite precision). Doesn&#39;t this bother you?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504743152, "post_id": 46085826, "comment_id": 79134011, "body": "It&#39;s a geometry library, not a drawing primitives library."}, {"owner": {"reputation": 484, "user_id": 1595078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/530659f16ca5fee2a6ee60648b87ec10?s=128&d=identicon&r=PG", "display_name": "mdemirst", "link": "https://stackoverflow.com/users/1595078/mdemirst"}, "edited": false, "score": 0, "creation_date": 1504743209, "post_id": 46085826, "comment_id": 79134019, "body": "In boost polygon library, vertices have integer indices. Therefore, I am only interested in points with integer valued indices. Sorry for confusion"}], "owner": {"reputation": 484, "user_id": 1595078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/530659f16ca5fee2a6ee60648b87ec10?s=128&d=identicon&r=PG", "display_name": "mdemirst", "link": "https://stackoverflow.com/users/1595078/mdemirst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1556214483, "creation_date": 1504741680, "last_edit_date": 1556214483, "question_id": 46085826, "link": "https://stackoverflow.com/questions/46085826/getting-all-the-points-within-boost-polygon", "title": "Getting all the points within boost polygon", "body": "<p>I want to get all the points(with integer valued indices) within the boundary of a polygon. There is an API function to query if the point is inside a polygon but I want to get the list of all the points. Is there any API functionality in boost library to do this?</p>\n\n<p>Polygons are defined by vertices but there are several well know methods such as flood fill or scan line technique to get interior points of the polygon. However, I couldn't find any implementation of these methods in boost.</p>\n"}, {"tags": ["c++", "templates", "g++", "c++17"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 1, "creation_date": 1504741494, "post_id": 46085683, "comment_id": 79133668, "body": "That error message claims that the <code>*</code> in <code>Base *pt_base</code> is not allowed.  <code>*pt_base</code> is a <i>declarator</i>, but is not a <i>declarator-id</i> (such as an undecorated identifier).  I can&#39;t find this rule anywhere in N4687, though."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1504741900, "post_id": 46085683, "comment_id": 79133758, "body": "@aschepler The rules for deduction just only kick in in certain spots. And the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0091r3.html\" rel=\"nofollow noreferrer\">original proposal</a> explicitly ruled out things like pointers, functions, and references."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 1, "creation_date": 1504742034, "post_id": 46085683, "comment_id": 79133784, "body": "Also, template class deduction happens at compile time. In the situations where you <i>are</i> allowed to write just <code>Base</code>, the compiler will decide whether it actually means <code>Base&lt;someType&gt;</code> or whatever.  <code>Base</code> is not a type.  So you can&#39;t have a single variable point at either a <code>Derived&lt;someType&gt;</code> or <code>Derived&lt;someType2&gt;</code> at runtime, unless they actually both inherit some common type.  You might need a <code>std::any</code> or <code>std::variant</code> for the return type of its <code>getValue()</code>."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1504742631, "post_id": 46085683, "comment_id": 79133893, "body": "If <code>vector&lt;Base*&gt;</code> was valid, type erasure would be supported by the language directly ..."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1504742755, "post_id": 46085683, "comment_id": 79133917, "body": "@Barry [dcl.type.class.deduct] &quot;If a placeholder for a deduced class type appears as a <i>decl-specifier</i> in the <i>decl-specifier-seq</i> of an initializing declaration of a variable, the placeholder is replaced by the return type of the function selected by overload resolution for class template deduction ([over.match.class.deduct]).&quot;  By the letter, that sentence would apply.  Though in this example it would fail because none of the invented constructors for <code>Base</code> can accept a pointer.  But by a strict reading, I think <code>std::vector&amp;&amp; v(1,1);</code> might be allowed.  Seems like a Defect to me."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1504759936, "post_id": 46085683, "comment_id": 79137814, "body": "@Barry That paper&#39;s easily the poorest written adopted paper I&#39;ve ever read. But then, I&#39;m not really a fan of this whole &quot;feature&quot;."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1504771867, "post_id": 46085683, "comment_id": 79143974, "body": "@aschepler <a href=\"https://wg21.link/P0620\" rel=\"nofollow noreferrer\">P0620</a> removed the original restriction, apparently unintentionally (the goal for that edit was to remove the requirement for an initializer, if I understand correctly). I guess that&#39;s what you get for a feature that got reworked and patched until the very last second :("}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 9, "last_activity_date": 1504741519, "last_edit_date": 1504741519, "creation_date": 1504741190, "answer_id": 46085772, "question_id": 46085683, "link": "https://stackoverflow.com/questions/46085683/template-argument-deduction-for-class-templates-in-c17-am-i-doing-it-wrong/46085772#46085772", "title": "Template argument deduction for class templates in C++17: am I doing it wrong?", "body": "<p>Class template argument deduction works for declaring instances of class types:</p>\n\n<pre><code>Derived d(42);\n</code></pre>\n\n<p>Or new-expressions:</p>\n\n<pre><code>auto p = new Derived(42);\n</code></pre>\n\n<p>Or function-style casts:</p>\n\n<pre><code>foo(Derived(42));\n</code></pre>\n\n<p>It does not work for declaring pointers. </p>\n\n<hr />\n\n<p>You'll have to simply provide the template arguments as you've always had to. Or, I guess:</p>\n\n<pre><code>template &lt;class T&gt; Base&lt;T&gt;* downcast(Base&lt;T&gt;* p) { return p; }\nauto pt_base = downcast(new Derived(42));\n</code></pre>\n"}], "owner": {"reputation": 944, "user_id": 1832712, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e57c7d0a8ad5f647bce1df728ed7a227?s=128&d=identicon&r=PG", "display_name": "Georg", "link": "https://stackoverflow.com/users/1832712/georg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3836, "favorite_count": 1, "accepted_answer_id": 46085772, "answer_count": 1, "score": 5, "last_activity_date": 1504741519, "creation_date": 1504740240, "last_edit_date": 1504741428, "question_id": 46085683, "link": "https://stackoverflow.com/questions/46085683/template-argument-deduction-for-class-templates-in-c17-am-i-doing-it-wrong", "title": "Template argument deduction for class templates in C++17: am I doing it wrong?", "body": "<p>According to\n<a href=\"https://gcc.gnu.org/projects/cxx-status.html\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/projects/cxx-status.html</a>, version 7 of g++, used with flag <code>-std=c++1z</code>, supports template argument deduction for class templates.</p>\n\n<p>I would expect the following code to compile, especially as <code>Base</code> is an abstract class, therefore:<br>\n1. the compiler knows no instance of <code>Base</code> can be created;<br>\n2. the pointer to base <code>pt_base</code> points to a clearly defined instance (i.e. <code>Derived&lt;int&gt;{42}</code>) where the type (<code>int</code>) is explicit.</p>\n\n<pre><code>template&lt;typename ValueType&gt;\nclass Base {\npublic:\n    virtual ValueType getValue() = 0;\n};\n\ntemplate&lt;typename ValueType&gt;\nclass Derived : public Base&lt;ValueType&gt;{\npublic:\n    Derived(ValueType argt){ value = argt; }\n    virtual ValueType getValue(){ return value; }\n    ValueType value;\n};\n\nint main(){\n    Base *pt_base = new(Derived&lt;int&gt;{42}); // *ERROR*\n    delete pt_base;\n}\n</code></pre>\n\n<p>Yet, it <a href=\"http://coliru.stacked-crooked.com/a/96b3b15825ccad7e\" rel=\"nofollow noreferrer\">does not compile</a>. G++ complains that \"<em>template placeholder type 'Base' must be followed by a simple declarator-id</em>\"; if I understand correctly, it does not deduce the template argument.<br>\nIt's a pity because I would like to dynamically decide which derived class <code>pt_base</code> points to (could be an object from class <code>Derived&lt;someType&gt;</code> or from class <code>Derived2&lt;someType2&gt;</code>). That way, an array or a <code>vector&lt;Base *&gt;</code> could store pointers to objects of various derived classes.</p>\n\n<p>GCC only has <a href=\"https://gcc.gnu.org/projects/cxx-status.html\" rel=\"nofollow noreferrer\">experimental support</a> for C++17 and I don't have access to another compiler, so although I get a compile error I am not sure my code is wrong. What do you think?<br>\nAnd how could we dynamically decide that <code>pt_base</code> points to an object from either <code>Derived&lt;someType&gt;</code> or <code>Derived2&lt;someType2&gt;</code> (so polymorphism can be used)?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1504742577, "post_id": 46085660, "comment_id": 79133879, "body": "Related? Duplicate? <a href=\"https://stackoverflow.com/questions/1008019/c-singleton-design-pattern\" title=\"c singleton design pattern\">stackoverflow.com/questions/1008019/c-singleton-design-patte&zwnj;&#8203;rn</a>"}, {"owner": {"reputation": 6658, "user_id": 3697757, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0aQ16.jpg?s=128&g=1", "display_name": "hackjutsu", "link": "https://stackoverflow.com/users/3697757/hackjutsu"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1504805872, "post_id": 46085660, "comment_id": 79167057, "body": "There is nothing to do with the Singleton pattern here... No idea why it is a duplicate..."}], "answers": [{"comments": [{"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1504740658, "post_id": 46085693, "comment_id": 79133479, "body": "You might still want the <code>using</code> statement, just after the class."}, {"owner": {"reputation": 6658, "user_id": 3697757, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0aQ16.jpg?s=128&g=1", "display_name": "hackjutsu", "link": "https://stackoverflow.com/users/3697757/hackjutsu"}, "edited": false, "score": 0, "creation_date": 1504741547, "post_id": 46085693, "comment_id": 79133684, "body": "Yes, other classes will use <code>MyClassPtr</code> for brevity. That&#39;s the whole point of <code>using</code> in this case."}], "tags": [], "owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1504740322, "creation_date": 1504740322, "answer_id": 46085693, "question_id": 46085660, "link": "https://stackoverflow.com/questions/46085660/static-method-return-classs-shared-ptr/46085693#46085693", "title": "Static method return class&#39;s shared_ptr", "body": "<p>Replace the return type with auto:</p>\n\n<pre><code>class MyClass {\npublic:\n    static auto createMyClassInstance();\n\nprivate:\n/*Other members &amp; method*/\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/088a1b2702f777c8\" rel=\"nofollow noreferrer\">Demo</a>:</p>\n"}, {"tags": [], "owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1504741248, "creation_date": 1504741248, "answer_id": 46085778, "question_id": 46085660, "link": "https://stackoverflow.com/questions/46085660/static-method-return-classs-shared-ptr/46085778#46085778", "title": "Static method return class&#39;s shared_ptr", "body": "<p>Make <code>Ptr</code> a member type:</p>\n\n<pre><code>class MyClass {\npublic:\n    using Ptr = std::shared_ptr&lt;MyClass&gt;;\n    static Ptr createMyClassInstance();\n\nprivate:\n/*Other members &amp; method*/\n};\n\n// ...\n\nMyClass::Ptr p = MyClass::createMyClassInstance();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6658, "user_id": 3697757, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0aQ16.jpg?s=128&g=1", "display_name": "hackjutsu", "link": "https://stackoverflow.com/users/3697757/hackjutsu"}, "edited": false, "score": 0, "creation_date": 1504741876, "post_id": 46085817, "comment_id": 79133752, "body": "Thanks, <code>createMyClassInstance</code> is just a random name I pick up to illustrate the method&#39;s purpose. I&#39;m wondering is there any way to avoid declaring <code>MyClass</code> &quot;twice&quot;."}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 6658, "user_id": 3697757, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0aQ16.jpg?s=128&g=1", "display_name": "hackjutsu", "link": "https://stackoverflow.com/users/3697757/hackjutsu"}, "edited": false, "score": 0, "creation_date": 1504741953, "post_id": 46085817, "comment_id": 79133766, "body": "There is nothing wrong with that. You only define it once, but can declare it as often as you like."}], "tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 3, "last_activity_date": 1504741886, "last_edit_date": 1592644375, "creation_date": 1504741588, "answer_id": 46085817, "question_id": 46085660, "link": "https://stackoverflow.com/questions/46085660/static-method-return-classs-shared-ptr/46085817#46085817", "title": "Static method return class&#39;s shared_ptr", "body": "<p>Your question is somewhat vague, as you ask how the code can be <em>simplified</em>, yet you fail to provide any real code, only the outline of a class definition. Instead, I try to answer the more sensible question of how to <em>improve</em> your code. I suggest</p>\n<ol>\n<li><p>Avoid the alias <code>MyClassPtr</code>, it's not really necessary (it should not be used much if you use <code>auto</code>) but more importantly reduces verbosity and hence readability of the code, since it's not obvious from its name that <code>MyClassPtr</code> refers to a <code>shared_ptr</code>.</p>\n<p>If you insist on having a shorthand for the smart pointer, you can define this <em>after</em> the class definition, thus avoiding the forward declaration</p>\n</li>\n<li><p>Rename <code>MyClass::createMyClassInstance</code> to something more verbose, I suggest <code>MyClass::createSharedPtr</code> (no need to have <code>MyClass</code> in the function name again).</p>\n</li>\n<li><p>Don't forget the <code>;</code> after a class definition.</p>\n</li>\n</ol>\n<p>Thus,</p>\n<pre><code>class MyClass\n{\npublic:\n    static std::shared_ptr&lt;MyClass&gt; createSharedPtr();    \nprivate:\n    /* Other members &amp; methods */\n};\n\nusing MyClassSharedPtr = std::shared_ptr&lt;MyClass&gt;;  // optional\n</code></pre>\n<p>IMHO, good code should be self-explanatory and hence not necessarily most concise/brief, though redundancies must be avoided.</p>\n"}, {"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 0, "last_activity_date": 1504743800, "last_edit_date": 1592644375, "creation_date": 1504743800, "answer_id": 46086098, "question_id": 46085660, "link": "https://stackoverflow.com/questions/46085660/static-method-return-classs-shared-ptr/46086098#46086098", "title": "Static method return class&#39;s shared_ptr", "body": "<blockquote>\n<p>is there some way to reorganize the code so that</p>\n<p>(1)keep the MyClassPtr alias (it is shared across the project)</p>\n<p>(2) without &quot;declaring&quot; MyClass twice</p>\n</blockquote>\n<p>You you accept to declare <code>MyClassPtr</code> twice, you can declare it inside the class and &quot;export&quot; it outside</p>\n<pre><code>#include &lt;memory&gt;\n\nclass MyClass\n {\n   public:\n      using MyClassPtr = std::shared_ptr&lt;MyClass&gt;;\n\n      static MyClassPtr createMyClassInstance();\n\n   private:\n      /*Other members &amp; methods*/\n };\n\nusing MyClassPtr = MyClass::MyClassPtr;\n\n\nint main()\n {\n   MyClassPtr  np { nullptr };\n }\n</code></pre>\n"}], "owner": {"reputation": 6658, "user_id": 3697757, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0aQ16.jpg?s=128&g=1", "display_name": "hackjutsu", "link": "https://stackoverflow.com/users/3697757/hackjutsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 46086098, "answer_count": 4, "score": 1, "last_activity_date": 1504743800, "creation_date": 1504740117, "last_edit_date": 1504742208, "question_id": 46085660, "link": "https://stackoverflow.com/questions/46085660/static-method-return-classs-shared-ptr", "title": "Static method return class&#39;s shared_ptr", "body": "<p>In the following snippet, <code>MyClass</code> has a static method which returns its shared pointer. To make to code concise, we use the alias <code>MyClassPtr</code> for <code>std::shared_ptr&lt;MyClass&gt;</code>. </p>\n\n<p>However, to accomplish this, we declare the class before declaring the shared pointer alias, which then follows the actual class declaration. It looks verbose.</p>\n\n<p>Is there some way to reorganize the code so that</p>\n\n<ul>\n<li>keep the <code>MyClassPtr</code> alias (it is shared across the project)</li>\n<li>without \"declaring\" <code>MyClass</code> twice</li>\n</ul>\n\n<p>code below:</p>\n\n<pre><code>class MyClass;\nusing MyClassPtr = std::shared_ptr&lt;MyClass&gt;;\n\nclass MyClass {\npublic:\n    static MyClassPtr createMyClassInstance();\n\nprivate:\n/*Other members &amp; methods*/\n}\n</code></pre>\n\n<p>I'm OK with the current implementation. But I would like to seek experienced guy's advice if the code can be improved.</p>\n"}, {"tags": ["c++", "visual-studio", "compilation", "macros", "preprocessor"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1504740422, "post_id": 46085653, "comment_id": 79133424, "body": "Do you mean all the preprocessor directives?  There is a list of standard ones and many compiler vendors provide their own also."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1504740511, "post_id": 46085653, "comment_id": 79133441, "body": "Do you mean that you want to produce a list of all defined macros? A <i>macro</i> is a named piece of code such as <code>_DEBUG</code>, a <i>preprocessor</i> is a software tool that evaluates macros (among other things)."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504744842, "post_id": 46085653, "comment_id": 79134371, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2224334/gcc-dump-preprocessor-defines\">GCC dump preprocessor defines</a>"}, {"owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504780754, "post_id": 46085653, "comment_id": 79149983, "body": "@spectras thanks reminder, i&#39;m actually working on microsoft visual studio."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504793906, "post_id": 46085653, "comment_id": 79159516, "body": "@athos&gt; in that case the full list is available in visual studio <a href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow noreferrer\">documentation</a>."}, {"owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504800070, "post_id": 46085653, "comment_id": 79163994, "body": "@spectras That&#39;s the vs built-in preprocessors . How to figure them out so that c++ code is aware of the settings? Even better, could c++ code be aware of the programmer defined preprocessors?"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504801778, "post_id": 46085653, "comment_id": 79164928, "body": "@athos&gt; I don&#39;t understand. You have the full list of predefined macros, with exact meaning of each in case you need them in your code. What exactly do you miss?"}, {"owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "edited": false, "score": 0, "creation_date": 1504801872, "post_id": 46085653, "comment_id": 79164976, "body": "How to handle a new preprocessor defined by a colleague?"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504802009, "post_id": 46085653, "comment_id": 79165055, "body": "@athos&gt; by asking that colleague what the meaning of the macro he defined is? We don&#39;t do mind reading. Neither do compilers."}, {"owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "edited": false, "score": 0, "creation_date": 1504802045, "post_id": 46085653, "comment_id": 79165071, "body": "I&#39;m looking for an automatic solution"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1504802183, "post_id": 46085653, "comment_id": 79165142, "body": "An automatic solution to what? Extracting the meaning of a macro from a colleague&#39;s mind?"}], "answers": [{"comments": [{"owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "edited": false, "score": 0, "creation_date": 1504799896, "post_id": 46094742, "comment_id": 79163858, "body": "I&#39;m not targeting _Debug only but all preprocessors"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "edited": false, "score": 0, "creation_date": 1504848381, "post_id": 46094742, "comment_id": 79180904, "body": "@athos I updated my answer, do you like it now? I liked your question, thus upvoted!"}], "tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": true, "score": 0, "last_activity_date": 1504848362, "last_edit_date": 1504848362, "creation_date": 1504782241, "answer_id": 46094742, "question_id": 46085653, "link": "https://stackoverflow.com/questions/46085653/how-to-find-compilation-preprocessor-used-in-microsoft-visual-c/46094742#46094742", "title": "How to find compilation preprocessor used in Microsoft Visual C++", "body": "<p>Visual Studio automatically defines <code>_DEBUG</code>, so I suggest you use that.</p>\n\n<p>However, for a portable solution, use <code>NDEBUG</code>, like this:</p>\n\n<pre><code>#ifdef NDEBUG\n  // nondebug\n#else\n  // debug code\n#endif\n</code></pre>\n\n<hr>\n\n<p>References:</p>\n\n<ol>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow noreferrer\">Predefined Macros Msdn</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4604283/automatic-defines-according-to-debug-release-config-in-visual-studio-2010\">Automatic #defines according to Debug/Release config in Visual Studio 2010</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2249282/c-c-portable-way-to-detect-debug-release\">C / C++ : Portable way to detect debug / release?</a></li>\n</ol>\n\n<hr>\n\n<p>PS: There is no automatic way of detecting the meaning of a <em>custom</em> Macro defined by a colleague, since the colleague might do almost anything.</p>\n"}], "owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 46094742, "answer_count": 1, "score": 1, "last_activity_date": 1504848418, "creation_date": 1504740058, "last_edit_date": 1504848418, "question_id": 46085653, "link": "https://stackoverflow.com/questions/46085653/how-to-find-compilation-preprocessor-used-in-microsoft-visual-c", "title": "How to find compilation preprocessor used in Microsoft Visual C++", "body": "<p>Is there a way to find out the preprocessor in c++ code, e.g. NDebug, NOMAXMIN, etc?</p>\n\n<p>I can do something like</p>\n\n<pre><code>#ifdef _DEBUG\n    std::cout &lt;&lt; \"in debug mode\";\n#else\n    std::cout &lt;&lt; \"in release mode\";\n#endif\n</code></pre>\n\n<p>but there are so many preprocessors and colleagues can also define their own.</p>\n\n<p>I'm using Microsoft Visual Studio to write C++ code, not gcc.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1504738558, "post_id": 46085438, "comment_id": 79132958, "body": "How did you reach the conclusion it&#39;s <code>int*</code>? Because I can&#39;t reproduce such a deduction."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 6, "creation_date": 1504738599, "post_id": 46085438, "comment_id": 79132965, "body": "What is <code>arr1</code>?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1504738701, "post_id": 46085438, "comment_id": 79132995, "body": "@StoryTeller It got decayed by the <code>const auto</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1504738746, "post_id": 46085438, "comment_id": 79133014, "body": "The first is not a normal <code>for</code> loop.  A <i>normal</i> for loop would be: <code>for (int row = 0; row &lt; 3; ++row){ for (int column = 0; column &lt; 4; ++column) { cout &lt;&lt; ia[row][column] &lt;&lt; &quot;\\n&quot;;} }</code>"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1504738865, "post_id": 46085438, "comment_id": 79133041, "body": "@T.C. - I would have suspected it&#39;s passing <code>ia</code> to <code>std::begin</code> is what would have decayed it first. Does <code>std::begin</code> have an overload that can accept a <code>int(*)[4]</code>? Or is it <code>int(&amp;)[4]</code>?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1504738928, "post_id": 46085438, "comment_id": 79133059, "body": "@StoryTeller No, but there&#39;s no <code>std::begin</code> call, implicitly or explicitly, in this example. (And it wouldn&#39;t have decayed anything anyway.)"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1504739026, "post_id": 46085438, "comment_id": 79133087, "body": "@T.C. - <a href=\"http://coliru.stacked-crooked.com/a/bc3f14440ca18a5f\" rel=\"nofollow noreferrer\">Beg your pardon</a>?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1504739094, "post_id": 46085438, "comment_id": 79133113, "body": "@StoryTeller Bogus compiler error message."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1504739327, "post_id": 46085438, "comment_id": 79133173, "body": "@T.C. - Or a bogus implementation. Regardless. The OP&#39;s confusion seems to stem from not understanding <code>row</code> is in fact initialized from a dereferenced <code>int(*)[4]</code>."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1504739650, "post_id": 46085438, "comment_id": 79133247, "body": "@ThomasMatthews: Nah, that&#39;s a pretty decent &quot;normal&quot; for loop, basically expressed in terms of iterators."}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504750465, "post_id": 46085438, "comment_id": 79135686, "body": "Basic understanding is name of ia return int   (*)[4] and not int *"}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504750141, "post_id": 46085636, "comment_id": 79135609, "body": "Why would it  decay? Without decay it would have  been int (*)[4]  .. sorry new to c++ .. What is decay?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504789148, "post_id": 46085636, "comment_id": 79155811, "body": "@yapkm01: In many circumstances, a value (lvalue or rvalue) of array type becomes a prvalue of type pointer-to-element whose value is the address of the first array element. This is called &quot;decay&quot;. It&#39;s extremely fundamental, as it enables basic things like subscripting: Given <code>int a[3]</code>, we can say <code>a[i]</code>, which is equivalent to <code>*(a + i)</code>, and here <code>a</code> decays to <code>&amp;a[0]</code>, so that pointer arithmetic applies to the array <i>elements</i>. Without decay, the expression <code>a + i</code> would make no sense. Decay also lets us write <code>for (auto* it = a; it != a + 3; ++it) use(*it);</code> to iterate the array."}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504807478, "post_id": 46085636, "comment_id": 79167904, "body": "if you put auto row= ia; or const auto row = ia; and hover your mouse of variable row .. you&#39;ll see that it&#39;s int (*)[4]. Why would it differ using a range for loop?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504811805, "post_id": 46085636, "comment_id": 79169989, "body": "@yapkm01: That&#39;s perfectly consistent with what I just said. <code>ia</code> is an array of <code>T</code>, and it decays to a <code>T*</code>. (You just need to fill in <code>T = int[4]</code>.) You may be in too deep here; try simpler types first until you wrap your head around the idea of arrays. Arrays of arrays work just the same, but it&#39;s easier to lose yourself in the complexity."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504814678, "post_id": 46085636, "comment_id": 79171375, "body": "@yapkm01: Let&#39;s try again: <code>T a[7]; auto it = a;</code> Now <code>it</code> is an <code>T*</code> with value <code>&amp;a[0]</code>, right? So far so good. Now do the same thing, but replace <code>T</code> with <code>int[13]</code>: <code>int b[7][13]; auto it = b;</code>. Again <code>it</code> is the decayed pointer to the first element, <code>&amp;b[0]</code>. <code>b[0]</code> is an <code>int[13]</code>, so its address has type <code>int(*)[13]</code>."}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504822685, "post_id": 46085636, "comment_id": 79174798, "body": "Int (<i>p)[4] = ia; you can do p +1 which essentially points to the &amp;p[1]. That is a pointer arithemetic  ..  It now points to index 1. Range for in each loop return a element which is an array of 4 int.  So having (*</i>)[4] Is relevant saying this pointer now points to an array of 4 elements. Next loop of p will return next batch of array of 4 elements."}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504823253, "post_id": 46085636, "comment_id": 79174985, "body": "Point is ia return batches of 4 elements so shouldn&#39;t it be int (**)[4]?"}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504883759, "post_id": 46085636, "comment_id": 79201842, "body": "I have revised my original question which i hope provides clearer picture of the confusion i am having"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504887699, "post_id": 46085636, "comment_id": 79204122, "body": "@yapkm01: Maybe <a href=\"http://en.cppreference.com/w/cpp/language/range-for\" rel=\"nofollow noreferrer\">read this</a> until it makes sense?"}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1504893625, "post_id": 46085636, "comment_id": 79206862, "body": "This statement &#39;Each element of the sequence, in turn, is dereferenced and assigned to the variable with the type and name given in range_declaration.&#39; sounds like step 1) sequence return is (*)[4] step 2) deference it .. hence final type is int *. Did i get this right?"}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1504895775, "post_id": 46085636, "comment_id": 79207934, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153977/discussion-between-yapkm01-and-kerrek-sb\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "edited": false, "score": 0, "creation_date": 1505086002, "post_id": 46085636, "comment_id": 79254638, "body": "Thanks. I think i get it now. I think in the &#39;range for&#39; on arrays, each loop it returns the address of an array element of size 4 which essentially is an int *."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": true, "score": 4, "last_activity_date": 1504739918, "creation_date": 1504739918, "answer_id": 46085636, "question_id": 46085438, "link": "https://stackoverflow.com/questions/46085438/c-auto-variable-deduction-differs-range-for-loop-vs-a-normal-for-loop-for-mu/46085636#46085636", "title": "C++ : auto variable deduction differs range for loop vs a normal for loop for multi dimensional array", "body": "<p>The range-based <code>for</code> loop takes each array element and uses it in a declaration or expression derived from your given initializer in each loop round. An array element has type <code>int[4]</code>, so for an invented variable <code>int __elem[4]</code> representing the current range element, your loop body effectively says:</p>\n\n<pre><code>const auto row = __elem;   // __elem is int[4]\n</code></pre>\n\n<p>Now this should look familiar: the array expression on the right decays to a pointer to its first element, which has thus type <code>int</code>.</p>\n\n<p>If you want to avoid the decay, you need to bind a <em>reference</em> instead:</p>\n\n<pre><code>const auto&amp; row = __elem;    // row is int(&amp;)[4]\n</code></pre>\n\n<p>Putting this back into your range-based loop, you want:</p>\n\n<pre><code>for (const auto&amp; row : ia) {\n    for (const int&amp; cell : row) {\n        // ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2833, "user_id": 303250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/363f15e560fb17bbfb5fe228a7b2dde2?s=128&d=identicon&r=PG", "display_name": "yapkm01", "link": "https://stackoverflow.com/users/303250/yapkm01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 46085636, "answer_count": 1, "score": 1, "last_activity_date": 1504884735, "creation_date": 1504738424, "last_edit_date": 1504884735, "question_id": 46085438, "link": "https://stackoverflow.com/questions/46085438/c-auto-variable-deduction-differs-range-for-loop-vs-a-normal-for-loop-for-mu", "title": "C++ : auto variable deduction differs range for loop vs a normal for loop for multi dimensional array", "body": "<p>Here's the following:</p>\n\n<pre><code>int ia [3][4] =  {\n                        {0, 1, 2, 3},\n                        {4, 5, 6, 7},\n                        {8, 9, 10, 11}\n                     };\n</code></pre>\n\n<ol>\n<li><p>Normal assignment:</p>\n\n<pre><code>auto p = ia;\n</code></pre>\n\n<p>This is understandable.<br>\nArray <strong>ia</strong> returns pointer to its first element which is the 1st row of 4 elements (batches of 4 elements).<br>\np has int (*)[4]. Doing a p + 1 will point to the next batch of 4 elements.    </p></li>\n<li><p>Using range for:</p>\n\n<pre><code>for (auto row : ia) {\n        for (auto col: row)\n                cout &lt;&lt; col &lt;&lt; \" \";\n        cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Why <strong>row</strong> is not int (*)[4] since each loop it's returning batches of 4 elements just like the previous example?<br>\nInstead it is int *.<br>\nWhen I hovered mouse over <strong>row</strong> variable it gives me int *..     </p></li>\n</ol>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504738204, "post_id": 46085379, "comment_id": 79132871, "body": "Can&#39;t be certain it makes sense  in a full code implementation, but in this example, <code>break;</code> in place of the <code>goto close;</code> would raise fewer eyebrows."}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504738249, "post_id": 46085379, "comment_id": 79132883, "body": "Well, my program is actually inside multiple threads, and the main function is just for some initial set up. Closing the thread when not expecting it == you&#39;re not running the program. (This has proper indenting, at least as proper as visual studio sets)"}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504738319, "post_id": 46085379, "comment_id": 79132901, "body": "Break has the same effect, sure, but it still fails."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1504738324, "post_id": 46085379, "comment_id": 79132905, "body": "You can save yourself some messiness in <code>set_timetoclose</code> by turning your flags into <code>std::atomic&lt;bool&gt;</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504738464, "post_id": 46085379, "comment_id": 79132937, "body": "Mostly. the <code>goto</code> and the <code>break</code> have the same effect in the code, but significantly fewer people sharpening stakes, honing pitchforks and lighting torches at in a code review."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 3, "creation_date": 1504738709, "post_id": 46085379, "comment_id": 79133000, "body": "This whole thing is just one huge pile of undefined behavior, due to a complete lack of sequencing. Scrap it, and rewrite it from scratch, but only after you reread all the chapters in your C++ book that discuss, in detail, mutexes, condition variables, and sequencing."}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504738800, "post_id": 46085379, "comment_id": 79133026, "body": "This is just example code. I will look into mutexes, condition variables, and sequencing, though."}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1504738857, "post_id": 46085379, "comment_id": 79133039, "body": "@SamVarshavchik can correct me if I&#39;m wrong, but for example, I believe it&#39;s completely legal for the compiler to hoist the <code>while (user_wants_thread) {</code> bit out of the loop, and only load the value of <code>user_wants_thread</code> once, since nothing else is allowed to change it, because it&#39;s not synchronized in any way."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1504738975, "post_id": 46085379, "comment_id": 79133075, "body": "Correct, if the compiler is aware that <code>Sleep()</code>, and the formatted I/O operation have no side effects, which is entirely plausible."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1504739000, "post_id": 46085379, "comment_id": 79133083, "body": "<code>break</code> only breaks the closest loop. Outer loops are unaffected. It&#39;s the &quot;I need to break many loops&quot; case where a <code>goto</code> might be defensible. Abstracting with another function and a return may be preferable, though."}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504739430, "post_id": 46085379, "comment_id": 79133196, "body": "right, so I might just use a return; instead of a break, but the issue is it&#39;s reading time_to_close as 0"}], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504740369, "post_id": 46085670, "comment_id": 79133407, "body": "does an atomic value need to be public?"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 1, "creation_date": 1504740393, "post_id": 46085670, "comment_id": 79133412, "body": "@vidsac no.  I was just trying to remove as much unnecessary complexity as possible.  Hiding the variable and having an accessor isn&#39;t relevant to the issue you had and it made the code more complex for the purpose of your question and my answer."}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504740432, "post_id": 46085670, "comment_id": 79133426, "body": "awesome, thanks. will give it a go and report back here ;)"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "reply_to_user": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 1, "creation_date": 1504740493, "post_id": 46085670, "comment_id": 79133438, "body": "@vidsac one issue you may run into, however, is that the object containing an atomic&lt;bool&gt; can not be copied using the default copy constructor.   Copying seems to be required for caling std::thread the way you were doing it - you&#39;ll notice I changed it to a lambda that captures t by reference, instead of by value"}, {"owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "edited": false, "score": 0, "creation_date": 1504741025, "post_id": 46085670, "comment_id": 79133571, "body": "ya i ran into that problem, but luckily your suggestion fixed it :) thanks a ton for the help!"}], "tags": [], "owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "is_accepted": true, "score": 4, "last_activity_date": 1504740520, "last_edit_date": 1504740520, "creation_date": 1504740183, "answer_id": 46085670, "question_id": 46085379, "link": "https://stackoverflow.com/questions/46085379/terminating-while-thread/46085670#46085670", "title": "Terminating while thread", "body": "<p>I removed some unused parts and changed the actual condition to be an <code>atomic&lt;bool&gt;</code> and it seems to work as shown on this link:</p>\n\n<p><a href=\"http://rextester.com/TWHK12491\" rel=\"nofollow noreferrer\">http://rextester.com/TWHK12491</a></p>\n\n<p>I'm not claiming this is absolutely correct, however, but it shows how using the atomic causes synchronization across reads/writes to the value which could result in a data race.</p>\n\n<pre><code>#include \"Windows.h\"\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;atomic&gt;\nclass test {\n\npublic:\n    std::atomic&lt;bool&gt; time_to_close = false;\n\n    test()=default;\n    void function() {\n        while (!time_to_close) {\n            std::cout &lt;&lt; \"Running...\" &lt;&lt; std::endl;\n            Sleep(100);\n        }\n        std::cout &lt;&lt; \"closing\" &lt;&lt; std::endl;\n    }\n};\n\nint main() {\n    test t;\n    std::thread thread_func([&amp;t](){t.function();});\n    Sleep(500);\n\n    t.time_to_close = true;\n    std::cout &lt;&lt; \"Joining on thread\" &lt;&lt; std::endl;\n    thread_func.join();\n    std::cout &lt;&lt; \"Closed\";\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 8322186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAJaz.png?s=128&g=1", "display_name": "vidsac", "link": "https://stackoverflow.com/users/8322186/vidsac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 46085670, "answer_count": 1, "score": 0, "last_activity_date": 1504740520, "creation_date": 1504737999, "question_id": 46085379, "link": "https://stackoverflow.com/questions/46085379/terminating-while-thread", "title": "Terminating while thread", "body": "<p>I can't close my thread. Am I forgetting to do something? The thread seems like it's saving the value I'm using for close, and then never checks if it has changed. Here is some example code that has an identical effect:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"Windows.h\"\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\nclass test {\nprivate:\n    bool user_wants_thread = true;\n    bool time_to_close = false;\n\npublic:\n    bool set_timetoclose(bool in) {\n        time_to_close = in;\n        if (time_to_close == in) {\n            return true;\n        }\n        return false;\n    }\n    void function() {\n        while (user_wants_thread) {\n            // CODE\n            std::cout &lt;&lt; time_to_close;\n            Sleep(100);\n            if (time_to_close) {\n                goto close;\n            }\n        }\n    close:\n        Sleep(1);\n    }\n};\n\nint main() {\n    test t;\n\n    std::thread thread_func(&amp;test::function, t);\n    Sleep(1000);\n\n    bool success;\n    do {\n        success = t.set_timetoclose(true);\n    } while (!success);\n\n    thread_func.join();\n    std::cout &lt;&lt; \"Closed\";\n    std::cin.get();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 11, "creation_date": 1504737099, "post_id": 46085211, "comment_id": 79132545, "body": "<code>if (point &lt;= 100 &amp;&amp; &gt;= 90)</code> is wrong. <code>&amp;&amp;</code> expects 2 boolean expressions and <code>&gt;= 90</code> is not an expression. What you want is <code>if (point &lt;= 100 &amp;&amp; point &gt;= 90)</code>. Apply this logic to all the cases"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1504793245, "post_id": 46085211, "comment_id": 79158978, "body": "Welcome to Stack Overflow! To help people answer your question, you&#39;ll need to be more specific about the error.  Please <a href=\"https://stackoverflow.com/posts/46085211/edit\">edit</a> your post to incorporate the exact errors you get from your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (preferably using copy+paste to avoid transcription errors)."}], "answers": [{"comments": [{"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "edited": false, "score": 0, "creation_date": 1504737985, "post_id": 46085354, "comment_id": 79132819, "body": "careful not to spend too much time correcting people for unrelated things when posting an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.   The point of the example is to demonstrate the issue.  Stylistic shortcuts are often beneficial for this when they make the core issue more clear and take away from things that would otherwise distract from it."}], "tags": [], "owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "is_accepted": false, "score": 2, "last_activity_date": 1504737887, "creation_date": 1504737887, "answer_id": 46085354, "question_id": 46085211, "link": "https://stackoverflow.com/questions/46085211/grade-program-syntax-issue/46085354#46085354", "title": "Grade program syntax issue", "body": "<p>Since I already explained what's wrong in the comment, I figured out that it might be helpful to write a full answer with additional hints.</p>\n\n<p>Taking a second look at your problem: The expression <code>if(point &lt;= 100 &amp;&amp; &gt;= 90)</code> is incorrect since the <code>if</code> statement expects a <code>bool</code> expression. Logical operator <code>&amp;&amp;</code> determinates whether or not the left and right <code>bool</code> expressions are <code>true</code> and returns so if both indeed are. Pay attention to what you just read. <strong>Both expressions</strong> means that there is a need for two of them. The first one, being <code>point &lt;= 100</code> satisfies the requirements. However, the second one you provided is <code>&gt;= 90</code>. This is not a valid expression, since you are expected to provide an indepented one. What you probably have in mind is check if <em>100 &lt;= point &lt;= 90</em>. You have to separate it into two, independent expressions - <code>if (point &lt;= 100 &amp;&amp; point &gt;= 90) { // your code }</code></p>\n\n<p>Additionally, I encourage you to read <a href=\"https://stackoverflow.com/a/1452738/7151494\">why <code>using namespace std;</code> is wrong</a>.</p>\n"}], "owner": {"reputation": 19, "user_id": 8571550, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210095039993622/picture?type=large", "display_name": "Devin Wesley", "link": "https://stackoverflow.com/users/8571550/devin-wesley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504738764, "creation_date": 1504736988, "question_id": 46085211, "link": "https://stackoverflow.com/questions/46085211/grade-program-syntax-issue", "title": "Grade program syntax issue", "body": "<p>Good evening everyone, In attempting to write my grade code for class I seem to have come errors... Namely the operator after the &amp;&amp; gives the error (expected an expression) and that the else statements give an error saying there is no if statement. Anyone care to help?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    double point;\n\n    cout &lt;&lt; \"Enter your grade point.\" &lt;&lt; endl;\n    cin &gt;&gt; point;\n\n    if (point &lt;= 100 &amp;&amp; &gt;= 90) {\n        cout &lt;&lt; \"Congratulations! You got an A\" &lt;&lt; endl;\n    }\n    else if (point &gt;= 80 &amp;&amp; &lt; 90) {\n        cout &lt;&lt; \"Good Job, you got a B\" &lt;&lt; endl;\n    }\n    else if (point &gt;= 70 &amp;&amp; &lt; 80) {\n        cout &lt;&lt; \"You got a C, at least it counts.\" &lt;&lt; endl;\n    }\n    else if (point &gt;= 60 &amp;&amp; &lt; 70)\n    {\n        cout &lt;&lt; \"You got a D... should have tried harder\" &lt;&lt; endl;\n    }\n    else if (point &gt;= 0 &amp;&amp; &lt; 60)\n    {\n        cout &lt;&lt; \"You got an E. What happened?!?\" &lt;&lt; endl;\n    }\n    else if (point &lt; 0 || &gt;100)\n    {\n        cout &lt;&lt; \"Invalid input\" &lt;&lt; endl;\n    }\n\n\n\n\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "android-studio", "cmake", "android-ndk", "linker"], "comments": [{"owner": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1505860238, "post_id": 46085046, "comment_id": 79583101, "body": "the <code>cppFlags</code> are passed to the compiler which I believe is <code>clang++</code>, sending parameters to it such as linker flag would be as simple as adding it to the <code>cppFlags</code> property. Is that what your looking for?"}, {"owner": {"reputation": 31, "user_id": 821602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c6f7c83ff05f7f7f190ce10f4b292a0?s=128&d=identicon&r=PG", "display_name": "user821602", "link": "https://stackoverflow.com/users/821602/user821602"}, "reply_to_user": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1506466708, "post_id": 46085046, "comment_id": 79830912, "body": "The <code>cppFlags</code> property already has the flag I am trying to pass (<code>-fsanitize=address</code>), but that doesn&#39;t get passed to the linker."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8716141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3937b190cbd79aaff4b6b8bb0ac256c8?s=128&d=identicon&r=PG&f=1", "display_name": "KiranK", "link": "https://stackoverflow.com/users/8716141/kirank"}, "is_accepted": false, "score": 0, "last_activity_date": 1507057433, "creation_date": 1507057433, "answer_id": 46551659, "question_id": 46085046, "link": "https://stackoverflow.com/questions/46085046/how-to-pass-linker-flags-to-cmake-in-android-studio-via-gradle/46551659#46551659", "title": "How to pass linker flags to cmake in Android Studio via Gradle", "body": "<p>I think You don't need to set any ld flags for ASAN to work in the app/native code. \nJust run the asan_device_setup (which is in the sdk/ndk tool chain) that will push the required asan lib to device. refer section \"Running\" @ \n<a href=\"https://github.com/google/sanitizers/wiki/AddressSanitizerOnAndroid\" rel=\"nofollow noreferrer\">https://github.com/google/sanitizers/wiki/AddressSanitizerOnAndroid</a></p>\n"}, {"tags": [], "owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "is_accepted": false, "score": 3, "last_activity_date": 1507062047, "creation_date": 1507062047, "answer_id": 46552782, "question_id": 46085046, "link": "https://stackoverflow.com/questions/46085046/how-to-pass-linker-flags-to-cmake-in-android-studio-via-gradle/46552782#46552782", "title": "How to pass linker flags to cmake in Android Studio via Gradle", "body": "<p>You could <a href=\"https://stackoverflow.com/a/43442227/192373\">enable</a> verbose output for cmake to check what actual linker flags are used, but normally all <strong>cppFlags</strong> are passed 'as is' to the link stage. </p>\n\n<p>For me, the command to produce the <code>*.so</code> file has this <code>-fsanitize=address</code>. </p>\n\n<p>The standard way to pass linker-specific parameters for <strong>externalNativeBuild</strong> is with <a href=\"https://stackoverflow.com/a/6562437/192373\"><code>-Wl,</code></a> and <code>cFlags</code> or <code>cppFlags</code>, e.g. </p>\n\n<pre><code>externalNativeBuild {\n   cmake {\n      cFlags \"-Wl,--fix-cortex-a8\"\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 821602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c6f7c83ff05f7f7f190ce10f4b292a0?s=128&d=identicon&r=PG", "display_name": "user821602", "link": "https://stackoverflow.com/users/821602/user821602"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3811, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1507062047, "creation_date": 1504735797, "question_id": 46085046, "link": "https://stackoverflow.com/questions/46085046/how-to-pass-linker-flags-to-cmake-in-android-studio-via-gradle", "title": "How to pass linker flags to cmake in Android Studio via Gradle", "body": "<p>I am trying to create a simple test app in Android Studio with C++ support. I also need to pass some extra linker flags to the native build. In the older Android.mk build format this was fairly simple and documented. However, Android Studio now defaults to using cmake for the native libraries, and its not clear how I can specify the extra linker flags to be passed to the NDK.</p>\n\n<p>The specific flag I am trying to add is <code>-fsanitize=address</code> in order to enable ASAN. I have been able to pass this flag to the compiler by adding it to the cppFlags property in CMake as follows.\nIs there a similar way to pass in a linker flag in the gradle file?</p>\n\n<pre><code>externalNativeBuild {\n   cmake {\n      cppFlags \"-std=c++11 -frtti -fexceptions -fsanitize=address\"\n   }\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "glut", "freeglut"], "comments": [{"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1504735541, "post_id": 46084912, "comment_id": 79132099, "body": "Please show a minimal, complete and verifiable example. Do you even have a valid context? With which parameters do you call the function?"}, {"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1504735573, "post_id": 46084912, "comment_id": 79132111, "body": "Are you using a core context? Secondly is your OpenGL context &quot;current&quot; context when your function gets called?"}, {"owner": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "reply_to_user": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 0, "creation_date": 1504735687, "post_id": 46084912, "comment_id": 79132133, "body": "@BDL I&#39;m calling the function as follows:  <code>drawShape(GL_LINE, 2,  \t\t0, 0, 0,  \t\tvertex{ 10, 10 },  \t\tvertex{ 400, 10 }); </code>"}, {"owner": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "reply_to_user": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1504736247, "post_id": 46084912, "comment_id": 79132305, "body": "@Robinson added more detail above"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "edited": false, "score": 2, "creation_date": 1504737320, "post_id": 46084912, "comment_id": 79132618, "body": "Make sure you want to be using this ancient OpenGL api.  It&#39;s a dead end.  You should be learning how to write shaders.  The best tutorial is at <a href=\"http://open.gl\" rel=\"nofollow noreferrer\">open.gl</a> and starts right on the front page.   What you are doing is like learning how to program for Windows 3.0."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "edited": false, "score": 0, "creation_date": 1504736452, "post_id": 46085112, "comment_id": 79132364, "body": "So I should simply change the first parameter of the function call to <code>GL_LINES</code>? I tried that and got the same error."}, {"owner": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "edited": false, "score": 0, "creation_date": 1504736613, "post_id": 46085112, "comment_id": 79132421, "body": "I also get the same problem when calling <code>drawShape(GL_POLYGON, 4, \t\t0, 50, 200, \t\tvertex{ 10, 200 }, \t\tvertex{ 110, 200 }, \t\tvertex{ 10, 400 }, \t\tvertex{ 110, 400 });</code>"}, {"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "reply_to_user": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "edited": false, "score": 0, "creation_date": 1504736999, "post_id": 46085112, "comment_id": 79132518, "body": "You should start by changing this parameter and then identify which line exactly causes the error."}], "tags": [], "owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "is_accepted": true, "score": 2, "last_activity_date": 1504736291, "creation_date": 1504736291, "answer_id": 46085112, "question_id": 46084912, "link": "https://stackoverflow.com/questions/46084912/gl-invalid-operation-error-1218-0x0502-when-using-simple-opengl-commands-glver/46085112#46085112", "title": "GL_INVALID_OPERATION error 1218 (0x0502) when using simple OpenGL commands glvertex2i, glColor3ub", "body": "<p>The problem lies in the call to <code>glBegin</code> itself. <code>GL_LINE</code> is not a valid parameter for this function. Due to this, all commands after that are not called inside a valid <code>glBegin/glEnd</code> block.</p>\n\n<p>If you want to draw lines, the correct parameter is <code>GL_LINES</code>.</p>\n\n<p>The first step when debugging an OpenGL application that doesn't support a debug context should always be to identify which function call produces the first error. This can, for example, be done by calling <code>glGetError()</code> after each OpenGL call until the problematic line is found. Also note, that <code>glError</code> returns errors in arbitrary order if more than one error happened.</p>\n"}], "owner": {"reputation": 23, "user_id": 5125768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujw-_q8ywqs/AAAAAAAAAAI/AAAAAAAAABI/0RYYMjd41p0/photo.jpg?sz=128", "display_name": "AdumbCopper", "link": "https://stackoverflow.com/users/5125768/adumbcopper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 46085112, "answer_count": 1, "score": 0, "last_activity_date": 1504751777, "creation_date": 1504734927, "last_edit_date": 1504751777, "question_id": 46084912, "link": "https://stackoverflow.com/questions/46084912/gl-invalid-operation-error-1218-0x0502-when-using-simple-opengl-commands-glver", "title": "GL_INVALID_OPERATION error 1218 (0x0502) when using simple OpenGL commands glvertex2i, glColor3ub", "body": "<p>This is my first time using OpenGL, so this may be a stupid question, but my code is pulling a <code>GL_INVALID_OPERATION</code> error (<code>1218</code> or <code>0x0502</code>) between <code>glBegin()</code> and <code>glEnd()</code>. I'm only calling a couple simple commands but <code>glGetError()</code> returns <code>0</code> at the start of this function, and <code>1218</code> at the end. </p>\n\n<p>This function is intended to be used to draw a single instance of any simple shape, and after stepping through in the debugger, the variables are what I intended them to be. Also note that, despite this being a stupid question, I spent several hours last night and several hours today searching Google and my textbook for possible solutions, and have found nothing helpful due to the vague nature of OpenGL errors.</p>\n\n<pre><code>void drawShape(GLenum type, int numPoints, GLubyte r, GLubyte g, GLubyte b, vertex vertices, ...) {\n    glBegin(type);\n    glColor3ub(r, g, b);\n\n    // iterate through vertices\n    va_list vertexList;\n    va_start(vertexList, vertices); // use vertexList for iteration\n    for (int i = 0; i &lt; numPoints; ++i) {\n        vertex point = i == 0 ? vertices : va_arg(vertexList, vertex);\n        // add a new point at (x, y)\n        glVertex2i(std::get&lt;0&gt;(point), std::get&lt;1&gt;(point));\n    }\n    glEnd();\n}\n</code></pre>\n\n<p>This function is called as follows:</p>\n\n<pre><code>drawShape(GL_LINE, 2, 0, 0, 0, vertex{ 10, 10 }, vertex{ 400, 10 });\n</code></pre>\n\n<p>And the context I'm using is FreeGLUT which is initialized as follows:</p>\n\n<pre><code>// gross workaround for calling init with no arguments\nint argc = 1;\nchar *argv[1] = { (char*)\"\" };\nglutInitContextVersion(4, 1);\nglutInit(&amp;argc, argv);\n// RGB window, double buffer\nglutInitDisplayMode(GLUT_DEPTH | GLUT_DOUBLE | GLUT_RGBA);\n// sets values necessary for window initialization\nglutInitWindowPosition(INIT_X, INIT_Y);\nglutInitWindowSize(DEFAULT_WIDTH, DEFAULT_HEIGHT);\n\n// draw the window and create the scene\nglutCreateWindow(WORKING_WINDOW_TITLE);\nglClearColor(1, 1, 1, 1); // set clear color to white\nglutDisplayFunc(render);\nglutMainLoop();\n</code></pre>\n"}, {"tags": ["c++", "eclipse"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504734692, "post_id": 46084844, "comment_id": 79131817, "body": "Are you using mingw? There are 4 generator choices for Eclipse in CMake. From the shell cmake --help will give you the generator options."}, {"owner": {"reputation": 2603, "user_id": 7517192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b24b51930e682eddbdf8f1e475599d9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7517192/alex"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504734753, "post_id": 46084844, "comment_id": 79131837, "body": "@drescherjm No, I&#39;m on Ubuntu 16.04. Yeah I&#39;ve used the CMake option to create Eclipse projects before, but it didn&#39;t always work flawlessly and I was told the CMake generator for Eclipse is supposedly pretty outdated."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504734832, "post_id": 46084844, "comment_id": 79131866, "body": "Probably <code>cmake -G &quot;Eclipse CDT4 - Unix Makefiles&quot; ..&#47;build</code>  from the source folder. Assuming the ../build folder exists."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504734934, "post_id": 46084844, "comment_id": 79131909, "body": "<b><i>I was told the CMake generator for Eclipse is supposedly pretty outdated.</i></b> I would not know about that. Sorry. I use CMake daily but not with Eclipse."}], "owner": {"reputation": 2603, "user_id": 7517192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b24b51930e682eddbdf8f1e475599d9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7517192/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504735112, "creation_date": 1504734561, "last_edit_date": 1504735112, "question_id": 46084844, "link": "https://stackoverflow.com/questions/46084844/how-to-create-a-c-project-in-eclipse-cdt-using-existing-source-files-and-an-ex", "title": "How to create a C++ project in Eclipse CDT using existing source files and an existing CMakeLists.txt?", "body": "<p>The title says it all: I have source files and a <code>CMakeLists.txt</code> for an existing C++ project. Now I want to create a project in Eclipse CDT using those files.</p>\n\n<p>I want to be able to build the project with the \"build\" button from within Eclipse once I'm done, and I want to be able to use GDB.</p>\n\n<p>I've used the CMake option to create Eclipse projects before, but it didn't always work flawlessly and I was told the CMake generator for Eclipse is supposedly outdated.</p>\n\n<p>I know I could just create an empty project and then copy the source files into it, but what about the <code>CMakeLists.txt</code>? I want Eclipse to know how to build the project.</p>\n\n<p>I'm new to Eclipse and there are like fifty ways to start a new project with or without existing source files, so some guidance would be greatly appreciated.</p>\n"}, {"tags": ["c++", "boost", "aws-sdk-cpp"], "comments": [{"owner": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 1, "creation_date": 1506286867, "post_id": 46084806, "comment_id": 79746874, "body": "I am having the same issue trying to use boost and aws-sdk-cpp-dynamodb together within a CMake build system."}, {"owner": {"reputation": 401, "user_id": 4018857, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171508714/picture?type=large", "display_name": "Piotr P\u0119czek", "link": "https://stackoverflow.com/users/4018857/piotr-p%c4%99czek"}, "reply_to_user": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 0, "creation_date": 1506999151, "post_id": 46084806, "comment_id": 80027550, "body": "I was having a great holidays for the last month, until I got a notification on stack, about new comment in some topic I&#39;ve totally forgot. This reminded me of a mess that I left behind that is going to haunt me in next weeks. -_-"}, {"owner": {"reputation": 401, "user_id": 4018857, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171508714/picture?type=large", "display_name": "Piotr P\u0119czek", "link": "https://stackoverflow.com/users/4018857/piotr-p%c4%99czek"}, "reply_to_user": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 0, "creation_date": 1506999206, "post_id": 46084806, "comment_id": 80027564, "body": "@Beirdo: does it work properly on standard g++ compilation?"}, {"owner": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 0, "creation_date": 1507042485, "post_id": 46084806, "comment_id": 80049224, "body": "Yes, it does.  My solution so far (which I don&#39;t like much) is to use cmake/make on the SDK, the install it to the system in /usr/local.  Then I pointed the other cmake setup to it as a system library so it doesn&#39;t use the pkg-config file, which seems to be how the CXXFLAGS are modified."}, {"owner": {"reputation": 401, "user_id": 4018857, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171508714/picture?type=large", "display_name": "Piotr P\u0119czek", "link": "https://stackoverflow.com/users/4018857/piotr-p%c4%99czek"}, "reply_to_user": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 0, "creation_date": 1507195644, "post_id": 46084806, "comment_id": 80117059, "body": "The other thing are those compilation restrictions. How do you surpress no exception handling during compilation with aws-cpp-sdk?"}, {"owner": {"reputation": 414, "user_id": 1201513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f20e47ac1c00e9a623f291798eb45fb?s=128&d=identicon&r=PG", "display_name": "Beirdo", "link": "https://stackoverflow.com/users/1201513/beirdo"}, "edited": false, "score": 0, "creation_date": 1507215022, "post_id": 46084806, "comment_id": 80130412, "body": "You don&#39;t need to.  That code doesn&#39;t use exceptions, so I compile it as they have it setup...  With -fno-exceptions.  Then when I compile boost and my code, I use -fexceptions, and link in the SDK as a library.  I could have hacked on the SDK and changed it to -fexceptions and it would still be fine, it would just add handlers that will never be called.  At least that&#39;s my understanding."}], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 6037139, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155968228550094/picture?type=large", "display_name": "Harris Lummis", "link": "https://stackoverflow.com/users/6037139/harris-lummis"}, "is_accepted": true, "score": 1, "last_activity_date": 1509500200, "creation_date": 1509500200, "answer_id": 47046975, "question_id": 46084806, "link": "https://stackoverflow.com/questions/46084806/aws-sdk-cpp-exception-handling-disabled-use-fexceptions-to-enable/47046975#47046975", "title": "aws-sdk-cpp exception handling disabled, use -fexceptions to enable", "body": "<p>I had the same problem. When i changed the line</p>\n\n<pre><code>find_package(aws-sdk-cpp)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>find_package(AWSSDK REQUIRED)\n</code></pre>\n\n<p>everything worked fine. Not sure why this works, but it seems to work!</p>\n"}], "owner": {"reputation": 401, "user_id": 4018857, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171508714/picture?type=large", "display_name": "Piotr P\u0119czek", "link": "https://stackoverflow.com/users/4018857/piotr-p%c4%99czek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 47046975, "answer_count": 1, "score": 4, "last_activity_date": 1509500200, "creation_date": 1504734349, "question_id": 46084806, "link": "https://stackoverflow.com/questions/46084806/aws-sdk-cpp-exception-handling-disabled-use-fexceptions-to-enable", "title": "aws-sdk-cpp exception handling disabled, use -fexceptions to enable", "body": "<p>I have problem with integration of aws-sdk-cpp with boost and any exception handling.</p>\n\n<p>As soon I linked in cmakelists aws-cpp-sdk-s3 compiler became very strict: errors per unused param, exception handling disabled. I have no idea how I can configure it. Can't find anything in documentation.</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1504734334, "post_id": 46084771, "comment_id": 79131670, "body": "Do you have a question?"}, {"owner": {"reputation": 97, "user_id": 7359421, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/575666214ec41433610bc0814968a52c?s=128&d=identicon&r=PG&f=1", "display_name": "CheckersGuy", "link": "https://stackoverflow.com/users/7359421/checkersguy"}, "edited": false, "score": 0, "creation_date": 1504734386, "post_id": 46084771, "comment_id": 79131694, "body": "@manni66: Sry, I was in a hurry. I edited my text above"}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 1, "creation_date": 1504734829, "post_id": 46084771, "comment_id": 79131864, "body": "Why do you need to speed it up? If you&#39;re having issues with your code under-performing you will probably need a lot more information about why this code doesn&#39;t meet your needs and how fast you need it to run."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 5212729, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ATrywm4G3E/AAAAAAAAAAI/AAAAAAAAABQ/1pvomak9ei4/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Dejmek", "link": "https://stackoverflow.com/users/5212729/tom%c3%a1%c5%a1-dejmek"}, "is_accepted": false, "score": 0, "last_activity_date": 1504736292, "creation_date": 1504736292, "answer_id": 46085113, "question_id": 46084771, "link": "https://stackoverflow.com/questions/46084771/extracing-0-values-from-array/46085113#46085113", "title": "extracing 0 values from array", "body": "<p>There is no solution to extract all positions of zeroe values from STL vector or simple array of length n in time less than O(n). This part of your algorithm should be efficient. </p>\n"}], "owner": {"reputation": 97, "user_id": 7359421, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/575666214ec41433610bc0814968a52c?s=128&d=identicon&r=PG&f=1", "display_name": "CheckersGuy", "link": "https://stackoverflow.com/users/7359421/checkersguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504736292, "creation_date": 1504734109, "last_edit_date": 1504734356, "question_id": 46084771, "link": "https://stackoverflow.com/questions/46084771/extracing-0-values-from-array", "title": "extracing 0 values from array", "body": "<p><br>\nI am currently programming an AI for the game <a href=\"https://de.wikipedia.org/wiki/Hex_(Spiel)\" rel=\"nofollow noreferrer\">Hex</a>. The board is represented by an array of length 121. During the simulation phase of the Monte-Carlo-Tree Search , I  extract the possible moves.<br>\n<br>I just loop over the array and extract the index where a 0 value was found. (Possible values are 1,-1,0)</p>\n\n<pre><code>std::vector&lt;unsigned char&gt;moveListe;\nmoveListe.reserve(121 - board-&gt;moveCount);\nfor (unsigned char i = 0; i&lt;121; i++) {\n    if (board-&gt;board[i] != EMPTY) {\n        continue;\n    }\n    moveListe.push_back(i);\n\n}\n</code></pre>\n\n<p>Is there any way to speed this up ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 2, "creation_date": 1504734251, "post_id": 46084752, "comment_id": 79131636, "body": "Change <code>CanHit(Point, &amp;Damage)</code> to <code>CanHit( &amp;Damage, Point)</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1504735518, "post_id": 46084752, "comment_id": 79132089, "body": "I recommend you rename your <code>Vector</code> class so that it doesn&#39;t confuse readers with <code>std::vector&lt;&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "edited": false, "score": 0, "creation_date": 1504734639, "post_id": 46084795, "comment_id": 79131798, "body": "Thank you. Now that I fixed it the errors are now Error\tC2061\tsyntax error: identifier &#39;CanHit&#39;\t Error\tC2143\tsyntax error: missing &#39;;&#39; before &#39;{&#39;"}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "reply_to_user": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "edited": false, "score": 0, "creation_date": 1504734819, "post_id": 46084795, "comment_id": 79131860, "body": "@boot Update your question to show your new code - you&#39;ve made a syntax error, but without seeing the new code it&#39;s impossible to point out where. I&#39;d guess you&#39;re missing a closing bracket on your <code>if</code> statement, though."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "edited": false, "score": 0, "creation_date": 1504735188, "post_id": 46084795, "comment_id": 79131975, "body": "No. @boot do not cause the question to sprawl. New problem unrelated to the old problem is a new question."}, {"owner": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504735661, "post_id": 46084795, "comment_id": 79132129, "body": "@user4581301 Alright. &amp; I fixed the syntax error but still get an error when trying to build the solution stating                                 <code>&gt;RageBot.obj : error LNK2019: unresolved external symbol &quot;bool __cdecl CanHit(float *,class Vector const &amp;)&quot; (?CanHit@@YA_NPAMABVVector@@@Z) referenced in function &quot;private: int __thiscall CRageBot::HitScan(class IClientEntity *)&quot; (?HitScan@CRageBot@@AAEHPAVIClientEntity@@@Z)</code>"}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "reply_to_user": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "edited": false, "score": 0, "creation_date": 1504735951, "post_id": 46084795, "comment_id": 79132211, "body": "@boot You misunderstood user4581301 - each question on SO should be for a single distinct issue. This question is now solved, you should mark an answer (if a post helped), then post your current problem as a new question."}, {"owner": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "edited": false, "score": 0, "creation_date": 1504736104, "post_id": 46084795, "comment_id": 79132258, "body": "Understood. Thanks for the help."}], "tags": [], "owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "is_accepted": true, "score": 3, "last_activity_date": 1504734907, "last_edit_date": 1504734907, "creation_date": 1504734243, "answer_id": 46084795, "question_id": 46084752, "link": "https://stackoverflow.com/questions/46084752/c2264-cannot-convert-argument-1-from-vector-to-float/46084795#46084795", "title": "C2264 cannot convert argument 1 from &#39;Vector&#39; to &#39;float *&#39;", "body": "<p>You just have the arguments the wrong way round for your <code>CanHit</code> invocation.</p>\n\n<p>You should instead call it like:</p>\n\n<pre><code>if (CanHit(&amp;Damage, Point))\n{\n    ...\n}\n</code></pre>\n\n<p>You can tell as your error message shows you the type it was <em>expecting</em> (<code>bool CanHit(float *,const Vector &amp;)</code>), but you're passing in a <code>Vector</code> then a <code>float *</code> (the wrong way round).</p>\n"}], "owner": {"reputation": 3, "user_id": 8571397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938485d2f44ebef80f3420e4146a8e7e?s=128&d=identicon&r=PG&f=1", "display_name": "boot", "link": "https://stackoverflow.com/users/8571397/boot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 46084795, "answer_count": 1, "score": 0, "last_activity_date": 1504735771, "creation_date": 1504734006, "last_edit_date": 1504735771, "question_id": 46084752, "link": "https://stackoverflow.com/questions/46084752/c2264-cannot-convert-argument-1-from-vector-to-float", "title": "C2264 cannot convert argument 1 from &#39;Vector&#39; to &#39;float *&#39;", "body": "<p>I recently started to get into C++ and am slowly learning. Right now I'm trying to get a broken cheat to fully function. I have a problem that i cant seem to solve though.</p>\n\n<p>Visual shows the errors</p>\n\n<p><code>Error (active) E0413   no suitable conversion function from \"Vector\" to \"float</code></p>\n\n<p><code>Error  C2664   ``bool CanHit(float *,const Vector &amp;)': cannot convert argument 1 from 'Vector' to 'float *</code></p>\n\n<pre><code>#pragma endregion Get the list of things to scan\n\n// check hits\n// check hits\nfor (auto HitBoxID : HitBoxesToScan)\n{\n    if (AWall)\n    {\n        Vector Point = GetHitboxPosition(pEntity, HitBoxID);\n        float Damage = 0.f;\n        Color c = Color(255, 255, 255, 255);\n        if (CanHit(Point, &amp;Damage))\n        {\n            c = Color(0, 255, 0, 255);\n            if (Damage &gt;= Menu::Window.RageBotTab.AccuracyMinimumDamage.GetValue())\n            {\n                return HitBoxID;\n            }\n        }\n    }\n    else\n    {\n        if (GameUtils::IsVisible(hackManager.pLocal(), pEntity, HitBoxID))\n            return HitBoxID;\n    }\n}\n\nreturn -1;\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 1, "creation_date": 1504734412, "post_id": 46084712, "comment_id": 79131705, "body": "Remove <code>\\n</code>--&gt;&gt;&gt; <code>scanf(&quot; %d&quot;, &amp;arr[i]);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1669, "user_id": 7508077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4193888717f50e77805498af1435b9?s=128&d=identicon&r=PG&f=1", "display_name": "EsmaeelE", "link": "https://stackoverflow.com/users/7508077/esmaeele"}, "edited": false, "score": 1, "creation_date": 1504734502, "post_id": 46084812, "comment_id": 79131740, "body": "Ok, its C++, use <code>cout</code> for output and <code>cin</code> for input"}, {"owner": {"reputation": 13, "user_id": 8571364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1598149130255706/picture?type=large", "display_name": "Vinicius Galdino", "link": "https://stackoverflow.com/users/8571364/vinicius-galdino"}, "edited": false, "score": 0, "creation_date": 1504735984, "post_id": 46084812, "comment_id": 79132222, "body": "Thanks! Removing \\n worked out. For the scanf/printf, I was trying to practice then, used to use cin/cout for everything."}, {"owner": {"reputation": 6172, "user_id": 8254699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91384172702e29895e620c2b0924ef3?s=128&d=identicon&r=PG&f=1", "display_name": "kocica", "link": "https://stackoverflow.com/users/8254699/kocica"}, "edited": false, "score": 0, "creation_date": 1504736444, "post_id": 46084812, "comment_id": 79132361, "body": "YW. Iam glad it helped you :-)"}], "tags": [], "owner": {"reputation": 6172, "user_id": 8254699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91384172702e29895e620c2b0924ef3?s=128&d=identicon&r=PG&f=1", "display_name": "kocica", "link": "https://stackoverflow.com/users/8254699/kocica"}, "is_accepted": true, "score": 0, "last_activity_date": 1504735079, "last_edit_date": 1504735079, "creation_date": 1504734382, "answer_id": 46084812, "question_id": 46084712, "link": "https://stackoverflow.com/questions/46084712/for-asking-more-elements-than-required/46084812#46084812", "title": "For asking more elements than required", "body": "<p>The <code>scanf()</code> function removes whitespaces <strong><em>automatically</em></strong> before trying to parse things other than characters (<code>%c</code>, <code>%[\u2026]</code>, <code>%n</code>), so you dont have to skip them like you are <em>trying</em> to do <code>%d \\n</code>.</p>\n\n<p>Simply read digits and dont care about them.</p>\n\n<pre><code>scanf(\"%d\", &amp;arr[i]);\n//    ^^^^\n</code></pre>\n\n<hr>\n\n<p>Also you are coding in <a href=\"/questions/tagged/c%2b%2b\" class=\"post-tag\" title=\"show questions tagged &#39;c++&#39;\" rel=\"tag\">c++</a>, there are different(easier) IO operations, first you have to include <code>&lt;iostream&gt;</code>.</p>\n\n<p>Then, for reading you use <code>std::cin</code></p>\n\n<pre><code>int i{0};\nstd::cin &gt;&gt; i;\n</code></pre>\n\n<p>and printing via <code>std::cout</code></p>\n\n<pre><code>std::cout &lt;&lt; i;\n</code></pre>\n\n<p><a href=\"http://www.cplusplus.com/doc/tutorial/basic_io/\" rel=\"nofollow noreferrer\">Here</a> you may get extended info about them.</p>\n"}], "owner": {"reputation": 13, "user_id": 8571364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1598149130255706/picture?type=large", "display_name": "Vinicius Galdino", "link": "https://stackoverflow.com/users/8571364/vinicius-galdino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 46084812, "answer_count": 1, "score": 1, "last_activity_date": 1504735079, "creation_date": 1504733807, "question_id": 46084712, "link": "https://stackoverflow.com/questions/46084712/for-asking-more-elements-than-required", "title": "For asking more elements than required", "body": "<p>So, I've made this code to input some values on a array, double it then print. The problem is, as far as I can see, there is no errors in code, but when I run it, it keeps me asking to input one more value beyond what I asked (in this case, it asks me 5 values when I need 4. Can someone help me?\n(Sorry about bad english :P )</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;cstdlib&gt;\n#define lim 4\n\nvoid input(int arr[], int size);\nvoid multiply(int arr[], int size);\nvoid print(int arr[], int size);\n\nint main(){\n    int array[lim];\n\n    printf(\"Insert numbers in array: \\n \\n\");\n    input(array,lim);\n\n\n    multiply(array,lim);\n\n    printf(\"Printing values after multiplying: \\n \\n\");\n    print(array,lim);\n\n    system(\"pause\");\n    return 0;\n}\n\nvoid input(int arr[], int size){\n    for (int i = 0;i &lt; size; i++){\n        scanf(\"%d \\n\", &amp;arr[i]);\n    }\n}\n\nvoid multiply(int arr[], int size){\n    for (int i = 0; i &lt; size; i++){\n        arr[i] *= 2;\n    }\n}\n\nvoid print(int arr[], int size){\n    for(int i = 0;i &lt; size; i++){\n        printf(\"%d \\n\", arr[i]);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "oop", "sfml"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1504733915, "post_id": 46084688, "comment_id": 79131507, "body": "You are violating the rule of 3/5/0. You are leaking memory. Use std::unique_ptr instead of raw pointers for owning pointers."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504733917, "post_id": 46084688, "comment_id": 79131509, "body": "I assume you use indentation in your IDE. Select your code and use the {} option in the editor after you paste the code from your IDE. It should keep the indent."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504734854, "post_id": 46084688, "comment_id": 79131879, "body": "Off topic: You have a circular dependency with player.h including qame.h and game.h including player.h. This will bite you sooner or later. More reading here: <a href=\"https://stackoverflow.com/questions/625799/resolve-build-errors-due-to-circular-dependency-amongst-classes\" title=\"resolve build errors due to circular dependency amongst classes\">stackoverflow.com/questions/625799/&hellip;</a>"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1504738732, "post_id": 46084688, "comment_id": 79133008, "body": "Write something small and simple that works perfectly, then add complexity a little at a time, testing at every step, and <b>never add to code that doesn&#39;t work.</b> That way you are never more than one step away from a working version, and new bugs are very easy to isolate."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "edited": false, "score": 0, "creation_date": 1504735877, "post_id": 46085020, "comment_id": 79132190, "body": "Actually this 10 thing is left from one of my experiments, because I kept on getting error with vector.size() I want to make a new object of bullet everytime I press space. Add it to vector and draw on every frame."}, {"owner": {"reputation": 2435, "user_id": 1872867, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PorWX.jpg?s=128&g=1", "display_name": "Tom Mettam", "link": "https://stackoverflow.com/users/1872867/tom-mettam"}, "reply_to_user": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "edited": false, "score": 0, "creation_date": 1504736093, "post_id": 46085020, "comment_id": 79132253, "body": "Well, it will definitely cause a crash because it&#39;s attempting to access elements which don&#39;t exist."}, {"owner": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "edited": false, "score": 0, "creation_date": 1504736196, "post_id": 46085020, "comment_id": 79132283, "body": "So what do you suggest me to do? What should I read about to understand more of it?"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "edited": false, "score": 0, "creation_date": 1504794824, "post_id": 46085020, "comment_id": 79160215, "body": "@Sniadek: <code>for (auto&amp; projectile : projectiles)</code> iterates over all the projectiles in the vector. No more, no less."}], "tags": [], "owner": {"reputation": 2435, "user_id": 1872867, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PorWX.jpg?s=128&g=1", "display_name": "Tom Mettam", "link": "https://stackoverflow.com/users/1872867/tom-mettam"}, "is_accepted": false, "score": 1, "last_activity_date": 1504735668, "creation_date": 1504735668, "answer_id": 46085020, "question_id": 46084688, "link": "https://stackoverflow.com/questions/46084688/vector-is-crashing-my-program/46085020#46085020", "title": "Vector is crashing my program", "body": "<p>I believe you are attempting to access ten projectiles:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++)\n{\n    window.draw(projectiles[i]-&gt;bullet);\n}\n</code></pre>\n\n<p>But you only add one at a time:</p>\n\n<pre><code>projectiles.push_back(new Bullet());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1504774468, "post_id": 46091230, "comment_id": 79145637, "body": "Curious false positive. Are there many links in your full-length answer?"}, {"owner": {"reputation": 44, "user_id": 8572621, "user_type": "registered", "profile_image": "https://graph.facebook.com/726659287523060/picture?type=large", "display_name": "Dragos Popescu", "link": "https://stackoverflow.com/users/8572621/dragos-popescu"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1504781149, "post_id": 46091230, "comment_id": 79150225, "body": "Hmm there was one to the sfml page but I removed it(with no success). The answer however was quite long(maybe around 50 lines)"}, {"owner": {"reputation": 44, "user_id": 8572621, "user_type": "registered", "profile_image": "https://graph.facebook.com/726659287523060/picture?type=large", "display_name": "Dragos Popescu", "link": "https://stackoverflow.com/users/8572621/dragos-popescu"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1504794501, "post_id": 46091230, "comment_id": 79159965, "body": "<a href=\"https://pastebin.com/rW8PMu8m\" rel=\"nofollow noreferrer\">pastebin.com/rW8PMu8m</a> hope I did it right. Thank you very much."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1504794696, "post_id": 46091230, "comment_id": 79160113, "body": "There you go :)"}, {"owner": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "edited": false, "score": 0, "creation_date": 1504813547, "post_id": 46091230, "comment_id": 79170814, "body": "Wow! Thank  you so much for your valuable message! That&#39;s a lot of new informations and I will try to follow them. I would love more help from you especially via email or by anything else. Is there any way on Stack to send private message?"}, {"owner": {"reputation": 44, "user_id": 8572621, "user_type": "registered", "profile_image": "https://graph.facebook.com/726659287523060/picture?type=large", "display_name": "Dragos Popescu", "link": "https://stackoverflow.com/users/8572621/dragos-popescu"}, "edited": false, "score": 0, "creation_date": 1504822839, "post_id": 46091230, "comment_id": 79174856, "body": "Unfortunately no, but I added my email address in the &quot;about me&quot; field. Feel free to contact me."}], "tags": [], "owner": {"reputation": 44, "user_id": 8572621, "user_type": "registered", "profile_image": "https://graph.facebook.com/726659287523060/picture?type=large", "display_name": "Dragos Popescu", "link": "https://stackoverflow.com/users/8572621/dragos-popescu"}, "is_accepted": true, "score": 2, "last_activity_date": 1504794647, "last_edit_date": 1504794647, "creation_date": 1504771880, "answer_id": 46091230, "question_id": 46084688, "link": "https://stackoverflow.com/questions/46084688/vector-is-crashing-my-program/46091230#46091230", "title": "Vector is crashing my program", "body": "<p>I answered your question in my last paragraphs, you can skip to that paragraph but I sugest you take a look at all of this. First of all you should understand how should a basic game look like in code.</p>\n\n<p><strong>The Game Logic</strong></p>\n\n<p>You can separate the game logic in 2 main functions. The initialization and the loop. </p>\n\n<p><strong>Initialization</strong></p>\n\n<p>In the initialization function, you basically load everything needed for your game to run (that is only available for small games, since loading tens of gigs of sprites in memory may not be the best solution for bigger ones. With time you'll figure out the right time to load and release resources). </p>\n\n<p><strong>The loop</strong></p>\n\n<p>This is called the <em>main loop</em> or the <em>game loop</em>. This loop should execute 3 main functions. <em>Handle user input, update world, and render the world</em>. This loop should execute while the game is running (i.e. while the window is open)</p>\n\n<p>So your main in pseudo-c++ should look something like this:</p>\n\n<pre><code>Init();\nwhile (window.isOpen())\n{\n    HandleEvents(window);  //user input\n    Update(elapsedTime);\n    Render(window);\n}\n</code></pre>\n\n<p>I'll explain what the functions do, what the arguments mean and how this functions are mapped to your code. Keep in mind that every function has one specific task and only that. I won't check if the user is pressing a button while I'm drawing the sprites on the screen.</p>\n\n<p><strong>User input</strong></p>\n\n<p>Everything from button pressing and mouse clicking to pressing the exit button and resizing the window is called <em>user input</em>. User's actions generate the so called <em>events</em>, which we handle at the beginning of each loop. Now this events are window specific(you can't control the player if the window is minimized or unfocused). That means that the window generates the events (if I'm wrong with this one technically, please correct me). This is the reason that when you are handling events you need to pass the window. </p>\n\n<p><strong>Events</strong></p>\n\n<p>Before handling the events, you need to understand how sf::Event is made (see more on the <code>sfml</code> page). Long story short the sf::Event is an union (only one field is valid at a time). That is, if you try to access <code>event.key</code> when the <code>window.pollEvent()</code> returned an <code>sf::Event::JoystickEvent</code> you will get an undefined behavior (I lived a long happy life without knowing what unions are, never used them and probably never will, but they are quite an interesting concept that is worth at least reading about). Ok so an event object is created by calling <code>window.pollEvent()</code> and passing to it an sf::Event instance. This function will give you events from the queue until there are no more events to be given, that's when it returns false. With that in mind, your Event handling code would look something like:</p>\n\n<pre><code>sf::Event ev;\nwhile (window.pollEvent(ev))\n{\n    switch (ev.type)\n    {\n       //code for each type needed by your application\n    }\n}\n</code></pre>\n\n<p>Keep in mind that key events do not handle real time input (<code>sf::Keyboard::isKeyPressed</code> does that). This means that if you want your character to move when you hold a button, handling it by events will result in a delay that can be the best explained by the way typing works(when you hold down 'a' for example the first character is written immediately, the rest of the input is delayed by a second before registering). This is a way of explaining it, but maybe not the most technical one(I'm asking for a little help here :) ). Anyway, this problem can be solved either by using the static methods of sf::Keyboard or by keeping a <code>bool</code> in your Player class that answers to the events <code>KeyPressed</code> and <code>KeyReleased</code>(the update will be handled based on that bool).</p>\n\n<p><strong>World Update</strong></p>\n\n<p>Here is your logic code(although player movement may also be handled in the events section, since it's based on them). Here you update your entities(move the enemy one more block based on his AI), move the sun around the map etc. Keep in mind that this has nothing to do with the drawing part, in this section you only change the state of your objects. In your game it means, after you launched a projective through an event triggered by the user, each frame you move the projectile. This code usually requires some sort of frame counting method. </p>\n\n<p><strong>Frames</strong></p>\n\n<p>A frame is an iteration of the loop, you can say that the game updates and draws itself each frame. Frames are a very important concept because they arise some issues. If the game updates itself each frame, that means that each frame the projectile is moving, so that means that his movement is dependent to the FPS your pc can run. This is a problem, because while your game may run as you want on your pc, at a stable 60 FPS rate, on mine it might run at 53, or some other random value. That means that the projectiles on my pc will move slower, and we don't want that.</p>\n\n<p><strong>Frame independent movement</strong></p>\n\n<p>This can be achieved by counting the frames. One way you can do that is by counting the seconds it passed since the last frame, with that in mind you can get the amount of space your entity needs to move in that specific frame. For example, you want to move your projectile with 100px/sec. If you have 2FPS that means that in 2 frames it needs to move 100px, so each frame moves <code>100 / 2</code> px. So the formula is <code>finalDistance / framerate</code>. There are more ways of doing this, but in my opinion this is the simplest to understand at the beginning. So how is this implemented in SFML? You basically keep a clock that you restart at the end of each update. <code>getElapsedTime</code> and restart does that, but restart returns the <code>elapsedTime</code> so it is better to call it once, since calling them one by one may result in different times and desyncs. </p>\n\n<pre><code>sf::Clock clock;\nwhile (window.isOpen())\n{\n    HandleEvents(window);\n    Update(clock.restart());\n    Render(window);\n}\n</code></pre>\n\n<p>And you simply move your entities with <code>move(vector * clock.getElapsedTime().asSeconds())</code> since <code>sf::Vector</code> has <code>operator*</code> overloaded for floats(the return type of <code>asSeconds()</code>).</p>\n\n<p><strong>Rendering</strong></p>\n\n<p>The rendering part may be very complicated, but <code>sfml</code> makes it \"simple and fast\". Basically it works like that: You clear the screen, you draw your entities, you display the screen. The more technical answer is the following: the window consists of 2 buffers, one visible and one hidden. The visible one is the one you see on the screen. When you call <code>clear()</code> you basically clear the hidden one, <code>draw()</code> draws also on the hidden window, and finally <code>display()</code> swaps the buffers. \nThat means that you won't see any results unless you call <code>window.display()</code>, and you'll get a window xp experience if you don't call <code>clear()</code> before drawing. So the Render function might look like this:</p>\n\n<pre><code> window.clear();\n window.draw(player); //or player.draw(window) based on your implementation\n //other draws\n window.display();\n</code></pre>\n\n<p><strong>Your question</strong></p>\n\n<p>What happens in your code is that you try to access things that don't exist. You add one projectile at a time, but each frame you draw 10 of them. </p>\n\n<p><strong>The solution</strong></p>\n\n<p>Keep a counter of your objects. Since you are using a vector that is already provided, you have <code>std::vector::size</code> that returns exactly what you expect, so your code will turn into something like:</p>\n\n<pre><code>for (int i = 0; i &lt; yourProjectiles.size(); i++)\n{\n    window.draw(yourProjectiles[i]-&gt;bullet);\n}\n</code></pre>\n\n<p>Alternatively you can use iterators(look them up):</p>\n\n<pre><code>for (auto it = yourProjectiles.begin(); it != yourProjectiles.end(); ++it)\n{\n    window.draw(it-&gt;bullet);\n}\n</code></pre>\n\n<p><strong>Memory management</strong></p>\n\n<p>You don't deallocate memory. You have to look into dynamic memory allocation. The base principle is that for every new there should be a delete. The deallocation part should be handled most of the time in the destructor of the class. I think someone may suggested to use smart pointers(<code>std::shared_ptr</code>) so manage your memory, but I can't recommend you that since you are at the beginning. Smart pointers are a concept you should keep in mind, but as you started out it is better to face the struggles of manual memory management(until you get used to it). </p>\n\n<p><strong>Code organizing</strong></p>\n\n<p>A class should be made for only one purpose. When you create a class called Bullet, it is expected that this Bullet will represent one projectile in your game, but when your Bullet makes \"projectiles\" and stores projectiles, it becomes a paranormal entity. Your bullet atm holds pointers to instances of other bullets that hold pointers to instances of other bullets. This is a total mess. Unless you want to create a graph or a tree of some sort you don't have any reason to store pointers of instances of the same class. </p>\n\n<p><strong>Too many friends</strong></p>\n\n<p>If every class is friend with every class, what is your reason of creating private fields? Friend is a very powerful concept and should be used with care, only in cases you DON'T have other options. The only reason I would avoid this keyword is the messiness it creates. It creates the same effect as public attributes. When everything is accessible from everywhere, everything can be destroyed from everywhere. When you create a small set of methods that manipulate your attributes, you know where the problem is.</p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>I might suggest looking a little more into c++ and after that debug your game, or recreate it from scratch. While I know how it feels to try something new, you should always be careful to not shoot yourself in the leg, and don't be afraid to go back to the basics when you stumble into such errors. You have problems managing memory? Read more about dynamic memory allocation, do some example apps using it. Besides that I noticed you are still at the beginning with using classes. I'd say practice makes perfect. Look at other people code, even these 3rd party libraries like sfml may give you some hints on good class practices. The good thing is that it is not needed to look at the source code of those libraries, you just use their interface. If you like it, it means it is good written and you may borrow a part of that style and implement in your classes. I'll conclude this by saying that I am very happy and eager to help you via email if you have any other question regarding anything.</p>\n"}], "owner": {"reputation": 1, "user_id": 8571348, "user_type": "registered", "profile_image": "https://graph.facebook.com/1955145084727945/picture?type=large", "display_name": "Sniadek", "link": "https://stackoverflow.com/users/8571348/sniadek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 46091230, "answer_count": 2, "score": -3, "last_activity_date": 1504813283, "creation_date": 1504733721, "last_edit_date": 1504813283, "question_id": 46084688, "link": "https://stackoverflow.com/questions/46084688/vector-is-crashing-my-program", "title": "Vector is crashing my program", "body": "<p>I've got a serious problem with my SFML game. \nI've been trying whole day to find a solution, tried diffrent things but nothing worked for me so far.\nThese are my .h files: \n<strong>Bullet.h</strong></p>\n\n<pre><code>#pragma once\n#include &lt;SFML\\Graphics.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nclass Bullet\n{\n    friend class Player;\n    friend class Game;\n    float width;\n    float height;\n    float x;\n    float y;\n    std::vector&lt;Bullet*&gt; projectiles;\n    sf::RectangleShape bullet;\n    void draw_projectiles(sf::RenderWindow &amp;window);\n    void make_projectiles();\n\npublic:\n    void check();\n    Bullet();\n    ~Bullet();\n};   \n</code></pre>\n\n<p><strong>Game.h</strong></p>\n\n<pre><code>#pragma once\n#include &lt;SFML\\Graphics.hpp&gt;\n#include \"Player.h\"\n#include \"Bullet.h\"\n#include &lt;vector&gt;\n//#include \"Enemy.h\"\n\nclass Game\n{\n    friend class Player;\n    sf::RenderWindow* window;\n    sf::Event* evnt;\n    Player* player;\n    Bullet* bullet;\n\npublic:\n    void Loop();\n    void game_func();\n    Game();\n    ~Game();\n};\n</code></pre>\n\n<p><strong>Player.h</strong></p>\n\n<pre><code>#pragma once\n#include &lt;SFML\\Graphics.hpp&gt;\n#include &lt;iostream&gt;\n#include \"Game.h\"\n#include \"Bullet.h\"\n\nclass Player\n{\n    sf::RectangleShape player;\n    Bullet* bullet;\n    int ammo;\n    float width;\n    float height;\n    int x;\n    int y;\n    float vel;\n\npublic:\n    void draw(sf::RenderWindow &amp;window);\n    void move(sf::Event &amp;evnt, sf::RenderWindow &amp;window);\n    Player();\n    ~Player();\n};   \n</code></pre>\n\n<p><strong>Here come cpp files</strong>\n<strong>Bullet.cpp</strong></p>\n\n<pre><code>#include \"Bullet.h\"\n\nvoid Bullet::check()\n{\n    x = bullet.getPosition().x;\n    y = bullet.getPosition().y;\n}\n\nvoid Bullet::draw_projectiles(sf::RenderWindow &amp;window)\n{\n\n    for (int i = 0; i &lt; 10; i++)\n    {\n        window.draw(projectiles[i]-&gt;bullet);\n    }\n}\n\nvoid Bullet::make_projectiles()\n{\n    projectiles.push_back(new Bullet());\n}\n\nBullet::Bullet()\n{\n    std::cout &lt;&lt; \"zostal utworzony nowy obiekt\" &lt;&lt; std::endl;\n    width = 50;\n    height = 50;\n    bullet = sf::RectangleShape(sf::Vector2f(width, height));\n    bullet.setFillColor(sf::Color::Yellow);\n    bullet.setPosition(0, 0);\n    x = bullet.getPosition().x;\n    y = bullet.getPosition().y;\n}\n\nBullet::~Bullet(){}\n</code></pre>\n\n<p><strong>Game.cpp</strong></p>\n\n<pre><code>#include \"Game.h\"\n\nGame::Game()\n{\n    window= new sf::RenderWindow(sf::VideoMode(1280, 720), \"SFML Game\",             \n    sf::Style::Close);\n    player = new Player();\n}\n\nGame::~Game(){}\n\nvoid Game::Loop()\n{\n    while (window-&gt;isOpen())\n    {\n        sf::Event evnt;\n        while (window-&gt;pollEvent(evnt))\n        {   \n            //events\n            if (evnt.type==sf::Event::Closed)\n                window-&gt;close();\n\n            player-&gt;move(evnt, *window);\n            window-&gt;clear();\n            player-&gt;draw(*window);\n            window-&gt;display();\n            bullet-&gt;draw_projectiles(*window);\n        }\n    }\n}\n\nvoid Game::game_func()\n{\n    Game::Loop();\n}\n</code></pre>\n\n<p><strong>Player.cpp</strong></p>\n\n<pre><code>#include \"Player.h\"\n\nvoid Player::draw(sf::RenderWindow &amp;window)\n{\n    window.draw(player);\n}\n\nvoid Player::move(sf::Event &amp;evnt, sf::RenderWindow &amp;window)\n{    \n    x = player.getPosition().x;\n    y = player.getPosition().y;\n    float width = window.getSize().x;\n    float height = window.getSize().y;\n    Bullet obj;\n\n    if (evnt.type == sf::Event::KeyPressed)\n    {\n        //movement\n        if (evnt.key.code == sf::Keyboard::Key::W)\n        {\n            if (y &lt;= 0)\n            {\n                return;\n            }\n            player.move(0, -1 * vel);\n        }\n\n        if (evnt.key.code == sf::Keyboard::Key::S)\n        {\n            if (y &gt;= height - Player::height)\n            {\n                return;\n            }\n            player.move(0, 1 * vel);\n        }\n\n        if (evnt.key.code == sf::Keyboard::Key::A)\n        {\n            if (x &lt;= 0)\n            {\n                return;\n            }\n            player.move(-1 * vel, 0);\n        }\n        if (evnt.key.code == sf::Keyboard::D)\n        {\n            if(x&gt;width-Player::width)\n            {\n                return;\n            }\n            player.move(1 * vel, 0);\n        }\n        if (evnt.key.code == sf::Keyboard::Space)\n        {\n            obj.make_projectiles();\n        }\n    }\n}\n\nPlayer::Player()\n{\n    width = 100;\n    height = 100;\n    vel = 10;\n    player =  sf::RectangleShape(sf::Vector2f(width, height));\n    player.setFillColor(sf::Color::Red);\n    player.setPosition(sf::Vector2f(15, 20));\n}\n\nPlayer::~Player(){}\n</code></pre>\n\n<p><strong>And main.cpp</strong></p>\n\n<pre><code>#include &lt;SFML/Graphics.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;vector&gt;\n#include \"Game.h\"\n\nint main()\n{   \n    Game gme;\n    gme.game_func();\n    return 0;\n}\n</code></pre>\n\n<p>I tried many diffrent things and can't figure it out why it's not working. Im running in on Visual Studio 15.\nSo here is error that I'm getting:</p>\n\n<pre><code>Exception thrown: read access violation.\n\nstd::_Vector_alloc&lt;std::_Vec_base_types&lt;Bullet *,std::allocator&lt;Bullet *&gt; &gt; \n&gt;::_Mylast(...) returned 0x18.\n</code></pre>\n\n<p>I'm aware that code is not perfect and little messy but I'm just a begginer and trying to learn new stuff.\nI will appreciate any help!</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1504732948, "post_id": 46084487, "comment_id": 79131087, "body": "Undefined behavior. You&#39;re reading from an uninitialized variable (<code>callback</code>)."}, {"owner": {"reputation": 17424, "user_id": 278842, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/df6877d3f05e542ca5975b4670600f2e?s=128&d=identicon&r=PG", "display_name": "Christopher Oezbek", "link": "https://stackoverflow.com/users/278842/christopher-oezbek"}, "edited": false, "score": 1, "creation_date": 1504733261, "post_id": 46084487, "comment_id": 79131226, "body": "did you mean to use <code>static int callback</code>?"}, {"owner": {"reputation": 3, "user_id": 7806498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6737b508da2a4ab8fa66358eefb26b8?s=128&d=identicon&r=PG&f=1", "display_name": "kwalsh", "link": "https://stackoverflow.com/users/7806498/kwalsh"}, "edited": false, "score": 0, "creation_date": 1504733500, "post_id": 46084487, "comment_id": 79131353, "body": "yes...that worked"}, {"owner": {"reputation": 3, "user_id": 7806498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6737b508da2a4ab8fa66358eefb26b8?s=128&d=identicon&r=PG&f=1", "display_name": "kwalsh", "link": "https://stackoverflow.com/users/7806498/kwalsh"}, "edited": false, "score": 0, "creation_date": 1504733553, "post_id": 46084487, "comment_id": 79131375, "body": "Thanks both, stupid error on my part"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1504735231, "post_id": 46084487, "comment_id": 79131990, "body": "fyi, if you want a stateful callback, you should not use static local variables to achieve this. The issue is that you can never &quot;reset&quot; that state, a static local is basically a global in that sense. static locals have a few isolated uses, but generally once you start having a state you should use a function object/lambda."}], "owner": {"reputation": 3, "user_id": 7806498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6737b508da2a4ab8fa66358eefb26b8?s=128&d=identicon&r=PG&f=1", "display_name": "kwalsh", "link": "https://stackoverflow.com/users/7806498/kwalsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504733081, "creation_date": 1504732725, "last_edit_date": 1504733081, "question_id": 46084487, "link": "https://stackoverflow.com/questions/46084487/c-callbacks-stdfunction-vs-function-pointer", "title": "C++ Callbacks -- std::function vs Function Pointer", "body": "<p>Having an interesting problem and looking for some clarification.  I have working example using old function pointer method, but was attempting to use a std::function wrapper, but now it no longer works.  </p>\n\n<p>The example code was to start implementing a callback mechanism, when I use the function pointer approach I obtain the desired results.</p>\n\n<pre><code>callback initiated, m_callback = 0\ncallback initiated, m_callback = 1\ncallback initiated, m_callback = 0\ncallback initiated, m_callback = 1\n...\n</code></pre>\n\n<p>But when using the std::function wrapper approach I do not get the intended results.</p>\n\n<pre><code>callback initiated, m_callback = 0\ncallback initiated, m_callback = 0\ncallback initiated, m_callback = 0\ncallback initiated, m_callback = 0\n...\n</code></pre>\n\n<p>Anyone able to point out any errors that I've made?  I comment/uncomment between the two approaches (function pointers vs function wrapper).</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n\nvoid callback(int callback)\n{\n    int m_callback = callback;\n    std::cout &lt;&lt; \"m_callback = \" &lt;&lt; m_callback &lt;&lt; std::endl;\n}\n\nvoid foo(void (*ptr)(int))\n// void foo(std::function&lt;void(int)&gt; ptr)\n{\n    std::this_thread::sleep_for(std::chrono::milliseconds(500));\n    int callback = (callback == 0) ? 1 : 0;\n    ptr(callback);\n}\n\n// ----------------------------------------------------------------\n\nint main(int argc, char ** agrv)\n{\n    void (*func_ptr)(int) = &amp;callback;\n    std::function&lt;void(int)&gt; std_func_ptr = &amp;callback;\n\n    while(1)\n    {\n        foo(func_ptr);\n        // foo(std_func_ptr);\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1504732116, "post_id": 46084288, "comment_id": 79130729, "body": "Don&#39;t comment out the code that you&#39;re asking about. The syntax highlighting makes it hard to read."}, {"owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1504732390, "post_id": 46084288, "comment_id": 79130841, "body": "Ok, I&#39;ll remember that."}], "answers": [{"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1504732457, "post_id": 46084349, "comment_id": 79130874, "body": "&quot;int&amp;&amp; is a different type from int and cannot be implicitly created from int&quot; IMHO, this is a very shady explanation. <code>int</code> is a type, and <code>int&amp;&amp;</code> can bind to expressions of that type, but only if the value category of that expression (different from type) is rvalue. The problem occurs because an <code>int&amp;&amp;</code> cannot bind to an lvalue of type <code>int</code>."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1504732563, "post_id": 46084349, "comment_id": 79130923, "body": "@NirFriedman Why is it a problem to view <code>int</code>, <code>int&amp;</code>, and <code>int&amp;&amp;</code> as completely distinct types with conversion rules that match up with lvalue/rvalue rules of C++?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1504734282, "post_id": 46084349, "comment_id": 79131650, "body": "They <i>are</i> distinct types, but the &quot;cannot be implicitly created from int&quot; has multiple issues. The first is that reference is not like a normal C++ type that gets created from another type implicitly/explicitly, instead references have binding rules, they are bound. Second is that the gist of your original statement is not even true; <code>int&amp;&amp;</code> can bind to <code>int</code> in some cases but not in others. Third is that that your way of looking at things, in addition to mixing up type construction and binding, also mixes together type and value category, which need to be understood separately."}], "tags": [], "owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "is_accepted": true, "score": 1, "last_activity_date": 1504732761, "last_edit_date": 1504732761, "creation_date": 1504732035, "answer_id": 46084349, "question_id": 46084288, "link": "https://stackoverflow.com/questions/46084288/forwarding-of-parameters-from-templates-to-functions-of-different-types/46084349#46084349", "title": "Forwarding of parameters from templates to functions of different types", "body": "<p>The problem is that you are providing explicit template arguments to the function. Forwarding arguments does not work when you explicitly provide the template arguments for the type you want to forward (unless you really know what you are doing).</p>\n\n<blockquote>\n<pre><code>template &lt;class T, class X&gt;\nvoid h1(T&amp;&amp; t, X x) { x(forward&lt;T&gt;(t)); }\n</code></pre>\n</blockquote>\n\n<p>When you write <code>h1&lt;int, decltype(h2ref)&gt;</code>, you get a function like this:</p>\n\n<pre><code>void h1(int&amp;&amp; t, decltype(h2ref) x) { x(forward&lt;int&gt;(t)); }\n</code></pre>\n\n<p><code>int&amp;&amp;</code> is a different type from <code>int</code> and cannot be bound to an lvalue of type <code>int</code> such as the <code>b</code> that you pass in; it can only be bound to rvalues of type <code>int</code></p>\n\n<hr>\n\n<p>If you leave off the template arguments, it just works:</p>\n\n<pre><code>h1(b, h2ref);\n</code></pre>\n\n<p>This will instantiate a function that looks like this:</p>\n\n<pre><code>void h1(int&amp; t, // int&amp; &amp;&amp; collapses to just int&amp;\n        decltype(h2ref) x) {\n    x(forward&lt;int&amp;&gt;(t));\n}\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 7174778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea532fbe618953b221b4da28d03d56dd?s=128&d=identicon&r=PG&f=1", "display_name": "YotKay", "link": "https://stackoverflow.com/users/7174778/yotkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 46084349, "answer_count": 1, "score": 2, "last_activity_date": 1504732761, "creation_date": 1504731777, "question_id": 46084288, "link": "https://stackoverflow.com/questions/46084288/forwarding-of-parameters-from-templates-to-functions-of-different-types", "title": "Forwarding of parameters from templates to functions of different types", "body": "<p>I was experimenting with templates and forwarding. Wrote some simple experimental code which surprised me. I would like to better understand this mechanism, probably I lack some knowledge here and therefore I ask for help. Could you please explain why the two of my calls in the code below don't compile (PLACE 2 and 3)? </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;utility&gt;\nusing namespace std;\n\nvoid h2rvalref(int&amp;&amp; i) { cout &lt;&lt; \"h2rvalref\" &lt;&lt; endl; }\nvoid h2ref(int&amp; i) { cout &lt;&lt; \"h2ref\" &lt;&lt; endl; }\nvoid h2val(int i) { cout &lt;&lt; \"h2val\" &lt;&lt; endl; }\n\ntemplate &lt;class T, class X&gt;\nvoid h1(T&amp;&amp; t, X x) { x(forward&lt;T&gt;(t)); }\n\nint main()\n{    \n    // PLACE (1)\n    h1&lt;int, decltype(h2rvalref)&gt;(1, h2rvalref);\n\n    auto b = 1;\n    // PLACE (2)\n    // h1&lt;int, decltype(h2ref)&gt;(b, h2ref); // --&gt; ERROR - no matching function..., cannot convert 'b' (type 'int') to type 'int&amp;&amp;'\n\n    // PLACE (3)\n    // h1&lt;int, decltype(h2val)&gt;(b, h2val); // --&gt; ERROR - no matching function..., cannot convert 'b' (type 'int') to type 'int&amp;&amp;'\n}\n</code></pre>\n\n<p>I don't understand why the error says something about converting int to int&amp;&amp; when I have value b of type int.</p>\n"}, {"tags": ["c++", "variadic-functions", "abstract-syntax-tree", "clang++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1504731781, "post_id": 46084267, "comment_id": 79130587, "body": "Don&#39;t use them. Use variadic templates."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1504732595, "post_id": 46084267, "comment_id": 79130937, "body": "It needs to replace it because that&#39;s how varargs is implemented internally. Why do you care about it?"}, {"owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "edited": false, "score": 0, "creation_date": 1504735449, "post_id": 46084267, "comment_id": 79132064, "body": "I&#39;m trying to refactor declaration types as canonical types, so when I get the canonical type as a string (which uses __va_list_tag), I can&#39;t output a type that can be compiled. I thought the issue was treating it as a canonical type, but it doesn&#39;t make a difference in how va_list is represented."}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "edited": false, "score": 0, "creation_date": 1504737504, "post_id": 46084267, "comment_id": 79132675, "body": "You&#39;re trying to write a clang plugin or other clang-based tool, correct?   If so, please post actual code for the source you&#39;re compiling as well as your clang tooling/plugin/whatever code.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "edited": false, "score": 0, "creation_date": 1504737874, "post_id": 46084267, "comment_id": 79132791, "body": "or even just post the smallest source that reproduces the problem for the code you&#39;re looking at the AST for and what you&#39;re trying to accomplish"}, {"owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "edited": false, "score": 0, "creation_date": 1504745160, "post_id": 46084267, "comment_id": 79134430, "body": "The former might be a bit difficult to condense down into a minimal code sample, so I&#39;ll post an example of the latter, and edit this with an example of the former."}, {"owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "edited": false, "score": 0, "creation_date": 1504745550, "post_id": 46084267, "comment_id": 79134514, "body": "I&#39;m using Clang&#39;s ASTConsumer and RecursiveASTVisitor APIs to accomplish this."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1504746250, "post_id": 46084267, "comment_id": 79134643, "body": "It really can&#39;t be compiled?  Or you just mean it&#39;s not portable?"}, {"owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "edited": false, "score": 0, "creation_date": 1504749743, "post_id": 46084267, "comment_id": 79135509, "body": "Maybe it&#39;s a compatibility issue, but when I try to compile it either with g++ or clang++, I get the error &quot;__va_list_tag has not been declared&quot;."}, {"owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "edited": false, "score": 0, "creation_date": 1504802029, "post_id": 46084267, "comment_id": 79165064, "body": "Small correction: error is &quot;error: \u2018__va_list_tag\u2019 was not declared in this scope.&quot;"}], "owner": {"reputation": 300, "user_id": 6558660, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b0e5bff824dbb6d3189660328bfa206?s=128&d=identicon&r=PG&f=1", "display_name": "srujzs", "link": "https://stackoverflow.com/users/6558660/srujzs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504745459, "creation_date": 1504731638, "last_edit_date": 1504745459, "question_id": 46084267, "link": "https://stackoverflow.com/questions/46084267/is-there-a-way-to-prevent-clang-from-treating-va-list-as-va-list-tag", "title": "Is there a way to prevent Clang from treating va_list as __va_list_tag?", "body": "<p>For some reason, when I declare variables and functions with va_list types in them, the Clang AST treats them as __va_list_tag internally. This is problematic since the latter is a builtin definition that isn't included in stdarg.h. Is there a way to tell Clang not to replace this?</p>\n\n<p>Here's some example code:</p>\n\n<pre><code>#include &lt;cstdarg&gt;\ntypedef int (*process_args)(va_list args);\nvoid useless_func() {\n  process_args useless_fp;\n}\n</code></pre>\n\n<p>When I replace the types of declarations with their canonical types, I get the following:</p>\n\n<pre><code>#include &lt;cstdarg&gt;\ntypedef int (*process_args)(va_list args);\nvoid useless_func() {\n  int (*useless_fp)(__va_list_tag *);\n}\n</code></pre>\n\n<p>I'd ideally like the <code>__va_list_tag *</code> part to be replaced with <code>va_list</code> so the resulting code can be compiled as C++ code.</p>\n"}, {"tags": ["c++", "c", "qt", "cmake"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1504732051, "post_id": 46084259, "comment_id": 79130701, "body": "Probably, the project needs newer QT, or older one. In any case, we can only guess. Have you read documentation about building/installing the project?"}, {"owner": {"reputation": 520, "user_id": 1565259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d6y8A.jpg?s=128&g=1", "display_name": "guyts", "link": "https://stackoverflow.com/users/1565259/guyts"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1504791840, "post_id": 46084259, "comment_id": 79157853, "body": "@Tsyvarev yes I have. Following it exactly as specified. Nothing about QT is mentioned anywhere."}, {"owner": {"reputation": 520, "user_id": 1565259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d6y8A.jpg?s=128&g=1", "display_name": "guyts", "link": "https://stackoverflow.com/users/1565259/guyts"}, "reply_to_user": {"reputation": 29966, "user_id": 637669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0227e5d5eaceb8ae2f751df38d421764?s=128&d=identicon&r=PG", "display_name": "arrowd", "link": "https://stackoverflow.com/users/637669/arrowd"}, "edited": false, "score": 0, "creation_date": 1504791871, "post_id": 46084259, "comment_id": 79157885, "body": "@arrowd I&#39;m not sure I understand the context. Should I try it regardless of building the project in cmd?"}, {"owner": {"reputation": 3860, "user_id": 5251059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c9c608467b21bce1d709b56bf6d39d?s=128&d=identicon&r=PG&f=1", "display_name": "vre", "link": "https://stackoverflow.com/users/5251059/vre"}, "edited": false, "score": 0, "creation_date": 1505044798, "post_id": 46084259, "comment_id": 79242560, "body": "This sounds like CMake found the Qt binaries that are provided with an installed Anaconda2. Try to Remove Anaconda 2 directory from the path."}, {"owner": {"reputation": 520, "user_id": 1565259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d6y8A.jpg?s=128&g=1", "display_name": "guyts", "link": "https://stackoverflow.com/users/1565259/guyts"}, "edited": false, "score": 0, "creation_date": 1505151552, "post_id": 46084259, "comment_id": 79284887, "body": "How do I do that? My code sits within the Anaconda directory"}], "owner": {"reputation": 520, "user_id": 1565259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d6y8A.jpg?s=128&g=1", "display_name": "guyts", "link": "https://stackoverflow.com/users/1565259/guyts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504731601, "creation_date": 1504731601, "question_id": 46084259, "link": "https://stackoverflow.com/questions/46084259/cmake-error-unsuitable-qt-version", "title": "Cmake error: unsuitable Qt version", "body": "<p>I'm trying to run cmake via cmd (Windows) on a project I downloaded from GitHub, using <code>cmake</code>.</p>\n\n<p>However, I'm getting the following error:</p>\n\n<pre><code>-- Found unsuitable Qt version \"5.6.2\" from C:/Anaconda2/Library/bin/qmake.exe\nCMake Error at 3rdParty/FindMatlab-rwp.cmake:50 (MESSAGE):\n  Generator not compatible: MinGW Makefiles\nCall Stack (most recent call first):\n  CMakeLists.txt:427 (find_package)\n</code></pre>\n\n<p>Any ideas what might be wrong? I tried to find info about the Qt mentioned, but I came up with nothing.</p>\n"}, {"tags": ["c++", "arrays", "struct"], "comments": [{"owner": {"reputation": 8409, "user_id": 2001017, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/H0Z0x.jpg?s=128&g=1", "display_name": "Picaud Vincent", "link": "https://stackoverflow.com/users/2001017/picaud-vincent"}, "edited": false, "score": 0, "creation_date": 1504732584, "post_id": 46084249, "comment_id": 79130933, "body": "Your algorithm complexity is n^2, plus you print identical points several times... One advice would be to sort your point list first and then check for successive repeats."}, {"owner": {"reputation": 8409, "user_id": 2001017, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/H0Z0x.jpg?s=128&g=1", "display_name": "Picaud Vincent", "link": "https://stackoverflow.com/users/2001017/picaud-vincent"}, "edited": false, "score": 0, "creation_date": 1504733360, "post_id": 46084249, "comment_id": 79131279, "body": "Nearly same question here <a href=\"https://stackoverflow.com/questions/4003584/more-elegant-way-to-check-for-duplicates-in-c-array\" title=\"more elegant way to check for duplicates in c array\">stackoverflow.com/questions/4003584/&hellip;</a>"}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1504733679, "post_id": 46084249, "comment_id": 79131421, "body": "Put your code into a compiler, without making any change. Works perfectly fine, aside from the fact that of course points are written out multiple times."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 8409, "user_id": 2001017, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/H0Z0x.jpg?s=128&g=1", "display_name": "Picaud Vincent", "link": "https://stackoverflow.com/users/2001017/picaud-vincent"}, "edited": false, "score": 0, "creation_date": 1504733170, "post_id": 46084524, "comment_id": 79131198, "body": "ohh ya my bad @PicaudVincent let me fix it"}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 8409, "user_id": 2001017, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/H0Z0x.jpg?s=128&g=1", "display_name": "Picaud Vincent", "link": "https://stackoverflow.com/users/2001017/picaud-vincent"}, "edited": false, "score": 0, "creation_date": 1504733418, "post_id": 46084524, "comment_id": 79131315, "body": "Updated my answer, this should fix it"}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 1, "creation_date": 1504733938, "post_id": 46084524, "comment_id": 79131516, "body": "Since you also improved the style of the code, might I suggest to rename the function into something that indicates what action happens? And that you get rid of the globals?"}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1504734052, "post_id": 46084524, "comment_id": 79131559, "body": "@Aziuth What do you think could be a good method name, I am thinking of findDistinctPointsAndPrint()"}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1504734335, "post_id": 46084524, "comment_id": 79131672, "body": "@zenwraight It&#39;s descriptive, but a little bit long. Also, having to functions in one is a sign that they should be separated, imho. I&#39;d simply go with printDistinctPoints (By the way, &quot;distinct&quot;? Not &quot;repeated&quot;?). But what I&#39;d really do is not having it print anything and going with a function <code>vector&lt;Point&gt; findDistinctPoints(const vector&lt;Point&gt;&amp; input)</code> and a function <code>void print(const vector&lt;Point&gt;&amp; input)</code>, calling those like print(findDistinctPoints(points));`. Haves the functionality clear and creates the clearly reusable print function."}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1504734407, "post_id": 46084524, "comment_id": 79131703, "body": "valid point, I will try to make the changes just getting out of office, thanks a lot @Aziuth"}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "edited": false, "score": 0, "creation_date": 1504734437, "post_id": 46084524, "comment_id": 79131715, "body": "Or else if you have enough reputation, please feel free to update my answer ..... I agree with you"}, {"owner": {"reputation": 111, "user_id": 4656503, "user_type": "registered", "accept_rate": 18, "profile_image": "https://lh4.googleusercontent.com/-7orQZgMZV6I/AAAAAAAAAAI/AAAAAAAABeo/4P2kqzFhQ4M/photo.jpg?sz=128", "display_name": "mwater07", "link": "https://stackoverflow.com/users/4656503/mwater07"}, "edited": false, "score": 0, "creation_date": 1504792744, "post_id": 46084524, "comment_id": 79158554, "body": "Thank you all for your valuable comments. On the original post, I would like to stop inner loop after the condition true. Basically, I dont want to continue to check the rest of the elements in array. Currently the original code output those . (3, 5) (4, 2) (2, 4) (3, 5) (7, 8) (7, 8). But, i only would like to have  (3, 5) (4, 2) (2, 4)  (7, 8)."}], "tags": [], "owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "is_accepted": false, "score": -1, "last_activity_date": 1504733403, "last_edit_date": 1504733403, "creation_date": 1504732889, "answer_id": 46084524, "question_id": 46084249, "link": "https://stackoverflow.com/questions/46084249/finding-repeated-points-in-2d-plane/46084524#46084524", "title": "Finding repeated points in 2D plane", "body": "<p>This should do what you are trying to achieve, I am making use of set and maps in c++ which takes care of unique entries.</p>\n\n<p>The map keeps track of already visited points.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;stdlib.h&gt;\n#include &lt;set&gt;\n#include &lt;map&gt;\nusing namespace std;\n\nstruct point\n{\nint x;\nint y;\n};\n\nmap&lt;pair&lt;int, int&gt;, int&gt; mapCountOfPoints;\n\nset&lt;pair&lt;int, int&gt; &gt; disPoints;\n\nvoid distinctPoints(point arr[], int size)\n{\n  for(int i=0; i&lt;size; i++) {\n    pair&lt;int, int&gt; temp = make_pair(arr[i].x, arr[i].y);\n    if(mapCountOfPoints.find(temp) != mapCountOfPoints.end()) {\n      disPoints.insert(temp);\n    } else {\n      mapCountOfPoints[temp] = 1;\n    }\n  }         \n\n  // Now we will iterate over the set to get the distinct set of points\n  for(set&lt;pair&lt;int, int&gt;&gt;::iterator it=disPoints.begin(); it!=disPoints.end(); it++) {\n    cout&lt;&lt;it-&gt;first&lt;&lt;\" \"&lt;&lt;it-&gt;second&lt;&lt;endl;\n  }\n\n}\nint main()\n{   int size=10;\n    point points[size]={{3,5},{4,2},{2,4},{3,5},{7,8},{7,8},{4,2},{7,8},{3,5},{2,4}};\n    distinctPoints(points, size);\n    return 0;\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 8660, "user_id": 5749570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2d0247d580de0aae4511d84551f10?s=128&d=identicon&r=PG&f=1", "display_name": "VHS", "link": "https://stackoverflow.com/users/5749570/vhs"}, "is_accepted": false, "score": 0, "last_activity_date": 1504792859, "creation_date": 1504792859, "answer_id": 46098359, "question_id": 46084249, "link": "https://stackoverflow.com/questions/46084249/finding-repeated-points-in-2d-plane/46098359#46098359", "title": "Finding repeated points in 2D plane", "body": "<p>I have tweaked your <code>distinctPoints</code> method so that it doesn't print the duplicates multiple times even if the dups appear more than twice. See the following edits:</p>\n\n<pre><code>void distinctPoints(point arr[], int size)\n{\n  point dups[size];\n  cout&lt;&lt;\"Distinct Points\"&lt;&lt;endl;\n  cout&lt;&lt;\"x, y\"&lt;&lt;endl;\n  for(int i = 0; i &lt; size; i++)\n    for(int j = 0; j &lt; size; j++) {\n        if ((arr[i].x==arr[j].x) &amp;&amp; (arr[i].y==arr[j].y)) {\n            if(j &lt; i) {\n                break;\n            }\n            else if( j == i) {\n                continue;\n            }\n            else {\n                cout&lt;&lt;arr[i].x &lt;&lt;\", \"&lt;&lt;arr[i].y&lt;&lt;endl;\n                break;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "is_accepted": true, "score": 0, "last_activity_date": 1504799461, "last_edit_date": 1504799461, "creation_date": 1504797690, "answer_id": 46100019, "question_id": 46084249, "link": "https://stackoverflow.com/questions/46084249/finding-repeated-points-in-2d-plane/46100019#46100019", "title": "Finding repeated points in 2D plane", "body": "<p>Your approach (once corrected, as <a href=\"https://stackoverflow.com/a/46098359/4944425\">VHS</a>'s answer did) could be fine for a small number of points, but, with a bigger set of data, an O(N<sup>2</sup>) algorithm could be too inefficient.</p>\n\n<p>You can take advantage of the average costant time that takes inserting an element in a <a href=\"http://en.cppreference.com/w/cpp/container/unordered_set\" rel=\"nofollow noreferrer\"><code>std::unordered_set</code></a>, even if you are required to write a comparison function and an hash function for your class.</p>\n\n<p>The algorithm presented below uses two unordered_set's:</p>\n\n<ul>\n<li><code>uniques</code> ends up storing all the elements that are present in the source container, without repetitions.</li>\n<li><code>repeated</code> stores a unique instance of only the elements that are present multiple times.</li>\n</ul>\n\n<p>An element is copied to the output only if it's already present in <code>uniques</code>, but not in <code>repeated</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;unordered_set&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n\nstruct point\n{\n    int x, y;\n\n    bool operator== (point const&amp; b) const\n    {\n        return x == b.x  &amp;&amp;  y == b.y;\n    }\n};\n\nnamespace std {\n\ntemplate&lt;&gt; struct hash&lt;point&gt;\n{\n    std::size_t operator() (point const&amp; p) const\n    {\n        return (std::hash&lt;int&gt;{}(p.x) &lt;&lt; 1) ^ std::hash&lt;int&gt;{}(p.y);\n    }\n};\n\n}\n\nstd::ostream&amp; operator&lt;&lt; (std::ostream&amp; os, point const&amp; pt)\n{\n    return os &lt;&lt; '(' &lt;&lt; pt.x &lt;&lt; \", \" &lt;&lt; pt.y &lt;&lt; ')';\n}\n\ntemplate&lt;class InputIt, class OutputIt&gt;\nOutputIt copy_repeated_values(InputIt first, InputIt last, OutputIt dest)\n{\n    using value_type = typename InputIt::value_type;\n\n    std::unordered_set&lt;value_type&gt; uniques, repeated;\n\n    return std::copy_if(\n        first, last, dest, [&amp;] (value_type const&amp; value) {\n            return\n                not uniques.insert(value).second  &amp;&amp;\n                repeated.insert(value).second;\n        }\n    );\n}\n\nint main()\n{\n    std::vector&lt;point&gt; points {\n        {3,5}, {4,2}, {2,4}, {3,5}, {7,8}, {7,8}, {4,2}, {7,8}, {3,5}, {2,4}\n    };\n\n    copy_repeated_values(\n        std::begin(points), std::end(points), \n        std::ostream_iterator&lt;point&gt;(std::cout, \" \")\n    );\n\n    std::cout &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre>\n(3, 5) (7, 8) (4, 2) (2, 4) \n</pre>\n"}], "owner": {"reputation": 111, "user_id": 4656503, "user_type": "registered", "accept_rate": 18, "profile_image": "https://lh4.googleusercontent.com/-7orQZgMZV6I/AAAAAAAAAAI/AAAAAAAABeo/4P2kqzFhQ4M/photo.jpg?sz=128", "display_name": "mwater07", "link": "https://stackoverflow.com/users/4656503/mwater07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 46100019, "answer_count": 3, "score": 0, "last_activity_date": 1504799461, "creation_date": 1504731563, "last_edit_date": 1504792711, "question_id": 46084249, "link": "https://stackoverflow.com/questions/46084249/finding-repeated-points-in-2d-plane", "title": "Finding repeated points in 2D plane", "body": "<p>I am trying to find repeated points from a given 10 points, where each points has x and y values. I have written the below code but can not get correct results. The output should be {3,5},{4,2},{2,4},{7,8}</p>\n\n<pre><code>  #include &lt;iostream&gt;\n#include&lt;stdlib.h&gt;\nusing namespace std;\n\nstruct point\n{\nint x;\nint y;\n};\nvoid distinctPoints(point arr[], int size)\n{\ncout&lt;&lt;\"Repeated Points\"&lt;&lt;endl;\n    cout&lt;&lt;\"x, y\"&lt;&lt;endl;\n  for(int i = 0; i&lt; size; i++)\n    for(int j = i+1; j&lt; size; j++)\n        {\n        if ((arr[i].x==arr[j].x) &amp;&amp; (arr[i].y==arr[j].y))\n            {\n            cout&lt;&lt;arr[j].x &lt;&lt;\", \"&lt;&lt;arr[j].y&lt;&lt;endl;\n            break;\n            }\n        }\n}\nint main()\n{   int size=10;\n    point points[size]={{3,5},{4,2},{2,4},{3,5},{7,8},{7,8},{4,2},{7,8},{3,5},{2,4}};\n    distinctPoints(points, size);\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "dll", "linker", "sdl-2"], "comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504735130, "post_id": 46084234, "comment_id": 79131961, "body": "Do the calls to LoadLibrary succeed?  Does the error occur as soon as you attempt to call SDL_Init, or does it occur somewhere inside SDL_Init?  Have you tried using absolute paths rather than relative paths?  (NB: as a general rule, all DLLs should be in the same directory as the executable; you&#39;re just causing trouble for yourself by putting it somewhere different.)"}, {"owner": {"reputation": 21, "user_id": 8508577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b50492fe341cf2c6ece76ce539fe285?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Ward", "link": "https://stackoverflow.com/users/8508577/reece-ward"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504735709, "post_id": 46084234, "comment_id": 79132142, "body": "The LoadLibrary succeeds on both attempts, testing it with console output. I believe it&#39;s somewhere inside SDL_Init as it&#39;ll check if it can find the DLL"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504736960, "post_id": 46084234, "comment_id": 79132507, "body": "OK, so this is an SDL-specific question, that wasn&#39;t obvious to me at first glance.  I&#39;ll leave it to the experts."}, {"owner": {"reputation": 21, "user_id": 8508577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b50492fe341cf2c6ece76ce539fe285?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Ward", "link": "https://stackoverflow.com/users/8508577/reece-ward"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504737147, "post_id": 46084234, "comment_id": 79132561, "body": "I didn&#39;t want to make it that I&#39;m not sure if it actually is. I had a look at the SDL_Init function which is what I called and couldn&#39;t find it throwing that error"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504737254, "post_id": 46084234, "comment_id": 79132597, "body": "Are you sure SDL_Init isn&#39;t actually <i>in</i> the DLL?"}, {"owner": {"reputation": 21, "user_id": 8508577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b50492fe341cf2c6ece76ce539fe285?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Ward", "link": "https://stackoverflow.com/users/8508577/reece-ward"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1504737374, "post_id": 46084234, "comment_id": 79132638, "body": "Yeh but it&#39;s something to do with Windows/Linking because it&#39;s saying it can&#39;t find that DLL for some reason maybe something compile time I am not sure"}, {"owner": {"reputation": 15473, "user_id": 744720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65030f1bd22dbb4d1e6976cfac08a1c5?s=128&d=identicon&r=PG", "display_name": "keltar", "link": "https://stackoverflow.com/users/744720/keltar"}, "edited": false, "score": 1, "creation_date": 1504794521, "post_id": 46084234, "comment_id": 79159985, "body": "@ReeceWard wait, you just <code>LoadLibrary</code> and then use functions declared in <code>#include</code> files without <code>GetProcAddress</code> on each function? I don&#39;t think it&#39;s a way to go. You can copy required dlls to executable&#39;s directory, link with static libraries, or go fully dynamic with <code>LoadLibrary</code> and <code>GetProcAddress</code>. (as added bonus, SDL2 have means for end user to override itself with newer dll even if you linked with static)"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1504806192, "post_id": 46084234, "comment_id": 79167225, "body": "Why are you using GLEW in DLL form?  You can add <code>glew.c</code> to your project files &amp; skip the DLL entirely."}], "owner": {"reputation": 21, "user_id": 8508577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b50492fe341cf2c6ece76ce539fe285?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Ward", "link": "https://stackoverflow.com/users/8508577/reece-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1504731498, "creation_date": 1504731498, "question_id": 46084234, "link": "https://stackoverflow.com/questions/46084234/c-vs-required-dll-to-another-directory", "title": "C++ VS - Required DLL to another directory?", "body": "<p>I am setting up an SDL project and want an organised file structure. Setting this up I don't actually have the DLL's in the same folder as the executable because it's more messy overall. I currently have them in a data folder like this:</p>\n\n<pre><code>-bin  \n  -x86.exe  \n  -x64.exe  \n-data  \n  -x86  \n    -sdl2.dll  \n  -x64  \n    -sdl2.dll  \n</code></pre>\n\n<p>Obviously I can't run it like that so I tried maybe using LoadLibrary to load the DLL's in a wmain entrypoint with simply:</p>\n\n<pre><code>#if _WIN64\n    std::cout &lt;&lt; LoadLibraryA(\"..\\\\data\\\\x64\\\\glew32.dll\") &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; LoadLibraryA(\"..\\\\data\\\\x64\\\\sdl2.dll\") &lt;&lt; \"\\n\";\n#else\n    std::cout &lt;&lt; LoadLibraryA(\"..\\\\data\\\\x86\\\\glew32.dll\") &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; LoadLibraryA(\"..\\\\data\\\\x86\\\\sdl2.dll\") &lt;&lt; \"\\n\";\n#endif\n</code></pre>\n\n<p>But this still gives me the error.<br>\nThe error only occurs after this when I call SDL_Init</p>\n\n<p>How would I maybe set the location of these DLL's to be in different places and get it at runtime because maybe the data folder won't have sub directories when I release etc. I need to havbe multiple locations these DLL's could actually be in.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zdj1r.png\" rel=\"nofollow noreferrer\">The Error</a></p>\n"}, {"tags": ["c++", "debugging", "visual-studio-2015", "breakpoints", "visual-studio-macros"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1504731697, "post_id": 46084148, "comment_id": 79130544, "body": "Is your intent to execute everything except one line?"}, {"owner": {"reputation": 179, "user_id": 3277766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aa34be104a9e883147c4b867428ca9eb?s=128&d=identicon&r=PG&f=1", "display_name": "XenoChrist", "link": "https://stackoverflow.com/users/3277766/xenochrist"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504731781, "post_id": 46084148, "comment_id": 79130586, "body": "One or many lines. I can manually do the break-&gt;skip&gt;continue trick on as much code as I want. I&#39;m just looking for a way to mark code regions and perform the trick automatically on them."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1504732270, "post_id": 46084148, "comment_id": 79130788, "body": "I often add static bool variables for that, and then while debugging modify such variable to change behaviour, ie. <code>void foo() {  static bool verbose = false; if (verbose) {  &#47;*do some heavy logging here*&#47; }  }</code> Then while debugging I set verbose to true to enable some code. Not sure if that is what you need."}, {"owner": {"reputation": 179, "user_id": 3277766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aa34be104a9e883147c4b867428ca9eb?s=128&d=identicon&r=PG&f=1", "display_name": "XenoChrist", "link": "https://stackoverflow.com/users/3277766/xenochrist"}, "reply_to_user": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1504732417, "post_id": 46084148, "comment_id": 79130856, "body": "@marcinj I mentioned this possibility in my third paragraph but I hate paying the cost to recompile and re-launch the program; we&#39;re talking about 5 lost minutes in my specific case."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1504732541, "post_id": 46084148, "comment_id": 79130914, "body": "@XenoChrist I dont remove/add such code very often - and actually I use it only to add extra logging. I agree this is not a good solution if you want to skip any random code."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504732686, "post_id": 46084148, "comment_id": 79130973, "body": "I can&#39;t think of any debugger that allows this off the top. Manually move the instruction pointer/program counter/whatever, that you might be able to do, but jump automatically... never seen it."}, {"owner": {"reputation": 179, "user_id": 3277766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aa34be104a9e883147c4b867428ca9eb?s=128&d=identicon&r=PG&f=1", "display_name": "XenoChrist", "link": "https://stackoverflow.com/users/3277766/xenochrist"}, "edited": false, "score": 0, "creation_date": 1504732824, "post_id": 46084148, "comment_id": 79131033, "body": "But if I can do easily do it by hand, surely VS offers a way to automate it."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 3277766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aa34be104a9e883147c4b867428ca9eb?s=128&d=identicon&r=PG&f=1", "display_name": "XenoChrist", "link": "https://stackoverflow.com/users/3277766/xenochrist"}, "edited": false, "score": 0, "creation_date": 1504796192, "post_id": 46089998, "comment_id": 79161269, "body": "Sounds exactly like what I&#39;m looking for. Thanks!"}], "tags": [], "owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1504768202, "creation_date": 1504768202, "answer_id": 46089998, "question_id": 46084148, "link": "https://stackoverflow.com/questions/46084148/can-i-dynamically-jump-over-a-line-of-code-without-recompiling-in-visual-studio/46089998#46089998", "title": "Can I dynamically jump over a line of code without recompiling in Visual Studio using breakpoints?", "body": "<p>Code Melee - FlexPoints would be an extension which could skip multiple lines of code while debugging without editing code or manually stepping over the line.</p>\n\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=CodeMelee.CodeMelee-FlexPoints\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=CodeMelee.CodeMelee-FlexPoints</a></p>\n\n<p>Actually this feature request has been submitted before for old VS version:</p>\n\n<p><a href=\"https://visualstudio.uservoice.com/forums/121579-visual-studio-ide/suggestions/2221315-implement-a-new-skip-over-breakpoint-type\" rel=\"nofollow noreferrer\">https://visualstudio.uservoice.com/forums/121579-visual-studio-ide/suggestions/2221315-implement-a-new-skip-over-breakpoint-type</a></p>\n\n<p>But product team didn't think about adding this feature in current VS version. So my suggestion is that you could use above extension tool as a workaround, or you could submit a new feature for next VS version.</p>\n"}], "owner": {"reputation": 179, "user_id": 3277766, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aa34be104a9e883147c4b867428ca9eb?s=128&d=identicon&r=PG&f=1", "display_name": "XenoChrist", "link": "https://stackoverflow.com/users/3277766/xenochrist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 46089998, "answer_count": 1, "score": -1, "last_activity_date": 1504768202, "creation_date": 1504731120, "question_id": 46084148, "link": "https://stackoverflow.com/questions/46084148/can-i-dynamically-jump-over-a-line-of-code-without-recompiling-in-visual-studio", "title": "Can I dynamically jump over a line of code without recompiling in Visual Studio using breakpoints?", "body": "<p>I can manually skip lines of code by setting a breakpoint, moving the execution cursor and hitting continue.</p>\n\n<p>Is there a way to configure Visual Studio, perhaps with a macro, such that a specific line will be skipped every time it is hit? I could do it manually, but this is highly impractical in instances where the line is hit every frame, or in a loop with a large number of elements.</p>\n\n<p>An alternative is commenting out the line, rebuilding and running the code up to the point I'm testing out. Sure I could add a static boolean to control whether or not the line is executed, but it is still impractical, especially with large codebases where the rebuilding time is not trivial.</p>\n\n<p>Another idea is removing the line straight in memory/disassembly, but it is still impractical, and one has to be extremely careful as the slightest error can be catastrophic.</p>\n"}, {"tags": ["c++", "templates", "variadic-templates"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1504732295, "post_id": 46084147, "comment_id": 79130796, "body": "You must edit your question so that the parts that you&#39;ve supposedly implemented meet all the requirements of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. As such, the first code sample completely fails to compile due to bad declarations (<code>impl</code> not defined, etc...) Although I think I can see what you&#39;re trying to accomplish, since &quot;what you&#39;ve come up with so far&quot; is nowhere near compilable, as is, it would take too much time to figure out what needs to be fixed in order to make it compile, which is a necessary prerequisite to figuring out what is the missing piece."}, {"owner": {"reputation": 2762, "user_id": 1248889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8470e41590061cde2fef88fed25ac823?s=128&d=identicon&r=PG", "display_name": "Jonathan Gawrych", "link": "https://stackoverflow.com/users/1248889/jonathan-gawrych"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1504734013, "post_id": 46084147, "comment_id": 79131538, "body": "@SamVarshavchik I&#39;ve cut a lot out of the question/code to make it more minimal and verifiable. You should be able to copy the top and bottom code block and experience the same problem I&#39;m having. I hope it&#39;s more understandable now too."}], "answers": [{"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": true, "score": 1, "last_activity_date": 1504735490, "creation_date": 1504735490, "answer_id": 46084993, "question_id": 46084147, "link": "https://stackoverflow.com/questions/46084147/unpacking-stored-variadic-template-types-into-template-parameters/46084993#46084993", "title": "Unpacking &quot;stored&quot; variadic template types into template parameters", "body": "<p>So, as I understand your question, it boils down to this starting point:</p>\n\n<pre><code>struct CRealMulti : implements&lt;IFoo, IBar&gt; {};\n</code></pre>\n\n<p>And you'd like to have a template that you can feed this <code>CRealMulti</code> class into, and then be able to derive something that inherits from <code>mocks&lt;Ifoo, IBar&gt;</code>. Tested with gcc 7.1.1:</p>\n\n<pre><code>#include &lt;utility&gt;\n\nstruct IFoo {};\nstruct IBar {};\nstruct IBaz {};\n\ntemplate&lt;typename... I&gt;\nstruct implements {};\n\ntemplate&lt;typename... I&gt;\nstruct mocks {};\n\nstruct CRealSingle : implements&lt;IFoo&gt; {};\nstruct CRealMulti : implements&lt;IFoo, IBar&gt; {};\n\n// Given a subclass of implements&lt;I...&gt;, extract it:\n\ntemplate&lt;typename ...I&gt;\nimplements&lt;I...&gt; return_implements(implements&lt;I...&gt; &amp;&amp;);\n\n// Specialization to extract the parameter pack:\n\ntemplate&lt;typename T&gt; struct implements_to_mocks;\n\ntemplate&lt;typename ...I&gt;\nstruct implements_to_mocks&lt;implements&lt;I...&gt;&gt; {\n\n    typedef mocks&lt;I...&gt; mocks_t;\n};\n\n// All the hard work is here:\n\ntemplate&lt;typename C&gt; struct to_mock {\n\n    typedef decltype(return_implements(std::declval&lt;C &amp;&amp;&gt;())) implements_t;\n\n    typedef typename implements_to_mocks&lt;implements_t&gt;::mocks_t type;\n};\n\n// to_mock_t provides a convenient shortcut\n\ntemplate&lt;typename T&gt;\nusing to_mock_t=typename to_mock&lt;T&gt;::type;\n\n// The end result:\n//    \n// to_mock_t&lt;CRealMulti&gt; is an alias for mocks&lt;IFoo, IBar&gt;, ready\n// and waiting to be inherited from.\n\nvoid foo()\n{\n    typedef std::enable_if&lt;std::is_same&lt;\n        to_mock_t&lt;CRealMulti&gt;, mocks&lt;IFoo, IBar&gt;&gt;::value&gt;::type t;\n}\n</code></pre>\n"}], "owner": {"reputation": 2762, "user_id": 1248889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8470e41590061cde2fef88fed25ac823?s=128&d=identicon&r=PG", "display_name": "Jonathan Gawrych", "link": "https://stackoverflow.com/users/1248889/jonathan-gawrych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 46084993, "answer_count": 1, "score": 2, "last_activity_date": 1504735490, "creation_date": 1504731118, "last_edit_date": 1504733732, "question_id": 46084147, "link": "https://stackoverflow.com/questions/46084147/unpacking-stored-variadic-template-types-into-template-parameters", "title": "Unpacking &quot;stored&quot; variadic template types into template parameters", "body": "<p>I'm trying to write mocks for use in unit tests. To do this, I need to mirror the real implementation of a library I can not change. Here is a very simplified example:</p>\n\n<p>LibraryCodeICantChange.h:</p>\n\n<pre><code>struct IFoo {};\nstruct IBar {};\n\ntemplate&lt;typename... I&gt;\nstruct implements {};\n\ntemplate&lt;typename... I&gt;\nstruct mocks {};\n\nstruct CRealSingle : implements&lt;IFoo&gt; {};\nstruct CRealMulti : implements&lt;IFoo, IBar&gt; {};\n</code></pre>\n\n<p>Simply, my mocks are like so:</p>\n\n<pre><code>#include \"LibraryCodeICantChange.h\"\n\nstruct CMockSingle : mocks&lt;IFoo&gt; {};\nstruct CMockMulti : mocks&lt;IFoo, IBar&gt; {};\n</code></pre>\n\n<p>However, I would like to infer the interface list from the real, rather than duplicate it. I got it work for a single interface, but I need a variadic set of templates parameters of the interfaces. I stored the variadic types into a struct I called <code>pack</code> but I don't know how to unpack those types:</p>\n\n<pre><code>#include \"LibraryCodeICantChange.h\"\n\ntemplate&lt;typename... I&gt;\nstruct pack {};\n\n// just declared, not defined: only used for typing\ntemplate&lt;typename... I&gt;\npack&lt;I...&gt; steal_real_params(implements&lt;I...&gt;*);\n\ntemplate&lt;typename C&gt;\nusing steal_real_params_t = decltype(steal_real_params(std::declval&lt;C*&gt;()));\n\ntemplate&lt;typename C&gt;\nstruct MockBasedOnReal: mocks&lt;steal_real_params_t&lt;C&gt;... /* how to unpack? */&gt; {};\n// error C3546: '...': there are no parameter packs available to expand\n\nstruct CMockSingle : MockBasedOnReal&lt;CRealSingle&gt; {}; // error while 'MockBasedOnReal&lt;CRealSingle&gt;' being compiled\nstruct CMockMulti : MockBasedOnReal&lt;CRealMulti&gt; {}; // error while 'MockBasedOnReal&lt;CMockMulti&gt;' being compiled\n</code></pre>\n\n<p>Is what I'm trying to do possible? If so, how?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6172, "user_id": 8254699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91384172702e29895e620c2b0924ef3?s=128&d=identicon&r=PG&f=1", "display_name": "kocica", "link": "https://stackoverflow.com/users/8254699/kocica"}, "edited": false, "score": 4, "creation_date": 1504730395, "post_id": 46083966, "comment_id": 79129938, "body": "Why cant you use <code>std::string</code> ?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 5, "creation_date": 1504730483, "post_id": 46083966, "comment_id": 79129977, "body": "Just store a <code>std::string</code> and you will save yourself <b>tons</b> of trouble."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 4, "creation_date": 1504730732, "post_id": 46083966, "comment_id": 79130115, "body": "<i>&quot;Is there a way that can be achieved or a better design&quot;</i> A better design would be to make <code>test::name</code> a <code>std::string</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1504730824, "post_id": 46083966, "comment_id": 79130164, "body": "Your pointer may not be valid after <code>str</code> is modified. From CppReference: The pointer obtained from c_str() may be invalidated by:     Passing a non-const reference to the string to any standard library function, or valling non-const member functions on the string, excluding operator[], at(), front(), back(), begin(), rbegin(), end() and rend().   Writing to the character array accessed through c_str() is undefined behavior."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 0, "last_activity_date": 1504732071, "last_edit_date": 1504732071, "creation_date": 1504731450, "answer_id": 46084224, "question_id": 46083966, "link": "https://stackoverflow.com/questions/46083966/how-to-copy-the-value-of-stdstring-to-a-structure-member-which-is-of-char-arra/46084224#46084224", "title": "How to copy the value of std::string to a structure member which is of char array type", "body": "<blockquote>\n  <p>But this will store the address of the variable str in t1.name</p>\n</blockquote>\n\n<p>Not exactly. <code>str.c_str()</code> does not return the address of variable <code>str</code>. It returns the address of the character array owned by <code>str</code>.</p>\n\n<blockquote>\n  <p>Instead I want the values of str to put in a char array member of the structure</p>\n</blockquote>\n\n<p>To do that, the structure must have a <code>char</code> array member. Your structure does not; it has a pointer member.</p>\n\n<blockquote>\n  <p>char array member of the structure which should be of exact same size as variable str.</p>\n</blockquote>\n\n<p>This is not possible. The size of the string is dynamic i.e. it may change at run time. The size of a member array must be known at compile time.</p>\n\n<p>You can instead allocate an array dynamically. As the name implies, the size of dynamic allocation may be determined at run time. However, dynamic allocations must be manually deallocated, or else your program will leak memory.</p>\n\n<blockquote>\n  <p>or a better design</p>\n</blockquote>\n\n<p>A popular design pattern for dynamic allocation is <a href=\"http://en.cppreference.com/w/cpp/language/raii\" rel=\"nofollow noreferrer\">RAII</a>. The standard library already has a RAII container for character strings: <code>std::string</code>. So, to copy a string into a member of a struct, a good design is to have a string as the member:</p>\n\n<pre><code>struct test {\n    std::string name;\n};\n\ntest t1;\nt1.name = str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6172, "user_id": 8254699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91384172702e29895e620c2b0924ef3?s=128&d=identicon&r=PG&f=1", "display_name": "kocica", "link": "https://stackoverflow.com/users/8254699/kocica"}, "is_accepted": false, "score": 0, "last_activity_date": 1504733072, "last_edit_date": 1504733072, "creation_date": 1504731574, "answer_id": 46084254, "question_id": 46083966, "link": "https://stackoverflow.com/questions/46083966/how-to-copy-the-value-of-stdstring-to-a-structure-member-which-is-of-char-arra/46084254#46084254", "title": "How to copy the value of std::string to a structure member which is of char array type", "body": "<p>There is no reason to use <code>const char *</code>, since its more error-prone and harder to implement you should use <code>std::string</code> instead.</p>\n\n<p><code>std::string</code> also allows you to get <code>const char *</code> to string using <code>c_str()</code> method.</p>\n\n<p>But if you have to implement name as C-style string, here is what you have to do:</p>\n\n<ul>\n<li>Allocate enough space on heap using <code>new</code>.</li>\n<li>Cast to non-const</li>\n<li>Copy strings using <code>strcpy</code></li>\n<li>Free memory in destructor</li>\n</ul>\n\n<p>Constructor:</p>\n\n<pre><code>test(const std::string&amp; str) : name(new char[str.length() + 1])\n{\n    strcpy((char*)name, str.c_str()); }\n};\n</code></pre>\n\n<p><strong><a href=\"https://ideone.com/ICsxL9\" rel=\"nofollow noreferrer\">[Live demo]</a></strong></p>\n\n<hr>\n\n<p>Also as @Pixelchemist <em>correctly</em> noted, there are important <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow noreferrer\">rules of zero/three/five</a>. If your class contains resources which arent copied/destructed correctly them self, like pure pointers <strong>aren't</strong> (if you would use smart pointers, it would be different story), you have to implement these as well:</p>\n\n<ul>\n<li>copy constructor</li>\n<li>copy assignment operator</li>\n<li>destructor</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>move constuctor</li>\n<li>move assignment operator</li>\n</ul>\n\n<p>For extended informations read <a href=\"https://stackoverflow.com/a/4172724/8254699\">this excellent answer about rule of three</a>.</p>\n"}], "owner": {"reputation": 167, "user_id": 5005698, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/962075417175866/picture?type=large", "display_name": "Vishal Khemani", "link": "https://stackoverflow.com/users/5005698/vishal-khemani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1504733072, "creation_date": 1504730284, "question_id": 46083966, "link": "https://stackoverflow.com/questions/46083966/how-to-copy-the-value-of-stdstring-to-a-structure-member-which-is-of-char-arra", "title": "How to copy the value of std::string to a structure member which is of char array type", "body": "<p>Say I have a variable </p>\n\n<pre><code>std::string str; // initialized with some value\n</code></pre>\n\n<p>And a struct defined as:</p>\n\n<pre><code>struct test\n    {\n    public:\n        const char* name;\n    };\n</code></pre>\n\n<p>I know this can be done : </p>\n\n<pre><code>test t1;\n\nt1.name = str.c_str();\n</code></pre>\n\n<p>But this will store the address of the variable str in t1.name</p>\n\n<p>Instead I want the values of <strong>str</strong> to put in a char array member of the structure which should be of <strong>exact same size</strong> as variable str.</p>\n\n<p>Is there a way that can be achieved or a better design</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "windows", "gcc", "mingw"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1504730408, "post_id": 46083933, "comment_id": 79129945, "body": "<code>dynamic link library C:\\mingw_dev_lib\\test.exe</code> -- That&#39;s an odd name for a dynamic link library"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1504730413, "post_id": 46083933, "comment_id": 79129946, "body": "Unable to reproduce.I&#39;m using g++ 7.1.0 from the MinGW w64 project. I believe the latest version is 7.3"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504730467, "post_id": 46083933, "comment_id": 79129968, "body": "For painless GCC installation on Windows, see <a href=\"http://tdm-gcc.tdragon.net/\" rel=\"nofollow noreferrer\">tdm-gcc.tdragon.net</a>"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1504730540, "post_id": 46083933, "comment_id": 79130012, "body": "Possibly a relevant point: I discovered recently that Visual C++ in Windows 10 Really Doesn&#39;t Like\u2122 that a source file is called &quot;_.cpp&quot;. Weird. (And now I&#39;m unable to reproduce THAT, so maybe it could be anti-virus messing things up?)."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1504732203, "post_id": 46083933, "comment_id": 79130765, "body": "What&#39;s your compile command line?"}, {"owner": {"reputation": 43, "user_id": 8571181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d49f25780eb4cbb89d4c5089feec63?s=128&d=identicon&r=PG&f=1", "display_name": "Jon G", "link": "https://stackoverflow.com/users/8571181/jon-g"}, "edited": false, "score": 0, "creation_date": 1504732637, "post_id": 46083933, "comment_id": 79130950, "body": "My command Line is just the built in windows command prompt."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1504732959, "post_id": 46083933, "comment_id": 79131089, "body": "What are you TYPING at the command prompt to compile your code??"}, {"owner": {"reputation": 43, "user_id": 8571181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d49f25780eb4cbb89d4c5089feec63?s=128&d=identicon&r=PG&f=1", "display_name": "Jon G", "link": "https://stackoverflow.com/users/8571181/jon-g"}, "edited": false, "score": 0, "creation_date": 1504733785, "post_id": 46083933, "comment_id": 79131450, "body": "g++ test.cpp -o test"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1504734109, "post_id": 46083933, "comment_id": 79131581, "body": "Well, that looks ok."}], "owner": {"reputation": 43, "user_id": 8571181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d49f25780eb4cbb89d4c5089feec63?s=128&d=identicon&r=PG&f=1", "display_name": "Jon G", "link": "https://stackoverflow.com/users/8571181/jon-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 0, "closed_date": 1526713452, "answer_count": 0, "score": 0, "last_activity_date": 1526792924, "creation_date": 1504730170, "question_id": 46083933, "link": "https://stackoverflow.com/questions/46083933/issue-using-strings-with-c-mingw-windows-10", "closed_reason": "Duplicate", "title": "issue using strings with c++ minGW Windows 10", "body": "<p>I am using the gcc compiler that comes with minGW on Windows 10. When I try to compile a simple hello world program named hello.cpp</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n\n    std::string x = \"hello world\";\n\n    int main() { std::cout &lt;&lt; x &lt;&lt; std::endl; }\n</code></pre>\n\n<p>when I compile it with the command g++ test.cpp -o test\nit compiles fine, but when I try running the exe, I get the following error popup.</p>\n\n<p>the procedure entry point _znkst7__cxx1112basic_stringlcst11char_traitslcESalcEEC1EPKcRKS3_ could not be located in the dynamic link library C:\\mingw_dev_lib\\test.exe</p>\n\n<p>I've added minGW to my path as tutorials instructed, and can compile and run a version of the hello world program that doesn't use the string library (but still uses iostream) just fine. googling around it seems that some people with similar problems sorted it out by reinstalling minGW, but I reinstalled minGW and recompiled the hello world program and had same issue. Any ideas on what is going wrong?</p>\n"}, {"tags": ["c++", "debugging", "openacc"], "answers": [{"comments": [{"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1504739222, "post_id": 46085453, "comment_id": 79133147, "body": "Thanks, Mat! It&#39;ll probably be a couple of days before I get to test this, but I&#39;ve sent an email with the offending code (which is short enough to be a reproducible example) to the address you suggested."}, {"owner": {"reputation": 3901, "user_id": 3204484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7Cc9.jpg?s=128&g=1", "display_name": "Mat Colgrove", "link": "https://stackoverflow.com/users/3204484/mat-colgrove"}, "reply_to_user": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1504810090, "post_id": 46085453, "comment_id": 79169177, "body": "The problem is that you have a local variable being used in an atomic.  Atomics only allow for use with shared or global memory.  I&#39;ve sent you an updated source file with suggested changes that solve this issue and improve the performance of your code."}], "tags": [], "owner": {"reputation": 3901, "user_id": 3204484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F7Cc9.jpg?s=128&g=1", "display_name": "Mat Colgrove", "link": "https://stackoverflow.com/users/3204484/mat-colgrove"}, "is_accepted": true, "score": 1, "last_activity_date": 1504738503, "creation_date": 1504738503, "answer_id": 46085453, "question_id": 46083799, "link": "https://stackoverflow.com/questions/46083799/debugging-an-invalid-address-space-error/46085453#46085453", "title": "Debugging an &quot;Invalid address space&quot; error", "body": "<p>You can use \"cuda-gdb\" to debug the device code or use \"cuda-memcheck\" to check for memory errors.</p>\n\n<p>Though I'm not sure either will help here.  The error is indicating that the device code is issuing an instruction using an address from the wrong memory space.  For example, using a shared memory pointer with an instruction that expects a global memory pointer.  </p>\n\n<p>I have not seen this error before nor do I see any previous bug reports for it, so can only theorize as to the cause.  One possibility is if you have a shared memory variable (scalar or array in a \"private\" clause, or \"cache\" directive) that's passed from a outer gang loop to a vector routine.  In this case, the vector routine may be accessing the variable as if it's in global memory.  </p>\n\n<p>Most likely whatever the cause, it's a compiler error.  If possible, please post or send to PGI Customer Service (trs@pgroup.com) a reproducing example and I'll get it to our compiler engineers for investigation.  </p>\n\n<p>I can also try to get you a work-around once I better understand the cause.  Though in the meantime you can try compiling with \"-ta=tesla:nollvm,keepgpu\".  \"nollvm\" will cause the compiler to generate an intermediary CUDA C version of the OpenACC kernels as opposed to the default LLVM device code generator.  \"keepgpu\" will keep the intermediary \".gpu\" file which you can inspect.</p>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1506200843, "creation_date": 1506200843, "answer_id": 46384306, "question_id": 46083799, "link": "https://stackoverflow.com/questions/46083799/debugging-an-invalid-address-space-error/46384306#46384306", "title": "Debugging an &quot;Invalid address space&quot; error", "body": "<p>There are some helpful environment variables that aid in debugging. Any combination can be enabled:</p>\n\n<pre><code>export PGI_ACC_TIME=1   #Profile time usage\nexport PGI_ACC_NOTIFY=1 #Set to values 0-3 where 3 is the most detailed\nexport PGI_ACC_DEBUG=1  #Extra debugging info\n</code></pre>\n"}], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 46085453, "answer_count": 2, "score": 1, "last_activity_date": 1506200843, "creation_date": 1504729588, "question_id": 46083799, "link": "https://stackoverflow.com/questions/46083799/debugging-an-invalid-address-space-error", "title": "Debugging an &quot;Invalid address space&quot; error", "body": "<p>I've built some C++ code that uses OpenACC and compiled it with the PGI compiler for use on the Tesla GPU.</p>\n\n<p>Compilation succeeds without any warnings.</p>\n\n<p>I run the program and get two errors:</p>\n\n<pre><code>call to cuStreamSynchronize returned error 717: Invalid address space\ncall to cuMemFreeHost returned error 717: Invalid address space\n</code></pre>\n\n<p>The internet doesn't seem to know much about this, other than to suggest <a href=\"https://devblogs.nvidia.com/parallelforall/combine-openacc-unified-memory-productivity-performance/\" rel=\"nofollow noreferrer\">enabling unified memory</a> so that the problem is automatically swept under the rug. I'm not into that kind of solution.</p>\n\n<p>How do I go about debugging this?</p>\n\n<p>With C++ code running only on the CPU, I'd fire up gdb, do a backtrace, and say, \"Ah ha!\"</p>\n\n<p>But now I have code living on the CPU <em>and</em> the GPU and data flowing between the two. I don't even know what tools to use.</p>\n\n<p>A fallback is to start commenting out lines until the problem goes away, but that seems suboptimal too.</p>\n"}, {"tags": ["c++", "reference", "stdmap"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1504730344, "post_id": 46083773, "comment_id": 79129913, "body": "Save the current key and use <code>mMyMap[currentKey].push_back(iValue)</code> in the add function."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504730346, "post_id": 46083773, "comment_id": 79129916, "body": "Smash, that example code is so full of mistakes it&#39;s more a distraction than a clarification."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 0, "creation_date": 1504730384, "post_id": 46083773, "comment_id": 79129930, "body": "Just use the vector and use operator -&gt;. *mCurrentVectorPointer.push_back is a syntax error! The other solution is to create a vector_view that would emulate the vector interface, unfortunately, the dot operator did not make it in c++17, it would be longer to implement than switching to the pointer alternative!"}, {"owner": {"reputation": 4501, "user_id": 1053930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EyjC7.jpg?s=128&g=1", "display_name": "Shashwat Kumar", "link": "https://stackoverflow.com/users/1053930/shashwat-kumar"}, "edited": false, "score": 0, "creation_date": 1504730502, "post_id": 46083773, "comment_id": 79129985, "body": "why mCurrentVector = mMyMap[0] and not mMyMap[iKey] ?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504730825, "post_id": 46083773, "comment_id": 79130166, "body": "Sitting in the Bo Persson camp until it&#39;s demonstrated that the repeated look-up is too slow. If it is found to be too slow, use the pointer or wrap the pointer so it looks like a reference."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1504730831, "post_id": 46083773, "comment_id": 79130171, "body": "I would recommend using the value of a key instead of a pointer or a reference. Instead of <code>std::vector&lt;int&gt;&amp; mCurrentVector;</code> use <code>std::string mCurrentKey;</code>."}, {"owner": {"reputation": 3462, "user_id": 708170, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/99837b48d15a4d7f18a794160e16512c?s=128&d=identicon&r=PG", "display_name": "Smash", "link": "https://stackoverflow.com/users/708170/smash"}, "edited": false, "score": 0, "creation_date": 1504731076, "post_id": 46083773, "comment_id": 79130272, "body": "All good comments, just wanted to make sure there wasn&#39;t a way to just modify the value of the mCurrentVector variable (which is used everywhere) so that the switching between vectors was transparent to the rest of the code. Point is to have the least amount of code to modify."}], "answers": [{"comments": [{"owner": {"reputation": 3462, "user_id": 708170, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/99837b48d15a4d7f18a794160e16512c?s=128&d=identicon&r=PG", "display_name": "Smash", "link": "https://stackoverflow.com/users/708170/smash"}, "edited": false, "score": 0, "creation_date": 1504731700, "post_id": 46084024, "comment_id": 79130546, "body": "Yes, as mentionned I had thought about this idea, but this gets ugly quickly  and requires a lot of code changes, i.e.: when you need to access the [] operator <code>(*curr_vec_)[0]</code> instead of <code>curr_vec_[0]</code>, etc."}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 3462, "user_id": 708170, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/99837b48d15a4d7f18a794160e16512c?s=128&d=identicon&r=PG", "display_name": "Smash", "link": "https://stackoverflow.com/users/708170/smash"}, "edited": false, "score": 0, "creation_date": 1504732492, "post_id": 46084024, "comment_id": 79130893, "body": "@Smash an option would be to use a local reference then. I&#39;ve updated my answer"}, {"owner": {"reputation": 3462, "user_id": 708170, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/99837b48d15a4d7f18a794160e16512c?s=128&d=identicon&r=PG", "display_name": "Smash", "link": "https://stackoverflow.com/users/708170/smash"}, "edited": false, "score": 0, "creation_date": 1504732899, "post_id": 46084024, "comment_id": 79131063, "body": "Good idea, but the code uses a member variable for the vector, so I would need to use the local reference in each function, pretty similar scope of changes, I&#39;ll give it some thought if there is no other solution"}], "tags": [], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "is_accepted": false, "score": 0, "last_activity_date": 1504732471, "last_edit_date": 1504732471, "creation_date": 1504730572, "answer_id": 46084024, "question_id": 46083773, "link": "https://stackoverflow.com/questions/46083773/using-class-member-variable-as-reference/46084024#46084024", "title": "Using class member variable as reference", "body": "<p>You can't reseat a reference once it has been assigned which means you are left with using your other option, a pointer.</p>\n\n<p>As I understand it, you're refactoring some existing code which only used a single vector, whereas now you need a map of vectors.</p>\n\n<p>You're trying to achieve this with minimal modifications, and keeping the interface to the vector the same.</p>\n\n<p>An option would be to use a <em>local reference</em>, assigned from your pointer.</p>\n\n<pre><code>class A\n{\n    using Vector = std::vector&lt;int&gt;;\npublic:\n    A()\n    {\n        map_[\"key1\"] = std::vector&lt;int&gt;(1,1);\n        map_[\"key2\"] = std::vector&lt;int&gt;(1,2);\n        curr_vec_ = &amp;map_[\"key1\"];\n    }\n\n    void setCurrentVector(const std::string&amp; key)\n    {\n        if(map_.find(key) != map_.end())\n        {\n            curr_vec_ = &amp;map_[key]; \n        }\n    }\n\n    void addToCurrentVector(int val)\n    {\n        assert(curr_vec_);\n        Vector&amp; curr_vec = *curr_vec_; // local reference\n\n        curr_vec.push_back(val);\n\n        curr_vec[0] = 2;\n        // etc\n    }\n\nprivate:\n    std::map&lt;std::string, Vector&gt; map_;\n    Vector* curr_vec_ = nullptr;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1504745197, "post_id": 46086058, "comment_id": 79134441, "body": "For more transparency, add <code>noexcept(noexcept(X))</code> to your macro."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1504752918, "post_id": 46086058, "comment_id": 79136225, "body": "@aschepler: Added."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1504746513, "last_edit_date": 1504746513, "creation_date": 1504743494, "answer_id": 46086058, "question_id": 46083773, "link": "https://stackoverflow.com/questions/46083773/using-class-member-variable-as-reference/46086058#46086058", "title": "Using class member variable as reference", "body": "<p>You may write some wrapper:</p>\n\n<pre><code>#define Return(X) noexcept(noexcept(X)) -&gt; decltype(X) { return X; }\n\n\ntemplate &lt;typename U&gt;\nclass MyVectorRef\n{\nprivate:\n    std::vector&lt;U&gt;* vec = nullptr;\npublic:\n    explicit MyVectorRef(std::vector&lt;U&gt;&amp; v) : vec(&amp;v) {}\n\n    void reset(std::vector&lt;U&gt;&amp; v) {vec = &amp;v;}\n\n    // vector interface\n    auto at(std::size_t i) const Return(vec-&gt;at(i))\n    auto at(std::size_t i)  Return(vec-&gt;at(i))\n    auto operator [](std::size_t i) const Return(vec-&gt;operator[](i))\n    auto operator [](std::size_t i) Return(vec-&gt;operator[](i))\n\n    template &lt;typename ... Ts&gt; auto assign(Ts&amp;&amp;... ts) Return(vec-&gt;assign(std::forward&lt;Ts&gt;(ts)...))\n    auto assign( std::initializer_list&lt;U&gt; ilist ) Return(vec-&gt;assign(ilist))\n    template &lt;typename T&gt; auto push_back(T&amp;&amp; t) const Return(vec-&gt;push_back(std::forward&lt;T&gt;(t)))\n    template &lt;typename T&gt; auto emplace_back(T&amp;&amp; t) const Return(vec-&gt;emplace_back(std::forward&lt;T&gt;(t)))\n\n    auto begin() const Return(vec-&gt;begin())\n    auto begin() Return(vec-&gt;begin())\n    auto end() const Return(vec-&gt;end())\n    auto end() Return(vec-&gt;end())\n    auto cbegin() const Return(vec-&gt;cbegin())\n    auto cend() const Return(vec-&gt;cend())\n    // ...\n};\n</code></pre>\n\n<p>and then, use it:</p>\n\n<pre><code>class A\n{\npublic:\n    A() : mCurrentVector(mDefaultVector) {\n        mMyMap[\"key1\"] = std::vector&lt;int&gt;(1,1);\n        mMyMap[\"key2\"] = std::vector&lt;int&gt;(1,2);\n    }\n\n    std::map&lt;std::string, std::vector&lt;int&gt;&gt; mMyMap;\n    std::vector&lt;int&gt; mDefaultVector;\n    MyVectorRef&lt;int&gt; mCurrentVector;\n\n    void setCurrentVector(std::string iKey)\n    {\n        auto it = mMyMap.find(iKey);\n        if (it != mMyMap.end())\n        {\n            mCurrentVector.reset(it-&gt;second);\n        }\n    }\n    void addToCurrentVector(int iValue)\n    {\n        mCurrentVector.push_back(iValue);\n    }\n\n};\n</code></pre>\n\n<p>But I think it would be simpler to just create a getter in <code>A</code> and use directly a pointer:</p>\n\n<pre><code>class A\n{\npublic:\n    A() : mCurrentVector(&amp;mDefaultVector) {\n        mMyMap[\"key1\"] = std::vector&lt;int&gt;(1,1);\n        mMyMap[\"key2\"] = std::vector&lt;int&gt;(1,2);\n    }\n\n    std::map&lt;std::string, std::vector&lt;int&gt;&gt; mMyMap;\n    std::vector&lt;int&gt; mDefaultVector;\n    std::vector&lt;int&gt;* mCurrentVector;\n\n    std::vector&lt;int&gt;&amp; GeCurrentVector() { return *mCurrentVector; }\n\n    void setCurrentVector(std::string iKey)\n    {\n        auto it = mMyMap.find(iKey);\n        if (it != mMyMap.end())\n        {\n            mCurrentVector = &amp;it-&gt;second;\n        }\n    }\n    void addToCurrentVector(int iValue)\n    {\n        GeCurrentVector().push_back(iValue);\n    }\n\n};\n</code></pre>\n"}], "owner": {"reputation": 3462, "user_id": 708170, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/99837b48d15a4d7f18a794160e16512c?s=128&d=identicon&r=PG", "display_name": "Smash", "link": "https://stackoverflow.com/users/708170/smash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504746513, "creation_date": 1504729458, "last_edit_date": 1504730795, "question_id": 46083773, "link": "https://stackoverflow.com/questions/46083773/using-class-member-variable-as-reference", "title": "Using class member variable as reference", "body": "<p>I would like to have a class member variable to be able to switch in between items in a map so that when it is modified, the content of the map is also modified. </p>\n\n<p>Is there any way other than to use a pointer to the content of the map ? Old code only needed only variable, now the new one needs to switch. If I change the variable type, then all functions using this member variable need to be changed. Not complicated, but I would find it ugly to have * in front of it everywhere...</p>\n\n<p>A reference variable cannot be rebound, so how can I achieve this ? </p>\n\n<pre><code>class A\n{\n    std::map&lt;std::string,std::vector&lt;int&gt;&gt; mMyMap;\n    std::vector&lt;int&gt;&amp; mCurrentVector;\n    std::vector&lt;int&gt;* mCurrentVectorPointer;\n    std::vector&lt;int&gt; mDefaultVector;\n\n    void setCurrentVector(int iKey);\n    void addToCurrentVector(int iValue);\n}\n\n\nA::A():\nmDefaultVector(std::vector&lt;int&gt;())\nmCurrentVector(mDefaultVector)\n{\n    mMyMap[\"key1\"] = std::vector&lt;int&gt;(1,1);\n    mMyMap[\"key2\"] = std::vector&lt;int&gt;(1,2);\n    mCurrentVectorPointer = &amp;mMyMap[0];\n}\n\nA::setCurrentVector(std::string iKey)\n{\n    if(mMyMap.find(iKey) != mMyMap.end())\n    {\n        mCurrentVector = mMyMap[iKey]; //can't change a reference...\n        mCurrentVectorPointer = &amp;mMyMap[iKey]; //could use pointer, but\n    }\n}\n\nA::addToCurrentVector(int iValue)\n{\n    mCurrentVector.push_back(iValue);\n    //or\n    (*mCurrentVectorPointer).push_back(iValue);\n    //\n    mCurrentVectorPointer-&gt;push_back(iValue);\n}\n\n\nvoid main()\n{\n    A wClassA();\n    wClassA.setCurrentVector(\"key2\");\n    wClassA.addToCurrentVector(3);\n    wClassA.setCurrentVector(\"key1\");\n    wClassA.addToCurrentVector(4);\n}\n</code></pre>\n\n<p>mMyMap[\"key1\"] now contains 1,4</p>\n\n<p>mMyMap[\"key2\"] now contains 2,3</p>\n"}, {"tags": ["c++", "io"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1504727642, "post_id": 46083323, "comment_id": 79128541, "body": "um, <code>skipws</code> is a function.  The stuff between the <code>()</code> of a function is called the function&#39;s paramter(s).  Not sure what the confusion is."}, {"owner": {"reputation": 203, "user_id": 7939838, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/261f98e589f851d7b69e983f217f82ff?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7939838/gaurav"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504727802, "post_id": 46083323, "comment_id": 79128645, "body": "@NathanOliver But the compiler is saying that it can&#39;t be used as a function."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1504727879, "post_id": 46083323, "comment_id": 79128672, "body": "What is the code you are using that generates that error? <a href=\"http://coliru.stacked-crooked.com/a/3f1ddd2846a57641\" rel=\"nofollow noreferrer\">Works just fine here</a>"}, {"owner": {"reputation": 203, "user_id": 7939838, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/261f98e589f851d7b69e983f217f82ff?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7939838/gaurav"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1504728126, "post_id": 46083323, "comment_id": 79128801, "body": "@NathanOliver the erroneous part of my code was using: std::ios_base::skipws rather than std::skipws, thanks a lot."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 7939838, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/261f98e589f851d7b69e983f217f82ff?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7939838/gaurav"}, "edited": false, "score": 0, "creation_date": 1504728227, "post_id": 46083397, "comment_id": 79128842, "body": "Hi, can you please explain this part: &quot;that takes the right type (pointer to function ...) and invokes it on the stream on your behalf.&quot;"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 203, "user_id": 7939838, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/261f98e589f851d7b69e983f217f82ff?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7939838/gaurav"}, "edited": false, "score": 0, "creation_date": 1504728377, "post_id": 46083397, "comment_id": 79128920, "body": "@Gaurav: <a href=\"https://stackoverflow.com/a/17479947/179910\">stackoverflow.com/a/17479947/179910</a> shows what I&#39;m talking about."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 2, "last_activity_date": 1504727898, "creation_date": 1504727898, "answer_id": 46083397, "question_id": 46083323, "link": "https://stackoverflow.com/questions/46083323/trivial-clarification-regarding-skipws-declaration/46083397#46083397", "title": "Trivial clarification regarding skipws declaration", "body": "<p><code>skipws</code> is a function, but you don't normally invoke it directly. Rather, you pass it to the stream:</p>\n\n<pre><code>std::cin &gt;&gt; std::noskipws &gt;&gt; foo;\nstd::cin &gt;&gt; std::skipws &gt;&gt; bar;\n</code></pre>\n\n<p>The stream has a special overload of <code>operator&gt;&gt;</code> that takes the right type (pointer to function ...) and invokes it on the stream on your behalf.</p>\n"}], "owner": {"reputation": 203, "user_id": 7939838, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/261f98e589f851d7b69e983f217f82ff?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7939838/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46083397, "answer_count": 1, "score": 0, "last_activity_date": 1504727898, "creation_date": 1504727539, "last_edit_date": 1504727759, "question_id": 46083323, "link": "https://stackoverflow.com/questions/46083323/trivial-clarification-regarding-skipws-declaration", "title": "Trivial clarification regarding skipws declaration", "body": "<p>In <code>skipws</code>'s header, prototype: <code>std::ios_base&amp; skipws( **std::ios_base&amp; str** );</code> (from <a href=\"http://en.cppreference.com/w/cpp/io/manip/skipws\" rel=\"nofollow noreferrer\">Skipws/Noskipws</a>) what is the part which I've put between <strong><em>asterisk</em></strong> sign, sure that the format flag <strong>skipws</strong> can't be used as a function. So what is it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/u0KHR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u0KHR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "linux", "process"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504727637, "post_id": 46083249, "comment_id": 79128534, "body": "Some memory locations, like those that contain code, are read-only. This is perfectly normal."}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504727639, "post_id": 46083249, "comment_id": 79128537, "body": "Basically the same problem as this guy. <a href=\"https://www.linuxquestions.org/questions/programming-9/write-to-remote-process-4175579796/\" rel=\"nofollow noreferrer\">linuxquestions.org/questions/programming-9/&hellip;</a>  The response was that the &quot;page might be protected.&quot; So then what is the point of having a process_vm_writev function if you can&#39;t write?"}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504727737, "post_id": 46083249, "comment_id": 79128611, "body": "@n.m. ah, well in the process I am intercepting, I created an integer x and assigned it to 0xAABBCCDD. I then searched for that value, found it, and want to change x. The thread I am intercepting simply loops forever printing out the value of the integer x. I want to be able to change the value mid process."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504727976, "post_id": 46083249, "comment_id": 79128726, "body": "If you have code that doesn&#39;t work, show it (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504729522, "post_id": 46083249, "comment_id": 79129485, "body": "Right now I can&#39;t get the code from my VM over to the internet, but I did read this...   &quot; Linux does not have separate text and data address spaces, so the two requests are currently equivalent.&quot;  <a href=\"http://www.tutorialspoint.com/unix_system_calls/ptrace.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/unix_system_calls/ptrace.htm</a>"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504729974, "post_id": 46083249, "comment_id": 79129730, "body": "This valid note from the ptrace manual has nothing to do whatsoever with the subject at hand. Anyway, no one can tell you what&#39;s wrong with your code without seeing said code, but you can <code>objdump -x</code> your executable and look in what section <code>0x6005df</code> lies."}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504800951, "post_id": 46083249, "comment_id": 79164511, "body": "@n.m Here is the code <a href=\"https://stackoverflow.com/questions/46099717/modifying-integer-value-from-another-process-using-process-vm-readv\" title=\"modifying integer value from another process using process vm readv\">stackoverflow.com/questions/46099717/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11236237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02b5705f9d7ff0c8f631822c376596a?s=128&d=identicon&r=PG&f=1", "display_name": "ganton", "link": "https://stackoverflow.com/users/11236237/ganton"}, "is_accepted": false, "score": 0, "last_activity_date": 1580475756, "last_edit_date": 1580475756, "creation_date": 1580465405, "answer_id": 60001815, "question_id": 46083249, "link": "https://stackoverflow.com/questions/46083249/process-vm-writev-not-able-to-write-to-the-same-address-that-i-was-able-to-read/60001815#60001815", "title": "process_vm_writev not able to write to the same address that I was able to read from", "body": "<p>I experience the same problem using FUSE where the address of the data is perfectly provided from client using ioctl(... *arg), and so client's data can be read by server using <strong>process_vm_readv()</strong>. </p>\n\n<p>But: <strong>process_vm_writev()</strong> won't change the same memory location (no errors) in the client. However when the client provides a <em>pointer to pointer</em> and not only a address-pointer, you CAN change the client's memory. It does not matter if the memory location is in heap or stack.</p>\n\n<p>Also: If you try to write to address just above the address and length provided with ioctl() (the cmd arguments codes type, direction and size of data) then it is OK. Seems that during the ioctl call kernel in some way protects the memory area provided.</p>\n\n<p>Also2: If you make/trick the size of struct/data to transfer be 0, then you are allowed to modify client memory of provided address (ioctl(...arg).</p>\n"}, {"tags": [], "owner": {"reputation": 1207, "user_id": 1641854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79e6b5b23adf85e9a616af4cf4690cce?s=128&d=identicon&r=PG", "display_name": "user1641854", "link": "https://stackoverflow.com/users/1641854/user1641854"}, "is_accepted": false, "score": 0, "last_activity_date": 1616267092, "last_edit_date": 1616267092, "creation_date": 1616264647, "answer_id": 66725037, "question_id": 46083249, "link": "https://stackoverflow.com/questions/46083249/process-vm-writev-not-able-to-write-to-the-same-address-that-i-was-able-to-read/66725037#66725037", "title": "process_vm_writev not able to write to the same address that I was able to read from", "body": "<p>In my case it happened because I misplaced the order of arguments in <code>process_vm_writev()</code>: both local and remote IOVs were pointing at stack VMA. Due to ASLR they were slightly different. In the kernel during handling the syscall there is an attempt to extend related VMA - <code>expand_stack</code> function. The end result was that the offset between stack address from my process and VMA of the process to which I was writing was larger than the process stack limit and hence <code>-EFAULT</code>.</p>\n"}], "owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 804, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1616267092, "creation_date": 1504727228, "question_id": 46083249, "link": "https://stackoverflow.com/questions/46083249/process-vm-writev-not-able-to-write-to-the-same-address-that-i-was-able-to-read", "title": "process_vm_writev not able to write to the same address that I was able to read from", "body": "<p>I am writing a C++ program in an Ubuntu machine. I am using the function calls <code>process_vm_readv</code> and <code>process_vm_writev</code> from the <code>&lt;sys/uio.h&gt;</code> library to attempt to search for a value in the memory of another process and then write a different value.</p>\n\n<p>I am able to successfully search and find (through the proceess_vm_readv function) the data I want to change. I capture the address that it is at, and I attempt to use the <code>process_vm_writev</code> but the return value is -1 and <code>errno</code> is set to 14 which stands for <code>bad address</code></p>\n\n<p>Is there any reason I shouldn't be able to write to some memory where I can also read? The data I am looking for is found at address <code>0x6005df</code> but I cannot actually start writing data back until <code>0x601000</code>. </p>\n"}, {"tags": ["c++", "mysql", "hash", "sha256", "sha"], "comments": [{"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 3, "creation_date": 1504729046, "post_id": 46083243, "comment_id": 79129255, "body": "I&#39;m not sure would you expect the hash functions to preserve lexical ordering"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 2, "creation_date": 1504743833, "post_id": 46083243, "comment_id": 79134159, "body": "There is no such thing as &#39;dates in hash format&#39;. Once hashed, these are no longer dates. Hashed data cannot reasonably be expected to have the same ordering as the original data. Your query does not return &#39;2017-09-06&#39;. There is nothing incorrect about the comparison result. Your question doesn&#39;t make sense."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1504745253, "post_id": 46083243, "comment_id": 79134453, "body": "And why you are securely hashing dates at all is another mystery. Dates aren&#39;t secrets, and they are shorter than the hash codes."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 2125, "user_id": 6559962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a18b4adacd96b313e304b6a86edb2348?s=128&d=identicon&r=PG", "display_name": "Gautam Rai", "link": "https://stackoverflow.com/users/6559962/gautam-rai"}, "edited": false, "score": 0, "creation_date": 1504748212, "post_id": 46083243, "comment_id": 79135141, "body": "@GautamRai Edit rejected. It is inexcusable to remove material code from the question. Don&#39;t use code formatting for text that isn&#39;t code."}, {"owner": {"reputation": 35158, "user_id": 395202, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c422b640dd62b019c125836b1059e231?s=128&d=identicon&r=PG", "display_name": "Adrian Shum", "link": "https://stackoverflow.com/users/395202/adrian-shum"}, "edited": false, "score": 0, "creation_date": 1504748776, "post_id": 46083243, "comment_id": 79135281, "body": "Short answer: No, it cannot be done.  Why in the first place you are hashing a date?"}, {"owner": {"reputation": 1, "user_id": 8571028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AwqC4ewqZ4g/AAAAAAAAAAI/AAAAAAAAAB8/a-YloLgMOrw/photo.jpg?sz=128", "display_name": "Ezequiel Benavente", "link": "https://stackoverflow.com/users/8571028/ezequiel-benavente"}, "reply_to_user": {"reputation": 35158, "user_id": 395202, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c422b640dd62b019c125836b1059e231?s=128&d=identicon&r=PG", "display_name": "Adrian Shum", "link": "https://stackoverflow.com/users/395202/adrian-shum"}, "edited": false, "score": 0, "creation_date": 1504788666, "post_id": 46083243, "comment_id": 79155387, "body": "@AdrianShum because I need to validate two dates (for example (current date and expiration date) applying some kind of security or difficult encoded (not Base64 encode)."}, {"owner": {"reputation": 1, "user_id": 8571028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AwqC4ewqZ4g/AAAAAAAAAAI/AAAAAAAAAB8/a-YloLgMOrw/photo.jpg?sz=128", "display_name": "Ezequiel Benavente", "link": "https://stackoverflow.com/users/8571028/ezequiel-benavente"}, "edited": false, "score": 0, "creation_date": 1504788778, "post_id": 46083243, "comment_id": 79155485, "body": "Have I another options to validate two dates in a safe way using MySql or C++?"}], "answers": [{"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1504771916, "post_id": 46090152, "comment_id": 79143997, "body": "You can&#39;t reverse a hash."}, {"owner": {"reputation": 199, "user_id": 4666144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/920705891285142/picture?type=large", "display_name": "Willy_Sunny", "link": "https://stackoverflow.com/users/4666144/willy-sunny"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1504775315, "post_id": 46090152, "comment_id": 79146169, "body": "@EJP of course you can&#39;t. However, it is possible to reverse it back if you know exactly how it was built, hence assumption 2. For example, sha1(&quot;password&quot;) will always give you 5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8, in other words, if you see that particular hash string, you can assume it&#39;s the word &quot;password&quot;, no?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1504775983, "post_id": 46090152, "comment_id": 79146634, "body": "No. You can assume it&#39;s one of the very large number of strings that hash to that value,"}, {"owner": {"reputation": 199, "user_id": 4666144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/920705891285142/picture?type=large", "display_name": "Willy_Sunny", "link": "https://stackoverflow.com/users/4666144/willy-sunny"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1504779168, "post_id": 46090152, "comment_id": 79148949, "body": "Or, simply, &quot;password&quot;. The chances of two identical short strings with colliding sha1 hash is basically non-existing. In the case given in the beginning, we know it&#39;s a date string, and date strings are short. Therefore, we can be safe to assume that there is no way two date will have the same SHA1 hash, and thus, it is possible to revert it by generating a list of SHA1 hashes and compare against it to find the input value."}], "tags": [], "owner": {"reputation": 199, "user_id": 4666144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/920705891285142/picture?type=large", "display_name": "Willy_Sunny", "link": "https://stackoverflow.com/users/4666144/willy-sunny"}, "is_accepted": false, "score": -1, "last_activity_date": 1504768682, "creation_date": 1504768682, "answer_id": 46090152, "question_id": 46083243, "link": "https://stackoverflow.com/questions/46083243/how-to-validate-dates-in-hash-format-in-mysql-or-c/46090152#46090152", "title": "How to validate dates in Hash format in MySQL or C++", "body": "<p>Don't know why you'd do this, but here's a solution for you.</p>\n\n<p>Here's some assumptions.</p>\n\n<ol>\n<li>You were given two date hashes (two inputs)</li>\n<li>You know exactly how the date hashes were created (EG: always in the format of YYYY-MM-DD)</li>\n<li>You know the range of your target date (So you can reverse the hash back to the original date)</li>\n</ol>\n\n<p>So in psudocode, you'd do something like this.</p>\n\n<pre><code>date getDateFromHash(string inputHash) {\n  date startDate = '1911-01-01';\n  date endDate = '2017-12-31';\n  for(date checkDate = startDate; checkDate &lt; endDate; checkDate + 1 day) {\n    if (sha1(checkDate) = inputHash) { return checkDate }\n  }\n  return null;\n}\ndate firstDate = getDateFromHash(\"0b10f03fb245a6486d6ab5b25a2f050bf87093a5\"); // 2017-09-07\ndate secondDate = getDateFromHash(\"34152f3661d73490ac89b0fe15cb3170aac06bb8\"); // 2017-09-06\nif (firstDate &gt; secondDate) {\n    return true;\n} else {\n    return false;\n} // compare using default date operators\n</code></pre>\n\n<p>But honestly speaking, like the comment says, there's no point of hashing date values. Hence why I'm only dropping a quich psudo code for you just to point you in the right direction, if you seriously want to tread down this path.</p>\n"}], "owner": {"reputation": 1, "user_id": 8571028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AwqC4ewqZ4g/AAAAAAAAAAI/AAAAAAAAAB8/a-YloLgMOrw/photo.jpg?sz=128", "display_name": "Ezequiel Benavente", "link": "https://stackoverflow.com/users/8571028/ezequiel-benavente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1504768682, "creation_date": 1504727191, "last_edit_date": 1504748285, "question_id": 46083243, "link": "https://stackoverflow.com/questions/46083243/how-to-validate-dates-in-hash-format-in-mysql-or-c", "title": "How to validate dates in Hash format in MySQL or C++", "body": "<p>I need to validate dates in Hash (SHA256) format in MySQL or C++.\nFor example: <code>date1 &lt; date2</code> or <code>date1 &gt; date2</code>.</p>\n\n<p>I have this query in MySQL:</p>\n\n<pre><code>SELECT SHA1(CURDATE()) --&gt;'2017-09-06'\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>SELECT SHA1('2017-09-06') --&gt; '34152f3661d73490ac89b0fe15cb3170aac06bb8'\n\nSELECT SHA1('2017-09-07') --&gt; '0b10f03fb245a6486d6ab5b25a2f050bf87093a5'\n</code></pre>\n\n<p>But, if I use:</p>\n\n<pre><code>SELECT IF (SHA1('2017-09-06') &lt;= SHA1('2017-09-07') ,'True','False') AS Test;\n</code></pre>\n\n<p>the result is <code>False</code>, therefore, incorrect!</p>\n"}, {"tags": ["c++", "xml", "xerces-c"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 3, "creation_date": 1504727773, "post_id": 46083234, "comment_id": 79128631, "body": "This seems on point: <a href=\"https://stackoverflow.com/q/4691039/535275\">stackoverflow.com/q/4691039/535275</a>"}, {"owner": {"reputation": 767, "user_id": 2099770, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/0x7Fl.jpg?s=128&g=1", "display_name": "Benjamin Cuningham", "link": "https://stackoverflow.com/users/2099770/benjamin-cuningham"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1504728843, "post_id": 46083234, "comment_id": 79129155, "body": "@ScottHunter Wow! In hindsight, I think I never put the word <code>string</code> in my search. So stupid of me! Thank you. Now I would close this as a duplicate if I could figure out how."}], "owner": {"reputation": 767, "user_id": 2099770, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/0x7Fl.jpg?s=128&g=1", "display_name": "Benjamin Cuningham", "link": "https://stackoverflow.com/users/2099770/benjamin-cuningham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 682, "favorite_count": 0, "closed_date": 1504731778, "answer_count": 0, "score": 2, "last_activity_date": 1504727162, "creation_date": 1504727162, "question_id": 46083234, "link": "https://stackoverflow.com/questions/46083234/how-to-use-xerces-to-parse-xml-in-a-string", "closed_reason": "Duplicate", "title": "How to use Xerces to parse XML in a string", "body": "<p>I have a C++ project in Visual Studio and I added the Xerces nuget package to it. I am trying to use this library to parse a string of XML that I have retrieved from a SOAP call (SOAP call removed in the simplified example below).</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;xercesc/parsers/XercesDOMParser.hpp&gt;\n\nusing namespace xercesc;\n\nint main() {\n    std::string myXMLString = \"&lt;a&gt;foo&lt;/a&gt;\";\n    XercesDOMParser* parser = new XercesDOMParser();\n\n    parser-&gt;parse(myXMLString);\n\n    //Use the parser object  to interrogate the DOM created from the XML string\n\n    return 0;\n}\n</code></pre>\n\n<p>Obviously this will not work because the <code>parse</code> function does not take a string. Is there another function in the <code>XercesDOMParser</code> class that does? Is there another class I should use?</p>\n\n<p>This question is similar, but in this case, the XML is being loaded from a file: <a href=\"https://stackoverflow.com/questions/2126541/xerces-c-load-read-and-save-alternatives\">Xerces C++ - Load, read and save, alternatives?</a></p>\n\n<p>I have tried looking at <a href=\"https://xerces.apache.org\" rel=\"nofollow noreferrer\">https://xerces.apache.org</a> for help and some of the pages are useful. For example, in the programming guide, there is clear example code: <a href=\"https://xerces.apache.org/xerces-c/program-3.html\" rel=\"nofollow noreferrer\">https://xerces.apache.org/xerces-c/program-3.html</a>. But on the sample page, there is not: <a href=\"https://xerces.apache.org/xerces-c/memparse-3.html\" rel=\"nofollow noreferrer\">https://xerces.apache.org/xerces-c/memparse-3.html</a>. The title of this sample seems to cover what I am trying to do, but it talks about running from the command line; no code.</p>\n\n<p>I am not set on using Xerces, so if you think it is not the best way to accomplish my goals, please say so. I welcome other recommendations.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 5, "creation_date": 1504726580, "post_id": 46083058, "comment_id": 79128013, "body": "You are adding pointers together. Adding pointers to strings together does not concatenate those strings."}, {"owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1504726687, "post_id": 46083058, "comment_id": 79128063, "body": "@Fran&#231;oisAndrieux how to fix it? Could you answer with the code?"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504726826, "post_id": 46083058, "comment_id": 79128139, "body": "Use a <code>std::string</code> if you want to concatenate using the <code>+</code> operator, then you can pass it to any C functions using the <code>str.c_str()</code> method. Otherwise you need to use <code>strcat()</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1504726840, "post_id": 46083058, "comment_id": 79128146, "body": "<a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code> likely helps here.</a>"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504726878, "post_id": 46083058, "comment_id": 79128178, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1995053/const-char-concatenation\">const char* concatenation</a>"}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1504726903, "post_id": 46083058, "comment_id": 79128189, "body": "One possible solution: <code>const TCHAR* czStartName = _T(&quot;MY application&quot;); std::wstring ws = std::wstring(czStartName) + pcusername;</code> use <code>ws.c_str()</code> to get concatanated string"}, {"owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "reply_to_user": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1504727340, "post_id": 46083058, "comment_id": 79128400, "body": "@marcinj I got many errors : <code>&quot;identifier &quot;_T&quot; is undefined&quot;</code> , <code>no instance of constructor &quot;std::basic_string&lt;_Elem, _Traits, _Alloc&gt;::basic_string [with _Elem=wchar_t, _Traits=std::char_traits&lt;wchar_t&gt;, _Alloc=std::allocator&lt;wchar_t&gt;]&quot; matches the argument list</code> , <code>no operator &quot;+&quot; matches these operands</code>"}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 1, "creation_date": 1504727494, "post_id": 46083058, "comment_id": 79128462, "body": "@A.Krasniqi that is not an answer to copy paste, just an idea what to do."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504727733, "post_id": 46083058, "comment_id": 79128607, "body": "<code>import &lt;string&gt;</code> ..."}, {"owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "edited": false, "score": 0, "creation_date": 1504728355, "post_id": 46083058, "comment_id": 79128911, "body": "Could anyone answer the answer with code? I tried your comments advice, but noone worked!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504728548, "post_id": 46083058, "comment_id": 79129011, "body": "@Dan C++ places heavy duties on imports in spite of generally being quite inclusive."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1504730820, "post_id": 46083058, "comment_id": 79130161, "body": "Use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762188(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SHGetKnownFolderPath</code></a> to reliably get the path to a user&#39;s desktop folder."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1504731189, "post_id": 46083058, "comment_id": 79130323, "body": "@molbdnilo you probably just <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">solved X when the question asks Y</a>. Probably should be the <i>real</i> answer to this question."}, {"owner": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "reply_to_user": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504731495, "post_id": 46083058, "comment_id": 79130461, "body": "@Dan, good point. The error message referrd to one thing while the OP asks about another."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "edited": false, "score": 0, "creation_date": 1504733635, "post_id": 46084188, "comment_id": 79131407, "body": "Worked! Thank you"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 2, "creation_date": 1504745184, "post_id": 46084188, "comment_id": 79134440, "body": "Depending on C:\\\\Users\\\\username being that user&#39;s profile directory is a bad idea. It won&#39;t always be true."}, {"owner": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "reply_to_user": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1504750045, "post_id": 46084188, "comment_id": 79135583, "body": "@Joshua, yes. of course. This little example is imperfect but it directly addresses the compiler error in the question. There are several other issues for sure."}, {"owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "reply_to_user": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1504789934, "post_id": 46084188, "comment_id": 79156407, "body": "@Joshua , in which cases it will be not true?"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "reply_to_user": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "edited": false, "score": 0, "creation_date": 1504797468, "post_id": 46084188, "comment_id": 79162232, "body": "@A.Krasniqi: It&#39;s still <i>possible</i> the user directory isn&#39;t c:\\users; and if c:\\users\\username directory already exists before the user has logged in the first time that user will be given another directory."}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "reply_to_user": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "edited": false, "score": 1, "creation_date": 1504797521, "post_id": 46084188, "comment_id": 79162274, "body": "@A.Krasniqi: Always use SHGetSpecialFolderPath function for this job <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762204(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}], "tags": [], "owner": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1504740589, "last_edit_date": 1504740589, "creation_date": 1504731303, "answer_id": 46084188, "question_id": 46083058, "link": "https://stackoverflow.com/questions/46083058/cannot-add-tchar-to-const-char/46084188#46084188", "title": "Cannot add TCHAR* to const char", "body": "<p>As others have said in the comments, you cannot concatenate strings in C using the addition operator. You can do something like in this example:</p>\n\n<pre><code>#include &lt;string.h&gt;\n\nchar buf[4096];\nsnprintf(buf, sizeof(buf), \"\\\"C:\\\\Users\\\\%s\\\\Desktop\\\\Myapplication.exe\\\" /background\", username);\n\nconst char* czExePath = buf;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 7365913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/27ef3337d73dfd0bdaf103a363d199ff?s=128&d=identicon&r=PG&f=1", "display_name": "A.Krasniqi", "link": "https://stackoverflow.com/users/7365913/a-krasniqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 46084188, "answer_count": 1, "score": 1, "last_activity_date": 1504740589, "creation_date": 1504726519, "question_id": 46083058, "link": "https://stackoverflow.com/questions/46083058/cannot-add-tchar-to-const-char", "title": "Cannot add TCHAR* to const char", "body": "<p>Hello I'm trying to make my application to run on startup, and to do this to work on my clients PC firstly I needed to get their PC username, but when I'm trying to make this working I'm getting this error :</p>\n\n<pre><code>E2140 expression must have integral or unscoped enum type\n</code></pre>\n\n<p>Here's the code:</p>\n\n<pre><code>HKEY hKey;\nconst char* czStartName = \"MY application\";\nTCHAR pcusername[UNLEN + 1];\nDWORD pcusername_len = UNLEN + 1;\nGetUserName((TCHAR*)pcusername, &amp;pcusername_len);\nconst char* czExePath = \"\\\"C:\\\\Users\\\\\" + pcusername + \"\\\\Desktop\\\\Myapplication.exe\\\" /background\";\n</code></pre>\n\n<p>How Can I convert TCHAR* to Const Char?</p>\n"}, {"tags": ["c++", "memory", "struct"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1504725751, "post_id": 46082835, "comment_id": 79127589, "body": "Not guaranteed, but probably will be true on every decent compiler. You could put a <code>static_assert</code> to be sure."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 4, "creation_date": 1504725764, "post_id": 46082835, "comment_id": 79127601, "body": "Highly related: <a href=\"https://stackoverflow.com/questions/46037465/is-there-any-environment-where-int-would-cause-struct-padding#46037465\" title=\"is there any environment where int would cause struct padding%2346037465\">stackoverflow.com/questions/46037465/&hellip;</a>"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1504725850, "post_id": 46082835, "comment_id": 79127647, "body": "@Rakete1111 seems like a duplicate to me"}, {"owner": {"reputation": 963, "user_id": 805796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/351bc6b115265f0a9fbcb328c4532ced?s=128&d=identicon&r=PG", "display_name": "MCG", "link": "https://stackoverflow.com/users/805796/mcg"}, "edited": false, "score": 0, "creation_date": 1504726224, "post_id": 46082835, "comment_id": 79127830, "body": "No, it is not guaranteed."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504726401, "post_id": 46082835, "comment_id": 79127922, "body": "This wouldn&#39;t hold under a pathological compiler that intentionally seeks to break assumptions that have no support in the standard."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504729746, "post_id": 46082835, "comment_id": 79129600, "body": "The compiler is allowed to add padding between <code>struct</code> and <code>class</code> members.  So, the size of the structure is at least <code>2 * sizeof(int)</code>, but may not be exactly equal."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504729670, "post_id": 46082890, "comment_id": 79129555, "body": "What about padding?  The compiler is allowed to insert padding between members.  This makes the size &gt;= 2* sizeof(int)."}], "tags": [], "owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "is_accepted": true, "score": 6, "last_activity_date": 1504725813, "creation_date": 1504725813, "answer_id": 46082890, "question_id": 46082835, "link": "https://stackoverflow.com/questions/46082835/is-a-struct-containing-two-ints-and-only-two-ints-guaranteed-to-be-twice-as-la/46082890#46082890", "title": "Is a struct containing two ints (and only two ints) guaranteed to be twice as large as sizeof(int)?", "body": "<p>Usually, it will have that size. But to make sure, add a static_assert:</p>\n\n<pre><code>static_assert(sizeof(intpair) == sizeof(int) * 2, \"Unexpected struct size\");\n</code></pre>\n\n<p>If the assert ever fires, you can scratch your head looking for a solution. Otherwise, you'll be fine. (Why do you need this btw?)</p>\n"}], "owner": {"reputation": 8888, "user_id": 4967403, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/JjcvA.jpg?s=128&g=1", "display_name": "J. Antonio Perez", "link": "https://stackoverflow.com/users/4967403/j-antonio-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "closed_date": 1504729918, "accepted_answer_id": 46082890, "answer_count": 1, "score": 1, "last_activity_date": 1512900297, "creation_date": 1504725589, "last_edit_date": 1512900297, "question_id": 46082835, "link": "https://stackoverflow.com/questions/46082835/is-a-struct-containing-two-ints-and-only-two-ints-guaranteed-to-be-twice-as-la", "closed_reason": "Duplicate", "title": "Is a struct containing two ints (and only two ints) guaranteed to be twice as large as sizeof(int)?", "body": "<p>Let's say I define a struct:</p>\n\n<pre><code>struct intpair\n{\n    int i1;\n    int i2;\n    /*Other non-virtual members can go here*/\n};\n</code></pre>\n\n<p>Is <code>sizeof(intpair)</code> guaranteed by the c++ standard to be <code>2*sizeof(int)</code>? If it's not guaranteed, are there any compilers or situations where this wouldn't hold?</p>\n"}, {"tags": ["c++", "c++11", "initializer-list"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 3, "creation_date": 1504724328, "post_id": 46082490, "comment_id": 79126854, "body": "Post a complete, compilable example of what  you are asking about."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1504724342, "post_id": 46082490, "comment_id": 79126860, "body": "How do you know the 2nd copy is coming from the <code>initializer_list</code> itself? What is <code>some_function()</code> actually doing with the list? How is <code>some_function()</code> even declared?"}, {"owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "edited": false, "score": 0, "creation_date": 1504724389, "post_id": 46082490, "comment_id": 79126897, "body": "I&#39;ll edit and append an example for @NeilButterworth."}, {"owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "edited": false, "score": 0, "creation_date": 1504724789, "post_id": 46082490, "comment_id": 79127100, "body": "@NeilButterworth <a href=\"http://cpp.sh/4rboi\" rel=\"nofollow noreferrer\">cpp.sh/4rboi</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1504724874, "post_id": 46082490, "comment_id": 79127141, "body": "@RandyThompson, please copy the code from the link and paste it in your post."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504724921, "post_id": 46082490, "comment_id": 79127163, "body": "Post code here."}, {"owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "edited": false, "score": 0, "creation_date": 1504724923, "post_id": 46082490, "comment_id": 79127166, "body": "I give up, toxic place to try and learn"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504724950, "post_id": 46082490, "comment_id": 79127183, "body": "Or maybe it&#39;s just you?"}, {"owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "edited": false, "score": 0, "creation_date": 1504724991, "post_id": 46082490, "comment_id": 79127203, "body": "@NeilButterworth ;)"}, {"owner": {"reputation": 3760, "user_id": 6594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448660dad9fcb2bf8b5f7a3ab8813037?s=128&d=identicon&r=PG", "display_name": "Paul Floyd", "link": "https://stackoverflow.com/users/6594576/paul-floyd"}, "edited": false, "score": 0, "creation_date": 1504728930, "post_id": 46082490, "comment_id": 79129197, "body": "There are over half a million posts tagged C++ on SO. If you want people to give you their time for free to help you, you need to make as easy as possible for us. I see that you&#39;ve improved your post so I&#39;m giving up an upvote."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "edited": false, "score": 0, "creation_date": 1504725058, "post_id": 46082683, "comment_id": 79127240, "body": "Bam. Silly mistake. Thank you!"}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504725307, "post_id": 46082683, "comment_id": 79127352, "body": "I could not reproduce - I got no copy at all - only create"}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 4, "last_activity_date": 1504729035, "last_edit_date": 1504729035, "creation_date": 1504724982, "answer_id": 46082683, "question_id": 46082490, "link": "https://stackoverflow.com/questions/46082490/why-does-an-initializer-list-cause-2-copies-of-data-and-not-just-the-a-single-co/46082683#46082683", "title": "Why does an initializer list cause 2 copies of data and not just the a single copy to pass it to the function?", "body": "<p>The second copy has nothing to do with initializer list itself. The second copy is created inside your <code>some_function</code> when you iterate your list \"by value\"</p>\n\n<pre><code>for (example exam : input) {\n    std::cout &lt;&lt; &amp;exam &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>If you iterate it \"by const reference\" instead the secondy copy will disappear.</p>\n"}], "owner": {"reputation": 33, "user_id": 8570811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db66f0cd80a0bbcb855dfd93f4042267?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Thompson", "link": "https://stackoverflow.com/users/8570811/randy-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46082683, "answer_count": 1, "score": 2, "last_activity_date": 1504729035, "creation_date": 1504724212, "last_edit_date": 1504725346, "question_id": 46082490, "link": "https://stackoverflow.com/questions/46082490/why-does-an-initializer-list-cause-2-copies-of-data-and-not-just-the-a-single-co", "title": "Why does an initializer list cause 2 copies of data and not just the a single copy to pass it to the function?", "body": "<p>If we create a simple dummy-class as follows:</p>\n\n<pre><code>struct example {\n    example() { std::cout &lt;&lt; \"Create\" &lt;&lt; std::endl; }\n    example(const exam&amp;) { std::cout &lt;&lt; \"Copy\" &lt;&lt; std::endl; }\n    example(example &amp;&amp;) noexcept { std::cout &lt;&lt; \"Move\" &lt;&lt; std::endl; }\n}\n</code></pre>\n\n<p>And pass it in an initialization list (<code>std::initializer_list&lt;example&gt;</code>):</p>\n\n<pre><code>some_function({example()});\n</code></pre>\n\n<p>The output (from GCC/C++11) is:</p>\n\n<pre><code>Create\nCopy\nCopy\n</code></pre>\n\n<p>This doesn't make sense to me as you create the example object itself then pass it through an <code>initializer_list</code>. This means that you have the original object, your list has a copy of the object and your function has a copy of the <em>list</em> (not the example object) hinting that it should be a single create of your object then a single copy of the initializer list.</p>\n\n<p>Expected output (without the extra copy):</p>\n\n<pre><code>Create (from example())\nCopy (into initializer_list)\n</code></pre>\n\n<p>TL;DR: Why does passing my object through an initializer list instantiate two copies of the object instead of one if the object getting passed in the initializer list itself?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;initializer_list&gt;\n\nstruct example {\n    example() { std::cout &lt;&lt; \"Create\" &lt;&lt; std::endl; }\n    example(const example &amp;) { std::cout &lt;&lt; \"Copy\" &lt;&lt; std::endl; }\n    example(example &amp;&amp;) noexcept { std::cout &lt;&lt; \"Move\" &lt;&lt; std::endl; }\n};\n\nvoid some_function(std::initializer_list&lt;example&gt; input) {\n    for (example exam : input) {\n        std::cout &lt;&lt; &amp;exam &lt;&lt; std::endl;\n    }\n}\n\nint main()\n{\n    example exam;\n    some_function({exam});\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "move-semantics", "boost-multi-index"], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504730703, "post_id": 46083899, "comment_id": 79130099, "body": "I understand, why object are not allowed to be modified. I do not understand why there is no way to extract an element from array rather than just remove it. This method is pretty bad workaround as could be unnecessary expensive (rearranging indexes could be costly) and it also puts unnecessary requirement to element."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504730829, "post_id": 46083899, "comment_id": 79130170, "body": "Btw, if <code>modify</code> returns false it probably should just return, rather than throwing exception. as element would be erased in this case (what we actually need)"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504731340, "post_id": 46083899, "comment_id": 79130400, "body": "@Slava Re: the second comment; Yeah. In this particular operation that seems fine. When I wrote the code I hadn&#39;t fully realized the implication of full iterator stability across the operation. Updated the answer."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504731392, "post_id": 46083899, "comment_id": 79130423, "body": "I agree it could be nice having erase operations, move-iterators or maybe an outbound splice-operation that takes a non-BMI container or reference for the output. I&#39;m pretty sure Joaqu&#237;n M L&#243;pez Mu&#241;oz reads this tag, but you could always file a feature request"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504731570, "post_id": 46083899, "comment_id": 79130493, "body": "&quot;I agree it could be nice having...&quot; yes it would be nice to have full set of such operations. But there must be at least one way to move element from array. Currently it is one way road - you can move object in, but cannot move it out. :("}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504731941, "post_id": 46083899, "comment_id": 79130655, "body": "Hold on: I think my code shows it&#39;s not impossible. Also, when the move operation does <i>not</i> invalidate indices there isn&#39;t even going to be that much of a cost (yeah, the checks are redundant, but e.g. in your example there&#39;s no such checks since you had a RA index only)."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504732020, "post_id": 46083899, "comment_id": 79130686, "body": "I do have other indexes, otherwise I could use <code>std::vector</code> or <code>std::deque</code> instead and problem solved."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504732084, "post_id": 46083899, "comment_id": 79130715, "body": "A <code>stable_vector</code> would actually be closer, but yeah, I guessed you did :)"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1504732397, "post_id": 46083899, "comment_id": 79130844, "body": "<code>stable_vector</code> could be closer to <code>random_access</code> index, but maybe not what I need. What I am trying to implement is priority queue with ability to find and remove task by additional keys. But that details would be irrelevant and unnecessary here I think."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504770283, "post_id": 46083899, "comment_id": 79142957, "body": "Hi, I skimmed through this and seems like C++17 <code>extract&#47;merge</code> functonality would serve here, right? If someone files a ticket in Boost I can try to find the time to implement this."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504773815, "post_id": 46083899, "comment_id": 79145191, "body": "@sehe, there&#39;s a bug in your sample code: when <code>modify</code> fails the element is erased, so <code>table.erase(it)</code> would crash. This is not happening for your particular <code>Table</code>, but it will if you add some unique index."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504775819, "post_id": 46083899, "comment_id": 79146525, "body": "@Joaqu&#237;nML&#243;pezMu&#241;oz I don&#39;t see how erase could fall in that case. If you look up ~6 comments you can see I specifically removed the check when the OP mentioned it."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504781036, "post_id": 46083899, "comment_id": 79150151, "body": "@sehe Yes, <code>modify</code> won&#39;t ever fail in your example, but it might in @Slava&#39;s scenrario, where there&#39;s an additional (presumably unique) index. In any case, it doesn&#39;t hurt to change the logic to <code>if(table.modify(...)) table.erase(it);</code>"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504783905, "post_id": 46083899, "comment_id": 79152121, "body": "@Joaqu&#237;nML&#243;pezMu&#241;oz Oops. More to the point, my earlier <a href=\"https://stackoverflow.com/questions/46082394/move-element-from-boost-multi-index-array/46083899?noredirect=1#comment79130400_46083899\">&quot;realization&quot;</a> was completely flawed. Rolled back that change (and added doc quote about post-conditions of <code>modify</code>)."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504784578, "post_id": 46083899, "comment_id": 79152570, "body": "@sehe Your solution requires that the moved type be default constructible. For the fun of it, maybe you&#39;re in the mood of showing the OP how this restriction can be lifted by using stack-allocated aligned storage."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504784634, "post_id": 46083899, "comment_id": 79152608, "body": "@Joaqu&#237;nML&#243;pezMu&#241;oz I&#39;m not :) I was, instead, looking at what I remembered to be the downsides of C++17 extract/merge."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 1, "creation_date": 1504785329, "post_id": 46083899, "comment_id": 79153069, "body": "@sehe OK, I did it myself. Looking fwd to your feedback on <code>extract&#47;merge</code>."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 1, "last_activity_date": 1504783862, "last_edit_date": 1504783862, "creation_date": 1504730044, "answer_id": 46083899, "question_id": 46082394, "link": "https://stackoverflow.com/questions/46082394/move-element-from-boost-multi-index-array/46083899#46083899", "title": "Move element from boost multi_index array", "body": "<p>Non-const element operations are not supported because they could leave elements in a state which would break invariants placed on them by the various indexes.</p>\n\n<p>The closest thing you can do is using <code>modify</code>:</p>\n\n<pre><code>moveonly pop_front(Table&amp; table) {\n    moveonly extracted;\n\n    auto it = table.begin();\n    if (it == table.end())\n        throw std::logic_error(\"pop_front\");\n\n    if (table.modify(it, [&amp;](moveonly&amp; v) { extracted = std::move(v); })) {\n        table.erase(it);\n    }\n\n    return extracted;\n}\n</code></pre>\n\n<p>Note that <code>modify</code> does incur the cost of checking all indexes, and may fail. Fortunately, if it does fail, the effect is that <code>iterator</code> is erased:</p>\n\n<blockquote>\n  <ul>\n  <li>Effects: Calls mod(e) where e is the element pointed to by position and rearranges *position into all the indices of the multi_index_container. Rearrangement on sequenced indices does not change the position of the element with respect to the index; rearrangement on other indices may or might not succeed. <strong><em>If the rearrangement fails, the element is erased.</em></strong></li>\n  <li>Postconditions: Validity of position is preserved if the operation succeeds.</li>\n  </ul>\n</blockquote>\n\n<p>And here's a live demo:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/e62d6c10459bdf09\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/multi_index_container.hpp&gt;\n#include &lt;boost/multi_index/random_access_index.hpp&gt;\n#include &lt;iostream&gt;\n\nstruct moveonly {\n    int x;\n    moveonly(int x = -1) noexcept : x(x) {}\n    moveonly(moveonly&amp;&amp; o) noexcept : x(o.x) { o = {}; }\n    moveonly&amp; operator=(moveonly o) noexcept { using std::swap; swap(x, o.x); return *this; }\n};\n\nstatic_assert(not std::is_copy_constructible&lt;moveonly&gt;{}, \"moveonly\");\n\nnamespace bmi = boost::multi_index;\nusing Table   = bmi::multi_index_container&lt;moveonly,\n    bmi::indexed_by&lt;\n        bmi::random_access&lt;bmi::tag&lt;struct _ra&gt; &gt;\n    &gt; &gt;;\n\ntemplate &lt;typename Container&gt;\nvoid dump(std::ostream&amp; os, Container const&amp; c) { \n    for (auto&amp; r: c) os &lt;&lt; r.x &lt;&lt; \" \";\n    os &lt;&lt; \"\\n\";\n}\n\nmoveonly pop_front(Table&amp; table) {\n    moveonly extracted;\n\n    auto it = table.begin();\n    if (it == table.end())\n        throw std::logic_error(\"pop_front\");\n\n    if (table.modify(it, [&amp;](moveonly&amp; v) { extracted = std::move(v); })) {\n        table.erase(it);\n    }\n\n    return extracted;\n}\n\nint main() {\n    Table table;\n\n    table.push_back({1});\n    table.push_back({2});\n    table.push_back({3});\n\n    dump(std::cout &lt;&lt; \"table before: \", table);\n\n    std::cout &lt;&lt; \"Extracted: \" &lt;&lt; pop_front(table).x &lt;&lt; \"\\n\";\n\n    dump(std::cout &lt;&lt; \"table after: \", table);\n}\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>table before: 1 2 3 \nExtracted: 1\ntable after: 2 3 \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504786332, "post_id": 46095675, "comment_id": 79153700, "body": "Ah. That was simpler than I imagined. Somehow, dealing with raw storage intimidates me more than strictly required :)"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504788764, "post_id": 46095675, "comment_id": 79155477, "body": "Unfortunately hardly predictable cost of rebuilding indexes makes  changing element to be copyable is preferred over using this solution. I am surprised that something like <code>element_type&amp;&amp; move_front();</code> and more generic <code>element_type &amp;&amp;extract( iterator it );</code> was not implemented. Are there complications with it or nobody requested? That method does not seem to be significantly more complicated than simple <code>pop_front()</code> and <code>erase()</code> but I am not aware of internals."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504789386, "post_id": 46095675, "comment_id": 79156015, "body": "Btw why not to use <code>std::unique_ptr&lt;moveonly&gt;</code> and at the end just <code>return std::move( *ptr );</code>, that would eliminate placement new complications and creating unnecessary instance."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504789548, "post_id": 46095675, "comment_id": 79156134, "body": "@Slava using <code>std::unique_ptr</code> without a custom deleter implies there&#39;s a heap allocation in the process, which is usually more expensive than any stack-based stuff you can use as an alternative."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504789690, "post_id": 46095675, "comment_id": 79156222, "body": "I see, but intermediate instance is not free either. Anyway without changing array itself there is seem to be no way to do it properly."}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504790089, "post_id": 46095675, "comment_id": 79156499, "body": "You always have to have two intermediate move constructions, one for extracting the value prior to erasure and the other returning it. This is regardless of whether you use <code>std::unique_ptr</code> or not. See my addition to the answer."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1504802093, "post_id": 46095675, "comment_id": 79165096, "body": "Looking at the disassembly, it seems that using <code>boost::optional&lt;moveonly&gt;</code> internally does the &quot;complicated&quot; things with aligned storage: <a href=\"http://coliru.stacked-crooked.com/a/b8908ffafeecc228\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/b8908ffafeecc228</a>"}, {"owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1504819117, "post_id": 46095675, "comment_id": 79173492, "body": "Didn&#39;t think of <code>optional</code>! This is certainly the most elegant and concise solution. Adding this to my answer."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1506160200, "post_id": 46095675, "comment_id": 79715003, "body": "Cheers. Maybe this related question (about ptree) will interest you as well <a href=\"https://stackoverflow.com/questions/29561852/is-there-a-convenient-way-to-erase-a-node-from-a-property-tree-preserving-its-c/29563086?noredirect=1#comment79714972_29563086\" title=\"is there a convenient way to erase a node from a property tree preserving its c\">stackoverflow.com/questions/29561852/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4756, "user_id": 213114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWib4.jpg?s=128&g=1", "display_name": "Joaqu&#237;n M L&#243;pez Mu&#241;oz", "link": "https://stackoverflow.com/users/213114/joaqu%c3%adn-m-l%c3%b3pez-mu%c3%b1oz"}, "is_accepted": true, "score": 3, "last_activity_date": 1504819757, "last_edit_date": 1504819757, "creation_date": 1504785246, "answer_id": 46095675, "question_id": 46082394, "link": "https://stackoverflow.com/questions/46082394/move-element-from-boost-multi-index-array/46095675#46095675", "title": "Move element from boost multi_index array", "body": "<p>Adding to @sehe's answer, the following shows how to modify the code in case your moveable type is not default constructible:</p>\n\n<p><strong>Edited:</strong> changed code to properly deal with destruction of <code>*extracted</code>.<br> \n<strong>Edited:</strong> added alternative with <code>std::unique_ptr</code>.<br>\n<strong>Edited:</strong> added a second altrnative by <a href=\"https://stackoverflow.com/users/85371/sehe\">sehe</a>.</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/089cc14d2706f924\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/multi_index_container.hpp&gt;\n#include &lt;boost/multi_index/random_access_index.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\nstruct moveonly {\n    int x;\n    moveonly(int x) noexcept : x(x) {}\n    moveonly(moveonly&amp;&amp; o) noexcept : x(o.x) { o = {-1}; }\n    moveonly&amp; operator=(moveonly o) noexcept { using std::swap; swap(x, o.x); return *this; }\n};\n\nstatic_assert(not std::is_copy_constructible&lt;moveonly&gt;{}, \"moveonly\");\n\nnamespace bmi = boost::multi_index;\nusing Table   = bmi::multi_index_container&lt;moveonly,\n    bmi::indexed_by&lt;\n        bmi::random_access&lt;bmi::tag&lt;struct _ra&gt; &gt;\n    &gt; &gt;;\n\ntemplate &lt;typename Container&gt;\nvoid dump(std::ostream&amp; os, Container const&amp; c) { \n    for (auto&amp; r: c) os &lt;&lt; r.x &lt;&lt; \" \";\n    os &lt;&lt; \"\\n\";\n}\n\nmoveonly pop_front(Table&amp; table) {\n    std::aligned_storage&lt;sizeof(moveonly), alignof(moveonly)&gt;::type buffer;\n    moveonly* extracted = reinterpret_cast&lt;moveonly*&gt;(&amp;buffer);\n\n    auto it = table.begin();\n    if (it == table.end())\n        throw std::logic_error(\"pop_front\");\n\n    if (table.modify(it, [&amp;](moveonly&amp; v) { new (extracted) moveonly{std::move(v)}; })) {\n        table.erase(it);\n    }\n\n    try {\n        moveonly ret = std::move(*extracted);\n        extracted-&gt;~moveonly();\n        return ret;\n    } catch(...) {\n        extracted-&gt;~moveonly();\n        throw;\n    }\n}\n\nint main() {\n    Table table;\n\n    table.push_back({1});\n    table.push_back({2});\n    table.push_back({3});\n\n    dump(std::cout &lt;&lt; \"table before: \", table);\n\n    std::cout &lt;&lt; \"Extracted: \" &lt;&lt; pop_front(table).x &lt;&lt; \"\\n\";\n\n    dump(std::cout &lt;&lt; \"table after: \", table);\n}\n</code></pre>\n\n<p>Same thing using <code>std::unique_ptr</code> for cleanup:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/04385323c80ed3c3\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/multi_index_container.hpp&gt;\n#include &lt;boost/multi_index/random_access_index.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;type_traits&gt;\n\nstruct moveonly {\n    int x;\n    moveonly(int x) noexcept : x(x) {}\n    moveonly(moveonly&amp;&amp; o) noexcept : x(o.x) { o = {-1}; }\n    moveonly&amp; operator=(moveonly o) noexcept { using std::swap; swap(x, o.x); return *this; }\n};\n\nstatic_assert(not std::is_copy_constructible&lt;moveonly&gt;{}, \"moveonly\");\n\nnamespace bmi = boost::multi_index;\nusing Table   = bmi::multi_index_container&lt;moveonly,\n    bmi::indexed_by&lt;\n        bmi::random_access&lt;bmi::tag&lt;struct _ra&gt; &gt;\n    &gt; &gt;;\n\ntemplate &lt;typename Container&gt;\nvoid dump(std::ostream&amp; os, Container const&amp; c) { \n    for (auto&amp; r: c) os &lt;&lt; r.x &lt;&lt; \" \";\n    os &lt;&lt; \"\\n\";\n}\n\nmoveonly pop_front(Table&amp; table) {\n    std::aligned_storage&lt;sizeof(moveonly), alignof(moveonly)&gt;::type buffer;\n    moveonly* extracted = reinterpret_cast&lt;moveonly*&gt;(&amp;buffer);\n\n    auto it = table.begin();\n    if (it == table.end())\n        throw std::logic_error(\"pop_front\");\n\n    if (table.modify(it, [&amp;](moveonly&amp; v) { new (extracted) moveonly{std::move(v)}; })) {\n        table.erase(it);\n    }\n\n    std::unique_ptr&lt;moveonly,void(*)(moveonly*)&gt; ptr = {\n        extracted,\n        [](moveonly* p){ p-&gt;~moveonly(); }\n    };\n\n    return std::move(*extracted);\n}\n\nint main() {\n    Table table;\n\n    table.push_back({1});\n    table.push_back({2});\n    table.push_back({3});\n\n    dump(std::cout &lt;&lt; \"table before: \", table);\n\n    std::cout &lt;&lt; \"Extracted: \" &lt;&lt; pop_front(table).x &lt;&lt; \"\\n\";\n\n    dump(std::cout &lt;&lt; \"table after: \", table);\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/users/85371/sehe\">Sehe</a> provides yet another alternative based on <code>boost::optional</code> which is the most elegant of all:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/b8908ffafeecc228\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/multi_index_container.hpp&gt;\n#include &lt;boost/optional.hpp&gt;\n#include &lt;boost/multi_index/random_access_index.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;type_traits&gt;\n\nstruct moveonly {\n    int x;\n    moveonly(int x) noexcept : x(x) {}\n    moveonly(moveonly&amp;&amp; o) noexcept : x(o.x) { o = {-1}; }\n    moveonly&amp; operator=(moveonly o) noexcept { using std::swap; swap(x, o.x); return *this; }\n};\n\nstatic_assert(not std::is_copy_constructible&lt;moveonly&gt;{}, \"moveonly\");\n\nnamespace bmi = boost::multi_index;\nusing Table   = bmi::multi_index_container&lt;moveonly,\n    bmi::indexed_by&lt;\n        bmi::random_access&lt;bmi::tag&lt;struct _ra&gt; &gt;\n    &gt; &gt;;\n\ntemplate &lt;typename Container&gt;\nvoid dump(std::ostream&amp; os, Container const&amp; c) { \n    for (auto&amp; r: c) os &lt;&lt; r.x &lt;&lt; \" \";\n    os &lt;&lt; \"\\n\";\n}\n\nmoveonly pop_front(Table&amp; table) {\n    boost::optional&lt;moveonly&gt; extracted;\n\n    auto it = table.begin();\n    if (it == table.end())\n        throw std::logic_error(\"pop_front\");\n\n    if (table.modify(it, [&amp;](moveonly&amp; v) { extracted = std::move(v); })) {\n        table.erase(it);\n    }\n\n    return std::move(*extracted);\n}\n\nint main() {\n    Table table;\n\n    table.push_back({1});\n    table.push_back({2});\n    table.push_back({3});\n\n    dump(std::cout &lt;&lt; \"table before: \", table);\n\n    std::cout &lt;&lt; \"Extracted: \" &lt;&lt; pop_front(table).x &lt;&lt; \"\\n\";\n\n    dump(std::cout &lt;&lt; \"table after: \", table);\n}\n</code></pre>\n"}], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 1, "accepted_answer_id": 46095675, "answer_count": 2, "score": 4, "last_activity_date": 1504819757, "creation_date": 1504723869, "last_edit_date": 1504730150, "question_id": 46082394, "link": "https://stackoverflow.com/questions/46082394/move-element-from-boost-multi-index-array", "title": "Move element from boost multi_index array", "body": "<p>Let's say I have movable and not copyable object and I have boost multi-index array with random_access index. I need to move my object out of array front, but I cannot find any method, that would give me rvalue/lvalue reference in <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/multi_index/doc/reference/rnd_indices.html#synopsis\" rel=\"nofollow noreferrer\">documentation</a>. I can only see <code>front()</code> which gives me constant reference and <code>pop_front()</code> which erases element, but does not return anything. So is there a way to move element out of boost multi-index?</p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 5, "creation_date": 1504723845, "post_id": 46082318, "comment_id": 79126592, "body": "I think <code>{}</code> to <code>std::nullptr_t</code> is a standard conversion (the identity conversion, in fact, [over.ics.list]), but the other conversions are user-defined, because they result in user-defined types."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1504726295, "post_id": 46082318, "comment_id": 79127867, "body": "Usually when I see a type <code>T</code> it&#39;s a template parameter. This confused me for a second."}], "answers": [{"comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1504724877, "post_id": 46082564, "comment_id": 79127144, "body": "So if you didn&#39;t want the <code>std::nullptr_t</code> to do this, you could write your own type which is implicitly convertible from <code>std::nullptr_t</code>, which would make all 3 options user-defined conversion sequences, so it would be an ambiguous overload"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504726421, "post_id": 46082564, "comment_id": 79127937, "body": "So exactly what type did <code>{}</code> create?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504726640, "post_id": 46082564, "comment_id": 79128042, "body": "@MarkRansom What ended up happening is we value-initialized a <code>std::nullptr_t</code>, if that&#39;s what you&#39;re asking?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1504727543, "post_id": 46082564, "comment_id": 79128485, "body": "@Justin It actually seems useful, as <code>{}</code> being empty is very much like saying &quot;nothing&quot;, and <code>nullptr_t</code> usually means nothing."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504729783, "post_id": 46082564, "comment_id": 79129616, "body": "Yes, but there seems to be a chicken-and-egg situation here - you need to know the type before <code>{}</code> knows what to create, but the overload resolution needs to know the type before that can happen. The mechanics aren&#39;t clear to me."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1504730573, "post_id": 46082564, "comment_id": 79130030, "body": "@MarkRansom There&#39;s no chicken-and-egg situation. Overload resolution starts with name lookup, then we check all the candidates for viability and prune those that aren&#39;t viable, then we pick which one is the best match - and the best match&#39;s parameter type is the type that actually gets initialized. What about do you find unclear?"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504731236, "post_id": 46082564, "comment_id": 79130349, "body": "How does the compiler pick the best match when the parameter type isn&#39;t known? That&#39;s my point, <code>{}</code> doesn&#39;t have a type by itself. Or if it actually does I&#39;d like to know how it&#39;s derived."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504731818, "post_id": 46082564, "comment_id": 79130612, "body": "@MarkRansom Once you find all the candidates, you know all the parameter types. At that point, they&#39;re all known. Then you just pick which one is the best match, in this case which one has the best conversion sequence."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504732689, "post_id": 46082564, "comment_id": 79130979, "body": "So you&#39;re saying that <code>{}</code> has a conversion sequence to each type without actually having a type itself? I guess I can buy that."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504733005, "post_id": 46082564, "comment_id": 79131110, "body": "@MarkRansom Yep, that&#39;s it! (Well, not to <i>each</i> type, just the ones for whom <code>T{}</code> is valid... but yes <code>{}</code> has no type)"}, {"owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "edited": false, "score": 0, "creation_date": 1504783211, "post_id": 46082564, "comment_id": 79151608, "body": "Guys, if we add another overload: <code>operator=(std::initializer_list&amp;)</code> to the list of operators, compiler will select it. Does this mean, that <code>{}</code> is actually an initializer list?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "edited": false, "score": 1, "creation_date": 1504792260, "post_id": 46082564, "comment_id": 79158177, "body": "@vladon That&#39;s... ill-formed. <code>std::initializer_list</code> isn&#39;t a type, it&#39;s a class template. <code>{}</code> is an &quot;initializer list&quot; (the term), but it&#39;s not an instance of <code>std::initializer_list&lt;T&gt;</code> for any <code>T</code>. It doesn&#39;t have a type."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 18, "last_activity_date": 1504724538, "creation_date": 1504724538, "answer_id": 46082564, "question_id": 46082318, "link": "https://stackoverflow.com/questions/46082318/why-converted-to-stdnullptr-t-in-first-order/46082564#46082564", "title": "Why {} converted to std::nullptr_t in first order?", "body": "<p>We have three candidates:</p>\n\n<ol>\n<li><code>operator=(T const&amp; )</code></li>\n<li><code>operator=(std::vector&lt;int&gt; const&amp; )</code></li>\n<li><code>operator=(std::nullptr_t )</code></li>\n</ol>\n\n<p>For both #1 and #2, <code>{}</code> leads to a <a href=\"http://eel.is/c++draft/over.match.best#over.ics.list-7.2\" rel=\"noreferrer\">user-defined conversion sequence</a>.</p>\n\n<p>However, for #3, <code>{}</code> is a <a href=\"http://eel.is/c++draft/over.match.best#over.ics.list-10.2\" rel=\"noreferrer\">standard conversion sequence</a> because <code>nullptr_t</code> is not a class type. </p>\n\n<p>Since a standard conversion sequence is <a href=\"http://eel.is/c++draft/over.match.best#over.ics.rank-2.1\" rel=\"noreferrer\">better than</a> a user-defined conversion sequence, #3 wins. </p>\n"}], "owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 3, "accepted_answer_id": 46082564, "answer_count": 1, "score": 20, "last_activity_date": 1504724538, "creation_date": 1504723566, "last_edit_date": 1504723749, "question_id": 46082318, "link": "https://stackoverflow.com/questions/46082318/why-converted-to-stdnullptr-t-in-first-order", "title": "Why {} converted to std::nullptr_t in first order?", "body": "<p>This code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nvoid dump(const std::string&amp; s) {\n    cout &lt;&lt; s &lt;&lt; endl;\n}\n\nclass T {\npublic:\n    T() {\n        dump(\"default ctor\");\n    }\n\n    T(std::nullptr_t) {\n        dump(\"ctor from nullptr_t\");\n    }\n\n    T(const T&amp;) {\n        dump(\"copy ctor\");\n    }\n\n    T&amp; operator=(const T&amp;) {\n        dump(\"copy operator=\");\n        return *this;\n    }\n\n    T&amp; operator=(std::nullptr_t) {\n        dump(\"operator=(std::nullptr_t)\");\n        return *this;\n    }\n\n    T&amp; operator=(const std::vector&lt;int&gt;&amp;) {\n        dump(\"operator=(vector)\");\n        return *this;\n    }\n};\n\nint main() {\n    T t0;\n\n    t0 = {};\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/AIWU52IjPiy22NGh\" rel=\"noreferrer\">outputs</a>:</p>\n\n<pre><code>default ctor\noperator=(std::nullptr_t)\n</code></pre>\n\n<p>why <code>operator=</code> with <code>std::nullptr_t</code> was selected?</p>\n"}, {"tags": ["c++", "qt5"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8570502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927196770aa93899b1a7be6187913697?s=128&d=identicon&r=PG", "display_name": "Guest2016", "link": "https://stackoverflow.com/users/8570502/guest2016"}, "edited": false, "score": 0, "creation_date": 1504727104, "post_id": 46082565, "comment_id": 79128287, "body": "\u0410\u043d\u0442\u043e\u043d \u0421\u0435\u0440\u0433\u0443\u043d\u043e\u0432, ItemIsPanel flag totally disallows focus in Qt 5.6.2."}, {"owner": {"reputation": 531, "user_id": 5787661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bNBPUhLcr6M/AAAAAAAAAAI/AAAAAAAAThY/sbNqqK2aSDo/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0442\u043e\u043d \u0421\u0435\u0440\u0433\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/5787661/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%a1%d0%b5%d1%80%d0%b3%d1%83%d0%bd%d0%be%d0%b2"}, "reply_to_user": {"reputation": 21, "user_id": 8570502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927196770aa93899b1a7be6187913697?s=128&d=identicon&r=PG", "display_name": "Guest2016", "link": "https://stackoverflow.com/users/8570502/guest2016"}, "edited": false, "score": 0, "creation_date": 1504751701, "post_id": 46082565, "comment_id": 79135997, "body": "I&#39;ve tested on Linux, Qt 5.9"}, {"owner": {"reputation": 531, "user_id": 5787661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bNBPUhLcr6M/AAAAAAAAAAI/AAAAAAAAThY/sbNqqK2aSDo/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0442\u043e\u043d \u0421\u0435\u0440\u0433\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/5787661/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%a1%d0%b5%d1%80%d0%b3%d1%83%d0%bd%d0%be%d0%b2"}, "reply_to_user": {"reputation": 21, "user_id": 8570502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927196770aa93899b1a7be6187913697?s=128&d=identicon&r=PG", "display_name": "Guest2016", "link": "https://stackoverflow.com/users/8570502/guest2016"}, "edited": false, "score": 0, "creation_date": 1504758916, "post_id": 46082565, "comment_id": 79137510, "body": "@Guest2016 Edited the answer. Please check"}, {"owner": {"reputation": 21, "user_id": 8570502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927196770aa93899b1a7be6187913697?s=128&d=identicon&r=PG", "display_name": "Guest2016", "link": "https://stackoverflow.com/users/8570502/guest2016"}, "edited": false, "score": 0, "creation_date": 1504980234, "post_id": 46082565, "comment_id": 79229525, "body": "I have checked 5.7.1 and 5.9.1 on Linux.  If the flag ItemIsPanel is set for a proxy item, focus does not work immediately after the qt app starts. To make it work It is necessary to switch to another app and return back.  Moreover if we have two QTextEdits: the first in QMainWindow and the second in QGraphicsScene, after the second switch/return we can see two blinking cursors simultaneously (in the both QLineEdits)."}], "tags": [], "owner": {"reputation": 531, "user_id": 5787661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bNBPUhLcr6M/AAAAAAAAAAI/AAAAAAAAThY/sbNqqK2aSDo/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0442\u043e\u043d \u0421\u0435\u0440\u0433\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/5787661/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%a1%d0%b5%d1%80%d0%b3%d1%83%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": 1, "last_activity_date": 1504758891, "last_edit_date": 1504758891, "creation_date": 1504724541, "answer_id": 46082565, "question_id": 46081929, "link": "https://stackoverflow.com/questions/46081929/qgraphicsscene-qtextedit-and-lost-focus/46082565#46082565", "title": "QGraphicsScene, QTextEdit and lost focus", "body": "<p>Looks like <code>QGraphicsItem::ItemIsFocusScope</code> is for <a href=\"http://doc.qt.io/qt-5/qml-qtquick-focusscope.html\" rel=\"nofollow noreferrer\">FocusScope</a> QML item. QtQuick1 is QGraphicsScene based and used that flag.</p>\n\n<p>I'm not sure about side effects but that helps:</p>\n\n<pre><code>auto edit = new QLineEdit();\nauto item = scene-&gt;addWidget(edit);\nitem-&gt;setFlag(QGraphicsItem::GraphicsItemFlag::ItemIsPanel);\n</code></pre>\n\n<p>Tested on Qt 5.9, Linux</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>For me looks as bug:</p>\n\n<ul>\n<li>add <code>QLineEdit</code> to scene</li>\n<li>click to focus <code>QLineEdit</code></li>\n<li>hit ContextMenu key to show context menu</li>\n<li>hit Esc key to exit context menu</li>\n<li>try to type</li>\n</ul>\n\n<p>Expected: <code>QLineEdit</code> is focused and text appears</p>\n\n<p>Actual: <code>QLineEdit</code> lost input focus</p>\n\n<p>Please find it or report with <a href=\"https://bugreports.qt.io\" rel=\"nofollow noreferrer\">Qt bug tracker</a></p>\n\n<p>So it's OK to have workaround using <code>QGraphicsItem::ItemIsFocusScope</code> flag for example. </p>\n\n<pre><code>#if (QT_VERSION &lt; QT_VERSION_CHECK(&lt;fixed in Qt version&gt;))\n// it's workaround of bug QTBUG-...\n#    if (QT_VERSION == QT_VERSION_CHECK(&lt;version you are develop with&gt;)\n    item.setFlag(QGraphicsItem::ItemIsFocusScope);\n#    else\n#        error(\"The workaround is not tested on this version of Qt. Please run tests/bug_..._workaround_test\")\n#    endif\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8570502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927196770aa93899b1a7be6187913697?s=128&d=identicon&r=PG", "display_name": "Guest2016", "link": "https://stackoverflow.com/users/8570502/guest2016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1504758891, "creation_date": 1504722051, "question_id": 46081929, "link": "https://stackoverflow.com/questions/46081929/qgraphicsscene-qtextedit-and-lost-focus", "title": "QGraphicsScene, QTextEdit and lost focus", "body": "<p>QTextEdit and similar widgets embedded in QGraphicsScene lose focus after using standard context menu (copy/paste), i. e. you need to click on QTextEdit again to continue editing. Scene emits focusItemChanged with newFocusItem==0.</p>\n\n<p>First question: Is it a bug or standard behavior?</p>\n\n<p>My investigation shows that function QGraphicsItemPrivate::setVisibleHelper() clears focus here:</p>\n\n<pre><code>if (hasFocus &amp;&amp; scene) {\n    // Hiding the focus item or the closest non-panel ancestor of the focus item\n    QGraphicsItem *focusItem = scene-&gt;focusItem();\n    bool clear = true;\n    if (isWidget &amp;&amp; !focusItem-&gt;isPanel()) {\n        do {\n            if (focusItem == q_ptr) {\n                clear = !static_cast&lt;QGraphicsWidget *&gt;(q_ptr)-&gt;focusNextPrevChild(true);\n                break;\n            }\n        } while ((focusItem = focusItem-&gt;parentWidget()) &amp;&amp; !focusItem-&gt;isPanel());\n    }\n    if (clear)\n        clearFocusHelper(/* giveFocusToParent = */ false, hiddenByPanel);\n}\n</code></pre>\n\n<p>QGraphisItem has undocumented (internal) flag QGraphicsItem::ItemIsFocusScope. If the flag is set for QTextEdit's proxy-item it gets focus back after menu, but in any case focus cleared at first and after that Item receives it again or not.</p>\n\n<p>Second Question: What is flag QGraphicsItem::ItemIsFocusScope for?</p>\n"}, {"tags": ["c++", "visual-studio", "assertions", "subscript"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1504722164, "post_id": 46081928, "comment_id": 79125721, "body": "Have you stepped through your code using a debugger while it was executing? Likely this line is indexing out of range <code>Guess[i] == MyHiddenWord[i]</code>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 2, "creation_date": 1504722584, "post_id": 46081928, "comment_id": 79125934, "body": "Your loops don&#39;t seem to be taking into account the length of the Guess string. Are you sure that Guess has the same length (or greater) than the hidden word?"}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504723730, "post_id": 46081928, "comment_id": 79126519, "body": "Hi CoryKramer - After stop-debugging it appears to throw the error on what is probably the last iteration of that for loop when MyHiddenWord == 3.  It jumps to the line in xstring referenced above the first few iterations of the loop without a problem, but on that last iteration it appears to be triggering the breakpoint in xstring."}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504723833, "post_id": 46081928, "comment_id": 79126583, "body": "Hi drescherjm, no I do not, and according to the tutorial I am following it doesn&#39;t seem to be necessary for the code to run.  May I ask what you&#39;re thinking the problem may be?  As I stated above to Cory the breakpoint IS triggering in the last iteration of the loop, so maybe you&#39;re onto something.  It seems to work for the person giving the tutorial."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504726980, "post_id": 46081928, "comment_id": 79128233, "body": "Online tutorials are often wrong. I highly recommend against them as a primary source of learning."}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504727501, "post_id": 46081928, "comment_id": 79128467, "body": "So manuals, then?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504732634, "post_id": 46081928, "comment_id": 79130949, "body": "I recommend learning from a book first. <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504733053, "post_id": 46081928, "comment_id": 79131138, "body": "I would start by replacing <code>for (int32 i = 0; i &lt; HiddenWordLength; i++)</code> with <code>for (int32 i = 0; i &lt; Guess.length(); i++)</code>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504733176, "post_id": 46081928, "comment_id": 79131200, "body": "I believe <code>BullCowCount.Cows++;</code> will be incorrectly incremented if the hidden word has a letter used more than 1 time."}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504734433, "post_id": 46081928, "comment_id": 79131712, "body": "I changed the answer to reflect your suggested change, however I&#39;m still receiving the error.  Thanks for the book suggestion.  I was planning on working on the cow incrementing after solving this issue, but yes I did see that they may increment incorrectly.  I&#39;m just vested in solving this crash first."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504734498, "post_id": 46081928, "comment_id": 79131738, "body": "I picked the wrong loop to change sorry. The following should fix that: Change <code>Guess[j] == MyHiddenWord[i]</code> to <code>Guess[i] == MyHiddenWord[j]</code>"}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504734791, "post_id": 46081928, "comment_id": 79131852, "body": "Brilliant!  Thank you for your persistence!  Please post it as an answer and I will check it as the solution!"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1504735527, "post_id": 46081928, "comment_id": 79132093, "body": "I don&#39;t mind if you give Chris the credit for that. Next time you probably should not edit the code from the comments or if you do leave the original code in the question."}, {"owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "edited": false, "score": 0, "creation_date": 1504735589, "post_id": 46081928, "comment_id": 79132112, "body": "K.  Done.  Thanks again!  And sharp thinking!"}], "answers": [{"tags": [], "owner": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "is_accepted": true, "score": 0, "last_activity_date": 1504735000, "creation_date": 1504735000, "answer_id": 46084924, "question_id": 46081928, "link": "https://stackoverflow.com/questions/46081928/xstring-throwing-unhandled-exception-at-0x1005e5f6-ucrtbased-dll/46084924#46084924", "title": "xstring throwing unhandled exception at 0x1005E5F6 (ucrtbased.dll)", "body": "<p>This looks very suspicious:</p>\n\n<pre><code>for (int32 i = 0; i &lt; Guess.length(); i++) {\n    // compare letters against the hidden word\n    for (int32 j = 0; j &lt; HiddenWordLength; j++) {\n        ...\n</code></pre>\n\n<p>Notice, <em>i</em> is bounded by guess's length, and <em>j</em> is bounded by HiddenWord's length.</p>\n\n<p>Note you mixed up your index variables here:</p>\n\n<pre><code>        // if they match then\n        if (Guess[j] == MyHiddenWord[i]) {\n</code></pre>\n\n<p>Also, you should have been looking at this line anyway, since the exception was in operator[], and this is the only place in the code you posted that uses the operator in question... :)</p>\n"}], "owner": {"reputation": 13, "user_id": 8570667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6a2627d4d274b04e10e26c01003b1f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/8570667/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 46084924, "answer_count": 1, "score": 1, "last_activity_date": 1504735000, "creation_date": 1504722047, "last_edit_date": 1592644375, "question_id": 46081928, "link": "https://stackoverflow.com/questions/46081928/xstring-throwing-unhandled-exception-at-0x1005e5f6-ucrtbased-dll", "title": "xstring throwing unhandled exception at 0x1005E5F6 (ucrtbased.dll)", "body": "<p>I'm working off of a tutorial to learn C++ using the most recent version of Visual Studio Community 2017 on an updated version of Windows 8.1.</p>\n<p>When I adjusted the following .cpp file and ran the program it crashed after entering an input with the error:</p>\n<blockquote>\n<p>Debug Assertion Failed!</p>\n<p>Program C:\\WINDOWS\\SYSTEM32\\MSVCP140D.dll File c:\\program files (x86)\\microsoft visual studio\\2017\\community\\vc\\tools\\msvc\\14.11.25503\\include\\xstring\nLine: 2969</p>\n<p>Expression string subscript out of range</p>\n</blockquote>\n<pre><code>#include &quot;stdafx.h&quot;\n#include &quot;FBullCowGame.h&quot;\n\nusing int32 = int;\n\nFBullCowGame::FBullCowGame() { Reset(); }\n\nint32 FBullCowGame::GetMaxTries() const { return MyMaxTries; }\nint32 FBullCowGame::GetCurrentTry() const { return MyCurrentTry; }\n\nvoid FBullCowGame::Reset()\n{\n    constexpr int32 MAX_TRIES = 8;\n    MyMaxTries = MAX_TRIES;\n\n    const FString HIDDEN_WORD = &quot;ant&quot;;\n    MyHiddenWord = HIDDEN_WORD;\n\n    MyCurrentTry = 1;\n    return;\n}\n\n\nbool FBullCowGame::IsGameWon () const { return false; }\n\nbool FBullCowGame::CheckGuessValidity(FString)\n{\n    return false;\n}\n// Receives a VALID guess, increments turn, and returns count\n\nFBullCowCount FBullCowGame::SubmitGuess(FString Guess)\n{\n    // incriment the turn number\n    MyCurrentTry++;\n\n    // setup a return variable\n    FBullCowCount BullCowCount;\n\n    // loop through all letters in the guess\n    int32 HiddenWordLength = MyHiddenWord.length();\n    for (int32 i = 0; i &lt; Guess.length(); i++) {\n        // compare letters against the hidden word\n        for (int32 j = 0; j &lt; HiddenWordLength; j++) {\n            // if they match then\n            if (Guess[j] == MyHiddenWord[i]) {\n                if (i == j) { // if they're in the same place\n                    BullCowCount.Bulls++; // incriment bulls\n                }\n                else {\n                    BullCowCount.Cows++; // must be a cow\n                }\n            }\n        }\n    }\n    return BullCowCount;\n}\n</code></pre>\n<p>When debugging it took me to the line referred to in xstring it gives the following error:</p>\n<blockquote>\n<p>Unhandled exception at 0x1005E5F6 (ucrtbased.dll) in BullCowGame.exe: An invalid parameter was passed to a function that considers invalid parameters fatal.</p>\n</blockquote>\n<p>for the code:</p>\n<pre><code>    reference operator[](const size_type _Off)\n    {   // subscript mutable sequence\n    auto&amp; _My_data = this-&gt;_Get_data();\n    _IDL_VERIFY(_Off &lt;= _My_data._Mysize, &quot;string subscript out of range&quot;);\n    return (_My_data._Myptr()[_Off]);\n    }\n</code></pre>\n<p>There appears to be a breakpoints triggered by something I did, but the code reflects the code in the tutorial and the tutorial code compiles and runs correctly.</p>\n<p>Does anyone know how to deal with this?  I'm coming up empty on searches.</p>\n"}, {"tags": ["c++", "directx-11", "terrain", "quadtree"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4842163"}, "edited": false, "score": 1, "creation_date": 1516269766, "post_id": 46081811, "comment_id": 83622434, "body": "The number of nodes at a level would be <code>4^n + 4^(n-1) + 4^(n-2)</code> and so forth until <code>n == 0</code>. So at level 2, you&#39;d have <code>4^2 + 4^1 + 4^0 = 21</code>. At level 3 you&#39;d have <code>21 + 4^3 = 85</code>. At level 4 you&#39;d have <code>85 + 4^4 = 341</code>, and so on."}], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 2242745, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0474fd0e62b23df1b5b339fa622895b?s=128&d=identicon&r=PG", "display_name": "kbz", "link": "https://stackoverflow.com/users/2242745/kbz"}, "is_accepted": true, "score": 2, "last_activity_date": 1504804284, "creation_date": 1504804284, "answer_id": 46101872, "question_id": 46081811, "link": "https://stackoverflow.com/questions/46081811/how-do-i-traverse-down-my-quad-tree-to-get-the-bottom-most-level-nodes-3d-c/46101872#46101872", "title": "How do I traverse down my quad tree to get the bottom-most level nodes (3D, C++, DX11)", "body": "<p>Although it's not what I'm looking for, I've found this is how you traverse to the bottom nodes and seems to work nicely for what I want to do</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11488413/how-to-iterating-a-quad-oct-tree?rq=1\">How to iterating a Quad/Oct tree</a></p>\n\n<pre><code>void drawQuadtreeNodes()\n{\n    drawNode(quadtree-&gt;getRoot());\n}\n\nvoid drawNode(QuadNode * node)\n{\n    if (node-&gt;hasNodes) {\n        drawNode(node-&gt;nodes[0]);\n        drawNode(node-&gt;nodes[1]);\n        drawNode(node-&gt;nodes[2]);\n        drawNode(node-&gt;nodes[3]);\n    }\n    else {\n        //bottom node\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 916, "user_id": 2242745, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0474fd0e62b23df1b5b339fa622895b?s=128&d=identicon&r=PG", "display_name": "kbz", "link": "https://stackoverflow.com/users/2242745/kbz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 1, "accepted_answer_id": 46101872, "answer_count": 1, "score": 2, "last_activity_date": 1504804284, "creation_date": 1504721547, "last_edit_date": 1504726583, "question_id": 46081811, "link": "https://stackoverflow.com/questions/46081811/how-do-i-traverse-down-my-quad-tree-to-get-the-bottom-most-level-nodes-3d-c", "title": "How do I traverse down my quad tree to get the bottom-most level nodes (3D, C++, DX11)", "body": "<p>I am creating a quad tree for my 3d terrain as I only need to worry about the Z and X axis and I'm having some trouble wrapping my head around how to actually traverse down once the tree is created.</p>\n\n<p>I have created the  tree and they are stored in my QuadTree object as QuadNode objects. Each QuadNode represents a 'Quad' of the quad tree. It takes the terrain and figures out whether it needs subdividing into new nodes until it finds the bottom-most level nodes and there is a sufficient amount of vertices per node.</p>\n\n<p>I have stored a vertex/index buffer in each node object, but they only get populated once they reach the bottom-most nodes. So the buffers I am trying to obtain (to get the buffers to draw) are right at the bottom of the tree.</p>\n\n<p>Now I can do this fairly simply with a basic tree that just has 4 nodes from the root, but as the tree gets bigger, I get confused. Here is an image to demonstrate</p>\n\n<p><a href=\"https://i.stack.imgur.com/oncp3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oncp3.png\" alt=\"enter image description here\"></a></p>\n\n<p>I store</p>\n\n<ul>\n<li>How many levels are in the quad tree (to perhaps help with searching, like traverse to level 6)\n\n<ul>\n<li>The total node count</li>\n</ul></li>\n</ul>\n\n<p>The buffers are stored in the bottom-most nodes. Does anyone have an example function or pseudocode as how I would make a function to traverse down the tree given a specific <strong>level</strong> and it would give me the nodes for that level? Or is there a better approach?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1504721633, "post_id": 46081808, "comment_id": 79125425, "body": "&quot;This is a common technique in C to stay ABI compatible&quot; - Not really. But it is a good technique to run into trouble when changing platform or implementation. And it has nothing to do with the ABI. Forget about that dirty hack and compile all code with the same A<b>P</b>I."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1504721716, "post_id": 46081808, "comment_id": 79125468, "body": "And this question is not related to C apparently, but C++."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1504721773, "post_id": 46081808, "comment_id": 79125500, "body": "<a href=\"https://stackoverflow.com/a/330867/669576\">stackoverflow.com/a/330867/669576</a>"}, {"owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504721809, "post_id": 46081808, "comment_id": 79125522, "body": "It is if the C struct is filled with function pointers. For example, GLib uses this in its GDBusInterfaceVTable struct."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1504721899, "post_id": 46081808, "comment_id": 79125567, "body": "@dv_ glib is part of the C implementation/environment. That has a much more detailed knowledge about the platform. That does not mean you should use the same techniques in application code."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1504721908, "post_id": 46081808, "comment_id": 79125576, "body": "A (good) C api would have a function to initialise this structure. Does your library offer one?"}, {"owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504721963, "post_id": 46081808, "comment_id": 79125605, "body": "I did not write that I want to use this approach in my own struct. I said: &quot;I am using a library with a struct that has 3 officially documented members, but its implementation actually contains 4.&quot;"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1504721997, "post_id": 46081808, "comment_id": 79125624, "body": "@RichardHodges: For embedded systems, this is basically fine, but one should use a designated initialiser, better a macro for static variables. In C++ IIRC, there can be default initialisers with the declaration."}, {"owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504722098, "post_id": 46081808, "comment_id": 79125684, "body": "For reference, here is an example of what I mean: <a href=\"https://github.com/GNOME/glib/blob/master/gio/gdbusconnection.h#L382\" rel=\"nofollow noreferrer\">github.com/GNOME/glib/blob/master/gio/gdbusconnection.h#L382</a> Also, yes, the library I am using is a C library."}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "edited": false, "score": 2, "creation_date": 1504722394, "post_id": 46081808, "comment_id": 79125836, "body": "The <code>foo = {1,2,3}</code> is the correct way to do it. The missing fields will be zero initialized, IIRC. The warning is just a warning after all, and the proper way to get rid of it is with <code>-Wno-missing-field-initializers</code>. Trying to initialize <code>padding</code> without using its name and any future added fields without ever issuing a warning is futile."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504722577, "post_id": 46081808, "comment_id": 79125931, "body": "<code>#pragma GCC diagnostic push</code> <code>#pragma GCC diagnostic ignored &quot;-Wmissing-field-initializers&quot;</code> <code>static const foo_struct foo { 1, 2, 3 };</code> <code>#pragma GCC diagnostic pop</code>"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1504723646, "post_id": 46081808, "comment_id": 79126484, "body": "It&#39;s interesting that the file you have linked only defines that structure, never references it. Are you sure you need to do this?"}, {"owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504724414, "post_id": 46081808, "comment_id": 79126918, "body": "Note that I am not using GDBus, I just used this as an example of what I mean. But to answer your question, yes, this particular struct is used in GDBus. See for example <a href=\"https://developer.gnome.org/gio/stable/GDBusConnection.html#g-dbus-connection-register-object\" rel=\"nofollow noreferrer\">developer.gnome.org/gio/stable/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504723437, "post_id": 46082143, "comment_id": 79126384, "body": "Too bad the <code>#pragma</code> solution isn&#39;t cross platform."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1504723581, "post_id": 46082143, "comment_id": 79126449, "body": "@MarkRansom I mean, if you are doing cross platform work, it should just be a  given that you have a file where you use the preprocessor to detect the compiler, and then define your own macros for ignoring warnings, force inlining, etc."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1504723607, "post_id": 46082143, "comment_id": 79126464, "body": "in this case (gdbus) , if the answer was just the last version of make_foo_struct, I&#39;d +1 it."}, {"owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504723670, "post_id": 46082143, "comment_id": 79126493, "body": "The {0} also gives me warnings. Still, I like your approaches, particularly the last one. +1 from me, thanks."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "edited": false, "score": 0, "creation_date": 1504723712, "post_id": 46082143, "comment_id": 79126510, "body": "@dv_ Actually, sorry get rid of the 0. Just <code>foo_struct f{}</code> should value initialize everything to 0."}], "tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": true, "score": 2, "last_activity_date": 1504723759, "last_edit_date": 1504723759, "creation_date": 1504722834, "answer_id": 46082143, "question_id": 46081808, "link": "https://stackoverflow.com/questions/46081808/filling-in-padding-bytes-of-a-c-struct-in-c-not-concerning-struct-packing/46082143#46082143", "title": "Filling in padding bytes of a C struct in C++? (NOT concerning struct packing!)", "body": "<p>You can just write a function like this:</p>\n\n<pre><code>template &lt;class ... T&gt;\nconstexpr foo_struct make_foo_struct(T ... t) {\n    return foo_struct{t..., 0};\n}\n\nstatic const auto foo = make_foo_struct(1, 2, 3);\n</code></pre>\n\n<p>You don't need to disable any warnings. As a bonus, if another field is added to the struct, the warning will come back (because you'll then have 5 members, and you're only initializing 4). This is also convenient because if you are creating lots of foos, and a new field is added that you don't care about (say it's a boolean, that you always want to be <code>true</code>), you can change <code>make_foo_struct</code> to initialize it the way you want, without modifying all of the call sites.</p>\n\n<p>You can of course write out the types and argument names in <code>make_foo_struct</code> instead of using <code>T...</code>; it makes things more explicit but also requiring more maintenance and less flexible.</p>\n\n<p>If the padding is removed, this should just fail to compile, and again you would only need to fix this one function. But if you don't like that, another option is to locally silence the warning with a compiler pragma, just in the function.</p>\n\n<pre><code>template &lt;class ... T&gt;\nconstexpr foo_struct make_foo_struct(T ... t) {\n    #pragma GCC diagnostic push\n    #pragma GCC diagnostic ignored \"-Wmissing-field-initializers\"\n    return foo_struct{t...};\n    #pragma GCC diagnostic pop\n}\n</code></pre>\n\n<p>And to hell with it, I'll give a third option. If you there are 3 named members, and their names are stable, and you want to simply initialize them and zero out the rest, you can do:</p>\n\n<pre><code>constexpr foo_struct make_foo_struct(int x, int y, int z) {\n    foo_struct f{};\n    f.x = x; f.y = y; f.z = z;\n    return f;\n}\n</code></pre>\n\n<p>The compiler should happily optimize this out.</p>\n"}, {"tags": [], "owner": {"reputation": 5362, "user_id": 2430669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656586be6c90ef0666a391f1114628b?s=128&d=identicon&r=PG", "display_name": "Micha&#235;l Roy", "link": "https://stackoverflow.com/users/2430669/micha%c3%abl-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1504723904, "creation_date": 1504723904, "answer_id": 46082404, "question_id": 46081808, "link": "https://stackoverflow.com/questions/46081808/filling-in-padding-bytes-of-a-c-struct-in-c-not-concerning-struct-packing/46082404#46082404", "title": "Filling in padding bytes of a C struct in C++? (NOT concerning struct packing!)", "body": "<p>C++ was made with compatibility with C in mind...</p>\n\n<p>Since the library structure <em>is</em> a C struct, pad the bytes exactly as you would do it in C.  While the padding bytes are undocumented, they are part of the struct definition, using a fourth initializer (a zero) will be fine, and is needed.  You actually have no choice but to fill the pad bytes to zero.</p>\n\n<p>Example:</p>\n\n<pre><code>// in the library .h\nstruct foo_struct\n{\n    int first, second, third;\n    unsigned char padding[256 - 3 * sizeof(int)];\n};\n\n// in your cpp\n\n// your could do this:\nstatic const foo_struct foo1 = { 1, ,2, 3, 0 }; // add 0, since it's needed.\n\n// or if you really want to create this boiler plate... \n\nstatic const foo_struct foo2;   // note that it is initialized to zero at startup\n                          // as all static variables are, unless a value is specified\n\nstatic bool InitFoo2();\nstatic bool fooInitialized = InitFoo2();  // it does waste some data space...\nstatic bool InitFoo2() \n{\n    p = const_cast&lt;foo_struct*&gt;(&amp;foo2);\n    memset(p, 0, sizeof(foo2));      // not needed in this particular case\n                                         // but doesn't hurt to do be explicit.\n    p-&gt;first = 6;\n    p-&gt;second = 7;\n    p-&gt;third = 42;\n    return true;\n}\n\n// Top keep your code compatible with future version, you have no choice, \n// but to clear the padding bytes of any foo_struct before using the library.\n//  Let's look at dynamic  allocation,  the required data space is the \n//  exact same size as for static memory allocation.\n//\nfoo_struct* bar()\n{\n    // sizeof(foo_struct) = 256 bytes, padding MUST be reset, \n    // so your app is compatible with future versions of the library.\n    //\n    foo_struct* p = (foo_struct*)malloc(sizeof(foo_struct));\n    if (p)\n    {\n        // By clearing the foo_struct this way, you do not ever need to \n        // the undocumented members.\n        memset(p, 0, sizeof(*p));\n        p-&gt;first = 6;\n        p-&gt;second = 7;\n        p-&gt;third = 42;\n     }\n     return p;\n}\n</code></pre>\n\n<p>I'd personally go for this solution:</p>\n\n<pre><code>static const foo_struct foo = { 6, 7, 42, 0 };\n</code></pre>\n"}], "owner": {"reputation": 1107, "user_id": 560774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca0e429a0e536995122dfe8303276cb1?s=128&d=identicon&r=PG", "display_name": "dv_", "link": "https://stackoverflow.com/users/560774/dv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 46082143, "answer_count": 2, "score": 2, "last_activity_date": 1504723904, "creation_date": 1504721534, "last_edit_date": 1504721972, "question_id": 46081808, "link": "https://stackoverflow.com/questions/46081808/filling-in-padding-bytes-of-a-c-struct-in-c-not-concerning-struct-packing", "title": "Filling in padding bytes of a C struct in C++? (NOT concerning struct packing!)", "body": "<p>I am using a library with a struct that has 3 officially documented members, but its implementation actually contains 4. The last one is a byte array that is used for padding. This is a common technique in C to stay ABI compatible: add a bunch of bytes at the end, and if later versions add members to the struct, this padding area is shrunk accordingly. In total, the size of the struct stays the same.</p>\n\n<p>But now I have to use this struct in C++, and I am using it for a static const value, so I need to initialize it using an initializer list. So, like this:</p>\n\n<pre><code>static const foo_struct foo = { 1, 2, 3 };\n</code></pre>\n\n<p>Since this does not initialize the fourth value, GCC prints out:</p>\n\n<pre><code>warning: missing initializer for member \u2018foo_struct::padding\u2019 [-Wmissing-field-initializers]\n</code></pre>\n\n<p>A constructor syntax like foo(1,2,3) would not work, since this is a C struct. And setting it to {0} is no option either, since I must initialize the first three members.</p>\n\n<p>Is there a C++11/C++14 conform way of dealing with this warning?</p>\n\n<p>EDIT: Simply using { 1, 2, 3, 0 } might work, but is unstable, since the padding area is undocumented. Also, if future versions add a member, then it would sum up to 5 members, and the warning would return.</p>\n"}, {"tags": ["c++", "boost", "asio"], "comments": [{"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 1, "creation_date": 1504722066, "post_id": 46081761, "comment_id": 79125664, "body": "wouldn&#39;t it be the stream you&#39;re buffering?"}, {"owner": {"reputation": 1105, "user_id": 3112985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100002595160203/picture?type=large", "display_name": "Peter Bingham", "link": "https://stackoverflow.com/users/3112985/peter-bingham"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1504722638, "post_id": 46081761, "comment_id": 79125955, "body": "Yes, doh. It&#39;s not what I&#39;mm looking for. Is there an asnyc equivalent to std::stringstream in boost::asio?"}], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504822847, "post_id": 46105838, "comment_id": 79174858, "body": "Added a simplistic HTTP client using a prefab <code>tcp</code> stream"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1504822829, "last_edit_date": 1504822829, "creation_date": 1504822400, "answer_id": 46105838, "question_id": 46081761, "link": "https://stackoverflow.com/questions/46081761/what-is-the-arg-a-in-the-buffered-streambuffered-stream-constructor/46105838#46105838", "title": "What is the Arg &amp; a in the buffered_stream::buffered_stream constructor?", "body": "<p>Sure.</p>\n\n<pre><code>boost::asio::streambuf sb;\n\n// now write:\n{\n    std::ostream os(&amp;sb);\n    os &lt;&lt; \"Hello 1 2 3\" &lt;&lt; std::flush;\n}\n\n// or read:\n{   std::istream is(&amp;sb);\n    std::string s;\n    int a, b, c;\n    is &gt;&gt; s &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n}\n</code></pre>\n\n<p>Note that you can also use preconfigured streams that connect to sockets:</p>\n\n<pre><code>#include &lt;boost/asio.hpp&gt;\n#include &lt;iostream&gt;\n\nusing boost::asio::ip::tcp;\n\nint main() {\n    tcp::iostream s(\"localhost\", \"http\");\n\n    s &lt;&lt; \"GET / HTTP/1.0\\r\\n\\r\\n\" &lt;&lt; std::flush;\n    std::cout &lt;&lt; s.rdbuf(); // print response\n}\n</code></pre>\n"}], "owner": {"reputation": 1105, "user_id": 3112985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100002595160203/picture?type=large", "display_name": "Peter Bingham", "link": "https://stackoverflow.com/users/3112985/peter-bingham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 46105838, "answer_count": 1, "score": 0, "last_activity_date": 1504822829, "creation_date": 1504721386, "question_id": 46081761, "link": "https://stackoverflow.com/questions/46081761/what-is-the-arg-a-in-the-buffered-streambuffered-stream-constructor", "title": "What is the Arg &amp; a in the buffered_stream::buffered_stream constructor?", "body": "<p><a href=\"http://www.boost.org/doc/libs/1_41_0/doc/html/boost_asio/reference/buffered_stream/buffered_stream.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_41_0/doc/html/boost_asio/reference/buffered_stream/buffered_stream.html</a></p>\n\n<p>I am considering using it as an intermediate buffer between a tcp stream and a can bus. I pass the buffer to the API concerned with writing to the can bus, which gets data using async_reads. The tcp side writes to the buffer using async_writes.</p>\n"}, {"tags": ["c++", "sockets", "cpprest-sdk"], "comments": [{"owner": {"reputation": 1001, "user_id": 4044050, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Fawzb.jpg?s=128&g=1", "display_name": "Debashish", "link": "https://stackoverflow.com/users/4044050/debashish"}, "edited": false, "score": 0, "creation_date": 1552930834, "post_id": 46081750, "comment_id": 97188902, "body": "Hi, have you found any solution to this problem?"}], "owner": {"reputation": 1455, "user_id": 1633272, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dd9f3e112c0bc4646702c18041d2f94d?s=128&d=identicon&r=PG", "display_name": "user1633272", "link": "https://stackoverflow.com/users/1633272/user1633272"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1504721347, "creation_date": 1504721347, "question_id": 46081750, "link": "https://stackoverflow.com/questions/46081750/how-to-cancel-http-request-if-client-aborts-in-cpprestsdk", "title": "How to cancel http_request if client aborts in cpprestsdk?", "body": "<p>I'm using http_listener to handle http requests from clients.</p>\n\n<p>The listener can only process limited requests in the same time, so some of the requests doesn't get a chance to be processed before its client peer aborts.\nIn that case, I do not want the listener process the requests whose client has already been aborted.</p>\n\n<p>Is there a way I can determinate this against http_request?</p>\n"}, {"tags": ["c++", "winapi", "cryptoapi", "cng", "wincrypt"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1504779989, "post_id": 46081741, "comment_id": 79149485, "body": "need use not <code>BCRYPT_PUBLIC_KEY_BLOB</code> but <code>BCRYPT_DH_PUBLIC_BLOB</code>"}, {"owner": {"reputation": 874, "user_id": 1294545, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/eaa88aad8d5a26f170ee0ae685aae02a?s=128&d=identicon&r=PG", "display_name": "Prakash N", "link": "https://stackoverflow.com/users/1294545/prakash-n"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1504796254, "post_id": 46081741, "comment_id": 79161302, "body": "I get the same error with BCRYPT_DH_PUBLIC_BLOB. Updated the POST with latest changes."}, {"owner": {"reputation": 2967, "user_id": 8616205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3o2ct.png?s=128&g=1", "display_name": "frslm", "link": "https://stackoverflow.com/users/8616205/frslm"}, "edited": false, "score": 0, "creation_date": 1508183738, "post_id": 46081741, "comment_id": 80501979, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46185428/bcryptimportkeypair-returns-status-invalid-parameter-when-i-try-to-import-public\">BCryptImportKeyPair returns STATUS_INVALID_PARAMETER when i try to import public key</a>"}], "owner": {"reputation": 874, "user_id": 1294545, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/eaa88aad8d5a26f170ee0ae685aae02a?s=128&d=identicon&r=PG", "display_name": "Prakash N", "link": "https://stackoverflow.com/users/1294545/prakash-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504796469, "creation_date": 1504721311, "last_edit_date": 1504796469, "question_id": 46081741, "link": "https://stackoverflow.com/questions/46081741/status-invalid-parameter-error-import-diffie-hellman-public-key-using-bcryptimpo", "title": "STATUS_INVALID_PARAMETER error import diffie hellman public key using BCryptImportKeyPair", "body": "<p>I am trying to add a public key into diffie Hellman implementation of Bcrypt. \n<a href=\"https://github.com/Microsoft/Windows-classic-samples/blob/master/Samples/Security/DhOakleyGroup1/cpp/DhOakleyGroup1.cpp\" rel=\"nofollow noreferrer\">example</a> suggested to create and export a public key. In my case I already got the public key from the client. I am trying to use that public key to generate shared session key. I get STATUS_INVALID_PARAMETER when i try to use BCryptImportKeyPair. \nI created PBCRYPT_DH_KEY_BLOB and added the values manually. \nIs there any other way to do this? an example of importing public key into BCrypt from string would be appreciated. </p>\n\n<p>Thanks in Advance. Please check the code below.  </p>\n\n<pre><code>KeyLength = 1024;//bits\nconst int sz = 1024;\nchar * shared_public_key = \"48DE15D8E46B857B387E315D518B7D9EDDA1FCA6661CFC9C066B3A352E8644A30BFBB7F84C93818F67B7037235D11A5B0F31E15BCB344C2A7C13E339ED98939CF3F092E64C0DEA28A150404432E3B7077DE3E4D40E421EA88FFAF4D7AD53851912389674B24C80E5FD05D1C60344535159E7A4CAF9F9DCAF712C2A41EF524632\";\nchar * prime      = \"CBBD1F895B751A803674B4CF6178DAFF87E3AADD017B96CA0D536215091AC55C0D777ADB6206581E7681C5059BEFF7990E4B3DD074266B608800CF7110BE99B861D189A82A26D569CAA2F314E8E79838AEE8DA96380BDFA55B34CA43866B24C0A822947E669C9AA037A8FA765F637663AB4103A9251C70000A689796CE42A2A3\";\nBYTE OakleyGroup1P[sz /8];\nint fld_sz = sz / 8;\nstring s_prime(prime, fld_sz*2);\ntransform(s_prime.begin(), s_prime.end(), s_prime.begin(), ::tolower);\nstring res = \"\";\nfor (int i = 0; i &lt; s_prime.size(); i += 2) {\n  res += s_prime.substr(i, 2);\n  res += \" \";\n}\nstd::istringstream hex_chars_stream(res);\n\nunsigned int c;\nint i = 0;\nwhile (hex_chars_stream &gt;&gt; std::hex &gt;&gt; c)\n{\n  OakleyGroup1P[i++] = c;\n}\ncout &lt;&lt; \"size of OakleyGroup1P :\" &lt;&lt; i &lt;&lt; endl;\n/*for (unsigned char x : OakleyGroup1P) {\n  cout &lt;&lt; ((x &gt;&gt; 4) &amp; 0x0F) &lt;&lt; \" \" &lt;&lt; (x &amp; 0x0F) &lt;&lt; endl;\n}*/\n\nPBYTE PubBlobA2 = new BYTE[sz/8];\nstring s_shared(shared_public_key, fld_sz * 2);\ntransform(s_shared.begin(), s_shared.end(), s_shared.begin(), ::tolower);\nstring temp = \"\";\nfor (int i = 0; i &lt; s_shared.size(); i += 2) {\n  temp += s_shared.substr(i, 2);\n  temp += \" \";\n}\nstd::istringstream hex_chars_stream2(temp);\n\ni = 0;\nwhile (hex_chars_stream2 &gt;&gt; std::hex &gt;&gt; c)\n{\n  PubBlobA2[i++] = c;\n}\ncout &lt;&lt; \"size of PubBlobA2 :\" &lt;&lt; i &lt;&lt; endl;\nfor (int j = 0; j &lt; i; j++) {\n  cout &lt;&lt; ((*(PubBlobA2 + j) &gt;&gt; 4) &amp; 0x0F) &lt;&lt; \" \" &lt;&lt; (*(PubBlobA2 + j) &amp; 0x0F) &lt;&lt; endl;\n}\n\n//\n// Construct the DH parameter blob. this is the only supported\n// method for DH in CNG.\n//\n// Calculate size of param blob and allocate memory\n\nDhParamBlobLength = sizeof(BCRYPT_DH_PARAMETER_HEADER) + \n                sizeof(OakleyGroup1G) + \n                sizeof(OakleyGroup1P);\n\nDhParamBlob = (PBYTE)HeapAlloc (\n                                    GetProcessHeap (), \n                                    0, \n                                    DhParamBlobLength);\nif( NULL == DhParamBlob )\n{\n    Status = STATUS_NO_MEMORY;\n    ReportError(Status);\n    goto cleanup;\n}\n\nDhParamHdrPointer  = (BCRYPT_DH_PARAMETER_HEADER *)DhParamBlob;\n\n//\n// Set header properties on param blob\n//\n\nDhParamHdrPointer-&gt;cbLength      = DhParamBlobLength;\nDhParamHdrPointer-&gt;cbKeyLength   = KeyLength/8;//bytes\nDhParamHdrPointer-&gt;dwMagic       = BCRYPT_DH_PARAMETERS_MAGIC;\n\n//\n// Set prime\n//\n\nmemcpy(DhParamBlob + sizeof(BCRYPT_DH_PARAMETER_HEADER),\n        OakleyGroup1P,\n        sizeof(OakleyGroup1P));\n\n//\n// Set generator\n//\n\nmemcpy(DhParamBlob + sizeof(BCRYPT_DH_PARAMETER_HEADER) + sizeof(OakleyGroup1P),\n       OakleyGroup1G,\n       sizeof(OakleyGroup1G));\n\n\n//\n// Open alg provider handle\n//\n\nStatus = BCryptOpenAlgorithmProvider(\n                                    &amp;ExchAlgHandleB, \n                                    BCRYPT_DH_ALGORITHM, \n                                    NULL, \n                                    0);\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\n\n\n//\n// B generates a private key\n// \n\nStatus = BCryptGenerateKeyPair(\n                                    ExchAlgHandleB,             // Algorithm handle\n                                    &amp;PrivKeyHandleB,            // Key handle - will be created\n                                    KeyLength,                  // Length of the key - in bits\n                                    0);                         // Flags\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\nStatus = BCryptSetProperty(\n                                    PrivKeyHandleB,\n                                    BCRYPT_DH_PARAMETERS,\n                                    DhParamBlob,\n                                    DhParamBlobLength,\n                                    0);\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\nStatus = BCryptFinalizeKeyPair(\n                                    PrivKeyHandleB,             // Key handle\n                                    0);                         // Flags\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\n//\n// B exports DH public key\n//\n\nStatus = BCryptExportKey(\n                                    PrivKeyHandleB,             // Handle of the key to export\n                                    NULL,                       // Handle of the key used to wrap the exported key\n                                    BCRYPT_DH_PUBLIC_BLOB,      // Blob type (null terminated unicode string)\n                                    NULL,                       // Buffer that recieves the key blob\n                                    0,                          // Buffer length (in bytes)\n                                    &amp;PubBlobLengthB,            // Number of bytes copied to the buffer\n                                    0);                         // Flags\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\nPubBlobB = (PBYTE)HeapAlloc (\n                                    GetProcessHeap (), \n                                    0, \n                                    PubBlobLengthB);\nif( NULL == PubBlobB )\n{\n    Status = STATUS_NO_MEMORY;\n    ReportError(Status);\n    goto cleanup;\n}\n\n\nStatus = BCryptExportKey(\n                                    PrivKeyHandleB,             // Handle of the key to export\n                                    NULL,                       // Handle of the key used to wrap the exported key\n                                    BCRYPT_DH_PUBLIC_BLOB,      // Blob type (null terminated unicode string)\n                                    PubBlobB,                   // Buffer that recieves the key blob\n                                    PubBlobLengthB,             // Buffer length (in bytes)\n                                    &amp;PubBlobLengthB,            // Number of bytes copied to the buffer\n                                    0);                         // Flags\nif( !NT_SUCCESS(Status) )\n{\n    ReportError(Status);\n    goto cleanup;\n}\n\n\n//\n// Build KDF parameter list\n//\n\n//specify hash algorithm, SHA1 if null\n\n//specify secret to append\nBufferArray[0].BufferType = KDF_TLS_PRF_SEED;\nBufferArray[0].cbBuffer = sizeof(rgbrgbTlsSeed);\nBufferArray[0].pvBuffer = (PVOID)rgbrgbTlsSeed;\n\n//specify secret to prepend\nBufferArray[1].BufferType = KDF_TLS_PRF_LABEL;\nBufferArray[1].cbBuffer = (DWORD)((wcslen(Label) + 1) * sizeof(WCHAR));\nBufferArray[1].pvBuffer = (PVOID)Label;\n\nParameterList.cBuffers  = 2;\nParameterList.pBuffers  = BufferArray;\nParameterList.ulVersion = BCRYPTBUFFER_VERSION;\n\n//\n// B imports A's public key\n//\n// dh public key blob structure\nPBCRYPT_DH_KEY_BLOB p_dh_pub_key_blob = (PBCRYPT_DH_KEY_BLOB)HeapAlloc(\n  GetProcessHeap(),\n  0,\n  sizeof(BCRYPT_DH_KEY_BLOB));\np_dh_pub_key_blob-&gt;dwMagic = BCRYPT_DH_PUBLIC_MAGIC;\np_dh_pub_key_blob-&gt;cbKey = sz/8;\nDWORD df_pub_key_data_length = sizeof(BCRYPT_DH_KEY_BLOB) + sz / 8;\n\nPBYTE p_df_pub_key_data = (PBYTE)HeapAlloc(\n  GetProcessHeap(),\n  0,\n  df_pub_key_data_length);\nmemcpy(p_df_pub_key_data,\n  p_dh_pub_key_blob,\n  sizeof(BCRYPT_DH_KEY_BLOB));\nmemcpy(p_df_pub_key_data + sizeof(BCRYPT_DH_KEY_BLOB),\n  PubBlobA2,\n  sz/8);\nStatus = BCryptImportKeyPair(\n  ExchAlgHandleB,             // Alg handle\n  NULL,                       // Parameter not used\n  BCRYPT_DH_PUBLIC_BLOB,      // Blob type (Null terminated unicode string)\n  &amp;PubKeyHandleB,             // Key handle that will be recieved\n  p_df_pub_key_data,            // Buffer than points to the key blob\n  df_pub_key_data_length,     // Buffer length in bytes\n  0);    \n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1504721622, "post_id": 46081740, "comment_id": 79125420, "body": "Library == compiled source files. Source files == .. well, source code."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1504722040, "post_id": 46081740, "comment_id": 79125648, "body": "@JesperJuhl okay, so libraries consist of one or multiple object files? Isn&#39;t every source code when it is compiled then a library because it is an object file?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504722250, "post_id": 46081740, "comment_id": 79125770, "body": "@overso No, a single object file isn&#39;t considered a <i>library</i>. It&#39;s just like the term suggests. Did you ever enter a library that stored a single book?"}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504722351, "post_id": 46081740, "comment_id": 79125818, "body": "@user0042 Yea.. I have not.. But since a library can be defined as the implementation for <i>one</i> or more interfaces, doesn&#39;t it mean <i>one</i> or more object file(compiled source code)"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 1, "creation_date": 1504722521, "post_id": 46081740, "comment_id": 79125896, "body": "@over <i>One or more</i>, yes. There may be even poor libraries that store a single book (theoretically)."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504722881, "post_id": 46081740, "comment_id": 79126065, "body": "@user0042 But that means that an object file can essentially be the same as a library(technically)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 1, "creation_date": 1504722966, "post_id": 46081740, "comment_id": 79126121, "body": "A library can consist f a single object file."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504722976, "post_id": 46081740, "comment_id": 79126127, "body": "@user0042 I mean, if this is true, how can we then differentiate between them?"}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "edited": false, "score": 0, "creation_date": 1504723015, "post_id": 46081740, "comment_id": 79126141, "body": "@NeilButterworth which means that a library and an object can technically be the exact same thing?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504723112, "post_id": 46081740, "comment_id": 79126199, "body": "@over What differentiation do you need? I don&#39;t get your concern?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504723902, "post_id": 46081740, "comment_id": 79126619, "body": "@over No, a library has some extra features, such as an index to make it easily searchable. A library (in the sense of a .lib or .a file) is a concatenation of one or more object files, plus some extra stuff."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504725149, "post_id": 46081740, "comment_id": 79127289, "body": "@user0042 sometimes I just wonder why things aren&#39;t called the same if the are the same.. But appearently headers can do something more.. but is based on object files.."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "edited": false, "score": 0, "creation_date": 1504725179, "post_id": 46081740, "comment_id": 79127308, "body": "@NeilButterworth ahh okay, but is it possible to include object files directly in your code as you can with libraries?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504725335, "post_id": 46081740, "comment_id": 79127361, "body": "You cannot  include libraries directly in your code - you are probably thinking of header files. The only thing that understands libraries or object files is the linker."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "edited": false, "score": 0, "creation_date": 1504726655, "post_id": 46081740, "comment_id": 79128051, "body": "@NeilButterworth ahh okay, thanks buddy. But if you cannot include libs and object files directly into the code but only headers (and source files), will headers for libraries then work just as when you include a header that is associated with its corresponding source file(its implementation).. Because if it is so.. then it only leads to more similarities.."}, {"owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "edited": false, "score": 0, "creation_date": 1504726840, "post_id": 46081740, "comment_id": 79128147, "body": "@NeilButterworth like does #include&lt;array&gt; provide access to the functionality in a given library just as #include &quot;someclass.h&quot; would provide access/knowledge to the functionality of a given associated source file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1504727258, "post_id": 46081740, "comment_id": 79128371, "body": "It tells your code what the interface to the library is, but it isn&#39;t generally the library. Having said that, there are header-only libraries where all the code is in the header file, and there is no .lib or .o file."}], "answers": [{"tags": [], "owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "is_accepted": false, "score": 1, "last_activity_date": 1504722590, "last_edit_date": 1504722590, "creation_date": 1504721535, "answer_id": 46081809, "question_id": 46081740, "link": "https://stackoverflow.com/questions/46081740/confusion-about-libraries-and-source-files/46081809#46081809", "title": "Confusion about libraries and source files?", "body": "<blockquote>\n  <p>Then, what is the difference?</p>\n</blockquote>\n\n<p>A source file will be compiled to a single object file that implements the interface declared in a corresponding header.</p>\n\n<p>A library usually consists of the object files build from more than a single source file.<br>\nThat's the only difference more or less.</p>\n\n<hr>\n\n<p>I'll try to put a better methaphor than the accepted answer from your <a href=\"https://stackoverflow.com/questions/924485/whats-the-difference-between-a-header-file-and-a-library\">link</a>:</p>\n\n<ul>\n<li>A header file is like a books table of contents</li>\n<li>A source file fleshes out all the chapters of that book</li>\n<li>A library stores many books</li>\n</ul>\n"}], "owner": {"reputation": 79, "user_id": 8568284, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/248547882ff5183f0f685c884fd0221a?s=128&d=identicon&r=PG&f=1", "display_name": "over so", "link": "https://stackoverflow.com/users/8568284/over-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504722590, "creation_date": 1504721310, "last_edit_date": 1504721560, "question_id": 46081740, "link": "https://stackoverflow.com/questions/46081740/confusion-about-libraries-and-source-files", "title": "Confusion about libraries and source files?", "body": "<p>I have read <a href=\"https://stackoverflow.com/questions/924485/whats-the-difference-between-a-header-file-and-a-library\">this</a> where it is said that the header is for the interface and the library is implementation of one particular or more interfaces.. But isn't the source files also for the implementation of the interface? To me, the description of libraries(the implementation of the interfaces) is the exact same as for source files.. Then, what is the difference? :/</p>\n"}, {"tags": ["c++", "qt", "qbs"], "answers": [{"tags": [], "owner": {"reputation": 701, "user_id": 8172668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4b78cf943703d618fbfa91461c7688?s=128&d=identicon&r=PG", "display_name": "Christian Kandeler", "link": "https://stackoverflow.com/users/8172668/christian-kandeler"}, "is_accepted": true, "score": 1, "last_activity_date": 1504725535, "creation_date": 1504725535, "answer_id": 46082814, "question_id": 46081638, "link": "https://stackoverflow.com/questions/46081638/qbs-non-existance-base-profile-error/46082814#46082814", "title": "Qbs, non-existance base profile error", "body": "<p>As you can see in the qbs config output you pasted, you don't have a profile called \"msvc\" (the example in the manual assumes you do). Please use one of the existing ones, for instance MSVC2017-x64.</p>\n"}], "owner": {"reputation": 10770, "user_id": 852063, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/80fd1d68d0d2ae503cf5870e29fecae5?s=128&d=identicon&r=PG&f=1", "display_name": "Amani", "link": "https://stackoverflow.com/users/852063/amani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46082814, "answer_count": 1, "score": 0, "last_activity_date": 1504734839, "creation_date": 1504720880, "last_edit_date": 1504734839, "question_id": 46081638, "link": "https://stackoverflow.com/questions/46081638/qbs-non-existance-base-profile-error", "title": "Qbs, non-existance base profile error", "body": "<p>I'm learning Qbs by compiling a Qt based open source library. I set my Qbs project as below.</p>\n\n<pre><code>import qbs 1.0\n\nProject {\n    Product {\n        name: \"communi\"\n        type: \"dynamiclibrary\"\n\n        files: [\n            \"include/IrcCore/irc.h\",\n            \"include/IrcCore/irccommand.h\",\n             ... ,\n            \"src/util/irccommandqueue.cpp\",\n            \"src/util/irccompleter.cpp\",\n            \"src/util/irclagtimer.cpp\",\n            \"src/util/ircpalette.cpp\",\n            \"src/util/irctextformat.cpp\",\n            \"src/util/irctoken.cpp\",\n            \"src/util/ircutil.cpp\"\n        ]\n\n        Depends { name: \"cpp\" }\n        Depends { name: \"Qt.core\" }\n        Depends { name: \"Qt.widgets\" }\n    }\n}\n</code></pre>\n\n<p>I invoke Qbs as follows;</p>\n\n<pre><code>qbs build profile:qt\n</code></pre>\n\n<p>and got the error message below</p>\n\n<pre><code>ERROR: Profile \"qt\" has a non-existent base profile \"msvc\".\n</code></pre>\n\n<p>What am I doing wrong? I did the configuration as explained in the manual.\nI'm on Windows 10 x64, using Qbs 1.9 and Qt 5.9.1.</p>\n\n<p>The list of my profiles is as below;</p>\n\n<pre><code>&gt;&gt; qbs config --list profiles\nprofiles.MSVC2017-x64.cpp.compilerVersion: \"19.11.25507\"\nprofiles.MSVC2017-x64.cpp.toolchainInstallPath: \"C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/HostX64/x64\"\nprofiles.MSVC2017-x64.qbs.architecture: \"x86_64\"\nprofiles.MSVC2017-x64.qbs.targetOS: \"windows\"\nprofiles.MSVC2017-x64.qbs.toolchain: \"msvc\"\nprofiles.MSVC2017-x64_x86.cpp.compilerVersion: \"19.11.25507\"\nprofiles.MSVC2017-x64_x86.cpp.toolchainInstallPath: \"C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/HostX64/x86\"\nprofiles.MSVC2017-x64_x86.qbs.architecture: \"x86\"\nprofiles.MSVC2017-x64_x86.qbs.targetOS: \"windows\"\nprofiles.MSVC2017-x64_x86.qbs.toolchain: \"msvc\"\nprofiles.MSVC2017-x86.cpp.compilerVersion: \"19.11.25507\"\nprofiles.MSVC2017-x86.cpp.toolchainInstallPath: \"C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/HostX86/x86\"\nprofiles.MSVC2017-x86.qbs.architecture: \"x86\"\nprofiles.MSVC2017-x86.qbs.targetOS: \"windows\"\nprofiles.MSVC2017-x86.qbs.toolchain: \"msvc\"\nprofiles.MSVC2017-x86_x64.cpp.compilerVersion: \"19.11.25507\"\nprofiles.MSVC2017-x86_x64.cpp.toolchainInstallPath: \"C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.11.25503/bin/HostX86/x64\"\nprofiles.MSVC2017-x86_x64.qbs.architecture: \"x86_64\"\nprofiles.MSVC2017-x86_x64.qbs.targetOS: \"windows\"\nprofiles.MSVC2017-x86_x64.qbs.toolchain: \"msvc\"\nprofiles.qt.baseProfile: \"msvc\"\nprofiles.qt.preferences.qbsSearchPaths: \"C:/Users/tembo/AppData/Roaming/QtProject/qbs/1.9.0/profiles/qt\"\nprofiles.x86_64-w64-mingw32.cpp.toolchainInstallPath: \"C:/MinGW/bin\"\nprofiles.x86_64-w64-mingw32.qbs.targetOS: \"windows\"\nprofiles.x86_64-w64-mingw32.qbs.toolchain: [\"mingw\", \"gcc\"]\n</code></pre>\n"}, {"tags": ["c++", "static"], "comments": [{"owner": {"reputation": 1791, "user_id": 794606, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9a1d5c337bdddae373bbdcb92fdb7077?s=128&d=identicon&r=PG", "display_name": "Jacek Cz", "link": "https://stackoverflow.com/users/794606/jacek-cz"}, "edited": false, "score": 1, "creation_date": 1504719988, "post_id": 46081378, "comment_id": 79124520, "body": "Use dot and commas, question is hard to understand"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1504720191, "post_id": 46081378, "comment_id": 79124628, "body": "It is to ease linker and the ODR. where would be the definition of <code>test::y</code> ?"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504720909, "post_id": 46081378, "comment_id": 79125054, "body": "You can&#39;t declare non-const in definition, only define it. And then you must declare it outside class in cpp file"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504721094, "post_id": 46081378, "comment_id": 79125150, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3025997/defining-static-const-integer-members-in-class-definition\">Defining static const integer members in class definition</a>"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1504721161, "post_id": 46081378, "comment_id": 79125187, "body": "&quot;The static keyword is only used with the declaration of a static member, inside the class definition, but not with the definition of that static member&quot;: <a href=\"http://en.cppreference.com/w/cpp/language/static\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/static</a>"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 1, "creation_date": 1504721206, "post_id": 46081378, "comment_id": 79125211, "body": "Because they are declarations, not definitions. <code>static const int</code> and other integral types are special cases"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 1, "creation_date": 1504721243, "post_id": 46081378, "comment_id": 79125225, "body": "See also <a href=\"https://stackoverflow.com/a/185848/868044\">stackoverflow.com/a/185848/868044</a>"}, {"owner": {"reputation": 19618, "user_id": 860585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YagL1.jpg?s=128&g=1", "display_name": "Rotem", "link": "https://stackoverflow.com/users/860585/rotem"}, "edited": false, "score": 2, "creation_date": 1504721673, "post_id": 46081378, "comment_id": 79125444, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/185844/initializing-private-static-members\">Initializing private static members</a>"}], "owner": {"reputation": 115, "user_id": 8260823, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EJz3eL8cUMc/AAAAAAAAAAI/AAAAAAAAAG4/yVNhhQqviNU/photo.jpg?sz=128", "display_name": "Yogendra Kumar", "link": "https://stackoverflow.com/users/8260823/yogendra-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1504720715, "creation_date": 1504719835, "last_edit_date": 1504720715, "question_id": 46081378, "link": "https://stackoverflow.com/questions/46081378/initialization-of-static-member-variable", "title": "Initialization of static member variable", "body": "<p>Why does class support the initialization of the static variable inside the<br>\nclass with const keyword and without const keyword why does not allow to<br>\ninitialize the static variable inside the class  </p>\n\n<pre><code>class test  \n{  \npublic:  \n int x;  \n\n static int y = 2; // It will throw an error  \n static const int z = 3; // It will not throw an error, why?  \n};  \n\nint main()  \n{  \n   return 0;  \n}  \n</code></pre>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1504719621, "post_id": 46081297, "comment_id": 79124286, "body": "It&#39;d be better if you explained what the goal of this code is."}, {"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 1, "creation_date": 1504719626, "post_id": 46081297, "comment_id": 79124288, "body": "Well it depends. What is &#39;N&#39;? In the double for loop it is the size of the map. In your while loop it is the size of all elements inside the vector. That beeing said, both approaches actually have the same complexity."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1504719653, "post_id": 46081297, "comment_id": 79124307, "body": "The title of this question is very mysterious"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1504719749, "post_id": 46081297, "comment_id": 79124372, "body": "I don&#39;t understand what the question is asking, but I&#39;ll point out that naming a variable &quot;notDone&quot; and then setting it to false when you&#39;re done is very confusing.  Name your variable <code>done</code>, set it to <code>false</code>, and then say <code>while(!done)</code>.  That&#39;s much easier to reason about. But even easier to reason about would be eliminating the variable altogether and replacing it with <code>while(true)</code> and <code>break;</code>."}, {"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "reply_to_user": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1504719824, "post_id": 46081297, "comment_id": 79124412, "body": "@harold I had a hard time thinking about how to word the question. I have a map of vectors and I want to loop through every element in the map and every element of the vector, but I&#39;m trying to do it in O(N) time."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1504719868, "post_id": 46081297, "comment_id": 79124436, "body": "OK, where &quot;N&quot; means <i>what</i> exactly?  What have you got N of?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1504719930, "post_id": 46081297, "comment_id": 79124480, "body": "A nested <code>for</code> loop does not necessarily cost O(N^2) to execute.  If it does, then restructuring it as a single <code>while</code> loop does not necessarily reduce the asymptotic complexity."}, {"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1504719943, "post_id": 46081297, "comment_id": 79124494, "body": "@EricLippert Integers"}, {"owner": {"reputation": 86, "user_id": 6517623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIxwo.png?s=128&g=1", "display_name": "Hedron", "link": "https://stackoverflow.com/users/6517623/hedron"}, "edited": false, "score": 0, "creation_date": 1504719969, "post_id": 46081297, "comment_id": 79124511, "body": "It won&#39;t execute in O(N) time, but it will grow with O(N) complexity so for every 1 element added there are 1 more iterations added to loop."}, {"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 0, "creation_date": 1504719971, "post_id": 46081297, "comment_id": 79124512, "body": "Integers in as in Map Keys or Integers as in sum of all vectors?"}, {"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "reply_to_user": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 0, "creation_date": 1504720010, "post_id": 46081297, "comment_id": 79124540, "body": "@CShark basically a 2D array."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1504720023, "post_id": 46081297, "comment_id": 79124547, "body": "There isn&#39;t just an <code>N</code> here. there&#39;s also an <code>M</code>: The number of <code>vector&lt;int&gt;</code>s held within the map."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 6, "creation_date": 1504720079, "post_id": 46081297, "comment_id": 79124569, "body": "You&#39;re not understanding the question we&#39;re asking you here. When you say &quot;this executes in O(N) time&quot; that N refers to counting <i>something</i>. Is N the number of maps? The number of vectors? The number of elements in the average vector? The total number of elements in all the vectors?  There&#39;s no such thing as an O(N) algorithm where N doesn&#39;t refer to anything; N is a count of <i>something relevant to your program</i>, so what is it?"}, {"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1504720224, "post_id": 46081297, "comment_id": 79124643, "body": "@EricLippert N would be the integers that would be map &quot;keys&quot;, and then iterate through every element in the vector that would be the &quot;value&quot; of the map."}, {"owner": {"reputation": 1178, "user_id": 1020882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc73fb7544cbec21d74cb514075af12d?s=128&d=identicon&r=PG", "display_name": "CShark", "link": "https://stackoverflow.com/users/1020882/cshark"}, "edited": false, "score": 1, "creation_date": 1504720301, "post_id": 46081297, "comment_id": 79124683, "body": "Then your for loop did complete in O(N) - it iterated over every map key only once. So does your new code."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1504720315, "post_id": 46081297, "comment_id": 79124688, "body": "If N is the size of the map, then your algorithm is O(N) whether you use while loops or a nested for loop.  <b>This assumes that the size of the map will grow large, and that every vector will be small</b>. Is that assumption correct? Remember <b>the purpose of O notation is to describe program behaviour as the size of the data grows large</b>.  Are your maps going to get very large and your vectors stay very small?"}, {"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1504720430, "post_id": 46081297, "comment_id": 79124775, "body": "@EricLippert That is correct. I was just told that nested for loops ran in O(n^2) always. That is why I was trying to avoid it."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1504720670, "post_id": 46081297, "comment_id": 79124912, "body": "Then you were either told wrong, or misunderstood. A nested loop runs in <code>O(N * M)</code> where N is the number of outer loops and M is the average number of inner loops. <b>Do you have reason to believe that the size of the vectors increases proportionally as the size of the map increases?</b> If you known that then <code>O(N*M)</code> is equal to <code>O(N^2)</code>."}, {"owner": {"reputation": 19618, "user_id": 860585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YagL1.jpg?s=128&g=1", "display_name": "Rotem", "link": "https://stackoverflow.com/users/860585/rotem"}, "edited": false, "score": 0, "creation_date": 1504721228, "post_id": 46081297, "comment_id": 79125221, "body": "@yorTsenoJ What you were probably told is that nested loops <b>over the same container</b> run in <code>O(N^2)</code>, where <code>N</code> is the number of elements in that single container. There is no way to express the complexity of iterating two <b>unrelated</b> containers using just the single symbol <code>N</code>."}, {"owner": {"reputation": 918, "user_id": 173099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/277794ac7ca3a1a094f908797437e03b?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/173099/tim"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1504721511, "post_id": 46081297, "comment_id": 79125364, "body": "Not also that the complexity of <code>map.at()</code> (assuming <code>map</code> here is <code>std::map</code>, and therefore a binary search tree) is logarithmic in the size of the map, further increasing your overall complexity to <code>O(N * Log(N) * M)</code> (using @EricLippert &#39;s definitions for <code>N</code> and <code>M</code>). See <a href=\"http://en.cppreference.com/w/cpp/container/map/at\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/map/at</a>."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1504720108, "last_edit_date": 1504720108, "creation_date": 1504719963, "answer_id": 46081410, "question_id": 46081297, "link": "https://stackoverflow.com/questions/46081297/is-on2-nested-for-loop-as-on-while-loop-possible/46081410#46081410", "title": "Is O(N^2) nested for loop as O(N) while loop possible?", "body": "<p>In a comment you said,</p>\n\n<blockquote>\n  <p>I have a map of vectors and I want to loop through every element in the map and every element of the vector, but I'm trying to do it in O(N) time.</p>\n</blockquote>\n\n<p>That is not possible.</p>\n\n<p>If you have M elements in the map and N elements in each of the vectors, you have M*N elements all together. There is no way you can iterate over them in O(N) time.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7189899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171d013fb7bc42b52dce2ca6694b5bf3?s=128&d=identicon&r=PG&f=1", "display_name": "Daniiga", "link": "https://stackoverflow.com/users/7189899/daniiga"}, "is_accepted": false, "score": 1, "last_activity_date": 1504720106, "creation_date": 1504720106, "answer_id": 46081446, "question_id": 46081297, "link": "https://stackoverflow.com/questions/46081297/is-on2-nested-for-loop-as-on-while-loop-possible/46081446#46081446", "title": "Is O(N^2) nested for loop as O(N) while loop possible?", "body": "<p>You iterate over the map of length N, and in each loop you iterate over a vector of length M. Assuming all vectors have the same length, your algorithm will run in O(N*M).</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "edited": false, "score": 0, "creation_date": 1504720724, "post_id": 46081570, "comment_id": 79124947, "body": "This makes sense. Thank you."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 5, "last_activity_date": 1504721974, "last_edit_date": 1504721974, "creation_date": 1504720610, "answer_id": 46081570, "question_id": 46081297, "link": "https://stackoverflow.com/questions/46081297/is-on2-nested-for-loop-as-on-while-loop-possible/46081570#46081570", "title": "Is O(N^2) nested for loop as O(N) while loop possible?", "body": "<p>If N is the number of map entries, and TV is the sum of the sizes of all the vectors, then your program is <code>O(N + TV)</code> regardless of whether it is written as a \"while\" or a nested \"for\".  </p>\n\n<p>If N is the number of map entries and MV is the mean of the sizes of all the vectors, then your program is <code>O(N * MV)</code> regardless of whether it is written as a \"while\" or a nested \"for\".</p>\n\n<p>UPDATE: Commenter Tim notes that <code>map.at</code> is <code>O(lg N)</code> in the size of the map, and it is called <code>O(N)</code> times, so that makes the actual complexities <code>O(N * lg N + TV)</code> and <code>O(N * lg N * MV)</code> respectively. Thanks!</p>\n\n<p>I do not know enough about the C++ standard library to say if there is a more efficient way; I would suspect that an O(1) iterator over the map exists. If it does, then you could use it rather than your index to iterate the map, and the <code>lg N</code> term would vanish again.</p>\n"}], "owner": {"reputation": 15, "user_id": 3851231, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/d00gZ.jpg?s=128&g=1", "display_name": "yorTsenoJ", "link": "https://stackoverflow.com/users/3851231/yortsenoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "closed_date": 1504723685, "accepted_answer_id": 46081570, "answer_count": 3, "score": -3, "last_activity_date": 1504721974, "creation_date": 1504719503, "question_id": 46081297, "link": "https://stackoverflow.com/questions/46081297/is-on2-nested-for-loop-as-on-while-loop-possible", "closed_reason": "Needs details or clarity", "title": "Is O(N^2) nested for loop as O(N) while loop possible?", "body": "<p>Am I correct in saying that this code will execute in O(N) time? This is to iterate through a map&lt; int, vector&lt; int > >. </p>\n\n<pre><code>  int counter = 0;\n  unsigned int u = 0;\n  unsigned int v = 0;\n  bool notDone = true;\n  while (notDone) {\n    if (u &lt; map.size()) {\n      if (v &lt; map.at(u).size()) {\n        if (map.at(u)[v] == -1) {\n          ++v;\n        }\n        else {\n          ++counter;\n          ++v;\n        }\n      }\n      else {\n        v = 0;\n        ++u;\n      }\n    } else {\n      notDone = false;\n    }\n  }\n</code></pre>\n"}, {"tags": ["c#", "c++", "multithreading", "bulletphysics"], "comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1504718375, "post_id": 46080759, "comment_id": 79123627, "body": "Wildly offtopic: &quot;much water has flown under the bridge since that time&quot;... that&#39;s a lovely expression. What language is it from?"}, {"owner": {"reputation": 2719, "user_id": 3241228, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0d99c1f29732e819ca9827efd770b4ee?s=128&d=identicon&r=PG&f=1", "display_name": "user1234567", "link": "https://stackoverflow.com/users/3241228/user1234567"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1504785135, "post_id": 46080759, "comment_id": 79152951, "body": "@Thomas, =) My native language is Russian. And in this language there is similar one (but w/o a bridge). I fed google-translate with it and got this one (for the English). I hoped, it&#39;s from English. =)"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 1778371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ac965f3b1a868c58c42d6dfebcfdcb4?s=128&d=identicon&r=PG", "display_name": "Andres Traks", "link": "https://stackoverflow.com/users/1778371/andres-traks"}, "is_accepted": true, "score": 2, "last_activity_date": 1504735078, "creation_date": 1504735078, "answer_id": 46084935, "question_id": 46080759, "link": "https://stackoverflow.com/questions/46080759/multithreading-in-bulletphysics-bulletsharp/46084935#46084935", "title": "Multithreading in BulletPhysics / BulletSharp?", "body": "<p>Yes, multithreading in Bullet was recently revived. <a href=\"http://andrestraks.github.io/BulletSharp/\" rel=\"nofollow noreferrer\">BulletSharp</a> P/Invoke 0.10 added multithreading and the <a href=\"https://github.com/AndresTraks/BulletSharpPInvoke/blob/master/BulletSharp/demos/MultiThreadedDemo/MultiThreadedDemo.cs\" rel=\"nofollow noreferrer\">demo</a> shows how to set it up.</p>\n\n<p>Use CollisionDispatcherMultiThreaded, ConstraintSolverPoolMultiThreaded, DiscreteDynamicsWorldMultiThreaded in place of the single threaded classes and set up some available scheduler (OpenMP, PPL or TBB) at Threads.TaskScheduler.</p>\n\n<p>Multithreading will be added to BulletSharp C++/CLI soon if that is what you are using.</p>\n\n<p>Work on the GPU pipeline in Bullet 3 seems to have stopped, so there are currently no plans to support version 3 in BulletSharp.</p>\n"}], "owner": {"reputation": 2719, "user_id": 3241228, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0d99c1f29732e819ca9827efd770b4ee?s=128&d=identicon&r=PG&f=1", "display_name": "user1234567", "link": "https://stackoverflow.com/users/3241228/user1234567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 46084935, "answer_count": 1, "score": 0, "last_activity_date": 1504735078, "creation_date": 1504717315, "last_edit_date": 1504718210, "question_id": 46080759, "link": "https://stackoverflow.com/questions/46080759/multithreading-in-bulletphysics-bulletsharp", "title": "Multithreading in BulletPhysics / BulletSharp?", "body": "<p>Could <em>BulletSharp</em> (or <em>BulletPhysics</em> itself, if you don't know about <em>BulletSharp</em>) work in multithreading mode?\nIf so, where could I find appropriate settings? (like on/off multithreading, numOfThreads, ...)</p>\n\n<p><em>note: BulletSharp is C# wrapper for BulletPhysics.</em></p>\n\n<p>PS: I know, there is <a href=\"https://stackoverflow.com/questions/13096451/how-do-i-get-bulletphysics-bulletsharps-multithreading-working\">question</a>, but:\n- there are no comprehensive answer\n- much water has flown under the bridge since that time\n- in present-day <em>BulletSharp</em> / <em>BulletPhysics</em> versions I could not find mentioned classes.</p>\n\n<p>Thank you for any information</p>\n"}, {"tags": ["c++", "c++11", "g++"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 3, "creation_date": 1504717368, "post_id": 46080588, "comment_id": 79123030, "body": "I was thinking maybe implicit int but <a href=\"https://wandbox.org/permlink/Ezv3GWQbAGyis4ev\" rel=\"nofollow noreferrer\">I can&#39;t reproduce on Wandbox</a> please provide a live example."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1504717811, "post_id": 46080588, "comment_id": 79123303, "body": "@ShafikYaghmour, ideone.com does not allow me to pick a compiler version. Any pointers on sites that allow you to do that?"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1504718285, "post_id": 46080588, "comment_id": 79123568, "body": "Yes, the link in my comment goes to Wandbox which does."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1504718971, "post_id": 46080588, "comment_id": 79123933, "body": "@ShafikYaghmour That&#39;s strange indeed. There must be something else in my installation. Here&#39;s an image of the terminal that shows what I posted. <a href=\"https://imgur.com/5BIGluy\" rel=\"nofollow noreferrer\">imgur.com/5BIGluy</a>."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1504720438, "last_edit_date": 1504720438, "creation_date": 1504716814, "answer_id": 46080613, "question_id": 46080588, "link": "https://stackoverflow.com/questions/46080588/why-does-g-accept-a-reference-type-with-missing-underlying-type/46080613#46080613", "title": "Why does g++ accept a reference type with missing underlying type?", "body": "<p>This seems to be a defect in my installation of g++ 5.4.0.</p>\n\n<p>It fails to compile using g++ 6.3 at <a href=\"https://ideone.com/D0vGrw\" rel=\"nofollow noreferrer\">https://ideone.com/D0vGrw</a>.</p>\n\n<p>I have used the same block of code.</p>\n\n<pre><code>struct Foo\n{ \n   Foo(const&amp;) {}\n   Foo() {}\n};\n\nint main()\n{\n   Foo f1;\n   Foo f2 = f1;\n}\n</code></pre>\n\n<p>It also fails to compile using g++ 5.4.0 at <a href=\"https://wandbox.org/permlink/Ezv3GWQbAGyis4ev\" rel=\"nofollow noreferrer\">Wandbox</a>.</p>\n"}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1504720438, "creation_date": 1504716711, "last_edit_date": 1504717014, "question_id": 46080588, "link": "https://stackoverflow.com/questions/46080588/why-does-g-accept-a-reference-type-with-missing-underlying-type", "title": "Why does g++ accept a reference type with missing underlying type?", "body": "<p>I was meaning to add a copy constructor to a class but forgot to add the type. g++ 5.4.0 compiled the class successfully.</p>\n\n<p>Here's a minimal program that g++ 5.4.0 compiles and builds successfully.</p>\n\n<pre><code>struct Foo\n{ \n   Foo(const&amp;) {}\n   Foo() {}\n};\n\nint main()\n{\n   Foo f1;\n   Foo f2 = f1;\n}\n</code></pre>\n\n<p>Why does g++ not report <code>Foo(const&amp;) {}</code> as an error?</p>\n"}, {"tags": ["c++", "boost", "boost-mutex", "scoped-lock"], "answers": [{"tags": [], "owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "is_accepted": false, "score": 0, "last_activity_date": 1504716697, "creation_date": 1504716697, "answer_id": 46080584, "question_id": 46080510, "link": "https://stackoverflow.com/questions/46080510/unexplained-behavior-boostscoped-lock/46080584#46080584", "title": "Unexplained behavior boost::scoped_lock", "body": "<p><strong>tl;dr <code>pthread_kill</code> is likely a red herring.</strong></p>\n\n<blockquote>\n  <p>Why after call to mutex lock thread terminating?</p>\n</blockquote>\n\n<p>It doesn't. Your threads have not been terminated (as evidenced by them still appearing on <code>info thread</code>). </p>\n\n<p>You seem to assume that <code>pthread_kill</code> kills the current thread. In fact, what <code>pthread_kill</code> does is send a signal to another thread. And even the sending is optional (if <code>sig=0</code>).</p>\n\n<p>See the <a href=\"http://man7.org/linux/man-pages/man3/pthread_kill.3.html\" rel=\"nofollow noreferrer\">man page</a> for further details.</p>\n"}, {"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 0, "last_activity_date": 1504716874, "creation_date": 1504716874, "answer_id": 46080629, "question_id": 46080510, "link": "https://stackoverflow.com/questions/46080510/unexplained-behavior-boostscoped-lock/46080629#46080629", "title": "Unexplained behavior boost::scoped_lock", "body": "<p>You have multiple locks.</p>\n\n<p>Whenever you have multiple locks that can be required simultaneously you need to obtain them in a fixed order, to avoid dead-locking.</p>\n\n<p>It seems likely that you have such a deadlock occurring. See Boost Thread's free function <code>boost::lock</code> <a href=\"http://www.boost.org/doc/libs/1_63_0/doc/html/thread/synchronization.html#thread.synchronization.lock_functions.lock_multiple\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_63_0/doc/html/thread/synchronization.html#thread.synchronization.lock_functions.lock_multiple</a> for help acquiring multiple lock in reliable order.</p>\n\n<p>You will also want to know about <code>std::defer_lock</code>.</p>\n\n<hr>\n\n<p>Other than this, there might be interference from <code>fork</code> in multi-threaded programs. I think it's beyond the scope now to explain, unless you are indeed using <code>fork</code> in your process</p>\n"}], "owner": {"reputation": 61, "user_id": 8396325, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979f94619c5a0555565663485ae473cc?s=128&d=identicon&r=PG", "display_name": "Nikola", "link": "https://stackoverflow.com/users/8396325/nikola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1504716874, "creation_date": 1504716384, "question_id": 46080510, "link": "https://stackoverflow.com/questions/46080510/unexplained-behavior-boostscoped-lock", "title": "Unexplained behavior boost::scoped_lock", "body": "<p>I am wrote on C++ multithread TCP server,  for synchronization using boost:scoped_lock</p>\n\n<p>After connecting to server client freezes.</p>\n\n<p>in gdb i saw more threads in pthread_kill after call boost::mutex::lock</p>\n\n<pre><code>(gdb) info thread\n\n277 Thread 808779c00 (LWP 245289330/xgps)  0x0000000802579d5c in poll () at poll.S:3\n  276 Thread 808779800 (LWP 245289329/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  275 Thread 808779400 (LWP 245289328/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n .....\n  246 Thread 808c92800 (LWP 245289296/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  245 Thread 808643800 (LWP 245289295/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  244 Thread 808643400 (LWP 245289294/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  243 Thread 806c8f400 (LWP 245289292/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  242 Thread 808643000 (LWP 245286262/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n  241 Thread 808c92400 (LWP 245289288/xgps)  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n\n\n\n[Switching to thread 205 (Thread 80863a000 (LWP 245289251/xgps))]#0  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n(gdb) where\n#0  0x00000008019799bc in pthread_kill () from /lib/libthr.so.3\n#1  0x0000000801973cfc in pthread_getschedparam () from /lib/libthr.so.3\n#2  0x00000008019782fc in pthread_mutex_getprioceiling () from /lib/libthr.so.3\n#3  0x000000080197838b in pthread_mutex_lock () from /lib/libthr.so.3\n#4  0x0000000000442b2e in boost::mutex::lock (this=0x803835f10) at mutex.hpp:62\n#5  0x0000000000442c36 in boost::unique_lock&lt;boost::mutex&gt;::lock (this=0x7fffe7334270) at lock_types.hpp:346\n#6  0x0000000000442c7c in unique_lock (this=0x7fffe7334270, m_=@0x803835f10) at lock_types.hpp:124\n#7  0x0000000000466e31 in XDevice::getDeviceIMEI (this=0x803835e20) at /home/xgps_app/device.cpp:639\n#8  0x000000000049071f in XDevicePool::get_device (this=0x7fffffffd9c0, device_imei=868683024674230) at /home/xgps_app/pool_devices.cpp:351\n</code></pre>\n\n<p>Code at line device.cpp:639</p>\n\n<pre><code>IMEI \nXDevice::getDeviceIMEI()\n{\n    try {\n        boost::mutex::scoped_lock lock(cn_mutex);\n        return  device_imei;\n    }\n    catch (std::exception &amp;e )\n    {\n        cout &lt;&lt; \" ERROR in getDeviceIMEI \" &lt;&lt; e.what() &lt;&lt; \"\\n\";\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Code in pool_device</p>\n\n<pre><code>XDevicePtr  \nXDevicePool::get_device(IMEI device_imei)\n{\n    XDevicePtr device;\n    unsigned int i = 0;\n\n    while(i &lt; this-&gt;devices.size())\n    {\n        device = devices[i]; \n        if (device-&gt;getDeviceIMEI() == device_imei) {\n            LOG4CPLUS_DEBUG(logger,  \"XDevicePool::get_device found!\");\n            return device;\n        }\n        i++;\n    }   \n    device.reset();\n    return device;\n}\n\nXDevicePtr \nXDevicePool::get_device_mt(IMEI device_imei)\n{\n    try \n    {\n        boost::mutex::scoped_lock lock(pool_mutex);\n\n    }\n    catch (std::exception &amp; e)\n    {\n        LOG4CPLUS_ERROR(logger,  \"XDevicePool::get_device error! \" &lt;&lt; e.what());\n    } \n//  boost::mutex::scoped_lock lock(pool_mutex);\n    return get_device(device_imei); \n}\n</code></pre>\n\n<p>Why after call to mutex lock thread terminating?\nI think dead lock  not reason for that behavior\nPlease help!</p>\n"}, {"tags": ["c++", "cmake", "opencv3.1", "make-install"], "comments": [{"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504716184, "post_id": 46080329, "comment_id": 79122375, "body": "Make sure <code>BUILD_opencv_apps</code> is ON."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1504716324, "post_id": 46080329, "comment_id": 79122461, "body": "Unsure whether CMake correctly processes <code>~</code> in paths. Try to avoid them (use <code>$HOME</code> instead)."}, {"owner": {"reputation": 1063, "user_id": 1435046, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/195e357c1aa3b61f80c264fa54576005?s=128&d=identicon&r=PG", "display_name": "beginh", "link": "https://stackoverflow.com/users/1435046/beginh"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504716468, "post_id": 46080329, "comment_id": 79122561, "body": "Tsyvarev i have there my full directories, just cut for clarity. @Zindarod, just recompiling with the flag as you said, I will report on the result asap."}, {"owner": {"reputation": 1063, "user_id": 1435046, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/195e357c1aa3b61f80c264fa54576005?s=128&d=identicon&r=PG", "display_name": "beginh", "link": "https://stackoverflow.com/users/1435046/beginh"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504718148, "post_id": 46080329, "comment_id": 79123479, "body": "@Zindarod it-just-worked. Many thanks. Im wondering, how could I find it out before, where? is that some obsolete option?"}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504718457, "post_id": 46080329, "comment_id": 79123673, "body": "Go to your OpenCV build folder. In terminal run <code>ccmake ..</code>, in the first page you should see <code>BUILD_opencv_apps</code> is ON/OFF."}, {"owner": {"reputation": 1063, "user_id": 1435046, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/195e357c1aa3b61f80c264fa54576005?s=128&d=identicon&r=PG", "display_name": "beginh", "link": "https://stackoverflow.com/users/1435046/beginh"}, "edited": false, "score": 0, "creation_date": 1504718675, "post_id": 46080329, "comment_id": 79123785, "body": "yes, my question was more about how could I know that it should be OFF, not mentioned in any tutorial I followed. Thanks anyway!"}, {"owner": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1505338702, "post_id": 46080329, "comment_id": 79377833, "body": "Not sure I understood ur last comment, but if you find the <code>CMakeCache.txt</code> file within the output directory, look for <code>BUILD_opencv_apps</code> and set it off or on as you like. Then re-run the cmake command to build opencv. BUILD_opencv_apps flag simply as it states will build opencv apps included within the sources. You&#39;ll be able to run them after the build is complete."}], "owner": {"reputation": 1063, "user_id": 1435046, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/195e357c1aa3b61f80c264fa54576005?s=128&d=identicon&r=PG", "display_name": "beginh", "link": "https://stackoverflow.com/users/1435046/beginh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1696, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504718597, "creation_date": 1504715745, "last_edit_date": 1504718597, "question_id": 46080329, "link": "https://stackoverflow.com/questions/46080329/cmake-make-install-fails-with-install-cannot-find-opencv-annotation", "title": "Cmake make install fails with INSTALL cannot find opencv_annotation", "body": "<p><strong>Problem:</strong></p>\n\n<p>I am installing OpenCV 3.1.0 with CUDA support in ubuntu 16.04 and for that I chose defined by myself destination folder instead of <code>/usr/local</code> .</p>\n\n<p><code>cmake</code> and <code>make</code> go on properly, however I get an error upon <code>make install</code> (<code>sudo make install</code> does not alleviate it, anyway I do not build into directory that requires root priviledges).</p>\n\n<p>I don't know what I am doing wrong and which direction to go now. I basically wanted to replicate from <a href=\"http://code.litomisky.com/2014/03/09/how-to-have-multiple-versions-of-the-same-library-side-by-side/\" rel=\"nofollow noreferrer\">this</a> tutorial and I did not omit any step. Please help.</p>\n\n<p><strong>Information:</strong></p>\n\n<p>error:</p>\n\n<pre><code>CMake Error at apps/annotation/cmake_install.cmake:42 (file):\n  file INSTALL cannot find\n  \"~/libraries/opencv-3.1.0/release/installed/bin/opencv_annotation\".\nCall Stack (most recent call first):\n  apps/cmake_install.cmake:39 (include)\n  cmake_install.cmake:84 (include)\n  Makefile:116: recipe for target 'install' failed\n</code></pre>\n\n<p>my cmake configuration:</p>\n\n<pre><code>cmake -D CMAKE_BUILD_TYPE=RELEASE \\\n      -D CMAKE_INSTALL_PREFIX=~/libraries/opencv-3.1.0/release/installed \\\n      -D WITH_CUDA=ON \\\n      -D ENABLE_FAST_MATH=1 \\\n      -D CUDA_FAST_MATH=1 \\\n      -D WITH_CUBLAS=1 \\\n      -D INSTALL_C_EXAMPLES=OFF \\\n      -D INSTALL_PYTHON_EXAMPLES=ON \\\n      -D OPENCV_EXTRA_MODULES_PATH=~/libraries/opencv_contrib/modules \\\n      -D BUILD_EXAMPLES=ON ~/libraries/opencv\n</code></pre>\n\n<ul>\n<li>opencv_contrib on branch 3.1.0, opencv on branch with cuda 8.0 support as suggested in <a href=\"https://github.com/daveselinger/opencv/tree/3.1.0-with-cuda8\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>INSTALL_C_EXAMPLES=OFF as suggested in <a href=\"http://www.pyimagesearch.com/2015/06/22/install-opencv-3-0-and-python-2-7-on-ubuntu/\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 6, "creation_date": 1504714604, "post_id": 46080006, "comment_id": 79121416, "body": "Do you know about bitwise operators?"}, {"owner": {"reputation": 739, "user_id": 6331848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879ae8a68a61582b83224a4df126bb21?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Devries", "link": "https://stackoverflow.com/users/6331848/thomas-devries"}, "edited": false, "score": 1, "creation_date": 1504714685, "post_id": 46080006, "comment_id": 79121461, "body": "Functionally identical to <code>if(n%2==1)</code>"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1504714756, "post_id": 46080006, "comment_id": 79121501, "body": "Look at the <a href=\"http://en.cppreference.com/w/cpp/language/operator_arithmetic\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 11, "user_id": 8208649, "user_type": "registered", "profile_image": "https://graph.facebook.com/696897577183719/picture?type=large", "display_name": "Andrian Rotari", "link": "https://stackoverflow.com/users/8208649/andrian-rotari"}, "edited": false, "score": 0, "creation_date": 1504715016, "post_id": 46080006, "comment_id": 79121664, "body": "i know only about AND, NO , OR operators , is it also one of them ?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 2, "creation_date": 1504715105, "post_id": 46080006, "comment_id": 79121726, "body": "@AndrianRotari It&#39;s bitwise AND."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504715107, "post_id": 46080006, "comment_id": 79121727, "body": "Yes, this is bitwise AND."}, {"owner": {"reputation": 11, "user_id": 8208649, "user_type": "registered", "profile_image": "https://graph.facebook.com/696897577183719/picture?type=large", "display_name": "Andrian Rotari", "link": "https://stackoverflow.com/users/8208649/andrian-rotari"}, "edited": false, "score": 0, "creation_date": 1504715224, "post_id": 46080006, "comment_id": 79121800, "body": "and what is it meaning in this code, if it is the AND operator , what does this if check ?"}, {"owner": {"reputation": 11, "user_id": 8208649, "user_type": "registered", "profile_image": "https://graph.facebook.com/696897577183719/picture?type=large", "display_name": "Andrian Rotari", "link": "https://stackoverflow.com/users/8208649/andrian-rotari"}, "edited": false, "score": 0, "creation_date": 1504715325, "post_id": 46080006, "comment_id": 79121861, "body": "and also , i know that you use AND operator , with two of this characters : &amp; , can you use with only one or what ?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504715360, "post_id": 46080006, "comment_id": 79121887, "body": "The condition checks if the zero bit is set. It&#39;s different from <code>&amp;&amp;</code>. Check <a href=\"http://en.cppreference.com/w/cpp/language/operator_arithmetic\" rel=\"nofollow noreferrer\">here</a> 1st please before asking such trivia next time."}], "answers": [{"tags": [], "owner": {"reputation": 49169, "user_id": 13744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ed60d3cd033224d3ea343433ccf6e62?s=128&d=identicon&r=PG", "display_name": "gbjbaanb", "link": "https://stackoverflow.com/users/13744/gbjbaanb"}, "is_accepted": false, "score": 4, "last_activity_date": 1504714911, "creation_date": 1504714911, "answer_id": 46080114, "question_id": 46080006, "link": "https://stackoverflow.com/questions/46080006/can-someone-explain-please-what-does-this-do-n1/46080114#46080114", "title": "Can someone explain please what does this do : n&amp;1?", "body": "<p>Its a bitwise operator. There's a search term for you!</p>\n\n<p>The &amp; operator provides a mask that \"cancels out\" bits in the first depending if they're set in the second parameter - so assume N is the number 17, that expressed in binary is 00010001, the number 1 in binary is 00000001, so masking the two together will \"blank\" the first set of bits, leaving you with N as 00000001.</p>\n\n<p>Basically that particular if statement drops all except the last bit, which is either 0 or 1, so it is a condition detecting if N is odd or even.</p>\n"}], "owner": {"reputation": 11, "user_id": 8208649, "user_type": "registered", "profile_image": "https://graph.facebook.com/696897577183719/picture?type=large", "display_name": "Andrian Rotari", "link": "https://stackoverflow.com/users/8208649/andrian-rotari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3256, "favorite_count": 0, "closed_date": 1504723721, "answer_count": 1, "score": -7, "last_activity_date": 1504737062, "creation_date": 1504714578, "last_edit_date": 1504737062, "question_id": 46080006, "link": "https://stackoverflow.com/questions/46080006/can-someone-explain-please-what-does-this-do-n1", "closed_reason": "Needs more focus", "title": "Can someone explain please what does this do : n&amp;1?", "body": "<p>Here is the code, I know what does it do , but I don't understand, what does the if condition do?</p>\n\n<pre><code>if(n&amp;1)\n    {\n        for(i=n/2,j=n/2+1;;i--,j++)\n         if(__gcd(i,j)==1)\n         {\n            cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;j&lt;&lt;endl;\n            break;\n         }\n    }\n    else \n    {\n        for(i=n/2-1,j=n/2+1;;i--,j++)\n         if(__gcd(i,j)==1)\n         {\n            cout&lt;&lt;i&lt;&lt;\" \"&lt;&lt;j&lt;&lt;endl;\n            break;\n         }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "function", "templates"], "comments": [{"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1504714634, "post_id": 46079982, "comment_id": 79121435, "body": "What&#39;s the error and where does it occurs?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1504714675, "post_id": 46079982, "comment_id": 79121457, "body": "<code>*a</code> is not a type. You want something like <code>decltype(*a)</code> or simply <code>&amp;A::FuncBar</code>"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1504714751, "post_id": 46079982, "comment_id": 79121497, "body": "In foo.cc, what is <code>a</code>?"}, {"owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504714816, "post_id": 46079982, "comment_id": 79121540, "body": "appologies, a should be bar_"}], "answers": [{"comments": [{"owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504715013, "post_id": 46080074, "comment_id": 79121662, "body": "Follow up: Is it possible to use templatized parameters the arguments to the method? Or otherwise not include them? E.g.  template&lt;typename A, int (A::*Method)(B, C)&gt;"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504715178, "post_id": 46080074, "comment_id": 79121770, "body": "@MattStokes, I didn&#39;t understand that question."}, {"owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504715332, "post_id": 46080074, "comment_id": 79121869, "body": "If I had a second function which I wanted to use this template with that had instead of an int argument a string. Could you templatize the argument type to Method:  template&lt;typename A, int (A::*Method)(B)&gt; OR template&lt;typename A, int (A::*Method)(A)&gt;"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504715482, "post_id": 46080074, "comment_id": 79121964, "body": "Yes, you can. Come up with a mcve and post it in another question if you can&#39;t make it work."}, {"owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504715979, "post_id": 46080074, "comment_id": 79122250, "body": "Unfortunately this solution does not compile. I get the following errors:  1) a-&gt;*Method expected unqualified-id 2) candidate template ignored: invalid explicitly-specified argument for template parameter &#39;Method&#39;"}, {"owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "edited": false, "score": 0, "creation_date": 1504716209, "post_id": 46080074, "comment_id": 79122390, "body": "Nice, alright I&#39;ll figure it out for my explicit case then. Thanks!"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1504715086, "last_edit_date": 1504715086, "creation_date": 1504714793, "answer_id": 46080074, "question_id": 46079982, "link": "https://stackoverflow.com/questions/46079982/template-pass-member-function-with-args-and-return-value-as-parameter-c/46080074#46080074", "title": "Template pass member function with args and return value as parameter c++", "body": "<p>You need to use <code>int (A::*Method)(int)</code> as the function pointer type since the member function expects an <code>int</code> as an argument.</p>\n\n<p>Also, the call to the member function needs to be <code>(a-&gt;*Method)(bar_arg1)</code>. The syntax for calling member function using a member function is not very intuitive.</p>\n\n<pre><code>template&lt;typename A, int (A::*Method)(int)&gt;\nint FuncTemplate(A* a, int bar_arg1) {\n  ....\n  return (a-&gt;*Method)(bar_arg1)\n}\n</code></pre>\n\n<p>Also, you need to use <code>&amp;Bar::FuncBar</code> to get a pointer to the member function, not <code>&amp;(*bar_)::FuncBar</code>.</p>\n\n<pre><code>void Foo::FuncFoo() {\n   int bar_arg1 = 0;\n   FuncTemplate&lt;Bar, &amp;Bar::FuncBar&gt;(bar_, bar_arg1);\n   //                ^^^^^^^^^^^^^\n}\n</code></pre>\n"}], "owner": {"reputation": 3724, "user_id": 1541314, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2ceb52c0856a59e538733aca23d0499f?s=128&d=identicon&r=PG", "display_name": "Matt Stokes", "link": "https://stackoverflow.com/users/1541314/matt-stokes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 46080074, "answer_count": 1, "score": 0, "last_activity_date": 1504715086, "creation_date": 1504714480, "last_edit_date": 1504714804, "question_id": 46079982, "link": "https://stackoverflow.com/questions/46079982/template-pass-member-function-with-args-and-return-value-as-parameter-c", "title": "Template pass member function with args and return value as parameter c++", "body": "<p>I would like to pass a templated function args for class and a method of that class to call. The method has arguments as well as a return value.</p>\n\n<p>Here is what I have so far. I believe I'm getting a little tripped up on the templatized function syntax:</p>\n\n<h2>bar.h</h2>\n\n<pre><code>    class Bar {\n     public:\n       Bar();\n       int FuncBar(int arg1);\n    }\n</code></pre>\n\n<h2>foo.h</h2>\n\n<pre><code>    template&lt;typename A, int (A::*Method)()&gt;\n    int FuncTemplate(A* a, int bar_arg1) {\n      ....\n      return a-&gt;Method(bar_arg1)\n    }\n\n\n    class Foo { \n     public:\n       explicit Foo(Bar* bar);\n\n     private:\n       void FuncFoo();\n       Bar* bar_;\n    }\n</code></pre>\n\n<h3>foo.cc</h3>\n\n<pre><code>    Foo::Foo(Bar bar) : bar_(bar) {};\n    void Foo::FuncFoo() {\n      ...\n      int bar_arg1 = 0;\n      FuncTemplate&lt;Bar, &amp;(*bar_)::FuncBar&gt;(bar_, bar_arg1);\n    }\n</code></pre>\n"}, {"tags": ["c++", "templates", "move-semantics"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 2, "creation_date": 1504714253, "post_id": 46079803, "comment_id": 79121200, "body": "Have you looked into <a href=\"http://en.cppreference.com/w/cpp/iterator/make_move_iterator\" rel=\"nofollow noreferrer\"><code>std::make_move_iterator</code></a>?"}, {"owner": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1504715439, "post_id": 46079803, "comment_id": 79121944, "body": "I have, but I dont understand how to overload the function to accept both move and non-move iterators."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1504727646, "post_id": 46079803, "comment_id": 79128545, "body": "@ManuelSchneid3r: Your current signature accepts <i>all</i> iterators"}], "answers": [{"comments": [{"owner": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "edited": false, "score": 0, "creation_date": 1504714791, "post_id": 46079972, "comment_id": 79121525, "body": "What if I dont pass move iterators? I need both of them."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "edited": false, "score": 1, "creation_date": 1504714900, "post_id": 46079972, "comment_id": 79121592, "body": "@ManuelSchneid3r both what? Is there a way I can improve this answer?"}, {"owner": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "edited": false, "score": 0, "creation_date": 1504715347, "post_id": 46079972, "comment_id": 79121878, "body": "Well I can overload the addItem function by passing a reference in one function and a rvalue reference in the other function. Thats not the case with a templatet function. So I want to understand how I can overload this addItems function for both r- and lvalue references just like in the addItem function. What happens if I pass a regular iterator (non move) to your moveItems function?"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "edited": false, "score": 2, "creation_date": 1504715547, "post_id": 46079972, "comment_id": 79122014, "body": "@ManuelSchneid3r iterator are not passed by reference. Iterator are passed by value. There&#39;s no overload to do. If you were to take a container as parameter, I would also take the container by value and move the contained elements."}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": true, "score": 4, "last_activity_date": 1504715801, "last_edit_date": 1504715801, "creation_date": 1504714448, "answer_id": 46079972, "question_id": 46079803, "link": "https://stackoverflow.com/questions/46079803/how-to-use-move-semantics-iterators-and-templates/46079972#46079972", "title": "How to use move semantics iterators and templates", "body": "<p>Since you are using iterator to insert to your list, the most straightforward solution would be to use move iterators. With move iterators, you don't need to change your template function <code>addItems</code>. The move iterators will move the referred element into the new container:</p>\n\n<pre><code>// Same function as before\naddItems(\n    std::make_move_iterator(someList.begin()),\n    std::make_move_iterator(someList.end())\n);\n</code></pre>\n\n<p>Alternatively, you could provide a move insert function, which uses the <code>std::move</code> algorithm:</p>\n\n<pre><code>template&lt;typename Iterator&gt;\nvoid moveItems(Iterator begin, Iterator end) {\n    std::move(begin, end, thelist.end());\n}\n</code></pre>\n\n<p>This overload will move each elements to <code>thelist</code> container. The <code>std::move</code> algorithm is meant to be used with normal, non const iterators. The move item function is used like that:</p>\n\n<pre><code>std::vector&lt;int&gt; vec{1, 2, 3};\n\n// move each ints into the new container\nmoveItems(vec.begin(), vec.end());\n\n// With your old function, move semantics\n// can still be applied with move Iterators\naddItems(\n    std::make_move_iterator(vec.begin()),\n    std::make_move_iterator(vec.end())\n);\n</code></pre>\n"}], "owner": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 46079972, "answer_count": 1, "score": 3, "last_activity_date": 1504727501, "creation_date": 1504713860, "last_edit_date": 1504727501, "question_id": 46079803, "link": "https://stackoverflow.com/questions/46079803/how-to-use-move-semantics-iterators-and-templates", "title": "How to use move semantics iterators and templates", "body": "<p>I want to write functions to add items. addItem and addItems each with a move variant. The latter accepts two input iterators. To add a single item I can overload the signature with rvalue references. But how do I overload a template function to work with move semantics?</p>\n\n<pre><code>void addItem(const shared_ptr&lt;Item&gt;&amp; item, uint score) {\n    // code that copies the shared_ptr\u2026\n}\n\nvoid addItem(shared_ptr&lt;Item&gt;&amp;&amp; item, uint score) {\n    // code that moves the shared_ptr\u2026\n}\n\ntemplate&lt;typename Iterator&gt;\nvoid addItems(Iterator begin, Iterator end) {\n    /*\n     * What to do here to take both move and normal iterators?\n     * Since I cannot overload by signature I dont know how to\n     * differentiate between move and non move iterators\n     */\n}\n</code></pre>\n\n<p>Is it possible to have a single name for a function and to differentiate between the input iterators?</p>\n"}, {"tags": ["c++", "arrays", "list", "rcpp"], "comments": [{"owner": {"reputation": 419, "user_id": 8570072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213675887841304/picture?type=large", "display_name": "David Rodriguez Lores", "link": "https://stackoverflow.com/users/8570072/david-rodriguez-lores"}, "edited": false, "score": 0, "creation_date": 1504713663, "post_id": 46079703, "comment_id": 79120840, "body": "Sorry for the wrong code comments, I&#39;m pretty new at this &#39;-.-"}, {"owner": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 1, "creation_date": 1504713668, "post_id": 46079703, "comment_id": 79120842, "body": "What&#39;s your question? Is what you&#39;re trying not working?"}, {"owner": {"reputation": 419, "user_id": 8570072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213675887841304/picture?type=large", "display_name": "David Rodriguez Lores", "link": "https://stackoverflow.com/users/8570072/david-rodriguez-lores"}, "reply_to_user": {"reputation": 1556, "user_id": 611716, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/f4i2e.jpg?s=128&g=1", "display_name": "Frecklefoot", "link": "https://stackoverflow.com/users/611716/frecklefoot"}, "edited": false, "score": 0, "creation_date": 1504713766, "post_id": 46079703, "comment_id": 79120894, "body": "this code is wrong, i want to do a list of bidimensional arrays, and i dont know how"}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 2, "creation_date": 1504713853, "post_id": 46079703, "comment_id": 79120946, "body": "Use a nested <code>std::array</code> or <code>std::vector</code>. Do you seriously need to use <code>std::list</code> anyway? It should be your last choice of a structure."}, {"owner": {"reputation": 419, "user_id": 8570072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213675887841304/picture?type=large", "display_name": "David Rodriguez Lores", "link": "https://stackoverflow.com/users/8570072/david-rodriguez-lores"}, "edited": false, "score": 0, "creation_date": 1504713998, "post_id": 46079703, "comment_id": 79121050, "body": "well i could try to do a bigger array using a kind of cbind() in c++"}, {"owner": {"reputation": 419, "user_id": 8570072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213675887841304/picture?type=large", "display_name": "David Rodriguez Lores", "link": "https://stackoverflow.com/users/8570072/david-rodriguez-lores"}, "edited": false, "score": 0, "creation_date": 1504714104, "post_id": 46079703, "comment_id": 79121113, "body": "But i dont know if i can do this with an object that is not a Rcpp object"}], "answers": [{"tags": [], "owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "is_accepted": true, "score": 1, "last_activity_date": 1504740761, "last_edit_date": 1504740761, "creation_date": 1504726970, "answer_id": 46083174, "question_id": 46079703, "link": "https://stackoverflow.com/questions/46079703/how-to-define-a-list-of-matrix-array-in-c/46083174#46083174", "title": "How to define a list of matrix (array) in c++", "body": "<p>You want <code>Rcpp::List</code> for the return.  </p>\n\n<p>Here is a really simple example with two matrices; you can also use multi-dimensional arrays but it is less common.  Also see RcppArmadillo for vector, matrix, cube and field types.</p>\n\n<pre><code>R&gt; library(Rcpp)\nR&gt; cppFunction(\"Rcpp::List foo() { return Rcpp::List::create(Rcpp::NumericMatrix(2,2), Rcpp::NumericMatrix(3,3)); }\")\nR&gt; foo()\n[[1]]\n     [,1] [,2]\n[1,]    0    0\n[2,]    0    0\n\n[[2]]\n     [,1] [,2] [,3]\n[1,]    0    0    0\n[2,]    0    0    0\n[3,]    0    0    0\n\nR&gt; \n</code></pre>\n\n<p>In R, everything is just a contiguous vector. Matrices happen to have a (size 2) dimension attributed; you can generalize this to three and more dimensions -- but such data structures are rare in R, and there are few converters.</p>\n\n<p>Here is a minimal example of a 2x2x2 array:</p>\n\n<pre><code>R&gt; cppFunction('Rcpp::NumericVector bar() { Rcpp::NumericVector x(8); Rcpp::IntegerVector d = Rcpp::IntegerVector::create(2,2,2); x.attr(\"dim\") = d; return(x); }')\nR&gt; bar()\n, , 1\n\n     [,1] [,2]\n[1,]    0    0\n[2,]    0    0\n\n, , 2\n\n     [,1] [,2]\n[1,]    0    0\n[2,]    0    0\n\nR&gt; \n</code></pre>\n\n<p>You can combine several of these in a list the same way as I did above.</p>\n"}], "owner": {"reputation": 419, "user_id": 8570072, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213675887841304/picture?type=large", "display_name": "David Rodriguez Lores", "link": "https://stackoverflow.com/users/8570072/david-rodriguez-lores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "accepted_answer_id": 46083174, "answer_count": 1, "score": 1, "last_activity_date": 1504740761, "creation_date": 1504713528, "last_edit_date": 1504725171, "question_id": 46079703, "link": "https://stackoverflow.com/questions/46079703/how-to-define-a-list-of-matrix-array-in-c", "title": "How to define a list of matrix (array) in c++", "body": "<p>I am trying to make big object in c++, using Rcpp lib, which is a matrix of negative and positive numbers, I define an auxiliary bidimensional array of type double because i couldnt use NumericMatrix due to the dimensions of the object.<br>\nNow I am trying to put this giant arrays into a std::list, such as:</p>\n\n<pre><code>std::list&lt;NumericMatrix&gt; listOfMatrix;      \n</code></pre>\n\n<p>But with arrays:</p>\n\n<pre><code>std::list&lt;double array[nrows][ncols]&gt; listOfMarix;\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "edited": false, "score": 13, "creation_date": 1504713551, "post_id": 46079687, "comment_id": 79120760, "body": "Dear God why?......."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 7, "creation_date": 1504713608, "post_id": 46079687, "comment_id": 79120803, "body": "Ow my gosh, how did you even have the patience to write these nested loops???!"}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504713669, "post_id": 46079687, "comment_id": 79120845, "body": "It is generated by a tool (writed also by me :) )"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504713686, "post_id": 46079687, "comment_id": 79120851, "body": "<code>iostreams</code> are pretty well known to be slow. Try to remove output from the loop - accumulate data somewhere and print it as one shot.."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504713762, "post_id": 46079687, "comment_id": 79120889, "body": "probably branch prediction in the if works differently when there is more than just assignment inside."}, {"owner": {"reputation": 815, "user_id": 2999446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd693334f54ece098ca02afe52e3c669?s=128&d=identicon&r=PG&f=1", "display_name": "Luke K", "link": "https://stackoverflow.com/users/2999446/luke-k"}, "edited": false, "score": 0, "creation_date": 1504713787, "post_id": 46079687, "comment_id": 79120907, "body": "<a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> :)"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1504713865, "post_id": 46079687, "comment_id": 79120955, "body": "<a href=\"https://stackoverflow.com/q/43051948/995714\">Why is std::cout so time consuming?</a>, <a href=\"https://stackoverflow.com/q/18688763/995714\">Why is istream/ostream slow</a>, <a href=\"https://stackoverflow.com/q/14573424/995714\">Does cout statement makes code slower</a>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1504713892, "post_id": 46079687, "comment_id": 79120973, "body": "This happens because your loops do nothing but that <code>cout</code> and can be completely removed by the compiler without it. <a href=\"https://godbolt.org/g/b8JCSr\" rel=\"nofollow noreferrer\">godbolt.org/g/b8JCSr</a>"}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504713962, "post_id": 46079687, "comment_id": 79121017, "body": "the &quot;cout&quot; in the loop is called 6 times - so it can not be the problem of a such big difference - 1 sec and more that 1 min."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1504713984, "post_id": 46079687, "comment_id": 79121036, "body": "Also, I would <i>strongly</i> advice against this kind of code generation, you are most likely attacking an XY-problem."}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504714025, "post_id": 46079687, "comment_id": 79121071, "body": "exactly - you are right."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1504714039, "post_id": 46079687, "comment_id": 79121079, "body": "@SergiuVelescu The 68719476736 extra loop iterations is what makes the difference."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504714193, "post_id": 46079687, "comment_id": 79121157, "body": "I can&#39;t reproduce 1 sec result with VS2017. I have no patience to wait till the program exits (even when cout is commented out)"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504714216, "post_id": 46079687, "comment_id": 79121176, "body": "@ArtemyVysotsky Try clang. It basically gets compiled to <code>int main () {std::cout &lt;&lt; 68719476736 &lt;&lt; &#39;\\n&#39; &lt;&lt; 7 &lt;&lt; &#39;\\n&#39;;}</code>."}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504714296, "post_id": 46079687, "comment_id": 79121224, "body": "@ Baum mit Augen - at the moment - yes - the code does nothing useful, just output the yy value (6 times), but why without these 6 cout it run so fast, (or why with 6 cout it run so slow)?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1504714342, "post_id": 46079687, "comment_id": 79121251, "body": "@SergiuVelescu Click the link in my first comment and see for yourself."}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504715192, "post_id": 46079687, "comment_id": 79121780, "body": "@ Baum mit Augen - I am not assembler expert but i will analyze that - thanks."}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504715292, "post_id": 46079687, "comment_id": 79121843, "body": "@Artemy Vysotsky - you probably run in Debug - try Release."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1504719178, "post_id": 46079687, "comment_id": 79124042, "body": "Calling <code>std::ios::sync_with_stdio(false);</code> should speed things up somewhat but <code>std::cout</code> is a blocking output and its speed is largely determined by the output device it is connected to. Often that is a terminal emulator that spends a lot of time shuffling text and memory around as it scrolls its output display."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1504723827, "post_id": 46079687, "comment_id": 79126578, "body": "This was written for a bet?"}], "answers": [{"comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1504714461, "post_id": 46079851, "comment_id": 79121326, "body": "@L\u01b0uV\u0129nhPh&#250;c: Looking more carefully, that was a red herring."}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504714599, "post_id": 46079851, "comment_id": 79121413, "body": "Ok - I thought about this - what about &quot;vector[5].y = aal-1;&quot; in the loop - doesn&#39;t this force the compiler to run these loops and calculate the value? (at the end I COUT this value also)"}, {"owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "edited": false, "score": 0, "creation_date": 1504714998, "post_id": 46079851, "comment_id": 79121652, "body": "It looks like the loops are running as when I comment one loop it takes 160ms to finish, if I un-comment it takes around 1 sec."}, {"owner": {"reputation": 7041, "user_id": 314290, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5ffde821f0f9670e601b19f1731a6849?s=128&d=identicon&r=PG", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/314290/mikhail"}, "edited": false, "score": 0, "creation_date": 1504715117, "post_id": 46079851, "comment_id": 79121733, "body": "Looks like part of the loop is still there <a href=\"https://godbolt.org/g/WZDvrC\" rel=\"nofollow noreferrer\">godbolt.org/g/WZDvrC</a> . Perhaps the real story is that with all the cruft eliminated, the actual looping isn&#39;t too computationally expensive."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1504715290, "post_id": 46079851, "comment_id": 79121841, "body": "Some compilers may do this more aggressively than others. Clang removes all the loops, the code runs in .004s on my PC, gcc leaves some of them in and runs around .8s. Either way, the take-home message from this should be &quot;Only profile meaningful code, and just putting stuff in a huge loop is not a proper microbenchmark.&quot;"}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 2, "last_activity_date": 1504714351, "last_edit_date": 1504714351, "creation_date": 1504714040, "answer_id": 46079851, "question_id": 46079687, "link": "https://stackoverflow.com/questions/46079687/c-performance-with-without-cout/46079851#46079851", "title": "C++ Performance with/without &quot;cout&quot;", "body": "<p>Most of this is a simple matter of optimization: as long as you don't produce any output from the loops, the compiler determines that the loops are basically dead code, and simply doesn't execute them at all. It has to do a little bit of pre-computation to determine the value that <code>vector[5].y</code> would have following the loops, but it can do that entirely at compile time, so at run-time, it's basically just printing out a fixed number.</p>\n\n<p>When you produce visible output inside the loops, the compiler can't just eliminate executing them, so the code runs dramatically slower.</p>\n"}], "owner": {"reputation": 472, "user_id": 4177816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca005a87c139850291f2a0d238140caa?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Velescu", "link": "https://stackoverflow.com/users/4177816/sergiu-velescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 1, "accepted_answer_id": 46079851, "answer_count": 1, "score": -5, "last_activity_date": 1504714351, "creation_date": 1504713480, "question_id": 46079687, "link": "https://stackoverflow.com/questions/46079687/c-performance-with-without-cout", "title": "C++ Performance with/without &quot;cout&quot;", "body": "<p>Hello guys and girls. </p>\n\n<p>My question is simple one but I have no answer. Below you can see my C++ code - it is a little bit big but simple - when I run the code with <code>//std::cout&lt;&lt;yy&lt;&lt;endl; (commented)</code> it run less than 1 second, when I un-comment that line it runs about 2 minutes (I speak about Release because in Debug it run more time). Please pay attention that that line produce only few output lines (so the problem is not that the program have to call \"cout\" too many times) Thank you all. Here is my code:</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nstruct cell {\n    int x;\n    int y;\n};\n\nint main(int argc, char** argv) {\n    cell vector[8];\n    unsigned long int yy=0;\n\n    for (int aaa = 0; aaa &lt; 8; aaa++) {\n        vector[0].x = aaa;\n        for (int aab = 0; aab &lt; 8; aab++) {\n            vector[0].y = aab;\n            for (int aac = 0; aac &lt; 8; aac++) {\n                vector[1].x = aac;\n                for (int aad = 0; aad &lt; 8; aad++) {\n                    vector[1].y = aad;\n                    for (int aae = 0; aae &lt; 8; aae++) {\n                        vector[2].x = aae;\n                        for (int aaf = 0; aaf &lt; 8; aaf++) {\n                            vector[2].y = aaf;\n                            for (int aag = 0; aag &lt; 8; aag++) {\n                                vector[3].x = aag;\n                                for (int aah = 0; aah &lt; 8; aah++) {\n                                    vector[3].y = aah;\n                                    for (int aai = 0; aai &lt; 8; aai++) {\n                                        vector[4].x = aai;\n                                        for (int aaj = 0; aaj &lt; 8; aaj++) {\n                                            vector[4].y = aaj;\n                                            for (int aak = 0; aak &lt; 8; aak++) {\n                                                vector[5].x = aak;\n                                                for (int aal = 0; aal &lt; 8; aal++) {\n                                                    vector[5].y = aal;\n                                                                    yy++;\n                                                                    if(yy%10000000000==0){\n                                                                    vector[5].y = aal-1;\n                                                                    //std::cout&lt;&lt;yy&lt;&lt;endl;\n                                                                    }\n\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    std::cout&lt;&lt;yy&lt;&lt;endl;\n    std::cout&lt;&lt;vector[5].y&lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-interprocess"], "answers": [{"comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1504717255, "post_id": 46080523, "comment_id": 79122978, "body": "This is helpful. The real challenge, it seems, is to understand the permissions of each platform."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1504717349, "post_id": 46080523, "comment_id": 79123022, "body": "I completely agree with that assessment."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1504716444, "creation_date": 1504716444, "answer_id": 46080523, "question_id": 46079601, "link": "https://stackoverflow.com/questions/46079601/restrict-child-process-access-to-shared-memory-and-message-queues/46080523#46080523", "title": "Restrict child process access to shared memory and message queues", "body": "<p>First, from the docs:</p>\n\n<blockquote>\n  <p>Named resources offered by Boost.Interprocess must cope with platform-dependant permission issues also present when creating files. If a programmer wants to shared shared memory, memory mapped files or named synchronization mechanisms (mutexes, semaphores, etc...) between users, it's necessary to specify those permissions. Sadly, traditional UNIX and Windows permissions are very different and Boost.Interprocess does not try to standardize permissions, but does not ignore them.</p>\n  \n  <p>All named resource creation functions take an optional permissions object that can be configured with platform-dependant permissions.</p>\n</blockquote>\n\n<p>Beware, if you do so, then you immediately have to know about platform specific required permissiong:</p>\n\n<blockquote>\n  <p>Since each mechanism can be emulated through different mechanisms (a semaphore might be implement using mapped files or native semaphores) permissions types could vary when the implementation of a named resource changes (eg.: in Windows mutexes require synchronize permissions, but that's not the case of files). To avoid this, Boost.Interprocess <strong><em>[usually\u00b9, red.]</em></strong> relies on file-like permissions, requiring file read-write-delete permissions to open named synchronization mechanisms (mutex, semaphores, etc.) and appropriate read or read-write-delete permissions for shared memory. This approach has two advantages: it's similar to the UNIX philosophy and the programmer does not need to know how the named resource is implemented.</p>\n</blockquote>\n\n<p>\u00b9 when <em>not</em> passing the permissions object</p>\n\n<hr>\n\n<p>Your other question:</p>\n\n<ul>\n<li>has no permissions to start with (e.g. using <code>AdjustTokenPrivileges</code> on windows perhaps?), but</li>\n<li>is then granted read access to shared memory mapped file (e.g. by setting permissions when constructing the shared memory segment?)</li>\n</ul>\n\n<p>No. The <code>permissions</code> object does <strong>not</strong> give permissions to the invoking process. The <code>permissions</code> object <em>restricts</em> access for other processes. I wager that as such, it only makes sense to specify <code>permissions</code> on <code>create_only</code> or <code>open_or_create</code>.</p>\n\n<p>What I imagine is the usual route on Windows/Linux:</p>\n\n<ul>\n<li>you start the server running as a specific user account</li>\n<li>you start the clients using the same account</li>\n<li>you create the IPC objects to be accessible only from the account that created them (the owner)</li>\n</ul>\n\n<p>I wager that Windows will allow more fine-grained control due to its Access Control Lists (not tested this): they should allow you to specify additional/different accounts that have access.</p>\n\n<p>On linux, it is highly likely that to achieve such control, additional system calls are necessary (e.g. to change the owner/group of the shared object and/or add such a group the client user account as primary/secondary group).</p>\n\n<p>Summarizing: _I would focus on granting access to a specific recipient, instead of \"starting a recipient without any permissions\". The latter is impractical (processes might not even function \"without any permissions\") and elevating privileges during runtime is a lot more difficult than using statically assigned/administered permissions. Not to mention it's inherently less secure to add permissions on the fly.</p>\n"}], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 2, "accepted_answer_id": 46080523, "answer_count": 1, "score": 2, "last_activity_date": 1504716444, "creation_date": 1504713216, "question_id": 46079601, "link": "https://stackoverflow.com/questions/46079601/restrict-child-process-access-to-shared-memory-and-message-queues", "title": "Restrict child process access to shared memory and message queues", "body": "<p>I am writing a server that will accept untrusted Dynamic Library Modules (DLL,SO/DSO) loaded at runtime using <a href=\"https://www.boost.org/doc/libs/release/doc/html/boost_dll.html#boost_dll.introduction\" rel=\"nofollow noreferrer\">Boost.DLL</a>.</p>\n\n<p>I would like to run the untrusted module in a separate process that only has access to the relevant shared memory (sometimes read only) and interprocess queues.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0NgZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0NgZQ.png\" alt=\"Process layout\"></a></p>\n\n<p>Boost does allow for a <a href=\"https://www.boost.org/doc/libs/release/doc/html/boost/interprocess/permissions.html\" rel=\"nofollow noreferrer\">permissions</a> object to be associated with the shared memory. </p>\n\n<p>It seems like there might be a way to create a process <a href=\"https://stackoverflow.com/q/3795911/1460794\">on windows</a> and <a href=\"https://stackoverflow.com/q/7419159/1460794\">Linux</a> and then adjust the permissions.</p>\n\n<p>How can a process be created that</p>\n\n<ul>\n<li>has no permissions to start with (e.g. using <a href=\"https://msdn.microsoft.com/en-us/library/8E3F70CD-814E-4AAB-8F48-0CA482BEEF2E(v=vs.85,d=lightweight).aspx\" rel=\"nofollow noreferrer\">AdjustTokenPrivileges</a> on windows perhaps?), but</li>\n<li>is then granted read access to shared memory mapped file (e.g. by setting <a href=\"http://www.boost.org/doc/libs/release/doc/html/boost/interprocess/permissions.html\" rel=\"nofollow noreferrer\">permissions</a> when <a href=\"https://www.boost.org/doc/libs/release/doc/html/boost/interprocess/basic_managed__idp62714784.html\" rel=\"nofollow noreferrer\">constructing</a> the shared memory segment?)</li>\n</ul>\n\n<p>Or perhaps this is inherently too risky?</p>\n"}, {"tags": ["c++", "templates", "c++14", "variadic-templates", "template-meta-programming"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1504713880, "post_id": 46079598, "comment_id": 79120968, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1504715301, "post_id": 46079598, "comment_id": 79121849, "body": "This is a minimal example. It is just one stacked recursive template. Do you have an idea how to make it smaller, if it works if non-stacked?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1504715385, "post_id": 46079598, "comment_id": 79121907, "body": "I am sure you have a <code>main</code> function, don&#39;t you?"}, {"owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1504715647, "post_id": 46079598, "comment_id": 79122071, "body": "Okay, I changed both examples to compile."}], "answers": [{"comments": [{"owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "edited": false, "score": 0, "creation_date": 1504716928, "post_id": 46080311, "comment_id": 79122809, "body": "Seems not to work, but if I move the definition of dim_array into the function it compiles :/"}, {"owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "edited": false, "score": 0, "creation_date": 1504716970, "post_id": 46080311, "comment_id": 79122835, "body": "Is there btw a better way to work with two variadics?"}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "edited": false, "score": 0, "creation_date": 1504717690, "post_id": 46080311, "comment_id": 79123240, "body": "@dgrat - answer modified; about the better way to work with two variadics... I don&#39;t understand what you want to know (sorry: my English is very poor)."}, {"owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "edited": false, "score": 0, "creation_date": 1504717998, "post_id": 46080311, "comment_id": 79123396, "body": "I guess you made a c&amp;p mistake as the example is now identical with mine :)"}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "edited": false, "score": 0, "creation_date": 1504720325, "post_id": 46080311, "comment_id": 79124696, "body": "@dgrat - D&#39;ho! You&#39;re right: copy and paste error. Corrected."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 1, "last_activity_date": 1504720263, "last_edit_date": 1504720263, "creation_date": 1504715685, "answer_id": 46080311, "question_id": 46079598, "link": "https://stackoverflow.com/questions/46079598/c11-recursion-in-a-stacked-variadic-struct-i-get-an-linker-error/46080311#46080311", "title": "C++11: Recursion in a stacked variadic struct (I get an linker error)", "body": "<p>It seems to me that you have forgotten to add (outside the structs) the following lines</p>\n\n<pre><code>template &lt;std::size_t K, std::size_t... IDs&gt;\ntemplate &lt;std::size_t ... DIMS&gt;\nconstexpr std::array&lt;std::size_t, sizeof...(DIMS)&gt; \n      L1&lt;K, IDs...&gt;::L2&lt;DIMS...&gt;::dim_array;\n\ntemplate &lt;std::size_t K, std::size_t... IDs&gt;\ntemplate &lt;std::size_t ... DIMS&gt;\nconstexpr std::array&lt;std::size_t, sizeof...(IDs)&gt;\n      L1&lt;K, IDs...&gt;::L2&lt;DIMS...&gt;::id_array;\n</code></pre>\n\n<p>I mean... you have declared <code>dim_array</code> and <code>id_array</code> but you haven't defined they.</p>\n\n<p>p.s.: I have modified the tag of you question from c++11 to c++14 because, if you compile</p>\n\n<pre><code>constexpr size_t n = dim_array[K];\n</code></pre>\n\n<p>your compiling c++14 code (the <code>operator[]</code> in <code>std::array</code> is <code>constexpr</code> starting from c++14)</p>\n\n<p><strong>-- EDIT --</strong></p>\n\n<p>The OP </p>\n\n<blockquote>\n  <p>Seems not to work, but if I move the definition of dim_array into the function it compiles :/</p>\n</blockquote>\n\n<p>Sorry: I answered to you original question; you have modified it (deleting <code>id_array</code>) so you have to add only the definition of <code>dim_array</code>.</p>\n\n<p>The following code is OK for me (OK... well... there are some warnings)</p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;array&gt;\n\ntemplate &lt;size_t K, std::size_t... IDs&gt;\nstruct L1 {\n    template &lt;std::size_t... DIMS&gt;\n    struct L2 {\n        static constexpr std::array&lt;size_t, sizeof...(DIMS)&gt; dim_array = {{DIMS...}};\n\n        static void run() {\n            constexpr size_t n = dim_array[K];\n\n            for(int i = 0; i &lt; sizeof...(DIMS); i++) {\n                std::cout&lt;&lt;dim_array[i]&lt;&lt;\" \";\n            }\n            std::cout &lt;&lt; std::endl;\n\n            L1&lt;K-1, IDs...&gt;::template L2&lt;DIMS...&gt;::run();\n        }\n    };\n};\n\ntemplate &lt;std::size_t... IDs&gt;\nstruct L1&lt;0, IDs...&gt; {\n    template &lt;std::size_t... DIMS&gt;\n    struct L2 {\n        static constexpr std::array&lt;size_t, sizeof...(DIMS)&gt; dim_array = {{DIMS...}};\n        static void run() {\n        }\n    };\n};\n\ntemplate &lt;std::size_t K, std::size_t... IDs&gt;\ntemplate &lt;std::size_t ... DIMS&gt;\nconstexpr std::array&lt;std::size_t, sizeof...(DIMS)&gt; L1&lt;K, IDs...&gt;::L2&lt;DIMS...&gt;::dim_array;\n\nint main() {\n    L1&lt;3, 4,3,2,1&gt;::template L2&lt;2,3,4,5&gt;::run();\n}\n</code></pre>\n\n<p>And, yes: if you move the definition of <code>dim_array</code> inside <code>run()</code>, it works. Because, in that case, the declaration is also the definition.</p>\n"}], "owner": {"reputation": 2026, "user_id": 1909456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f254bd884cc7ea6217bfd1eaccb9f75?s=128&d=identicon&r=PG", "display_name": "dgrat", "link": "https://stackoverflow.com/users/1909456/dgrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 46080311, "answer_count": 1, "score": 2, "last_activity_date": 1504720263, "creation_date": 1504713214, "last_edit_date": 1504715914, "question_id": 46079598, "link": "https://stackoverflow.com/questions/46079598/c11-recursion-in-a-stacked-variadic-struct-i-get-an-linker-error", "title": "C++11: Recursion in a stacked variadic struct (I get an linker error)", "body": "<p>I wanted to implement a template recursion algorithm where I forward two variadic parameters and decrement the variable <code>K</code>. \nI thought that the easiest approach is to stack two <code>struct</code>s definitions. However, I get a linker error if I try to make an debug output on a <code>constexpr</code>. A similar approach code seems to work if I just do it in a non-stacked struct. </p>\n\n<pre><code>: In function `void detail::L1&lt;3ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::run&lt;int, int, int, int&gt;(int, int, int, int)':\n: undefined reference to `detail::L1&lt;3ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::dim_array'\n: In function `void detail::L1&lt;2ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::run&lt;int, int, int, int&gt;(int, int, int, int)':\n: undefined reference to `detail::L1&lt;2ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::dim_array'\n: In function `void detail::L1&lt;1ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::run&lt;int, int, int, int&gt;(int, int, int, int)':\n: undefined reference to `detail::L1&lt;1ul, 4ul, 3ul, 2ul, 1ul&gt;::L2&lt;2ul, 3ul, 4ul, 5ul&gt;::dim_array'\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;array&gt;\n\ntemplate &lt;size_t K, std::size_t... IDs&gt;\nstruct L1 {\n    template &lt;std::size_t... DIMS&gt;\n    struct L2 {\n        static constexpr std::array&lt;size_t, sizeof...(DIMS)&gt; dim_array = {{DIMS...}};\n\n        static void run() {\n            constexpr size_t n = dim_array[K];\n\n            for(int i = 0; i &lt; sizeof...(DIMS); i++) {\n                std::cout&lt;&lt;dim_array[i]&lt;&lt;\" \";\n            }\n            std::cout &lt;&lt; std::endl;\n\n            L1&lt;K-1, IDs...&gt;::template L2&lt;DIMS...&gt;::run();\n        }\n    };\n};\n\ntemplate &lt;std::size_t... IDs&gt;\nstruct L1&lt;0, IDs...&gt; {\n    template &lt;std::size_t... DIMS&gt;\n    struct L2 {\n        static constexpr std::array&lt;size_t, sizeof...(DIMS)&gt; dim_array = {{DIMS...}};\n        static void run() {\n        }\n    };\n};\n\nint main() {\n    L1&lt;3, 4,3,2,1&gt;::template L2&lt;2,3,4,5&gt;::run();\n}\n</code></pre>\n\n<p>Works:</p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;array&gt;\n\ntemplate &lt;std::size_t... DIMS&gt; // Define dimensions of the ctrl point grid. E.g. 4x4x4\nstruct works {\n  static void run() { \n    static constexpr std::array&lt;size_t, sizeof...(DIMS)&gt; dim_array = {{DIMS...}};\n    for(int i = 0; i &lt; sizeof...(DIMS); i++) {\n      std::cout&lt;&lt;dim_array[i]&lt;&lt;\" \";\n    }\n    std::cout &lt;&lt; std::endl;\n  }\n};\n\nint main() {\n    works&lt;1,2,3&gt;::run();\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "floating-point", "warnings", "compiler-warnings"], "owner": {"reputation": 133, "user_id": 2815577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd98ada53846068b87017e5af919df6?s=128&d=identicon&r=PG&f=1", "display_name": "newman911", "link": "https://stackoverflow.com/users/2815577/newman911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504712728, "creation_date": 1504712728, "question_id": 46079446, "link": "https://stackoverflow.com/questions/46079446/is-there-a-warning-for-floating-point-equality-checking-in-visual-studio-2013", "title": "Is there a warning for floating point equality checking in visual studio (2013) c++", "body": "<p>I'm looking for a warning in MS visual studio 2013 similar to Gcc's -Wfloat-equal</p>\n\n<p>I would like to turn on this warning, and compile my code, and find any places that i might need to re-examine for correctness.</p>\n\n<p>I've looked through all the warnings here\n<a href=\"https://msdn.microsoft.com/en-us/library/ysb0wexw.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ysb0wexw.aspx</a>\nand i haven't found it. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1504712627, "post_id": 46079351, "comment_id": 79120192, "body": "What output do you get? What output do you expect?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1504712692, "post_id": 46079351, "comment_id": 79120230, "body": "Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."}, {"owner": {"reputation": 880, "user_id": 3661738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acddd9c3372908d0903c4611aea1a9b7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/3661738/tyler"}, "edited": false, "score": 0, "creation_date": 1504712780, "post_id": 46079351, "comment_id": 79120278, "body": "The way you are calculating the &quot;reverse&quot; of a product does not work. It just multiplies by 10 every loop and adds the last digit. you have integer overflow there"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1504713405, "post_id": 46079351, "comment_id": 79120665, "body": "A good start would be to check the three-digit numbers instead of the one- and two-digit ones."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504718997, "post_id": 46079351, "comment_id": 79123946, "body": "Debugger.  Use a debugger.  A debugger will allow you to execute one statement at a time (stepping) and <i>watch</i> the values of variables.  A lot faster than posting to StackOverflow and waiting for somebody to debug your program for you."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504719084, "post_id": 46079351, "comment_id": 79123987, "body": "You can develop faster code by treating the input as a string of characters.  No need to convert to integer, using math to isolate digit, then check.  You can treat a <code>std::string</code> as an array."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6373863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1Gaj.jpg?s=128&g=1", "display_name": "ElemmentCG", "link": "https://stackoverflow.com/users/6373863/elemmentcg"}, "edited": false, "score": 0, "creation_date": 1504829488, "post_id": 46084923, "comment_id": 79176536, "body": "Ur answer was wonderful thanks alot but One thing i dont understand is why i should use two loops it bugs me can u tell me how the variables values will change and how will the program process the values of variables ... will that lead to my same products? one more thing .... i was told not to use break unless necessary and it makes u a bad programmer  thanks alot sir much appreciated"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "reply_to_user": {"reputation": 13, "user_id": 6373863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1Gaj.jpg?s=128&g=1", "display_name": "ElemmentCG", "link": "https://stackoverflow.com/users/6373863/elemmentcg"}, "edited": false, "score": 0, "creation_date": 1504852138, "post_id": 46084923, "comment_id": 79182404, "body": "You don&#39;t <i>have</i> to use two loops. But in reality, that&#39;s effectively what you were doing in your code with the increment of <code>x</code> and resetting of <code>i</code>.  Regarding using <code>break</code>, there are some cases where it is an elegant alternative to encoding complexity in loop conditionals, and in-fact brings <i>clarity</i>, not obfuscation, to code. This is a reasonable example of that. Finally, the most relevant thing that makes &quot;bad programmers&quot; are &quot;bad instruction&quot;, be it human, text, or just plain not enough. <a href=\"https://ideone.com/qcFby6\" rel=\"nofollow noreferrer\">You can avoid using <code>break</code></a>, but is it really &quot;better&quot; ? Not really."}, {"owner": {"reputation": 13, "user_id": 6373863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1Gaj.jpg?s=128&g=1", "display_name": "ElemmentCG", "link": "https://stackoverflow.com/users/6373863/elemmentcg"}, "edited": false, "score": 0, "creation_date": 1505073801, "post_id": 46084923, "comment_id": 79251867, "body": "U are a true leader and a philosopher sir.... May u enlighten me more? Why Did u use (--i) instead of (i--)  thanks alot i really cant believe u have done all this sir"}], "tags": [], "owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "is_accepted": true, "score": 0, "last_activity_date": 1504734990, "creation_date": 1504734990, "answer_id": 46084923, "question_id": 46079351, "link": "https://stackoverflow.com/questions/46079351/palindromes-and-project-euler-c-version-tips/46084923#46084923", "title": "Palindromes And Project Euler C++ Version -Tips", "body": "<p>Several things:</p>\n\n<ul>\n<li>You should be counting <em>down</em> from 999 thru 100.</li>\n<li>You should be using two loops for the two factors of your product</li>\n<li><code>rev</code> should be initially zero before each entrance into your inner do-while loop</li>\n</ul>\n\n<p>The results would look something like this, with all but the detected palindromes and final result being output (the amount of worthless noise in your output is mind-bending)</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int  product;\n    int  n, digit, rev = 0;\n    int  greatest = 0;\n\n    for(int i = 999;i&gt;=100; --i)\n    {\n        for (int j =999; j&gt;=100; --j)\n        {\n            product = j * i;\n            n = product;\n            rev = 0;\n            do\n            {\n                rev = (rev * 10) + (product % 10);\n                product /= 10;\n            } while(product != 0);\n\n            if(n == rev)\n            {\n                cout &lt;&lt; \"Palindrome : \" &lt;&lt; i &lt;&lt; \" * \" &lt;&lt; j &lt;&lt; \" = \" &lt;&lt; n &lt;&lt; endl;\n                if(rev &gt; greatest)\n                    greatest = rev;\n            }\n        }\n    }\n    cout &lt;&lt; \"The Greatest Palindrome Number Is : \" &lt;&lt; greatest &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>This will conclude the correct answer you seek.</p>\n\n<p><strong>Faster</strong></p>\n\n<p>Optionally, you can squeeze better performance out of this by understanding a few additional details:</p>\n\n<ul>\n<li>The task is to find the largest palindrome, not just the <em>longest</em> palindrome. Therefore, once you find one, any product, palindrome or not, that is a smaller magnitude than the current largest palindrome is pointless to even check and the inner loop can be terminated (thus the reason you're counting <em>down</em>).</li>\n<li>A little number crunching will allow you to conclude that at least one of the factors <em>must</em> be divisible by 11. I won't cover why, but do the math, it's true. Therefore, you can make one of your loops a count-down from the largest 3-digit multiple of 11 (990) to 100, in steps of (-11).</li>\n</ul>\n\n<p>The result looks like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int  greatest = 0;\n\n    for(int i = 999;i&gt;=100; --i)\n    {\n        for (int j =990; j&gt;=100; j-=11)\n        {\n            int product = j * i;\n            if (product &lt; greatest)\n                break;\n\n            int n = product;\n            int rev = 0;\n            do\n            {\n                rev = (rev * 10) + (product % 10);\n                product /= 10;\n            } while(product != 0);\n\n            if(n == rev)\n            {\n                cout &lt;&lt; \"Palindrome : \" &lt;&lt; i &lt;&lt; \" * \" &lt;&lt; j &lt;&lt; \" = \" &lt;&lt; n &lt;&lt; endl;\n                if(rev &gt; greatest)\n                    greatest = rev;\n            }\n        }\n    }\n    cout &lt;&lt; \"The Greatest Palindrome Number Is : \" &lt;&lt; greatest &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Palindrome : 995 * 583 = 580085\nPalindrome : 993 * 913 = 906609\nThe Greatest Palindrome Number Is : 906609\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6373863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1Gaj.jpg?s=128&g=1", "display_name": "ElemmentCG", "link": "https://stackoverflow.com/users/6373863/elemmentcg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46084923, "answer_count": 1, "score": -2, "last_activity_date": 1504734990, "creation_date": 1504712433, "last_edit_date": 1504713457, "question_id": 46079351, "link": "https://stackoverflow.com/questions/46079351/palindromes-and-project-euler-c-version-tips", "title": "Palindromes And Project Euler C++ Version -Tips", "body": "<p>Can Anyone Tell Me What's Wrong In My Code?</p>\n\n<p>Thank you :)</p>\n\n<pre><code>// A palindromic number reads the same both ways.\n// The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 \u00d7 99.\n// Find the largest palindrome made from the product of two 3-digit numbers.\n\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int x = 2;\n    int  product;\n    int  n, digit, rev = 0;\n    int  greatest = 0;\n\n    for(int i = 2;i&lt;100;i++){\n        product = x * i;\n        n = product;\n        cout &lt;&lt; x &lt;&lt; \" * \" &lt;&lt; i &lt;&lt; \" = \" &lt;&lt; product &lt;&lt; endl;\n        do\n        {\n            digit = product % 10;\n            rev = (rev * 10) + digit;\n            product = product / 10;\n        } while(product != 0);\n        cout &lt;&lt; \" The reverse of the number is: \" &lt;&lt; rev &lt;&lt; endl;\n        if(n == rev){\n            cout &lt;&lt; \"Therefore Palindrome\" &lt;&lt; endl;\n            if(rev &gt; greatest){\n                cout &lt;&lt; \"REV Greater Than Greatest Palindrome\" &lt;&lt; endl;\n                greatest = rev;\n            }\n        }\n        if(i == 99){\n            if(x &lt; 99){\n                x++;\n                i = 1;\n                cout &lt;&lt; \"Go For The Next Loop\" &lt;&lt; endl;\n            }\n        }\n    }\n    cout &lt;&lt; \"The Greatest Palindrome Number Is \" &lt;&lt; greatest &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-asio"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1504715515, "post_id": 46079340, "comment_id": 79121994, "body": "2.: &quot;Can I guarantee to transmit all the data using this mechanism?&quot; - no, network is always susceptible to outage. Use a transactional message queue for this kind of requirement. 3.: Maybe. Message queuing might be what you want"}, {"owner": {"reputation": 1105, "user_id": 3112985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100002595160203/picture?type=large", "display_name": "Peter Bingham", "link": "https://stackoverflow.com/users/3112985/peter-bingham"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504716911, "post_id": 46079340, "comment_id": 79122801, "body": "What I meant by 2 is that. Once you write the last data and then call buffered_stream::close (for example), then subsequent reads on the other side will get the remaining data before the error code arising from the close."}, {"owner": {"reputation": 1105, "user_id": 3112985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100002595160203/picture?type=large", "display_name": "Peter Bingham", "link": "https://stackoverflow.com/users/3112985/peter-bingham"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504717059, "post_id": 46079340, "comment_id": 79122882, "body": "My question may be specific to the buffered_stream::close that is provided, as this may provide my requirements. I am not sure what the typename Arg is for in the constructor."}], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1504715471, "creation_date": 1504715471, "answer_id": 46080267, "question_id": 46079340, "link": "https://stackoverflow.com/questions/46079340/what-error-code-should-the-readhandler-for-boostasioasync-read-return-when-t/46080267#46080267", "title": "What error_code should the ReadHandler for boost::asio::async_read return when the stream is closed?", "body": "<p>The bottom line is: it depends on the implementation. If you want to abstract that interface away, I'd suggest abstracting the implementation details behind your own interface.</p>\n\n<p>If you /want/ to expose the Asio interface (why?) then you <em>could</em> create a composed IO operation that translates all expectable errors to a common contract.</p>\n\n<hr>\n\n<p>For specific implementations, a simple test would suffice of course.</p>\n\n<p>For sockets, the usual error code is <code>eof</code> (<code>boost::asio::error::misc_errors::eof</code>). Depending on the circumstances <code>boost::asio::error::basic_errors::connection_reset</code> or <code>boost::asio::error::basic_errors::network_reset</code> could occur.</p>\n\n<p>If the <code>io_service</code> is halted, the service object is destructed or the socket is closed, <code>boost::asio::error::basic_errors::operation_aborted</code> or <code>boost::asio::error::basic_errors::bad_descriptor</code> could be expected.</p>\n\n<p>All these are implementation dependent, of course. Different platforms may have different codes, different streams may have different codes.</p>\n\n<h2>Error Conditions</h2>\n\n<p>Instead of error codes you could try to make sure the error condition maps onto the same \"thing\" so clients will have a consistent interface.</p>\n\n<ul>\n<li>Chris Kohlhoff (author of Boost Asio) has an in-depth series of blog posts about this starting here <a href=\"http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html\" rel=\"nofollow noreferrer\">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html</a></li>\n<li>Andrzej's C++ blog has another article that builds on it <a href=\"https://akrzemi1.wordpress.com/2017/07/12/your-own-error-code/\" rel=\"nofollow noreferrer\">https://akrzemi1.wordpress.com/2017/07/12/your-own-error-code/</a></li>\n</ul>\n"}], "owner": {"reputation": 1105, "user_id": 3112985, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100002595160203/picture?type=large", "display_name": "Peter Bingham", "link": "https://stackoverflow.com/users/3112985/peter-bingham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 46080267, "answer_count": 1, "score": 0, "last_activity_date": 1504715471, "creation_date": 1504712392, "last_edit_date": 1504714868, "question_id": 46079340, "link": "https://stackoverflow.com/questions/46079340/what-error-code-should-the-readhandler-for-boostasioasync-read-return-when-t", "title": "What error_code should the ReadHandler for boost::asio::async_read return when the stream is closed?", "body": "<p>I'm trying to implement the following for arbitrary streams (with both read and write interfaces).</p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_39_0/doc/html/boost_asio/reference/AsyncReadStream.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_39_0/doc/html/boost_asio/reference/AsyncReadStream.html</a></p>\n\n<p>What I plan to do is to pass the stream to some client. The client async_writes to the stream and when there is no more data it then closes the stream.</p>\n\n<p>The calling code async_reads from the stream until I assume that it gets some indication of the stream close state via the ReadHandler error_code. My questions are:</p>\n\n<ol>\n<li><p>What will this <code>error_code</code> be?</p></li>\n<li><p>Can I guarantee to transmit all the data using this mechanism?</p></li>\n<li><p>Is there a better way to do this?</p></li>\n</ol>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 949, "user_id": 6730520, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fe891db9556b2dc7ef69c7e3f4cd9942?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal K.", "link": "https://stackoverflow.com/users/6730520/eyal-k"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1504712766, "post_id": 46079321, "comment_id": 79120268, "body": "@Fran&#231;oisAndrieux Good point. Modified the code accordingly"}, {"owner": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "edited": false, "score": 0, "creation_date": 1504713261, "post_id": 46079321, "comment_id": 79120573, "body": "Do you really have to make <code>a</code> a member? I would expect from a copy constructor or assignment operator to copy all members. Everything else is somewhat confusing."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 0, "last_activity_date": 1504714198, "last_edit_date": 1504714198, "creation_date": 1504713102, "answer_id": 46079553, "question_id": 46079321, "link": "https://stackoverflow.com/questions/46079321/marking-a-member-variable-to-not-copy/46079553#46079553", "title": "Marking a member variable to not copy", "body": "<p>No, you cannot make the implicit copy assignment skip members. Defining a custom assignment operator as you have done is the way to achieve your desired behaviour.</p>\n\n<blockquote>\n  <p>Doing it this way is verbose and prone to bugs if I later modify this class</p>\n</blockquote>\n\n<p>You can group the copied members into a single subobject. That way the custom copy assignment is not fragile to changes and verbosity remains constant in relation to number of copied members.</p>\n\n<p>Bonus: You don't need to specify value initialization for the members separately, but one for the entire subobject is enough.</p>\n\n<pre><code>class Example\n{\n\n    int a = 0;\n    struct {\n        int b;\n        int c;\n        int d;\n        double e;\n    } state = {};\n\npublic:\n    Example&amp; operator=(const Example &amp;rhs)\n    {\n        state = rhs.state;\n        return *this;\n    }\n...\n</code></pre>\n\n<p>Since the members are private this won't change the existing API of the class.</p>\n"}, {"tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": true, "score": 3, "last_activity_date": 1504714036, "last_edit_date": 1504714036, "creation_date": 1504713517, "answer_id": 46079700, "question_id": 46079321, "link": "https://stackoverflow.com/questions/46079321/marking-a-member-variable-to-not-copy/46079700#46079700", "title": "Marking a member variable to not copy", "body": "<p>You can wrap the \"odd man out\", <code>a</code>, in a struct and define that structs behavior separately:</p>\n\n<pre><code>class Example\n{\nprivate:\n    CopyLess a;\n    int b = 0;\n    int c = 0;\n    int d = 0;\n    double e = 0;\n\n    struct CopyLess {\n        int a = 0;\n        CopyLess&amp; operator=(const CopyLess&amp;) { return *this; }\n        CopyLess(const CopyLess&amp;) {}\n    };              \n};\n</code></pre>\n\n<p>Note that I didn't bother writing any special members for <code>Example</code> anymore because the defaults do what you want. Writing code this way to avoid writing special members as much as possible is called the \"Rule of Zero\", more information and examples: <a href=\"http://www.nirfriedman.com/2015/06/27/cpp-rule-of-zero/\" rel=\"nofollow noreferrer\">http://www.nirfriedman.com/2015/06/27/cpp-rule-of-zero/</a>.</p>\n"}], "owner": {"reputation": 949, "user_id": 6730520, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fe891db9556b2dc7ef69c7e3f4cd9942?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal K.", "link": "https://stackoverflow.com/users/6730520/eyal-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 46079700, "answer_count": 2, "score": 2, "last_activity_date": 1504714198, "creation_date": 1504712330, "last_edit_date": 1504712749, "question_id": 46079321, "link": "https://stackoverflow.com/questions/46079321/marking-a-member-variable-to-not-copy", "title": "Marking a member variable to not copy", "body": "<p>I have a class that contains POD members. I need to have all members copied, except one (member a in the example case). The way I'm doing it right now is as follows:</p>\n\n<pre><code>class Example\n{\nprivate:\n    int a = 0;\n    int b = 0;\n    int c = 0;\n    int d = 0;\n    double e = 0;\n\npublic:\n    Example&amp; operator=(const Example &amp;rhs)\n    {\n        b = rhs.b;\n        c = rhs.c;\n        d = rhs.d;\n        e = rhs.e;         \n\n        return *this;\n    }\n\n    Example() {};\n\n    Example(const Example&amp; toCopy)\n    {\n       *this = toCopy;\n    }\n};\n</code></pre>\n\n<p>Is there a way to mark the variable to not copy, as doing it this way is verbose and prone to bugs if I later modify this class?</p>\n"}, {"tags": ["c++", "winapi", "createprocess"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 4, "creation_date": 1504712288, "post_id": 46079225, "comment_id": 79119972, "body": "&quot;Dir&quot; is not an executable process.  It is merely a command that the command processor (cmd.exe) understands.  There are others, like echo and copy.  Not something you have to fix of course, you don&#39;t need CreateProcess() to enumerate files in a directory.  But if you can&#39;t resist then use <code>cmd.exe &#47;c command</code>."}, {"owner": {"reputation": 2565, "user_id": 4781312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lDEcJ.jpg?s=128&g=1", "display_name": "Asesh", "link": "https://stackoverflow.com/users/4781312/asesh"}, "edited": false, "score": 0, "creation_date": 1504712478, "post_id": 46079225, "comment_id": 79120100, "body": "dir process? Is that the name of an executable file? Are you trying to list directories using dir command? If yes then you will have to use ::system(&quot;dir&quot;) to do so."}, {"owner": {"reputation": 5973, "user_id": 848068, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d893b452ce68913eb1e622bfcd4d7dc0?s=128&d=identicon&r=PG", "display_name": "s4eed", "link": "https://stackoverflow.com/users/848068/s4eed"}, "edited": false, "score": 0, "creation_date": 1504714197, "post_id": 46079225, "comment_id": 79121161, "body": "Question is off-topic ?!"}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1504717096, "post_id": 46079225, "comment_id": 79122908, "body": "On a side note, we don&#39;t need <code>ZeroMemory()</code> in C++. Just write <code>STARTUPINFO si{sizeof(si)};</code> which sets <code>cbSize</code> member and zero-initializes all remaining members and write <code>PROCESS_INFORMATION pi{};</code> to zero-initialize all members."}], "answers": [{"comments": [{"owner": {"reputation": 5973, "user_id": 848068, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d893b452ce68913eb1e622bfcd4d7dc0?s=128&d=identicon&r=PG", "display_name": "s4eed", "link": "https://stackoverflow.com/users/848068/s4eed"}, "edited": false, "score": 0, "creation_date": 1504713010, "post_id": 46079368, "comment_id": 79120417, "body": "But I can run this program successfully in Windows 10 and I can list all files using <code>dir</code> command. Let me test your advice. Thanks."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 5973, "user_id": 848068, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d893b452ce68913eb1e622bfcd4d7dc0?s=128&d=identicon&r=PG", "display_name": "s4eed", "link": "https://stackoverflow.com/users/848068/s4eed"}, "edited": false, "score": 0, "creation_date": 1504715804, "post_id": 46079368, "comment_id": 79122146, "body": "@saeed but when you test it manually, you are testing it within a <code>cmd.exe</code> process. <code>dir</code> is not its own executable that you can run directly, you have to use <code>cmd.exe</code> instead. But like others side, this is not the best way to enumerate a directory. Use <code>FindFirstFile&#47;Ex()</code> and <code>FindNextFile()</code> instead."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1504716228, "post_id": 46079368, "comment_id": 79122401, "body": "Better than hardcoding the name of the command processor would be <code>myprogram &quot;\\&quot;%comspec%\\&quot; &#47;c dir&quot;</code>."}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 2, "last_activity_date": 1504712480, "creation_date": 1504712480, "answer_id": 46079368, "question_id": 46079225, "link": "https://stackoverflow.com/questions/46079225/creating-dir-command-using-createprocess-function-failed-with-error-code-2/46079368#46079368", "title": "Creating &quot;dir&quot; command using CreateProcess function failed with error code 2", "body": "<p><code>dir</code> is not an external command that can be run.  It's a command internal to the Windows Command Prompt.  You'll need to call your program as <code>myprogram \"cmd /c dir\"</code> to do that.</p>\n\n<p>Of course, there are better ways to iterate a directory than calling an external program, but that's a separate question.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10898531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3797a39c47892eebde411a323c27ad47?s=128&d=identicon&r=PG", "display_name": "JunkYard", "link": "https://stackoverflow.com/users/10898531/junkyard"}, "is_accepted": false, "score": 0, "last_activity_date": 1547193177, "last_edit_date": 1547193177, "creation_date": 1547176598, "answer_id": 54139913, "question_id": 46079225, "link": "https://stackoverflow.com/questions/46079225/creating-dir-command-using-createprocess-function-failed-with-error-code-2/54139913#54139913", "title": "Creating &quot;dir&quot; command using CreateProcess function failed with error code 2", "body": "<p>After hours of going through 1500 lines of C code, it finally dawned on me what my problem was and why it worked on one Windows 10 system of mine but not on another.  The system that it worked on, I really did have a  DIR.EXE.  But is was not the COMSPEC DIR that was running.  I had DIR.EXEs in Git and MinGW folders.</p>\n\n<p>Read this for how to correctly use CREATEPROCESS.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa</a></p>\n"}], "owner": {"reputation": 5973, "user_id": 848068, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d893b452ce68913eb1e622bfcd4d7dc0?s=128&d=identicon&r=PG", "display_name": "s4eed", "link": "https://stackoverflow.com/users/848068/s4eed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 46079368, "answer_count": 2, "score": 1, "last_activity_date": 1547193177, "creation_date": 1504712030, "last_edit_date": 1504714292, "question_id": 46079225, "link": "https://stackoverflow.com/questions/46079225/creating-dir-command-using-createprocess-function-failed-with-error-code-2", "title": "Creating &quot;dir&quot; command using CreateProcess function failed with error code 2", "body": "<p>I was just playing with Win32-API and wanted to create a process using <code>CreateProcess</code> function. I used the following code from MSDN website:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;tchar.h&gt;\n\nvoid _tmain( int argc, TCHAR *argv[] )\n{\n    STARTUPINFO si;\n    PROCESS_INFORMATION pi;\n\n    ZeroMemory( &amp;si, sizeof(si) );\n    si.cb = sizeof(si);\n    ZeroMemory( &amp;pi, sizeof(pi) );\n\n    if( argc != 2 )\n    {\n        printf(\"Usage: %s [cmdline]\\n\", argv[0]);\n        return;\n    }\n\n    // Start the child process. \n    if( !CreateProcess( NULL,   // No module name (use command line)\n        argv[1],        // Command line\n        NULL,           // Process handle not inheritable\n        NULL,           // Thread handle not inheritable\n        FALSE,          // Set handle inheritance to FALSE\n        0,              // No creation flags\n        NULL,           // Use parent's environment block\n        NULL,           // Use parent's starting directory \n        &amp;si,            // Pointer to STARTUPINFO structure\n        &amp;pi )           // Pointer to PROCESS_INFORMATION structure\n    ) \n    {\n        printf( \"CreateProcess failed (%d).\\n\", GetLastError() );\n        return;\n    }\n\n    // Wait until child process exits.\n    WaitForSingleObject( pi.hProcess, INFINITE );\n\n    // Close process and thread handles. \n    CloseHandle( pi.hProcess );\n    CloseHandle( pi.hThread );\n}\n</code></pre>\n\n<p>But surprisingly I can't create a <code>dir</code> process using this piece of code. Error code indicated that <strong>'The system cannot find the file specified.'</strong><br>\nI'm using Visual studio 2015 and Windows 7 64Bit. But when I run the same executable in Windows 10, everything is OK.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1504712153, "post_id": 46079223, "comment_id": 79119885, "body": "What do you mean by <i>However I need to initialize it before I calculate the size of the array.</i>?  Also, do you even need an array in the first place?  a <code>std::string</code> should work."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1504712156, "post_id": 46079223, "comment_id": 79119887, "body": "<code>word</code> looks like it might be a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code></a>. If it is, it has a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/size\" rel=\"nofollow noreferrer\"><code>size()</code></a> member method which reports the string&#39;s size. In any case, you should stick with <code>std::string</code> for your string manipulation needs."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1504712255, "post_id": 46079223, "comment_id": 79119951, "body": "That <code>for</code> loop looks very suspect. It will loop until it finds a letter who&#39;s value is no less than it&#39;s position. Is this what you are trying to accomplish?"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1504712264, "post_id": 46079223, "comment_id": 79119956, "body": "<code>i &lt; letters[i]</code> does not make sense, did you mean <code>letters[i] != &#39;\\0&#39;</code>? This is a reimplementation of <code>strlen</code>, but really, use <code>std::string</code>."}, {"owner": {"reputation": 60, "user_id": 7345279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056231998d3b3d5320a28fe771f1a35?s=128&d=identicon&r=PG&f=1", "display_name": "Hidde8erberg", "link": "https://stackoverflow.com/users/7345279/hidde8erberg"}, "edited": false, "score": 0, "creation_date": 1504713775, "post_id": 46079223, "comment_id": 79120902, "body": "I need an array because in hangman you guess per letter. But I get that i &lt; letters[i] does&#39;t make sense"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1504713931, "post_id": 46079223, "comment_id": 79120999, "body": "You can access a std::string with [i] like an array."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504712653, "post_id": 46079349, "comment_id": 79120207, "body": "Also the loop itself has issues.  There is nothing to say that it wont iterate of the end of the array.  If, for instance they are using ascii, then the first letter starts at 65 so <code>i</code> could easily become grater than <code>word.size()</code>."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504712736, "post_id": 46079349, "comment_id": 79120258, "body": "@NathanOliver I totally agree but there is no infomation at all to understand what OP wants to do in that loop. It is very suspision and I mentioned that in my answer. Maybe I should make it more clear."}, {"owner": {"reputation": 60, "user_id": 7345279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056231998d3b3d5320a28fe771f1a35?s=128&d=identicon&r=PG&f=1", "display_name": "Hidde8erberg", "link": "https://stackoverflow.com/users/7345279/hidde8erberg"}, "edited": false, "score": 0, "creation_date": 1504712950, "post_id": 46079349, "comment_id": 79120374, "body": "I was trying to get the size of the array, and couldn&#39;t find a better way. Do you know how I should do this? Sorry I&#39;m not a experienced programmer..."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1504713282, "post_id": 46079349, "comment_id": 79120588, "body": "raw array size is obtained by <code>sizeof()</code> but that is probably not what you mean. If you mean string length, then <code>std::string</code> has 2 methods - <code>size()</code> and <code>length()</code> (they do the same which one to use is your preference) and you do not need raw char array. Especially that C++ does not support variable length array."}, {"owner": {"reputation": 60, "user_id": 7345279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056231998d3b3d5320a28fe771f1a35?s=128&d=identicon&r=PG&f=1", "display_name": "Hidde8erberg", "link": "https://stackoverflow.com/users/7345279/hidde8erberg"}, "edited": false, "score": 0, "creation_date": 1504713921, "post_id": 46079349, "comment_id": 79120991, "body": "I need the amount of individual characters in the array."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 60, "user_id": 7345279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056231998d3b3d5320a28fe771f1a35?s=128&d=identicon&r=PG&f=1", "display_name": "Hidde8erberg", "link": "https://stackoverflow.com/users/7345279/hidde8erberg"}, "edited": false, "score": 0, "creation_date": 1504718221, "post_id": 46079349, "comment_id": 79123527, "body": "@Hidde8erberg for <code>char array[30]</code> there are 30 individual characters. Always. You can keep shorter null terminated strings in it (up to 29 letter in them) and you would need to call <code>strlen</code> to get string length at runtime. That is C programming. But again you should not do that in C++, learn how to use <code>std::string</code> properly."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 0, "last_activity_date": 1504712810, "last_edit_date": 1504712810, "creation_date": 1504712422, "answer_id": 46079349, "question_id": 46079223, "link": "https://stackoverflow.com/questions/46079223/c-order-of-operations-for-initializing-an-array-size/46079349#46079349", "title": "C++ order of operations for initializing an array size", "body": "<p>It is not clear, what you are trying to do with that loop, and it looks very suspicious (you need to provide more information on what you are trying to do here for advise on how to fix it if necessary), but assuming it is correct your code can be fixed by eliminating that buffer  and <code>strcpy()</code> call at all:</p>\n\n<pre><code>int wordLen = 0;\n\nfor (int i = 0; i &lt; word[i]; i++){\n    wordLen++;\n}\n</code></pre>\n\n<p>if you need a copy of variable <code>word</code> to modify, not changing original, then just create another <code>std::string</code> instance as a copy. There is no reason to create raw char array in your case.</p>\n"}], "owner": {"reputation": 60, "user_id": 7345279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2056231998d3b3d5320a28fe771f1a35?s=128&d=identicon&r=PG&f=1", "display_name": "Hidde8erberg", "link": "https://stackoverflow.com/users/7345279/hidde8erberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504712810, "creation_date": 1504712023, "question_id": 46079223, "link": "https://stackoverflow.com/questions/46079223/c-order-of-operations-for-initializing-an-array-size", "title": "C++ order of operations for initializing an array size", "body": "<p>I'm trying to allocate the exact size of the array here. However I need to initialize it before I calculate the size of the array. does anyone know what I should do now?\nThanks in advance!</p>\n\n<p>b.t.w I'm making a hangman game, just for fun.</p>\n\n<pre><code>char letters[30];\n\nstrcpy(letters, word.c_str());\n\nint wordLen = 0;\n\nfor (int i = 0; i &lt; letters[i]; i++){\n\n    wordLen++;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "image-processing", "3d"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 2, "creation_date": 1504712770, "post_id": 46079121, "comment_id": 79120271, "body": "opencv is for computer vision, not for computer graphics. But afaik there are some functions to project 3D points to camera in openCV. You&#39;ll have to compute texturing yourself. Or you just use openGL instead :)"}, {"owner": {"reputation": 1256, "user_id": 4130137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/195f002689d15b2e4f3384d2c169fc68?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4130137/anton"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1504713507, "post_id": 46079121, "comment_id": 79120727, "body": "@Micka thank you: if you write this as an answer in the negative I will accept it!"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1504763293, "post_id": 46079121, "comment_id": 79138996, "body": "You can do it also directly in C++ see <a href=\"https://stackoverflow.com/a/39316776/2521214\">OpenCV Birdseye view without loss of data</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1504712801, "creation_date": 1504712801, "answer_id": 46079469, "question_id": 46079121, "link": "https://stackoverflow.com/questions/46079121/does-opencv-have-a-package-for-transforming-3d-points-into-a-2d-top-down-view/46079469#46079469", "title": "Does opencv have a package for transforming 3D points into a 2D top-down view", "body": "<p>I mean transform your \"up vector\" to match the cartesian z axis and then just run an x y grid sampling taking highest z value per voxel or average</p>\n"}, {"comments": [{"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504716724, "post_id": 46079761, "comment_id": 79122696, "body": "doesn&#39;t he specifically call out this solution as one he is not interested in? ie camera projection generation of structured image?"}, {"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504716761, "post_id": 46079761, "comment_id": 79122719, "body": "Just think the title/ question may be reworded if this is the answer"}], "tags": [], "owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "is_accepted": true, "score": 3, "last_activity_date": 1504713746, "creation_date": 1504713746, "answer_id": 46079761, "question_id": 46079121, "link": "https://stackoverflow.com/questions/46079121/does-opencv-have-a-package-for-transforming-3d-points-into-a-2d-top-down-view/46079761#46079761", "title": "Does opencv have a package for transforming 3D points into a 2D top-down view", "body": "<p>OpenCV has projectPoints function, but you would have to compute the texturing yourself.</p>\n\n<p><a href=\"http://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#void\" rel=\"nofollow noreferrer\">http://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#void</a> projectPoints(InputArray objectPoints, InputArray rvec, InputArray tvec, InputArray cameraMatrix, InputArray distCoeffs, OutputArray imagePoints, OutputArray jacobian, double aspectRatio)</p>\n\n<p>Using a computer graphics library like openGL might be better.</p>\n"}], "owner": {"reputation": 1256, "user_id": 4130137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/195f002689d15b2e4f3384d2c169fc68?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4130137/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 46079761, "answer_count": 2, "score": 2, "last_activity_date": 1504713746, "creation_date": 1504711718, "question_id": 46079121, "link": "https://stackoverflow.com/questions/46079121/does-opencv-have-a-package-for-transforming-3d-points-into-a-2d-top-down-view", "title": "Does opencv have a package for transforming 3D points into a 2D top-down view", "body": "<p>Note: I am not asking for projecting a 3D object onto a 2D camera-view image (for which many answers exist).</p>\n\n<p>It's even simpler than that: I have a 3D model of, say, a street. I want to turn that into a street map. So it's a straightforward top-down / bird's eye view, with no camera view. I'm using OpenCV for image processing.</p>\n\n<p>I realize it's straightforward to program this from scratch, but I would like to know if some routine already exists for doing this in OpenCV.</p>\n"}, {"tags": ["c++", "size"], "comments": [{"owner": {"reputation": 815, "user_id": 2999446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd693334f54ece098ca02afe52e3c669?s=128&d=identicon&r=PG&f=1", "display_name": "Luke K", "link": "https://stackoverflow.com/users/2999446/luke-k"}, "edited": false, "score": 2, "creation_date": 1504711711, "post_id": 46078991, "comment_id": 79119632, "body": "You&#39;re right to use a single equals sign. It&#39;s clear you know how to order variables for assignment. left side is the what you want to assign a value to, and right side of the equals sign is the value you want to assign to it. P.S. this should be tagged as C++"}, {"owner": {"reputation": 89, "user_id": 8546409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1356955104415654/picture?type=large", "display_name": "Rachel Sugg", "link": "https://stackoverflow.com/users/8546409/rachel-sugg"}, "reply_to_user": {"reputation": 815, "user_id": 2999446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd693334f54ece098ca02afe52e3c669?s=128&d=identicon&r=PG&f=1", "display_name": "Luke K", "link": "https://stackoverflow.com/users/2999446/luke-k"}, "edited": false, "score": 0, "creation_date": 1504712164, "post_id": 46078991, "comment_id": 79119893, "body": "so what does the error mean? i fixed the tag also :)"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 3, "creation_date": 1504712576, "post_id": 46078991, "comment_id": 79120161, "body": "you cannot write <code>5 = variable</code>. If you want to assign a value to some variable, the variable <b>must</b> be on the <b>left side*</b> of the assignment. <code>variable = 5</code> . I used this simplification, but the result of the function size() is like the 5 in my example. You cannot &quot;set the size&quot; by assigning something to <code>size()</code>, if that was your intent. The result of this function is just an <code>int</code> value, a &#39;R-Value&#39;, that you can use only on the right side of an assignment."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1504712926, "post_id": 46078991, "comment_id": 79120360, "body": "@Pac0, you should convert your comment to an answer."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504719310, "post_id": 46078991, "comment_id": 79124118, "body": "The <code>std::string::size()</code> returns a constant.  Essentially you can&#39;t set the size of a string; the <code>std::string</code> class will calculate it for you."}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 2999446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd693334f54ece098ca02afe52e3c669?s=128&d=identicon&r=PG&f=1", "display_name": "Luke K", "link": "https://stackoverflow.com/users/2999446/luke-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1504713605, "last_edit_date": 1504713605, "creation_date": 1504713097, "answer_id": 46079552, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable/46079552#46079552", "title": "Issues with assigning result of a function to a variable", "body": "<p>An lvalue can be seen as a named value that exists past its use, such as a variable. An rvalue doesn't persist past its use, usually the result of a function call or what we'd often refer to as simply a \"value\". </p>\n\n<p>You can store an rvalue in an lvalue (<code>int i = 2 + 3</code>), but you can't assign an lvalue to an rvalue. That's where your problem exists</p>\n\n<p>The compiler is throwing an error because you have an rvalue <code>userInput.size()</code> and you're treating it as if it's an lvalue by attempting to assign a value to it.</p>\n\n<pre><code>userInput.size() = stringSize\n</code></pre>\n\n<p>A simpler example would be </p>\n\n<pre><code>int n = 1;\n3 = n;\n</code></pre>\n\n<p>For obvious reasons, you can't just change what 3 is. In your example your function is just returning an integer value...so why should you be able to change that? So you get an error</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8496745"}, "is_accepted": true, "score": 2, "last_activity_date": 1504797562, "last_edit_date": 1504797562, "creation_date": 1504713118, "answer_id": 46079559, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable/46079559#46079559", "title": "Issues with assigning result of a function to a variable", "body": "<p>Here is the answer that was asked for (credits to PacO ):</p>\n\n<p>You always have to put the value that you want to assign to the variable on the right side of the <code>=</code>-operator, and the variable itself to the left side.</p>\n\n<p>What you did, is trying to assign the value of <code>stringSize</code> to <code>userInput.size()</code></p>\n"}, {"tags": [], "owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "is_accepted": false, "score": 2, "last_activity_date": 1504714262, "creation_date": 1504714262, "answer_id": 46079926, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable/46079926#46079926", "title": "Issues with assigning result of a function to a variable", "body": "<blockquote>\n  <p>My understanding is \"=\" is assignment and \"==\" is a boolean comparison\n  that is either \"true\" or \"false\" depending on if both sides are equal.</p>\n</blockquote>\n\n<p>Your understanding is correct so far.</p>\n\n<blockquote>\n  <p>I am trying to assign the size of userInput.size() into the variable\n  so I would think that I should use \"=\"</p>\n</blockquote>\n\n<p>In general, you cannot write <code>5 = variable</code>. <strong>Left and right in an assignment are not swappable</strong>, the order matters.</p>\n\n<p>If you want to assign a value to some variable, the variable must be on the <strong>left side</strong> of the assignment :  <code>variable = 5</code> .</p>\n\n<p>I used this simplification, but the result of the function size() is like the 5 in my example. This is called a <em>rvalue</em> (like \"right-value\").</p>\n\n<p>So, in your case, <code>stringSize = userInput.size();</code> would be correct and set the size of <code>userInput</code> into the variable <code>stringSize</code> (which is called a <em>lvalue</em> a value that can be assigned to, at the left of an assignment).</p>\n"}, {"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1504719493, "creation_date": 1504719493, "answer_id": 46081293, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable/46081293#46081293", "title": "Issues with assigning result of a function to a variable", "body": "<p>A different perspective:  </p>\n\n<p>You can't set the size of a string.  The <code>std::string</code> class automatically calculates the length for you.  </p>\n\n<p>So there is no need for the expression:  </p>\n\n<pre><code>userInput.size() = stringSize;\n</code></pre>\n\n<p>To clear the contents of a <code>std::string</code>, use the <code>clear()</code> method:  </p>\n\n<pre><code>userInput.clear();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "is_accepted": false, "score": 0, "last_activity_date": 1511613859, "creation_date": 1511613859, "answer_id": 47486117, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable/47486117#47486117", "title": "Issues with assigning result of a function to a variable", "body": "<blockquote>\n  <p><code>=</code>  is an Assignment Operator in C, C++ and other programming languages.</p>\n  \n  <p><code>==</code> is assigns the value of right side expression\u2019s or variable\u2019s\n  value to the left side variable.</p>\n</blockquote>\n\n<p>Simple example:</p>\n\n<pre><code>int x,y;\nx=10;\ny=10;\n\nif(x==y)\n    printf(\"True\");\nelse\n    printf(\"False\");\n</code></pre>\n\n<p>output will be : <code>True</code> </p>\n\n<p>In your case, you have to use one <code>=</code> operator and put function assignment on right of the variable. like this <code>stringSize = userInput.size();</code></p>\n\n<p>This is the final code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    string userInput;\n   int stringSize = 0;\n\n   userInput = \"Hello\";\n\n    stringSize = userInput.size(); //this line edited.\n\n   cout &lt;&lt; \"Size of userInput: \" &lt;&lt; stringSize &lt;&lt; endl;\n\n   return 0;\n\n}\n</code></pre>\n\n<p>see here <a href=\"https://onlinegdb.com/BkHASkDgM\" rel=\"nofollow noreferrer\">online_c++_compiler</a></p>\n"}], "owner": {"reputation": 89, "user_id": 8546409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1356955104415654/picture?type=large", "display_name": "Rachel Sugg", "link": "https://stackoverflow.com/users/8546409/rachel-sugg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "accepted_answer_id": 46079559, "answer_count": 5, "score": 4, "last_activity_date": 1511614141, "creation_date": 1504711271, "last_edit_date": 1511614141, "question_id": 46078991, "link": "https://stackoverflow.com/questions/46078991/issues-with-assigning-result-of-a-function-to-a-variable", "title": "Issues with assigning result of a function to a variable", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main() {\n   string userInput;\n   int stringSize = 0;\n\n   userInput = \"Hello\";\n\n   userInput.size() == stringSize;\n\n   cout &lt;&lt; \"Size of userInput: \" &lt;&lt; stringSize &lt;&lt; endl;\n\n   return 0;\n}\n</code></pre>\n\n<p>I am trying to get an output of 5, but it is returning 0. I can't figure out what's wrong. The <code>userInput</code> \"Hello\" should have a size of 5 and <code>userInput.size()</code> should return 5. This should be assigned to variable stringSize. Side note, can anyone explain to me why it is \"==\" not \"=\"? If I try it with \"=\", it does not compile and I get this error:</p>\n\n<pre><code>main.cpp: In function \u2018int main()\u2019:\nmain.cpp:11:23: error: lvalue required as left operand of assignment\n    userInput.size() = stringSize;\n                       ^~~~~~~~~~\n</code></pre>\n\n<p>My understanding is \"=\" is assignment and \"==\" is a Boolean comparison that is either \"true\" or \"false\" depending on if both sides are equal. I am trying to assign the size of <code>userInput.size()</code> into the variable so I would think that I should use \"=\". Maybe this is part of the problem? </p>\n"}, {"tags": ["c++", "visual-studio", "google-chrome", "debugging", "chromium"], "comments": [{"owner": {"reputation": 2565, "user_id": 4781312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lDEcJ.jpg?s=128&g=1", "display_name": "Asesh", "link": "https://stackoverflow.com/users/4781312/asesh"}, "edited": false, "score": 0, "creation_date": 1504866481, "post_id": 46078967, "comment_id": 79190680, "body": "Do you want to debug Chrome or Chromium? If it&#39;s the latter one then download it&#39;s source code and use this command line to start debugging it: devenv /debugexe chrome.exe"}, {"owner": {"reputation": 2565, "user_id": 4781312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lDEcJ.jpg?s=128&g=1", "display_name": "Asesh", "link": "https://stackoverflow.com/users/4781312/asesh"}, "edited": false, "score": 0, "creation_date": 1504866534, "post_id": 46078967, "comment_id": 79190720, "body": "You should look at this page: <a href=\"https://www.chromium.org/developers/how-tos\" rel=\"nofollow noreferrer\">chromium.org/developers/how-tos</a>"}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1505125398, "post_id": 46078967, "comment_id": 79268380, "body": "@Peter, Is it the way you want to debug the chrome? Any update for this issue now?"}, {"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1505142080, "post_id": 46078967, "comment_id": 79279471, "body": "yes I figure out, i gonna make a detailed description how to do it, the guys here give me a good direction to start but it was more complicated"}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1505284287, "post_id": 46078967, "comment_id": 79342764, "body": "@Peter, If this issue has been resolved, you could share your solution here, and then mark it as the answer, so it could help other community members who get the same issue as yours. Have a nice day:)"}, {"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1505505597, "post_id": 46078967, "comment_id": 79457676, "body": "done, please feel free to comment or suggest how I can improve my answer"}], "answers": [{"tags": [], "owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1504750915, "creation_date": 1504750915, "answer_id": 46086884, "question_id": 46078967, "link": "https://stackoverflow.com/questions/46078967/chromium-debugging-on-windows-environment/46086884#46086884", "title": "Chromium debugging on Windows environment", "body": "<p>If you have the whole source code, it would be easy for you to debug your app.</p>\n\n<p>Like this issue here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6802292/visual-studio-debugging-chrome-with-source\">Visual Studio: Debugging Chrome with Source?</a></p>\n\n<p>If you really want to debug the Chrome browser, you could really run it in your VS. Of you could get the symbols files for it, and then get some debugging information from the PDB file directly. </p>\n"}, {"tags": [], "owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "is_accepted": true, "score": 3, "last_activity_date": 1506354468, "last_edit_date": 1506354468, "creation_date": 1505505319, "answer_id": 46246676, "question_id": 46078967, "link": "https://stackoverflow.com/questions/46078967/chromium-debugging-on-windows-environment/46246676#46246676", "title": "Chromium debugging on Windows environment", "body": "<p>step by step instructions for debugging chrome via vs 2017 \nin my example I am going to use \"c:\\Files\\Work\\chromium\\\" folder </p>\n\n<h2>Installs:</h2>\n\n<p>install VS2017 with \"Desktop development with c++\"  from: <a href=\"https://www.visualstudio.com/downloads/\" rel=\"nofollow noreferrer\">https://www.visualstudio.com/downloads/</a> \n<a href=\"https://i.stack.imgur.com/VCpCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VCpCN.png\" alt=\"enter image description here\"></a></p>\n\n<p>step install python 2.x with PATH from: <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">https://www.python.org/downloads/</a> \n<a href=\"https://i.stack.imgur.com/drnKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/drnKD.png\" alt=\"enter image description here\"></a></p>\n\n<p>get depot_tools from: <a href=\"https://storage.googleapis.com/chrome-infra/depot_tools.zip\" rel=\"nofollow noreferrer\">https://storage.googleapis.com/chrome-infra/depot_tools.zip</a> </p>\n\n<p>unzip it into \"c:\\Files\\Work\\chromium\\\" Use right click \"Extract All...\"  because of the hidden files </p>\n\n<h2>open powerhsell</h2>\n\n<p>Change folder: </p>\n\n<blockquote>\n  <p>cd c:\\Files\\Work\\chromium\\ </p>\n</blockquote>\n\n<p>check python installed correctly: </p>\n\n<blockquote>\n  <p>python --version </p>\n  \n  <p>Python 2.7.13 </p>\n</blockquote>\n\n<p>setup environment variable: </p>\n\n<blockquote>\n  <p>$env:DEPOT_TOOLS_WIN_TOOLCHAIN=0</p>\n  \n  <p>$env:GYP_MSVS_VERSION=2017 </p>\n  \n  <p>$env:path = $env:path + \";c:\\Files\\Work\\chromium\\depot_tools\\\" </p>\n</blockquote>\n\n<p>Create folder for chromium srouce code: </p>\n\n<blockquote>\n  <p>mkdir chromium &amp;&amp; cd chromium </p>\n</blockquote>\n\n<p>Download the source code (20gb it takes for a while) </p>\n\n<blockquote>\n  <p>fetch chromium </p>\n  \n  <p>gclient sync</p>\n</blockquote>\n\n<p>Switch to src folder: </p>\n\n<blockquote>\n  <p>cd src </p>\n</blockquote>\n\n<p>generate vs2017 project file: </p>\n\n<blockquote>\n  <p>gn gen --ide=vs2017 --filter//chrome/* --args=\"is_component_build = true is_debug = true remove_webcore_debug_symbols = true\" out\\Default </p>\n</blockquote>\n\n<h2>Open Visual Studio 2017:</h2>\n\n<p>Enable source server: </p>\n\n<p>Tools-> Options-> Debugging-> General-> \"Enable source server support\" \nwith \"Print Source server diagnostic messages...\" \n<a href=\"https://i.stack.imgur.com/voPOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/voPOd.png\" alt=\"enter image description here\"></a></p>\n\n<p>Add Symbols: </p>\n\n<p>Tools-> Options-> Debugging-> Symbols \nadd \n<a href=\"https://chromium-browser-symsrv.commondatastorage.googleapis.com\" rel=\"nofollow noreferrer\">https://chromium-browser-symsrv.commondatastorage.googleapis.com</a> \nand \n<a href=\"http://msdl.microsoft.com/download/symbols\" rel=\"nofollow noreferrer\">http://msdl.microsoft.com/download/symbols</a> \nwith cache \n<a href=\"https://i.stack.imgur.com/6pmAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pmAP.png\" alt=\"enter image description here\"></a></p>\n\n<p>restart VS2017 </p>\n\n<p>open chromium project (it takes for a while) \nc:\\Files\\Work\\chromium\\chromium\\src\\out\\Default\\all.sln project </p>\n\n<h2>Start Debugging:</h2>\n\n<p>Debug -> Attach to Process \nSet it to Attach to Native code: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Tm5RL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tm5RL.png\" alt=\"enter image description here\"></a></p>\n\n<p>When you need to debug chrome attach to main chrome process when you need to debug renderer attach to tab use Chrome Task Manager to figure out Process ID to open Task manager use: <code>shift+esc</code></p>\n\n<p>To Set Up break points: </p>\n\n<p>Put breakpoint, right click -> conditions \nand Check \"Allow the source code to be different from the original\" </p>\n\n<p><a href=\"https://i.stack.imgur.com/Txneb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Txneb.png\" alt=\"enter image description here\"></a></p>\n\n<p>If VS asking to checkout for the source press ok. </p>\n"}], "owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1342, "favorite_count": 0, "accepted_answer_id": 46246676, "answer_count": 2, "score": 0, "last_activity_date": 1539491727, "creation_date": 1504711172, "last_edit_date": 1539491727, "question_id": 46078967, "link": "https://stackoverflow.com/questions/46078967/chromium-debugging-on-windows-environment", "title": "Chromium debugging on Windows environment", "body": "<p>How can I debug chrome itself on Windows platform, I am familiar with Visual Studio and c# debugging.</p>\n\n<p><a href=\"https://chromium.googlesource.com/chromium/src/+/master/components/autofill/content/renderer/password_form_conversion_utils.cc#165\" rel=\"nofollow noreferrer\">This is the code part what I am interested in</a>.</p>\n\n<p>Should I build from source? or it is possible to log all of the necessary data without messing with the source code?</p>\n\n<p>I looked around online but I am not familiar with robust C++ projects. (like symbol tables etc, \u2026)</p>\n\n<p><strong>So my question is:</strong> </p>\n\n<p>What is the easiest way to debug step by step that method what is it in the link?</p>\n"}, {"tags": ["c++", "c++11", "boost", "command-line-interface"], "comments": [{"owner": {"reputation": 1831, "user_id": 4178510, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b5a159088e6454c73cc2b805ba92afa7?s=128&d=identicon&r=PG&f=1", "display_name": "letsBeePolite", "link": "https://stackoverflow.com/users/4178510/letsbeepolite"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1504713120, "post_id": 46078852, "comment_id": 79120482, "body": "@MarkB I tried that as well. Got rid of the positional arguments  (by commenting <code>p.add()</code>) and the issue still persisted."}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1504714858, "post_id": 46078852, "comment_id": 79121570, "body": "<code>libboost_program_options.s</code>? .s files are assembler source code - it seems very weird to me you assembler file to the <code>gcc</code>..."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1504717208, "post_id": 46078852, "comment_id": 79122961, "body": "@MarkB positional arguments <i>require</i> the named option description to exist in Boost Program Options"}, {"owner": {"reputation": 1831, "user_id": 4178510, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b5a159088e6454c73cc2b805ba92afa7?s=128&d=identicon&r=PG&f=1", "display_name": "letsBeePolite", "link": "https://stackoverflow.com/users/4178510/letsbeepolite"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1504718271, "post_id": 46078852, "comment_id": 79123554, "body": "@MarkB <code>libboost_program_options.so</code> it was a typo. fixed it."}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 4837295, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/caad108425c978df5eb8f4fdd800fb7d?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr G", "link": "https://stackoverflow.com/users/4837295/piotr-g"}, "reply_to_user": {"reputation": 1831, "user_id": 4178510, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b5a159088e6454c73cc2b805ba92afa7?s=128&d=identicon&r=PG&f=1", "display_name": "letsBeePolite", "link": "https://stackoverflow.com/users/4178510/letsbeepolite"}, "edited": false, "score": 0, "creation_date": 1504732816, "post_id": 46080983, "comment_id": 79131025, "body": "@letsBeePolite What exactly didn&#39;t work for you? What kind of error you get when you leave just: <code>boost::program_options::command_line_parser(argc, argv).options(desc).run()</code>?"}], "tags": [], "owner": {"reputation": 773, "user_id": 4837295, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/caad108425c978df5eb8f4fdd800fb7d?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr G", "link": "https://stackoverflow.com/users/4837295/piotr-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1504718218, "creation_date": 1504718218, "answer_id": 46080983, "question_id": 46078852, "link": "https://stackoverflow.com/questions/46078852/boost-program-options-argument-being-detected-more-than-once/46080983#46080983", "title": "boost program options: argument being detected more than once", "body": "<p>The problem is with the positional options. When you remove them and the <code>positional(p)</code> call from <code>boost::program_options::command_line_parser(argc, argv).\n            options(desc).positional(p).run()</code> \nyour problem will be gone. Since you only removed <code>add()</code> lines and left <code>positional(p)</code>, you got a different problem: \"too many positional options have been specified on the command line\". </p>\n\n<p>I suppose that the problem with your call:</p>\n\n<p><code>/src/a.out --mps-file earth.mps --n 5 --size 10 --seed 10 --order 0 1 2 3 4</code></p>\n\n<p>is that when there is a positional option defined on position 1, then the string <code>---mps-file</code> may be considered a value of this option itself. So you should probably avoid passing options with names, if the options were defined as positional. </p>\n"}], "owner": {"reputation": 1831, "user_id": 4178510, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b5a159088e6454c73cc2b805ba92afa7?s=128&d=identicon&r=PG&f=1", "display_name": "letsBeePolite", "link": "https://stackoverflow.com/users/4178510/letsbeepolite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1504718239, "creation_date": 1504710808, "last_edit_date": 1504718239, "question_id": 46078852, "link": "https://stackoverflow.com/questions/46078852/boost-program-options-argument-being-detected-more-than-once", "title": "boost program options: argument being detected more than once", "body": "<p>Following code detects the arguments being specified more than once.</p>\n\n<p>The command line arguments parser is implemented to ensure that the user provides a <code>string (mps-file)</code>, <code>integer (n)</code> and a <code>sequence of integer (0, n-1)</code> allowing others to be optional.</p>\n\n<p>However, when the code is compiled using the following flags:<br>\n<code>g++ -std=c++11 test.cpp /home/not_me/my_lib/boost_1_64_0/stage/lib/libboost_program_options.so</code></p>\n\n<p>Which compiles perfectly. But when executed in the following way it throws the following exception.</p>\n\n<pre><code>/src/a.out --mps-file earth.mps --n 5 --size 10 --seed 10 --order 0 1 2 3 4\nerror: option '--mps-file' cannot be specified more than once\n</code></pre>\n\n<p>But if executed using the following command it runs fine:<br>\n<code>./src/a.out earth.mps 5 10 10 --order 0 1 2 3 4</code></p>\n\n<p>Full code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;numeric&gt;\n\n#include &lt;boost/program_options.hpp&gt;\n\nint main (int argc, char* argv[]) {\n\n    int n;\n    int sample_size = 10;\n    std::random_device rd;\n    int seed = rd();\n    std::string mps_name;\n    std::vector&lt;int&gt; order;\n\n    boost::program_options::options_description desc(\"options\");\n    desc.add_options()\n        (\"mps-file\", boost::program_options::value&lt;std::string&gt;(&amp;mps_name)-&gt;required(), \"input mps file\")\n        (\"n\", boost::program_options::value&lt;int&gt;(&amp;n)-&gt;required(), \"number of variables\")\n        (\"size\", boost::program_options::value&lt;int&gt;(&amp;sample_size)-&gt;default_value(sample_size), \"size of sample\")\n        (\"seed\", boost::program_options::value&lt;int&gt;(&amp;seed)-&gt;default_value(seed), \"seed value\")\n        (\"order\", boost::program_options::value&lt;std::vector&lt;int&gt;&gt;(&amp;order)-&gt;required(), \"ordering\")\n        (\"help\", \"this help message\")\n        ;\n\n    boost::program_options::positional_options_description p;\n    p.add(\"mps-file\", 1);\n    p.add(\"n\", 1);\n    p.add(\"order\", -1);\n\n    boost::program_options::variables_map vm;\n\n    try {\n        boost::program_options::store(boost::program_options::command_line_parser(argc, argv).\n                                      options(desc).positional(p).run(), vm);\n\n        if (vm.count(\"help\") || argc == 1) {\n            std::cout &lt;&lt; \"usage: \" &lt;&lt; argv[0] &lt;&lt; \" [options]\" &lt;&lt; std::endl;\n            std::cout &lt;&lt; desc;\n            return -1;\n        }\n\n        boost::program_options::notify(vm);\n    }\n    catch (std::exception&amp; e) {\n        std::cout &lt;&lt; \"error: \" &lt;&lt; e.what() &lt;&lt; std::endl;\n        return -1;\n    }\n\n    std::vector&lt;int&gt; temp = order;\n    std::sort(temp.begin(), temp.end());\n    for (int i = 0; i &lt; n; ++i) {\n        if (temp[i] == i) { continue; }\n        std::cout &lt;&lt; \"incorrect ordering given\" &lt;&lt; std::endl;\n        return -1;\n    }\n\n    if (n != order.size()) {\n        std::cout &lt;&lt; \"mismatch between the 'n' and given ordering\" &lt;&lt; std::endl;\n        return -1;\n    }\n\n    return 0;\n} // main\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 217, "user_id": 3932876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b83e79763d9b9ddb98f0d8c797388eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3932876", "link": "https://stackoverflow.com/users/3932876/user3932876"}, "edited": false, "score": 0, "creation_date": 1504710129, "post_id": 46078578, "comment_id": 79118495, "body": "the file I edited is very old and badly written and has over 3000 lines, so I would be thankful about a hint what could cause the error"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1504710165, "post_id": 46078578, "comment_id": 79118520, "body": "Looks like there might be a <code>#define STATIC static</code> somewhere."}, {"owner": {"reputation": 217, "user_id": 3932876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b83e79763d9b9ddb98f0d8c797388eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3932876", "link": "https://stackoverflow.com/users/3932876/user3932876"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504710259, "post_id": 46078578, "comment_id": 79118593, "body": "I thought about that, too, but searching the whole project doesn&#39;t reveal another occurence of <code>STATIC</code>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504710434, "post_id": 46078578, "comment_id": 79118735, "body": "@NathanOliver&#39;s explanation is the only one that makes sense. You can try to capture the output of just preprocessing the file (using -E in g++) and verify whether that&#39;s true or not."}, {"owner": {"reputation": 648, "user_id": 1981061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf8c5be4f273295132879954ce1e7b11?s=128&d=identicon&r=PG", "display_name": "Griffin", "link": "https://stackoverflow.com/users/1981061/griffin"}, "edited": false, "score": 0, "creation_date": 1504710502, "post_id": 46078578, "comment_id": 79118796, "body": "Try declaring a <code>static</code> variable somewhere using <code>STATIC</code>. See if it compiles."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504711042, "post_id": 46078578, "comment_id": 79119191, "body": "How about using VAR_STATIC, VAR_DYNAMIC, VAR_xxx as enum entries?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1504711063, "post_id": 46078578, "comment_id": 79119205, "body": "This is exactly why using compile time constants in UPPERCASE is antipattern. Look into preprocessor output what happens there. Notice preprocessor macros can be supplied through compiler parameters, so do not look in files, but check prerpocessed file."}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 0, "last_activity_date": 1504711980, "creation_date": 1504711980, "answer_id": 46079206, "question_id": 46078578, "link": "https://stackoverflow.com/questions/46078578/c-error-tracking-unexpected-token/46079206#46079206", "title": "C++ error tracking unexpected token", "body": "<p>Most probably this is name collision with preprocessor problem. This is why old habbit of having all constant in uppercase creates problems this days instead of fixing them. To fix this issue remove macro definition before include:</p>\n\n<pre><code>#ifdef STATIC\n#undef STATIC\n#endif\n#include &lt;header_with_problem&gt;\n</code></pre>\n\n<p>on another side undefining this macro may create problems somewhere else, you then need to find what value it has and restore it after include. (or put this include as last one if possible)</p>\n"}, {"comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1504712922, "post_id": 46079387, "comment_id": 79120357, "body": "There should be no dependency on the order of include directives. In my view any such dependency is a bug."}, {"owner": {"reputation": 217, "user_id": 3932876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b83e79763d9b9ddb98f0d8c797388eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3932876", "link": "https://stackoverflow.com/users/3932876/user3932876"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1504779648, "post_id": 46079387, "comment_id": 79149257, "body": "there might be a minor difference between &quot;should be&quot; and &quot;cannot be&quot;. That kind of dependency is very unpleasant, but somehow inevitable if you deal with many external headers.  If you once come to the point where you have to use those libraries, you have to deal with the fact that some of those programmers weren&#39;t careful enough while coding"}], "tags": [], "owner": {"reputation": 217, "user_id": 3932876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b83e79763d9b9ddb98f0d8c797388eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3932876", "link": "https://stackoverflow.com/users/3932876/user3932876"}, "is_accepted": false, "score": 0, "last_activity_date": 1504712535, "creation_date": 1504712535, "answer_id": 46079387, "question_id": 46078578, "link": "https://stackoverflow.com/questions/46078578/c-error-tracking-unexpected-token/46079387#46079387", "title": "C++ error tracking unexpected token", "body": "<p>The solution was as stupid as I expected it to be:</p>\n\n<p>I used clang-format to format my code according to the guideline. The clang-format tool changed the include file order (alphabetical, whoever set this property). That \"minor\" change broke my code.</p>\n\n<p>Hint: I used the preprocessor to solve the problem:</p>\n\n<pre><code>#if 0\n// excluded code\n#endif\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#if 1\n// included code\n#endif\n</code></pre>\n\n<p>This allowed me to exclude codeparts. If the compilation still fails it will be a problem of the rest of the code. So I found out, that the problem was hidden in some include file.</p>\n\n<p>Afterwards I used SVN Diff to compare the includes.</p>\n"}], "owner": {"reputation": 217, "user_id": 3932876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b83e79763d9b9ddb98f0d8c797388eb?s=128&d=identicon&r=PG&f=1", "display_name": "user3932876", "link": "https://stackoverflow.com/users/3932876/user3932876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1504712535, "creation_date": 1504710018, "last_edit_date": 1592644375, "question_id": 46078578, "link": "https://stackoverflow.com/questions/46078578/c-error-tracking-unexpected-token", "title": "C++ error tracking unexpected token", "body": "<p>After some refactoring and changes to a C++ class, an error occured. The strange thing is that the error is not located in my .cpp file, but in an external include file (OpenSceneGraph) which worked fine until now.</p>\n<p>In the osg/Object file there is the following enum</p>\n<pre><code>enum DataVariance\n{\n    DYNAMIC,\n    STATIC,\n    UNSPECIFIED\n};\n</code></pre>\n<p>which results in a syntax error. When I change <code>STATIC</code> to <code>STATIc</code>, everything compiles fine.</p>\n<blockquote>\n<p>error C2059: syntax error: 'static '</p>\n<p>error C3805: 'Typ': unexpected token, expected either '}' or ','</p>\n</blockquote>\n<p>I didn't change a thing in OpenSceneGraph, only refactored some code in a class using OpenSceneGraph and the error suddenly appeared.\nThe whole compiler output talks about errors in the external code.</p>\n<p>How can I extract the real point of failure in my own code from the compiler output? I think it's just something stupid, but I have no idea where to search for the mistake.</p>\n<p>(I can't just change the code of OpenSceneGraph)</p>\n"}, {"tags": ["c++", "dll", "code-generation", "stdio"], "comments": [{"owner": {"reputation": 1215, "user_id": 1203683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/76d9fd1d42b96dc95315a70e3cd537ef?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/1203683/joel"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1504711040, "post_id": 46078523, "comment_id": 79119190, "body": "I was not implying that when I wrote &quot;C functions <i>or</i> C++ functions with external &quot;C&quot; linkage&quot;. I meant that the function is either pure C or C++ code. In the latter case, it has <code>extern &quot;C&quot;</code>."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 1, "creation_date": 1504711216, "post_id": 46078523, "comment_id": 79119309, "body": "I&#39;d say it would depend on the fact whether the called dll is compiled using same c-runtime as calling exe/dll"}, {"owner": {"reputation": 1215, "user_id": 1203683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/76d9fd1d42b96dc95315a70e3cd537ef?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/1203683/joel"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504711527, "post_id": 46078523, "comment_id": 79119512, "body": "@ArtemyVysotsky What&#39;s the implication of this? What if the code is compiled with two different versions of the same compiler or a combination of <code>gcc</code> and <code>clang</code> (which are binary compatible) for example?"}, {"owner": {"reputation": 1215, "user_id": 1203683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/76d9fd1d42b96dc95315a70e3cd537ef?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/1203683/joel"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1504711674, "post_id": 46078523, "comment_id": 79119615, "body": "@Olaf I know what it means. It means that it uses C name mangling. Try to answer the actual question."}, {"owner": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "edited": false, "score": 3, "creation_date": 1504711976, "post_id": 46078523, "comment_id": 79119779, "body": "Since a <code>FILE *</code> is an opaque pointer to some object or something within the runtime, this means that the DLL and the user of the DLL need to be using the same runtime. Different runtime versions could conceivably have different <code>FILE</code> object layouts. And the runtime in use by whatever component does the file open will need to share its tables and data with whatever other components, DLLs, that are being used. I am not sure if a DLL would load its own specific runtime that would be different from that of the using process or not."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "reply_to_user": {"reputation": 14339, "user_id": 1466970, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/V1J6z.jpg?s=128&g=1", "display_name": "Richard Chambers", "link": "https://stackoverflow.com/users/1466970/richard-chambers"}, "edited": false, "score": 0, "creation_date": 1504713284, "post_id": 46078523, "comment_id": 79120590, "body": "@RichardChambers in case of /MT or /MTd - it will"}], "answers": [{"tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": true, "score": 6, "last_activity_date": 1504722915, "last_edit_date": 1504722915, "creation_date": 1504720716, "answer_id": 46081594, "question_id": 46078523, "link": "https://stackoverflow.com/questions/46078523/can-i-pass-file-object-across-dlls-boundaries/46081594#46081594", "title": "Can I pass FILE object across DLLs boundaries?", "body": "<p>You can think of the <code>FILE*</code> as an opaque handle. The problem is that the actual object under this handle, in other words, the definition of the FILE structure, and its implementation details, are compiler/CRT specific.</p>\n\n<p>So, to my knowledge, there's no guarantee that the FILE implementation of e.g. Visual Studio 2008 or 2010 is the same of the ones that come in VS2015 or 2017. In other words, even if the <em>name</em> of the structure (FILE) is the same, the implementation details may very well change from one version of the CRT to another.</p>\n\n<p>So, I'd suggest to <em>not</em> have a <code>FILE*</code> at the DLL boundaries, unless you want to constrain your clients to use the <em>same</em> version of the VC++ compiler/CRT.</p>\n\n<p>On the other hand, if you need a cross-compiler/CRT compatible handle at the DLL interface boundary, I'd suggest using the Win32 <code>HANDLE</code> type (the one that is returned from APIs like <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CreateFile</code></a>). This is defined at the OS level, so it's independent from the particular VC++ compiler/CRT.</p>\n\n<p>If you want to get the Win32 <code>HANDLE</code> from a <code>FILE*</code>, you can use <code>_get_osfhandle</code> with <code>_fileno</code>, as explained in <a href=\"https://stackoverflow.com/a/3989842/1629821\">this SO answer</a>.</p>\n"}], "owner": {"reputation": 1215, "user_id": 1203683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/76d9fd1d42b96dc95315a70e3cd537ef?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/1203683/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 3, "accepted_answer_id": 46081594, "answer_count": 1, "score": 5, "last_activity_date": 1504722915, "creation_date": 1504709866, "last_edit_date": 1504710476, "question_id": 46078523, "link": "https://stackoverflow.com/questions/46078523/can-i-pass-file-object-across-dlls-boundaries", "title": "Can I pass FILE object across DLLs boundaries?", "body": "<p>I have a C++ framework where some calculations are delegated to (sometimes auto generated) C functions or C++ functions with external \"C\" linkage. These are low-level routines that must be evaluated very fast and with minimal overhead and they typically reside in separate shared objects/DLLs. Their current signature is something along the lines of:</p>\n\n<pre><code>int my_generated_function(const double* input, double* output, double* work);\n</code></pre>\n\n<p>which will reside in a shared library loaded using <code>dlopen</code> on POSIX or <code>LoadLibrary</code> on Windows. The corresponding function pointers are extracted using <code>dlsym(handle, \"my_generated_function\")</code> on POSIX or <code>GetProcAddress(handle, TEXT(\"my_generated_function\"))</code> on Windows.</p>\n\n<p>Is it safe and portable to augment the signature with a FILE object pointer?</p>\n\n<pre><code>int my_generated_function(const double* input, double* output, double* work,\n                          FILE* logfile);\n</code></pre>\n\n<p>Note that the shared object containing <code>my_generated_function</code> might have been compiled with a different (but binary compatible) compiler than the code that loads the shared object.</p>\n"}, {"tags": ["python", "c++", "opencv", "cmake", "nvidia"], "answers": [{"tags": [], "owner": {"reputation": 915, "user_id": 3858494, "user_type": "registered", "profile_image": "https://graph.facebook.com/545620260/picture?type=large", "display_name": "Mike Lane", "link": "https://stackoverflow.com/users/3858494/mike-lane"}, "is_accepted": false, "score": 0, "last_activity_date": 1521846177, "creation_date": 1521846177, "answer_id": 49459398, "question_id": 46078427, "link": "https://stackoverflow.com/questions/46078427/how-to-run-python-from-opencv-built-from-source-on-the-nvidia-jetson-tx2/49459398#49459398", "title": "How to run python from openCV (built from source) on the NVIDIA Jetson TX2?", "body": "<p>I was able to install OpenCV 3.4.1 for python on the Jetson TX2 with Jetpack 3.1 with the directions <a href=\"https://jkjung-avt.github.io/opencv3-on-tx2/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 31, "user_id": 8569828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5cf479f85765def3967c77ba473d11?s=128&d=identicon&r=PG&f=1", "display_name": "fovusuvo", "link": "https://stackoverflow.com/users/8569828/fovusuvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1521846177, "creation_date": 1504709630, "last_edit_date": 1504715103, "question_id": 46078427, "link": "https://stackoverflow.com/questions/46078427/how-to-run-python-from-opencv-built-from-source-on-the-nvidia-jetson-tx2", "title": "How to run python from openCV (built from source) on the NVIDIA Jetson TX2?", "body": "<p>I downloaded openCV from github and built it from source because I need a very specific release from openCV ie openCV2.4 .\nWhen trying to run some code written in Python, I get \"No module named cv2\".</p>\n\n<p>I therefor tried <code>pip install python-opencv</code>.\nBut this returns <code>Could not find a version that satisfies the requirement opencv-python (from version: ) No match distribution for opencv-python</code></p>\n\n<p>What can I do to solve the \"No module named cv2\" issue?</p>\n\n<p>I also tried this straight in the command line</p>\n\n<pre><code>$python\n&gt;&gt;&gt;&gt;import cv2\n</code></pre>\n\n<p>which returns no module named cv2 and</p>\n\n<pre><code>$python3\n&gt;&gt;&gt;&gt;import cv2\n</code></pre>\n\n<p>which returns no module named cv2 as well.</p>\n\n<p>I am however totally able to compile my C++ code. Which means the installation was somehow successful, but something fails on the Python side.</p>\n\n<p>related to my issue: <a href=\"https://devtalk.nvidia.com/default/topic/809406/jetson-tk1-opencv-python-quot-import-cv2-quot-/?offset=4#5207884\" rel=\"nofollow noreferrer\">https://devtalk.nvidia.com/default/topic/809406/jetson-tk1-opencv-python-quot-import-cv2-quot-/?offset=4#5207884</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://devtalk.nvidia.com/default/topic/1023652/jetson-tx2/how-can-i-run-quot-pip-install-opencv-python-quot-/?offset=5#5207902\" rel=\"nofollow noreferrer\">https://devtalk.nvidia.com/default/topic/1023652/jetson-tx2/how-can-i-run-quot-pip-install-opencv-python-quot-/?offset=5#5207902</a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I was suggested to run cmake with this flag set <code>-DBUILD_opencv_python2=ON</code>, but this flag doesn't seem to exist because when using cmake-gui I couldn't see it anywehere and when passing it in the terminal as a paramerer I get <code>Manually specified variables were not used by the project: BUILD_opencv_python</code></p>\n"}, {"tags": ["c++", "winapi", "com", "acrobat-sdk"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1504709530, "post_id": 46078233, "comment_id": 79118041, "body": "<code>LoadFile</code> expects a <code>BSTR</code>, while you are passing a plain string literal. See <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms221069.aspx\" rel=\"nofollow noreferrer\">BSTR Data Type</a> for more information."}], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 2123079, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a8a94c20ffd4bd50f6c15628fc975219?s=128&d=identicon&r=PG", "display_name": "user2123079", "link": "https://stackoverflow.com/users/2123079/user2123079"}, "edited": false, "score": 0, "creation_date": 1504762447, "post_id": 46081784, "comment_id": 79138675, "body": "God bless you good man! Everything now works as expected. Thank you very much!"}], "tags": [], "owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "is_accepted": true, "score": 1, "last_activity_date": 1504765773, "last_edit_date": 1504765773, "creation_date": 1504721445, "answer_id": 46081784, "question_id": 46078233, "link": "https://stackoverflow.com/questions/46078233/cant-load-pdf-in-window/46081784#46081784", "title": "Can&#39;t load PDF in window", "body": "<p>TypeLib tools display ... typelib information, which is some kind of a high level definition of types.</p>\n\n<p>It will not give you raw binary interface layout (exact method signature, calling convention, which must be __stdcall for COM interface methods).</p>\n\n<p>So, your definition for IAcroAXDocShim is totally wrong, hence crashes due to method signature mismatch. Here is a correct partial definition of it:</p>\n\n<pre><code>MIDL_INTERFACE(\"3B813CE7-7C10-4F84-AD06-9DF76D97A9AA\")\nIAcroAXDocShim : public IDispatch\n{\npublic:\n\n    // LoadFile is the 3rd method. You were \"blindly\" calling this one instead.\n    // Note if you don't need these 2, you could just define them as\n    // virtual void DontCallMe() = 0;\n    virtual HRESULT __stdcall get_src(BSTR* pVal) = 0;\n    virtual HRESULT __stdcall put_src(BSTR pVal) = 0;\n    virtual HRESULT __stdcall LoadFile(BSTR fileName, VARIANT_BOOL* ret) = 0;\n    // the rest is undefined, but if you don't need it, you don't have to define it.\n};\n</code></pre>\n"}], "owner": {"reputation": 594, "user_id": 2123079, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a8a94c20ffd4bd50f6c15628fc975219?s=128&d=identicon&r=PG", "display_name": "user2123079", "link": "https://stackoverflow.com/users/2123079/user2123079"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 46081784, "answer_count": 1, "score": 0, "last_activity_date": 1504765773, "creation_date": 1504709128, "last_edit_date": 1504710141, "question_id": 46078233, "link": "https://stackoverflow.com/questions/46078233/cant-load-pdf-in-window", "title": "Can&#39;t load PDF in window", "body": "<p>I'm trying to load <strong>PDF</strong> into window. I'm using <strong>Adobe Acrobat activeX</strong> and <strong>WinApi</strong> for this. I was able \"insert\" a web browser in this code, but I can't with <strong>PDF</strong>. While execution I get error:</p>\n\n<pre><code>\"Run-Time Check Failure #0 - The value of ESP was not properly saved across a function call.  This is usually a result of calling a function declared with one calling convention with a function pointer declared with a different calling convention.\"\n</code></pre>\n\n<p>Seems there is a problem in LoadFile prototype, but from <strong>ITypeLibViewer</strong> I get:</p>\n\n<pre><code>[id(0x00000002), helpstring(\"method LoadFile\")]\nVARIANT_BOOL LoadFile([in] BSTR fileName);\n</code></pre>\n\n<p>so everything seems ok. Where is a problem?</p>\n\n<p><strong>UPD1:</strong> passing fileName now done like this: </p>\n\n<pre><code>BSTR fileName = SysAllocString(L\"C:\\\\Users\\\\Fetterless\\\\Desktop\\\\test.pdf\");\n</code></pre>\n\n<p>But now it crashes</p>\n\n<p>My code:</p>\n\n<pre><code>const IID DIID_DPdf = { 0x3B813CE7, 0x7C10, 0x4F84, { 0xAD, 0x06, 0x9D, 0xF7, 0x6D, 0x97, 0xA9, 0xAA } };\nconst CLSID CLSID_Pdf = { 0xCA8A9780, 0x280D, 0x11CF, { 0xA2, 0x4D, 0x44, 0x45, 0x53, 0x54, 0x00, 0x00 } };\n\n// Register our Window class\nWNDCLASS wndclass;\nwndclass.style = CS_VREDRAW | CS_HREDRAW;\nwndclass.lpfnWndProc = &amp;WindowProc;\nwndclass.cbClsExtra = 0;\nwndclass.cbWndExtra = 0;\nwndclass.hIcon = NULL;\nwndclass.hCursor = NULL;\nwndclass.hbrBackground = reinterpret_cast &lt;HBRUSH&gt; (COLOR_BTNFACE + 1);\nwndclass.lpszMenuName = NULL;\nwndclass.lpszClassName = windowClassName;\n::RegisterClass(&amp;wndclass);\n\nHWND mainWindow = ::CreateWindow(\n    windowClassName,\n    windowTitle,\n    0,\n    CW_USEDEFAULT,\n    CW_USEDEFAULT,\n    windowWidth,\n    windowHeight,\n    NULL,\n    NULL,\n    0,\n    0);\n::ShowWindow(mainWindow, 1);\n::UpdateWindow(mainWindow);\n\ntypedef HRESULT(WINAPI *PFonc)(IUnknown*, HWND, IUnknown**);\nHINSTANCE hDLL2 = ::LoadLibrary(TEXT(\"atl.dll\"));\nif (!hDLL2)\n    return 1;\n\nPFonc AtlAxAttachControl = (PFonc) ::GetProcAddress(hDLL2, \"AtlAxAttachControl\");\n\nRECT rect;\n::GetClientRect(mainWindow, &amp;rect);\n\ncontainer = ::CreateWindowEx(\n    WS_EX_CLIENTEDGE,\n    L\"EDIT\",\n    L\"\", WS_CHILD | WS_VISIBLE,\n    0,\n    0,\n    rect.right,\n    rect.bottom,\n    mainWindow,\n    0,\n    0,\n    0);\n\nHRESULT hr = ::CoInitialize(0);\n\n\nMIDL_INTERFACE(\"3B813CE7-7C10-4F84-AD06-9DF76D97A9AA\")\nIAcroAXDocShim : public IDispatch\n{\npublic:\n    virtual VARIANT_BOOL LoadFile(BSTR fileName) = 0;\n};\n\nIAcroAXDocShim *pIpdf;\nhr = ::CoCreateInstance(CLSID_Pdf, 0, CLSCTX_INPROC_SERVER, DIID_DPdf, (void**)&amp;pIpdf);\nhr = AtlAxAttachControl(pIpdf, container, 0);\n\nif (FAILED(hr)) {\n    MessageBox(0, L\"FAILED(AtlAxAttachControl(pitd, container, NULL))\", L\"Error\", MB_ICONERROR | MB_OK);\n}\n\n\nVARIANT_BOOL res = pIpdf-&gt;LoadFile(L\"C:\\\\Users\\\\Fetterless\\\\Desktop\\\\test.pdf\");\n\n\n::MSG message;\nwhile (::GetMessageA(&amp;message, 0, 0, 0))\n{\n    switch (message.message) {\n    case WM_QUIT:\n        break;\n    default:\n        ::TranslateMessage(&amp;message);\n        ::DispatchMessage(&amp;message);\n        break;\n    }\n}\n\nCoUninitialize();\nFreeLibrary(hDLL2);\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-asio", "asio"], "comments": [{"owner": {"reputation": 1618, "user_id": 2604712, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/b9760d85f8c8319e665561fdc6db1feb?s=128&d=identicon&r=PG&f=1", "display_name": "jnbrq -Canberk S&#246;nmez", "link": "https://stackoverflow.com/users/2604712/jnbrq-canberk-s%c3%b6nmez"}, "edited": false, "score": 0, "creation_date": 1504728215, "post_id": 46078231, "comment_id": 79128836, "body": "Is it such a hard or bad question :/"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 2, "creation_date": 1504737429, "post_id": 46078231, "comment_id": 79132652, "body": "Wow. You should buy more patience, pronto."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504789750, "post_id": 46078231, "comment_id": 79156262, "body": "I like the question and it&#39;s not very easy to answer (otherwise the OP should have answered it himself). The downvote isn&#39;t mine and I countered it with an upvote."}, {"owner": {"reputation": 1618, "user_id": 2604712, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/b9760d85f8c8319e665561fdc6db1feb?s=128&d=identicon&r=PG&f=1", "display_name": "jnbrq -Canberk S&#246;nmez", "link": "https://stackoverflow.com/users/2604712/jnbrq-canberk-s%c3%b6nmez"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1504797805, "post_id": 46078231, "comment_id": 79162464, "body": "@sehe Thank you. If the question is good, then it&#39;s great! I feel like it can help me understanding the library further. Waiting for your answer excitedly."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5177758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcbd04d6c1a85660c1dcf69811266f96?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Pierre Smith", "link": "https://stackoverflow.com/users/5177758/jean-pierre-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1532333140, "creation_date": 1532333140, "answer_id": 51474175, "question_id": 46078231, "link": "https://stackoverflow.com/questions/46078231/boost-asio-wrapping-with-different-strands-several-times/51474175#51474175", "title": "Boost.Asio: wrapping with different `strand`s several times", "body": "<p>What you proposed would not be free of potential race conditions in Boost.Asio (1.65.1). Consider the snippet from your post below,</p>\n\n<blockquote>\n<pre><code>// can protect them both by something like,\nasync_read_until(sock, buf, '\\n',\n    this-&gt;strnd.wrap(other-&gt;strnd.wrap([](...) {\n        // depending on the data, this handler can alter both other\n        // and this\n        other-&gt;a ++;   // not safe\n        this-&gt;a --;    // this is safe as protected by this-&gt;strnd\n})));\n</code></pre>\n</blockquote>\n\n<p>and recall that <code>strand::wrap</code> behaves identically to <code>strand::dispatch</code> on invocation. If we consider it in this context, then we can deduce the following. But first let's require the wrapped strands using dispatch and lambdas (for illustration purposes).</p>\n\n<pre><code>async_read_until(sock, buf, '\\n', [...](...){  // lambda1\n    this-&gt;strnd.dispatch([...]{                // lambda2\n        other-&gt;strnd.dispatch([...]{           // lambda3\n           other-&gt;a ++;\n           this-&gt;a --:\n        });\n    });\n });\n</code></pre>\n\n<p>When <code>async_read_until</code> completes it will invoke the equivalent of <code>lambda1</code> which will call dispatch on the connections own strand. Whether invoked immediately or later, this will result in <code>lambda2</code> being invoked in a setting safe for the manipulation of <code>this-&gt;a</code>. In <code>lambda2</code> we invoke <code>other-&gt;stnd.dispatch</code> which and by the guarantees of that strand <code>lambda3</code> will either be invoked immediately <strong>or posted to <code>other-&gt;strnd</code></strong>. In either case <code>lambda2</code> completes as does the guarantees for concurrency provided by <code>this-&gt;strnd</code>. If <code>lambda3</code> was posted to <code>other-&gt;strnd</code> when it is eventually invoked to access <code>this-&gt;a --</code> we will no long have the guarantees provided for the invocation of <code>lambda2</code>.</p>\n\n<hr>\n\n<h1>Inspecting the headers</h1>\n\n<p>We can also see this by inspecting the <code>do_dispatch</code> function in the  <a href=\"https://www.boost.org/doc/libs/1_65_0/boost/asio/detail/impl/strand_service.ipp\" rel=\"nofollow noreferrer\"><code>strand_service</code> (Boost 1.65)</a> with the following counter example, as <code>wrap</code> simply invokes <code>dispatch</code> on the strand when the function is invoked.</p>\n\n<p>Consider a handler wrapped by 2 strands, <code>strand1</code> and <code>strand2</code>:</p>\n\n<pre><code>func = strand1.wrap(strand2.wrap(some_handler));\n</code></pre>\n\n<p>and without the underlying <code>io_service</code> being run. Then when <code>func</code> is invoked, as we are not in a current invocation of the strand, <a href=\"https://www.boost.org/doc/libs/1_65_0/boost/asio/detail/impl/strand_service.hpp\" rel=\"nofollow noreferrer\"><code>dispatch</code></a> will not immediately invoke the function, but instead request <code>do_dispatch</code> to perform further processing. In <code>do_dispatch</code> since we are not currently running in the I/O service, but no other handler has the strand's lock, <code>do_dispatch</code> will not signal immediate invocation, but will instead push the handler onto the ready queue for <code>strand1</code>. Once on the ready-queue the handler is simple invoked once the ready-queue is processed (see <code>do_complete</code>). </p>\n\n<p>This means that the point at which <code>strand2</code>'s wrapper is invoked to dispatch on <code>strand2</code>, <code>strand1</code> is completely done with providing it's guarantees. If <code>strand2</code>'s dispatch call results in immediate invocation then we are fine, if there is a conflict and the handler must be pushed on the waiting queue of strand2 then there is no telling when it will eventually be called.</p>\n\n<p>In summary, wrapping a handler in multiple strands does not guarantee that the handler will be in an environment with the concurrency guarantees of all the strands.</p>\n"}], "owner": {"reputation": 1618, "user_id": 2604712, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/b9760d85f8c8319e665561fdc6db1feb?s=128&d=identicon&r=PG&f=1", "display_name": "jnbrq -Canberk S&#246;nmez", "link": "https://stackoverflow.com/users/2604712/jnbrq-canberk-s%c3%b6nmez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532333140, "creation_date": 1504709118, "question_id": 46078231, "link": "https://stackoverflow.com/questions/46078231/boost-asio-wrapping-with-different-strands-several-times", "title": "Boost.Asio: wrapping with different `strand`s several times", "body": "<p>Suppose that I have two connections each having their respective <code>strand</code> for thread safety. Those connections are not operating alone, and they can talk to each other in some way. During this communication phase, handlers must be synchronized such that, no two handlers can modify connection objects at the same time.</p>\n\n<p>So, in order to achieve that, could I use two <code>strand::wrap</code>s in a nested way?</p>\n\n<p>For example, consider the following pseudo-code:</p>\n\n<pre><code>class connection /* connection actually uses shared_ptr's to ensure lifetime */\n{\n\npublic:\n\n    connection *other       /* somehow set */;\n    strand          strnd   /* somehow initialized correctly */;\n    socket          sock    /* somehow initialized correctly */;\n    streambuf       buf;\n\n    int a   /* shared variable */;\n\n    void trigger_read() // somewhat triggered\n    {\n        // since operations on sock are not thread-safe, use a strand to\n        // synchronise them\n        strnd.post([this] {\n            // now consider the following code,\n            async_read_until(sock, buf, '\\n',\n            this-&gt;strnd.wrap /* wrapping by this-&gt;strnd is for sure */([](...) {\n                 // depending on the data, this handler can alter both other\n                 // and this\n                 other-&gt;a ++;   // not safe\n                 this-&gt;a --;    // this is safe as protected by this-&gt;strnd\n            }));\n\n            // can protect them both by something like,\n            async_read_until(sock, buf, '\\n',\n                this-&gt;strnd.wrap(other-&gt;strnd.wrap([](...) {\n                    // depending on the data, this handler can alter both other\n                    // and this\n                    other-&gt;a ++;   // not safe\n                    this-&gt;a --;    // this is safe as protected by this-&gt;strnd\n            })));\n            // this???\n        });\n\n    }\n\n};\n</code></pre>\n"}, {"tags": ["c++", "matrix", "parallel-processing", "openmp", "armadillo"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 2, "creation_date": 1504708730, "post_id": 46077992, "comment_id": 79117441, "body": "It&#39;s unclear to me what exactly you are trying to do? So the armadillo code works and does what it should do? Then use it. If you setup armadillo correctly it&#39;s as fast as possible (cache, simd, multithreading; as using <a href=\"https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms\" rel=\"nofollow noreferrer\">BLAS</a> internally), maybe ooonly missing matrix-reordering (not sure if that&#39;s done or supported)."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1504709404, "post_id": 46077992, "comment_id": 79117940, "body": "after each parallel loop there is a fence, ie all threads wait until the last one finishes with the loop. You have 3 seperate parallel sections which smells like a big effective non-parallel part of execution time. Also 700x700 is not a very big matrix, maybe you need to increase the size to see a benefit from running in parallel"}, {"owner": {"reputation": 111, "user_id": 7648144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd685ecc7faf140098c94dad7f0f56df?s=128&d=identicon&r=PG&f=1", "display_name": "jack.l", "link": "https://stackoverflow.com/users/7648144/jack-l"}, "edited": false, "score": 0, "creation_date": 1504709552, "post_id": 46077992, "comment_id": 79118059, "body": "I&#39;m hoping to increase the speed of the computation by running the simulation on a HPC with more than 4 cores.  Does the internal BLAS implementation automatically employ all available cores?"}, {"owner": {"reputation": 111, "user_id": 7648144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd685ecc7faf140098c94dad7f0f56df?s=128&d=identicon&r=PG&f=1", "display_name": "jack.l", "link": "https://stackoverflow.com/users/7648144/jack-l"}, "edited": false, "score": 0, "creation_date": 1504709694, "post_id": 46077992, "comment_id": 79118167, "body": "In the actual simulation I am running I need to repeat this computation many thousands of times, I would like to scale up but approx 700x700 already takes several days to complete a single run so even if I were to gain on the parallelisation it would still be quite an exhaustive process.   Thanks for your comments by the way!"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1504710494, "post_id": 46077992, "comment_id": 79118788, "body": "BLAS is more of a standard with many implementations. Did you read the wiki-link? Yes sure, it can also use 32 cores (depending on the implementation in use), but who knows what kind of scaling/speedup will be achieved (dimension-dependent). But probably something better as you would achieve (as highly optimized). Maybe checkout <a href=\"https://en.wikipedia.org/wiki/Matrix_chain_multiplication\" rel=\"nofollow noreferrer\">Matrix chain multiplication too</a> (i already mentioned it; it&#39;s usually a good idea with big data, not sure if the setup-phase would pay-off in your case)"}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1504744943, "post_id": 46077992, "comment_id": 79134388, "body": "Could you kindly <b>present your HPC-domain insights</b> why trying to use 8 OMP-threads in situation, where your hardware has 4 CPU-cores?"}, {"owner": {"reputation": 111, "user_id": 7648144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd685ecc7faf140098c94dad7f0f56df?s=128&d=identicon&r=PG&f=1", "display_name": "jack.l", "link": "https://stackoverflow.com/users/7648144/jack-l"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1504777096, "post_id": 46077992, "comment_id": 79147467, "body": "Thanks @sascha, I&#39;ll look into the matrix chain multiplication."}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 1, "creation_date": 1504807470, "post_id": 46077992, "comment_id": 79167899, "body": "@jack.l with all due respect, there ought be clear, <b>there is not any Matrix-chain</b> present in the process. <b>Neither <code>BD</code> is, nor <code>IB</code> is a Matrix-chain</b>. Had better to focus rather on the core issues."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 1, "creation_date": 1504811304, "post_id": 46077992, "comment_id": 79169781, "body": "@user3666197 Okay. That&#39;s on me, as i did not evalute his code carefully and mentioned it twice."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7648144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd685ecc7faf140098c94dad7f0f56df?s=128&d=identicon&r=PG&f=1", "display_name": "jack.l", "link": "https://stackoverflow.com/users/7648144/jack-l"}, "edited": false, "score": 0, "creation_date": 1504776953, "post_id": 46079195, "comment_id": 79147362, "body": "Sorry I had to look up a few of those terms.  Is it correct that the Armadillo BLAS does support MKL functionality? (<a href=\"https://software.intel.com/en-us/articles/intelr-mkl-and-c-template-libraries\" rel=\"nofollow noreferrer\">software.intel.com/en-us/articles/&hellip;</a>) In which case do you think the most optimized solution is to simply use the in built arma functionality?"}], "tags": [], "owner": {"reputation": 1, "user_id": 8566534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f891fe34641baf9e8056e5977263dcc?s=128&d=identicon&r=PG", "display_name": "user8566534", "link": "https://stackoverflow.com/users/8566534/user8566534"}, "is_accepted": false, "score": 0, "last_activity_date": 1504711939, "creation_date": 1504711939, "answer_id": 46079195, "question_id": 46077992, "link": "https://stackoverflow.com/questions/46077992/efficient-parallelisation-of-a-linear-algebraic-function-in-c-openmp/46079195#46079195", "title": "Efficient parallelisation of a linear algebraic function in C++ OpenMP", "body": "<p>If you use a compiler which corrects your bad loop nests and fuses loops to improve memory locality for non parallel builds, openmp will likely disable those optimizations. As recommended by others, you should consider an optimized library such as mkl or acml. Default gfortran blas typically provided with distros is not multithreaded. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": false, "score": 0, "last_activity_date": 1512759109, "last_edit_date": 1512759109, "creation_date": 1504754087, "answer_id": 46087266, "question_id": 46077992, "link": "https://stackoverflow.com/questions/46077992/efficient-parallelisation-of-a-linear-algebraic-function-in-c-openmp/46087266#46087266", "title": "Efficient parallelisation of a linear algebraic function in C++ OpenMP", "body": "<h2>The Art of HPC is right the efficiency<sup> ( poor grants never get HPC cluster quota ) </sup></h2>\n\n<ul>\n<li>so first hope is your process will never re-read from file</li>\n</ul>\n\n<p>Why? This would be an HPC-killer:</p>\n\n<blockquote>\n  <p>I need to repeat this computation many thousands of times</p>\n</blockquote>\n\n<p>Fair enough to say, this comment has increased the overall need to completely review the approach and to re-design the future solution not to rely on a few tricks, but to indeed gain from your case-specific arrangement.</p>\n\n<p>Last but not least - the <strong><code>[PARALLEL]</code></strong> scheduling is not needed, as a \"just\"-<strong><code>[CONCURRENT]</code></strong>-process scheduling is quite enough here. There is no need to orchestrate any explicit inter-process synchonisation or any message-passing and the process could just get orchestrated for the best performance possible.</p>\n\n<hr>\n\n<h2>No <em>\"...quick glance at a bit of code...\"</em> will help</h2>\n\n<p>You need to first understand both your <strong>whole process</strong> and also the hardware resources, it will be executed on.</p>\n\n<p>CPU-type will tell you the available instruction set extensions for advanced tricks, L3- / L2- / L1-cache sizes + cache-line sizes will help you decide on best cache-friendly re-use of cheap data-access ( not <strong>paying hundreds [ns]</strong> if one can operate smarter on just <strong>a few [ns]</strong> instead, from a not-yet-evicted NUMA-core-local copy )</p>\n\n<hr>\n\n<h2>The Maths first, implementation next:</h2>\n\n<p>As given <strong><code>dBdt = B % ( R - (I * B) ) + ( B * D ) - ( B * e )</code></strong></p>\n\n<p>On a closer look, anyone ought be ready to realise HPC/cache-alignment priorities and wrong-looping traps:</p>\n\n<pre><code>dBdt = B % ( R - ( I * B ) )   ELEMENT-WISE OP B[s,n]-COLUMN-WISE\n     +               ( B * D ) SUM.PRODUCT  OP B[s,n].ROW-WISE MUL-BY-D[n,n].COL\n     -               ( B * e ) ELEMENT-WISE OP B[s,n].ROW-WISE MUL-BY-SCALAR\n</code></pre>\n\n<hr>\n\n<pre><code> ROW/COL-SUM.PRODUCT OP -----------------------------------------+++++++++++++++++++++++++++++++++++++++++++++\n ELEMENT-WISE OP ---------------------------------------------+  |||||||||||||||||||||||||||||||||||||||||||||\n ELEMENT-WISE OP ----------------------+                      |  |||||||||||||||||||||||||||||||||||||||||||||\n                                       |                      |  |||||||||||||||||||||||||||||||||||||||||||||\n                                       v                      v  vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n dBdt[s,n]        =   B[s,n]           % /   R[s,n]           - /  I[s,s]                  . B[s,n]           \\ \\\n     _________[n]         _________[n]   |       _________[n]   |      ________________[s]       _________[n]  | |\n    |_|       |          |_|       |     |      |_|       |     |     |________________|        | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n    | .       |   =      | .       |   % |      | .       |   - |     |                |   .    | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n    | .       |          | .       |     |      | .       |     |     |                |        | |       |    | |\n [s]|_________|       [s]|_________|     |   [s]|_________|     |  [s]|________________|     [s]|_|_______|    | |\n                                         \\                      \\                                             / /\n\n                      B[s,n]              D[n,n]          \n                          _________[n]        _________[n]\n                         |_________|         | |       |   \n                         | .       |         | |       |  \n                         | .       |         | |       |  \n                         | .       |         | |       |  \n                  +      | .       |   .  [n]|_|_______|   \n                         | .       |      \n                         | .       |      \n                         | .       |             \n                      [s]|_________|      \n\n\n                      B[s,n]                \n                          _________[n]      \n                         |_| . . . |        \n                         | .       |        \n                         | .       |        \n                         | .       |        \n                  -      | .       |    *  REGISTER_e\n                         | .       |        \n                         | .       |        \n                         | .       |        \n                      [s]|_________|        \n</code></pre>\n\n<h2>Having this in mind, efficient HPC loops will look much different</h2>\n\n<p>Depending on real-CPU-caches,<br>\nthe loop may very efficiently co-process naturally-<strong><code>B</code></strong>-row-aligned <strong><code>( B * D ) - ( B * e )</code></strong><br>\nin a single phase and also the highest-re-use-efficiency based part of the elementwise longest-pipeline <strong><code>B % ( R - (  I * B ) )</code></strong> \nhere having a chance to re-use ~ 1000 x ( n - 1 ) cache-hits of <strong><code>B</code></strong>-column-aligned, which ought quite well fit into L1-DATA-cache footprints, so achieving savings in the order of seconds just from a cache-aligned loops.</p>\n\n<hr>\n\n<h2>After this cache-friendly loop-alignment is finished,</h2>\n\n<p>next may a distributed processing help, <strong>not before.</strong></p>\n\n<p>So, an experimentation plan setup:</p>\n\n<p><strong>Step 0:</strong> The Ground-Truth: <strong><code>~ 0.13 [s]</code></strong> for <strong><code>dBdt[700,30]</code></strong> using armadillo in 100-test-loops  </p>\n\n<p><strong>Step 1:</strong> The manual-serial: - test the rewards of the best cache-aligned code ( not the posted one, but the math-equivalent, cache-line re-use optimised one -- where there ought be <strong>not more than just 4x</strong> <code>for(){...}</code> code-blocks 2-nested, having the rest 2 inside, <strong>to meet the Linear Algebra rules without devastating benefits</strong> of cache-line alignments ( with some residual potential to benefit yet a bit more in <strong><code>[PTIME]</code></strong> from using a duplicated <strong><code>[PSPACE]</code></strong> data-layout ( both a FORTRAN-order and a C-order, for respective re-reading strategies ), as matrices are so miniature in sizes and L2- / L1-DATA-cache available per CPU-core enjoy cache sizes well grown in scale )</p>\n\n<p><strong>Step 2:</strong> The manual-omp( <code>&lt;= NUMA_cores - 1</code> ): - test if omp can indeed yield any <a href=\"https://stackoverflow.com/revisions/18374629/3\">\"positive\" <strong>Amdahl's Law</strong> speedup</a> ( beyond the omp-setup overhead costs ). A carefull process-2-CPU_core <strong>affinity-mapping</strong> may help avoid any possible cache-eviction introduced by any non-HPC thread spoiling the cache-friendly layout on a set of configuration-\"reserved\"-set of <code>( NUMA_cores - 1 )</code>, where all other ( non-HPC processes ) ought be affinity-mapped onto the last ( shared ) CPU-core, thus helping to prevent those HPC-process-cores retain their cache-lines un-evicted by any kernel/scheduler-injected non-HPC-thread.</p>\n\n<p><sub> ( As seen in (2), there are arangements, derived from HPC best-practices, that none compiler ( even a magic-wand equipped one ) would  ever be able to implement, so do not hesitate to ask your PhD Tutor for a helping hand, if your Thesis needs some HPC-expertise, as it is not so easy to build on trial-error in this quite expensive experimental domain and your primary domain is not the Linear Algebra and/or ultimate CS-theoretic / HW-specific cache-strategy optimisations. ) </sub></p>\n\n<hr>\n\n<h2>Epilogue:</h2>\n\n<p>Using smart tools in an inappropriate way does not bring anything more than additional overheads ( task-splits/joins + memory-translations ( worse with atomic-locking ( worst with blocking / fence / barriers ) ) ).</p>\n"}], "owner": {"reputation": 111, "user_id": 7648144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd685ecc7faf140098c94dad7f0f56df?s=128&d=identicon&r=PG&f=1", "display_name": "jack.l", "link": "https://stackoverflow.com/users/7648144/jack-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 3, "answer_count": 2, "score": 1, "last_activity_date": 1512759109, "creation_date": 1504708439, "last_edit_date": 1504810769, "question_id": 46077992, "link": "https://stackoverflow.com/questions/46077992/efficient-parallelisation-of-a-linear-algebraic-function-in-c-openmp", "title": "Efficient parallelisation of a linear algebraic function in C++ OpenMP", "body": "<p>I have little experience with parallel programming and was wondering if anyone could have a quick glance at a bit of code I've written and see, if there are any obvious ways I can improve the efficiency of the computation.</p>\n\n<p>The difficulty arises due to the fact that I have multiple matrix operations of unequal dimensionality that I need to compute, so I'm not sure the most condensed way of coding the computation.</p>\n\n<p>Below is my code.  Note this code DOES work.  The matrices I am working with are of dimension approx 700x700 [see int s below] or 700x30 [int n].  </p>\n\n<p>Also, I am using the armadillo library for my sequential code.  It may be the case that parallelizing using openMP but retaining the armadillo matrix classes is slower than defaulting to the standard library; does anyone have an opinion on this (before I spend hours overhauling!)? </p>\n\n<pre><code>double start, end, dif;\n\nint i,j,k;      // iteration counters\nint s,n;        // matrix dimensions\n\nmat B; B.load(...location of stored s*n matrix...) // input objects loaded from file\nmat I; I.load(...s*s matrix...);\nmat R; R.load(...s*n matrix...);\nmat D; D.load(...n*n matrix...);\n\ndouble e = 0.1; // scalar parameter\n\ns = B.n_rows; n = B.n_cols;\n\nmat dBdt; dBdt.zeros(s,n); // object for storing output of function\n\n// 100X sequential computation using Armadillo linear algebraic functionality\n\nstart = omp_get_wtime();\n\nfor (int r=0; r&lt;100; r++) {\n    dBdt = B % (R - (I * B)) + (B * D) - (B * e);\n}\n\nend = omp_get_wtime();\ndif = end - strt;\ncout &lt;&lt; \"Seq computation: \" &lt;&lt; dBdt(0,0) &lt;&lt; endl;\nprintf(\"relaxation time = %f\", dif);\ncout &lt;&lt; endl;\n\n// 100 * parallel computation using OpenMP\n\nomp_set_num_threads(8);\n\n\nfor (int r=0; r&lt;100; r++) {\n\n//          parallel computation of I * B \n#pragma omp parallel for default(none) shared(dBdt, B, I, R, D, e, s, n) private(i, j, k) schedule(static)\n    for (i = 0; i &lt; s; i++) {\n        for (j = 0; j &lt; n; j++) {\n            for (k = 0; k &lt; s; k++) {\n                dBdt(i, j) += I(i, k) * B(k, j);\n            }\n        }\n     }\n\n//          parallel computation of B % (R - (I * B)) \n#pragma omp parallel for default(none) shared(dBdt, B, I, R, D, e, s, n) private(i, j) schedule(static)\n    for (i = 0; i &lt; s; i++) {\n        for (j = 0; j &lt; n; j++) {\n            dBdt(i, j)  = R(i, j) - dBdt(i, j);\n            dBdt(i, j) *= B(i, j);\n            dBdt(i, j) -= B(i, j) * e;\n        }\n    }\n\n//          parallel computation of B * D \n#pragma omp parallel for default(none) shared(dBdt, B, I, R, D, e, s, n) private(i, j, k) schedule(static)\n   for (i = 0; i &lt; s; i++) {\n        for (j = 0; j &lt; n; j++) {\n            for (k = 0; k &lt; n; k++) {\n                dBdt(i, j) += B(i, k) * D(k, j);\n            }\n        }\n    }    \n}\n\nend = omp_get_wtime();\ndif = end - strt;\ncout &lt;&lt; \"OMP computation: \" &lt;&lt; dBdt(0,0) &lt;&lt; endl;\nprintf(\"relaxation time = %f\", dif);\ncout &lt;&lt; endl;\n</code></pre>\n\n<p>If I hyper-thread 4 cores I get the following output:</p>\n\n<pre><code>Seq computation: 5.54926e-10\nrelaxation time = 0.130031\nOMP computation: 5.54926e-10\nrelaxation time = 2.611040\n</code></pre>\n\n<p>Which suggests that although both methods produce the same result, the parallel formulation is roughly 20 times slower than the sequential.</p>\n\n<p>It is possible that for matrices of this size, the overheads involved in this 'variable-dimension' problem outweighs the benefits of parallelizing.  Any insights would be much appreciated.</p>\n\n<p>Thanks in advance,</p>\n\n<p>Jack</p>\n"}, {"tags": ["python", "c++", "linux", "cross-compiling"], "comments": [{"owner": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "edited": false, "score": 0, "creation_date": 1504765315, "post_id": 46077958, "comment_id": 79139906, "body": "For my case, I add <code>-static-libstdc++</code>. For example, <code>g++ -static-libstdc++ main.cpp</code>."}, {"owner": {"reputation": 1979, "user_id": 2231031, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/lkElm.png?s=128&g=1", "display_name": "code", "link": "https://stackoverflow.com/users/2231031/code"}, "reply_to_user": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "edited": false, "score": 0, "creation_date": 1504765874, "post_id": 46077958, "comment_id": 79140235, "body": "Where does static-libstdc++ live?"}, {"owner": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "edited": false, "score": 0, "creation_date": 1504766138, "post_id": 46077958, "comment_id": 79140355, "body": "I don&#39;t know. Look at here: <a href=\"https://stackoverflow.com/questions/5216399/usr-lib-libstdc-so-6-version-glibcxx-3-4-15-not-found\" title=\"usr lib libstdc so 6 version glibcxx 3 4 15 not found\">stackoverflow.com/questions/5216399/&hellip;</a>"}, {"owner": {"reputation": 1979, "user_id": 2231031, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/lkElm.png?s=128&g=1", "display_name": "code", "link": "https://stackoverflow.com/users/2231031/code"}, "reply_to_user": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "edited": false, "score": 0, "creation_date": 1504796564, "post_id": 46077958, "comment_id": 79161546, "body": "Doesn&#39;t work for dlib. Get a plethora of compiler errors."}], "answers": [{"tags": [], "owner": {"reputation": 2440, "user_id": 804479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/20a5b0dc33b08417d7f6f6d1a17c97ca?s=128&d=identicon&r=PG&f=1", "display_name": "aleb", "link": "https://stackoverflow.com/users/804479/aleb"}, "is_accepted": false, "score": 4, "last_activity_date": 1511439546, "creation_date": 1511439546, "answer_id": 47455433, "question_id": 46077958, "link": "https://stackoverflow.com/questions/46077958/libstdc-error-glibcxx-3-4-22-not-found/47455433#47455433", "title": "libstdc++ Error: &#39;GLIBCXX_3.4.22&#39; not found", "body": "<p>One option is to use <code>-static-libstdc++</code> when linking, see <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html#Link-Options\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html#Link-Options</a></p>\n"}], "owner": {"reputation": 1979, "user_id": 2231031, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/lkElm.png?s=128&g=1", "display_name": "code", "link": "https://stackoverflow.com/users/2231031/code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2858, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1511439546, "creation_date": 1504708375, "last_edit_date": 1504765173, "question_id": 46077958, "link": "https://stackoverflow.com/questions/46077958/libstdc-error-glibcxx-3-4-22-not-found", "title": "libstdc++ Error: &#39;GLIBCXX_3.4.22&#39; not found", "body": "<p>I was trying to cross-compile dlib for Raspberry Pi, using the arm-linux-gnueabihf compiler.</p>\n\n<p>After successful runs of <code>cmake</code> and <code>make -j4</code>, I ran <code>python setup.py bdist_wheel --repackage</code>, which created the necessary .so files which I later copied to my Pi's <code>/usr/lib</code> using <code>scp</code>.</p>\n\n<p>Now when I run <code>import dlib</code> in IDLE, I get the following error:</p>\n\n<p><code>ImportError: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.22' not found (required by dlib/dlib.so)\n</code></p>\n\n<p>Here's the ouput of <code>strings /usr/lib/libstdc++.so.6 | grep GLIBCXX</code>:</p>\n\n<p><code>GLIBCXX_3.4\nGLIBCXX_3.4.1\nGLIBCXX_3.4.2\nGLIBCXX_3.4.3\nGLIBCXX_3.4.4\nGLIBCXX_3.4.5\nGLIBCXX_3.4.6\nGLIBCXX_3.4.7\nGLIBCXX_3.4.8\nGLIBCXX_3.4.9\nGLIBCXX_3.4.10\nGLIBCXX_3.4.11\nGLIBCXX_3.4.12\nGLIBCXX_3.4.13\nGLIBCXX_3.4.14\nGLIBCXX_3.4.15\nGLIBCXX_3.4.16\nGLIBCXX_3.4.17\nGLIBCXX_3.4.18\nGLIBCXX_3.4.19\nGLIBCXX_3.4.20\n</code></p>\n\n<p>This means that the error is legitimate, but my libstdc++ is already at its newest version on the Pi. What can I do to get that <strong>3.4.22</strong> version installed on the Pi? Or maybe, if it's possible, to compile it again against <strong>3.4.20</strong>? How can I set a compiler flag for that?</p>\n\n<p><em>Note:</em> I posted this on the RaspberryPi SE site, but was suggested to ask it here. <a href=\"https://raspberrypi.stackexchange.com/questions/72177/libstdc-error-glibcxx-3-4-22-not-found?noredirect=1#comment113566_72177\">libstdc++ Error</a></p>\n"}, {"tags": ["c++", "file-io", "binaryfiles", "binary-data"], "comments": [{"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "edited": false, "score": 3, "creation_date": 1504707604, "post_id": 46077623, "comment_id": 79116550, "body": "You never check the stream state when reading.  That&#39;s bad."}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 1, "creation_date": 1504707719, "post_id": 46077623, "comment_id": 79116623, "body": "... or writing. or that file was opened... You also want to open them (for reading and writing) as binary"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1504707726, "post_id": 46077623, "comment_id": 79116627, "body": "What&#39;s a <code>node</code>? And what does <code>read</code> do? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504708060, "post_id": 46077623, "comment_id": 79116906, "body": "You should take advantage of <i>function overloading</i> and use one function name for writing int, short, etc.  You could use a template too.  IMHO, all this extra work for a single statement?"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 1, "creation_date": 1504708079, "post_id": 46077623, "comment_id": 79116922, "body": "Try writing and reading an <code>int</code>, before you attempt a complex class. Small steps."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "edited": false, "score": 0, "creation_date": 1504708184, "post_id": 46077623, "comment_id": 79117004, "body": "I don&#39;t think <code>node</code> is relevant - the issue is within the read and write functions."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "edited": false, "score": 0, "creation_date": 1504708234, "post_id": 46077623, "comment_id": 79117038, "body": "Thomas, I already spoke on overloading and templates. I&#39;m still experimenting with the functions."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "edited": false, "score": 0, "creation_date": 1504708285, "post_id": 46077623, "comment_id": 79117085, "body": "Passer, there&#39;s a comment in the code that explains what <code>read</code> does. Seriously, does nobody read before commenting?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504708331, "post_id": 46077623, "comment_id": 79117117, "body": "BTW, there is an overhead for executing a function (which consumes processing time), such as pushing variables onto a stack or making copies of registers.  A branch or call instruction may cause the processor&#39;s instruction pipeline to be reloaded (again a waste of time).  Then there is the set up for returning a value.  All this overhead can be removed by not using functions for single line statements.  (Some compilers <i>may</i> optimize away the overhead, depending on the optimization settings)."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "edited": false, "score": 0, "creation_date": 1504708387, "post_id": 46077623, "comment_id": 79117160, "body": "Artemy thank you, I had that in there before, but took it out when playing with it. It looks like that was my error!"}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "edited": false, "score": 0, "creation_date": 1504708910, "post_id": 46077623, "comment_id": 79117587, "body": "Thanks Thomas, but I&#39;d rather correct critical bugs before working on optimizing my program, especially when I&#39;m experimenting with methods."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1504793212, "post_id": 46077623, "comment_id": 79158942, "body": "Have you actually tried debugging this?  I&#39;d expect you to have run your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> within Valgrind or a similar checker, and to have investigated with a debugger such as GDB.  Please <a href=\"https://stackoverflow.com/posts/46077623/edit\">edit</a> your question to summarize what the debugging tools told you and why they didn&#39;t solve your problem.  And read Eric Lippert&#39;s <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1504798595, "post_id": 46077623, "comment_id": 79162976, "body": "@TobySpeight, I knew the source of the issue via debugging. This was mentioned in the original post. This question was solved by Artemy Vysotsky, but was not posted as an answer."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504798688, "post_id": 46077623, "comment_id": 79163035, "body": "@ArtemyVysotsky, if you post your response as an answer, I will mark the question as solved."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1504798878, "post_id": 46077623, "comment_id": 79163171, "body": "It&#39;s helpful for readers to know <i>what kind of debugging</i> you&#39;ve done, as waiting for a crash with GDB is very different from finding uses of uninitialised variables or wild pointers with Valgrind.  And it turns out that the error seems to be in code you didn&#39;t even show us; that&#39;s why we ask for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1504832259, "post_id": 46077623, "comment_id": 79177107, "body": "@TobySpeight, not sure what you&#39;re talking about. <code>ofstream dataFile(fileName.c_str());</code> is the second line of code in my second posted chunk, and Artemy noticed that it wasn&#39;t declared properly."}], "answers": [{"tags": [], "owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1504798814, "creation_date": 1504798814, "answer_id": 46100395, "question_id": 46077623, "link": "https://stackoverflow.com/questions/46077623/reading-writing-binary-file-returns-0xcccccccc/46100395#46100395", "title": "Reading/writing binary file returns 0xCCCCCCCC", "body": "<p>You have to check the result of open, read, write operations.</p>\n\n<p>And you need to open files (for reading and writing) as binary.</p>\n"}], "owner": {"reputation": 15, "user_id": 8421500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49162e6c9bd6179b0676e8d71c47d13f?s=128&d=identicon&r=PG&f=1", "display_name": "dchurchwell", "link": "https://stackoverflow.com/users/8421500/dchurchwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 46100395, "answer_count": 1, "score": -1, "last_activity_date": 1504798814, "creation_date": 1504707460, "question_id": 46077623, "link": "https://stackoverflow.com/questions/46077623/reading-writing-binary-file-returns-0xcccccccc", "title": "Reading/writing binary file returns 0xCCCCCCCC", "body": "<p>I have a script that dumps class info into a binary file, then another script that retrieves it.</p>\n\n<p>Since binary files only accept chars, I wrote three functions for reading and writing Short Ints, Ints, and Floats. I've been experimenting with them so they're not overloaded properly, but they all look like this:</p>\n\n<pre><code>void writeInt(ofstream&amp; file, int val) {\n    file.write(reinterpret_cast&lt;char *&gt;(&amp;val), sizeof(val));\n}\nint readInt(ifstream&amp; file) {\n    int val;\n    file.read(reinterpret_cast&lt;char *&gt;(&amp;val), sizeof(val));\n    return val;\n}\n</code></pre>\n\n<p>I'll put the class load/save script at the end of the post, but I don't think it'll make too much sense without the rest of the class info.</p>\n\n<p>Anyway, it seems that the file gets saved properly. It has the correct size, and all of the data matches when I load it. However, at some point in the load process, the file.read() function starts returning 0xCCCCCCCC every time. This looks to me like a read error, but I'm not sure why, or how to correct it. Since the file is the correct size, and I don't touch the seekg() function, it doesn't seem likely that it's reaching the end of file prematurely. I can only assume it's an issue with my read/write method, since I did kind of hack it together with limited knowledge. However, if this is the case, why does it read all the data up to a certain point without issue?</p>\n\n<p>The error starts occurring at a random point each run. This may or may not be related to the fact that all the class data is randomly generated. </p>\n\n<p>Does anyone have experience with this? I'm not even sure how to continue debugging it at this point.</p>\n\n<p>Anyway, here are the load/save functions:</p>\n\n<pre><code>void saveToFile(string fileName) {\n    ofstream dataFile(fileName.c_str());\n    writeInt(dataFile, inputSize);\n    writeInt(dataFile, fullSize);\n    writeInt(dataFile, outputSize);\n    // Skips input nodes - no data needs to be saved for them.\n    for (int i = inputSize; i &lt; fullSize; i++) {    // Saves each node after inputSize\n        writeShortInt(dataFile, nodes[i].size);\n        writeShortInt(dataFile, nodes[i].skip);\n        writeFloat(dataFile, nodes[i].value);\n        //vector&lt;int&gt; connects;\n        //vector&lt;float&gt; weights;\n        for (int j = 0; j &lt; nodes[i].size; j++) {\n            writeInt(dataFile, nodes[i].connects[j]);\n            writeFloat(dataFile, nodes[i].weights[j]);\n        }\n    }\n    read(500);\n}\nvoid loadFromFile(string fileName) {\n    ifstream dataFile(fileName.c_str());\n    inputSize = readInt(dataFile);\n    fullSize = readInt(dataFile);\n    outputSize = readInt(dataFile);\n    nodes.resize(fullSize);\n\n    for (int i = 0; i &lt; inputSize; i++) {\n        nodes[i].setSize(0);    // Sets input nodes\n    }\n\n    for (int i = inputSize; i &lt; fullSize; i++) {    // Loads each node after inputSize\n        int s = readShortInt(dataFile);\n        nodes[i].setSize(s);\n        nodes[i].skip = readShortInt(dataFile);\n        nodes[i].value = readFloat(dataFile);\n        //vector&lt;int&gt; connects;\n        //vector&lt;float&gt; weights;\n        for (int j = 0; j &lt; nodes[i].size; j++) {\n            nodes[i].connects[j] = readInt(dataFile); //Error occurs in a random instance of this call of readInt().\n            nodes[i].weights[j] = readFloat(dataFile);\n        }\n        read(i); //Outputs class data to console\n    }\n    read(500);\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "linked-list", "forward-declaration"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 3, "creation_date": 1504707093, "post_id": 46077436, "comment_id": 79116166, "body": "There&#39;s no point in making .cpp files for these template classes. <a href=\"https://stackoverflow.com/q/495021/501250\">Templates are <i>required</i> to be implemented in a header</a> (unless you explicitly instantiate every instantiation you need, which is rarely a good idea) because the stuff that uses them needs to know the definition of the template class members in order to instantiate them."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504707245, "post_id": 46077436, "comment_id": 79116295, "body": "If I were you I would just declare <code>node</code> as a struct and make all of it&#39;s members public.  You really don&#39;t need access control as it is just a convenience object."}, {"owner": {"reputation": 67, "user_id": 8285107, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/aa5492c370a84de77c9f5d32dcd1e222?s=128&d=identicon&r=PG&f=1", "display_name": "Ram Sharma", "link": "https://stackoverflow.com/users/8285107/ram-sharma"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1504707398, "post_id": 46077436, "comment_id": 79116409, "body": "@cdhowie I have a diferent code this is the simpified version of that and there it is required of me to make different cpp files for each and every class. how to implement forward declaration or anything similar in it"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 1, "creation_date": 1504707637, "post_id": 46077436, "comment_id": 79116575, "body": "@RamSharma It&#39;s required of you to do something that <i>won&#39;t work?</i>"}, {"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 2, "creation_date": 1504707655, "post_id": 46077436, "comment_id": 79116583, "body": "You forward declare as you already do. You need a forward declaration here, otherwise you get a circular include error. That said, <code>node</code> should be a member struct of linked, since they are tightly coupled."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1504709509, "post_id": 46077436, "comment_id": 79118027, "body": "A bit of terminology confusion here. <code>node</code> is <i>not</i> a class. It&#39;s a template. To be exact, it&#39;s a class template. It it not a &quot;template class&quot;. And the rule is that templates (class templates and function templates alike) go in header files. A rule about class definitions does not apply to things that aren&#39;t classes."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504708233, "post_id": 46077768, "comment_id": 79117037, "body": "You should also state they need to make sure <code>linked_implementation.cpp</code> is not add to the project as a file to be compiled."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504708523, "post_id": 46077768, "comment_id": 79117265, "body": "@NathanOliver is there a downside to compiling <code>linked_implementation.cpp</code> besides doing unnecessary work?"}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504708525, "post_id": 46077768, "comment_id": 79117268, "body": "I would avoid using the <code>cpp</code> extension entirely due to the reason that @NathanOliver mentioned.  Some IDEs automatically build all <code>cpp</code> files, which would break in this case.  Most people use <code>tpp</code> or <code>hpp</code> for class template implementations."}, {"owner": {"reputation": 2016, "user_id": 446717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2Cdf.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/446717/roberto"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504708537, "post_id": 46077768, "comment_id": 79117278, "body": "@NathanOliver I think, correct me if I&#39;m wrong, that it will compile just fine if the linked_implementation.cpp is added to the project, it would be &quot;just&quot; an overhead in the compilation process"}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1504708681, "post_id": 46077768, "comment_id": 79117388, "body": "@Roberto You would have to wrap <code>linked_implementation.cpp</code> with include guards to avoid redefinition errors."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504708785, "post_id": 46077768, "comment_id": 79117484, "body": "@Roberto As 0x5453 said you&#39;ll get redefinition errors if you do."}, {"owner": {"reputation": 2016, "user_id": 446717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2Cdf.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/446717/roberto"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504709059, "post_id": 46077768, "comment_id": 79117696, "body": "@NathanOliver I&#39;ve edited the answer according to comments, thanks"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1504709223, "post_id": 46077768, "comment_id": 79117814, "body": "@Roberto No problem.  Also note that <code>linked.h</code> needs include guards otherwise you&#39;ll have a infinite circular inclusion.  Or you can just remove the <code>#include &quot;linked.h&quot;</code> from <code>linked_implementation.tpp</code> since it will never be compiled by itself."}, {"owner": {"reputation": 2016, "user_id": 446717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2Cdf.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/446717/roberto"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504709778, "post_id": 46077768, "comment_id": 79118222, "body": "@NathanOliver removed the extra include"}], "tags": [], "owner": {"reputation": 2016, "user_id": 446717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2Cdf.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/446717/roberto"}, "is_accepted": false, "score": 0, "last_activity_date": 1504713263, "last_edit_date": 1504713263, "creation_date": 1504707863, "answer_id": 46077768, "question_id": 46077436, "link": "https://stackoverflow.com/questions/46077436/forward-declaration-in-h-file-to-use-friendly-class/46077768#46077768", "title": "forward declaration in .h file to use friendly class", "body": "<p>You should consider having the whole declaration of the templates in .h files.</p>\n\n<p>If you need to separate them you could:</p>\n\n<p>linked.h:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass linked;\n#include \"linked_implementation.tpp\"\n</code></pre>\n\n<p>linked_implementation.tpp:</p>\n\n<pre><code>#ifndef LINKED_IMPLEMENTATION_TPP\n#define LINKED_IMPLEMENTATION_TPP\n\ntemplate &lt;typename T&gt;\nclass node {\n    ...\n    friend class linked&lt;T&gt;; \n};\n\ntemplate &lt;typename T&gt;\nclass linked {\n    ...\n};\n\n#endif\n</code></pre>\n\n<p>EDITED according to comments</p>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 5787661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bNBPUhLcr6M/AAAAAAAAAAI/AAAAAAAAThY/sbNqqK2aSDo/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0442\u043e\u043d \u0421\u0435\u0440\u0433\u0443\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/5787661/%d0%90%d0%bd%d1%82%d0%be%d0%bd-%d0%a1%d0%b5%d1%80%d0%b3%d1%83%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": 1, "last_activity_date": 1504711946, "creation_date": 1504711946, "answer_id": 46079197, "question_id": 46077436, "link": "https://stackoverflow.com/questions/46077436/forward-declaration-in-h-file-to-use-friendly-class/46079197#46079197", "title": "forward declaration in .h file to use friendly class", "body": "<p>node.hpp</p>\n\n<pre><code>#pragma once\n\ntemplate &lt;typename T&gt; class linked; \ntemplate &lt;typename T&gt; class node { \n... \nfriend class linked&lt;T&gt;; \n};\n</code></pre>\n\n<p>linked.hpp</p>\n\n<pre><code>#pragma once\n#include \"node.hpp\" // just because I guess you will use it in linked implementation\ntemplate &lt;typename T&gt; class linked { \n... \n};\n</code></pre>\n\n<p>So you can keep use node without linked.hpp included. You can even keep it private header and doesn't ship to user. But if linked some code wants to use linked class just include linked.hpp.</p>\n\n<p><strong>EDIT</strong>\nAs an option\nnode.hpp</p>\n\n<pre><code>#pragma once\n\ntemplate &lt;typename T&gt; class node { \n... \nclass linked; \nfriend class linked&lt;T&gt;; \n};\n</code></pre>\n\n<p>linked.hpp</p>\n\n<pre><code>#pragma once\n#include \"node.hpp\"\ntemplate &lt;typename T&gt; class node&lt;T&gt;::linked { \n... \n};\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 8285107, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/aa5492c370a84de77c9f5d32dcd1e222?s=128&d=identicon&r=PG&f=1", "display_name": "Ram Sharma", "link": "https://stackoverflow.com/users/8285107/ram-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504713263, "creation_date": 1504706935, "question_id": 46077436, "link": "https://stackoverflow.com/questions/46077436/forward-declaration-in-h-file-to-use-friendly-class", "title": "forward declaration in .h file to use friendly class", "body": "<pre><code>template &lt;typename T&gt;\nclass linked;\n\ntemplate &lt;typename T&gt;\nclass node {\n    ...\n    friend class linked&lt;T&gt;; \n};\n\ntemplate &lt;typename T&gt;\nclass linked {\n    ...\n};\n</code></pre>\n\n<p>Note that I have forward declared the linked class so as to declare it a friendly class of node but now I want to make a different .h and .cpp file for each of the class. How will I do the forward declaration in them. </p>\n"}, {"tags": ["c++", ".net", "c++-cli"], "comments": [{"owner": {"reputation": 111, "user_id": 1353403, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e632874b49cd42db82954d45995d931?s=128&d=identicon&r=PG", "display_name": "Daerum", "link": "https://stackoverflow.com/users/1353403/daerum"}, "edited": false, "score": 0, "creation_date": 1504708286, "post_id": 46077413, "comment_id": 79117086, "body": "I forgot to add, I already have another StatusStrip in another form. It changes the text without problems, but it is not a click event, it uses a mousemove event. I think it could be related on how the tableLayout is generated or something. Maybe it repaints itself when something changes in the form."}, {"owner": {"reputation": 111, "user_id": 1353403, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e632874b49cd42db82954d45995d931?s=128&d=identicon&r=PG", "display_name": "Daerum", "link": "https://stackoverflow.com/users/1353403/daerum"}, "edited": false, "score": 0, "creation_date": 1504772641, "post_id": 46077413, "comment_id": 79144443, "body": "I noticed there are two events being triggered: The Paint Event from the Table and a Layout event from the form. I tried to capture the actual AutoScroll Position before this happen and reset it during the Event. For some reason, that doesn&#39;t work at all. If I show the point before this happens, try to change it, and show it once again after the change, it shows the previous value. It is like this-&gt;tableLayoutPanel1-&gt;AutoScrollPosition = p; is just being ignored... this is getting weirder after every test :/"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1504773133, "post_id": 46077413, "comment_id": 79144740, "body": "TableLayoutPanel is often ab/used to implement a grid control.  This rarely come to a good end.  It is only good at layout, it has none of the behavior of a grid.  So anything like &quot;click a row&quot; cannot work, only the controls inside the TLP can get the focus.  And only controls that are able to handle focus, so not Label.  A ScrollableControl automatically scrolls to ensure that the child control with the focus is visible, surely what you see happening.  Lots and lots of real grid controls out there, the one in the VS toolbox is DataGridView."}, {"owner": {"reputation": 111, "user_id": 1353403, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e632874b49cd42db82954d45995d931?s=128&d=identicon&r=PG", "display_name": "Daerum", "link": "https://stackoverflow.com/users/1353403/daerum"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1504774960, "post_id": 46077413, "comment_id": 79145951, "body": "@HansPassant You are right, the problem with the DataGridView is that a column can only have one type of control, for instance, you create a button column or a text column, but I didn&#39;t find (I admit I didn&#39;t search so much) a way to have different controls in the same column, that is why I used the other layout. Anyway. I&#39;m pretty sure (this is my assumption, I can be wrong) the problem is that each time you change a label, your form is repainted. When the form is repainted, the Table repaints itself to the last visited control. Anyway, using textboxes instead of labels seems to work for now."}], "owner": {"reputation": 111, "user_id": 1353403, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e632874b49cd42db82954d45995d931?s=128&d=identicon&r=PG", "display_name": "Daerum", "link": "https://stackoverflow.com/users/1353403/daerum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504773157, "creation_date": 1504706865, "last_edit_date": 1504773157, "question_id": 46077413, "link": "https://stackoverflow.com/questions/46077413/change-text-on-status-strip-label-inside-a-click-event-on-table-layout-panel-mov", "title": "Change Text on Status Strip Label inside a click event on Table Layout Panel moves Form to Selected Control", "body": "<p>I have a very weird issue which I cannot manage to fix.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>Inside a Windows Form I have a StatusStrip and a tableLayoutPanel. That StatusStrip contains one label which will change its text depending on the row clicked. The tableLayoutPanel is set to autoScroll since the content is bigger than the size of my form.</p>\n\n<p>Each row will have different controls. You can find buttons, labels, text boxes or checkboxes.</p>\n\n<p>I'm able to select the row and change the text according to the selected row. The problem comes when I have scrolled down and then click on the table. For some reason, the Form will move to the last selected Control within the table.</p>\n\n<p>For instance, If I have clicked inside a textbox, and I scroll down, where I cannot see the textbox, when I click on a table row. The form will automatically move to show the textbox. </p>\n\n<p>It seems to me that for some reason, when I change the text it must repaint the whole table and then it moves to the last selected control.</p>\n\n<p><strong>What Have I tried</strong></p>\n\n<ol>\n<li>Move the table inside a panel.</li>\n<li>Move the panel to another panel.</li>\n<li>As for now, the panel is removed, doesn't seem to be necessary.</li>\n<li>Originally I had 6 labels, removed them all to ensure it happens with just one.</li>\n<li>If I don't change the text, but for instance, shows a message inside the Debug then the problem disappears, which for me it indicates that the problem resides inside the \"change text\" event.</li>\n<li>** EDITED **: If I change a label inside the table, the problem is gone. So it seems to be a combination with the table + the status label.</li>\n<li>** EDITED **: If I move the auto scroll to the form instead of the table. Then the problem is gone. But this is not what I want because then, my status bar won't be visible since it will be on the button and I need it to keep visible.</li>\n<li>** EDITED **: If I use a menu strip the problem is still there. If I move the status Stript. The problem is still there.</li>\n<li>** EDITED **: If I remove the panels and use a label inside the form. The problem persist.</li>\n</ol>\n\n<p><strong>The Code</strong></p>\n\n<p>I will keep code to a minimum and will add more if it is necessary.</p>\n\n<p>This is where I update the toolStriptStatusLabel:</p>\n\n<pre><code>System::Void updateSelectedRow(int row) {       \n    if (row == selectedRow)\n        return;\n    selectedRow = row;\n    Command ^cmd = commandsList[row];\n    commandToolStripStatusLabel-&gt;Text = cmd-&gt;name;\n}\n</code></pre>\n\n<p>This is my click event:</p>\n\n<pre><code>System::Void tableLayoutPanel1_Click(System::Object^  sender, System::EventArgs^  e) {              \n    System::Drawing::Point ^point = GetRowColIndex(\n        tableLayoutPanel1,\n        tableLayoutPanel1-&gt;PointToClient(Cursor-&gt;Position           \n        ));\n    updateSelectedRow(point-&gt;Y);\n}\n</code></pre>\n\n<p>This is where I find the Row I clicked:</p>\n\n<pre><code>System::Drawing::Point ^GetRowColIndex(TableLayoutPanel ^tlp, Point point) {\n    if (point.X &gt; tlp-&gt;Width || point.Y &gt; tlp-&gt;Height)\n        return nullptr;\n\n    int w = tlp-&gt;Width;\n    int h = tlp-&gt;Height;\n    array&lt;int&gt; ^widths = tlp-&gt;GetColumnWidths();\n\n    int i;\n    for (i = widths-&gt;Length - 1; i &gt;= 0 &amp;&amp; point.X &lt; w; i--)\n        w -= widths[i];\n    int col = i + 1;\n\n    array&lt;int&gt; ^heights = tlp-&gt;GetRowHeights();\n    for (i = heights-&gt;Length - 1; i &gt;= 0 &amp;&amp; point.Y &lt; h; i--)\n        h -= heights[i];\n\n    int row = i + 1;\n\n    return gcnew Point(col, row);\n\n}\n</code></pre>\n"}, {"tags": ["c++", "boost", "callback"], "answers": [{"tags": [], "owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "is_accepted": false, "score": 3, "last_activity_date": 1504706766, "creation_date": 1504706766, "answer_id": 46077376, "question_id": 46077282, "link": "https://stackoverflow.com/questions/46077282/boostbind-sending-variable-number-of-callback-args-to-callback-function/46077376#46077376", "title": "boost::bind sending variable number of callback args to callback function", "body": "<p>Since you're using <code>std::function</code> you should probably also use <code>std::bind</code>. The <code>std::bind</code> function can take <a href=\"http://en.cppreference.com/w/cpp/utility/functional/placeholders\" rel=\"nofollow noreferrer\">placeholder arguments</a> for arguments that are not bound at the time the <code>std::function</code> is created.</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 3910497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67bb617a5e5ad12a0ea8e7b073b7ce05?s=128&d=identicon&r=PG&f=1", "display_name": "user3910497", "link": "https://stackoverflow.com/users/3910497/user3910497"}, "is_accepted": false, "score": 0, "last_activity_date": 1504709854, "creation_date": 1504709854, "answer_id": 46078519, "question_id": 46077282, "link": "https://stackoverflow.com/questions/46077282/boostbind-sending-variable-number-of-callback-args-to-callback-function/46078519#46078519", "title": "boost::bind sending variable number of callback args to callback function", "body": "<p>For your first issue: since you bind the arguments to the function, <code>foo_caller</code>'s signature should be:</p>\n\n<pre><code>void foo_caller(std::function&lt;void()&gt; ff)\n</code></pre>\n\n<p>boost::bind copies the arguments you passed and creates a new callable entity that can be invoked with no arguments (since they're known by this new entity) and returns void.</p>\n\n<p>When you want to pass arguments at a later time, you have to bind placeholders like Jonesinator explains in his answer.</p>\n"}], "owner": {"reputation": 2380, "user_id": 1059639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/rzPqE.jpg?s=128&g=1", "display_name": "Mopparthy Ravindranath", "link": "https://stackoverflow.com/users/1059639/mopparthy-ravindranath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1504715900, "creation_date": 1504706530, "last_edit_date": 1504715900, "question_id": 46077282, "link": "https://stackoverflow.com/questions/46077282/boostbind-sending-variable-number-of-callback-args-to-callback-function", "title": "boost::bind sending variable number of callback args to callback function", "body": "<p>I am writing an asynchronous function that accepts a callback fn to invoke after completion.  In general this works fine (but with some limitations) and I am able to send params as below.</p>\n\n<pre><code>#include &lt;boost/bind.hpp&gt;\n#include &lt;iostream&gt;\n\nvoid foo_cb(int result, const char* data) {\n  std::cout &lt;&lt; \"foo_cb executed with params \" &lt;&lt; result &lt;&lt; \", \" &lt;&lt; data &lt;&lt; std::endl;\n}\n\n\n//void foo_caller(std::function&lt;void(int, const char*)&gt; ff) {\n//template &lt;typename... Args&gt;\nvoid foo_caller(std::function&lt;void(int, const char*)&gt; ff) {\n  std::cout &lt;&lt; \"Caller executing...\" &lt;&lt; std::endl;\n  ff(1, \"hi\");\n}\n\nint main(int argc, char** argv) {\n  int x = 122;\n  const char* y = \"Hello nether world\";\n  foo_caller(boost::bind(foo_cb, x, y));\n  return 0;\n}\n</code></pre>\n\n<p>I have two issues here:</p>\n\n<ol>\n<li><p>Inside foo_caller() function, while invoking callback ff, I have to give some dummy values to satisfy the function signature of called fn i.e. ff(1, \"hi\");  But this executes correctly and prints the original values passed in main(). It looks very unnatural having to call ff() with some values, which won't be used.</p></li>\n<li><p>In my main(), I may decide to pass different types and/or numbers of arguments to the called-back function, and i write the the completion handler accordingly.  In such case, how do I actually write the async function foo_caller(...) to take variable number of args and data types and correctly call the completion handler?</p></li>\n</ol>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to Jonesinator, after having looked at std::placeholders, I realized what mistake I was doing.</p>\n\n<ol>\n<li>foo_caller signature n definition were wrong.</li>\n<li>Invocation from main was also wrong.</li>\n</ol>\n\n<p>The updated version of code that works is, below:</p>\n\n<pre><code>void foo_cb(int result, const char* data) {\n  std::cout &lt;&lt; \"foo_cb executed with params \" &lt;&lt; result &lt;&lt; \", \" &lt;&lt; data &lt;&lt; std::endl;\n}\n\n\nvoid foo_caller(std::function&lt;void(int, const char*)&gt; ff, int a, const char* b) {\n  std::cout &lt;&lt; \"Caller executing...\" &lt;&lt; std::endl;\n  ff(a, b);\n}\n\n\nint main(int argc, char** argv) {\n\n  int x = 122;\n  const char* y = \"Hello nether world\";\n  foo_caller(std::bind(foo_cb, std::placeholders::_1, std::placeholders::_2), x, y);\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "plugins"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1504706531, "post_id": 46077246, "comment_id": 79115750, "body": "&quot;unknown override&quot; suggests that you need to enable c++11 on your compiler."}, {"owner": {"reputation": 1338, "user_id": 4360353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f921d78049db0195bb3fc3cda8e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "Basya", "link": "https://stackoverflow.com/users/4360353/basya"}, "edited": false, "score": 0, "creation_date": 1504706673, "post_id": 46077246, "comment_id": 79115841, "body": "HINSTANCE and LoadLibrary are Windows API things.  Have you (directly or indirectly) included windows.h?"}, {"owner": {"reputation": 29, "user_id": 7354769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ef5024fd18dffc819bde0fdb10b538?s=128&d=identicon&r=PG&f=1", "display_name": "Sheep", "link": "https://stackoverflow.com/users/7354769/sheep"}, "edited": false, "score": 0, "creation_date": 1504706695, "post_id": 46077246, "comment_id": 79115865, "body": "I though it was enabled by default on VS, it isn&#39;t? Thanks for your answer !"}, {"owner": {"reputation": 29, "user_id": 7354769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ef5024fd18dffc819bde0fdb10b538?s=128&d=identicon&r=PG&f=1", "display_name": "Sheep", "link": "https://stackoverflow.com/users/7354769/sheep"}, "edited": false, "score": 0, "creation_date": 1504706806, "post_id": 46077246, "comment_id": 79115945, "body": "It&#39;s probably obvious, but, I don&#39;t know how the author is using windows api, what should I do? Thanks !"}, {"owner": {"reputation": 1338, "user_id": 4360353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f921d78049db0195bb3fc3cda8e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "Basya", "link": "https://stackoverflow.com/users/4360353/basya"}, "edited": false, "score": 0, "creation_date": 1504706877, "post_id": 46077246, "comment_id": 79115998, "body": "You have to include windows.h. But if he gives you the source code, that should be in there.  Did you create the project in Visual C++ or did he provide it?"}, {"owner": {"reputation": 29, "user_id": 7354769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ef5024fd18dffc819bde0fdb10b538?s=128&d=identicon&r=PG&f=1", "display_name": "Sheep", "link": "https://stackoverflow.com/users/7354769/sheep"}, "edited": false, "score": 0, "creation_date": 1504706972, "post_id": 46077246, "comment_id": 79116083, "body": "He provided it, but my version of VS wasn&#39;t compatible, so VS warned me, that&#39;s probably why it&#39;s not working on my computer."}, {"owner": {"reputation": 29, "user_id": 7354769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ef5024fd18dffc819bde0fdb10b538?s=128&d=identicon&r=PG&f=1", "display_name": "Sheep", "link": "https://stackoverflow.com/users/7354769/sheep"}, "edited": false, "score": 0, "creation_date": 1504707628, "post_id": 46077246, "comment_id": 79116567, "body": "Finally everything was related to the windows api, thank you for the advice :)"}], "owner": {"reputation": 29, "user_id": 7354769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ef5024fd18dffc819bde0fdb10b538?s=128&d=identicon&r=PG&f=1", "display_name": "Sheep", "link": "https://stackoverflow.com/users/7354769/sheep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504707698, "creation_date": 1504706415, "last_edit_date": 1504707698, "question_id": 46077246, "link": "https://stackoverflow.com/questions/46077246/trying-to-understand-a-c-plugin-tutorial", "title": "Trying to understand a c++ Plugin tutorial", "body": "<p>I'm working on my first plug in system, I have a software in C++ and I want to create a plugin system to allow users to develop their own plugins to enhance it.</p>\n\n<p>To do that I'm using this tutorial:\n<a href=\"http://www.andynicholas.com/?p=27\" rel=\"nofollow noreferrer\">http://www.andynicholas.com/?p=27</a>\nHis complete code is available at the end of the tutorial, but I can't compile it.</p>\n\n<p>I'm working on Visual Studio 2017. Here are my problems:</p>\n\n<p>1) I have issues with this section: <a href=\"http://www.andynicholas.com/?p=27&amp;page=5\" rel=\"nofollow noreferrer\">http://www.andynicholas.com/?p=27&amp;page=5</a>\nI don't know what HINSTANCE really is (do I need any library or something?), and I have this error for the HINSTANCE line:</p>\n\n<blockquote>\n  <p>error C3646: unknown override specifier</p>\n</blockquote>\n\n<p>2) On the same line, I got :</p>\n\n<blockquote>\n  <p>Error C4430 Missing Type Specifier. it will be used by default</p>\n</blockquote>\n\n<p>3) The guy in the tutorial is using LoadLibrary(), but I can't find from where this comes from. Any idea?</p>\n\n<p>If anyone can help me, I'm new to this.\nAlso, if you have a great tutorial on how to create a plugin system in c++, I'll be happy to read it.\nPlease ask if you need more details.</p>\n\n<p>(Sorry for my English, and the VS errors are translated too...).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "customization", "eigen", "eigen3"], "comments": [{"owner": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1504709858, "post_id": 46077242, "comment_id": 79118286, "body": "Don&#39;t bother and checkout the devel branch. This is already <a href=\"http://eigen.tuxfamily.org/dox-devel/classEigen_1_1DenseBase.html#a0b44220621cd59a75cd0f48cc499518f\" rel=\"nofollow noreferrer\">there</a>."}, {"owner": {"reputation": 3213, "user_id": 8494588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35d4ad4186f4415eb43175b481cb2bd?s=128&d=identicon&r=PG&f=1", "display_name": "florestan", "link": "https://stackoverflow.com/users/8494588/florestan"}, "reply_to_user": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1504775284, "post_id": 46077242, "comment_id": 79146146, "body": "@ggael that&#39;s great, thanks! However I&#39;d be really interested, how to make e.g. the Circulant expression of the tutorial writable (even if that specific case makes not too much sense). I&#39;ve tried to transfer some of the concepts from IndexedView to the Circulant example, but no success."}, {"owner": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1504782824, "post_id": 46077242, "comment_id": 79151364, "body": "I guess you need to update the <code>Indexing</code> class to support non-const nested expressions, so that <code>m_arg</code> can be non-const just like we do in <code>IndexedView</code>. Then in the evaluator, the ctor should take a <code>const XprType&amp;</code>. Basically just follow the <code>IndexedView</code> example."}, {"owner": {"reputation": 3213, "user_id": 8494588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35d4ad4186f4415eb43175b481cb2bd?s=128&d=identicon&r=PG&f=1", "display_name": "florestan", "link": "https://stackoverflow.com/users/8494588/florestan"}, "reply_to_user": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1505825993, "post_id": 46077242, "comment_id": 79564559, "body": "Thanks @ggael. Finally I&#39;ve found some time to look into the <code>IndexedView</code> which was a lot easier to understand than <code>Transpose</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2356, "user_id": 1909135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2547513c3bb3ce012e4aa8383b417f9c?s=128&d=identicon&r=PG", "display_name": "tesch1", "link": "https://stackoverflow.com/users/1909135/tesch1"}, "edited": false, "score": 0, "creation_date": 1544718537, "post_id": 46301503, "comment_id": 94384295, "body": "this is awesome, thanks!  added [i]fftshift, and made a gist of it here: <a href=\"https://gist.github.com/tesch1/1126425eb7cb1dfea35c9f0480111908\" rel=\"nofollow noreferrer\">gist.github.com/tesch1/1126425eb7cb1dfea35c9f0480111908</a>"}], "tags": [], "owner": {"reputation": 3213, "user_id": 8494588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35d4ad4186f4415eb43175b481cb2bd?s=128&d=identicon&r=PG&f=1", "display_name": "florestan", "link": "https://stackoverflow.com/users/8494588/florestan"}, "is_accepted": true, "score": 2, "last_activity_date": 1505826915, "creation_date": 1505826915, "answer_id": 46301503, "question_id": 46077242, "link": "https://stackoverflow.com/questions/46077242/eigen-modifyable-custom-expression/46301503#46301503", "title": "Eigen: Modifyable Custom Expression", "body": "<p>With help of ggael's hint I've been able to sucessfully add my own modifyable expression. I've basically adapted the <code>IndexedView</code> of the Eigen development branch. </p>\n\n<p>As the originally requested funcionality is covered by the <code>IndexedView</code>, I've written a modifyable circular shift function as simple example of a modifyable custom expression. Most of the code is directly taken from the <code>IndexedView</code>, so credits go to the authors of that.</p>\n\n<pre><code>// circ_shift.h\n#pragma once\n#include &lt;Eigen/Core&gt;\n\nnamespace helper\n{\n        namespace detail\n    {\n        template &lt;typename T&gt;\n        constexpr std::true_type is_matrix(Eigen::MatrixBase&lt;T&gt;);\n        std::false_type constexpr is_matrix(...);\n\n        template &lt;typename T&gt;\n        constexpr std::true_type is_array(Eigen::ArrayBase&lt;T&gt;);\n        std::false_type constexpr is_array(...);\n    }\n\n\n    template &lt;typename T&gt;\n    struct is_matrix : decltype(detail::is_matrix(std::declval&lt;std::remove_cv_t&lt;T&gt;&gt;()))\n    {\n    };\n\n    template &lt;typename T&gt;\n    struct is_array : decltype(detail::is_array(std::declval&lt;std::remove_cv_t&lt;T&gt;&gt;()))\n    {\n    };\n\n    template &lt;typename T&gt;\n    using is_matrix_or_array = std::bool_constant&lt;is_array&lt;T&gt;::value || is_matrix&lt;T&gt;::value&gt;;\n\n\n\n    /*\n     * Index something if it's not an scalar\n     */\n    template &lt;typename T, typename std::enable_if&lt;is_matrix_or_array&lt;T&gt;::value, int&gt;::type = 0&gt;\n    auto index_if_necessary(T&amp;&amp; thing, Eigen::Index idx)\n    {\n        return thing(idx);\n    }\n\n    /*\n    * Overload for scalar.\n    */\n    template &lt;typename T, typename std::enable_if&lt;std::is_scalar&lt;std::decay_t&lt;T&gt;&gt;::value, int&gt;::type = 0&gt;\n    auto index_if_necessary(T&amp;&amp; thing, Eigen::Index)\n    {\n        return thing;\n    }\n}\n\nnamespace Eigen\n{\n    template &lt;typename XprType, typename RowIndices, typename ColIndices&gt;\n    class CircShiftedView;\n\n    namespace internal\n    {\n        template &lt;typename XprType, typename RowIndices, typename ColIndices&gt;\n        struct traits&lt;CircShiftedView&lt;XprType, RowIndices, ColIndices&gt;&gt;\n            : traits&lt;XprType&gt;\n        {\n            enum\n            {\n                RowsAtCompileTime = traits&lt;XprType&gt;::RowsAtCompileTime,\n                ColsAtCompileTime = traits&lt;XprType&gt;::ColsAtCompileTime,\n                MaxRowsAtCompileTime = RowsAtCompileTime != Dynamic ? int(RowsAtCompileTime) : int(traits&lt;XprType&gt;::MaxRowsAtCompileTime),\n                MaxColsAtCompileTime = ColsAtCompileTime != Dynamic ? int(ColsAtCompileTime) : int(traits&lt;XprType&gt;::MaxColsAtCompileTime),\n\n                XprTypeIsRowMajor = (int(traits&lt;XprType&gt;::Flags) &amp; RowMajorBit) != 0,\n                IsRowMajor = (MaxRowsAtCompileTime == 1 &amp;&amp; MaxColsAtCompileTime != 1) ? 1\n                                 : (MaxColsAtCompileTime == 1 &amp;&amp; MaxRowsAtCompileTime != 1) ? 0\n                                 : XprTypeIsRowMajor,\n\n\n                FlagsRowMajorBit = IsRowMajor ? RowMajorBit : 0,\n                FlagsLvalueBit = is_lvalue&lt;XprType&gt;::value ? LvalueBit : 0,\n                Flags = (traits&lt;XprType&gt;::Flags &amp; HereditaryBits) | FlagsLvalueBit | FlagsRowMajorBit\n            };\n        };\n    }\n\n    template &lt;typename XprType, typename RowShift, typename ColShift, typename StorageKind&gt;\n    class CircShiftedViewImpl;\n\n\n    template &lt;typename XprType, typename RowShift, typename ColShift&gt;\n    class CircShiftedView : public CircShiftedViewImpl&lt;XprType, RowShift, ColShift, typename internal::traits&lt;XprType&gt;::StorageKind&gt;\n    {\n    public:\n        typedef typename CircShiftedViewImpl&lt;XprType, RowShift, ColShift, typename internal::traits&lt;XprType&gt;::StorageKind&gt;::Base Base;\n        EIGEN_GENERIC_PUBLIC_INTERFACE(CircShiftedView)\n        EIGEN_INHERIT_ASSIGNMENT_OPERATORS(CircShiftedView)\n\n        typedef typename internal::ref_selector&lt;XprType&gt;::non_const_type MatrixTypeNested;\n        typedef typename internal::remove_all&lt;XprType&gt;::type NestedExpression;\n\n        template &lt;typename T0, typename T1&gt;\n        CircShiftedView(XprType&amp; xpr, const T0&amp; rowShift, const T1&amp; colShift)\n            : m_xpr(xpr), m_rowShift(rowShift), m_colShift(colShift)\n        {\n            for (auto c = 0; c &lt; xpr.cols(); ++c)\n            assert(std::abs(helper::index_if_necessary(m_rowShift, c)) &lt; m_xpr.rows()); // row shift must be within +- rows()-1\n            for (auto r = 0; r &lt; xpr.rows(); ++r)\n            assert(std::abs(helper::index_if_necessary(m_colShift, r)) &lt; m_xpr.cols()); // col shift must be within +- cols()-1\n        }\n\n        /** \\returns number of rows */\n        Index rows() const { return m_xpr.rows(); }\n\n        /** \\returns number of columns */\n        Index cols() const { return m_xpr.cols(); }\n\n        /** \\returns the nested expression */\n        const typename internal::remove_all&lt;XprType&gt;::type&amp;\n        nestedExpression() const { return m_xpr; }\n\n        /** \\returns the nested expression */\n        typename internal::remove_reference&lt;XprType&gt;::type&amp;\n        nestedExpression() { return m_xpr.const_cast_derived(); }\n\n        EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE\n        Index getRowIdx(Index row, Index col) const\n        {\n            Index R = m_xpr.rows();\n            assert(row &gt;= 0 &amp;&amp; row &lt; R &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; m_xpr.cols());\n            Index r = row - helper::index_if_necessary(m_rowShift, col);\n            if (r &gt;= R)\n                return r - R;\n            if (r &lt; 0)\n                return r + R;\n            return r;\n        }\n\n        EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE\n        Index getColIdx(Index row, Index col) const\n        {\n            Index C = m_xpr.cols();\n            assert(row &gt;= 0 &amp;&amp; row &lt; m_xpr.rows() &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; C);\n            Index c = col - helper::index_if_necessary(m_colShift, row);\n            if (c &gt;= C)\n                return c - C;\n            if (c &lt; 0)\n                return c + C;\n            return c;\n        }\n\n    protected:\n        MatrixTypeNested m_xpr;\n        RowShift m_rowShift;\n        ColShift m_colShift;\n    };\n\n\n    // Generic API dispatcher\n    template &lt;typename XprType, typename RowIndices, typename ColIndices, typename StorageKind&gt;\n    class CircShiftedViewImpl\n        : public internal::generic_xpr_base&lt;CircShiftedView&lt;XprType, RowIndices, ColIndices&gt;&gt;::type\n    {\n    public:\n        typedef typename internal::generic_xpr_base&lt;CircShiftedView&lt;XprType, RowIndices, ColIndices&gt;&gt;::type Base;\n    };\n\n    namespace internal\n    {\n        template &lt;typename ArgType, typename RowIndices, typename ColIndices&gt;\n        struct unary_evaluator&lt;CircShiftedView&lt;ArgType, RowIndices, ColIndices&gt;, IndexBased&gt;\n            : evaluator_base&lt;CircShiftedView&lt;ArgType, RowIndices, ColIndices&gt;&gt;\n        {\n            typedef CircShiftedView&lt;ArgType, RowIndices, ColIndices&gt; XprType;\n\n            enum\n            {\n                CoeffReadCost = evaluator&lt;ArgType&gt;::CoeffReadCost + NumTraits&lt;Index&gt;::AddCost /* for comparison */ + NumTraits&lt;Index&gt;::AddCost /*for addition*/,\n\n                Flags = (evaluator&lt;ArgType&gt;::Flags &amp; HereditaryBits),\n\n                Alignment = 0\n            };\n\n            EIGEN_DEVICE_FUNC explicit unary_evaluator(const XprType&amp; xpr) : m_argImpl(xpr.nestedExpression()), m_xpr(xpr)\n            {\n                EIGEN_INTERNAL_CHECK_COST_VALUE(CoeffReadCost);\n            }\n\n            typedef typename XprType::Scalar Scalar;\n            typedef typename XprType::CoeffReturnType CoeffReturnType;\n\n\n            EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE\n            CoeffReturnType coeff(Index row, Index col) const\n            {\n                return m_argImpl.coeff(m_xpr.getRowIdx(row, col), m_xpr.getColIdx(row, col));\n            }\n\n            EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE\n            Scalar&amp; coeffRef(Index row, Index col)\n            {\n                assert(row &gt;= 0 &amp;&amp; row &lt; m_xpr.rows() &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; m_xpr.cols());\n\n                return m_argImpl.coeffRef(m_xpr.getRowIdx(row, col), m_xpr.getColIdx(row, col));\n            }\n\n        protected:\n\n            evaluator&lt;ArgType&gt; m_argImpl;\n            const XprType&amp; m_xpr;\n        };\n    } // end namespace internal\n} // end namespace Eigen\n\n\ntemplate &lt;typename XprType, typename RowShift, typename ColShift&gt;\nauto circShift(Eigen::DenseBase&lt;XprType&gt;&amp; x, RowShift r, ColShift c)\n{\n    return Eigen::CircShiftedView&lt;XprType, RowShift, ColShift&gt;(x.derived(), r, c);\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>// main.cpp\n#include \"stdafx.h\"\n#include \"Eigen/Core\"\n#include &lt;iostream&gt;\n#include \"circ_shift.h\"\n\nusing namespace Eigen;\n\n\nint main()\n{\n\n    ArrayXXf x(4, 2);\n    x.transpose() &lt;&lt; 1, 2, 3, 4, 10, 20, 30, 40;\n\n\n    Vector2i rowShift;\n    rowShift &lt;&lt; 3, -3; // rotate col 1 by 3 and col 2 by -3\n\n    Index colShift = 1; // flip columns\n\n    auto shifted = circShift(x, rowShift, colShift);\n\n    std::cout &lt;&lt; \"shifted: \" &lt;&lt; std::endl &lt;&lt; shifted &lt;&lt; std::endl;\n\n    shifted.block(2,0,2,1) &lt;&lt; -1, -2; // will appear in row 3 and 0.\n    shifted.col(1) &lt;&lt; 2,4,6,8;  // shifted col 1 is col 0 of the original\n\n    std::cout &lt;&lt; \"modified original:\" &lt;&lt; std::endl &lt;&lt; x &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3213, "user_id": 8494588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35d4ad4186f4415eb43175b481cb2bd?s=128&d=identicon&r=PG&f=1", "display_name": "florestan", "link": "https://stackoverflow.com/users/8494588/florestan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 46301503, "answer_count": 1, "score": 0, "last_activity_date": 1505826915, "creation_date": 1504706407, "question_id": 46077242, "link": "https://stackoverflow.com/questions/46077242/eigen-modifyable-custom-expression", "title": "Eigen: Modifyable Custom Expression", "body": "<p>I'm trying to implement a modifyable custom expression using Eigen, similar to this <a href=\"https://stackoverflow.com/questions/41034309/modifying-values-of-nullary-expressions-using-eigen\">question</a>. Basically, what I want is something similar to the indexing example in the <a href=\"http://eigen.tuxfamily.org/dox/TopicCustomizing_NullaryExpr.html\" rel=\"nofollow noreferrer\">tutorial</a>, but with the possibility to assign new values to the selected coefficients. </p>\n\n<p>As suggested in the accepted answer in the question mentioned above, I have looked into the <code>Transpose</code> implementation and tried many things, yet without success. Basically, my attempts are failing with errors like <code>'Eigen::internal::evaluator&lt;SrcXprType&gt;::evaluator(const Eigen::internal::evaluator&lt;SrcXprType&gt; &amp;)': cannot convert argument 1 from 'const Eigen::Indexing&lt;Derived&gt;' to 'Eigen::Indexing&lt;Derived&gt; &amp;'</code>. Probably, the problem lies in my <code>evaluator</code> struct which seems to be read-only. </p>\n\n<pre><code>namespace Eigen {\nnamespace internal {\n    template&lt;typename ArgType&gt;\n    struct evaluator&lt;Indexing&lt;ArgType&gt; &gt;\n        : evaluator_base&lt;Indexing&lt;ArgType&gt; &gt;\n    {\n        typedef Indexing&lt;ArgType&gt; XprType;\n        typedef typename nested_eval&lt;ArgType, XprType::ColsAtCompileTime&gt;::type ArgTypeNested;\n        typedef typename remove_all&lt;ArgTypeNested&gt;::type ArgTypeNestedCleaned;\n        typedef typename XprType::CoeffReturnType CoeffReturnType;\n        typedef typename traits&lt;ArgType&gt;::Scalar Scalar;\n        enum {\n            CoeffReadCost = evaluator&lt;ArgTypeNestedCleaned&gt;::CoeffReadCost,\n            Flags = Eigen::ColMajor\n        };\n\n        evaluator(XprType&amp; xpr)\n            : m_argImpl(xpr.m_arg), m_rows(xpr.rows())\n        { }\n        const Scalar&amp; coeffRef(Index row, Index col) const\n        {\n             return m_argImpl.coeffRef(... very clever stuff ...)\n        }\n\n        Scalar&amp; coeffRef(Index row, Index col)\n        {\n             return m_argImpl.coeffRef(... very clever stuff ...)\n        }\n\n        evaluator&lt;ArgTypeNestedCleaned&gt; m_argImpl;\n        const Index m_rows;\n    };\n}\n}\n</code></pre>\n\n<p>Also, I've changed all occurences of <code>typedef typename Eigen::internal::ref_selector&lt;ArgType&gt;::type</code> to <code>...::non_const_type</code>, but this had no effect. </p>\n\n<p>Due to the complexity of the Eigen library, I cant figure out how to puzzle the expression and the evaluator together correctly. I don't understand, why my evaluator is read-only or how to get a write-enabled evaluator. \nIt would be great if someone could provide a minimal example for a modifyable custom expression.</p>\n"}, {"tags": ["c++", "boost"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2914262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqbKJ.jpg?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2914262/wes"}, "edited": false, "score": 0, "creation_date": 1504714347, "post_id": 46077312, "comment_id": 79121257, "body": "I don&#39;t quite understand what the -l flag does, but I tried running your suggested command.  g++ -O3 -DNDEBUG -l/usr/local/Cellar/boost -o evaluate_object evaluate_object.cpp  I still got the same output error. And regarding code, it&#39;s quite too long. It&#39;s not my code though"}, {"owner": {"reputation": 143, "user_id": 4204866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f396b1b7e1d566061f2edafaa0b37806?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4204866/alex"}, "reply_to_user": {"reputation": 11, "user_id": 2914262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqbKJ.jpg?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2914262/wes"}, "edited": false, "score": 0, "creation_date": 1504770122, "post_id": 46077312, "comment_id": 79142850, "body": "-I flag points to the directories where the compiler would look for header files which you #include in your code. Please check if the mentioned is physically present on your drive, if it&#39;s not probably your boost installation does not include uBLAS."}, {"owner": {"reputation": 11, "user_id": 2914262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqbKJ.jpg?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2914262/wes"}, "edited": false, "score": 0, "creation_date": 1505017732, "post_id": 46077312, "comment_id": 79236782, "body": "I have checked the directory below : /usr/local/Cellar/boost/1.65.0/include/boost/numeric/ublas .   Both boost and uBLAS are physically found as you can see. What should I do now ?"}, {"owner": {"reputation": 143, "user_id": 4204866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f396b1b7e1d566061f2edafaa0b37806?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4204866/alex"}, "reply_to_user": {"reputation": 11, "user_id": 2914262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqbKJ.jpg?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2914262/wes"}, "edited": false, "score": 0, "creation_date": 1505064713, "post_id": 46077312, "comment_id": 79248944, "body": "Ok, now I see you&#39;ve specified incorrect directory to the -I argument, it should be: <code>-I&#47;usr&#47;local&#47;Cellar&#47;boost&#47;1.65.0&#47;include</code>"}], "tags": [], "owner": {"reputation": 143, "user_id": 4204866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f396b1b7e1d566061f2edafaa0b37806?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4204866/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1504706601, "creation_date": 1504706601, "answer_id": 46077312, "question_id": 46077185, "link": "https://stackoverflow.com/questions/46077185/compile-error-fatal-error-boost-numeric-ublas-matrix-hpp-file-not-found/46077312#46077312", "title": "Compile error : fatal error: &#39;boost/numeric/ublas/matrix.hpp&#39; file not found", "body": "<p>It seems that your \"boost\" includes directory is not present within environment defined include directories. You might want to specify one by passing \"-I\" argument to g++ command, i.e.</p>\n\n<blockquote>\n  <p>g++ -O3 -DNDEBUG -I/usr/local/Cellar/blahblah -o evaluate_object evaluate_object.cpp</p>\n</blockquote>\n\n<p>Also your code is incomplete and perhaps if you actually call some of the boost functions you might need to add some objects for linking and then you will face \"undefined reference to\" error. To overcome such you need to specify \"-L\" flag for your g++ command.</p>\n"}], "owner": {"reputation": 11, "user_id": 2914262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqbKJ.jpg?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2914262/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2746, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504706601, "creation_date": 1504706275, "question_id": 46077185, "link": "https://stackoverflow.com/questions/46077185/compile-error-fatal-error-boost-numeric-ublas-matrix-hpp-file-not-found", "title": "Compile error : fatal error: &#39;boost/numeric/ublas/matrix.hpp&#39; file not found", "body": "<p>These are the header files and libraries </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n#include &lt;vector&gt;\n#include &lt;numeric&gt;\n#include &lt;strings.h&gt;\n#include &lt;assert.h&gt;\n\n#include &lt;dirent.h&gt;\n\n\n#include &lt;boost/numeric/ublas/matrix.hpp&gt;\n#include &lt;boost/numeric/ublas/io.hpp&gt;\n\n#include &lt;boost/geometry.hpp&gt;\n#include &lt;boost/geometry/geometries/point_xy.hpp&gt;\n#include &lt;boost/geometry/geometries/polygon.hpp&gt;\n#include &lt;boost/geometry/geometries/adapted/c_array.hpp&gt;\n\n\n#include \"mail.h\"\n</code></pre>\n\n<p>I am trying to compile this c++ file I got using </p>\n\n<pre><code>g++ -O3 -DNDEBUG -o evaluate_object evaluate_object.cpp\n</code></pre>\n\n<p>The compile output </p>\n\n<pre><code>evaluate_object.cpp:13:10: fatal error: 'boost/numeric/ublas/matrix.hpp' file\n      not found\n#include &lt;boost/numeric/ublas/matrix.hpp&gt;\n         ^\n1 error generated.\n</code></pre>\n\n<p>Ps: I run on macos sierra 10.12\nI have tried install boost by these ways:</p>\n\n<ul>\n<li>sudo port install boost </li>\n<li>brew install boost</li>\n<li>sudo port install boost +universal</li>\n</ul>\n\n<p>But I still got the same problem.\nI would be happy to get out of this noob zone. \nI am a macos newbie too.</p>\n"}, {"tags": ["c++", "for-loop"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 4, "creation_date": 1504705437, "post_id": 46076870, "comment_id": 79114923, "body": "hint: <code>for (i = 0; i &lt;= NO_OF_STUDENTS; i++);</code> this is already the complete loop including the body. Sometimes a single <code>;</code> matters a lot :P"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 5, "creation_date": 1504705451, "post_id": 46076870, "comment_id": 79114937, "body": "<code>if(i = 0)</code> should be <code>if(i == 0)</code>"}, {"owner": {"reputation": 71, "user_id": 7617539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142c2e48e55689fb14ace636f0c2cf68?s=128&d=identicon&r=PG&f=1", "display_name": "Bourne96", "link": "https://stackoverflow.com/users/7617539/bourne96"}, "edited": false, "score": 0, "creation_date": 1504705469, "post_id": 46076870, "comment_id": 79114952, "body": "add &quot;==&quot; instead of &quot;=&quot;   = means assigning values  Always use {} brackets for loops, any kind of"}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 1, "creation_date": 1504705475, "post_id": 46076870, "comment_id": 79114957, "body": "First, you have 5 students, but NO_OF_STUDENTS is 4. Second, in the for loop, remove <code>;</code> at its end. Third, in if statement, you want a comparison, not an assignment"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 4, "creation_date": 1504705539, "post_id": 46076870, "comment_id": 79114998, "body": "@lucas  Why did you decide that your program is a C++ program and not a C program?"}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 2, "creation_date": 1504705542, "post_id": 46076870, "comment_id": 79115003, "body": "wow, so many errors - it&#39;s like an interview question :)"}, {"owner": {"reputation": 1, "user_id": 4176389, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/406e481db30696843c68fab0c40286fc?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/4176389/lucas"}, "edited": false, "score": 0, "creation_date": 1504705673, "post_id": 46076870, "comment_id": 79115093, "body": "thank you for the helps!"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1504705889, "post_id": 46076870, "comment_id": 79115263, "body": "btw in some circles this is frowned upon, but its a neat trick to prevent such assignment instead of comparsion errors: Use yoda notation, <code>if (0 == i)</code>, if you get it wrong and type <code>if (0 = i)</code> you will get a nice compiler error"}, {"owner": {"reputation": 963, "user_id": 805796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/351bc6b115265f0a9fbcb328c4532ced?s=128&d=identicon&r=PG", "display_name": "MCG", "link": "https://stackoverflow.com/users/805796/mcg"}, "edited": false, "score": 0, "creation_date": 1504706744, "post_id": 46076870, "comment_id": 79115900, "body": "<code>i</code> is not incrementing because you are reassigning <code>0</code> to <code>i</code> in if <code>(i = 0)</code>. Change it to if <code>(i == 0)</code> and i will increase. Also remove semicolumn after for loop. You also need to have <code>scanf</code> in the loop if you want to get input data. Not sure what are you doing with variable <code>c</code>?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1504706934, "post_id": 46076870, "comment_id": 79116048, "body": "@tobi303 Not that bad this is."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1504707280, "post_id": 46076870, "comment_id": 79116317, "body": "@tobi303 many compilers these days will also complain about <code>if (i = 0)</code> with the right warning level: <code>error: suggest parentheses around assignment used as truth value [-Werror=parentheses]</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1504713368, "post_id": 46076870, "comment_id": 79120646, "body": "In your <code>for</code> loop, the condition should be <code>i &lt; NO_OF_STUDENTS</code>.  If you have 5 students, the array slot 5 is not valid, so not <code>&lt;=</code> but <code>&lt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "is_accepted": false, "score": -2, "last_activity_date": 1504708669, "last_edit_date": 1504708669, "creation_date": 1504705679, "answer_id": 46076998, "question_id": 46076870, "link": "https://stackoverflow.com/questions/46076870/for-loop-execution-fails-since-the-variable-i-wont-increment-reaosn-why/46076998#46076998", "title": "for loop execution fails since the variable i won&#39;t increment, reaosn why?", "body": "<p>you need to remove the semicolon \";\" at the end of your for... line and then open with \"{\" and close with \"}\" at the end of your loop's scope.</p>\n\n<p>at present the ; closes the scope of your loop, so it can't do anything useful.</p>\n\n<p>It's good practice to use braces {} around the scope of all your loops or conditions.</p>\n\n<p>Like this.</p>\n\n<pre><code>for (i = 0; i &lt;= NO_OF_STUDENTS; i++) {\n    if (i == 0) {\n        printf(\"Front of the Line: %s\\n\\n\", names[i]);\n    }\n    else {\n        printf(\"Followers: %s\\n\\n\", names[i]);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1504712827, "post_id": 46077576, "comment_id": 79120306, "body": "the <code>if</code> and <code>else</code> could also do with some <code>{}</code> love"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1504713387, "post_id": 46077576, "comment_id": 79120657, "body": "@Caleth As for me myself then I use {}. But I tried to use the style of the author of the question."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1504708395, "last_edit_date": 1504708395, "creation_date": 1504707313, "answer_id": 46077576, "question_id": 46076870, "link": "https://stackoverflow.com/questions/46076870/for-loop-execution-fails-since-the-variable-i-wont-increment-reaosn-why/46077576#46077576", "title": "for loop execution fails since the variable i won&#39;t increment, reaosn why?", "body": "<p>In fact it is a C program and not a C++ program (as you marked it) because the compiler should at least issue a warning that the declaration of the array <code>names</code> does not have qualifier <code>const</code> because in C++ string literals have types of constant character arrays.</p>\n\n<pre><code>const char * names[5];\n^^^^^\n</code></pre>\n\n<p>The program has two bugs. The first one is the presence of a semicolon at the end of the for statement</p>\n\n<pre><code>for (i = 0; i &lt;= NO_OF_STUDENTS; i++);\n                                    ^^^\n</code></pre>\n\n<p>And the second one is using the assignment operator instead of the comparison operator in the if statement</p>\n\n<pre><code>    if (i = 0)\n         ^^^ \n</code></pre>\n\n<p>There is no relation between this manifest constant </p>\n\n<pre><code>#define NO_OF_STUDENTS 4\n</code></pre>\n\n<p>and the declaration of the array</p>\n\n<pre><code>char * names[5];\n</code></pre>\n\n<p>So the constant itself and the number 5 look like magic numbers.</p>\n\n<p>You could declare the array and initialize it simultaneously.</p>\n\n<p>A corresponding C program can look at least the following way</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define NO_OF_STUDENTS  5\n\nint main(void) \n{\n    char c;\n    int i;\n    char * names[NO_OF_STUDENTS] =\n    {\n        \"Jane\", \"Jim\", \"Jacques\", \"Juan\", \"Junlian\"\n    };\n\n    for ( i = 0; i &lt; NO_OF_STUDENTS; i++ )\n    {\n        if ( i == 0 )\n            printf( \"Front of the Line: %s\\n\\n\", names[i] );\n        else\n            printf( \"Followers: %s\\n\\n\", names[i] );\n    }\n\n    scanf( \" %c\", &amp;c );\n\n    return 0;\n}\n</code></pre>\n\n<p>Or the program can be written like</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) \n{\n    char * names[] =\n    {\n        \"Jane\", \"Jim\", \"Jacques\", \"Juan\", \"Junlian\"\n    };\n    const size_t NO_OF_STUDENTS = sizeof( names ) / sizeof( *names );   \n\n    for ( size_t i = 0; i &lt; NO_OF_STUDENTS; i++ )\n    {\n        if ( i == 0 )\n            printf( \"Front of the Line: %s\\n\\n\", names[i] );\n        else\n            printf( \"Followers: %s\\n\\n\", names[i] );\n    }\n\n\n    char c;\n    scanf( \" %c\", &amp;c );\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4176389, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/406e481db30696843c68fab0c40286fc?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/4176389/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1504708669, "creation_date": 1504705361, "question_id": 46076870, "link": "https://stackoverflow.com/questions/46076870/for-loop-execution-fails-since-the-variable-i-wont-increment-reaosn-why", "title": "for loop execution fails since the variable i won&#39;t increment, reaosn why?", "body": "<pre><code>#include &lt;stdio.h&gt;\n#define NO_OF_STUDENTS 4\n\n\nint main() {\n    char c;\n    int i;\n    char * names[5];\n    names[0] = \"Jane\";\n    names[1] = \"Jim\";\n    names[2] = \"Jacques\";\n    names[3] = \"Juan\";\n    names[4] = \"Junlian\";\n\n\n    for (i = 0; i &lt;= NO_OF_STUDENTS; i++);\n        if (i = 0)\n            printf(\"Front of the Line: %s\\n\\n\", names[i]);\n        else\n            printf(\"Followers: %s\\n\\n\", names[i]);\n\n    scanf(\"%c\", &amp;c);\n\n}\n</code></pre>\n\n<p>im trying to make the loop work, however the loop would just fail at front of the line: Jane and it would just fail to proceed to <strong>else</strong>.</p>\n\n<p>can anyone tell me why the loop would just fail and variable i would stay at 0 and not increment in order to display other names?</p>\n"}, {"tags": ["c++", "mysql", "sql", "field", "builder"], "comments": [{"owner": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "edited": false, "score": 0, "creation_date": 1504706403, "post_id": 46076728, "comment_id": 79115647, "body": "I don&#39;t remember a lot of details of C++Builder anymore, but BCB6 is 16 years old and ancient in terms of c++ and modern compilers.  You are going to have difficulty getting any support on something that old.  (And I used to support it.)  Sorry this isn&#39;t the news you probably want to hear."}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "reply_to_user": {"reputation": 3923, "user_id": 8309701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S44bo.png?s=128&g=1", "display_name": "Chris Uzdavinis", "link": "https://stackoverflow.com/users/8309701/chris-uzdavinis"}, "edited": false, "score": 0, "creation_date": 1504709968, "post_id": 46076728, "comment_id": 79118378, "body": "I know it but I believe I can still use it for many simple applications. However, a solution should exist for this query. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1505007090, "post_id": 46135791, "comment_id": 79235350, "body": "Interesting notice. Do you believe that if I use SQLite my problem will be solved? Also, the code seems to work in all parts except the query&#39;s part."}, {"owner": {"reputation": 126, "user_id": 8582430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79dcc563f08ae26b0e45ce82594d627?s=128&d=identicon&r=PG&f=1", "display_name": "Baxter", "link": "https://stackoverflow.com/users/8582430/baxter"}, "reply_to_user": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1505181311, "post_id": 46135791, "comment_id": 79295626, "body": "The driver name, files and dlls and need to belong to the same DBMS."}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506115675, "post_id": 46135791, "comment_id": 79706449, "body": "Library name is: dbxopenmysql50.dll"}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506116098, "post_id": 46135791, "comment_id": 79706577, "body": "VendorLib is: libmysql.dll I am trying to use MySQL. Is there anything you propose for me to do?"}, {"owner": {"reputation": 126, "user_id": 8582430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79dcc563f08ae26b0e45ce82594d627?s=128&d=identicon&r=PG&f=1", "display_name": "Baxter", "link": "https://stackoverflow.com/users/8582430/baxter"}, "reply_to_user": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506145811, "post_id": 46135791, "comment_id": 79711820, "body": "You have a TSQLConnection control; what is the Driver property value? What is the version number of MySQL?"}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506179237, "post_id": 46135791, "comment_id": 79720248, "body": "MySQL is MySQL Server 5.6  dbxopenmysql50.dll is from: www.justsoftwaresolutions.co.uk/files/dbxopenmysql5_dll.zip (Guide: <a href=\"http://www.johannesschwichtenberg.de/journal/mysql-mit-c-im-borland-builder-2006-turbo-c.html\" rel=\"nofollow noreferrer\">johannesschwichtenberg.de/journal/&hellip;</a>) (IMAGE: <a href=\"https://prnt.sc/goqkwd\" rel=\"nofollow noreferrer\">prnt.sc/goqkwd</a>) libmysql.dll is v5.5.39 (IMAGE: <a href=\"https://prnt.sc/goqp6v\" rel=\"nofollow noreferrer\">prnt.sc/goqp6v</a>) I use these components: (IMAGE: <a href=\"https://prnt.sc/goqgm9\" rel=\"nofollow noreferrer\">prnt.sc/goqgm9</a>)"}, {"owner": {"reputation": 126, "user_id": 8582430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79dcc563f08ae26b0e45ce82594d627?s=128&d=identicon&r=PG&f=1", "display_name": "Baxter", "link": "https://stackoverflow.com/users/8582430/baxter"}, "reply_to_user": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506456113, "post_id": 46135791, "comment_id": 79826984, "body": "If you cannot get the db express dll to work with the newer MySQL server, the MySQL  dll can be used on its own. eg [Using C++ to INSERT INTO MySql Database] (<a href=\"http://www.cplusplus.com/forum/general/118160/\" rel=\"nofollow noreferrer\">cplusplus.com/forum/general/118160</a>)"}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506536961, "post_id": 46135791, "comment_id": 79865186, "body": "Do you suggest to recreate MySQL Database? Because mySql Database has already been filled in with information."}, {"owner": {"reputation": 126, "user_id": 8582430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79dcc563f08ae26b0e45ce82594d627?s=128&d=identicon&r=PG&f=1", "display_name": "Baxter", "link": "https://stackoverflow.com/users/8582430/baxter"}, "reply_to_user": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506806173, "post_id": 46135791, "comment_id": 79968567, "body": "No, you don&#39;t need to recreate the database."}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506857445, "post_id": 46135791, "comment_id": 79977928, "body": "Could you tell me any steps that might help my situation?"}, {"owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "edited": false, "score": 0, "creation_date": 1506933634, "post_id": 46135791, "comment_id": 79998252, "body": "Thank you DB Baxter for your help and your time so far! I found that the problem was the wrong dbExpress Driver for MySQL. Dll dbxopenmysql50.dll might work right only with MySQL v5.0. DevArt dbExpress Driver for MySQL could be used for higher versions than v5.0 of MySQL."}], "tags": [], "owner": {"reputation": 126, "user_id": 8582430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79dcc563f08ae26b0e45ce82594d627?s=128&d=identicon&r=PG&f=1", "display_name": "Baxter", "link": "https://stackoverflow.com/users/8582430/baxter"}, "is_accepted": false, "score": 0, "last_activity_date": 1505181527, "last_edit_date": 1505181527, "creation_date": 1504997487, "answer_id": 46135791, "question_id": 46076728, "link": "https://stackoverflow.com/questions/46076728/multiple-fields-in-query-dont-work-in-c-builder-6/46135791#46135791", "title": "Multiple fields in query don&#39;t work in C++ Builder 6", "body": "<p>The guide you link to uses <em>SQLite</em> and not <em>MySQL</em> as in your code.</p>\n\n<p>I am suggesting that the files will be <strong>different</strong> for each DBMS. </p>\n\n<p>Although <em>MySQL</em> can be used directly with it's own drivers employing MySQL's api, using <em>ODBC</em> with <em>MySQL</em> might allow the use of the components.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "is_accepted": true, "score": 0, "last_activity_date": 1506933786, "creation_date": 1506933786, "answer_id": 46522198, "question_id": 46076728, "link": "https://stackoverflow.com/questions/46076728/multiple-fields-in-query-dont-work-in-c-builder-6/46522198#46522198", "title": "Multiple fields in query don&#39;t work in C++ Builder 6", "body": "<p>I found that the problem was the wrong dbExpress Driver for MySQL. Dll <strong>dbxopenmysql50.dll</strong> might work right only with MySQL v5.0. <strong>DevArt dbExpress Driver for MySQL</strong> could be used for higher versions than v5.0 of MySQL.</p>\n"}], "owner": {"reputation": 21, "user_id": 8569319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c235df049090ac7bca7a27a3666f934?s=128&d=identicon&r=PG&f=1", "display_name": "George Alt.", "link": "https://stackoverflow.com/users/8569319/george-alt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 46522198, "answer_count": 2, "score": 0, "last_activity_date": 1506933786, "creation_date": 1504704970, "last_edit_date": 1504706106, "question_id": 46076728, "link": "https://stackoverflow.com/questions/46076728/multiple-fields-in-query-dont-work-in-c-builder-6", "title": "Multiple fields in query don&#39;t work in C++ Builder 6", "body": "<p>I am using <strong>C++ Builder 6</strong> and I want to query more than one field/column in my query to a table of my MySQL database.</p>\n\n<p>Let's say, I have a table named \"users\" and my table has the fields \"id\", \"name\", \"username\" and \"password\". Please, check the following examples:</p>\n\n<pre><code>query = \"SELECT name FROM users;\";  // WORKS\n\nquery = \"SELECT name, username FROM users;\";  // WORKS ONLY FOR THE 1ST FIELD \"name\"\n\nquery = \"SELECT * FROM users;\";  // DOESN'T WORK: GIVES ME EAccessViolation\n\nquery = \"SELECT name FROM users UNION SELECT username FROM users;\";  // WORKS BUT IT ISN'T A SOLUTION\n</code></pre>\n\n<p>So far, the rest of my code is almost the same I found in this <a href=\"http://docwiki.embarcadero.com/RADStudio/Tokyo/en/Tutorial:_Connecting_to_a_SQLite_Database_from_a_VCL_Application\" rel=\"nofollow noreferrer\" title=\"guide\">guide</a>.</p>\n\n<p><strong>Could I query more than 1 field at the same time?</strong></p>\n\n<p><strong><em>FULL CODE:</em></strong></p>\n\n<pre><code>String query;\n\noutputMemo-&gt;ClearSelection();\n\n\n// PROBLEMATIC QUERY !!!\nquery = \"SELECT * FROM users;\";\n\n\ntry {\n  SQLQuery1-&gt;SQL-&gt;Text = query;\n  SQLQuery1-&gt;Active = true;\n}\ncatch (Exception&amp; E) {\n  outputMemo-&gt;Text = \"Exception raised with message\" + E.Message;\n}\n\n\n// Show the results of the query in a TMemo control.\n\nTStringList *list;\nTField      *currentField;\nString      currentLine;\n\nif (!SQLQuery1-&gt;IsEmpty()) {\n  SQLQuery1-&gt;First();\n  list = new TStringList;\n  __try {\n    SQLQuery1-&gt;GetFieldNames(list);\n\n    while (!SQLQuery1-&gt;Eof) {\n      currentLine = \"\";\n      for (int i=0; i&lt;list-&gt;Count; i++) {\n        currentField = SQLQuery1-&gt;FieldByName(list-&gt;Strings[i]);\n        currentLine = currentLine + \" \" + currentField-&gt;AsString;\n      }\n\n      outputMemo-&gt;Lines-&gt;Add( currentLine.c_str() );\n      SQLQuery1-&gt;Next();\n    }\n  }\n  catch (Exception&amp; E) {\n    outputMemo-&gt;Text = \"Exception raised with message\" + E.Message;\n  }\n\n  list-&gt;Free();\n}\n</code></pre>\n\n<p>Thank you in advance for your help and your time.</p>\n"}, {"tags": ["c++", "multidimensional-array"], "comments": [{"owner": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "edited": false, "score": 2, "creation_date": 1504704961, "post_id": 46076676, "comment_id": 79114553, "body": "memset(a, 0, sizeof a);"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 1, "creation_date": 1504704969, "post_id": 46076676, "comment_id": 79114561, "body": "A general option: <code>std::memcpy</code> <a href=\"http://en.cppreference.com/w/cpp/string/byte/memcpy\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/string/byte/memcpy</a> (be careful with it though)"}, {"owner": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "edited": false, "score": 1, "creation_date": 1504705088, "post_id": 46076676, "comment_id": 79114644, "body": "You can also do <code>a[10][10] = {{0}};</code> or <code>a[10][10] = {0};</code> or <code>a[10][10] = {};</code>"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "reply_to_user": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "edited": false, "score": 0, "creation_date": 1504705977, "post_id": 46076676, "comment_id": 79115345, "body": "@Caw: have you tested that? It&#39;s new to me and I hope you are right. If so, you should add it to the duplicate as answer."}, {"owner": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "reply_to_user": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1504706423, "post_id": 46076676, "comment_id": 79115663, "body": "@Stefan Yes, see <a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1124.pdf\" rel=\"nofollow noreferrer\">here</a> 6.7.8.21"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "edited": false, "score": 0, "creation_date": 1504706961, "post_id": 46076676, "comment_id": 79116069, "body": "@Caw: Unfortunately that only works for getting a default initialized value. You couldn&#39;t, for example, set all values to <code>1</code> that way, only <code>0</code>"}, {"owner": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1504707327, "post_id": 46076676, "comment_id": 79116356, "body": "@AndyG The question asks how to <code>give array default value 0 at time of initialization</code>, so that&#39;s fine in this case :)."}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "reply_to_user": {"reputation": 1248, "user_id": 1791872, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6nnz7.png?s=128&g=1", "display_name": "flau", "link": "https://stackoverflow.com/users/1791872/flau"}, "edited": false, "score": 0, "creation_date": 1504707615, "post_id": 46076676, "comment_id": 79116557, "body": "@Caw: wow. I missed something past 12 years XD"}], "answers": [{"comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1504705194, "post_id": 46076789, "comment_id": 79114730, "body": "this sets all the values to 0, however doesn&#39;t do it at the time of initialization as the question asked."}, {"owner": {"reputation": 702, "user_id": 6381179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b8d38cdec7c23e9256b459501570ffe4?s=128&d=identicon&r=PG&f=1", "display_name": "Shirkam", "link": "https://stackoverflow.com/users/6381179/shirkam"}, "edited": false, "score": 0, "creation_date": 1504705741, "post_id": 46076789, "comment_id": 79115140, "body": "You only have to call it just after declaration. Or in a constructor, or in you init function."}], "tags": [], "owner": {"reputation": 732, "user_id": 3779533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7ceb7c47ce798288bf7e7baaa7129c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Sheigets", "link": "https://stackoverflow.com/users/3779533/ivan-sheigets"}, "is_accepted": true, "score": 1, "last_activity_date": 1504705142, "creation_date": 1504705142, "answer_id": 46076789, "question_id": 46076676, "link": "https://stackoverflow.com/questions/46076676/to-set-default-value-of-2d-array-in-c/46076789#46076789", "title": "To set default value of 2D array in c++", "body": "<pre><code>int a[100000][100000];\nstd::fill((int*)a,(int*)a+sizeof(a)/sizeof(int),0);\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7006941, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/554608131414069/picture?type=large", "display_name": "Amish Gupta", "link": "https://stackoverflow.com/users/7006941/amish-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2741, "favorite_count": 1, "closed_date": 1504706555, "accepted_answer_id": 46076789, "answer_count": 1, "score": 0, "last_activity_date": 1504705384, "creation_date": 1504704781, "last_edit_date": 1504705384, "question_id": 46076676, "link": "https://stackoverflow.com/questions/46076676/to-set-default-value-of-2d-array-in-c", "closed_reason": "Duplicate", "title": "To set default value of 2D array in c++", "body": "<p>I have a large 2D array like <code>a[100000][100000]</code>. I do not want to iterate and give value <code>0</code> to each block. How can I give array default value <code>0</code> at time of initialization?</p>\n"}, {"tags": ["c++", "point-cloud-library", "binary-image"], "comments": [{"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504705254, "post_id": 46076659, "comment_id": 79114773, "body": "is pointcloud structured or unstructured"}, {"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504705485, "post_id": 46076659, "comment_id": 79114960, "body": "i assume this is dicom data? in which case it should be structured"}, {"owner": {"reputation": 1605, "user_id": 4179302, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-71QIq2eev8E/AAAAAAAAAAI/AAAAAAAAA0c/KCUZGf1P-7Y/photo.jpg?sz=128", "display_name": "apalomer", "link": "https://stackoverflow.com/users/4179302/apalomer"}, "edited": false, "score": 0, "creation_date": 1504705802, "post_id": 46076659, "comment_id": 79115194, "body": "What do you mean by binary image? whether or not a pixel on the projected camera has seen a point? or do you want a depth image with the filtered points? In any case, have you looked at <a href=\"http://pointclouds.org/documentation/tutorials/range_image_creation.php\" rel=\"nofollow noreferrer\">range image from point cloud</a> or <a href=\"http://wiki.ros.org/pcl_ros/Tutorials/CloudToImage\" rel=\"nofollow noreferrer\">point cloud to image</a>? Moreover, you should check the <a href=\"http://pointclouds.org/documentation/tutorials/passthrough.php\" rel=\"nofollow noreferrer\">passthrough filter</a>"}, {"owner": {"reputation": 27, "user_id": 8433957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5245f28831d017e91eec8f4dc575f820?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Trigo Ros&#243;n", "link": "https://stackoverflow.com/users/8433957/alejandro-trigo-ros%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1504706733, "post_id": 46076659, "comment_id": 79115894, "body": "Sorry about missing so much info, i&#39;ll start from the begining: First I get the pointcloud from a pcd file. I apply the filters and i get a smaller pointcloud with all the points in white where the depth is almost 0. Now I want to apply Deep Learning to get where in the image there are objects, but I need an image (binary image, array of 0 and 1) to pass it through the DL algorithm"}, {"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504707745, "post_id": 46076659, "comment_id": 79116637, "body": "Right I get what you are trying to do, my question is of structure though.  If you have it, u need to use it, and if you dont have it, you need to artificially create it in order to make an image"}, {"owner": {"reputation": 27, "user_id": 8433957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5245f28831d017e91eec8f4dc575f820?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Trigo Ros&#243;n", "link": "https://stackoverflow.com/users/8433957/alejandro-trigo-ros%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1504708022, "post_id": 46076659, "comment_id": 79116870, "body": "I don&#39;t know what you mean with structured... I&#39;m using point clouds since a few days ago so I&#39;m not very experimented yet..."}, {"owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "edited": false, "score": 0, "creation_date": 1504709272, "post_id": 46076659, "comment_id": 79117850, "body": "can the be organized in an xyz array.  what generated the point cloud data?"}, {"owner": {"reputation": 27, "user_id": 8433957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5245f28831d017e91eec8f4dc575f820?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Trigo Ros&#243;n", "link": "https://stackoverflow.com/users/8433957/alejandro-trigo-ros%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1504710188, "post_id": 46076659, "comment_id": 79118542, "body": "Yes, it&#39;s organized"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 5437090, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7l0XzChwgE/AAAAAAAAAAI/AAAAAAAAAHo/NEBsIQyatrE/photo.jpg?sz=128", "display_name": "F&#228;rid Alijani", "link": "https://stackoverflow.com/users/5437090/f%c3%a4rid-alijani"}, "edited": false, "score": 0, "creation_date": 1565614541, "post_id": 46101557, "comment_id": 101396541, "body": "<code>pcl::passThroughFilter1D</code> does not exist! shouldn&#39;t that be <code>pcl::PassThrough</code> instead?"}, {"owner": {"reputation": 745, "user_id": 6674213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7826731c884808f91e604aae162c2813?s=128&d=identicon&r=PG&f=1", "display_name": "brad", "link": "https://stackoverflow.com/users/6674213/brad"}, "reply_to_user": {"reputation": 418, "user_id": 5437090, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7l0XzChwgE/AAAAAAAAAAI/AAAAAAAAAHo/NEBsIQyatrE/photo.jpg?sz=128", "display_name": "F&#228;rid Alijani", "link": "https://stackoverflow.com/users/5437090/f%c3%a4rid-alijani"}, "edited": false, "score": 0, "creation_date": 1565615587, "post_id": 46101557, "comment_id": 101397078, "body": "That is a custom method I created and is defined at the bottom of the code snippet"}], "tags": [], "owner": {"reputation": 745, "user_id": 6674213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7826731c884808f91e604aae162c2813?s=128&d=identicon&r=PG&f=1", "display_name": "brad", "link": "https://stackoverflow.com/users/6674213/brad"}, "is_accepted": false, "score": 0, "last_activity_date": 1504803023, "creation_date": 1504803023, "answer_id": 46101557, "question_id": 46076659, "link": "https://stackoverflow.com/questions/46076659/transform-a-pclpointcloud-to-binary-image-c/46101557#46101557", "title": "transform a pcl::pointcloud to binary image. c++", "body": "<p>This method should work for either organized or unorganized data. However you may need to rotate your input point cloud plane so that it is parallel to two of the orthogonal dimensions and you know what dimension you want to remove. stepSize1 and stepSize2 are parameters to set what size of the point cloud becomes a pixel in the new image. This calculates a grayscale image based on point density, but it could easily be modified to show depth or other information. A simple threshold can also be used to make the image binary.</p>\n\n<pre><code>cv::Mat makeImageFromPointCloud(pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr cloud, std::string dimensionToRemove, float stepSize1, float stepSize2)\n{\n    pcl::PointXYZI cloudMin, cloudMax;\n    pcl::getMinMax3D(*cloud, cloudMin, cloudMax);\n\n    std::string dimen1, dimen2;\n    float dimen1Max, dimen1Min, dimen2Min, dimen2Max;\n    if (dimensionToRemove == \"x\")\n    {\n        dimen1 = \"y\";\n        dimen2 = \"z\";\n        dimen1Min = cloudMin.y;\n        dimen1Max = cloudMax.y;\n        dimen2Min = cloudMin.z;\n        dimen2Max = cloudMax.z;\n    }\n    else if (dimensionToRemove == \"y\")\n    {\n        dimen1 = \"x\";\n        dimen2 = \"z\";\n        dimen1Min = cloudMin.x;\n        dimen1Max = cloudMax.x;\n        dimen2Min = cloudMin.z;\n        dimen2Max = cloudMax.z;\n    }\n    else if (dimensionToRemove == \"z\")\n    {\n        dimen1 = \"x\";\n        dimen2 = \"y\";\n        dimen1Min = cloudMin.x;\n        dimen1Max = cloudMax.x;\n        dimen2Min = cloudMin.y;\n        dimen2Max = cloudMax.y;\n    }\n\n    std::vector&lt;std::vector&lt;int&gt;&gt; pointCountGrid;\n    int maxPoints = 0;\n\n    std::vector&lt;pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr&gt; grid;\n\n    for (float i = dimen1Min; i &lt; dimen1Max; i += stepSize1)\n    {\n        pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr slice = passThroughFilter1D(cloud, dimen1, i, i + stepSize1);\n        grid.push_back(slice);\n\n        std::vector&lt;int&gt; slicePointCount;\n\n        for (float j = dimen2Min; j &lt; dimen2Max; j += stepSize2)\n        {\n            pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr grid_cell = passThroughFilter1D(slice, dimen2, j, j + stepSize2);\n\n            int gridSize = grid_cell-&gt;size();\n            slicePointCount.push_back(gridSize);\n\n            if (gridSize &gt; maxPoints)\n            {\n                maxPoints = gridSize;\n            }\n        }\n        pointCountGrid.push_back(slicePointCount);\n    }\n\n    cv::Mat mat(static_cast&lt;int&gt;(pointCountGrid.size()), static_cast&lt;int&gt;(pointCountGrid.at(0).size()), CV_8UC1);\n    mat = cv::Scalar(0);\n\n    for (int i = 0; i &lt; mat.rows; ++i)\n    {\n        for (int j = 0; j &lt; mat.cols; ++j)\n        {\n            int pointCount = pointCountGrid.at(i).at(j);\n            float percentOfMax = (pointCount + 0.0) / (maxPoints + 0.0);\n            int intensity = percentOfMax * 255;\n\n            mat.at&lt;uchar&gt;(i, j) = intensity;\n        }\n    }\n\n    return mat;\n}\n\n\npcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr passThroughFilter1D(const pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr cloud, const std::string field, const double low, const double high, const bool remove_inside)\n{\n    if (low &gt; high)\n    {\n        std::cout &lt;&lt; \"Warning! Min is greater than max!\\n\";\n    }\n\n    pcl::PointCloud&lt;pcl::PointXYZ&gt;::Ptr cloud_filtered(new pcl::PointCloud&lt;pcl::PointXYZI&gt;);\n    pcl::PassThrough&lt;pcl::PointXYZI&gt; pass;\n\n    pass.setInputCloud(cloud);\n    pass.setFilterFieldName(field);\n    pass.setFilterLimits(low, high);\n    pass.setFilterLimitsNegative(remove_inside);\n    pass.filter(*cloud_filtered);\n    return cloud_filtered;\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8433957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5245f28831d017e91eec8f4dc575f820?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro Trigo Ros&#243;n", "link": "https://stackoverflow.com/users/8433957/alejandro-trigo-ros%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1270, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504803023, "creation_date": 1504704715, "question_id": 46076659, "link": "https://stackoverflow.com/questions/46076659/transform-a-pclpointcloud-to-binary-image-c", "title": "transform a pcl::pointcloud to binary image. c++", "body": "<p>I'm trying to convert a planar section of a pcl::pointcloud into a binary image. I found a class called savePNGFile, but is not working well with my program.</p>\n\n<p>Until now I did a ROI selector and a intensity filter to get the points I want.</p>\n\n<pre><code>void regionOfInterest(VPointCloud::Ptr cloud_in, double x1, double x2, \ndouble y1, double y2, double z)\n{\n  for (VPoint&amp; point: cloud_in-&gt;points)\n    if ((z &gt; point.z) &amp;&amp; (y1 &gt; point.y) &amp;&amp; (y2 &lt; point.y) &amp;&amp; (x1 &gt; point.x) \n    &amp;&amp;(x2 &lt; point.x))\n      cloud_out-&gt;points.push_back(point);\n}\n</code></pre>\n\n<p>(VPointCloud is the kind of pointcloud I need to work with my data)\nI know that maybe the piece of code I show there is not relevant, but it can show you more or less the types I'm using.</p>\n\n<p>Anybody knows how to export this pointcloud to binary image? After this step I will work with OpenCV.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c++", "winapi", "active-directory", "active-directory-group"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1504706253, "post_id": 46076611, "comment_id": 79115552, "body": "you need for this first get user <i>Sid</i> from token, then call <i>LookupAccountSid</i> for get user name and finally <i>NetUserGetGroups</i>"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1504709430, "post_id": 46076611, "comment_id": 79117957, "body": "more exactly <i>NetUserGetLocalGroups</i>"}], "answers": [{"tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": false, "score": 1, "last_activity_date": 1504718168, "last_edit_date": 1504718168, "creation_date": 1504717594, "answer_id": 46080838, "question_id": 46076611, "link": "https://stackoverflow.com/questions/46076611/how-to-filter-out-special-groups-returned-by-gettokeninformation/46080838#46080838", "title": "How to filter out special groups returned by GetTokenInformation()?", "body": "<p>As suggested in the comments, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa370655(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>NetUserGetLocalGroups</code></a> is most likely the function used in the \"Local Users and Groups\" snap-in.</p>\n\n<p>You can also filter the list by whatever criteria you choose:</p>\n\n<pre><code>static bool ShouldHideGroup(PSID Sid, DWORD Attributes, bool HideDeny = false)\n{\n    if (SE_GROUP_INTEGRITY &amp; Attributes) return true;\n    if (SE_GROUP_LOGON_ID &amp; Attributes) return true;\n    if (HideDeny &amp;&amp; (SE_GROUP_USE_FOR_DENY_ONLY &amp; Attributes)) return true;\n    for (UINT i = 0; i &lt;= 0xff; ++i) // Hack to check if it is well known\n    {\n        if (IsWellKnownSid(Sid, (WELL_KNOWN_SID_TYPE)i))\n        {\n            static const SID_IDENTIFIER_AUTHORITY ntauth = SECURITY_NT_AUTHORITY;\n            PSID_IDENTIFIER_AUTHORITY pSIA = GetSidIdentifierAuthority(Sid);\n            DWORD*pSub1 = GetSidSubAuthority(Sid, 0);\n            if (memcmp(pSIA, &amp;ntauth, 6) || *pSub1 != SECURITY_BUILTIN_DOMAIN_RID) // Hide everything except the BUILTIN\\* groups\n            {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n...\n    if (GetTokenInformation(hToken, TokenGroups, pTG, cbTG, &amp;cbTG))\n    {\n        for (DWORD i = 0; i &lt; pTG-&gt;GroupCount; ++i)\n        {\n            if (ShouldHideGroup(pTG-&gt;Groups[i].Sid, pTG-&gt;Groups[i].Attributes)) continue;\n            DisplayGroupDetails(pTG-&gt;Groups[i]);\n        }\n    }\n</code></pre>\n\n<p>The Net* functions operate on the Domain and/or local <a href=\"https://en.wikipedia.org/wiki/Security_Account_Manager\" rel=\"nofollow noreferrer\">SAM</a> database, the other groups are added to your token by Windows but I don't believe there is a public API to filter your way back to the exact list of groups from SAM.</p>\n"}], "owner": {"reputation": 914, "user_id": 2705414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/89316c7ffffeebdfec815c9b9573210b?s=128&d=identicon&r=PG&f=1", "display_name": "bdristan", "link": "https://stackoverflow.com/users/2705414/bdristan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504718168, "creation_date": 1504704600, "question_id": 46076611, "link": "https://stackoverflow.com/questions/46076611/how-to-filter-out-special-groups-returned-by-gettokeninformation", "title": "How to filter out special groups returned by GetTokenInformation()?", "body": "<p>I use GetTokenInformation()/TokenGroups to get groups a currently logged on user is a member of.  However, the list of groups returned from the API also includes special groups like \"INTERACTIVE\", \"CONSOLE LOGON\", \"Pre-Windows 2000 Compatible Access\", etc.  </p>\n\n<p>What is the best way to filter out the special groups?  Ideally I'd like to keep only the groups that you can see on the \"Member Of\" tab of a given user's properties dialog box.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "c++", "firebase", "android-ndk", "firebase-crash-reporting"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1504709021, "post_id": 46076380, "comment_id": 79117662, "body": "See <a href=\"https://firebase.google.com/docs/cpp/setup\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cpp/setup</a>. Since that doesn&#39;t include Crash Reporting, I assume it&#39;s not supported."}], "answers": [{"comments": [{"owner": {"reputation": 1645, "user_id": 4869914, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94e94ff39b0e876b5edd59dd8ee58c48?s=128&d=identicon&r=PG&f=1", "display_name": "keyboard", "link": "https://stackoverflow.com/users/4869914/keyboard"}, "edited": false, "score": 0, "creation_date": 1504706000, "post_id": 46076451, "comment_id": 79115360, "body": "I&#39;ve seen this SOF post, but it was one year ago. Maybe things changed since then?"}], "tags": [], "owner": {"reputation": 2808, "user_id": 5539082, "user_type": "registered", "profile_image": "https://graph.facebook.com/870880569673790/picture?type=large", "display_name": "ND1010_", "link": "https://stackoverflow.com/users/5539082/nd1010"}, "is_accepted": false, "score": 0, "last_activity_date": 1504704734, "last_edit_date": 1504704734, "creation_date": 1504704139, "answer_id": 46076451, "question_id": 46076380, "link": "https://stackoverflow.com/questions/46076380/firebase-crash-reporting-does-it-support-ndk-now/46076451#46076451", "title": "Firebase Crash Reporting - Does it support NDK now?", "body": "<p>Firebase Crash Reporting automatically generates reports for fatal errors (or uncaught exceptions). However, you can also generate reports in instances where you catch an exception but still want to report the occurrence. To report such an error, you can follow the steps listed on <a href=\"https://firebase.google.com/docs/crash/android\" rel=\"nofollow noreferrer\">official Doc</a> :</p>\n\n<blockquote>\n  <p><strong>Some time You got an email from google Firebase to your registered email address to solve out bug</strong></p>\n</blockquote>\n\n<p>only supports <strong>collecting Java crashes</strong> (on Android).</p>\n\n<p>For more information look this <a href=\"https://stackoverflow.com/questions/37331845/does-will-google-support-ndk-c-crashes-in-firebase-crash-reporting\">blog</a></p>\n"}, {"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 3, "last_activity_date": 1504713535, "creation_date": 1504713535, "answer_id": 46079710, "question_id": 46076380, "link": "https://stackoverflow.com/questions/46076380/firebase-crash-reporting-does-it-support-ndk-now/46079710#46079710", "title": "Firebase Crash Reporting - Does it support NDK now?", "body": "<p>Firebase Crash Reporting currently does not support NDK/native code.  The team recommends use of Crashlyics (acquired by Google) for NDK crash reporting.</p>\n"}], "owner": {"reputation": 1645, "user_id": 4869914, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/94e94ff39b0e876b5edd59dd8ee58c48?s=128&d=identicon&r=PG&f=1", "display_name": "keyboard", "link": "https://stackoverflow.com/users/4869914/keyboard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 46079710, "answer_count": 2, "score": 0, "last_activity_date": 1504713535, "creation_date": 1504703918, "question_id": 46076380, "link": "https://stackoverflow.com/questions/46076380/firebase-crash-reporting-does-it-support-ndk-now", "title": "Firebase Crash Reporting - Does it support NDK now?", "body": "<p>Does Firebase Crash reporting support NDK / C++ in the latest version? </p>\n\n<p>Has anybody tested it and how are the results?</p>\n"}, {"tags": ["c++", "multithreading", "mutex", "ofstream", "stdthread"], "comments": [{"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504704896, "post_id": 46076326, "comment_id": 79114502, "body": "I do not understand you read m_WriterThreadRunning  and write false under mutex lock, but write true unprotected? Is this mutex only to protect one bool? use atomic instead. I would not stop/start threads - but implement some mechanism of wait when no images are in the queue and the continueWriting will just signal to teh thread to stop waiting."}, {"owner": {"reputation": 13, "user_id": 2489863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf138333034fbb1690841f28d0fef6a9?s=128&d=identicon&r=PG", "display_name": "Norman Hantke", "link": "https://stackoverflow.com/users/2489863/norman-hantke"}, "reply_to_user": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504705494, "post_id": 46076326, "comment_id": 79114967, "body": "Writing m_WriterThreadRunning true happens after the old thread is joint and before the new one is started, so no race condition can happen there.  The wait mechanism makes sense. Didn&#39;t even occur to me. Even if it doesn&#39;t solve the problem it should be more readable, so good idea!"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1504705631, "post_id": 46076326, "comment_id": 79115068, "body": "Symptoms: 1) multithreaded. 2) explicit use of mutex. 3) locks after a short period of use. Diagnosis: beyond any reasonable doubt, you have a deadlock condition."}, {"owner": {"reputation": 13, "user_id": 2489863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf138333034fbb1690841f28d0fef6a9?s=128&d=identicon&r=PG", "display_name": "Norman Hantke", "link": "https://stackoverflow.com/users/2489863/norman-hantke"}, "edited": false, "score": 0, "creation_date": 1504705926, "post_id": 46076326, "comment_id": 79115298, "body": "Wouldn&#39;t the thread stop at <code>m_ThreadRunningMutex.lock();</code> in case of a deadlock?"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 2059813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVPmd.png?s=128&g=1", "display_name": "gentlecolts", "link": "https://stackoverflow.com/users/2059813/gentlecolts"}, "is_accepted": false, "score": 0, "last_activity_date": 1505153925, "last_edit_date": 1505153925, "creation_date": 1504705813, "answer_id": 46077039, "question_id": 46076326, "link": "https://stackoverflow.com/questions/46076326/thread-stops-running-after-random-time-at-random-position-without-any-error/46077039#46077039", "title": "Thread stops running after random time at random position without any error", "body": "<p>I noticed you're immediately unlocking the thread in both branches.  Since all you're doing is reading a bool, you probably should avoid using locks entirely.  Reading is not usually an operation that needs synchronization (unless it has side effects, such as reading a stream, or the location is deallocated, etc)</p>\n\n<p>Consider: You will never read a True value from that bool before it's true and since all you do is read, you'll never run the risk of that function assigning an incorrect value to that bool.  You don't assign a new value to the bool here until after you've already joined your thread.</p>\n\n<p>I'd assume what's happening here is that your code locks the mutex, and another thread tries to write to it, but cannot since it's locked.</p>\n"}], "owner": {"reputation": 13, "user_id": 2489863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf138333034fbb1690841f28d0fef6a9?s=128&d=identicon&r=PG", "display_name": "Norman Hantke", "link": "https://stackoverflow.com/users/2489863/norman-hantke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505153925, "creation_date": 1504703776, "question_id": 46076326, "link": "https://stackoverflow.com/questions/46076326/thread-stops-running-after-random-time-at-random-position-without-any-error", "title": "Thread stops running after random time at random position without any error", "body": "<p>I have a thread that dumps images as raw data to disk. It works fine for a few minutes and then suddenly it just stops doing anything.</p>\n\n<p>Through command line output I found that it stops at random positions within the loop. </p>\n\n<p>The program doesn't crash within this thread (it crashes shortly after the thread stops running because my image buffer gets full), so no error/exception/anything from the thread.</p>\n\n<p>Here's a sketch of my code:</p>\n\n<pre><code>class ImageWriter\n{\npublic:\n  // constructor, destructor\n  void continueWriting();\nprivate:\n  void writeImages();\n  std::thread m_WriterThread;\n  bool m_WriterThreadRunning;\n  std::mutex m_ThreadRunningMutex;\n  ImageManager * m_ImageManager;\n};\n\nImageWriter::continueWriting()\n{\n  // whenever a new image is acquired, this function is called\n  // so if the thread has finished, it needs to be restarted\n  // this function is also used for the first start of writing\n  m_ThreadRunningMutex.lock();\n  if ( m_WriterThreadRunning )\n  {\n    m_ThreadRunningMutex.unlock();\n  }\n  else\n  {\n    m_ThreadRunningMutex.unlock();\n    if( m_WriterThread.joinable() )\n    {\n      m_WriterThread.join();\n    }\n    m_WriterThreadRunning = true;\n    m_WriterThread = std::thread( &amp;ImageWriter::writeImages, this );\n  }\n}\n\nvoid ImageWriter::writeImages()\n{\n  while ( true )\n  {\n    // MyImage is a struct that contains the image pointer and some metadata\n    std::shared_ptr&lt; MyImage &gt; imgPtr = m_ImageManager-&gt;getNextImage(m_uiCamId);\n    if( imgPtr == nullptr )\n    {\n      // this tells the ImageWriter that currently there are no further images queued\n      break;\n    }\n\n    // check whether the image is valid. If it's not, skip this image and continue with the next one\n    [...]\n\n    // create filename\n    std::stringstream cFileNameStr;\n    cFileNameStr &lt;&lt; [...];\n    std::ofstream cRawFile( cFileNameStr.str().c_str(), std::ios::out | std::ios::binary );\n\n    unsigned char * ucDataPtr = imgPtr-&gt;cImgPtr;\n    if( cRawFile.is_open() )\n    {\n      // calculate file size\n      unsigned int uiFileSize = [...];\n      cRawFile.write(reinterpret_cast&lt;char*&gt;(ucDataPtr), uiFileSize);\n      cRawFile.close();\n    }\n\n    // dump some metadata into a singleton class for logging\n    [...]\n  }\n\n  m_ThreadRunningMutex.lock();\n  m_WriterThreadRunning = false;\n  m_ThreadRunningMutex.unlock();\n}\n</code></pre>\n\n<p>ImageManager is a class that takes care of image acquisition and queues the acquired images. It also triggers continueWriting(). The continueWriting() mechanism is necessary, as images may be written faster than they are acquired.</p>\n\n<p>Why does this thread stop running at random times at random positions and without any error?</p>\n\n<p>Valgrind doesn't yield anything within my control.\nI tried setting the thread's priority up, but that didn't make any difference.\nI also tried another disk, but that didn't make any difference either.</p>\n"}, {"tags": ["c++", "build", "arm"], "owner": {"reputation": 1083, "user_id": 3768183, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1eaa13c75e1733a620a8546168582bec?s=128&d=identicon&r=PG&f=1", "display_name": "dk13", "link": "https://stackoverflow.com/users/3768183/dk13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 680, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504807964, "creation_date": 1504703378, "last_edit_date": 1504807964, "question_id": 46076179, "link": "https://stackoverflow.com/questions/46076179/alignment-trap-not-handling-instruction-error-when-trying-to-build-c-library", "title": "Alignment trap , not handling instruction error when trying to build c++ library with arm processor", "body": "<p>I'm trying to build the AWS SDK for C++ library on a cubietruck board.\nMy current software configuration is the following:</p>\n\n<pre><code>gcc 4.9.2\ncmake 3.8.2\nOS: Armbian_5.20_Cubietruck_Debian_jessie_3.4.112\nkernel 3.4.112.sun7i\ncurl : 7.38\naws cpp SDK version :(1.1.46)\n</code></pre>\n\n<p>I tried to build the above c++ library by giving :</p>\n\n<p>cmake -DCMAKE_BUILD_TYPE=Release -DBUILD_ONLY=\"config;core;kinesis\"</p>\n\n<p>However the build fails and I receive the following error messages:  </p>\n\n<p><strong>alignment trap: not handling instruction e8de677f at []<br>\nUnhandled fault :alignment exception (0x001) at 0x00bb674c<br>\nBus error</strong>  </p>\n\n<p>I also tried the following:<br>\n1) I tried to build different versions of the library<br>\n2) I updated the curl from 7.38 to 7.51<br>\n3) I upgraded the os with sudo apt-get update, sudo apt-get upgrade</p>\n\n<p>But the problem persisted. It seems to be a memory issue either leak or a bad dereferencing but could not find any useful info. \nI checked the in /var/log/syslog but didn't get any new info.<br>\nHas anyone come across a similar issue. Since it'a library  what can I do to get more info regarding the problem?</p>\n"}, {"tags": ["c++", "linux", "winapi"], "answers": [{"tags": [], "owner": {"reputation": 2141, "user_id": 3607294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbfabc07fadbdbecabb0ec56d193562?s=128&d=identicon&r=PG&f=1", "display_name": "nh_", "link": "https://stackoverflow.com/users/3607294/nh"}, "is_accepted": true, "score": 5, "last_activity_date": 1504705299, "last_edit_date": 1504705299, "creation_date": 1504703704, "answer_id": 46076302, "question_id": 46076114, "link": "https://stackoverflow.com/questions/46076114/datatypes-porting-a-c-code-to-linux-from-win32/46076302#46076302", "title": "datatypes porting a c++ code to Linux from win32", "body": "<p>You should use the data types provided by the language, of course. These are fundamental data types, like <code>char</code> and <code>int</code>. Beyond that, use <code>int8_t</code>, <code>int16_t</code>, ... and so on, defined in the <code>&lt;cstdint&gt;</code> header.</p>\n\n<p>Be careful when it comes to <code>BOOL</code> though, if I remember correctly, there are some parts of Windows that define <code>BOOL</code> as <code>char</code>, while others use <code>int</code>. And I think that there are even some places where values other than <code>TRUE</code> and <code>FALSE</code> (resp. <code>1</code> and <code>0</code>) are used with data type <code>BOOL</code>.</p>\n\n<p>Thus, naively changing every <code>BOOL</code> to <code>bool</code> and every <code>WCHAR</code> to <code>wchar_t</code> can lead to surprises when it comes to overload resolution and even break your code in tremendous ways if these types are used for serialization.</p>\n\n<p>Another thing that comes to my mind is Window's way to handle ASCII/Unicode with all these <code>TCHAR</code>s that may either end up as <code>CHAR</code> or <code>WCHAR</code>, depending on your preprocessor defines, so you need to decide how to transfer these.</p>\n\n<hr>\n\n<p>Some general advice:</p>\n\n<p>Do NOT misuse types. For example, do not define your variables, arguments and return types as <code>int</code> if they store stuff like handles or pointers (e.g. <code>HINSTANCE</code>, <code>HWND</code>, and these sorts of things). Instead define a meaningful type for that, e.g.</p>\n\n<pre><code>using native_handle_t = HINSTANCE;\n</code></pre>\n\n<p>It is then easy to provide an alternative define for linux or other platforms and there is no need to search and change your entire code base.</p>\n\n<p>When it comes to serialization, e.g. writing to binary files, you should stick to fixed-sized types (<code>uint8_t</code>, <code>uint16_t</code>, ...), since they are of the right size on every platform. Sending network packets with <code>long</code>s on a platform where the size of <code>long</code> is <code>4</code> and reading them on a platform where <code>long</code>'s size is <code>8</code> isn't necessarily a good thing!</p>\n"}, {"comments": [{"owner": {"reputation": 2141, "user_id": 3607294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbfabc07fadbdbecabb0ec56d193562?s=128&d=identicon&r=PG&f=1", "display_name": "nh_", "link": "https://stackoverflow.com/users/3607294/nh"}, "edited": false, "score": 0, "creation_date": 1504729854, "post_id": 46078182, "comment_id": 79129657, "body": "Great addition to my answer. Thank you!"}], "tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": false, "score": 2, "last_activity_date": 1504708989, "creation_date": 1504708989, "answer_id": 46078182, "question_id": 46076114, "link": "https://stackoverflow.com/questions/46076114/datatypes-porting-a-c-code-to-linux-from-win32/46078182#46078182", "title": "datatypes porting a c++ code to Linux from win32", "body": "<p>Elaborating on <a href=\"https://stackoverflow.com/a/46076302/3501\">nh_</a>s answer about <code>BOOL</code>.</p>\n\n<p>Windows has <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20041222-00/?p=36923\" rel=\"nofollow noreferrer\">3 Boolean types</a>:</p>\n\n<ul>\n<li><p><code>BOOL</code> is a 32-bit type. The <code>TRUE</code> and <code>FALSE</code> defines specify the basic values but most APIs returning <code>BOOL</code> are documented to return non-zero on success so you should just write <code>BOOL succ = somefunc(); if (succ) {...}</code>.</p></li>\n<li><p><code>BOOLEAN</code> is a 8-bit type. Mostly used by the Window NT kernel and NT API but has leaked into Win32 in various places over the years.</p></li>\n<li><p><code>VARIANT_BOOL</code> is a 16-bit type used in COM/Automation. <code>VARIANT_FALSE</code> is 0 and <code>VARIANT_TRUE</code> is actually -1 (<code>0xffff</code>)!</p></li>\n</ul>\n\n<p>Because of how <code>VARIANT_BOOL</code> is defined and how <code>BOOL</code> is used you should only test if something is false (compare with 0) or use <code>if (x)</code> and/or <code>if (!x)</code> style expressions...</p>\n"}], "owner": {"reputation": 315, "user_id": 3455833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/95380e309cb0d90b9ec2bf0028b5f410?s=128&d=identicon&r=PG&f=1", "display_name": "ekremer", "link": "https://stackoverflow.com/users/3455833/ekremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 46076302, "answer_count": 2, "score": 1, "last_activity_date": 1504708989, "creation_date": 1504703247, "question_id": 46076114, "link": "https://stackoverflow.com/questions/46076114/datatypes-porting-a-c-code-to-linux-from-win32", "title": "datatypes porting a c++ code to Linux from win32", "body": "<p>I have a <strong>c++</strong> code written using win32. In terms of data types it uses: </p>\n\n<ol>\n<li><p>primitives (<code>int, double, float, bool, long</code>,...)  </p></li>\n<li><p>Windows data types (<code>INT, SHORT, LONG, BOOL, BYTE, WCHAR</code>,...)</p></li>\n<li><p>and a couple of other data types: <code>__int64</code> and <code>wchar_t</code></p></li>\n</ol>\n\n<p><strong>Questions:</strong></p>\n\n<p>i. to port this code to <strong>Linux</strong>, what data types should I use ?</p>\n\n<p>ii. alternatively, to make it <strong>cross platform</strong> (Linux and win32), are these data types different from that in (i) ?</p>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["c++", "qt", "design-patterns"], "comments": [{"owner": {"reputation": 2141, "user_id": 3607294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbfabc07fadbdbecabb0ec56d193562?s=128&d=identicon&r=PG&f=1", "display_name": "nh_", "link": "https://stackoverflow.com/users/3607294/nh"}, "edited": false, "score": 0, "creation_date": 1504703227, "post_id": 46076047, "comment_id": 79113146, "body": "Define an interface and access your solvers through this interface, then you are free to (ex-)change the implementations."}], "answers": [{"tags": [], "owner": {"reputation": 897, "user_id": 6247159, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bece6fe9a62e76d54edf98c37805948?s=128&d=identicon&r=PG&f=1", "display_name": "Vardaan Sharma", "link": "https://stackoverflow.com/users/6247159/vardaan-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1504703395, "creation_date": 1504703395, "answer_id": 46076187, "question_id": 46076047, "link": "https://stackoverflow.com/questions/46076047/design-pattern-choice-for-application/46076187#46076187", "title": "Design pattern choice for application", "body": "<p>Strategy Pattern seems like a good fit.\nGist of it, is to implement an interface which all your solvers would implement.</p>\n\n<p>Then the class which consists of the solvers would contains a List where you can insert/remove solvers at run time.</p>\n\n<p>This way you are encapsulating what changes (i.e the solver)</p>\n\n<p>More info about strategy pattern: <a href=\"https://sourcemaking.com/design_patterns/strategy\" rel=\"nofollow noreferrer\">https://sourcemaking.com/design_patterns/strategy</a></p>\n"}, {"tags": [], "owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "is_accepted": false, "score": 2, "last_activity_date": 1504703405, "creation_date": 1504703405, "answer_id": 46076192, "question_id": 46076047, "link": "https://stackoverflow.com/questions/46076047/design-pattern-choice-for-application/46076192#46076192", "title": "Design pattern choice for application", "body": "<p>I don't know about Gang of Four design patterns, but I'd recommend a few things based on what I know about finite element methods: </p>\n\n<ol>\n<li>Start with an interface (all pure virtual functions) for solvers.</li>\n<li>Use dependency injection and a factory to instantiate the solver implementation based on solution type.</li>\n<li>Externalize parameters into a map for ease and flexibility.</li>\n<li>Write custom validators for each solution type to guarantee that you have the proper input before you begin that hard work of assembling and solving the equations.</li>\n</ol>\n"}], "owner": {"reputation": 527, "user_id": 1414786, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d901954f01e9d53970cc94bda0ee2682?s=128&d=identicon&r=PG&f=1", "display_name": "Misery", "link": "https://stackoverflow.com/users/1414786/misery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1504713907, "answer_count": 2, "score": 0, "last_activity_date": 1504703405, "creation_date": 1504703079, "question_id": 46076047, "link": "https://stackoverflow.com/questions/46076047/design-pattern-choice-for-application", "closed_reason": "Needs more focus", "title": "Design pattern choice for application", "body": "<p>I am starting a project consisting of a few solvers (all solving the same type of equation) of partial differential equation for industrial purposes. The application is supposed to have GUI (separated from computational code) and DLLs with different solvers. The aim is to achieve the extensibility in order to create new better solvers and add them to the solver list as plugins. Different solvers require sets of different parameters. What kind of design patter should I consider?</p>\n"}, {"tags": ["c++", "debugging", "stl", "totalview"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504702962, "post_id": 46075933, "comment_id": 79112932, "body": "Do you have an option to Step Over?  In MSVS that will go to the next line."}, {"owner": {"reputation": 5012, "user_id": 2416647, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f471b80868ae9c93d0903127ed27e2f9?s=128&d=identicon&r=PG", "display_name": "schorsch312", "link": "https://stackoverflow.com/users/2416647/schorsch312"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504703004, "post_id": 46075933, "comment_id": 79112960, "body": "Yes, you can step over a function."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504703122, "post_id": 46075933, "comment_id": 79113056, "body": "Okay.  It isn&#39;t the best think but what I do is set the breakpoint in the function that I want to check and then I&#39;ll hit that breakpoint even if use step over.  You could also try using step out to get out of the library code and back to yours."}, {"owner": {"reputation": 5012, "user_id": 2416647, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f471b80868ae9c93d0903127ed27e2f9?s=128&d=identicon&r=PG", "display_name": "schorsch312", "link": "https://stackoverflow.com/users/2416647/schorsch312"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1504704180, "post_id": 46075933, "comment_id": 79113933, "body": "In parallel to your comment, I edited my question in the very same way. :-)"}], "owner": {"reputation": 5012, "user_id": 2416647, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f471b80868ae9c93d0903127ed27e2f9?s=128&d=identicon&r=PG", "display_name": "schorsch312", "link": "https://stackoverflow.com/users/2416647/schorsch312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504703179, "creation_date": 1504702779, "last_edit_date": 1504703179, "question_id": 46075933, "link": "https://stackoverflow.com/questions/46075933/how-to-disallow-my-debugger-totalview-to-step-into-the-standard-library-implem", "title": "How to disallow my debugger (totalview) to step into the standard library implementation?", "body": "<p>Is it possible to disallow my debugger (<a href=\"https://www.roguewave.com/products-services/totalview\" rel=\"nofollow noreferrer\">totalview</a>) to step into the standard library code on linux? Quite often when debugging C++ code I step into standard library code. I expect that it is correct; I am not interested in debugging it. I am only interested in debugging my own (self-written) code.</p>\n\n<p>For instance when setting a break point at this function:</p>\n\n<pre><code>foo(std::make_shared&lt;int&gt;(6));\n</code></pre>\n\n<p>where <code>foo</code> is defined as:</p>\n\n<pre><code>void foo(std::shared_ptr&lt;int&gt; x) {\n    // do something\n}\n</code></pre>\n\n<p>I do not want to dive into the details of <code>std::make_shared</code>: what I want is to step directly into the function foo. But this seems not to be possible. If the breakpoint at <code>foo(std::make_shared&lt;int&gt;(6));</code> is reached and I press the 'Step Into' button it first steps into the 'memory' header file (standard library):</p>\n\n<p>You can double click on the function, than place a breakpoint and go to it and remove the breakpoint. This works, but is time consuming and cumbersome. </p>\n\n<p>The very same problem is asked <a href=\"https://stackoverflow.com/questions/20352426/skip-stl-code-when-debugging-c-code-in-visual-studio-2012\">here</a> and <a href=\"https://stackoverflow.com/questions/37450489/visual-studio-2015-prevent-debugger-stepping-into-stl-code-specfically-stdf\">here</a>, for visual studio but not for totalview. </p>\n"}, {"tags": ["c++", "visual-studio", "compilation"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1504703289, "post_id": 46075902, "comment_id": 79113194, "body": "you should not post screenshots anyhow. post code instead"}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 1, "creation_date": 1504703365, "post_id": 46075902, "comment_id": 79113253, "body": "As well as error messages as text..."}], "owner": {"reputation": 1, "user_id": 8537458, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v90MOVzjnfA/AAAAAAAAAAI/AAAAAAAAACA/jqPVH36OW1E/photo.jpg?sz=128", "display_name": "Timofey Naumenko", "link": "https://stackoverflow.com/users/8537458/timofey-naumenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504704904, "creation_date": 1504702680, "last_edit_date": 1504704904, "question_id": 46075902, "link": "https://stackoverflow.com/questions/46075902/sometimes-there-is-a-link-error-under-vs2012-sometimes-not", "title": "Sometimes there is a link error under VS2012, sometimes not", "body": "<p>Today I've got a strange link error under VS 2012. When I tried to build my solution after some coding I got link error (LNK2001). When I canceled changes just by commenting added lines, the project builds. With some tries I got a strange thing. (next lines describes my actions in actual order)</p>\n\n<p>When I build project with all lines, I'm getting LNK2001.</p>\n\n<p>When I comment first constructor for GeneticNetworkRealisation - I'm getting LNK2001.</p>\n\n<p>When I comment second constructor for GeneticNetwork - error disappears.</p>\n\n<p>But when I return this line back to code - there is still no error.</p>\n\n<p>So, this means that two identical code has different link success. Any ideas of how to fix this? Simplified code and errors:</p>\n\n<p>NeuralNetwork.h</p>\n\n<pre><code>#pragma once\n\n#include \"Neuron.h\"\n#include \"NeuralLayer.h\"\n\nstruct Topology {\n    // some variables\n};\n\nclass NeuralNetwork {\n\npublic:\n\n    NeuralNetwork(const Topology &amp; topology);\n    NeuralNetwork(const NeuralNetwork &amp; nn) : layers(nn.layers) {}\n\n    virtual ~NeuralNetwork() {}\n\nprotected:\n\n    std::vector&lt;NeuralLayer&gt; layers;\n\n};\n</code></pre>\n\n<p>GeneticNetwork.h</p>\n\n<pre><code>#pragma once\n\n#include \"NeuralNetwork.h\"\n\nclass GeneticNetwork : public NeuralNetwork {\n\npublic:\n\n    GeneticNetwork(const Topology &amp; topology) : NeuralNetwork(topology) {}\n    GeneticNetwork(const GeneticNetwork &amp; gnn) : NeuralNetwork(gnn) {}\n\n    virtual std::vector&lt;double&gt; getNetworkGeneticCode() const = 0;\n    virtual void mutate() = 0;\n    virtual NeuralNetwork crossingOver(const NeuralNetwork &amp; nn) const = 0;\n\n    virtual ~GeneticNetwork() {}\n};\n</code></pre>\n\n<p>GeneticNetworkRealisation.h</p>\n\n<pre><code>#pragma once\n\n#include \"GeneticNetwork.h\"\n#include \"URNG.h\"\n\nstruct MutationParameters {\n    // some parameters\n};\n\nconst MutationParameters DEFAULT_MUTATION_PARAMS = {/*...*/};\n\nclass GeneticNetworkRealisation : public GeneticNetwork {\n\npublic:\n\n    GeneticNetworkRealisation(const GeneticNetworkRealisation &amp; gnn) :\n            GeneticNetwork(gnn), random(gnn.random), mutationParams(gnn.mutationParams) {}\n\n    GeneticNetworkRealisation(const Topology &amp; topology, URNG urng = URNG(),\n            const MutationParameters &amp; mutationParameters = DEFAULT_MUTATION_PARAMS) :\n            GeneticNetwork(topology), random(urng), mutationParams(mutationParameters) {}\n\n    virtual std::vector&lt;double&gt; getNetworkGeneticCode() const override;\n    virtual void mutate() override;\n    virtual NeuralNetwork crossingOver(const NeuralNetwork &amp; nn) const override;\n\n    virtual ~GeneticNetworkRealisation() {}\n\nprotected:\n\n    URNG &amp; random;\n    MutationParameters mutationParams;\n\n};\n</code></pre>\n\n<p>GeneticNetworkRealisation.cpp</p>\n\n<pre><code>#include \"GeneticNetworkRealisation.h\"\n\nvoid GeneticNetworkRealisation::mutate() {\n    // code\n}\n\nstd::vector&lt;double&gt; GeneticNetworkRealisation::getNetworkGeneticCode() const {\n    // code\n}\n\nNeuralNetwork GeneticNetworkRealisation::crossingOver(const NeuralNetwork &amp; nn) const {\n    // code\n}\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>1&gt;main.obj : error LNK2001: unresolved external symbol \"\"public: virtual class std::vector&lt;double,class std::allocator&lt;double&gt; &gt; __thiscall GeneticNetworkRealisation::getNetworkGeneticCode(void)const \" (?getNetworkGeneticCode@GeneticNetworkRealisation@@UBE?AV?$vector@NV?$allocator@N@std@@@std@@XZ)\"\n1&gt;main.obj : error LNK2001: unresolved external symbol \"\"public: virtual void __thiscall GeneticNetworkRealisation::mutate(void)\" (?mutate@GeneticNetworkRealisation@@UAEXXZ)\"\n1&gt;main.obj : error LNK2001: unresolved external symbol \"\"public: virtual class NeuralNetwork __thiscall GeneticNetworkRealisation::crossingOver(class NeuralNetwork const &amp;)const \" (?crossingOver@GeneticNetworkRealisation@@UBE?AVNeuralNetwork@@ABV2@@Z)\"\n</code></pre>\n"}, {"tags": ["c++", "linux", "bash", "system"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 3, "creation_date": 1504702268, "post_id": 46075721, "comment_id": 79112381, "body": "According to <b>the manual</b> the return value is (mostly) implementation defined <a href=\"http://en.cppreference.com/w/cpp/utility/program/system\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/program/system</a>"}, {"owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1504702403, "post_id": 46075721, "comment_id": 79112494, "body": "@Galik: I assume that he is using Linux where: <code>The value returned is -1 on  error  (e.g.,  fork(2)  failed),  and  the return  status  of the command otherwise.</code> holds. See <a href=\"https://linux.die.net/man/3/system\" rel=\"nofollow noreferrer\">Linux manpage of system</a>."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "edited": false, "score": 0, "creation_date": 1504703537, "post_id": 46075721, "comment_id": 79113428, "body": "@AndreKampling however, it is important to mention that return status of a command is not the value returned from <code>main</code>."}, {"owner": {"reputation": 8002, "user_id": 1143850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2927fac544c9960cd5433688fe4cae1d?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/1143850/serge"}, "edited": false, "score": 0, "creation_date": 1504704036, "post_id": 46075721, "comment_id": 79113826, "body": "have you checked what status does your  shell script produced outside of the c++?"}], "answers": [{"tags": [], "owner": {"reputation": 4827, "user_id": 8051589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VNG6.png?s=128&g=1", "display_name": "Andre Kampling", "link": "https://stackoverflow.com/users/8051589/andre-kampling"}, "is_accepted": false, "score": 1, "last_activity_date": 1504704012, "last_edit_date": 1504704012, "creation_date": 1504703074, "answer_id": 46076041, "question_id": 46075721, "link": "https://stackoverflow.com/questions/46075721/how-does-the-c-interpret-the-return-value-of-system/46076041#46076041", "title": "How does the C++ interpret the return value of system()", "body": "<p>As said in the comments the <a href=\"http://en.cppreference.com/w/cpp/utility/program/system\" rel=\"nofollow noreferrer\">return value of <code>system()</code> is implementation defined</a>.<br>\nBut I assume that you are on Linux where the following holds (<a href=\"https://linux.die.net/man/3/system\" rel=\"nofollow noreferrer\">see manpage of <code>system()</code></a>):</p>\n\n<blockquote>\n  <p><strong>Return Value</strong></p>\n  \n  <p>The value returned is -1 on error (e.g., <em>fork(2)</em> failed), and the return status of the command otherwise. This latter return status is in the format specified in <em>wait(2)</em>. Thus, the exit code of the command will be <em>WEXITSTATUS(status)</em>. In case <em>/bin/sh</em> could not be executed, the exit status will be that of a command that does <strong><em>exit</strong>(127)</em>.</p>\n</blockquote>\n\n<p>That means to get the exit status of the command use <code>WEXITSTATUS()</code>:</p>\n\n<pre><code>std::cout &lt;&lt; WEXITSTATUS(system(\"./test.sh\")) &lt;&lt; std::endl;\n</code></pre>\n\n<p>The <a href=\"https://linux.die.net/man/2/wait\" rel=\"nofollow noreferrer\">manpage of <code>wait()</code></a> explains <code>WEXITSTATUS()</code>, which is defined in the <em>stdlib.h</em> header:</p>\n\n<blockquote>\n  <p><strong>WEXITSTATUS(status)</strong></p>\n  \n  <p>returns the exit status of the child. This consists of the least significant 8 bits of the <em>status</em> argument that the child specified in a call to <strong>exit</strong>(3) or <strong>_exit</strong>(2) or as the argument for a return statement in main(). This macro should only be employed if <strong>WIFEXITED</strong> returned true. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 1, "last_activity_date": 1504703233, "last_edit_date": 1592644375, "creation_date": 1504703233, "answer_id": 46076108, "question_id": 46075721, "link": "https://stackoverflow.com/questions/46075721/how-does-the-c-interpret-the-return-value-of-system/46076108#46076108", "title": "How does the C++ interpret the return value of system()", "body": "<blockquote>\n<p>Does the value depend on the machine?</p>\n</blockquote>\n<p>Yes (at least as far as C++ standard is concerned).</p>\n<blockquote>\n<p>it possible to get the 0, 1, 2 etc?</p>\n</blockquote>\n<p>C++ standard does not provide a way to get the return value of the sub-process, but <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/system.html#tag_16_597\" rel=\"nofollow noreferrer\">POSIX</a> does, which applies to you since you use Linux.</p>\n<blockquote>\n<p>Return Value</p>\n<p>If command is a null pointer, system() shall return non-zero to indicate that a command processor is available, or zero if none is available. [CX] [Option Start] The system() function shall always return non-zero when command is NULL. [Option End]</p>\n<p>[CX] [Option Start] If command is not a null pointer, system() shall return the termination status of the command language interpreter <strong>in the format specified by waitpid()</strong>. The termination status shall be as defined for the sh utility; otherwise, the termination status is unspecified. If some error prevents the command language interpreter from executing after the child process is created, the return value from system() shall be as if the command language interpreter had terminated using exit(127) or _exit(127). If a child process cannot be created, or if the termination status for the command language interpreter cannot be obtained, system() shall return -1 and set errno to indicate the error. [Option End]</p>\n</blockquote>\n<p><a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/wait.html\" rel=\"nofollow noreferrer\">waitpid()</a> specifies a macro that can be used to extract the value returned from <code>main()</code>.</p>\n<blockquote>\n<p>WEXITSTATUS(stat_val)</p>\n<p>If the value of WIFEXITED(stat_val) is non-zero, this macro evaluates to the low-order 8 bits of the status argument that the child process passed to _exit() or exit(), or the value the child process returned from main().</p>\n</blockquote>\n"}], "owner": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 0, "accepted_answer_id": 46076108, "answer_count": 2, "score": 1, "last_activity_date": 1504704012, "creation_date": 1504702180, "last_edit_date": 1504703949, "question_id": 46075721, "link": "https://stackoverflow.com/questions/46075721/how-does-the-c-interpret-the-return-value-of-system", "title": "How does the C++ interpret the return value of system()", "body": "<p>I need to make my C++ program execute a bash script. So I think I need to use <code>system()</code>, here is an example:</p>\n\n<p>bash script <code>test.sh</code>:</p>\n\n<pre><code>#!/bin/sh\nexit 1\n</code></pre>\n\n<p>C++:</p>\n\n<pre><code>int main()\n{\n    std::cout &lt;&lt; system(\"./test.sh\") &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>To my surprise, I get an <code>256</code> etc. Here is what I've found:</p>\n\n<pre><code> test.sh | C++\n---------|-----\n exit 0  | 0\n exit 1  | 256\n exit 2  | 512\n...\n</code></pre>\n\n<p>I don't know why. Is it possible to get the 0, 1, 2 etc.? Does the value depend on the machine?</p>\n"}, {"tags": ["c++", "multithreading", "locking", "mutex", "deadlock"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1504702061, "post_id": 46075532, "comment_id": 79112240, "body": "in general you dont get into a deadlock &quot;even though&quot; you use mutexes, but you run into a deadlock &quot;because&quot; you use mutexes. If you have a deadlock i am not sure"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1504702116, "post_id": 46075532, "comment_id": 79112283, "body": "<code>std::vector&lt;double&gt; dat { (size) };</code> is a vector of size 1 with single element <code>size</code>. With that fixed, it works fine <a href=\"http://coliru.stacked-crooked.com/a/7a2f0746e24184f8\" rel=\"nofollow noreferrer\">here</a>, although that&#39;s not proof its fine"}, {"owner": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1504702474, "post_id": 46075532, "comment_id": 79112548, "body": "IIRC you don&#39;t need a lock around access to different elements of a vector"}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504702511, "post_id": 46075532, "comment_id": 79112585, "body": "In addition to the problem above  there is no include for &lt;string&gt; - your warning level is not adequate if you are able to compile this sample without problems. I see no problems in mutex usage - but I see no reason for thread_local variable - regular local var will be enough."}, {"owner": {"reputation": 148, "user_id": 7321954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d30b97f335575e995b0adb940929f9?s=128&d=identicon&r=PG&f=1", "display_name": "MPIchael", "link": "https://stackoverflow.com/users/7321954/mpichael"}, "reply_to_user": {"reputation": 16907, "user_id": 4832499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/76532994f6efa8d7dc8a3bb5b7b262a8?s=128&d=identicon&r=PG&f=1", "display_name": "Passer By", "link": "https://stackoverflow.com/users/4832499/passer-by"}, "edited": false, "score": 0, "creation_date": 1504704025, "post_id": 46075532, "comment_id": 79113810, "body": "Many Thanks to @Passer . The array instantiation seems to be the problem."}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1504713670, "post_id": 46075532, "comment_id": 79120846, "body": "The lock in <code>output()</code> serves no purpose since that function only is ever called by the main thread."}], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 7321954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d30b97f335575e995b0adb940929f9?s=128&d=identicon&r=PG&f=1", "display_name": "MPIchael", "link": "https://stackoverflow.com/users/7321954/mpichael"}, "edited": false, "score": 0, "creation_date": 1504704593, "post_id": 46076518, "comment_id": 79114275, "body": "Thank you! I saw lock_gurad and unique_lock&#39;s in my google search, but could&#39;nt really wrap my head around why they should be used. Could you elaborate?"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 0, "last_activity_date": 1504705275, "last_edit_date": 1504705275, "creation_date": 1504704314, "answer_id": 46076518, "question_id": 46075532, "link": "https://stackoverflow.com/questions/46075532/deadlock-on-c-stdthread-even-with-mutex-lock/46076518#46076518", "title": "deadlock on c++ std::thread even with mutex lock", "body": "<p>I know there is a recommendation to use <code>{}</code> in ctor and it eliminates the problem with immplicit function declaration. But you have problem if the class has constructor overload with <code>std::initializer_list&lt;T&gt;</code> as a parameter and <a href=\"http://en.cppreference.com/w/cpp/container/vector/vector\" rel=\"nofollow noreferrer\">std::vector</a> does. So this line:</p>\n\n<pre><code>std::vector&lt;double&gt; dat { (size) };\n</code></pre>\n\n<p>creates vector with one element <code>size</code> in it.</p>\n\n<p>As your statement that you run into deadlock and have to use mutexes, that's hardly possible. Most probably your program hangs, but that is not considered a deadlock. Deadlock is a situation when your threads block each other trying to lock mutexes in wrong order (or similar situation).</p>\n\n<p>Note: this is not fix but you should use RAII for mutex lock and standard library provides tool for that:  <a href=\"http://en.cppreference.com/w/cpp/thread/lock_guard\" rel=\"nofollow noreferrer\">std::lock_guard</a>, <a href=\"http://en.cppreference.com/w/cpp/thread/unique_lock\" rel=\"nofollow noreferrer\">std::unique_lock</a> or <a href=\"http://en.cppreference.com/w/cpp/thread/scoped_lock\" rel=\"nofollow noreferrer\">std::scoped_lock</a> if you have c++17. Reason, why RAII should be used in this case (and many others) are described <a href=\"http://en.cppreference.com/w/cpp/language/raii\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>RAII guarantees that the resource is available to any function that\n  may access the object (resource availability is a class invariant,\n  eliminating redundant runtime tests). It also guarantees that all\n  resources are released when the lifetime of their controlling object\n  ends, in reverse order of acquisition. Likewise, if resource\n  acquisition fails (the constructor exits with an exception), all\n  resources acquired by every fully-constructed member and base\n  subobject are released in reverse order of initialization. This\n  leverages the core language features (object lifetime, scope exit,\n  order of initialization and stack unwinding) to eliminate resource\n  leaks and guarantee exception safety. Another name for this technique\n  is Scope-Bound Resource Management (SBRM), after the basic use case\n  where the lifetime of an RAII object ends due to scope exit.</p>\n</blockquote>\n"}], "owner": {"reputation": 148, "user_id": 7321954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d30b97f335575e995b0adb940929f9?s=128&d=identicon&r=PG&f=1", "display_name": "MPIchael", "link": "https://stackoverflow.com/users/7321954/mpichael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "accepted_answer_id": 46076518, "answer_count": 1, "score": 0, "last_activity_date": 1504705275, "creation_date": 1504701617, "last_edit_date": 1504701936, "question_id": 46075532, "link": "https://stackoverflow.com/questions/46075532/deadlock-on-c-stdthread-even-with-mutex-lock", "title": "deadlock on c++ std::thread even with mutex lock", "body": "<p>I try to get a better understanding of c++ threads. I implemented a small example where I want four threads to work on a index region within a std::vector.</p>\n\n<p>Of course I ran into deadlocks and read into the use of mutexes and locks. As I understand, the general assumption is that all variables are shared by the threads, unless explicitly stated otherwise (thread_local). If a thread alters any global data it is wise to lock the recourse first, do the work on the data to avoid data races, then unlock the data again so that other threads may use it.</p>\n\n<p>In my example the locks on std::cout work fine, the threads are created fine, the function is called fine, but the program still hangs even though i implemented the data_lock just before and after the data is manipulated.\nIt also works fine if I comment out the data manipulation and display a message instead. The output is different from run to run, so I refrain from posting it.</p>\n\n<p>My feeling is that I miss some <em>concept</em> of c++ threads that I am unaware of (I worked with MPI before). </p>\n\n<p><strong>My Questions:</strong></p>\n\n<ol>\n<li>Is there a concept I am missing? What else do I need to know/read?</li>\n<li>What are the tools other than using mutexes, locks and thread_local to proper execution?</li>\n</ol>\n\n<p><strong>compiler instruction:</strong></p>\n\n<p>g++ -std=c++1y -O0 -g3 -Wall -c -fmessage-length=0 -pthread -MMD -MP -MF\"src/main.d\" -MT\"src/main.d\" -o \"src/main.o\" \"../src/main.cpp\"</p>\n\n<p><strong>code:</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;vector&gt;\n#include &lt;mutex&gt;\nusing namespace std;\n\nstd::mutex data_lock;\nstd::mutex cout_lock;\n\nvoid output(std::string message){\n    cout_lock.lock();\n    cout &lt;&lt; message &lt;&lt; endl;\n    cout_lock.unlock();\n}\n\nvoid work(std::vector&lt;double&gt;&amp; data, const int s_ind, const int e_ind)     {\n    thread_local int i = 0;\n    for (i = s_ind; i &lt;= e_ind; i++) {\n        data_lock.lock();\n        data[i] = 1.0;\n        data_lock.unlock();\n        //msg(\"work\");\n    }\n}\n\nint main() {\n    const int size = 1000;\n    const int cpus = 4;\n    const int chunksize = size / cpus;\n\n    //create Data vector\n    std::vector&lt;double&gt; dat { (size) };\n\n    //thread vector\n    std::vector&lt;std::thread&gt; threads;\n\n    //create and start threads with proper ranges (ranges tested)\n    for (int cpu = 0; cpu &lt; cpus; cpu++) {\n        threads.push_back(std::thread(work, ref(dat), (cpu * chunksize),(((cpu + 1) * chunksize) - 1)));\n        output(\"thread created\");\n    }\n\n    //delete threads\n    for (int cpu = 0; cpu &lt; cpus; cpu++) {\n        threads[cpu].join();\n        output(\"thread joined\");\n    }\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "edited": false, "score": 0, "creation_date": 1504701786, "post_id": 46075489, "comment_id": 79112038, "body": "Add your label to a <code>QWidget</code>."}, {"owner": {"reputation": 2141, "user_id": 3607294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbfabc07fadbdbecabb0ec56d193562?s=128&d=identicon&r=PG&f=1", "display_name": "nh_", "link": "https://stackoverflow.com/users/3607294/nh"}, "edited": false, "score": 1, "creation_date": 1504703021, "post_id": 46075489, "comment_id": 79112975, "body": "Despite the fact that your label is not inserted into a layout of a widget, did you check that your <code>on_pushButton_clicked</code> is actually connected to the <code>QPushButton</code>&#39;s signal?"}], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 3464289, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/UThsg.jpg?s=128&g=1", "display_name": "LittleSaints", "link": "https://stackoverflow.com/users/3464289/littlesaints"}, "edited": false, "score": 0, "creation_date": 1504704670, "post_id": 46075919, "comment_id": 79114339, "body": "Thanks, but not yet solved! Last line:           ui-&gt;centralWidget-&gt;layout()-&gt;addWidget(label_n);  causes a crash and program exits..."}, {"owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "reply_to_user": {"reputation": 341, "user_id": 3464289, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/UThsg.jpg?s=128&g=1", "display_name": "LittleSaints", "link": "https://stackoverflow.com/users/3464289/littlesaints"}, "edited": false, "score": 0, "creation_date": 1504704865, "post_id": 46075919, "comment_id": 79114475, "body": "I guess your central widget has no layout. add a widget with layout to your form with designer and try to add label to it."}], "tags": [], "owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "is_accepted": false, "score": 3, "last_activity_date": 1504702732, "creation_date": 1504702732, "answer_id": 46075919, "question_id": 46075489, "link": "https://stackoverflow.com/questions/46075489/qlabel-associated-to-a-pushbutton-doesnt-appears/46075919#46075919", "title": "QLabel associated to a PushButton doesn&#39;t appears", "body": "<p>Add your label to the widget that you want to show in it.</p>\n\n<p>for example this line add lable to centralWidget layout:</p>\n\n<pre><code>ui-&gt;centralWidget-&gt;layout()-&gt;addWidget(label_n);\n</code></pre>\n\n<p>your function:</p>\n\n<pre><code>void Mod28::AddItem()\n{\n   QLabel *label_n = new QLabel(this);\n   //\n   //\n   //\n   ui-&gt;centralWidget-&gt;layout()-&gt;addWidget(label_n);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 8106002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e477ad83a0db8ad842418b2a4ee15fa?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/8106002/pat"}, "is_accepted": true, "score": -1, "last_activity_date": 1504706969, "last_edit_date": 1504706969, "creation_date": 1504706115, "answer_id": 46077129, "question_id": 46075489, "link": "https://stackoverflow.com/questions/46075489/qlabel-associated-to-a-pushbutton-doesnt-appears/46077129#46077129", "title": "QLabel associated to a PushButton doesn&#39;t appears", "body": "<p>Try to call <code>label_n-&gt;show ();</code>  <code>label_n-&gt;raise();</code> after.</p>\n"}], "owner": {"reputation": 341, "user_id": 3464289, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/UThsg.jpg?s=128&g=1", "display_name": "LittleSaints", "link": "https://stackoverflow.com/users/3464289/littlesaints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46077129, "answer_count": 2, "score": 2, "last_activity_date": 1504706969, "creation_date": 1504701519, "last_edit_date": 1504701910, "question_id": 46075489, "link": "https://stackoverflow.com/questions/46075489/qlabel-associated-to-a-pushbutton-doesnt-appears", "title": "QLabel associated to a PushButton doesn&#39;t appears", "body": "<p>I'm trying to build a <code>QLabel</code> that I'd like to appear when I press a <code>QPushButton</code>; code is simple:</p>\n\n<pre><code>    void Mod28::on_pushButton_clicked()\n    {\n       AddItem();\n    }\n    void Mod28::AddItem()\n    {\n       QLabel *label_n = new QLabel(this);\n       label_n-&gt;setObjectName(QStringLiteral(\"label_n\"));\n       label_n-&gt;setGeometry(QRect(20, DimVert, 25, 17));\n       label_n-&gt;setFrameShape(QFrame::Box);\n       label_n-&gt;setNum(ItemCounter);\n     }\n</code></pre>\n\n<p>Nothing appears. Instead, if I put <code>AddItem()</code> inside the following:</p>\n\n<pre><code>    Mod28::Mod28(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::Mod28)\n    {\n        ui-&gt;setupUi(this);\n        AddItem(); // here, for example, is ok !!!!\n    }\n</code></pre>\n\n<p>How can I solve? I need a <code>QLabel</code> appearing when I press the button.</p>\n"}, {"tags": ["c++", "openmp", "odeint"], "comments": [{"owner": {"reputation": 93, "user_id": 8531311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6e961273e2ab36c3d8548b08cada73?s=128&d=identicon&r=PG&f=1", "display_name": "Guillotine", "link": "https://stackoverflow.com/users/8531311/guillotine"}, "edited": false, "score": 0, "creation_date": 1504705368, "post_id": 46075440, "comment_id": 79114875, "body": "Hi, i believe that your code misses mentioned &#39;.&#39; after <code>stepper</code>. Anyways are you surely using typedef properly? <a href=\"http://en.cppreference.com/w/cpp/language/typedef\" rel=\"nofollow noreferrer\">typedef</a>, shall <code>stepper</code> need instantiation before usage?"}, {"owner": {"reputation": 1, "user_id": 7900154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdraC.gif?s=128&g=1", "display_name": "Jorge S&#225;nchez", "link": "https://stackoverflow.com/users/7900154/jorge-s%c3%a1nchez"}, "reply_to_user": {"reputation": 93, "user_id": 8531311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6e961273e2ab36c3d8548b08cada73?s=128&d=identicon&r=PG&f=1", "display_name": "Guillotine", "link": "https://stackoverflow.com/users/8531311/guillotine"}, "edited": false, "score": 0, "creation_date": 1505841737, "post_id": 46075440, "comment_id": 79574672, "body": "Thanks, that was a misspell! I have declare like: typedef runge_kutta_dopri5&lt; state_type , double , state_type , double , openmp_range_algebra , default_operations , never_resizer &gt; stepper_type;  auto stepper=stepper_type();"}], "owner": {"reputation": 1, "user_id": 7900154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdraC.gif?s=128&g=1", "display_name": "Jorge S&#225;nchez", "link": "https://stackoverflow.com/users/7900154/jorge-s%c3%a1nchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504701945, "creation_date": 1504701384, "last_edit_date": 1504701945, "question_id": 46075440, "link": "https://stackoverflow.com/questions/46075440/odeint-c-do-step-openmp", "title": "odeint c++ do_step openmp", "body": "<p>I'm trying to use solve my ode system and use openmp. When I try stepper.do_step with:</p>\n\n<pre><code>typedef runge_kutta_dopri5&lt; state_type , double , state_type , double , openmp_range_algebra &gt; stepper;\n</code></pre>\n\n<p>I define my state_type as std::vector</p>\n\n<p>And I compile I get:</p>\n\n<pre><code>   error: expected unqualified-id before '.' token stepper.do_step(c , Y , t, dt );\n</code></pre>\n\n<p>Is it a problem of my typedef or I can't use do_step with openmp?</p>\n\n<pre><code>#include &lt;boost/numeric/odeint.hpp&gt;\n#include&lt;omp.h&gt;\n#include &lt;boost/numeric/odeint/external/openmp/openmp.hpp&gt;\n\ntypedef std::vector&lt; double &gt; state_type;\n\nstruct T\n {\n   double m_param1;\n   double m_param2;\n };\n\n class sys\n {\n   struct T T1;\n public:\n   sys(struct T G) : T1(G) {}\n   void operator() ( state_type const&amp; Y , state_type&amp; dY , double t )\n    {\n    const size_t N = Y.size();\n\n    #pragma omp parallel for schedule(runtime)\n    for (size_t aux = 0; aux &lt;= N; aux++) {\n        mdlfnt(Y,dY,t,T1.m_currents,T1.m_stim); //Here is my ode system\n    }\n  }\n};\n\nstruct T T2;\n\nstate_type Y(45); // initial conditions\n\nvoid main()\n {\ntypedef runge_kutta_dopri5&lt; state_type , double , state_type , double , openmp_range_algebra , default_operations , never_resizer &gt; stepper;\n\n\nint number_threads = 1;\nomp_set_num_threads(number_threads);\nint chunk_size = omp_get_max_threads();\nomp_set_schedule( omp_sched_static , chunk_size );\n\n\nfor(int i=0;i&lt;nd;i++){\n        sys c(T2);\n        stepperdo_step(c , Y , t, dt );\n\n     }\n\n  }\n</code></pre>\n"}, {"tags": ["c++", "class", "object"], "answers": [{"comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1504702141, "post_id": 46075344, "comment_id": 79112294, "body": "IMO a note about the constructor (being able to default-construct elements) and maybe <code>emplace_back</code> would be helpful"}, {"owner": {"reputation": 152, "user_id": 7422637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a246ffd14ebccdbee907e96647eee52?s=128&d=identicon&r=PG&f=1", "display_name": "Awesome Man", "link": "https://stackoverflow.com/users/7422637/awesome-man"}, "edited": false, "score": 0, "creation_date": 1504703594, "post_id": 46075344, "comment_id": 79113474, "body": "Thanks, how to do that by array, like structure array?"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 3, "last_activity_date": 1504701103, "creation_date": 1504701103, "answer_id": 46075344, "question_id": 46075292, "link": "https://stackoverflow.com/questions/46075292/how-to-create-objects-array-or-classes-array-in-c/46075344#46075344", "title": "How to create Objects array or Classes array in C++?", "body": "<p>You can make a <code>std::vector</code> or <code>std::array</code> depending on if you know the size at compile time.</p>\n\n<pre><code>std::vector&lt;Prozessor&gt; prozessors;\nfor (int i = 0; i &lt; 10; ++i)\n{\n    Prozessor prozessor;\n    prozessor.SetProzessor();\n    prozessors.push_back(prozessor);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 4, "creation_date": 1504701607, "post_id": 46075502, "comment_id": 79111882, "body": "Correct, but <code>std::vector</code> and <code>std::array</code> are better choices."}], "tags": [], "owner": {"reputation": 42880, "user_id": 982161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/kutcC.png?s=128&g=1", "display_name": "\u03a6Xoc\u0119 \uc6c3 \u041fepe&#250;pa \u30c4", "link": "https://stackoverflow.com/users/982161/%ce%a6xoc%c4%99-%ec%9b%83-%d0%9fepe%c3%bapa-%e3%83%84"}, "is_accepted": true, "score": 0, "last_activity_date": 1504701720, "last_edit_date": 1504701720, "creation_date": 1504701545, "answer_id": 46075502, "question_id": 46075292, "link": "https://stackoverflow.com/questions/46075292/how-to-create-objects-array-or-classes-array-in-c/46075502#46075502", "title": "How to create Objects array or Classes array in C++?", "body": "<p>you can declare arrays in the same way you doit with struct or default  types</p>\n\n<pre><code>struct Point { };\nclass Prozessor { };\n\nint main()\n{\n    // an array of ints\n    int arrint[10];\n    // an array of Points\n    Point arrPoint[10];\n    // an array of Objects of the class Prozessor\n    Prozessor arrProzessor[10];\n\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<p>nowadays we have more options to do that</p>\n\n<p><a href=\"http://de.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">vector</a> is one that allows you to manage set of data without previously knowing the size of the container</p>\n\n<pre><code>std::vector&lt;Prozessor&gt; vectorOfProzessors;\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 7422637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a246ffd14ebccdbee907e96647eee52?s=128&d=identicon&r=PG&f=1", "display_name": "Awesome Man", "link": "https://stackoverflow.com/users/7422637/awesome-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 46075502, "answer_count": 2, "score": 0, "last_activity_date": 1504702423, "creation_date": 1504700966, "question_id": 46075292, "link": "https://stackoverflow.com/questions/46075292/how-to-create-objects-array-or-classes-array-in-c", "title": "How to create Objects array or Classes array in C++?", "body": "<p><strong>How to create Objects array or Classes array in C++?</strong></p>\n\n<p>I mean,How to make it so that you do not create objects manually like here:</p>\n\n<pre><code>Prozessor Obj1;\nProzessor Obj2;\n</code></pre>\n\n<p>I mean, that I don't want to create 10 objects manually.\nBut by a cycle <code>for</code> or <code>while</code>?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n\nclass Prozessor\n{\n  private:\n  char marka[20];\n  float chastota;  \n  float cash;\n  float vartist;\n\n  public:\n\n  void setProzessor()\n    {\n        cout &lt;&lt; \"Input brand: \";\n        cin &gt;&gt; marka;\n        cout &lt;&lt; \"Input chastotu : \";\n        cin &gt;&gt; chastota;\n        cout&lt;&lt;\"Input number of cash:\";\n        cin&gt;&gt;cash;\n        cout&lt;&lt;\"Input vartist:\";\n        cin&gt;&gt;vartist;\n    }\n  void showProzessor()\n  {\n    cout &lt;&lt; marka &lt;&lt; \" \" &lt;&lt; chastota &lt;&lt;\" \"&lt;&lt; cash &lt;&lt; \" \" &lt;&lt; vartist &lt;&lt;endl;\n\n  }\n};\n\nint main()\n{\n   Prozessor Obj1;\n   Prozessor Obj2;\n   cout&lt;&lt;\"vvedit dani\"&lt;&lt;endl;\n   Obj1.setProzessor();\n   Obj2.setProzessor();\n\n   Obj1.showProzessor();\n   Obj2.showProzessor();\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 2, "creation_date": 1504700598, "post_id": 46075087, "comment_id": 79111122, "body": "And when you used your debugger to step through your code, one line at a time and examine the values of all variables, where exactly did the observed logic differed from your expected results?"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1504700598, "post_id": 46075087, "comment_id": 79111123, "body": "I suggest you read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> by Eric Lippert, and learn how to use a debugger."}, {"owner": {"reputation": 533, "user_id": 3957430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f79192c478198ff5571a9a65fb52097?s=128&d=identicon&r=PG&f=1", "display_name": "Redwanul Haque Sourave", "link": "https://stackoverflow.com/users/3957430/redwanul-haque-sourave"}, "edited": false, "score": 0, "creation_date": 1504702613, "post_id": 46075087, "comment_id": 79112665, "body": "The index i is always pointing to a digit and j is always pointing to an empty space. So, if a digit wants to go to empty space pointed by j, then it has to dance with either the digit at j-1 or the digit at j+1. The first condition j -1 &gt;=0 checks whether j-1 gets out of scope and then if the multiplication value of arr[i] and arr[j-1] is less than zero then at least one of them is female and other is male, then as the digit arr[i] cannot go to position arr[i-1] or arr[i+1], so it needs to be checked, finally I am checking if the sum of arr[j-1] and arr[i] is a prime"}, {"owner": {"reputation": 533, "user_id": 3957430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f79192c478198ff5571a9a65fb52097?s=128&d=identicon&r=PG&f=1", "display_name": "Redwanul Haque Sourave", "link": "https://stackoverflow.com/users/3957430/redwanul-haque-sourave"}, "edited": false, "score": 0, "creation_date": 1504702640, "post_id": 46075087, "comment_id": 79112686, "body": "The arr[j+1] is symmetric condition"}, {"owner": {"reputation": 2374, "user_id": 8491726, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550562035006492/picture?type=large", "display_name": "Artemy Vysotsky", "link": "https://stackoverflow.com/users/8491726/artemy-vysotsky"}, "edited": false, "score": 0, "creation_date": 1504702980, "post_id": 46075087, "comment_id": 79112944, "body": "Where is definition of visited? Is it map?"}, {"owner": {"reputation": 533, "user_id": 3957430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f79192c478198ff5571a9a65fb52097?s=128&d=identicon&r=PG&f=1", "display_name": "Redwanul Haque Sourave", "link": "https://stackoverflow.com/users/3957430/redwanul-haque-sourave"}, "edited": false, "score": 0, "creation_date": 1504707454, "post_id": 46075087, "comment_id": 79116446, "body": "Yes map&lt;array1,bool&gt; visited; map&lt;array1,int&gt; level;"}], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 3957430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f79192c478198ff5571a9a65fb52097?s=128&d=identicon&r=PG&f=1", "display_name": "Redwanul Haque Sourave", "link": "https://stackoverflow.com/users/3957430/redwanul-haque-sourave"}, "is_accepted": true, "score": 0, "last_activity_date": 1504781078, "creation_date": 1504781078, "answer_id": 46094367, "question_id": 46075087, "link": "https://stackoverflow.com/questions/46075087/debugging-code-with-stl-map/46094367#46094367", "title": "Debugging code with STL map", "body": "<p>I found the solution of the problem. Apparently the overloaded operator &lt; is not working properly. It is not comparing properly. I was considering the lexigoraphically least array the shortest. So when I am going from 0 to 7, if I found a value in arr[i] which is greater than in.arr[i], <code>arr[i] &gt; in.arr[i]</code> then for sure, the function must return false. For this issue, the map was not able to retrieve the object as it was comparing imperfectly. Here's the overloaded operator after I made it right.</p>\n\n<pre><code>bool operator &lt; (const array1 &amp; in) const{\n    for(int i = 0; i &lt; 8; i++){\n        if(arr[i] &lt; (in.arr[i]))\n            return true;\n        if(arr[i] &gt; in.arr[i])  return false;\n    }\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 3957430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f79192c478198ff5571a9a65fb52097?s=128&d=identicon&r=PG&f=1", "display_name": "Redwanul Haque Sourave", "link": "https://stackoverflow.com/users/3957430/redwanul-haque-sourave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 46094367, "answer_count": 1, "score": -1, "last_activity_date": 1504781078, "creation_date": 1504700415, "last_edit_date": 1504700676, "question_id": 46075087, "link": "https://stackoverflow.com/questions/46075087/debugging-code-with-stl-map", "title": "Debugging code with STL map", "body": "<p>I am writing a code for Breadth First Search algorithm. In the problem context, a node is defined as an array of 8 integers that can have both positive and negative numbers. Positive numbers are said to be male and negatives are said to be female. Two digits can dance, if one of them are male and another one is female, and the sum of their absolute value is prime. I have to find the shortest number of dances needed to sort the array. For example, for the input <code>1 2 4 -3 5 6 7 8</code> the answer would be 1. Because 3 can dance with 2, (Because 3 is female and 2 is male) and their absolute value's sum is 5 which is a prime. So after 3 move to 2 for dance, the array becomes <code>1 2 -3 4 5 6 7 8</code> which is sorted. But something went wrong with my code. I have added comments so that it is easier to read. Here's my BFS code:</p>\n\n<pre><code>//Took input.\nqueue &lt;array1&gt; q;\nq.push(init);\nlevel[init] = 0;\nvisited[init] = true;\narray1 v;\nwhile(!q.empty()){\n    array1 u = q.front();\n    q.pop();\n    /*\n     We can view that the digits have an empty space on either side of them.\n     Arr2 represents it as 0 when it is an empty space where a digit can come, or else the digits value (1 - 8)\n    */\n    int arr2[17] = {0};    \n\n    //Loading the arr2 array.\n    for(int i = 0; i &lt; 8; i++){\n        arr2[2*i + 1] = u.arr[i];\n    }\n\n    for(int i = 1; i &lt; 17; i+=2){\n        for(int j = 0; j &lt; 17; j+=2){\n            //This condition checks if the digit arr2[i] can move to arr2[j] by satisfying all the condition stated above.\n            if((j - 1 &gt;= 0 &amp;&amp; arr2[i] * arr2[j-1] &lt; 0 &amp;&amp; j != i-1 &amp;&amp; j != i+1 &amp;&amp; is_prime(abs(arr2[j-1])+abs(arr2[i])))\n                 ||(j + 1 &lt; 17 &amp;&amp; arr2[i] * arr2[j+1] &lt; 0 &amp;&amp; j != i - 1 &amp;&amp; j != i + 1 &amp;&amp; is_prime(abs(arr2[j+1])+abs(arr2[i])))){\n                //If it can, then swap the values.\n                swap(arr2[j],arr2[i]);\n                int l = 0;\n                for(int k = 0; k &lt; 17; k++){\n                    if(arr2[k] == 0)    continue;\n                    v.arr[l++] = arr2[k];\n                }\n                // v now holds the new state (or array / node )\n                if(visited[v] == false){\n                    visited[v] = true;\n                    printf(\"visited[v]: %d\\n\",visited[v]); // the error is shown here. It prints visited[v] as 0. But I assigned it as true just before this line. Nothing else happened. Why it is 0?\n                    v.print();\n                    level[v] = level[u] + 1;\n                    q.push(v);\n                    if(v.is_sorted()){\n                    while(!q.empty()) q.pop();\n                        ans = level[v];\n                        i = j = 100000; break;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And here's my array1 class:</p>\n\n<pre><code>class array1{\npublic:\nint arr[8];\n\nbool operator &lt; (const array1 &amp; in) const{\n    for(int i = 0; i &lt; 8; i++){\n        if(arr[i] &lt; in.arr[i])\n            return true;\n    }\n\n    return false;\n}\n\nbool is_sorted() const{\n    for(int i = 0; i &lt; 8; i++){\n        if(i + 1 != abs(arr[i]))    return false;\n    }\n    return true;\n}\n\nvoid print(){\n    for(int i = 0; i &lt; 8; i++){\n        printf(\"%d \",arr[i]);\n    }\n    printf(\"\\n\");\n}\n};\n</code></pre>\n\n<p>Here's a screenshot of what happened\n<a href=\"https://i.stack.imgur.com/BRjjh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRjjh.png\" alt=\"\"></a></p>\n\n<p>The line <code>visited[v] = true</code> should make <code>visited[v]</code> equal to 1. But in the immediate next line, it is printed and the value is printed as 0. </p>\n"}]