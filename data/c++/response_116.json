[{"tags": ["c++", "dll", "file-read"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 1, "creation_date": 1490834520, "post_id": 43106128, "comment_id": 73294292, "body": "What compiler environment? It&#39;s possible that your program doesn&#39;t correctly dynamically link to a required runtime library."}, {"owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1490835255, "post_id": 43106128, "comment_id": 73294465, "body": "@cdhowie I am using the Mingw compiler, so I compiled it as follows: g++ helloworld.cpp"}, {"owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "reply_to_user": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490900181, "post_id": 43106128, "comment_id": 73331311, "body": "@Aumnayan Am I unable to bump posts?"}, {"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490900916, "post_id": 43106128, "comment_id": 73331688, "body": "@Lithorz You created a new thread. Identical to the first but without the comments made by previous reviewers. I understand that it&#39;s still an open issue with you, but having identical threads undermines the process to a solution."}, {"owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "reply_to_user": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490904064, "post_id": 43106128, "comment_id": 73333361, "body": "@Aumnayan my bad, Im sorry. Ill keep posting on the other thread then"}], "owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 0, "closed_date": 1491264590, "answer_count": 0, "score": 1, "last_activity_date": 1490831412, "creation_date": 1490831412, "question_id": 43106128, "link": "https://stackoverflow.com/questions/43106128/the-procedure-entry-point-could-not-be-located-in-the-dynamic-link-library", "closed_reason": "Duplicate", "title": "The procedure entry point ... could not be located in the dynamic link library (Path to file)", "body": "<p>I'm having trouble reading from a text file in C++, so basically I want to read the text file on \"cmd\" using this code, however, an error pops up.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include \"helloworld.h\"\n\nusing namespace::std;\nint main(){\n    string line;\n    ifstream file(\"C:/Users/pc/Desktop/Progra/Seminario.txt\");\n    if(file.is_open()){\n            cout &lt;&lt; line &lt;&lt; endl;\n        file.close();\n    }\n    else{\n        cout &lt;&lt; \"File is not open\" &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n\n<p>When I compile it, I get no errors, however, when I run a.exe, a window pops up saying:</p>\n\n<blockquote>\n  <p>The procedure entry point _ZNSt7__cxx1112basic_stringlcSt11char_traitslcESalcEEC1Ev could not be located in the dynamic link library C:\\Users\\pc\\Desktop\\Progra\\a.exe.</p>\n</blockquote>\n\n<p>How can I fix this? Or is there any other way to read from a file?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1490831606, "post_id": 43106078, "comment_id": 73293538, "body": "That&#39;s not the correct syntax for converting to a double?"}, {"owner": {"reputation": 666, "user_id": 591784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c01c539fe6d1ca726f1e92ce427dd89?s=128&d=identicon&r=PG&f=1", "display_name": "Vada Poch&#233;", "link": "https://stackoverflow.com/users/591784/vada-poch%c3%a9"}, "edited": false, "score": 0, "creation_date": 1490831803, "post_id": 43106078, "comment_id": 73293599, "body": "Please include <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You can&#39;t really expect people to wade through a whole lot of code for a simple conversion problem."}, {"owner": {"reputation": 6610, "user_id": 2403810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84c63a4cc13b434306ccc00ba2cd64d6?s=128&d=identicon&r=PG&f=1", "display_name": "tinstaafl", "link": "https://stackoverflow.com/users/2403810/tinstaafl"}, "edited": false, "score": 1, "creation_date": 1490831808, "post_id": 43106078, "comment_id": 73293600, "body": "If you want to print out doubles make your variables doubles."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490831816, "post_id": 43106078, "comment_id": 73293603, "body": "When you convert to <code>int</code> you&#39;ll lose the fraction. Why do you need to show it as <code>.00</code> if they&#39;ll all be the same?"}, {"owner": {"reputation": 35, "user_id": 5966044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6883c1fd6cd6381ea0325c0a602c29?s=128&d=identicon&r=PG", "display_name": "george129", "link": "https://stackoverflow.com/users/5966044/george129"}, "edited": false, "score": 0, "creation_date": 1490836583, "post_id": 43106078, "comment_id": 73294791, "body": "its what my teacher wants"}], "answers": [{"comments": [{"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "reply_to_user": {"reputation": 35, "user_id": 5966044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6883c1fd6cd6381ea0325c0a602c29?s=128&d=identicon&r=PG", "display_name": "george129", "link": "https://stackoverflow.com/users/5966044/george129"}, "edited": false, "score": 0, "creation_date": 1490837987, "post_id": 43106236, "comment_id": 73295115, "body": "@george129 If my answer worked, please select the checkmark next to my answer. I should turn green when you do so. Thanks!"}], "tags": [], "owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "is_accepted": true, "score": 0, "last_activity_date": 1490834304, "last_edit_date": 1490834304, "creation_date": 1490832131, "answer_id": 43106236, "question_id": 43106078, "link": "https://stackoverflow.com/questions/43106078/c-cast-int-to-double-not-working/43106236#43106236", "title": "c++ cast int to double not working", "body": "<p>The main problem, just as Barmar mentioned in his comment, is that although you want the value to be printed to 2 decimal points, you round off the number in <code>onePercent</code> when you do:</p>\n\n<blockquote>\n<pre><code>onePercent = (int)((oneRoll*100.0) /numOfTimes); // Casting to \"int\" rounds off the number\n</code></pre>\n</blockquote>\n\n<p>Also, the declared data type for <code>onePercent</code> is <code>int</code> from the start:</p>\n\n<blockquote>\n<pre><code>int onePercent, twoPercent, threePercent, fourPercent, fivePercent, sixPercent; // onePercent is an \"int\" here\n</code></pre>\n</blockquote>\n\n<p>So you don't need a typecast of <code>int</code>, because you're casting an <code>int</code> to an <code>int</code>.</p>\n\n<p>Therefore, even if you print <code>onePercent</code>with 2 decimal-point precision, you will always get <code>.00</code> as a result.</p>\n\n<p>I would recommend taking off the <code>(int)</code> cast from that expression itself, and changing the initial data type of <code>onePercent</code> to type <code>double</code>. If you do not want to change the data types for the other variables declared alongside <code>onePercent</code>, then declare <code>onePercent</code> as a <code>double</code> on another line. That way, the precision of the value after the calculation will be maintained, and you will be able to output it to 2 decimal places.</p>\n\n<p>As an aside, to specify the number of decimal places to output, the <code>setprecision()</code> function can be used:</p>\n\n<pre><code>cout &lt;&lt; setprecision(2) &lt;&lt; ... &lt;&lt; endl; // The value passed to \"setprecision\" is up to you.\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5966044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6883c1fd6cd6381ea0325c0a602c29?s=128&d=identicon&r=PG", "display_name": "george129", "link": "https://stackoverflow.com/users/5966044/george129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 43106236, "answer_count": 1, "score": -1, "last_activity_date": 1490834304, "creation_date": 1490831021, "last_edit_date": 1490831692, "question_id": 43106078, "link": "https://stackoverflow.com/questions/43106078/c-cast-int-to-double-not-working", "title": "c++ cast int to double not working", "body": "<pre><code>int main(){\n    srand(time(0));\n    int numOfTimes;\n    int randNum;\n    int oneRoll = 0, twoRoll = 0, threeRoll = 0, fourRoll = 0, fiveRoll = 0, sixRoll = 0;\n    int onePercent, twoPercent, threePercent, fourPercent, fivePercent, sixPercent;\n\n    int count = 0;\n    cout &lt;&lt; \"How many times would you like to roll the dice?\\n\";\n    cin &gt;&gt; numOfTimes;\n\n    while (numOfTimes &lt;= 0){\n        cout &lt;&lt; \"Invalid entry enter a number greater than 0\\n\";\n        cout &lt;&lt; \"How many times would you like to roll the dice?\\n\";\n        cin &gt;&gt; numOfTimes;\n    }\n\n    while (count &lt; numOfTimes)\n        {\n            randNum = rand() % 6 + 1;\n\n            switch (randNum)\n                {\n                case 1:\n                    oneRoll++;\n                    break;\n                case 2:\n                    twoRoll++;\n                    break;\n                case 3:\n                    threeRoll++;\n                    break;\n                case 4:\n                    fourRoll++;\n                    break;\n                case 5:\n                    fiveRoll++;\n                    break;\n                case 6:\n                    sixRoll++;\n                    break;\n                default:\n                    cout &lt;&lt; \"\\n\";\n                }\n\n            count++;\n        }\n\n    onePercent = (int)((oneRoll*100.0) /numOfTimes);\n    twoPercent = (int)((twoRoll*100.0) / numOfTimes);\n\n    cout &lt;&lt; \" # Rolled          # Times % Times\" &lt;&lt; endl;\n    cout &lt;&lt; \"---------  --------    --------\" &lt;&lt; endl;\n    cout &lt;&lt; \"1      \" &lt;&lt; oneRoll &lt;&lt; \"       \" &lt;&lt;double (onePercent)  &lt;&lt; endl;\n    cout &lt;&lt; \"2      \" &lt;&lt; twoRoll &lt;&lt; \"       \" &lt;&lt; \"\" &lt;&lt; endl;\n    cout &lt;&lt; \"3      \" &lt;&lt; threeRoll &lt;&lt; \"     \" &lt;&lt; \"\"&lt;&lt; endl;\n    cout &lt;&lt; \"4      \" &lt;&lt; fourRoll &lt;&lt; \"      \" &lt;&lt;\"\"  &lt;&lt; endl;\n    cout &lt;&lt; \"5      \" &lt;&lt; fiveRoll &lt;&lt; \"      \" &lt;&lt;\"\"  &lt;&lt; endl;\n    cout &lt;&lt; \"6      \" &lt;&lt; sixRoll &lt;&lt; \"       \" &lt;&lt;\"\" &lt;&lt; endl;\n</code></pre>\n\n<p>I need it to print out the the one percent as a double. So I converted it as an int then to a double so it only prints two zeros like this (14.00) but its not converting at all its only printing 14 </p>\n"}, {"tags": ["c++", "qt", "format", "qt5", "qtmultimedia"], "comments": [{"owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 0, "creation_date": 1490831245, "post_id": 43106069, "comment_id": 73293417, "body": "NOTE: Somewhat related but for QImage. I asked this first before realizing what I really wanted was conversion of data in QVideoFrames <a href=\"http://stackoverflow.com/questions/43105753/how-can-i-convert-pixel-data-in-qimage-to-another-format/43105841#43105841\" title=\"how can i convert pixel data in qimage to another format\">stackoverflow.com/questions/43105753/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 1, "creation_date": 1490832616, "post_id": 43106187, "comment_id": 73293822, "body": "Just a dumb question, since YUV isn&#39;t among the formats supported by QImage, will the line QImage image(bits, width, height, inputFormat); work?"}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "reply_to_user": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 0, "creation_date": 1490832751, "post_id": 43106187, "comment_id": 73293858, "body": "Right, when I did this, I converted QVideoFrame to OpenCV Mat first."}], "tags": [], "owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "is_accepted": false, "score": -2, "last_activity_date": 1490832099, "last_edit_date": 1490832099, "creation_date": 1490831786, "answer_id": 43106187, "question_id": 43106069, "link": "https://stackoverflow.com/questions/43106069/how-to-convert-qvideoframe-with-yuv-data-to-qvideoframe-with-rgba32-data-in/43106187#43106187", "title": "How to convert &#39;QVideoFrame&#39; with YUV data to &#39;QVideoframe&#39; with RGBA32 data in Qt?", "body": "<p><a href=\"https://doc.qt.io/qt-5/qvideoframe.html#map\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qvideoframe.html#map</a></p>\n\n<pre><code>if (inputframe.map(QAbstractVideoBuffer::ReadOnly))\n{\n    int height = inputframe.height();\n    int width = inputframe.width();\n    uchar* bits = inputframe.bits();\n    // figure out the inputFormat and outputFormat, they should be QImage::Format\n    QImage image(bits, width, height, inputFormat);\n    // do your conversion\n    QImage outImage = image.convertToForma(outFormat); // blah convert\n    return QVideoFrame(outImage);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "is_accepted": false, "score": 3, "last_activity_date": 1490834147, "creation_date": 1490834147, "answer_id": 43106512, "question_id": 43106069, "link": "https://stackoverflow.com/questions/43106069/how-to-convert-qvideoframe-with-yuv-data-to-qvideoframe-with-rgba32-data-in/43106512#43106512", "title": "How to convert &#39;QVideoFrame&#39; with YUV data to &#39;QVideoframe&#39; with RGBA32 data in Qt?", "body": "<p>I found a solution that is <em>built into Qt5</em>, but <strong>UNSUPPORTED BY Qt</strong>.</p>\n\n<p>Here is how to go about:</p>\n\n<ol>\n<li>Put <code>QT += multimedia-private</code> into your qmake .pro file</li>\n<li>Put <code>#include \"private/qvideoframe_p.h\"</code> into your code to make the function available.</li>\n<li>You now have access to a function with the following signature: <code>QImage qt_imageFromVideoFrame(const QVideoFrame &amp;frame);</code></li>\n<li>Use the function to convert the <code>QVideoFrame</code> to a temporay <code>QImage</code> and then create the output <code>QVideoFrame</code> from that image.</li>\n</ol>\n\n<p>Here is my example usage:</p>\n\n<pre><code>QVideoFrame convertFormat(const QVideoFrame &amp;inputframe, QVideoFrame::PixelFormat outputFormat)\n    {\n        inputframe-&gt;map(QAbstractVideoBuffer::ReadOnly);\n        QImage tempImage=qt_imageFromVideoFrame(inputframe);\n        inputframe-&gt;unmap();\n        QVideoFrame outputFrame=QVideoFrame(tempImage);\n        return outputFrame;\n    }\n</code></pre>\n\n<p>Again, the warning copied from the header reads as follows:</p>\n\n<blockquote>\n<pre><code>//\n//  W A R N I N G\n//  -------------\n//\n// This file is not part of the Qt API.  It exists purely as an\n// implementation detail.  This header file may change from version to\n// version without notice, or even be removed.\n//\n// We mean it.\n//\n</code></pre>\n</blockquote>\n\n<p>This does not matter in my project since it is a personal toy product. If it ever gets serious I will just track down the implementation of that function and copy it into my project or something.</p>\n"}, {"comments": [{"owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 0, "creation_date": 1526313367, "post_id": 47555439, "comment_id": 87685138, "body": "Quite funny, I wrote that comment that you linked to :) I haven&#39;t had a chance to test this."}], "tags": [], "owner": {"reputation": 36, "user_id": 8801773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IkeSInydYaY/AAAAAAAAAAI/AAAAAAAAAAs/H629zOPBiHk/photo.jpg?sz=128", "display_name": "elad", "link": "https://stackoverflow.com/users/8801773/elad"}, "is_accepted": false, "score": 1, "last_activity_date": 1511966657, "creation_date": 1511966657, "answer_id": 47555439, "question_id": 43106069, "link": "https://stackoverflow.com/questions/43106069/how-to-convert-qvideoframe-with-yuv-data-to-qvideoframe-with-rgba32-data-in/47555439#47555439", "title": "How to convert &#39;QVideoFrame&#39; with YUV data to &#39;QVideoframe&#39; with RGBA32 data in Qt?", "body": "<p>I've found a YUV --> RGB conversion solution in <a href=\"https://stackoverflow.com/questions/27829830/convert-qvideoframe-to-qimage#comment49984060_27830041\">the linked comment</a>,</p>\n\n<p>So Implementing the <strong>supportedPixelFormats</strong> function like the following example does the magic of converting even <strong>YUV based formats</strong> (in my case, it converted a <em>Format_YUV420P</em> format) into the <strong>Format_RGB24</strong> format:</p>\n\n<pre><code>QList&lt;QVideoFrame::PixelFormat&gt;MyVideoSurface::\nsupportedPixelFormats(QAbstractVideoBuffer::HandleType handleType) const\n{\n    Q_UNUSED(handleType);\n    return QList&lt;QVideoFrame::PixelFormat&gt;()\n        &lt;&lt; QVideoFrame::Format_RGB24\n    ;\n}\n</code></pre>\n\n<p>Tell me if it worked for you.</p>\n"}], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3621, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1585440320, "creation_date": 1490830957, "last_edit_date": 1585440320, "question_id": 43106069, "link": "https://stackoverflow.com/questions/43106069/how-to-convert-qvideoframe-with-yuv-data-to-qvideoframe-with-rgba32-data-in", "title": "How to convert &#39;QVideoFrame&#39; with YUV data to &#39;QVideoframe&#39; with RGBA32 data in Qt?", "body": "<p>I receive <code>QVideoFrames</code> from webcam, and they contain image data in <strong>YUV</strong> format (<code>QVideoFrame::Format_YUV420P</code>). How can I convert one such frame to one with <code>QVideoFrame::Format_ARGB32</code> or <code>QVideoFrame::Format_RGBA32</code>?</p>\n\n<p>Can I do it without going low level, using just existing functionality in <strong>Qt5</strong>?</p>\n\n<p>Example:</p>\n\n<pre><code>QVideoFrame convertFormat(const QVideoFrame &amp;inputframe, QVideoFrame::PixelFormat outputFormat)\n{\n    // What comes here?\n}\n\n//Usage\nQVideoFrame converted = convertFormat(mySourceFrame, QVideoFrame::Format_RGB32);\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1490831477, "post_id": 43106057, "comment_id": 73293495, "body": "Any code example to demonstrate what you want to do? I was thinking maybe <code>std::ref</code> and <code>std::reference_wrapper</code>but probably not quite the right fit."}, {"owner": {"reputation": 367, "user_id": 4696140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee691a9a7e07e3a108af6d607eecbb59?s=128&d=identicon&r=PG", "display_name": "Pedro David", "link": "https://stackoverflow.com/users/4696140/pedro-david"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1490833645, "post_id": 43106057, "comment_id": 73294077, "body": "That really does it! I added an example working with std::reference_wrapper and a following question"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1490834246, "post_id": 43106057, "comment_id": 73294219, "body": "If you have a follow on question, then make a new post.  There are several reasons and benefit to doing this. Firstly, you will increase your own rep potential, with a few more generally useful questions as opposed to one very specific one. You also render the existing answer incomplete and compel the author to make an amendment and drag the author into a question and answer session that they may not have the wish to engage in."}, {"owner": {"reputation": 367, "user_id": 4696140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee691a9a7e07e3a108af6d607eecbb59?s=128&d=identicon&r=PG", "display_name": "Pedro David", "link": "https://stackoverflow.com/users/4696140/pedro-david"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1490834330, "post_id": 43106057, "comment_id": 73294236, "body": "That does seem a better option. Thank you"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1490835598, "post_id": 43106057, "comment_id": 73294549, "body": "Suggest reverting the edit"}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 4696140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee691a9a7e07e3a108af6d607eecbb59?s=128&d=identicon&r=PG", "display_name": "Pedro David", "link": "https://stackoverflow.com/users/4696140/pedro-david"}, "edited": false, "score": 0, "creation_date": 1490833717, "post_id": 43106349, "comment_id": 73294094, "body": "That seems to do it. That said if I call &quot;inline&quot; it doesn&#39;t work, is it because it&#39;s using rvalue or something along those lines? I&#39;m Gonna edit a simple example to explain"}, {"owner": {"reputation": 367, "user_id": 4696140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee691a9a7e07e3a108af6d607eecbb59?s=128&d=identicon&r=PG", "display_name": "Pedro David", "link": "https://stackoverflow.com/users/4696140/pedro-david"}, "edited": false, "score": 0, "creation_date": 1490835905, "post_id": 43106349, "comment_id": 73294632, "body": "Gonna remove my edit due to suggestion of creating new question"}], "tags": [], "owner": {"reputation": 241, "user_id": 5652184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99e57835ca6d679450058382de358f04?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Ferreira", "link": "https://stackoverflow.com/users/5652184/guilherme-ferreira"}, "is_accepted": true, "score": 2, "last_activity_date": 1490836113, "last_edit_date": 1490836113, "creation_date": 1490832992, "answer_id": 43106349, "question_id": 43106057, "link": "https://stackoverflow.com/questions/43106057/alternative-to-initializer-list-of-references/43106349#43106349", "title": "Alternative to Initializer List of References", "body": "<p>I assume you want an initializer list of references of references to put in a container. So, you are looking for a reference type, right? If it's so, check the <strong>Reference Wrappers</strong>. It allows references to be the type of containers:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n\nstruct A {\n    A() { std::cout &lt;&lt; \"A()\" &lt;&lt; std::endl; }\n    A(const A&amp;) = delete;\n    ~A() { std::cout &lt;&lt; \"~A()\" &lt;&lt; std::endl; }\n};\n\nint main(int argc, char const *argv[])\n{\n    A a1;\n    A a2;\n    A a3;\n\n    {\n        // OK: don't call copy constructor during creation\n        std::initializer_list&lt;std::reference_wrapper&lt;A&gt;&gt; ilist{ a1, a2, a3 };\n        // OK: don't call destructor when \"ilist\" leaves the scope\n    }\n\n    {\n        // ERROR: can't create the list because copy constructor is deleted\n        std::initializer_list&lt;A&gt; va{ a1, a2, a3 };\n    }\n\n\n    // Destructors called here\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 4696140, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee691a9a7e07e3a108af6d607eecbb59?s=128&d=identicon&r=PG", "display_name": "Pedro David", "link": "https://stackoverflow.com/users/4696140/pedro-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 43106349, "answer_count": 1, "score": 1, "last_activity_date": 1490836113, "creation_date": 1490830904, "last_edit_date": 1490835923, "question_id": 43106057, "link": "https://stackoverflow.com/questions/43106057/alternative-to-initializer-list-of-references", "title": "Alternative to Initializer List of References", "body": "<p>I really needed and Initializer List of References but it seems that is not possible. The problem of being a copy is that I wanted to disable copy construction and because these copies call the destrutor afterwards what releases the resources(and should not happend).</p>\n\n<p>My current (bad) alternative is using a bool to track if it was copy constructed so the resources are not released.</p>\n\n<p>Another alternative is an Initializer List of Pointers but that makes it more verbose and would accept nullptr as well as being conceptually incorrect in my opinion.</p>\n\n<p>I would really like an alternative using references or something along those lines (maybe move? I can't seem to make that work)</p>\n"}, {"tags": ["c++", "opencv", "visual-studio-2013"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1490830783, "post_id": 43106021, "comment_id": 73293284, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7789969/fatal-error-c1083-cannot-open-include-file-xyz-h-no-such-file-or-directory\">fatal error C1083: Cannot open include file: &#39;xyz.h&#39;: No such file or directory?</a>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1490832034, "post_id": 43106021, "comment_id": 73293652, "body": "Have you recompiled OpenCV with contrib modules?"}, {"owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "edited": false, "score": 0, "creation_date": 1490857043, "post_id": 43106021, "comment_id": 73301391, "body": "<code>xfeatures2d</code> is not available in opencv 2.4.x. It is available from opencv 3.x onward."}, {"owner": {"reputation": 53, "user_id": 6422868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed58376fccd13ff9cbe42484df18d4d1?s=128&d=identicon&r=PG&f=1", "display_name": "z.zamani", "link": "https://stackoverflow.com/users/6422868/z-zamani"}, "edited": false, "score": 0, "creation_date": 1490885091, "post_id": 43106021, "comment_id": 73321574, "body": "I get same error with opencv 3.0.0"}], "owner": {"reputation": 53, "user_id": 6422868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed58376fccd13ff9cbe42484df18d4d1?s=128&d=identicon&r=PG&f=1", "display_name": "z.zamani", "link": "https://stackoverflow.com/users/6422868/z-zamani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2550, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1490960839, "creation_date": 1490830651, "last_edit_date": 1490960839, "question_id": 43106021, "link": "https://stackoverflow.com/questions/43106021/error-c1083-cannot-open-include-file-opencv2-xfeatures2d-hpp-no-such-file-o", "title": "error C1083: Cannot open include file: &#39;opencv2/xfeatures2d.hpp&#39;: No such file or directory", "body": "<p>I am using Visual Studio 2013 and OpenCV 3.0.0 . I get this error:</p>\n\n<blockquote>\n  <p>error C1083: Cannot open include file: 'opencv2/xfeatures2d.hpp': No\n  such file or directory    C:\\Users...\\visual studio\n  2013\\Projects\\project_name\\Source.cpp</p>\n</blockquote>\n\n<p>when I use:</p>\n\n<pre><code> #include \"opencv2/xfeatures2d.hpp\"\n</code></pre>\n\n<p>I don't find xfeatures2d.hpp too! Any idea what is my problem?\nI want to run this code:\n<a href=\"https://github.com/OpenCVBlueprints/OpenCVBlueprints/tree/master/chapter_6/source_code/fingerprint/fingerprint_process/\" rel=\"nofollow noreferrer\">https://github.com/OpenCVBlueprints/OpenCVBlueprints/tree/master/chapter_6/source_code/fingerprint/fingerprint_process/</a></p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 3946239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07abbaa034633beeb8f74d276da1de14?s=128&d=identicon&r=PG&f=1", "display_name": "Zexus", "link": "https://stackoverflow.com/users/3946239/zexus"}, "reply_to_user": {"reputation": 1097, "user_id": 7637448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-91L4dokkwFQ/AAAAAAAAAAI/AAAAAAAAAA0/jV_KuZI93tk/photo.jpg?sz=128", "display_name": "Danilo Ivanovic", "link": "https://stackoverflow.com/users/7637448/danilo-ivanovic"}, "edited": false, "score": 0, "creation_date": 1490838932, "post_id": 43105936, "comment_id": 73295348, "body": "happens to me all the time  :)  keep yer eyes peeled matey!"}], "tags": [], "owner": {"reputation": 163, "user_id": 3946239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07abbaa034633beeb8f74d276da1de14?s=128&d=identicon&r=PG&f=1", "display_name": "Zexus", "link": "https://stackoverflow.com/users/3946239/zexus"}, "is_accepted": true, "score": 2, "last_activity_date": 1490830126, "creation_date": 1490830126, "answer_id": 43105936, "question_id": 43105874, "link": "https://stackoverflow.com/questions/43105874/how-to-array-of-int-transform-into-2d-array-of-binary-value-of-every-array-numbe/43105936#43105936", "title": "How to array of int transform into 2d array of binary value of every array number?", "body": "<p>Your last for-loop (the one that prints) should only have <code>i&lt;3</code> as its condition.  Right now <code>i</code> is allowed to go to 7, but then <code>d[i][j]</code> is out of bounds and prints garbage.</p>\n"}], "owner": {"reputation": 1097, "user_id": 7637448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-91L4dokkwFQ/AAAAAAAAAAI/AAAAAAAAAA0/jV_KuZI93tk/photo.jpg?sz=128", "display_name": "Danilo Ivanovic", "link": "https://stackoverflow.com/users/7637448/danilo-ivanovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 43105936, "answer_count": 1, "score": 0, "last_activity_date": 1490830126, "creation_date": 1490829674, "question_id": 43105874, "link": "https://stackoverflow.com/questions/43105874/how-to-array-of-int-transform-into-2d-array-of-binary-value-of-every-array-numbe", "title": "How to array of int transform into 2d array of binary value of every array number?", "body": "<p>Hi i'm trying to find binary value of every element of array and to set it in 2d array. \nHere is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nvoid tobin(int a,int b[]);\n\nint main()\n{\n    int i,j;\n    int b[8];//bin array\n    int d[3][8]; //2d array\n    int c[3] = {6,15,24}; //int array\n\n    //My code for transformation from array to 2d array\n    for(i=0;i&lt;3;i++)\n        {\n            tobin(c[i],b);\n            for(j=0;j&lt;8;j++)\n            {\n                d[i][j]=b[j];\n\n            }\n        }\n\n    //Printing of 2d array\n    for(i=0;i&lt;8;i++)\n        {\n            for(j=0;j&lt;8;j++)\n                std::cout&lt;&lt;d[i][j];\n            std::cout&lt;&lt;std::endl;\n        }\n}\n\n//Function for convert int to bin\nvoid tobin(int a,int b[])\n{\n    int i;\n    for(i=0;i&lt;8;i++)\n    {\n        b[i]=a%2;\n        a/=2;\n    }\n}\n</code></pre>\n\n<p>And here my output:</p>\n\n<pre><code>01100000\n11110000\n00011000\n00-16437331793270200193648149632765\n014196397000-640061051-1985511146\n419616001936481488327650000\n16416403251985832910-46743922719940467470000\n004196848019364814963276510\n</code></pre>\n\n<p>First 3 lines is what i was looking for, but i don't know what is the rest.\nCan someone help me to fix this. And to give me explanation why is this happening or link to explanation.</p>\n"}, {"tags": ["c++", "inheritance", "components", "friend"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1490829389, "post_id": 43105798, "comment_id": 73292847, "body": "You can do that using the factory pattern but not the way you are attempting to do."}, {"owner": {"reputation": 349, "user_id": 4104594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b41e2b9588b4dc6e90144f6c630d906e?s=128&d=identicon&r=PG&f=1", "display_name": "CNJMC1", "link": "https://stackoverflow.com/users/4104594/cnjmc1"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1490829640, "post_id": 43105798, "comment_id": 73292920, "body": "I don&#39;t know how to not use &#39;friend&#39; when making a factory pattern though, although I would switch to it if it solved my issue."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1490831470, "post_id": 43105798, "comment_id": 73293490, "body": "Your explanation for why you don&#39;t want to use <code>friend</code> doesn&#39;t really make sense. Can you elaborate?"}, {"owner": {"reputation": 349, "user_id": 4104594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b41e2b9588b4dc6e90144f6c630d906e?s=128&d=identicon&r=PG&f=1", "display_name": "CNJMC1", "link": "https://stackoverflow.com/users/4104594/cnjmc1"}, "edited": false, "score": 0, "creation_date": 1490922705, "post_id": 43105798, "comment_id": 73339904, "body": "I just don&#39;t want the user to have to do <code>friend class ComponentManager</code> every time they make their own component. I could just make the constructor/destructor public, but I also want to restrict the user&#39;s ability to instantiate components."}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 4104594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b41e2b9588b4dc6e90144f6c630d906e?s=128&d=identicon&r=PG&f=1", "display_name": "CNJMC1", "link": "https://stackoverflow.com/users/4104594/cnjmc1"}, "edited": false, "score": 0, "creation_date": 1490860509, "post_id": 43107879, "comment_id": 73303570, "body": "I&#39;ll test this out with my code and see if it works."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1490859161, "last_edit_date": 1490859161, "creation_date": 1490843825, "answer_id": 43107879, "question_id": 43105798, "link": "https://stackoverflow.com/questions/43105798/how-to-allow-a-class-to-be-created-by-another-without-using-friend-but-allow-i/43107879#43107879", "title": "How to allow a class to be created by another without using &#39;friend&#39; but allow inheritence?", "body": "<p>If you use the factory design pattern, <code>ComponentManager</code> does not need to know anything about the concrete sub-types of <code>IComponent</code>. There is no need for it to be declared as a friend of the sub-types. It can simply use a <em>factory</em> to construct objects.</p>\n\n<p>Creators of sub-types of <code>IComponent</code> will need to register a way for instances of the sub-type to be constructed. They register a function or a class with the factory that can construct an instance of the class.</p>\n\n<h3>An Example Program</h3>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\n\nclass GameObject;\n\nclass IComponent\n{\n   // Make sure that sub-classes of IComponent can use the constructor\n   // and the destructor.\n   protected:\n      IComponent() { }\n      ~IComponent() { }\n\n   public:\n      GameObject* Parent;\n};\n\n// Define a function type that can construct a Component.\nusing ComponentConstructor = IComponent*  (*)();\n\n// Define the interface for the factory.\nclass ComponentFactory\n{\n   public:\n\n      // A type alias for simpler coding.\n      using ConstructorMap = std::map&lt;std::string, ComponentConstructor&gt;;\n\n      // Allow creators of sub-classes of IComponent to register a\n      // function that can be used to construct the sub-type.\n      static void registerComponentConstructor(std::string const&amp; componentType,\n                                               ComponentConstructor constructor);\n\n      // Construct a Component by providing a name corresponding\n      // to the derived sub-type of IComponent.\n      static IComponent* constructComponent(std::string const&amp; componentType);\n\n   private:\n\n      // Private function that maintains a map of\n      // constructors.\n      static ConstructorMap&amp; getConstructrMap();\n};\n\n// -----------------------------------------------------\n// BEGIN implementation of ComponentFactory.\n// It can, obviously, be in a .cpp file of its own.\nvoid ComponentFactory::registerComponentConstructor(std::string const&amp; componentType,\n                                                    ComponentConstructor constructor)\n{\n   getConstructrMap()[componentType] = constructor;\n}\n\nIComponent* ComponentFactory::constructComponent(std::string const&amp; componentType)\n{\n   ConstructorMap&amp; constructorMap = getConstructrMap();\n   ConstructorMap::iterator iter = constructorMap.find(componentType);\n   if ( iter != constructorMap.end() )\n   {\n      return iter-&gt;second();\n   }\n   else\n   {\n      return nullptr;\n   }\n}\n\nComponentFactory::ConstructorMap&amp; ComponentFactory::getConstructrMap()\n{\n   static ConstructorMap theMap;\n   return theMap;\n}\n\n// END implementation of ComponentFactory.\n// -----------------------------------------------------\n\n// ComponentManager can use ComponentFactory to \n// construct Components.\nclass ComponentManager\n{\n   public:\n      ComponentManager() { }\n      ~ComponentManager() { }\n\n      IComponent* CreateComponent(std::string const&amp; componentType)\n      {\n         return ComponentFactory::constructComponent(componentType);\n      }\n};\n\n// Test code.\n// Construct IComponents by using appropriate names.\nint main()\n{\n   ComponentManager m;\n   IComponent* ic1 = m.CreateComponent(\"RenderComponent\");\n   if ( ic1 == nullptr )\n   {\n      std::cout &lt;&lt; \"Unable to construct a Component of type RenderComponent.\\n\";\n   }\n   else\n   {\n      std::cout &lt;&lt; \"Successfully constructed a Component of type RenderComponent.\\n\";\n   }\n\n   IComponent* ic2 = m.CreateComponent(\"AnotherTypeOfComponent\");\n   if ( ic2 == nullptr )\n   {\n      std::cout &lt;&lt; \"Unable to construct a Component of type AnotherTypeOfComponent.\\n\";\n   }\n   else\n   {\n      std::cout &lt;&lt; \"Successfully constructed a Component of type AnotherTypeOfComponent.\\n\";\n   }\n\n   IComponent* ic3 = m.CreateComponent(\"FooComponent\");\n   if ( ic3 == nullptr )\n   {\n      std::cout &lt;&lt; \"Unable to construct a Component of type FooComponent.\\n\";\n   }\n   else\n   {\n      std::cout &lt;&lt; \"Successfully constructed a Component of type FooComponent.\\n\";\n   }\n}\n\n// Client components.\n// Without these, no Component can be constructed.\n\nnamespace Module1\n{\n   class RenderComponent : IComponent\n   {\n      public:\n         RenderComponent() { }\n         ~RenderComponent() { }\n\n         static IComponent* constructComponent()\n         {\n            return new RenderComponent();\n         }\n\n         struct Initer\n         {\n            Initer()\n            {\n               ComponentFactory::registerComponentConstructor(\"RenderComponent\",\n                                                              RenderComponent::constructComponent);\n            }\n         };\n   };\n\n   // The constructor makes sure that\n   // RenderComponent::constructComponent() is\n   // registered as the function to be called to\n   // construct objects of type RenderComponent when\n   // the name \"RenderComponent\" is used.\n   // \n   // A different method may be used for the purpose but\n   // this seems like a straight forward method to do that.\n   static RenderComponent::Initer initer;\n\n}\n\nnamespace Module2\n{\n   class AnotherTypeOfComponent : IComponent\n   {\n      public:\n         AnotherTypeOfComponent() { }\n         ~AnotherTypeOfComponent() { }\n\n         static IComponent* constructComponent()\n         {\n            return new AnotherTypeOfComponent();\n         }\n\n         struct Initer\n         {\n            Initer()\n            {\n               ComponentFactory::registerComponentConstructor(\"AnotherTypeOfComponent\",\n                                                              AnotherTypeOfComponent::constructComponent);\n            }\n         };\n   };\n\n   // The constructor makes sure that\n   // AnotherTypeOfComponent::constructComponent() is\n   // registered as the function to be called to\n   // construct objects of type AnotherTypeOfComponent when\n   // the name \"AnotherTypeOfComponent\" is used.\n   static AnotherTypeOfComponent::Initer initer;\n}\n</code></pre>\n\n<h3>Output</h3>\n\n\n\n<pre><code>Successfully constructed a Component of type RenderComponent.\nSuccessfully constructed a Component of type AnotherTypeOfComponent.\nUnable to construct a Component of type FooComponent.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 4104594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b41e2b9588b4dc6e90144f6c630d906e?s=128&d=identicon&r=PG&f=1", "display_name": "CNJMC1", "link": "https://stackoverflow.com/users/4104594/cnjmc1"}, "is_accepted": true, "score": 0, "last_activity_date": 1491368662, "last_edit_date": 1495540458, "creation_date": 1491368662, "answer_id": 43222215, "question_id": 43105798, "link": "https://stackoverflow.com/questions/43105798/how-to-allow-a-class-to-be-created-by-another-without-using-friend-but-allow-i/43222215#43222215", "title": "How to allow a class to be created by another without using &#39;friend&#39; but allow inheritence?", "body": "<p>First I want to thank <a href=\"https://stackoverflow.com/users/434551/r-sahu\">R Sahu</a> for providing his answer, but the in his example would still allow the user to do what I wanted to avoid in the first place, randomly be able to create an instance of a component:</p>\n\n<pre><code>IComponent* component = new RenderComponent();\n</code></pre>\n\n<p>And now I realize that what I wanted is impossible, there is no way to restrict access of the constructor/destructor to the user without it also restricting access to the ComponentManager. So either my implementation is wrong or incomplete (which is unlikely but possible) or I'm asking for something that is illogical (the most likely answer).</p>\n\n<p>So instead I just opted for having everything public, and just making randomly created components useless, and in the documentation of my engine I will describe that you have to use GameObject::AddComponent() in order to create and use components.</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 349, "user_id": 4104594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b41e2b9588b4dc6e90144f6c630d906e?s=128&d=identicon&r=PG&f=1", "display_name": "CNJMC1", "link": "https://stackoverflow.com/users/4104594/cnjmc1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 43222215, "answer_count": 2, "score": 2, "last_activity_date": 1491368662, "creation_date": 1490829129, "last_edit_date": 1490829738, "question_id": 43105798, "link": "https://stackoverflow.com/questions/43105798/how-to-allow-a-class-to-be-created-by-another-without-using-friend-but-allow-i", "title": "How to allow a class to be created by another without using &#39;friend&#39; but allow inheritence?", "body": "<p>I have three classes in total for my game engine, an abstract IComponent class in which all components inherit from it, a component class (for this example I will use RenderComponent), and a ComponentManager. I want the ComponentManager class to be able to use the constructor of RenderComponent, but I don't want any other classes to create an instance of RenderComponent, but I don't want to use 'friend' since I want customer user components to inherit from IComponent and automatically be used in the ComponentManager without being allowed to instantiate their own. The code example shows vaguely the behavior I want to occur:</p>\n\n<pre><code>class GameObject;\n\nclass IComponent\n{\n    private:\n        IComponent() { }\n        ~IComponent() { }\n    public:\n        GameObject* Parent;\n}\n\nclass RenderComponent : IComponent\n{\n    public:\n        RenderComponent() { }\n        ~RenderComponent() { }\n}\n\nclass ComponentManager\n{\n    public:\n        ComponentManager() { }\n        ~ComponentManager() { }\n\n        // normally this would be a template function, but for the sake of this example I will directly use RenderComponent\n        RenderComponent* CreateComponent()\n        {\n            // this would not throw a compiler error\n            return new RenderComponent();\n        }\n}\n\nint main()\n{\n    ComponentManager manager;\n\n    // even though the constructor of RenderComponent is public, this would throw an error\n    RenderComponent* render = new RenderComponent();\n\n    // this however would work perfectly fine\n    RenderComponent* render = manager.CreateComponent();\n\n}\n</code></pre>\n\n<p>To reiterate, I want it so that there is minimal user effort to creating components. The other option of course is to have the constructor for both public but have it so that although you can create a component wherever you want, it will be useless.</p>\n"}, {"tags": ["c++", "boost", "parquet"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1490833966, "post_id": 43105754, "comment_id": 73294157, "body": "It&#39;s a link error.  Make sure you have <code>libboost-all-dev</code> or the individual <code>-dev</code> packages installed."}, {"owner": {"reputation": 509, "user_id": 5855483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-DY7shgLgls8/AAAAAAAAAAI/AAAAAAAAABo/T2Z_XtPcG6c/photo.jpg?sz=128", "display_name": "Rui Yang", "link": "https://stackoverflow.com/users/5855483/rui-yang"}, "reply_to_user": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1490848796, "post_id": 43105754, "comment_id": 73297745, "body": "already installed all libboost lib, the one from apt-get is 1.58.0"}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1490873536, "post_id": 43105754, "comment_id": 73312424, "body": "You misunderstand. That is one (of many) Boost runtime libraries. You are missing the dev package so do &#39;sudo apt-get install libboost-all-dev` to ensure you have all of them,"}, {"owner": {"reputation": 5242, "user_id": 1689261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fcc16462fbe93673342da3ff5d8121?s=128&d=identicon&r=PG", "display_name": "Uwe L. Korn", "link": "https://stackoverflow.com/users/1689261/uwe-l-korn"}, "edited": false, "score": 1, "creation_date": 1490883814, "post_id": 43105754, "comment_id": 73320442, "body": "This may be due to <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=823978\" rel=\"nofollow noreferrer\">bugs.debian.org/cgi-bin/bugreport.cgi?bug=823978</a> You could try to link against a custom (C++11) build of boost and see if that fixes it."}, {"owner": {"reputation": 509, "user_id": 5855483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-DY7shgLgls8/AAAAAAAAAAI/AAAAAAAAABo/T2Z_XtPcG6c/photo.jpg?sz=128", "display_name": "Rui Yang", "link": "https://stackoverflow.com/users/5855483/rui-yang"}, "edited": false, "score": 0, "creation_date": 1491407812, "post_id": 43105754, "comment_id": 73542322, "body": "thanks, this flag works for me."}], "owner": {"reputation": 509, "user_id": 5855483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-DY7shgLgls8/AAAAAAAAAAI/AAAAAAAAABo/T2Z_XtPcG6c/photo.jpg?sz=128", "display_name": "Rui Yang", "link": "https://stackoverflow.com/users/5855483/rui-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490833563, "creation_date": 1490828925, "last_edit_date": 1490833563, "question_id": 43105754, "link": "https://stackoverflow.com/questions/43105754/parquet-cpp-build-fails-on-ubuntu-16-04", "title": "Parquet CPP build fails on Ubuntu 16.04", "body": "<p>I'm trying to build the parquet-cpp package following <a href=\"https://github.com/apache/parquet-cpp\" rel=\"nofollow noreferrer\">their instructions</a>. After <code>cmake .</code> and <code>make</code> I'm getting the following error.</p>\n\n<p><code>cd /go/src/github.com/ascend-io/parquet-cpp/examples &amp;&amp; /usr/bin/cmake -E cmake_link_script CMakeFiles/reader-writer.dir/link.txt --verbose=1</code></p>\n\n<pre><code>/usr/bin/g++     -ggdb -O0 -std=c++11 -Wall -fno-strict-aliasing -fvisibility=hidden -fvisibility-inlines-hidden -g   CMakeFiles/reader-writer.dir/reader-writer.cc.o  -o ../build/debug/reader-writer -rdynamic ../build/debug/libparquet.a ../arrow_ep/src/arrow_ep-install/lib/libarrow.so ../arrow_ep/src/arrow_ep-install/lib/libarrow_io.so /usr/lib/x86_64-linux-gnu/libboost_regex.so ../brotli_ep/src/brotli_ep-install/lib/x86_64-linux-gnu/libbrotlidec.a ../brotli_ep/src/brotli_ep-install/lib/x86_64-linux-gnu/libbrotlienc.a ../brotli_ep/src/brotli_ep-install/lib/x86_64-linux-gnu/libbrotlicommon.a ../snappy_ep/src/snappy_ep-install/lib/libsnappy.a ../thrift_ep/src/thrift_ep-install/lib/libthriftd.a ../zlib_ep/src/zlib_ep-install/lib/libz.a -Wl,-rpath,/go/src/github.com/ascend-io/parquet-cpp/arrow_ep/src/arrow_ep-install/lib \n../build/debug/libparquet.a(metadata.cc.o): In function `bool boost::regex_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt;, char, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt;(__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, __gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, boost::match_results&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt; &gt;&amp;, boost::basic_regex&lt;char, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt; const&amp;, boost::regex_constants::_match_flags)':\n/usr/include/boost/regex/v4/regex_match.hpp:50: undefined reference to `boost::re_detail::perl_matcher&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt;, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt;::match()'\n../build/debug/libparquet.a(metadata.cc.o): In function `boost::re_detail::perl_matcher&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt;, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt;::perl_matcher(__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, __gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, boost::match_results&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt; &gt;&amp;, boost::basic_regex&lt;char, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt; const&amp;, boost::regex_constants::_match_flags, __gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;)':\n/usr/include/boost/regex/v4/perl_matcher.hpp:365: undefined reference to `boost::re_detail::perl_matcher&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt;, std::allocator&lt;boost::sub_match&lt;__gnu_cxx::__normal_iterator&lt;char const*, std::string&gt; &gt; &gt;, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt;::construct_init(boost::basic_regex&lt;char, boost::regex_traits&lt;char, boost::cpp_regex_traits&lt;char&gt; &gt; &gt; const&amp;, boost::regex_constants::_match_flags)'\ncollect2: error: ld returned 1 exit status\nexamples/CMakeFiles/reader-writer.dir/build.make:104: recipe for target 'build/debug/reader-writer' failed\nmake[2]: *** [build/debug/reader-writer] Error 1\nmake[2]: Leaving directory '/go/src/github.com/ascend-io/parquet-cpp'\nCMakeFiles/Makefile2:652: recipe for target 'examples/CMakeFiles/reader-writer.dir/all' failed\nmake[1]: *** [examples/CMakeFiles/reader-writer.dir/all] Error 2\nmake[1]: Leaving directory '/go/src/github.com/ascend-io/parquet-cpp'\nMakefile:138: recipe for target 'all' failed\nmake: *** [all] Error 2\n</code></pre>\n"}, {"tags": ["c++", "qt", "format", "qt5", "qimage"], "answers": [{"comments": [{"owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 0, "creation_date": 1490829702, "post_id": 43105841, "comment_id": 73292940, "body": "LOL Can&#39;t beleive I didn&#39;t see that!"}, {"owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "edited": false, "score": 0, "creation_date": 1490830987, "post_id": 43105841, "comment_id": 73293353, "body": "I was all cross-eyed apparently. The real question was different: <a href=\"http://stackoverflow.com/questions/43106069/how-to-convert-qvideoframe-with-yuv-data-to-qvideoframe-with-rgba32-data-in\" title=\"how to convert qvideoframe with yuv data to qvideoframe with rgba32 data in\">stackoverflow.com/questions/43106069/&hellip;</a>"}], "tags": [], "owner": {"reputation": 560, "user_id": 1057105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1eed3b357556c214ba12853c78a3173?s=128&d=identicon&r=PG", "display_name": "artoonie", "link": "https://stackoverflow.com/users/1057105/artoonie"}, "is_accepted": true, "score": 6, "last_activity_date": 1490829366, "creation_date": 1490829366, "answer_id": 43105841, "question_id": 43105753, "link": "https://stackoverflow.com/questions/43105753/how-can-i-convert-pixel-data-in-qimage-to-another-format/43105841#43105841", "title": "How can I convert pixel data in QImage to another format?", "body": "<p>Why not use <a href=\"http://doc.qt.io/qt-5/qimage.html#convertToFormat\" rel=\"noreferrer\">convertToFormat</a>? It has nearly the same syntax as you requested, though it's a member of <code>QImage</code> so you'd only pass in the format.</p>\n"}], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2063, "favorite_count": 0, "accepted_answer_id": 43105841, "answer_count": 1, "score": 2, "last_activity_date": 1490829366, "creation_date": 1490828922, "question_id": 43105753, "link": "https://stackoverflow.com/questions/43105753/how-can-i-convert-pixel-data-in-qimage-to-another-format", "title": "How can I convert pixel data in QImage to another format?", "body": "<p>I receive an instance of <code>QImage</code> with arbitrary <code>QImage::Format</code>. How can I create another instance of <code>QImage</code> with a particular <code>QImage::Format</code> of my choosing so that the actual image data is converted from the arbitrary format to my format?</p>\n\n<p>Example:</p>\n\n<pre><code>QImage convertFormat(const QImage &amp;inputImage, QImage::format outputFormat)\n{\n    // What comes here?\n}\n\n//Usage\nQImage converted = convertFormat(mySourceImage, QImage::Format_Grayscale8);\n</code></pre>\n\n<p>I am looking for a way to do this with existing code in Qt if possible (as opposed to writing my own pixel format conversion routines working on the low level).</p>\n"}, {"tags": ["c++", "stream", "operator-overloading", "endl"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490828667, "post_id": 43105684, "comment_id": 73292634, "body": "You can&#39;t do it. Each <code>&lt;&lt;</code> is a separate call to the operator, there&#39;s no way for it to know when it&#39;s the last one in the chain."}], "answers": [{"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1490829222, "post_id": 43105803, "comment_id": 73292799, "body": "Maybe should have called it <code>with_eol</code> or some such."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490829326, "post_id": 43105803, "comment_id": 73292824, "body": "<code>eol_log</code> sounds like the Elf Tolkien left out."}, {"owner": {"reputation": 96, "user_id": 4568814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0bef3e2de88d5db42899d09110183bc?s=128&d=identicon&r=PG&f=1", "display_name": "LemonCold", "link": "https://stackoverflow.com/users/4568814/lemoncold"}, "edited": false, "score": 0, "creation_date": 1490829884, "post_id": 43105803, "comment_id": 73292999, "body": "Nice, however the goal is to have it use log &lt;&lt; &quot;text&quot;; as opposed to log(steam)"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 96, "user_id": 4568814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0bef3e2de88d5db42899d09110183bc?s=128&d=identicon&r=PG&f=1", "display_name": "LemonCold", "link": "https://stackoverflow.com/users/4568814/lemoncold"}, "edited": false, "score": 0, "creation_date": 1490830222, "post_id": 43105803, "comment_id": 73293106, "body": "@LemonCold: Updated with a different option."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 2, "last_activity_date": 1490830207, "last_edit_date": 1490830207, "creation_date": 1490829142, "answer_id": 43105803, "question_id": 43105684, "link": "https://stackoverflow.com/questions/43105684/in-c-trying-to-write-a-newline-after-each-operator-overload-cascade/43105803#43105803", "title": "In C++ trying to write a newline after each operator overload cascade", "body": "<p>I think this isn't too tricky. Let's see:</p>\n\n<pre><code>struct eol_log\n{\n    eol_log(std::ostream&amp; os) : os_(os) {}\n    ~eol_log() { os_ &lt;&lt; '\\n'; }\n\n    template &lt;typename T&gt;\n    std::ostream&amp; operator&lt;&lt;(const T&amp; t) &amp;&amp; { return os_ &lt;&lt; t; }\n\n    std::ostream&amp; os_;\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>eol_log(std::cout) &lt;&lt; \"Foo\" &lt;&lt; \"Bar\" &lt;&lt; 10;\neol_log(std::cout) &lt;&lt; 10;\n</code></pre>\n\n<p>The temporary object acts as a kind of \"full-expression guard\".</p>\n\n<p>If you'd rather have a permanent object that acts as your log sink, then you can wrap the above in a class, but now you need to move the state of being the last element along the chain:</p>\n\n<pre><code>class EolLogger\n{\n    class RvalLog\n    {\n        friend class EolLogger;\n\n        RvalLog(std::ostream* os) : os_(os) {}\n        RvalLog(RvalLog&amp;&amp; rhs) : os_(rhs.os_) { rhs.os_ = nullptr; }\n        std::ostream* os_;\n\n    public:\n        template &lt;typename T&gt;\n        RvalLog operator&lt;&lt;(const T&amp; t) &amp;&amp; { *os_ &lt;&lt; t; return std::move(*this); }\n\n        ~RvalLog() { if (os_) *os_ &lt;&lt; '\\n'; }\n    };\n\n    std::ostream&amp; os_;\n\npublic:\n    EolLogger(std::ostream&amp; os) : os_(os) {}\n\n    template &lt;typename T&gt;\n    RvalLog operator&lt;&lt;(const T&amp; t) { return RvalLog(&amp;os_) &lt;&lt; t; }\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>EolLogger elog(std::cout);\n\nelog &lt;&lt; \"Foo\";\nelog &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 4568814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0bef3e2de88d5db42899d09110183bc?s=128&d=identicon&r=PG&f=1", "display_name": "LemonCold", "link": "https://stackoverflow.com/users/4568814/lemoncold"}, "is_accepted": false, "score": 1, "last_activity_date": 1490829950, "creation_date": 1490829950, "answer_id": 43105909, "question_id": 43105684, "link": "https://stackoverflow.com/questions/43105684/in-c-trying-to-write-a-newline-after-each-operator-overload-cascade/43105909#43105909", "title": "In C++ trying to write a newline after each operator overload cascade", "body": "<p>Someone posted this, and it sorta does the job.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nstruct Liner {\n    bool Owned = true;\n    Liner() = default;\n    Liner(Liner &amp;&amp;O) { O.Owned = false; }\n    ~Liner() { if (Owned) std::cout &lt;&lt; '\\n'; }\n};\n\ntemplate &lt;typename T&gt;\nconst Liner &amp;operator&lt;&lt;(const Liner &amp;L, T &amp;&amp;E) {\n    std::cout &lt;&lt; std::forward&lt;T&gt;(E);\n    return L;\n}\n\nstruct SubLiner {\n    operator Liner() const { return {}; }\n};\n\nconst static SubLiner line;\n\nint main() {\n    line &lt;&lt; \"hello \" &lt;&lt; \"world!\";\n    line &lt;&lt; 1 &lt;&lt; 2;\n    line &lt;&lt; 3;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 4568814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0bef3e2de88d5db42899d09110183bc?s=128&d=identicon&r=PG&f=1", "display_name": "LemonCold", "link": "https://stackoverflow.com/users/4568814/lemoncold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1490830207, "creation_date": 1490828523, "question_id": 43105684, "link": "https://stackoverflow.com/questions/43105684/in-c-trying-to-write-a-newline-after-each-operator-overload-cascade", "title": "In C++ trying to write a newline after each operator overload cascade", "body": "<p>this is a bit of a hard nut to crack. I'm writing a logging function that is trying to have a similar look to the std::cout</p>\n\n<p>So basically the goal is to have the following code do as commented</p>\n\n<pre><code>   log &lt;&lt; \"text\"; // This would output \"text\\n\";\n   log &lt;&lt; \"some \" &lt;&lt; \"text\"; //This would output \"some text\\n\"\n   log &lt;&lt; \"some number \"&lt;&lt; 5; //This would output \"some number 5\\n\"\n</code></pre>\n\n<p>I've tried using variadic templates, but didn't get far.\nHere's the most successful attempt so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n// stream_newliner works by just taking the address of an ostream you\n// give it, and forwarding all writes (via operator&lt;&lt;) to that ostream.\n// Then, when it finally destructs, it writes the newline.\ntemplate &lt;typename CharT, typename Traits&gt;\nclass stream_newliner\n{\npublic:\n// The constructor just takes the address of the stream you give it.\nexplicit stream_newliner(std::basic_ostream&lt;CharT, Traits&gt;&amp; s) :\n    p_s_{&amp;s}\n{}\n\n// Boilerplate move construction. Nothing special here.\nstream_newliner(stream_newliner&amp;&amp; s) : p_s_{nullptr}\n{\n    *this = std::move(s);\n}\n\n// On destruction, write the newline. (Note we check the pointer for\n// null for technical reasons.)\n~stream_newliner()\n{\n    if (p_s_)\n    {\n        // If you have std::unhandled_exceptions(), you can check to\n        // see if a new exception is in flight, and only do the\n        // newline if there's not.\n\n        // Note that I'm writing an X and not a newline so you can\n        // see it easier.\n        (*p_s_) &lt;&lt; 'X';\n    }\n}\n\n// This is where the magic happens. Any time you do \"x &lt;&lt; y\" where\n// x is this type, it just passes it on to the underlying stream.\n// When you do \"x &lt;&lt; y1 &lt;&lt; y2\", it all works magically because it\n// translates to \"operator&lt;&lt;(operator&lt;&lt;(x, y1), y2)\"... and this\n// function just passes each call to the underlying stream.\ntemplate &lt;typename T&gt;\nauto operator&lt;&lt;(T&amp;&amp; t) -&gt; stream_newliner&lt;CharT, Traits&gt;&amp;\n{\n    (*p_s_) &lt;&lt; std::forward&lt;T&gt;(t);\n    return *this;\n}\n\n// Boilerplate move assignment. Nothing special here.\nauto operator=(stream_newliner&amp;&amp; s) -&gt; stream_newliner&amp;\n{\n    std::swap(p_s_, s.p_s_);\n    return *this;\n}\n\n// Technically don't need these, but it doesn't hurt to be explicit.\nstream_newliner(stream_newliner const&amp;) = delete;\nauto operator=(stream_newliner const&amp;) = delete;\n\n   private:\n// You could use a reference to the stream rather than a pointer,\n// but references are harder to work with as class members.\nstd::basic_ostream&lt;CharT, Traits&gt;* p_s_ = nullptr;\n   };\n\n   // Helper function to make it easier to create.\n   template &lt;typename CharT, typename Traits&gt;\n   auto line(std::basic_ostream&lt;CharT, Traits&gt;&amp; s)\n   {\nreturn stream_newliner&lt;CharT, Traits&gt;{s};\n   }\n\n   auto main() -&gt; int\n   {\nline(std::cout) &lt;&lt; \"foo\";\nstd::cout &lt;&lt; '\\n';\n\nline(std::cout) &lt;&lt; 1 &lt;&lt; ' ' &lt;&lt; 2 &lt;&lt; ' ' &lt;&lt; 3;\nstd::cout &lt;&lt; '\\n';\n   }\n</code></pre>\n"}, {"tags": ["c++", "syntax-error", "fstream"], "comments": [{"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1490829132, "post_id": 43105655, "comment_id": 73292767, "body": "Which line exactly in this code is causing the error?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490829232, "post_id": 43105655, "comment_id": 73292804, "body": "Where are you getting that error? I can compile your code just fine (except for needing to change <code>\u201c</code>, and <code>\u201d</code> to <code>&quot;</code>). Also, your code is littered with warnings. For example, multiple instances of: <i>warning C4390: &#39;;&#39; : empty controlled statement found; is this the intent?</i>."}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490829427, "post_id": 43105655, "comment_id": 73292859, "body": "I am getting this error for each istream.open and nstream.open code"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490829540, "post_id": 43105655, "comment_id": 73292889, "body": "@Xorn, as I already mentioned. All of the errors were related to needing to change <code>\u201c</code>, and <code>\u201d</code> to <code>&quot;</code> (or, on the second though - it would be more logical to remove them altogether.. Code still compiles just fine). There are no <i>no matching function</i> errors in the code, that you presented. Maybe your compiler is misinterpreting something about those weird quotation marks."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1490829550, "post_id": 43105655, "comment_id": 73292892, "body": "Post the <b>full and exact</b> error message that the compiler produced."}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490829811, "post_id": 43105655, "comment_id": 73292974, "body": "In function \u2018int main()\u2019: homework4.cpp:39:21: error: no matching function for call to \u2018std::basic_ifstream&lt;char&gt;::open(std::string&amp;)\u2019    istream.open(fname);                      ^"}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490829998, "post_id": 43105655, "comment_id": 73293034, "body": "Okay this is everything with the quotations edited out."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1490830187, "post_id": 43105655, "comment_id": 73293094, "body": "@Xorn Are you compiling with C++11 enabled? Quick glance at the documentation, would tell you, that <a href=\"http://en.cppreference.com/w/cpp/io/basic_ifstream/open\" rel=\"nofollow noreferrer\"><code>std::ifstream::open</code></a> accepts <code>std::string</code> argument only since C++11."}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490830607, "post_id": 43105655, "comment_id": 73293229, "body": "@Algirdas Preidzius I am compiling using G++. Sorry for a lack of knowledge"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490830880, "post_id": 43105655, "comment_id": 73293326, "body": "@Xorn You still didn&#39;t answer my question, are you compiling with C++11 enabled, using your g++?"}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490831371, "post_id": 43105655, "comment_id": 73293459, "body": "I&#39;m honestly not sure, we have to use the school&#39;s ubuntu machines and they don&#39;t specify the version of C++"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490831591, "post_id": 43105655, "comment_id": 73293532, "body": "@Xorn Then <a href=\"http://stackoverflow.com/questions/10363646/compiling-c11-with-g\">this</a> SO question (or the top answer, to be precise) would explain that to you."}], "answers": [{"comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490830999, "post_id": 43106051, "comment_id": 73293361, "body": "Wait what? Explanation is, precisely, backwards, while code snippet is correct? <code>fname</code>, <code>dname</code>, <code>ename</code> is of type <code>std::string</code> (not <code>const char*</code>), and pre-C++11 <code>fstream::open</code> accepts only <code>const char*</code>."}, {"owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490831074, "post_id": 43106051, "comment_id": 73293373, "body": "Could I have declared these as a Char String? for Instance  char ename[31]"}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490831312, "post_id": 43106051, "comment_id": 73293437, "body": "@AlgirdasPreid\u017eius oops! Sorry, I completely messed that up. Thanks for warning me about that, at least before the downvotesstarted pouring in. I&#39;ll fix it."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "reply_to_user": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490831362, "post_id": 43106051, "comment_id": 73293455, "body": "@Xorn The value passed to the <code>open()</code> function must be of type <code>const char *</code>. Just use <code>std::string</code>."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "reply_to_user": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "edited": false, "score": 0, "creation_date": 1490831395, "post_id": 43106051, "comment_id": 73293464, "body": "@Xorn By the way, if the answer worked, please select the checkmark next to my answer. It should turn green when you do so. Thanks!"}], "tags": [], "owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "is_accepted": true, "score": 1, "last_activity_date": 1490831628, "last_edit_date": 1490831628, "creation_date": 1490830840, "answer_id": 43106051, "question_id": 43105655, "link": "https://stackoverflow.com/questions/43105655/no-matching-call-function-error-for-fstream/43106051#43106051", "title": "No matching call function error for fstream", "body": "<p>In your code, <code>fname</code>, <code>dname</code>, and <code>ename</code> are variables of type <code>std::string</code>, by default. However, the <code>fstream::open</code> requires a <code>const char *</code> value passed to it for a filename.</p>\n\n<p>Here is how the function should be used:</p>\n\n<blockquote>\n<pre><code>void open (const char* filename,\n            ios_base::openmode mode = ios_base::in | ios_base::out); \n</code></pre>\n  \n  <p><em>Obtained from <a href=\"http://www.cplusplus.com/reference/fstream/fstream/open/\" rel=\"nofollow noreferrer\"><strong>C++ Reference: std::fstream::open</strong></a></em></p>\n</blockquote>\n\n<p>To do this, add the <code>.c_str()</code> function to the end of the filename variable:</p>\n\n<ul>\n<li><code>istream.open(fname.c_str());</code></li>\n<li><code>nstream.open(ename.c_str());</code></li>\n<li><code>istream.open(dname.c_str());</code></li>\n</ul>\n\n<p>This will remove that error.</p>\n"}], "owner": {"reputation": 13, "user_id": 7788532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccbce8e03a8b778a12459fc407e6f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Xorn", "link": "https://stackoverflow.com/users/7788532/xorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1944, "favorite_count": 0, "accepted_answer_id": 43106051, "answer_count": 1, "score": 1, "last_activity_date": 1490831628, "creation_date": 1490828318, "last_edit_date": 1490830364, "question_id": 43105655, "link": "https://stackoverflow.com/questions/43105655/no-matching-call-function-error-for-fstream", "title": "No matching call function error for fstream", "body": "<p>I am trying to make a program that will read from one file and output to another file a different value than read in, based on a input integer. I am getting errors on opening files. No matching call function</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;iomanip&gt;\n#include &lt;stdio.h&gt;\nusing namespace std;\n\nint main()\n{\n\nchar option, m, c;\nint amount, n, k;\nstring fname, dname, ename;\n\nofstream nstream;\nifstream istream;\n\n\ncout &lt;&lt; \"Do you want to encrypt of decrypt? Enter D or E.\";\ncin &gt;&gt; option;\ncout &lt;&lt; endl;\n\nwhile (option != 'D' &amp;&amp; option != 'E')\n{\n    cout &lt;&lt; \"That is not acceptable\" &lt;&lt; endl;\n    cout &lt;&lt; \"Do you want to encrypt of decrypt? Enter D or E.\";\n    cin &gt;&gt; option;\n    cout &lt;&lt; endl;\n}\n\n\nif (option == 'E')\n{\n    cout &lt;&lt; \"Enter the name of the file that you want to encrypt: \";\n    cin &gt;&gt; fname;\n    istream.open(fname);\n    cout&lt;&lt;endl;\n    cout &lt;&lt; \"Enter the name of the file that you want to output: \";\n    cin &gt;&gt; ename;\n    nstream.open(ename);\n    cout&lt;&lt;endl;\n}\n\nif (option == 'D')\n{\n    cout &lt;&lt; \"Enter the name of the file that you want to decrypt: \";\n    cin &gt;&gt; dname;\n    istream.open(dname);\n    cout&lt;&lt;endl;\n    cout &lt;&lt; \"Enter the name of the file that you want to output: \";\n    cin &gt;&gt; ename;\n    nstream.open(ename);\n    cout&lt;&lt;endl;\n\n}\ncout &lt;&lt; \"Enter the number of digits that you want to de/encrypt(integers): \";\ncin &gt;&gt; k;\n\nistream &gt;&gt; m;\nwhile (m &gt;= 0);\n{\n    if (m &gt; 65 &amp;&amp; m &lt; 90);\n    {\n        c = m + k;\n        while (c &gt; 90)\n        {\n            c = c - 26;\n        }\n\n    }\n    if (m &gt; 97 &amp;&amp; m &lt; 122);\n    {(c = m + k);\n    while (c &gt; 122)\n    {\n        c = c - 26;\n    }\n    }\n\n     if(m &gt;= 0)\n    {\n        c = m + k;\n    }\n\n}\n\nnstream &lt;&lt; c;\nreturn 0;\n\n}\n</code></pre>\n\n<p>error messages</p>\n\n<pre><code>In function \u2018int main()\u2019:\nhomework4.cpp:39:21: error: no matching function for call to \u2018std::basic_ifstream&lt;char&gt;::open(std::string&amp;)\u2019\n  istream.open(fname);\n                    ^\nhomework4.cpp:39:21: note: candidate is:\nIn file included from homework4.cpp:4:0:\n/usr/include/c++/4.9/fstream:541:7: note: void std::basic_ifstream&lt;_CharT, _Traits&gt;::open(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::ios_base::openmode = std::_Ios_Openmode]\n      open(const char* __s, ios_base::openmode __mode = ios_base::in)\n      ^\n/usr/include/c++/4.9/fstream:541:7: note:   no known conversion for argument 1 from \u2018std::string {aka std::basic_string&lt;char&gt;}\u2019 to \u2018const char*\u2019\nhomework4.cpp:43:21: error: no matching function for call to \u2018std::basic_ofstream&lt;char&gt;::open(std::string&amp;)\u2019\n  nstream.open(ename);\n                    ^\nhomework4.cpp:43:21: note: candidate is:\nIn file included from homework4.cpp:4:0:\n/usr/include/c++/4.9/fstream:716:7: note: void std::basic_ofstream&lt;_CharT, _Traits&gt;::open(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::ios_base::openmode = std::_Ios_Openmode]\n      open(const char* __s,\n      ^\n/usr/include/c++/4.9/fstream:716:7: note:   no known conversion for argument 1 from \u2018std::string {aka std::basic_string&lt;char&gt;}\u2019 to \u2018const char*\u2019\nhomework4.cpp:51:21: error: no matching function for call to \u2018std::basic_ifstream&lt;char&gt;::open(std::string&amp;)\u2019\n  istream.open(dname);\n                    ^\nhomework4.cpp:51:21: note: candidate is:\nIn file included from homework4.cpp:4:0:\n/usr/include/c++/4.9/fstream:541:7: note: void std::basic_ifstream&lt;_CharT, _Traits&gt;::open(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::ios_base::openmode = std::_Ios_Openmode]\n      open(const char* __s, ios_base::openmode __mode = ios_base::in)\n      ^\n/usr/include/c++/4.9/fstream:541:7: note:   no known conversion for argument 1 from \u2018std::string {aka std::basic_string&lt;char&gt;}\u2019 to \u2018const char*\u2019\nhomework4.cpp:55:21: error: no matching function for call to \u2018std::basic_ofstream&lt;char&gt;::open(std::string&amp;)\u2019\n  nstream.open(ename);\n                    ^\nhomework4.cpp:55:21: note: candidate is:\n\nIn file included from homework4.cpp:4:0:\n/usr/include/c++/4.9/fstream:716:7: note: void std::basic_ofstream&lt;_CharT, _Traits&gt;::open(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::ios_base::openmode = std::_Ios_Openmode]\n      open(const char* __s,\n^ /usr/include/c++/4.9/fstream:716:7: note:   no known conversion for argument 1 from \u2018std::string {aka std::basic_string&lt;char&gt;}\u2019 to \u2018const char*\u2019\n</code></pre>\n"}, {"tags": ["c++", "calculator"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1490828395, "post_id": 43105630, "comment_id": 73292560, "body": "Helpful reading: <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a> TL;DR version: You can only fit so much in a floating point variable  before losing precision For a <code>double</code> this is about 15 digits. 9,223,372,036,854,775,807 is 19 digits."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7741028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd06c67070dc3792b1c7b4ada882322d?s=128&d=identicon&r=PG&f=1", "display_name": "Tourer Povilas", "link": "https://stackoverflow.com/users/7741028/tourer-povilas"}, "edited": false, "score": 0, "creation_date": 1490862361, "post_id": 43105848, "comment_id": 73304617, "body": "Okay then I will put 1.79769e+308 as max but I just want to know is there a way to increase that bit size in c++?"}, {"owner": {"reputation": 1633, "user_id": 3022712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eadc29ffebbca6135b8e45373d159112?s=128&d=identicon&r=PG&f=1", "display_name": "yar", "link": "https://stackoverflow.com/users/3022712/yar"}, "reply_to_user": {"reputation": 11, "user_id": 7741028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd06c67070dc3792b1c7b4ada882322d?s=128&d=identicon&r=PG&f=1", "display_name": "Tourer Povilas", "link": "https://stackoverflow.com/users/7741028/tourer-povilas"}, "edited": false, "score": 0, "creation_date": 1490908289, "post_id": 43105848, "comment_id": 73335635, "body": "@TourerPovilas No, you cannot increase the number of bits in a double, nor can you change the subdivision into mantissa and exponent. What you can do is to use a library such as <a href=\"https://gmplib.org/\" rel=\"nofollow noreferrer\">this</a>"}], "tags": [], "owner": {"reputation": 1633, "user_id": 3022712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eadc29ffebbca6135b8e45373d159112?s=128&d=identicon&r=PG&f=1", "display_name": "yar", "link": "https://stackoverflow.com/users/3022712/yar"}, "is_accepted": true, "score": 0, "last_activity_date": 1490829444, "creation_date": 1490829444, "answer_id": 43105848, "question_id": 43105630, "link": "https://stackoverflow.com/questions/43105630/c-any-way-to-print-maximum-double-8-bytes-value-with-full-precision-without/43105848#43105848", "title": "C++ Any way to print maximum double (8 bytes) value with full precision without changing it to long long?", "body": "<p>A double is 64 bit wide, but it cannot hold every value that a long long (also 64bit) can hold, because a floating point number consists of a sign bit, an exponent and a mantissa. The mantissa for double is 52bit wide, so you can be sure that every 52bit (actually 53 because of the sign bit) wide integer can be stored without loss of precision in a double, for the rest you may loose precision.</p>\n\n<p>edit: By the way, double max is 1.79769e+308, see <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/max\" rel=\"nofollow noreferrer\">this link</a></p>\n"}], "owner": {"reputation": 11, "user_id": 7741028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd06c67070dc3792b1c7b4ada882322d?s=128&d=identicon&r=PG&f=1", "display_name": "Tourer Povilas", "link": "https://stackoverflow.com/users/7741028/tourer-povilas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 43105848, "answer_count": 1, "score": -2, "last_activity_date": 1490829444, "creation_date": 1490828179, "question_id": 43105630, "link": "https://stackoverflow.com/questions/43105630/c-any-way-to-print-maximum-double-8-bytes-value-with-full-precision-without", "title": "C++ Any way to print maximum double (8 bytes) value with full precision without changing it to long long?", "body": "<p>I have an issue when printing the value with 'cout'. I would like to see value \"9223372036854775807\" in console but I just keep on getting \"9223372036854775800\" and same happens with negative values. I also want user to enter this as a maximum value and want to keep decimal places.</p>\n\n<p>--------------- these will be the minimum and maximum value</p>\n\n<pre><code>double al = scnd_num_min(num1, Oprt);\nal = al * (-1);\ndouble ah = scnd_num_max(num1, Oprt);\n</code></pre>\n\n<p>-------------- and this is where I print these values</p>\n\n<pre><code>cout &lt;&lt; \"Please enter a value within a range of: \" &lt;&lt; \"\\n\" &lt;&lt; fixed &lt;&lt; al;\ncout &lt;&lt; \" and \" &lt;&lt; ah &lt;&lt; \" : \";\n</code></pre>\n\n<p>And that is one function to get value:</p>\n\n<pre><code>    double scnd_num_max(double num1, char Oprt)\n    {\n    double max1 = 9223372036854775807;\n    double max2 = 9223372036854775806;\n    double min1 = -9223372036854775806;\n    switch(Oprt)\n    {\n    case '+':\n        if (num1 &lt;= 0)\n            return max1;\n        else\n            return (max1 - num1);\n    case '-':\n        if (num1 &gt;= -1)\n            return max1;\n        else\n            return ((max1 - (num1 * (-1)))+1);\n    case '*':\n        if ((num1 &lt; min1) || (num1 &gt; max2))\n            return 1;\n        else if (num1 == 0)\n            return max2;\n        else if (num1 &gt; 0)\n            return (max2 / num1);\n        else\n            return (max2 / (num1 * (-1)));\n    case '/':\n        return max2;\n    }\n}\n</code></pre>\n\n<p>Pretty same is for negative value.</p>\n"}, {"tags": ["c++", "user-interface", "visual-studio-2017", "windows-api-code-pack", "getopenfilename"], "comments": [{"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1490827792, "post_id": 43105514, "comment_id": 73292388, "body": "Your build is defaulted to expect wide character strings but you&#39;re using MBCS strings.  You can either change your code to use wide character strings when calling the Windows APIs, or you can change your project&#39;s setting (Project Properties -&gt; General -&gt; Character Set -&gt; Use Multi-Byte Character Set)."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1490827979, "post_id": 43105514, "comment_id": 73292442, "body": "In places, the example code you grabbed is explicitly calling the MBCS versions (e.g., <code>GetOpenFileNameA</code>), but it&#39;s not doing it consistently (e.g., <code>OPENFILENAME</code> is defaulting to <code>OPENFILENAMEW</code> rather than <code>OPENFILENAMEA</code>).  In modern Windows programs, using the wide-string versions of the API is preferred.  The MBCS feature is mostly for backward compatibility, and it has limitations."}, {"owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1490828453, "post_id": 43105514, "comment_id": 73292577, "body": "Cool. Actually I tried that setting but it was when I test another example then it didn&#39;t work Lol."}, {"owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1490828512, "post_id": 43105514, "comment_id": 73292598, "body": "Not very clear about your second point, yet... got lots of things to study I guess.  Thank you anyway."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 0, "creation_date": 1490835614, "post_id": 43105514, "comment_id": 73294553, "body": "Use <code>OPENFILENAMEA</code> instead of <code>OPENFILENAME</code>"}, {"owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1490872376, "post_id": 43105514, "comment_id": 73311579, "body": "@AdrianMcCarthy Is there a simple way to do save file dialog as well? Like the OPENFILENAME method."}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "edited": false, "score": 0, "creation_date": 1490871775, "post_id": 43105644, "comment_id": 73311178, "body": "For saving file dialog, is there a simple way like the &quot;OPENFILENAME&quot; to do so?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "edited": false, "score": 0, "creation_date": 1490883553, "post_id": 43105644, "comment_id": 73320211, "body": "@XiaofengFan: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms646928.aspx\" rel=\"nofollow noreferrer\">GetSaveFilename</a>"}, {"owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "edited": false, "score": 0, "creation_date": 1490884225, "post_id": 43105644, "comment_id": 73320835, "body": "Is there any example I can study with? I have checked that documentation from MSDN but the example given was like part of other stuff as well. So I was not able to understand the example given (at this stage). Will really appreciate some executable examples on GetSaveFileName use."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 2, "last_activity_date": 1490885495, "last_edit_date": 1490885495, "creation_date": 1490828274, "answer_id": 43105644, "question_id": 43105514, "link": "https://stackoverflow.com/questions/43105514/c-win32-console-app-adding-a-choose-file-dialog-box-using-windows-api/43105644#43105644", "title": "c++ win32 console app adding a &quot;choose file&quot; dialog box using windows api", "body": "<p>The method Microsoft normally advocates is to use their \"generic text\" macros, so your string literals would look like this:</p>\n\n<pre><code>ofn.lpstrFilter = _T(\"Text Files\\0*.txt\\0Any File\\0*.*\\0\");\nofn.lpstrTitle = _T(\"Select a File, yo!\");\n</code></pre>\n\n<p>This way, you can build for narrow or wide character strings (the latter by defining <code>UNICODE</code> and <code>_UNICODE</code>). The <code>_T</code> will map to nothing for a narrow-character build, and to a <code>L</code> for a wide-character build, so you automatically get the right kind of string for the way you're building.</p>\n\n<p>To use this, you include <code>&lt;tchar.h&gt;</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;tchar.h&gt;\n\n#ifndef NOMINMAX\n#define NOMINMAX\n#endif\n#include &lt;windows.h&gt;\n\nint main()\n{\n  char filename[ MAX_PATH ];\n\n  OPENFILENAME ofn;\n    ZeroMemory( &amp;filename, sizeof( filename ) );\n    ZeroMemory( &amp;ofn,      sizeof( ofn ) );\n    ofn.lStructSize  = sizeof( ofn );\n    ofn.hwndOwner    = NULL;  // If you have a window to center over, put its HANDLE here\n    ofn.lpstrFilter  = _T(\"Text Files\\0*.txt\\0Any File\\0*.*\\0\");\n    ofn.lpstrFile    = filename;\n    ofn.nMaxFile     = MAX_PATH;\n    ofn.lpstrTitle   = _T(\"Select a File, yo!\");\n    ofn.Flags        = OFN_DONTADDTORECENT | OFN_FILEMUSTEXIST;\n\n  if (GetOpenFileName( &amp;ofn ))\n  {\n    std::cout &lt;&lt; \"You chose the file \\\"\" &lt;&lt; filename &lt;&lt; \"\\\"\\n\";\n  }\n  else\n  {\n    // All this stuff below is to tell you exactly how you messed up above. \n    // Once you've got that fixed, you can often (not always!) reduce it to a 'user cancelled' assumption.\n    switch (CommDlgExtendedError())\n    {\n      case CDERR_DIALOGFAILURE   : std::cout &lt;&lt; \"CDERR_DIALOGFAILURE\\n\";   break;\n      case CDERR_FINDRESFAILURE  : std::cout &lt;&lt; \"CDERR_FINDRESFAILURE\\n\";  break;\n      case CDERR_INITIALIZATION  : std::cout &lt;&lt; \"CDERR_INITIALIZATION\\n\";  break;\n      case CDERR_LOADRESFAILURE  : std::cout &lt;&lt; \"CDERR_LOADRESFAILURE\\n\";  break;\n      case CDERR_LOADSTRFAILURE  : std::cout &lt;&lt; \"CDERR_LOADSTRFAILURE\\n\";  break;\n      case CDERR_LOCKRESFAILURE  : std::cout &lt;&lt; \"CDERR_LOCKRESFAILURE\\n\";  break;\n      case CDERR_MEMALLOCFAILURE : std::cout &lt;&lt; \"CDERR_MEMALLOCFAILURE\\n\"; break;\n      case CDERR_MEMLOCKFAILURE  : std::cout &lt;&lt; \"CDERR_MEMLOCKFAILURE\\n\";  break;\n      case CDERR_NOHINSTANCE     : std::cout &lt;&lt; \"CDERR_NOHINSTANCE\\n\";     break;\n      case CDERR_NOHOOK          : std::cout &lt;&lt; \"CDERR_NOHOOK\\n\";          break;\n      case CDERR_NOTEMPLATE      : std::cout &lt;&lt; \"CDERR_NOTEMPLATE\\n\";      break;\n      case CDERR_STRUCTSIZE      : std::cout &lt;&lt; \"CDERR_STRUCTSIZE\\n\";      break;\n      case FNERR_BUFFERTOOSMALL  : std::cout &lt;&lt; \"FNERR_BUFFERTOOSMALL\\n\";  break;\n      case FNERR_INVALIDFILENAME : std::cout &lt;&lt; \"FNERR_INVALIDFILENAME\\n\"; break;\n      case FNERR_SUBCLASSFAILURE : std::cout &lt;&lt; \"FNERR_SUBCLASSFAILURE\\n\"; break;\n      default                    : std::cout &lt;&lt; \"You cancelled.\\n\";\n    }\n  }\n}\n</code></pre>\n\n<p>To get a \"save\" filename instead, just change the <code>GetOpenFilename</code> to <code>GetSaveFilename</code>. There are a few differences in the flags you're likely to pass in the OPENFILENAME though--for example, it's pretty common to pass <code>OFN_FILEMUSTEXIST</code> when you're opening a file, but you almost never want to when you're saving a file.</p>\n"}], "owner": {"reputation": 327, "user_id": 7261008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1833581266889339/picture?type=large", "display_name": "Xiaofeng Fan", "link": "https://stackoverflow.com/users/7261008/xiaofeng-fan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3323, "favorite_count": 0, "accepted_answer_id": 43105644, "answer_count": 1, "score": 1, "last_activity_date": 1490885495, "creation_date": 1490827534, "question_id": 43105514, "link": "https://stackoverflow.com/questions/43105514/c-win32-console-app-adding-a-choose-file-dialog-box-using-windows-api", "title": "c++ win32 console app adding a &quot;choose file&quot; dialog box using windows api", "body": "<p>I am trying to add a choose file dialog box to my project which now can only take the filename input by the user.</p>\n\n<p>I did some search and it seems windows API with GetOpenFileName function is the easiest way for me to do that. However, when I copy&amp;paste the example code whether from MSDN or other websites, I got some build errors. </p>\n\n<p>I am using visual studio 2017. And the example code I used is from <a href=\"http://www.cplusplus.com/forum/windows/169960/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/forum/windows/169960/</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#ifndef NOMINMAX\n#define NOMINMAX\n#endif\n#include &lt;windows.h&gt;\n\nint main()\n{\n  char filename[ MAX_PATH ];\n\n  OPENFILENAME ofn;\n    ZeroMemory( &amp;filename, sizeof( filename ) );\n    ZeroMemory( &amp;ofn,      sizeof( ofn ) );\n    ofn.lStructSize  = sizeof( ofn );\n    ofn.hwndOwner    = NULL;  // If you have a window to center over, put its HANDLE here\n    ofn.lpstrFilter  = \"Text Files\\0*.txt\\0Any File\\0*.*\\0\";\n    ofn.lpstrFile    = filename;\n    ofn.nMaxFile     = MAX_PATH;\n    ofn.lpstrTitle   = \"Select a File, yo!\";\n    ofn.Flags        = OFN_DONTADDTORECENT | OFN_FILEMUSTEXIST;\n\n  if (GetOpenFileNameA( &amp;ofn ))\n  {\n    std::cout &lt;&lt; \"You chose the file \\\"\" &lt;&lt; filename &lt;&lt; \"\\\"\\n\";\n  }\n  else\n  {\n    // All this stuff below is to tell you exactly how you messed up above. \n    // Once you've got that fixed, you can often (not always!) reduce it to a 'user cancelled' assumption.\n    switch (CommDlgExtendedError())\n    {\n      case CDERR_DIALOGFAILURE   : std::cout &lt;&lt; \"CDERR_DIALOGFAILURE\\n\";   break;\n      case CDERR_FINDRESFAILURE  : std::cout &lt;&lt; \"CDERR_FINDRESFAILURE\\n\";  break;\n      case CDERR_INITIALIZATION  : std::cout &lt;&lt; \"CDERR_INITIALIZATION\\n\";  break;\n      case CDERR_LOADRESFAILURE  : std::cout &lt;&lt; \"CDERR_LOADRESFAILURE\\n\";  break;\n      case CDERR_LOADSTRFAILURE  : std::cout &lt;&lt; \"CDERR_LOADSTRFAILURE\\n\";  break;\n      case CDERR_LOCKRESFAILURE  : std::cout &lt;&lt; \"CDERR_LOCKRESFAILURE\\n\";  break;\n      case CDERR_MEMALLOCFAILURE : std::cout &lt;&lt; \"CDERR_MEMALLOCFAILURE\\n\"; break;\n      case CDERR_MEMLOCKFAILURE  : std::cout &lt;&lt; \"CDERR_MEMLOCKFAILURE\\n\";  break;\n      case CDERR_NOHINSTANCE     : std::cout &lt;&lt; \"CDERR_NOHINSTANCE\\n\";     break;\n      case CDERR_NOHOOK          : std::cout &lt;&lt; \"CDERR_NOHOOK\\n\";          break;\n      case CDERR_NOTEMPLATE      : std::cout &lt;&lt; \"CDERR_NOTEMPLATE\\n\";      break;\n      case CDERR_STRUCTSIZE      : std::cout &lt;&lt; \"CDERR_STRUCTSIZE\\n\";      break;\n      case FNERR_BUFFERTOOSMALL  : std::cout &lt;&lt; \"FNERR_BUFFERTOOSMALL\\n\";  break;\n      case FNERR_INVALIDFILENAME : std::cout &lt;&lt; \"FNERR_INVALIDFILENAME\\n\"; break;\n      case FNERR_SUBCLASSFAILURE : std::cout &lt;&lt; \"FNERR_SUBCLASSFAILURE\\n\"; break;\n      default                    : std::cout &lt;&lt; \"You cancelled.\\n\";\n    }\n  }\n}\n</code></pre>\n\n<p>When I copy&amp;paste to vs, it shows the following:</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError   C2440   '=': cannot convert from 'char [260]' to 'LPWSTR'   ConsoleApplication1 c:\\users\\xfan0\\documents\\visual studio 2017\\projects\\consoleapplication1\\consoleapplication1\\consoleapplication1.cpp    18  \nSeverity    Code    Description Project File    Line    Suppression State\nError   C2440   '=': cannot convert from 'const char [19]' to 'LPCWSTR' ConsoleApplication1 c:\\users\\xfan0\\documents\\visual studio 2017\\projects\\consoleapplication1\\consoleapplication1\\consoleapplication1.cpp    20  \nSeverity    Code    Description Project File    Line    Suppression State\nError   C2664   'BOOL GetOpenFileNameA(LPOPENFILENAMEA)': cannot convert argument 1 from 'OPENFILENAME *' to 'LPOPENFILENAMEA'  ConsoleApplication1 c:\\users\\xfan0\\documents\\visual studio 2017\\projects\\consoleapplication1\\consoleapplication1\\consoleapplication1.cpp    23  \n\nSeverity    Code    Description Project File    Line    Suppression State\nError (active)  E0167   argument of type \"OPENFILENAME *\" is incompatible with parameter of type \"LPOPENFILENAMEA\"  ConsoleApplication1 c:\\Users\\XFAN0\\Documents\\Visual Studio 2017\\Projects\\ConsoleApplication1\\ConsoleApplication1\\ConsoleApplication1.cpp    23  \n</code></pre>\n\n<p>Tried to search for that but had not found my luck :(</p>\n"}, {"tags": ["c++", "class", "memory", "dynamic", "operator-overloading"], "comments": [{"owner": {"reputation": 1736, "user_id": 2489715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JlL22.png?s=128&g=1", "display_name": "amchacon", "link": "https://stackoverflow.com/users/2489715/amchacon"}, "edited": false, "score": 0, "creation_date": 1490826961, "post_id": 43105381, "comment_id": 73292117, "body": "We need the full code. Looks like that you have a similar operator"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1490827023, "post_id": 43105381, "comment_id": 73292133, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1490827104, "post_id": 43105381, "comment_id": 73292159, "body": "@Jazzbear  First of all the showed operator does not make sense. Secondly you should show all operators operator + declared for the class."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1490827122, "post_id": 43105381, "comment_id": 73292167, "body": "What does the error message actually say, word-for-word? Are there any other output meessages that tell you WHY the operator is ambiguous? Also, your <code>operator+</code> does not appear to actually be performing any concatenation at all. It is just manipulating the right-hand string and then returning it as-is. What is <code>returnString()</code> doing? Where is the output allocated to be the combined length of the two strings? Even if you declared <code>operator+</code> to prevent ambiquity, this code still looks all wrong."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1490827216, "post_id": 43105381, "comment_id": 73292193, "body": "@Jazzbear  I can guess that on the one hand you declared the operator as a member function and on the other hand you also declared a friend operator operator +."}, {"owner": {"reputation": 1, "user_id": 7637689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07274fd61d944510d7de92f3daf84425?s=128&d=identicon&r=PG&f=1", "display_name": "Jazzbear", "link": "https://stackoverflow.com/users/7637689/jazzbear"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1490935155, "post_id": 43105381, "comment_id": 73343002, "body": "@Vlad from Moscow Sorry the code wasn&#39;t specific enough I felt the program was too long to add into the post, but next time I for sure will include the rest.  The problem ended up being the variables used in the overload were declared dynamically and I wasn&#39;t protecting from memory leaks. Sorry if the question was frustrating, I&#39;ll do better in my next problem."}], "owner": {"reputation": 1, "user_id": 7637689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07274fd61d944510d7de92f3daf84425?s=128&d=identicon&r=PG&f=1", "display_name": "Jazzbear", "link": "https://stackoverflow.com/users/7637689/jazzbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490826783, "creation_date": 1490826783, "question_id": 43105381, "link": "https://stackoverflow.com/questions/43105381/c2593-operator-is-ambiguous", "title": "C2593 &#39;operator +&#39; is ambiguous", "body": "<p>I just started using Dynamic memory so if this is an easy fix or my code is disgustingly messy I apologize.</p>\n\n<p>main cpp: </p>\n\n<pre><code>void main() \n{\n    theString s1(\"Crystal Bepsi \",14);\n    theString s2;\n    theString s3;\n\n    cout &lt;&lt; s1[8] &lt;&lt; endl;\n    s1[8] = 'P';\n\n    s2 = \"tastes great!\";\n\n    // This performs concatenation\n\n    s3 = s1 + s2;\n}\n</code></pre>\n\n<p>theString.h:</p>\n\n<pre><code>theString operator + (theString right)\n    {lengthCounter = lengthCounter + right.Length();\n        int counter = right.Length();\n        for (int i = 0; i &lt; right.Length(); i++)\n        {\n            right.returnString(counter + i) = stringArray[i];\n        }\n         return right;\n      }\n</code></pre>\n\n<p>I'm getting the operator + is ambiguous error and im not too sure where I have gone wrong, This is a school assignment so I am not allowed to use strings as variables just character arrays.  I left out a huge chunk of code, I only left in the operator that is malfunctioning, the overload is inside the class. \nAny help will be appreciated, thank you.</p>\n"}, {"tags": ["c++", "list", "vector"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490826302, "post_id": 43105252, "comment_id": 73291885, "body": "Why are you writing everything recursively? This isn&#39;t Scheme; you don&#39;t have tail call elimination."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1490826411, "post_id": 43105252, "comment_id": 73291931, "body": "Don&#39;t use recursion if you don&#39;t need to.  You can do all this with loops."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490826444, "post_id": 43105252, "comment_id": 73291949, "body": "Worth a read through <a href=\"http://stackoverflow.com/questions/228783/what-are-the-rules-about-using-an-underscore-in-a-c-identifier\">What are the rules about using an underscore in a C++ identifier?</a>. Your <code>_insert</code> functions are in danger of colliding with an Standard Library implementation detail."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1490829247, "post_id": 43105252, "comment_id": 73292811, "body": "And also, if you want an ordered vector just insert everything and then sort it once. That will be a lot faster."}], "answers": [{"tags": [], "owner": {"reputation": 1736, "user_id": 2489715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JlL22.png?s=128&g=1", "display_name": "amchacon", "link": "https://stackoverflow.com/users/2489715/amchacon"}, "is_accepted": false, "score": 0, "last_activity_date": 1490826750, "creation_date": 1490826750, "answer_id": 43105368, "question_id": 43105252, "link": "https://stackoverflow.com/questions/43105252/stack-overflow-exception-in-stdlist-and-stdvector/43105368#43105368", "title": "stack overflow exception in std::list and std::vector", "body": "<blockquote>\n  <p>However, std::list and std::vector makes stack overflow exception when about 1550 integers is stored</p>\n</blockquote>\n\n<p>Just write it iteratively</p>\n\n<pre><code>void insert(list&lt;short&gt;&amp; l, const short&amp; value) {\n    list&lt;short&gt;::iterator it = l.begin();\n    for (;it != l.end() &amp;&amp; value &lt; *it;it++);\n    l.insert(it, value);\n}\n</code></pre>\n\n<p>You can use the same idea for vector... You can even reuse the function:</p>\n\n<pre><code>void insert(list&lt;short&gt;&amp; l, const short&amp; value) {\n    list&lt;short&gt;::iterator it = getIterator(l.begin(),l.end(),value);\n    l.insert(it, value);\n}\n\nvoid insert(vector&lt;short&gt;&amp; v, const short&amp; value) {\n    vector&lt;short&gt;::iterator it = getIterator(l.begin(),l.end(),value);\n    v.insert(it, value);\n}\n\ntemplate&lt;class InputIterator&gt;\nvoid getIterator(InputIterator it,InputIterator end){\n    while (it != end &amp;&amp; value &lt; *it) {\n        it++;\n    }\n    return it;\n}\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 7060957, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-LFKw5xZ6Gog/AAAAAAAAAAI/AAAAAAAADLU/la21eIPRu3c/photo.jpg?sz=128", "display_name": "Younghoon Jeong", "link": "https://stackoverflow.com/users/7060957/younghoon-jeong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1490826750, "creation_date": 1490826172, "question_id": 43105252, "link": "https://stackoverflow.com/questions/43105252/stack-overflow-exception-in-stdlist-and-stdvector", "title": "stack overflow exception in std::list and std::vector", "body": "<p>I am making a test program to check the time for storage of std::list, std::vector, and array. I want to store 2 million random integers in each container. However, std::list and std::vector makes stack overflow exception when about 1550 integers is stored. How can I avoid it except decreasing the number of integers?</p>\n\n<pre><code>#include &lt;list&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;string&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nvoid insert(list&lt;short&gt;&amp; l, const short&amp; value);\nvoid _insert(list&lt;short&gt;&amp; l, list&lt;short&gt;::iterator it, const short&amp; value);\nvoid insert(vector&lt;short&gt;&amp; v, const short&amp; value);\nvoid _insert(vector&lt;short&gt;&amp; v, vector&lt;short&gt;::iterator it, const short&amp; value);\nvoid insert(short arr[], int&amp; logicalSize, const int&amp; physicalSize, const short&amp; value);\nvoid _insert(short arr[], int&amp; logicalSize, const int&amp; physicalSize, const short&amp; value, int&amp; cur);\n\nint main() {\n    clock_t start, end;\n    srand(time(nullptr));\n\n    const int SIZE = 2000000;\n    const short RANGE = 10000;\n    list&lt;short&gt; l;\n    vector&lt;short&gt; v;\n    short* arr = new short[SIZE];\n    int logicalSize = 0;\n\n    // list\n    cout &lt;&lt; \"List storage time test...\";\n    start = clock();\n    for (int i = 0; i &lt; SIZE; i++) {\n        insert(l, (short)(rand() % (2 * RANGE + 1) - RANGE));\n    }\n    end = clock();\n    cout &lt;&lt; \"Time: \" &lt;&lt; difftime(end, start) &lt;&lt; endl &lt;&lt; endl;\n\n    // vector\n    cout &lt;&lt; \"Vector storage time test...\";\n    start = clock();\n    for (int i = 0; i &lt; SIZE; i++) {\n        insert(v, (short)(rand() % (2 * RANGE + 1) - RANGE));\n    }\n    end = clock();\n    cout &lt;&lt; \"Time: \" &lt;&lt; difftime(end, start) &lt;&lt; endl &lt;&lt; endl;\n\n    // array\n    start = clock();\n    cout &lt;&lt; \"Array storage time test...\";\n    for (int i = 0; i &lt; SIZE; i++) {\n        try {\n            insert(arr, logicalSize, SIZE, (short)(rand() % (2 * RANGE + 1) - RANGE));\n        }\n        catch (string s) {\n            cout &lt;&lt; s &lt;&lt; endl;\n            system(\"pause\");\n            exit(-1);\n        }\n    }\n    end = clock();\n    cout &lt;&lt; \"Time: \" &lt;&lt; difftime(end, start) &lt;&lt; endl &lt;&lt; endl;\n\n    delete[] arr;\n    system(\"pause\");\n    return 0;\n}\n\nvoid insert(list&lt;short&gt;&amp; l, const short&amp; value) {\n    _insert(l, l.begin(), value);\n}\n\nvoid _insert(list&lt;short&gt;&amp; l, list&lt;short&gt;::iterator it, const short&amp; value) {\n    if (it == l.end() || value &lt; *it) {\n        l.insert(it, value);\n        return;\n    }\n    else {\n        it++;\n        return _insert(l, it, value);\n    }\n}\n\nvoid insert(vector&lt;short&gt;&amp; v, const short&amp; value) {\n    _insert(v, v.begin(), value);\n}\n\nvoid _insert(vector&lt;short&gt;&amp; v, vector&lt;short&gt;::iterator it, const short&amp; value) {\n    if (it == v.end()) {\n        v.push_back(value);\n        return;\n    } else if (value &lt; *it) {\n        v.insert(it, value);\n        return;\n    } else {\n        it++;\n        return _insert(v, it, value);\n    }\n}\n\nvoid insert(short arr[], int&amp; logicalSize, const int&amp; physicalSize, const short&amp; value) {\n    int cur = 0;\n    _insert(arr, logicalSize, physicalSize, value, cur);\n}\n\nvoid _insert(short arr[], int&amp; logicalSize, const int&amp; physicalSize, const short&amp; value, int&amp; cur) {\n    if (cur &gt;= physicalSize) throw string(\"No space for array.\");\n\n    if (cur == logicalSize) {\n        arr[cur] = value;\n        logicalSize++;\n        return;\n    } else if (value &lt; arr[cur]) {\n        for (int i = logicalSize - 1; i &gt;= cur; i--) {\n            arr[i + 1] = arr[i];\n        }\n        arr[cur] = value;\n        logicalSize++;\n        return;\n    } else {\n        return _insert(arr, logicalSize, physicalSize, value, ++cur);\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "pyqt4", "qt-designer"], "answers": [{"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1490829275, "last_edit_date": 1490829275, "creation_date": 1490826947, "answer_id": 43105410, "question_id": 43105237, "link": "https://stackoverflow.com/questions/43105237/how-to-get-the-objectname-of-a-modified-qspinbox/43105410#43105410", "title": "How to get the objectName of a modified QSpinBox?", "body": "<p>AS the question tagged C++. I am answering in both C++ and pyQt4. I never worked in pyQt4. So please excuse me for syntax.</p>\n\n<p>In the \"<code>valueChanged</code>\" <strong>slot</strong> use <code>QObject::sender()</code> to get the spin box which triggered it.</p>\n\n<p>And then call \"objectName()\".</p>\n\n<pre><code>QObject* obj = sender();\nQString objName = obj-&gt;objectName();\n</code></pre>\n\n<p>May be in python:</p>\n\n<pre><code> sender = QtCore.QObject.sender()\n str = sender.objectName()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7428172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DDtNyNJj70c/AAAAAAAAAAI/AAAAAAAABDk/y1_PnCxJDPU/photo.jpg?sz=128", "display_name": "Juan Arroyo Ruiz", "link": "https://stackoverflow.com/users/7428172/juan-arroyo-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 43105410, "answer_count": 1, "score": 0, "last_activity_date": 1490840702, "creation_date": 1490826112, "last_edit_date": 1490840702, "question_id": 43105237, "link": "https://stackoverflow.com/questions/43105237/how-to-get-the-objectname-of-a-modified-qspinbox", "title": "How to get the objectName of a modified QSpinBox?", "body": "<p>I want to keep track of the user modifying the company's forecast in my custom made app.\nI created it using qt designer and PyQt4, and I'm using QSpinBox for the quantities (easy way to control range of values and masking the fields to be number only).\nThe problem I'm having is when I want to get the QSpinBox that triggered my function.\nAt this moment it's being triggered using valueChanged.connect but could be using anything else.\nI can get the int in the spinbox but not the spinbox's name.\nThanks beforehand for the help!</p>\n\n<p><strong>SOLUTION</strong></p>\n\n<p><strong>The QSpinBox element</strong></p>\n\n<pre><code>self.Item = QtGui.QSpinBox(self.centralwidget)  \nself.Item.setObjectName(_fromUtf8(\"ItemName\"))\n</code></pre>\n\n<p><strong>Trigger</strong>  </p>\n\n<pre><code>self.Item.valueChanged.connect(self.foo)\n</code></pre>\n\n<p><strong>The function it calls</strong>  </p>\n\n<pre><code>def foo(self,obj):  \n    sender = MainWindow.sender()  \n    print sender.objectName()\n</code></pre>\n\n<p><strong>In this case \"MainWindow\" is my QtCore.QObject</strong>  </p>\n"}, {"tags": ["c++", "templates", "visual-studio-2015", "template-templates"], "owner": {"reputation": 725, "user_id": 5157245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5f0a42d438ccd4952737a61fb3409d40?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Kotov", "link": "https://stackoverflow.com/users/5157245/denis-kotov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1490840665, "creation_date": 1490825619, "question_id": 43105119, "link": "https://stackoverflow.com/questions/43105119/template-template-parameter-in-vs2015", "title": "Template template parameter in VS2015", "body": "<p>I have faced with curious issue.\nGiven Template class and template function:</p>\n\n<pre><code>template&lt;typename L, typename T&gt;\nclass TemplateClass\n{\npublic:\n\n   int operator()()\n   {\n      return 1;\n   }\n};\n\ntemplate&lt;typename K, template&lt;typename L, \n                              typename T = int&gt; class TemplateCl&gt;\nTemplateCl&lt;K&gt; getTemplateClass(TemplateCl&lt;K&gt; _cls)\n{\n   TemplateCl&lt;K&gt; cls;\n   return cls;\n}\n\nint main()\n{\n    auto templateClass = TemplateClass&lt;int,int&gt;();\n    auto rTemplateClass = getTemplateClass&lt;int&gt;(templateClass);\n    return 0;\n}\n</code></pre>\n\n<p>This code compiles by Clang, but when I try to compile with VS2015 it fails:</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError   C2672   'getTemplateClass': no matching overloaded function found   cpp11_cpp14_cpp17   d:\\projects_programing\\__testing\\cpp11_cpp14_cpp17\\cpp11_cpp14_cpp17\\cpp11_cpp14_cpp17.cpp  682 \nSeverity    Code    Description Project File    Line    Suppression State\nError   C2893   Failed to specialize function template 'TemplateCl&lt;K,int&gt; getTemplateClass(TemplateCl&lt;K,int&gt;)'  cpp11_cpp14_cpp17   d:\\projects_programing\\__testing\\cpp11_cpp14_cpp17\\cpp11_cpp14_cpp17\\cpp11_cpp14_cpp17.cpp  682 \n</code></pre>\n\n<p>This code compiles only with the following modifications:</p>\n\n<pre><code>template&lt;typename L, typename T = int&gt;\nclass TemplateClass\n{\npublic:\n\n   int operator()()\n   {\n      return 1;\n   }\n};\n</code></pre>\n\n<p>The most wierd situation that it even compiles with the following modification:</p>\n\n<pre><code>template&lt;typename L, typename T = float&gt;\nclass TemplateClass\n{\npublic:\n\n   int operator()()\n   {\n      return 1;\n   }\n};\n</code></pre>\n\n<p>Is it an issue on VS2015 compiler ?\nDoes anybody know why VS2015 has such wierd behaviour ?</p>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1490825432, "post_id": 43105007, "comment_id": 73291571, "body": "The NMNF function doesn&#39;t have access to the class&#39;s non-public members, so it can&#39;t break the class invariants easily, and the author of the NMNF probably won&#39;t get informed of internal refactorings of the class. She&#39;ll probably also ship the NMNF in a separate library which users would only include when they actually need it. Oh, wait, you said &quot;drawbacks&quot;?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490825452, "post_id": 43105007, "comment_id": 73291583, "body": "If you make it a constructor, you can use a string as an argument to a function that expects a <code>C</code>, and it will be converted automatically. If it&#39;s a separate function, you have to call the function explicitly."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490825515, "post_id": 43105007, "comment_id": 73291604, "body": "@Barmar Nope, that&#39;s not it. Non-member functions can be overloaded. You can make a generic <code>CFrom</code> non-member non-friend function, which is overloaded in multiple ways for different argument types."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1490825592, "post_id": 43105007, "comment_id": 73291639, "body": "@Kaz But you still have to call <code>CFrom()</code> explicitly, don&#39;t you? You can&#39;t have <code>void someFun(C)</code>, and then call <code>someFun(aString)</code>, you&#39;d have to write <code>someFun(CFrom(aString))</code>"}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490825807, "post_id": 43105007, "comment_id": 73291718, "body": "@Barmar Yes, because this construction doesn&#39;t count as a user-defined conversion (of which you can have one, implicitly, IIRC). Of course C++ isn&#39;t going to infer that the argument can be matched if we just take the string through this <code>CFrom</code> function, haha! So that is a disadvantage; make an answer!"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 2896121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c21847e05c6b288c7d7da7b96ceaaaf?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin Baranov", "link": "https://stackoverflow.com/users/2896121/constantin-baranov"}, "edited": false, "score": 1, "creation_date": 1490830645, "post_id": 43105078, "comment_id": 73293240, "body": "The <code>C::FromString</code> defeats the non-member point of the idea: that function has access to internals of <code>C</code> objects. Otherwise I agree, some general convention is good to have."}, {"owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "reply_to_user": {"reputation": 431, "user_id": 2896121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c21847e05c6b288c7d7da7b96ceaaaf?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin Baranov", "link": "https://stackoverflow.com/users/2896121/constantin-baranov"}, "edited": false, "score": 0, "creation_date": 1493217582, "post_id": 43105078, "comment_id": 74322966, "body": "@ConstantinBaranov  Excellent point; that aspect of it would be better expressed with namespaces, to stick to the non-friend, non-member principle."}], "tags": [], "owner": {"reputation": 48201, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "is_accepted": true, "score": 3, "last_activity_date": 1490825874, "last_edit_date": 1490825874, "creation_date": 1490825457, "answer_id": 43105078, "question_id": 43105007, "link": "https://stackoverflow.com/questions/43105007/does-scott-meyerss-advice-to-prefer-non-member-non-friend-methods-apply-to-obje/43105078#43105078", "title": "Does Scott Meyers&#39;s advice to prefer non-member non-friend methods apply to object construction?", "body": "<p>One drawback is a bit of inconsistency, which is an esthetic concern.</p>\n\n<p>You're calling a <code>CFromString</code> constructor function rather than invoking a constructor called <code>C</code>. The relationship between them is arbitrary, just through the <code>C</code> prefix in the name.</p>\n\n<p>If you make it a <code>static</code> member function, then you can call it <code>C::FromString</code> so that it belongs to the class.</p>\n\n<p>If this is done all over the place in a large project, some sort of convention would help. Like say, whenever we have a class <code>C</code>, and a non-member constructor function for making <code>C</code>-s, let's always call it <code>CCons</code>, and then always use overloading for different types. Thus, if we have a <code>Widget</code> class, we then call our overloaded family <code>WidgetCons</code>:</p>\n\n<pre><code>Widget WidgetCons(const std::string &amp;s) { /* make it from string */ }\nWidget WidgetCons(int i) { /* make it from int */ }\n</code></pre>\n\n<p>and so on. If this is consistent in our 250,000 line codebase, whenever someone sees any <code>FooCons</code> or <code>BarCons</code>, they know exactly what it is.</p>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 6518168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/828d5d9965ce458c668b904baac1e19a?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry J", "link": "https://stackoverflow.com/users/6518168/dmitry-j"}, "edited": false, "score": 0, "creation_date": 1490892049, "post_id": 43105265, "comment_id": 73326493, "body": "I agree with what you are saying, but my question is not about serializing - it was only an example, maybe misleading."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "reply_to_user": {"reputation": 707, "user_id": 6518168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/828d5d9965ce458c668b904baac1e19a?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry J", "link": "https://stackoverflow.com/users/6518168/dmitry-j"}, "edited": false, "score": 0, "creation_date": 1490943939, "post_id": 43105265, "comment_id": 73346585, "body": "There is no general rule and when one uses a general rule, it&#39;s wrong."}], "tags": [], "owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "is_accepted": false, "score": 5, "last_activity_date": 1490826253, "creation_date": 1490826253, "answer_id": 43105265, "question_id": 43105007, "link": "https://stackoverflow.com/questions/43105007/does-scott-meyerss-advice-to-prefer-non-member-non-friend-methods-apply-to-obje/43105265#43105265", "title": "Does Scott Meyers&#39;s advice to prefer non-member non-friend methods apply to object construction?", "body": "<p>If you start adding constructors for every possible way a class can be serialized, you are tightly coupling that class with those serialization methods.</p>\n\n<p>It is preferred that you separate the class and the serializer in order to separate concerns. Let the class focus on what the class does and the serializer on what it does (read json or whatever)</p>\n\n<p>You have to consider that your class might be serialized from a file, from a socket, from json, from xml, from a database...from any number of things.</p>\n\n<p>That's why in modern programming we use interfaces.\nWe also make use of the Factory pattern.</p>\n"}], "owner": {"reputation": 707, "user_id": 6518168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/828d5d9965ce458c668b904baac1e19a?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry J", "link": "https://stackoverflow.com/users/6518168/dmitry-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 1, "accepted_answer_id": 43105078, "answer_count": 2, "score": 7, "last_activity_date": 1490826253, "creation_date": 1490825125, "last_edit_date": 1490825832, "question_id": 43105007, "link": "https://stackoverflow.com/questions/43105007/does-scott-meyerss-advice-to-prefer-non-member-non-friend-methods-apply-to-obje", "title": "Does Scott Meyers&#39;s advice to prefer non-member non-friend methods apply to object construction?", "body": "<p>Let's say I have a class:</p>\n\n<pre><code>class C{\n  int x_;\n  int y_;\npublic:\n  C(int x, int y): x_(x), y_(y){}\n};\n</code></pre>\n\n<p>Then I want to add construction from a string, which would just parse <code>x</code> and <code>y</code>. Before reading Meyers's book I would usually make it another constructor in class <code>C</code>. However, it's also possible to make it non-member non-friend:</p>\n\n<pre><code>C CFromString(const std::string&amp; s){\n  int x, y;\n  //...parse them somehow, throw exception if needed...\n  return C(x,y);\n}\n</code></pre>\n\n<p>To me this is standard situation for many \"value classes\", when there is a \"main\" constructor which sets private members to provided values (probably checking there correctness). Other constructors for such classes are often just calculate these values from some other arguments.</p>\n\n<p>Are there any drawbacks in making such constructors non-member non-friends like in my example?</p>\n\n<p><strong>Upd.</strong> I understand the Meyers's advice, and what are the advantages of NMNF functions. There is just no examples of NMNF object construction in his book, so I want to ensure that his advice applies to construction as well.</p>\n"}, {"tags": ["c++", "lua", "luajit"], "comments": [{"owner": {"reputation": 783, "user_id": 3528120, "user_type": "registered", "profile_image": "https://graph.facebook.com/696130148/picture?type=large", "display_name": "Skewled", "link": "https://stackoverflow.com/users/3528120/skewled"}, "edited": false, "score": 0, "creation_date": 1490826046, "post_id": 43105000, "comment_id": 73291805, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8459459/lua-coroutine-error-tempt-to-yield-across-metamethod-c-call-boundary\">Lua coroutine error: tempt to yield across metamethod/C-call boundary</a>"}, {"owner": {"reputation": 73, "user_id": 7788494, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/871575e1df33f2ed65dcde4f31856076?s=128&d=identicon&r=PG&f=1", "display_name": "Kurieita", "link": "https://stackoverflow.com/users/7788494/kurieita"}, "reply_to_user": {"reputation": 783, "user_id": 3528120, "user_type": "registered", "profile_image": "https://graph.facebook.com/696130148/picture?type=large", "display_name": "Skewled", "link": "https://stackoverflow.com/users/3528120/skewled"}, "edited": false, "score": 0, "creation_date": 1490826170, "post_id": 43105000, "comment_id": 73291850, "body": "No, that answer didn&#39;t help."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7788494, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/871575e1df33f2ed65dcde4f31856076?s=128&d=identicon&r=PG&f=1", "display_name": "Kurieita", "link": "https://stackoverflow.com/users/7788494/kurieita"}, "edited": false, "score": 0, "creation_date": 1490829821, "post_id": 43105785, "comment_id": 73292977, "body": "Wow. I can&#39;t believe I didn&#39;t figure that out. Thank a lot."}], "tags": [], "owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "is_accepted": true, "score": 2, "last_activity_date": 1490829082, "creation_date": 1490829082, "answer_id": 43105785, "question_id": 43105000, "link": "https://stackoverflow.com/questions/43105000/lua-luajit-pause-current-lua-thread/43105785#43105785", "title": "Lua/Luajit: pause current Lua thread", "body": "<p><code>lua_pcall</code> does not start a yieldable coroutine. The proper function to start a coroutine is <a href=\"https://www.lua.org/manual/5.1/manual.html#lua_resume\" rel=\"nofollow noreferrer\"><code>lua_resume</code></a>.</p>\n"}], "owner": {"reputation": 73, "user_id": 7788494, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/871575e1df33f2ed65dcde4f31856076?s=128&d=identicon&r=PG&f=1", "display_name": "Kurieita", "link": "https://stackoverflow.com/users/7788494/kurieita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 43105785, "answer_count": 1, "score": 2, "last_activity_date": 1490829082, "creation_date": 1490825097, "last_edit_date": 1490828547, "question_id": 43105000, "link": "https://stackoverflow.com/questions/43105000/lua-luajit-pause-current-lua-thread", "title": "Lua/Luajit: pause current Lua thread", "body": "<p>I am currently using Luajit along side Lua 5.1 and currently trying to register a function called \"Wait\" within the Lua C APIs. The main purpose of the function is to pause the current thread.</p>\n\n<p>Example usage: </p>\n\n<pre><code>print(\"Working\");\nWait()\nprint(\"A\");\n</code></pre>\n\n<p>However the function does not work as expected. Here is my C++ code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\n\nextern \"C\" {\n    #include \"Luajit/luajit.h\"\n    #include &lt;Luajit/lua.h&gt;\n    #include &lt;Luajit/lualib.h&gt;\n    #include &lt;Luajit/lauxlib.h&gt;\n}\n\n\nstatic int wait(lua_State* lua) {\n    return lua_yield(lua, 0);\n}\n\nint main() {\n    lua_State* lua = luaL_newstate();\n\n    if (!lua) {\n        std::cout &lt;&lt; \"Failed to create Lua state\" &lt;&lt; std::endl;\n        system(\"PAUSE\");\n        return -1;\n    }\n\nluaL_openlibs(lua);\nlua_register(lua, \"Wait\", wait);\n\nlua_State* thread = lua_newthread(lua);\n\nif (!thread) {\n    std::cout &lt;&lt; \"Failed to create Lua thread\" &lt;&lt; std::endl;\n    system(\"PAUSE\");\n    return -1;\n}\n\nint status = luaL_loadfile(thread, \"Z:/Projects/Visual Studio/Examples/Lua/Debug/Main.lua\");\n\nif (status == LUA_ERRFILE) {\n    std::cout &lt;&lt; \"Failed to load file\" &lt;&lt; std::endl;\n    system(\"PAUSE\");\n    return -1;\n}\n\nint error = lua_pcall(thread, 0, 0, 0);\n\nif (error) {\n    std::cout &lt;&lt; \"Error: \" &lt;&lt; lua_tostring(thread, 1) &lt;&lt; std::endl;\n}\n\nsystem(\"PAUSE\");\nreturn 0;\n}\n</code></pre>\n\n<p>When I load up the Lua script I posted above I get the following output:</p>\n\n<pre><code>Working\nError: attempt to yield across C-call boundary\nPress any key to continue . . .\n</code></pre>\n\n<p>I been programming in Lua for more than 4 years now. I just recently started using the C APIs and I never seen the C-call boundary error before. I did some Googling and ask friends and no one seems to be able to help me. Any idea what is wrong with my code?</p>\n\n<p>The error occur when I call the lua_yield(lua, 0) function in C++.</p>\n\n<p>I tried the answers of the following question and nothing seems to work.</p>\n\n<pre><code>http://stackoverflow.com/questions/8459459/lua-coroutine-error-tempt-to-yield-across-metamethod-c-call-boundary\n</code></pre>\n"}, {"tags": ["c++", "function"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 5, "creation_date": 1490824687, "post_id": 43104882, "comment_id": 73291295, "body": "You forgot to <a href=\"http://en.cppreference.com/w/cpp/string/byte/isdigit\" rel=\"nofollow noreferrer\"><code>#include &lt;cctype&gt;</code></a>. <a href=\"http://en.cppreference.com/w/cpp/string/byte/isdigit\" rel=\"nofollow noreferrer\"><code>std::isdigit</code></a> is found there.... And it takes a <code>char</code> (actually <code>int</code> for C compatibility) not <code>std::string</code>"}, {"owner": {"reputation": 13, "user_id": 7001128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883d05d99b5e94180953eea49946ba87?s=128&d=identicon&r=PG&f=1", "display_name": "shanon4", "link": "https://stackoverflow.com/users/7001128/shanon4"}, "reply_to_user": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 0, "creation_date": 1490824778, "post_id": 43104882, "comment_id": 73291328, "body": "Did just right now, still the same error!"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1490824794, "post_id": 43104882, "comment_id": 73291333, "body": "<a href=\"http://en.cppreference.com/w/cpp/string/byte/isdigit\" rel=\"nofollow noreferrer\"><code>isdigit</code></a> works on characters, not strings. Why not just use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/stol\" rel=\"nofollow noreferrer\"><code>std::stoi</code></a>?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1490824810, "post_id": 43104882, "comment_id": 73291340, "body": "See <a href=\"http://www.cplusplus.com/reference/cctype/isdigit/\" rel=\"nofollow noreferrer\">here</a>. The function is digit takes an int as it argument. Which somewhat confusingly means it takes a single char. So you need to loop over your string passing each digit to <code>isdigit</code>. It&#39;s much easier and more idiomatic for c++ to <code>std::stringstream</code> to convert to int <code>atoi</code> has many problems."}, {"owner": {"reputation": 13, "user_id": 7001128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883d05d99b5e94180953eea49946ba87?s=128&d=identicon&r=PG&f=1", "display_name": "shanon4", "link": "https://stackoverflow.com/users/7001128/shanon4"}, "edited": false, "score": 0, "creation_date": 1490825049, "post_id": 43104882, "comment_id": 73291426, "body": "so something like for(j=0;j&lt;s.size();j++) {if(isdigit(s[j]) // code}"}, {"owner": {"reputation": 13, "user_id": 7001128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883d05d99b5e94180953eea49946ba87?s=128&d=identicon&r=PG&f=1", "display_name": "shanon4", "link": "https://stackoverflow.com/users/7001128/shanon4"}, "edited": false, "score": 0, "creation_date": 1490825340, "post_id": 43104882, "comment_id": 73291526, "body": "stoi looks like a much better choice here."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1490826323, "post_id": 43105079, "comment_id": 73291893, "body": "&quot;<i>You could also check whether the first character of the string is a digit before attempting to use <code>std::stoi()</code></i>&quot; - be careful, because that does not guarantee that all characters in the string are digits. <code>std::stoi()</code> parses the entire string and then reports the index of the first non-digit character, even if that is the null terminator. It also skips leading whitespace, so checking the first character may cause a false result where <code>std::stoi()</code> would have normally succeeded."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 0, "last_activity_date": 1490827091, "last_edit_date": 1490827091, "creation_date": 1490825466, "answer_id": 43105079, "question_id": 43104882, "link": "https://stackoverflow.com/questions/43104882/why-is-isdigit-not-working/43105079#43105079", "title": "Why is isdigit() not working?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/string/byte/isdigit\" rel=\"nofollow noreferrer\"><code>isdigit</code></a> is meant to check whether a single character is a digit or not, not a string. That's why the call <code>isdigit(s)</code> fails to compile.</p>\n\n<p>You could use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/stol\" rel=\"nofollow noreferrer\"><code>std::stoi</code></a>. However, keep in mind that it will throw an exception if no conversion could be performed by the function.</p>\n\n<pre><code>try\n{\n   i = std::stoi(s);\n}\ncatch ( ... )\n{\n   // Deal with the exception\n}\n</code></pre>\n\n<p>You could also check whether the first character of the string is a digit before attempting to use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/stol\" rel=\"nofollow noreferrer\"><code>std::stoi</code></a>.</p>\n\n<pre><code>if ( !(s.empty()) &amp;&amp; isdigit(s[0]) )\n{\n   i = std::stoi(s);\n}\n</code></pre>\n\n<h3>NB</h3>\n\n<p>From the comment by @RemyLebeau:</p>\n\n<blockquote>\n  <p>The above check because that does not guarantee that all characters in the string are digits. <code>std::stoi()</code> parses the entire string and then reports the index of the first non-digit character, even if that is the null terminator. It also skips leading whitespace, so checking the first character may cause a false result where <code>std::stoi()</code> would have normally succeeded.</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 7001128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883d05d99b5e94180953eea49946ba87?s=128&d=identicon&r=PG&f=1", "display_name": "shanon4", "link": "https://stackoverflow.com/users/7001128/shanon4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5563, "favorite_count": 1, "accepted_answer_id": 43105079, "answer_count": 1, "score": 1, "last_activity_date": 1490827091, "creation_date": 1490824593, "last_edit_date": 1490826003, "question_id": 43104882, "link": "https://stackoverflow.com/questions/43104882/why-is-isdigit-not-working", "title": "Why is isdigit() not working?", "body": "<p><strong>Code:</strong></p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nstring s1,s2,s3,s4,s5;\nint ex(string s){\n    int i;\n    if(isdigit(s)){\n        i = atoi(s.c_str);\n    }\n    else \n        return -1;\n    return i;\n}\n\nint main(){\n    int t;cin&gt;&gt;t;int v1,v2,v3;\n    while(t--){\n        cin&gt;&gt;s1&gt;&gt;s2&gt;&gt;s3&gt;&gt;s4&gt;&gt;s5;\n        v1=ex(s1);\n        v2=ex(s2);\n        v3=ex(s3);\n        if(v1&lt;0) v1=v3-v2;\n        if(v2&lt;0) v2=v3-v1;\n        if(v3&lt;0) v3=v1+v2;\n        cout&lt;&lt;v1&lt;&lt;\" + \"&lt;&lt;v2&lt;&lt;\" = \"&lt;&lt;v3;\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>error: no matching function for call to 'isdigit(std::string&amp;)'\n     if(isdigit(s)){\n</code></pre>\n\n<p>I tried searching all the previous posts regarding this but still could not figure out why <code>isdigit(s)</code> function is not working.\nAnd the question is there will be input of the form\n<code>47 + machula = 53</code>, where machula is some word\nand output should be <code>47 + 6 = 53</code>.</p>\n"}, {"tags": ["c++", "linux", "visual-studio", "cross-platform"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1490826432, "post_id": 43104862, "comment_id": 73291941, "body": "See this MSDN blog: <a href=\"https://blogs.msdn.microsoft.com/vcblog/2017/02/08/targeting-windows-subsystem-for-linux-from-visual-studio/\" rel=\"nofollow noreferrer\">Targeting the Windows Subsystem for Linux from Visual Studio</a>."}, {"owner": {"reputation": 2628, "user_id": 1248638, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e85f0521e95f34c082c45467b731dc5d?s=128&d=identicon&r=PG", "display_name": "Ortix92", "link": "https://stackoverflow.com/users/1248638/ortix92"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1490949865, "post_id": 43104862, "comment_id": 73349784, "body": "I have read that blog but I can&#39;t configure VS17 to use the linaro toolchain and build for ARM instead of x64/x86"}], "answers": [{"tags": [], "owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "is_accepted": true, "score": 2, "last_activity_date": 1490832781, "creation_date": 1490832781, "answer_id": 43106326, "question_id": 43104862, "link": "https://stackoverflow.com/questions/43104862/cross-compile-on-windows-linux-subsystem-and-deploy-to-target-using-visual-studi/43106326#43106326", "title": "Cross compile on windows linux subsystem and deploy to target using Visual Studio 2017", "body": "<p>The first two steps are straightforward and there are several guides for you to read, one of which has been referenced above.</p>\n\n<p>Using WSL, you're only going to be able to target x86 with a simple project type (MSBuild). But you can at least get it compiled and maybe do some debugging.</p>\n\n<p>For the Beaglebone you'll need a makefile project. Visual Studio sees the makefile as a black box that generates a build target. Inside that box you will write the commands to cross-compile to an ARM executable and copy it to the appropriate destination. Build errors will be reported back to Visual Studio but you won't be able to debug the cross-compiled application on the Beaglebone.</p>\n\n<p>You'll find some information <a href=\"https://blogs.msdn.microsoft.com/vcblog/2016/03/30/visual-c-for-linux-development/\" rel=\"nofollow noreferrer\">here</a> to get you started with makefile projects.</p>\n"}], "owner": {"reputation": 2628, "user_id": 1248638, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e85f0521e95f34c082c45467b731dc5d?s=128&d=identicon&r=PG", "display_name": "Ortix92", "link": "https://stackoverflow.com/users/1248638/ortix92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2705, "favorite_count": 2, "accepted_answer_id": 43106326, "answer_count": 1, "score": 1, "last_activity_date": 1490832781, "creation_date": 1490824491, "question_id": 43104862, "link": "https://stackoverflow.com/questions/43104862/cross-compile-on-windows-linux-subsystem-and-deploy-to-target-using-visual-studi", "title": "Cross compile on windows linux subsystem and deploy to target using Visual Studio 2017", "body": "<p>I have a beaglebone black for which I want to cross compile on the windows linux subsystem but deploy it afterwards onto the target (Beaglebone). I have installed the cross compiler on the linux subsystem but I'm not quite sure how to hook everything up on the visual studio end.</p>\n\n<p>Basically I want to:</p>\n\n<ul>\n<li>Write code in Visual Studio 2017</li>\n<li>Build on the Windows Linux Subsystem</li>\n<li>Deploy on the ARM Target over SSH (Beaglebone black)</li>\n</ul>\n"}, {"tags": ["c++", "scope", "extern"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1490824354, "post_id": 43104712, "comment_id": 73291163, "body": "The namespace in the source code <code>X265_NS</code> is different from the one in the error messages, <code>x265</code>.  Is there a macro here?  Is that macro defined the same everywhere?"}, {"owner": {"reputation": 87, "user_id": 4228152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100001521674782/picture?type=large", "display_name": "Muhammad Abu Bakr", "link": "https://stackoverflow.com/users/4228152/muhammad-abu-bakr"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1490825804, "post_id": 43104712, "comment_id": 73291717, "body": "There are no macros used. Infact when I hover my mouse on frameNumber in yuv.h file, tool tip that appears show &quot;int x265::frameNumber&quot; same that appears in error, although the name space mentioned is X265_NS. Plus there is another comment mention in the code is  &quot;// private x265 namespace&quot; under the opening bracket of X265_NS."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1490827871, "post_id": 43104712, "comment_id": 73292413, "body": "Part of your problem is that you&#39;re compiling the source code, and then linking to a library that already contains the same source code.  However I&#39;m confused why the build process even ran the linker when there was a compile error."}, {"owner": {"reputation": 4827, "user_id": 5819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a12b1d3bf30e4adbe458889599c93049?s=128&d=identicon&r=PG", "display_name": "Tony Lee", "link": "https://stackoverflow.com/users/5819/tony-lee"}, "edited": false, "score": 1, "creation_date": 1490838352, "post_id": 43104712, "comment_id": 73295211, "body": "If you&#39;re basing this off the git project <a href=\"https://github.com/videolan/x265\" rel=\"nofollow noreferrer\">github.com/videolan/x265</a>, the macro define of X265_NS to x256 is happening inside the source/CMakeLists.txt file on line 385: add_definitions(-DX265_NS=${X265_NS}). It looks like you&#39;re using Windows so maybe it&#39;s some other build file.  Regardless, it&#39;s clear that&#39;s not actually the namespace and the code expects the build system to define it on the compiler command line."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4228152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100001521674782/picture?type=large", "display_name": "Muhammad Abu Bakr", "link": "https://stackoverflow.com/users/4228152/muhammad-abu-bakr"}, "edited": false, "score": 0, "creation_date": 1490826116, "post_id": 43105049, "comment_id": 73291830, "body": "Both things are written as required :("}], "tags": [], "owner": {"reputation": 315, "user_id": 2514215, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ca566c93b8bdc17b5898e88c30bcc2b?s=128&d=identicon&r=PG", "display_name": "Ali Asadpoor", "link": "https://stackoverflow.com/users/2514215/ali-asadpoor"}, "is_accepted": false, "score": 0, "last_activity_date": 1490826289, "last_edit_date": 1490826289, "creation_date": 1490825352, "answer_id": 43105049, "question_id": 43104712, "link": "https://stackoverflow.com/questions/43104712/confused-why-c-global-variable-was-not-declared-in-this-scope/43105049#43105049", "title": "Confused, Why c++ global variable was not declared in this scope", "body": "<p>Check analysis.cpp to see if you DON'T define </p>\n\n<pre><code>namespace X265_NS {\n    int frameNumber;\n    int frameSize;\n    std::vector&lt;int&gt;numbers;\n}\n</code></pre>\n\n<p>again.</p>\n\n<p>or</p>\n\n<p>Maybe you have a wrong initialization like:</p>\n\n<pre><code>int frameSize = 0;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>frameSize = 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 4228152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100001521674782/picture?type=large", "display_name": "Muhammad Abu Bakr", "link": "https://stackoverflow.com/users/4228152/muhammad-abu-bakr"}, "edited": false, "score": 0, "creation_date": 1490872084, "post_id": 43106848, "comment_id": 73311381, "body": "I just did not notice it but you were right, it was including another yuv.h file."}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": true, "score": 3, "last_activity_date": 1490836721, "creation_date": 1490836721, "answer_id": 43106848, "question_id": 43104712, "link": "https://stackoverflow.com/questions/43104712/confused-why-c-global-variable-was-not-declared-in-this-scope/43106848#43106848", "title": "Confused, Why c++ global variable was not declared in this scope", "body": "<p>You might be including a wrong file. Most likely there's another <code>yuv.h</code> file in some library source code which gets included in <code>analysis.cpp</code> instead of the one you need. You can quickly check this by adding some erroneous code into your <code>yuv.h</code> and trying to compile <code>analysis.cpp</code>.</p>\n"}], "owner": {"reputation": 87, "user_id": 4228152, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100001521674782/picture?type=large", "display_name": "Muhammad Abu Bakr", "link": "https://stackoverflow.com/users/4228152/muhammad-abu-bakr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3565, "favorite_count": 0, "accepted_answer_id": 43106848, "answer_count": 2, "score": 0, "last_activity_date": 1490836721, "creation_date": 1490823913, "last_edit_date": 1490824274, "question_id": 43104712, "link": "https://stackoverflow.com/questions/43104712/confused-why-c-global-variable-was-not-declared-in-this-scope", "title": "Confused, Why c++ global variable was not declared in this scope", "body": "<p>I am new to C++. I am trying to modify a very complex video codec code as part of my final year school project. I have already asked it on another thread but got no help. This is my code:</p>\n\n<p>This is the header file in which I have declared three extern variables: </p>\n\n<p>yuv.h</p>\n\n<pre><code>#include &lt;vector&gt;\nnamespace X265_NS \n{\nextern int frameNumber;\nextern int frameSize;\nextern std::vector&lt;int&gt;numbers;\n\nclass YUVInput : public InputFile, public Thread\n{\nprotected:\n\n// some more variables\n\npublic:\n\n// more variables and function declarations\n\n};\n}\n</code></pre>\n\n<p>This is the first file that uses these extern variables: </p>\n\n<p>yuv.cpp</p>\n\n<pre><code>#include \"yuv.h\"\n//more includes\n#include &lt;vector&gt;\n\nnamespace X265_NS {\n    int frameNumber;\n    int frameSize;\n    std::vector&lt;int&gt;numbers;\n}\n\nusing namespace X265_NS;  \n\n// some stuff and function calls\n// here I use my extern variables in a function\n\nframeNumber = readCount.get();\nframeSize = ceil((double)height / 32) * ceil((double)width / 32);\n\n//more stuff\n\nbool YUVInput::populateFrameQueue()\n{\n   if(read&lt;1)\n             {\n                  ifstream file(\"/home/abu-bakr/bin/test.txt\");\n                  int number;\n                  while (file &gt;&gt; number)\n                           numbers.push_back(number);\n             }\n}\n\n// more stuff\n</code></pre>\n\n<p>This is the second class where I am using these extern variables:</p>\n\n<p>analysis.cpp</p>\n\n<pre><code>#include \"yuv.h\"\n#include &lt;vector&gt;\n....\nusing namespace X265_NS;\n\n// some stuff\n\n// its in a function and only place where I am using these variables\nint qp_ctu = numbers.at((ctu.m_cuAddr + 1) + (frameSize*(frameNumber - 1)));\n\n// more stuff\n</code></pre>\n\n<p>This is the error I am getting that is making me really confused:</p>\n\n<pre><code>analysis.cpp\n1&gt;C:\\x265_2.2\\x265_2.2\\source\\encoder\\analysis.cpp(170): warning C4244: '=' : conversion from 'int' to 'int8_t', possible loss of data\n1&gt;C:\\x265_2.2\\x265_2.2\\source\\encoder\\analysis.cpp(2814): error C2065: 'numbers' : undeclared identifier\n1&gt;C:\\x265_2.2\\x265_2.2\\source\\encoder\\analysis.cpp(2814): error C2228: left of '.at' must have class/struct/union\n1&gt;          type is ''unknown-type''\n1&gt;C:\\x265_2.2\\x265_2.2\\source\\encoder\\analysis.cpp(2814): error C2065: 'frameSize' : undeclared identifier\n1&gt;C:\\x265_2.2\\x265_2.2\\source\\encoder\\analysis.cpp(2814): error C2065: 'frameNumber' : undeclared identifier\n\nyuv.cpp\n2&gt;C:\\x265_2.2\\x265_2.2\\source\\input\\yuv.cpp(219): warning C4244: '=' : conversion from 'double' to 'int', possible loss of data\n2&gt;x265-static.lib(analysis.obj) : error LNK2005: \"int x265::frameNumber\" (?frameNumber@x265@@3HA) already defined in yuv.cpp.obj\n2&gt;x265-static.lib(analysis.obj) : error LNK2005: \"int x265::frameSize\" (?frameSize@x265@@3HA) already defined in yuv.cpp.obj\n2&gt;     Creating library C:/x265_2.2/x265_2.2/build/vc10-x86/Debug/x265.lib and object C:/x265_2.2/x265_2.2/build/vc10-x86/Debug/x265.exp\n2&gt;C:\\x265_2.2\\x265_2.2\\build\\vc10-x86\\Debug\\x265.exe : fatal error LNK1169: one or more multiply defined symbols found\n</code></pre>\n"}, {"tags": ["c++", "c++11", "makefile"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1490824013, "post_id": 43104703, "comment_id": 73291035, "body": "Just add the single line: <code>graph: projectgraph.o functions.o</code>  Let the implicit rules work for you.  Add the line after your <code>project</code> rule."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1490827856, "last_edit_date": 1490827856, "creation_date": 1490824052, "answer_id": 43104745, "question_id": 43104703, "link": "https://stackoverflow.com/questions/43104703/makefile-with-two-c-files-how-can-i-choose-the-file-to-compile/43104745#43104745", "title": "Makefile with two C++ files : How can I choose the file to compile?", "body": "<p>Just add a target for the additional program. Also, <code>functions.cpp</code> needs to be in the dependency list for <code>functions.o</code>, and <code>functions.h</code> should be in the dependency list of <code>project</code> and <code>projectgraph</code>.</p>\n\n<pre><code>CXX = g++\nCXXFLAGS= -std=c++11 -w -Wall -g \n\nproject: project.o functions.o functions.h\n    $(CXX) $(CXXFLAGS) -o project projet.o functions.o \n\nfunctions.o: functions.cpp functions.h\n\nprojectgraph: projectgraph.o functions.o functions.h\n    $(CXX) $(CXXFLAGS) -o project projet.o functions.o \n\nclean:\n    rm -rf *.o\n</code></pre>\n\n<p>Then you can use</p>\n\n<pre><code>make projectgraph\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 4701537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806eb5b835a04cbbf9292a1d7ba6b230?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4701537/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1490824136, "creation_date": 1490824136, "answer_id": 43104771, "question_id": 43104703, "link": "https://stackoverflow.com/questions/43104703/makefile-with-two-c-files-how-can-i-choose-the-file-to-compile/43104771#43104771", "title": "Makefile with two C++ files : How can I choose the file to compile?", "body": "<p>I believe all you need to do is : </p>\n\n<pre><code>graph : project.o functions.o \n    $(CXX) $(CXXFLAGS) -o projectgraph projectgraph.o functions.o \n</code></pre>\n\n<p>At least,  that is what I have done int he past.    There is a whole lot more you can do to make project the default etc but the above should be what you asked for. </p>\n"}], "owner": {"reputation": 55, "user_id": 5679818, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/12028fc92b380fdbeb52ec29e4947554?s=128&d=identicon&r=PG&f=1", "display_name": "Reblochon Masqu&#233;", "link": "https://stackoverflow.com/users/5679818/reblochon-masqu%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 43104745, "answer_count": 2, "score": 2, "last_activity_date": 1490827856, "creation_date": 1490823843, "question_id": 43104703, "link": "https://stackoverflow.com/questions/43104703/makefile-with-two-c-files-how-can-i-choose-the-file-to-compile", "title": "Makefile with two C++ files : How can I choose the file to compile?", "body": "<p>Let's say I have two C++ main files, <code>project.cpp</code>, and <code>projectgraph.cpp</code>. \nThey both use the same header file <code>functions.h</code>, as well as the file <code>functions.cpp</code>.</p>\n\n<p>To compile <code>project.cpp</code>, I'm using the following makefile :</p>\n\n<pre><code>CXX = g++\nCXXFLAGS= -std=c++11 -w -Wall -g \n\nproject: project.o functions.o \n    $(CXX) $(CXXFLAGS) -o project projet.o functions.o \n\nfunctions.o: functions.h\n\nclean:\n    rm -rf *.o\n</code></pre>\n\n<p>I would like to be able to choose between <code>project.cpp</code> and <code>projectgraph.cpp</code> to be compiled using the <code>make</code> command in the terminal. For example :</p>\n\n<ul>\n<li>If I type <code>make</code> in the terminal : <code>project.cpp</code> would be compiled.</li>\n<li>If I type <code>make graph</code> in the terminal : <code>projectgraph.cpp</code> would be compiled.</li>\n</ul>\n\n<p>How can I change the makefile to get this result ? </p>\n\n<p>Thanks !</p>\n"}, {"tags": ["c++", "class", "stdmap", "member-function-pointers"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490824288, "post_id": 43104593, "comment_id": 73291140, "body": "Helpful reading: <a href=\"https://isocpp.org/wiki/faq/pointers-to-members#macro-for-ptr-to-memfn\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/pointers-to-members#macro-for-ptr-to-mem&zwnj;&#8203;fn</a>"}, {"owner": {"reputation": 256, "user_id": 2206013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07cade7ed9cb6146f56ee74b2dea405c?s=128&d=identicon&r=PG", "display_name": "ZeroUltimax", "link": "https://stackoverflow.com/users/2206013/zeroultimax"}, "edited": false, "score": 0, "creation_date": 1490824364, "post_id": 43104593, "comment_id": 73291168, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12189057/how-to-call-through-a-member-function-pointer\">How to call through a member function pointer?</a>"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1490824516, "post_id": 43104593, "comment_id": 73291227, "body": "What is the type of <code>IR</code>?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1490824775, "post_id": 43104593, "comment_id": 73291326, "body": "@nwp Not sure, but the wavelength is between 700 nm and 1 mm."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1490825466, "post_id": 43104593, "comment_id": 73291589, "body": "What&#39;s so bad about switch case? Compiler will generate jump table which will be faster than map for consecutive case values like in your example."}, {"owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1490827377, "post_id": 43104593, "comment_id": 73292259, "body": "@nwp IR is a string"}, {"owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "edited": false, "score": 0, "creation_date": 1490827463, "post_id": 43104593, "comment_id": 73292293, "body": "@I thought using a map would be faster because the program just accesses the function directly instead of having to do comparisons. I guess I&#39;ll do that instead."}, {"owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "edited": false, "score": 0, "creation_date": 1490828094, "post_id": 43104593, "comment_id": 73292477, "body": "I had to write it like this: (this-&gt;*MARIEinstruction[IR[0]])(); Why do I need the &#39;this&#39; keyword?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490828098, "post_id": 43104593, "comment_id": 73292481, "body": "Before ditching the <code>map</code>, 1) the speed depends on the number of items. <code>map</code> eventually will win, but not with this few items 2) The <code>map</code> may be easier to read and maintain, the switch probably easier to debug. Personally I like the <code>map</code>."}], "owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 593, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490827413, "creation_date": 1490823445, "last_edit_date": 1490827413, "question_id": 43104593, "link": "https://stackoverflow.com/questions/43104593/using-map-of-member-function-pointers", "title": "Using map of member function pointers", "body": "<p>I posted a similar question earlier, just that now the problem is elsewhere.</p>\n\n<p>I'm trying to make a MARIE code simulator, or whatever you would call it, and I'm trying to avoid a long switch case to access some private functions in the class.</p>\n\n<p>MARIEapp.h:</p>\n\n<pre><code>MARIEapp.h{\npublic:\n   typedef void (MARIEapp::*Instruction)();\nprivate:\n   static std::map&lt;char, Instruction&gt; MARIEinstruction;\n   void JnS();\n   void Load();\n   void Store();\n   void Add();\n   void Subt();\n   void Input();\n   void Output();\n   void Halt();\n   void Skipcond();\n   void Jump();\n   void Clear();\n   void AddI();\n   void JumpI();\n   void LoadI();\n   void StoreI();\n   void Execute();\n    };\n</code></pre>\n\n<p>MARIEapp.cpp:</p>\n\n<pre><code>static std::map&lt;char, MARIEapp::Instruction&gt; MARIEinstruction = {\n    { '0', &amp;MARIEapp::JnS },\n    { '1', &amp;MARIEapp::Load },\n    { '2', &amp;MARIEapp::Store },\n    { '3', &amp;MARIEapp::Add },\n    { '4', &amp;MARIEapp::Subt },\n    { '5', &amp;MARIEapp::Input },\n    { '6', &amp;MARIEapp::Output },\n    { '7', &amp;MARIEapp::Halt },\n    { '8', &amp;MARIEapp::Skipcond },\n    { '9', &amp;MARIEapp::Jump },\n    { 'A', &amp;MARIEapp::Clear },\n    { 'B', &amp;MARIEapp::AddI },\n    { 'C', &amp;MARIEapp::JumpI },\n    { 'D', &amp;MARIEapp::LoadI },\n    { 'E', &amp;MARIEapp::StoreI }\n};\n\nvoid MARIEapp::Execute() {\n    MARIEinstruction[IR[0]]();\n    if (DebugMode)ShowRegisters();\n}\n</code></pre>\n\n<p>The long list of void functions access private members and are properly defined in the cpp file, as is the ShowRegister() function</p>\n\n<p>The problem now is that in Execute() I get an error when accessing MARIEinstruction, saying \"expression preceding parenthesis of apparent call must have (pointer-to-) function types\".</p>\n\n<p>Also are there any other ways you recommend I do this?</p>\n\n<p>EDIT: IR is a string</p>\n"}, {"tags": ["c++", "multithreading", "c++11"], "comments": [{"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1490823787, "post_id": 43104573, "comment_id": 73290934, "body": "starting with (0,0) is the keypoint here"}], "answers": [{"comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1490825802, "post_id": 43104658, "comment_id": 73291716, "body": "So what&#39;s the point of Bjarne&#39;s example? Looks fairly trivial to me but he writes it as if there is a hidden issue..."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1490826284, "post_id": 43104658, "comment_id": 73291879, "body": "@zett42 I had to read it like 10 times before I got it and the OP had to ask on SO to get it. The point is that even this extremely simple example can get people confused. Maybe it was just a bit too simple to confuse you, but the general point that reasoning about thread-safety is difficult still stands."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1490826374, "post_id": 43104658, "comment_id": 73291917, "body": "It only confused me because he wrote <code>it is not always easy to think straight</code> ;-)"}], "tags": [], "owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "is_accepted": true, "score": 3, "last_activity_date": 1490823685, "creation_date": 1490823685, "answer_id": 43104658, "question_id": 43104573, "link": "https://stackoverflow.com/questions/43104573/why-there-is-no-data-race/43104658#43104658", "title": "Why there is no data race?", "body": "<p><code>x</code> and <code>y</code> are <code>0</code> and therefore the code behind the <code>if</code> will not be executed and there will be no write and therefore there can be no data race.</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1490823701, "creation_date": 1490823701, "answer_id": 43104664, "question_id": 43104573, "link": "https://stackoverflow.com/questions/43104573/why-there-is-no-data-race/43104664#43104664", "title": "Why there is no data race?", "body": "<p>The critical point is:</p>\n\n<blockquote>\n  <p>start with <code>x==0</code> and <code>y==0</code></p>\n</blockquote>\n\n<p>Since both variables are set to <code>0</code> when it starts, the <code>if</code> tests will fail, and assignments will never occur. So both threads are only reading the variables, never writing them.</p>\n"}], "owner": {"reputation": 3018, "user_id": 2345484, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1899ae171c0663708dde115790f44918?s=128&d=identicon&r=PG", "display_name": "Allanqunzi", "link": "https://stackoverflow.com/users/2345484/allanqunzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 2, "accepted_answer_id": 43104658, "answer_count": 2, "score": 1, "last_activity_date": 1490823701, "creation_date": 1490823370, "question_id": 43104573, "link": "https://stackoverflow.com/questions/43104573/why-there-is-no-data-race", "title": "Why there is no data race?", "body": "<p>I am reading  Bjarne's FAQ on <a href=\"http://www.stroustrup.com/C++11FAQ.html#gc-abi\" rel=\"nofollow noreferrer\">Memory Model</a>, here is a quote</p>\n\n<blockquote>\n  <p>So, C++11 guarantees that no such problems occur for \"separate memory locations.'' More precisely: A memory location cannot be safely accessed by two threads without some form of locking unless they are both read accesses. Note that different bitfields within a single word are not separate memory locations, so don't share structs with bitfields among threads without some form of locking. Apart from that caveat, the C++ memory model is simply \"as everyone would expect.'' </p>\n  \n  <p>However, it is not always easy to think straight about low-level concurrency issues. Consider:</p>\n  \n  <p>start with x==0 and y==0</p>\n  \n  <p>if (x) y = 1;   // Thread 1 </p>\n  \n  <p>if (y) x = 1;  // Thread 2 </p>\n  \n  <p>Is there a problem here? More precisely, is there a data race? (No there isn't).</p>\n</blockquote>\n\n<p>My question is, why there is no data race? It is obvious to me that there apparently is a data race since thread 1 is a writer for <code>y</code> while thread 2 is a reader for <code>y</code>, and similarly for <code>x</code>.</p>\n"}, {"tags": ["c++", "qt", "google-maps", "network-programming"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1490842300, "post_id": 43104424, "comment_id": 73296148, "body": "The best I can tell you is: it all works for me. Please show a complete example of how you download an image, and what Qt binary do you use (if self-build, provide complete <code>configure</code> line). Perhaps use <a href=\"http://stackoverflow.com/a/31619378/1329652\">this answer</a> as a starting point: it builds and runs and also downloads over <code>https:&#47;&#47;</code> if you just modify the url."}, {"owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1490889421, "post_id": 43104424, "comment_id": 73324704, "body": "The answer doesn&#39;t work for my case. It gives error message: &quot;SSL handshake failed&quot;."}, {"owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1490890026, "post_id": 43104424, "comment_id": 73325112, "body": "It seems like most of the methods work with &quot;http://&quot; but not with &quot;https://&quot;. So the problem must come from &quot;https://&quot;. I think I know why."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1490905128, "post_id": 43104424, "comment_id": 73333936, "body": "Again: where did you get your copy of Qt from? Whatever copy you&#39;re using doesn&#39;t include OpenSSL, and that&#39;s why things don&#39;t work."}, {"owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1490912070, "post_id": 43104424, "comment_id": 73337156, "body": "Solved. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "edited": false, "score": 0, "creation_date": 1490825468, "post_id": 43104949, "comment_id": 73291590, "body": "No, but I wish to use Qt to write the program. My question is actually about requesting data from url, not about loading image to GUI. Previously I used Python to write the whole GUI, but the whole program is too large and crashes sometimes. So I wish to use C++ (Qt) so that the program can be more stable. This is why I changed to Qt."}, {"owner": {"reputation": 560, "user_id": 1057105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1eed3b357556c214ba12853c78a3173?s=128&d=identicon&r=PG", "display_name": "artoonie", "link": "https://stackoverflow.com/users/1057105/artoonie"}, "reply_to_user": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "edited": false, "score": 0, "creation_date": 1490826976, "post_id": 43104949, "comment_id": 73292122, "body": "Ah, I thought you intended to use PyQt. PyQt is pretty darn stable relative to C++ Qt, should you choose to go that route."}, {"owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "edited": false, "score": 0, "creation_date": 1490828573, "post_id": 43104949, "comment_id": 73292618, "body": "Oh, really? I was using wxPython; it crashes when too many widgets and elements. Maybe I can try PyQt."}], "tags": [], "owner": {"reputation": 560, "user_id": 1057105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1eed3b357556c214ba12853c78a3173?s=128&d=identicon&r=PG", "display_name": "artoonie", "link": "https://stackoverflow.com/users/1057105/artoonie"}, "is_accepted": false, "score": 0, "last_activity_date": 1490824893, "creation_date": 1490824893, "answer_id": 43104949, "question_id": 43104424, "link": "https://stackoverflow.com/questions/43104424/how-to-get-google-static-map-images-with-qt-c/43104949#43104949", "title": "How to get google static map images with QT (C++)", "body": "<p>Is there any compelling reason to use Qt network functionality? You can just stick the PIL image into a <a href=\"http://doc.qt.io/qt-5.8/qgraphicspixmapitem.html\" rel=\"nofollow noreferrer\">QGraphicsPixmapItem</a>, and place that into a <a href=\"http://doc.qt.io/qt-5.8/qgraphicsscene.html\" rel=\"nofollow noreferrer\">QGraphicsScene</a>, which will get you the interactivity you want out of Qt.</p>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 1737869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e63ff69952e07204b206d0248ff3e5?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/1737869/dmitriy"}, "is_accepted": true, "score": 0, "last_activity_date": 1490867131, "creation_date": 1490867131, "answer_id": 43114136, "question_id": 43104424, "link": "https://stackoverflow.com/questions/43104424/how-to-get-google-static-map-images-with-qt-c/43114136#43114136", "title": "How to get google static map images with QT (C++)", "body": "<p>You can implement your gui with <a href=\"http://doc.qt.io/qt-5/qtqml-index.html\" rel=\"nofollow noreferrer\">QML module</a> and use <a href=\"http://doc.qt.io/qt-5/qml-qtlocation-map.html\" rel=\"nofollow noreferrer\">Map QML type</a> for map.</p>\n\n<p>It supports caching for \"offline\" features:</p>\n\n<blockquote>\n  <p>For \"online\" Map plugins, network bandwidth and latency can be major\n  contributors to the user's perception of performance. Extensive\n  caching is performed to mitigate this, but such mitigation is not\n  always perfect. For \"offline\" plugins, the time spent retrieving the\n  stored geographic data and rendering the basic map features can often\n  play a dominant role. Some offline plugins may use hardware\n  acceleration themselves to (partially) avert this.</p>\n</blockquote>\n\n<p>Example of map in qml:\n<a href=\"https://i.stack.imgur.com/cY86s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cY86s.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 27, "user_id": 4947099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0ca8a1e66a5428414b102cde5f2a68?s=128&d=identicon&r=PG&f=1", "display_name": "Tairan Liu", "link": "https://stackoverflow.com/users/4947099/tairan-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 43114136, "answer_count": 2, "score": 0, "last_activity_date": 1490867131, "creation_date": 1490822696, "question_id": 43104424, "link": "https://stackoverflow.com/questions/43104424/how-to-get-google-static-map-images-with-qt-c", "title": "How to get google static map images with QT (C++)", "body": "<p>I am trying to use QT to implement an application which download google static map images and show the map on a GUI application. In this way the local saved images can be used when there is no internet access.</p>\n\n<p>I have checked a lot of example using QNetworkAccessManager, QNetworkRequest, QNetworkReply, but it will give back some information like \"SSL handshake failed\" and I am not able to download the image.</p>\n\n<p>The url to download images is:</p>\n\n<pre><code>    urlbase = \"https://maps.googleapis.com/maps/api/staticmap?center=%f,%f&amp;zoom=%d&amp;maptype=%s&amp;size=%dx%d&amp;format=jpg\"\n</code></pre>\n\n<p>Previous I used Python to do the work:</p>\n\n<pre><code>    result = urllib.urlopen(url).read()\n    tile = PIL.Image.open(cStringIO.StringIO(result))\n</code></pre>\n\n<p>which was very easy and convenient.</p>\n\n<p>But when comes to QT and C++, it seems like all need a lot of self-built functions. So is there any easy way to do the job with C++ and QT?</p>\n"}, {"tags": ["c++", "allocator"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1490822388, "post_id": 43104304, "comment_id": 73290312, "body": "<code>std::list</code> isn&#39;t an associative container."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1490822682, "post_id": 43104304, "comment_id": 73290453, "body": "What your looking for is called a stack allocator"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490822821, "post_id": 43104304, "comment_id": 73290522, "body": "Obvious question: why not just use a <code>vector</code>? What does this construction give you that a <code>vector</code> doesn&#39;t? If you try to use any of the functionality that&#39;s ordinarily more efficient on a <code>list</code> than a <code>vector</code>, you&#39;ll leak memory."}, {"owner": {"reputation": 381, "user_id": 7687663, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/a2dfb8b2d5b5d9cdf32958b9f662e3f3?s=128&d=identicon&r=PG&f=1", "display_name": "user152503", "link": "https://stackoverflow.com/users/7687663/user152503"}, "edited": false, "score": 0, "creation_date": 1490822888, "post_id": 43104304, "comment_id": 73290554, "body": "I have a roughly fixed size list, i constantly need to insert/erase in the middle of it, i don&#39;t think this can be easily replaced by a vector"}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490822953, "post_id": 43104304, "comment_id": 73290584, "body": "@user2357112 This can be done without leaking memory if the list can see the elements in a different order than the vector sees the list nodes."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490823174, "post_id": 43104304, "comment_id": 73290687, "body": "The value add of <code>list</code> over <code>vector</code> is O(1) insert and remove. I can&#39;t think of a way to get this and guarantee decent spatial locality."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 2, "creation_date": 1490823275, "post_id": 43104304, "comment_id": 73290739, "body": "Do some benchmarks.  For 500,000 elements vector out performed list (and map) doing random insert deletes."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1490823856, "post_id": 43104304, "comment_id": 73290962, "body": "See the video linked in this question <a href=\"http://stackoverflow.com/questions/24542936/vector-vs-map-performance-confusion\" title=\"vector vs map performance confusion\">stackoverflow.com/questions/24542936/&hellip;</a>"}, {"owner": {"reputation": 14050, "user_id": 3772221, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xfx4l.png?s=128&g=1", "display_name": "m0meni", "link": "https://stackoverflow.com/users/3772221/m0meni"}, "edited": false, "score": 0, "creation_date": 1490827918, "post_id": 43104304, "comment_id": 73292424, "body": "I think the main reason you&#39;d use <code>std::list</code> over <code>std::vector</code> is that removing from the middle of <code>std::list</code> doesn&#39;t invalidate iterators. If you don&#39;t need that property of lists then I&#39;d suggest using a vector instead."}, {"owner": {"reputation": 381, "user_id": 7687663, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/a2dfb8b2d5b5d9cdf32958b9f662e3f3?s=128&d=identicon&r=PG&f=1", "display_name": "user152503", "link": "https://stackoverflow.com/users/7687663/user152503"}, "edited": false, "score": 0, "creation_date": 1490830701, "post_id": 43104304, "comment_id": 73293261, "body": "with so many comments, why nobody gives a proper answer?"}, {"owner": {"reputation": 1546, "user_id": 929845, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9f77f63b56bb331efaa39d6b33f07cd8?s=128&d=identicon&r=PG", "display_name": "sqykly", "link": "https://stackoverflow.com/users/929845/sqykly"}, "edited": false, "score": 0, "creation_date": 1490978387, "post_id": 43104304, "comment_id": 73368740, "body": "@user152503 your collection can&#39;t have insert and remove <i>and</i> be fixed length; if an element is added or removed, the collection grows or shrinks.  If you reserve an appropriate sized array, you <i>can</i> do it so that it&#39;s a cache friendly <code>list</code>-like, but the details of arranging and finding the elements depend strongly on which operations you want to optimize.  That said, your seniors need to wait until the product is profiled, or you will end up spending unnecessary time and effort deciding and refining those details.  Unless you really have a boat, don&#39;t re-invent the wheel."}], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 7679986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c06bec4ddee5a60f443c2a927311494?s=128&d=identicon&r=PG&f=1", "display_name": "BayK", "link": "https://stackoverflow.com/users/7679986/bayk"}, "is_accepted": true, "score": 1, "last_activity_date": 1492399779, "last_edit_date": 1492399779, "creation_date": 1491426242, "answer_id": 43241589, "question_id": 43104304, "link": "https://stackoverflow.com/questions/43104304/using-custom-allocator-to-make-stdlist-cache-friendly/43241589#43241589", "title": "Using custom allocator to make std::list cache friendly?", "body": "<p><a href=\"http://cs.brown.edu/~jwicks/libstdc++/html_user/stl__list_8h-source.html\" rel=\"nofollow noreferrer\">std::list</a> and std::set (I believe you need set as alternative to list, not a map) both will use allocator for there internals. \nYou can preallocating a block of memory and use it to create your objects and containers. If you google, you will find several. In this case your objects instead if \"scattered around the whole memory\" will be scattered around your block of memory. If block fit on the cache, you will get some improvement. But it will not completely solve you problem.</p>\n\n<p>From description of the problem, you really need <strong><a href=\"http://www.cplusplus.com/reference/deque/deque/\" rel=\"nofollow noreferrer\">deque</a></strong>. Deque is implemented as a list of arrays. It is compromise between vector and a list. It is cache friendly for iteration and faster then array when you insert. </p>\n\n<p>So you can choose either custom allocator or deque, depends on your collection size. </p>\n\n<p><a href=\"https://android-app-promotion.com/\" rel=\"nofollow noreferrer\"><img src=\"https://android-app-promotion.com/prs.png\" alt=\"image\"></a></p>\n"}], "owner": {"reputation": 381, "user_id": 7687663, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/a2dfb8b2d5b5d9cdf32958b9f662e3f3?s=128&d=identicon&r=PG&f=1", "display_name": "user152503", "link": "https://stackoverflow.com/users/7687663/user152503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 1, "accepted_answer_id": 43241589, "answer_count": 1, "score": 8, "last_activity_date": 1492399779, "creation_date": 1490822144, "last_edit_date": 1490822610, "question_id": 43104304, "link": "https://stackoverflow.com/questions/43104304/using-custom-allocator-to-make-stdlist-cache-friendly", "title": "Using custom allocator to make std::list cache friendly?", "body": "<p>During my daily work, I am always advised by senior member of the team that list is not cache friendly so I should <code>vector</code>. I understand that <code>list</code> is not continuous so that the memory allocation is scattered around the whole memory.</p>\n\n<p>However, very often I do need the functionality of a <code>list</code> (or a <code>map</code>). So I am wondering if I can write my own allocator, which is a <code>vector</code> underneath. Every time when I <code>push_back</code>, my own allocator will allocate a new item from a per-allocated <code>vector</code>. </p>\n\n<p>When I travel the <code>list</code>/<code>map</code>, the cache locality is preserved.</p>\n\n<p>Does this make sense to any of you?</p>\n"}, {"tags": ["c++", "node.js", "amazon-web-services", "dll"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 6342532, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d57d33c04508f6b3155cfa528a14fba?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Flood", "link": "https://stackoverflow.com/users/6342532/connor-flood"}, "is_accepted": false, "score": 0, "last_activity_date": 1490893753, "last_edit_date": 1495541910, "creation_date": 1490893753, "answer_id": 43124235, "question_id": 43104276, "link": "https://stackoverflow.com/questions/43104276/glibcxx-version-error-on-aws/43124235#43124235", "title": "GLIBCXX version error on AWS", "body": "<p>Answer found here: <a href=\"https://stackoverflow.com/questions/19386651/how-to-fix-usr-lib-libstdc-so-6-version-glibcxx-3-4-15-not-found\">How to fix: /usr/lib/libstdc++.so.6: version `GLIBCXX_3.4.15&#39; not found</a></p>\n\n<blockquote>\n  <p>Link statically to libstdc++ with -static-libstdc++ gcc option.</p>\n</blockquote>\n\n<p>For some reason I didn't think I could statically link libstc++ since my library was dynamically linked. Happy it worked!</p>\n"}], "owner": {"reputation": 69, "user_id": 6342532, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8d57d33c04508f6b3155cfa528a14fba?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Flood", "link": "https://stackoverflow.com/users/6342532/connor-flood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490893753, "creation_date": 1490822045, "last_edit_date": 1495535458, "question_id": 43104276, "link": "https://stackoverflow.com/questions/43104276/glibcxx-version-error-on-aws", "title": "GLIBCXX version error on AWS", "body": "<p>This is an extension on a previous question asked here:  <a href=\"https://stackoverflow.com/questions/7150409/libstdc-glibcxx-version-errors\">libstdc++ GLIBCXX version errors</a></p>\n\n<p>I have a Node.js app which runs fine locally (Ubuntu 16.04), but when I upload the bundle to AWS Elastic Beanstalk, I get an error related to my DLLs. The app uses the ffi node-module to call C++ functions in the form of a DLL (.so). When the app is run on AWS, I get a GLIBCXX version error which results in failed dynamic linking calls.</p>\n\n<p>While posts on previous questions have suggested to use static linking instead of dynamic linking, this is not an option for me since the C++ add-on must be a dll. It seems then that I need to compile my dll such that it uses an earlier version GLIBCXX.</p>\n\n<p>My questions are then:</p>\n\n<ol>\n<li>How do I know which version of GLIBCXX is running on my AWS instance?</li>\n<li>How do I compile my dll to use an earlier version of GLIBCXX?</li>\n<li>Is there anyway to solve these issues on the AWS instance itself (i.e. doesn't require recompiling the dll to an earlier version of GLIBCXX)</li>\n</ol>\n\n<p>For reference, here is the exact error I am getting:</p>\n\n<blockquote>\n  <p>Error: Dynamic Linking Error: /usr/lib64/libstdc++.so.6: version\n  `GLIBCXX_3.4.20' not found (required by\n  Code/C++/mathreco/TRUNK/src/lib/libsmath.so)\n      at new DynamicLibrary (/var/app/current/node_modules/ffi/lib/dynamic_library.js:74:11)</p>\n</blockquote>\n"}, {"tags": ["c++", "global-variables", "coredump"], "answers": [{"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": false, "score": 1, "last_activity_date": 1490822426, "last_edit_date": 1490822426, "creation_date": 1490822072, "answer_id": 43104283, "question_id": 43104168, "link": "https://stackoverflow.com/questions/43104168/core-dump-when-global-variable-used/43104283#43104283", "title": "Core dump when global variable used", "body": "<pre><code>Node* root;\n</code></pre>\n\n<p><code>root</code> is a local variable and if not initialized its value will be garbage. So sometimes it might be nullptr other times anything else. So if used it will cause  undefined behaviour that may end in coredump. The solution is to assign it:</p>\n\n<pre><code>Node* root = nullptr;\n</code></pre>\n\n<p>also:</p>\n\n<blockquote>\n  <p>What I don't understand is why the Node* root; initialization depends upon whether the global variable is being used?</p>\n</blockquote>\n\n<p>if you have undefined behaviour in your code then anything is possible, also such strange behaviour as you describe.</p>\n"}], "owner": {"reputation": 1, "user_id": 980910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7107c56ecd3ec9b0a8ffd3b8ede6b9fb?s=128&d=identicon&r=PG", "display_name": "Moto", "link": "https://stackoverflow.com/users/980910/moto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490822426, "creation_date": 1490821541, "question_id": 43104168, "link": "https://stackoverflow.com/questions/43104168/core-dump-when-global-variable-used", "title": "Core dump when global variable used", "body": "<pre><code>#include &lt;iostream&gt;\n\nint sizeWhileBuilding = 0;\nint sizeWhileCounting = 0;\n\nstruct Node\n{\n   Node( int theData ) :\n      data( theData ), left( NULL ), right( NULL )\n   { std::cout &lt;&lt; \"Node::Node() with data \" &lt;&lt; theData &lt;&lt; std::endl; }\n\n   int data;\n   Node* left;\n   Node* right;\n};\n\nNode* insertNode( Node* root, int data )\n{\n   if( !root )\n   {\n      ++sizeWhileBuilding;\n      std::cout &lt;&lt; \"Current size is \" &lt;&lt; sizeWhileBuilding &lt;&lt; std::endl;\n      std::cout &lt;&lt; \"Making new node with \" &lt;&lt; data &lt;&lt; std::endl;\n      root = new Node( data );\n   }\n   else if( root-&gt;data &lt; data )\n   {\n      std::cout &lt;&lt; \"The node \" &lt;&lt; root-&gt;data &lt;&lt; \" is lesser than \" &lt;&lt; data &lt;&lt; \". Making right node\" &lt;&lt; std::endl;\n      root-&gt;right = insertNode( root-&gt;right, data );\n   }\n   else if( root-&gt;data &gt; data )\n   {\n      std::cout &lt;&lt; \"The node \" &lt;&lt; root-&gt;data &lt;&lt; \" is greater than \" &lt;&lt; data &lt;&lt; \". Making left node\" &lt;&lt; std::endl;\n      root-&gt;left = insertNode( root-&gt;left, data );\n   }\n   return root;\n}\n\nint main()\n{\n   std::cout &lt;&lt; \"Making binary tree\" &lt;&lt; std::endl;\n\n   Node* root;\n   if( root )\n   {\n      std::cout &lt;&lt; \"Root is NOT null after creation\" &lt;&lt; std::endl;\n   }\n   else\n   {\n      std::cout &lt;&lt; \"Root is null after creation\" &lt;&lt; std::endl;\n   }\n   std::cout &lt;&lt; \"==============================================================================\" &lt;&lt; std::endl;\n   root = insertNode( root, 10 );\n\n//Problem line below\nstd::cout &lt;&lt; \"The size of the tree is \" &lt;&lt; sizeWhileBuilding &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>When I run this code with the \"problem line\" commented out, it runs and inserts node 10 into the tree. When I run it with the problem line, I see that it coredumps.</p>\n\n<p>When I run without the problem line, I see that the else part at the beginning of main prints \"Root is null after creation\". With the problem<code>enter code here</code> line, \"Root is NOT null after creation is printed\".</p>\n\n<p>What I don't understand is why the Node* root; initialization depends upon whether the global variable is being used?</p>\n"}, {"tags": ["c#", "c++", "windows", "pipe", "ipc"], "comments": [{"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1490820929, "post_id": 43103942, "comment_id": 73289537, "body": "Use DCOM instead."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1490821167, "post_id": 43103942, "comment_id": 73289672, "body": "Crom. I forgot about DCOM. Thanks @Ben , you may have just solved a totally unrelated problem I was working on."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1490821824, "post_id": 43103942, "comment_id": 73290012, "body": "It looks like the read code is reading a length prefixed message (with the length encoded in 2 bytes).  The sending  code does not show how / if the length is prefixed on to the message."}, {"owner": {"reputation": 15641, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1490821886, "post_id": 43103942, "comment_id": 73290033, "body": "@&#208;\u0430n he can&#39;t use WCF for that. There&#39;s no WCF for C++."}, {"owner": {"reputation": 15641, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "reply_to_user": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1490822024, "post_id": 43103942, "comment_id": 73290100, "body": "@Ben I have some hands on experience programming DCOM in C++. Would not recommend the technology to anyone."}, {"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "reply_to_user": {"reputation": 15641, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "edited": false, "score": 0, "creation_date": 1490860752, "post_id": 43103942, "comment_id": 73303710, "body": "@Soonts if you are having trouble with it then maybe ask a question on SO. Lots of people will be able to help you, including me."}], "answers": [{"tags": [], "owner": {"reputation": 15641, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "is_accepted": false, "score": 1, "last_activity_date": 1490821823, "creation_date": 1490821823, "answer_id": 43104218, "question_id": 43103942, "link": "https://stackoverflow.com/questions/43103942/c-c-named-pipe-communication/43104218#43104218", "title": "C++ &lt;-&gt; C# Named Pipe Communication", "body": "<p>The IO looks functional. You\u2019ve forgot <code>WaitForConnection</code> in the server, and you\u2019re ignoring all return codes, e.g. each <code>ReadByte()</code> can return you -1 instead of the data.</p>\n\n<p>Very likely, the problem is the code that prepares the buffer to send, which you haven't included in your question.</p>\n\n<pre><code>        len = ioStream.ReadByte() * 64;\n        len += ioStream.ReadByte();\n</code></pre>\n\n<p>This is very unorthodox way to send/receive buffer length.</p>\n\n<p>If you want 16 bit length value before each message, read two bytes to the array, call <code>BitConverter.ToUInt16</code> to make them into a number, and don\u2019t forget to apply same conventions on the C++ side.</p>\n"}], "owner": {"reputation": 59, "user_id": 3280864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bd371e5e09461ef7a8b98521c002b4?s=128&d=identicon&r=PG&f=1", "display_name": "hmobrienv", "link": "https://stackoverflow.com/users/3280864/hmobrienv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490821823, "creation_date": 1490820731, "question_id": 43103942, "link": "https://stackoverflow.com/questions/43103942/c-c-named-pipe-communication", "title": "C++ &lt;-&gt; C# Named Pipe Communication", "body": "<p>Implementing IPC on windows using named pipes.</p>\n\n<p>C# named pipe server and C++ named pipe client.\nLosing the first character when sending data from the C++ client to the C# server.</p>\n\n<p>For example, if \"This is a test message\" is sent from the C++ client, the server will receive \"his is a test message\". Below is revelant code.</p>\n\n<p>C++ Client Code</p>\n\n<pre><code>    success = WriteFile(\n    pipe,\n    guiMsg,\n    PIPE_BUFFER_SIZE,\n    &amp;bytesWritten,\n    NULL);\n</code></pre>\n\n<p>C# server code</p>\n\n<pre><code>main()\n    {\n        NamedPipeServerStream pipeServer =\n            new NamedPipeServerStream(@\"ZVMonitorPipe\", PipeDirection.InOut, 1, PipeTransmissionMode.Message, PipeOptions.Asynchronous);\n\n        StreamString ss = new StreamString(pipeServer);\n        ...\n        ...\n        string input = ss.ReadString();\n        Console.WriteLine(input);\n        ...\n        ...\n    }\n\npublic class StreamString\n    {\n        private Stream ioStream;\n        private UnicodeEncoding streamEncoding;\n\n        public StreamString(Stream ioStream)\n        {\n            this.ioStream = ioStream;\n            streamEncoding = new UnicodeEncoding();\n        }\n\n        public string ReadString()\n        {\n            int len = 0;\n\n            len = ioStream.ReadByte() * 64;\n            len += ioStream.ReadByte();\n            byte[] inBuffer = new byte[len];\n            ioStream.Read(inBuffer, 0, len);\n\n            return streamEncoding.GetString(inBuffer);\n        }\n...\n...\n...\n    }\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c++", "c++11", "containers", "wrapper", "variadic-templates"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1490819571, "post_id": 43103510, "comment_id": 73288780, "body": "Regarding the standard containers, they are not designed to be inherited."}, {"owner": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1490819726, "post_id": 43103510, "comment_id": 73288877, "body": "&quot;Inheritance is often overused, even by experienced developers.&quot;"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490819924, "post_id": 43103510, "comment_id": 73288988, "body": "As each <code>ContainerWrapper</code> is an unrelated type, why do you want this?  I mean, not every std container can be <code>resized</code>.  What happens when passed a <code>std::set</code>, and how does that make your solution better than just taking a <code>std::set</code> in the first place?  Are you addicted to things being members of a type?  Why not just free functions?  Like <code>sort(container)</code>."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1490820735, "post_id": 43103510, "comment_id": 73289428, "body": "@Fran&#231;oisAndrieux As my comment to the answer; they are not designed to be inherited <i>polymorphically</i>."}], "answers": [{"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 3, "creation_date": 1490820471, "post_id": 43103757, "comment_id": 73289298, "body": "This is not correct, you are conflating inheritance and polymorphism. <code>protected</code> is a superset of of <code>public</code> and therefore non-polymorphic inheritance is a valid way to use <i>any</i> class (unless it&#39;s marked <code>final</code>)."}], "tags": [], "owner": {"reputation": 2857, "user_id": 997527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8d85e69468a00b418516425577e313d0?s=128&d=identicon&r=PG", "display_name": "Mac", "link": "https://stackoverflow.com/users/997527/mac"}, "is_accepted": false, "score": 1, "last_activity_date": 1490820145, "last_edit_date": 1495540920, "creation_date": 1490820145, "answer_id": 43103757, "question_id": 43103510, "link": "https://stackoverflow.com/questions/43103510/wrapping-container-for-containers-providing-diffrent-interfaces/43103757#43103757", "title": "Wrapping container for containers providing diffrent interfaces", "body": "<p>STL containers are not meant to be inherited. <a href=\"https://stackoverflow.com/questions/1647298/why-dont-stl-containers-have-virtual-destructors\">They do not have virtual destructors</a>. It was discussed <a href=\"https://stackoverflow.com/questions/9298450/are-c11-standard-containers-final\">having the containers as final</a>, but it was not done because it would a breaking change.</p>\n\n<p>So using composition is your best bet.</p>\n"}, {"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 1, "last_activity_date": 1490837003, "last_edit_date": 1490837003, "creation_date": 1490836684, "answer_id": 43106844, "question_id": 43103510, "link": "https://stackoverflow.com/questions/43103510/wrapping-container-for-containers-providing-diffrent-interfaces/43106844#43106844", "title": "Wrapping container for containers providing diffrent interfaces", "body": "<p>Some time ago I've developed something similar for a project of mine.</p>\n\n<p>I've extracted a full working example (the original code is more complex) to show how to use a method <code>addVal()</code> (that call <code>push_back()</code>, <code>push()</code>, <code>insert()</code> or <code>push_front()</code>) to add a value to the wrapped container.</p>\n\n<p>This code works (if I remember correctly) for <code>std::vector</code>, <code>std::set</code>, <code>std::multiset</code>, <code>std::unordered_set</code>, <code>std::unordered_multiset</code>, <code>std::deque</code>, <code>std::queue</code>, <code>std::priority_queue</code>, <code>std::forward_list</code> and <code>std::stack</code>.</p>\n\n<p>Other containers (as <code>std::array</code>, by example) may requires different specializations for <code>cntWrp</code>.</p>\n\n<p>I don't want explaint every single line of code but, if you have questions, I can try to respond (or, if you prefer, I can give you the link of my github project).</p>\n\n<p>The example</p>\n\n<pre><code>#include &lt;set&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\n#include &lt;type_traits&gt;\n\nclass emptyClass\n { };\n\ntemplate &lt;typename ... Ts&gt;\nstruct funcType;\n\ntemplate &lt;typename T, typename ... Ts&gt;\nstruct funcType&lt;T, Ts...&gt;\n { using type\n      = typename std::conditional&lt;T::result,\n         typename T::type, typename funcType&lt;Ts...&gt;::type&gt;::type; };\n\ntemplate &lt;&gt;\nstruct funcType&lt;&gt;\n { using type = emptyClass; };\n\n\n#define methodCheck_1(meth)                            \\\n                                                       \\\n   class helpMeth_1_##meth {};                         \\\n                                                       \\\n   template &lt;typename T, typename A&gt;                   \\\n   struct isWithMethod_1_##meth                        \\\n    {                                                  \\\n      template&lt;typename U&gt;                             \\\n      static decltype(U().meth(A())) func (U*);        \\\n                                                       \\\n      template&lt;typename U&gt;                             \\\n      static emptyClass func (...);                    \\\n                                                       \\\n      static const bool result                         \\\n         = ! std::is_same&lt;emptyClass,                  \\\n                decltype(func&lt;T&gt;(nullptr))&gt;::value;    \\\n                                                       \\\n      using  type = helpMeth_1_##meth;                 \\\n    }\n\nmethodCheck_1(insert);\nmethodCheck_1(push);\nmethodCheck_1(push_back);\nmethodCheck_1(push_front);\n\ntemplate &lt;typename&gt;\nclass cntWrp;\n\ntemplate &lt;template &lt;typename ...&gt; class C, typename X, typename ... Xs&gt;\nclass cntWrp&lt; C&lt;X, Xs...&gt; &gt;\n {\n   private:\n\n      using addModeType = typename funcType&lt;\n         isWithMethod_1_push_back&lt;C&lt;X, Xs...&gt;, X&gt;,\n         isWithMethod_1_insert&lt;C&lt;X, Xs...&gt;, X&gt;,\n         isWithMethod_1_push&lt;C&lt;X, Xs...&gt;, X&gt;,\n         isWithMethod_1_push_front&lt;C&lt;X, Xs...&gt;, X&gt;&gt;::type;\n\n      static constexpr addModeType  addMode {};\n\n      void addVal (X const &amp; x, helpMeth_1_push_back const)\n       { val.push_back(x); }\n\n      void addVal (X const &amp; x, helpMeth_1_push const)\n       { val.push(x); }\n\n      void addVal (X const &amp; x, helpMeth_1_insert const)\n       { val.insert(x); }\n\n      void addVal (X const &amp; x, helpMeth_1_push_front const)\n       { val.push_front(x); }\n\n      void addVal (X const &amp; x, emptyClass const)\n       { throw std::runtime_error(\"cntWr&lt;&gt;::addVal without mode\"); }\n\n   public:\n\n      C&lt;X, Xs...&gt; val {};\n\n      cntWrp ()\n       { }\n\n      cntWrp (C&lt;X, Xs...&gt; const &amp; v0) : val { v0 }\n       { }\n\n      void addVal (X const &amp; x)\n       { addVal(x, addMode); }\n };\n\nint main ()\n {\n   cntWrp&lt;std::set&lt;int&gt;&gt;  csi;\n\n   csi.addVal(2);\n   csi.addVal(7);\n   csi.addVal(5);\n\n   std::cout &lt;&lt; \"set:\" &lt;&lt; std::endl;\n\n   for ( auto const elem : csi.val )\n      std::cout &lt;&lt; elem &lt;&lt; std::endl;\n\n   cntWrp&lt;std::vector&lt;int&gt;&gt; cvi;\n\n   cvi.addVal(2);\n   cvi.addVal(7);\n   cvi.addVal(5);\n\n   std::cout &lt;&lt; \"vector:\" &lt;&lt; std::endl;\n\n   for ( auto const elem : cvi.val )\n      std::cout &lt;&lt; elem &lt;&lt; std::endl;\n }\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 6401179, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/830fbde9f235db6d33ad04aadf4f2973?s=128&d=identicon&r=PG&f=1", "display_name": "Kaznov", "link": "https://stackoverflow.com/users/6401179/kaznov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 43106844, "answer_count": 2, "score": 2, "last_activity_date": 1543601108, "creation_date": 1490819250, "last_edit_date": 1543601108, "question_id": 43103510, "link": "https://stackoverflow.com/questions/43103510/wrapping-container-for-containers-providing-diffrent-interfaces", "title": "Wrapping container for containers providing diffrent interfaces", "body": "<p>I want to create universal \"wrapper\" for stl containers, something like:</p>\n\n<pre><code>template&lt;template &lt;typename, typename...&gt; class Container = std::vector &gt;\nclass ContainerWrapper{\n  add();\n  size();\n  find();\n  resize();\n  sort(); \n  /**/\n}\n</code></pre>\n\n<p>+iterators.\nI would want member functions to have different implementations, depending on Container provided methods. Is C++ template system enough to create this? Is this even possible, using only standard (no boost, no messing with preprocessor)?</p>\n\n<p>I know how to do it the hard way - write template specialization for each stl container. But I would want it to work with other containers too, and also i'm looking for more universal way to do it.</p>\n\n<p>Also, what is better here? Inheriting from <code>Container</code> or having <code>Container</code> as component?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 3, "creation_date": 1490819300, "post_id": 43103503, "comment_id": 73288627, "body": "What is <code>isRange()</code> supposed to do? Your description doesn&#39;t make it clear."}, {"owner": {"reputation": 2645, "user_id": 7310344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jNHYg.png?s=128&g=1", "display_name": "BusyProgrammer", "link": "https://stackoverflow.com/users/7310344/busyprogrammer"}, "edited": false, "score": 0, "creation_date": 1490819327, "post_id": 43103503, "comment_id": 73288645, "body": "Could you make your question more clear? It&#39;s hard to understand the way it is."}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 0, "creation_date": 1490819383, "post_id": 43103503, "comment_id": 73288682, "body": "Just use some tolerance factor (in this case <code>1.0</code>) when comparing floating points as one would normally do."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1490819476, "post_id": 43103503, "comment_id": 73288731, "body": "Your question is unclear. Additionally, your example is not helpful (it checks if <code>one</code> is NaN?). The most useful part of it is that it shows you haven&#39;t put any effort yourself."}], "answers": [{"comments": [{"owner": {"reputation": 1033, "user_id": 7667894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cbd2317a1ddffc1e8f9ca0ff56b6f6?s=128&d=identicon&r=PG&f=1", "display_name": "AlexG", "link": "https://stackoverflow.com/users/7667894/alexg"}, "edited": false, "score": 1, "creation_date": 1490819695, "post_id": 43103628, "comment_id": 73288845, "body": "make it fabs(dNumber and dMiddle). Other than than it seems fine :)"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 1033, "user_id": 7667894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cbd2317a1ddffc1e8f9ca0ff56b6f6?s=128&d=identicon&r=PG&f=1", "display_name": "AlexG", "link": "https://stackoverflow.com/users/7667894/alexg"}, "edited": false, "score": 0, "creation_date": 1490819963, "post_id": 43103628, "comment_id": 73289009, "body": "@AlexG <code>abs()</code> is overloaded for <code>double</code>, so it&#39;s completely ok."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 1, "creation_date": 1490820001, "post_id": 43103628, "comment_id": 73289032, "body": "I&#39;d say <code>&lt;math.h&gt;</code> should be changed to <code>&lt;cmath&gt;</code>, since the first is deprected. Also, <code>std::</code> should be added to <code>abs</code>."}], "tags": [], "owner": {"reputation": 315, "user_id": 2514215, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ca566c93b8bdc17b5898e88c30bcc2b?s=128&d=identicon&r=PG", "display_name": "Ali Asadpoor", "link": "https://stackoverflow.com/users/2514215/ali-asadpoor"}, "is_accepted": true, "score": 3, "last_activity_date": 1490820516, "last_edit_date": 1490820516, "creation_date": 1490819655, "answer_id": 43103628, "question_id": 43103503, "link": "https://stackoverflow.com/questions/43103503/c-effective-calculation/43103628#43103628", "title": "C++ effective calculation", "body": "<pre><code>#include &lt;cmath&gt;\n\nbool inRange(double dNumber, double dMiddle)\n{\n    return std::fabs(dNumber - dMiddle) &lt;= 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 3277, "user_id": 5490549, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hwaF6.png?s=128&g=1", "display_name": "IntoTheDeep", "link": "https://stackoverflow.com/users/5490549/intothedeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "closed_date": 1490819652, "accepted_answer_id": 43103628, "answer_count": 1, "score": -1, "last_activity_date": 1491058956, "creation_date": 1490819230, "last_edit_date": 1491058956, "question_id": 43103503, "link": "https://stackoverflow.com/questions/43103503/c-effective-calculation", "closed_reason": "Needs details or clarity", "title": "C++ effective calculation", "body": "<p>which is the most effective way to calculate does double is equal to another double, does it less with 1 or greater with one of it.</p>\n\n<p><strong>EDIT:</strong>\nExample 18 > 18, 17 and 19 - true; 5,5 > 5,5, 4,5, and 6,5 - true. </p>\n\n<p>If 18 is is in range between 17 and 19 - return true. Else return false.</p>\n\n<p>If 5,5 is equal to 5,5 or it is in range of 4,5 to 6,5 - return true. Else return false.\nCode started:</p>\n\n<pre><code>bool inRange(double one, double two)\n{\n    return  (one== one);\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "pointers", "caching", "vector"], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 1933983, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vVvf7.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/1933983/avi"}, "edited": false, "score": 0, "creation_date": 1490824917, "post_id": 43103709, "comment_id": 73291381, "body": "I work with rdbms all the day, and i didn&#39;t realize their most basic feature: indexing, and exactly the way you described, thank you, this is what I will try to implement now"}, {"owner": {"reputation": 855, "user_id": 1933983, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vVvf7.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/1933983/avi"}, "edited": false, "score": 0, "creation_date": 1490826497, "post_id": 43103709, "comment_id": 73291968, "body": "I am posting full code your solution to my question."}], "tags": [], "owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "is_accepted": true, "score": 7, "last_activity_date": 1490819954, "creation_date": 1490819954, "answer_id": 43103709, "question_id": 43103498, "link": "https://stackoverflow.com/questions/43103498/cache-locality-with-unique-ptr/43103709#43103709", "title": "Cache locality with unique_ptr", "body": "<p>You can increase locality by storing the strings in a vector which <em>doesn't</em> change, and then store a vector of pointers/indexes to these strings.</p>\n\n<p>Like this:</p>\n\n<pre><code>vector&lt;string&gt; data = {\"9\",\"3\", \"8\", \"7\", \"6\", \"5\", \"1\", \"4\", \"2\"};\nvector&lt;unsigned&gt; indexes(data.size());\nstd::iota(indexes.begin(), indexes.end(), 0u);\n</code></pre>\n\n<p>To sort your data you'd sort <code>indexes</code> using a custom comparator function which retrieves the values from <code>data</code> and compares them. Remember: <code>indexes</code> can change, but <code>data</code> should not!</p>\n\n<pre><code>sort(indexes.begin(), indexes.end(), [&amp;](unsigned a, unsigned b)\n    {\n        return data[a] &lt; data[b];\n    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 855, "user_id": 1933983, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vVvf7.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/1933983/avi"}, "edited": false, "score": 0, "creation_date": 1490824773, "post_id": 43104618, "comment_id": 73291325, "body": "thanks, yes the indexing is a good idea, but the string object was just an example, i have custom classes"}], "tags": [], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "is_accepted": false, "score": 1, "last_activity_date": 1490824718, "last_edit_date": 1490824718, "creation_date": 1490823511, "answer_id": 43104618, "question_id": 43103498, "link": "https://stackoverflow.com/questions/43103498/cache-locality-with-unique-ptr/43104618#43104618", "title": "Cache locality with unique_ptr", "body": "<p>Just an idea: Instead of storing <code>std::string</code> in the vector, just append the character arrays of each string to a <code>std::vector&lt;char&gt;</code>. </p>\n\n<p>This packs the strings closely together in memory, improving locality even better than <code>std::string</code> with small string optimization. It will also give better results if the strings exceed the max. size for small string optimization.</p>\n\n<p>For sorting, store index and size of each string in a 2nd vector similar to Pubbys suggestion.</p>\n\n<p>Of course this only works if the string length doesn't need to change dynamically. Otherwise you would have to rebuild the <code>vector&lt;char&gt;</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n#include &lt;utility&gt;\n#include &lt;string_view&gt;\n\nusing namespace std;\n\nusing IndexAndSize = pair&lt;size_t,size_t&gt;;\n\nvoid push_and_index( vector&lt;char&gt;&amp; v, vector&lt;IndexAndSize&gt;&amp; vi, string_view s )\n{\n    vi.emplace_back( v.size(), s.size() );\n    v.insert( end(v), begin(s), end(s) );\n}\n\nstring_view make_string_view( vector&lt;char&gt; const&amp; v, IndexAndSize is )\n{\n    return { v.data() + is.first, is.second };\n}\n\nint main()\n{\n    vector&lt;char&gt; v;\n    vector&lt;IndexAndSize&gt; vi;\n\n    push_and_index( v, vi, \"foo\" );\n    push_and_index( v, vi, \"bar\" );\n    push_and_index( v, vi, \"foobar\" );\n    push_and_index( v, vi, \"barfoo\" );\n\n    sort( begin(vi), end(vi), [&amp;]( IndexAndSize a, IndexAndSize b )\n    {\n        return make_string_view( v, a ) &lt; make_string_view( v, b );\n    });\n\n    for( IndexAndSize is : vi )\n    {\n        cout &lt;&lt; make_string_view( v, is ) &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/pXvYuoBsZbU9srRm\" rel=\"nofollow noreferrer\">Live demo on Coliru.</a></p>\n\n<p>Note: C++17's <a href=\"http://en.cppreference.com/w/cpp/string/basic_string_view\" rel=\"nofollow noreferrer\"><code>string_view</code></a> is used only to help with the sorting and output, it's not crucial for this idea.</p>\n"}], "owner": {"reputation": 855, "user_id": 1933983, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vVvf7.jpg?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/1933983/avi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 2, "accepted_answer_id": 43103709, "answer_count": 2, "score": 2, "last_activity_date": 1490826566, "creation_date": 1490819204, "last_edit_date": 1490826566, "question_id": 43103498, "link": "https://stackoverflow.com/questions/43103498/cache-locality-with-unique-ptr", "title": "Cache locality with unique_ptr", "body": "<p>I have a vector of custom classes (std::string just for example).</p>\n\n<p>The vector is large and I iterate through often, so I rely on cache locality.</p>\n\n<p>I also have one raw pointer which points at one of the vector elements.</p>\n\n<p>Now is the trick:</p>\n\n<p>The vector is sorted from time to time, so the raw pointer loose the actual pointed element value, and will point to some random element value.</p>\n\n<p>Here is an example to illustrate the same:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n\nusing namespace std;\n\nint main()\n{\n\n    vector&lt;string&gt; v = {\"9\",\"3\", \"8\", \"7\", \"6\", \"5\", \"1\", \"4\", \"2\"};\n\n    string* rs = &amp;v[7]; //point to the 7th element\n\n    for (size_t i = 0; i &lt; v.size(); ++i)\n        cerr &lt;&lt; v[i];\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string: \" &lt;&lt; rs-&gt;c_str() &lt;&lt; endl;\n\n    cerr &lt;&lt; \"Sort ...\" &lt;&lt; endl;\n    sort(v.begin(), v.end(), [](const string&amp; a, const string&amp; b)\n    {\n        if (a &lt; b)\n            return true;\n        else\n            return false;\n    }\n    );\n\n    for (size_t i = 0; i &lt; v.size(); ++i)\n        cerr &lt;&lt; v[i];\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string: \" &lt;&lt; rs-&gt;c_str() &lt;&lt; endl;\n\n    cin.get();\n    return 0;\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>938765142\nReferenced string before sort : 4\nSort ...\n123456789\nReferenced string after sort : 8\n</code></pre>\n\n<p>Since I wish the <em>rs</em> pointer to keep pointing to the 7th element value (which is 4) even after the sort, I came up with the following solution (vector of pointers):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n\nusing namespace std;\n\nint main()\n{\n\n\n    vector&lt;unique_ptr&lt;string&gt;&gt; v;\n    v.resize(9);\n    v[0] = make_unique&lt;string&gt;(\"9\");\n    v[1] = make_unique&lt;string&gt;(\"3\");\n    v[2] = make_unique&lt;string&gt;(\"8\");\n    v[3] = make_unique&lt;string&gt;(\"7\");\n    v[4] = make_unique&lt;string&gt;(\"6\");\n    v[5] = make_unique&lt;string&gt;(\"5\");\n    v[6] = make_unique&lt;string&gt;(\"1\");\n    v[7] = make_unique&lt;string&gt;(\"4\");\n    v[8] = make_unique&lt;string&gt;(\"2\");\n\n    string* rs = v[7].get();        \n\n    for (size_t i = 0; i &lt; v.size(); ++i)\n    cerr &lt;&lt; v[i]-&gt;c_str();\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string before sort: \" &lt;&lt; rs-&gt;c_str() &lt;&lt; endl;\n\n\n    cerr &lt;&lt; \"Sort ...\" &lt;&lt; endl;\n    sort(v.begin(), v.end(), [](const unique_ptr&lt;string&gt;&amp; a, const unique_ptr&lt;string&gt;&amp; b)\n    {\n    if (*a &lt; *b)\n    return true;\n    else\n    return false;\n    }\n    );\n\n\n\n    for (size_t i = 0; i &lt; v.size(); ++i)\n    cerr &lt;&lt; v[i]-&gt;c_str();\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string after sort: \" &lt;&lt; rs-&gt;c_str() &lt;&lt; endl;\n\n\n    cin.get();\n    return 0;\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>938765142\nReferenced string before sort: 4\nSort ...\n123456789\nReferenced string after sort: 4\n</code></pre>\n\n<p>While this latter solution works, there is a price: I have lost the cache locality of my vector, since I store pointers in it, rather than the actual objects.</p>\n\n<p>Is there a way to maintain cache locality (e.g.: store my actual objects in the vector), and somehow manage to <em>rs</em> pointer to keep track where its pointed value wander around due to the sorts?\nOr from the other perspective, is there a way to achieve cache locality with the vector of pointers?</p>\n\n<p>Solution from Pubby, thanks!:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;memory&gt;\n\nusing namespace std;\n\nint main()\n{\n\n    vector&lt;string&gt; data = { \"d\",\"e\", \"f\", \"g\", \"i\", \"b\", \"c\", \"a\", \"h\" };\n    vector&lt;int&gt; indexes = {0,1,2,3,4,5,6,7,8};\n\n\n    int si = 6;\n\n    for (size_t i = 0; i &lt; indexes.size(); ++i)\n        cerr &lt;&lt; indexes[i];\n    cerr &lt;&lt; endl;\n    for (size_t i = 0; i &lt; indexes.size(); ++i)\n        cerr &lt;&lt; data[indexes[i]];\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string before sort: \" &lt;&lt; data[si] &lt;&lt; endl;\n\n    cerr &lt;&lt; \"Sort ...\" &lt;&lt; endl;\n    sort(indexes.begin(), indexes.end(), [&amp;](const int a, const int b)\n    {\n        return data[a] &lt; data[b];\n    }\n    );\n\n    for (size_t i = 0; i &lt; indexes.size(); ++i)\n        cerr &lt;&lt; indexes[i];\n    cerr &lt;&lt; endl;\n    for (size_t i = 0; i &lt; indexes.size(); ++i)\n        cerr &lt;&lt; data[indexes[i]];\n    cerr &lt;&lt; endl;\n    cerr &lt;&lt; \"Referenced string after sort: \" &lt;&lt; data[si] &lt;&lt; endl;\n\n    cin.get();\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "linked-list"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490819504, "post_id": 43103490, "comment_id": 73288748, "body": "Off topic: <code>cout&lt;&lt;current-&gt;data&lt;&lt;&quot;\\t&quot;;</code> suggests using namespace std; is in play. Take care that you don&#39;t accidentally wind up calling <code>std::reverse</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490819654, "post_id": 43103490, "comment_id": 73288822, "body": "On topic: looks like a problem that can be easily identified by stepping through the function with debugging software. A debugger almost certainly shipped with your development environment and it&#39;s in your best interests to learn how to use it."}], "answers": [{"tags": [], "owner": {"reputation": 2555, "user_id": 4578091, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yZEDH.jpg?s=128&g=1", "display_name": "Gary Holiday", "link": "https://stackoverflow.com/users/4578091/gary-holiday"}, "is_accepted": false, "score": 0, "last_activity_date": 1490819662, "creation_date": 1490819662, "answer_id": 43103631, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43103631#43103631", "title": "Printing the second half of a linked list in reverse order", "body": "<p>In your <code>while</code> loop you are checking if <code>current-&gt;next</code> is <code>null</code> you need to check if <code>current</code> is <code>null</code>.</p>\n\n<pre><code>while(current)\n{\n    c++;\n    s.push(current-&gt;data);\n    current=current-&gt;next;\n}\n</code></pre>\n\n<p>You weren't adding the last number into the <code>stack</code></p>\n"}, {"tags": [], "owner": {"reputation": 406, "user_id": 7451905, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10154898515247145/picture?type=large", "display_name": "Saim Mahmood", "link": "https://stackoverflow.com/users/7451905/saim-mahmood"}, "is_accepted": false, "score": 0, "last_activity_date": 1490819748, "creation_date": 1490819748, "answer_id": 43103656, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43103656#43103656", "title": "Printing the second half of a linked list in reverse order", "body": "<p>This method can work ... declare a function to get the size of the linkList</p>\n\n<pre><code>public int size()\n{\n    int counter = 0;\n    node *nodePtr = head;\n\n    while (nodePtr)\n    {\n        if (nodePtr-&gt;next != null)\n        {\n            counter++;\n        }\n    }\n\n    return counter;\n}\n</code></pre>\n\n<p>then if size returned is an even number ...</p>\n\n<pre><code>int c = size()/2;\n</code></pre>\n\n<p>else ...</p>\n\n<pre><code>int c = (size()+1)/2;\n</code></pre>\n\n<p>then initialize and array and print them in reverse .... try it out might work :)</p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 1782526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31effdcef1865e8ebf9d0e691726959?s=128&d=identicon&r=PG", "display_name": "fvanrysselberghe", "link": "https://stackoverflow.com/users/1782526/fvanrysselberghe"}, "is_accepted": false, "score": 0, "last_activity_date": 1490820237, "creation_date": 1490820237, "answer_id": 43103788, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43103788#43103788", "title": "Printing the second half of a linked list in reverse order", "body": "<p>In a typical linked list implementation the last node points to nothing (typically nullptr). Your stop condition for adding the existing elements (current->next!=nullptr) to the stack therefore doesn't include the last element.</p>\n\n<p>Iterating over current would be a better approach as that would stop one after the last node. </p>\n\n<p>Also note that this will have an impact on your mid-point calculation as it is off by one from the start. </p>\n"}, {"tags": [], "owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1490820572, "creation_date": 1490820572, "answer_id": 43103889, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43103889#43103889", "title": "Printing the second half of a linked list in reverse order", "body": "<p>It's not quite going to compile, but this is somewhat fewer lines:</p>\n\n<pre><code>// assert myList is sorted before called\n// if it's not, add       \n// std::sort(myList.begin(), myList.end());\n// as the first line of the function\nvoid reverseLatterHalf(std::vector&amp; myList)  {\n  auto it = myList.begin() + myList.size() / 2;\n  std::reverse(it, myList.end());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1490822431, "last_edit_date": 1490822431, "creation_date": 1490821244, "answer_id": 43104090, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43104090#43104090", "title": "Printing the second half of a linked list in reverse order", "body": "<p>Let's assume that the list contains only one element. In this case this loop</p>\n\n<pre><code>while(current-&gt;next!=NULL)\n{\n    c++;\n    s.push(current-&gt;data);\n    current=current-&gt;next;\n}\n</code></pre>\n\n<p>will be executed never and as result the stack will be empty. Moreover the function initially has undefined behavior when the list in turn is empty and hence <code>head</code> is equal to NULL and you may not access <code>current-&gt;next</code> data member.</p>\n\n<p>Well now let's assume that the list contains exactly two elements. The loop will be executed only once and the variable <code>c</code> gets value 2.  The calculated value of the variable <code>mid</code> will be equal to 1.</p>\n\n<p>So this loop</p>\n\n<pre><code>for(int i=0;i&lt;mid;i++)\n{\n    cout&lt;&lt;current-&gt;data&lt;&lt;\"\\t\";\n    current=current-&gt;next;\n}\n</code></pre>\n\n<p>executes only one iteration and the first element is outputted.</p>\n\n<p>However the next loop</p>\n\n<pre><code>  for(int i=mid;i&gt;1;i--)\n  {\n     std::cout&lt;&lt;s.top()&lt;&lt;\"\\t\";\n     s.pop();\n\n\n  }\n</code></pre>\n\n<p>will; be executed never because its condition <code>i &gt; 1</code> yields <code>false</code> because mid is equal to 1.</p>\n\n<p>So the program has two wrong loops that should be rewritten.</p>\n\n<p>Below is a demonstrative program that shows how the function can be implemented.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n\nstruct node\n{\n    int data;\n    node *next;\n} *head = nullptr;\n\nvoid append( int data )\n{\n    node **current = &amp;head;\n\n    while ( *current ) current = &amp;( *current )-&gt;next;\n\n    *current = new node { data, nullptr };\n}\n\nvoid clear()\n{\n    while ( head )\n    {\n        node *tmp = head;\n        head = head-&gt;next;\n        delete tmp;\n    }\n}\n\nvoid reverse()\n{\n    std::stack&lt;int&gt; s;\n\n    for ( node *current = head; current; current = current-&gt;next )\n    {\n        s.push( current-&gt;data );\n    }\n\n    std::stack&lt;int&gt;::size_type middle = ( s.size() + 1 ) / 2;\n    std::stack&lt;int&gt;::size_type i = 0;\n\n    for ( node *current = head; i &lt; middle; i++ )\n    {\n        std::cout &lt;&lt; current-&gt;data &lt;&lt; '\\t';\n        current = current-&gt;next;\n    }\n\n    for ( i = s.size() - i; i != 0; i-- )\n    {\n        std::cout &lt;&lt; s.top() &lt;&lt; '\\t';\n        s.pop();\n    }\n\n    std::cout &lt;&lt; std::endl;\n}\n\nint main() \n{\n    const int N = 10;\n\n    for ( int i = 0; i &lt; N; i++ )\n    {\n        for ( int j = 0; j &lt;= i; j++ ) append( j );\n        reverse();\n        clear();\n        std::cout &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>0   \n\n0   1   \n\n0   1   2   \n\n0   1   3   2   \n\n0   1   2   4   3   \n\n0   1   2   5   4   3   \n\n0   1   2   3   6   5   4   \n\n0   1   2   3   7   6   5   4   \n\n0   1   2   3   4   8   7   6   5   \n\n0   1   2   3   4   9   8   7   6   5   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": true, "score": 0, "last_activity_date": 1490821768, "last_edit_date": 1490821768, "creation_date": 1490821314, "answer_id": 43104106, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order/43104106#43104106", "title": "Printing the second half of a linked list in reverse order", "body": "<p>Working code here:\n<a href=\"http://ideone.com/bbzsSy\" rel=\"nofollow noreferrer\">http://ideone.com/bbzsSy</a></p>\n\n<p>2 issues:</p>\n\n<ul>\n<li><p><code>while(current-&gt;next!=NULL)</code> should be: <code>while(current!=NULL)</code><br>\nThis way you be sure that you can dereferencing the pointer, plus you also push the last node.</p></li>\n<li><p><code>for(int i=0;i&lt;mid;i++)</code> should be: <code>for(int i=0;i&lt;lastFordward;i++)</code><br>\nWhere <code>lastFordward=(c%2)?mid-1:mid;</code><br>\nThis way avoid to print the mid position twice when <code>c</code> is even.</p></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 6217009, "user_type": "registered", "profile_image": "https://graph.facebook.com/1112053815507459/picture?type=large", "display_name": "Biswajit Mohapatra", "link": "https://stackoverflow.com/users/6217009/biswajit-mohapatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 0, "accepted_answer_id": 43104106, "answer_count": 6, "score": 0, "last_activity_date": 1490832226, "creation_date": 1490819175, "last_edit_date": 1490832226, "question_id": 43103490, "link": "https://stackoverflow.com/questions/43103490/printing-the-second-half-of-a-linked-list-in-reverse-order", "title": "Printing the second half of a linked list in reverse order", "body": "<p>I want to print the elements of a linked list, first in their order and then, once I reach the middle, in reverse order (from the last one backwards). For example:</p>\n\n<p>If the elements are: <code>1 2 3 4 5 6</code><br>\nIt should print: <code>1 2 3 6 5 4</code><br>\nBut it's printing: <code>1 2 3 5 4</code></p>\n\n<p>Why isn't it printing the last element? How can this be solved?</p>\n\n<pre><code>void reverse()\n{\n    int c=1;\n    node *current,*prev,*temp;\n    current=head;\n    prev=NULL;\n    std::stack&lt;int&gt;s;\n    while(current-&gt;next!=NULL)\n    {\n        c++;\n        s.push(current-&gt;data);\n        current=current-&gt;next;\n    }\n\n    int mid=0;\n    if((c%2)==0)\n    {\n        mid=c/2;\n    }\n    else\n    {\n        mid=(c+1)/2;\n    }\n    current=head;\n    for(int i=0;i&lt;mid;i++)\n    {\n        cout&lt;&lt;current-&gt;data&lt;&lt;\"\\t\";\n        current=current-&gt;next;\n    }\n\n    for(int i=mid;i&gt;1;i--)\n    {\n       std::cout&lt;&lt;s.top()&lt;&lt;\"\\t\";\n       s.pop();\n    }\n    std::cout &lt;&lt; '\\n';\n}\n</code></pre>\n"}, {"tags": ["c++", "if-statement", "vector"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490819167, "post_id": 43103453, "comment_id": 73288538, "body": "What about other types of container, like <code>std::array()</code>?"}, {"owner": {"reputation": 14929, "user_id": 2051137, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1sIMq.jpg?s=128&g=1", "display_name": "Remi.b", "link": "https://stackoverflow.com/users/2051137/remi-b"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490819342, "post_id": 43103453, "comment_id": 73288656, "body": "The question is indeed a duplicate. Thank you"}], "owner": {"reputation": 14929, "user_id": 2051137, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1sIMq.jpg?s=128&g=1", "display_name": "Remi.b", "link": "https://stackoverflow.com/users/2051137/remi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1490819346, "answer_count": 0, "score": 0, "last_activity_date": 1490819075, "creation_date": 1490819075, "question_id": 43103453, "link": "https://stackoverflow.com/questions/43103453/is-the-object-a-vector", "closed_reason": "Duplicate", "title": "Is the object a vector?", "body": "<p>I am using a template typename recursive function. I would like at some point to ask if the object I am manipulating is a vector (a vector of anything). Something like the <code>is_vector</code> function below</p>\n\n<pre><code>template &lt;typename TYPE&gt;\nvoid f(const std::vector&lt;TYPE&gt;&amp; x)\n{\n   for (auto&amp; element : x)\n   {\n      if (is_vector(element))\n      {\n         f(element);\n      } else\n      {\n         g(element);\n      }\n   }\n}\n</code></pre>\n\n<p>Is this feasible?</p>\n"}, {"tags": ["c++", "mysql", "sql", "c++11", "c++14"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490819069, "post_id": 43103426, "comment_id": 73288496, "body": "Use the MySQL Event Scheduler, and write a query that uses <code>INFORMATION_SCHEMA</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1490819106, "post_id": 43103426, "comment_id": 73288517, "body": "SO is not a free coding service. You have to make some attempt to solve the problem yourself. If you can&#39;t get it working, post what you tried and we&#39;ll help you fix it."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4708226, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/92b19ddd8aa4f7cbe6a72d811235ad94?s=128&d=identicon&r=PG&f=1", "display_name": "carolzinha", "link": "https://stackoverflow.com/users/4708226/carolzinha"}, "edited": false, "score": 0, "creation_date": 1490820145, "post_id": 43103504, "comment_id": 73289125, "body": "I thought about it, but this tool that I&#39;m creating hundreds of people will also use, so I&#39;m looking for a way of the tool itself to do this cleanup in mysql tables."}], "tags": [], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "is_accepted": false, "score": 0, "last_activity_date": 1490824576, "last_edit_date": 1490824576, "creation_date": 1490819231, "answer_id": 43103504, "question_id": 43103426, "link": "https://stackoverflow.com/questions/43103426/remove-sql-table-after-x-days/43103504#43103504", "title": "Remove sql table after x days", "body": "<p>Assuming those SQL tables live in a DBMS rather than your own software system - don't bother taking that task into your own code. Use system facilities such as <a href=\"http://www.unixgeeks.org/security/newbie/unix/cron-1.html\" rel=\"nofollow noreferrer\"><code>cron</code></a> and write an appropriate few-line script (e.g. in bash, python or perl) to check for old tables and issue the command to delete them. This is not the kind of task you should bother yourself to custom-code.</p>\n\n<p>and I say this as a Modern C++ enthusiast :-)</p>\n\n<p><strong>Edit:</strong> On second thought - why do you even <em>have</em> per-day tables? I think that's almost certainly a mis-design. That all probably needs to be in the same table, with an extra date column - and possibly some partitioning, or columnar storage, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 7723344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb7a8f4b9101e65846c1f3d87a816b?s=128&d=identicon&r=PG", "display_name": "Amit Uppal", "link": "https://stackoverflow.com/users/7723344/amit-uppal"}, "is_accepted": false, "score": 0, "last_activity_date": 1490819815, "creation_date": 1490819815, "answer_id": 43103676, "question_id": 43103426, "link": "https://stackoverflow.com/questions/43103426/remove-sql-table-after-x-days/43103676#43103676", "title": "Remove sql table after x days", "body": "<p>you can have a SQL job that does that. Assuming that tables are generated everyday, you can have a job that read table names from sysobjects table. loop through them and convert table name to datetime, then subtract 90 from current date and compare it with datetime you got from table name.</p>\n"}, {"tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 0, "last_activity_date": 1490832773, "last_edit_date": 1490832773, "creation_date": 1490829267, "answer_id": 43105828, "question_id": 43103426, "link": "https://stackoverflow.com/questions/43103426/remove-sql-table-after-x-days/43105828#43105828", "title": "Remove sql table after x days", "body": "<p>If you want to do the logic in C++ and are willing to use <a href=\"https://howardhinnant.github.io/date/date.html\" rel=\"nofollow noreferrer\">Howard Hinnant's free, open-source, header-only date library</a>, you could write a function something like this:</p>\n\n<pre><code>#include \"date.h\"\n#include &lt;sstream&gt;\n\nvoid\nmaybe_remove_table(const std::string&amp; tablename)\n{\n    using namespace std;\n    using namespace std::chrono;\n    using namespace date;\n    istringstream in{tablename};\n    sys_days table_date;\n    in &gt;&gt; parse(\"%Y%m%d\", table_date);\n    sys_days today = floor&lt;days&gt;(system_clock::now());\n    if (table_date &lt; today - days{90})\n        remove_table(tablename);\n}\n</code></pre>\n\n<p>This function converts the name of the table into a <code>date::sys_days</code>, which is a type alias for <code>std::chrono::time_point&lt;system_clock, days&gt;</code>.  This is just a coarse <code>time_point</code>.  Then it gets the current day (as defined by UTC), and compares the date of the table to 90 days prior to the current day.</p>\n"}], "owner": {"reputation": 101, "user_id": 4708226, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/92b19ddd8aa4f7cbe6a72d811235ad94?s=128&d=identicon&r=PG&f=1", "display_name": "carolzinha", "link": "https://stackoverflow.com/users/4708226/carolzinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1491760683, "accepted_answer_id": 43105828, "answer_count": 3, "score": -1, "last_activity_date": 1490832773, "creation_date": 1490818987, "question_id": 43103426, "link": "https://stackoverflow.com/questions/43103426/remove-sql-table-after-x-days", "closed_reason": "Needs more focus", "title": "Remove sql table after x days", "body": "<p>I am looking for a way for my system made in C ++ to remove old sqls tables after 90 days, I searched but did not find anything related.</p>\n\n<p>The names of my tables are generated according to the days, for example <strong>20170323</strong></p>\n\n<p>Now the way to remove I can not think of anything that can be done</p>\n"}, {"tags": ["c++", "qt", "qt5", "qwebview", "qaction"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7771896"}, "edited": false, "score": 0, "creation_date": 1490820232, "post_id": 43103670, "comment_id": 73289166, "body": "your method is also giving an error <code>undefined reference to vtable for WebView</code>"}, {"owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1490820704, "post_id": 43103670, "comment_id": 73289412, "body": "It&#39;s compiling for me. Is the class in a header (.h) file or in a .cpp? If the second, then you have to make a workaround and manually include the moc&#39;ed file at the end."}, {"owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1490820872, "post_id": 43103670, "comment_id": 73289505, "body": "I&#39;ve just noticed too that the <code>createWebView</code> method is called <i>before</i> connecting the slot. In that function you load the page. I&#39;m not an expert in QWebEngine but, shouldn&#39;t the page be loaded <i>after</i> connecting and setting the rest of attributes?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7771896"}, "edited": false, "score": 0, "creation_date": 1490860258, "post_id": 43103670, "comment_id": 73303422, "body": "is it related to <code>QWebEngineView::createWindow(QWebEnginePage::WindowType type)</code> ?"}, {"owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "edited": false, "score": 0, "creation_date": 1490867429, "post_id": 43103670, "comment_id": 73308176, "body": "As I said, not an QWEV expert, but it seems so, maybe somebody else may clarify this better"}], "tags": [], "owner": {"reputation": 8601, "user_id": 1485885, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tdPE1.jpg?s=128&g=1", "display_name": "cbuchart", "link": "https://stackoverflow.com/users/1485885/cbuchart"}, "is_accepted": true, "score": 0, "last_activity_date": 1490819794, "creation_date": 1490819794, "answer_id": 43103670, "question_id": 43103327, "link": "https://stackoverflow.com/questions/43103327/how-to-use-qwebenginepageopenlinkinnewtab-qt5-8/43103670#43103670", "title": "How to use QWebEnginePage::OpenLinkInNewTab [Qt5.8]", "body": "<p>I think the problem is that <code>newTabRequested</code> is not a slot. Try</p>\n\n<pre><code>class WebView : public QObject{\n    Q_OBJECT\n\nprivate slots:\n    void newTabRequested(){\n        std::cout&lt;&lt;\"Hello\"&lt;&lt;std::endl;\n    }\n\n    // ...\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7771896"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 1, "accepted_answer_id": 43103670, "answer_count": 1, "score": 1, "last_activity_date": 1490820314, "creation_date": 1490818610, "last_edit_date": 1490820314, "question_id": 43103327, "link": "https://stackoverflow.com/questions/43103327/how-to-use-qwebenginepageopenlinkinnewtab-qt5-8", "title": "How to use QWebEnginePage::OpenLinkInNewTab [Qt5.8]", "body": "<p>When I click on link to any question in my feed on Quora using this code, the link doesn't open but it doesn't print \"Hello\". Could you please tell me where am I wrong? I'm pretty sure that link on quora emits the <code>OpenLinkInNewTab</code> signal. Please help, thanks.</p>\n\n<pre><code>class WebView : public QObject {\n    void newTabRequested() {\n        std::cout&lt;&lt;\"Hello\"&lt;&lt;std::endl;\n    }\n\npublic:\n    char* home_page;\n    QAction* newTabAction=new QAction();\n    QWebEngineView* view=new QWebEngineView();\n\n    WebView(char* page=(char*)\"https://google.com\") {\n        this-&gt;home_page=page;\n        this-&gt;exitFullScreen-&gt;setShortcut(Qt::Key_Escape);\n\n        createWebView();\n\n        this-&gt;view-&gt;settings()\n            -&gt;setAttribute(QWebEngineSettings::JavascriptCanOpenWindows,true);\n\n        this-&gt;newTabAction=this-&gt;view-&gt;pageAction(QWebEnginePage::OpenLinkInNewTab);\n\n        connect(this-&gt;newTabAction,&amp;QAction::toggled,this,&amp;WebView::newTabRequested);\n    }\n\n    void createWebView() {\n        this-&gt;view-&gt;load(QUrl(this-&gt;home_page));\n    }\n};\n</code></pre>\n"}, {"tags": ["android", "c++", "opencv", "android-ndk"], "answers": [{"comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1490819283, "post_id": 43103364, "comment_id": 73288615, "body": "What&#39;s the cost of eternal storage these days? I&#39;m tired of my hard drives <i>dying</i>."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1490819350, "post_id": 43103364, "comment_id": 73288661, "body": "Same price as always-  your soul."}, {"owner": {"reputation": 821, "user_id": 5507319, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a5f152bdfe99cba0d730ab47b5d68717?s=128&d=identicon&r=PG&f=1", "display_name": "Yirga", "link": "https://stackoverflow.com/users/5507319/yirga"}, "edited": false, "score": 0, "creation_date": 1490857071, "post_id": 43103364, "comment_id": 73301407, "body": "@GabeSechan thank you i now want to save files in the asset folder and copy some files from assets(because i don&#39;t need all of them at one) into android internal storage. After using files in the internal storage in android NDK delete those files because their large sized files.Either any another best way to do this or this is fine?"}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": true, "score": 0, "last_activity_date": 1490818767, "creation_date": 1490818767, "answer_id": 43103364, "question_id": 43103221, "link": "https://stackoverflow.com/questions/43103221/how-to-load-svm-trained-files-by-android-ndk/43103364#43103364", "title": "How to load svm trained files by android NDK?", "body": "<p>Internal storage.  You're right, assets is only an option for read-only files shipped with the apk.  You could use eternal storage, on old versions of android there was a significant difference, not so much these days, almost nobody has an external sd card.</p>\n"}, {"comments": [{"owner": {"reputation": 821, "user_id": 5507319, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a5f152bdfe99cba0d730ab47b5d68717?s=128&d=identicon&r=PG&f=1", "display_name": "Yirga", "link": "https://stackoverflow.com/users/5507319/yirga"}, "edited": false, "score": 0, "creation_date": 1506791850, "post_id": 46494913, "comment_id": 79964614, "body": "Thanks, i solved the problem but is good to hear about LibSVM wrapper for android."}, {"owner": {"reputation": 674, "user_id": 7659682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a2313ded745231e5d31a788d250a847?s=128&d=identicon&r=PG&f=1", "display_name": "Ozcan", "link": "https://stackoverflow.com/users/7659682/ozcan"}, "reply_to_user": {"reputation": 821, "user_id": 5507319, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a5f152bdfe99cba0d730ab47b5d68717?s=128&d=identicon&r=PG&f=1", "display_name": "Yirga", "link": "https://stackoverflow.com/users/5507319/yirga"}, "edited": false, "score": 0, "creation_date": 1585125477, "post_id": 46494913, "comment_id": 107650755, "body": "@Yirga how did you solve the problem, I cant load the svm file.."}], "tags": [], "owner": {"reputation": 335, "user_id": 2255802, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a5ebe83e1bd2d9942dda944c5aa004bf?s=128&d=identicon&r=PG", "display_name": "Yu-Chih", "link": "https://stackoverflow.com/users/2255802/yu-chih"}, "is_accepted": false, "score": 0, "last_activity_date": 1506709648, "creation_date": 1506709648, "answer_id": 46494913, "question_id": 43103221, "link": "https://stackoverflow.com/questions/43103221/how-to-load-svm-trained-files-by-android-ndk/46494913#46494913", "title": "How to load svm trained files by android NDK?", "body": "<p>You might just use a pre-built Android wrapper like this: <a href=\"https://github.com/yctung/AndroidLibSVM\" rel=\"nofollow noreferrer\">https://github.com/yctung/AndroidLibSVM</a></p>\n\n<p>So you don't need to worry about JNI/NDK anymore.</p>\n"}], "owner": {"reputation": 821, "user_id": 5507319, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a5f152bdfe99cba0d730ab47b5d68717?s=128&d=identicon&r=PG&f=1", "display_name": "Yirga", "link": "https://stackoverflow.com/users/5507319/yirga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 43103364, "answer_count": 2, "score": -1, "last_activity_date": 1535546766, "creation_date": 1490818242, "question_id": 43103221, "link": "https://stackoverflow.com/questions/43103221/how-to-load-svm-trained-files-by-android-ndk", "title": "How to load svm trained files by android NDK?", "body": "<p>I have trained pictures using c++ opencv code but know i want to save those files somewhere in app and load those SVM trained files using the load method of SVM in opencv c++ code.First i thought i am going to save trained files in assets folder  and retrieve the files from assets but there is no absoulute path to assets folder in android apk file because the assets is zipped into apk file.\n The second choice is to save it in the android internal storage but there is also another drawback to this method i can't save large amount of data in the android internal storage.</p>\n\n<p>What is the best method to save files  and load them using android ndk?</p>\n"}, {"tags": ["c++", "reference"], "comments": [{"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "edited": false, "score": 0, "creation_date": 1490817782, "post_id": 43103068, "comment_id": 73287836, "body": "I would think that <code>std::map&lt;std::string, Foo&amp;&gt; myMap;</code> Should be <code>std::map&lt;std::string, Foo*&gt; myMap;</code> The &amp; just &quot;converts&quot; a datatype to an address"}], "answers": [{"tags": [], "owner": {"reputation": 14872, "user_id": 3919155, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3034f14bf0b65847592b2c2e08b9253e?s=128&d=identicon&r=PG&f=1", "display_name": "jotik", "link": "https://stackoverflow.com/users/3919155/jotik"}, "is_accepted": false, "score": 2, "last_activity_date": 1490817805, "creation_date": 1490817805, "answer_id": 43103112, "question_id": 43103068, "link": "https://stackoverflow.com/questions/43103068/adding-a-reference-to-an-object-to-a-map-in-c/43103112#43103112", "title": "Adding a reference to an object to a map in C++", "body": "<p>The standard library containers can't contain references. Use pointers instead, or wrap your references to <code>T</code> in <code>std::reference_wrapper&lt;T&gt;</code> instead, e.g.</p>\n\n<pre><code>#include &lt;functional&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\n\nstd::map&lt;std::string, std::reference_wrapper&lt;Foo&gt; &gt; myMap;\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 7552087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/012e376f941c38969adccc532ec3be94?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew P.", "link": "https://stackoverflow.com/users/7552087/andrew-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "closed_date": 1490818048, "answer_count": 1, "score": 3, "last_activity_date": 1490817821, "creation_date": 1490817660, "last_edit_date": 1490817821, "question_id": 43103068, "link": "https://stackoverflow.com/questions/43103068/adding-a-reference-to-an-object-to-a-map-in-c", "closed_reason": "Duplicate", "title": "Adding a reference to an object to a map in C++", "body": "<p>I'm having trouble inserting a reference to an object into a map in C++.</p>\n\n<p>Here is some sample code to show what I want to do:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n\nclass Foo {\npublic:\n    // ...\n\n    void addToMap();\n};\n\nstd::map&lt;std::string, Foo&amp;&gt; myMap;\n\nvoid Foo::addToMap() {\n    myMap.insert(std::make_pair(std::string(\"hello\"), *this));\n}\n\nint main() {\n    Foo foo;\n    foo.addToMap();\n}\n</code></pre>\n\n<p>When I compile, I get a very cryptic error message of </p>\n\n<pre><code>main.cpp: In member function \u2018void Foo::addToMap()\u2019:\nmain.cpp:12:48: error: no matching function for call to \u2018std::map&lt;std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt;::insert(std::pair&lt;const char*, Foo&gt;)\u2019\n     myMap.insert(std::make_pair(\"hello\", *this));\n                                                ^\nIn file included from /usr/include/c++/6.3.1/map:61:0,\n                 from main.cpp:2:\n/usr/include/c++/6.3.1/bits/stl_map.h:731:7: note: candidate: std::pair&lt;typename std::_Rb_tree&lt;_Key, std::pair&lt;const _Key, _Tp&gt;, std::_Select1st&lt;std::pair&lt;const _Key, _Tp&gt; &gt;, _Compare, typename __gnu_cxx::__alloc_traits&lt;_Alloc&gt;::rebind&lt;std::pair&lt;const _Key, _Tp&gt; &gt;::other&gt;::iterator, bool&gt; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(const value_type&amp;) [with _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;; typename std::_Rb_tree&lt;_Key, std::pair&lt;const _Key, _Tp&gt;, std::_Select1st&lt;std::pair&lt;const _Key, _Tp&gt; &gt;, _Compare, typename __gnu_cxx::__alloc_traits&lt;_Alloc&gt;::rebind&lt;std::pair&lt;const _Key, _Tp&gt; &gt;::other&gt;::iterator = std::_Rb_tree_iterator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::value_type = std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt;]\n       insert(const value_type&amp; __x)\n       ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:731:7: note:   no known conversion for argument 1 from \u2018std::pair&lt;const char*, Foo&gt;\u2019 to \u2018const value_type&amp; {aka const std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt;&amp;}\u2019\n/usr/include/c++/6.3.1/bits/stl_map.h:739:9: note: candidate: template&lt;class _Pair, class&gt; std::pair&lt;typename std::_Rb_tree&lt;_Key, std::pair&lt;const _Key, _Tp&gt;, std::_Select1st&lt;std::pair&lt;const _Key, _Tp&gt; &gt;, _Compare, typename __gnu_cxx::__alloc_traits&lt;_Alloc&gt;::rebind&lt;std::pair&lt;const _Key, _Tp&gt; &gt;::other&gt;::iterator, bool&gt; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(_Pair&amp;&amp;) [with _Pair = _Pair; &lt;template-parameter-2-2&gt; = &lt;template-parameter-1-2&gt;; _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;]\n         insert(_Pair&amp;&amp; __x)\n         ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:739:9: note:   template argument deduction/substitution failed:\n/usr/include/c++/6.3.1/bits/stl_map.h:735:32: error: no type named \u2018type\u2019 in \u2018struct std::enable_if&lt;false, void&gt;\u2019\n       template&lt;typename _Pair, typename = typename\n                                ^~~~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:752:7: note: candidate: void std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(std::initializer_list&lt;std::pair&lt;const _Key, _Tp&gt; &gt;) [with _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;]\n       insert(std::initializer_list&lt;value_type&gt; __list)\n       ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:752:7: note:   no known conversion for argument 1 from \u2018std::pair&lt;const char*, Foo&gt;\u2019 to \u2018std::initializer_list&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;\u2019\n/usr/include/c++/6.3.1/bits/stl_map.h:781:7: note: candidate: std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::iterator std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::const_iterator, const value_type&amp;) [with _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::iterator = std::_Rb_tree_iterator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::const_iterator = std::_Rb_tree_const_iterator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::value_type = std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt;]\n       insert(const_iterator __position, const value_type&amp; __x)\n       ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:781:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/6.3.1/bits/stl_map.h:792:9: note: candidate: template&lt;class _Pair, class&gt; std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::iterator std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::const_iterator, _Pair&amp;&amp;) [with _Pair = _Pair; &lt;template-parameter-2-2&gt; = &lt;template-parameter-1-2&gt;; _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;]\n         insert(const_iterator __position, _Pair&amp;&amp; __x)\n         ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:792:9: note:   template argument deduction/substitution failed:\nmain.cpp:12:48: note:   candidate expects 2 arguments, 1 provided\n     myMap.insert(std::make_pair(\"hello\", *this));\n                                                ^\nIn file included from /usr/include/c++/6.3.1/map:61:0,\n                 from main.cpp:2:\n/usr/include/c++/6.3.1/bits/stl_map.h:807:9: note: candidate: template&lt;class _InputIterator&gt; void std::map&lt;_Key, _Tp, _Compare, _Alloc&gt;::insert(_InputIterator, _InputIterator) [with _InputIterator = _InputIterator; _Key = std::__cxx11::basic_string&lt;char&gt;; _Tp = Foo&amp;; _Compare = std::less&lt;std::__cxx11::basic_string&lt;char&gt; &gt;; _Alloc = std::allocator&lt;std::pair&lt;const std::__cxx11::basic_string&lt;char&gt;, Foo&amp;&gt; &gt;]\n         insert(_InputIterator __first, _InputIterator __last)\n         ^~~~~~\n/usr/include/c++/6.3.1/bits/stl_map.h:807:9: note:   template argument deduction/substitution failed:\nmain.cpp:12:48: note:   candidate expects 2 arguments, 1 provided\n     myMap.insert(std::make_pair(\"hello\", *this));\n</code></pre>\n\n<p>I have no idea how to make the pointer <code>this</code> into a reference, which I can then insert into the map. How would I go about fixing the code?</p>\n"}, {"tags": ["c++", "c++11", "smart-pointers"], "comments": [{"owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 2, "creation_date": 1490817680, "post_id": 43102934, "comment_id": 73287770, "body": "What&#39;s wrong with a loop? Just use the first code."}, {"owner": {"reputation": 638, "user_id": 2355357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQd04.jpg?s=128&g=1", "display_name": "Elkvis", "link": "https://stackoverflow.com/users/2355357/elkvis"}, "edited": false, "score": 0, "creation_date": 1490817830, "post_id": 43102934, "comment_id": 73287867, "body": "This could also be done with recursion, but that would literally be the dumbest possible way to do it."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1490817929, "post_id": 43102934, "comment_id": 73287919, "body": "There <i>will</i> be a loop anyway, either in your code or in the vector constructor."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490818040, "post_id": 43102934, "comment_id": 73287989, "body": "Any solution will involve a loop, rather it&#39;s plainly visible or hidden within the solution&#39;s mechanisms."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490818417, "post_id": 43102934, "comment_id": 73288174, "body": "@Fran&#231;ois not necessarily, the compiler may choose to unroll the loop if it is short enough."}, {"owner": {"reputation": 1562, "user_id": 1154581, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1P3Q0.jpg?s=128&g=1", "display_name": "Rodrigo Gurgel", "link": "https://stackoverflow.com/users/1154581/rodrigo-gurgel"}, "reply_to_user": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1490819237, "post_id": 43102934, "comment_id": 73288592, "body": "@Pubby just for the knowledge."}], "answers": [{"comments": [{"owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "edited": false, "score": 0, "creation_date": 1490818430, "post_id": 43103088, "comment_id": 73288180, "body": "Although this indeed does it via a visible loop - the first version in the question is so much more readable."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "reply_to_user": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "edited": false, "score": 0, "creation_date": 1490819338, "post_id": 43103088, "comment_id": 73288653, "body": "@erenon Unfortunately it&#39;s only 8 characters shorter than OPs code, but there might be a few other advantages: no explicit loop counter variable (less variables = less state to worry about), less logic where the writer of the code or future maintainers could make mistakes. Also useful in a more generic context (e. g. template function)."}], "tags": [], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "is_accepted": false, "score": 5, "last_activity_date": 1490818778, "last_edit_date": 1490818778, "creation_date": 1490817718, "answer_id": 43103088, "question_id": 43102934, "link": "https://stackoverflow.com/questions/43102934/how-to-make-shared-count-times-with-different-areas-allocated-without-recur-to/43103088#43103088", "title": "How to make_shared count times, with different areas allocated without recur to a loop?", "body": "<p>This should do the trick:</p>\n\n<pre><code>std::generate_n( back_inserter( m_connectionList ), demandedSize, [this]{\n    return std::make_shared&lt; Foo &gt;( m_ip, m_port ) );\n});\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/861f9d2da1437b0d\" rel=\"nofollow noreferrer\">Live Example on Coliru.</a></p>\n"}, {"comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1490819913, "post_id": 43103231, "comment_id": 73288978, "body": "<a href=\"http://www.boost.org/doc/libs/release/libs/utility/generator_iterator.htm\" rel=\"nofollow noreferrer\">boost version</a>"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1490820146, "last_edit_date": 1490820146, "creation_date": 1490818285, "answer_id": 43103231, "question_id": 43102934, "link": "https://stackoverflow.com/questions/43102934/how-to-make-shared-count-times-with-different-areas-allocated-without-recur-to/43103231#43103231", "title": "How to make_shared count times, with different areas allocated without recur to a loop?", "body": "<pre><code>template&lt;class X&gt;\nstruct arrow_helper_t {\n  X x;\n  auto operator-&gt;()&amp;&amp; { return std::addressof(x); }\n};\ntemplate&lt;class X&gt;\narrow_helper_t&lt;X&gt; arrow_helper(X&amp;&amp; x){ return {std::forward&lt;X&gt;(x)}; }\n\ntemplate&lt;class F&gt;\nstruct generator_iterator_t {\n  std::size_t i = 0;\n  F f;\n  generator_iterator_t()=default;\n  generator_iterator_t(generator_iterator_t const&amp;)=default;\n  generator_iterator_t(generator_iterator_t &amp;&amp;)=default;\n  generator_iterator_t&amp; operator=(generator_iterator_t const&amp;)=default;\n  generator_iterator_t&amp; operator=(generator_iterator_t &amp;&amp;)=default;\n  using iterator_category = std::input_iterator_tag;\n  using reference=decltype(std::declval&lt;F const&amp;&gt;()(std::declval&lt;std::size_t const&amp;&gt;()));\n  using value_type = std::decay_t&lt;reference&gt;;\n  using pointer = arrow_helper_t&lt;reference&gt;;\n  using difference_type = std::ptrdiff_t;\n  using self_t = generator_iterator_t;\n  friend bool operator!=(self_t const&amp; lhs, self_t const&amp; rhs) { return lhs.i != rhs.i; }\n  friend bool operator==(self_t const&amp; lhs, self_t const&amp; rhs) { return lhs.i == rhs.i; }\n  decltype(auto) operator*()const { return f(i); }\n  auto operator-&gt;() const { return arrow_helper(**this); }\n  self_t&amp; operator++() { ++i; return *this; }\n  self_t operator++(int) { auto r = *this; ++i; return r; }\n};\ntemplate&lt;class F&gt;\ngenerator_iterator_t&lt;F&gt;\ngenerator_iterator( F f, std::size_t i ) {\n  return {i, std::move(f)};\n}\ntemplate&lt;class F&gt;\nauto generator_range( F f, std::size_t i ) {\n  return std::make_pair(\n    generator_iterator(f, 0),\n    generator_iterator(f, i)\n  );\n}\n\nauto range = generator_range([&amp;](auto){return std::make_shared&lt; Foo &gt;( m_ip, m_port );}, demandedSize);\nm_connectionList.reserve( m_connectionList.size()+demandedSize );\nm_connectionList.insert(m_connectionList.end(),\n  range.first, range.second\n);\n</code></pre>\n\n<p>or somesuch.  <code>boost</code> probably does it better.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/f592ac3e64340921\" rel=\"nofollow noreferrer\">live example</a>.</p>\n"}], "owner": {"reputation": 1562, "user_id": 1154581, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1P3Q0.jpg?s=128&g=1", "display_name": "Rodrigo Gurgel", "link": "https://stackoverflow.com/users/1154581/rodrigo-gurgel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 1, "accepted_answer_id": 43103231, "answer_count": 2, "score": 2, "last_activity_date": 1490820146, "creation_date": 1490817241, "last_edit_date": 1490819935, "question_id": 43102934, "link": "https://stackoverflow.com/questions/43102934/how-to-make-shared-count-times-with-different-areas-allocated-without-recur-to", "title": "How to make_shared count times, with different areas allocated without recur to a loop?", "body": "<p><strong>How to <code>make_shared</code> count times, with different areas allocated without recur to a loop?</strong></p>\n\n<p>I have the following code:</p>\n\n<pre><code>for( unsigned int count = 0; count &lt; demandedSize; ++count  )\n{   \n   m_connectionList.push_back( std::make_shared&lt; Foo &gt;( m_ip, m_port )); \n}\n</code></pre>\n\n<p>How to shorten this <strong>without a loop</strong>?</p>\n\n<p>I know <code>std::vector</code> receaves a second argument as <code>const T&amp;</code>, but in that case all <code>shared_ptr</code>s points to the same address (value is copied).</p>\n\n<pre><code>std::vector&lt; std::shared_ptr&lt;Foo&gt; &gt; vet( demandedSize, std::make_shared&lt;Foo&gt;( m_ip, m_port ) );\n</code></pre>\n\n<p>How to execute <code>make_shared</code> count times, with different areas allocated as result without recur to a loop</p>\n"}, {"tags": ["c++", "language-lawyer", "c++-concepts"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1490817668, "post_id": 43102919, "comment_id": 73287761, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/constraints\" rel=\"nofollow noreferrer\">May be related</a>"}, {"owner": {"reputation": 38390, "user_id": 923854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OecRr.png?s=128&g=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/923854/casey"}, "edited": false, "score": 4, "creation_date": 1490817770, "post_id": 43102919, "comment_id": 73287826, "body": "The question isn&#39;t an exact duplicate, but <a href=\"http://stackoverflow.com/a/42956674/923854\">this answer</a> explains exactly this weirdness with <code>Same</code>. Also you linked to the definition of <code>meta::Same</code> in cmcstl2, which is not the same (pun intended) concept as <a href=\"https://github.com/CaseyCarter/cmcstl2/blob/83abdc9781bab0ca14469df32ac092c42be56140/include/stl2/detail/concepts/core.hpp#L57\" rel=\"nofollow noreferrer\"><code>std::experimental::ranges::Same</code></a> which <i>does</i> use a compiler intrinsic, albeit one that I think does not fully implement the desired semantics."}, {"owner": {"reputation": 15006, "user_id": 2797826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3bab2302a0d633206bdcfca569f666c8?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Brindle", "link": "https://stackoverflow.com/users/2797826/tristan-brindle"}, "reply_to_user": {"reputation": 38390, "user_id": 923854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OecRr.png?s=128&g=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/923854/casey"}, "edited": false, "score": 0, "creation_date": 1490821232, "post_id": 43102919, "comment_id": 73289703, "body": "@Casey Thanks! :"}], "owner": {"reputation": 15006, "user_id": 2797826, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3bab2302a0d633206bdcfca569f666c8?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Brindle", "link": "https://stackoverflow.com/users/2797826/tristan-brindle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "closed_date": 1490817532, "answer_count": 0, "score": 4, "last_activity_date": 1490817199, "creation_date": 1490817199, "question_id": 43102919, "link": "https://stackoverflow.com/questions/43102919/ranges-ts-same-concept-differs-from-stdis-same", "closed_reason": "Duplicate", "title": "Ranges TS: Same concept differs from std::is_same?", "body": "<p>I was browsing through the <a href=\"http://en.cppreference.com/w/cpp/experimental/ranges\" rel=\"nofollow noreferrer\">Ranges TS documentation on cppreference.com</a>, and in the entry for the <code>Same</code> concept, I came across this sentence:</p>\n\n<blockquote>\n  <p>For the purposes of constraint checking, <code>Same&lt;T, U&gt;()</code> implies <code>Same&lt;U, T&gt;()</code>.</p>\n</blockquote>\n\n<p>and a note:</p>\n\n<blockquote>\n  <p>The additional requirement on constraint checking differentiates <code>Same</code> from <code>std::is_same</code>, and will typically require a compiler intrinsic to implement.</p>\n</blockquote>\n\n<p>This struck me as a little odd, so I decided to check the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4651.pdf\" rel=\"nofollow noreferrer\">Ranges TS paper</a>, and sure enough, it says:</p>\n\n<blockquote>\n  <p>Remarks: For the purposes of constraint checking, <code>Same&lt;T, U&gt;()</code> implies <code>Same&lt;U, T&gt;()</code>.</p>\n</blockquote>\n\n<p>(However, Casey Carter's STL2 implementation <a href=\"https://github.com/CaseyCarter/cmcstl2/blob/83abdc9781bab0ca14469df32ac092c42be56140/include/meta/meta_fwd.hpp#L71\" rel=\"nofollow noreferrer\">does use <code>std::is_same</code></a>, perhaps because the required compiler intrinsic doesn't yet exist.)</p>\n\n<p>So my question is, what exactly does the requirement \"<code>Same&lt;T, U&gt;()</code> implies <code>Same&lt;U, T&gt;()</code>\" actually mean? How would it be possible for <code>std::is_same&lt;T, U&gt;</code> to differ from <code>std::is_same&lt;U, T&gt;</code>?</p>\n"}, {"tags": ["c++", "boost", "g++"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 0, "creation_date": 1490817525, "post_id": 43102853, "comment_id": 73287698, "body": "I was not able to reproduce this issue in my MSVC environment. Try doing a clean build of your code."}, {"owner": {"reputation": 638, "user_id": 2355357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQd04.jpg?s=128&g=1", "display_name": "Elkvis", "link": "https://stackoverflow.com/users/2355357/elkvis"}, "edited": false, "score": 0, "creation_date": 1490817917, "post_id": 43102853, "comment_id": 73287913, "body": "What version of gcc (<code>g++ --version</code>) are you using?"}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "edited": false, "score": 0, "creation_date": 1490818446, "post_id": 43102853, "comment_id": 73288188, "body": "what version of boost are you using?"}, {"owner": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "reply_to_user": {"reputation": 638, "user_id": 2355357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQd04.jpg?s=128&g=1", "display_name": "Elkvis", "link": "https://stackoverflow.com/users/2355357/elkvis"}, "edited": false, "score": 0, "creation_date": 1490821522, "post_id": 43102853, "comment_id": 73289854, "body": "@Elkvis  { g++ --version Configured with: --prefix=/Library/Developer/CommandLineTools/usr --with- gxx-include-dir=/usr/include/c++/4.2.1 Apple LLVM version 8.0.0 (clang-800.0.42.1) Target: x86_64-apple-darwin16.4.0 Thread model: posix InstalledDir: /Library/Developer/CommandLineTools/usr/bin }"}, {"owner": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "edited": false, "score": 0, "creation_date": 1490821750, "post_id": 43102853, "comment_id": 73289968, "body": "Boost version is 1.63.0"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1491313246, "post_id": 43102853, "comment_id": 73489365, "body": "That&#39;s not g++ it&#39;s clang, please don&#39;t tag questions with <a href=\"https://stackoverflow.com/questions/tagged/g%2b%2b\">g++</a> if you&#39;re using Apple&#39;s fake-g++"}], "answers": [{"comments": [{"owner": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "edited": false, "score": 0, "creation_date": 1490821700, "post_id": 43103420, "comment_id": 73289944, "body": "No there is not macro defined"}, {"owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "reply_to_user": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "edited": false, "score": 0, "creation_date": 1490821902, "post_id": 43103420, "comment_id": 73290040, "body": "Look at the code after preprocessing. Does your <code>circular_buffer&#47;base.hpp</code> file look as my snippet above?"}, {"owner": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "edited": false, "score": 0, "creation_date": 1490823254, "post_id": 43103420, "comment_id": 73290728, "body": "template &lt;class T, class Alloc&gt; class &lt;int&gt; /*! \\cond <i>/ #if BOOST_CB_ENABLE_DEBUG : public cb_details::debug_iterator_registry #endif /</i>! \\endcond */ {    // Requirements     //BOOST_CLASS_REQUIRE(T, boost, SGIAssignableConcept);       //BOOST_CONCEPT_ASSERT((Assignable&lt;T&gt;));     //BOOST_CONCEPT_ASSERT((CopyConstructible&lt;T&gt;));     //BOOST_CONCEPT_ASSERT((DefaultConstructible&lt;T&gt;));      // Required if the circular_buffer will be compared with anther container.     //BOOST_CONCEPT_ASSERT((EqualityComparable&lt;T&gt;));     //BOOST_CONCEPT_ASSERT((LessThanComparable&lt;T&gt;));"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "edited": false, "score": 2, "creation_date": 1490861421, "post_id": 43103420, "comment_id": 73304085, "body": "&quot;Changing the header&quot;? @user1918858 Don&#39;t change the header. Report a bug or fix it from the release download."}], "tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": true, "score": 0, "last_activity_date": 1490818966, "creation_date": 1490818966, "answer_id": 43103420, "question_id": 43102853, "link": "https://stackoverflow.com/questions/43102853/need-help-solving-c-boost-compilation-error/43103420#43103420", "title": "Need help solving C++ boost compilation error", "body": "<p>It seems that for some reason the definition</p>\n\n<pre><code>template &lt;class T, class Alloc&gt; \nclass circular_buffer                          // circular_buffer/base.hpp line 72\n/*! \\cond */\n#if BOOST_CB_ENABLE_DEBUG\n: public cb_details::debug_iterator_registry\n#endif\n/*! \\endcond */\n{ /* ... */ };\n</code></pre>\n\n<p>is corrupted. Presumably, you have some macros defined, such as</p>\n\n<pre><code>#define circular_buffer &lt;int&gt;\n</code></pre>\n"}], "owner": {"reputation": 1082, "user_id": 1918858, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a9249e7767f226a6d279b460e2e7616?s=128&d=identicon&r=PG&f=1", "display_name": "user1918858", "link": "https://stackoverflow.com/users/1918858/user1918858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 43103420, "answer_count": 1, "score": -1, "last_activity_date": 1490825179, "creation_date": 1490816985, "last_edit_date": 1490825179, "question_id": 43102853, "link": "https://stackoverflow.com/questions/43102853/need-help-solving-c-boost-compilation-error", "title": "Need help solving C++ boost compilation error", "body": "<p>I am trying to build a sample C++ Circular buffer code but keep running into the issue of <code>declaration of anonymous class must be a definition</code>\nThe sad part is that I was able to run this code earlier on my Mac but can't do so now, can you suggest can be done to find the root cause.</p>\n\n<p><strong>Compilation</strong> </p>\n\n<pre><code>g++ temp.cpp\nIn file included from temp.cpp:1:\nIn file included from /usr/local/include/boost/circular_buffer.hpp:55:\n/usr/local/include/boost/circular_buffer/base.hpp:72:1: error: declaration of anonymous class must be a definition\nclass &lt;int&gt;\n^\ntemp.cpp:9:35: error: implicit instantiation of undefined template 'boost::circular_buffer&lt;int, std::__1::allocator&lt;int&gt; &gt;'\n      boost::circular_buffer&lt;int&gt; cb(3);\n                                  ^\n/usr/local/include/boost/circular_buffer_fwd.hpp:34:7: note: template is declared here\nclass circular_buffer;\n      ^\n2 errors generated.\n</code></pre>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>   #include &lt;boost/circular_buffer.hpp&gt;\n   #include &lt;numeric&gt;\n   #include &lt;assert.h&gt;\n\n    int main(int /*argc*/, char* /*argv*/[])\n   {\n      // create a circular buffer of capacity 3\n      boost::circular_buffer&lt;int&gt; cb(3);\n\n      // insert some elements into the circular buffer\n      cb.push_back(1);\n      cb.push_back(2);\n\n      // assertions\n      assert(cb[0] == 1);\n      assert(cb[1] == 2);\n      assert(!cb.full());\n      assert(cb.size() == 2);\n      assert(cb.capacity() == 3);\n\n      // insert some other elements\n      cb.push_back(3);\n      cb.push_back(4);\n\n      // evaluate the sum\n      int sum = std::accumulate(cb.begin(), cb.end(), 0);\n\n      // assertions\n      assert(cb[0] == 2);\n      assert(cb[1] == 3);\n      assert(cb[2] == 4);\n      assert(*cb.begin() == 2);\n      assert(cb.front() == 2);\n      assert(cb.back() == 4);\n      assert(sum == 9);\n      assert(cb.full());\n      assert(cb.size() == 3);\n      assert(cb.capacity() == 3);\n\n      return 0;\n   }\n</code></pre>\n\n<p><strong>G++ Version</strong></p>\n\n<pre><code>g++ --version\nConfigured with: --prefix=/Library/Developer/CommandLineTools/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\nApple LLVM version 8.0.0 (clang-800.0.42.1)\nTarget: x86_64-apple-darwin16.4.0\nThread model: posix\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\n</code></pre>\n\n<p><strong>Boost Version is 1.63.0</strong></p>\n\n<p><strong>=============== SOLVED ====================</strong></p>\n"}, {"tags": ["c++", "opengl"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "edited": false, "score": 0, "creation_date": 1490817189, "post_id": 43102817, "comment_id": 73287524, "body": "are you rendering in a 3d view? with pan, zoom, rotate?"}, {"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "reply_to_user": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "edited": false, "score": 0, "creation_date": 1490817272, "post_id": 43102817, "comment_id": 73287564, "body": "No, this is only in 2D. But I would imagine that the concepts are the same"}], "tags": [], "owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "is_accepted": false, "score": 0, "last_activity_date": 1490817243, "last_edit_date": 1490817243, "creation_date": 1490816830, "answer_id": 43102817, "question_id": 43102726, "link": "https://stackoverflow.com/questions/43102726/pure-opengl-zoom-camera-to-mouse-pos/43102817#43102817", "title": "pure opengl zoom camera to mouse pos", "body": "<p>You may need to do some editing on your code to make sure everything is compatible such as editing the viewgraph. But here is a code snippet from my project that does exactly what you are saying. I think that the code is pretty self-explanatory, </p>\n\n<pre><code>void modelDefinition::onMouseWheel(wxMouseEvent &amp;event)\n{\n    if(event.GetWheelRotation() != 0)\n    {\n        /* This section of the code was adapted from Agro2D */\n\n        _cameraX += (((2.0 / this-&gt;GetSize().GetWidth()) * (event.GetX() - this-&gt;GetSize().GetWidth() / 2.0)) / _zoomFactor) * (this-&gt;GetSize().GetWidth() / this-&gt;GetSize().GetHeight());\n        _cameraY += (-(2.0 / this-&gt;GetSize().GetHeight()) * (event.GetY() - this-&gt;GetSize().GetHeight() / 2.0)) / _zoomFactor;\n\n        if(!_preferences.getMouseZoomReverseState())\n        {\n            if(event.GetWheelRotation() &gt; 0)\n                _zoomFactor *= pow(1.2, -(event.GetWheelDelta()) / 150.0);\n            else\n                _zoomFactor *= pow(1.2, (event.GetWheelDelta()) / 150.0);\n        }\n        else\n        {\n            if(event.GetWheelRotation() &lt; 0)\n                _zoomFactor *= pow(1.2, -(event.GetWheelDelta()) / 150.0);\n            else\n                _zoomFactor *= pow(1.2, (event.GetWheelDelta()) / 150.0);\n        }\n\n        /* This will recalculate the new position of the mouse. Assuming that the mouse does not move at all during the process\n         * This also enables the feature where the zoom will zoom in/out at the position of the mouse */\n\n        _cameraX -= (((2.0 / this-&gt;GetSize().GetWidth()) * (event.GetX() - this-&gt;GetSize().GetWidth() / 2.0)) / _zoomFactor) * (this-&gt;GetSize().GetWidth() / this-&gt;GetSize().GetHeight());\n        _cameraY -= (-(2.0 / this-&gt;GetSize().GetHeight()) * (event.GetY() - this-&gt;GetSize().GetHeight() / 2.0)) / _zoomFactor;\n    }\n\n    this-&gt;Refresh();// This will force the canvas to experience a redraw event\n}\n</code></pre>\n\n<p>I should mention that the function <code>this-&gt;Refresh</code> will just cause my screen to update. Yours might be different.</p>\n\n<p>Also, _cameraX and _cameraY stores the offset of the openGL canvas.</p>\n\n<p>Here is the constructor for my canvas:</p>\n\n<pre><code>modelDefinition::modelDefinition(wxWindow *par, const wxPoint &amp;point, const wxSize &amp;size, problemDefinition &amp;definition) : wxGLCanvas(par, wxID_ANY, NULL, point, size, wxBORDER_DOUBLE | wxBORDER_RAISED)\n{\n    _geometryContext = new wxGLContext(this);\n    wxGLCanvas::SetCurrent(*_geometryContext);\n\n    _localDefinition = &amp;definition;\n\n    _editor.setZoomFactorAddress(_zoomFactor);\n\n    glViewport(0, 0, (double)this-&gt;GetSize().GetWidth(), (double)this-&gt;GetSize().GetHeight());\n\n    glClearColor(1.0f, 1.0f, 1.0f, 1.0f);\n    glMatrixMode(GL_MODELVIEW);// The matrix mode specifies which matrix stack is the target for matrix operations\n    glLoadIdentity();// Initial value\n    glTranslated((float)this-&gt;GetSize().GetWidth() / 2.0f, (float)this-&gt;GetSize().GetHeight() / 2.0f, 0.0f);// This will move the camera to the center of the screen\n\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n\n    glOrtho(-1.0, 1.0, -1.0, 1.0, -1.0, 1.0);\n    GLenum error = glGetError();\n    if(error != GL_NO_ERROR)\n    {\n    //  wxMessageBox(\"Error - \" + gluErrorString(error));\n        return;\n    }\n\n    glMatrixMode(GL_MODELVIEW);\n}\n</code></pre>\n\n<p>And here is the code that handles updating the position of my view:</p>\n\n<pre><code>void modelDefinition::updateProjection()\n{\n    // First, load the projection matrix and reset the view to a default view\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n\n    //Reset to modelview matrix\n    glMatrixMode(GL_MODELVIEW);\n    glLoadIdentity();\n\n    /* This section will handle the translation (panning) and scaled (zooming). \n     * Needs to be called each time a draw occurs in order to update the placement of all the components */\n    if(_zoomFactor &lt; 1e-9)\n        _zoomFactor = 1e-9;\n\n    if(_zoomFactor &gt; 1e6)\n        _zoomFactor = 1e6;\n\n    glScaled(_zoomFactor / (this-&gt;GetSize().GetWidth() / this-&gt;GetSize().GetHeight()), _zoomFactor, 1.0);\n\n    glTranslated(-_cameraX, -_cameraY, 0.0);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "edited": false, "score": 0, "creation_date": 1490840051, "post_id": 43105198, "comment_id": 73295600, "body": "Im a little confused on what you mean, i have the 3D cords of the mouse cursor, just really confused on how to zoom to it"}], "tags": [], "owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "is_accepted": false, "score": 0, "last_activity_date": 1490825927, "creation_date": 1490825927, "answer_id": 43105198, "question_id": 43102726, "link": "https://stackoverflow.com/questions/43102726/pure-opengl-zoom-camera-to-mouse-pos/43105198#43105198", "title": "pure opengl zoom camera to mouse pos", "body": "<p>Let's suppose you have the 3D coordinates of the mouse cursor. Undoing the viewport transformation you get these coordinates in NDC space, and also by matrix inversion you can get View space or Model space coordinates. Now, you have a vector from camera to these mouse coordinates (in whatever space you like). The last step is moving the camera following that vector by an amount depending on mouse wheel-rotation.\n<p>If you don't have those 3D mouse coordinates... you have a big problem, due to it's not possible to get 3D information from a 2D data. You lack the \"depth in the screen\", Z value in NDC space.</p>\n"}], "owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1266, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490825927, "creation_date": 1490816467, "question_id": 43102726, "link": "https://stackoverflow.com/questions/43102726/pure-opengl-zoom-camera-to-mouse-pos", "title": "pure opengl zoom camera to mouse pos", "body": "<p>Im trying to edit my mouse zoom function to zoom towards the mouse pos in 3d world, I can get the 3d cords of the mouse if i need that just not sure how to do it.</p>\n\n<p>At the moment my zoom just zooms towards the screen center.</p>\n\n<pre><code>void CCamera::OnMouseWheel(float zDelta)\n{\n    Position -= Reference;\n\n    if(zDelta &lt; 0 &amp;&amp; length(Position) &lt; 500.0f)\n    {\n        Position += Position * 0.1f;\n    }\n\n    if(zDelta &gt; 0 &amp;&amp; length(Position) &gt; 0.05f)\n    {\n        Position -= Position * 0.1f;\n    }\n\n    Position += Reference;\n\n    CalculateViewMatrix();\n}\n\nvoid CCamera::CalculateViewMatrix()\n{\n    ViewMatrix = mat4x4(X.x, Y.x, Z.x, 0.0f, X.y, Y.y, Z.y, 0.0f, X.z, Y.z, Z.z, 0.0f, -dot(X, Position), -dot(Y, Position), -dot(Z, Position), 1.0f);\n    ViewMatrixInverse = inverse(ViewMatrix);\n    ViewProjectionMatrix = ProjectionMatrix * ViewMatrix;\n    ViewProjectionMatrixInverse = ViewMatrixInverse * ProjectionMatrixInverse;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "for-loop", "iterator"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1490816612, "post_id": 43102700, "comment_id": 73287210, "body": "Assuming <code>x</code> is an array or array-like type, are you sure <code>x[n]</code> is a legitimate element in your array? If you have an array <code>int x[n]</code> then the last element you can access is <code>x[n-1];</code>. You can&#39;t place an element beyond the end of an array and expect it to grow to accommodate it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6948476"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490821218, "post_id": 43102700, "comment_id": 73289697, "body": "i have int x[100] and in input i fill only 10  (out of 101?) places"}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1490852613, "post_id": 43105771, "comment_id": 73299134, "body": "@anakata look at my examples again more carefully. They use only one array and sort it inline, just like you are attempting to do. Did you even try the code I gave you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6948476"}, "edited": false, "score": 0, "creation_date": 1490888340, "post_id": 43105771, "comment_id": 73323983, "body": "sorry mate i was in hurry.. your code looks good but i wanted to do that without all predefined functions (doPartitionOn)  :)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1490892019, "post_id": 43105771, "comment_id": 73326475, "body": "@anakata: then I suggest you look at the source code for <code>std::stable_partition()</code> to see how it performs its sorting."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1490829387, "last_edit_date": 1490829387, "creation_date": 1490829005, "answer_id": 43105771, "question_id": 43102700, "link": "https://stackoverflow.com/questions/43102700/modifying-iterator-inside-for-loop/43105771#43105771", "title": "Modifying iterator inside for loop", "body": "<p>What you are looking for can be done using the STL's <a href=\"http://en.cppreference.com/w/cpp/algorithm/stable_partition\" rel=\"nofollow noreferrer\"><code>std::stable_partition()</code></a> algorithm:</p>\n\n<blockquote>\n  <p>divides elements into two groups while preserving their relative order </p>\n</blockquote>\n\n<p>Let it do the hard work for you, eg:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nstruct doPartitionOn\n{\n    int m_key;\n\n    doPartitionOn(int key) : m_key(key) {}\n\n    bool operator()(int a)\n    {\n        return (a &lt; m_key);\n    }\n};\n\nint main()\n{\n    int arr[] = {4, 7, 3, 5, 6, 2, 9, 1, 10, 8};\n\n    for(int i = 0; i &lt; 10; ++i)\n        std::cout &lt;&lt; arr[i] &lt;&lt; ' ';\n    std::cout &lt;&lt; std::endl;\n\n    std::stable_partition(arr, arr+10, doPartitionOn(arr[0]));\n\n    for(int i = 0; i &lt; 10; ++i)\n        std::cout &lt;&lt; arr[i] &lt;&lt; ' ';\n    std::cout &lt;&lt; std::endl;\n\n    std::cin.get();\n    return 0;\n}\n</code></pre>\n\n<blockquote>\n  <p>4 7 3 5 6 2 9 1 10 8<br>\n  3 2 1 4 7 5 6 9 10 8 </p>\n</blockquote>\n\n<p><a href=\"http://ideone.com/GW2mCc\" rel=\"nofollow noreferrer\">Live demo</a></p>\n\n<p>Or, if using C++11 or later, you can use a lambda instead of a manual functor:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    int arr[] = {4, 7, 3, 5, 6, 2, 9, 1, 10, 8};\n\n    for(int value: arr)\n        std::cout &lt;&lt; value &lt;&lt; ' ';\n    std::cout &lt;&lt; std::endl;\n\n    std::stable_partition(arr, arr+10, [&amp;arr](int a){ return (a &lt; arr[0]); });\n\n    for(int value: arr)\n        std::cout &lt;&lt; value &lt;&lt; ' ';\n    std::cout &lt;&lt; std::endl;\n\n    std::cin.get();\n    return 0;\n}\n</code></pre>\n\n<blockquote>\n  <p>4 7 3 5 6 2 9 1 10 8<br>\n  3 2 1 4 7 5 6 9 10 8 </p>\n</blockquote>\n\n<p><a href=\"http://ideone.com/WxIDBG\" rel=\"nofollow noreferrer\">Live demo</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6948476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490829387, "creation_date": 1490816374, "question_id": 43102700, "link": "https://stackoverflow.com/questions/43102700/modifying-iterator-inside-for-loop", "title": "Modifying iterator inside for loop", "body": "<p>I have a problem like this:\nI got size of array and the array itself (all the elements) and i need to sort the array in the way that first item in array (lets call it key item) is placed so all items smaller then key item go left from key item and all items larger then key item go right form key item, but the items need to be i a same order as they was in declaration like so:\narray input:</p>\n\n<pre><code>4 7 3 5 6 2 9 1 10 8\n</code></pre>\n\n<p>array output:</p>\n\n<pre><code>3 2 1 4 7 5 6 9 10 8\n</code></pre>\n\n<p>so i thought i can just go one time through array and if value is smaller then key item swap them and if value is larger then key item, place that value (item ) at the  end (if there is n items in array place it on n+1 place) and then to shift all items from current index one place to the left like:</p>\n\n<pre><code>| 4 | 7 | 3 | 5 | 6 | 2 | 9 | 1  | 10 | 8 |\n\n| 4 |   | 3 | 5 | 6 | 2 | 9 | 1  | 10 | 8 | 7 |\n\n| 4 | 3 | 5 | 6 | 2 | 9 | 1 | 10 | 8 | 7 |\n</code></pre>\n\n<p>but like that i would need to after every shifting make iterator stay same (so it can check that place again.\nI have a code like this :</p>\n\n<pre><code>int u=1;\nfor (int i=1;i&lt;n;i++){\n    if (x[i]&lt;x[u]){\n       swap(x[i],x[u]);\n       u+=1;\n    }else {\n        x[i]=x[n];\n        for (int k=i;k&lt;n-1;k++){x[k]=x[k+1];}\n        i--;\n    }\n}\n</code></pre>\n\n<p>i think i made a mistake in the swapping part but i cant figure it out.</p>\n"}, {"tags": ["c++", "opencv", "machine-learning", "computer-vision", "svm"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490817216, "post_id": 43102680, "comment_id": 73287533, "body": "What&#39;s the type of <code>SVM_TrainingData</code>?"}, {"owner": {"reputation": 1, "user_id": 7781150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29044b73034d76183cebeb4e3e8f03d5?s=128&d=identicon&r=PG&f=1", "display_name": "Wurstpelle", "link": "https://stackoverflow.com/users/7781150/wurstpelle"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490818196, "post_id": 43102680, "comment_id": 73288069, "body": "I have updated my post with informations about the xml-file"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490818882, "post_id": 43102680, "comment_id": 73288392, "body": "So why are you saving <code>training_mat</code> as &quot;TrainingData&quot;, but then you&#39;re loading &quot;x&quot; ?"}, {"owner": {"reputation": 1, "user_id": 7781150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29044b73034d76183cebeb4e3e8f03d5?s=128&d=identicon&r=PG&f=1", "display_name": "Wurstpelle", "link": "https://stackoverflow.com/users/7781150/wurstpelle"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490819367, "post_id": 43102680, "comment_id": 73288673, "body": "Hello @Miki. Thank you for your answer. I corrected (possible copy-paste-issu) that. Now when I run the code I get the following error. OpenCV Error: Assertion failed ((layout == ROW_SAMPLE &amp;&amp; responses.rows == nsamples) || (layout == COL_SAMPLE &amp;&amp; responses.cols == nsamples)) in setData"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490819459, "post_id": 43102680, "comment_id": 73288721, "body": "<code>SVM_TrainingData</code> rows is not equal to <code>SVM_classes</code> number of elements"}], "owner": {"reputation": 1, "user_id": 7781150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29044b73034d76183cebeb4e3e8f03d5?s=128&d=identicon&r=PG&f=1", "display_name": "Wurstpelle", "link": "https://stackoverflow.com/users/7781150/wurstpelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490819137, "creation_date": 1490816306, "last_edit_date": 1495541853, "question_id": 43102680, "link": "https://stackoverflow.com/questions/43102680/training-svm-opencv-3-1-assertion-failed", "title": "Training SVM OpenCV 3.1 - Assertion failed", "body": "<p>\n\n<p>belong my actual problem with OpenCV 3.1 and Qt-Creator. According <a href=\"https://stackoverflow.com/questions/14694810/using-opencv-and-svm-with-images\">this</a> report I tried to implement in my own project. </p>\n\n<p>If I want to train my SVM I get the follwing error: </p>\n\n<blockquote>\n  <p>OpenCV Error: Assertion failed (samples.type() == CV_32F || samples.type() == CV_32S) in setData, file C:...\\opencv-master\\modules\\ml\\src\\data.cpp, line 259</p>\n</blockquote>\n\n<p>Parts of my code are listed below. </p>\n\n<pre><code>int num_files = 205;\nint img_area = 55*66;\nMat training_mat(num_files,img_area, CV_32FC1);\nvector&lt;int&gt; label;\n\n//Labels: 1-138 == 1 | 139-205 == 0\nfor(int i = 0; i &lt; 139; i++)\n{\n    label.push_back(1);\n}\nfor(int i = 139; i &lt; 206; i++)\n{\n    label.push_back(0);\n}\n\nMat classes;\nMat(label).copyTo(classes);\n\n// Imread Pictures\n\nfor(int c = 1; c &lt; num_files; c++)\n{\n    ostringstream name;\n    name &lt;&lt; \"../Name_\" &lt;&lt; c &lt;&lt; \".png\";\n    img_mat = imread(name.str(),0);\n    int ii = 0; \n    for (int i = 0; i &lt; img_mat.rows; i++)\n    {\n        for (int j = 0; j &lt; img_mat.cols; j++)\n        {\n            training_mat.at&lt;float&gt;(c,ii++) = (float)img_mat.at&lt;uchar&gt;(i,j);\n        }\n    }\n}\n\ntraining_mat.convertTo(training_mat, CV_32FC1);\n</code></pre>\n\n<p>I write the Data into an .xml-File with following Params:</p>\n\n<pre><code>FileStorage fs(\"train_SVM.xml\", FileStorage::WRITE);\n        fs &lt;&lt; \"ImagesCount\" &lt;&lt; num_files;\n        time_t rawtime; time(&amp;rawtime);\n        fs &lt;&lt; \"createDate\" &lt;&lt; asctime(localtime(&amp;rawtime));\n        fs &lt;&lt; \"TrainingData\" &lt;&lt; training_mat;\n        fs &lt;&lt; \"classes\" &lt;&lt; classes;\n        fs.release();\n</code></pre>\n\n<p>Training the SVM with this code:</p>\n\n<pre><code>//Read file storage.\n    FileStorage fs;\n    fs.open(\"train_SVM.xml\", FileStorage::READ);\n    Mat SVM_TrainingData;\n    Mat SVM_Classes;    \n    fs[\"TrainingData\"] &gt;&gt; SVM_TrainingData; \n    fs[\"classes\"] &gt;&gt; SVM_Classes; \n    Ptr&lt;ml::SVM&gt; svm = ml::SVM::create();\n    //Set SVM params\n    svm-&gt;setType(ml::SVM::C_SVC);\n    svm-&gt;setKernel(ml::SVM::LINEAR);\n    svm-&gt;setDegree(0);\n    svm-&gt;setGamma(1);\n    svm-&gt;setCoef0(0);\n    svm-&gt;setC(1);\n    svm-&gt;setNu(0);\n    svm-&gt;setP(0);\n    svm-&gt;setTermCriteria(TermCriteria(CV_TERMCRIT_ITER, 1000, 0.01));\n    //Train SVM\n    svm-&gt;train( SVM_TrainingData, ml::ROW_SAMPLE , SVM_Classes );\n</code></pre>\n\n<p>Do you have a idea what the concrete problem is?</p>\n"}, {"tags": ["c++", "visual-studio", "visual-studio-2012", "compilation"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1490815681, "post_id": 43102476, "comment_id": 73286647, "body": "I appreciate how hard this is, especially because I couldn&#39;t do it either, but SO isn&#39;t suited for questions like this. You&#39;re going to need to get familiar with a whole load of stuff in c++ and a single SO question isn&#39;t the first place. Sorry man"}, {"owner": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "reply_to_user": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1490815996, "post_id": 43102476, "comment_id": 73286851, "body": "Yes, i know and i appreciate the desire of making all questions at a certain standard and quality, i really didn&#39;t want to ask this kind of question here but i am really lost. I have tried every method i know to compile but didn&#39;t work. I think that that is because of libraries. But i do want to know that if it is my problem or the errors are in the code so ih ave nothing to do about it. The last 3 hours i spent on this, and couldn&#39;t manage anything. If noone answers, i will not judge."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1490820681, "post_id": 43102476, "comment_id": 73289402, "body": "<code>make</code> is a program that reads a file with &quot;recipes&quot; in it, and executes proper commands to assemble those recipes. There are various forms of <code>make</code> out there, from various parties and compiler makers. A popular one is <a href=\"https://www.gnu.org/software/make/\" rel=\"nofollow noreferrer\">GNU make</a>."}, {"owner": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "edited": false, "score": 0, "creation_date": 1490822063, "post_id": 43102476, "comment_id": 73290123, "body": "Thanks for your answer Steve. I think GNU make can be a solution here. If you want to make this as an answer, i will accept it as an correct answer and close this question."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "edited": false, "score": 0, "creation_date": 1490816241, "post_id": 43102577, "comment_id": 73286994, "body": "Thanks for contribution. I have watched these kind of stuff before writing this shitty question here, but most of them are compiling &quot;hello world&quot; files. My problem is based on compiling the libraries. Libraries that is written by the developers of the code. They have some errors, and i do want to know them whether they are my problem to not able ot compile or this code has this error (means uncompilable code)."}, {"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "reply_to_user": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "edited": false, "score": 0, "creation_date": 1490816410, "post_id": 43102577, "comment_id": 73287092, "body": "If you have a good foundation in C++, then debugging through the library will not be as hard. In my own experience, when I get an issue with a library compiling, it is usually because I did something wrong rather then the library itself. I would recommend posting a question to a forum that the library has (if there is one). Or, edit this question and Delibes the exact error that you are receiving. The more detailed question, the more detailed answer"}, {"owner": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "edited": false, "score": 0, "creation_date": 1490816789, "post_id": 43102577, "comment_id": 73287318, "body": "i have specified the quiestion with the libraries. I hope someone helps. Also as you can see in the second link, this is a google sites, like a personal web site. No forum, only email can be sent and i already sent."}], "tags": [], "owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "is_accepted": false, "score": 0, "last_activity_date": 1490815879, "creation_date": 1490815879, "answer_id": 43102577, "question_id": 43102476, "link": "https://stackoverflow.com/questions/43102476/how-to-compile-a-whole-c-project/43102577#43102577", "title": "How to compile a whole c++ project", "body": "<p>Without posting any code, answers to these will be difficult but, to get you started I will post some beginner related stuff here.</p>\n\n<p>I would recommend to first watch a video on how to use visual studio C++:\n<a href=\"https://www.youtube.com/watch?v=-PAn2V3j1wA\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-PAn2V3j1wA</a></p>\n\n<p>This video will show how to compile a project.</p>\n\n<p>And then, I would recommend getting some basic understanding in C++ or you will be overwhelmed with everything. Here is a good site to get started:</p>\n\n<p><a href=\"http://www.learncpp.com/\" rel=\"nofollow noreferrer\">http://www.learncpp.com/</a></p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 35, "user_id": 4789402, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/567999413342230/picture?type=large", "display_name": "Ozan Polatbilek", "link": "https://stackoverflow.com/users/4789402/ozan-polatbilek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1490816637, "creation_date": 1490815537, "last_edit_date": 1490816637, "question_id": 43102476, "link": "https://stackoverflow.com/questions/43102476/how-to-compile-a-whole-c-project", "title": "How to compile a whole c++ project", "body": "<p>i am trying to execute a program. I have no experience with c++. I got this network generator code and wanted to try it. However, i am not able to compile it. I have tried to open a solution and then add files to visual studio, gave me errors for libraries, then tried to compile with the command prompt of visual studio, again gave me error. The readme file only says that:</p>\n\n<p>-------------------- How to compile -----------------------------------</p>\n\n<p>In order to compile, type:</p>\n\n<p>make</p>\n\n<p>I typed 'make' to every place i have found if this command is known, not working. How can i compile this project? The libraries throw several coding errors like \"X variable is not declared\"...etc. I don't think that the library is badly written. How to compile a project with its libraries? The direct download link and the file root link is given below. Thank you for helping me with this small problem.</p>\n\n<p>A direct download link is here: <a href=\"https://sites.google.com/site/andrealancichinetti/files/binary_networks.tar.gz?attredirects=0&amp;d=1\" rel=\"nofollow noreferrer\">https://sites.google.com/site/andrealancichinetti/files/binary_networks.tar.gz?attredirects=0&amp;d=1</a></p>\n\n<p>The project is here, the first one: \n<a href=\"https://sites.google.com/site/andrealancichinetti/files\" rel=\"nofollow noreferrer\">https://sites.google.com/site/andrealancichinetti/files</a></p>\n"}, {"tags": ["c++", "zeromq"], "answers": [{"comments": [{"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 1, "creation_date": 1490821290, "post_id": 43102979, "comment_id": 73289735, "body": "Thanks, I just wanted to make it as a proof of concept more than anything - I know ZeroMQ is all about distributed messaging and not brokered messaging."}, {"owner": {"reputation": 6143, "user_id": 2147218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQVSl.jpg?s=128&g=1", "display_name": "bazza", "link": "https://stackoverflow.com/users/2147218/bazza"}, "reply_to_user": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1490821429, "post_id": 43102979, "comment_id": 73289806, "body": "@RPGillespie, no worries :)"}], "tags": [], "owner": {"reputation": 6143, "user_id": 2147218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQVSl.jpg?s=128&g=1", "display_name": "bazza", "link": "https://stackoverflow.com/users/2147218/bazza"}, "is_accepted": true, "score": 1, "last_activity_date": 1490820070, "last_edit_date": 1490820070, "creation_date": 1490817370, "answer_id": 43102979, "question_id": 43102473, "link": "https://stackoverflow.com/questions/43102473/zeromq-simple-broker/43102979#43102979", "title": "ZeroMQ Simple Broker", "body": "<p>AFAIK there's no other way. </p>\n\n<p>Fundamentally you are reading data from a socket, changing it (swapping <code>to_address</code> &amp; <code>from_address</code> around), and sending it back out. </p>\n\n<p>The change (the swap) is important. ZMQ is a transport, it simply shifts your program's data from A to B. That's all it does. It doesn't have an ability to change the data in any way. </p>\n\n<p>So it's inevitable that the messages have to come out of the transport, and be put back into it again. </p>\n\n<p>You could try the zerocopy alternatives. That avoids some of the copying that's going on.</p>\n"}], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 0, "accepted_answer_id": 43102979, "answer_count": 1, "score": 0, "last_activity_date": 1490820070, "creation_date": 1490815525, "question_id": 43102473, "link": "https://stackoverflow.com/questions/43102473/zeromq-simple-broker", "title": "ZeroMQ Simple Broker", "body": "<p>I am trying to make a simple broker (i.e. star topology) that allows any <code>DEALER</code> node to talk to any other <code>DEALER</code> node that has also connected to the broker. Here is the current setup:</p>\n\n<pre><code>// Simple broker\n#include &lt;string&gt;\n#include &lt;zmq.hpp&gt;\n#include &lt;zhelpers.hpp&gt;\n\nusing namespace std;\n\nint main()\n{\n    zmq::context_t context(1);\n    zmq::socket_t router(context, ZMQ_ROUTER);\n    router.bind(\"ipc://router.ipc\");\n\n    while (true)\n    {\n        string from_address = s_recv(router);\n        string to_address   = s_recv(router);\n        string message      = s_recv(router);\n\n        s_sendmore(router, to_address);\n        s_sendmore(router, from_address);\n        s_send(router, message);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>This works, however, I feel like I just made this up and that it is inefficient to copy the incoming frames (esp. the data) into strings when I'm just swapping the positions of the first two frames and sending it right back out. </p>\n\n<p>My question is - is there a standard way of doing what I am trying to do here?</p>\n\n<p>It seems like every single google query sends me back to the monolithic Guide/Bible instead of implementation examples...</p>\n"}, {"tags": ["c++", "xcode", "xcode8", "cin", "cout"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1490815261, "post_id": 43102289, "comment_id": 73286358, "body": "While it&#39;s great you provided sample code, please take care that it is compilable, specially if you are having issues at run-time. Please take the time to read this page on providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490815444, "post_id": 43102289, "comment_id": 73286484, "body": "Apologies. I&#39;m see why it would be impossible for someone else to compile. However my issue is just with the cout and cin area that I attempted to highlight. Hopefully someone can see an issue there"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1490815452, "post_id": 43102289, "comment_id": 73286491, "body": "After fixing your compiler errors, I was not able to reproduce your observed behavior. What compiler, compiler version and compiler flags are you using? Normally, any call to <code>std::cin</code> should flush <code>std::cout</code>, but it doesn&#39;t seem to be happening here. Try adding <code>&lt;&lt; std::flush</code> after each <code>std::cout</code>. If this solves your problem, it looks like a library implementation bug to me. Though perhaps, in the process of fixing the compilation errors, I&#39;ve made a change that avoids the problem you are describing."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1490815457, "post_id": 43102289, "comment_id": 73286493, "body": "I suggest reducing your code to the minimal amount needed to reproduce the problem. This probably means just doing a bunch of cin and cout statements with local variables. There is no need for the GameCharacter class or any of the other functions that have nothing to do with your question."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490815595, "post_id": 43102289, "comment_id": 73286592, "body": "@Fran&#231;oisAndrieux i&#39;m just using the built in tools within xcode 8. Nothing custom or special. In fact, I&#39;m certain that it worked just fine a few days ago yet I have changed nothing"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490815785, "post_id": 43102289, "comment_id": 73286708, "body": "@AdamJarvis Are you entering your inputs by hand? If you supply your inputs fast enough, it may appear in your terminal in the way you describe."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490815884, "post_id": 43102289, "comment_id": 73286776, "body": "@Fran&#231;oisAndrieux I updated my question with a minified example. That Is all the code in my editor in a new project."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1490816006, "post_id": 43102289, "comment_id": 73286857, "body": "Do you run your application in a terminal emulator? Do you enter <code>12</code>  by hand after the application has started?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490816073, "post_id": 43102289, "comment_id": 73286893, "body": "@AdamJarvis Please try using <code>std::flush</code> like this <code>std::cout &lt;&lt; &quot;Testing: &quot; &lt;&lt; std::flush;</code> and report on what you observe. As per my first comment, it looks like your stream isn&#39;t flushed when using <code>std::cin</code> while it should. Please confirm that you are providing your input by hand, giving time for your terminal to display the &quot;Testing: &quot; prompt."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1490816073, "post_id": 43102289, "comment_id": 73286894, "body": "@n.m. It is using the build tool and terminal within Xcode 8. Yes I enter the input by hand"}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490816132, "post_id": 43102289, "comment_id": 73286932, "body": "@Fran&#231;oisAndrieux Yes I am entering the input by hand inside of the terminal within Xcode 8. Adding <code>std::flush</code> changed nothing sadly"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1490816188, "post_id": 43102289, "comment_id": 73286966, "body": "I&#39;m guessing that it&#39;s a problem with the Xcode 8 terminal then. Try running it from the command line instead."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490816254, "post_id": 43102289, "comment_id": 73286999, "body": "@AdamJarvis I recommend adding the Xcode tag to your question, as the problem does not lie with your code. The code you provided should in fact produce the results you expect. This looks like a problem with your development environment or your terminal."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1490816325, "post_id": 43102289, "comment_id": 73287036, "body": "As far as I know there&#39;s no real terminal window in Xcode. Whatever interactive window it provides may or may not behave like a terminal. Try running from the command line in a real terminal emulator."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490816363, "post_id": 43102289, "comment_id": 73287059, "body": "@Fran&#231;oisAndrieux Thanks, I have added the tags as suggested. It&#39;s also worrying me that the code in the question supposedly uses 1.7 MB of memory..."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1490816401, "post_id": 43102289, "comment_id": 73287087, "body": "1.7 MB is normal. C++ runtime is quite large."}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1490816473, "post_id": 43102289, "comment_id": 73287126, "body": "@n.m. after compiling and running inside a native terminal, the code works fine and as intended. Very weird stuff in Xcode then, as this worked before..."}], "answers": [{"comments": [{"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "reply_to_user": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "edited": false, "score": 0, "creation_date": 1490818545, "post_id": 43102715, "comment_id": 73288222, "body": "@AdamJarvis wich version of GCC are you using?"}, {"owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "edited": false, "score": 0, "creation_date": 1490819208, "post_id": 43102715, "comment_id": 73288571, "body": "your workaround doesn&#39;t seem to change anything for me. GCC is whatever comes with Xcode"}], "tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": false, "score": 1, "last_activity_date": 1490817801, "last_edit_date": 1495541419, "creation_date": 1490816422, "answer_id": 43102715, "question_id": 43102289, "link": "https://stackoverflow.com/questions/43102289/c-issues-using-cout-and-cin-on-same-line-xcode8/43102715#43102715", "title": "c++ issues using cout and cin on same line (xcode8)", "body": "<p>Apparently is a <a href=\"https://forums.macrumors.com/threads/c-xcode-3-2-fstream-h-dont-working.796818/#post-8590820\" rel=\"nofollow noreferrer\">specific problem with C++ streams, in Xcode debugger, Debug build.</a></p>\n\n<p>Try this:<br>\n1. Project -> Edit Active Target ...<br>\n2. Search for \"preprocessor\" in Build<br>\n3. <strong>Delete</strong> the values:<br>\nPreprocessor Macros = <code>_GLIBCXX_DEBUG=1 _GLIBCXX_DEBUG_PEDANTIC=1</code></p>\n\n<p>I found a similar issue but for  <a href=\"https://stackoverflow.com/questions/1603300/xcode-3-2-1-and-c-string-fails\">Xcode 3.2.1 and C++ string fails!</a></p>\n\n<p>You can try also this workaround:<br>\nPaste these lines at the very beginning of your program (before any <code>#include</code> statements):</p>\n\n<pre><code>#define _GLIBCXX_FULLY_DYNAMIC_STRING 1\n#undef _GLIBCXX_DEBUG\n#undef _GLIBCXX_DEBUG_PEDANTIC\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4295477, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh4.googleusercontent.com/-pIihkXg_1a0/AAAAAAAAAAI/AAAAAAAAA8M/hDgl1_HRkjw/photo.jpg?sz=128", "display_name": "Adam Jarvis", "link": "https://stackoverflow.com/users/4295477/adam-jarvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1490817801, "creation_date": 1490814975, "last_edit_date": 1490816925, "question_id": 43102289, "link": "https://stackoverflow.com/questions/43102289/c-issues-using-cout-and-cin-on-same-line-xcode8", "title": "c++ issues using cout and cin on same line (xcode8)", "body": "<p>Using Xcode with c++ I'm trying to create a simple console application. However my usage of cout and cin does not seem to work as I intend it to.</p>\n\n<p>I'm expecting:</p>\n\n<pre><code>Testing: 12\ninput was 12\n</code></pre>\n\n<p>edit: i've cut down the code test as much as I can:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main(int argc, const char * argv[]) {\n    // insert code here...\n    int num;\n    std::cout &lt;&lt; \"Testing: \";\n    std::cin &gt;&gt; num;\n    std::cout &lt;&lt; \"input was \" &lt;&lt; num &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>12\nTesting: input was 12\nProgram ended with exit code: 0\n</code></pre>\n\n<p>Is there something I'm missing here?</p>\n"}, {"tags": ["c++", "multithreading", "synchronization", "barrier"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1490815035, "post_id": 43102138, "comment_id": 73286241, "body": "This sounds like a job for `std::future."}, {"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 0, "creation_date": 1490815210, "post_id": 43102138, "comment_id": 73286331, "body": "From reading <a href=\"https://timsong-cpp.github.io/cppwp/thread.thread.member#4\" rel=\"nofollow noreferrer\">this</a> , I&#39;d say that yes - .join() does synchronize, and you don&#39;t need a memory barrier. But that text is not written for normal mortals to interpret, so I&#39;ll leave the answering to someone else. Maybe also a duplicate of <a href=\"http://stackoverflow.com/questions/12444891/are-memory-barriers-required-when-joining-on-a-thread?rq=1\" title=\"are memory barriers required when joining on a thread\">stackoverflow.com/questions/12444891/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "is_accepted": true, "score": 1, "last_activity_date": 1490817009, "last_edit_date": 1490817009, "creation_date": 1490816520, "answer_id": 43102737, "question_id": 43102138, "link": "https://stackoverflow.com/questions/43102138/do-i-need-memory-barrier-for-accessing-memory-modified-by-the-thread-that-finish/43102737#43102737", "title": "Do I need memory barrier for accessing memory modified by the thread that finished?", "body": "<p><code>join</code> synchronizes with the thread that calls <code>join</code>. That is, all writes that <code>A</code> makes will become visible to <code>B</code> when <code>B</code> calls <code>A.join()</code>.</p>\n\n<p>You can think of this as <code>A</code> executing <code>std::atomic_thread_fence(memory_order_release)</code> as it finishes and <code>B</code> executing <code>std::atomic_thread_fence(std::memory_order_acquire</code> as <code>A</code> joins.</p>\n\n<blockquote>\n  <p>Does thread B need a memory barrier </p>\n</blockquote>\n\n<p>Yes, but they are implicit in <code>join</code> and you do not have to write them.</p>\n\n<blockquote>\n  <p>Is there a possibility that when OS API says \"thread A finished\", the changes of memory it modified are not visible to other threads yet? </p>\n</blockquote>\n\n<p>Threads other than the caller of <code>join</code> will need additional synchronization, e.g. <code>std::condition_variable</code> or <code>std::atomic_thread_fence(std::memory_order_acquire);</code></p>\n"}], "owner": {"reputation": 338, "user_id": 3356227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bc1fdb70344dd470e82b9fc761ae5e?s=128&d=identicon&r=PG&f=1", "display_name": "NSH", "link": "https://stackoverflow.com/users/3356227/nsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 43102737, "answer_count": 1, "score": 2, "last_activity_date": 1490817009, "creation_date": 1490814521, "question_id": 43102138, "link": "https://stackoverflow.com/questions/43102138/do-i-need-memory-barrier-for-accessing-memory-modified-by-the-thread-that-finish", "title": "Do I need memory barrier for accessing memory modified by the thread that finished?", "body": "<p>[<em>Hereinafter, C++ terms</em>]\n<br>\n<br>\nI have a thread A and thread B that share access to the integer value P. Thread A initializes this value and updates it while running. Then thread A completes. Thread B waits for thread A to complete (standard OS API call, whatever OS is used) and wants to read P. \n<br>\n<br>\nDoes thread B need a memory barrier to read a coherent, last set by thread A, value of P? Is there a possibility that when OS API says \"thread A finished\", the changes of memory it modified are not visible to other threads yet?\n<br>\n<br>\nNote that there <strong>only one</strong> thread writing the value here, which may or may not distinguish this question from \"<a href=\"https://stackoverflow.com/questions/42175207/is-there-an-implicit-memory-barrier-with-synchronized-with-relationship-on-threa\" title=\"Is there an implicit memory barrier with synchronized-with relationship on thread::join?\">Is there an implicit memory barrier with synchronized-with relationship on thread::join?</a>\" asked before. My gut feeling tells me the answer should be the same, but...</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 2, "creation_date": 1490814590, "post_id": 43102084, "comment_id": 73285972, "body": "For every <code>new</code> there must be a matching <code>delete</code> and for every <code>new[]</code> there must be a matching <code>delete[]</code>. For the third example you must call <code>delete</code> on all 50 pointers and then <code>delete[]</code> on the entire thing."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1490814601, "post_id": 43102084, "comment_id": 73285978, "body": "If you call <code>new</code> with <code>[]</code> then call <code>delete</code> with <code>[]</code>.  BUT stop using <code>new</code> and <code>delete</code> use one of the smart pointers instead."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490815011, "post_id": 43102233, "comment_id": 73286225, "body": "Also recommend replacing references to the heap with dynamic storage. You don&#39;t see many, but it&#39;s possible to implement C++ without a heap."}, {"owner": {"reputation": 6013, "user_id": 3310281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b8b4ec03e2c7a424fdc428eb55f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm McLean", "link": "https://stackoverflow.com/users/3310281/malcolm-mclean"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490870150, "post_id": 43102233, "comment_id": 73310072, "body": "Bjarne Strousup himself says that new and delete are essentially obsolete."}], "tags": [], "owner": {"reputation": 6013, "user_id": 3310281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b8b4ec03e2c7a424fdc428eb55f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm McLean", "link": "https://stackoverflow.com/users/3310281/malcolm-mclean"}, "is_accepted": false, "score": -1, "last_activity_date": 1490870964, "last_edit_date": 1490870964, "creation_date": 1490814816, "answer_id": 43102233, "question_id": 43102084, "link": "https://stackoverflow.com/questions/43102084/dynamic-object-allocation-using-array-of-dynamic-pointers-what-delete-to-use/43102233#43102233", "title": "Dynamic object allocation using array of dynamic pointers - what delete to use?", "body": "<p><code>delete</code> and <code>delete[]</code> was something that was used extensively in early C++, but has now been rendered almost obsolete by the STL container classes.</p>\n\n<p>The basic idea is that <code>new</code> creates a new instance of a class, on the heap, whilst <code>delete</code> destroys it. However, if you create an array of objects using <code>new[]</code>, you need to call <code>delete[]</code> to help the compiler out.</p>\n\n<p>However, you can also have an array of pointers. A pointer is an object in its own right. So, if you have an array of pointers allocated with <code>new[]</code>, and then each element is allocated with <code>new</code>, you have to delete the contents of the array, one by one, using plain <code>delete</code>, and then delete the array itself using <code>delete[]</code>.</p>\n\n<p>Fortunately, nowaday we use <code>std::vector</code> to store arrays of objects. The <code>vector</code> type handles all the allocation and deletion for you, so you simply have to wait for its lifetime to cease and it delete the objects for you.</p>\n"}, {"tags": [], "owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "is_accepted": false, "score": 0, "last_activity_date": 1490816199, "last_edit_date": 1490816199, "creation_date": 1490815630, "answer_id": 43102509, "question_id": 43102084, "link": "https://stackoverflow.com/questions/43102084/dynamic-object-allocation-using-array-of-dynamic-pointers-what-delete-to-use/43102509#43102509", "title": "Dynamic object allocation using array of dynamic pointers - what delete to use?", "body": "<blockquote>\n  <p>I think following code generates an array of 10 pointers that are\n  using automatic memory allocation. Since we are using dynamic memory\n  allocation for objects, pointers to the objects in array are lost when\n  array goes out of scope, but objects remain in the memory until delete\n  is called.</p>\n\n<pre><code>MyClass* c[10];\nc[0] = new MyClass();\n</code></pre>\n</blockquote>\n\n<p>Correct. When the array goes out of scope, the allocated <code>MyClass</code> instance will stay alive, but you have missed your chance to deallocate the memory until the process ends (in which case the OS will free the memory).</p>\n\n<blockquote>\n  <p>I guess the following example generates array of ten objects that are\n  using dynamic memory allocation. We have to use delete[] to delete\n  array and objects.</p>\n\n<pre><code>MyClass* d = new MyClass[10];\n</code></pre>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>I guess in the following example we are allocating an array of 50\n  pointers to object. Do we have to call delete[] or delete or both\n  here?</p>\n\n<pre><code>MyClass** b = new MyClass*[50];\nb[0] = new MyClass();\n</code></pre>\n</blockquote>\n\n<p>First statement is correct, an array of 50 pointers to <code>MyClass</code> is allocated. Then a single instance of <code>MyClass</code> is allocated and its address is assigned to the first element of that array.</p>\n\n<p>You have to call <code>delete</code> for each individually allocated element of the array first. After that, you have to call delete on the dynamically allocated array:</p>\n\n<pre><code>delete b[0];\ndelete[] b;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7787719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faea178a330b3b321072338b37b7c78d?s=128&d=identicon&r=PG&f=1", "display_name": "brenko2444", "link": "https://stackoverflow.com/users/7787719/brenko2444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1490870964, "creation_date": 1490814353, "question_id": 43102084, "link": "https://stackoverflow.com/questions/43102084/dynamic-object-allocation-using-array-of-dynamic-pointers-what-delete-to-use", "title": "Dynamic object allocation using array of dynamic pointers - what delete to use?", "body": "<p>Can someone help me understand these examples?</p>\n\n<p>I think following code generates an array of 10 pointers that are using automatic memory allocation. Since we are using dynamic memory allocation for objects, pointers to the objects in array are lost when array goes out of scope, but objects remain in the memory until delete is called.</p>\n\n<pre><code>MyClass* c[10];\nc[0] = new MyClass();\n</code></pre>\n\n<p>I guess the following example generates array of ten objects that are using dynamic memory allocation. We have to use delete[] to delete array and objects.</p>\n\n<pre><code>MyClass* d = new MyClass[10];\n</code></pre>\n\n<p>I guess in the following example we are allocating an array of 50 pointers to object. Do we have to call delete[] or delete or both here?</p>\n\n<pre><code>MyClass** b = new MyClass*[50];\nb[0] = new MyClass();\n</code></pre>\n\n<p>I know that there are better things I could use to manage memory allocation, but I am forced to use new and delete. Can someone check if my understanding is correct and explain what delete I have to use in third example?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2486888"}, "edited": false, "score": 6, "creation_date": 1490813560, "post_id": 43101775, "comment_id": 73285271, "body": "&quot;i think my code is all correct&quot; is usually a sign of incorrect code."}, {"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 0, "creation_date": 1490813982, "post_id": 43101775, "comment_id": 73285559, "body": "In addition to the comments about your initial sum value your factorial calculation is incorrect, say n is 5 then you get (whatever value is in sum at the start) + 1/5 + 1/20 + 1/60 + 1/120 + 1/120.  You need to calculate the factorial for n an each iteration of the loop.  Your result should be (0 + 1 + 1/2 + 1/6 + 1/24 + 1/120)"}], "answers": [{"comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1490813714, "post_id": 43101857, "comment_id": 73285358, "body": "Why would the value of <code>sum</code> be stored in the same place as <code>m</code>? That&#39;s not the case. They are different variables."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1490813814, "post_id": 43101857, "comment_id": 73285425, "body": "@Rakete1111 what? no it isn&#39;t"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1490813855, "post_id": 43101857, "comment_id": 73285459, "body": "@Swift I know, that&#39;s why I&#39;m asking. I should have phrased my question better :)"}, {"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "reply_to_user": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1490814102, "post_id": 43101857, "comment_id": 73285661, "body": "@Swift @Francois Rakete1111 is referring to the line in the answer <code>The variable sum, has a random value, that is stored in Ram at that place in memory where m should be.</code>  You&#39;re all saying the same thing..."}, {"owner": {"reputation": 3879, "user_id": 7371784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78e670334411962158df4d1ac6803ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Kristjan Kica", "link": "https://stackoverflow.com/users/7371784/kristjan-kica"}, "edited": false, "score": 0, "creation_date": 1490814274, "post_id": 43101857, "comment_id": 73285784, "body": "I meant sum. I was doing something else and was distracted. Initializing sum=0 should work"}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1490814295, "post_id": 43101857, "comment_id": 73285797, "body": "@Tuffwet I had read that &quot;place&quot; is the ram. That could be typo or a  clearly a style error made by a person for whom  English isn&#39;t native (e.g. translated directly, it is correct statement in my native language)"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1490814548, "post_id": 43101857, "comment_id": 73285943, "body": "This is not the only problem with the code. See the comment in the question."}], "tags": [], "owner": {"reputation": 3879, "user_id": 7371784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78e670334411962158df4d1ac6803ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Kristjan Kica", "link": "https://stackoverflow.com/users/7371784/kristjan-kica"}, "is_accepted": true, "score": 0, "last_activity_date": 1490814335, "last_edit_date": 1490814335, "creation_date": 1490813596, "answer_id": 43101857, "question_id": 43101775, "link": "https://stackoverflow.com/questions/43101775/i-think-my-code-is-all-correct-but-it-does-not-work/43101857#43101857", "title": "I think my code is all correct but it does not work", "body": "<p>You have not initialized sum=0 in the beginning. The variable sum, has a random value, that is stored in Ram at that location in memory where sum should be.</p>\n"}, {"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1490815086, "last_edit_date": 1490815086, "creation_date": 1490814634, "answer_id": 43102172, "question_id": 43101775, "link": "https://stackoverflow.com/questions/43101775/i-think-my-code-is-all-correct-but-it-does-not-work/43102172#43102172", "title": "I think my code is all correct but it does not work", "body": "<p>There are two problems in the code. First, <code>sum</code> is not initialized, so whatever result comes out won't have any meaning. Second, the loop goes the wrong way. To calculate successive factorials it has to start with 1, then move to 2, then 3, etc.; this loop starts at <code>n</code>, then moves to <code>n-1</code>, then <code>n-2</code>, etc. Change that <code>do... while</code> loop to look like this:</p>\n\n<pre><code>for (int i = 0; i &lt; n; ++i) {\n    // do the calculation for i\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "is_accepted": false, "score": 0, "last_activity_date": 1490816699, "last_edit_date": 1490816699, "creation_date": 1490816077, "answer_id": 43102624, "question_id": 43101775, "link": "https://stackoverflow.com/questions/43101775/i-think-my-code-is-all-correct-but-it-does-not-work/43102624#43102624", "title": "I think my code is all correct but it does not work", "body": "<p>Take time to fix your formatting. Aside from making code pretty and readable, it often got that effect on  focusing your thoughts on the  structure and logic of program. Probably you could  spot the problem with formula implementation in that case.</p>\n\n<p>cin can give you status if entered value is correct. There is more, if you want repeat  input,  i.e. the status should be cleared.\nYour formula can be implemented with for() loop, using local variables. It doesn't really matter which type of loop you use, you can use a direct declaration and use  while if you want,  just for()  allows some declarations and statements included into its \"header\":</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing  std::cin;\nusing  std::cout;\nint main()\n{\n    int n;\n\n    cout &lt;&lt; \"enter n\\n\";\n    bool res = cin &gt;&gt; n;  // false if input was incorrectly parsed\n    if (res) \n        res = (n&lt;10) &amp;&amp; (n&gt;=0);\n\n    if( res )\n    {\n        float sum = 1; // starting value for sum\n        for( int k = 1, j = 1; k &lt; n; k++)\n        {\n            j = j * (j + 1);  // j accumulates factorial\n            sum = sum + 1.f / j;\n        }\n        cout&lt;&lt; sum &lt;&lt; \"\\n\";\n    }\n    else\n    {\n        cout&lt;&lt;\"error!\\n\";\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Actually there is way to calculate factorial without cycle at all, by using exponential functions.</p>\n"}], "owner": {"reputation": 1, "user_id": 7787678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb30b1ff85dc1d1084ba78514b7d968c?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/7787678/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 43101857, "answer_count": 3, "score": -5, "last_activity_date": 1490819396, "creation_date": 1490813381, "last_edit_date": 1490818595, "question_id": 43101775, "link": "https://stackoverflow.com/questions/43101775/i-think-my-code-is-all-correct-but-it-does-not-work", "title": "I think my code is all correct but it does not work", "body": "<p>I coded this to show me this:</p>\n\n<blockquote>\n  <p>1  + (1/2!) + (1/3!) + \u2026 + (1/n!)<br> \n  if ( n &lt; 10 )<br></p>\n</blockquote>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\nint n;\nfloat factn=1,m,sum;\ncout&lt;&lt;\"enter n\\n\";\ncin&gt;&gt;n;\nif(n&lt;10&amp;&amp;n&gt;=0){\ndo{\n        factn=factn*n;\n        m=1/factn;\n        sum=sum+m;\n        n--;\n    }while(n&gt;=1);\n        cout&lt;&lt;sum;\n}\nelse{\n    cout&lt;&lt;\"error!\\n\";\n}\nreturn 0;\n\n}\n</code></pre>\n\n<p>This code must show this: <br></p>\n\n<blockquote>\n  <p>( n &lt; 10 )      1  + (1/2!) + (1/3!) + \u2026 + (1/n!)<br></p>\n</blockquote>\n\n<p>What is the problem?<br>\nIt returns wrong values :(</p>\n"}, {"tags": ["c++", "file", "share", "direct2d"], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 1436291, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/93577cc6331651dbfc9eed212caeedc3?s=128&d=identicon&r=PG", "display_name": "Tony Teveris", "link": "https://stackoverflow.com/users/1436291/tony-teveris"}, "is_accepted": false, "score": 0, "last_activity_date": 1525326521, "last_edit_date": 1525326521, "creation_date": 1491247083, "answer_id": 43192614, "question_id": 43101742, "link": "https://stackoverflow.com/questions/43101742/iwicimagingfactorycreatedecoderfromfilename-keeps-the-file-locked-even-after/43192614#43192614", "title": "IWICImagingFactory::CreateDecoderFromFilename() keeps the file locked even after the decoder is destroyed", "body": "<p>What I ended up doing was using</p>\n\n<pre><code>pImagePoolEntry-&gt;hFileHandle = CreateFile(\n    path.c_str(), GENERIC_READ, FILE_SHARE_READ, NULL,\n    OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);\n</code></pre>\n\n<p>before the call to <code>CreateDecoderFromFilename()</code>.</p>\n\n<p>Since I was already using an Image Pool keeping track of opened, shared images I just added the initial file handle and added code to use <code>CloseHandle()</code> when the image was not longer in use.</p>\n"}, {"tags": [], "owner": {"reputation": 2998, "user_id": 4885801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/m1Nbb.png?s=128&g=1", "display_name": "isanae", "link": "https://stackoverflow.com/users/4885801/isanae"}, "is_accepted": false, "score": 0, "last_activity_date": 1525621205, "last_edit_date": 1525621205, "creation_date": 1525326231, "answer_id": 50147738, "question_id": 43101742, "link": "https://stackoverflow.com/questions/43101742/iwicimagingfactorycreatedecoderfromfilename-keeps-the-file-locked-even-after/50147738#50147738", "title": "IWICImagingFactory::CreateDecoderFromFilename() keeps the file locked even after the decoder is destroyed", "body": "<p>I'm not sure what the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee690086%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\"><code>IWICBitmapDecoder</code></a> does with the file, but it seems to be keeping it opened past the <code>Release()</code> call on it. It might have a bug where the handle isn't closed, who knows. I couldn't find any information on that behaviour. Actually, apart from this question, nobody seems to have noticed (or nobody cares).</p>\n\n<p>In any case, the solution, as hinted by Tony, is to open the file manually and use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee690305%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\"><code>CreateDecoderFromFileHandle()</code></a> instead of <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee690307%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\"><code>CreateDecoderFromFilename()</code></a>. Note that \"the file handle must remain alive during the lifetime of the decoder.\"</p>\n\n<p>So this:</p>\n\n<pre><code>void f(IWICImagingFactory* factory, const wchar_t* path)\n{\n    IWICBitmapDecoder* decoder = nullptr;\n\n    factory-&gt;CreateDecoderFromFilename(\n        path, nullptr, GENERIC_READ, WICDecodeMetadataCacheOnLoad, &amp;decoder);\n\n    // ...\n\n    decoder-&gt;Release();\n}\n</code></pre>\n\n<p>becomes this:</p>\n\n<pre><code>void f(IWICImagingFactory* factory, const wchar_t* path)\n{\n    auto h = CreateFileW(\n        path, GENERIC_READ, FILE_SHARE_READ,\n        nullptr, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, 0);\n\n    IWICBitmapDecoder* decoder = nullptr;\n\n    factory-&gt;CreateDecoderFromFileHandle(\n        reinterpret_cast&lt;ULONG_PTR&gt;(h), nullptr,\n        WICDecodeMetadataCacheOnLoad, &amp;decoder);\n\n    // ...\n\n    decoder-&gt;Release();\n    CloseHandle(h);\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 1436291, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/93577cc6331651dbfc9eed212caeedc3?s=128&d=identicon&r=PG", "display_name": "Tony Teveris", "link": "https://stackoverflow.com/users/1436291/tony-teveris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525621205, "creation_date": 1490813257, "last_edit_date": 1525326473, "question_id": 43101742, "link": "https://stackoverflow.com/questions/43101742/iwicimagingfactorycreatedecoderfromfilename-keeps-the-file-locked-even-after", "title": "IWICImagingFactory::CreateDecoderFromFilename() keeps the file locked even after the decoder is destroyed", "body": "<p>I'm using <code>IWICImagingFactory::CreateDecoderFromFilename()</code> for reading only. Is there a way I can pass something like the <code>FILE_SHARE_READ</code> flag? The file stays open from the function call above until the program terminates.</p>\n\n<p>During another operation within the same program, I attempted to use <code>CFile::Open()</code>, but I got error 32 (\"The process cannot access the file because it is being used by another process\").</p>\n"}, {"tags": ["python", "c++", "opencv"], "comments": [{"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 1, "creation_date": 1490813548, "post_id": 43101737, "comment_id": 73285259, "body": "I only used opencv few times, but don&#39;t you need a kernel of at least 3x3? <a href=\"https://stackoverflow.com/questions/16655962/opencv-understanding-kernel\" title=\"opencv understanding kernel\">stackoverflow.com/questions/16655962/&hellip;</a>"}, {"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 1, "creation_date": 1490813679, "post_id": 43101737, "comment_id": 73285345, "body": "You used None for python, and empty Mat for C++, both are wrong, so even they give you the same results, it still wouldn&#39;t be correct."}, {"owner": {"reputation": 22497, "user_id": 1185242, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/16eb0aedb14ca0a2e5013721cd679485?s=128&d=identicon&r=PG", "display_name": "nickponline", "link": "https://stackoverflow.com/users/1185242/nickponline"}, "reply_to_user": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1490818935, "post_id": 43101737, "comment_id": 73288421, "body": "@TonyJ neither are wrong both give a result. However they give different results. I&#39;m asking what default they correspond to."}], "owner": {"reputation": 22497, "user_id": 1185242, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/16eb0aedb14ca0a2e5013721cd679485?s=128&d=identicon&r=PG", "display_name": "nickponline", "link": "https://stackoverflow.com/users/1185242/nickponline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490813250, "creation_date": 1490813250, "question_id": 43101737, "link": "https://stackoverflow.com/questions/43101737/why-does-erode-give-different-results-in-c-and-python-in-opencv-3", "title": "Why does erode give different results in C++ and Python in OpenCV 3?", "body": "<p>In Python I am using erode as follows:</p>\n\n<pre><code>result = cv2.erode(image, None)\n</code></pre>\n\n<p>While in C++ I am using it as:</p>\n\n<pre><code>cv::erode(image, result, cv::Mat());\n</code></pre>\n\n<p>However they are giving different results? Do they have different default in OpenCV3 between Python and C++</p>\n"}, {"tags": ["c++", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1490813343, "post_id": 43101736, "comment_id": 73285121, "body": "You need to match multiple matches with <code>regex pattern(R&quot;(\\d{2}|thanks)&quot;)</code>. Please show your code."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1490813356, "post_id": 43101736, "comment_id": 73285133, "body": "@WiktorStribi\u017cew: Don&#39;t answer in comments; thanks"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1490813404, "post_id": 43101736, "comment_id": 73285164, "body": "@BoundaryImposition: When I have an answer, I will post."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1490813629, "post_id": 43101736, "comment_id": 73285309, "body": "@Chase, are you looking for <a href=\"https://ideone.com/ggO4fk\" rel=\"nofollow noreferrer\">something like this</a>?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1490814187, "post_id": 43101736, "comment_id": 73285723, "body": "Ok, you used <code>regex_search</code> and expected to get several matches, while it just returns a single match."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 0, "creation_date": 1490814611, "post_id": 43101736, "comment_id": 73285986, "body": "Wiktor&#39;s <a href=\"https://ideone.com/ggO4fk\" rel=\"nofollow noreferrer\">solution</a> seems to be the best bet: see <a href=\"http://stackoverflow.com/questions/21753899/get-the-index-of-all-matches-using-regex-search\">these</a> <a href=\"http://stackoverflow.com/questions/21667295/how-to-match-multiple-results-using-stdregex\">questions</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1490827719, "post_id": 43101736, "comment_id": 73292370, "body": "@WiktorStribi\u017cew: Okay, until then, just don&#39;t post it. We cannot peer review your comment. As you know, peer review is a huge part of the SO model."}], "owner": {"reputation": 110, "user_id": 6438011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/276000143d7e22751c1c84876aa12b63?s=128&d=identicon&r=PG&f=1", "display_name": "cm1745", "link": "https://stackoverflow.com/users/6438011/cm1745"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1490814219, "answer_count": 0, "score": 0, "last_activity_date": 1490813703, "creation_date": 1490813249, "last_edit_date": 1490813703, "question_id": 43101736, "link": "https://stackoverflow.com/questions/43101736/is-it-possible-to-find-two-strings-in-one-string-using-regular-expressions", "closed_reason": "Duplicate", "title": "Is it possible to find two strings in one string using regular expressions?", "body": "<p>I have searched and found similar questions, but no definitive answers for what I am looking for. For example, in the string: \"I would like the number 98 to be found and printed, thanks.\" I would like \"98\" and \"thanks\" to be outputted, and only those strings. I have tried: </p>\n\n<pre><code>    regex pattern{R\"(\\d{2} | thanks)\"}\n</code></pre>\n\n<p>But that only outputs 98. I have also tried </p>\n\n<pre><code>    regex pattern{R\"((\\d{2})(thanks))\"} \n</code></pre>\n\n<p>But this does not work either. Help would be appreciated! Thanks.</p>\n\n<p>Note: I realize I can do this easily using two patterns, but I am seeing if you can do this using specifically one pattern.</p>\n\n<p>Note 2: This is the rest of the program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\nusing namespace std;\n\nint main() {\n\n  regex pattern{R\"(\\d{2}|thanks)\"};\n\n  string to_search = \"I would like the number 98 to be found and printed, thanks.\";\n  smatch matches;\n\n  regex_search(to_search, matches, pattern);\n\n  for (auto match : matches) {\n    cout &lt;&lt; match &lt;&lt; endl;\n  }\n\n  return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "types", "reference"], "comments": [{"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 6, "creation_date": 1490813148, "post_id": 43101668, "comment_id": 73285000, "body": "you have typeid(Var).name() 3 times in your code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2486888"}, "edited": false, "score": 0, "creation_date": 1490813272, "post_id": 43101668, "comment_id": 73285076, "body": "I count it as simple typographical mistake."}, {"owner": {"reputation": 584, "user_id": 1736531, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/51dd1349c4296bd27318e4d4ebf22262?s=128&d=identicon&r=PG", "display_name": "picklechips", "link": "https://stackoverflow.com/users/1736531/picklechips"}, "reply_to_user": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1490813592, "post_id": 43101668, "comment_id": 73285288, "body": "@George in that link at the bottom there&#39;s an example of it&#39;s usage with a pointer to a double and it outputs <code>double*</code>"}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "reply_to_user": {"reputation": 584, "user_id": 1736531, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/51dd1349c4296bd27318e4d4ebf22262?s=128&d=identicon&r=PG", "display_name": "picklechips", "link": "https://stackoverflow.com/users/1736531/picklechips"}, "edited": false, "score": 1, "creation_date": 1490813886, "post_id": 43101668, "comment_id": 73285480, "body": "@picklechips Ah derp, thanks for pointing that out :-) it&#39;s a false assumption for reference types.* see <a href=\"http://en.cppreference.com/w/cpp/language/typeid\" rel=\"nofollow noreferrer\">ref</a>"}, {"owner": {"reputation": 1533, "user_id": 6204556, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EJxCy.jpg?s=128&g=1", "display_name": "Shadi", "link": "https://stackoverflow.com/users/6204556/shadi"}, "reply_to_user": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 0, "creation_date": 1490814004, "post_id": 43101668, "comment_id": 73285582, "body": "Thanks @TonyJ. Over focusing. I spent 3 hours on it without noticing that I did not edited the pasted line. Now the output makes sense. Thanks a lot. :). and thanks for all"}], "answers": [{"comments": [{"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1490813817, "post_id": 43101774, "comment_id": 73285427, "body": "<code>int* foo</code> is bad, as that makes people think that <code>int* foo, bar</code> makes two int pointers, where in actuality <code>foo</code> is a pointer, and <code>bar</code> is a int."}, {"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 2, "creation_date": 1490813968, "post_id": 43101774, "comment_id": 73285545, "body": "I agree, I don&#39;t necessarily recommend doing it that way. I am use to &#39;int <i>foo&#39;. But in some code from other people, I have seen them write &#39;int</i> foo&#39;. I just mentioned it here in the hopes that the OP will have a better understanding of the topic"}, {"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1490814047, "post_id": 43101774, "comment_id": 73285616, "body": "Is fair, just wanted that on the table.  I&#39;ve worked places where the style requires <code>int* bar</code>, and it just drives me nuts because of this."}, {"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 1, "creation_date": 1490814490, "post_id": 43101774, "comment_id": 73285912, "body": "Darn, still learning the comments section. Above is suppose to be <code>int *foo</code> and <code>int* foo</code> respectively"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1490814644, "post_id": 43101774, "comment_id": 73286004, "body": "I would argue that <code>int* foo</code> is not what leads to confusion. The fact is <code>int* foo, bar;</code> meaning <code>int *foo; int bar;</code> is inconsistent with other parts of the language. Just about anywhere else, the <code>*</code> is part of the type."}, {"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 0, "creation_date": 1490816437, "post_id": 43101774, "comment_id": 73287105, "body": "Where is <code>*</code> part of the type outside of conversation (where we talk about &quot;int pointers&quot;)?"}], "tags": [], "owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "is_accepted": true, "score": 2, "last_activity_date": 1490813379, "creation_date": 1490813379, "answer_id": 43101774, "question_id": 43101668, "link": "https://stackoverflow.com/questions/43101668/c-pointers-and-references-data-type/43101774#43101774", "title": "C++ pointers and references data type", "body": "<p>No, these are still real datatypes. </p>\n\n<p>Pointers point to an address space in the memory. For example,</p>\n\n<pre><code>int test = 5;\nint *foo = &amp;test;\n</code></pre>\n\n<p>&amp; will get the address that test is located at. *foo just states that foo will be storing the address.</p>\n\n<p>With this in mind, foo will not = 5. But rather some hex address such as 0xA000125BFFFFFF or something weird like that.</p>\n\n<p>If this helps, some people like to write:</p>\n\n<pre><code>int* foo\n</code></pre>\n\n<p>So you can think of this as a int pointer called foo. </p>\n\n<p>But, one thing to point out is that all of these are type int. This will apply to another datatype such as float or double or some other custom one.</p>\n\n<p>However, one thing to note is that you cannot do this:</p>\n\n<pre><code>double test = 5.02;\nint *foo = &amp;test;\n</code></pre>\n"}], "owner": {"reputation": 1533, "user_id": 6204556, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EJxCy.jpg?s=128&g=1", "display_name": "Shadi", "link": "https://stackoverflow.com/users/6204556/shadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 43101774, "answer_count": 1, "score": 0, "last_activity_date": 1490819173, "creation_date": 1490813028, "last_edit_date": 1490819173, "question_id": 43101668, "link": "https://stackoverflow.com/questions/43101668/c-pointers-and-references-data-type", "title": "C++ pointers and references data type", "body": "<p>In his book \"The C++ Programming Language\" (4th edition), the author (Bjarne Stroustrup) says in page 138:</p>\n\n<blockquote>\n  <p>From these types, we can construct other types using declarator operators:<br>\n  \u00a77.2 Pointer types (such as <code>int\u2217</code>)<br>\n  \u00a77.3 Array types (such as <code>char[]</code>)<br>\n  \u00a77.7 Reference types (such as <code>double&amp;</code> and <code>vector&lt;int&gt;&amp;&amp;</code>) </p>\n</blockquote>\n\n<p>Which confuses me a bit.  </p>\n\n<p>I have a basic understanding of pointer, array and reference operators and I know that they are related to memory addresses. </p>\n\n<p>But if I have a code like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\n#include &lt;conio.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    float Var;\n\n    float&amp; Var_Ref = Var;\n\n    float* Var_ptr;\n    Var_ptr = &amp;Var;\n\n    cout &lt;&lt; \"\\n\\n Type of Var is \" &lt;&lt; typeid(Var).name();\n    cout &lt;&lt; \"\\n\\n Type of Var_ptr is \" &lt;&lt; typeid(Var).name();\n    cout &lt;&lt; \"\\n\\n Type of Var_Ref is \" &lt;&lt; typeid(Var).name();\n\n    getch();\n\n    cout &lt;&lt; \"\\n\\n\\n\";\n} \n</code></pre>\n\n<p>And the output is:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/YMSDo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMSDo.jpg\" alt=\"Output\"></a></p>\n\n<p>I can see that <code>typeid.name()</code> returns the type they are related to not the type of the variables themselves.</p>\n\n<p>I suppose that:</p>\n\n<p><code>Var_Ref</code> is of type <code>float&amp;</code> (an alias for the <code>float</code> variable <code>Var</code>)<br>\n<code>Var_ptr</code> is of type <code>float*</code> (pointer to the variable <code>Var</code> that has a <code>float</code> type)  </p>\n\n<p>Especially for the pointer which when printed show an integral hex value of a memory location.</p>\n\n<p><strong>Q</strong>: Are these real data types? Am I missing something?</p>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1490814390, "post_id": 43101609, "comment_id": 73285858, "body": "Not all movable things are cheap to move?"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1490894209, "post_id": 43101694, "comment_id": 73327836, "body": "Except the OP is asking about insert.  Replace <code>insert</code> with <code>emplace</code> and provide a pair with non-const types and, if the elements are efficiently movable, there isn&#39;t an advantage over the code the OP posted.  Extracting is a different use case."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490958393, "post_id": 43101694, "comment_id": 73355168, "body": "@Yakk, <code>emplace(key, val)</code> would be even better than <code>emplace(pair_with_nonconst_key)</code>. Maybe the OP should have asked that question if that&#39;s what he meant :)"}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 2, "last_activity_date": 1490958604, "last_edit_date": 1490958604, "creation_date": 1490813104, "answer_id": 43101694, "question_id": 43101609, "link": "https://stackoverflow.com/questions/43101609/purpose-of-very-efficient-factories-for-elements-in-p0083/43101694#43101694", "title": "Purpose of &quot;very efficient factories for elements&quot; in p0083", "body": "<p>It's just an example showing how to create an element and return it without copying (or moving), it's not meant to be production code doing something real.</p>\n\n<p>If you can't see the point of the example, imagine that <code>table</code> is not a local variable but some global that might already contain some values:</p>\n\n<pre><code>table_type table;\nauto insert_record_and_take_first(const Foo&amp; foo, const Bar&amp; bar, const Baz&amp; baz)\n{\n\n  table.emplace(foo, bar, baz); // Create a record with some parameters.\n  return table.extract(table.begin()); // Remove first \n}\ntable.insert(insert_record_and_take_first());\n</code></pre>\n\n<p>This wouldn't be possible if the record type is not movable. Even if it's movable it might still be more efficient to do it this way.</p>\n\n<blockquote>\n  <p>Assuming record is movable (so returning it from function is not very expensive) is there a point to this code?</p>\n</blockquote>\n\n<p>Is a <code>pair&lt;const X, Y&gt;</code> movable? How do you move from a const key?</p>\n\n<p>How do you move from a <code>std::set</code> element, when you can only get const iterators to the elements?</p>\n"}], "owner": {"reputation": 23279, "user_id": 700825, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6aea6e2f57f2a7b1cd6870375fbdc42f?s=128&d=identicon&r=PG", "display_name": "NoSenseEtAl", "link": "https://stackoverflow.com/users/700825/nosenseetal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490958604, "creation_date": 1490812833, "question_id": 43101609, "link": "https://stackoverflow.com/questions/43101609/purpose-of-very-efficient-factories-for-elements-in-p0083", "title": "Purpose of &quot;very efficient factories for elements&quot; in p0083", "body": "<p><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0083r3.pdf\" rel=\"nofollow noreferrer\">Proposal</a> \nshows weird use of map API:</p>\n\n<blockquote>\n  <p>This makes possible  things like  very efficient factories  for\n  elements</p>\n</blockquote>\n\n<pre><code>auto new_record()\n{\n  table_type table;\n  table.emplace(...); // Create a record with some parameters.\n  return table.extract(table.begin());\n}\ntable.insert(new_record());\n</code></pre>\n\n<p>Assuming record is movable(so returning it from function is not very expensive) is there a point to this code?</p>\n"}, {"tags": ["c++", "vector", "graph", "stl"], "comments": [{"owner": {"reputation": 7825, "user_id": 3684343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee557e309dc42d91a706c70c8c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "mch", "link": "https://stackoverflow.com/users/3684343/mch"}, "edited": false, "score": 0, "creation_date": 1490813072, "post_id": 43101587, "comment_id": 73284954, "body": "<code>vector&lt;int&gt;iterator::it;</code> ==&gt; <code>vector&lt;int&gt;::iterator it;</code> and <code>it=graph.begin();it!=graph.end();it++</code> ==&gt; <code>it=graph[WhatEverIndexYouWantToShow].begin();it!=graph[WhatE&zwnj;&#8203;verIndexYouWantToSho&zwnj;&#8203;w].end();it++</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7729359, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/1196329197088579/picture?type=large", "display_name": "Rohan Akut", "link": "https://stackoverflow.com/users/7729359/rohan-akut"}, "edited": false, "score": 0, "creation_date": 1490814730, "post_id": 43101646, "comment_id": 73286048, "body": "Is my code successfully creating an adjacency list?"}, {"owner": {"reputation": 11509, "user_id": 140962, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ttvCS.jpg?s=128&g=1", "display_name": "JGC", "link": "https://stackoverflow.com/users/140962/jgc"}, "reply_to_user": {"reputation": 33, "user_id": 7729359, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/1196329197088579/picture?type=large", "display_name": "Rohan Akut", "link": "https://stackoverflow.com/users/7729359/rohan-akut"}, "edited": false, "score": 0, "creation_date": 1490815574, "post_id": 43101646, "comment_id": 73286574, "body": "no, because every input is being placed in a different vector in your vector array"}], "tags": [], "owner": {"reputation": 11509, "user_id": 140962, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ttvCS.jpg?s=128&g=1", "display_name": "JGC", "link": "https://stackoverflow.com/users/140962/jgc"}, "is_accepted": false, "score": 0, "last_activity_date": 1490813381, "last_edit_date": 1490813381, "creation_date": 1490812940, "answer_id": 43101646, "question_id": 43101587, "link": "https://stackoverflow.com/questions/43101587/how-to-display-the-output-of-the-following-code-using-iterators/43101646#43101646", "title": "How to display the output of the following code using iterators?", "body": "<p>You can use index instead of iterators in C++ vectors.</p>\n\n<pre><code>for(int i=0;i&lt;M;i++)\n    cout&lt;&lt;graph[i]&lt;&lt;endl;\n</code></pre>\n\n<p>In order to use iterator you have to correct your code such as following:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;vector&gt;\n#include &lt;stdio.h&gt;\nusing namespace std;\n\nint main() {\n    int N, M;\n    fscanf( stdin, \"%d%d\", &amp;N, &amp;M );\n    vector&lt;int&gt; graph;\n    int i, u, v;\n    for ( i = 0; i &lt; M; ++i ) {\n        fscanf( stdin, \"%d%d\", &amp;u, &amp;v );\n        graph.push_back(u);\n        graph.push_back(v);\n    }\n    vector&lt;int&gt;::iterator it;\n    for(it=graph.begin();it!=graph.end();it++)\n    cout&lt;&lt;*it&lt;&lt;endl;\n}\n</code></pre>\n\n<p>you problem is creating array of vector in your instantiation.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1503294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c8d404a6f619a237b12ea75ccb6f48?s=128&d=identicon&r=PG", "display_name": "elszon", "link": "https://stackoverflow.com/users/1503294/elszon"}, "is_accepted": false, "score": 0, "last_activity_date": 1490814051, "creation_date": 1490814051, "answer_id": 43101996, "question_id": 43101587, "link": "https://stackoverflow.com/questions/43101587/how-to-display-the-output-of-the-following-code-using-iterators/43101996#43101996", "title": "How to display the output of the following code using iterators?", "body": "<pre><code>#include&lt;iostream&gt;\n#include&lt;vector&gt;\nint main() {\n    int N, M;\n    fscanf( stdin, \"%d%d\", &amp;N, &amp;M );\n    std::vector&lt; int &gt; graph[ N + 1 ]; //try to use std::vector&lt;std::vector&lt;int&gt;&gt; - c kind array should have fixed (compilation time) size\n    int i, u, v;\n    for ( i = 0; i &lt; M; ++i ) {\n        fscanf( stdin, \"%d%d\", &amp;u, &amp;v );\n        graph[ u ].push_back( v );\n    }\n    for ( int i = 0; i &lt;= N; ++i){\n        std::cout &lt;&lt; i &lt;&lt; \": \";\n        for ( std::vector&lt;int&gt;::const_iterator it = graph[i].begin(); it != graph[i].end(); ++it){\n            std::cout &lt;&lt; *it &lt;&lt; \" \";\n        }\n    }\n}\n//try to use some compilation flag:\n//-Wall -Wextra -Wpedantic -Wconversion -Wsign-conversion -Wfloat-equa\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7729359, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/1196329197088579/picture?type=large", "display_name": "Rohan Akut", "link": "https://stackoverflow.com/users/7729359/rohan-akut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1490814051, "creation_date": 1490812762, "question_id": 43101587, "link": "https://stackoverflow.com/questions/43101587/how-to-display-the-output-of-the-following-code-using-iterators", "title": "How to display the output of the following code using iterators?", "body": "<p>This code is for creating adjacency list(i think) and i want to display the content in the vector </p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;vector&gt;\nint main() {\n    int N, M;\n    fscanf( stdin, \"%d%d\", &amp;N, &amp;M );\n    vector&lt; int &gt; graph[ N + 1 ];\n    int i, u, v;\n    for ( i = 0; i &lt; M; ++i ) {\n        fscanf( stdin, \"%d%d\", &amp;u, &amp;v );\n        graph[ u ].push_back( v );\n    }\n    /*vector&lt;int&gt;iterator::it;\n    for(it=graph.begin();it!=graph.end();it++)\n    cout&lt;&lt;*it&lt;&lt;endl;*/\n}\n</code></pre>\n\n<p>I tried to display the output using the lines commented in the code but it gives me compile error saying:</p>\n\n<pre><code>struct std::iterator used without template parameters\n</code></pre>\n\n<p>Your help will be appreciated....</p>\n"}, {"tags": ["c#", "c++", "variables", "winapi", "dllimport"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1490814303, "post_id": 43101574, "comment_id": 73285801, "body": "Your pinvoke are all totally wrong. You need a better understanding before you proceed."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490814612, "post_id": 43101574, "comment_id": 73285989, "body": "@DavidHeffernan THX, sorry, I edited the first example, but result is the same like before. Pls, check it. Thx for any idea."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490814826, "post_id": 43101574, "comment_id": 73286103, "body": "It&#39;s still wrong. It&#39;s blatantly wrong. Have you made any effort at all to think about this? Just read the question that you wrote. And think."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490815585, "post_id": 43101574, "comment_id": 73286583, "body": "@DavidHeffernan If its blatantly wrong, please help mee to understand what exactly is bad and give mee one concrete example to understand it. Thanks."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490815906, "post_id": 43101574, "comment_id": 73286792, "body": "No. It won&#39;t do you any good having us do it for you. You need to start thinking."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490816394, "post_id": 43101574, "comment_id": 73287080, "body": "@DavidHeffernan ...but I need a solution. Ok, the first donkey mistake was the IntPtr which returns not value, but only address of value. I repaired it. But still I have same result. Why? Can you help mee understand, what im doying bad?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490816476, "post_id": 43101574, "comment_id": 73287127, "body": "Think a little. Look at your edit. Even the first function is still wrong. Read it and think. And stop guessing. Stop trying the wrong calling convention. This is all documented and knowable. Why are you so set against learning?"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490816898, "post_id": 43101574, "comment_id": 73287379, "body": "@DavidHeffernan Ok, I dont know, if Im thinking correctly, but as I found on google the WORD&amp; means, the result of the parameter will be address of variable, not variable value. If is it truth, how can I get in c# the variable value from the address?"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490821971, "post_id": 43101574, "comment_id": 73290074, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/139421/discussion-between-steelbull-and-david-heffernan\">continue this discussion in chat</a>."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490822691, "post_id": 43101574, "comment_id": 73290458, "body": "@DavidHeffernan I added the changed sourcecode to the end of question. But still it not works :-("}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490822838, "post_id": 43101574, "comment_id": 73290527, "body": "Forget it. You are just guessing."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490849528, "post_id": 43101574, "comment_id": 73297977, "body": "@DavidHeffernan  Is the solution still blatantly bad? Do you want to help mee or not? If yes, show me right way. I need solution ASAP. THX."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490853728, "post_id": 43101574, "comment_id": 73299625, "body": "The right way is to red the code to see the obvious errors and think for yourself. The first function is easy to fix. The second a little more tricky. And we don&#39;t have enough information yet."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490868046, "post_id": 43101574, "comment_id": 73308667, "body": "@David Heffernan Show me please, how can I fix the first function. Thx."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490868202, "post_id": 43101574, "comment_id": 73308772, "body": "You ignored the answer, which has a decent stab at it, albeit technically the return value is <code>int</code> rather than <code>uint</code>. If you ignored that, why would you listen to me?"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490869902, "post_id": 43101574, "comment_id": 73309914, "body": "@David Heffernan I changed the return value to int, but its not interesting, because I dont want to use it now. I need to use result of parameter &quot;stat&quot;."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1490870393, "post_id": 43101574, "comment_id": 73310230, "body": "Actually I read that wrong. Sorry. Shame on me. <code>uint</code> is correct. Obviously it doesn&#39;t matter much. Of course, you should check the return values one would expect. So, Arnaud&#39;s p/invoke is perfect, given the information that we have. Why aren&#39;t you using it?"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490872842, "post_id": 43101574, "comment_id": 73311922, "body": "I dont know, how can I use Arnaud&#39;s p/invoke for my custom DLL, but does exist any way to read bytes from pointer &quot;stat&quot; to see not pointer address but content of result?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490872903, "post_id": 43101574, "comment_id": 73311968, "body": "Do you know what <code>ref</code> means? And why are you ignoring the p/invoke declaration of <code>acqStatus</code> that Arnaud gave you? Do you think it is wrong?"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490873378, "post_id": 43101574, "comment_id": 73312327, "body": "Yes, I know, what is difference between ref and out. In this case out is enough, because &quot;stat&quot; is only output. I also tryed to Arnaud declaration, but as I written to Arnaud, I get following exception: On the second example, when I use Cdecl: CallingConvention.Cdecl, I get following exception: Managed Debugging Assistant &#39;PInvokeStackImbalance&#39; has detected a problem in &#39;C:\\Users.... Additional information: A call to PInvoke function"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490873578, "post_id": 43101574, "comment_id": 73312460, "body": "It&#39;s not <code>cdecl</code>. Arnaud&#39;s p/invokes are accurate. Pending the detail over the text encoding which only you know. And indeed the semantics of the data parameter. What is your problem with using them? I give up. You ask for help but won&#39;t listen."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490873897, "post_id": 43101574, "comment_id": 73312693, "body": "Fundamentally the problem seems to be that you have no understanding of anything here. We could try to write your program for you but that would be terribly inefficient. It also would not help you. What will help you is to learn how to do this yourself. That&#39;s going to require learning some C++, and doing quite a bit of reading and experimentation."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490875613, "post_id": 43101574, "comment_id": 73313922, "body": "@DavidHeffernan I did not ask you to write an application for me! But only the way, how can I get data from &quot;stat&quot; variable. Reason, why I asked you about it is spend time, not lost time. I dont want to learn C++ to use one DLL one time. Sorry! Not now and not in this time, when I need to solve situation ASAP. I asked you about help, and everything, what you written is(...its blatantly wrong, ...think of yourself, ...learn C++ etc.) and you dont gived mee one concrete idea to solve it. Than stop lost time (mee and you) ...and dont write spam to stackoverflow. THX."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490875802, "post_id": 43101574, "comment_id": 73314036, "body": "The answer was posted yesterday. Why are you ignoring it. You will need to learn a little c++ to understand this. Since you state that you don&#39;t want to I can only assume you want us to do all the work for you. You perhaps don&#39;t realise that&#39;s what you are asking but remember that you don&#39;t understand the subject and we do. It&#39;s clear from your use of unsafe and pointers that you don&#39;t understand this at all. Either you try to learn or we do it for you. The latter won&#39;t happen. Make some effort."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "edited": false, "score": 0, "creation_date": 1490813962, "post_id": 43101783, "comment_id": 73285540, "body": "The First: I change it exactly, like you, but I have same result. For ref ushort stat the result is 0x003 correct must be 0x000 and 0x004 and correct bust be 0x001 :-( The second Im trying."}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "edited": false, "score": 0, "creation_date": 1490815143, "post_id": 43101783, "comment_id": 73286297, "body": "On the second example, when I use Cdecl: CallingConvention.Cdecl, I get wollowing exception: Managed Debugging Assistant &#39;PInvokeStackImbalance&#39; has detected a problem in &#39;C:\\Users.... Additional information: A call to PInvoke function"}, {"owner": {"reputation": 7581, "user_id": 466227, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5939906390b0857eae705e05d42bcd97?s=128&d=identicon&r=PG", "display_name": "Arnaud F.", "link": "https://stackoverflow.com/users/466227/arnaud-f"}, "reply_to_user": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "edited": false, "score": 0, "creation_date": 1490815385, "post_id": 43101783, "comment_id": 73286439, "body": "You can remove the <code>CallingConvention</code> and retry. Better if you know the charset you can specify it directly"}, {"owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "edited": false, "score": 0, "creation_date": 1490815773, "post_id": 43101783, "comment_id": 73286700, "body": "I removed Cdecl, but result is: An unhandled exception of type &#39;System.AccessViolationException&#39; occurred in mscorlib.dll  Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1490816153, "post_id": 43101783, "comment_id": 73286944, "body": "It&#39;s not cdecl. Stop guessing."}], "tags": [], "owner": {"reputation": 7581, "user_id": 466227, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5939906390b0857eae705e05d42bcd97?s=128&d=identicon&r=PG", "display_name": "Arnaud F.", "link": "https://stackoverflow.com/users/466227/arnaud-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1490815944, "last_edit_date": 1490815944, "creation_date": 1490813403, "answer_id": 43101783, "question_id": 43101574, "link": "https://stackoverflow.com/questions/43101574/how-to-set-or-get-parameter-to-dll-library-in-c/43101783#43101783", "title": "How to set or get parameter to DLL library in C#?", "body": "<p>That's because <code>ToInt32()</code> and <code>ToString()</code> don't work as you expect. These methods returns the memory address of the pointer, not the retrieved value.</p>\n\n<p>For the first signature, change it to:</p>\n\n<pre><code>[DllImport(\"DllName.dll\")]\n// WORD C++ is equivalent to ushort in C#\npublic static extern uint acqStatus(ref ushort stat, ref ushort err);\n</code></pre>\n\n<p>For the second it's a little bit more complicated without the exact implementation but a good try will be :</p>\n\n<pre><code>[DllImport(\"DllName.dll\", CharSet = CharSet.Auto)]\npublic static extern uint getStatus(ref double time, StringBuilder data);\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 3742277, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5CkKl.jpg?s=128&g=1", "display_name": "steelbull", "link": "https://stackoverflow.com/users/3742277/steelbull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490869679, "creation_date": 1490812729, "last_edit_date": 1490869679, "question_id": 43101574, "link": "https://stackoverflow.com/questions/43101574/how-to-set-or-get-parameter-to-dll-library-in-c", "title": "How to set or get parameter to DLL library in C#?", "body": "<p>I have C++ library (32bit), which I would like to load and use in C#. The DLL is working (open connection, close connection and another methods without parameters). The problem is with unexpected results of all methods of C++ library with have parameters. For example:</p>\n\n<p>C++ library methods specification:</p>\n\n<pre><code>unsigned int WINAPI acqStatus (WORD&amp; stat, WORD&amp; err);\nunsigned int WINAPI getStatus (double&amp; time, TCHAR* data);\n</code></pre>\n\n<p>C# source code (extern methods):</p>\n\n<pre><code>    [DllImport(\"DllName.dll\")]\n    public static extern uint acqStatus(ref ushort stat, ref uint err);\n\n    [DllImport(\"DllName.dll\")]\n    public static extern uint getStatus(ref double time, ref StringBuilder data);\n</code></pre>\n\n<p>C# first method example (returns bad value, or Im doying mistake to convert IntPtr to integer):</p>\n\n<pre><code>        ushort stat = 0;\n        uint err = 0;\n\n        TCPInterface.acqStatus(ref stat, ref err);\n\n        // Result of stat is: 0x0003 or 0x0004\n        // bad value 3 (expected is 0), bad value 4 (expected is 1) \n</code></pre>\n\n<p>Same situation I have with another method, with returns TCHAR*. Result is string (array of bytes). I dont know, how I get the string from data variable.</p>\n\n<pre><code>        double time;\n        StringBuilder data = new StringBuilder();\n\n        getStatus(out time, out data);\n\n        // Exception:\n        An unhandled exception of type 'System.AccessViolationException' occurred in mscorlib.dll\n\n        Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.\n</code></pre>\n\n<p>I'm using 64bit Windows 7 and Visual Studio 2015. I sets my C# project to x86.</p>\n\n<p>I tried to:</p>\n\n<ol>\n<li><p>Marshal.Copy(...) or Marshal.ReadByte(...) Returns following exception:\nAn unhandled exception of type 'System.AccessViolationException' occurred in mscorlib.dll Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.</p></li>\n<li><p>Tried to run on x86 Windows 7: DLL result was the same (bad result).</p></li>\n<li><p>Tried to change the IntPtr to byte[] I gets same exception like in Marshal.Copy()</p></li>\n<li><p>Tried to change out with ref // not helped</p></li>\n</ol>\n\n<p>Example 1 updated:</p>\n\n<pre><code>    [DllImport(\"DllName.dll\")]\n    public static unsafe extern int acqStatus(ref ushort* stat, ref uint* err);\n\n\n        // Elsewhere in source code in unsafe method\n        ushort* stat = 0;\n        uint* err = 0;\n\n        TCPInterface.acqStatus(ref stat, ref err);\n\n        // I have following exception:\n        An unhandled exception of type 'System.AccessViolationException' occurred in WindowsFormsApplication1.exe \n        Additional information: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.\n</code></pre>\n"}, {"tags": ["c++", "static-libraries", "circular-dependency", "waf", "ns-3"], "answers": [{"comments": [{"owner": {"reputation": 2486, "user_id": 197979, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ebf02b74c402dd33058e9e61e241a690?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/197979/dmitry"}, "edited": false, "score": 0, "creation_date": 1491906746, "post_id": 43330178, "comment_id": 73749858, "body": "Thank you for the answer. Unfortunately NS3.26 uses waf 1.8."}, {"owner": {"reputation": 2486, "user_id": 197979, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ebf02b74c402dd33058e9e61e241a690?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/197979/dmitry"}, "edited": false, "score": 0, "creation_date": 1491917539, "post_id": 43330178, "comment_id": 73758116, "body": "Looks like we solved the issue with the following steps: 1) Change <code>cxxstlib</code> to <code>cxxshlib</code> (..st.. -&gt; ..sh..) it enables <code>STLIB_*</code> 2) Put <code>-fPIC</code> into module.cflags and mylib makefile 3) Add <code>STLIB_MYLIB</code> into wscript"}], "tags": [], "owner": {"reputation": 13647, "user_id": 135549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8e6d5160367674cd2ba06cf41516c39?s=128&d=identicon&r=PG", "display_name": "neuro", "link": "https://stackoverflow.com/users/135549/neuro"}, "is_accepted": true, "score": 1, "last_activity_date": 1491848148, "creation_date": 1491848148, "answer_id": 43330178, "question_id": 43101487, "link": "https://stackoverflow.com/questions/43101487/linking-with-ns3-module-with-circular-dependency-to-other-library/43330178#43330178", "title": "Linking with NS3 module with circular dependency to other library", "body": "<p>it looks like a known problem with order of static libs inclusion. The behavior has changed in waf 1.9, due to this problem.</p>\n\n<p>One workaround might be to use the <code>linkflags</code> attribute of <code>program</code>. You should prefer the use of <code>STLIB_MYLIB</code> and <code>STLIBPATH_MYLIB</code> as mylib is static. In waf 1.9 with he correct order of libs it might suffice.</p>\n\n<p>Anyway, use -v to see the command line generated by waf, it might help !</p>\n"}], "owner": {"reputation": 2486, "user_id": 197979, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ebf02b74c402dd33058e9e61e241a690?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/197979/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 43330178, "answer_count": 1, "score": 1, "last_activity_date": 1491848148, "creation_date": 1490812466, "question_id": 43101487, "link": "https://stackoverflow.com/questions/43101487/linking-with-ns3-module-with-circular-dependency-to-other-library", "title": "Linking with NS3 module with circular dependency to other library", "body": "<p>I am trying to build custom NS3 module which depends on some static library. This static library depends on NS3 module. </p>\n\n<p>Platform: Ubuntu 16.04 x64\nToolchain: GCC 5.4.0</p>\n\n<p>I will refer to my custom NS3 module as <em>mymodule</em></p>\n\n<p>I will refer to the library which <em>mymodule</em> depends on as <em>mylib</em></p>\n\n<p>I will refer to the program which links with <em>mymodule</em> and <em>mylib</em> as <em>myprog</em></p>\n\n<p><code>wscript</code> for <em>mymodule</em>: </p>\n\n<pre><code>def build(bld):\n   module = bld.create_ns3_module('mymodule', ['network'])\n   module.features = 'c cxx cxxstlib ns3module'\n   module.source = [\n     'model/mymodule.cc' ]\n\n   # Make a dependency to some other static lib:\n   bld.env.INCLUDES_MYLIB = [ \"some/include/path\" ]\n   bld.env.LIB_MYLIB = ['mylib']\n   bld.env.LIBPATH_MYLIB = [ \"some/path\" ]\n   module.use.append('MYLIB')\n\n   # Create a program which uses mymodule\n   p = bld.create_ns3_program('myprog', ['core', 'mymodule'])\n   p.source = 'prog.cpp'\n\n   headers = bld(features='ns3header')\n   headers.module = 'mymodule'\n   headers.source = ['model/mymodule.h']\n</code></pre>\n\n<p>When I do <code>./waf build</code> it fails: LD cannot link <em>myprog</em> because <em>mylib</em> has unresolved symbols. This failure is actually expected because <em>mylib</em> and <em>mymodule</em> are codependent and should be linked in non-standard way. </p>\n\n<p>Workarounds: </p>\n\n<ol>\n<li><p>If I build <em>myprog</em> by hand and use <code>-Wl,--start-group\n-lns3.26-mymodule-debug -lmylib -Wl,--end-group</code> it links perfectly fine and works as expected.</p></li>\n<li><p>If I combine two static libs by hand (using <code>ar -M</code> script) and then run <code>./waf build</code> it also works fine.</p></li>\n</ol>\n\n<p><strong>The question:</strong> How can I integrate one of the workarounds above into <code>wscript</code>?</p>\n"}, {"tags": ["c++", "opencv", "image-processing"], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 4096272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345c800d1d42a321a26ce5033e75f437?s=128&d=identicon&r=PG&f=1", "display_name": "Tony J", "link": "https://stackoverflow.com/users/4096272/tony-j"}, "edited": false, "score": 1, "creation_date": 1490812765, "post_id": 43101556, "comment_id": 73284745, "body": "Yeah, this makes sense, because if you read int every time, eventually you have buffer over read; Beyond the buffer, the data is completely garbage."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 13255, "user_id": 6885902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9eWg.jpg?s=128&g=1", "display_name": "Jeru Luke", "link": "https://stackoverflow.com/users/6885902/jeru-luke"}, "edited": false, "score": 0, "creation_date": 1490813421, "post_id": 43101556, "comment_id": 73285177, "body": "@JeruLuke The English is wrong since you edited it. Now it reads like <code>int</code> is optional rather than wrong."}, {"owner": {"reputation": 108, "user_id": 7141326, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87559572dc80c22ae8e175f5eb9ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "azertq", "link": "https://stackoverflow.com/users/7141326/azertq"}, "edited": false, "score": 0, "creation_date": 1490822927, "post_id": 43101556, "comment_id": 73290573, "body": "Thank you it gives the same number of pixels now. is it correct to acces the pixels value like that: image.at&lt;uchar&gt;(i,j) ?"}, {"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 1, "creation_date": 1490830791, "post_id": 43101556, "comment_id": 73293289, "body": "yes, for images with element type CV_8UC1 (grayscale). If element type is CV_32FC1 it will be image.at&lt;float&gt;, if it color image it will have several channels like CV_8UC3 or CV_32FC3 then it will be correct to access elements like image.at&lt;Vec3b&gt; for CV_8UC3 and image.at&lt;Vec3f&gt; for CV_32FC3."}], "tags": [], "owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "is_accepted": true, "score": 3, "last_activity_date": 1490813581, "last_edit_date": 1490813581, "creation_date": 1490812673, "answer_id": 43101556, "question_id": 43101458, "link": "https://stackoverflow.com/questions/43101458/i-get-different-results-for-same-image-in-a-program/43101556#43101556", "title": "I get different results for same image in a program", "body": "<p>It is may be because you need to avoid using <code>int</code>, but <code>uchar</code> for grayscale image. Using <code>int</code> you go out of image memory. </p>\n"}], "owner": {"reputation": 108, "user_id": 7141326, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87559572dc80c22ae8e175f5eb9ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "azertq", "link": "https://stackoverflow.com/users/7141326/azertq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 43101556, "answer_count": 1, "score": 0, "last_activity_date": 1490813581, "creation_date": 1490812380, "question_id": 43101458, "link": "https://stackoverflow.com/questions/43101458/i-get-different-results-for-same-image-in-a-program", "title": "I get different results for same image in a program", "body": "<p>I made a small program that calculates the number of white pixels in a grayscale image. I get different results if I open the image twice in the same program. Same if I display the intensity of the pixels, it changes even if it is the same image. If anyone sees where the problem is please help.</p>\n\n<pre><code>#include \"opencv2/imgcodecs.hpp\"\n#include \"opencv2/highgui.hpp\"\n#include \"opencv2/imgproc.hpp\"\n#include &lt;iostream&gt;\n\nusing namespace std;\nusing namespace cv;\nint main()\n{ int i=0,j,nbr=0,nbr1=0;\n\n\nMat image=imread(\"2_.png\",CV_LOAD_IMAGE_GRAYSCALE);\nMat image2=imread(\"2_.png\",CV_LOAD_IMAGE_GRAYSCALE);\n\nfor(i=0;i&lt;image.rows;i++)\n{\n    for( j=0;j&lt;image.cols;j++)\n    {if (image.at&lt;int&gt;(i,j)!=0)\n           nbr++;\n     if (image2.at&lt;int&gt;(i,j)!=0)\n           nbr1++;\n    }\n}\nprintf(\"%d\\n %d\\n\",nbr,nbr1);\n\n\n    return 0;}\n</code></pre>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1490813106, "post_id": 43101441, "comment_id": 73284974, "body": "Not sure what compiler you are using but in g++ <code>Beta b2({0});</code> is a error."}, {"owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1490813402, "post_id": 43101441, "comment_id": 73285162, "body": "If it isn&#39;t clear, the &#39;intended&#39; way to write what you want is <code>std::make_shared&lt;Beta&gt;(0);</code>"}, {"owner": {"reputation": 43, "user_id": 5202037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7bb9c9cc3d26f5c58bb86cde55dfea5e?s=128&d=identicon&r=PG&f=1", "display_name": "wxkin", "link": "https://stackoverflow.com/users/5202037/wxkin"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1490813967, "post_id": 43101441, "comment_id": 73285543, "body": "@NathanOliver Tried both with gcc-arm-linux-gnueabi 4:4.6 and  Visual C++ 14.0"}, {"owner": {"reputation": 43, "user_id": 5202037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7bb9c9cc3d26f5c58bb86cde55dfea5e?s=128&d=identicon&r=PG&f=1", "display_name": "wxkin", "link": "https://stackoverflow.com/users/5202037/wxkin"}, "reply_to_user": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1490814204, "post_id": 43101441, "comment_id": 73285738, "body": "@Pubby that is wrong. 0 is an <code>int</code>. B has not constructor accepting any <code>int</code>s"}, {"owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1490814608, "post_id": 43101441, "comment_id": 73285985, "body": "<code>Alpha(int)</code> was not <code>explicit</code> and so  <code>std::make_shared&lt;Beta&gt;(0);</code> was equivalent to <code>Beta(Alpha(0))</code>"}, {"owner": {"reputation": 43, "user_id": 5202037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7bb9c9cc3d26f5c58bb86cde55dfea5e?s=128&d=identicon&r=PG&f=1", "display_name": "wxkin", "link": "https://stackoverflow.com/users/5202037/wxkin"}, "reply_to_user": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1490815051, "post_id": 43101441, "comment_id": 73286249, "body": "@Pubby Yeah I see your point, that&#39;s why I updated the example to have two properties. As show in the answer of the similar question, the solution is <code>auto p = std::make_shared&lt;Beta, Alpha&gt;({ 0, true }); </code>"}], "owner": {"reputation": 43, "user_id": 5202037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7bb9c9cc3d26f5c58bb86cde55dfea5e?s=128&d=identicon&r=PG&f=1", "display_name": "wxkin", "link": "https://stackoverflow.com/users/5202037/wxkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1490813280, "answer_count": 0, "score": 1, "last_activity_date": 1490860943, "creation_date": 1490812342, "last_edit_date": 1490860943, "question_id": 43101441, "link": "https://stackoverflow.com/questions/43101441/object-creation-as-stdmake-shared-parameter", "closed_reason": "Duplicate", "title": "Object creation as std::make_shared parameter", "body": "<p>I noticed that I cannot instantiate an object as a make_shared parameter (see example bellow). Since\nI am not really experienced with templates, the definition of the make_shared \n<code>template&lt; class T, class... Args &gt; shared_ptr&lt;T&gt; make_shared( Args&amp;&amp;... args );</code>\ndoes not reveal to me why make_shared({0}) fails.</p>\n\n<p>Can someone explain why this happens?</p>\n\n<pre><code>class Alpha\n{\n    int mValue;\n    bool mBool;\npublic:\n    Alpha(int value, bool lbool) :mValue(value), mBool(lbool){}\n};\nclass Beta\n{\n    Alpha mAlpha;\npublic:\n    explicit Beta(Alpha alpha): mAlpha(alpha){}\n};\n\nint main()\n{\n    Alpha a{0, true};\n    Beta b1(1, a); // ok\n    Beta b2(1, {0, true}); //ok\n    auto pB1 = std::make_shared&lt;Beta, Alpha&gt;({ 0, true }); // ok\n    auto pB2 = std::make_shared&lt;Beta&gt;({ 0, true }); // make_shared does not take 1 arguments\n\n     auto pB3 = std::make_shared&lt;Beta&gt;(1, a); // ok\n     auto pB4 = std::make_shared&lt;Beta&gt;(1, {0, true}); // Err:  make_shared does not take 2 arguments\n     auto pB5 = std::make_shared&lt;Beta&gt;(1, Alpha{0, true}); // ok\n     auto pB6 = std::make_shared&lt;Beta&gt;(1, Alpha{ 0, true }); // ok\n     auto pB7 = std::make_shared&lt;Beta, Alpha&gt;(1, {0, true }); // Err: make_shared does not take 2 arguments\n}\n</code></pre>\n\n<p>*edit1: added an extra property in Alpha </p>\n\n<p>*edit2: added new cases, still am not sure why <strong>pB7</strong> fails  but <strong>pB1</strong> can some one explain that?</p>\n"}, {"tags": ["c++", "c++11", "metaprogramming", "variadic-templates", "function-templates"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7691552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1585399624821597/picture?type=large", "display_name": "Wagner Gascho", "link": "https://stackoverflow.com/users/7691552/wagner-gascho"}, "edited": false, "score": 0, "creation_date": 1490889551, "post_id": 43101772, "comment_id": 73324796, "body": "This is why I had that class &quot;Separator&quot; between variadic variables, to resolve ambiguous situations like the ones you mentioned. But it does not seem to solve it thought."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 0, "last_activity_date": 1490813370, "creation_date": 1490813370, "answer_id": 43101772, "question_id": 43101437, "link": "https://stackoverflow.com/questions/43101437/variadic-template-argument-deduction-substitution-failed-metaprogramming/43101772#43101772", "title": "Variadic template argument deduction/substitution failed, metaprogramming", "body": "<p>Something like this cannot work</p>\n\n<pre><code>template&lt;class V, class ...T, class ...U&gt;\nstring meuPrint( U ...b , Separator &amp;placeholder , string&amp; text , V value , T ...a )\n</code></pre>\n\n<p>Rule of thumb: you can have only a pack of argument that must be at the end of the list of argument.</p>\n\n<p>So you can reasonably write (and the compiler can deduce) something like</p>\n\n<pre><code>template &lt;typename V, typename ... T&gt;\nstring meuPrint(V value, T ... a)\n</code></pre>\n\n<p>but the following will fail</p>\n\n<pre><code>template &lt;typename V, typename ... T&gt;\nstring meuPrint(T ... a, V value)\n</code></pre>\n\n<p>Two pack of arguments, as follows,</p>\n\n<pre><code>template &lt;typename ... U, typename ... T&gt;\nstring meuPrint(U ... u, T ... t)\n</code></pre>\n\n<p>can't be deduced (where is the border between the pack <code>u</code> and the pack <code>t</code> ?).</p>\n\n<p>If you have two packs of arguments, you have to collect they with something like a <code>std::tuple</code>; something like</p>\n\n<pre><code>template &lt;typename ... U, typename ... T&gt;\nstring meuPrint(std::tuple&lt;U ...&gt; u, std::tuple&lt;T ...&gt; t)\n</code></pre>\n\n<p>but the use of variadic tuples can be a little difficult.</p>\n\n<p>Off Topic suggestion: you're using C++11; not the old C. Throw away <code>sprintf()</code> and use the C++ streams facilities.</p>\n\n<p>Is a lot simpler use variadic arguments with streams (you can ignore the format string)</p>\n"}], "owner": {"reputation": 33, "user_id": 7691552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1585399624821597/picture?type=large", "display_name": "Wagner Gascho", "link": "https://stackoverflow.com/users/7691552/wagner-gascho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 43101772, "answer_count": 1, "score": 0, "last_activity_date": 1490813449, "creation_date": 1490812335, "last_edit_date": 1490813449, "question_id": 43101437, "link": "https://stackoverflow.com/questions/43101437/variadic-template-argument-deduction-substitution-failed-metaprogramming", "title": "Variadic template argument deduction/substitution failed, metaprogramming", "body": "<p>Im attempting to create a recursive template function, however I keep getting the error:</p>\n\n<blockquote>\n  <p>no matching function for call to meuPrint(int&amp;, Separator&amp;, string&amp;)</p>\n</blockquote>\n\n<p>while also receiving:</p>\n\n<blockquote>\n  <p>candidate: \n  template string meuPrint(U ..., Separator&amp;,string&amp;).</p>\n</blockquote>\n\n<pre><code>struct Separator {};    \n\ntemplate&lt;class ...U&gt;\nstring meuPrint( U ...b , Separator &amp;placeholder , string&amp; text )\n{//end\n    char buffer[200];\n    sprintf( buffer , text.c_str() , b... );\n    return buffer;\n}\ntemplate&lt;class ...T, class ...U&gt;\nstring meuPrint( U ...b , Separator &amp;placeholder , string&amp; text , string value , T ...a )\n{//string\n    return meuPrint( b... , to_lower( value ) , placeholder , text , a... );\n}\n\ntemplate&lt;class V, class ...T, class ...U&gt;\nstring meuPrint( U ...b , Separator &amp;placeholder , string&amp; text , V value , T ...a )\n{//middle\n    return meuPrint( b... , value , placeholder , text , a... );\n}\n\ntemplate&lt;class ...T&gt;\nstring meuPrint( std::string _text , T ...a )\n{//start\n    Separator placeholder;\n    return meuPrint( placeholder , _text , a... );\n}\n\nint main( int n , char** args )\n{\n    string o = meuPrint(  string( \"hello %i world\" )  ,  8 );\n    std::cout &lt;&lt; o &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>The goal here isnt necessarily to lowercase the parameters, but to test a concept. I dont understand why the compiler keeps failing to deduce while telling me some valid candidates afterwards. </p>\n"}, {"tags": ["c++", "templates", "c++14", "overloading", "chaiscript"], "answers": [{"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 3246, "user_id": 6410484, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TtFQRjuFni4/AAAAAAAAAAI/AAAAAAAAALs/MvnswTqvKe0/photo.jpg?sz=128", "display_name": "chema989", "link": "https://stackoverflow.com/users/6410484/chema989"}, "edited": false, "score": 0, "creation_date": 1490814015, "post_id": 43101553, "comment_id": 73285592, "body": "@chema989 (1) It&#39;s called a forwarding reference. (2) If you pass in an lvalue, you&#39;re not calling <code>put&lt;uint64_t&gt;</code>, you&#39;re calling <code>put&lt;uint64_t&amp;&gt;</code>. It&#39;s a different instantiation."}, {"owner": {"reputation": 3246, "user_id": 6410484, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TtFQRjuFni4/AAAAAAAAAAI/AAAAAAAAALs/MvnswTqvKe0/photo.jpg?sz=128", "display_name": "chema989", "link": "https://stackoverflow.com/users/6410484/chema989"}, "edited": false, "score": 0, "creation_date": 1490814601, "post_id": 43101553, "comment_id": 73285979, "body": "Yeah I have to register each different instantiation in ChaiScript. Thanks @Barry."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1490812670, "creation_date": 1490812670, "answer_id": 43101553, "question_id": 43101399, "link": "https://stackoverflow.com/questions/43101399/how-register-overloaded-template-member-function-in-chaiscript/43101553#43101553", "title": "How register overloaded template member function in ChaiScript?", "body": "<p>You wrote:</p>\n\n<pre><code>static_cast&lt;MyType&amp; (MyType::*)(const std::string&amp;, uint64_t)&gt;(\n    &amp;MyType::put&lt;uint64_t&gt;)\n</code></pre>\n\n<p>But if you look at your first member function, its signature is:</p>\n\n<pre><code>template &lt;typename T&gt;\nMyType&amp; put(const std::string&amp; s, T&amp;&amp; val);\n</code></pre>\n\n<p>If <code>T</code> is <code>uint64_t</code>, then the second argument isn't <code>uint64_t</code>. It's <code>uint64_t&amp;&amp;</code>. Hence, what you want is:</p>\n\n<pre><code>static_cast&lt;MyType&amp; (MyType::*)(const std::string&amp;, uint64_t&amp;&amp;)&gt;(\n    &amp;MyType::put&lt;uint64_t&gt;)\n//                                                  ~~~~~~~~~~~\n</code></pre>\n"}], "owner": {"reputation": 3246, "user_id": 6410484, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TtFQRjuFni4/AAAAAAAAAAI/AAAAAAAAALs/MvnswTqvKe0/photo.jpg?sz=128", "display_name": "chema989", "link": "https://stackoverflow.com/users/6410484/chema989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 1, "accepted_answer_id": 43101553, "answer_count": 1, "score": 0, "last_activity_date": 1490812670, "creation_date": 1490812258, "last_edit_date": 1490812593, "question_id": 43101399, "link": "https://stackoverflow.com/questions/43101399/how-register-overloaded-template-member-function-in-chaiscript", "title": "How register overloaded template member function in ChaiScript?", "body": "<p>I have the next definition class:</p>\n\n<pre><code>class MyType {\npublic:\n    template &lt;typename T&gt;\n    MyType&amp; put(const std::string&amp; s, T&amp;&amp; val);\n\n    template &lt;typename T&gt;\n    MyType&amp; put(size_t pos, T&amp;&amp; val);\n\n    template &lt;typename M, typename T, typename = std::enable_if_t&lt;std::is_same&lt;MyType, std::decay_t&lt;M&gt;&gt;::value&gt;&gt;\n    MyType&amp; put(const M&amp; o, T&amp;&amp; val);\n}\n</code></pre>\n\n<p>How is the right way to register overloaded template member functions <code>MyType::put</code> in ChaiScript v6.0.0?</p>\n\n<p>I am trying specialized value template (Discussed in: <a href=\"http://discourse.chaiscript.com/t/issues-with-adding-templated-and-or-overloaded-operators/19/3\" rel=\"nofollow noreferrer\">http://discourse.chaiscript.com/t/issues-with-adding-templated-and-or-overloaded-operators/19/3</a>):</p>\n\n<pre><code>chai.add(chaiscript::fun(static_cast&lt;MyType&amp; (MyType::*)(const std::string&amp;, uint64_t)&gt;(&amp;MyType::put&lt;uint64_t&gt;), \"put\");\n</code></pre>\n\n<p>But not compile because there several candidate function.</p>\n"}, {"tags": ["c++", "class", "static-members", "stdmap", "member-function-pointers"], "answers": [{"comments": [{"owner": {"reputation": 14766, "user_id": 483486, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fcf225aa724d9bb05f6693dc8cf8c459?s=128&d=identicon&r=PG", "display_name": "OmnipotentEntity", "link": "https://stackoverflow.com/users/483486/omnipotententity"}, "edited": false, "score": 0, "creation_date": 1490822198, "post_id": 43103487, "comment_id": 73290201, "body": "You also want to label the map <code>const</code>  You probably don&#39;t want to change it."}, {"owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "edited": false, "score": 0, "creation_date": 1490822913, "post_id": 43103487, "comment_id": 73290566, "body": "Thanks, that helped, but now how would i do this with it being a const?"}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 1, "last_activity_date": 1490819165, "creation_date": 1490819165, "answer_id": 43103487, "question_id": 43101338, "link": "https://stackoverflow.com/questions/43101338/how-do-you-initialize-static-map-of-private-member-function-pointers/43103487#43103487", "title": "How do you initialize static map of private member function pointers?", "body": "<p>Don't worry, you're allowed to name private members from inside the initializer of a static class member, just like from inside the definition of a member function.</p>\n\n<p>Your trouble here is that you're not defining the static class member.  You're defining an unrelated global object named <code>MARIEinstruction</code>.  To define the class member, you must use the class member access syntax <code>MARIEapp::MARIEinstruction</code>.  Also, don't put the <code>static</code> keyword on the definition, just on the declaration.</p>\n\n<pre><code>std::map&lt;char, MARIEapp::Instruction&gt; MARIEapp::MARIEinstruction = {\n    { '0', &amp;MARIEapp::JnS },\n    { '1', &amp;MARIEapp::Load },\n    { '2', &amp;MARIEapp::Store },\n    { '3', &amp;MARIEapp::Add },\n    { '4', &amp;MARIEapp::Subt },\n    { '5', &amp;MARIEapp::Input },\n    { '6', &amp;MARIEapp::Output },\n    { '7', &amp;MARIEapp::Halt },\n    { '8', &amp;MARIEapp::Skipcond },\n    { '9', &amp;MARIEapp::Jump },\n    { 'A', &amp;MARIEapp::Clear },\n    { 'B', &amp;MARIEapp::AddI },\n    { 'C', &amp;MARIEapp::JumpI },\n    { 'D', &amp;MARIEapp::LoadI },\n    { 'E', &amp;MARIEapp::StoreI }\n};\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4946011, "user_type": "registered", "profile_image": "https://graph.facebook.com/845627608823732/picture?type=large", "display_name": "Diego Cuadros", "link": "https://stackoverflow.com/users/4946011/diego-cuadros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 43103487, "answer_count": 1, "score": 1, "last_activity_date": 1490819165, "creation_date": 1490812082, "last_edit_date": 1490815109, "question_id": 43101338, "link": "https://stackoverflow.com/questions/43101338/how-do-you-initialize-static-map-of-private-member-function-pointers", "title": "How do you initialize static map of private member function pointers?", "body": "<p>I'm trying to make a MARIE code simulator, or whatever you would call it, and I'm trying to avoid a long switch case to access some private functions in the class.</p>\n\n<p>MARIEapp.h:    </p>\n\n<pre><code>MARIEapp.h{\npublic:\n   typedef void (MARIEapp::*Instruction)();\nprivate:\n   static std::map&lt;char, Instruction&gt; MARIEinstruction;\n   void JnS();\n   void Load();\n   void Store();\n   void Add();\n   void Subt();\n   void Input();\n   void Output();\n   void Halt();\n   void Skipcond();\n   void Jump();\n   void Clear();\n   void AddI();\n   void JumpI();\n   void LoadI();\n   void StoreI();\n};\n</code></pre>\n\n<p>MARIEapp.cpp:</p>\n\n<pre><code>static std::map&lt;char, MARIEapp::Instruction&gt; MARIEinstruction = {\n    { '0', &amp;MARIEapp::JnS },\n    { '1', &amp;MARIEapp::Load },\n    { '2', &amp;MARIEapp::Store },\n    { '3', &amp;MARIEapp::Add },\n    { '4', &amp;MARIEapp::Subt },\n    { '5', &amp;MARIEapp::Input },\n    { '6', &amp;MARIEapp::Output },\n    { '7', &amp;MARIEapp::Halt },\n    { '8', &amp;MARIEapp::Skipcond },\n    { '9', &amp;MARIEapp::Jump },\n    { 'A', &amp;MARIEapp::Clear },\n    { 'B', &amp;MARIEapp::AddI },\n    { 'C', &amp;MARIEapp::JumpI },\n    { 'D', &amp;MARIEapp::LoadI },\n    { 'E', &amp;MARIEapp::StoreI }\n};\n</code></pre>\n\n<p>The long list of void functions access private members and are properly defined in the cpp file</p>\n\n<p>The problem is that, when initializing the MARIEinstruction map, I get an error that says that those functions are not accessible. I know it's because they're private, and I can fix this by just making them public.</p>\n\n<p>Is there a way I can do this and leave these all as private?\nAlso are there any other ways you recommend I do this?</p>\n"}, {"tags": ["c++", "windbg"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1490816979, "post_id": 43101307, "comment_id": 73287428, "body": "<code>&#47;u</code> is intended to make the dump file unique so that existing dump files will not be overwritten. I don&#39;t see a real benefit in adding the application name. What is the application name? The full path? It will contain invalid characters. The executable name? What if it contains spaces? Get the dumps, independent of the file names and write a small script that analyzes them and sorts them into directories or similar."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1490818066, "post_id": 43101307, "comment_id": 73288005, "body": "It seems you have knowledge about the <code>&#47;j</code> switch. Would you mind answering my question over there <a href=\"http://stackoverflow.com/questions/32733818/how-to-use-the-j-switch-of-dump\" title=\"how to use the j switch of dump\">stackoverflow.com/questions/32733818/&hellip;</a> ?"}], "owner": {"reputation": 23, "user_id": 3886999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p65Nm.jpg?s=128&g=1", "display_name": "satya", "link": "https://stackoverflow.com/users/3886999/satya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490811973, "creation_date": 1490811973, "question_id": 43101307, "link": "https://stackoverflow.com/questions/43101307/how-can-i-append-process-name-also-while-creating-a-crash-dump-using-windbg", "title": "How can i append process name also while creating a crash dump using windbg", "body": "<p>I am setting up an automatic crash resolver using windbg. I am able to create a dump with unique name but not able to append the crashed application name in the name of created crash dump. Please suggest some way to do it. \nMy registry value looks like</p>\n\n<p>\"C:\\Program Files (x86)\\Windows Kits\\10\\Debuggers\\x64\\windbg.exe\" -p %ld -e %ld -g -c  \".dump /j %p /ma  /u C:\\Users\\satyprak\\AppData\\Local\\CrashDumps.dmp; g; qd\"</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 2, "creation_date": 1490811961, "post_id": 43101267, "comment_id": 73284293, "body": "Step #1, Learn how to use a debugger. Run through each line of code, examine the variables changing, etc.  Post what you have found.  Thanks."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "reply_to_user": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1490812008, "post_id": 43101267, "comment_id": 73284318, "body": "@OldProgrammer The problem is he seems to submitting it to some online judge that doesn&#39;t tell him the test case it fails for."}, {"owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "reply_to_user": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1490812146, "post_id": 43101267, "comment_id": 73284395, "body": "@OldProgrammer That&#39;s the point. I tried to debug with many inputs and all of then are correct. I&#39;m here because I didn&#39;t find what input is causing the trouble."}, {"owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "reply_to_user": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1490812186, "post_id": 43101267, "comment_id": 73284416, "body": "@AjayBrahmakshatriya Yep!"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1490812289, "post_id": 43101267, "comment_id": 73284467, "body": "There is probably a case where two smaller factorials added together give you the number when using your approach takes 3 or more numbers."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1490812295, "post_id": 43101267, "comment_id": 73284468, "body": "Ok, but we don&#39;t know which test case it fails for either."}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1490812296, "post_id": 43101267, "comment_id": 73284471, "body": "Okay So I see a problem with the rec function. The count variable is local. Meaning if you call rec from rec the count will be different. So when the count is incremented inside it wont affect the count you are maintaining in the outer call. I would suggest a loop instead of recursion."}, {"owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1490812635, "post_id": 43101267, "comment_id": 73284662, "body": "@NathanOliver I tried to find some example that fits, but I didn&#39;t find. Can you provide me some? And thanks for the help!"}, {"owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "edited": false, "score": 0, "creation_date": 1490812784, "post_id": 43101267, "comment_id": 73284756, "body": "@Katreque, 18. The failing case is 18!"}], "answers": [{"comments": [{"owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "edited": false, "score": 0, "creation_date": 1490813999, "post_id": 43101494, "comment_id": 73285578, "body": "Apreciated! I didn&#39;t think in such good and simple solution for this problem. And 18 were the problem. Again, thank a lot for the help and time."}], "tags": [], "owner": {"reputation": 8204, "user_id": 2858773, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5iGps.jpg?s=128&g=1", "display_name": "Ajay Brahmakshatriya", "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"}, "is_accepted": true, "score": 0, "last_activity_date": 1490812477, "creation_date": 1490812477, "answer_id": 43101494, "question_id": 43101267, "link": "https://stackoverflow.com/questions/43101267/sum-of-factoriais-to-be-equal-a-given-number/43101494#43101494", "title": "Sum of factoriais to be equal a given number", "body": "<p>As I mentioned in the comment, the issue is with the rec function. Due to rec being local, the count is not being incremented correctly.</p>\n\n<p>A simple solution would be to replace the rec function as follows</p>\n\n<pre><code>int rec(int vec) {\n    int count = a / vec;\n    a = a % vec;\n    return count;\n}\n</code></pre>\n\n<p>Edit : for a failing case try 18. The solution will be 3 but you will get 2.\nI guess you can figure out how this logic works. If not you could do it with a loop.</p>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "edited": false, "score": 0, "creation_date": 1490814430, "post_id": 43102021, "comment_id": 73285883, "body": "Thanks for sharing! That&#39;s another good way to solve this problem. And I liked your fatorial func. Great ideia! Again, thanks!"}, {"owner": {"reputation": 21, "user_id": 7757420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fefc94ce80d011f46e2e3ddec27b97f?s=128&d=identicon&r=PG&f=1", "display_name": "Ep1c", "link": "https://stackoverflow.com/users/7757420/ep1c"}, "reply_to_user": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "edited": false, "score": 0, "creation_date": 1490815010, "post_id": 43102021, "comment_id": 73286221, "body": "You are welcome. Edited. Now it&#39;s returnes number of factorials."}], "tags": [], "owner": {"reputation": 21, "user_id": 7757420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fefc94ce80d011f46e2e3ddec27b97f?s=128&d=identicon&r=PG&f=1", "display_name": "Ep1c", "link": "https://stackoverflow.com/users/7757420/ep1c"}, "is_accepted": false, "score": 1, "last_activity_date": 1490814852, "last_edit_date": 1490814852, "creation_date": 1490814148, "answer_id": 43102021, "question_id": 43101267, "link": "https://stackoverflow.com/questions/43101267/sum-of-factoriais-to-be-equal-a-given-number/43102021#43102021", "title": "Sum of factoriais to be equal a given number", "body": "<p>The problem is easily solved by a recursive approach.</p>\n\n<p>Here is checked code:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n\nusing namespace std;\n\nint factorial(int n) {\n        return n&lt;=1 ? 1 : n * factorial(n-1);\n    }\n\n\nint MinFact(int number)\n{\n            static int num_of_facts;\n            int a = 1;\n            if (number)\n            {\n                        while(factorial(a+1)&lt;=number)a++;\n                        cout &lt;&lt; a &lt;&lt; \"!\" &lt;&lt; endl;\n                        num_of_facts++;\n                        MinFact((number-factorial(a)));\n            }\n            return num_of_facts;\n}\n\n\nint main()\n{\n            int num;\n            cout &lt;&lt; \"Enter number\" &lt;&lt; endl;\n            cin &gt;&gt; num;\n            num = MinFact(num);\n            cout &lt;&lt; \"Number of factorials: \" &lt;&lt; num;\n            return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 338, "user_id": 4879533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-th1Ahv7XRyk/AAAAAAAAAAI/AAAAAAAAAb0/2RPHAe4ozqg/photo.jpg?sz=128", "display_name": "Katreque", "link": "https://stackoverflow.com/users/4879533/katreque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 43101494, "answer_count": 2, "score": 1, "last_activity_date": 1490814852, "creation_date": 1490811836, "last_edit_date": 1592644375, "question_id": 43101267, "link": "https://stackoverflow.com/questions/43101267/sum-of-factoriais-to-be-equal-a-given-number", "title": "Sum of factoriais to be equal a given number", "body": "<p>I'm trying to solve the following problem:</p>\n<blockquote>\n<p>What is the smallest number of factoriais summed that are needed to be equal an given number <strong>a</strong>? (1 \u2264 <strong>a</strong> \u2264 10^5)</p>\n</blockquote>\n<p>Example:</p>\n<blockquote>\n<p>Input: 10, Output: 3. (10 = 3! + 2! + 2!)</p>\n<p>Input: 25, Output: 2. (25 = 4! + 1!)</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>#include&lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nint a;\n\nint rec(int vet){\n    \n    int count = 0;\n    \n    a = a - vet;\n        if(a &gt;= vet){\n            count++;\n            rec(vet);\n        }\n    count++;\n    return count;\n}\n\nint main(){\n    \n    int vet[8] = {1}, count = 0;\n    \n    cin &gt;&gt; a;\n    \n    for(int i = 2; i &lt;= 8; i++){\n        vet[i-1] = vet[i-2]*i;\n    }\n    \n    for(int i = 7; i &gt;= 0; i--){\n        if(a &lt; vet[i]){\n            continue;\n        }\n        \n        count += rec(vet[i]);\n    }\n    \n    cout &lt;&lt; count &lt;&lt; endl;\n}\n</code></pre>\n<p>My logic:</p>\n<blockquote>\n<p>1\u00b0: <strong>a</strong> max is equal to 100000, so the maximum fatorial we have to\ncompare is 8!;</p>\n<p>2\u00b0: I take a factioral that is equal or nearest small to <strong>a</strong>,\nsubtract the factorial from it and count++; If after the subtraction,\n<strong>a</strong> still bigger then my factorial, I do the same step recursively.</p>\n</blockquote>\n<p>This code pass on the base cases, but I got a wrong answer. I wasn't capable to find what case it didn't pass, so I'm here.</p>\n<p>Can you find where am I wrong? Or if my solution is not good and I should try another approach.</p>\n<p>Thanks for the help!</p>\n"}, {"tags": ["c++", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 11509, "user_id": 140962, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ttvCS.jpg?s=128&g=1", "display_name": "JGC", "link": "https://stackoverflow.com/users/140962/jgc"}, "is_accepted": true, "score": 1, "last_activity_date": 1490811953, "creation_date": 1490811953, "answer_id": 43101297, "question_id": 43101197, "link": "https://stackoverflow.com/questions/43101197/how-to-add-values-in-a-2d-matrix-with-same-first-index-c/43101297#43101297", "title": "How to add values in a 2d matrix with same first index (c++)", "body": "<p>If you initialize all values of array with 0 then you would be able to sum up all values of each i'th index</p>\n\n<pre><code>matrix sampleMatrix;\nfor(int i=0;i&lt;9;i++){\n    for(int j=0;j&lt;9;j++){\n         sampleMatrix[i][j]=0;\n    }\n}\n\nsampleMatrix [1][2] = 3;\nsampleMatrix [1][4] = 5;\nsampleMatrix [3][5] = 6;\nsampleMatrix [3][2] = 2;\nsampleMatrix [5][1] = 1;\n\nfor (int i = 0; i &lt; 9; i++){\n   int sum=0;\n   for (int j = 0; j &lt; 9; j++){\n          sum = sum + sampleMatrix[i][j];       \n   }\n   cout&lt;&lt;sum&lt;&lt;endl;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3249, "user_id": 1538049, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jp5pz.jpg?s=128&g=1", "display_name": "Ufuk Can Bicici", "link": "https://stackoverflow.com/users/1538049/ufuk-can-bicici"}, "is_accepted": false, "score": 0, "last_activity_date": 1490811976, "creation_date": 1490811976, "answer_id": 43101308, "question_id": 43101197, "link": "https://stackoverflow.com/questions/43101197/how-to-add-values-in-a-2d-matrix-with-same-first-index-c/43101308#43101308", "title": "How to add values in a 2d matrix with same first index (c++)", "body": "<p>Build a integer array of the length 9 like int sums [9] and initialize each entry with 0. In your double for loop, for every sampleMatrix [i][j] entry, add it to the corresponding entry of the sums array, like sums [i] += sampleMatrix [i][j]</p>\n"}], "owner": {"reputation": 17, "user_id": 7763522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155111576448890/picture?type=large", "display_name": "Joshua Hodge", "link": "https://stackoverflow.com/users/7763522/joshua-hodge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 43101297, "answer_count": 2, "score": 0, "last_activity_date": 1490811976, "creation_date": 1490811597, "question_id": 43101197, "link": "https://stackoverflow.com/questions/43101197/how-to-add-values-in-a-2d-matrix-with-same-first-index-c", "title": "How to add values in a 2d matrix with same first index (c++)", "body": "<p>I have a set of values stored in a 2d matrix.  I want to create separate totals for the values which have the same first index.  Here's a short example:</p>\n\n<pre><code>typedef int matrix [9][9];\nmatrix sampleMatrix;\n\nsampleMatrix [1][2] = 3;\nsampleMatrix [1][4] = 5;\nsampleMatrix [3][5] = 6;\nsampleMatrix [3][2] = 2;\nsampleMatrix [5][1] = 1;\n\nfor (int i = 0; i &lt; 9; i++){\n   for (int j = 0; j &lt; 9; j++){\n        //here's where I'm stuck\n        //if i = 1, then total all values with i = 1 etc.\n        if(sampleMatrix[i]){ \n        int sum = sum + sampleMatrix[i][j];\n        }\n        std::cout &lt;&lt; i &lt;&lt; \" Total: \" &lt;&lt; sum &lt;&lt; std::endl;\n   }\n\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["c++", "multithreading"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 3169606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8790d10c9ab0f5ccc52b17dec453e967?s=128&d=identicon&r=PG&f=1", "display_name": "Sorcerer", "link": "https://stackoverflow.com/users/3169606/sorcerer"}, "edited": false, "score": 0, "creation_date": 1490899709, "post_id": 43101521, "comment_id": 73331054, "body": "I saw advices on similar problems - smart pointers and C++11 are best way to solve them. Thanks for answer!"}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 0, "last_activity_date": 1490812573, "creation_date": 1490812573, "answer_id": 43101521, "question_id": 43101056, "link": "https://stackoverflow.com/questions/43101056/thread-data-encapsulation-best-practices/43101521#43101521", "title": "Thread data encapsulation best practices", "body": "<p>Some sprinkling of C++ Standard Library classes would probably be good.</p>\n\n<pre><code>std::future&lt;std::vector&lt;unsigned char&gt;&gt; download(std::string url) {\n    std::promise&lt;std::vector&lt;unsigned char&gt;&gt; promise;\n    std::future&lt;std::vector&lt;unsigned char&gt;&gt; future = promise.get_future();\n    //I'm like 99% certain that both promise and future ref-count their shared state\n    //so it's probably safe to move and later even delete the promise object.\n    func_which_begins_asynchronous_process(url, std::move(promise));\n    return future;\n}\n\nvoid callback(std::vector&lt;unsigned char&gt; data, std::promise&lt;std::vector&lt;unsigned char&gt;&gt; promise) {\n    promise.set_value(std::move(data));\n}\n\nint main() {\n    auto future = download(\"google.com\");\n    //Do whatever\n    std::vector&lt;unsigned char&gt; result = future.get();\n    //Do whatever\n    return 0;\n}\n</code></pre>\n\n<p>This will both make the code easy to reason about, and will reliably handle the \"pointer ownership\" issue you discussed in your original post.</p>\n\n<p>I don't know the exact semantics/requirements of your code, so my code won't work in your solution \"as-is\", but this should give you a pretty good idea of the kind of paradigm that will solve your problem.</p>\n"}], "owner": {"reputation": 190, "user_id": 3169606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8790d10c9ab0f5ccc52b17dec453e967?s=128&d=identicon&r=PG&f=1", "display_name": "Sorcerer", "link": "https://stackoverflow.com/users/3169606/sorcerer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 43101521, "answer_count": 1, "score": 0, "last_activity_date": 1490812573, "creation_date": 1490811091, "question_id": 43101056, "link": "https://stackoverflow.com/questions/43101056/thread-data-encapsulation-best-practices", "title": "Thread data encapsulation best practices", "body": "<p>I have a question how to encapsulate data gracefully in such case.\nLet's think we want to make some class that can asynchronous download images from internet. Let us have unblocking method:</p>\n\n<pre><code>void download(string url)\n</code></pre>\n\n<p>This method will create thread and start downloading, and then invoke callback:</p>\n\n<pre><code>void callback(char* data)\n</code></pre>\n\n<p>What is best: allocate memory for data in Downloader or allocate it out of Downloader class? In first case we will need to copy data returned in callback and if data is big - it is not good, otherwise we will allocate memory in Downloader class and release it somewhere else. In second case we need to allocate memory for data and pass it as parameter in download method:</p>\n\n<pre><code>char *data = new char[DATA_SIZE];\ndownloader.download(url, data);\n</code></pre>\n\n<p>But how can we protect this allocated data from changing it from callable thread, while it used by downloader thread. I think there is some way to make it without synchronization in callable thread some way to make this logic invisible for client.</p>\n\n<p>Hope you get my mind right</p>\n"}, {"tags": ["c++", "haskell", "g++", "ghc"], "comments": [{"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 1, "creation_date": 1490811476, "post_id": 43100934, "comment_id": 73283981, "body": "I just spent all day doing this yesterday, and succeeded, so it is possible.  I didn&#39;t hit the error you are seeing, but the errors seem to be telling you to add <code>-fPIC</code> to your compiler flags.  (I hope it doesn&#39;t mean when compiling GHC)"}, {"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 2, "creation_date": 1490811795, "post_id": 43100934, "comment_id": 73284177, "body": "Another option (which wasn&#39;t available to me) that I heard worked is to use <code>ghc</code> as your linker.  Then you don&#39;t need to futz with all the <code>-L</code> stuff.  I.e. <code>g++ -c main.cpp; ghc Hello.hs main.o -o main</code> or something"}, {"owner": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "reply_to_user": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490811922, "post_id": 43100934, "comment_id": 73284265, "body": "@luqui Thank you for taking the time. Do you have any link for this other option? About -fPIC, I have tried to add it but it doesn&#39;t change anything. My guess is that the error come from the libraries and not from the compilation of my code. Do you have any working example ? Could you kindly share? Regards"}, {"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490812040, "post_id": 43100934, "comment_id": 73284337, "body": "I don&#39;t know how much <a href=\"https://github.com/luqui/lukeper\" rel=\"nofollow noreferrer\">my example</a> is going to help, it&#39;s a pretty different context.  OSX on Xcode.  But the linker flags are <a href=\"https://github.com/luqui/lukeper/blob/master/Builds/MacOSX/lukeper.xcodeproj/project.pbxproj#L3894\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490812339, "post_id": 43100934, "comment_id": 73284493, "body": "Wait -- there seem to be some errors in your makefile.  You talk about <code>HaskellPart.o</code> but there&#39;s no <code>HaskellPart.hs</code>.  And <code>Hello.o</code> is on the <code>g++</code> command line despite ostensibly requiring <code>HaskellPart.o</code>.  Clean out your project directory and try again (so your won&#39;t be misled by stale object files).  Also shouldn&#39;t <code>-c</code> be on the <code>ghc</code> command line?"}, {"owner": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "reply_to_user": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490812863, "post_id": 43100934, "comment_id": 73284821, "body": "@luqui Thanks for the linker flags. <code>HaskellPart.o</code> is the instruction compiling <code>Hello.hs</code>, not a file. What <code>-c</code>?"}, {"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490813404, "post_id": 43100934, "comment_id": 73285163, "body": "Oh, I see. That&#39;s very misleading -- it looks like a file.   <code>-c</code> says to compile only the object file (<code>.o</code>) and not try to make an executable program.  Maybe it&#39;s the default if there&#39;s no output <code>-o</code> or <code>--make</code> flag."}, {"owner": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "reply_to_user": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 0, "creation_date": 1490813820, "post_id": 43100934, "comment_id": 73285430, "body": "@luqui Yeah I understand. I have rename it to keep things clear. I&#39;m desperate to find a solution :/"}, {"owner": {"reputation": 57219, "user_id": 33796, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/08727b23ba62e634b32988cdff082663?s=128&d=identicon&r=PG", "display_name": "luqui", "link": "https://stackoverflow.com/users/33796/luqui"}, "edited": false, "score": 1, "creation_date": 1490813887, "post_id": 43100934, "comment_id": 73285481, "body": "things take as long as they take.  One step at a time.  ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "edited": false, "score": 0, "creation_date": 1490863379, "post_id": 43107962, "comment_id": 73305300, "body": "Awesome, thank you so much ! Would you say that the github tutorial is wrong or only adapted to mac os? Do you have any further explanation?"}, {"owner": {"reputation": 661, "user_id": 7720738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HccZv.png?s=128&g=1", "display_name": "James Burton", "link": "https://stackoverflow.com/users/7720738/james-burton"}, "reply_to_user": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "edited": false, "score": 1, "creation_date": 1490989012, "post_id": 43107962, "comment_id": 73374181, "body": "@MaximeVAST I can&#39;t really say because I don&#39;t know a huge amount about CMake. The tutorial is from 2014 so it might just be outdated. Try adding -shared and -dynamic (maybe -fPIC as well) to your Haskell flags in the CMake file and see if your original method works then."}], "tags": [], "owner": {"reputation": 661, "user_id": 7720738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HccZv.png?s=128&g=1", "display_name": "James Burton", "link": "https://stackoverflow.com/users/7720738/james-burton"}, "is_accepted": true, "score": 2, "last_activity_date": 1490844318, "creation_date": 1490844318, "answer_id": 43107962, "question_id": 43100934, "link": "https://stackoverflow.com/questions/43100934/calling-haskell-from-c/43107962#43107962", "title": "Calling Haskell from c++", "body": "<p>Not sure whether that's actually in your file or whether it's just in the version you put in your question but \"// hello.hs\" won't compile. Comments are -- in Haskell not //.</p>\n\n<p>Anyway on to the interesting part...</p>\n\n<p>First you need to import the HsFFI.h header file into your C++ code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Hello_stub.h\"\n#include &lt;HsFFI.h&gt;\n</code></pre>\n\n<p>Then use ghc to link the files after compiling them. Open a command prompt / terminal and navigate the directory containing your C++ and Haskell files. Then run the following commands:</p>\n\n<pre><code>ghc -c -XForeignFunctionInterface -O hello.hs\ng++ -c -O main.cpp -I \"C:\\Program Files\\Haskell Platform\\7.10.3\\lib\\include\"                         \nghc -no-hs-main hello.o main.o -lstdc++\n</code></pre>\n\n<p>The filepath in the second command is to the directory containing the HsFFI.h file.</p>\n\n<p>Running main then outputs:</p>\n\n<pre><code>Hello from C++\nHello from Haskell\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 5324537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da02c8d20023c2bb9823f8ef6b9e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime VAST", "link": "https://stackoverflow.com/users/5324537/maxime-vast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 43107962, "answer_count": 1, "score": 8, "last_activity_date": 1490844318, "creation_date": 1490810744, "last_edit_date": 1495541882, "question_id": 43100934, "link": "https://stackoverflow.com/questions/43100934/calling-haskell-from-c", "title": "Calling Haskell from c++", "body": "<p>I'm trying to call Haskell from c++.</p>\n\n<p>I tried to use <a href=\"https://github.com/jarrett/cpphs\" rel=\"nofollow noreferrer\">this</a> explanation; and already asked one question on <a href=\"https://stackoverflow.com/q/42976708/5324537\">SO</a>.</p>\n\n<p>However, I haven't got any answer so I'd like to reformulate to a Minimal, Complete, and Verifiable example.</p>\n\n<p>I'm using Debian and this is what I have (In the same folder):</p>\n\n<p><strong>c++:</strong></p>\n\n<pre><code>// main.cpp\n#include &lt;iostream&gt;\n#include \"Hello_stub.h\"\n\nint main(int argc, char** argv) {\n  hs_init(&amp;argc, &amp;argv);\n  std::cout &lt;&lt; \"Hello from C++\\n\";\n  helloFromHaskell();\n  hs_exit();\n  return 0;\n}\n</code></pre>\n\n<p><strong>Haskell:</strong></p>\n\n<pre><code>// hello.hs\nmodule Hello where\n\nforeign export ccall helloFromHaskell :: IO ()\n\nhelloFromHaskell :: IO ()\nhelloFromHaskell = putStrLn \"Hello from Haskell\"\n</code></pre>\n\n<p><strong>MakeFile:</strong></p>\n\n<pre><code>CPP_SOURCES = main.cpp\nHASKELL_SOURCES = Hello.hs\nCFLAGS = -Wall -g -fno-stack-protector\nHFLAGS = -fforce-recomp\n\nall: main; ./main\n\nmain: $(CPP_SOURCES) HaskellPart; g++ \\\n    $(CFLAGS) -o main $(CPP_SOURCES) Hello.o \\\n    -I/usr/lib/ghc/include \\\n    -liconv \\\n    -I/usr/lib/ghc/ghc-8.0.1/include \\\n    -L/usr/lib/ghc/ghc-8.0.1 \\\n    -L/usr/lib/ghc/base-4.9.0.0 \\\n    -lHSbase-4.9.0.0 \\\n    -L/usr/lib/ghc/ghc-prim-0.5.0.0 \\\n    -lHSghc-prim-0.5.0.0 \\\n    -L/usr/lib/ghc/integer-gmp-1.0.0.1 \\\n    -lHSinteger-gmp-1.0.0.1 \\\n    -lHSghc-prim-0.5.0.0 \\\n    -L/usr/lib/ghc/rts \\\n    -lHSrts \\\n\nHaskellPart: $(HASKELL_SOURCES); ghc $(HFLAGS) $(HASKELL_SOURCES)\n\nclean: ; rm -rf main &amp;&amp; rm -rf *.o &amp;&amp; rm -rf *.hi &amp;&amp; rm -rf *_stub.h\n</code></pre>\n\n<p>Here's the <a href=\"https://pastebin.com/HsQw0L4c\" rel=\"nofollow noreferrer\">output</a>. It seems to be a bunch of errors of the form</p>\n\n<pre><code>/usr/bin/ld: Hello.o: relocation R_X86_64_32S against symbol `stg_bh_upd_frame_info' can not be used when making a shared object; recompile with -fPIC\n</code></pre>\n\n<p>What's wrong? Thank you for your help !</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1490810851, "post_id": 43100916, "comment_id": 73283608, "body": "are you sure that <code>long double</code> is 16 bytes?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1490810897, "post_id": 43100916, "comment_id": 73283643, "body": "I beg to differ @tobi303 . It is far less comprehensible after even a single pass of ROT13. Strangely a second pass seems to recover... I wonder how that happened."}, {"owner": {"reputation": 999, "user_id": 3274625, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062648629/picture?type=large", "display_name": "Jason Lang", "link": "https://stackoverflow.com/users/3274625/jason-lang"}, "edited": false, "score": 0, "creation_date": 1490811170, "post_id": 43100916, "comment_id": 73283786, "body": "@Tehada: check sizeof(long double) to know how many bits it is on your implementation. It&#39;s not a standard size."}, {"owner": {"reputation": 353, "user_id": 6411816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-v2NXLOec7TI/AAAAAAAAAAI/AAAAAAAAAB8/b1lFH64cnQM/photo.jpg?sz=128", "display_name": "Tehada", "link": "https://stackoverflow.com/users/6411816/tehada"}, "reply_to_user": {"reputation": 999, "user_id": 3274625, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062648629/picture?type=large", "display_name": "Jason Lang", "link": "https://stackoverflow.com/users/3274625/jason-lang"}, "edited": false, "score": 0, "creation_date": 1490811288, "post_id": 43100916, "comment_id": 73283873, "body": "@JasonLang I already solved! The problem that I forgot to fix prototype of function!"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 6411816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-v2NXLOec7TI/AAAAAAAAAAI/AAAAAAAAAB8/b1lFH64cnQM/photo.jpg?sz=128", "display_name": "Tehada", "link": "https://stackoverflow.com/users/6411816/tehada"}, "edited": false, "score": 0, "creation_date": 1490811167, "post_id": 43100999, "comment_id": 73283784, "body": "Yes, the problem in declaration, I didn&#39;t change it!"}, {"owner": {"reputation": 999, "user_id": 3274625, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062648629/picture?type=large", "display_name": "Jason Lang", "link": "https://stackoverflow.com/users/3274625/jason-lang"}, "edited": false, "score": 0, "creation_date": 1490811509, "post_id": 43100999, "comment_id": 73284009, "body": "long double isn&#39;t very portable however, as different compilers treat it differently."}, {"owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "reply_to_user": {"reputation": 999, "user_id": 3274625, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062648629/picture?type=large", "display_name": "Jason Lang", "link": "https://stackoverflow.com/users/3274625/jason-lang"}, "edited": false, "score": 0, "creation_date": 1490811698, "post_id": 43100999, "comment_id": 73284128, "body": "@JasonLang, Thanks, I added your comment as a note in the body"}], "tags": [], "owner": {"reputation": 3109, "user_id": 6178493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9rTzh.jpg?s=128&g=1", "display_name": "Rama", "link": "https://stackoverflow.com/users/6178493/rama"}, "is_accepted": true, "score": 2, "last_activity_date": 1490813257, "last_edit_date": 1495535456, "creation_date": 1490810916, "answer_id": 43100999, "question_id": 43100916, "link": "https://stackoverflow.com/questions/43100916/how-to-pass-mat-long-double-in-function/43100999#43100999", "title": "How to pass Mat_&lt;long double&gt; in function?", "body": "<p>You need to change the prototype of the function to pass diferent parameter type:</p>\n\n<p>Prototype:</p>\n\n<pre><code>func(Mat_&lt;long double&gt; first);\n</code></pre>\n\n<p>Definition:</p>\n\n<pre><code>func(Mat_&lt;long double&gt; first)\n{\n..\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>Mat_&lt;long double&gt; example;\nfunc(example);\n</code></pre>\n\n<p><strong>Notes:</strong><br></p>\n\n<ul>\n<li><p>Be careful with the use of <code>long double</code>, isn't very portable, as <a href=\"https://stackoverflow.com/questions/3454576/long-double-vs-double\">different compilers treat it differently</a></p></li>\n<li><p>Also consider to pass by reference (<code>Mat_&lt;long double&gt; &amp;</code>) instead of by val for performance reasons, when you use a big matrix.</p></li>\n</ul>\n"}], "owner": {"reputation": 353, "user_id": 6411816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-v2NXLOec7TI/AAAAAAAAAAI/AAAAAAAAAB8/b1lFH64cnQM/photo.jpg?sz=128", "display_name": "Tehada", "link": "https://stackoverflow.com/users/6411816/tehada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 43100999, "answer_count": 1, "score": 0, "last_activity_date": 1490813257, "creation_date": 1490810685, "question_id": 43100916, "link": "https://stackoverflow.com/questions/43100916/how-to-pass-mat-long-double-in-function", "title": "How to pass Mat_&lt;long double&gt; in function?", "body": "<p>I have a <code>Mat_&lt;long double&gt;</code> matrix. I need <code>long double</code> to perform multiplication of large matrices (10x4096 both). But the problem is that passing to function in such way: <code>func(Mat first)</code> makes the size of element in function 8 bytes though I need 16. But <code>func(Mat_&lt;long double&gt; first)</code> causes undefined reference to function by linker. So the question is how can I pass <code>Mat_&lt;long double&gt;</code> to function?</p>\n"}, {"tags": ["c++", "c++11", "g++", "clang++"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1490810654, "post_id": 43100890, "comment_id": 73283486, "body": "And you spammed the C tag - why?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490810781, "post_id": 43100890, "comment_id": 73283559, "body": "You are casting <code>b.*h</code> to <code>my_function</code> type and you expect this to do what?  Note that the code above clearly doesn&#39;t compile and run in g++, you are at the very least missing a <code>;</code>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490810801, "post_id": 43100890, "comment_id": 73283570, "body": "You can&#39;t cast a non-static member method pointer to a function pointer. A member method pointer requires an instance (<code>this</code>) which function pointers to not. The pointer <code>some_func</code> would have to somehow bundle <code>b</code>."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490810962, "post_id": 43100890, "comment_id": 73283683, "body": "Note that (if you correct the error at <code>return</code>) gcc produces a warning about your cast to <code>my_function</code>. Visual Studio 2015 also rejects the code with a similar error."}, {"owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "edited": false, "score": 0, "creation_date": 1490810970, "post_id": 43100890, "comment_id": 73283688, "body": "except for the semicolon i missed at line 9, this code compile and run with <code>g++ (Ubuntu 6.2.0-5ubuntu12) 6.2.0 20161005</code>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490811074, "post_id": 43100890, "comment_id": 73283736, "body": "Then add the semicolon.  When I add state to <code>B</code>, <a href=\"http://coliru.stacked-crooked.com/a/e9b71e30ca99a746\" rel=\"nofollow noreferrer\">it segfaults</a>.  So again, I do not know what you <i>expect</i> it to do."}, {"owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "edited": false, "score": 0, "creation_date": 1490811157, "post_id": 43100890, "comment_id": 73283780, "body": "i expect it to call the class B some_func"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490811187, "post_id": 43100890, "comment_id": 73283805, "body": "@ForKoding And what do you expect <code>this</code> to be in it?  Again, please press the &lt;kbd&gt;edit&lt;/kbd&gt; button and actually make your code valid in the question."}, {"owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "edited": false, "score": 0, "creation_date": 1490811282, "post_id": 43100890, "comment_id": 73283869, "body": "to be <code>b</code> instance"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1490811316, "post_id": 43100890, "comment_id": 73283897, "body": "@ForKoding Well, that doesn&#39;t work on g++ either.  See my link named &quot;segfault&quot; above.  Or <a href=\"http://coliru.stacked-crooked.com/a/960d24f83071f8b0\" rel=\"nofollow noreferrer\">here</a> without a <code>std::string</code>."}, {"owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "edited": false, "score": 1, "creation_date": 1490811430, "post_id": 43100890, "comment_id": 73283962, "body": "but without calling any member variable this compile in g++ but not clang++, is this g++ bug ? and take a look at this <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Bound-member-functions.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/onlinedocs/gcc/Bound-member-functions.html</a>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490811447, "post_id": 43100890, "comment_id": 73283969, "body": "@ForKoding What you are trying to do is not supported in c++. A non-static member function pointer and a function pointer are different mechanisms and are not interchangeable. Consider using <code>std::function</code> instead. While gcc allows your example to compile, using that cast pointer is not portable. gcc is kind enough to issue a warning about it."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490811666, "post_id": 43100890, "comment_id": 73284111, "body": "Good rundown on why what you&#39;re trying can&#39;t work and strategies to fix it: <a href=\"https://isocpp.org/wiki/faq/pointers-to-members\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/pointers-to-members</a> Remember that a cast tells the compiler to turn off its type-checking brains and trust that you are right. So you better be right because correct or not, the program will compile."}, {"owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490811888, "post_id": 43100890, "comment_id": 73284244, "body": "@user4581301 you can post your comment as an answer so i can select it"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490812112, "post_id": 43100890, "comment_id": 73284379, "body": "Don&#39;t worry about it. It would be a link-only answer, and we frown on those &#39;round these parts."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1490813614, "last_edit_date": 1490813614, "creation_date": 1490812763, "answer_id": 43101588, "question_id": 43100890, "link": "https://stackoverflow.com/questions/43100890/storing-pointer-to-member-function-does-not-work-for-clang/43101588#43101588", "title": "storing pointer to member function does not work for clang++", "body": "<p>Apparently in g++, it permits you to cast a pointer to member function with 0 arguments to a function pointer, and calling it will result in invoking that member function with a corrupt/missing <code>this</code> pointer.</p>\n\n<p>In addition, the expression <code>b.*m</code>, where <code>m</code> is a member function and <code>b</code> is a class will evaluate virtual dispatch, and the resulting object can be then cast to a function pointer that has evaluated that virtual dispatch.  It will still have a corrupt <code>this</code> value.</p>\n\n<p>Both of these are illegal operations under the standard; the program is either ill defined, or using it is undefined behavior.</p>\n\n<p>In g++, the fact that the <code>this</code> pointer is garbage is a good reason why this isn't a very useful strategy.  <a href=\"http://coliru.stacked-crooked.com/a/960d24f83071f8b0\" rel=\"nofollow noreferrer\">Here</a> is an example of it being built with some state in <code>B</code> and it not compiling on clang++ and segfaulting on g++.</p>\n\n<p>A member function and a pointer to object are two things.  Storing them both in one thing (a function pointer) is not going to work, regardless of how you hack it.</p>\n\n<p>There are a number of ways to approach this.  The simplest is to use <code>std::function</code>, but you are banned from using the standard library.</p>\n\n<p>The next easiest way is to write your own <code>std::function</code> variant.  I've done this -- a \"delegate\" that supports storing pointers-to-lambdas, pointers to functions, (pointers to objects + pointers to member functions) that are call compatible with a given signature.</p>\n\n<p>All of these are trivial \"plain old data\", so you can create a simple buffer, copy their value into the buffer, and save a function that knows how to take a pointer-to-the-buffer and invoke it.</p>\n\n<pre><code>template&lt;class Sig, unsigned Sz=3*sizeof(void*)&gt;\nstruct fun;\ntemplate&lt;class R, class...Args, unsigned Sz&gt;\nstruct fun&lt;R(Args...), Sz&gt; {\n  using invoker_t = R(*)(void*, Args&amp;&amp;...);\n  invoker_t invoker;\n  unsigned char buffer[Sz];\n  template&lt;class D&gt;\n  struct invoker_base_t {\n    using invoker_sig = R(*)(void* self, Args&amp;&amp;...args);\n    static invoker_sig invoker() {\n      return [](void* self, Args&amp;&amp;...args)-&gt;R {\n        return (*static_cast&lt;D*&gt;(self))(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n      };\n    }\n  };\n  template&lt;class T, class M&gt;\n  struct mem_fun_invoker_t:invoker_base_t&lt;mem_fun_invoker_t&lt;T,M&gt;&gt; {\n    T* t;\n    M m;\n    mem_fun_invoker_t(T* tin, M min):t(tin), m(min) {}\n    mem_fun_invoker_t(mem_fun_invoker_t const&amp;)=default;\n    R operator()(Args&amp;&amp;...args) {\n      return (t-&gt;*m)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n  template&lt;class T, class M&gt;\n  static mem_fun_invoker_t&lt;T, M&gt; mem_fun_invoker(T* t, M m){ return {t, m}; }\n  template&lt;class T&gt;\n  struct ptr_invoker_t:invoker_base_t&lt;ptr_invoker_t&lt;T&gt;&gt; {\n    T* t;\n    ptr_invoker_t(T* tin):t(tin) {}\n    ptr_invoker_t(ptr_invoker_t const&amp;)=default;\n    R operator()(Args&amp;&amp;...args) {\n      return (*t)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n  template&lt;class T&gt;\n  static ptr_invoker_t&lt;T&gt; ptr_invoker(T* t){ return {t}; }\n  template&lt;class T, class U, class Ret, class...Ts&gt;\n  fun(T* t, Ret(U::*mem)(Ts...)) {\n    auto invoke = mem_fun_invoker( t, mem );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  template&lt;class T, class U, class Ret, class...Ts&gt;\n  fun(T const* t, Ret(U::*mem)(Ts...)const) {\n    auto invoke = mem_fun_invoker( t, mem );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n\n  template&lt;class Ret, class...Ts&gt;\n  fun(Ret(*f)(Ts...)) {\n    auto invoke = ptr_invoker( f );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  // TODO: SFINAE\n  template&lt;class Lambda&gt;\n  fun(Lambda&amp;&amp; lambda) {\n    auto invoke = ptr_invoker( &amp;lambda );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  R operator()(Args...args) {\n    return invoker(&amp;buffer, static_cast&lt;Args&amp;&amp;&gt;(args)...);\n  }\n  explicit operator bool()const {return invoker;}\n};\n</code></pre>\n\n<p>the above needs a quality sweep and more asserts and some SFINAE.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/99352e83ae285940\" rel=\"nofollow noreferrer\">But it works</a>.</p>\n\n<p><code>fun&lt;Sig&gt;</code> is a bare bones variant of <code>std::function</code> that has almost no state.  The missing SFINAE needs to test if <code>Lambda</code> is signature compatible <strong>and</strong> not equal to <code>fun</code> type itself.</p>\n\n<p>These objects are roughly 4 pointers in size; you can configure how big with the <code>Sz</code> argument.  2 may be enough to fit member functions and a <code>this</code> pointer.  I rounded up to 3.</p>\n\n<p>These things can also store pointers to functions.</p>\n\n<p>They can store pointers to lambdas, or variations of <code>fun</code>, but do not extend the lifetime of said lambda.  This is dangerous, but often useful.</p>\n\n<p>Like <code>std::function</code> they do not require signatures to match exactly.  Unlike C++14's <code>std::function</code>, if <code>R</code> is <code>void</code>, the stored objects must also return <code>void</code>.  Fixing this is more work:</p>\n\n<pre><code>namespace details {\n  template&lt;class Sig, class D&gt;\n  struct invoker_base_t;\n  template&lt;class R, class...Args, class D&gt;\n  struct invoker_base_t&lt;R(Args...), D&gt; {\n    using invoker_sig = R(*)(void* self, Args&amp;&amp;...args);\n    static invoker_sig invoker() {\n      return [](void* self, Args&amp;&amp;...args)-&gt;R {\n        return (*static_cast&lt;D*&gt;(self))(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n      };\n    }\n  };\n  template&lt;class...Args, class D&gt;\n  struct invoker_base_t&lt;void(Args...), D&gt; {\n    using invoker_sig = void(*)(void* self, Args&amp;&amp;...args);\n    static invoker_sig invoker() {\n      return [](void* self, Args&amp;&amp;...args)-&gt;void {\n        (*static_cast&lt;D*&gt;(self))(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n      };\n    }\n  };\n  template&lt;class Sig, class T, class M&gt;\n  struct mem_fun_invoker_t;\n  template&lt;class R, class...Args, class T, class M&gt;\n  struct mem_fun_invoker_t&lt;R(Args...), T, M&gt;:\n    invoker_base_t&lt;R(Args...), mem_fun_invoker_t&lt;R(Args...),T,M&gt; &gt;\n  {\n    T* t;\n    M m;\n    mem_fun_invoker_t(T* tin, M min):t(tin), m(min) {}\n    mem_fun_invoker_t(mem_fun_invoker_t const&amp;)=default;\n    R operator()(Args&amp;&amp;...args) {\n      return (t-&gt;*m)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n  template&lt;class...Args, class T, class M&gt;\n  struct mem_fun_invoker_t&lt;void(Args...), T, M&gt;:\n    invoker_base_t&lt;void(Args...), mem_fun_invoker_t&lt;void(Args...),T,M&gt; &gt;\n  {\n    T* t;\n    M m;\n    mem_fun_invoker_t(T* tin, M min):t(tin), m(min) {}\n    mem_fun_invoker_t(mem_fun_invoker_t const&amp;)=default;\n    void operator()(Args&amp;&amp;...args) {\n      (t-&gt;*m)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n  template&lt;class Sig, class T&gt;\n  struct ptr_invoker_t;\n  template&lt;class R, class...Args, class T&gt;\n  struct ptr_invoker_t&lt;R(Args...), T&gt;:\n    invoker_base_t&lt;R(Args...), ptr_invoker_t&lt;R(Args...),T&gt; &gt;\n  {\n    T* t;\n    ptr_invoker_t(T* tin):t(tin) {}\n    ptr_invoker_t(ptr_invoker_t const&amp;)=default;\n    R operator()(Args&amp;&amp;...args) {\n      return (*t)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n  template&lt;class...Args, class T&gt;\n  struct ptr_invoker_t&lt;void(Args...), T&gt;:\n    invoker_base_t&lt;void(Args...), ptr_invoker_t&lt;void(Args...),T&gt; &gt;\n  {\n    T* t;\n    ptr_invoker_t(T* tin):t(tin) {}\n    ptr_invoker_t(ptr_invoker_t const&amp;)=default;\n    void operator()(Args&amp;&amp;...args) {\n      (*t)(static_cast&lt;Args&amp;&amp;&gt;(args)...);\n    }\n  };\n}\ntemplate&lt;class Sig, unsigned Sz=3*sizeof(void*)&gt;\nstruct fun;\ntemplate&lt;class R, class...Args, unsigned Sz&gt;\nstruct fun&lt;R(Args...), Sz&gt; {\n  using invoker_t = R(*)(void*, Args&amp;&amp;...);\n  invoker_t invoker;\n  unsigned char buffer[Sz];\n  template&lt;class T, class M&gt;\n  static details::mem_fun_invoker_t&lt;R(Args...), T, M&gt; mem_fun_invoker(T* t, M m){ return {t, m}; }\n  template&lt;class T&gt;\n  static details::ptr_invoker_t&lt;R(Args...), T&gt; ptr_invoker(T* t){ return {t}; }\n  template&lt;class T, class U, class Ret, class...Ts&gt;\n  fun(T* t, Ret(U::*mem)(Ts...)) {\n    auto invoke = mem_fun_invoker( t, mem );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  template&lt;class T, class U, class Ret, class...Ts&gt;\n  fun(T const* t, Ret(U::*mem)(Ts...)const) {\n    auto invoke = mem_fun_invoker( t, mem );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n\n  template&lt;class Ret, class...Ts&gt;\n  fun(Ret(*f)(Ts...)) {\n    auto invoke = ptr_invoker( f );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  // TODO: SFINAE\n  template&lt;class Lambda&gt;\n  fun(Lambda&amp;&amp; lambda) {\n    auto invoke = ptr_invoker( &amp;lambda );\n    static_assert(sizeof(invoke) &lt;= Sz);\n    ::new( (void*)buffer ) decltype(invoke)(invoke);\n    invoker = invoke.invoker();\n  }\n  R operator()(Args...args) {\n    return invoker(&amp;buffer, static_cast&lt;Args&amp;&amp;&gt;(args)...);\n  }\n  explicit operator bool()const {return invoker;}\n};\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/ef72347ec1f5f092\" rel=\"nofollow noreferrer\">live example</a>.</p>\n\n<p>The above is standards compliant and does not rely upon <code>std</code>.  Writing the SFINAE to ensure the <code>Lambda&amp;&amp;</code> overload isn't called in bad situation may require rewriting some of <code>std</code>, like <code>std::is_same</code> and <code>enable_if</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 0, "last_activity_date": 1491314869, "last_edit_date": 1491314869, "creation_date": 1491313818, "answer_id": 43209187, "question_id": 43100890, "link": "https://stackoverflow.com/questions/43100890/storing-pointer-to-member-function-does-not-work-for-clang/43209187#43209187", "title": "storing pointer to member function does not work for clang++", "body": "<p>You are misusing the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Bound-member-functions.html\" rel=\"nofollow noreferrer\">Bound member functions</a> extension in g++. You're casting to the wrong kind of function pointer, which has undefined behaviour:</p>\n\n<pre><code>typedef void (*my_function)();\nauto some_func = (my_function)(b.*h);\nsome_func();\n</code></pre>\n\n<p>The <code>(my_function)(b.*h)</code> expression resolves the virtual dispatch to determine which overriding function would be called by <code>(b.*h)()</code>, but to actually invoke that function through the returned pointer you still need to provide a <code>this</code> pointer to an object. So <code>my_function</code> should take a single argument of type <code>B*</code>, and you should provide a pointer to a <code>B</code> when you call that function pointer.</p>\n\n<p>To use the extension correctly you should be doing:</p>\n\n<pre><code>typedef void (*my_function)(B*);\nauto some_func = (my_function)(b.*h);\nsome_func(&amp;b);\n</code></pre>\n\n<p>This is a non-standard GNU extension and is not supported by Clang. As far as I can see there is no way to get Clang to accept this code.</p>\n\n<p>I've reported a <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80311\" rel=\"nofollow noreferrer\">GCC bug</a> saying that your misuse of the extension should be an error.</p>\n"}], "owner": {"reputation": 31, "user_id": 6482157, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6e0a9a38bcc087b02f94493fecd802aa?s=128&d=identicon&r=PG&f=1", "display_name": "ForKoding", "link": "https://stackoverflow.com/users/6482157/forkoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1491314869, "creation_date": 1490810600, "last_edit_date": 1490810641, "question_id": 43100890, "link": "https://stackoverflow.com/questions/43100890/storing-pointer-to-member-function-does-not-work-for-clang", "title": "storing pointer to member function does not work for clang++", "body": "<p>when i use clang++ i can only call the pointer-to-member function i can't cast it or assign it to a variable to call i when needed (i want to store this variable to an array of functions) but with g++ i can do that take this for example</p>\n\n<pre><code>class Base {\n    public:\n        typedef void (Base::*A)();\n        virtual void some_func() = 0;\n};\nclass B: public Base {\n    public:\n        void some_func() {\n            return\n        }\n};\nint main() {\n    B b;\n    auto h = (Base::A)&amp;Base::some_func;\n    typedef void (*my_function)();\n    auto some_func = (my_function)(b.*h);\n    some_func();\n    return 0;\n}\n</code></pre>\n\n<p>with g++ this do compile and run, but with clang++ i get \n<code>reference to non-static member function must be called; did you mean to call it with no arguments?</code> ( please note that i can't use any std::x functions in my code because the code run on bare metal </p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "edited": false, "score": 3, "creation_date": 1490810394, "post_id": 43100747, "comment_id": 73283341, "body": "OpenGL does not have any functionality to control input devices or get informations from them. The Library/API you use to get the mouse events or to display the OpenGL window/context might have this functionality."}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 1, "creation_date": 1490810541, "post_id": 43100747, "comment_id": 73283428, "body": "Welcome to SO! For your issue, try updating <code>LastX</code> and <code>LastY</code> with centreX, centreY. Anyhow, I think you should re-think your strategy. Setting programatically the cursor usually is not what user expects."}, {"owner": {"reputation": 999, "user_id": 3274625, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062648629/picture?type=large", "display_name": "Jason Lang", "link": "https://stackoverflow.com/users/3274625/jason-lang"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1490810758, "post_id": 43100747, "comment_id": 73283545, "body": "@Ripi2 is right, the X and Y values are obsolete if you move the cursor manually, so LastX and LastY need to be set to the center point. BTW Ripi2, the mouse pointer is hidden in these types of programs. It simulates locking the mouse to the application. Centering the mouse is just a convenient way of achieving that."}, {"owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1490810831, "post_id": 43100747, "comment_id": 73283596, "body": "@Ripi2 what you mean by not what the user expects?"}, {"owner": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1490810834, "post_id": 43100747, "comment_id": 73283598, "body": "@Ripi2 to rotate the camera or an object, it can for sure be a good idea to hide and lock the curser until the mouse is released. Otherwise the user might reach the screen boundary with the curser before the intended rotation could be finishes, and then the rotation has to be stoped and the mouse as to be moved back again to continue rotation. How to set <code>x</code> and <code>y</code> depends on how the library handles locked cursors. GLFW for example continuously increase/decreases the x/y values, which could exceed the coordinates of the screen. Other libraries might use delta values."}, {"owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "reply_to_user": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "edited": false, "score": 0, "creation_date": 1490811724, "post_id": 43100747, "comment_id": 73284141, "body": "@t.niese i changed it to <code>Camera.OnMouseMove(this-&gt;Width&#47;2 - X, this-&gt;Height&#47;2 - Y);</code> it seems to be working, But problem now is that the camera can jump around abit and move really fast if i move my mouse a tiny bit faster or move it around more."}], "owner": {"reputation": 5, "user_id": 7787521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111be1d0f0858739f09bd88839fb6fb?s=128&d=identicon&r=PG&f=1", "display_name": "xuzisijuya", "link": "https://stackoverflow.com/users/7787521/xuzisijuya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 653, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490810624, "creation_date": 1490810094, "question_id": 43100747, "link": "https://stackoverflow.com/questions/43100747/pure-opengl-locking-mouse-to-screen-center", "title": "pure opengl locking mouse to screen center", "body": "<p>I have a problem when i lock the cursor to screen center with <code>SetCursorPos</code></p>\n\n<p>My problem is that it is stopping my camera from rotating, my camera works fine when i dont try and lock it. But it allows the mouse to drag off the screen when not in full screen.</p>\n\n<pre><code>void SetPosition(HWND hWnd, int x, int y)\n{\n    POINT pt;\n    pt.x = x;\n    pt.y = y;\n    ClientToScreen(hWnd, &amp;pt);\n    SetCursorPos(pt.x, pt.y);\n}\n\nvoid COpenGLRenderer::OnMouseMove(int X, int Y)\n{\n    //This works fine if i dont set the mouse and i look around\n    Camera.OnMouseMove(LastX - X, LastY - Y);\n\n    if (LastX != X &amp;&amp; LastY != Y)\n        SetPosition(hWnd, this-&gt;Width / 2, this-&gt;Height / 2);\n\n    LastX = X;\n    LastY = Y;\n}\n\nvoid CCamera::OnMouseMove(int dx, int dy)\n{\n    float Sensitivity = 0.25f;\n    Position -= Reference;\n\n    if(dx != 0)\n    {\n        float DeltaX = (float)dx * Sensitivity;\n\n        X = rotate(X, DeltaX, vec3(0.0f, 1.0f, 0.0f));\n        Y = rotate(Y, DeltaX, vec3(0.0f, 1.0f, 0.0f));\n        Z = rotate(Z, DeltaX, vec3(0.0f, 1.0f, 0.0f));\n    }\n\n    if(dy != 0)\n    {\n        float DeltaY = (float)dy * Sensitivity;\n\n        Y = rotate(Y, DeltaY, X);\n        Z = rotate(Z, DeltaY, X);\n\n        if(Y.y &lt; 0.0f)\n        {\n            Z = vec3(0.0f, Z.y &gt; 0.0f ? 1.0f : -1.0f, 0.0f);\n            Y = cross(Z, X);\n        }\n    }\n\n    Position = Reference + Z * length(Position);\n\n    CalculateViewMatrix();\n}\n\nvoid CCamera::CalculateViewMatrix()\n{\n    ViewMatrix = mat4x4(X.x, Y.x, Z.x, 0.0f, X.y, Y.y, Z.y, 0.0f, X.z, Y.z, Z.z, 0.0f, -dot(X, Position), -dot(Y, Position), -dot(Z, Position), 1.0f);\n    ViewMatrixInverse = inverse(ViewMatrix);\n    ViewProjectionMatrix = ProjectionMatrix * ViewMatrix;\n    ViewProjectionMatrixInverse = ViewMatrixInverse * ProjectionMatrixInverse;\n}\n</code></pre>\n"}, {"tags": ["c++", "parsing", "escaping", "argv"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1490810043, "post_id": 43100684, "comment_id": 73283144, "body": "That&#39;s a feature of your shell, not the program itself."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1490810434, "post_id": 43100684, "comment_id": 73283364, "body": "This has nothing to do with character escaping. You&#39;ll get the same segfault if you completely fail to provide the parameter to your option. Fix the bug in your code that&#39;s segfaulting."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490810664, "post_id": 43100684, "comment_id": 73283495, "body": "Off topic You may find reading up on <code>else</code> and <code>switch</code> helpful. <a href=\"http://en.cppreference.com/w/cpp/language/if\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/if</a> , <a href=\"http://en.cppreference.com/w/cpp/language/switch\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/switch</a>"}, {"owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1490811376, "post_id": 43100684, "comment_id": 73283933, "body": "@SamVarshavchik, Thanks for pointing that out, its test code and I hadn&#39;t noticed, I&#39;ll just google on how to check for special chars so i can check before assigning it to the c.password (and ofc check if theres anything at all)"}, {"owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490811545, "post_id": 43100684, "comment_id": 73284037, "body": "@user4581301, I was using switch before, but to me personally this is more legible"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490811882, "post_id": 43100684, "comment_id": 73284240, "body": "In that case, I recommend the <code>else</code>. <code>argv[i])[1]</code> cannot be h, c, d, w, q, and p all at the same time, so why bother always testing all of the cases?"}, {"owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490811974, "post_id": 43100684, "comment_id": 73284300, "body": "@user4581301, fair point"}, {"owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1490818527, "post_id": 43100684, "comment_id": 73288216, "body": "@OliverCharlesworth, your right, since # starts a comment block theres no way to handle this in the program itself, if you make this an answer ill accept it."}, {"owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "edited": false, "score": 0, "creation_date": 1490820884, "post_id": 43100684, "comment_id": 73289512, "body": "It seems that instead of command line arguments in this particular case it might be better to just parse a config file instead, atleast that way I dont have to bother the enduser"}], "owner": {"reputation": 13, "user_id": 4377723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd58eef2ca973ec64c56c939a6cbcc8?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/4377723/roland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490819868, "creation_date": 1490809890, "last_edit_date": 1490819868, "question_id": 43100684, "link": "https://stackoverflow.com/questions/43100684/c-how-to-escape-special-characters-from-argv-without-the-user-manually-adding", "title": "C++, How to escape special characters from argv without the user manually adding escape characters", "body": "<p>I'm writing a program in C++ that can take several input arguments like so:</p>\n\n<p><strong>Edit:</strong> based on suggestions from comments</p>\n\n<pre><code>int main(int argc, char **argv) {\nconstants c;\nfor (int i=0; i&lt;argc; i++) {\n    if ( (argv[i])[0] == '-') {\n        if ((argv[i])[1] == 'h'){\n            bHelp = true;\n            //spit out some help text here\n        }\n        else if ((argv[i])[1] == 'c' &amp;&amp; (argv[i+1]) != nullptr){\n            c.host = argv[i+1];\n        }\n        else if ((argv[i])[1] == 'd' &amp;&amp; (argv[i+1]) != nullptr){\n            c.databasename = argv[i+1];\n        }\n        else if ((argv[i])[1] == 'w' &amp;&amp; (argv[i+1]) != nullptr){\n            c.password = argv[i+1];\n        }\n        else if ((argv[i])[1] == 'u' &amp;&amp; (argv[i+1]) != nullptr){\n            c.username = argv[i+1];\n        }\n        else if ((argv[i])[1] == 'p' &amp;&amp; (argv[i+1]) != nullptr){\n            c.port = argv[i+1];\n        }\n    }\n}\nif (bHelp) {exit(1);}\n</code></pre>\n\n<p>When run the program seems to work properly, so far so good I thought.</p>\n\n<p>However if any of the input following the flags has special characters for instance a '#' the program segfaults on start.</p>\n\n<p>Whilst you can still make it work by manually escaping such characters on start, with \"./app -u testuser -w \\#fakepass\" for example. </p>\n\n<p>I would rather not bother my end-user with such things and would prefer to solve it in the code.</p>\n"}, {"tags": ["c++", "qt", "qwidget", "qcombobox"], "answers": [{"comments": [{"owner": {"reputation": 1632, "user_id": 7462657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da6cde7de38cf0b6686e85193273b12f?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/7462657/xander"}, "edited": false, "score": 0, "creation_date": 1490855021, "post_id": 43100887, "comment_id": 73300248, "body": "good answer, just to mention it there is also a special Qt cast: <a href=\"http://doc.qt.io/qt-5/qobject.html#qobject_cast\" rel=\"nofollow noreferrer\">qobject_cast</a>, which should be used for <code>QObject</code> based dynamic casts. in this case <code>qobject_cast&lt;QComboBox*&gt;(tab[i][j])-&gt;addItem(&quot;Test&quot;);</code>"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1632, "user_id": 7462657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da6cde7de38cf0b6686e85193273b12f?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/7462657/xander"}, "edited": false, "score": 1, "creation_date": 1490879395, "post_id": 43100887, "comment_id": 73316874, "body": "@xander <code>qobject_cast</code> is an alternative to <code>dynamic_cast</code>, not some general &quot;use on <code>QObject</code> cast&quot;. When the type is known, you&#39;re supposed to use <code>static_cast</code>, not <code>dynamic_cast</code>, and thus not <code>qobject_cast</code> either. It gets worse: when the compiler can deduce the static type, a <code>dynamic_cast</code> can get promoted to a static cast. When you use <code>qobject_cast</code>, this optimization can&#39;t happen. <b>TL;DR</b> Use <code>static_cast</code> when you can, and <code>dynamic_cast</code> only when you can not."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1632, "user_id": 7462657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da6cde7de38cf0b6686e85193273b12f?s=128&d=identicon&r=PG&f=1", "display_name": "xander", "link": "https://stackoverflow.com/users/7462657/xander"}, "edited": false, "score": 0, "creation_date": 1490880823, "post_id": 43100887, "comment_id": 73318077, "body": "@xander A <code>qobject_cast</code> is an optimization over <code>dynamic_cast</code> when dealing with types you&#39;re sure compiler won&#39;t be able to resolve at compile time, and becomes necessary when compiling without RTTI."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1490810593, "creation_date": 1490810593, "answer_id": 43100887, "question_id": 43100603, "link": "https://stackoverflow.com/questions/43100603/qt-cast-a-widget-to-a-combobox/43100887#43100887", "title": "QT cast a widget to a combobox", "body": "<p>The problem is in this line:</p>\n\n<pre><code>((QComboBox)tab[i][j]).addItem(\"Test\");\n</code></pre>\n\n<p>It's a bit obfuscated due to the C cast. Had you used the C++ cast, you'd write:</p>\n\n<pre><code>static_cast&lt;QComboBox&gt;(tab[i][j]).addItem(\"Test\");\n</code></pre>\n\n<p>The <code>static_cast</code> is redundant syntax, and it's now obvious that the code means:    </p>\n\n<pre><code>QComboBox(tab[i][j]).addItem(\"Test\");\n</code></pre>\n\n<p>As you can see, you're creating a temporary combo box with <code>tab[i][j]</code> as the parent, then adding an item to it, and immediately destroying it when the scope is exited. The original combo box you've created 3 lines above it is not modified here.</p>\n\n<p>Instead, you need to write (don't use C-style casts in C++):</p>\n\n<pre><code>static_cast&lt;QComboBox*&gt;(tab[i][j])-&gt;addItem(\"Test\");\n</code></pre>\n\n<p>Ideally, write the code so you won't need the cast at all:</p>\n\n<pre><code>auto box = new QComboBox;\nbox-&gt;setStyleSheet(\"border: 1px solid red\");\nbox-&gt;addItem(\"Test\");\ntab[i][j] = box;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2016, "user_id": 446717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2Cdf.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/446717/roberto"}, "is_accepted": false, "score": 0, "last_activity_date": 1490817232, "creation_date": 1490817232, "answer_id": 43102929, "question_id": 43100603, "link": "https://stackoverflow.com/questions/43100603/qt-cast-a-widget-to-a-combobox/43102929#43102929", "title": "QT cast a widget to a combobox", "body": "<p>Instead of:</p>\n\n<pre><code>((QComboBox)tab[i][j]).addItem(\"Test\");\n</code></pre>\n\n<p>use:</p>\n\n<pre><code>((QComboBox*)tab[i][j]).addItem(\"Test\");\n</code></pre>\n\n<p>As your grid has pointers to widgets</p>\n"}], "owner": {"reputation": 21, "user_id": 7013669, "user_type": "registered", "profile_image": "https://graph.facebook.com/1769480489992389/picture?type=large", "display_name": "Uncle Sam", "link": "https://stackoverflow.com/users/7013669/uncle-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3211, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490817232, "creation_date": 1490809562, "last_edit_date": 1490811714, "question_id": 43100603, "link": "https://stackoverflow.com/questions/43100603/qt-cast-a-widget-to-a-combobox", "title": "QT cast a widget to a combobox", "body": "<p>I have a table[][] of widgets and depending on a value that I have I'll instantiate that widget to a QLabel or to a QCombobox.</p>\n\n<pre><code>QWidget *tab[9][9];\n\nif(modele-&gt;firstvalue(i,j) ==0) {\n    tab[i][j]= new QComboBox();\n    tab[i][j]-&gt;setStyleSheet(\"border: 1px solid red\");\n    ((QComboBox)tab[i][j]).addItem(\"Test\");\n\n}\nelse {\n    tab[i][j] = new QLabel(QString::number(modele-&gt;firstvalue(i,j)));\n}\n</code></pre>\n\n<p>So in my widget after the execution I see all the comboboxes but not with the values (no items added)</p>\n\n<p><strong>PS:</strong>\nIt's about a sudoku game. If there are a lot multiple values then I create a combobox with all the possible values, else a QLabel with a single value.</p>\n"}, {"tags": ["python", "c++", "linux", "c++11", "integration"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1490809376, "post_id": 43100500, "comment_id": 73282726, "body": "&quot;I ... cannot see how to get a reference to the created Python object from C++ who&#39;s member I need to call&quot; - you&#39;re going to have to explain that. Why do you not have a reference to the object? Why do you need to call a method on some object you have no reference to? Imagine someone told you the same thing in C++ - they can&#39;t figure out how to call member functions in C++ because they can&#39;t figure out how to access the object they need to call a member function of."}, {"owner": {"reputation": 9018, "user_id": 258526, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/98b7aa9b3542e83925ef132f117d93e0?s=128&d=identicon&r=PG", "display_name": "fred basset", "link": "https://stackoverflow.com/users/258526/fred-basset"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490809672, "post_id": 43100500, "comment_id": 73282917, "body": "Will add some clarification yes."}, {"owner": {"reputation": 9018, "user_id": 258526, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/98b7aa9b3542e83925ef132f117d93e0?s=128&d=identicon&r=PG", "display_name": "fred basset", "link": "https://stackoverflow.com/users/258526/fred-basset"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490810061, "post_id": 43100500, "comment_id": 73283158, "body": "@user2357112 Is it clearer now, or more explanations required?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1490810674, "post_id": 43100500, "comment_id": 73283501, "body": "It&#39;s much clearer now. The next confusing part is why you&#39;re trying to do things this way. You wouldn&#39;t expect to be able to do either of these things with a C++ class without explicitly changing the class to enable it, would you?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1490810922, "post_id": 43100500, "comment_id": 73283661, "body": "Both &quot;track instances of this class&quot; functionality and &quot;get arbitrary existing instance of this class&quot; functionality need to be things the class provides. For the second thing, it might be better to just create your own instance, or get one from some specific system you know has an instance."}, {"owner": {"reputation": 9018, "user_id": 258526, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/98b7aa9b3542e83925ef132f117d93e0?s=128&d=identicon&r=PG", "display_name": "fred basset", "link": "https://stackoverflow.com/users/258526/fred-basset"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1490887743, "post_id": 43100500, "comment_id": 73323556, "body": "The reason I cannot simply create the classes from the C++ side is that I&#39;m trying to interface to a complicated legacy Python application, and it currently manages all object creation, lifecycle etc.  If I start changing that, then that could be a big rabbit hole to go down.  So I need to work out how to get a pointer to an object on the Python side and call one or more of it&#39;s member functions from C++"}], "owner": {"reputation": 9018, "user_id": 258526, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/98b7aa9b3542e83925ef132f117d93e0?s=128&d=identicon&r=PG", "display_name": "fred basset", "link": "https://stackoverflow.com/users/258526/fred-basset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490810036, "creation_date": 1490809199, "last_edit_date": 1490810036, "question_id": 43100500, "link": "https://stackoverflow.com/questions/43100500/calling-python-member-functions-from-c", "title": "Calling Python member functions from C++", "body": "<p>I need to test the feasibility of calling Python member functions (running in one process)from within C++.  This is for testing interfacing C++ to an existing Python application.  I need to minimize the modifications to the Python code as that's run by a separate team.  Therefore I do not have control of when the Python objects are created on the C++ side.  For my test I'd like to try and:</p>\n\n<ol>\n<li>See if I can determine how many instances of a specified Python class have been created</li>\n<li>If that number is > 0, then I would like to test calling a member function on one of the instantiated Python objects from C++</li>\n</ol>\n\n<p>I can do a simple call from C++ to a global, non member Python function, but can't figure out how to do the above 2 steps from the C++ side.</p>\n\n<p>I'd also like to try and do this without pulling in the Boost Python interop. library (but will if that's the only way this can be achieved).</p>\n\n<p>Thanks if anyone can advise.</p>\n"}, {"tags": ["c++", "boost", "boost-spirit", "boost-phoenix", "boost-spirit-lex"], "answers": [{"comments": [{"owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "edited": false, "score": 0, "creation_date": 1490817083, "post_id": 43102309, "comment_id": 73287475, "body": "Why \u2026 I read &quot;<a href=\"http://www.boost.org/doc/libs/1_61_0/libs/spirit/doc/html/spirit/lex/abstracts/lexer_semantic_actions.html#spirit.lex.abstracts.lexer_semantic_actions.lexer_semantic_actions_using_phoenix\" rel=\"nofollow noreferrer\">Even if it is possible to write your own function object implementations(...), the preferred way of defining lexer semantic actions is to use Boost.Phoenix.</a>&quot; (thanks for clearing that up.) I planned to stick with the functor because the regex is <code>static</code> in there, but wanted to learn. Thanks for giving so much detail, I&#39;ve read many helpful answers on Spirit from you and this is another one."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "edited": false, "score": 0, "creation_date": 1490820464, "post_id": 43102309, "comment_id": 73289294, "body": "Cheers. I suppose the advice is both true though. Use Phoenix while you can - and I&#39;d mostly say think twice before doing anything more :)"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1490867055, "last_edit_date": 1495540920, "creation_date": 1490815023, "answer_id": 43102309, "question_id": 43100216, "link": "https://stackoverflow.com/questions/43100216/converting-a-boost-spirit-lex-semantic-action-to-phoenix-how-to-access-val/43102309#43102309", "title": "Converting a Boost Spirit Lex semantic action to Phoenix - How to access _val?", "body": "<p>I'm going to chant the oft-heard \"Why\"?</p>\n\n<p>This time, for good reason.</p>\n\n<p>In general, avoid semantic actions: <a href=\"https://stackoverflow.com/questions/8259440/boost-spirit-semantic-actions-are-evil\">Boost Spirit: &quot;Semantic actions are evil&quot;?</a>. </p>\n\n<p>Phoenix Actors are needlessly more complex than the dedicated functor. They have a sweet point (mainly simple assignment or builtin operations). But if the actor is any kind of non-trivial you'll see the complexity ramp up quickly, not just for the human but also for the compiler. This leads to</p>\n\n<ul>\n<li>slow compilation</li>\n<li>sub-optimal emitted code</li>\n<li>harder to maintain source</li>\n<li>new classes of error (e.g. when the expression templates hold references to locals/temporaries, something that Boost Proto (and hence Phoenix) does <em>not</em> prevent or signal. In fact, it encourages it by assuming all template expressions are ephemeral, but I digress).</li>\n</ul>\n\n<blockquote>\n  <p>Interestingly: Spirit X3 dropped Phoenix altogether, even though Phoenix was once the brain child of Spirit\u00b3.</p>\n  \n  <p>The new style uses c++14 polymorphic lambdas, that look 90% like the helper function object in the original code, but inline as a lambda.</p>\n</blockquote>\n\n<h3>This specific case</h3>\n\n<p>Can't work. At all.</p>\n\n<p>The problem is that you're mixing lazy/deferred actors with direct invocations. That can never work. The type of <code>phoenix::construct&lt;std::wstring&gt;(lex::_start, lex::_end)</code> isn't <em>supposed</em> to be <code>std::wstring</code>. Of course. It is <em>supposed to be</em> a lazy actor\u00b9 that can be used at some later time to create a <code>std::wstring</code>. </p>\n\n<p>Now that we know that (and why) <code>phoenix::construct&lt;std::wstring&gt;(lex::_start, lex::_end)</code> is an actor type, it should become clear why it is completely bogus to call <code>boost::regex_replace</code> on it. You might as well say</p>\n\n<pre><code>struct implementation_defined {} bogus;\nboost::regex_replace(bogus, re, fmt, boost::match_default | boost::format_all);\n</code></pre>\n\n<p>And wonder why it would not compile.</p>\n\n<h3>Summary:</h3>\n\n<p>You should probably just have the dedicated functor. You <em>can</em> of course Phoenix-adapt the regex functions you require, but all it does is shift the complexity tax for some syntactic sugar.</p>\n\n<p>I'd always opt for the more naive approach that is going to be more understandable to a seasoned c++ programmer, and avoids pitfalls that come with high-wire acts\u00b2.</p>\n\n<p>Nevertheless, here's a pointer should you be curious:</p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_63_0/libs/phoenix/doc/html/phoenix/modules/function.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_63_0/libs/phoenix/doc/html/phoenix/modules/function.html</a></p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/de3dd9ea860a72a3\" rel=\"nofollow noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;boost/regex.hpp&gt;\n#include &lt;boost/phoenix.hpp&gt;\n#include &lt;boost/spirit/include/lex_lexer.hpp&gt;\n#include &lt;boost/spirit/include/lex_lexertl.hpp&gt;\n#include &lt;boost/spirit/include/lex.hpp&gt;\n\nnamespace lex = boost::spirit::lex;\n\nBOOST_PHOENIX_ADAPT_FUNCTION(std::wstring, regex_replace_, boost::regex_replace, 4)\n\ntemplate &lt;typename... T&gt;\nstruct Lexer : lex::lexer&lt;T...&gt; {\n    Lexer() {\n        // the token definition\n        literal_str  = L\"\\\\\\\"([^\\\\\\\\\\\"]|(\\\\\\\\.))*\\\\\\\"\"; // string with escapes\n\n        // adding it to the lexer\n        this-&gt;self += literal_str [\n            lex::_val = regex_replace_(lex::_val,\n                 boost::wregex(L\"(\\\\\\\\r)|(\\\\\\\\n)|(\\\\\\\\t)|(\\\\\\\\\\\\\\\\)|(\\\\\\\\\\\")\"), \n                 L\"(?1\\r)(?2\\n)(?3\\t)(?4\\\\\\\\)(?5\\\")\", \n                 boost::match_default | boost::format_all) \n\n        ];\n    }\n\n    // the token declaration\n    lex::token_def&lt;std::wstring, wchar_t&gt; literal_str;\n};\n\nint main() {\n    typedef lex::lexertl::token&lt;std::wstring::const_iterator, boost::mpl::vector&lt;std::wstring, wchar_t&gt;&gt; token_type;\n    typedef Lexer&lt;lex::lexertl::actor_lexer&lt;token_type&gt;&gt; lexer_type;\n    typedef lexer_type::iterator_type lexer_iterator_type;\n}\n</code></pre>\n\n<hr>\n\n<p>\u00b9 think composed function object that can be invoked at a later time</p>\n\n<p>\u00b2 the balance might tip if you were designing this as an EDSL for further configuration by non-experts, but then you will have the added responsibility of documenting your EDSL and the constraints in which it can be used</p>\n\n<p>\u00b3 should we say, spirit-child of a brain?</p>\n"}], "owner": {"reputation": 11371, "user_id": 481061, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c4876d67fda212cee59d97ac5a676c2d?s=128&d=identicon&r=PG", "display_name": "Felix Dombek", "link": "https://stackoverflow.com/users/481061/felix-dombek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 43102309, "answer_count": 1, "score": 2, "last_activity_date": 1490867055, "creation_date": 1490808352, "last_edit_date": 1495542325, "question_id": 43100216, "link": "https://stackoverflow.com/questions/43100216/converting-a-boost-spirit-lex-semantic-action-to-phoenix-how-to-access-val", "title": "Converting a Boost Spirit Lex semantic action to Phoenix - How to access _val?", "body": "<p>I wrote a semantic action for my Boost Spirit Lexer to convert escape sequences in strings to what they stand for. It works perfectly and I want to convert it to a Boost Phoenix expression, but can't get that one to compile.</p>\n\n<p>Here is what works:</p>\n\n<pre><code>// the semantic action\nstruct ConvertEscapes\n{\n    template &lt;typename ItT, typename IdT, typename CtxT&gt;\n    void operator () (ItT&amp; start, ItT&amp; end, lex::pass_flags&amp; matched, IdT&amp; id, CtxT&amp; ctx)\n    {\n        static boost::wregex escapeRgx(L\"(\\\\\\\\r)|(\\\\\\\\n)|(\\\\\\\\t)|(\\\\\\\\\\\\\\\\)|(\\\\\\\\\\\")\");\n        static std::wstring escapeRepl = L\"(?1\\r)(?2\\n)(?3\\t)(?4\\\\\\\\)(?5\\\")\";\n        static std::wstring wval; // static b/c set_value doesn't seem to copy\n\n        auto const&amp; val = ctx.get_value();\n        wval.assign(val.begin(), val.end());\n        wval = boost::regex_replace(wval, \n                                    escapeRgx, \n                                    escapeRepl, \n                                    boost::match_default | boost::format_all);\n        ctx.set_value(wval);\n    }\n};\n\n// the token declaration\nlex::token_def&lt;std::wstring, wchar_t&gt; literal_str;\n\n// the token definition\nliteral_str  = L\"\\\\\\\"([^\\\\\\\\\\\"]|(\\\\\\\\.))*\\\\\\\"\"; // string with escapes\n\n// adding it to the lexer\nthis-&gt;self += literal_str [ ConvertEscapes() ];\n</code></pre>\n\n<hr>\n\n<p>This is what I tried to convert it:</p>\n\n<pre><code>this-&gt;self += literal_str \n[ \n    lex::_val = boost::regex_replace(lex::_val /* this is the place I can't figure out */,\n                                     boost::wregex(L\"(\\\\\\\\r)|(\\\\\\\\n)|\n                                     (\\\\\\\\t)|(\\\\\\\\\\\\\\\\)|(\\\\\\\\\\\")\"), \n                                     L\"(?1\\r)(?2\\n)(?3\\t)(?4\\\\\\\\)(?5\\\")\", \n                                     boost::match_default | boost::format_all) \n];\n</code></pre>\n\n<p>A <code>wstring</code> can't be constructed from <code>_val</code>. <code>_val</code> also doesn't have <code>begin()</code> or <code>end()</code>, how is it supposed to be used anyway?</p>\n\n<p>This <code>std::wstring(lex::_start, lex::_end)</code> fails, too, because those arguments aren't recognized as iterators.</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/39468928/using-lexer-token-attributes-in-grammar-rules-with-lex-and-qi-from-boost-spirit\">this question</a>, I found <code>phoenix::construct&lt;std::wstring&gt;(lex::_start, lex::_end)</code>, but this also doesn't really result in a <code>wstring</code>.</p>\n\n<p>How do I get either a string or a pair of <code>wchar_t</code> iterators for the current token?</p>\n"}, {"tags": ["c++", "testing", "linear-programming", "data-integrity", "simplex-algorithm"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1490810357, "post_id": 43100211, "comment_id": 73283321, "body": "why do you need to test a &gt;30 year old code? I dont think you are the first one to use it ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7630939"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1490810851, "post_id": 43100211, "comment_id": 73283609, "body": "I know you&#39;re partly joking but there&#39;s a number of reasons. One because I want an alternative, redundant system in case something goes awry with the main one, and to have each one checking the result against the other. Second if someone asks &quot;but how do you know it go the right answer?&quot; I can say: &quot;well, I checked it with x, y (&amp;&amp;)||(||) z&quot; and they came to the same answer || a very similar answer."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1490810905, "post_id": 43100211, "comment_id": 73283652, "body": "there are more funny places than SO, it was really just out of curiosity"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7630939"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1490810927, "post_id": 43100211, "comment_id": 73283667, "body": "if there are I haven&#39;t found them ;) (:"}, {"owner": {"reputation": 10888, "user_id": 5625534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d4mCF.jpg?s=128&g=1", "display_name": "Erwin Kalvelagen", "link": "https://stackoverflow.com/users/5625534/erwin-kalvelagen"}, "edited": false, "score": 1, "creation_date": 1490829429, "post_id": 43100211, "comment_id": 73292860, "body": "Run it against a battery of LP problems with a known optimal solution. <a href=\"http://www.netlib.org/lp/data/readme\" rel=\"nofollow noreferrer\">Here</a> is an example of such a collection."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7630939"}, "edited": false, "score": 0, "creation_date": 1490810791, "post_id": 43100814, "comment_id": 73283566, "body": "I&#39;m actually going to upvote this and not accept it for now, on consideration, as this is one good method, but there may be others that will help me in different ways. Thanks for the answer and I will accept whichever is most useful after a couple of days."}, {"owner": {"reputation": 208, "user_id": 3811082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8391bfa8fef884a411face8df93934c4?s=128&d=identicon&r=PG&f=1", "display_name": "user3811082", "link": "https://stackoverflow.com/users/3811082/user3811082"}, "edited": false, "score": 0, "creation_date": 1490811149, "post_id": 43100814, "comment_id": 73283774, "body": "Of course. If you have any questions about MINPACK, I&#39;ll be glad to help you."}], "tags": [], "owner": {"reputation": 208, "user_id": 3811082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8391bfa8fef884a411face8df93934c4?s=128&d=identicon&r=PG&f=1", "display_name": "user3811082", "link": "https://stackoverflow.com/users/3811082/user3811082"}, "is_accepted": false, "score": 0, "last_activity_date": 1490810351, "creation_date": 1490810351, "answer_id": 43100814, "question_id": 43100211, "link": "https://stackoverflow.com/questions/43100211/methods-of-testing-simplex-linear-programming-calculation-output/43100814#43100814", "title": "Methods of testing Simplex (Linear Programming) calculation output", "body": "<p>To check the results you can use any non-linear method of optimization (for example Quasi-Newton with bounds constraints). There are a lot of mathematical packets (Octave, MathLab, MathCAD, SciLab etc.) that can help you. If you want to get the solution by programm code try to look to MINPACK (<a href=\"https://en.wikipedia.org/wiki/MINPACK\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/MINPACK</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 4387, "user_id": 673271, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/8skfj.png?s=128&g=1", "display_name": "mattmilten", "link": "https://stackoverflow.com/users/673271/mattmilten"}, "is_accepted": true, "score": 0, "last_activity_date": 1490865663, "creation_date": 1490865663, "answer_id": 43113565, "question_id": 43100211, "link": "https://stackoverflow.com/questions/43100211/methods-of-testing-simplex-linear-programming-calculation-output/43113565#43113565", "title": "Methods of testing Simplex (Linear Programming) calculation output", "body": "<p>Proving the optimality of a solution to a linear programming problem is actually fairly easy. You need to check the solution for both primal and dual feasibility. This concept of duality is explained in any work about the simplex method or linear programming in general. For starters: <a href=\"https://en.wikipedia.org/wiki/Linear_programming\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Linear_programming</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7630939"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 43113565, "answer_count": 2, "score": 0, "last_activity_date": 1490865663, "creation_date": 1490808329, "question_id": 43100211, "link": "https://stackoverflow.com/questions/43100211/methods-of-testing-simplex-linear-programming-calculation-output", "title": "Methods of testing Simplex (Linear Programming) calculation output", "body": "<p>I have been tasked with created a web-based machine for solving real-world issues using Linear Programming techniques, specifically at present, Danzig's Simplex Method. With this in mind I've found a rather nifty bit of C++ code that calculates the results, and with some considerable speed even on this particularly low-end machine.</p>\n\n<p>However, I currently have nothing other than the console output itself attesting the result to be anywhere close to the correct solution for the given problem. Which is an issue if people are being asked to trust the result as being indicative of anything significantly more important than that some digits can be made to flash up on a computer screen.</p>\n\n<p>I will spare you from the full details of the entire program, as it's fairly long, but here's the function responsible for taking the data, just for reference:</p>\n\n<pre><code>void Data() {\n    double R1, R2;\n    char R;\n    int I, J;\n    printf(\"\\n LINEAR PROGRAMMING\\n\\n\");\n    printf(\" MAXIMIZE (Y/N) ? \"); scanf(\"%c\", &amp;R);\n    printf(\"\\n NUMBER OF VARIABLES OF ECONOMIC FUNCTION ? \"); scanf(\"%d\", &amp;NV);\n    printf(\"\\n NUMBER OF CONSTRAINTS ? \"); scanf(\"%d\", &amp;NC);\n    if (R == 'Y' || R == 'y')\n        R1 = 1.0;\n    else\n        R1 = -1.0;\n    printf(\"\\n INPUT COEFFICIENTS OF ECONOMIC FUNCTION:\\n\");\n    for (J = 1; J &lt;= NV; J++) {\n        printf(\"       #%d ? \", J); scanf(\"%lf\", &amp;R2);\n        TS[1][J + 1] = R2 * R1;\n    }\n    printf(\"       Right hand side ? \"); scanf(\"%lf\", &amp;R2);\n    TS[1][1] = R2 * R1;\n    for (I = 1; I &lt;= NC; I++) {\n        printf(\"\\n CONSTRAINT #%d:\\n\", I);\n        for (J = 1; J &lt;= NV; J++) {\n            printf(\"       #%d ? \", J); scanf(\"%lf\", &amp;R2);\n            TS[I + 1][J + 1] = -R2;\n        }\n        printf(\"       Right hand side ? \"); scanf(\"%lf\", &amp;TS[I + 1][1]);\n    }\n    printf(\"\\n\\n RESULTS:\\n\\n\");\n    for (J = 1; J &lt;= NV; J++)  TS[0][J + 1] = J;\n    for (I = NV + 1; I &lt;= NV + NC; I++)  TS[I - NV + 1][0] = I;\n}\n</code></pre>\n\n<p>I can also include the pivot table, formulation and optimisation functions if need be.</p>\n\n<p><strong>I would like to ask for specific techniques which might be employed to ensure that, given a set of coefficients and constraints, the C++ program returns the economic function correctly</strong> (I'll have to implement additional checking stages later when the data gets output to the web, but I'll cross that bridge when I come to it).</p>\n\n<p>(For reasons of attribution, I note that the above code was created by Jean-Pierre Moreau in 1982. Coincidentally, 1982 happens to be my birth year, but that's probably not important right now.)</p>\n"}, {"tags": ["c++", "macos", "hdf5"], "comments": [{"owner": {"reputation": 951, "user_id": 6281575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00cce1f06e53a6f931cd2d87129d6526?s=128&d=identicon&r=PG&f=1", "display_name": "pablo_worker", "link": "https://stackoverflow.com/users/6281575/pablo-worker"}, "edited": false, "score": 0, "creation_date": 1490957015, "post_id": 43100152, "comment_id": 73354275, "body": "What version of HDF5 are you using? I suppose that you have to compile the HDF5 library yourselft to use it with Mac. At the HDF5 webpage I only see the pre-built binaries for windows and linux."}], "answers": [{"tags": [], "owner": {"reputation": 951, "user_id": 6281575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00cce1f06e53a6f931cd2d87129d6526?s=128&d=identicon&r=PG&f=1", "display_name": "pablo_worker", "link": "https://stackoverflow.com/users/6281575/pablo-worker"}, "is_accepted": false, "score": 0, "last_activity_date": 1490958058, "creation_date": 1490958058, "answer_id": 43139053, "question_id": 43100152, "link": "https://stackoverflow.com/questions/43100152/compiling-c-program-using-h5cpp-h-header-file/43139053#43139053", "title": "Compiling C++ program using H5Cpp.h header file", "body": "<p>A few tips:</p>\n\n<ul>\n<li><p>I think that you have to compile the HDF5 library yourself if you haven't the pre-built binaries. At the HDF5 website there are no pre-built binaries for Mac (as far as I can see).</p></li>\n<li><p>In windows, to compile a C++ application to use the HDF5 library you have to indicate to the linker the following dependencies (in this order), maybe in mac is also imperative:\nszip.lib zlib.lib hdf5.lib hdf5_cpp.lib</p></li>\n<li><p>If you download some pre-built binaries, there is a file that will indicate the steps to compile your C++ program. In windows it is called: \"USING_HDF5_CMake.txt\" and \"USING_HDF5_VS.txt\". You can find these files for example <a href=\"ftp://ftp.hdfgroup.org/HDF5/current/src/unpacked/release_docs/\" rel=\"nofollow noreferrer\">here</a>. </p></li>\n</ul>\n"}], "owner": {"reputation": 646, "user_id": 689712, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/e38ba0f5dd969dec6b3b4e96a0a04e80?s=128&d=identicon&r=PG", "display_name": "Karthik", "link": "https://stackoverflow.com/users/689712/karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504233026, "creation_date": 1490808152, "question_id": 43100152, "link": "https://stackoverflow.com/questions/43100152/compiling-c-program-using-h5cpp-h-header-file", "title": "Compiling C++ program using H5Cpp.h header file", "body": "<p>I'm need to create a HDF5 file. I'm using the H5Cpp.h header file. \nI'm trying to compile the C++ code below on OSX 10.11 El Capitan.</p>\n\n<pre><code>#include \"include/hdf5-1.10.0-patch1/c++/src/H5Cpp.h\"\nusing namespace H5;\n\nconst int NX = 5;\nconst int NY = 5;\nconst H5std_string  FILE_NAME( \"SDS.h5\" );\nconst H5std_string  DATASET_NAME( \"IntArray\" );\n\nint main(){\n  int i, j;\n  int data[NX][NY];          // buffer for data to write\n  for (j = 0; j &lt; NX; j++){\n    for (i = 0; i &lt; NY; i++)\n      data[j][i] = i + j;\n  }\n  H5File file(FILE_NAME, H5F_ACC_TRUNC);\n  hsize_t dimsf[2] = {NX, NY};\n  DataSpace dataspace(2, dimsf);\n  DataSet dataset = file.createDataSet(DATASET_NAME, PredType::NATIVE_INT,\n                       dataspace);\n  // Attempt to write data to HDF5 file\n  dataset.write(data, PredType::NATIVE_DOUBLE);\n  return 0;  \n}\n</code></pre>\n\n<p>I keep getting this error, </p>\n\n<pre><code>ld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [all] Error 1\n</code></pre>\n\n<p>Here's the verbose output - <a href=\"https://gist.github.com/gkarthik/e21d2f83baffc2d2eb1b883696c44df8\" rel=\"nofollow noreferrer\">https://gist.github.com/gkarthik/e21d2f83baffc2d2eb1b883696c44df8</a></p>\n\n<p>Thanks! </p>\n"}, {"tags": ["c++", "doxygen", "code-documentation"], "answers": [{"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1498374477, "post_id": 44743279, "comment_id": 76469092, "body": "Can you elaborate on what kind of tags you mean exactly, and how I can use them?"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1498398958, "post_id": 44743279, "comment_id": 76474937, "body": "... and will these tags point me online, or to local sources?"}, {"owner": {"reputation": 1234, "user_id": 638463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2585e42afb13222658777f2e2f6cccab?s=128&d=identicon&r=PG", "display_name": "ahoo", "link": "https://stackoverflow.com/users/638463/ahoo"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1498402929, "post_id": 44743279, "comment_id": 76476036, "body": "@einpoklum, it depends on your decision <code>Online link</code> or <code>Offline link</code>. look at <a href=\"https://www.stack.nl/~dimitri/doxygen/manual/external.html\" rel=\"nofollow noreferrer\">this link</a> about what is tags file in Doxygen."}], "tags": [], "owner": {"reputation": 1234, "user_id": 638463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2585e42afb13222658777f2e2f6cccab?s=128&d=identicon&r=PG", "display_name": "ahoo", "link": "https://stackoverflow.com/users/638463/ahoo"}, "is_accepted": true, "score": 9, "last_activity_date": 1498395181, "last_edit_date": 1498395181, "creation_date": 1498366042, "answer_id": 44743279, "question_id": 43099899, "link": "https://stackoverflow.com/questions/43099899/can-i-make-doxygen-resolve-refs-to-c-standard-library-functions/44743279#44743279", "title": "Can I make doxygen resolve @ref&#39;s to C++ standard library functions?", "body": "<p>You should have a Doxygen tag file and corresponding offline or online html files. So you can declare it in the Doxygen config file with this format:</p>\n\n<pre><code>TAGFILES = \"/location/of/tagFile=http://onlineUrl Or /location/of/OfflineHtml\"\n</code></pre>\n\n<p>To download these files, i found two below resources:</p>\n\n<h1>Cppreference</h1>\n\n<p>I recommend this way. because of complete documentation of it.</p>\n\n<h2>Online link</h2>\n\n<ol>\n<li>Download <a href=\"http://en.cppreference.com/w/File:cppreference-doxygen-web.tag.xml\" rel=\"noreferrer\">web tag file</a>.</li>\n<li><p>Set below in config file:</p>\n\n<pre><code>TAGFILES += \"location/of/cppreference-doxygen-web.tag.xml=http://en.cppreference.com/w/\"\n</code></pre></li>\n</ol>\n\n<h2>Offline link</h2>\n\n<ol>\n<li>Download <a href=\"http://en.cppreference.com/w/File:html_book_20170409.zip\" rel=\"noreferrer\">html book</a> that is offline copy of the website.</li>\n<li><p>Set below in config file:</p>\n\n<pre><code>TAGFILES += \"location/of/cppreference-doxygen-local.tag.xml=/location/of/html_book_*\\reference\\en\"\n</code></pre></li>\n</ol>\n\n<p><a href=\"http://en.cppreference.com/w/Cppreference:Archives\" rel=\"noreferrer\"><strong>More</strong></a></p>\n\n<hr>\n\n<h1>GNU project</h1>\n\n<h2>Online link</h2>\n\n<ol>\n<li>Download <a href=\"https://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/libstdc++.tag\" rel=\"noreferrer\">a tag file for the latest version</a>.</li>\n<li><p>Set below in config file:</p>\n\n<pre><code>TAGFILES = \"/location/of/libstdc++.tag = http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen\"\n</code></pre></li>\n</ol>\n\n<h2>Offline link</h2>\n\n<ol>\n<li>Download <a href=\"https://gcc.gnu.org/onlinedocs/gcc-7.1.0/libstdc++-api-html.tar.gz\" rel=\"noreferrer\">GCC 7.1 Standard C++ Library Reference Manual in HTML</a>. other versions found <a href=\"https://gcc.gnu.org/onlinedocs/\" rel=\"noreferrer\">here</a>.</li>\n<li><p>Set below in config file:</p>\n\n<pre><code>TAGFILES = \"/location/of/libstdc++.tag = /location/of/libstdc++-api-html\"\n</code></pre></li>\n</ol>\n\n<p><a href=\"https://gcc.gnu.org/onlinedocs/gcc-7.1.0/libstdc++-api-html.tar.gz\" rel=\"noreferrer\"><strong>More</strong></a></p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 2, "accepted_answer_id": 44743279, "answer_count": 1, "score": 9, "last_activity_date": 1544792489, "creation_date": 1490807353, "question_id": 43099899, "link": "https://stackoverflow.com/questions/43099899/can-i-make-doxygen-resolve-refs-to-c-standard-library-functions", "title": "Can I make doxygen resolve @ref&#39;s to C++ standard library functions?", "body": "<p>I sometimes want to refer, in my doxygen comments, to standard library constructs. I can do this with a HTML <code>&lt;a&gt;</code> element - but that's a lot of text to paste. I would much rather be able to write simply <code>{@ref std::string}</code>, and have doxygen know it needs to link to the cppreference.org <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"noreferrer\">page</a> for <code>std::string</code>.</p>\n\n<p>I was thinking perhaps this could be possible if someone were to generate a doxygen tags file for the standard library (and even that might not work if tags file don't support arbitrary URLs). So, is there another way to do it?</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1490976095, "post_id": 43099726, "comment_id": 73367319, "body": "I don&#39;t see any official documentation on this, either, including in the SDK&#39;s <code>TVM_SORTCHILDREN</code> message that this wrapper function is based on. But the only way that it could possibly invalidate the handle is if it sorted by <i>destroying</i> each item and <i>recreating</i> it. And I cannot imagine any good reason for doing that, when it could just remove the item and reinsert it at the desired position."}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 6690542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ebea93b3dc2c3b9a4af781c0d751ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Yusuf R. Karag&#246;z", "link": "https://stackoverflow.com/users/6690542/yusuf-r-karag%c3%b6z"}, "is_accepted": true, "score": 0, "last_activity_date": 1492615265, "creation_date": 1492615265, "answer_id": 43499873, "question_id": 43099726, "link": "https://stackoverflow.com/questions/43099726/does-ctreectrlsortchildren-change-handles-of-childs/43499873#43499873", "title": "Does CTreeCtrl::SortChildren() change handles of childs?", "body": "<p>There is nothing officially, but as i see from my tests, tree item handle, which is sorted child, won't be changed after <code>CTreeCtrl::SortChildren()</code>.</p>\n"}], "owner": {"reputation": 538, "user_id": 6690542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4ebea93b3dc2c3b9a4af781c0d751ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Yusuf R. Karag&#246;z", "link": "https://stackoverflow.com/users/6690542/yusuf-r-karag%c3%b6z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 43499873, "answer_count": 1, "score": 0, "last_activity_date": 1492615265, "creation_date": 1490806755, "last_edit_date": 1490975155, "question_id": 43099726, "link": "https://stackoverflow.com/questions/43099726/does-ctreectrlsortchildren-change-handles-of-childs", "title": "Does CTreeCtrl::SortChildren() change handles of childs?", "body": "<p>I keep <code>HTREEITEM</code> for <code>CTreeCtrl</code> items in some classes. I only want to know whether <code>CTreeCtrl::SortChildren()</code> changes <code>HTREEITEM</code>-handles of childs? After i use <code>CTreeCtrl::SortChildren()</code>, will be old tree item handles valid?</p>\n\n<p>I couldn't find anything officially. I think that won't change handles, but i want to be sure.</p>\n"}, {"tags": ["c++", "algorithm", "vector"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490806741, "post_id": 43099696, "comment_id": 73280974, "body": "Are <code>v1</code> and <code>v2</code> necessarily sorted? If so, you can probably get away with using <a href=\"http://en.cppreference.com/w/cpp/algorithm/mismatch\" rel=\"nofollow noreferrer\"><code>std::mismatch</code></a> in a loop to find which values are not in both vectors."}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1490806770, "post_id": 43099696, "comment_id": 73280989, "body": "Can you assume they&#39;ll be sorted?"}, {"owner": {"reputation": 313, "user_id": 5942125, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/273aef93148c845baf221668d97dc1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5942125/sam"}, "edited": false, "score": 0, "creation_date": 1490806850, "post_id": 43099696, "comment_id": 73281045, "body": "Thanks for the replies!  yes, the 2 vectors will always be sorted, i&#39;ll take a look at std::mismatch now."}, {"owner": {"reputation": 9602, "user_id": 7151494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a_FzvY-b2O0/AAAAAAAAAAI/AAAAAAAAAEw/kNwilSAvQTI/photo.jpg?sz=128", "display_name": "Fureeish", "link": "https://stackoverflow.com/users/7151494/fureeish"}, "edited": false, "score": 0, "creation_date": 1490806863, "post_id": 43099696, "comment_id": 73281052, "body": "While sorting makes things easier, it&#39;s not necessary. Just copy the first vector and for each copied value, search for the exact same value in v2. If that value is present - delete that value from v3"}, {"owner": {"reputation": 1164, "user_id": 5190625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CdmOS.jpg?s=128&g=1", "display_name": "Erick Langford Xenes", "link": "https://stackoverflow.com/users/5190625/erick-langford-xenes"}, "edited": false, "score": 0, "creation_date": 1585326079, "post_id": 43099696, "comment_id": 107728993, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/11373583/stl-set-symmetric-difference-usage\">STL set_symmetric_difference usage</a>"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 5942125, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/273aef93148c845baf221668d97dc1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5942125/sam"}, "edited": false, "score": 0, "creation_date": 1490807613, "post_id": 43099783, "comment_id": 73281570, "body": "Perfect! This is exactly what i needed, thanks very much."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490807643, "post_id": 43099783, "comment_id": 73281590, "body": "Would <code>std::set_difference</code> be more appropriate? Otherwise, elements in <code>v2</code> not already in <code>v1</code> would be included in the result."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1490807841, "post_id": 43099783, "comment_id": 73281716, "body": "@Fran&#231;oisAndrieux It might be.  I need to check with the OP"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 313, "user_id": 5942125, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/273aef93148c845baf221668d97dc1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5942125/sam"}, "edited": false, "score": 0, "creation_date": 1490807884, "post_id": 43099783, "comment_id": 73281734, "body": "@SamRobinson if <code>v2</code> had <code>10</code> in it would you want that in the output result or no?"}, {"owner": {"reputation": 313, "user_id": 5942125, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/273aef93148c845baf221668d97dc1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5942125/sam"}, "edited": false, "score": 0, "creation_date": 1490882248, "post_id": 43099783, "comment_id": 73319186, "body": "@NathanOliver i&#39;m trying to create a sudoku solving algorithm, meaning that only numbers 1-9 will appear. I will however bare this in mind for future projects. Thanks for your answer!"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 6, "last_activity_date": 1490807653, "last_edit_date": 1490807653, "creation_date": 1490806929, "answer_id": 43099783, "question_id": 43099696, "link": "https://stackoverflow.com/questions/43099696/how-to-compare-2-vectors-and-create-a-separate-vector-based-on-the-comparison/43099783#43099783", "title": "How to compare 2 vectors and create a separate vector based on the comparison", "body": "<p>If, as in your example, the ranges are sorted then you can use <a href=\"http://en.cppreference.com/w/cpp/algorithm/set_symmetric_difference\" rel=\"nofollow noreferrer\"><code>std::set_symmetric_difference</code></a>.  It will return all elements that are not shared between the two ranges.  Using you example you would use</p>\n\n<pre><code>std::set_symmetric_difference(v1.begin(), v1.end(), v2.begin(), v2.end(), std::back_inserter(v3));\n</code></pre>\n\n<p>So putting it all together we have</p>\n\n<pre><code>int main()\n{\n    std::vector&lt;int&gt; v1 = { 1,2,3,4,5,6,7,8,9 };\n    std::vector&lt;int&gt; v2 = { 1,2,6 };\n    std::vector&lt;int&gt; v3; //V3 should equal = {3,4,5,7,8,9}.\n\n    std::set_symmetric_difference(v1.begin(), v1.end(), v2.begin(), v2.end(), std::back_inserter(v3));\n\n    for (auto e : v3)\n        std::cout &lt;&lt; e &lt;&lt; \" \";\n\n    return 0;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>3 4 5 7 8 9\n</code></pre>\n\n<p><kbd><a href=\"http://coliru.stacked-crooked.com/a/9dcdf6a5767383d9\" rel=\"nofollow noreferrer\">Live example</a></kbd></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1138939"}, "is_accepted": false, "score": 0, "last_activity_date": 1490813449, "creation_date": 1490813449, "answer_id": 43101801, "question_id": 43099696, "link": "https://stackoverflow.com/questions/43099696/how-to-compare-2-vectors-and-create-a-separate-vector-based-on-the-comparison/43101801#43101801", "title": "How to compare 2 vectors and create a separate vector based on the comparison", "body": "<p>Sorry to trouble  and add new answer here. NathanOliver has given precise answer. \n But for fun if I had to write my own function to implement this, I tried it on arrays instead of vector, (for changing code for vector will be trivial task). </p>\n\n<p>Adding my code snippet here. </p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nint arr1[]={2,3,6,10};\nint arr2[]={3,5,7,9,10};\n\nint result[10];\nint result_size=0;\n\nvoid getUncommonValues(int *arr1, int size1, int *arr2, int size2){\n    if ( (size1 == 0) &amp;&amp; (size2 == 0) )\n        return;\n\n    if( size1 == 0){\n        result_size=size2;\n        for (int i=0; i &lt; size2; i++)\n            result[i] = arr2[i];\n    }\n\n    if (size2 == 0){\n        result_size=size1;\n        for (int i=0; i &lt; size1; i++)\n            result[i] = arr1[i];\n    }\n\n    int i1=0, i2=0;\n    while (size1 &gt; i1){\n        if ( arr1[i1] &lt; arr2[i2]){\n            result[result_size++] = arr1[i1++];\n        } else{\n            if ( arr2[i2] &lt; arr1[i1] )\n                result[result_size++] = arr2[i2++];\n            else{\n                i1++; i2++;\n            }\n        }\n        if ( i2 == size2 ){\n            for ( ; i1 &lt; size1; i1++)\n                result[result_size++] = arr1[i1];\n        }\n    }\n\n    for ( ; i2 &lt; size2 ; i2++){\n        result[result_size++] = arr2[i2];\n    }\n}\n\nint main(){\n    getUncommonValues(arr1,sizeof(arr1)/sizeof(int), arr2,sizeof(arr2)/sizeof(int));\n    for (int i =0; i&lt;result_size; i++)\n        cout &lt;&lt; result[i] &lt;&lt;\" ,\";\n\n    cout &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>Note : here the result is stored in global array and has fixed size. \n   This can be resolved in vector directly. </p>\n"}], "owner": {"reputation": 313, "user_id": 5942125, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/273aef93148c845baf221668d97dc1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/5942125/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 43099783, "answer_count": 2, "score": 1, "last_activity_date": 1490813449, "creation_date": 1490806650, "last_edit_date": 1490807493, "question_id": 43099696, "link": "https://stackoverflow.com/questions/43099696/how-to-compare-2-vectors-and-create-a-separate-vector-based-on-the-comparison", "title": "How to compare 2 vectors and create a separate vector based on the comparison", "body": "<p>i'm looking at creating an algorithm that will compare 2 vectors (<code>v1</code>,<code>v2</code>), and create a new vector <code>v3</code> that will hold the values not shared between <code>v1</code> and <code>v2</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main(int args[])\n{\nvector&lt;int&gt; v1 = { 1,2,3,4,5,6,7,8,9 };\nvector&lt;int&gt; v2 = { 1,2,6 };\nvector&lt;int&gt; v3; //V3 should equal = {3,4,5,7,8,9}.\n\nreturn 0;\n}\n</code></pre>\n\n<p>The vectors will always be sorted.</p>\n"}, {"tags": ["c++", "c++11", "comparison-operators"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1490806780, "post_id": 43099656, "comment_id": 73280995, "body": "... and why don&#39;t you check your system header files (probably <code>functional</code>) on how <code>std::less</code> is defined? The operator prototype is probably <code>(const T&amp;, const T&amp;) -&gt; bool</code>. But why don&#39;t you use a template for that?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 5, "creation_date": 1490806797, "post_id": 43099656, "comment_id": 73281011, "body": "<a href=\"http://importblogkit.com/2015/07/does-not-work/\" rel=\"nofollow noreferrer\">Does not work</a> is not an useful problem description."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "reply_to_user": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1490806965, "post_id": 43099656, "comment_id": 73281120, "body": "@dhke can you give me more details about your solution ? I do not understand it."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "edited": false, "score": 0, "creation_date": 1490807036, "post_id": 43099656, "comment_id": 73281168, "body": "Please, can you show us a minimal, but complete, example of the code that give you the compilation errors?"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1490807078, "post_id": 43099656, "comment_id": 73281205, "body": "@Viridya Please, provide an example of what your function is supposed to achieve and pinpoint where you are stuck. you are asking for a particular solution without providing the bigger picture. Which --especially in very language specific cases-- usually yields not the answers you want."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1490807212, "post_id": 43099656, "comment_id": 73281301, "body": "Sorry everyone, I edited the post to add the function and the error I have."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490807254, "post_id": 43099656, "comment_id": 73281329, "body": "@Viridya Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Currently, your code does not seem to correspond to the error that you are getting (<code>operator&lt;</code> is not used anywhere)."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1490807309, "post_id": 43099656, "comment_id": 73281364, "body": "I feel like maybe they should just make it a policy that anyone who is posting about a compiler error has to have a coliru (or equivalent) link. Full stop. Would save so much time."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490807368, "post_id": 43099656, "comment_id": 73281401, "body": "@AlgirdasPreid\u017eius Mea culpa, I added it now :)"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490807419, "post_id": 43099656, "comment_id": 73281432, "body": "@Viridya And, yet, it still isn&#39;t <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Minimal? Yes. Complete, and in-turn, verifiable? No."}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1490807508, "post_id": 43099656, "comment_id": 73281493, "body": "@Viridya <code>std::less</code> is C++98 at the very least. And the usual trick here is to have the comparator as a template: <code>class Compare = std::less&lt;T&gt;</code> and then call <code>Comparator()(a, b)</code>. The standard lib does this all the time (but usually with the comparator as an instance variable so that it&#39;s only constructed once). There&#39;s usually no global <code>operator&lt;()</code> function."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "reply_to_user": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1490808054, "post_id": 43099656, "comment_id": 73281859, "body": "AlgirdasPreid\u017eius I provided an entire compilable code, hoping it is enough, otherwise, I just do not understand what you are expecting... Sorry. @dhke Could you give an entire example ? Because I might not know something about template since I never saw something like &quot;class X = Y&quot;. By the way, indeed less exist for a moment, I read too fast and just saw the &quot;Since C++14&quot;."}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 1, "creation_date": 1490808447, "post_id": 43099656, "comment_id": 73282107, "body": "Your code was closer to working when you used <code>operator&lt;</code> in <code>main</code>; then you had a compiler error but it at least parsed. It still didn\u2019t work because, as you pointed out, <code>operator&lt;</code> isn\u2019t actually defined that way. There are some other errors beyond the scope of this question as well."}], "answers": [{"tags": [], "owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1490807964, "creation_date": 1490807964, "answer_id": 43100078, "question_id": 43099656, "link": "https://stackoverflow.com/questions/43099656/function-doing-integer-comparison-in-c/43100078#43100078", "title": "Function doing integer comparison in C++", "body": "<p>The comparison functions in <code>functional</code> existed before C++14; they just changed slightly in that release. If you look <a href=\"http://en.cppreference.com/w/cpp/utility/functional/less\" rel=\"nofollow noreferrer\">here</a>, you see that before C++14, they didn\u2019t have a default value for <code>T</code> and you had to specify it yourself, but they still existed.</p>\n\n<p>If those functions had not existed, you could have written lambdas which used the operators directly (like <code>[](const T&amp; lhs, const T&amp; rhs) { return lhs &lt; rhs; }</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1490808117, "post_id": 43100110, "comment_id": 73281897, "body": "Ok, my bad, I guess you did not understand my problem. I want to do something like &quot;multiple_comparison(1, &lt; , 3 , == , 5 , &lt; , 6). This is why I use variadic template ^^. Still, Thanks for the example. I will use &quot;less&quot; and the other functions remplacing operators."}, {"owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "reply_to_user": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1490808372, "post_id": 43100110, "comment_id": 73282058, "body": "Interesting, so you want   <code>A comp1 B comp2 C comp3 D</code> to mean <code>A comp1 B</code> and <code>B comp2 C</code> and <code>C comp3 D</code>?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 1, "creation_date": 1490808399, "post_id": 43100110, "comment_id": 73282077, "body": "@Viridya Then edit the question accordingly please. We couldn&#39;t have guessed that you want this exact syntax."}, {"owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "edited": false, "score": 0, "creation_date": 1490808544, "post_id": 43100110, "comment_id": 73282160, "body": "@alfC Yep, I am working on a compiler and some of the library I use for analysis return me code that look like &quot;A comp1 B comp2 C comp3 D&quot; but since it is not valid, I must transform that."}], "tags": [], "owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "is_accepted": false, "score": 3, "last_activity_date": 1490810623, "last_edit_date": 1490810623, "creation_date": 1490808047, "answer_id": 43100110, "question_id": 43099656, "link": "https://stackoverflow.com/questions/43099656/function-doing-integer-comparison-in-c/43100110#43100110", "title": "Function doing integer comparison in C++", "body": "<p><em>Whatever</em> you want to achieve, this is not the way we do it in C++.\nThis is more idiomatic, (and works in any C++ pre C++11).</p>\n\n<pre><code>#include&lt;functional&gt;  //for std::less\ntemplate&lt;typename T, class Comparison&gt;\nbool multiple_comparison(T first, Comparison comp, T second){\n    return comp(first, second);\n} \n\nint main(){\n  multiple_comparison(1, std::less&lt;int&gt;(), 3); //should return true\n}\n</code></pre>\n\n<p>I removed the variadic argument part because that was not part of the question and the recursion was wrong.</p>\n\n<hr>\n\n<p>EDIT: From the comments <em>I deduce</em> that this is what you want. </p>\n\n<blockquote>\n  <p>Even mathematicians will agree that want you want to implement is a\n  dangerous abuse of notation (for example if you drop a <code>std::greater</code>\n  in the middle of the sequence everyone will be confused)</p>\n</blockquote>\n\n<p>Here it is anyway:</p>\n\n<pre><code>#include&lt;utility&gt; //for std::forward\ntemplate&lt;typename T&gt;\nconstexpr bool multiple_comparison(T const&amp; second){return true;} \n\ntemplate&lt;typename T, class Compare, class... Rest&gt;\nbool multiple_comparison(T const&amp; first, Compare comp, T const&amp; second, Rest&amp;&amp;... rest){\n    return comp(first, second) and multiple_comparison(second, std::forward&lt;Rest&gt;(rest)...);\n} \n\n#include&lt;functional&gt;  //for std::less and equal\n#include&lt;cassert&gt;\nint main(){\n  // is    1 &lt; 3 == 3 &lt; 5 ?\n  assert( multiple_comparison(1, std::less&lt;int&gt;(), 3, std::equal_to&lt;int&gt;(), 3, std::less&lt;int&gt;(), 5) );\n  // is    1 &lt; 3 == 4 &lt; 5 ?\n  assert( not multiple_comparison(1, std::less&lt;int&gt;(), 3, std::equal_to&lt;int&gt;(), 4, std::less&lt;int&gt;(), 5) );\n\n// bonus for C++11, explicit type omitted\n  assert( multiple_comparison(1, std::less&lt;&gt;(), 3, std::equal_to&lt;&gt;(), 3, std::less&lt;&gt;(), 5) );\n  assert( not multiple_comparison(1, std::less&lt;&gt;(), 3, std::equal_to&lt;&gt;(), 4, std::less&lt;&gt;(), 5) );\n\n}\n</code></pre>\n"}], "owner": {"reputation": 630, "user_id": 4827781, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/afcd799e665502b3d7448581141d1c99?s=128&d=identicon&r=PG", "display_name": "Viridya", "link": "https://stackoverflow.com/users/4827781/viridya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1490810623, "creation_date": 1490806519, "last_edit_date": 1490807672, "question_id": 43099656, "link": "https://stackoverflow.com/questions/43099656/function-doing-integer-comparison-in-c", "title": "Function doing integer comparison in C++", "body": "<p>I am writing a variadic template function which compare multiple integer.\nI would like to use it this way :</p>\n\n<pre><code>template&lt;typename T, typename... Args&gt;\nbool multiple_comparison(T first, bool(* compar)(T&amp;, T&amp;), T second, Args... args){\n    return compar(first, second) &amp;&amp; multiple_comparison(second, args...);\n} \n\nint main(){\n  multiple_comparison(1, &lt;, 3); //should return true\n  return 0;\n}\n</code></pre>\n\n<p>However, I have compilation issue:</p>\n\n<pre><code>  error: no matches converting function \u2018operator&lt;\u2019 to type \u2018bool (*)(int&amp;, int&amp;)\u2019\n</code></pre>\n\n<p>I guess it is because this is not this function that is used for primitive type.\nI found the \"std::less\" (and the others operators) online, but it is C++14 and I am stuck with C++11.</p>\n\n<p>Is there a way to do it ? Because, for the moment, the only thing I can think of is replacing every comparison operator by a custom function.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "sorting", "alphabet"], "comments": [{"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "edited": false, "score": 0, "creation_date": 1490853397, "post_id": 43099571, "comment_id": 73299484, "body": "So from your code, it seems like you want to read the lines from a text file, and print out/write back to a file a sorted list of each of the words that appear ? You can store all the words and for simplicity apply bubble sort."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7787235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79511d0feadb44eec76579b971b2c506?s=128&d=identicon&r=PG&f=1", "display_name": "dutC", "link": "https://stackoverflow.com/users/7787235/dutc"}, "is_accepted": false, "score": 0, "last_activity_date": 1490899569, "creation_date": 1490899569, "answer_id": 43126046, "question_id": 43099571, "link": "https://stackoverflow.com/questions/43099571/sorting-words-according-the-alphabet/43126046#43126046", "title": "Sorting words according the alphabet", "body": "<p>yes that is correct. But i cant find where it goes wrong. First of all. i can't manage the programe van writing the words to a textfile and second i have no idea how to give the program the wright code to look to all the words and not only the words on a new line.</p>\n"}], "owner": {"reputation": 1, "user_id": 7787235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79511d0feadb44eec76579b971b2c506?s=128&d=identicon&r=PG&f=1", "display_name": "dutC", "link": "https://stackoverflow.com/users/7787235/dutc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1491008790, "creation_date": 1490806231, "last_edit_date": 1491008790, "question_id": 43099571, "link": "https://stackoverflow.com/questions/43099571/sorting-words-according-the-alphabet", "title": "Sorting words according the alphabet", "body": "<p>I need to make a program that can sort the words according the alphabet from a to z. the current program I made is capable of sorting the words but only if there on a new line ('\\n').</p>\n\n<p>The words that are further in the line are not sorted.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;strings.h&gt;\n#define SIZE 30\n#define LEN 31\n\nvoid bron (char *fnamer)\n{\nprintf(\"\\nGeef de naam van de in te lezen txt file: \\n\");\ngets(fnamer);\n//getchar(fnamer);\n}\n\nvoid uitgave (char *fnamer2)\n{\nprintf(\"\\nGeef de naam van de nieuwe geschreven txt file: \\n\");\ngets(fnamer2);\n//getchar(fnamer2);\n}\n\nint main()\n{\nchar name[LEN][SIZE];\nchar hold[LEN] ;\nint i,j ;\nint last ;\nFILE *fp;\nFILE *fp2;\n\nchar ch;\nchar fnamer[1000];\nchar fnamer2[1000];\n\nbron(fnamer);\n\nfp=fopen(fnamer,\"r\");\nif(fp==NULL)\n{\n    printf(\"Error!\");\n    exit(1);\n}\nuitgave(fnamer2);\nfp2=fopen(fnamer2,\"w\");\nif(fp2==NULL)\n{\n    printf(\"Error!\");\n    exit(1);\n}\nelse\n{\n\n    for(i = 0 ; !feof(fp) ; i++ )\n\n    {\n        fgets( name[i] , LEN, fp);\n    }\n    last = i - 1 ;\n\n    fclose(fp);\n\n    for (i = last ; i &gt; 0 ; i--)\n        for (j = 1 ; j &lt;= i ; j++)\n\n            if (strcmp(name[j],name[j - 1]) &lt; 0)\n            {\n                strcpy(hold,name[j]) ;\n                strcpy(name[j],name[j - 1]) ;\n                strcpy(name[j - 1],hold) ;\n            }\n\n    for (i = 0 ; i &lt;= last ; i++)\n    {\n        printf(\"%s\",name[i]) ;\n       // fprintf(\"%s\", name [i]); herzien\n    }\n\n}\nprintf(\"\\n%s \\t%s\",fnamer,fnamer2) ;\n//fprintf(fp, %s) ; // herzien\nfclose(fp2);\nreturn 0;\n} \n</code></pre>\n\n<p>What is the problem?</p>\n"}, {"tags": ["c++", "sqlite", "command-line-interface"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490806456, "post_id": 43099398, "comment_id": 73280778, "body": "What, about the error message, is unclear? You cannot have a managed class member in an unmanaged class."}, {"owner": {"reputation": 74, "user_id": 5634037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de77de5b2351f340adaf4bf0fa40ac?s=128&d=identicon&r=PG&f=1", "display_name": "Kfirka", "link": "https://stackoverflow.com/users/5634037/kfirka"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1490810616, "post_id": 43099398, "comment_id": 73283467, "body": "my question is how to bypass this error."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1490818797, "post_id": 43099398, "comment_id": 73288350, "body": "It&#39;s simple: Either 1) Make this class managed, or 2) Don&#39;t use managed types within unmanaged classes."}], "answers": [{"tags": [], "owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "is_accepted": true, "score": 1, "last_activity_date": 1490879523, "last_edit_date": 1490879523, "creation_date": 1490876357, "answer_id": 43117694, "question_id": 43099398, "link": "https://stackoverflow.com/questions/43099398/a-member-of-a-non-managed-class-cannot-have-a-ref-class-type-or-interface-class/43117694#43117694", "title": "a member of a non managed class cannot have a ref class type or interface class type", "body": "<p>I don't know of any reasonable way to access (not to say create) managed objects from native c++ code. </p>\n\n<p>But that is not the point. You said you have a c++ program for which you want just a c++/CLI (.Net) GUI. As @AlgirdasPreid\u017eius said you need to decide where to put functionality: in native or managed code, but not mix. </p>\n\n<p>In your case, you need to make clear what is core code and what GUI, and try not to mix. <strong>The core have to be agnostic (not use!) about the GUI</strong>. And the GUI have to acces the core in a very controled form. In this case is convenient to just have pointers to native classes from your core inserted in your managed clases. It \"just works\". You have to decide if the SQLite belong to the core or to the GUI. The only trick I see here is to acces the data base differently in the GUI and the core: with a \"managed\" conection from <code>System::Data::SQLite</code> used in GUI and a native <code>sqlite</code> conection for the native core code. Or, if the managed version can generate a native handle you may pass it to the core code, or create a managed version that take a native conection (if <code>System::Data::SQLite</code> have that posibility).</p>\n\n<p>see: <a href=\"https://github.com/praeclarum/sqlite-net/blob/master/src/SQLite.cs#L49\" rel=\"nofollow noreferrer\">Sqlite3DatabaseHandle</a> definition, the <a href=\"https://github.com/praeclarum/sqlite-net/blob/master/src/SQLite.cs#L157\" rel=\"nofollow noreferrer\">SQLiteConnection::Handle</a>, and <a href=\"https://github.com/praeclarum/sqlite-net/blob/master/src/SQLite.cs#L228\" rel=\"nofollow noreferrer\">how it is used to open a conection</a> and how it <a href=\"https://sqlite.org/c3ref/open.html\" rel=\"nofollow noreferrer\">compare with native use</a>. </p>\n\n<p>That said, I had a similar problem (has a c++ program for which want just a c++/CLI (.Net) GUI.) , and it worked good... in my machine. All other machine where I wanted to run my program were protected, I have no admin rigth there and it was always a compatibility .Net version problem which I can't solve. For my needs it was a better solution to switch to <a href=\"http://nanapro.org/en-us/\" rel=\"nofollow noreferrer\">Nana C++ GUI</a>. My core code was already GUI agnostic, so the GUI change was not very difficult. Now everything is native code and with static linking the program is an small portable ejecutable than run aeasly in any of my windows machines as a simple user.  </p>\n"}], "owner": {"reputation": 74, "user_id": 5634037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de77de5b2351f340adaf4bf0fa40ac?s=128&d=identicon&r=PG&f=1", "display_name": "Kfirka", "link": "https://stackoverflow.com/users/5634037/kfirka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "accepted_answer_id": 43117694, "answer_count": 1, "score": 1, "last_activity_date": 1490879523, "creation_date": 1490805651, "question_id": 43099398, "link": "https://stackoverflow.com/questions/43099398/a-member-of-a-non-managed-class-cannot-have-a-ref-class-type-or-interface-class", "title": "a member of a non managed class cannot have a ref class type or interface class type", "body": "<p>i am trying to implement a gui to a small c++ project, now i am trying to use my unmanaged c++ code in c++/cli in order to use windows forms. after the transform i cannot use the normal sqlite so i am trying to move to the managed sqlite version and i get the error code:\n\"a member of a non managed class cannot have a ref class type or interface class type\" when trying to include a SQLiteConnection in the members of the class.</p>\n\n<pre><code>#pragma once\n#include &lt;list&gt;\n#include \"CAlbum.h\"\n#include \"CUser.h\"\n#include \"CDataAccess.h\"\nusing namespace System::Data::SQLite;\n\n\nclass CDatabaseAccess : public CDataAccess\n{\nprivate:\n    albums _albums;\n    users _users;\n    SQLiteConnection _sqldb;\n    int _lastId;\n    CPicture _topTaggedPicture;\n\n    albums _albumsOfUser;\n    pictures _picturesOfUser;\n\n    bool fileExistsOnDisk(const string&amp; filename);\n    bool initDatabase();\n\npublic:\n    CDatabaseAccess();\n    ~CDatabaseAccess();\n\n    bool open() override;\n    void close() override;\n    void clear() override;\n\n    // album related\n    const albums&amp; getAlbums() override;\n    const albums&amp; getAlbumsOfUser(int userId) override;\n    void insertAlbum(CAlbum&amp; album) override;\n    void deleteAlbum(string albumName) override;\n    bool albumExists(string albumName) override;\n    CAlbum* openAlbum(string albumName) override;\n    void closeAlbum(CAlbum *pAlbum) override;\n\n    // picture related\n    void addPictureToAlbum(int albumId, CPicture&amp; picture) override;\n    void removePictureFromAlbum(int albumId, int pictureId) override;\n    void tagUserInPicture(CPicture&amp; picture, int userId) override;\n    void untagUserInPicture(CPicture&amp; picture, int userId) override;\n    bool isUserTaggedInPicture(const CPicture&amp; picture, int userId) override;\n\n    // user related\n    const users&amp; getUsers() override;\n    void addUser(CUser&amp; user) override;\n    void deleteUser(string userName) override;\n    bool userExists(string userName) override;\n    bool userExists(int userId) override;\n    CUser* getUser(int userId) override;\n\n    // user statistics\n    int countAlbumsOwnedOfUser(int userId) override;\n    int countAlbumsTaggedOfUser(int userId) override;\n    int countTagsOfUser(int userId) override;\n    float averageTagsPerAlbumOfUser(int userId) override;\n\n    // queries\n    const CUser* getTopTaggedUser() override;\n    const CPicture* getTopTaggedPicture() override;\n    const pictures&amp; getTaggedPicturesOfUser(int userId) override;\n\n    // sql related\n    void setLastId(char* lastId);\n    void resetLastId();\n};\n</code></pre>\n"}, {"tags": ["c++", "pointers", "valgrind"], "comments": [{"owner": {"reputation": 7825, "user_id": 3684343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bee557e309dc42d91a706c70c8c0c9f?s=128&d=identicon&r=PG&f=1", "display_name": "mch", "link": "https://stackoverflow.com/users/3684343/mch"}, "edited": false, "score": 1, "creation_date": 1490805253, "post_id": 43099199, "comment_id": 73280012, "body": "Which lines do you replace? Please post the whole program. You will have a memory leak in your second program."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1490805299, "post_id": 43099199, "comment_id": 73280038, "body": "Your code has some low-hanging fruit that the compiler happily points out: <a href=\"https://wandbox.org/permlink/cYyXdaIJrMnIEVqv\" rel=\"nofollow noreferrer\">wandbox.org/permlink/cYyXdaIJrMnIEVqv</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490805625, "post_id": 43099199, "comment_id": 73280243, "body": "Why the program operates correctly: Undefined Behaviour may well execute with the behavior you expect. This time. Maybe most of the time. But when you least expect it, or when <a href=\"https://www.youtube.com/watch?v=73wMnU7xbwE\" rel=\"nofollow noreferrer\">your boss is running a demo at Comdex...</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1490805756, "post_id": 43099199, "comment_id": 73280333, "body": "By the way, strongly recommend using <code>std::string</code>. Make your life a lot easier."}], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 7679986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c06bec4ddee5a60f443c2a927311494?s=128&d=identicon&r=PG&f=1", "display_name": "BayK", "link": "https://stackoverflow.com/users/7679986/bayk"}, "is_accepted": false, "score": 1, "last_activity_date": 1492399815, "last_edit_date": 1492399815, "creation_date": 1490805401, "answer_id": 43099308, "question_id": 43099199, "link": "https://stackoverflow.com/questions/43099199/valgrind-finds-errors-passing-pointer-to-function-but-no-errors-when-the-code-i/43099308#43099308", "title": "valgrind finds errors passing pointer to function, but no errors when the code is in the same scope", "body": "<p>valgrind complain to the read correctly, you read from the invalid memory. You read from invalid value of str.\nCorrect code below.</p>\n\n<pre><code>int main() {\n   ...\n   /* Reallocating memory */\n   str = newstr(str);\n   ...\n}\n\nchar * newstr(char *str) {\n   str = (char *) realloc(str, 25);\n   strcat(str, \".com\");\n   return str;\n}\n</code></pre>\n\n<p><a href=\"https://android-app-promotion.com/\" rel=\"nofollow noreferrer\"><img src=\"https://android-app-promotion.com/prs.png\" alt=\"image\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 3189, "user_id": 7016303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dYmXc.jpg?s=128&g=1", "display_name": "Mikel F", "link": "https://stackoverflow.com/users/7016303/mikel-f"}, "is_accepted": true, "score": 2, "last_activity_date": 1490805872, "creation_date": 1490805872, "answer_id": 43099476, "question_id": 43099199, "link": "https://stackoverflow.com/questions/43099199/valgrind-finds-errors-passing-pointer-to-function-but-no-errors-when-the-code-i/43099476#43099476", "title": "valgrind finds errors passing pointer to function, but no errors when the code is in the same scope", "body": "<p>As a general rule, parameters passed to C functions are passed by value. Unless you explicitly pass by reference, or instead pass a pointer to your object, Changes made in the called function will not persist when the function returns. </p>\n\n<p>In your case, you may be passing a pointer, but you are trying to  then modify the pointer in the function instead of modifying what the pointer references.</p>\n\n<p>Apart from the solution provided in the other answer where you return the new pointer, you have two options:</p>\n\n<p><strong>Pointer to Pointer</strong></p>\n\n<pre><code>void newstr(char **str) {\n   *str = (char *) realloc(*str, 25);\n   strcat(*str, \".com\");\n}\n</code></pre>\n\n<p><strong>Reference</strong></p>\n\n<pre><code>void newstr(char *&amp;str) {\n   str = (char *) realloc(str, 25);\n   strcat(str, \".com\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1490806409, "creation_date": 1490806409, "answer_id": 43099622, "question_id": 43099199, "link": "https://stackoverflow.com/questions/43099199/valgrind-finds-errors-passing-pointer-to-function-but-no-errors-when-the-code-i/43099622#43099622", "title": "valgrind finds errors passing pointer to function, but no errors when the code is in the same scope", "body": "<p>Passing by reference allows you to , among other things, change the referred-to value inside the function. You can do this with a pointer</p>\n\n<p>But in </p>\n\n<pre><code>void newstr(char *str) {\n   str = (char *) realloc(str, 25); &lt;-- changed the pointer\n   strcat(str, \".com\"); \n}\n</code></pre>\n\n<p>the value altered inside the function IS the pointer. So you must pass the pointer by reference (or return the altered pointer as shown by BayK)</p>\n\n<pre><code>void newstr(char *&amp; str) {\n   str = (char *) realloc(str, 25);\n   strcat(str, \".com\");\n}\n</code></pre>\n\n<p>Or you can embrace the power of this fully armed and operational C++ programming language and use a <code>std::string</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nint main()\n{\n    std::string str = \"example\";\n\n    std::cout &lt;&lt; \"String = \" &lt;&lt; str &lt;&lt; \",  Address = \"  &lt;&lt; &amp;str &lt;&lt; \"\\n\";\n    str += \".com\";\n    std::cout &lt;&lt; \"String = \" &lt;&lt; str &lt;&lt; \",  Address = \"  &lt;&lt; &amp;str &lt;&lt; \"\\n\";\n    return(0);\n}\n</code></pre>\n"}], "owner": {"reputation": 1017, "user_id": 2576956, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/98TKO.jpg?s=128&g=1", "display_name": "bvpx", "link": "https://stackoverflow.com/users/2576956/bvpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 43099476, "answer_count": 3, "score": 1, "last_activity_date": 1492399815, "creation_date": 1490805038, "last_edit_date": 1490883515, "question_id": 43099199, "link": "https://stackoverflow.com/questions/43099199/valgrind-finds-errors-passing-pointer-to-function-but-no-errors-when-the-code-i", "title": "valgrind finds errors passing pointer to function, but no errors when the code is in the same scope", "body": "<p>I am wondering why, in this example code, valgrind finds no errors or lost memory:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main()\n{\n   char *str;\n\n   /* Initial memory allocation */\n   str = (char *) malloc(8);\n   strcpy(str, \"example\");\n   printf(\"String = %s,  Address = %u\\n\", str, str);\n\n   /* Reallocating memory */\n   str = (char *) realloc(str, 14);\n   strcat(str, \".com\");\n   printf(\"String = %s,  Address = %u\\n\", str, str);\n\n   free(str);\n\n   return(0);\n}\n</code></pre>\n\n<p>However, when I replace these lines with a function:</p>\n\n<pre><code>int main() {\n   ...\n   /* Reallocating memory */\n   newstr(str);\n   ...\n}\n\nvoid newstr(char *str) {\n   str = (char *) realloc(str, 14);\n   strcat(str, \".com\");\n}\n</code></pre>\n\n<p>I am getting 19 errors on valgrind, complaining mostly about invalid reads. However, the program executes and outputs everything the same, without an error. Is there something going on when I pass <code>str</code> into the function that happens in memory that valgrind is notifying me of? What can I do to fix this? How can I learn more about this behavior and what the implications are?</p>\n\n<p>This is the output of the program in either case:</p>\n\n<pre><code>String = example,  Address = 16445456\nString = example.com,  Address = 16445456\n</code></pre>\n"}, {"tags": ["c++", "c++11", "signal-handling"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1490807149, "post_id": 43098929, "comment_id": 73281258, "body": "Also take care what you try to do in a signal handler. The options are quite limited. Afraid I don&#39;t have a good look at hand covering what you can safely use."}], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 5879503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cef0b6c75c9ba4dc55d27102bfd7f1f7?s=128&d=identicon&r=PG&f=1", "display_name": "SJL", "link": "https://stackoverflow.com/users/5879503/sjl"}, "is_accepted": true, "score": 4, "last_activity_date": 1490805007, "creation_date": 1490805007, "answer_id": 43099185, "question_id": 43098929, "link": "https://stackoverflow.com/questions/43098929/signal-handling-error/43099185#43099185", "title": "Signal handling error", "body": "<p>In C++, a member function (a function associated with a class instance, such as <code>client.my_handler</code> here) is not the same as a regular function (something like <code>int main(int arg, const char** argv)</code> here). That's why you can't cast <code>client.my_handler</code> to <code>__sighandler_t</code>.</p>\n\n<p><code>Client::my_handler</code> has a hidden parameter, a <code>Client*</code>. So really, it's signature (from a certain perspective) looks like <code>void my_handler(Client* this, int s)</code>. C++ does some stuff behind the scenes so that you can can reference the variables of <code>this</code> without having to do <code>this-&gt;</code> (most of the time). And when you do something like call</p>\n\n<pre><code>client.my_handler(SIGINT)\n</code></pre>\n\n<p>C++ is translating that to</p>\n\n<pre><code>my_handler(&amp;client, SIGINT)\n</code></pre>\n\n<p>Maybe now you can see the issue: <code>__sighandler_t</code> is an alias for a function pointer, but <code>client.my_handler</code> is really <em>two</em> pointers: the function pointer for <code>my_handler</code> and the pointer to <code>client</code>.</p>\n\n<p>A signal handler only accepts a function pointer, not a more general function object (which is a function pointer plus some other data). Signal handling is from C, but function objects are from C++.</p>\n\n<p>The only solution for a signal handler is some sort of global variable.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 7020645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86a18d11fe9c18e61a5c211716cfa68?s=128&d=identicon&r=PG&f=1", "display_name": "Bando", "link": "https://stackoverflow.com/users/7020645/bando"}, "edited": false, "score": 0, "creation_date": 1490811308, "post_id": 43099429, "comment_id": 73283891, "body": "Thanks for type but I can&#39;t use it"}], "tags": [], "owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1490805725, "creation_date": 1490805725, "answer_id": 43099429, "question_id": 43098929, "link": "https://stackoverflow.com/questions/43098929/signal-handling-error/43099429#43099429", "title": "Signal handling error", "body": "<p>@SJL has provided a great explanation of why this is not working, and offers a C-style workaround.</p>\n\n<p>If you can use Boost, <code>boost::asio::signal_set</code> can be used to handle signals in a more C++ style. The <a href=\"http://www.boost.org/doc/libs/1_63_0/doc/html/boost_asio/reference.html#boost_asio.reference.basic_signal_set.async_wait\" rel=\"nofollow noreferrer\"><code>async_wait</code> function</a> can receive a lambda, bound member function pointer, or any other callable type with the appropriate signature.</p>\n"}], "owner": {"reputation": 75, "user_id": 7020645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86a18d11fe9c18e61a5c211716cfa68?s=128&d=identicon&r=PG&f=1", "display_name": "Bando", "link": "https://stackoverflow.com/users/7020645/bando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 43099185, "answer_count": 2, "score": 1, "last_activity_date": 1490811458, "creation_date": 1490804212, "last_edit_date": 1490811458, "question_id": 43098929, "link": "https://stackoverflow.com/questions/43098929/signal-handling-error", "title": "Signal handling error", "body": "<p>When I use my_handler as function there is not error but I can't because I have to use another method there.</p>\n\n<p>If I build code below :\n <strong>error: invalid use of member functi\non (did you forget the \u2018()\u2019 ?)</strong></p>\n\n<p>This is my first program in C++</p>\n\n<pre><code>void Client::my_handler(int s){\n    if (s == SIGINT){\n        printf(\"SIGINT\\n\");\n    // here I have to use stop_thread method \n    }\n}\n\n\nint main (int argc, const char **argv) {\n  Client client(argc, argv);\n  client.before_start();\n\n  struct sigaction sigIntHandler;\n\n  sigIntHandler.sa_handler = (__sighandler_t) client.my_handler; //error here\n  sigemptyset(&amp;sigIntHandler.sa_mask);\n  sigIntHandler.sa_flags = 0;\n  sigaction(SIGINT, &amp;sigIntHandler, NULL);\n\n  client.run();\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "sdl", "sdl-2", "sdl-ttf"], "comments": [{"owner": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1490804156, "post_id": 43098868, "comment_id": 73279281, "body": "I suppose that TTF text renderer uses an OpenGL extension that is not present on older version. Can&#39;t you update the video card drivers? Also check if this statement is needed: if (msg-&gt;format-&gt;Rmask == 0x000000ff). Maybe you  need GL_RGBA after all?"}, {"owner": {"reputation": 1, "user_id": 7786923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffd10f0d3bd0722fb07b4357a62b50?s=128&d=identicon&r=PG&f=1", "display_name": "Nodomi", "link": "https://stackoverflow.com/users/7786923/nodomi"}, "reply_to_user": {"reputation": 1778, "user_id": 2440728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1fWyQ.jpg?s=128&g=1", "display_name": "VuVirt", "link": "https://stackoverflow.com/users/2440728/vuvirt"}, "edited": false, "score": 0, "creation_date": 1490804278, "post_id": 43098868, "comment_id": 73279364, "body": "@VuVirt When I save texture with SDL_SaveBMP text is rendered correctly"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 3, "creation_date": 1490804302, "post_id": 43098868, "comment_id": 73279382, "body": "Did you verify that the laptop&#39;s OpenGL implementation actually supports <a href=\"https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_bgra.txt\" rel=\"nofollow noreferrer\"><code>EXT_bgra</code></a>?"}, {"owner": {"reputation": 1, "user_id": 7786923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffd10f0d3bd0722fb07b4357a62b50?s=128&d=identicon&r=PG&f=1", "display_name": "Nodomi", "link": "https://stackoverflow.com/users/7786923/nodomi"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1490804370, "post_id": 43098868, "comment_id": 73279427, "body": "@genpfault Yes ,I checked it with GPU Caps Viewer(GL_EXT_bgra (OpenGL 1.2))"}, {"owner": {"reputation": 1, "user_id": 7786923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffd10f0d3bd0722fb07b4357a62b50?s=128&d=identicon&r=PG&f=1", "display_name": "Nodomi", "link": "https://stackoverflow.com/users/7786923/nodomi"}, "edited": false, "score": 0, "creation_date": 1490850056, "post_id": 43098868, "comment_id": 73298160, "body": "Sorry I miss wrote it. I meant when I opened saved file the alpha was correct."}], "owner": {"reputation": 1, "user_id": 7786923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffd10f0d3bd0722fb07b4357a62b50?s=128&d=identicon&r=PG&f=1", "display_name": "Nodomi", "link": "https://stackoverflow.com/users/7786923/nodomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490804794, "creation_date": 1490804026, "last_edit_date": 1490804794, "question_id": 43098868, "link": "https://stackoverflow.com/questions/43098868/opengl-1-1-sdl2-sdl-ttf-text-render-transparency", "title": "OpenGL 1.1 + SDL2 + SDL_TTF Text Render Transparency", "body": "<p>I'm trying to write simple gui in c++ with opengl+sdl2, but now I have problem with text rendering.</p>\n\n<p>This is what I get on my old laptop with opengl 1.1(notice white rectangle):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z9xtW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9xtW.png\" alt=\"screenshot_opengl1.1\"></a>\n<br></p>\n\n<p>and this on my pc:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kTJf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kTJf3.png\" alt=\"screenshot_working\"></a>\n<br></p>\n\n<p>This is my function for text rendering:</p>\n\n<pre><code>void drawText(std::string text,TTF_Font * font,GLubyte R,GLubyte G,GLubyte B,GLubyte A,float X,float Y,float Z=0){\n  SDL_Color color={R,G,B,A};\n  SDL_Surface *msg = TTF_RenderUTF8_Blended(font,text.c_str(),color);\n  GLuint texture=0;\n  glGenTextures(1,&amp;texture);\n  glBindTexture(GL_TEXTURE_2D,texture);\n  GLuint texture_format;\n  int wW,wH;\n  SDL_GetWindowSize(window,&amp;wW,&amp;wH);\n  int colors = msg-&gt;format-&gt;BytesPerPixel;\n    if (colors == 4) {   // alpha\n      if (msg-&gt;format-&gt;Rmask == 0x000000ff)\n        texture_format = GL_RGBA;\n      else\n        texture_format = GL_BGRA_EXT;\n    } else {             // no alpha\n      if (msg-&gt;format-&gt;Rmask == 0x000000ff)\n        texture_format = GL_RGB;\n      else\n        texture_format = GL_BGR_EXT;\n    }\n  float MsgWP=msg-&gt;w*1.0/wW;\n  float MsgHP=msg-&gt;h*1.0/wH;\n  int dX=-1;\n  int dY=1;\n  X*=2;\n  Y*=2;\n  glTexImage2D(GL_TEXTURE_2D, 0, colors,msg-&gt;w,msg-&gt;h,0,texture_format,GL_UNSIGNED_BYTE,msg-&gt;pixels);\n  glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n  glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n  glEnable(GL_TEXTURE_2D);\n  glEnable(GL_BLEND);\n  glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);\n  glBegin(GL_QUADS);\n    glColor3f(1,1,1);\n    glTexCoord2f(0,0); glVertex2f(dX+X+0     ,  dY-Y+0);\n    glTexCoord2f(1,0); glVertex2f(dX+X+MsgWP ,  dY-Y+0);\n    glTexCoord2f(1,1); glVertex2f(dX+X+MsgWP ,  dY-Y-MsgHP);\n    glTexCoord2f(0,1); glVertex2f(dX+X+0     ,  dY-Y-MsgHP);\n  glEnd();\n  glDisable(GL_TEXTURE_2D);\n  glDeleteTextures(1,&amp;texture);\n  SDL_FreeSurface(msg);\n}\n</code></pre>\n\n<p>Now I have a question: Why on lower version of opengl text is not rendering correctly?</p>\n"}, {"tags": ["c++", "dll"], "comments": [{"owner": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1490804193, "post_id": 43098761, "comment_id": 73279306, "body": "not able to reproduce the problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1490806247, "post_id": 43098761, "comment_id": 73280648, "body": "How did you build the executable?"}, {"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490806833, "post_id": 43098761, "comment_id": 73281035, "body": "It looks like you built this as a dll. Try building it as an executable."}, {"owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "reply_to_user": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490809080, "post_id": 43098761, "comment_id": 73282531, "body": "@Aumnayan how do I explicitly build it as a .exe? I thought that when I compiled it as &quot;g++ (name.cpp)&quot; it automatically formed an executable file"}, {"owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "edited": false, "score": 0, "creation_date": 1490819336, "post_id": 43098761, "comment_id": 73288650, "body": "@NeilButterworth \t I built it using Mingw compiler, that means g++ helloworld.cpp so it defaults into building an &quot;a.exe&quot;"}, {"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490900517, "post_id": 43098761, "comment_id": 73331490, "body": "@Lithorz My Apologies. I read the output and simply stated where I would start looking for the problem. Looking at this further, you have a problem with a dll that the application uses. Responses to similar problems seam to indicate that this usually steams from an incorrect .dll version. Do you get the same problem with a simple hello world program? If not, you can start ironing out which dll has a problem by evaluating the differences between the two application... And no, I&#39;m not sure how to accomplish that off the top of my head."}, {"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1490901135, "post_id": 43098761, "comment_id": 73331795, "body": "@Lithorz As FYI: I also can&#39;t reproduce the problem. I am leaning towards the problem existing in your build tools."}], "owner": {"reputation": 23, "user_id": 7228822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e4615e74049d996ef79f3cec55f641?s=128&d=identicon&r=PG&f=1", "display_name": "Lithorz", "link": "https://stackoverflow.com/users/7228822/lithorz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1059, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490805476, "creation_date": 1490803656, "last_edit_date": 1490805476, "question_id": 43098761, "link": "https://stackoverflow.com/questions/43098761/could-not-be-located-in-the-dynamic-link-library", "title": "Could not be located in the dynamic link library", "body": "<p>i'm having trouble reading from a text file in C++, so basically I want to read the text file on \"cmd\" using this code, however, an error pops up.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\nusing namespace::std;\nint main()\n{\n    string line_;\n    ifstream file(\"Seminario.txt\");\n    if(file.is_open()){\n        while(getline(file, line_)){\n            cout &lt;&lt; line_ &lt;&lt; endl;\n        }\n\n        file.close();\n    }\n    else{\n        cout &lt;&lt; \"File is not open\" &lt;&lt; endl;\n        cin.get();\n        return 0;\n    }\n}\n</code></pre>\n\n<p>When I compile it, I get no errors, however, when I run a.exe, a window pops up saying: </p>\n\n<blockquote>\n  <p>The procedure entry point\n  _ZNSt7__cxx1112basic_stringlcSt11char_traitslcESalcEEC1Ev could not be located in the dynamic link library C:\\Users\\pc\\Desktop\\Progra\\a.exe.</p>\n</blockquote>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["c#", "c++", ".net", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 363, "user_id": 7576532, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QSGdx.jpg?s=128&g=1", "display_name": "schulmaster", "link": "https://stackoverflow.com/users/7576532/schulmaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1490837803, "last_edit_date": 1490837803, "creation_date": 1490837284, "answer_id": 43106937, "question_id": 43098736, "link": "https://stackoverflow.com/questions/43098736/visual-c-function-definition-for-mouse-event-not-found/43106937#43106937", "title": "Visual C++: function definition for &#39;mouse_event&#39; not found", "body": "<p>I assume you are trying to emulate interop syntax you found as it pertains to C#? Such action in C++ is a little more involved:\n<a href=\"https://msdn.microsoft.com/en-us/library/3y1sfaz2.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/3y1sfaz2.aspx</a></p>\n\n<p>EDITED FOR EXPOSITION:\nIf this isn't the case, please specify your source inspiration for such an approach, or the rest of your class, because as it stands, I don't see this working in C++, visual or not. That isn't even an extant C++ namespace you're targeting there, but it is a .NET one, substantiating my assumption...</p>\n"}], "owner": {"reputation": 23, "user_id": 7722666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4e248e9340d61cf23e504f36d4c5ff9?s=128&d=identicon&r=PG&f=1", "display_name": "TheThing", "link": "https://stackoverflow.com/users/7722666/thething"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490837803, "creation_date": 1490803601, "last_edit_date": 1490809120, "question_id": 43098736, "link": "https://stackoverflow.com/questions/43098736/visual-c-function-definition-for-mouse-event-not-found", "title": "Visual C++: function definition for &#39;mouse_event&#39; not found", "body": "<p>Trying to use some Windows API in my Visual C++ project, encountering compilation issues.</p>\n\n<p>Within my class I have the following code:</p>\n\n<pre><code>public:    \n[System::Runtime::InteropServices::DllImport(\"user32.dll\")]\nstatic extern void mouse_event(int dwFlags, int dx, int dy, int cButtons, int dwextrainfo);\n</code></pre>\n\n<p>This is all I have in my class as I'm currently trying to get mouse_event() to work.</p>\n\n<p>\"extern\" is throwing:</p>\n\n<blockquote>\n  <p>more than one storage class specified</p>\n</blockquote>\n\n<p>\"mouse_event\" is throwing the linking error:</p>\n\n<blockquote>\n  <p>Function definition for \"mouse_event\" not found</p>\n</blockquote>\n\n<p>I've declared mouse event as extern, included Windows.h and imported user32.dll, is this not all that's required to link to the definition of mouse_event() within user32.dll?</p>\n\n<p>When changing <strong>static extern</strong> to just <strong>extern</strong>, it throws:</p>\n\n<blockquote>\n  <p>Invalid storage class for a class member</p>\n</blockquote>\n\n<p>Shouldn't extern be ok in a class definition when used on a member's declaration?</p>\n\n<p>I've seen very similar code implementation of this function on stackoverflow  before.</p>\n\n<p>If it helps, my class is defined as \"ref class\"</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 3587570, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001071662888/picture?type=large", "display_name": "Valy", "link": "https://stackoverflow.com/users/3587570/valy"}, "is_accepted": false, "score": 0, "last_activity_date": 1494866715, "creation_date": 1494866715, "answer_id": 43984820, "question_id": 43098669, "link": "https://stackoverflow.com/questions/43098669/freeman-chain-code-in-opencv-3/43984820#43984820", "title": "Freeman chain code in OpenCV 3", "body": "<p>This question has been answered <a href=\"http://answers.opencv.org/question/136689/freeman-chain-code-in-opencv-3/\" rel=\"nofollow noreferrer\">here</a>. Maybe it helps someone else like me when searching for this.</p>\n\n<p>Tested the code listed there and it works.</p>\n"}], "owner": {"reputation": 21, "user_id": 7739534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6e4352c32cdf347f085e08a7d5b3c9?s=128&d=identicon&r=PG&f=1", "display_name": "szecsit", "link": "https://stackoverflow.com/users/7739534/szecsit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 769, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494866715, "creation_date": 1490803423, "question_id": 43098669, "link": "https://stackoverflow.com/questions/43098669/freeman-chain-code-in-opencv-3", "title": "Freeman chain code in OpenCV 3", "body": "<p>In OpenCV 1 there used to be an option of cvFindContours (using CV_CHAIN_CODE) to obtain a contour from an image in Freeman chain code. However, I cannot find it in OpenCV 3. Has it been removed as option?\nI know I could develop my own function to generate Freeman chain code from a contour given as a sequence of points, but I thought there was a ready-made function already available.</p>\n"}, {"tags": ["c++", "matlab", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1490803521, "post_id": 43098658, "comment_id": 73278805, "body": "Please provide how you&#39;re using <code>ordfilt2</code> in MATLAB.  You haven&#39;t specified what order you are using as well as the size of the window but you are correct.  It&#39;s an order statistics filter.  It sorts all of the values and with a specified rank, it outputs the value at that rank.  Starting from 1 which is the lowest value to <code>M</code> which is the largest value where <code>M</code> is the size of the neighbourhood.  Depending on what rank you&#39;re using, that will tell us how you can replace that call."}, {"owner": {"reputation": 49, "user_id": 5829826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40f9bc15c3077b9a7bf70a73ceedeb36?s=128&d=identicon&r=PG&f=1", "display_name": "adamkwn", "link": "https://stackoverflow.com/users/5829826/adamkwn"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1490841626, "post_id": 43098658, "comment_id": 73295978, "body": "Hello and thank you for your reply,  I would like to use that function in order to filter my noised image with that specific way. In Matlab, we used ordfilt2, but with OpenCV and C++, it seems I can&#39;t figure out how to do the exact same thing. Do you have any ideas?"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1490846693, "post_id": 43098658, "comment_id": 73297227, "body": "You still haven&#39;t answered my question. What is the exact way you are calling <code>ordfilt2</code>? There is no equivalent function in OpenCV but if you tell me what rank you&#39;re using with <code>ordfilt2</code> I can tell you which morphology operator you can use.... So please just answer my question."}, {"owner": {"reputation": 2837, "user_id": 6730448, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/68eebbe4b190040ef1201b845374a7c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/6730448/rick-m"}, "edited": false, "score": 0, "creation_date": 1490861074, "post_id": 43098658, "comment_id": 73303883, "body": "If the OP reads how <code>ordfilt2</code> works from <a href=\"https://ch.mathworks.com/help/images/ref/ordfilt2.html\" rel=\"nofollow noreferrer\">here</a>, he can figure out which filter to use in OpenCV."}, {"owner": {"reputation": 49, "user_id": 5829826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40f9bc15c3077b9a7bf70a73ceedeb36?s=128&d=identicon&r=PG&f=1", "display_name": "adamkwn", "link": "https://stackoverflow.com/users/5829826/adamkwn"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1490879577, "post_id": 43098658, "comment_id": 73317031, "body": "@rayryeng I edited my post and included Matlab code that I have and I need to do the exact same thing but with C++ and OpenCV."}], "answers": [{"tags": [], "owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "is_accepted": true, "score": 0, "last_activity_date": 1490880238, "creation_date": 1490880238, "answer_id": 43119216, "question_id": 43098658, "link": "https://stackoverflow.com/questions/43098658/how-to-use-matlab-function-ordfilt2-to-c-with-opencv/43119216#43119216", "title": "How to use Matlab function ordfilt2 to C++ with OpenCV", "body": "<p>The code you are concerned about is here:</p>\n\n<pre><code>z1=ordfilt2(y,3*3,ones(3,3));\nz2=ordfilt2(y,1,ones(3,3));\n</code></pre>\n\n<p>You are correct in that it is an order-statistics filter.  It specifically takes sliding neighbourhoods and outputs the desired <strong>rank</strong> of the window.  You have set this to be a 3 x 3 neighbourhood and the first line outputs rank 9, or the highest rank or highest value.  This is the local <strong>maximum</strong> and you can accomplish this with a dilation operator using morphological operations.  Similarly, the next line outputs the lowest rank, rank 1 or the lowest value.  This is the local <strong>minimum</strong> and you can accomplish this with an erosion operation using morphological operations.</p>\n\n<p>You first need to use <a href=\"http://docs.opencv.org/3.0-beta/modules/imgproc/doc/filtering.html#getstructuringelement\" rel=\"nofollow noreferrer\"><code>cv::getStructuringElement</code></a> to create the window that you want to operate one.  You basically want a 3 x 3 square, so you would use the <code>MORPH_RECT</code> property.  You would then use <a href=\"http://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=dilate#dilate\" rel=\"nofollow noreferrer\"><code>cv::dilate</code></a>, then <a href=\"http://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=erode#erode\" rel=\"nofollow noreferrer\"><code>cv::erode</code></a> respectively.</p>\n\n<p>Therefore, replace your current <code>dilate</code> line code with this:</p>\n\n<pre><code>//...\nimshow(\"Output image with noise\", result);\n\nMat se = getStructuringElement(MORPH_RECT, Size(3, 3));\ndilate(result, final2, se);\nerode(final2, final2, se);\n\n//...\n</code></pre>\n\n<p><code>cv::dilate</code> and <code>cv::erode</code> require <strong>structuring element</strong> to operate on for the third parameter.  Admittedly, you can specify <code>Mat()</code> as the third element which will operate on using a 3 x 3 neighbourhood by default.</p>\n\n<p>You'll also want to change your <code>imshow</code> command to display the final image, not the intermediate one:</p>\n\n<pre><code>namedWindow(\"Image blur\", 1);\nimshow(\"Image blur\", final2); // Change here\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5829826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/40f9bc15c3077b9a7bf70a73ceedeb36?s=128&d=identicon&r=PG&f=1", "display_name": "adamkwn", "link": "https://stackoverflow.com/users/5829826/adamkwn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 43119216, "answer_count": 1, "score": 1, "last_activity_date": 1490880238, "creation_date": 1490803393, "last_edit_date": 1490879522, "question_id": 43098658, "link": "https://stackoverflow.com/questions/43098658/how-to-use-matlab-function-ordfilt2-to-c-with-opencv", "title": "How to use Matlab function ordfilt2 to C++ with OpenCV", "body": "<p>I need to use the fuction of Matlab ordfilt2 in order to filter a noised image.</p>\n\n<p>example of my code:</p>\n\n<pre><code>#include \"opencv2/objdetect/objdetect.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/core/core.hpp\"\n#include &lt;opencv/cv.h&gt;\n#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\n\nusing namespace std;\nusing namespace cv;\n\nint main(int, char**)\n{\nMat image = imread(\"C:\\lena.bmp\", 0);\nMat result = image.clone();\nMat final2 = image.clone();\n\nif (image.empty())//check if empty\n{\n    printf(\"Image is not read! File is probably missing! Press any key to exim program\");//message for error\n    Sleep(10000); //10 second delay for showing message to user\n}\nelse\n{\n    double value = 0.3;\n\n    //printf(\"Give double for noise [0.00-1.00] :\\n\");\n    //cin &gt;&gt; value;\n\n    if (value &gt;= 0.00 &amp;&amp; value &lt;= 1.00)\n    {\n        // imGray is the grayscale of the input image\n        Mat noise = Mat(image.size(), CV_64F);\n        normalize(image, result, 0.0, 1.0, CV_MINMAX, CV_64F);\n        randn(noise, 0, value);\n\n        result = result + noise;\n        normalize(result, result, 0.0, 1.0, CV_MINMAX, CV_64F);\n        imshow(\"Output image with noise\", result);\n        // I found this function (from OpenCV documentation) but I get syntax error\n        dilate(result, final2, NULL, 1);\n\n        namedWindow(\"Image blur\", 1);\n        imshow(\"Image blur\", result);\n\n        namedWindow(\"Original Image\", 1);\n        imshow(\"Original Image\", image);\n\n        waitKey();\n    }\n    else\n    {\n        printf(\"Wrong input! Try again!\\n\");\n    }\n}\nreturn 0;\n}\n</code></pre>\n\n<p><strong>EDIT</strong> Matlab code:</p>\n\n<pre><code>x=imread('cameraman.tif');\nx=Im2double(x);\nsigma=20;\ny=x+sigma*rabdn(size(x))/255;\nz1=ordfilt2(y,3*3,ones(3,3));\nz2=ordfilt2(y,1,ones(3,3));\nz=1/2*(z1*z2);\nImshow(y,());\nfigure; Imshow (z1,());\nfigure; Imshow (z2,());\nfigure; Imshow (z,());\n</code></pre>\n\n<p>I have tried using dilate function, but with no luck. </p>\n\n<p>I think ordfilt2 means order statistic filter. But when I look for it on the web, it seems I can't find anything usefull. All my attempts has fail so far, so, can you please help me?</p>\n\n<p>Thank you very much in advance for your help.</p>\n"}, {"tags": ["c++", "inheritance", "static", "field"], "answers": [{"tags": [], "owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "is_accepted": false, "score": 0, "last_activity_date": 1490803552, "creation_date": 1490803552, "answer_id": 43098724, "question_id": 43098623, "link": "https://stackoverflow.com/questions/43098623/c-static-member-modifiers-for-subclasses/43098724#43098724", "title": "C++ static member modifiers for subclasses", "body": "<p>What you are requesting requires virtual dispatch <em>somewhere</em>, because you don't know the type of the object you are dealing with until runtime.  The purpose of virtual dispatch is to solve exactly the problem you are facing.</p>\n\n<p>The simplest solution is what you have given as number 2: make <code>GetAttrib()</code> virtual, and implement it on each derived class where you introduce a shadowing <code>constattribute_</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 433, "user_id": 7600014, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N55UWgYjB30/AAAAAAAAAAI/AAAAAAAAAAo/ayA8Ep8Oans/photo.jpg?sz=128", "display_name": "mzoll", "link": "https://stackoverflow.com/users/7600014/mzoll"}, "edited": false, "score": 0, "creation_date": 1490862670, "post_id": 43100478, "comment_id": 73304830, "body": "Your answer is valid to the point that I will get the desired output, and outlines what I proposed as solution path (2). However the price is a lot of reimplementation <code>GetAttrib()</code> in each one of the subclasses. Following your solution, in principle I could also move the <i>local</i>, <i>shadowing</i> <code>constattribute_</code>variable from each subclass into its function definition as a plain return value. This would as I say hide the true behavior of the class as an implementation detail, instead of having it as a static property of the subclass itself."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1138939"}, "is_accepted": false, "score": 0, "last_activity_date": 1490809151, "creation_date": 1490809151, "answer_id": 43100478, "question_id": 43098623, "link": "https://stackoverflow.com/questions/43098623/c-static-member-modifiers-for-subclasses/43100478#43100478", "title": "C++ static member modifiers for subclasses", "body": "<p>static variable in base class is single instance hence it will be reflected same in derived class. </p>\n\n<p>You can make same static member variable in derived class with specific different value you want. Now make getter member function of static variable in Base class as virtual and overload it in derived class which returns is static instance value. </p>\n\n<p>I have update your code to work it, please check ..</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Base {\npublic:\n  static const int constattribute_;\n  virtual void do_something() const =0;\n  virtual int GetAttrib () const {return constattribute_;};\n};\n\ntypedef Base* Derived_Ptr; //&lt;&lt; adress derived classes by their base-class ptr; so no templates for Base\n\nclass DerivedA : public Base {\n  static const int constattribute_; //&lt;&lt; change this static attribute for all DerivedA class instances and their derivatives\n\n  void do_something() const {};\n  int GetAttrib () const {return constattribute_;};\n};\n\nclass DerivedB : public Base {\n  static const int constattribute_; //&lt;&lt; change this static attribute for all DerivedB class instances and their derivatives\n\n  void do_something() const {};\n  int GetAttrib () const {return constattribute_;};\n};\n\nconst int Base::constattribute_(0);\nconst int DerivedA::constattribute_(1); //&lt;&lt;error: no such variable 'constattribute' in class DerivedA\nconst int DerivedB::constattribute_(2); //&lt;&lt;error: no such variable 'constattribute' in class DerivedB\n\n\nint main(void) {\n  Derived_Ptr derivedA = new DerivedA();\n  Derived_Ptr derivedB = new DerivedB();\n\n  cout &lt;&lt; derivedA-&gt;GetAttrib() &lt;&lt; derivedB-&gt;GetAttrib() &lt;&lt;endl;\n\n  return 0;\n};\n</code></pre>\n\n<p>You should get desired output. </p>\n\n<p>Note : Remember all member variables and func in derived class are private. </p>\n"}, {"comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1490829859, "post_id": 43101538, "comment_id": 73292988, "body": "Interesting approach. Note that, rather than specializing <code>BaseConstAttr</code> for each type and using the CRTP, you could instead pass the value of the attribute in a template argument (<code>template &lt;int A&gt; class BaseConstAttr ...</code>) and then you have a single <code>template&lt;int A&gt; const int BaseConstAttr&lt;A&gt;::constattribute_{A};</code>. Then <code>DerivedA</code> can inherit <code>BaseConstAttr&lt;1&gt;</code> and <code>DerivedB</code> can inherit <code>BaseConstAttr&lt;2&gt;</code> and that&#39;s all you have to do to make it work!"}, {"owner": {"reputation": 433, "user_id": 7600014, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N55UWgYjB30/AAAAAAAAAAI/AAAAAAAAAAo/ayA8Ep8Oans/photo.jpg?sz=128", "display_name": "mzoll", "link": "https://stackoverflow.com/users/7600014/mzoll"}, "edited": false, "score": 0, "creation_date": 1490863916, "post_id": 43101538, "comment_id": 73305671, "body": "That&#39;s exactly what I wanted, thanks! Side note: even though I understand how the compiler needs to resolve the paths to the static variables, this makes it necessary to implement the CRTP pattern after defining the Base-class interface. So my tree of derivatives gets one level deeper for every each subclass, where <code>class BaseConstAttrib</code> just extends the interface of <code>class Base</code> a little bit by something which I thought could be achieved right at the point where <code>Base</code> is declared and defined (I do not intend to diverge from the so outlined interface in any of the subclasses)."}, {"owner": {"reputation": 433, "user_id": 7600014, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N55UWgYjB30/AAAAAAAAAAI/AAAAAAAAAAo/ayA8Ep8Oans/photo.jpg?sz=128", "display_name": "mzoll", "link": "https://stackoverflow.com/users/7600014/mzoll"}, "edited": false, "score": 0, "creation_date": 1490876581, "post_id": 43101538, "comment_id": 73314603, "body": "Working a little bit further through this: as now DerivedA and DerivedB directly inherit from <code>BaseConstAttrib</code>&gt;&gt;<code>Base</code> you will have to re-broadcast all custom constructors of  <code>Base</code> (they will effectively be inlined I guess). This is the trade-off against the virtual inheritance from a separate <code>BaseConstAttrib</code> virtually inheriting from <code>Base</code> and deriving from it on every implementing subclass (one needs to remember to include this separate interface component)."}, {"owner": {"reputation": 3933, "user_id": 25406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73cff92b3bc15706f0f7bf0fdbfa6e4c?s=128&d=identicon&r=PG", "display_name": "Tomek", "link": "https://stackoverflow.com/users/25406/tomek"}, "edited": false, "score": 0, "creation_date": 1490899075, "post_id": 43101538, "comment_id": 73330685, "body": "Doing template on int A as cdhowie suggested can have additional advantage that the static const constattrib_ can be dropped altogether if its only purpose is to be used in GetAttr method, which can then refer directly to template parameter. Constructors can be imported at any point in inheritance tree by using and additional template parameter which will specify the base class. This has a drawback that all of them will either be public, private or protected."}], "tags": [], "owner": {"reputation": 3933, "user_id": 25406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73cff92b3bc15706f0f7bf0fdbfa6e4c?s=128&d=identicon&r=PG", "display_name": "Tomek", "link": "https://stackoverflow.com/users/25406/tomek"}, "is_accepted": true, "score": 0, "last_activity_date": 1490828660, "last_edit_date": 1490828660, "creation_date": 1490812636, "answer_id": 43101538, "question_id": 43098623, "link": "https://stackoverflow.com/questions/43098623/c-static-member-modifiers-for-subclasses/43101538#43101538", "title": "C++ static member modifiers for subclasses", "body": "<p>Using CRTP may get you what you want, assuming you don't have to access GetAttr() through Base* and can leave without constattribute_ in Base itself. Just follow the rule that every programming problem can be solved by entering another level of indirection, which I did below:</p>\n\n<pre><code>class Base {\n  public:\n    virtual void do_something() const = 0;\n\n    virtual ~Base()     // should define it as you are using Base*\n    {\n    }\n};\n\ntypedef Base* Derived_Ptr;\n\ntemplate&lt;class T&gt;\nclass BaseConstAttr : public Base\n{\n  public:\n    int GetAttrib () const\n    {\n      return(constattribute_);\n    };\n\n    static const int constattribute_;\n};\n\nclass DerivedA : public BaseConstAttr&lt;DerivedA&gt;\n{\n  public:\n    void do_something() const\n    {\n    };\n};\n\nclass DerivedB : public BaseConstAttr&lt;DerivedB&gt;\n{\n  public:\n    void do_something() const\n    {\n    };\n};\n\ntemplate&lt;&gt; const int BaseConstAttr&lt;DerivedA&gt;::constattribute_(1);\ntemplate&lt;&gt; const int BaseConstAttr&lt;DerivedB&gt;::constattribute_(2);\n</code></pre>\n\n<p>If you need GettAttr from top to bottom of the inheritance tree you can modify the above code a bit, but this will cost you making GetAttr virtual (but still one implementation only):</p>\n\n<pre><code>class Base {\n  public:\n    virtual void do_something() const = 0;\n    virtual int GetAttrib () const = 0;\n\n    virtual ~Base()     // should define it as you are using Base*\n    {\n    }\n};\n\ntypedef Base* Derived_Ptr;\n\ntemplate&lt;class T&gt;\nclass BaseConstAttr : public Base\n{\n  public:\n    int GetAttrib () const\n    {\n      return(constattribute_);\n    };\n\n    static const int constattribute_;\n};\n\nclass DerivedA : public BaseConstAttr&lt;DerivedA&gt;\n{\n  public:\n    void do_something() const\n    {\n    };\n};\n\nclass DerivedB : public BaseConstAttr&lt;DerivedB&gt;\n{\n  public:\n    void do_something() const\n    {\n    };\n};\n\ntemplate&lt;&gt; const int BaseConstAttr&lt;DerivedA&gt;::constattribute_(1);\ntemplate&lt;&gt; const int BaseConstAttr&lt;DerivedB&gt;::constattribute_(2);\n</code></pre>\n\n<p>Please note that I don't know how well (or bad) it will behave with deep inheritance tree (ie. when inheriting from DerivedA and/or DerivedB). In this case I would probably remove BaseConstAttr from inheritance tree right below Base and would try to inject it between most derived class and its predecessor or use multiple inheritance.</p>\n"}], "owner": {"reputation": 433, "user_id": 7600014, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N55UWgYjB30/AAAAAAAAAAI/AAAAAAAAAAo/ayA8Ep8Oans/photo.jpg?sz=128", "display_name": "mzoll", "link": "https://stackoverflow.com/users/7600014/mzoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 43101538, "answer_count": 3, "score": 1, "last_activity_date": 1490828660, "creation_date": 1490803264, "question_id": 43098623, "link": "https://stackoverflow.com/questions/43098623/c-static-member-modifiers-for-subclasses", "title": "C++ static member modifiers for subclasses", "body": "<p>Consider the following code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n\n/// Header-file\nclass Base {\npublic:\n  virtual void do_something() const =0;\n\n  int GetAttrib () const {return constattribute_;};\n\n  static const int constattribute_;\n};\n\ntypedef Base* Derived_Ptr; //&lt;&lt; adress derived classes by their base-class ptr; so no templates for Base\n\nclass DerivedA : public Base {\n//   static const int constattribute_; //&lt;&lt; change this static attribute for all DerivedA class instances and their derivatives\n\n  void do_something() const {};\n};\n\nclass DerivedB : public Base {\n//   static const int constattribute_; //&lt;&lt; change this static attribute for all DerivedB class instances and their derivatives\n\n  void do_something() const {};\n};\n\n/// CC-file\nusing namespace std;\n\nconst int Base::constattribute_(0);\nconst int DerivedA::constattribute_(1); //&lt;&lt;error: no such variable 'constattribute' in class DerivedA\nconst int DerivedB::constattribute_(2); //&lt;&lt;error: no such variable 'constattribute' in class DerivedB\n\n\nint main(void) {\n  Derived_Ptr derivedA = new DerivedA();\n  Derived_Ptr derivedB = new DerivedB();\n\n  cout &lt;&lt; derivedA-&gt;GetAttrib() &lt;&lt; derivedB-&gt;GetAttrib() &lt;&lt;endl;\n  return 0;\n};\n</code></pre>\n\n<p>The intend being that i have some abstract interface (Base) which defines also a variable, which should be present for all derived classes, and is retrievable. All flavours of subclasses should be forced to/able to redefine their specific value for this variable, at best during class declaration (the values are known at the time the class is declared after all).</p>\n\n<p>I want to achieve code, not altering the main()-program so that the output is '12' and not as of now (uncommenting current lines in the code) '00' (Doing so shadows the fields from base class).</p>\n\n<p>I tried to look into the matter, and there are different paths for solutions, many of which however go contrary to my intuition: \n1. Some follow the CRTP pattern, which is however impossible if I want to address my subclasses by their base-ptr in main.\n2. Other solutions require to virtualize the 'GetAttrib()' function for every derived instance., which is cumbersome, and action of modifying the attribute is masked within a function definition.\n3. A third possibility is to remove the static pattern and have the 'constattribute_' field as a regular member, which however forces me to drag it through all constructors as a parameter. </p>\n\n<p>I am quite sure that there must be some smarter way to do this. Any hints are appreciated.</p>\n"}, {"tags": ["c++", "c++11", "initialization"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1490803513, "post_id": 43098595, "comment_id": 73278803, "body": "On an unrelated (perhaps) I don&#39;t see the need for <code>ShapePointer</code>. Just have a plain array of pointers to <code>Shape</code>, as in <code>Shape* ShapeArray[2] = { new Rectangle(...), new Rectangle(...) }</code>"}, {"owner": {"reputation": 19, "user_id": 7766266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/814a097ab784af1750906165fa134b0d?s=128&d=identicon&r=PG&f=1", "display_name": "Toby", "link": "https://stackoverflow.com/users/7766266/toby"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1490803600, "post_id": 43098595, "comment_id": 73278880, "body": "Thanks, I tried that originally and had this issue."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1490803615, "post_id": 43098595, "comment_id": 73278895, "body": "More related to your question, can&#39;t you run in the debugger and catch the error as you run your program? Then you should be able to locate where in your code it happens. Or at least add lot of debug-logging to help you narrow it down?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1490804602, "post_id": 43098595, "comment_id": 73279591, "body": "<code>double *sides;</code> -- Simply use <code>std::vector&lt;double&gt; sides;</code> as your <code>Shape</code> object is neither safely copyable nor assignable the way it&#39;s written."}], "answers": [{"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": true, "score": 4, "last_activity_date": 1490804943, "last_edit_date": 1490804943, "creation_date": 1490803955, "answer_id": 43098841, "question_id": 43098595, "link": "https://stackoverflow.com/questions/43098595/crt-detected-that-the-application-wrote-to-memory-after-end-of-heap-buffer-new/43098841#43098841", "title": "CRT detected that the application wrote to memory after end of heap buffer (new/delete) classes", "body": "<p>Danger!!!</p>\n\n<pre><code>protected:\n    int n = 2; //n denotes the number of dimensions\npublic:\n    // default constructor\n    Shape2D() :Shape(n){}\n</code></pre>\n\n<p><code>n</code> is undefined when you initialize <code>Shape(n)</code></p>\n\n<p>Same problem with</p>\n\n<pre><code>Shape2D(const double side1, const double side2) :Shape(n)\n</code></pre>\n\n<p>If you can, define <code>n</code> as <code>static const</code> (or <code>static constexpr</code>, because you tagged C++11) </p>\n\n<pre><code> protected:\n    static constexpr int n = 2; //n denotes the number of dimensions\n</code></pre>\n\n<p>Otherwise you should define a static <code>const</code>/<code>constexpr</code> variable (say <code>nDef</code>), with value <code>2</code>, and initialize both <code>n</code> and <code>Shape()</code> with this constant.</p>\n\n<p>Anyway, take in count that, now, <code>Shape</code> (a base class for <code>Shape2D</code>) is initialized <strong>before</strong> <code>n</code>, that is a member of the class.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 1970102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8AmI.jpg?s=128&g=1", "display_name": "Mudi", "link": "https://stackoverflow.com/users/1970102/mudi"}, "is_accepted": false, "score": 1, "last_activity_date": 1490804414, "last_edit_date": 1495541418, "creation_date": 1490804414, "answer_id": 43098995, "question_id": 43098595, "link": "https://stackoverflow.com/questions/43098595/crt-detected-that-the-application-wrote-to-memory-after-end-of-heap-buffer-new/43098995#43098995", "title": "CRT detected that the application wrote to memory after end of heap buffer (new/delete) classes", "body": "<p>the problem is the following two lines of the code:\n<code>int n = 2; //n denotes the number of dimensions</code>\n<code>Shape2D(const double side1, const double side2) :Shape(n){ ... }</code></p>\n\n<p>The problem is the <code>Shape()</code> gets executed before the <code>n</code> is initialized. See <a href=\"https://stackoverflow.com/questions/15366621/are-parent-class-constructors-called-before-initializing-variables\">constructors-called-before-initializing-variables</a> for details.</p>\n\n<p>To solution to this would be to create a the following methods in the <code>Shape</code> class</p>\n\n<pre><code>protected: \nvoid InitializeBuffer(const int n)\n{\nsides = new double[n]\n} \n</code></pre>\n\n<p>and instead of initialize the <code>sides</code> in the parent constructor, call this <code>InitializeBuffer</code> with in the constructor of the <code>Shape2D</code> class</p>\n\n<pre><code>Shape2D(const double side1, const double side2) :Shape()\n{\n    InitializeBuffer (n);\n    sides[0] = side1; sides[1] = side2;\n} \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7766266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/814a097ab784af1750906165fa134b0d?s=128&d=identicon&r=PG&f=1", "display_name": "Toby", "link": "https://stackoverflow.com/users/7766266/toby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 43098841, "answer_count": 2, "score": 1, "last_activity_date": 1490804943, "creation_date": 1490803201, "last_edit_date": 1490804907, "question_id": 43098595, "link": "https://stackoverflow.com/questions/43098595/crt-detected-that-the-application-wrote-to-memory-after-end-of-heap-buffer-new", "title": "CRT detected that the application wrote to memory after end of heap buffer (new/delete) classes", "body": "<p>I am receiving the \"Debug error\" CRT detected that the application wrote to memory after end of heap. But I don't understand why and can't find any similar examples. </p>\n\n<p>The full code is...\nAlthough I think it may just be a problem with main.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;array&gt;\n\nusing namespace std;\n// Declare global consts\nconst double pi = 3.1415926583;\n\n\n// Base class Shape\nclass Shape{\nprotected:\n    double *sides;\npublic:\n    Shape(const int n){ //parameterized for n dimensional shape\n    sides = new double[n];\n}\n// need virtual destructor\nvirtual ~Shape(){\n    delete[] sides;\n}\nvirtual double area() const = 0; // pure virtual function for area\nvirtual double volume() const = 0; // pure virtual function\u00a0for volume\n};\n\n//////////////////////////////////////////////////////////\n//Derived classes for 2D and 3D Shapes\nclass Shape2D : public Shape{ // inherit shape\nprotected:\n    int n = 2; //n denotes the number of dimensions\npublic:\n    // default constructor\n    Shape2D() :Shape(n){}\n    // param constructor\n    Shape2D(const double side1, const double side2) :Shape(n){\n        sides[0] = side1; sides[1] = side2;\n    }\n    virtual ~Shape2D(){} //virtual destructor\n    double volume() const { cout &lt;&lt; \"trying to calculate volume of 2d   shape...\" &lt;&lt; endl; return 0; };\n};\n\n/////////////////////////////////////////////////////////////////////\n//2D shapes\nclass Rectangle : public Shape2D{\npublic:\n    // constructors\n    Rectangle() :Shape2D() {}\n    Rectangle(const double side1, const double side2) :Shape2D(side1, side2){}\n    ~Rectangle(){}\n    double area() const { return (sides[0] * sides[1]); }\n};\n\nint main(){\n    Shape **ShapePointer = new Shape*[2];\n    ShapePointer[0] = new Rectangle(2, 5);\n    ShapePointer[1] = new Rectangle(1, 3);\n    // clean up \n    delete ShapePointer[0];\n    delete ShapePointer[1];\n    delete[] ShapePointer;\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "sparse-matrix", "eigen"], "comments": [{"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "edited": false, "score": 0, "creation_date": 1490818212, "post_id": 43098586, "comment_id": 73288073, "body": "I think that this question is better suited for: scicomp.stackexchange.com"}], "owner": {"reputation": 141, "user_id": 7635052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QwtWa.jpg?s=128&g=1", "display_name": "Random Tourist", "link": "https://stackoverflow.com/users/7635052/random-tourist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501072862, "creation_date": 1490803180, "last_edit_date": 1501072862, "question_id": 43098586, "link": "https://stackoverflow.com/questions/43098586/eigen-create-sparse-matrix-with-the-elements-of-a-vector-on-the-kth-diagonal", "title": "Eigen - Create sparse matrix with the elements of a vector on the kth diagonal", "body": "<p>In Eigen the <code>asDiagonal</code> function creates a diagonal matrix using a vector.\nThis function only places the elements of the vector on the main diagonal.</p>\n\n<p>Is there a fast way to create a sparse matrix with the elements of the vector on the kth diagonal?</p>\n\n<p>For exemple for dense matrices, using positive index for diagonals above the main one and negative index for the ones below, I expected:</p>\n\n<pre><code> Vector3i(2,5,6).asDiagonal(-1);\n</code></pre>\n\n<p>To produce:</p>\n\n<pre><code> 0 0 0 0\n 2 0 0 0\n 0 5 0 0\n 0 0 6 0\n</code></pre>\n\n<p>But <code>asDiagonal</code> takes no argument.<br/>\nI know a way to do what I want, assuming that <code>n</code> is the length of the vector <code>vect</code> and <code>d</code> the diagonal index:</p>\n\n<pre><code>MartixXd m(n+abs(d),n+abs(d));\nfor (unsigned int i = 0; i &lt; n; ++i)\n   m.diagonal(d)[i] = vect(i);\n</code></pre>\n\n<p>But unfortunately it doesn't work for sparse matrices...</p>\n\n<p>So I ended up with this:</p>\n\n<pre><code>SparseMatrix&lt;double&gt; m(n+abs(d),n+abs(d));\nm.reserve(n);\nif (d &lt; 0)\n{\n   for (unsigned int l = 0; l &lt; n; l++)\n      m.coeffRef(l-d,l) = vect.coeffRef(l);\n} else {\n   for (unsigned int l = 0; l &lt; n; l++)\n      m.coeffRef(l,l+d) = vect.coeffRef(l);\n}\n</code></pre>\n\n<p>Is there a faster and/or more elegant way to do it?</p>\n"}, {"tags": ["c++", "arduino", "atmel", "atmelstudio", "attiny"], "comments": [{"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "edited": false, "score": 0, "creation_date": 1490803552, "post_id": 43098564, "comment_id": 73278837, "body": "Sounds like the issue is a compiler options issue. In the include libraries section, did you check to make sure there is a path to the Arduino.h file?"}, {"owner": {"reputation": 378, "user_id": 3170015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a4ada88310f35c6af0f25f00b79c4c?s=128&d=identicon&r=PG&f=1", "display_name": "Flanker", "link": "https://stackoverflow.com/users/3170015/flanker"}, "edited": false, "score": 0, "creation_date": 1490804918, "post_id": 43098564, "comment_id": 73279802, "body": "Here is some tutorial on &quot;importing&quot; Arduino sketch  - <a href=\"http://blog.solutions-cubed.com/debugging-arduino-sketches-with-atmel-studio-7/\" rel=\"nofollow noreferrer\">blog.solutions-cubed.com/&hellip;</a> Note that you shall specify correct MCU model under Device. Probably you have to set F_CPU constant too for C++ compiler"}, {"owner": {"reputation": 62, "user_id": 7763760, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3af6cfd218aacd3be433bb71582e28f?s=128&d=identicon&r=PG", "display_name": "fabocode", "link": "https://stackoverflow.com/users/7763760/fabocode"}, "edited": false, "score": 0, "creation_date": 1490806700, "post_id": 43098564, "comment_id": 73280947, "body": "Yes, I&#39;ve been including libraries with the Solution Explorer, and then a receive another errors saying that is missed another header file <b>Inside</b> the Arduino header file."}, {"owner": {"reputation": 608, "user_id": 3904858, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/34b74f56d8756f1278d689152c004200?s=128&d=identicon&r=PG&f=1", "display_name": "philm", "link": "https://stackoverflow.com/users/3904858/philm"}, "edited": false, "score": 0, "creation_date": 1490816672, "post_id": 43098564, "comment_id": 73287249, "body": "The compiler options is not the solution explorer. These are settings for the project."}], "owner": {"reputation": 62, "user_id": 7763760, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3af6cfd218aacd3be433bb71582e28f?s=128&d=identicon&r=PG", "display_name": "fabocode", "link": "https://stackoverflow.com/users/7763760/fabocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 948, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490803097, "creation_date": 1490803097, "question_id": 43098564, "link": "https://stackoverflow.com/questions/43098564/i-cant-build-an-atmel-studio-7-project-with-arduino-h-header-file", "title": "I can&#39;t build an Atmel Studio 7 project with Arduino.h header file", "body": "<p>I'm writing a code for an ATtiny841 which is using</p>\n\n<pre><code>&lt;Arduino.h&gt;\n</code></pre>\n\n<p>And when I click on Build (F7) I have this in the build window:</p>\n\n<pre><code>Severity Code Description Project File Line\nError  Arduino.h: No such file or directory\n</code></pre>\n\n<p>Then I try to include the Arduino header file I then I receive other issues in the code, saying that I have no such file or directory from other header files that I don't have, so I am asking if there is a way to include all of this libraries that came with the Arduino Header file  and how to do it, because this is driving me crazy, I don't want to include all files manually, this is only driving me to other issues in the code....</p>\n\n<p>I want to use this library to interface with libraries that work with the Arduino header file to use it in the ATtiny841.</p>\n"}, {"tags": ["c++", "c++11", "templates", "object", "variable-declaration"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 2, "creation_date": 1490802621, "post_id": 43098298, "comment_id": 73278139, "body": "Seems like a case for inheritance?"}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1490802759, "post_id": 43098298, "comment_id": 73278234, "body": "In Java every class implicitly inherits from <code>Object</code>. You can simulate the same thing in C++ by writing an abstract class <code>Object</code> yourself."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1490802791, "post_id": 43098298, "comment_id": 73278253, "body": "Take a look at <a href=\"http://en.cppreference.com/w/cpp/utility/any\" rel=\"nofollow noreferrer\">std::any</a>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490802822, "post_id": 43098298, "comment_id": 73278277, "body": "You don&#39;t need an <code>Object</code> class that everything inherits from. You just need your own base class that all <i>your</i> classes inherit from."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1490802993, "post_id": 43098298, "comment_id": 73278424, "body": "You don&#39;t even need to couple your types with a base class. A variant is the perfect solution for this case."}, {"owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1490803592, "post_id": 43098298, "comment_id": 73278872, "body": "@JesperJuhl std::any is C++17. I have some backward compatibility issues."}], "answers": [{"comments": [{"owner": {"reputation": 65414, "user_id": 768469, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/383724e63ab04b146277912c16f27f54?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/768469/nemo"}, "edited": false, "score": 0, "creation_date": 1490803033, "post_id": 43098338, "comment_id": 73278453, "body": "Good answer to the question as phrased... But it is pretty obvious that the OP would be better served by learning about inheritance"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 65414, "user_id": 768469, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/383724e63ab04b146277912c16f27f54?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/768469/nemo"}, "edited": false, "score": 4, "creation_date": 1490803322, "post_id": 43098338, "comment_id": 73278660, "body": "@Nemo Ehm, no, not clear at all. Maybe for some other use case that actually called for inheritance."}, {"owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "edited": false, "score": 1, "creation_date": 1490803469, "post_id": 43098338, "comment_id": 73278775, "body": "This looks like the answer I was looking for. Let me try that out first and accept it as answer."}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "edited": false, "score": 1, "creation_date": 1490803598, "post_id": 43098338, "comment_id": 73278878, "body": "@pseudo: great to hear that. If you&#39;re interested in variants and similar concepts you should check out <a href=\"https://www.youtube.com/watch?v=ojZbFIQSdl8\" rel=\"nofollow noreferrer\">Ben Deane&#39;s &quot;Using types effectively&quot; talk</a>. I&#39;ve also written <a href=\"https://vittorioromeo.info/index/blog/variants_lambdas_part_1.html\" rel=\"nofollow noreferrer\">a few articles about &quot;variant visitation with lambdas&quot;</a>."}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": true, "score": 8, "last_activity_date": 1490802568, "creation_date": 1490802568, "answer_id": 43098338, "question_id": 43098298, "link": "https://stackoverflow.com/questions/43098298/create-a-variable-to-hold-objects-of-different-types-c/43098338#43098338", "title": "Create a variable to hold objects of different types C++", "body": "<p>You're looking for a <code>variant</code> type. There's an upcoming <code>std::variant</code> in C++17, and C++11-compliant versions in <code>boost</code> and around the web. Example with <a href=\"http://www.boost.org/doc/libs/1_63_0/doc/html/variant.html\" rel=\"noreferrer\"><strong><code>boost::variant</code></strong></a>:</p>\n\n<pre><code>struct visitor\n{\n    void operator()(const A&amp;){ cout &lt;&lt; \"HELLO A\" &lt;&lt; endl; }\n    void operator()(const B&amp;){ cout &lt;&lt; \"HELLO B\" &lt;&lt; endl; }\n    void operator()(const C&amp;){ cout &lt;&lt; \"HELLO C\" &lt;&lt; endl; }\n};\n\nint main()\n{\n    visitor v;\n\n    // `obj` is either an `A`, a `B` or a `C` at any given moment.\n    boost::variant&lt;A, B, C&gt; obj{B{}};\n    //                         ^^^^^\n    //                   Initialize with `B`.\n\n    boost::apply_visitor(v, obj); // prints \"HELLO B\"\n\n    obj = A{};\n    boost::apply_visitor(v, obj); // prints \"HELLO A\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 2, "creation_date": 1490803037, "post_id": 43098441, "comment_id": 73278456, "body": "If the OP knows all the types in advance, then <code>virtual</code> is suboptimal compared to variant: it can have negative performance implications and also forces the interface of all the types to be the same. Also, you should mark <code>printHello</code> as <code>override</code>."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 1, "creation_date": 1490803323, "post_id": 43098441, "comment_id": 73278665, "body": "@VittorioRomeo - you&#39;re right; unfortunately <code>std::variant</code> is available only starting from C++17 (but good point the use of <code>boost::variant</code>); anyway... maybe I&#39;m wrong... but seems to me that the OP don&#39;t known C++ as known Java and should understand how to use virtual inheritance"}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 3, "last_activity_date": 1490802812, "creation_date": 1490802812, "answer_id": 43098441, "question_id": 43098298, "link": "https://stackoverflow.com/questions/43098298/create-a-variable-to-hold-objects-of-different-types-c/43098441#43098441", "title": "Create a variable to hold objects of different types C++", "body": "<p>It seems to me that you should use a virtual common base class/struct and a pointer to this base class/struct.</p>\n\n<p>The following is a full working example</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nstruct Base\n { virtual void printHello () = 0; };\n\nclass A : public Base { \n  public: \n    void printHello() { std::cout &lt;&lt; \"HELLO A\" &lt;&lt; std::endl; }\n}; \n\nclass B  : public Base{ \n  public: \n    void printHello() { std::cout &lt;&lt; \"HELLO B\" &lt;&lt; std::endl; }  \n};\n\nclass C  : public Base{ \n   public: \n     void printHello() { std::cout &lt;&lt; \"HELLO C\" &lt;&lt; std::endl; }  \n}; \n\nint main () { \n    std::string key = \"c\"; \n    A a; \n    B b; \n    C c; \n    Base * obj; \n\n    if (key == \"a\") obj = &amp;a; \n    else if (key == \"b\") obj = &amp;b; \n    else obj = &amp;c;\n    obj-&gt;printHello(); // print Hello C.\n    return 0; \n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1033, "user_id": 7667894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cbd2317a1ddffc1e8f9ca0ff56b6f6?s=128&d=identicon&r=PG&f=1", "display_name": "AlexG", "link": "https://stackoverflow.com/users/7667894/alexg"}, "edited": false, "score": 0, "creation_date": 1490803186, "post_id": 43098570, "comment_id": 73278570, "body": "That would work if &#39;obj&#39; was a pointer to an instance of the base class, but in the question there is no relationship between the 3 classes except they implement the same function."}, {"owner": {"reputation": 2630, "user_id": 436034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402d03b69b5fe3185b2e56f6d626446e?s=128&d=identicon&r=PG", "display_name": "Trinidad", "link": "https://stackoverflow.com/users/436034/trinidad"}, "edited": false, "score": 0, "creation_date": 1490817861, "post_id": 43098570, "comment_id": 73287880, "body": "Doesn&#39;t answer the actual original question, can you improve on this? Thanks"}], "tags": [], "owner": {"reputation": 1831, "user_id": 7786461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecc99122684390f8db7c1e78d21d58dc?s=128&d=identicon&r=PG&f=1", "display_name": "gtovar", "link": "https://stackoverflow.com/users/7786461/gtovar"}, "is_accepted": false, "score": -4, "last_activity_date": 1490803141, "creation_date": 1490803141, "answer_id": 43098570, "question_id": 43098298, "link": "https://stackoverflow.com/questions/43098298/create-a-variable-to-hold-objects-of-different-types-c/43098570#43098570", "title": "Create a variable to hold objects of different types C++", "body": "<p>you could do something like </p>\n\n<pre><code>if (key == \"a\") obj=new A();\nelse if (key == \"b\")  obj=new B();\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 43098338, "answer_count": 3, "score": 3, "last_activity_date": 1490803231, "creation_date": 1490802420, "last_edit_date": 1490803231, "question_id": 43098298, "link": "https://stackoverflow.com/questions/43098298/create-a-variable-to-hold-objects-of-different-types-c", "title": "Create a variable to hold objects of different types C++", "body": "<p>I have 3 different objects <code>A</code>, <code>B</code> and <code>C</code>. Depending on the the parameter given, I would like to choose among these different objects. In programming, </p>\n\n<pre><code>class A { \n  public: \n    void printHello() { cout &lt;&lt; \"HELLO A\" &lt;&lt; endl; }\n}; \n\nclass B { \n  public: \n    void printHello() { cout &lt;&lt; \"HELLO B\" &lt;&lt; endl; }  \n};\n\nclass C { \n   public: \n     void printHello() { cout &lt;&lt; \"HELLO C\" &lt;&lt; endl; }  \n}; \n\nint main () { \n    string key = \"c\"; \n    A a; \n    B b; \n    C c; \n    Object obj; // I don't know how to declare Object. \n\n    if (key == \"a\") obj = a; \n    else if (key == \"b\") obj = b; \n    else obj = c;\n    obj.printHello(); // print Hello C.\n    return 0; \n} \n</code></pre>\n\n<p>I have thought about templates and struct objects. But none of them work so far. </p>\n\n<pre><code>template&lt;typename T1, T2, T3&gt; \nT1 getType(string key, T1 t1, T2 t2, T3 t3) { // this is problem coz return types are different.\n    if (key == \"a\") return t1; \n    else if (key == \"b\") return t2; \n    else return t3; \n} \n</code></pre>\n\n<p>It is easy to create <code>Object o;</code> in <code>JAVA</code> because every object in Java is subclass of <code>Object</code> class. But how do I achieve this in C++?</p>\n\n<p>Edit.\nI can't change class <code>A</code>, <code>B</code> and <code>C</code>. I was given these classes to work with and my goal is to implement <code>main</code> method. So, <code>inheritance</code> was out of the question for me. Sorry for any confusion. </p>\n\n<p>Any help is appreciated. </p>\n"}, {"tags": ["c++", "c++11", "g++"], "comments": [{"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1490802436, "post_id": 43098214, "comment_id": 73278011, "body": "B clearly can be made to work. But the gcc people didn&#39;t for whatever reason. I don&#39;t think tracking down who thought &quot;good enough&quot; is worthwhile."}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 2, "creation_date": 1490802522, "post_id": 43098214, "comment_id": 73278082, "body": "It isn&#39;t legal in C either, and the extension is in large part there for compatibility with C. Actually, g++ (since 4.9) accepts your code here, what do you mean by &quot;does not work&quot;?"}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1490802575, "post_id": 43098214, "comment_id": 73278108, "body": "What behaviour is expected if the length of the initializer != the length of the array?"}, {"owner": {"reputation": 895, "user_id": 2319720, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5644a03c7afc19830b7d0e3bd274d2?s=128&d=identicon&r=PG", "display_name": "Chintan Shah", "link": "https://stackoverflow.com/users/2319720/chintan-shah"}, "reply_to_user": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1490813753, "post_id": 43098214, "comment_id": 73285384, "body": "@Marc, B gives a compile time error - &quot;a may not have been initialized&quot;"}, {"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 2, "creation_date": 1490822715, "post_id": 43098214, "comment_id": 73290474, "body": "The behavior seems likely to change soon: <a href=\"https://gcc.gnu.org/ml/gcc-patches/2017-03/msg01487.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/ml/gcc-patches/2017-03/msg01487.html</a>"}], "owner": {"reputation": 895, "user_id": 2319720, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5644a03c7afc19830b7d0e3bd274d2?s=128&d=identicon&r=PG", "display_name": "Chintan Shah", "link": "https://stackoverflow.com/users/2319720/chintan-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490802231, "creation_date": 1490802231, "question_id": 43098214, "link": "https://stackoverflow.com/questions/43098214/why-can-g-not-have-variable-length-array-initialization", "title": "why can g++ not have variable length array initialization", "body": "<p>I am using C++ 11 and this is an example code fragment where I am not able to understand the internal workings of the language.</p>\n\n<p>This works -</p>\n\n<pre><code>int main(){\nint n;\ncin&gt;&gt;n;\nint a[n]; // THIS WORKS due the the extensions\n</code></pre>\n\n<p>However, this does <strong>not</strong> work -</p>\n\n<pre><code>int main(){\nint n;\ncin&gt;&gt;n;\nint a[n] = {0} // This does not work;\n</code></pre>\n\n<p>I am compiling this using:</p>\n\n<pre><code>g++ -std=c++0x file.cpp -o file\n</code></pre>\n\n<ol>\n<li>I understand that VLA's are not part of the C++ standard and the GNU C++ provides it via compiler extensions.</li>\n<li>I also understand that the memory is allocated at runtime using <em>alloca</em>.</li>\n<li>What I don't understand is that, if A works, why can B not work?</li>\n</ol>\n"}, {"tags": ["c++", "qt", "qlayout"], "answers": [{"tags": [], "owner": {"reputation": 1051, "user_id": 7192989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1d41f45e6cacfb3d4195a9878880724?s=128&d=identicon&r=PG", "display_name": "Rinat Veliakhmedov", "link": "https://stackoverflow.com/users/7192989/rinat-veliakhmedov"}, "is_accepted": false, "score": 2, "last_activity_date": 1490803482, "last_edit_date": 1490803482, "creation_date": 1490802719, "answer_id": 43098399, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget/43098399#43098399", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>It will always be in the top left corner. You can either add another widget on top of yours and them put your widget in the middle of that widget, or make your widget the size of the tab and position its content in the middle. You can use <code>setLayout</code> method of QWidget to set your widget layout.</p>\n"}, {"tags": [], "owner": {"reputation": 2254, "user_id": 4946821, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R7FRn.jpg?s=128&g=1", "display_name": "KelvinS", "link": "https://stackoverflow.com/users/4946821/kelvins"}, "is_accepted": true, "score": 0, "last_activity_date": 1490804093, "last_edit_date": 1490804093, "creation_date": 1490803697, "answer_id": 43098770, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget/43098770#43098770", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>Following @Satus idea, I create a new <code>QFrame</code>, set the minimum size as the size of <strong>myTabWidget</strong>, set a horizontal layout and add <strong>myCustomWidget</strong> inside it, adding two <code>QSpacerItem</code> (left and right):</p>\n\n<pre><code>QFrame *frame= new QFrame(this);\nframe-&gt;setMinimumWidth(ui-&gt;myTabWidget-&gt;width());\nframe-&gt;setMinimumHeight(ui-&gt;myTabWidget-&gt;height());\n\nMyCustomWidget *myCustomWidget = new MyCustomWidget(frame);\n\nQHBoxLayout *hLayout = new QHBoxLayout();\n\nhLayout-&gt;addItem(new QSpacerItem(10, 10, QSizePolicy::Expanding, QSizePolicy::Expanding));\nhLayout-&gt;addWidget(myCustomWidget);\nhLayout-&gt;addItem(new QSpacerItem(10, 10, QSizePolicy::Expanding, QSizePolicy::Expanding));\n\nframe-&gt;setLayout(hLayout);\n\nui-&gt;myTabWidget-&gt;addTab(frame, \"New Tab\");\n</code></pre>\n\n<p>It worked, but if someone has a more elegant way to do so, please share with us.</p>\n"}, {"tags": [], "owner": {"reputation": 2748, "user_id": 6165833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1b6bbdd7a7472d52c14da82af5eb6d20?s=128&d=identicon&r=PG&f=1", "display_name": "ymoreau", "link": "https://stackoverflow.com/users/6165833/ymoreau"}, "is_accepted": false, "score": 1, "last_activity_date": 1500551944, "last_edit_date": 1500551944, "creation_date": 1500551294, "answer_id": 45213832, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget/45213832#45213832", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>You do not need a QFrame, a simple QWidget and a centered layout will do it :</p>\n\n<pre><code>auto w = new QWidget;\n\nauto txtEdit = new QTextEdit; // Replace with whatever custom widget\ntxtEdit-&gt;setFixedSize(150, 150); // Only here to simulate your fixed size\n\nauto layout = new QVBoxLayout;\nlayout-&gt;addWidget(txtEdit, 0, Qt::AlignHCenter);\nw-&gt;setLayout(layout);\n\nui-&gt;tabWidget-&gt;addTab(w, \"MyTab\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 8894716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7d8jLG2OnxI/AAAAAAAAAAI/AAAAAAAAAAw/tPlMX_riwls/photo.jpg?sz=128", "display_name": "Dong He Zheng", "link": "https://stackoverflow.com/users/8894716/dong-he-zheng"}, "is_accepted": false, "score": 1, "last_activity_date": 1532720356, "creation_date": 1532720356, "answer_id": 51564520, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget/51564520#51564520", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>I use QT Creator 4.7.0 Based on QT 5.11.1.\nI can't change the layout of a tab of QTabWidget using QT designer. The all items from Lay out are disabled. I am very strange. Only method I solve this problem is to edit ui file(in my case, mainwindow.ui file).\nFrom:</p>\n\n<pre><code>&lt;widget class=\"QWidget\" name=\"tab_3\"&gt;\n&lt;attribute name=\"title\"&gt;\n&lt;string&gt;Insert Object&lt;/string&gt;\n&lt;/attribute&gt;\n&lt;/widget&gt;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;widget class=\"QWidget\" name=\"tab_3\"&gt;\n&lt;attribute name=\"title\"&gt;\n&lt;string&gt;Insert Object&lt;/string&gt;\n&lt;/attribute&gt;\n&lt;layout class=\"QVBoxLayout\" name=\"verticalLayout\"&gt;\n&lt;/layout&gt;\n&lt;/widget&gt;\n</code></pre>\n\n<p>As result, the layout of tab of QTabWidget have changed.\nThanks.</p>\n"}, {"comments": [{"owner": {"reputation": 4392, "user_id": 7098259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6nWr.jpg?s=128&g=1", "display_name": "Patrick Parker", "link": "https://stackoverflow.com/users/7098259/patrick-parker"}, "edited": false, "score": 0, "creation_date": 1617076352, "post_id": 65321684, "comment_id": 118194747, "body": "Thanks so much. That was driving me crazy trying to add the layout to the widget. The design of Qt Designer is infuriatingly bad."}], "tags": [], "owner": {"reputation": 11, "user_id": 7393734, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154020476342470/picture?type=large", "display_name": "Philippe Bourrez", "link": "https://stackoverflow.com/users/7393734/philippe-bourrez"}, "is_accepted": false, "score": 1, "last_activity_date": 1608115380, "creation_date": 1608115380, "answer_id": 65321684, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget/65321684#65321684", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>You can use QT designer.\nSelect QTabWidget and have the Tab that needs its layout changed visible (and it has to contain elements e.g. QLabel, etc..)\nRight-click-&gt;Layout-&gt;Layout vertically\nThe problem is that it is intuitive to do it on the Qwidget while you have to do it on the QTabWidget</p>\n"}], "owner": {"reputation": 2254, "user_id": 4946821, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R7FRn.jpg?s=128&g=1", "display_name": "KelvinS", "link": "https://stackoverflow.com/users/4946821/kelvins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9238, "favorite_count": 0, "accepted_answer_id": 43098770, "answer_count": 5, "score": 1, "last_activity_date": 1608115380, "creation_date": 1490802051, "last_edit_date": 1490804127, "question_id": 43098144, "link": "https://stackoverflow.com/questions/43098144/how-can-i-set-a-layout-to-a-tab-in-qtabwidget", "title": "How can I set a layout to a tab in QTabWidget?", "body": "<p>I have created a <code>QTabWidget</code> (with no tabs) using the <strong>Qt Design</strong> tool, and now I need to create tabs and add widgets dynamically.</p>\n\n<p>I can create the tab and add the widget using the following code:</p>\n\n<pre><code>MyCustomWidget *myCustomWidget = new MyCustomWidget(this);\nui-&gt;myTabWidget-&gt;addTab(myCustomWidget, \"New Tab\");\n</code></pre>\n\n<p>The problem is that the widget stays in the top left corner of my <code>QTabWidget</code> but I need to align it in the center (horizontally) of my <code>QTabWidget</code>.</p>\n\n<p>How can I set a horizontal layout to this new tab created?</p>\n\n<p><strong>Note 1</strong>: My widget (<code>MyCustomWidget</code>) has a fixed size.</p>\n\n<p><strong>Note 2</strong>: I'm using Qt 5.3.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1490802128, "post_id": 43098079, "comment_id": 73277779, "body": "In the second example of <code>switch</code>, you don&#39;t need even need <code>break</code>, since it won&#39;t, ever, be reached - making it shorter than the first example."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1490802310, "post_id": 43098079, "comment_id": 73277923, "body": "<code>std::find</code> can replace your <code>for</code> loop. It only looks more complicated the first time, eventually you will appreciate giving your loops meaningful names."}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1490802332, "post_id": 43098079, "comment_id": 73277940, "body": "1. You can go with this, but I&#39;d prefer something like <code>bool running = true; while(running){ ... if(some_condition){running = false;}}</code>, but that is personal taste. 2. Both switch assignments look fine. Do what you prefer. In the second case you might even want to remove the breaks. In most situations, you will probably make the default case to break and then return the error after the switch. In conclusion: In those cases, all your options are just fine, just decide for one style and keep with it."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1490803320, "post_id": 43098079, "comment_id": 73278657, "body": "The &quot;single entry, single exit&quot; idea is not widely used in c++.  Having each case return its specific value is much easier to read. But I&#39;d worry that the error condition is just some fixed string, otherwise indistinguishable from the other states."}, {"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 0, "creation_date": 1490803322, "post_id": 43098079, "comment_id": 73278661, "body": "This is more of a coding style question than a programming error question, and thus a better fit for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1490803522, "post_id": 43098271, "comment_id": 73278807, "body": "+1, nice refactoring into smaller functions.  I worry about switchOperation&#39;s error return being indistinguishable from normal strings."}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1490803689, "post_id": 43098271, "comment_id": 73278949, "body": "@KennyOstrom: definitely a good point. The return type should be a <code>variant&lt;string, error&gt;</code> - I feel like this would complicate the answer too much, assuming the OP is a beginner."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1490814731, "post_id": 43098271, "comment_id": 73286050, "body": "or pair, or throw exception (also tough on beginner), but there&#39;s a much easier way.  bool getOperationDescription(int myOperation, std::string &amp;description);  If left as is, then I hope he replaces that error string with something like const std::string INVALID_OPERATION (so the actual text is only ever in one place, in case someone changes it)."}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 4, "last_activity_date": 1490802355, "creation_date": 1490802355, "answer_id": 43098271, "question_id": 43098079, "link": "https://stackoverflow.com/questions/43098079/a-few-coding-convention-standard-practice-questions/43098271#43098271", "title": "A few coding convention/standard practice questions", "body": "<p>For the first case, refactor your code in smaller self-contained functions, and it becomes clear to understand the logic of <code>getValidKey</code> even from a <code>while(true)</code>:</p>\n\n<pre><code>char isKeyValid(char x, const string&amp; validKeys)\n{\n    return validKeys.find(x) != string::npos;\n}\n\nchar readCharFromCin()\n{\n    char letter;\n\n    cout &lt;&lt; \"Operation ? \";\n    cin &gt;&gt; letter;\n    cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\\n');\n\n    return letter;\n}\n\nchar getValidKey(const string&amp; validKeys)\n{\n    while (true) \n    {\n        const char key = readCharFromCin();\n        if(isKeyValid(key, validKeys)) return letter;\n\n        cout &lt;&lt; \"Error. Invalid input.\\n\";\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>For the second case, avoid <code>break</code> and simply return from your <code>switch</code>. Make the function containing the <code>switch</code> only do one thing.</p>\n\n<pre><code>string switchOperation(int myOperation)\n{\n    switch (myOperation) \n    {\n        case 1:  return \"RIGHT\";\n        case 2:  return \"LEFT\";\n        case 3:  return \"CENTER_ONLY\";\n        case 4:  return \"CENTER_MISSING\";\n    }\n\n    return \"Error. Invalid input.\";\n}\n</code></pre>\n\n<hr>\n\n<p>Also, try to maximize usage of <code>const</code> and pass <code>string</code> instances you're only reading by <code>const&amp;</code> to avoid unnecessary copies.</p>\n"}], "owner": {"reputation": 59, "user_id": 3755055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/801f5b6b32187779d42cfd10290e481c?s=128&d=identicon&r=PG", "display_name": "Dustin Trombly", "link": "https://stackoverflow.com/users/3755055/dustin-trombly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490802355, "creation_date": 1490801900, "question_id": 43098079, "link": "https://stackoverflow.com/questions/43098079/a-few-coding-convention-standard-practice-questions", "title": "A few coding convention/standard practice questions", "body": "<p>I have this function that takes a string from main. The string contains all of the valid characters that a user can input from some menu options. Function will put character input into a variable and be compared to each character of the string. Compare input variable to the string characters until valid input is entered.</p>\n\n<p>My question is, what is the best way to implement this loop? I don't like using <code>while (true)</code> with a <code>return</code> in the middle because it looks like an infinite loop with an exception in the middle, which makes it slightly harder to read, but I'm not sure how else I can do what I want it to do. What's the best practice for achieving my goal? Thanks.</p>\n\n<pre><code>char getValidKey(string validKeys)\n{\n    char letter;\n\n    while (true) {\n        cout &lt;&lt; \"Operation ? \";\n        cin &gt;&gt; letter;\n        cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\\n');\n\n        for (int i = 0; i &lt; validKeys.length(); i++) {\n\n            if (letter == validKeys[i])\n                return letter;\n        }\n\n        cout &lt;&lt; \"Error. Invalid input.\\n\";\n    }\n}\n</code></pre>\n\n<p>Also, I have a switch statement with multiple returns. Is it more common/preferred to assign calculations to a variable and have one return at the end or is this way generally okay?</p>\n\n<pre><code>string opStr;\n\nswitch (myOperation) {\n    case 1:\n        opStr = \"RIGHT\";\n        break;\n    case 2:\n        opStr = \"LEFT\";\n        break;\n    case 3:\n        opStr = \"CENTER_ONLY\";\n        break;\n    case 4:\n        opStr = \"CENTER_MISSING\";\n        break;\n    default:\n        opStr = \"Error. Invalid input.\";\n        break;\n}\n\nreturn opStr;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>switch (myOperation) {\n    case 1:\n        return \"RIGHT\";\n        break;\n    case 2:\n        return \"LEFT\";\n        break;\n    case 3:\n        return \"CENTER_ONLY\";\n        break;\n    case 4:\n        return \"CENTER_MISSING\";\n        break;\n    default:\n        return \"Error. Invalid input.\";\n        break;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "stringstream"], "comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1490802642, "post_id": 43098073, "comment_id": 73278160, "body": "\u201cinvalid\u201d here presumably doesn\u2019t refer to its <code>iostate</code> flag (\u201cfailure\u201d \u2260 \u201c<code>failbit</code>\u201d). But it\u2019s an unfortunate wording."}, {"owner": {"reputation": 8829, "user_id": 79111, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/O31rq.png?s=128&g=1", "display_name": "Ton van den Heuvel", "link": "https://stackoverflow.com/users/79111/ton-van-den-heuvel"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1490802935, "post_id": 43098073, "comment_id": 73278383, "body": "@KonradRudolph, I sort of expected the wording to be the problem here as well. So then there is no way to detect that <code>source</code> in this case has been moved from?"}, {"owner": {"reputation": 21240, "user_id": 951423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UlSg8.png?s=128&g=1", "display_name": "Pixelchemist", "link": "https://stackoverflow.com/users/951423/pixelchemist"}, "edited": false, "score": 0, "creation_date": 1490803048, "post_id": 43098073, "comment_id": 73278466, "body": "Is this a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><code>XY</code></a> question? What actual problem are you trying to solve?"}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1490803198, "post_id": 43098073, "comment_id": 73278582, "body": "When you move A into B, it does a shallow copy of A and nullifies B so B shouldn&#39;t be used anymore. This is usually done with a swap of the values in A and B OR shallow copy all the underlying data of A into B then nullify all the values in B (or let B destroy itself by going out of scope). Technically, you shouldn&#39;t be using B after it has been moved (at least that&#39;s what I&#39;ve been taught -- because you don&#39;t know its state or what it contains)."}, {"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "edited": false, "score": 0, "creation_date": 1490803737, "post_id": 43098073, "comment_id": 73278978, "body": "Cppreference updated"}], "owner": {"reputation": 8829, "user_id": 79111, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/O31rq.png?s=128&g=1", "display_name": "Ton van den Heuvel", "link": "https://stackoverflow.com/users/79111/ton-van-den-heuvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1490811265, "creation_date": 1490801883, "last_edit_date": 1490811265, "question_id": 43098073, "link": "https://stackoverflow.com/questions/43098073/stdstringstream-move-assignment-does-not-leave-source-in-invalid-state", "title": "std::stringstream; move assignment does not leave source in invalid state", "body": "<p>According to the documentation, the move assignment operator should leave a source string stream in an invalid state:</p>\n\n<blockquote>\n  <p>Moves the string stream. The source stream becomes of invalid state after the operation. </p>\n</blockquote>\n\n<p>(From: <a href=\"http://en.cppreference.com/w/cpp/io/basic_stringstream/operator%3D\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/io/basic_stringstream/operator%3D</a>)</p>\n\n<p>Given that, I would expect the following to output <code>0</code>, but instead it outputs <code>1</code>, using GCC 6.3.1.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nint main()\n{\n    std::stringstream source;\n    std::stringstream target;\n    target = std::move(source);\n    std::cout &lt;&lt; bool(source);\n    return 0;\n}\n</code></pre>\n\n<p>I assume the documentation should read that the state is undefined instead of invalid, which seems a bit too strong in the context of streams. Can anyone confirm?</p>\n"}]