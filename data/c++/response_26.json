[{"tags": ["c++", "pointers", "memset"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1436399813, "post_id": 31305841, "comment_id": 50601225, "body": "<code>DWORD</code> isn&#39;t a pointer type, fwiw. But you would do something like <code>memset(reinterpret_cast&lt;void*&gt;(pointer + offset), ....);</code>. If you use an actual pointer type for <code>pointer</code> then make sure you keep pointer arithmetic in mind."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1436405478, "post_id": 31305841, "comment_id": 50602590, "body": "Using <code>memset</code> to assign <code>1.0f</code> is going to be a fascinating challenge."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1436406707, "post_id": 31305921, "comment_id": 50602868, "body": "all-bits-zero is not guaranteed to be a valid representation of <code>float</code>"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1436409201, "post_id": 31305921, "comment_id": 50603490, "body": "@MattMcNabb: No, but I didn&#39;t say it&#39;d set it to <code>0.0</code>, now, did I? :-) Anyway, the chances that the OP is or will ever use a machine where all-bits-0 is not 0.0 are on the order of 0.0%."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1436409340, "post_id": 31305921, "comment_id": 50603530, "body": "Well, it could be a trap representation. But you are right about the fact that non-IEC60559 systems are vanishingly rare."}], "tags": [], "owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "is_accepted": false, "score": 0, "last_activity_date": 1436400169, "creation_date": 1436400169, "answer_id": 31305921, "question_id": 31305841, "link": "https://stackoverflow.com/questions/31305841/memset-pointer-offset/31305921#31305921", "title": "memset pointer + offset", "body": "<p>This can be straightforward pointer arithmetic, but we've got a few preliminary issues to take care of first.</p>\n\n<ol>\n<li>Why is your <code>pointer</code> variable declared as a <code>DWORD</code>?  We'll need a proper pointer type eventually.</li>\n<li>Why are you asking about <code>memset</code>, if you're trying to set a floating-point value?  <code>memset</code> sets plain bit patterns; it's not much good for floating-point.</li>\n<li>I assume your <code>offset</code> is supposed to be measured in bytes, not <code>sizeof(float)</code>.</li>\n</ol>\n\n<p>Anyway, computing the pointer you want could go something like this:</p>\n\n<pre><code>float *fp = (float *)(pointer + offset);\n</code></pre>\n\n<p>[Notice that I perform the addition inside the parens, before the cast, so as to get a byte offset.  If I instead wrote <code>(float *)pointer + offset</code>, it'd offset by `sizeof(float).]</p>\n\n<p>Once we've got that float pointer, we can set the location it points to to <code>1.0</code> in the usual way:</p>\n\n<pre><code>*fp = 1.0f;\n</code></pre>\n\n<p>Or we could set it to 0 using memset:</p>\n\n<pre><code>memset(fp, 0, sizeof(float));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 5096220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62cc98e2b53ef12903280acad161415d?s=128&d=identicon&r=PG&f=1", "display_name": "Avilius", "link": "https://stackoverflow.com/users/5096220/avilius"}, "is_accepted": false, "score": 1, "last_activity_date": 1436400220, "creation_date": 1436400220, "answer_id": 31305932, "question_id": 31305841, "link": "https://stackoverflow.com/questions/31305841/memset-pointer-offset/31305932#31305932", "title": "memset pointer + offset", "body": "<p>DWORDs are the same as uint32_t's. Just add them together as you would with any other integer.</p>\n\n<p>Also, while setting a float (I am assuming you're setting a float due to the 'f' after the '1.0'), I wouldn't use memset. Just cast the pointer to a float, and de-reference it like so:</p>\n\n<pre><code>DWORD pointer = 0x123456;\nDWORD offset = 0xABC;\n\npointer += offset;\n\nfloat* float_pointer = reinterpret_cast&lt;float*&gt;(pointer);\n*float_pointer = 1.0f;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5083683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab13aac0182b52665582a401932e9ff?s=128&d=identicon&r=PG&f=1", "display_name": "userdata", "link": "https://stackoverflow.com/users/5083683/userdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436402489, "creation_date": 1436399714, "last_edit_date": 1436402489, "question_id": 31305841, "link": "https://stackoverflow.com/questions/31305841/memset-pointer-offset", "title": "memset pointer + offset", "body": "<p>For example, I have:</p>\n\n<pre><code>   DWORD pointer = 0x123456;\n   DWORD offset = 0xABC;\n</code></pre>\n\n<p>I want to add <code>offset</code> to pointer and set the value at the address pointed by that pointer to <code>1.0f</code>. How do I give <code>memset()</code> a pointer and an offset as first argument?  </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436401198, "post_id": 31305813, "comment_id": 50601566, "body": "Please also share the code that adds to the BST. <code>findMin</code> looks fine."}, {"owner": {"reputation": 3, "user_id": 5096180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29597bb7bdf7c74dd6f76c01c2a265?s=128&d=identicon&r=PG&f=1", "display_name": "vinhvu100", "link": "https://stackoverflow.com/users/5096180/vinhvu100"}, "reply_to_user": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436402218, "post_id": 31305813, "comment_id": 50601835, "body": "@bialpio okay i added it in. Is it my output that is wrong?"}, {"owner": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436403377, "post_id": 31305813, "comment_id": 50602100, "body": "Everything looks fine, what exactly is the problem that you are having with the code?"}, {"owner": {"reputation": 3, "user_id": 5096180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29597bb7bdf7c74dd6f76c01c2a265?s=128&d=identicon&r=PG&f=1", "display_name": "vinhvu100", "link": "https://stackoverflow.com/users/5096180/vinhvu100"}, "reply_to_user": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436403660, "post_id": 31305813, "comment_id": 50602169, "body": "My question is whether the depth is suppose to be 2 for both instances of the examples I gave. A tree with {10, 15, 20} has a min depth of 2 and a tree with {5, 7, 10, 15, 20, 25, 30, 35} also has a min depth of 2 (both have root of 15). Are both the depth really suppose to be 2? because if feel like for the second tree the min depth would be 4 instead.  I&#39;m  sorry if I am unclear"}, {"owner": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436423233, "post_id": 31305813, "comment_id": 50607897, "body": "Yes, the depth is supposed to be 2. Think of minDepth as the lowest number of nodes you need to visit in order to find a null child. In case of an empty tree, the answer is 0 - you don&#39;t need to visit any node to get null. In case of 1-node tree, the answer is 1 - you need to visit the root, but you don&#39;t need to look further. Think of min depth of a tree as a number of full levels in the tree. In your sample (both scenarios), only first two levels are full, hence the answer is 2. At least that&#39;s how the code you posted can be interpreted."}, {"owner": {"reputation": 3, "user_id": 5096180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29597bb7bdf7c74dd6f76c01c2a265?s=128&d=identicon&r=PG&f=1", "display_name": "vinhvu100", "link": "https://stackoverflow.com/users/5096180/vinhvu100"}, "reply_to_user": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436429852, "post_id": 31305813, "comment_id": 50611873, "body": "Thank you. I see the how the codes suppose to be interpretation. This is the book&#39;s code so I guess my interpretation and the books are different."}, {"owner": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 0, "creation_date": 1436465024, "post_id": 31305813, "comment_id": 50636414, "body": "All depends on the definition of a leaf. Wikipedia: &quot;Leaves are commonly represented by a special leaf or nil symbol, a NULL pointer, etc.)&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5096180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29597bb7bdf7c74dd6f76c01c2a265?s=128&d=identicon&r=PG&f=1", "display_name": "vinhvu100", "link": "https://stackoverflow.com/users/5096180/vinhvu100"}, "edited": false, "score": 0, "creation_date": 1436428060, "post_id": 31307548, "comment_id": 50610750, "body": "Thanks so much. This cleared up a lot for me. I was confused because this was the code given in the book and gave me weird results when inputting numbers like that. Your code makes a lot of sense"}], "tags": [], "owner": {"reputation": 1301, "user_id": 3339818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bVVg1.jpg?s=128&g=1", "display_name": "surajs1n", "link": "https://stackoverflow.com/users/3339818/surajs1n"}, "is_accepted": true, "score": 0, "last_activity_date": 1436412096, "creation_date": 1436412096, "answer_id": 31307548, "question_id": 31305813, "link": "https://stackoverflow.com/questions/31305813/cracking-the-coding-interview-4-1-min-depth-formula/31307548#31307548", "title": "Cracking the coding interview. 4.1 Min Depth formula", "body": "<blockquote>\n  <p>For the input {15, 10, 20}</p>\n</blockquote>\n\n<p>Input 1: Initially, Add <code>15</code> to the BST <br></p>\n\n<pre><code>    15\n</code></pre>\n\n<p>Input 2: Now, Add <code>10</code> to the BST <br></p>\n\n<pre><code>    15\n   /\n  10\n</code></pre>\n\n<p>Input 3: Now, Add <code>20</code> to the BST <br></p>\n\n<pre><code>    15\n   /  \\\n  10  20\n</code></pre>\n\n<p><strong>Therefore</strong>, The <code>min</code> and <code>max</code> height of the <strong>BST</strong> would be <code>2</code><br>\n<br><br></p>\n\n<blockquote>\n  <p>Now, Consider another input case {15, 5, 7, 10, 20, 25, 30, 35}</p>\n</blockquote>\n\n<p>Input 1: Initially, Add <code>15</code> to the BST<br></p>\n\n<pre><code>    15\n</code></pre>\n\n<p>Input 2: Now, Add <code>5</code> to the BST <br></p>\n\n<pre><code>    15\n   /\n  5\n</code></pre>\n\n<p>Input 3: Now, Add <code>7</code> to the BST <br></p>\n\n<pre><code>    15\n   /\n  5\n   \\\n    7\n</code></pre>\n\n<p>Input 4: Now, Add <code>10</code> to the BST <br></p>\n\n<pre><code>    15\n   /\n  5\n   \\\n    7\n     \\\n      10\n</code></pre>\n\n<p>Input 5: Now, Add <code>20</code> to the BST <br></p>\n\n<pre><code>    15\n   /  \\\n  5   20 \n   \\\n    7\n     \\\n      10\n</code></pre>\n\n<p>Input 6: Now, Add <code>25</code> to the BST <br></p>\n\n<pre><code>    15\n   /  \\\n  5   20 \n   \\    \\\n    7   25\n     \\\n      10\n</code></pre>\n\n<p>Input 7: Now, Add <code>30</code> to the BST <br></p>\n\n<pre><code>    15\n   /  \\\n  5   20 \n   \\    \\\n    7   25\n     \\    \\\n      10   30\n</code></pre>\n\n<p>Input 8: Now, Add <code>35</code> to the BST <br></p>\n\n<pre><code>    15\n   /  \\\n  5   20 \n   \\    \\\n    7   25\n     \\    \\\n      10   30\n            \\\n            35\n</code></pre>\n\n<p>As you could see from the <em>above diagram</em> the <code>min</code> <em>height</em> of <strong>BST</strong> = <code>4</code> &amp; <code>max</code> height = <code>5</code> \n<br>\n<br>\n<br></p>\n\n<p>Therefore, if look properly into your <code>findMin</code> code, then you will find a bug:</p>\n\n<pre><code>int findMin(Node* root)\n {\n     if (root == NULL)\n        return 0;\n\n     return 1 + std::min(findMin(root-&gt;left), findMin(root-&gt;right));\n } \n</code></pre>\n\n<p><strong>Bug</strong> : When your <code>root</code> is pointing to the <code>5</code> (i.e left child of <code>15</code> in second example) it will return <code>1</code> to its parent. ( Why ?) </p>\n\n<p><strong>Correction</strong> : The below code snippet will work properly :\n<br></p>\n\n<pre><code>int min_depth(struct Node* root, int depth)\n{\n    if (root-&gt;left == NULL &amp;&amp; root-&gt;right == NULL)\n        return depth;\n\n    int x = (root-&gt;left != NULL) ? min_depth(root-&gt;left, depth+1) :  depth;\n    int y = (root-&gt;right != NULL) ? min_depth(root-&gt;right, depth+1) : depth;\n\n    return (x &lt; y) ? x : y;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5096180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29597bb7bdf7c74dd6f76c01c2a265?s=128&d=identicon&r=PG&f=1", "display_name": "vinhvu100", "link": "https://stackoverflow.com/users/5096180/vinhvu100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 31307548, "answer_count": 1, "score": -2, "last_activity_date": 1436412096, "creation_date": 1436399525, "last_edit_date": 1436402147, "question_id": 31305813, "link": "https://stackoverflow.com/questions/31305813/cracking-the-coding-interview-4-1-min-depth-formula", "title": "Cracking the coding interview. 4.1 Min Depth formula", "body": "<p>In CTCI, there they give a formula for the minimum depth for a binary tree and I am confused by it. Here is the code:</p>\n\n<pre><code>    public\u00a0static\u00a0int\u00a0minDepth(TreeNode\u00a0root)\u00a0{\n        if\u00a0(root\u00a0==\u00a0null)\u00a0{\n\u00a0 \u00a0        return\u00a00;\n        }\n        return\u00a01\u00a0+\u00a0Math.min(minDepth(root.left),\u00a0minDepth(root.right));\n    }\n</code></pre>\n\n<p>The definition of minimum depth is the leaf node that is shortest path from the root correct? If the definition is wrong please correct me.</p>\n\n<p>DILEMMA: I made a BST with the root as 15. Then proceeded to add 5, 7, 10, 20, 25, 30, 35 to the tree. Then using the code it would output the the min is 2. \nIf I were to just have added 10 and 25, the output for min would also just be 2. Is this suppose to be correct?</p>\n\n<p>I translated my code into C++ here so please tell me if I made a mistake in my code to mess this up</p>\n\n<pre><code>     int findMin(Node* root)\n     {\n         if (root == NULL)\n            return 0;\n\n         return 1 + std::min(findMin(root-&gt;left), findMin(root-&gt;right));\n     }\n\n    void addNum(Node*&amp; root, int n)\n    {\n        if (root == NULL){\n            Node* temp = new Node(n);\n            root = temp;\n            return;\n        }\n\n         if (n &gt; root-&gt;num){\n             addNum(root-&gt;right, n);\n         }\n         else{\n             addNum(root-&gt;left, n);\n         }\n     }\n</code></pre>\n\n<p>Thanks so much!</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 0, "creation_date": 1436399188, "post_id": 31305732, "comment_id": 50601046, "body": "So currently you have all your code in <code>main</code>, and you want to extract certain parts into functions, and then call those functions from <code>main</code>, correct?"}, {"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1436399284, "post_id": 31305732, "comment_id": 50601068, "body": "Huh?  main() is the &quot;main&quot; entry point where your program starts execution.  Please format your code so it is readable next time."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4951217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0edb437c2e3c594e5e7b29b130f7939?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Tran", "link": "https://stackoverflow.com/users/4951217/michael-tran"}, "is_accepted": false, "score": 1, "last_activity_date": 1436399935, "creation_date": 1436399935, "answer_id": 31305883, "question_id": 31305732, "link": "https://stackoverflow.com/questions/31305732/how-to-write-functions-and-call-them-from-main/31305883#31305883", "title": "How to write functions and call them from main", "body": "<p>This is called refactoring. I guess for the assignment you want to move everything that is in main into individual functions. You could just cut and paste the whole body of main and move it to one function and call it in main.  I don't really think that is the point of the assignment though.  </p>\n\n<p>Instead, read over main and separate/extract procedures.  You should separate main into functions that do one thing i.e. handle input/output, loop, check some variable and return a letter, etc. These kind of changes not only make the program much easier to understand and come back to later, but also make it much easier to reuse procedures that are repeated throughout the program.  </p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 4383433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nN42G.jpg?s=128&g=1", "display_name": "Drew Erikson", "link": "https://stackoverflow.com/users/4383433/drew-erikson"}, "is_accepted": false, "score": 1, "last_activity_date": 1436400686, "creation_date": 1436400686, "answer_id": 31306007, "question_id": 31305732, "link": "https://stackoverflow.com/questions/31305732/how-to-write-functions-and-call-them-from-main/31306007#31306007", "title": "How to write functions and call them from main", "body": "<p>Your code looks fine logically and should work, however, what your homework is asking of you is to essentially code with good style and separate the sections of the program into functions. </p>\n\n<p>Essentially, as an easy fix, just place different sections that do similar things from the code into void functions. For example, this cpp segment:</p>\n\n<pre><code>void function1();\nvoid function2();\nvoid function3();\n\nvoid main(){\n    function1();\n    function2();\n    function3();\n    return 0;\n}\n\nvoid function1(){\n    // Your code. Ex: Some large algorithm.\n}\n\nvoid function2(){\n    //More code, for a different algorithm. Maybe some input or output.\n}\n\nvoid function3(){\n    //The final code you want the program to execute.\n}\n</code></pre>\n\n<p>And then pass parameters and adjust return types as needed. It makes the code easier to follow, especially if you have the functions named after what they do such as <code>gradingLogic()</code> or <code>studentOutput()</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 4727965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1000127503361055/picture?type=large", "display_name": "Sharonda Anthony", "link": "https://stackoverflow.com/users/4727965/sharonda-anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "closed_date": 1436400259, "answer_count": 2, "score": 0, "last_activity_date": 1436403718, "creation_date": 1436398971, "last_edit_date": 1436403718, "question_id": 31305732, "link": "https://stackoverflow.com/questions/31305732/how-to-write-functions-and-call-them-from-main", "closed_reason": "Needs details or clarity", "title": "How to write functions and call them from main", "body": "<pre><code>#include&lt;iostream&gt; \n#include&lt;iomanip&gt; \n#include&lt;string&gt; \n#include&lt;fstream&gt; \n\nusing namespace std;\n\n\nstruct studentType \n{\n    string studentFName[20];\n    string studentLName[20];\n    string studentData[20][3];\n    int testscore[20][5];\n    char grade[20];\n};\nstudentType s;\n\n\nint main() \n{\n    int index;\n    int maxindex;\n    int maxindex1;\n    int coldex;\n    int coldex1;\n    int totalscore[20];\n    double avscore[20];\n    double highscore;\n    double highindivscore;\n\n    maxindex = 0;\n    maxindex1 = 0;\n    coldex1 = 0;\n\n    ifstream infile;\n\n    infile.open(\"test.txt\");    \n\n\n    for(index = 0; index &lt; 20; index++)\n    {\n        infile &gt;&gt; s.studentFName[index] &gt;&gt; s.studentLName[index] &gt;&gt; s.testscore[index][0] &gt;&gt; s.testscore[index][1] &gt;&gt; s.testscore[index][2] &gt;&gt; s.testscore[index][3] &gt;&gt; s.testscore[index][4];\n        totalscore[index] = ((s.testscore[index][0]) + (s.testscore[index][1]) + (s.testscore[index][2]) + (s.testscore[index][3]) + (s.testscore[index][4]));\n        avscore[index] = (static_cast&lt;double&gt;(totalscore[index])/5);\n\n\n        if(avscore[index]&lt;= 100)\n        {\n            s.grade[index] = 'A';\n        }\n        if(avscore[index]&lt;= 89.9)\n        {\n            s.grade[index] = 'B';\n        }\n        if(avscore[index]&lt;= 79.9)\n        {\n            s.grade[index] = 'C';\n        }\n        if(avscore[index] &lt;= 69.9)\n        {\n            s.grade[index] = 'D';\n        }\n        if(avscore[index] &lt;= 59.9)\n        {\n            s.grade[index] = 'F';\n        }\n    }\n    for (index = 0; index &lt; 20; index++)\n    {\n        cout &lt;&lt; s.studentLName[index] &lt;&lt; \",\" &lt;&lt; \" \" &lt;&lt; s.studentFName[index] &lt;&lt; \" \" &lt;&lt; s.testscore[index][0] &lt;&lt; \" \" &lt;&lt; s.testscore[index][1] &lt;&lt; \" \" &lt;&lt; s.testscore[index][2] &lt;&lt; \" \" &lt;&lt; s.testscore[index][3] &lt;&lt; \" \" &lt;&lt; s.testscore[index][4] &lt;&lt; \" \" &lt;&lt; s.grade[index] &lt;&lt; endl;\n    }\n    cout &lt;&lt; endl;\n\n    for (index = 1; index &lt; 20; index++)\n        for (coldex = 0; coldex &lt; 5; coldex++)\n        {\n            if (s.testscore[maxindex1][coldex1] &lt; s.testscore[index][coldex])\n            {\n                maxindex1 = index;\n                coldex1 = coldex;\n            }\n        }\n    highindivscore = s.testscore[maxindex1][coldex1];\n\n    for (index = 1; index &lt; 20; index++)\n    {\n        if (avscore[maxindex] &lt; avscore[index])\n        {\n            maxindex = index;\n        }\n    }\n    highscore = avscore[maxindex];\n\n\n    cout &lt;&lt; s.studentFName[maxindex] &lt;&lt; \" \" &lt;&lt; s.studentLName[maxindex] &lt;&lt; \" Achieved The Highest Average Test Score Of A: \" &lt;&lt;highscore &lt;&lt;endl;\n    cout &lt;&lt; s.studentFName[maxindex1] &lt;&lt; \" \" &lt;&lt; s.studentLName[maxindex1] &lt;&lt; \" \" &lt;&lt; s.testscore[maxindex1][coldex1] &lt;&lt; endl;\n    infile.close();\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>here is the homework question, i know i did it wrong which is why i need help. How do i make main function calls. I am new to this. I have this lab that's got me stumped. The assignment reads (emphasis mine):</p>\n\n<blockquote>\n  <p>Write programs for the following and test to make sure they work. Please follow the book\u2019s guidelines or my style guidelines to write code. Write a program that reads students\u2019 names followed by their test scores from the given input file. The program should output to a file, output.txt, each student\u2019s name followed by the test scores and the relevant grade.. Student data should be stored in a struct variable of type StudentType, which has four components: studentFName and studentLName of type string, testScore of type int and grade of type char. Suppose that the class has 20 students. Use an array of 20 components of type StudentType. Your program must contain at least the following functions:</p>\n  \n  <ol>\n  <li>A function to read the students\u2019 data into an array.</li>\n  <li>A function to assign the relevant grade to each student.</li>\n  </ol>\n  \n  <p>Your program should output each student\u2019s name in this form: last name followed by a comma, followed by a space, followed by the first name; the name must be left justified. <strong>Moreover, other than declaring the variables and opening the input and output files, the function main should only be a collection of function calls.</strong></p>\n</blockquote>\n"}, {"tags": ["c++", "static"], "comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1502185103, "post_id": 31305717, "comment_id": 78088258, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8130066/static-member-functions-error-how-to-properly-write-the-signature\">Static member functions error; How to properly write the signature?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3271, "user_id": 1291812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87e2d7542ea9ea4212e80456e36fabc9?s=128&d=identicon&r=PG", "display_name": "Achal Dave", "link": "https://stackoverflow.com/users/1291812/achal-dave"}, "edited": false, "score": 2, "creation_date": 1436399801, "post_id": 31305772, "comment_id": 50601218, "body": "That makes sense, thanks! I suppose the compiler could differentiate between static void some_function() { ... } and static void Foobar::some_method() { ... } and treat them differently, but it would make it harder for humans to parse since the two have different semantics and very similar syntax. I&#39;m not too happy with the solution, since it makes it harder to see that a method is static by looking at its implementation (without comments), but oh well."}, {"owner": {"reputation": 554, "user_id": 2671102, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d500b1f411c75363b4d051e74066bfbf?s=128&d=identicon&r=PG", "display_name": "TheLogicGuy", "link": "https://stackoverflow.com/users/2671102/thelogicguy"}, "edited": false, "score": 0, "creation_date": 1494576671, "post_id": 31305772, "comment_id": 74897633, "body": "When you sey <code>It&#39;s basically a normal function that&#39;s nested inside of the scope of the class</code> by normal do you mean global?"}, {"owner": {"reputation": 564, "user_id": 5989906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/otUg0.jpg?s=128&g=1", "display_name": "Samuel Prevost", "link": "https://stackoverflow.com/users/5989906/samuel-prevost"}, "edited": false, "score": 0, "creation_date": 1582905985, "post_id": 31305772, "comment_id": 106949742, "body": "It&#39;s such an easy mistake to make in C++, many tutorials (<a href=\"https://www.geeksforgeeks.org/static-keyword-in-java/\" rel=\"nofollow noreferrer\">like this one</a>) don&#39;t even touch on that subtle difference"}], "tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": true, "score": 136, "last_activity_date": 1599460308, "last_edit_date": 1599460308, "creation_date": 1436399168, "answer_id": 31305772, "question_id": 31305717, "link": "https://stackoverflow.com/questions/31305717/member-function-with-static-linkage/31305772#31305772", "title": "Member function with static linkage", "body": "<p>The keyword <code>static</code> has several different meanings in C++, and the code you've written above uses them in two different ways.</p>\n<p>In the context of member functions, <code>static</code> means &quot;this member function does not have a receiver object. It's basically a normal function that's nested inside of the scope of the class.&quot;</p>\n<p>In the context of function declarations, <code>static</code> means &quot;this function is scoped only to this file and can't be called from other places.&quot;</p>\n<p>When you implemented the function by writing</p>\n<pre><code>static void Foobar::do_something() {} // Error!\n</code></pre>\n<p>the compiler interpreted the <code>static</code> here to mean &quot;I'm implementing this member function, and I want to make that function local just to this file.&quot; That's not allowed in C++ because it causes some confusion: if multiple different files all defined their own implementation of a member function and then declared them <code>static</code> to avoid collisions at linking, calling the same member function from different places would result in different behavior!</p>\n<p>Fortunately, as you noted, there's an easy fix: just delete the <code>static</code> keyword from the definition:</p>\n<pre><code>void Foobar::do_something() {} // Should be good to go!\n</code></pre>\n<p>This is perfectly fine because the compiler already knows that <code>do_something</code> is a <code>static</code> member function, since you told it about that earlier on.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 2235747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3987c50d054caf16309102e9aded6dec?s=128&d=identicon&r=PG", "display_name": "user2235747", "link": "https://stackoverflow.com/users/2235747/user2235747"}, "is_accepted": false, "score": 6, "last_activity_date": 1596611338, "creation_date": 1596611338, "answer_id": 63260085, "question_id": 31305717, "link": "https://stackoverflow.com/questions/31305717/member-function-with-static-linkage/63260085#63260085", "title": "Member function with static linkage", "body": "<p>This question is already well answered. Details for static can be read <a href=\"https://en.cppreference.com/w/cpp/language/static\" rel=\"noreferrer\">here</a></p>\n<p>Golden Rule:\nThe static keyword is only used with the declaration of a static member, inside the class definition, but not with the definition of that static member.</p>\n"}], "owner": {"reputation": 3271, "user_id": 1291812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87e2d7542ea9ea4212e80456e36fabc9?s=128&d=identicon&r=PG", "display_name": "Achal Dave", "link": "https://stackoverflow.com/users/1291812/achal-dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44979, "favorite_count": 16, "accepted_answer_id": 31305772, "answer_count": 2, "score": 57, "last_activity_date": 1599460308, "creation_date": 1436398895, "last_edit_date": 1436399178, "question_id": 31305717, "link": "https://stackoverflow.com/questions/31305717/member-function-with-static-linkage", "title": "Member function with static linkage", "body": "<p>I'm trying to understand why the following is an error:</p>\n\n<pre><code>class Foobar {\n public:\n  static void do_something();\n};\n\nstatic void Foobar::do_something() {} // Error!\n\nint main() {\n  Foobar::do_something();\n}\n</code></pre>\n\n<p>This errors with \"error: cannot declare member function 'static void Foobar::do_something()' to have static linkage\" in g++, and \"error: 'static' can only be specified inside the class definition\" in clang++.</p>\n\n<p>I understand that the way to fix this is to remove \"static\" in the definition of do_something on line 6. I don't, however, understand why this is an issue. Is it a mundane reason, such as \"the C++ grammar dictates so\", or is something more complicated going on?</p>\n"}, {"tags": ["c++", "linux", "multithreading", "libpcap", "packet-sniffers"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 1, "creation_date": 1436399278, "post_id": 31305712, "comment_id": 50601067, "body": "Start the thread before you call pcap_loop?"}, {"owner": {"reputation": 333, "user_id": 4996088, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d95415194249a73f0af8f624ce661934?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4996088/bob"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1436401887, "post_id": 31305712, "comment_id": 50601758, "body": "I can try, but what if I wanted to do some other stuff after pcap_loop?"}], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4996088, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d95415194249a73f0af8f624ce661934?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4996088/bob"}, "edited": false, "score": 0, "creation_date": 1436411056, "post_id": 31306297, "comment_id": 50603933, "body": "thank you. for now I run the thread before pcap_loop. it seems to be working."}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1436402826, "creation_date": 1436402826, "answer_id": 31306297, "question_id": 31305712, "link": "https://stackoverflow.com/questions/31305712/how-do-i-make-libpcap-pcap-loop-non-blocking/31306297#31306297", "title": "How do I make libpcap/pcap_loop non-blocking?", "body": "<p>pcap_loop is meant to go on until all input ends.  If you don't want that behavior, call pcap_dispatch in a loop instead.  By definition pcap_loop will never return, its meant to  always searching for more data.</p>\n"}, {"tags": [], "owner": {"reputation": 2903, "user_id": 2999490, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b7f26ca67a6c76bc65e02045892c6a0f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2999490/alex"}, "is_accepted": true, "score": 3, "last_activity_date": 1437158440, "creation_date": 1437158440, "answer_id": 31482579, "question_id": 31305712, "link": "https://stackoverflow.com/questions/31305712/how-do-i-make-libpcap-pcap-loop-non-blocking/31482579#31482579", "title": "How do I make libpcap/pcap_loop non-blocking?", "body": "<p>When you use non-blocking mode on libpcap you have to use pcap_dispatch, but note, <code>pcap_dispatch</code> can work in blocking or in non-blocking mode, it depends how you set libpcap, to set libpcap to work in non-blocking you have use the function <code>pcap_setnonblock</code>:</p>\n\n<pre><code>int pcap_setnonblock(pcap_t *p, int nonblock, char *errbuf);\n</code></pre>\n\n<p>The difference between blocking and non-blocking is not a loop that runs forever, but in blocking the function <code>pcap_dispatch</code> waits for a packet and only returns when this packet is received, however, in the non-blocking mode the function returns immediately and the callback must process the packet.</p>\n\n<blockquote>\n  <p>In \"non-blocking\" mode, an attempt to read from the capture\n  descriptor with pcap_dispatch() will, if no packets are currently\n  available to be read, return 0 immediately rather than blocking\n  waiting for packets to arrive. pcap_loop() and pcap_next() will not\n  work in \"non-blocking\" mode.</p>\n</blockquote>\n\n<p><a href=\"http://www.tcpdump.org/manpages/pcap_setnonblock.3pcap.html\" rel=\"nofollow\">http://www.tcpdump.org/manpages/pcap_setnonblock.3pcap.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 6079, "user_id": 34989, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f16eae47ba215ccc1fe3f05f1750adc?s=128&d=identicon&r=PG", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/34989/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1474963288, "last_edit_date": 1474963288, "creation_date": 1474962980, "answer_id": 39719162, "question_id": 31305712, "link": "https://stackoverflow.com/questions/31305712/how-do-i-make-libpcap-pcap-loop-non-blocking/39719162#39719162", "title": "How do I make libpcap/pcap_loop non-blocking?", "body": "<p>I use <code>pcap_next_ex</code> It returns a result indicating if a packet was read. This way I manage the acquisition my own thread. See an example <a href=\"https://www.winpcap.org/docs/docs_40_2/html/group__wpcap__tut4.html\" rel=\"nofollow\">here</a>. The <code>read_timeout</code> in <code>pcap_open</code> also affects this function.</p>\n"}], "owner": {"reputation": 333, "user_id": 4996088, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d95415194249a73f0af8f624ce661934?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4996088/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3690, "favorite_count": 0, "accepted_answer_id": 31482579, "answer_count": 3, "score": 3, "last_activity_date": 1474963288, "creation_date": 1436398851, "question_id": 31305712, "link": "https://stackoverflow.com/questions/31305712/how-do-i-make-libpcap-pcap-loop-non-blocking", "title": "How do I make libpcap/pcap_loop non-blocking?", "body": "<p>I'm currently using libpcap to sniff traffic in promiscuous mode </p>\n\n<pre><code>int main() \n{\n    // some stuff\n    printf(\"Opening device: %s\\n\", devname.c_str());\n\n    handle = pcap_open_live(devname.c_str(), 65536 , 1 , 0 , errbuf);\n\n    if (handle == NULL)\n    {\n        fprintf(stderr, \"Couldn't open device %s : %s...\" , devname.c_str(), errbuf);\n        return 1;\n    }\n    printf(\" Done\\n\");\n\n    pcap_loop(handle , -1 , process_packet , NULL);\n    // here run a thread to do some stuff. however, pcap_loop is blocking\n    return 0;\n}\n</code></pre>\n\n<p>I'd like to add an external thread to do some other stuff. How do I change the code above to make it non-blocking?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 3, "creation_date": 1436398418, "post_id": 31305621, "comment_id": 50600818, "body": "Use <code>std::vector&lt;Employee&gt;</code>."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436398426, "post_id": 31305621, "comment_id": 50600821, "body": "why don&#39;t you use a <code>vector</code>? it would be pretty easy then.."}, {"owner": {"reputation": 605, "user_id": 3270926, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FHlQp.jpg?s=128&g=1", "display_name": "youssef", "link": "https://stackoverflow.com/users/3270926/youssef"}, "edited": false, "score": 0, "creation_date": 1436398919, "post_id": 31305621, "comment_id": 50600960, "body": "you are not allowed to use vectors, or you are not allowed to use standard templates in general, because you can use <code>std::array</code>"}, {"owner": {"reputation": 5849, "user_id": 767829, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3f1eeecd07fe2b30579cc9f1a7353def?s=128&d=identicon&r=PG", "display_name": "jdl", "link": "https://stackoverflow.com/users/767829/jdl"}, "edited": false, "score": 0, "creation_date": 1436398984, "post_id": 31305621, "comment_id": 50600976, "body": "Can you just copy the elements of one array that you want, resize the target and put them back in?"}], "answers": [{"tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": false, "score": 3, "last_activity_date": 1436398591, "creation_date": 1436398591, "answer_id": 31305672, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c/31305672#31305672", "title": "Remove object from an array in C++?", "body": "<p>There is no built-in way to remove an element from a C++ array. Arrays always have fixed size, so you can't add or remove elements.</p>\n\n<p>You do have some other options. For example, you could use the <code>std::vector</code> type, which acts like an array but lets you add and remove elements. Alternatively, if you just need to store elements in <em>some</em> order and don't care what the order is, try using <code>std::unordered_map</code> or <code>std::map</code>.</p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 2, "creation_date": 1436402199, "post_id": 31305786, "comment_id": 50601829, "body": "Upvoted: Another way which seems better is to have a <code>flag</code> as part of the  Employee class, then you dont need to have a spereate away, you can simply check if an <code>Employee</code> is valid with <code>Employee[i].valid()</code> or similar."}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": false, "score": 3, "last_activity_date": 1436399305, "creation_date": 1436399305, "answer_id": 31305786, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c/31305786#31305786", "title": "Remove object from an array in C++?", "body": "<p>An alternative approach would be to have an array of bool the same length of <code>Employess</code> to keep track if the object at a specific position is valid or not. </p>\n\n<p>When you add an element, you set the corresponding value in the array, when you remove it, you reset the corresponding value.</p>\n\n<p>When you access your employees, you should also check if it's valid or not.. etc...</p>\n\n<p>It's a lot more work than using a <code>std::vector</code>, which should be your first choice.</p>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 3270926, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FHlQp.jpg?s=128&g=1", "display_name": "youssef", "link": "https://stackoverflow.com/users/3270926/youssef"}, "is_accepted": false, "score": 0, "last_activity_date": 1436401208, "creation_date": 1436401208, "answer_id": 31306090, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c/31306090#31306090", "title": "Remove object from an array in C++?", "body": "<p>Just for more help:</p>\n\n<blockquote>\n  <p>look to this old example from \"Thinking in c++ vol 1 page 588\" it is very useful to make a kind of dynamic and resizable array from scratch using pointers to your object eg; <code>new Employee.</code></p>\n</blockquote>\n\n<p>note : you need to remove <code>#include require.h</code> and add a  similar code using <code>if</code>. in addition you need to look to the header \"PStash\" in the book. Have a look to this topic it's very useful to answer your question specially <code>remove()</code> and <code>inflate()</code> functions implementations.</p>\n\n<p>This example use <code>void *</code> pointers, when you get your pointer you can cast back to you object eg, <code>Embloyee</code></p>\n\n<p>if you don't like to use void you can make it in <code>templated class</code> and avoid cast stuff</p>\n\n<pre><code>//: C13:PStash.cpp {O}\n// Pointer Stash definitions\n\n#include \"PStash.h\"\n#include \"../require.h\"\n#include &lt;iostream&gt;\n#include &lt;cstring&gt; // 'mem' functions\n\nusing namespace std;\nint PStash::add(void* element) {\n  const int inflateSize = 10;\n  if(next &gt;= quantity)\n    inflate(inflateSize);\n  storage[next++] = element;\n  return(next - 1); // Index number\n}\n// No ownership:\nPStash::~PStash() {\n  for(int i = 0; i &lt; next; i++)\n    require(storage[i] == 0,\n        \"PStash not cleaned up\");\n  delete []storage;\n}\n// Operator overloading replacement for fetch\nvoid* PStash::operator[](int index) const {\n  require(index &gt;= 0,\n      \"PStash::operator[] index negative\");\n  if(index &gt;= next)\n    return 0; // To indicate the end\n  // Produce pointer to desired element:\n  return storage[index];\n}\nvoid* PStash::remove(int index) {\n  void* v = operator[](index);\n  // \"Remove\" the pointer:\n  if(v != 0) storage[index] = 0;\n  return v;\n}\nvoid PStash::inflate(int increase) {\n  const int psz = sizeof(void*);\n  void** st = new void*[quantity + increase];\n  memset(st, 0, (quantity + increase) * psz);\n  memcpy(st, storage, quantity * psz);\n  quantity += increase;\n  delete []storage; // Old storage\n  storage = st; // Point to new memory\n} ///:~\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "is_accepted": false, "score": 1, "last_activity_date": 1436403469, "creation_date": 1436403469, "answer_id": 31306376, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c/31306376#31306376", "title": "Remove object from an array in C++?", "body": "<p><code>delete listEmployee[index]; //-&gt;\"cannot delete expression of type 'Employees'</code></p>\n\n<p>This can't work because you can only delete via pointers, but <code>listEmployee[index]</code> is not a pointer (it's direct access to an instance).</p>\n\n<p>Furthermore, new and delete must be balanced. You can only <code>delete</code> what was allocated via <code>new</code>. And only <code>delete[]</code> what was allocated by <code>new[]</code>. So since your <code>listEmployees</code> came from a <code>new[]</code> allocation, then the only valid deallocation action is a <code>delete[]</code> on the <code>listEmployees</code> itself.</p>\n\n<p>In other words, you can't delete an element out of the middle of an array. You can only dispose of the entire array at once.</p>\n\n<p>As others have suggested, <code>vector</code> and such are great to use instead of raw arrays. But it sounds like this is probably a homework problem or some other case where the easy options have been ruled out.</p>\n\n<p>In that case, here are two possibilities:</p>\n\n<p>1) Allocate a second array of <code>Employees</code> sized one less than the original. Then sequentially copy over all of the ones that are supposed to be kept, and excluding the one to be removed. Then deallocate the original array and assign the new array to <code>listEmployees</code>.</p>\n\n<p>2) Starting with the one to be removed, take the next entry in the array and assign it to that one. The move ahead by one and do the same thing again. Keep doing that until the end of the array. The intent is to shift all the others down by one, overwriting the one you wanted to remove. The last element of the array is just left hanging around. If it has any kind of method to clear out its values, then that could be used. Presumably you also have some kind of count of the number of element in the array which is getting updated, thus nothing will try to access that dead entry on the end. So effectively is entry in the middle is removed, but without needing another array allocation.</p>\n"}, {"tags": [], "owner": {"reputation": 6009, "user_id": 3313438, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/Ks9C6.jpg?s=128&g=1", "display_name": "Ziezi", "link": "https://stackoverflow.com/users/3313438/ziezi"}, "is_accepted": false, "score": 0, "last_activity_date": 1451506224, "last_edit_date": 1451506224, "creation_date": 1451505866, "answer_id": 34536451, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c/34536451#34536451", "title": "Remove object from an array in C++?", "body": "<p>You could just assign an <em>invalid value</em> to the element you want to delete and then elements with this invalid  or default value could be regarded as uninitialized or valid to be overwritten.  </p>\n\n<p>For example the remove function could be:</p>\n\n<pre><code>void removeEmployee(int index) {\n\n    Employees default_val = NIL_emp;\n\n    listEmployees[index] = defaul_val;     \n}\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 3383467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c43a6056772030399ab8badd89c98cea?s=128&d=identicon&r=PG&f=1", "display_name": "IronRabbit", "link": "https://stackoverflow.com/users/3383467/ironrabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8036, "favorite_count": 1, "answer_count": 5, "score": 3, "last_activity_date": 1451506224, "creation_date": 1436398329, "last_edit_date": 1451503501, "question_id": 31305621, "link": "https://stackoverflow.com/questions/31305621/remove-object-from-an-array-in-c", "title": "Remove object from an array in C++?", "body": "<p>Here's a simplified sample of my code : \nThe .h</p>\n\n<pre><code>class Company {\npublic:\n    Company();\n    void addEmployee(const Employee &amp;emp);\n    void removeEmployee();\n\nprivate:\n    Employees *listEmployees;\n};\n</code></pre>\n\n<p>The .cpp</p>\n\n<pre><code>Company::Company(){ listEmployees = new Employees[16];\u00a0}\nCompany::addEmployee(const Employee &amp;emp) {listEmployee[index]=emp;}\nCompany::removeEmployee(){ ??? }\n</code></pre>\n\n<p>I would like to remove an Employee stored in my array. I tried to use :</p>\n\n<pre><code>delete listEmployee[index]; //-&gt;\"cannot delete expression of type 'Employees'\nlistEmployee[index]=NULL;   //-&gt;\"no viable overloaded '='\"\n</code></pre>\n\n<p>I didn't find satisfying solution on the web. Also, I'm not very familiar with pointer and reference, maybe the error cames from this.\nThanks.</p>\n\n<p>EDIT : I'm NOT allowed to use vectors, I must use arrays.</p>\n\n<p>EDIT2 : Thanks for your answer. Here's the solution I used : </p>\n\n<pre><code>for(int i=indexEmp;i&lt;sizeArray-1;i++){\n    listEmployees[i]=listEmployees[i+1];\n}\n</code></pre>\n\n<p>Where indexEmp is the index of the employee I want to remove.</p>\n"}, {"tags": ["c++", "templates", "c++11"], "comments": [{"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1436398842, "post_id": 31305613, "comment_id": 50600932, "body": "so basically you want a versionized IO system. I would let the <code>WaveformData</code> read and react to the version number"}, {"owner": {"reputation": 780, "user_id": 4151225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc7068fd65a846c927df403c73805f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/4151225/nicholas-smith"}, "edited": false, "score": 1, "creation_date": 1436404989, "post_id": 31305613, "comment_id": 50602481, "body": "I recommend getting yourself out of this template spaghetti rather than piling it up any higher.  The <a href=\"http://www.codeproject.com/Articles/889/Applying-Strategy-Pattern-in-C-Applications\" rel=\"nofollow noreferrer\">strategy pattern</a> is a much better choice for this type of problem, and you will only take a small type safety hit if done correctly."}, {"owner": {"reputation": 325, "user_id": 5096149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee54a138873295651a5a931db7a96d8?s=128&d=identicon&r=PG&f=1", "display_name": "bryanm", "link": "https://stackoverflow.com/users/5096149/bryanm"}, "reply_to_user": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1436465051, "post_id": 31305613, "comment_id": 50636429, "body": "@WorldSEnder I considered that, but it requires a revamp of the entire system, and as I mentioned I&#39;m attempting to extend this one."}, {"owner": {"reputation": 325, "user_id": 5096149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee54a138873295651a5a931db7a96d8?s=128&d=identicon&r=PG&f=1", "display_name": "bryanm", "link": "https://stackoverflow.com/users/5096149/bryanm"}, "reply_to_user": {"reputation": 780, "user_id": 4151225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc7068fd65a846c927df403c73805f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/4151225/nicholas-smith"}, "edited": false, "score": 0, "creation_date": 1436465253, "post_id": 31305613, "comment_id": 50636549, "body": "@qexyn Could you expand on this a little bit? This would probably also require me to change the whole structure, but I could explore it. If it seems suitable, I could accept as an answer."}], "owner": {"reputation": 325, "user_id": 5096149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee54a138873295651a5a931db7a96d8?s=128&d=identicon&r=PG&f=1", "display_name": "bryanm", "link": "https://stackoverflow.com/users/5096149/bryanm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1436459436, "creation_date": 1436398276, "last_edit_date": 1436459436, "question_id": 31305613, "link": "https://stackoverflow.com/questions/31305613/using-a-variable-as-a-template-parameter-or-alternate-suggestions", "title": "Using a variable as a template parameter, or alternate suggestions", "body": "<p>I\u2019m extending a file parser for specific kinds of files. These files contain a limited number of known \u201cchunks\u201d where each chunk is represented as a struct in code. This is implemented using template specialization so that it remains type safe. Here\u2019s an overview of how it\u2019s all set up currently:</p>\n\n<pre><code>namespace fcc {\n    enum FileTypes {\n        ASND = 'ASND',\n        // ... and so on\n    };\n\n    enum ChunkTypes {\n        peak = 'peak',\n        wvfm = 'wvfm',\n        // ... and so on\n    };\n}\n\n\n// Type is typedef'd to void to give compile-time error for invalid chunks\ntemplate &lt;uint32 TFileType, uint32 TChunkType&gt;\nstruct ChunkFactory {\n    typedef void Type;\n};\n\n\ntemplate &lt;uint32 TFileType&gt;\nclass BinaryFile {\n    BinaryFile(void *data, size_t size);\n    // ...\n    template &lt;uint32 TId&gt;\n    std::shared_ptr&lt;typename ChunkFactory&lt;TFileType,TChunkType&gt;::Type&gt; chunk() const {\n        uint32 size;\n        const byte* data = getChunk(TChunkType, size);\n\n        if (data) { return std::make_shared&lt;typename ChunkFactory&lt;TFileType,TChunkType&gt;::Type&gt;(data, size); }\n        else { return nullptr; }\n    }\n    // ...\n}\n\n// for each chunk that needs to be parsed into struct, i specialize the type\nstruct AudioPeakData {\n    AudioPeakData(const byte* data, uint32 size);\n    // ...\n};\nstruct WaveformData {\n    WaveformData(const byte* data, uint32 size);\n    // ...\n};\ntemplate&lt;&gt; struct ChunkFactory&lt;fcc::ASND,fcc::peak&gt; { typedef AudioPeakData Type; };\ntemplate&lt;&gt; struct ChunkFactory&lt;fcc::ASND,fcc::wvfm&gt; { typedef WaveformData Type; };\n</code></pre>\n\n<p>This allows me to do the following:</p>\n\n<pre><code>BinaryFile&lt;Audio&gt; file(fileBuffer, fileSize);\nauto peakChunk = file.chunk&lt;fcc::peak&gt;();\nauto wvfmChunk = file.chunk&lt;fcc::wvfm&gt;();\n</code></pre>\n\n<p>=========================================================================</p>\n\n<p>The problem is that I now have to implement a way to parse versioned structures. So, for example, for audio peak data there is multiple versions of the struct that each holds different fields. Like I have here:</p>\n\n<pre><code>struct AudioPeakDataV1 {\n    AudioPeakDataV1(const byte* data, uint32 size);\n\n    int field1;\n    string field2;\n    vector&lt;int&gt; field3;\n    // ...\n};\n\nstruct AudioPeakDataV2 {\n    AudioPeakDataV2(const byte* data, uint32 size);\n\n    int field1;\n    int field2;\n    byte field3;\n    // ...\n};\n</code></pre>\n\n<p>I\u2019m not incredibly experienced at c++ template programming, and so I initially thought I could pass in a version as a template parameter, like so:</p>\n\n<pre><code>template &lt;uint32 TFileType, uint32 TChunkType, uint32 TVersion&gt;\nstruct ChunkFactory {\n    typedef void Type;\n};\ntemplate&lt;&gt; struct ChunkFactory&lt;fcc::ASND,fcc::peak,1&gt; { typedef AudioPeakDataV1 Type; };\ntemplate&lt;&gt; struct ChunkFactory&lt;fcc::ASND,fcc::peak,2&gt; { typedef AudioPeakDataV2 Type; };\n\ntemplate &lt;uint32 TFileType&gt;\nclass BinaryFile {\n    template &lt;uint32 TId&gt;\n    std::shared_ptr&lt;typename ChunkFactory&lt;TFileType,TChunkType&gt;::Type&gt; chunk() const {\n        uint32 size;\n        uint32 version;\n        const byte* data = getChunk(TChunkType, size, version);\n\n        // version is not known at compile time, so can't pass it in template parameter.\n        if (data) { return std::make_shared&lt;typename ChunkFactory&lt;TFileType,TChunkType,version&gt;::Type&gt;(data, size); }\n        else { return nullptr; }\n    }\n    // ...\n}\n</code></pre>\n\n<p>I\u2019m looking for some tips on the best way to set this up. I\u2019m considering Boost.MPL as I read on here that you with it you can use variables as template parameters, but as I\u2019m inexperienced in template programming it\u2019s quite overwhelming and I can\u2019t figure out how to get it to do what I need done here.</p>\n\n<p>I hope I\u2019ve explained things clearly enough so someone might be able to guide me in the right direction.</p>\n"}, {"tags": ["c++", "c", "linux"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436397756, "post_id": 31305518, "comment_id": 50600624, "body": "Use a bare-metal embedded system. There are very good reasons for protected memory systems."}, {"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 1, "creation_date": 1436397852, "post_id": 31305518, "comment_id": 50600642, "body": "Yes, this is possible. Read about the <code>mprotect</code> systemcall."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1436397854, "post_id": 31305518, "comment_id": 50600643, "body": "What you&#39;re asking about is commonly called &quot;self-modifying code&quot;."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 1, "creation_date": 1436397921, "post_id": 31305518, "comment_id": 50600661, "body": "Self-modifying code is an abomination anyway.  It&#39;s not thread-safe, for starters."}, {"owner": {"reputation": 19, "user_id": 5095930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b531149761f385ca2151aad4afe68e9?s=128&d=identicon&r=PG&f=1", "display_name": "Daughter", "link": "https://stackoverflow.com/users/5095930/daughter"}, "edited": false, "score": 0, "creation_date": 1436398334, "post_id": 31305518, "comment_id": 50600791, "body": "to FUZxxl: thanks, will read."}], "owner": {"reputation": 19, "user_id": 5095930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b531149761f385ca2151aad4afe68e9?s=128&d=identicon&r=PG&f=1", "display_name": "Daughter", "link": "https://stackoverflow.com/users/5095930/daughter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "closed_date": 1436397981, "answer_count": 0, "score": 1, "last_activity_date": 1436397670, "creation_date": 1436397670, "question_id": 31305518, "link": "https://stackoverflow.com/questions/31305518/can-or-not-a-compiled-for-linux-program-access-her-own-memory-without-getting", "closed_reason": "Duplicate", "title": "Can, or not, a compiled for Linux program access her own memory without getting any access violation?", "body": "<p><strong>Introduction</strong>. (skip to the question please ;)</p>\n\n<p>There was a time when a program can do the things in a way I like her to do them. Some time passed, I have found that I can't do some of them any more.\nI hope there is a way still, though..</p>\n\n<p>Maybe there are options in compiler, maybe in loader, maybe in kernel (I'm interested in Linux OS, newbie in it, though), have no idea where; but sorry - I don't want to end up as dead while searching..</p>\n\n<p><strong>The question</strong>.</p>\n\n<p>I want to run a code in a program that has been modified by that program (producing assembler instructions). Tried it - got the SIGSEGV as result of changing the immediate data in the code segment. I need a way to make the code segment writable etc, ONLY for my own USER-space program. Where to start?</p>\n\n<p>Thanks.</p>\n\n<p>P.S. As suggested tags were c++/linux/c, added them.</p>\n"}, {"tags": ["c++", "winapi"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 5092746, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2c1439c44e78de6b46535a9c23b01eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5092746/moe"}, "edited": false, "score": 0, "creation_date": 1436401168, "post_id": 31305583, "comment_id": 50601556, "body": "that dosnt work, even if it works, that would be so hard to send a variable string"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 303, "user_id": 5092746, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2c1439c44e78de6b46535a9c23b01eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5092746/moe"}, "edited": false, "score": 0, "creation_date": 1436401926, "post_id": 31305583, "comment_id": 50601765, "body": "@Kordy, it does work, when used correctly (this answer was <i>partially</i> correct - it was sending two inputs for keydown events, but was not sending two additional inputs for the corresponding keyup events - I have corrected that). As for variable-length strings, you would simply allocate the <code>INPUT</code> array dynamically at runtime based on how many characters are actually in the string, and then populate the array with each character. And when sending strings, you are better off using the <code>KEYEVENTF_UNICODE</code> flag to send actual UTF-16 characters instead of sending virtual key codes,"}, {"owner": {"reputation": 303, "user_id": 5092746, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2c1439c44e78de6b46535a9c23b01eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5092746/moe"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1436407011, "post_id": 31305583, "comment_id": 50602961, "body": "@RemyLebeau could you give me an example of using KEYEVENTF_UNICODE flag?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 303, "user_id": 5092746, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2c1439c44e78de6b46535a9c23b01eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5092746/moe"}, "edited": false, "score": 0, "creation_date": 1436411317, "post_id": 31305583, "comment_id": 50603972, "body": "@Kordy: I posted an answer demonstrating <code>KEYEVENTF_UNICODE</code>."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 4, "last_activity_date": 1436402002, "last_edit_date": 1436402002, "creation_date": 1436398137, "answer_id": 31305583, "question_id": 31305404, "link": "https://stackoverflow.com/questions/31305404/sending-two-or-more-chars-using-sendinput/31305583#31305583", "title": "Sending Two or more chars using SendInput", "body": "<p>If I've got you right, you want something more along the lines of this:</p>\n\n<pre><code>INPUT in[4] = {0}; // four inputs\n\n// first input 0x53\nin[0].type=INPUT_KEYBOARD;\nin[0].ki.wScan=0;\nin[0].ki.dwFlags=0;\nin[0].ki.time=0;\nin[0].ki.dwExtraInfo=0;\nin[0].ki.wVk=0x53;\n\nin[1] = in[0];\nin[1].ki.dwFlags |= KEYEVENTF_KEYUP;\n\n// second input 0x54\nin[2].type=INPUT_KEYBOARD;\nin[2].ki.wScan=0;\nin[2].ki.dwFlags=0;\nin[2].ki.time=0;\nin[2].ki.dwExtraInfo=0;\nin[2].ki.wVk=0x54;\n\nin[3] = in[2];\nin[3].ki.dwFlags |= KEYEVENTF_KEYUP;\n\nSendInput(4,in,sizeof(INPUT));\n</code></pre>\n\n<p>Probably want to wrap the grunt work setting up the INPUT structure into a function to reduce duplication.</p>\n"}, {"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1436439323, "post_id": 31307429, "comment_id": 50618317, "body": "<code>wstring</code> is short for <code>basic_string&lt;wchar_t&gt;</code>. A <code>wchar_t</code> is the same size as an <code>unsigned short</code> (Windows, Visual Studio). An <code>unsigned short</code> cannot hold a value &gt;= 0x10000. If it did, your code would exhibit UB, since it would write beyond the end of the container. I believe the call to <code>ZeroMemory</code> is also not required: The container will be populated with default-(zero-)initialized structures."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1436453704, "post_id": 31307429, "comment_id": 50629197, "body": "yes, you are right about <code>wchar_t</code>. I was looking at another piece of code that accepts codepoints instead of codeunits and forgot to adjust the <code>if</code>. I have corrected it."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 8, "last_activity_date": 1436453486, "last_edit_date": 1436453486, "creation_date": 1436411297, "answer_id": 31307429, "question_id": 31305404, "link": "https://stackoverflow.com/questions/31305404/sending-two-or-more-chars-using-sendinput/31307429#31307429", "title": "Sending Two or more chars using SendInput", "body": "<p>The first parameter of <code>SendInput()</code> specifies how many <code>INPUT</code> structures you are passing in.  You are only passing in 1, but you are telling <code>SendInput()</code> that you are passing in 2.</p>\n\n<p>You cannot specify two separate virtual keys in a single <code>INPUT</code>.  You need to declare an array of multiple <code>INPUT</code>s, one for each virtual key, and don't forget to include 2 <code>INPUT</code>s for each virtual key - one for the keydown event and one for the keyup event.  So, in your example, you actually need 4 <code>INPUT</code>s to send 2 virtual keys, as shown in @user4581301's answer.</p>\n\n<p>Now, regarding <code>KEYEVENTF_UNICODE</code>, you don't use virtual keys with it, you use actual Unicode codepoints instead, where they are specified using UTF-16 codeunits, one per <code>INPUT</code>.  So that means if you want to send a Unicode codepoint that requires a UTF-16 surrogate pair, you need 2 <code>INPUT</code>s, one for the high surrogate and one for the low surrogate.  That caveat is <em>NOT</em> mentioned in the <code>SendInput()</code> documentation, but it is implied by the fact that the <code>vScan</code> field is a 16bit <code>WORD</code>, and that <code>KEYEVENTF_UNICODE</code> events generate <code>WM_CHAR</code> messages, which passes UTF-16 surrogate codeunits as separate messages.</p>\n\n<p>So, to send a string of Unicode characters using <code>KEYEVENTF_UNICODE</code>, you can do something like this:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;string&gt;\n\nvoid SendInputString(const std::wstring &amp;str)\n{\n    int len = str.length();\n    if (len == 0) return;\n\n    std::vector&lt;INPUT&gt; in(len*2);\n    ZeroMemory(&amp;in[0], in.size()*sizeof(INPUT));\n\n    int i = 0, idx = 0;\n    while (i &lt; len)\n    {\n        WORD ch = (WORD) str[i++];\n\n        if ((ch &lt; 0xD800) || (ch &gt; 0xDFFF))\n        {\n            in[idx].type = INPUT_KEYBOARD;\n            in[idx].ki.wScan = ch;\n            in[idx].ki.dwFlags = KEYEVENTF_UNICODE;\n            ++idx;\n\n            in[idx] = in[idx-1];\n            in[idx].ki.dwFlags |= KEYEVENTF_KEYUP;\n            ++idx;\n        }\n        else\n        {\n            in[idx].type = INPUT_KEYBOARD;\n            in[idx].ki.wScan = ch;\n            in[idx].ki.dwFlags = KEYEVENTF_UNICODE;\n            ++idx;\n\n            in[idx].type = INPUT_KEYBOARD;\n            in[idx].ki.wScan = (WORD) str[i++];\n            in[idx].ki.dwFlags = KEYEVENTF_UNICODE;\n            ++idx;\n\n            in[idx] = in[idx-2];\n            in[idx].ki.dwFlags |= KEYEVENTF_KEYUP;\n            ++idx;\n\n            in[idx] = in[idx-2];\n            in[idx].ki.dwFlags |= KEYEVENTF_KEYUP;\n            ++idx;\n        }\n    }\n\n    SendInput(in.size(), &amp;in[0], sizeof(INPUT));\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 5092746, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2c1439c44e78de6b46535a9c23b01eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe", "link": "https://stackoverflow.com/users/5092746/moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 2, "accepted_answer_id": 31307429, "answer_count": 2, "score": 4, "last_activity_date": 1436453486, "creation_date": 1436396998, "last_edit_date": 1436424700, "question_id": 31305404, "link": "https://stackoverflow.com/questions/31305404/sending-two-or-more-chars-using-sendinput", "title": "Sending Two or more chars using SendInput", "body": "<p>To send a char, we can use SendInput. How can I use it to send more than one char?</p>\n\n<p>I tried this code but it does not send anything:</p>\n\n<pre><code>INPUT in;\nin.type=INPUT_KEYBOARD;\nin.ki.wScan=0;\nin.ki.time=0;\nin.ki.dwExtraInfo=0;\nin.ki.wVk=0x53+0x54;\n\nSendInput(2,&amp;in,sizeof(INPUT));\n</code></pre>\n\n<p>So, what is the right way?</p>\n"}, {"tags": ["c++", "gcc"], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1436398375, "post_id": 31305432, "comment_id": 50600803, "body": "An <code>-L</code> option might also be needed, if this isn&#39;t a header-only library"}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1436398573, "post_id": 31305432, "comment_id": 50600861, "body": "@MattMcNabb And/or <code>-l</code>, true."}], "tags": [], "owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "is_accepted": true, "score": 5, "last_activity_date": 1436397137, "creation_date": 1436397137, "answer_id": 31305432, "question_id": 31305387, "link": "https://stackoverflow.com/questions/31305387/gcc-compiler-cannot-find-hpp-files/31305432#31305432", "title": "GCC compiler cannot find hpp files", "body": "<p><code>-L</code> sets paths where the linker searches for libraries to link. The option you're looking for is <code>-I</code>, which sets the paths where the compiler searches for <code>#include</code>d files.</p>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 2, "last_activity_date": 1436397175, "creation_date": 1436397175, "answer_id": 31305439, "question_id": 31305387, "link": "https://stackoverflow.com/questions/31305387/gcc-compiler-cannot-find-hpp-files/31305439#31305439", "title": "GCC compiler cannot find hpp files", "body": "<pre><code>g++ -L/usr/local/hep-mc/include vegas_mpi_ex.cpp -o vegas_mpi\n</code></pre>\n\n<p>Oops!</p>\n\n<pre><code>g++ -I/usr/local/hep-mc/include vegas_mpi_ex.cpp -o vegas_mpi\n</code></pre>\n\n<p><code>-L</code> specifies the path to library files; <code>-I</code> specifies the path to includes.</p>\n\n<p>This is confusing because in terms of project management and distribution, we consider \"the library\" to include both binaries and header files, as well as documentation and all sorts of goodies. But at a technical level that is not what \"library\" means.</p>\n"}], "owner": {"reputation": 13, "user_id": 5096056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ba039fff3d7304c651fa065f25f8ae?s=128&d=identicon&r=PG&f=1", "display_name": "meijiu", "link": "https://stackoverflow.com/users/5096056/meijiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 1, "accepted_answer_id": 31305432, "answer_count": 2, "score": 1, "last_activity_date": 1436397175, "creation_date": 1436396904, "question_id": 31305387, "link": "https://stackoverflow.com/questions/31305387/gcc-compiler-cannot-find-hpp-files", "title": "GCC compiler cannot find hpp files", "body": "<p>I am trying to install the hep-mc library listed here: <a href=\"https://github.com/cschwan/hep-mc\" rel=\"nofollow\">https://github.com/cschwan/hep-mc</a> for use on compute using the instructions listed  in the documentation here: <a href=\"https://github.com/cschwan/hep-mc#installation\" rel=\"nofollow\">https://github.com/cschwan/hep-mc#installation</a> . To compile one of the example files, I typed this into the terminal:</p>\n\n<pre><code>g++ -L/usr/local/hep-mc/include vegas_mpi_ex.cpp -o vegas_mpi\n</code></pre>\n\n<p>but I get these error messages:</p>\n\n<pre><code>mpi_vegas_ex.cpp:1:22: error: hep/mc.hpp: No such file or directory\nmpi_vegas_ex.cpp:2:26: error: hep/mc-mpi.hpp: No such file or directory\nmpi_vegas_ex.cpp:8:17: error: mpi.h: No such file or directory\n</code></pre>\n\n<p>in the beginning of my code, the declarations are like this:</p>\n\n<pre><code>#include \"hep/mc.hpp\"\n#include \"hep/mc-mpi.hpp\"\n\n#include &lt;mpi.h&gt;\n</code></pre>\n\n<p>The tutorial states that I should point the compiler to the location of the \"include\" folder that contains all the .hpp files, which I have done. Do you guys have any idea as to what I'm doing wrong? </p>\n\n<p>It should also be noted that the compiler cannot find the mpi.h directory even though I have loaded the openmpi module.</p>\n"}, {"tags": ["c++", "arrays", "function"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4651282"}, "edited": false, "score": 2, "creation_date": 1436396284, "post_id": 31305242, "comment_id": 50600149, "body": "you can&#39;t pass an array by value in function."}], "answers": [{"comments": [{"owner": {"reputation": 5295, "user_id": 2089899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JJVOk.jpg?s=128&g=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/2089899/austin"}, "edited": false, "score": 0, "creation_date": 1436396547, "post_id": 31305285, "comment_id": 50600247, "body": "ahh ok, I&#39;ve so far only passed vectors to functions so I didn&#39;t realize it worked that way, thanks."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 5295, "user_id": 2089899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JJVOk.jpg?s=128&g=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/2089899/austin"}, "edited": false, "score": 1, "creation_date": 1436396622, "post_id": 31305285, "comment_id": 50600272, "body": "@AustinMW, That&#39;s part of the reason plain arrays are discouraged. They don&#39;t act like most other types."}], "tags": [], "owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "is_accepted": false, "score": 7, "last_activity_date": 1436396432, "last_edit_date": 1436396432, "creation_date": 1436396377, "answer_id": 31305285, "question_id": 31305242, "link": "https://stackoverflow.com/questions/31305242/why-does-this-function-change-list-value-without-pointer/31305285#31305285", "title": "Why does this function change list value without pointer?", "body": "<pre><code>void array_increment(int list[], int SIZE) \n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>void array_increment(int* list, int SIZE) \n</code></pre>\n\n<p>so the parameter is a pointer.</p>\n\n<p>For a primitive type like a pointer, it's only a shallow copy. The pointer itself is copied, but what it points to is not. So the <code>list</code> variable inside the function still points to the array that lives outside of the function.</p>\n"}, {"tags": [], "owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "is_accepted": true, "score": 4, "last_activity_date": 1436396465, "creation_date": 1436396465, "answer_id": 31305305, "question_id": 31305242, "link": "https://stackoverflow.com/questions/31305242/why-does-this-function-change-list-value-without-pointer/31305305#31305305", "title": "Why does this function change list value without pointer?", "body": "<p>There are a few issues at play.</p>\n\n<ol>\n<li>Plain arrays aren't copyable or assignable.</li>\n<li>Function parameters such as <code>int a[]</code> get <em>adjusted</em> to pointer <code>int* a</code>.</li>\n<li>Array names can decay <em>decay</em> to a pointer to their first element</li>\n</ol>\n\n<p>That 2nd point means that</p>\n\n<pre><code>void array_increment(int list[],int SIZE) \n</code></pre>\n\n<p>is really</p>\n\n<pre><code>void array_increment(int* list,int SIZE) \n</code></pre>\n\n<p>and the 3rd point means you can pass array <code>c</code> as first argument because it can decay to <code>int*</code>.</p>\n"}], "owner": {"reputation": 5295, "user_id": 2089899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JJVOk.jpg?s=128&g=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/2089899/austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31305305, "answer_count": 2, "score": 1, "last_activity_date": 1436396465, "creation_date": 1436396143, "question_id": 31305242, "link": "https://stackoverflow.com/questions/31305242/why-does-this-function-change-list-value-without-pointer", "title": "Why does this function change list value without pointer?", "body": "<p>If I pass a value to a function doesn't it make a copy of the value so that if I change it within the function it doesn't change the original unless I instead pass its address? This is probably a stupid question, but I can't figure out why this function is changing the value of the list.</p>\n\n<pre><code>void array_increment(int list[],int SIZE) \n{\n    for (int i=0; i&lt;SIZE; i++)\n        list[i] = list[i]+1;\n}\n\nint main() \n{\n    int c[]={3,1,0,-5,1};\n    array_increment(c,5);\n\n    for (int i = 0; i &lt; 5; i ++)\n        cout &lt;&lt; c[i] &lt;&lt; \" \";\n    cout &lt;&lt; endl;\n}   \n</code></pre>\n\n<p>Outputs <code>4 2 1 -4 2</code></p>\n"}, {"tags": ["c++", "sorting", "c++11", "segmentation-fault"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1436396492, "post_id": 31305191, "comment_id": 50600230, "body": "Problem 1: That&#39;s not a selection sort. Selection sort is an in-place sort, and you&#39;re removing items from the input list and adding them to an output list. A proper selection sort operates on the input list, transforming it into the sorted list. If this is for an assignment, don&#39;t spend too much effort debugging this code because the answer is wrong. Odds are pretty good that it is wrong  because you are overrunning the end of the input list because it changed size while you were using it."}, {"owner": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436396731, "post_id": 31305191, "comment_id": 50600309, "body": "Okay, wasn&#39;t aware that a selection sort had to be in-place. This isn&#39;t an assignment, and the input list&#39;s size being changed is properly handled so that is not causing an error. Vlad already answered the question correctly."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436397297, "post_id": 31305191, "comment_id": 50600490, "body": "OK. my guess on the cause was wrong. @VladfromMoscow has the bug fix and it still holds once you get the vector handling sorted out with a swap."}, {"owner": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436397589, "post_id": 31305191, "comment_id": 50600577, "body": "Yeah, thanks for pointing out that the selection sort is in-place, I&#39;m working on fixing it now."}, {"owner": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436399020, "post_id": 31305191, "comment_id": 50600992, "body": "@user4581301 I don&#39;t want to edit the main post, but is this a correct implementation of a selection sort? <a href=\"http://pastebin.com/ui3Q3WfZ\" rel=\"nofollow noreferrer\">pastebin.com/ui3Q3WfZ</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436414954, "post_id": 31305191, "comment_id": 50604895, "body": "Not quite. You need two loops, an outer and an inner. Outer marches from index 0 to the second last element (because the last element will be sorted by the time you get there) and the inner loop marches from the index of the outer loop to the end of the array looking for the lowest value. <a href=\"https://en.wikipedia.org/wiki/Selection_sort#Implementation\" rel=\"nofollow noreferrer\">Wiki&#39;s implementation looks pretty readable</a>, use it as a basis using your vector instead of a vanilla array."}], "answers": [{"comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "edited": false, "score": 0, "creation_date": 1436396793, "post_id": 31305231, "comment_id": 50600331, "body": "@ChemicalStudios It seems that the function in any case is wrong."}, {"owner": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "edited": false, "score": 0, "creation_date": 1436397065, "post_id": 31305231, "comment_id": 50600402, "body": "So I&#39;ve been told by @user4581301 I will work on the solution to make it in-place."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 5, "last_activity_date": 1436396268, "last_edit_date": 1436396268, "creation_date": 1436396069, "answer_id": 31305231, "question_id": 31305191, "link": "https://stackoverflow.com/questions/31305191/getting-segmentation-fault-sometimes-from-an-attempt-at-a-selection-sort-imple/31305231#31305231", "title": "Getting segmentation fault *sometimes* from an attempt at a selection sort implementation", "body": "<p>The function has undefined behaviour because there is used uninitialized variable <code>lowest_number</code></p>\n\n<pre><code>int lowest_number;\n     ^^^^^^^^^^^^^\n//...\nfor (int i = 0; i &lt; numbers.size(); ++i) {\n\n    // Find the lowest number\n    if (numbers[i] &lt;= lowest_number) {\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^ \n</code></pre>\n\n<p>Take into account that variable <code>lowest_number_index</code> is also uninitialized.</p>\n\n<pre><code>int lowest_number_index;\n</code></pre>\n"}], "owner": {"reputation": 188, "user_id": 2378526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8490af5b7c809621f8fe265a8957dc1c?s=128&d=identicon&r=PG", "display_name": "Dylan", "link": "https://stackoverflow.com/users/2378526/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 31305231, "answer_count": 1, "score": 1, "last_activity_date": 1436396268, "creation_date": 1436395826, "question_id": 31305191, "link": "https://stackoverflow.com/questions/31305191/getting-segmentation-fault-sometimes-from-an-attempt-at-a-selection-sort-imple", "title": "Getting segmentation fault *sometimes* from an attempt at a selection sort implementation", "body": "<p>I've attempted to debug this on my own, but I can't figure it out! \nI'm getting segmentation faults sometimes when running my code, when there's not a seg fault it runs just fine and works. Any guidance would be appreciated, thanks! Also, please keep in mind that I'm new to C++.</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nvector&lt;int&gt; selection_sort(vector&lt;int&gt; numbers) {\n    int lowest_number_index;\n    int lowest_number;\n    int starting_size = numbers.size();\n    vector&lt;int&gt; sorted_numbers;\n    for (int i = 0; i &lt; numbers.size(); ++i) {\n\n        // Find the lowest number\n        if (numbers[i] &lt;= lowest_number) {\n            lowest_number_index = i;\n            lowest_number = numbers[lowest_number_index];\n        }\n\n        // Found it! Now let's add it to the other array\n        // and remove it from this one.\n        if (i == numbers.size() - 1 &amp;&amp; numbers.size() != 1) {\n            sorted_numbers.push_back(lowest_number);\n            numbers.erase(numbers.begin() + lowest_number_index);\n\n            // If we're not done sorting\n            if (sorted_numbers.size() != starting_size) {\n                lowest_number_index = 0;\n                lowest_number = numbers[lowest_number_index];\n                // Continue sorting\n                i = -1;\n                continue;\n            }\n        } else if (numbers.size() == 1) {\n            sorted_numbers.push_back(numbers[i]);\n        }\n    }\n\n    return sorted_numbers;\n}\n\nint main() {\n    vector&lt;int&gt; to_sort { 15, 2, 41, 5, 4, 5, 4, 6 };\n    to_sort = selection_sort(to_sort);\n\n    cout &lt;&lt; \"Sorted: \";\n    for (auto it = to_sort.begin(); it != to_sort.end(); ++it) {\n        cout &lt;&lt; *it &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "boost", "connect", "disconnect"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1436395356, "post_id": 31304876, "comment_id": 50599821, "body": "&quot;Now if I try to do this&quot; - do what?"}], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 0, "last_activity_date": 1436395655, "creation_date": 1436395655, "answer_id": 31305160, "question_id": 31304876, "link": "https://stackoverflow.com/questions/31304876/cancel-connection-is-boostasio/31305160#31305160", "title": "Cancel connection is boost::asio", "body": "<p>There are several ways to achieve what you want \u00b9. </p>\n\n<ol>\n<li><p>You could hard-stop the service (<code>service.stop()</code>). But this leaves you no control over all running operations. It's the \"nuclear\" approach, so to say.</p></li>\n<li><p>The controlled way would be to call <a href=\"http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/reference/basic_stream_socket/cancel.html\" rel=\"nofollow\"><code>cancel()</code></a></p>\n\n<blockquote>\n  <p><em>Cancel all asynchronous operations associated with the socket.</em></p>\n</blockquote>\n\n<pre><code>socket_.cancel()\n</code></pre></li>\n</ol>\n\n<p>Now, you have the additional task of maintaining the lifetime of your connection object (presumably the <code>this</code> in your bound completion handler). A very common pattern to use is to make the connection class derive from <code>enable_shared_from_this</code> and bind the completion handler to <code>shared_from_this()</code> instead of just <code>this</code>.</p>\n\n<p>That way, the shared connection object will automatically \"go away\" after the last pending async operation has been canceled, and you don't have to worry about leaking connection objects.</p>\n\n<p>\u00b9 short of <code>exit</code>, <code>abort</code>, <code>quick_exit</code> etc. :)</p>\n"}], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 31305160, "answer_count": 1, "score": 1, "last_activity_date": 1436395655, "creation_date": 1436394286, "last_edit_date": 1436394746, "question_id": 31304876, "link": "https://stackoverflow.com/questions/31304876/cancel-connection-is-boostasio", "title": "Cancel connection is boost::asio", "body": "<p>From the standard <a href=\"http://www.boost.org/doc/libs/1_47_0/doc/html/boost_asio/example/ssl/client.cpp\" rel=\"nofollow\">SSL client</a> example. Say I call this function.</p>\n\n<pre><code>    boost::asio::async_connect(socket_.lowest_layer(), endpoint_iterator,\n                               boost::bind(&amp;SSLClient::handle_connect, this,\n                                           boost::asio::placeholders::error));\n</code></pre>\n\n<p>But then the function is called, and the program is connecting. I would like to cancel my request and stop the connection! How can I do that?</p>\n\n<p>Special case: Say I have those objects in a thread. Is there a way to do it in this case?</p>\n\n<p>Now if I try to do this, the program simply doesn't respond. I don't see a way to force it to stop!</p>\n"}, {"tags": ["c++", "reference", "lifetime", "lvalue", "rvalue"], "comments": [{"owner": {"reputation": 21467, "user_id": 263895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eca8b59778527fef135cff9f9fa4b200?s=128&d=identicon&r=PG", "display_name": "NG.", "link": "https://stackoverflow.com/users/263895/ng"}, "edited": false, "score": 0, "creation_date": 1436395055, "post_id": 31304806, "comment_id": 50599686, "body": "I think your code is getting &quot;lucky&quot;.  If <code>val</code> referenced any member of <code>A</code>, then you would see the dangling reference clearly."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1436395612, "post_id": 31304806, "comment_id": 50599925, "body": "Your terminology needs improvement. lvalues and rvalues are <i>expression categories</i>, not flavours of object.  The expression <code>*this</code> is an lvalue; <code>A{}</code> is an rvalue (prvalue) even though they designate the same temporary object."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1436396141, "post_id": 31304806, "comment_id": 50600114, "body": "You might consider <code>A&amp; f() &amp; {</code> to ensure the call is happening on an lvalue object if you need to do something like this."}], "answers": [{"comments": [{"owner": {"reputation": 862, "user_id": 1417883, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/56fe3a87ac4d39ab9b7a15f92b5fd7dc?s=128&d=identicon&r=PG", "display_name": "barsan-md", "link": "https://stackoverflow.com/users/1417883/barsan-md"}, "edited": false, "score": 0, "creation_date": 1436394195, "post_id": 31304853, "comment_id": 50599384, "body": "Then it will be dangling reference if I use it in another instruction?"}, {"owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "reply_to_user": {"reputation": 862, "user_id": 1417883, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/56fe3a87ac4d39ab9b7a15f92b5fd7dc?s=128&d=identicon&r=PG", "display_name": "barsan-md", "link": "https://stackoverflow.com/users/1417883/barsan-md"}, "edited": false, "score": 3, "creation_date": 1436394241, "post_id": 31304853, "comment_id": 50599398, "body": "@biowep Yes, it will be a dangling reference in subsequent statements"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 862, "user_id": 1417883, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/56fe3a87ac4d39ab9b7a15f92b5fd7dc?s=128&d=identicon&r=PG", "display_name": "barsan-md", "link": "https://stackoverflow.com/users/1417883/barsan-md"}, "edited": false, "score": 1, "creation_date": 1436394358, "post_id": 31304853, "comment_id": 50599435, "body": "@biowep For an example, add a destructor that prints something, and then write <code>A&amp; a = A{}.f(); cout &lt;&lt; a.val();</code>. Does the text from the destructor get printed before or after the value returned by <code>val()</code>?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1436395844, "post_id": 31304853, "comment_id": 50600010, "body": "More precisely: &quot;Until the end of the full expression&quot;. E.g.  <a href=\"http://coliru.stacked-crooked.com/a/d5554f6a7d041525\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/d5554f6a7d041525</a> (Note that <code>i</code> is dead before we reach the next <code>;</code>.)"}, {"owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1436399979, "post_id": 31304853, "comment_id": 50601271, "body": "@BaummitAugen <code>i</code> is not a temporary but a variable with scope of the <code>for</code> loop. Temporaries don&#39;t have names. But I have added the situation in controlling expressions for loops."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1436425098, "post_id": 31304853, "comment_id": 50608937, "body": "@StenSoft True, the example is wrong. Sorry, thanks for pointing this out. The formulation &quot;Until the end of the full expression&quot; is still correct."}, {"owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1436442300, "post_id": 31304853, "comment_id": 50620262, "body": "@BaummitAugen Temporaries created in controlling expression of an <code>if</code> are not valid in the body of the <code>if</code> statement while the <code>i</code> variable in your example is."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1436442570, "post_id": 31304853, "comment_id": 50620446, "body": "@StenSoft Yes, I know. I screwed up yesterday, what I wrote is wrong, the example did not fit the (correct) statement. The <code>3</code> lives until the end of the full expression, which in this case is the <code>)</code> of the <code>if</code> and <code>i</code> itself is of course not a temporary, as you already correctly pointed out.."}], "tags": [], "owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "is_accepted": true, "score": 9, "last_activity_date": 1436403244, "last_edit_date": 1436403244, "creation_date": 1436394130, "answer_id": 31304853, "question_id": 31304806, "link": "https://stackoverflow.com/questions/31304806/return-lvalue-reference-from-temporary-object/31304853#31304853", "title": "Return lvalue reference from temporary object", "body": "<p><code>*this</code> is never an rvalue but in this case, it is (a reference to) a temporary. Temporaries are valid objects until the statement where they are defined is completed, i.e. until the code reaches the terminating <code>;</code>, or until the end of the controlling expression for <code>for</code>, <code>if</code>, <code>while</code>, <code>do</code>, and <code>switch</code> statements, e.g. in <code>if (A{}.f()) { something; }</code>, the temporary is valid until the last <code>)</code> before the body of the condition (<code>{ something; }</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436397017, "post_id": 31304855, "comment_id": 50600391, "body": "@hvd: The question is <i>&quot;Is, returning an lvalue reference to *this, allowed when *this is an rvalue?&quot;</i> The premise is broken, since <code>*this</code> is never an rvalue, and pointing that out is the only valid answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1436440545, "post_id": 31304855, "comment_id": 50619120, "body": "That&#39;s poor wording on the part of the OP, but pointing that out should be a comment, not an answer, when it&#39;s clear that that&#39;s not what the OP actually meant to ask. If you say it&#39;s not clear to you, then that&#39;s fine, but I&#39;m pretty sure the OP is asking about calling member functions on rvalues, not actually about <code>*this</code> being an rvalue."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436440599, "post_id": 31304855, "comment_id": 50619151, "body": "@hvd: It&#39;s not &quot;poor wording&quot;. It&#39;s a broken premise, almost certainly stemming from a broken understanding. It&#39;s obviously not just a typo. If the OP would like to post another, different question then he or she is free to do so. But I have correctly answered <i>this</i> question."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": -3, "last_activity_date": 1436394142, "creation_date": 1436394142, "answer_id": 31304855, "question_id": 31304806, "link": "https://stackoverflow.com/questions/31304806/return-lvalue-reference-from-temporary-object/31304855#31304855", "title": "Return lvalue reference from temporary object", "body": "<p><code>*this</code> is not an rvalue. It is an lvalue.</p>\n\n<p>So, no problem.</p>\n"}], "owner": {"reputation": 862, "user_id": 1417883, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/56fe3a87ac4d39ab9b7a15f92b5fd7dc?s=128&d=identicon&r=PG", "display_name": "barsan-md", "link": "https://stackoverflow.com/users/1417883/barsan-md"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 31304853, "answer_count": 2, "score": 6, "last_activity_date": 1436403244, "creation_date": 1436393867, "last_edit_date": 1436397092, "question_id": 31304806, "link": "https://stackoverflow.com/questions/31304806/return-lvalue-reference-from-temporary-object", "title": "Return lvalue reference from temporary object", "body": "<p>Is, returning an lvalue reference to <code>*this</code>, allowed when <code>*this</code> is an rvalue?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nclass A {\npublic:\n    A&amp; f() {\n        return *this;\n    }\n    string val() const {\n        return \"works\";\n    }\n};\n\nint main() {\n    cout &lt;&lt; A{}.f().val();\n}\n</code></pre>\n\n<p>Is there ANY scenario where the value returned by <code>f()</code> will be a dangling reference at some point?</p>\n\n<p>Does calling <code>f()</code> prolongs the lifetime of the caller if this is an rvalue like in example?</p>\n"}, {"tags": ["c++", "linux", "pipe"], "comments": [{"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "reply_to_user": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "edited": false, "score": 0, "creation_date": 1436393996, "post_id": 31304610, "comment_id": 50599317, "body": "Sorry, it was taken from part of a larger program...  changed a few things and it complies and runs now."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436394947, "post_id": 31304610, "comment_id": 50599649, "body": "C++ and C are different languages. Please don&#39;t tag C++ code as C."}], "answers": [{"comments": [{"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1436394509, "post_id": 31304762, "comment_id": 50599491, "body": "Yes, I know that&#39;s why it fails now. If I simply loop the I/O section of the child (i.e.  while(true) { /* read and output */ }  it doesn&#39;t work - I don&#39;t see the child&#39;s output. The parent waits for the user&#39;s enter key, how can I pass something like that to the child? I&#39;m not too sure what&#39;s going on with the child when it&#39;s just looping and trying to read from an empty pipe. Perhaps check if the pipe is empty and do nothing in that case? In either case, there must be a way to only have it read when the parent writes. signals perhaps?"}, {"owner": {"reputation": 5815, "user_id": 1210291, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/053Gk.jpg?s=128&g=1", "display_name": "sirgeorge", "link": "https://stackoverflow.com/users/1210291/sirgeorge"}, "reply_to_user": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1436395377, "post_id": 31304762, "comment_id": 50599827, "body": "Did you try to debug it?"}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 0, "creation_date": 1437161775, "post_id": 31304762, "comment_id": 50931994, "body": "Yes, it was missing a bit of debugging, thanks. I figured there was something fundamentally wrong with what I was trying to do."}], "tags": [], "owner": {"reputation": 5815, "user_id": 1210291, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/053Gk.jpg?s=128&g=1", "display_name": "sirgeorge", "link": "https://stackoverflow.com/users/1210291/sirgeorge"}, "is_accepted": false, "score": 2, "last_activity_date": 1436394230, "last_edit_date": 1436394230, "creation_date": 1436393602, "answer_id": 31304762, "question_id": 31304610, "link": "https://stackoverflow.com/questions/31304610/interactive-two-way-communication-using-pipes-between-child-and-parent-process/31304762#31304762", "title": "Interactive two-way communication (using pipes) between child and parent processes", "body": "<p>Your child process exits after one read:</p>\n\n<pre><code>    if (process_id&lt;0) throw diag::DiagError(\"ERROR: error during fork()\");\n    else if (process_id==0)\n    {//CHILD process\n            .....\n            exit(0); /* &lt;-- here */\n    }\n</code></pre>\n\n<p>This of course causes the pipe(s) to be closed and your parent receives SIGPIPE while trying to write to the pipe that nobody reads from anymore.\nYour parent code uses a loop to read/write to/from child - do simmilar thing in your child code - run in a loop instead of just exiting.\nYou can also use some special string of characters that would cause your child process to exit the loop and terminate.</p>\n\n<p>Besides - if you want to read/write using stdin and stdout - you could invoke exec() after you duplicated descriptors with <code>dup2</code> and closed the right pipe ends. In your child process you could then use normal c++ streams like std::cin and std::cout. That of course requires refactoring your child code to a separate program.</p>\n"}, {"tags": [], "owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "is_accepted": false, "score": 0, "last_activity_date": 1437162078, "creation_date": 1437162078, "answer_id": 31483530, "question_id": 31304610, "link": "https://stackoverflow.com/questions/31304610/interactive-two-way-communication-using-pipes-between-child-and-parent-process/31483530#31483530", "title": "Interactive two-way communication (using pipes) between child and parent processes", "body": "<p>The <a href=\"http://linux.die.net/man/2/poll\" rel=\"nofollow\">poll</a> and <a href=\"http://linux.die.net/man/2/select\" rel=\"nofollow\">select</a> families monitor file descriptors, and wait for them to become ready for I/O operations.</p>\n\n<p>I ended up using <a href=\"http://linux.die.net/man/7/pty\" rel=\"nofollow\">pseudo-terminals</a> for the two-way communication, but they work with pipes as well. </p>\n"}], "owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1437162078, "creation_date": 1436392835, "last_edit_date": 1436394910, "question_id": 31304610, "link": "https://stackoverflow.com/questions/31304610/interactive-two-way-communication-using-pipes-between-child-and-parent-process", "title": "Interactive two-way communication (using pipes) between child and parent processes", "body": "<p>I am trying to create a child process, redirect its stdin and stdout to the parent process, and interact with the child process. That is, the parent process should be able to receive input from the child, process it, and provide output to the child, and the cycle repeats (like user interaction with a shell, which is the actually the end goal: to simulate user interaction). </p>\n\n<p>Thus far I have been able to create and redirect pipes successfully (the code below simply echoes the input on the parent process, from user, through the child). The problem is that I can only do this once, the child terminates after first I/O cycle, and I get a SIGPIPE. How can I keep the child alive, and have it read from pipe when the parent writes to it?</p>\n\n<p>P.S. I know except can be used to simulate user interaction, but I need access to the returned data to do custom analysis, and I'd like to go this way for academic purposes. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;sys/wait.h&gt;\n#include &lt;limits.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;cstdlib&gt;\n\n\n#define MAX_CMD_SIZE 256\n#define MAX_BUFF_SIZE 512\n\n#define NUM_PIPES 2\n#define PARENT_READ_PIPE pipes[0]\n#define PARENT_WRITE_PIPE pipes[1]\n\n#define READ_END 0\n#define WRITE_END 1\n\n#define PARENT_READ_FD PARENT_READ_PIPE[READ_END]\n#define PARENT_WRITE_FD PARENT_WRITE_PIPE[WRITE_END]\n\n#define CHILD_READ_FD PARENT_WRITE_PIPE[READ_END]\n#define CHILD_WRITE_FD PARENT_READ_PIPE[WRITE_END]\n\nint pipes[NUM_PIPES][2];\n\n\nint main()\n{\n    pipe(PARENT_READ_PIPE);\n    pipe(PARENT_WRITE_PIPE);\n\n    pid_t process_id = fork();\n\n    if (process_id&lt;0) //throw diag::DiagError(\"ERROR: error during fork()\");\n    {std::cerr&lt;&lt;\"ERROR: error during fork()\"; exit(1);}\n    else if (process_id==0)\n    {//CHILD process\n        dup2(CHILD_READ_FD, STDIN_FILENO);\n        dup2(CHILD_WRITE_FD, STDOUT_FILENO);\n\n        close(CHILD_READ_FD);\n        close(CHILD_WRITE_FD);\n        close(PARENT_READ_FD);\n        close(PARENT_WRITE_FD);\n\n        char buffer[MAX_BUFF_SIZE];\n        int count = read(STDIN_FILENO, buffer, MAX_BUFF_SIZE-1);\n        if (count &gt;= 0) \n        {\n            buffer[count] = 0;\n            printf(\"%s\", buffer);\n        } \n        else //{throw diag::DiagError(\"IO Error\");}\n        {std::cerr&lt;&lt;\"ERROR: error during fork()\"; exit(1);}\n        exit(0);\n    }\n    else\n    {//PARENT process\n       close(CHILD_READ_FD);\n        close(CHILD_WRITE_FD);\n\n        char buffer[MAX_BUFF_SIZE];\n\n        std::string temp=\"\";\n\n        while(std::getline(std::cin,temp))\n        {\n            write(PARENT_WRITE_FD, temp.c_str(), temp.size());\n\n            //wait(&amp;status);\n            int count = read(PARENT_READ_FD, buffer, MAX_BUFF_SIZE-1);\n            if (count &gt;= 0) \n            {\n                buffer[count] = 0;\n                printf(\"%s\", buffer);\n            } \n            else //{throw diag::DiagError(\"IO Error\");}\n            {std::cerr&lt;&lt;\"ERROR: error during fork()\"; exit(1);}\n        }  \n    }\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "boost-python"], "comments": [{"owner": {"reputation": 854, "user_id": 4202532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nwoqalcVgfk/AAAAAAAAAAI/AAAAAAAAAEM/fFK7c7T2Dx8/photo.jpg?sz=128", "display_name": "Elvis Oric", "link": "https://stackoverflow.com/users/4202532/elvis-oric"}, "edited": false, "score": 0, "creation_date": 1436393281, "post_id": 31304553, "comment_id": 50599061, "body": "Check this similar question  :  <a href=\"http://stackoverflow.com/questions/5810101/undefined-boost-python-symbol-boostpythondetailinit-module\" title=\"undefined boost python symbol boostpythondetailinit module\">stackoverflow.com/questions/5810101/&hellip;</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "reply_to_user": {"reputation": 854, "user_id": 4202532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nwoqalcVgfk/AAAAAAAAAAI/AAAAAAAAAEM/fFK7c7T2Dx8/photo.jpg?sz=128", "display_name": "Elvis Oric", "link": "https://stackoverflow.com/users/4202532/elvis-oric"}, "edited": false, "score": 0, "creation_date": 1436427491, "post_id": 31304553, "comment_id": 50610415, "body": "Sorry, though that looks similar, I don&#39;t think it&#39;s quite the same problem. The solution in that case seems to have been to install the python-dev package, but I have that installed already."}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436531286, "post_id": 31330681, "comment_id": 50665490, "body": "Many thanks. Yes, it looks like the source file must be after the CFLAGS (-I options) but before the linker flags (-L and -l). Unfortunately, that&#39;s not what the AC_LINK_IFELSE autoconf macro generates. Googling led me to someone else who had a similar problem, but not with boost: <a href=\"http://lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00005.html\" rel=\"nofollow noreferrer\">lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00005.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436531315, "post_id": 31330681, "comment_id": 50665513, "body": "So I&#39;m going to investigate if the use of LDFLAGS in the boost autoconf macros is the problem: <a href=\"http://lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00009.html\" rel=\"nofollow noreferrer\">lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00009.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436532227, "post_id": 31330681, "comment_id": 50666168, "body": "Interestingly (because it&#39;s you), jhbuild seems to set LDFLAGS to provide the &quot;-L/opt/gnome&quot; prefix. Maybe it should use LIBS?"}, {"owner": {"reputation": 36091, "user_id": 721283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d9b7698c26959f57c0e3814005b8b52?s=128&d=identicon&r=PG", "display_name": "James Henstridge", "link": "https://stackoverflow.com/users/721283/james-henstridge"}, "reply_to_user": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436592075, "post_id": 31330681, "comment_id": 50689820, "body": "It&#39;s been a while since I&#39;ve had to deal with autoconf/automake, but IIRC they split <code>LDFLAGS</code> / <code>LIBS</code> exactly for this purpose: you want the libraries at the end of the command line, and other flags earlier."}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 1, "creation_date": 1436779990, "post_id": 31330681, "comment_id": 50737809, "body": "For anybody else having exactly the same problem with AX_BOOST_PYTHON(): This is how I fixed it: <a href=\"https://git.gnome.org/browse/glom/commit/?id=8eb81378e85a6ff6b4f51f307a423b0ad2f690b9\" rel=\"nofollow noreferrer\">git.gnome.org/browse/glom/commit/&hellip;</a> . I filed a bug about AX_PYTHON_DEVEL, so if they fix it there then the change to AX_BOOST_PYTHON might not be necessary in the future: <a href=\"https://savannah.gnu.org/patch/?8701\" rel=\"nofollow noreferrer\">savannah.gnu.org/patch/?8701</a>"}], "tags": [], "owner": {"reputation": 36091, "user_id": 721283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d9b7698c26959f57c0e3814005b8b52?s=128&d=identicon&r=PG", "display_name": "James Henstridge", "link": "https://stackoverflow.com/users/721283/james-henstridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1436493762, "last_edit_date": 1436493762, "creation_date": 1436489066, "answer_id": 31330681, "question_id": 31304553, "link": "https://stackoverflow.com/questions/31304553/linker-error-with-libboost-python-py34-on-ubuntu-15-04/31330681#31330681", "title": "Linker error with libboost_python-py34 on Ubuntu 15.04", "body": "<p>The first thing that stuck out to me in your compiler invocation is that you've listed the libraries before the source file that uses them on the command line.</p>\n\n<p>This will usually work anyway with shared libraries, but isn't strictly correct.  For instance, it'll break if you're using static libraris, since only the objects from the archive needed to satisfy symbols from things earlier in the command line are included.  But it seems to make a difference here, even though we're using shared libraries:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu -lboost_python-py34 -lpython3.4m conftest.cc\n/tmp/ccj8Znlk.o: In function `PyInit_test':\nconftest.cc:(.text+0x7e): undefined reference to `boost::python::detail::init_module(PyModuleDef&amp;, void (*)())'\ncollect2: error: ld returned 1 exit status\n$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu conftest.cc -lboost_python-py34 -lpython3.4m\n$ ldd conftest | grep python\n    libboost_python-py34.so.1.55.0 =&gt; /usr/lib/x86_64-linux-gnu/libboost_python-py34.so.1.55.0 (0x00007f6291003000)\n    libpython3.4m.so.1.0 =&gt; /usr/lib/x86_64-linux-gnu/libpython3.4m.so.1.0 (0x00007f62909c2000)\n</code></pre>\n\n<p>The second <code>g++</code> invocation succeeds and produces a correctly linked executable.</p>\n"}], "owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 31330681, "answer_count": 1, "score": 1, "last_activity_date": 1436493762, "creation_date": 1436392570, "last_edit_date": 1436427678, "question_id": 31304553, "link": "https://stackoverflow.com/questions/31304553/linker-error-with-libboost-python-py34-on-ubuntu-15-04", "title": "Linker error with libboost_python-py34 on Ubuntu 15.04", "body": "<p>I must be making some simple mistake trying to use boost-python on Ubuntu Linux 15.04 (Vivid Vervet), with the libboost-python1.55-dev package installed.</p>\n\n<p>I'm trying to build a simple test file like so:</p>\n\n<pre><code>$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu -lboost_python-py34 -lpython3.4m conftest.cc\n</code></pre>\n\n<p>But that gives me this linker error:</p>\n\n<pre><code>/tmp/ccxkW5XR.o: In function `PyInit_test':\nconftest.cc:(.text+0x7e): undefined reference to `boost::python::detail::init_module(PyModuleDef&amp;, void (*)())'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>But that symbol really does seem to exist:</p>\n\n<pre><code>$ nm -D --demangle /usr/lib/x86_64-linux-gnu/libboost_python-py34.so | grep \"init_module\"\n0000000000033ac0 T boost::python::detail::init_module(PyModuleDef&amp;, void (*)())\n</code></pre>\n\n<p>This is the very simple test code that I'm building,  based on a config test used by the AX_BOOST_PYTHON autoconf macro:</p>\n\n<pre><code>#include &lt;boost/python/module.hpp&gt;\n\nBOOST_PYTHON_MODULE(test) { throw \"Boost::Python test.\"; }\n\nint\nmain ()\n{\n  return 0;\n}\n</code></pre>\n\n<p>Can anyone see what I'm doing wrong?</p>\n"}, {"tags": ["c++", "c++11", "vector", "casting", "stl"], "comments": [{"owner": {"reputation": 1501, "user_id": 1502810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2785f67e7be660cffe1c9d321e0bad69?s=128&d=identicon&r=PG", "display_name": "celticminstrel", "link": "https://stackoverflow.com/users/1502810/celticminstrel"}, "edited": false, "score": 0, "creation_date": 1436397403, "post_id": 31304458, "comment_id": 50600526, "body": "If it was <code>std::vector&lt;std::vector&lt;Base*&gt;&gt;</code> and <code>std::vector&lt;std::vector&lt;Derived*&gt;&gt;</code>, you could maybe do something with <code>std::copy</code>. However, it&#39;s impossible to store an instance of <code>Derived</code> in <code>std::vector&lt;Base&gt;</code>. If you try, the <code>Derived</code> will be &quot;clipped&quot;, losing everything that makes it a <code>Derived</code> and retaining only that which makes it <code>Base</code>. (There&#39;s a term for this, but it escapes me at the moment.)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 1501, "user_id": 1502810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2785f67e7be660cffe1c9d321e0bad69?s=128&d=identicon&r=PG", "display_name": "celticminstrel", "link": "https://stackoverflow.com/users/1502810/celticminstrel"}, "edited": false, "score": 0, "creation_date": 1436407120, "post_id": 31304458, "comment_id": 50602989, "body": "@celticminstrel the term is <i>sliced</i>"}, {"owner": {"reputation": 1501, "user_id": 1502810, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2785f67e7be660cffe1c9d321e0bad69?s=128&d=identicon&r=PG", "display_name": "celticminstrel", "link": "https://stackoverflow.com/users/1502810/celticminstrel"}, "edited": false, "score": 0, "creation_date": 1436408697, "post_id": 31304458, "comment_id": 50603363, "body": "...which also has another totally unrelated meaning (in <code>std::valarray</code> or other languages like Python)."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "edited": false, "score": 0, "creation_date": 1436392777, "post_id": 31304500, "comment_id": 50598851, "body": "Is there at least ANY way to do it? Isn&#39;t vector of pointers in theory able to store any pointer? I just wanted to use the same function on every vector of derived (it only iterates the elements and deletes unneeded ones) and without this kind of conversion I will have to manually add every derived vector to the function instead of running it for size.() or for iterator begin() end ()"}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1436392982, "post_id": 31304500, "comment_id": 50598938, "body": "There is no relationship between <code>std::vector&lt;Derived&gt;</code> and <code>std::vector&lt;Base&gt;</code>. Furthermore, if you tried to force a cast somehow, then you would run into the problem that the memory layout of the contained array of objects is different when sizeof(Derived) is different than sizeof(Base), which is probably going to be the case most of the time."}, {"owner": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "edited": false, "score": 0, "creation_date": 1436393358, "post_id": 31304500, "comment_id": 50599092, "body": "Pointer to std::vector&lt;Base&gt; has different memory layout than pointer to std::vector&lt;Derived&gt;?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "edited": false, "score": 0, "creation_date": 1436393553, "post_id": 31304500, "comment_id": 50599164, "body": "@Usomochi Derived likely has different size and very likely different positioning in memory of it&#39;s member variables than Base, so the vector&#39;s internal array will be a different size and probably be expecting to find the member variables in different places."}, {"owner": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "edited": false, "score": 0, "creation_date": 1436394606, "post_id": 31304500, "comment_id": 50599527, "body": "Oh well... I guess I will either play with templates to get similar effect or copy paste the code few times... I kinda forgot about vectors second argument, std::allocator&lt;base&gt; ;)"}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 1, "creation_date": 1436396078, "post_id": 31304500, "comment_id": 50600087, "body": "It&#39;s not so much about allocators, but rather the same fundamental reason that <code>Derived array[10];</code> is different than <code>Base array[10];</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "edited": false, "score": 0, "creation_date": 1436407183, "post_id": 31304500, "comment_id": 50603009, "body": "@Usomochi one possible solution is to use <code>vector&lt;shared_ptr&lt;Base&gt;&gt;</code> for all of your vectors (this has pros and cons, which you will discover if you try it)"}], "tags": [], "owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "is_accepted": true, "score": 9, "last_activity_date": 1436392355, "creation_date": 1436392355, "answer_id": 31304500, "question_id": 31304458, "link": "https://stackoverflow.com/questions/31304458/c-casting-a-stdvectorderived-to-stdvectorbase/31304500#31304500", "title": "C++ casting a std::vector&lt;Derived&gt;* to std::vector&lt;Base&gt; ...?", "body": "<p>No, that is not possible. There is no relationship between <code>std::vector&lt;Base&gt;</code> and <code>std::vector&lt;Derived&gt;</code>.</p>\n\n<p>In other words: <code>std::vector&lt;Derived&gt;</code> is NOT derived from <code>std::vector&lt;Base&gt;</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4867922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be0a0671c12928979f72bd0bf6898aa?s=128&d=identicon&r=PG&f=1", "display_name": "Usomochi", "link": "https://stackoverflow.com/users/4867922/usomochi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 31304500, "answer_count": 1, "score": 1, "last_activity_date": 1436404886, "creation_date": 1436392219, "last_edit_date": 1436404886, "question_id": 31304458, "link": "https://stackoverflow.com/questions/31304458/c-casting-a-stdvectorderived-to-stdvectorbase", "title": "C++ casting a std::vector&lt;Derived&gt;* to std::vector&lt;Base&gt; ...?", "body": "<p>I'm making a vector of pointers to vectors:</p>\n\n<pre><code>    std::vector&lt;std::vector&lt;Base&gt;*&gt; all; // vector keeping pointers to vectors\n</code></pre>\n\n<p>and the problem is I have several vectors of derived classes:</p>\n\n<pre><code>    std::vector&lt;Derived1&gt; derived1; // vector of derived class\n    std::vector&lt;Derived2&gt; derived2; // vector of derived class\n    std::vector&lt;Derived3&gt; derived2; // vector of derived class\n</code></pre>\n\n<p>Is there any safe way to change the type of a pointer from <code>vector&lt;DerivedX&gt;</code> to <code>vector&lt;Base&gt;</code>? </p>\n\n<p>Every derived class shares certain behavior and they will be alive for most of the program's life.</p>\n\n<p>I'm still not good at explaining my programming problems, should any questions concerning details arise - please ask in comments.</p>\n"}, {"tags": ["c++", "algorithm", "data-structures", "segment-tree", "lazy-propagation"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436397223, "post_id": 31304429, "comment_id": 50600466, "body": "When you used the debugger, which statements are causing the issue?"}, {"owner": {"reputation": 843, "user_id": 4017463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ecf733363895c7650e36303b905ba6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/4017463/pranav-arora"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436397481, "post_id": 31304429, "comment_id": 50600553, "body": "@ThomasMatthews: Sorry, I don&#39;t understand your question, the code runs fine, I have tried some testcases and they give the right output. The testcases on the SPOJ are probably some tricky ones."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 5152905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4aec94ab0f38cbffab3f3261fbb3d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/5152905/vivek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1437750693, "creation_date": 1437750693, "answer_id": 31614058, "question_id": 31304429, "link": "https://stackoverflow.com/questions/31304429/lazy-propagation-horrible-spoj/31614058#31614058", "title": "Lazy Propagation - HORRIBLE spoj", "body": "<p>One of the error which i can see is that\nin the update function</p>\n\n<p>instead of <strong>tree[STidx]+=(l-r+1)*lazy[STidx];</strong>\nit should be <strong>tree[STidx]+=(r-l+1)*lazy[STidx];</strong></p>\n"}], "owner": {"reputation": 843, "user_id": 4017463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ecf733363895c7650e36303b905ba6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/4017463/pranav-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1437750693, "creation_date": 1436392129, "question_id": 31304429, "link": "https://stackoverflow.com/questions/31304429/lazy-propagation-horrible-spoj", "title": "Lazy Propagation - HORRIBLE spoj", "body": "<p>I am attempting the problem HORRIBLE from spoj and here's the link: <a href=\"http://www.spoj.com/problems/HORRIBLE/\" rel=\"nofollow\">http://www.spoj.com/problems/HORRIBLE/</a> I am trying to teach myself lazy propagation with segment tree. Following is the code I have written, I have tried to make it as concise and clear as possible, please let me know if something is unclear.</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\ntypedef long long ll;\n\nll tree[500010];\nll lazy[500010]={};\n\nvoid buildST(ll A[], ll STidx, ll l, ll r)\n{\n    if(l==r)\n    {\n        tree[STidx]=A[l];\n        return;\n    }\n    ll left=2*STidx, right=left+1, mid=(l+r)/2;\n    buildST(A, left, l, mid);\n    buildST(A, right, mid+1, r);\n    tree[STidx]=tree[left]+tree[right];\n}\n\nvoid update(ll STidx, ll i, ll j, ll l, ll r, ll val)\n{\n    //printf(\"%lld %lld %lld %lld %lld\\n\", STidx, i, j, l, r);\n    if(lazy[STidx]!=0)\n    {\n        tree[STidx]+=(l-r+1)*lazy[STidx];\n        if(l!=r)\n        {\n            lazy[2*STidx]+=lazy[STidx];\n            lazy[2*STidx+1]+=lazy[STidx];\n        }\n        lazy[STidx]=0;\n    }\n    //printf(\"1\\n\");\n    if(l&gt;r || l&gt;j || r&lt;i)\n        return;\n    //printf(\"1\\n\");\n    if(l&gt;=i &amp;&amp; r&lt;=j)\n    {\n        //printf(\"%lld\\n\", STidx);\n        tree[STidx]+=(r-l+1)*val;\n        if(l!=r)\n        {\n            lazy[2*STidx]+=val;\n            lazy[2*STidx+1]+=val;\n        }\n        return;\n    }\n    ll mid=(l+r)/2;\n    update(2*STidx, i, j, l, mid, val);\n    update(2*STidx+1, i, j, mid+1, r, val);\n    tree[STidx]=tree[2*STidx]+tree[2*STidx+1];\n}\n\nll query(ll STidx, ll i, ll j, ll l, ll r)\n{\n    if(lazy[STidx]!=0)\n    {\n        tree[STidx]+=lazy[STidx]*(r-l+1);\n        if(l!=r)\n        {\n            lazy[2*STidx]+=lazy[STidx];\n            lazy[2*STidx+1]+=lazy[STidx];\n        }\n        lazy[STidx]=0;\n    }\n    if(l&gt;r || l&gt;j || r&lt;i)\n        return 0;\n    if(l&gt;=i &amp;&amp; r&lt;=j)\n        return tree[STidx];\n    ll mid=(l+r)/2;\n    ll q1=query(2*STidx, i, j, l, mid);\n    ll q2=query(2*STidx+1, i, j, mid+1, r);\n    return q1+q2;\n}\n\nll A[100010];\n\nint main()\n{\n    ll T, N, C, type, p, q, v, i;\n    scanf(\"%lld\", &amp;T);\n    while(T--)\n    {\n        scanf(\" %lld %lld\", &amp;N, &amp;C);\n        for(i=0; i&lt;N; ++i)\n            A[i]=0;\n        for(i=0; i&lt;4*N; ++i)\n            lazy[i]=0;\n        buildST(A, 1, 0, N-1);\n        while(C--)\n        {\n            scanf(\" %lld\", &amp;type);\n            if(type==0)\n            {\n                scanf(\" %lld %lld %lld\", &amp;p, &amp;q, &amp;v);\n                update(1, p-1, q-1, 0, N-1, v);\n                //for(i=1; i&lt;=15; ++i)\n                //  printf(\"%lld \", tree[i]);\n                //printf(\"\\n\"); \n            }\n            if(type==1)\n            {\n                scanf(\" %lld %lld\", &amp;p, &amp;q);\n                printf(\"%lld\\n\", query(1, p-1, q-1, 0, N-1));\n            }\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The sample testcase provided gives the correct answer with my code but when submitted, I get wrong answer message. I have checked my code a lot of times but I can't find the bug.</p>\n\n<p>Any help is appreciated. Thanks!</p>\n"}, {"tags": ["c++", "shared-ptr", "copy-constructor", "deep-copy"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1436391984, "post_id": 31304372, "comment_id": 50598482, "body": "Get rid of your copy constructor and destructor and it should work fine on its own as a smart pointer."}, {"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1436392064, "post_id": 31304372, "comment_id": 50598509, "body": "@chris That will not work fine at all with the first example of a raw pointer."}, {"owner": {"reputation": 341, "user_id": 1223712, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5bMXr.png?s=128&g=1", "display_name": "jambodev", "link": "https://stackoverflow.com/users/1223712/jambodev"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1436392113, "post_id": 31304372, "comment_id": 50598532, "body": "@chris i&#39;d like to know answer to the first part of my question too. i.e. with naked pointer."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1436393289, "post_id": 31304372, "comment_id": 50599067, "body": "I see no problem with your raw pointer copy constructor assuming B is trivial or has an <code>operator=</code> to handle the assignment correctly. You would be better off with a copy constructor on B because then this<code>A::A(const A&amp; other)</code> becomes <code>A::A(const A&amp; other):ptrB(new B(other.ptrB))</code> and no code is required in the constructor body."}, {"owner": {"reputation": 341, "user_id": 1223712, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5bMXr.png?s=128&g=1", "display_name": "jambodev", "link": "https://stackoverflow.com/users/1223712/jambodev"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436393467, "post_id": 31304372, "comment_id": 50599135, "body": "@user4581301 Thanks. I think this is what I was missing."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436393977, "post_id": 31304372, "comment_id": 50599314, "body": "Not a problem. If you haven&#39;t seen this already, read up on the <a href=\"http://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">Rule of Three</a>."}], "answers": [{"comments": [{"owner": {"reputation": 8251, "user_id": 2912665, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XrRhd.jpg?s=128&g=1", "display_name": "CinCout", "link": "https://stackoverflow.com/users/2912665/cincout"}, "edited": false, "score": 0, "creation_date": 1523862112, "post_id": 31304989, "comment_id": 86717095, "body": "Shouldn&#39;t it be <code>A::A(const A&amp; other):ptrB(new B(*(other.ptrB))) {}</code> ?"}], "tags": [], "owner": {"reputation": 341, "user_id": 1223712, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5bMXr.png?s=128&g=1", "display_name": "jambodev", "link": "https://stackoverflow.com/users/1223712/jambodev"}, "is_accepted": true, "score": -1, "last_activity_date": 1436394772, "creation_date": 1436394772, "answer_id": 31304989, "question_id": 31304372, "link": "https://stackoverflow.com/questions/31304372/copy-constructor-for-a-class-with-pointer-to-a-user-defined-type/31304989#31304989", "title": "copy constructor for a class with pointer to a user defined type", "body": "<p>Ok as in the comments, here is the answer:</p>\n\n<p>in the case of naked pointer my code above works but this is a better version as uses initialization list and performs better:</p>\n\n<pre><code>A::A(const A&amp; other):ptrB(new B(other.ptrB)) {}\n</code></pre>\n\n<p>and in the case of shared_ptr, I don't need copy constructor and destructor.</p>\n"}, {"tags": [], "owner": {"reputation": 1463, "user_id": 3055694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/26f026d096c8019ceb5dc1331485027a?s=128&d=identicon&r=PG&f=1", "display_name": "tahsmith", "link": "https://stackoverflow.com/users/3055694/tahsmith"}, "is_accepted": false, "score": 1, "last_activity_date": 1436400577, "creation_date": 1436400577, "answer_id": 31305982, "question_id": 31304372, "link": "https://stackoverflow.com/questions/31304372/copy-constructor-for-a-class-with-pointer-to-a-user-defined-type/31305982#31305982", "title": "copy constructor for a class with pointer to a user defined type", "body": "<p>Since you tagged the post with \"deep-copy\" I assume you want the copy constructor to do that. The default copy constructor generated using shared_ptr does <strong>not</strong> deep copy.</p>\n\n<p>I would suggest that there are two general forms for copying a pointer-like member.</p>\n\n<pre><code>Deep(const Deep&amp; other): ptr(new T(*other.ptr)) {}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Shallow(const Shallow&amp; other) = default;\n</code></pre>\n\n<p>Note, a shallow copy like that won't work for a unique_ptr. By design, unique_ptr prevents that.</p>\n\n<p>Here is an example of each, showing the difference. Nb, using the raw version in practice could easily lead to a memory leak. The important point is that after the shallow copy, modifying the copy modifies the original.</p>\n\n<pre><code>#include &lt;memory&gt;\n#include &lt;iostream&gt;\n\ntemplate&lt;typename T, typename TPtr&gt;\nstruct Deep\n{\n    TPtr ptr;\n\n    Deep() : ptr(new T) {}\n\n    T get() const { return *ptr; }\n    void set(T t) { *ptr = t; }\n\n    Deep(const Deep&amp; other): ptr(new T(*other.ptr)) {}\n};\n\ntemplate&lt;typename T, typename TPtr&gt;\nstruct Shallow\n{\n    TPtr ptr;\n\n    Shallow() : ptr(new T) {}\n\n    T get() const { return *ptr; }\n    void set(T t) { *ptr = t; }\n\n    Shallow(const Shallow&amp; other) = default;\n};\n\ntemplate&lt;typename T&gt;\nusing raw_ptr = T*;\n\ntemplate&lt;typename T&gt;\nvoid test(const T&amp; a1)\n{\n    auto a2 = a1;\n    a2.set(a2.get() + 1);\n    std::cout &lt;&lt; a1.get() &lt;&lt; \" \" &lt;&lt; a2.get() &lt;&lt; std::endl;  \n}\n\nusing std::shared_ptr;\n\nint main()\n{\n    Deep&lt;int, raw_ptr&lt;int&gt; &gt; rawDeep;\n    rawDeep.set(1);\n    test(rawDeep);\n\n    Deep&lt;int, shared_ptr&lt;int&gt; &gt; sharedDeep;\n    sharedDeep.set(1);\n    test(sharedDeep);\n\n    Shallow&lt;int, raw_ptr&lt;int&gt; &gt; rawShallow;\n    rawShallow.set(1);\n    test(rawShallow);\n\n    Shallow&lt;int, shared_ptr&lt;int&gt; &gt; sharedShallow;\n    sharedShallow.set(1);\n    test(sharedShallow);\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/NltfUO\" rel=\"nofollow\">http://ideone.com/NltfUO</a></p>\n"}], "owner": {"reputation": 341, "user_id": 1223712, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5bMXr.png?s=128&g=1", "display_name": "jambodev", "link": "https://stackoverflow.com/users/1223712/jambodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 1, "accepted_answer_id": 31304989, "answer_count": 2, "score": 3, "last_activity_date": 1436400577, "creation_date": 1436391888, "question_id": 31304372, "link": "https://stackoverflow.com/questions/31304372/copy-constructor-for-a-class-with-pointer-to-a-user-defined-type", "title": "copy constructor for a class with pointer to a user defined type", "body": "<p>I have seen many examples of copy constructor for classes with member variables as pointer to int or char. Can someone advise on the right way of writing a copy constructor for a class A with a member ptrB which is a pointer to user defined class B please.</p>\n\n<p>Is this correct:</p>\n\n<pre><code>class A {\n    private:\n      B *ptrB;\n    public:\n      A() { ptrB = new B; }\n      A(const A&amp; other);\n      ~A();\n}\n\nA::A(const A&amp; other)\n{\n  ptrB = new B;\n  *(ptrB) = *(other.ptrB);\n}\n</code></pre>\n\n<p>and If ptrB was defined like this:</p>\n\n<pre><code>shared_ptr&lt;B&gt; ptrB;\n</code></pre>\n\n<p>then this?</p>\n\n<pre><code>A::A(const A&amp; other)\n{\n  ptrB(new B);\n  *(ptrB) = *(other.ptrB);\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 8893, "user_id": 2150749, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YQ97m.png?s=128&g=1", "display_name": "Jashaszun", "link": "https://stackoverflow.com/users/2150749/jashaszun"}, "is_accepted": true, "score": 2, "last_activity_date": 1436392250, "creation_date": 1436392250, "answer_id": 31304471, "question_id": 31304362, "link": "https://stackoverflow.com/questions/31304362/trying-to-minimize-repetitive-code-in-zip-to-barcode-program/31304471#31304471", "title": "Trying to Minimize Repetitive code in Zip-to-Barcode program", "body": "<p>Make a function that will give you the part of the barcode for a single digit:</p>\n\n<pre><code>string get_barcode_part(int digit)\n{\n    switch(digitA)\n    {\n        case 0: return \"!!...\";;\n        case 1: return \"...!!\";;\n        case 2: return \"..!.!\";;\n        case 3: return \"..!!.\";;\n        case 4: return \".!..!\";;\n        case 5: return \".!.!.\";;\n        case 6: return \".!!..\";;\n        case 7: return \"!...!\";;\n        case 8: return \"!..!.\";;\n        case 9: return \"!.!..\";;\n        default: return \"Invalid\"; // or whatever else you want\n    }\n}\n</code></pre>\n\n<p>Then you can simply call it for each of your digits:</p>\n\n<pre><code>// Short Zip Code Converter Function\nint zip_to_bar(int digitA, int  digitB, int digitC, int  digitD, int digitE)\n{\n    int sum;\n    string bar_Code = \"!\", check_Code;\n\n    bar_Code += get_barcode_part(digitA);\n    bar_Code += get_barcode_part(digitB);\n    bar_Code += get_barcode_part(digitC);\n    bar_Code += get_barcode_part(digitD);\n    bar_Code += get_barcode_part(digitE);\n\n    // Sum of Zip_Digits\n    sum = (digitA + digitB + digitC + digitD + digitE);\n    // Calculation of check_Digit_Code\n    check_Code = check_Digit_Code(sum);\n    // Assignment of check_Bar_Code to check_Digit_Code\n    cout &lt;&lt; bar_Code + check_Code &lt;&lt; endl;\n    return sum;\n}\n</code></pre>\n\n<p>This is the essential function of functions (heh): to refactor and reduce copied code, by putting common functionality in a common place.</p>\n\n<p><strong>Edit:</strong> In addition, you should probably use an array for your digits, like so:</p>\n\n<pre><code>// Short Zip Code Converter Function\nint zip_to_bar(int *digits, int numDigits)\n{\n    int sum = 0;\n    string bar_Code = \"!\", check_Code;\n\n    for (int i = 0; i &lt; numDigits; i++)\n    {\n        bar_Code += get_barcode_part(digits[i]);\n        // Sum of Zip_Digits\n        sum += digits[i];\n    }\n\n    // Calculation of check_Digit_Code\n    check_Code = check_Digit_Code(sum);\n    // Assignment of check_Bar_Code to check_Digit_Code\n    cout &lt;&lt; bar_Code + check_Code &lt;&lt; endl;\n    return sum;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1436392795, "creation_date": 1436392795, "answer_id": 31304600, "question_id": 31304362, "link": "https://stackoverflow.com/questions/31304362/trying-to-minimize-repetitive-code-in-zip-to-barcode-program/31304600#31304600", "title": "Trying to Minimize Repetitive code in Zip-to-Barcode program", "body": "<p>Easiest way is with a table </p>\n\n<pre><code>string bar_Codes[] = {\"!!...\",  \"...!!\", ...};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>bar_Code += bar_Codes[digitA];\nbar_Code += bar_Codes[digitB];\nbar_Code += bar_Codes[digitC];\n</code></pre>\n\n<p>Less efficient, but equally easy is make a function:</p>\n\n<pre><code>void getBarCode(int digit, string &amp; bar_Code)\n{\n    switch(digit)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        ....\n    }\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>getBarCode(digitA, bar_Code);\ngetBarCode(digitB, bar_Code);\ngetBarCode(digitC, bar_Code);\n...\n</code></pre>\n\n<p>All you need to do is ensure the digit is in the allowable range</p>\n"}], "owner": {"reputation": 1, "user_id": 5086923, "user_type": "registered", "profile_image": "https://graph.facebook.com/1425245457804166/picture?type=large", "display_name": "Cody Brunner", "link": "https://stackoverflow.com/users/5086923/cody-brunner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 31304471, "answer_count": 2, "score": 0, "last_activity_date": 1436393803, "creation_date": 1436391846, "last_edit_date": 1436393803, "question_id": 31304362, "link": "https://stackoverflow.com/questions/31304362/trying-to-minimize-repetitive-code-in-zip-to-barcode-program", "title": "Trying to Minimize Repetitive code in Zip-to-Barcode program", "body": "<p>First time posting here so if I'm doing something wrong let me know...new to the whole programming thing.</p>\n\n<p>So in my class we are doing the zip to bar code converter program. I have the program running fine and now I am just trying to cut down on the redundant or repetitive coding. For instance with my function that runs the actual compiling of the zip code to bar code I have 5 switch statements that all run the same exact cases. The only difference is the condition for the switch (digitA, B, C, D, E; the digits of the zip code):</p>\n\n<pre><code>// Short Zip Code Converter Function\nint zip_to_bar(int digitA, int  digitB, int digitC, int  digitD, int digitE)\n\n{\n    int sum;\n    string bar_Code = \"!\", check_Code;\n    switch(digitA)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        case 3: bar_Code += \"..!!.\"; break;\n        case 4: bar_Code += \".!..!\"; break;\n        case 5: bar_Code += \".!.!.\"; break;\n        case 6: bar_Code += \".!!..\"; break;\n        case 7: bar_Code += \"!...!\"; break;\n        case 8: bar_Code += \"!..!.\"; break;\n        case 9: bar_Code += \"!.!..\"; break;\n    }\n    switch(digitB)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        case 3: bar_Code += \"..!!.\"; break;\n        case 4: bar_Code += \".!..!\"; break;\n        case 5: bar_Code += \".!.!.\"; break;\n        case 6: bar_Code += \".!!..\"; break;\n        case 7: bar_Code += \"!...!\"; break;\n        case 8: bar_Code += \"!..!.\"; break;\n        case 9: bar_Code += \"!.!..\"; break;\n    }\n    switch(digitC)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        case 3: bar_Code += \"..!!.\"; break;\n        case 4: bar_Code += \".!..!\"; break;\n        case 5: bar_Code += \".!.!.\"; break;\n        case 6: bar_Code += \".!!..\"; break;\n        case 7: bar_Code += \"!...!\"; break;\n        case 8: bar_Code += \"!..!.\"; break;\n        case 9: bar_Code += \"!.!..\"; break;\n    }\n    switch(digitD)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        case 3: bar_Code += \"..!!.\"; break;\n        case 4: bar_Code += \".!..!\"; break;\n        case 5: bar_Code += \".!.!.\"; break;\n        case 6: bar_Code += \".!!..\"; break;\n        case 7: bar_Code += \"!...!\"; break;\n        case 8: bar_Code += \"!..!.\"; break;\n        case 9: bar_Code += \"!.!..\"; break;\n    }\n    switch(digitE)\n    {\n        case 0: bar_Code += \"!!...\"; break;\n        case 1: bar_Code += \"...!!\"; break;\n        case 2: bar_Code += \"..!.!\"; break;\n        case 3: bar_Code += \"..!!.\"; break;\n        case 4: bar_Code += \".!..!\"; break;\n        case 5: bar_Code += \".!.!.\"; break;\n        case 6: bar_Code += \".!!..\"; break;\n        case 7: bar_Code += \"!...!\"; break;\n        case 8: bar_Code += \"!..!.\"; break;\n        case 9: bar_Code += \"!.!..\"; break;\n    }\n    // Sum of Zip_Digits\n    sum = (digitA + digitB + digitC + digitD + digitE);\n    // Calculation of check_Digit_Code\n    check_Code = check_Digit_Code(sum);\n    // Assignment of check_Bar_Code to check_Digit_Code\n    cout &lt;&lt; bar_Code + check_Code &lt;&lt; endl;\n    return sum;\n}\n</code></pre>\n\n<p>I would like to somehow minimize this to where their would be only one switch statement since they are all the same and it would run each digit in a loop. The reason I am wanting to do this is we are having to run short(#####), standard (#####-####), &amp; advanced (#####-####+##) format zip codes. So as you can imagine the program is getting hellishly long and repetitive looking. </p>\n\n<p>I was thinking a for statement loop would work nicely but I'm stuck on what/how to set it up the conditions (what should be initialized when I have 5 variables present in the function?). Obviously what I have got is not going to work how I want but this is what I have so far (any advice on how to handle this problem)?</p>\n\n<pre><code>    // Reformatted Version of Short Zip Code Converter Function\n    int zip_to_bar_srt(int digitA, int digitB, int digitC, int  digitD, int digitE)\n{\n\n    for(int digitA; digitA &lt; 5; digitA++)\n    {\n        switch(digitA)\n        {\n            int sum;\n            string barCode = \"!\", check_bar;\n\n            case 0: barCode += \"!!...\"; break;\n            case 1: barCode += \"...!!\"; break;\n            case 2: barCode += \"..!.!\"; break;\n            case 3: barCode += \"..!!.\"; break;\n            case 4: barCode += \".!..!\"; break;\n            case 5: barCode += \".!.!.\"; break;\n            case 6: barCode += \".!!..\"; break;\n            case 7: barCode += \"!...!\"; break;\n            case 8: barCode += \"!..!.\"; break;\n            case 9: barCode += \"!.!..\"; break;\n\n                sum += digitA;\n                check_bar = check(sum);\n                cout&lt;&lt;barCode+check_bar&lt;&lt;endl;\n                return sum;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "matrix", "memory-leaks"], "comments": [{"owner": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "edited": false, "score": 0, "creation_date": 1436391930, "post_id": 31304343, "comment_id": 50598459, "body": "what is the <code>unsigned int n</code> for?"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 3, "creation_date": 1436392150, "post_id": 31304343, "comment_id": 50598547, "body": "There&#39;s no memory leak in the code you&#39;ve posted. However, there may be one in the code that calls this function -- if the compiler is able to inline this function when it&#39;s replaced by a dummy implementation, perhaps the code that causes the leak was simply optimized out. Or perhaps there&#39;s code that leaks which is only called conditionally depending on the determinant value, and is not called with the dummy value. Either way, we need more context to help."}, {"owner": {"reputation": 990, "user_id": 3629596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fsHl6.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3629596/tom"}, "edited": false, "score": 0, "creation_date": 1436392278, "post_id": 31304343, "comment_id": 50598618, "body": "There isn&#39;t a memory leak in your function. Please post more code - the issue is probably related to the code that calls this function."}, {"owner": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "edited": false, "score": 2, "creation_date": 1436392519, "post_id": 31304343, "comment_id": 50598721, "body": "is <code>m</code> deleted after use? Is every subarray of <code>m</code> property deleted after use?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1436392908, "post_id": 31304343, "comment_id": 50598905, "body": "You can&#39;t have reduced <i>the whole thing</i> to that, as that doesn&#39;t even have a <code>main</code>."}, {"owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "reply_to_user": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "edited": false, "score": 0, "creation_date": 1436393110, "post_id": 31304343, "comment_id": 50598997, "body": "@pvoosten, the unsigned int n was not used, I&#39;ve removed it from the code, sorry."}, {"owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1436393168, "post_id": 31304343, "comment_id": 50599022, "body": "@molbdnilo, with the &quot;thing&quot; I meant the function."}, {"owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436393209, "post_id": 31304343, "comment_id": 50599035, "body": "@Cameron, interesting, I&#39;ll have a closer look at it tomorrow, thanks"}, {"owner": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "edited": false, "score": 1, "creation_date": 1436393527, "post_id": 31304343, "comment_id": 50599152, "body": "Same question again: where is the memory allocated with malloc released with free? (I first assumed you used new/delete)"}, {"owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "reply_to_user": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "edited": false, "score": 0, "creation_date": 1436430013, "post_id": 31304343, "comment_id": 50612007, "body": "@pvoosten, very interesting, since it was a simple 3x3 matrix I thought who cares to free it, it doesn&#39;t use that much memory, let&#39;s free it up when I finish the class with everything else I might add. Now that i free it up, the leak is gone. How comes that a class member, I only allocate once, creates a memory leak when accessed? Again: I only allocated the memory one time, and the leak manifested itself when I accessed the array."}], "answers": [{"comments": [{"owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "edited": false, "score": 0, "creation_date": 1436794114, "post_id": 31327133, "comment_id": 50746445, "body": "This I know, but why does it expand when I simply access it?"}, {"owner": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "reply_to_user": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "edited": false, "score": 1, "creation_date": 1436815696, "post_id": 31327133, "comment_id": 50760127, "body": "Maybe due to compiler optimizations. You could turn off all optimizations to see the difference."}], "tags": [], "owner": {"reputation": 2977, "user_id": 158702, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/02Opq.jpg?s=128&g=1", "display_name": "pvoosten", "link": "https://stackoverflow.com/users/158702/pvoosten"}, "is_accepted": true, "score": 2, "last_activity_date": 1436472146, "creation_date": 1436472146, "answer_id": 31327133, "question_id": 31304343, "link": "https://stackoverflow.com/questions/31304343/memory-leak-when-calculating-a-determinant-of-a-matrix/31327133#31327133", "title": "Memory leak when calculating a determinant of a matrix", "body": "<p>Memory allocated with <code>malloc</code> must be freed with <code>free</code>. Always, even for a small amount of memory.</p>\n"}], "owner": {"reputation": 5273, "user_id": 251861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/14Pvs.jpg?s=128&g=1", "display_name": "D&#228;nu", "link": "https://stackoverflow.com/users/251861/d%c3%a4nu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31327133, "answer_count": 1, "score": 1, "last_activity_date": 1436472146, "creation_date": 1436391786, "last_edit_date": 1436392995, "question_id": 31304343, "link": "https://stackoverflow.com/questions/31304343/memory-leak-when-calculating-a-determinant-of-a-matrix", "title": "Memory leak when calculating a determinant of a matrix", "body": "<p>While writing some code to calculate the determinant of a simple 3 x 3 matrix, I noticed that it started to accumulate memory leaks. I've reduced the method to the following (meaning that I do no longer use an algorithm to determine the size of any matrix, I do it \"by hand\"):</p>\n\n<pre><code>double Determinant(double** &amp;m)\n{\n    return m[0][0] * (m[1][1] * m[2][2] - m[2][1] * m[1][2]) -\n           m[0][1] * (m[1][0] * m[2][2] - m[1][2] * m[2][0]) +\n           m[0][2] * (m[1][0] * m[2][1] - m[1][1] * m[2][0]);\n}\n</code></pre>\n\n<p>I can't find a problem with this, since I do not allocate any memory inside the method. if I change it and simply return a double (<code>return 1.0</code>, for example) the leak is gone. What is happening here?</p>\n\n<p>Edit (more code):</p>\n\n<pre><code>double LogMultivariateNormalDensity(unsigned char* &amp;x, unsigned char* &amp;mean, double** &amp;sigma)\n{\n    double det = Determinant(sigma);\n    ...\n}\n</code></pre>\n\n<p>Which in turn is called inside a loop</p>\n\n<pre><code>for(unsigned int i = 0; i &lt; n; i++)\n{\n    LogMultivariateNormalDensity(_x[i], _mean[i], _sigma[i])\n}\n</code></pre>\n\n<p>Being a 2d array, <code>_sigma</code> is allocated using <code>malloc</code> (in both dimensions).</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1436391747, "post_id": 31304309, "comment_id": 50598360, "body": "Evidently, the code you haven&#39;t shown (the two-line difference between the two <code>main</code> functions) is the culprit. Please show an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, with the emphasis on complete."}, {"owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "edited": false, "score": 0, "creation_date": 1436391803, "post_id": 31304309, "comment_id": 50598389, "body": "Please show the definition of <code>account</code>, I&#39;m guessing that there&#39;s something wrong in the constructor. Also just a note, you usually shouldn&#39;t <code>#include</code> .cpp files."}, {"owner": {"reputation": 509, "user_id": 3228620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bz2hN.png?s=128&g=1", "display_name": "Arda Kara", "link": "https://stackoverflow.com/users/3228620/arda-kara"}, "edited": false, "score": 0, "creation_date": 1436392254, "post_id": 31304309, "comment_id": 50598607, "body": "Also it is a bad practice to using namespaces. Just call functions with namespace prefixes like std::cout &lt;&lt; &quot;Hello World&quot;;"}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1436392291, "post_id": 31304309, "comment_id": 50598623, "body": "@chris Yup, never mind... Comes with the literal."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1436392358, "post_id": 31304309, "comment_id": 50598652, "body": "Read over <code>strcpy</code> again. You could avoid this problem by using <code>std::string</code>."}, {"owner": {"reputation": 243, "user_id": 4959893, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6qbEb.jpg?s=128&g=1", "display_name": "Anandamide", "link": "https://stackoverflow.com/users/4959893/anandamide"}, "edited": false, "score": 0, "creation_date": 1436392430, "post_id": 31304309, "comment_id": 50598689, "body": "I&#39;m choosing to use a char array, telling me to use std::string does not explain why this code doesn&#39;t work."}, {"owner": {"reputation": 243, "user_id": 4959893, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6qbEb.jpg?s=128&g=1", "display_name": "Anandamide", "link": "https://stackoverflow.com/users/4959893/anandamide"}, "edited": false, "score": 0, "creation_date": 1436392498, "post_id": 31304309, "comment_id": 50598713, "body": "Senhor, that&#39;s irrelevant to the question, using the whole std namespace may be bad practice, but its not whats causing the issue, please stay on topic."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1436396984, "post_id": 31304309, "comment_id": 50600385, "body": "@Jordan it&#39;s good advice to use the right tool for the job. You&#39;re basically asking &quot;How do I use a screwdriver handle to hammer in a nail? Oh, and I didn&#39;t read the manual that came with the screwdriver&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "is_accepted": true, "score": 2, "last_activity_date": 1436392427, "creation_date": 1436392427, "answer_id": 31304521, "question_id": 31304309, "link": "https://stackoverflow.com/questions/31304309/char-array-outputting-as-weird-symbols/31304521#31304521", "title": "char array outputting as weird symbols", "body": "<p>Your problem is in the constructor like I thought.</p>\n\n<pre><code>account::account(double BAL, char acct[], char name[]){\n    strcpy(name, account_holder);\n    strcpy(acct, account_number);\n    balance = BAL;\n}\n</code></pre>\n\n<p><code>strcpy</code>'s <a href=\"http://en.cppreference.com/w/cpp/string/byte/strcpy\" rel=\"nofollow\">reference</a> says:</p>\n\n<pre><code>char* strcpy( char* dest, const char* src );\n</code></pre>\n\n<p>so you got the 2 parameters switched, you're copying from the uninitialized member array into your char pointer. Since the member array is uninitialized at that point reading from it is undefined behavior. You should switch them:</p>\n\n<pre><code>account::account(double BAL, char acct[], char name[]){\n    strcpy(account_holder, name);\n    strcpy(account_number, acct);\n    balance = BAL;\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 4959893, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6qbEb.jpg?s=128&g=1", "display_name": "Anandamide", "link": "https://stackoverflow.com/users/4959893/anandamide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 31304521, "answer_count": 1, "score": 1, "last_activity_date": 1436392427, "creation_date": 1436391631, "last_edit_date": 1436392268, "question_id": 31304309, "link": "https://stackoverflow.com/questions/31304309/char-array-outputting-as-weird-symbols", "title": "char array outputting as weird symbols", "body": "<p>So Ive been learning about classes, and in my main function when I run it, it shows character array members incorrectly. </p>\n\n<p>main program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"account.h\"\n#include \"account.cpp\"\nusing namespace std;\nint main(){\n\n    char num [] = \"2435457\";\n    char name [] = \"BOB JOE\";\n    account bob(10000, num, name );\n    bob.show_account();\n    cout &lt;&lt; num; // this should output correctly, but shows the '\u2666'\n    return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre>\nACCOUNT INFO:\n    Account holder :\n    Account number :\u2666\n    Balance :10000\n\u2666\n</pre>\n\n<p>Whats weird is that using <code>cout&lt;&lt;</code> directly on the char array <code>num</code> shows the '\u2666'.\nWhen I copy the <code>char num [] = \"2435457\"</code> into a new program like:</p>\n\n<pre><code>#include &lt;iostream&gt;    //including all the same headers does not affect\n#include \"account.h\"   //the output\n#include \"account.cpp\" \nusing namespace std;\nint main(){\n    char num [] = \"2435457\";\n    cout &lt;&lt; num;\n    return 0;\n}\n</code></pre>\n\n<p>It works correctly.\nEDITED :\nHere is the header \"account.h\"</p>\n\n<pre><code>#ifndef BANK_H_\n#define BANK_H_\nusing namespace std;\n\nclass account {\n    static const int NMAX = 20, AMAX = 10;\n    private:\n        double balance;\n        char account_number [AMAX];\n        char account_holder [NMAX];\n    public:\n        account(double BAL, char acct [], char name []);\n        void show_account();\n        void deposit(double money);\n        void withdrawl(double money);\n};\n#endif\n</code></pre>\n\n<p>And \"account.cpp\"</p>\n\n<pre><code>#include \"account.h\"\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\naccount::account(double BAL, char acct[], char name[]){\n    strcpy(name, account_holder);\n    strcpy(acct, account_number);\n    balance = BAL;\n}\n\nvoid account::show_account(){\n    cout &lt;&lt; \"ACCOUNT INFO :\"&lt;&lt;endl;\n    cout &lt;&lt; \"\\tAccount holder :\";print(account_holder);\n    cout &lt;&lt; \"\\n\\tAccount number :\";print(account_number);\n    cout &lt;&lt; \"\\n\\tBalance :\"&lt;&lt;balance&lt;&lt;endl; \n}\n\nvoid account::deposit(double money){\n    balance += money;\n} \n\nvoid account::withdrawl(double money){\n    balance -= money;\n}\n</code></pre>\n"}, {"tags": ["c++", "constructor", "operator-overloading"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 2, "creation_date": 1436391413, "post_id": 31304177, "comment_id": 50598199, "body": "As a side-note, your pre-increment operator does post-increment."}, {"owner": {"reputation": 2066, "user_id": 4106624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d113b3ac138eea6e768a59d0c4f978b?s=128&d=identicon&r=PG&f=1", "display_name": "user007", "link": "https://stackoverflow.com/users/4106624/user007"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1436392314, "post_id": 31304177, "comment_id": 50598630, "body": "@Benjamin Lindley : Thanks for the link :)"}, {"owner": {"reputation": 2066, "user_id": 4106624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d113b3ac138eea6e768a59d0c4f978b?s=128&d=identicon&r=PG&f=1", "display_name": "user007", "link": "https://stackoverflow.com/users/4106624/user007"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1436392395, "post_id": 31304177, "comment_id": 50598670, "body": "@Barry yeaa.. my bad!"}], "owner": {"reputation": 2066, "user_id": 4106624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6d113b3ac138eea6e768a59d0c4f978b?s=128&d=identicon&r=PG&f=1", "display_name": "user007", "link": "https://stackoverflow.com/users/4106624/user007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1436391307, "answer_count": 0, "score": 1, "last_activity_date": 1436391072, "creation_date": 1436391072, "question_id": 31304177, "link": "https://stackoverflow.com/questions/31304177/copy-constructor-and-operator-overloading", "closed_reason": "Duplicate", "title": "Copy constructor and operator overloading", "body": "<p>I have this following class, I overload the <code>+</code> operator on my class vector.\nI have defined my own copy constructor as well. This is the code ::</p>\n\n<pre><code>class vector {\n\npublic:\n    int size;\n\n    vector() {\n        cout &lt;&lt; \"In empty constructor\\n\";\n        this-&gt;size = 5;\n        cout &lt;&lt; \"size = \" &lt;&lt; size &lt;&lt; endl;\n    }\n\n    vector(int size) {\n        cout &lt;&lt; \"In size constructor\\n\";\n        this-&gt;size = size;\n        cout &lt;&lt; \"size = \" &lt;&lt; size &lt;&lt; endl;\n    }\n\n    vector(const vector &amp;v) {\n        cout &lt;&lt; \"inside copy constructor\\n\";\n        this-&gt;size = v.size;\n        cout &lt;&lt; \"size = \" &lt;&lt; this-&gt;size &lt;&lt; endl;\n    }\n\n    vector operator ++() {\n        vector v = *this;\n        (this-&gt;size)++;\n        return v;\n    }\n\n    vector operator ++(int a) {\n        cout &lt;&lt; \"a = \" &lt;&lt; a &lt;&lt; endl;\n        vector v = *this;\n        (this-&gt;size)++;\n        return v;\n    }\n\n    vector operator+(vector &amp;a) {\n        vector  v;\n        v.size = this-&gt;size + a.size;\n        return v;\n    }\n\n    vector&amp; operator=(vector &amp;a) {\n        cout &lt;&lt; \"Inside = assignment operator\\n\";\n        this-&gt;size = a.size;\n        return *this;\n    }\n\n    ~vector() {\n        cout &lt;&lt; \"In destructor for vector of size = \" &lt;&lt; this-&gt;size &lt;&lt; endl;\n    }\n\n};\n</code></pre>\n\n<p>And this is main ::</p>\n\n<pre><code>int main(int argc, char** argv) {\n    vector v;\n    vector v2(27);\n    vector v3 = v + v2;\n    return 0;\n}\n</code></pre>\n\n<p>I inserted <code>cout</code> statements in my constructors to see which constructor is called when.\nAccording to what I understand, in my line <code>vector v3 = v + v2</code> the copy constructor shall be called, since we are initializing the object during its call, so after the computation <code>v + v2</code> copy constructor shall be called. But it doesn't. I also tried to overload the <code>=</code> operator to check if it is assigning values, but that is not happening either.</p>\n\n<p>The output of the about program is this ::</p>\n\n<pre><code>In empty constructor\nsize = 5\nIn size constructor\nsize = 27\nIn empty constructor\nsize = 5\nIn destructor for vector of size = 32\nIn destructor for vector of size = 27\nIn destructor for vector of size = 5\n</code></pre>\n\n<p>In my overloaded function of <code>+</code>, i return the resultant vector by value, so it should be copied I believed. </p>\n\n<p>Why doesn't the copy constructor get called??</p>\n\n<p>Thanks for any help in advance.</p>\n\n<p>Ideone link (if that helps) :: <a href=\"http://ideone.com/S9EtjR\" rel=\"nofollow\">http://ideone.com/S9EtjR</a></p>\n"}, {"tags": ["c++", "inheritance", "polymorphism", "aggregation"], "comments": [{"owner": {"reputation": 2942, "user_id": 1849221, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b8283706cbadfeff2f9fbf985cbe904a?s=128&d=identicon&r=PG", "display_name": "Ilio Catallo", "link": "https://stackoverflow.com/users/1849221/ilio-catallo"}, "edited": false, "score": 0, "creation_date": 1436391014, "post_id": 31304144, "comment_id": 50598008, "body": "Probably it would be better to have the print out from the compiler."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1436391142, "post_id": 31304144, "comment_id": 50598074, "body": "You&#39;ve posted here 259 lines of code. <b><i>259 lines!</i></b> I will be thoroughly surprised if anyone here on the network reads through all of this."}, {"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "reply_to_user": {"reputation": 2942, "user_id": 1849221, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b8283706cbadfeff2f9fbf985cbe904a?s=128&d=identicon&r=PG", "display_name": "Ilio Catallo", "link": "https://stackoverflow.com/users/1849221/ilio-catallo"}, "edited": false, "score": 0, "creation_date": 1436391282, "post_id": 31304144, "comment_id": 50598136, "body": "@burton0 I showed the error the compiler gives"}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1436391315, "post_id": 31304144, "comment_id": 50598147, "body": "You&#39;re using <code>Human</code> before it&#39;s declared"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436391824, "post_id": 31304144, "comment_id": 50598400, "body": "Farrrrrrrrrrrrrrrr too much code for an SO question. Fortunately the problem is clearly visible right at the top of the first file you posted."}, {"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436392575, "post_id": 31304144, "comment_id": 50598751, "body": "I only have one error left after rearranging the classes in my header file. The error now lies in my game function but I don&#39;t know how to fix it"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436392180, "post_id": 31304237, "comment_id": 50598560, "body": "@R Sahu I reordered my classes in my header file and it got me alot less errors. I have one error in my game function which says error C2276: &#39;&amp;&#39; : illegal operation on bound member function expression. Ill heighlight the error in my code"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436392729, "post_id": 31304237, "comment_id": 50598826, "body": "@user5001170, your error message says the file name is <code>game_implementation.cpp</code>. Your question does not have that file name."}, {"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436392939, "post_id": 31304237, "comment_id": 50598916, "body": "@R Sahu I edited the question by including the game_implementation.cpp file code. Sorry for not including it before!"}, {"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436393548, "post_id": 31304237, "comment_id": 50599161, "body": "@R Sahu now my code compiles except it crashes as soon as I get to the menu. I also updated my code by fixing some other syntax issues that were similar to the one you were showing me"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436393682, "post_id": 31304237, "comment_id": 50599208, "body": "@user5001170, unfortunately, I won&#39;t be able to help you with that with so much code and so many files. You&#39;ll have to reduce the code size piece by piece and figure out where the problem is. Hopefully, that will give you enough information to fix it also."}, {"owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "edited": false, "score": 0, "creation_date": 1436394083, "post_id": 31304237, "comment_id": 50599351, "body": "@R Sahu I understand i shouldnt of asked you to check all the code because of that. However I think the issue still lies with while (Human-&gt;winner(board.getBoard()) ==&#39;N&#39;)"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1436393141, "last_edit_date": 1436393141, "creation_date": 1436391348, "answer_id": 31304237, "question_id": 31304144, "link": "https://stackoverflow.com/questions/31304144/c-error-in-compiling-due-to-pointer-class/31304237#31304237", "title": "C++ Error in compiling due to pointer class", "body": "<p>The compiler does not know anything about <code>Human</code>, <code>Computer</code>, and <code>Board</code> when it processes the lines:</p>\n\n<pre><code>Human* Human;//error\nComputer* cpu;//error\nBoard board;\n</code></pre>\n\n<p>You will need to add forward declarations of <code>Human</code> and <code>Computer</code> before the definition of <code>Game</code> since you are only declaring pointers to those types in <code>Game</code>.</p>\n\n<p>You need to move the definition of <code>Board</code> before the definition of <code>Game</code> since you are declaring an object of that type in <code>Game</code>.</p>\n\n<p><strong>P.S.</strong> There may be other errors that need to be fixed too.</p>\n\n<p><strong>Update</strong></p>\n\n<pre><code>while (Human-&gt;winner(&amp; board.getBoard) =='N')\n</code></pre>\n\n<p>is not right since <code>board.getBoard</code> is member function. What you need there is:</p>\n\n<pre><code>while (Human-&gt;winner(board.getBoard()) =='N')\n                                // ^^ Missing parens\n</code></pre>\n\n<p>However, for this to work, you'll need to change the interface of <code>Abstractplayer::winner</code> to </p>\n\n<pre><code>char winner(vector&lt;char&gt; another_temp_board)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>char winner(vector&lt;char&gt; const&amp; another_temp_board)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5001170, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5ab0d4b239c8b1ba3cc4dc92edef21c6?s=128&d=identicon&r=PG&f=1", "display_name": "newbie_at_linux", "link": "https://stackoverflow.com/users/5001170/newbie-at-linux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1436394173, "creation_date": 1436390921, "last_edit_date": 1436394173, "question_id": 31304144, "link": "https://stackoverflow.com/questions/31304144/c-error-in-compiling-due-to-pointer-class", "title": "C++ Error in compiling due to pointer class", "body": "<p>My code doesn't compile when I try running it. I get so many errors that I don't understand why those errors pop up in the first place. Some of the errors involve my header file. Some of the errors say that I'm missing ';' before '*' in my header file. Furthermore it says int assumed in my header file I will comment in my code where that happens. </p>\n\n<p>This is the error im getting from the compiler:</p>\n\n<pre><code> 1`&gt;\\\\csupdatevm\\labusers\\uuu_uuuuu\\documents\\visual studio 2013\\projects\\expection\\expection\\game_implementation.cpp(25): error C2276: '&amp;' : illegal operation on bound member function expression`\n</code></pre>\n\n<p>In my header file I have:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;vector&gt;\n    #include &lt;algorithm&gt;\n\n    using namespace std;\n    //#include &lt;exception&gt;\n\nclass Board{\n    public:\n        void displayBoard();\n        void createBoard();\n        void insert(int temp_move, char temp_player);\n        bool isLegal(int move);\n        vector&lt;char&gt; getBoard();\n    private:\n        const int NUM_SQUARES = 9;\n        vector&lt;char&gt; board;\n    };\n\n    class Abstractplayer{\n    public:\n        int virtual move(char temp_player) = 0;\n        char virtual selectPiece()=0;\n        char askYesNo(string question);\n        int askNumber(string question, int high, int low = 0);\n        char winner(vector&lt;char&gt; const &amp; another__temp_board);\n    protected:\n        char go_first;\n        bool first_turn = true;\n        char human;\n        char computer;\n        const char X = 'X';\n        const char O = 'O';\n        const char EMPTY = ' ';\n        const char TIE = 'T';\n        const char NO_ONE = 'N';\n        Board another_board;\n\n    };\n\n    class Human:public Abstractplayer{\n    public:\n        int move(char temp_player);\n        char selectPiece();\n    };\n\n    class Computer:public Abstractplayer{\n    public:\n        int move(char temp_player);\n        char selectPiece();\n    };\n\nclass Game{\n    public:\n        void play();\n        void instructions();\n        void announceWinner(char winner, char computer, char human);\n    private:\n        Human* Human;//error\n        Computer* cpu;//error\n        Board board;\n        char turn = 'X';\n        int move;\n    };\n</code></pre>\n\n<p>In my human cpp file I have:</p>\n\n<pre><code>#include \"tictactoe.h\"\n\n\nchar Human::selectPiece()\n{\n\n    if (first_turn == true)\n    {\n        go_first = askYesNo(\"Do you require the first move?\");\n\n        if (go_first == 'y')\n        {\n            cout &lt;&lt; \"\\nThen take the first move.  You will need it.\\n\";\n            return 'X';\n        }\n        else\n        {\n            cout &lt;&lt; \"\\nYour bravery will be your undoing... I will go first.\\n\";\n            return 'O';\n        }\n        first_turn = false;\n    }\n\n    else\n        return 'X';\n\n}\n\nint Human::move(char temp_player)\n{\n    int move = askNumber(\"Where will you move?\", 9);\n    while (!another_board.isLegal(move))\n    {\n        cout &lt;&lt; \"\\nThat square is already occupied, foolish human.\\n\";\n        move = askNumber(\"Where will you move?\", 9);\n    }\n    cout &lt;&lt; \"Fine...\\n\";\n    return move;\n}\n</code></pre>\n\n<p>In my computer cpp file I have:</p>\n\n<pre><code>#include \"tictactoe.h\"\n\nchar Computer::selectPiece()\n{\n    return 'O';\n}\n\nint Computer::move(char temp_player)\n{\n    cout &lt;&lt; \"I shall take square number \";\n\n    vector&lt;char&gt; temp_board_yo=another_board.getBoard();\n\n    // if computer can win on next move, make that move\n    for (int move = 0; move &lt; 9; ++move)\n    {\n        if (another_board.isLegal(move))\n        {\n            temp_board_yo[move] = computer;\n            if (winner(temp_board_yo) == computer)\n            {\n                cout &lt;&lt; move &lt;&lt; endl;\n                return move;\n            }\n            // done checking this move, undo it\n            temp_board_yo[move] = EMPTY;\n        }\n    }\n\n    // if human can win on next move, block that move\n    char human = 'X';\n    for (int move = 0; move &lt; 9; ++move)\n    {\n        if (another_board.isLegal(move))\n        {\n            temp_board_yo[move] = human;\n            if (winner(temp_board_yo) == human)\n            {\n                cout &lt;&lt; move &lt;&lt; endl;\n                return move;\n            }\n            // done checking this move, undo it\n            temp_board_yo[move] = EMPTY;\n        }\n    }\n\n    // the best moves to make, in order\n    const int BEST_MOVES[] = { 4, 0, 2, 6, 8, 1, 3, 5, 7 };\n    // since no one can win on next move, pick best open square\n    for (int i = 0; i &lt; 9; ++i)\n    {\n        int move = BEST_MOVES[i];\n        if (another_board.isLegal(move))\n        {\n            cout &lt;&lt; move &lt;&lt; endl;\n            return move;\n        }\n    }\n}\n</code></pre>\n\n<p>In my board cpp file I have</p>\n\n<pre><code>#include \"tictactoe.h\"\n\nvoid Board::createBoard()\n{\n    for (int i = 0; i &lt; NUM_SQUARES; i++)\n        board.push_back(' ');\n}\n\nvoid Board::displayBoard()\n{\n    cout &lt;&lt; \"\\n\\t\" &lt;&lt; board[0] &lt;&lt; \" | \" &lt;&lt; board[1] &lt;&lt; \" | \" &lt;&lt; board[2];\n    cout &lt;&lt; \"\\n\\t\" &lt;&lt; \"---------\";\n    cout &lt;&lt; \"\\n\\t\" &lt;&lt; board[3] &lt;&lt; \" | \" &lt;&lt; board[4] &lt;&lt; \" | \" &lt;&lt; board[5];\n    cout &lt;&lt; \"\\n\\t\" &lt;&lt; \"---------\";\n    cout &lt;&lt; \"\\n\\t\" &lt;&lt; board[6] &lt;&lt; \" | \" &lt;&lt; board[7] &lt;&lt; \" | \" &lt;&lt; board[8];\n    cout &lt;&lt; \"\\n\\n\";\n}\n\nvoid Board::insert(int temp_move,char temp_player)\n{\n    board[temp_move] = temp_player;\n}\n\nbool Board::isLegal(int move)\n{\n    return (board[move] ==' ');\n}\n\nvector &lt;char&gt; Board::getBoard()\n{\n    return board;\n}\n</code></pre>\n\n<p>In my abstractplayer cpp file i have:</p>\n\n<pre><code>#include \"tictactoe.h\"\n\nchar Abstractplayer::askYesNo(string question)\n{\n    char response;\n    do\n    {\n        cout &lt;&lt; question &lt;&lt; \" (y/n): \";\n        cin &gt;&gt; response;\n    } while (response != 'y' &amp;&amp; response != 'n');\n\n    return response;\n}\nint Abstractplayer::askNumber(string question, int high, int low)\n{\n    int number;\n    do\n    {\n        cout &lt;&lt; question &lt;&lt; \" (\" &lt;&lt; low &lt;&lt; \" - \" &lt;&lt; high &lt;&lt; \"): \";\n        cin &gt;&gt; number;\n    } while (number &gt; high || number &lt; low);\n\n    return number;\n}\nchar Abstractplayer::winner(vector&lt;char&gt; const &amp; another_temp_board)\n{\n    // all possible winning rows\n    const int WINNING_ROWS[8][3] = { { 0, 1, 2 },\n    { 3, 4, 5 },\n    { 6, 7, 8 },\n    { 0, 3, 6 },\n    { 1, 4, 7 },\n    { 2, 5, 8 },\n    { 0, 4, 8 },\n    { 2, 4, 6 } };\n    const int TOTAL_ROWS = 8;\n\n    // if any winning row has three values that are the same (and not EMPTY),\n    // then we have a winner\n    for (int row = 0; row &lt; TOTAL_ROWS; ++row)\n    {\n        if ((another_temp_board[WINNING_ROWS[row][0]] != EMPTY) &amp;&amp;\n            (another_temp_board[WINNING_ROWS[row][0]] == another_temp_board[WINNING_ROWS[row][1]]) &amp;&amp;\n            (another_temp_board[WINNING_ROWS[row][1]] == another_temp_board[WINNING_ROWS[row][2]]))\n        {\n            return another_temp_board[WINNING_ROWS[row][0]];\n        }\n    }\n\n    // since nobody has won, check for a tie (no empty squares left)\n    if (count(another_temp_board.begin(), another_temp_board.end(), EMPTY) == 0)\n        return TIE;\n\n    // since nobody has won and it isn't a tie, the game ain't over\n    return NO_ONE;\n}\n</code></pre>\n\n<p>In my game_implementation cpp I have</p>\n\n<pre><code>#include \"tictactoe.h\"\n\nvoid Game::instructions()\n{\n    cout &lt;&lt; \"Welcome to the ultimate man-machine showdown: Tic-Tac-Toe.\\n\";\n    cout &lt;&lt; \"--where human brain is pit against silicon processor\\n\\n\";\n\n    cout &lt;&lt; \"Make your move known by entering a number, 0 - 8.  The number\\n\";\n    cout &lt;&lt; \"corresponds to the desired board position, as illustrated:\\n\\n\";\n\n    cout &lt;&lt; \"       0 | 1 | 2\\n\";\n    cout &lt;&lt; \"       ---------\\n\";\n    cout &lt;&lt; \"       3 | 4 | 5\\n\";\n    cout &lt;&lt; \"       ---------\\n\";\n    cout &lt;&lt; \"       6 | 7 | 8\\n\\n\";\n\n    cout &lt;&lt; \"Prepare yourself, human.  The battle is about to begin.\\n\\n\";\n}\n\nvoid Game::play()\n{\n    instructions();\n    board.createBoard();\n\n    while (Human-&gt;winner(board.getBoard()) =='N')\n    {\n        if (turn == Human-&gt;selectPiece())//Human goes \n        {\n\n            //move = humanMove(board, human);\n            move = Human-&gt;move(Human-&gt;selectPiece());\n            board.insert(move, Human-&gt;selectPiece());\n            turn = cpu-&gt;selectPiece();\n        }\n        else//Computer goes\n        {\n            //move = computerMove(board, computer);\n            move = cpu-&gt;move(cpu-&gt;selectPiece());\n            board.insert(move, cpu-&gt;selectPiece());\n            turn = Human-&gt;selectPiece();\n        }\n        board.displayBoard();\n    }\n\n    announceWinner(cpu-&gt;winner(board.getBoard()), cpu-&gt;selectPiece(), Human-&gt;selectPiece());//error: says does not take 1 argument\n\n\n}\n\nvoid Game::announceWinner(char winner, char computer, char human)\n{\n    if (winner == computer)\n    {\n        cout &lt;&lt; winner &lt;&lt; \"'s won!\\n\";\n        cout &lt;&lt; \"As I predicted, human, I am triumphant once more -- proof\\n\";\n        cout &lt;&lt; \"that computers are superior to humans in all regards.\\n\";\n    }\n\n    else if (winner == human)\n    {\n        cout &lt;&lt; winner &lt;&lt; \"'s won!\\n\";\n        cout &lt;&lt; \"No, no!  It cannot be!  Somehow you tricked me, human.\\n\";\n        cout &lt;&lt; \"But never again!  I, the computer, so swear it!\\n\";\n    }\n\n    else\n    {\n        cout &lt;&lt; \"It's a tie.\\n\";\n        cout &lt;&lt; \"You were most lucky, human, and somehow managed to tie me.\\n\";\n        cout &lt;&lt; \"Celebrate... for this is the best you will ever achieve.\\n\";\n    }\n}\n</code></pre>\n\n<p>And in my test file I have</p>\n\n<pre><code>#include \"tictactoe.h\"\n\nint main()\n{\n    Game g;\n\n    g.play();\n}\n</code></pre>\n"}, {"tags": ["c++", "codeblocks", "getline"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1436390947, "post_id": 31304057, "comment_id": 50597974, "body": "Linking and compiling an arbitrary .txt file? Programming by guessing doesn&#39;t work mate :)"}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 1, "creation_date": 1436391609, "post_id": 31304057, "comment_id": 50598296, "body": "Use <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/getcwd.html\" rel=\"nofollow noreferrer\">getcwd()</a> to display what directory the application thinks it is running in."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "edited": false, "score": 0, "creation_date": 1436391266, "post_id": 31304114, "comment_id": 50598125, "body": "I tried changing it to <code>ifstream myfile(&quot;&#47;Users&#47;name&#47;Code&#47;textex.txt&quot;);</code> but it still outputs &quot;File not open&quot;"}], "tags": [], "owner": {"reputation": 12666, "user_id": 49329, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd991227ac34793b8bae42972cbb03d6?s=128&d=identicon&r=PG", "display_name": "Don Reba", "link": "https://stackoverflow.com/users/49329/don-reba"}, "is_accepted": false, "score": 1, "last_activity_date": 1436390821, "creation_date": 1436390821, "answer_id": 31304114, "question_id": 31304057, "link": "https://stackoverflow.com/questions/31304057/getline-not-opening-text-file/31304114#31304114", "title": "getline() not opening text file", "body": "<p>Possibly because the project folder is not set as the working directory. Try specifying the full path.</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "edited": false, "score": 0, "creation_date": 1436391454, "post_id": 31304220, "comment_id": 50598223, "body": "I tried changing it to ifstream myfile(&quot;/Users/name/Code/textex.txt&quot;); but it still outputs &quot;File not open&quot;"}, {"owner": {"reputation": 33, "user_id": 4959731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ecb7ee0c33c3cf744f19db86a25b2d?s=128&d=identicon&r=PG&f=1", "display_name": "hussamash", "link": "https://stackoverflow.com/users/4959731/hussamash"}, "reply_to_user": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "edited": false, "score": 0, "creation_date": 1436391624, "post_id": 31304220, "comment_id": 50598301, "body": "I do not know man. I dont have OSX so I dont know if that is the right way to write the path."}, {"owner": {"reputation": 33, "user_id": 4959731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ecb7ee0c33c3cf744f19db86a25b2d?s=128&d=identicon&r=PG&f=1", "display_name": "hussamash", "link": "https://stackoverflow.com/users/4959731/hussamash"}, "reply_to_user": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "edited": false, "score": 0, "creation_date": 1436391812, "post_id": 31304220, "comment_id": 50598395, "body": "I have an idea try creating an output file and then reopen it as input. The program should create it in a location it can read from.  <code>ofstream myout(&quot;test.txt&quot;); myout &lt;&lt; &quot;test&quot;; myout.close();  ifstream myfile(&quot;test.txt&quot;);</code>  then write the same if statement.  I know I didnt test if the output file is open but just say it opens correctly for now."}], "tags": [], "owner": {"reputation": 33, "user_id": 4959731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ecb7ee0c33c3cf744f19db86a25b2d?s=128&d=identicon&r=PG&f=1", "display_name": "hussamash", "link": "https://stackoverflow.com/users/4959731/hussamash"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391282, "creation_date": 1436391282, "answer_id": 31304220, "question_id": 31304057, "link": "https://stackoverflow.com/questions/31304057/getline-not-opening-text-file/31304220#31304220", "title": "getline() not opening text file", "body": "<p>Try typing the full path of the file instead of just the file name.\nTell me what happens then.</p>\n\n<p>On another note but unrelated, since you are using the \"using namespace\" directive, you may as well omit std:: from string just like you did with cin and cout. It is not a big deal, just the look of the code.</p>\n"}, {"tags": [], "owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "is_accepted": true, "score": 0, "last_activity_date": 1436391694, "creation_date": 1436391694, "answer_id": 31304326, "question_id": 31304057, "link": "https://stackoverflow.com/questions/31304057/getline-not-opening-text-file/31304326#31304326", "title": "getline() not opening text file", "body": "<p>Instead of </p>\n\n<pre><code>    ifstream myfile(\"textex.txt\");\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>    ifstream myfile;\n    myfile.open(\"/Users/name/Code/textex.txt\"); // Use the full path\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 3228620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bz2hN.png?s=128&g=1", "display_name": "Arda Kara", "link": "https://stackoverflow.com/users/3228620/arda-kara"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391918, "creation_date": 1436391918, "answer_id": 31304378, "question_id": 31304057, "link": "https://stackoverflow.com/questions/31304057/getline-not-opening-text-file/31304378#31304378", "title": "getline() not opening text file", "body": "<p>When you run your program from Code::Blocks it runs on project folder so your text file must be in your project folder, otherwise text file must be in the folder where your executable is.</p>\n"}], "owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 31304326, "answer_count": 4, "score": 1, "last_activity_date": 1436391918, "creation_date": 1436390627, "last_edit_date": 1436391479, "question_id": 31304057, "link": "https://stackoverflow.com/questions/31304057/getline-not-opening-text-file", "title": "getline() not opening text file", "body": "<p>Hi I am currently using CodeBlocks 13.12 on OSX. </p>\n\n<p>I am trying to open the following .txt file </p>\n\n<p>line 1<br>\nline 2<br>\nline 3</p>\n\n<p>My code is just: </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout&lt;&lt;'\\n';\n    std::string line;\n    ifstream myfile(\"textex.txt\");\n    if(myfile.is_open())\n        cout &lt;&lt; \"File is open\";\n    else\n        cout &lt;&lt; \"File not open\";\n\n    cout&lt;&lt;'\\n';\n    return 0;\n}\n</code></pre>\n\n<p>I have also included the file in the project folder and have tried linking it and compiling it.</p>\n\n<p>When I run the code, it displays\"File not open\" and I'm not sure why? \nI'm new to c++, can someone please explain why this isn't working? </p>\n"}, {"tags": ["c++", "memory-leaks", "direct3d", "dxut"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436390417, "post_id": 31303893, "comment_id": 50597747, "body": "Put the smart pointers inside a singleton class and then delete that class during shutdown."}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1436390908, "creation_date": 1436390908, "answer_id": 31304137, "question_id": 31303893, "link": "https://stackoverflow.com/questions/31303893/d3d-leaks-but-is-it-because-i-have-references-in-global-objects/31304137#31304137", "title": "D3D leaks, but is it because I have references in global objects?", "body": "<p>Yeah this is a bit annoying. Traditionally I document then ignore these false positives. But if you want to work around it, resetting the smart pointers at the bottom of <code>main</code> will probably do the job.</p>\n\n<p>Y'know, unless other objects with static storage duration rely on those classes. They don't, right??</p>\n"}], "owner": {"reputation": 1401, "user_id": 845230, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/18c7cbdfc443199a8e8da27cf6df9f7d?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/845230/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436390908, "creation_date": 1436390097, "question_id": 31303893, "link": "https://stackoverflow.com/questions/31303893/d3d-leaks-but-is-it-because-i-have-references-in-global-objects", "title": "D3D leaks, but is it because I have references in global objects?", "body": "<p>I am getting device leak reports (and a non-zero ref count dialog) from the D3D11 debug runtime.  I have two global classes that contain smart pointers to the layout buffer, vertex shader, and pixel shaders.</p>\n\n<p>If I place a breakpoint on the destructor of those classes, I can see the leak reports happen before those globals are even deleted, perhaps as you might expect.</p>\n\n<p>What's the right way to correct this, while still keeping those global (for now)?  I was planning to add a 'cleanup' function that releases everything manually during shutdown rather than relying on the smart pointers, but that feels like a bit of a hack.</p>\n"}, {"tags": ["c++", "polymorphism", "subclass"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436390119, "post_id": 31303879, "comment_id": 50597588, "body": "An object can&#39;t be both <code>Sub1</code> and <code>Sub2</code> at the same time. These are sibling classes, not parent/child. You would need to derive e.g. <code>Sub3</code> from both <code>Sub1</code> and <code>Sub2</code> to do that. In your code <code>b = new Sub2</code> causes the previously allocated <code>Sub1</code> to be leaked."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436390182, "post_id": 31303879, "comment_id": 50597628, "body": "<code>b = new Sub1;       b = new Sub2;</code> Leaves you with a memory leak."}, {"owner": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436390290, "post_id": 31303879, "comment_id": 50597694, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, Good point. As an aside however, can the first write to <code>b = new Sub1;</code> be eliminated by the compiler in this case?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1436390384, "post_id": 31303879, "comment_id": 50597732, "body": "@Alejandro No I doubt so, because of possible side effects might occur on the constructor call."}, {"owner": {"reputation": 1016, "user_id": 3998205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44de281134f32f62678461168a20dfee?s=128&d=identicon&r=PG&f=1", "display_name": "java", "link": "https://stackoverflow.com/users/3998205/java"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436390395, "post_id": 31303879, "comment_id": 50597737, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 - Could I possibly delete the subclasses through some kind of downcast?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436390522, "post_id": 31303879, "comment_id": 50597795, "body": "@java I think you are trying to do something, what you don&#39;t understand properly actually."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436390542, "post_id": 31303879, "comment_id": 50597801, "body": "You don&#39;t need to &quot;delete the subclasses&quot;, you have a virtual destructor, the compiler will take care of everything."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436390671, "post_id": 31303879, "comment_id": 50597857, "body": "The pointer to Sub1 is lost, sucks , but the pointer that does survive, Sub2, should be deletable in main with <code>delete b;</code> The compiler will make sure a Sub2 is deleted along with it&#39;s Base."}, {"owner": {"reputation": 1016, "user_id": 3998205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44de281134f32f62678461168a20dfee?s=128&d=identicon&r=PG&f=1", "display_name": "java", "link": "https://stackoverflow.com/users/3998205/java"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1436390905, "post_id": 31303879, "comment_id": 50597952, "body": "@user4581301 - is it really lost? I could put all this in a std::vector &lt;Base*&gt; and then loop the vector. But I am not interested in that here :("}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1436391856, "post_id": 31303879, "comment_id": 50598416, "body": "@java if you don&#39;t keep a pointer to a dynamically allocated object, it&#39;s lost. If you assign the object to a pointer, then reassign the pointer to another object, it&#39;s lost. If you assign both objects to different elements of a vector, you&#39;re good. But you should rethink the way you are doing this. If class App is creating the subclasses, it should also have the responsibility of maintaining and deleting them."}], "answers": [{"comments": [{"owner": {"reputation": 1016, "user_id": 3998205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44de281134f32f62678461168a20dfee?s=128&d=identicon&r=PG&f=1", "display_name": "java", "link": "https://stackoverflow.com/users/3998205/java"}, "edited": false, "score": 0, "creation_date": 1436437902, "post_id": 31304961, "comment_id": 50617427, "body": "didnt show you the real code which is based on the decorative pattern. So every component (dynamically allocated) holds a pointer to the next component in the list. All this is done in the app-class where b is the basecomponent created in main. Thanks!!!"}], "tags": [], "owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "is_accepted": true, "score": 2, "last_activity_date": 1436394670, "creation_date": 1436394670, "answer_id": 31304961, "question_id": 31303879, "link": "https://stackoverflow.com/questions/31303879/delete-dynamically-allocated-derived-objects-polymorphism/31304961#31304961", "title": "Delete dynamically allocated derived objects - Polymorphism", "body": "<p>The minimum fix for you leaks would be:</p>\n\n<pre><code>class App {\n\npublic: \n   App(Base *&amp;b) {\n      b = new Sub1;\n      delete b;      // This is your only chance since the next statement overwrites the pointer.\n      b = new Sub2;\n   }\n};\n\n\nint main() {\n\n   Base *b;\n   b = NULL;\n\n   App app(b);\n\n   delete b;\n\n   return 0;\n}\n</code></pre>\n\n<p>But this doesn't seem like a very sensible program. You really need to figure out what you're trying to do with Sub1 and Sub2. You can't have a single pointer pointing to two separate objects at the same time.</p>\n\n<p>Furthermore, you would be better off learning to use std::unique_ptr, since that keeps ownership of what it points to and thus deletes it when appropriate.</p>\n\n<p>So using std::unique_ptr the minimum change to your code is:</p>\n\n<pre><code>class App {\n\npublic: \n   App(std::unique_ptr&lt;Base&gt; &amp; b) {\n      b.reset(new Sub1);\n      b.reset(new Sub2);\n   }\n};\n\n\nint main() {\n\n   std::unique_ptr&lt;Base&gt; b;\n\n   App app(b);\n\n   return 0;\n}\n</code></pre>\n\n<p>There are no manual delete statements. And there are no memory leaks.</p>\n\n<p>(The probably useless Sub1 issue is still there, but that's a design issue you have to figure out since I don't know what you want your program to actually do in the end.)</p>\n"}], "owner": {"reputation": 1016, "user_id": 3998205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44de281134f32f62678461168a20dfee?s=128&d=identicon&r=PG&f=1", "display_name": "java", "link": "https://stackoverflow.com/users/3998205/java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 31304961, "answer_count": 1, "score": -1, "last_activity_date": 1436394670, "creation_date": 1436390052, "last_edit_date": 1436390189, "question_id": 31303879, "link": "https://stackoverflow.com/questions/31303879/delete-dynamically-allocated-derived-objects-polymorphism", "title": "Delete dynamically allocated derived objects - Polymorphism", "body": "<p>I cannot figure out how to delete the dynamically allocated subclasses through the basepointer. The allocation is in the App-class and how do I delete the allocated objects from withing the main-method?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Base {\n\npublic:\n   virtual void print() = 0;\n   virtual ~Base() {\n      cout &lt;&lt; \"Base destructor\\n\";\n   }\n};\n\nclass Sub1 : public Base {\n\npublic:\n   void print() {\n      cout &lt;&lt; \"I am Sub1!\\n\";\n   }\n   ~Sub1() {\n       cout &lt;&lt; \"Sub1 destructor\\n\";\n   }\n};\n\nclass Sub2 : public Base {\n\npublic:\n   void print() {\n      cout &lt;&lt; \"I am Sub2!\\n\";\n   }\n   ~Sub2() {\n       cout &lt;&lt; \"Sub2 destructor\\n\";\n   }\n};\n\nclass App {\n\npublic: \n   App(Base *&amp;b) {\n      b = new Sub1;\n      b = new Sub2;\n   }\n};\n\n\nint main() {\n\n   Base *b;\n   b = NULL;\n\n   App app(b);\n\n\n return 0;\n }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1436389636, "post_id": 31303715, "comment_id": 50597327, "body": "Plain old datatypes (PODs) do not have constructors."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1436390040, "post_id": 31303715, "comment_id": 50597551, "body": "I&#39;m being a bit pedantic here because I have seen people attempt to use uninitialized values as a random number generator. Better terms for the state and contents of a and b are uninitialized and undefined, respectively. Random doesn&#39;t work, but cause the contents are not random. They may be unbelievably predictable, for example a canary value like DEADBEEF. A nice C++ implementation may set them to 0 for you. The point is you can&#39;t count on any behaviour."}], "answers": [{"comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436389715, "post_id": 31303758, "comment_id": 50597359, "body": "<code>a</code> and <code>b</code> will be objects once a <code>myclass</code> is instantiated."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436389830, "post_id": 31303758, "comment_id": 50597428, "body": "@juanchopanza No they aren&#39;t.  Not every variable is an object in C++.  Anything of a primitive type (int, char, long, short, any pointer, bool, etc) is not an object."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1436389896, "post_id": 31303758, "comment_id": 50597462, "body": "@GabeSechan Yes, they are. You are quite mistaken."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436389938, "post_id": 31303758, "comment_id": 50597486, "body": "@juanchopanza No they aren&#39;t.  THey&#39;re primitives.  The term object is reserved for classes, structs, and unions.  Please study up on C++."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1436389970, "post_id": 31303758, "comment_id": 50597506, "body": "@GabeSechan You really don&#39;t have a clue, do you? These things are called objects in C++. Your ignorance is astounding."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436389998, "post_id": 31303758, "comment_id": 50597528, "body": "@juanchopanza No, they aren&#39;t.  Primitives are not objects."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436390041, "post_id": 31303758, "comment_id": 50597553, "body": "Enough sniping, folks. Where in the standard does it refer to these &quot;objects&quot; you speak of?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1436390190, "post_id": 31303758, "comment_id": 50597634, "body": "@Cameron In <b>1.8 The C++ object model [intro.object]</b>. &quot;An <i>object</i> is a region of storage&quot;. There is no distinction between built-ins and user-defined types."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436390258, "post_id": 31303758, "comment_id": 50597676, "body": "@juanchopanza: Right then. Thanks. Not used very much in everyday terms though :-)"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436390867, "post_id": 31303758, "comment_id": 50597940, "body": "@Cameron Still, a lot of the standard wouldn&#39;t make any sense if &quot;object&quot; were restricted to user defined types. So after a while in C++, one gets used to that terminology."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436391202, "post_id": 31303758, "comment_id": 50598099, "body": "@juanchopanza: On the contrary, after a while with the C++ <i>standard</i> one gets used to it ;-) I&#39;ve used C++ for years without bothering about the non-OOP definition of object. (I vaguely recall it might have come up once or twice.) You can tell I don&#39;t peruse sections of the standard very often."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436391288, "post_id": 31303758, "comment_id": 50598137, "body": "@Cameron Ha, that OOP thing. You probably think a <code>struct</code> is very different to a <code>class</code> too ;-)"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436391793, "post_id": 31303758, "comment_id": 50598382, "body": "@juanchopanza: Not at all. It&#39;s possible to be proficient in C++ without reading the standard (although of course it comes in handy every now and then)."}], "tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": false, "score": 2, "last_activity_date": 1436389665, "creation_date": 1436389665, "answer_id": 31303758, "question_id": 31303715, "link": "https://stackoverflow.com/questions/31303715/what-happens-when-you-define-an-empty-default-constructor/31303758#31303758", "title": "What happens when you define an empty default constructor?", "body": "<p>Since <code>a</code> and <code>b</code> are not objects but primitive datatypes, there is no constructor to call.  In contrast, <code>c</code> is an object, so its default constructor is called.</p>\n"}, {"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 2, "creation_date": 1436389922, "post_id": 31303780, "comment_id": 50597476, "body": "It&#39;s also good to note the difference between <code>object o = object()</code> and <code>object o</code>; for POD types (no constructor), the former will default-initialize all members, even the ones without constructors (setting their bits to 0). Similarly, in your constructor&#39;s initializer list you could write <code>: a(), b()</code> which would also default-initialize <code>a</code> and <code>b</code> to 0."}, {"owner": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "edited": false, "score": 0, "creation_date": 1436390055, "post_id": 31303780, "comment_id": 50597558, "body": "Ok, that answers it. I guess my confusion came from the fact that the implicit default constructor (defined if none is explicitly defined) does set int variables to 0 and pointer types to NULL, so I was thinking of those null initializations as a kind of constructor."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "edited": false, "score": 0, "creation_date": 1436390157, "post_id": 31303780, "comment_id": 50597611, "body": "@user3208430: The implicit default constructor does no such thing -- only if you call it with <code>()</code>/<code>{}</code> will the members be default initialized. You can test this with <code>new object</code> vs <code>new object()</code>."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "edited": false, "score": 1, "creation_date": 1436390249, "post_id": 31303780, "comment_id": 50597671, "body": "@user3208430: <code>int</code> variables and pointer variables do not have implicit default constructors. It is true that <code>int i = int();</code> or <code>int i{};</code> initializes <code>i</code> to zero, but this initialization process does not involve any constructors."}, {"owner": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436390505, "post_id": 31303780, "comment_id": 50597789, "body": "@Cameron: Thanks for that information, I didn&#39;t know that. In the case of an implicit constructor for my_class, what if an object of my_class is itself a member of another class, which is then instantiated by its own default constructor, would a and b then be zero initialized?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "edited": false, "score": 1, "creation_date": 1436390864, "post_id": 31303780, "comment_id": 50597937, "body": "@user3208430: It will depend on the constructor of the enveloping class in pretty much the same way. If the enveloping class has a user-defined constructor that doesn&#39;t bother to initialize that inner <code>my_class</code> member, <code>a</code> and <code>b</code> will end up with garbage."}, {"owner": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "edited": false, "score": 0, "creation_date": 1436391303, "post_id": 31303780, "comment_id": 50598143, "body": "@AnT: Let&#39;s say that we&#39;re using the enveloping class&#39; implicit default constructor. Then the my_class object would be constructed using its default constructor (implicit one), with a and b being zero initialized, right?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 2, "creation_date": 1436391424, "post_id": 31303780, "comment_id": 50598207, "body": "It might be worth noting in the answer that this distinction between a and b on the one hand and c on the other hand is called &quot;trivial&quot; in the spec; a and b are trivial, and c is not. Or to zoom in further, a and b are trivially constructible, c is not. &quot;trivial&quot; is different from both POD and primitive, which many people incorrectly cite as the criteria to get this differing behavior."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1436395082, "post_id": 31303780, "comment_id": 50599699, "body": "@Cameron &quot;only if you call it with ()/{} will the members be default initialized.&quot; - they&#39;re <i>value-initialized</i>. They&#39;re default-initialized in the case of no <code>()</code> or <code>{}</code>, and said-initialization for those is to do... nothing."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1436395885, "post_id": 31303780, "comment_id": 50600028, "body": "@WhozCraig: Oops, thanks for correcting my terminology."}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 7, "last_activity_date": 1436391014, "last_edit_date": 1436391014, "creation_date": 1436389712, "answer_id": 31303780, "question_id": 31303715, "link": "https://stackoverflow.com/questions/31303715/what-happens-when-you-define-an-empty-default-constructor/31303780#31303780", "title": "What happens when you define an empty default constructor?", "body": "<p><code>a</code> and <code>b</code> have non-class types, meaning that they have no constructors at all. Otherwise, your description is correct: <code>my_object.a</code> and <code>my_object.b</code> will have indeterminate values, while <code>my_object.c</code> will be properly constructed.</p>\n\n<p>As for why... by writing a user-defined constructor and not mentioning <code>a</code> and <code>b</code> in the initializer list (and not using C++11 in-class member initializers) you explicitly asked the compiler to leave these members uninitialized.</p>\n\n<p>Note that if your class did not have a user-defined constructor, you'd be able to control the initial values of <code>my_object.a</code> and <code>my_object.b</code> from outside, by specifying initializers at the point of object declaration</p>\n\n<pre><code>my_class my_object1;\n// Garbage in `my_object1.a` and `my_object1.b`\n\nmy_class my_object2{};\n// Zero in `my_object2.a` and null pointer in `my_object2.b`\n</code></pre>\n\n<p>But when you wrote your own default constructor, you effectively told the compiler that you want to \"override\" this initialization behavior and do everything yourself.</p>\n"}], "owner": {"reputation": 588, "user_id": 3208430, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b8d1b827c000b561edf43d74c7623370?s=128&d=identicon&r=PG&f=1", "display_name": "user3208430", "link": "https://stackoverflow.com/users/3208430/user3208430"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 31303780, "answer_count": 2, "score": 1, "last_activity_date": 1436391014, "creation_date": 1436389489, "question_id": 31303715, "link": "https://stackoverflow.com/questions/31303715/what-happens-when-you-define-an-empty-default-constructor", "title": "What happens when you define an empty default constructor?", "body": "<p>I have searched previous questions, and have not found a satisfying answer to my question:</p>\n\n<p>If I define an empty default constructor for a class, as for example</p>\n\n<pre><code>class my_class{\npublic:\n    myclass(){}\nprivate:\n    int a;\n    int* b;\n    std::vector&lt;int&gt; c;\n}\n</code></pre>\n\n<p>my understanding is that if I define an object using the default constructor, say</p>\n\n<pre><code>my_class my_object;\n</code></pre>\n\n<p>then my_object.a will be a random value, the pointer my_object.b will also be a random value, however the vector c will be a well-behaved, empty vector.</p>\n\n<p>In other words, the default constructor of c is called while the default constructors of a and b is not. Am I understanding this correctly? What is the reason for this?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "floating-point", "floating-accuracy"], "comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 1, "creation_date": 1436388878, "post_id": 31303397, "comment_id": 50596961, "body": "You should probably write your own class for that--the functions must all be evaluated before they&#39;re used in the operator functions, and so you&#39;re trying to retrieve information from a number that doesn&#39;t have the accuracy you want--in quite a few cases, a double can&#39;t store numbers that small. If you go sufficiently small, a long double would also be insufficient. So make your own small number class and overload the power function and operators for it, and then write a function to convert to double."}, {"owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "edited": false, "score": 1, "creation_date": 1436389070, "post_id": 31303397, "comment_id": 50597069, "body": "Try treating your numbers as a fraction, ex: 0.5 -&gt; 5/10, operate on the numerator and denominator separately and recalculate in the end."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436389080, "post_id": 31303397, "comment_id": 50597074, "body": "Consider using Fixed Point numeric types, they may be more accurate."}, {"owner": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "edited": false, "score": 7, "creation_date": 1436389804, "post_id": 31303397, "comment_id": 50597414, "body": "Can&#39;t you just convert this to 1 / (1 + pow(b/a, 10000)), only compute pow(b/a, 10000) and then return 1/(1+result) ? This would depend on the size of result which would depend ultimately on size of b/a."}, {"owner": {"reputation": 6869, "user_id": 1829943, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yDzWV.png?s=128&g=1", "display_name": "CoffeDeveloper", "link": "https://stackoverflow.com/users/1829943/coffedeveloper"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1436394080, "post_id": 31303397, "comment_id": 50599348, "body": "Fixed point arithmetic will just make the problem even less accurate @Thomas :D"}, {"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1436429260, "post_id": 31303397, "comment_id": 50611463, "body": "@ThomasMatthews: Fixed point would have to be HUGE to accomodate for numbers like <code>pow(0.5, 10000)</code>. I doubt fixed point is a solution for such numbers."}, {"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "reply_to_user": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "edited": false, "score": 0, "creation_date": 1436429482, "post_id": 31303397, "comment_id": 50611604, "body": "@user1952500: since <code>a</code>and <code>b</code> are the same (0.5), a/b = 1."}, {"owner": {"reputation": 6058, "user_id": 1952500, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cd15d38fd1e508e6c2bcad9e153e789d?s=128&d=identicon&r=PG", "display_name": "user1952500", "link": "https://stackoverflow.com/users/1952500/user1952500"}, "edited": false, "score": 0, "creation_date": 1436431638, "post_id": 31303397, "comment_id": 50613007, "body": "In that case the answer is 1/2 = 0.5, no further computation needed."}], "answers": [{"comments": [{"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 2, "creation_date": 1436391958, "post_id": 31304009, "comment_id": 50598471, "body": "I don&#39;t think there is any underflow involved. It is a simple &quot;round-to-zero&quot; or &quot;round-to-nearst&quot; which causes the intermediate results to be zero. And then 0/(0+0) which is NaN."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1436392871, "post_id": 31304009, "comment_id": 50598886, "body": "Depends on the exact implementation of the pow function.  But you&#39;re right, it could be only getting NAN on the last step.  The answer doesn&#39;t change though-  he&#39;d need a special number class, some math tricks, or move to a platform made for symbolic math."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1436393807, "post_id": 31304009, "comment_id": 50599260, "body": "Well - maybe - of cause I don&#39;t know all implementations of pow and floating poing processors/libs. Maybe there are some dealing with &quot;underflow&quot; in this case even though I haven&#39;t heard about it :-) Anyway - the only correct answer is - study the math (numerical analysis) and then use their tricks. But writing code to deal safely with such numbers are really, really difficult. And going into such details is out of scope for this place."}, {"owner": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "edited": false, "score": 0, "creation_date": 1436430999, "post_id": 31304009, "comment_id": 50612654, "body": "<code>pow(0.5,10000)</code> does underflow, in the sense that the true answer is non-zero, but the result will be zero due to inability to express a sufficiently small number in the given format."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "reply_to_user": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "edited": false, "score": 0, "creation_date": 1436437193, "post_id": 31304009, "comment_id": 50616968, "body": "@SimonByrne - seems this is actually called underflow. Quote: <code>The interval between \u2212fminN and fminN, where fminN is the smallest positive normal floating point value, is called the underflow gap.</code> (source: <a href=\"https://en.wikipedia.org/wiki/Arithmetic_underflow\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arithmetic_underflow</a> ) Actually I didn&#39;t know as I considered it &quot;normal rouding&quot; but it seems to be called <code>flush to zero</code> - my mistake :) - that&#39;s why I got the name:"}, {"owner": {"reputation": 97003, "user_id": 142434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGcat.jpg?s=128&g=1", "display_name": "Stephen Canon", "link": "https://stackoverflow.com/users/142434/stephen-canon"}, "edited": false, "score": 1, "creation_date": 1436443263, "post_id": 31304009, "comment_id": 50620946, "body": "Most compilers know quite a bit about what <code>pow</code> does; it&#39;s not just an arbitrary function.  For example, many compilers will optimize <code>pow(x,2)</code> to <code>x*x</code>.  The particular optimization that would be required here, however, is (a) of extremely limited use and (b) would drastically change results (as in this case, from NaN to a finite number).  Compilers don&#39;t make optimizations that would result in radically different results unless they&#39;re explicitly told to do so."}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": false, "score": -2, "last_activity_date": 1436390452, "creation_date": 1436390452, "answer_id": 31304009, "question_id": 31303397, "link": "https://stackoverflow.com/questions/31303397/handling-extremly-small-numbers-in-c/31304009#31304009", "title": "Handling extremly small numbers in C++", "body": "<p>Compilers don't know enough math to be able to simplify complex code like this (the compiler has no idea what pow actually does, it just knows its a function that takes in 1 type and returns another).  So it actually has to go through the calculations step by step.  Unfortunately, the result is so small that it won't fit into a double.  THat's why it returns NAN-  you triggered an underflow of the variable.</p>\n\n<p>If you really need to do this (and I'd question why you need that level of accuracy), you'll need to either do some math tricks to work with a non-standard number system (for example, instead of storing dollars you can store pennies-  but use a much higher factor) or you can write your own math class and do all of your own math libraries.</p>\n\n<p>Or you can move to a platform like Mathematica or MatLab that's better for this kind of work and has a lot of these type of issues built in.</p>\n"}, {"tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 7, "last_activity_date": 1436438072, "last_edit_date": 1436438072, "creation_date": 1436391430, "answer_id": 31304261, "question_id": 31303397, "link": "https://stackoverflow.com/questions/31303397/handling-extremly-small-numbers-in-c/31304261#31304261", "title": "Handling extremly small numbers in C++", "body": "<p>There is no simple generic solution to your problem. Writing computer programs dealing with very small and/or very big numbers is an \"art of science\" - often called numerical analysis. Typical tricks involves scaling before calculating.</p>\n\n<p>In your case each pow(..) is rounded to zero because that is the closest representable value to the real result. After that you do 0/(0 + 0) which is NaN, i.e. Not a Number.</p>\n\n<p>You could go for long double:</p>\n\n<pre><code>long double a = 0.5;\nlong double b = 0.5;\nlong double c =pow(a,10000);\nlong double d =pow(b,10000);\ncout &lt;&lt; c &lt;&lt; endl;\ncout &lt;&lt; d &lt;&lt; endl;\ncout&lt;&lt;c/(c+d);\n</code></pre>\n\n<p>which result in:</p>\n\n<pre><code>5.01237e-3011\n5.01237e-3011\n0.5\n</code></pre>\n\n<p>but that will only help for \" a while\". Increasing the power a bit (just an extra zero) and the problem is back.</p>\n\n<pre><code>long double a = 0.5;\nlong double b = 0.5;\nlong double c =pow(a,100000);\nlong double d =pow(b,100000);\ncout &lt;&lt; c &lt;&lt; endl;\ncout &lt;&lt; d &lt;&lt; endl;\ncout&lt;&lt;c/(c+d);\n\n0\n0\nnan\n</code></pre>\n\n<p>So you need to write a very complicated class yourself or study how this is handle in numerical analysis.</p>\n\n<p>Start here: <a href=\"https://en.wikipedia.org/wiki/Numerical_analysis\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Numerical_analysis</a> or <a href=\"https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic</a></p>\n\n<p>If you know the exp is the same all three place then you can do:</p>\n\n<pre><code>double a = 0.5,b = 0.5; \nint exp = 10000;\n//cout&lt;&lt;pow(a,exp)/(pow(a,exp)+pow(b,exp)); is the same as:\ncout&lt;&lt;1/(1+pow(b/a,exp)); \n</code></pre>\n\n<p>It will work better for most a and b values but don't expect any precision. If a and b just differs a little bit, you'll get 0 (for a less b) or 1 (for b less a). But the NaN part will be solved.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 1273239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvBof.jpg?s=128&g=1", "display_name": "Harry Svensson", "link": "https://stackoverflow.com/users/1273239/harry-svensson"}, "edited": false, "score": 0, "creation_date": 1436914618, "post_id": 31309930, "comment_id": 50810065, "body": "exp(x) is the same as e^x. It is sad that you are inconsecutive."}], "tags": [], "owner": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "is_accepted": false, "score": 6, "last_activity_date": 1436424143, "creation_date": 1436424143, "answer_id": 31309930, "question_id": 31303397, "link": "https://stackoverflow.com/questions/31303397/handling-extremly-small-numbers-in-c/31309930#31309930", "title": "Handling extremly small numbers in C++", "body": "<p>The standard approach for such problems is to work log-space, that is represent each number as e<sup>x</sup> where x is your standard floating point type:</p>\n\n<ul>\n<li><p>addition/subtraction (and summation more generally) can be performed using the <a href=\"http://machineintelligence.tumblr.com/post/4998477107/the-log-sum-exp-trick\" rel=\"noreferrer\">log-sum-exp trick</a>, i.e.</p>\n\n<ul>\n<li>e<sup>x</sup>+e<sup>y</sup> = e<sup>x</sup> (1+e<sup>y-x</sup>) = e<sup>x + log(1+exp(y-x))</sup></li>\n</ul></li>\n<li><p>multiplication/division become addition/subtraction</p>\n\n<ul>\n<li>e<sup>x</sup> &times; e<sup>x</sup> = e<sup>x+y</sup></li>\n</ul></li>\n<li><p>raising to a power is multiplication by an exponent:</p>\n\n<ul>\n<li>pow(e<sup>x</sup>,e<sup>x</sup>) = e<sup>x exp(y)</sup></li>\n</ul></li>\n</ul>\n\n<p>But in your particular case, you're probably better off using the approach suggested at the end of StillLearning's answer</p>\n"}], "owner": {"reputation": 51, "user_id": 5095744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d26d68ee765d69a4fca6fbc5696270?s=128&d=identicon&r=PG&f=1", "display_name": "weedfarmer", "link": "https://stackoverflow.com/users/5095744/weedfarmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10475, "favorite_count": 2, "answer_count": 3, "score": 5, "last_activity_date": 1436438072, "creation_date": 1436388436, "last_edit_date": 1436396652, "question_id": 31303397, "link": "https://stackoverflow.com/questions/31303397/handling-extremly-small-numbers-in-c", "title": "Handling extremly small numbers in C++", "body": "<p>Let a and b be two numbers between 0 and 1.\nHow to calculate <code>pow(a,10000)/(pow(a,10000)+pow(b,10000))</code>?</p>\n\n<p>Ex:-\nThis following code gives -nan as output instead of 0.5</p>\n\n<pre><code>double a = 0.5,b = 0.5; \ncout&lt;&lt;pow(a,10000)/(pow(a,10000)+pow(b,10000)); \n</code></pre>\n"}, {"tags": ["c++", "benchmarking", "latency", "quickfix", "fix-protocol"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 5075719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5244532718d29111daa4cd8d64927f94?s=128&d=identicon&r=PG&f=1", "display_name": "LatencyGuy", "link": "https://stackoverflow.com/users/5075719/latencyguy"}, "edited": false, "score": 0, "creation_date": 1436391478, "post_id": 31304127, "comment_id": 50598241, "body": "I plan to use an asynchronous I/O C++ library. How do you measure the time on the server-side?"}, {"owner": {"reputation": 1680, "user_id": 3610482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a51cy.png?s=128&g=1", "display_name": "rdalmeida", "link": "https://stackoverflow.com/users/3610482/rdalmeida"}, "reply_to_user": {"reputation": 307, "user_id": 5075719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5244532718d29111daa4cd8d64927f94?s=128&d=identicon&r=PG&f=1", "display_name": "LatencyGuy", "link": "https://stackoverflow.com/users/5075719/latencyguy"}, "edited": false, "score": 0, "creation_date": 1436392650, "post_id": 31304127, "comment_id": 50598782, "body": "In my case I am controlling the server and the client code, so I can measure on both sides. If you don&#39;t have control over the server, then you can only measure how fast you can write the message to the network. Then times would be approximately cut in half (~2.387 micros)."}, {"owner": {"reputation": 5608, "user_id": 310971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4c3218260b97c83b89427c798c0a989?s=128&d=identicon&r=PG", "display_name": "DumbCoder", "link": "https://stackoverflow.com/users/310971/dumbcoder"}, "edited": false, "score": 1, "creation_date": 1436512015, "post_id": 31304127, "comment_id": 50653661, "body": "You cannot use your benchmarks as sacrosanct. Test messages are very simplistic and don&#39;t reflect the real messages(not a single type replayed consistently), people will be dealing with."}], "tags": [], "owner": {"reputation": 1680, "user_id": 3610482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a51cy.png?s=128&g=1", "display_name": "rdalmeida", "link": "https://stackoverflow.com/users/3610482/rdalmeida"}, "is_accepted": false, "score": 6, "last_activity_date": 1507841603, "last_edit_date": 1507841603, "creation_date": 1436390864, "answer_id": 31304127, "question_id": 31303392, "link": "https://stackoverflow.com/questions/31303392/what-are-the-lowest-possible-latencies-for-a-fix-engine-to-send-a-fix-message-fr/31304127#31304127", "title": "What are the lowest possible latencies for a FIX engine to send a FIX message from client to server?", "body": "<p>That will depend on how fast your FIX engine can parse bytes into a <code>FixMessage</code> object and more importantly on how fast your network code is. Are you writing the network stack too? Writing a FIX engine looks simple from outside but it is actually a complex task with too many corner cases and features you have to cover. Are you going to support retransmission? Asynchronous audit-logging? FIX session timers? Repeating groups inside repeating groups? You should consider using an open-source or commercial FIX engine.</p>\n\n<p>As for latencies you should expect, I am unaware of any FIX engine that can go below 4.5 microseconds. That's the one-way total time to write a <code>FixMessage</code> object to a <code>ByteBuffer</code>, transfer the ByteBuffer over the network to the server, the server then reads the ByteBuffer from the network and parses it back to a <code>FixMessage</code> object. If you are using a descent FIX engine, the bottleneck will be the network I/O, not the FIX parsing.</p>\n\n<p>To give you some numbers, here are the benchmark for <a href=\"http://www.coralblocks.com/index.php/category/coralfix/\" rel=\"nofollow noreferrer\">CoralFIX</a>, which is a FIX engine written in Java. If you can go below that, please let me know :)</p>\n\n<pre><code>Messages: 1,800,000 (one-way)\nAvg Time:         4.774 micros\nMin Time:         4.535 micros\nMax Time:        69.516 micros\n75%     =   [avg: 4.712 micros, max:  4.774 micros]\n90%     =   [avg: 4.726 micros, max:  4.825 micros]\n99%     =   [avg: 4.761 micros, max:  5.46  micros]\n99.9%   =   [avg: 4.769 micros, max:  7.07  micros]\n99.99%  =   [avg: 4.772 micros, max:  9.481 micros]\n99.999% =   [avg: 4.773 micros, max: 24.017 micros]\n</code></pre>\n\n<p><strong>Disclaimer</strong>: I am one of the developers of CoralFIX.</p>\n"}, {"tags": [], "owner": {"reputation": 2269, "user_id": 1964277, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c265a472116036f7ea9d7e609fb35c13?s=128&d=identicon&r=PG", "display_name": "rupweb", "link": "https://stackoverflow.com/users/1964277/rupweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1436431711, "creation_date": 1436431711, "answer_id": 31312514, "question_id": 31303392, "link": "https://stackoverflow.com/questions/31303392/what-are-the-lowest-possible-latencies-for-a-fix-engine-to-send-a-fix-message-fr/31312514#31312514", "title": "What are the lowest possible latencies for a FIX engine to send a FIX message from client to server?", "body": "<p>If you need lowest latencies then FIX client and FIX server should be on same server, even in same application using an IPC solution like <a href=\"https://lmax-exchange.github.io/disruptor/\" rel=\"nofollow\">disruptor</a></p>\n"}, {"tags": [], "owner": {"reputation": 1818, "user_id": 4077247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a17bf214326dff1209a200760f7748?s=128&d=identicon&r=PG&f=1", "display_name": "xpa1492", "link": "https://stackoverflow.com/users/4077247/xpa1492"}, "is_accepted": false, "score": 0, "last_activity_date": 1438677200, "creation_date": 1438677200, "answer_id": 31804396, "question_id": 31303392, "link": "https://stackoverflow.com/questions/31303392/what-are-the-lowest-possible-latencies-for-a-fix-engine-to-send-a-fix-message-fr/31804396#31804396", "title": "What are the lowest possible latencies for a FIX engine to send a FIX message from client to server?", "body": "<p>I attended a presentation of the Singapore Stock Exchange a few years ago. They had recently purchase the Nasdaq OMX platform and claimed the lowest matching times at the time, at around 8 microseconds if messages were sent via the native protocol. They then said they support FIX, which would result in 2-3 microseconds on top of the matching time...</p>\n\n<p>I guess you can use this 2-3 microsecond number as a sort of a minimal FIX overhead that an exchange claiming to be the fastest managed to achieve :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": false, "score": 2, "last_activity_date": 1438990539, "last_edit_date": 1438990539, "creation_date": 1438968027, "answer_id": 31883347, "question_id": 31303392, "link": "https://stackoverflow.com/questions/31303392/what-are-the-lowest-possible-latencies-for-a-fix-engine-to-send-a-fix-message-fr/31883347#31883347", "title": "What are the lowest possible latencies for a FIX engine to send a FIX message from client to server?", "body": "<h2><em>Hannibal ante portas!</em> . . . do not lose time to optimise in a wrong place</h2>\n\n<p>For the principally lowest achievable numbers <strong>do not forget</strong> to check the <strong><code>ASIC</code></strong> / <strong><code>FPGA</code></strong> - based FIX-Protocol solutions. Any sequential / concurrent serial-processing has hard times to become faster than a parallel-silicon engine solution.</p>\n\n<p>One may achieve not much deeper than about a <strong><code>25 ns</code></strong> resolution on a code-driven measurement <code>aStopwatch.start();callProcessUnderTest();aStopwatch.stop()</code> but the real problems and issues are somewhere else.</p>\n\n<p>To have some comparison on this, <strong><code>20 ns</code></strong> latency represents about as few as 5 m of AOC / active optical cables in 120 Gbps interconnects in colocation houses / HPC clusters.</p>\n\n<h2>0: Define REFERENCE POINTs: Avoid comparing oranges to apples</h2>\n\n<p>Performance tuning and latency minimisation are both thrilling and remarkable efforts.</p>\n\n<p>On a first sight, asking the world for \"Lowest possible <strong><em>anything</em></strong>\" sounds attractive, if not sexy as it is common to hear in recent media, however <strong>any serious attempt to answer to the said</strong> <em>\"Lowest possible\"</em> <strong>is hard without a proper care spent on problem disambiguation</strong> ( if not even demystification ( especially to avoid MAR/COM-generated promises to receive Answers before one asks / Instant Kharma / Eternal Heaven et al, you know 'em well enough to mention any more ) ).</p>\n\n<p>It is nothing new under sun, that for this very reason ITU-T / ITU-R and later IETF immense efforts have been spent on systematic care on defining specifications so as to avoid any potential misunderstanding, the less mis-interpretations ( be it in definitions of standards or acceptance testing procedures or specifications of a minimum performance envelopes a product / service has to meet so as to be fully inter-operable ).</p>\n\n<p>So <strong>before taking any figure</strong>, be it in [ms], [us] or [ns], be <strong>sure</strong> whether we all have <strong>the same reference-setup of a S</strong>ystem-<strong>U</strong>nder-<strong>T</strong>est and be <strong>double-assured</strong> for which two reference points <strong><code>[FROM]-[TO]</code></strong> the presented figure was in fact measured.</p>\n\n<hr>\n\n<h2>1: Define TEST SCENARIO ( incl. FIX-Protocol message ) End-to-End</h2>\n\n<pre><code>________________________________________________________________________\n+0 [us]-[__BaseLINE__] a decision to send anything is made @ &lt;localhost&gt;\n        |\n        |- &lt;localhost&gt; process wishes to request\n        |                                a FIX-MarketData\n        |                                Streaming Updates\n        |                                for a single item EURCHF\n        |                                during LON session opening time\n        |\n        |- &lt;localhost&gt; process wishes to request\n        |                                a FIX-MarketData\n        |                                Single FullRefresh\n        |                                for an itemset of:\n        |                                { EURUSD, GBPUSD, USDJPY,\n        |                                  AUDUSD, USDCAD, USDCHF }\n        |                                during LON session opening time\n        |\n+  [us]-o======&lt; REFERENCE POINT[A] &gt;===================================\n        |\n        |- transfer all DATA to a formatting / assembly process-entity\n        |\n+  [us]-o======&lt; REFERENCE POINT[B] &gt;===================================\n        |\n        |- completed a FIX-message payload to be sent\n        |\n+  [us]-o======&lt; REFERENCE POINT[C] &gt;===================================\n        |\n        |- completed a FIX-message Header/Trailer/CRC to dispatch\n        |\n+  [us]-o======&lt; REFERENCE POINT[D] &gt;===================================\n        |\n        |- inlined SSH/DES/AES cryptor communication service processing\n        |\n+  [us]-o======&lt; REFERENCE POINT[E] &gt;===================================\n        |\n        |- L3/2 transport service protocol SAR / PMD\n        |\n+  [us]-o======&lt; REFERENCE POINT[F] &gt;===================================\n        |\n        |- L2/1 PHY-device wire-on/off-load process ( NIC / FPGA )-engine\n        |\n+  [us]-o======&lt; REFERENCE POINT[G] &gt;===================================\n        |\n        |- E2E transport xmit/delivery processing / latency\n        |\n+  [us]-o======&lt; REFERENCE POINT[H] &gt;===================================\n        |\n        |- L1/2 PHY-device on \"receiving\"-side wire-on/off-load process\n        |\n+  [us]-o======&lt; REFERENCE POINT[I] &gt;===================================\n        |\n        |- L2/3 transport recv/handshaking processing / latency\n        |\n+  [us]-o======&lt; REFERENCE POINT[J] &gt;===================================\n        |\n        |- inlined SSH/DES/AES decryptor processing\n        |\n+  [us]-o======&lt; REFERENCE POINT[K] &gt;===================================\n        |\n        |- incoming FIX-message Header/Trailer/CRC check-in\n        |\n+  [us]-o======&lt; REFERENCE POINT[L] &gt;===================================\n        |\n        |- authentication / FIX-Protocol message-counter cross-validation\n        |\n+  [us]-o======&lt; REFERENCE POINT[M] &gt;===================================\n        |\n        |- FIX-message requested service content de-mapping\n        |\n+  [us]-o======&lt; REFERENCE POINT[N] &gt;===================================\n        |\n        |- FIX-message requested service execution / handling\n        |\n+  [us]-o======&lt; REFERENCE POINT[O] &gt;===================================\n        |\n        |- FIX-message requested service response pre-processing / assy\n        |\n+  [us]-o======&lt; REFERENCE POINT[P] &gt;===================================\n        |\n        [__FinishLINE__] Ready To Send anything back to &lt;localhost&gt;\n        |\n+  [us]-o======&lt; REFERENCE POINT[Q] &gt;===================================\n________|_______________________________________________________________\n\n        : SUBTOTAL BEFORE A REQUESTED SERVICE'S RESPONSE-DELIVERY STARTS\n________________________________________________________________________\n</code></pre>\n\n<hr>\n\n<p>As an ispiration, try to imagine something alike a uniform latency-reporting structure for all vendors ( or for your Project internal Dev/Test-teams ) like this example.</p>\n\n<hr>\n\n<h2>2.Define FULL CONTEXT ( incl. when/what background parallel-activities (workload/noise) you test )</h2>\n"}], "owner": {"reputation": 307, "user_id": 5075719, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5244532718d29111daa4cd8d64927f94?s=128&d=identicon&r=PG&f=1", "display_name": "LatencyGuy", "link": "https://stackoverflow.com/users/5075719/latencyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1849, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1507841603, "creation_date": 1436388417, "last_edit_date": 1436389968, "question_id": 31303392, "link": "https://stackoverflow.com/questions/31303392/what-are-the-lowest-possible-latencies-for-a-fix-engine-to-send-a-fix-message-fr", "title": "What are the lowest possible latencies for a FIX engine to send a FIX message from client to server?", "body": "<p>I am building a FIX engine in C++ but I don't have a reference to know what would be considered a good performance number. Taking into account the network time and the FIX parsing time, what would be a good time in microseconds for a client to send a FIX message to a server? Also does anyone know the current lowest possible latencies expected for this simple <em>FIX-message-from-client-to-server</em> operation?</p>\n"}, {"tags": ["c++", "sockets", "encryption", "openssl"], "comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1436388555, "post_id": 31303311, "comment_id": 50596790, "body": "OpenSSL (well, SSL and TLS in general) does authentication as well as encryption. Without authentication, you&#39;re subject to man-in-the-middle attacks, for only one obvious example."}, {"owner": {"reputation": 681, "user_id": 2672227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/715307710/picture?type=large", "display_name": "Gemma Morriss", "link": "https://stackoverflow.com/users/2672227/gemma-morriss"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1436388991, "post_id": 31303311, "comment_id": 50597025, "body": "Ah thank you, my experience with this is limited."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1436420728, "post_id": 31303311, "comment_id": 50606752, "body": "<i>...my experience with this is limited...&quot;</i> - Just <a href=\"http://bikeshed.com/\" rel=\"nofollow noreferrer\">bike shedding</a>, but... You should probably avoid architecting and designing this yourself. If possible, switch to an IKEv2 or IPSec VPN (and <b><i>not</i></b> PPTP VPN or the others). In-app VPN has benefits over TLS. If you don&#39;t know what the benefits are, then you should probably avoid architecting and designing this yourself :) TLS is an OK choice. There&#39;s lots of landmines in TLS, so you can&#39;t just use it &quot;as-is&quot;. You need to harden it."}], "answers": [{"tags": [], "owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1436389767, "creation_date": 1436389767, "answer_id": 31303795, "question_id": 31303311, "link": "https://stackoverflow.com/questions/31303311/ssl-verses-encrypted-socket/31303795#31303795", "title": "SSL verses Encrypted Socket", "body": "<blockquote>\n  <p>Is there any security implications using encrypted packets over plain sockets?</p>\n</blockquote>\n\n<p>Not if done correctly. BTW, SSL/TLS is encrypted packets over plain sockets.</p>\n\n<blockquote>\n  <p>Is there any 'suggested' setups? I know for a fact that OpenSSL has something like 1/2 million lines of code and had a lot of security issues.</p>\n</blockquote>\n\n<p>The suggested setup is to use code and algorithms which are known to be good. In no case you should invent your own, especially if you don't know much about the topic.</p>\n\n<blockquote>\n  <p>Is there any features that (Open)SSL give me that would a) beneficial or b) detrimental.</p>\n</blockquote>\n\n<p>The SSL/TLS standard gives you probably all what you need. The implementations had problems in the past and will probably have problems in the future. You might have a look at LibreSSL which is a fork of OpenSSL with lots of cruft and unnecessary features and also some weak security removed. NSS looks also like a solid library which had few serious problems in the past compared to OpenSSL, GnuTLS, SChannel and SecureTransport.</p>\n\n<p>But note that SSL/TLS and also other encryption is not simple and you should make yourself comfortable with the concepts and pitfalls before you use it for serious code.</p>\n"}, {"tags": [], "owner": {"reputation": 5815, "user_id": 1210291, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/053Gk.jpg?s=128&g=1", "display_name": "sirgeorge", "link": "https://stackoverflow.com/users/1210291/sirgeorge"}, "is_accepted": false, "score": 1, "last_activity_date": 1436395056, "creation_date": 1436395056, "answer_id": 31305057, "question_id": 31303311, "link": "https://stackoverflow.com/questions/31303311/ssl-verses-encrypted-socket/31305057#31305057", "title": "SSL verses Encrypted Socket", "body": "<p>In addition to @Steffen Ullrich (above) i would add that just plain encryption is almost never a good solution, you also need:</p>\n\n<ol>\n<li>Data integrity - encryption without it is vulnerable to bit flipping attacks</li>\n<li>Authentication - even if you had the best possible encryption in the galaxy it would not help you much if you were talking to a wrong guy. E.g. if your connect to a server that pretends to be your bank - would it matter if the connection is encrypted or not ? You would give your credentials to this imposter!</li>\n<li>Non-repudiation - is sometimes important too</li>\n</ol>\n\n<p>In short: if you think that you can properly implement your own (over plain socket) enrypted connection (and you do not have a doctorate in the field :)) I would suggest to rethink the matter. Even if OpenSSL has/had some security issues - it is still orders of magnitude better than writing your own encrypted connection.</p>\n\n<p>I hope that helps.</p>\n"}], "owner": {"reputation": 681, "user_id": 2672227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/715307710/picture?type=large", "display_name": "Gemma Morriss", "link": "https://stackoverflow.com/users/2672227/gemma-morriss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 31303795, "answer_count": 2, "score": 1, "last_activity_date": 1436395056, "creation_date": 1436388176, "question_id": 31303311, "link": "https://stackoverflow.com/questions/31303311/ssl-verses-encrypted-socket", "title": "SSL verses Encrypted Socket", "body": "<p>I am building an open source client/server app, what I am not sure about is what to use, SSL (e.g. OpenSSL) or encrypted packets over plain sockets.</p>\n\n<p>I guess I have a few questions:</p>\n\n<ul>\n<li><p>Is there any security implications using encrypted packets over plain sockets?</p></li>\n<li><p>Is there any 'suggested' setups?  I know for a fact that OpenSSL has something like 1/2 million lines of code and had a lot of security issues.</p></li>\n<li><p>Is there any features that (Open)SSL give me that would a) beneficial or b) detrimental.</p></li>\n</ul>\n\n<p>Hopefully this question has be structured in such a way that it will pass moderators :)  </p>\n"}, {"tags": ["c++", "opengl", "glfw"], "comments": [{"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 2, "creation_date": 1436388733, "post_id": 31303291, "comment_id": 50596887, "body": "Make sure you are not running into issues where <a href=\"http://www.glfw.org/docs/latest/window.html#window_fbsize\" rel=\"nofollow noreferrer\">window size is not equal to the framebuffer size</a>."}, {"owner": {"reputation": 145, "user_id": 4488945, "user_type": "registered", "profile_image": "https://graph.facebook.com/5135026/picture?type=large", "display_name": "Rafael Sabino", "link": "https://stackoverflow.com/users/4488945/rafael-sabino"}, "edited": false, "score": 0, "creation_date": 1510076761, "post_id": 31303291, "comment_id": 81278247, "body": "I have the same issue on my mac, opengl 4.1, it randomly happened, you found a solution?"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 4488945, "user_type": "registered", "profile_image": "https://graph.facebook.com/5135026/picture?type=large", "display_name": "Rafael Sabino", "link": "https://stackoverflow.com/users/4488945/rafael-sabino"}, "is_accepted": false, "score": 4, "last_activity_date": 1510114325, "creation_date": 1510114325, "answer_id": 47171457, "question_id": 31303291, "link": "https://stackoverflow.com/questions/31303291/opengl-rendering-constricted-to-bottom-left-quarter-of-the-screen/47171457#47171457", "title": "OpenGL Rendering Constricted to bottom left quarter of the screen", "body": "<p>For those of you like me who bump into this problem, you need to pass the frame buffer size to your glViewport call, like this:</p>\n\n<pre><code>GLFWwindow * window = Application::getInstance().currentWindow;\nglfwGetFramebufferSize(window, &amp;frameBufferWidth, &amp;frameBufferHeight);\nglViewport(0, 0, frameBufferWidth, frameBufferHeight);\n</code></pre>\n\n<p>In some devices (mainly Apple Retina displays), the pixel dimensions don't necessarily match your viewport dimensions 1:1.  Check <a href=\"http://www.glfw.org/docs/latest/window.html#window_fbsize\" rel=\"nofollow noreferrer\">here</a> for GLFW documentation.</p>\n"}], "owner": {"reputation": 2825, "user_id": 2411166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/07f51ae9063bcf16d51bc1d9c40b48ee?s=128&d=identicon&r=PG", "display_name": "shadowarcher", "link": "https://stackoverflow.com/users/2411166/shadowarcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1657, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1510114325, "creation_date": 1436388095, "question_id": 31303291, "link": "https://stackoverflow.com/questions/31303291/opengl-rendering-constricted-to-bottom-left-quarter-of-the-screen", "title": "OpenGL Rendering Constricted to bottom left quarter of the screen", "body": "<p>So I'm working on an OpenGL project in C++ and I'm running into a weird issue where after creating the GLFWwindow and drawing to it, the area that I'm drawing in only encompasses the bottom left quarter of the screen. For example if the screen dimensions are 640x480, and I drew a 40x40 square at (600, 440) it shows up here, instead of in the top right corner like I would expect: <img src=\"https://i.stack.imgur.com/DjBcC.png\" alt=\"enter image description here\"></p>\n\n<p>If I move the square into an area that's not within the 640x480 parameter it gets cut off, like below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/yRzpg.png\" alt=\"enter image description here\"></p>\n\n<p>I'll post my code from main.cpp below:</p>\n\n<pre><code>#define FRAME_CAP 5000.0;\n\n#include &lt;iostream&gt;\n#include &lt;GL/glew.h&gt;\n#include &lt;GLFW/glfw3.h&gt;\n#include \"InputHandler.h\"\n#include \"Game.h\"\nusing namespace std;\n\nvoid gameLoop(GLFWwindow *window){\n    InputHandler input = InputHandler(window);\n\n    Game game = Game(input);\n\n    //double frameTime = 1.0 / FRAME_CAP;\n\n    while(!glfwWindowShouldClose(window)){\n        GLint windowWidth, windowHeight;\n        glfwGetWindowSize(window, &amp;windowWidth, &amp;windowHeight);\n        glMatrixMode(GL_PROJECTION);\n        glLoadIdentity();\n        glOrtho(0.0, windowWidth, 0.0, windowHeight, -1.0, 1.0);\n        glMatrixMode(GL_MODELVIEW);\n        glLoadIdentity();\n        glViewport(0, 0, windowWidth, windowHeight);\n\n        game.render();\n        game.handleInput();\n        game.update();\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n\n    }\n\n}\n\nint main(int argc, const char * argv[]){\n    GLFWwindow *window;\n\n    if(!glfwInit()){\n        return -1;\n    }\n\n    window = glfwCreateWindow(640.0, 480.0, \"OpenGL Base Project\", NULL, NULL);\n\n    if(!window){\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n\n    glewInit();\n\n    glfwMakeContextCurrent(window);\n\n    gameLoop(window);\n\n    glfwTerminate();\n    exit(EXIT_SUCCESS);\n}\n</code></pre>\n\n<p>I'm not sure why this would be happening, but if you have any ideas let me know, thank you!</p>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 6, "creation_date": 1436387655, "post_id": 31303080, "comment_id": 50596358, "body": "Why do you think this makes any sense? By deriving publicly, you tell the world <code>Derived</code> is a special kind of <code>Base</code>, and <code>Base</code> has <code>public foo</code> and <code>goo</code>, so <code>Derived</code> also will."}, {"owner": {"reputation": 18613, "user_id": 818182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89b420763192c3b763f4cffa789fe39f?s=128&d=identicon&r=PG", "display_name": "Austin Brunkhorst", "link": "https://stackoverflow.com/users/818182/austin-brunkhorst"}, "edited": false, "score": 0, "creation_date": 1436387711, "post_id": 31303080, "comment_id": 50596383, "body": "Can you give us an example of why you would want this?"}, {"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 6, "creation_date": 1436387715, "post_id": 31303080, "comment_id": 50596385, "body": "Tl;dr, just derive <code>Derived</code> privately from <code>Base</code>"}, {"owner": {"reputation": 981, "user_id": 3900879, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YtmWq.png?s=128&g=1", "display_name": "Rusty Shackleford", "link": "https://stackoverflow.com/users/3900879/rusty-shackleford"}, "edited": false, "score": 0, "creation_date": 1436387809, "post_id": 31303080, "comment_id": 50596419, "body": "Please define who <b>should</b> and <b>should not</b> be able to call <code>foo()</code>.  For example, &quot;derived classes should be able to call <code>foo()</code> but clients of <code>Base</code> should not.&quot;"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1436387846, "post_id": 31303080, "comment_id": 50596437, "body": "@WorldSEnder That would disallow <code>Base * b= new Derived;</code>."}, {"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1436387906, "post_id": 31303080, "comment_id": 50596466, "body": "@juanchopanza, most likely closest to what he wants. The moment you can do <code>Base *b = new Derived;</code> you can also <code>b-&gt;foo()</code>"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 0, "creation_date": 1436387940, "post_id": 31303080, "comment_id": 50596484, "body": "@WorldSEnder No, that&#39;s not what he wants. He wants something that can&#39;t be done."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1436388099, "post_id": 31303080, "comment_id": 50596556, "body": "&quot;disallow some part of the base interface&quot; The problem is that your design is broken. View public inheritance as a <i>&quot;is a&quot;</i> relation. The derived classes must at least have every feature all bases have. If this is not given, don&#39;t derive."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1436388142, "post_id": 31303080, "comment_id": 50596573, "body": "I don&#39;t think deriving from a class is a good way to add functionality. Just write a function. Inheritance is full of pitfalls. At a push, you can derive privately, and only expose a subset of the base&#39;s members."}, {"owner": {"reputation": 981, "user_id": 3900879, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YtmWq.png?s=128&g=1", "display_name": "Rusty Shackleford", "link": "https://stackoverflow.com/users/3900879/rusty-shackleford"}, "edited": false, "score": 0, "creation_date": 1436388576, "post_id": 31303080, "comment_id": 50596805, "body": "After 2nd OP edit...  Just derive privately or use composition and expose the public operations you want.  Trying to do this via public inheritance is a violation of the Liskov Substitution Principle."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1436389139, "post_id": 31303080, "comment_id": 50597106, "body": "<i>&quot;Occasionally you want to subtract as well, that is disallow some part of the base interface&quot;</i> woah woah woah what????"}, {"owner": {"reputation": 9309, "user_id": 2963099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TtYW1.gif?s=128&g=1", "display_name": "Glenn Teitelbaum", "link": "https://stackoverflow.com/users/2963099/glenn-teitelbaum"}, "edited": false, "score": 0, "creation_date": 1436389221, "post_id": 31303080, "comment_id": 50597142, "body": "read use case at bottom from last edit"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1436389297, "post_id": 31303080, "comment_id": 50597181, "body": "<i>&quot;takes a pointer to base, and you can implement some of the methods, but not all.&quot;</i> Do you really think this is a good idea? Do you really want to write code that might break with every little bugfix-update the library guy provides? Again, you promised him that he will always get a pointer to some kind of <code>Base</code>, with all its features! Better find a library more appropriate for your problem if you really cannot implement all required functions."}, {"owner": {"reputation": 4687, "user_id": 3819850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rwYcz.png?s=128&g=1", "display_name": "CinchBlue", "link": "https://stackoverflow.com/users/3819850/cinchblue"}, "edited": false, "score": 0, "creation_date": 1436389497, "post_id": 31303080, "comment_id": 50597274, "body": "@GlennTeitelbaum There always exists the runtime option with <code>typeid()</code> and &quot;reflection.&quot;"}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1436395601, "post_id": 31303080, "comment_id": 50599919, "body": "Ideally for your idea, the base class would have virtual methods that essentially ask if certain functionality is supported or not. Then you could override them to say &quot;no&quot; for the aspects you don&#39;t want to support. But otherwise if no such mechanism exists, then whoever designed the base had particular expectations and assumptions about any possible derived classes. There&#39;s no real way to subvert that without changing the base."}, {"owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "edited": false, "score": 0, "creation_date": 1436402544, "post_id": 31303080, "comment_id": 50601904, "body": "Your use case doesn&#39;t make any sense."}], "answers": [{"tags": [], "owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "is_accepted": false, "score": 1, "last_activity_date": 1436388928, "creation_date": 1436388928, "answer_id": 31303551, "question_id": 31303080, "link": "https://stackoverflow.com/questions/31303080/can-you-prevent-inherited-private-members-being-called-through-the-parent-at-com/31303551#31303551", "title": "Can you prevent inherited private members being called through the parent at compile time?", "body": "<p>Let's analyze this, focused on two major points:</p>\n\n<pre><code>class Base\n{\npublic:\n    virtual void foo() {} // This 1)\n// ... \nclass Derived : public Base // and this 2)\n</code></pre>\n\n<p>In 1) you tell the world that every object of <code>Base</code> offers the method <code>foo()</code> publicly. This implies that when I have <code>Base*b</code> I can call <code>b-&gt;foo()</code> - and <code>b-&gt;goo()</code>.</p>\n\n<p>In 2) you tell the world that your class <code>Derived</code> publicly behaves like a <code>Base</code>. Thus the following is possible:</p>\n\n<pre><code>void call(Base *b) { b-&gt;foo(); }\nint main() {\n    Derived *b = new Derived();\n    call(b);\n    delete b;\n}\n</code></pre>\n\n<p>Hopefully you see that there is no way <code>call(Base*)</code> can know if <code>b</code> is a derived and thus it can't possibly decide at compile-time if calling <code>foo</code> wouldn't be legal.</p>\n\n<hr>\n\n<p>There are two ways to handle this:</p>\n\n<ul>\n<li>You could change the visibility of <code>foo()</code>. This is probably not what you want because other classes can derive from <code>Base</code> and someone wants to call <code>foo</code> afterall. Keep in mind that <a href=\"/q/3970279\">virtual methods can be private</a>, so you should probably declare <code>Base</code> as</li>\n</ul>\n\n\n\n<pre><code>class Base\n{\n  virtual void foo() {}\npublic:\n  void goo() { this-&gt;foo(); }\n};\n</code></pre>\n\n<ul>\n<li>You can change <code>Derived</code> so that it inherits either <code>protected</code> or <code>private</code> from <code>Base</code>. This implies that nobody/only inheriting classes can \"see\" that <code>Derived</code> is a <code>Base</code> and a call to <code>foo()</code>/<code>goo()</code> is not allowed:</li>\n</ul>\n\n\n\n<pre><code>class Derived : private Base\n{\nprivate:\n    void foo() override;\n    // Friends of this class can see the Base aspect\n// .... OR\n// public: // this way\n    // void foo(); // would allow access to foo()\n};\n// Derived d; d.goo() // &lt;-- illegal\n// d.foo() // &lt;-- illegal because `private Base` is invisible\n</code></pre>\n\n<p>You should generally go with the latter because it doesn't involve changing the interface of the <code>Base</code> class - the \"real\" utility.</p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 21464, "user_id": 257645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SE5gW.jpg?s=128&g=1", "display_name": "kfsone", "link": "https://stackoverflow.com/users/257645/kfsone"}, "is_accepted": false, "score": 1, "last_activity_date": 1436404944, "creation_date": 1436404944, "answer_id": 31306574, "question_id": 31303080, "link": "https://stackoverflow.com/questions/31303080/can-you-prevent-inherited-private-members-being-called-through-the-parent-at-com/31306574#31306574", "title": "Can you prevent inherited private members being called through the parent at compile time?", "body": "<p>TL;DR: Deriving a class is a contract to provide <em>at least</em> that interface. Subtraction is <em>not</em> possible.</p>\n\n<p>This seems to be what you want to do:</p>\n\n<pre><code>struct Library {\n    int balance();\n    virtual int giveth(); // overrideable\n    int taketh(); // part of the library\n};\n\n/* compiled into the library's object code: */\nint Library::balance() { return giveth() - taketh(); }\n\n/* Back in header files */\n// PSEUDO CODE\nstruct IHaveABadFeelingAboutThis : public Library {\n    int giveth() override; // my implementation of this\n    int taketh() = delete; // NO TAKE!\n};\n</code></pre>\n\n<p>So that you can't call <code>taketh()</code> on an <code>IHaveABadFeelingAboutThis</code> even when it is cast as the base class.</p>\n\n<pre><code>int main() {\n    IHaveABadFeelingAboutThis x;\n    Library* lib = &amp;x;\n    lib-&gt;taketh(); // Compile error: NO TAKE CANDLE!\n    // but how should this be handled?\n    lib-&gt;balance();\n}\n</code></pre>\n\n<p>If you want to present a <em>different</em> interface than the underlying library you need a facade to present <em>your</em> interface instead of the that of the library.</p>\n\n<pre><code>class Facade {\n    struct LibraryImpl : public Library {\n        int giveth() override;\n    };\n    LibraryImpl m_impl;\n\npublic:\n    int balance() { return m_impl.balance(); }\n    virtual int giveth() { return m_impl.giveth(); }\n    // don't declare taketh\n};\n\nint main() {\n    Facade f;\n    int g = f.giveth();\n    int t = f.taketh(); // compile error: undefined\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": false, "score": 1, "last_activity_date": 1436406823, "creation_date": 1436406823, "answer_id": 31306822, "question_id": 31303080, "link": "https://stackoverflow.com/questions/31303080/can-you-prevent-inherited-private-members-being-called-through-the-parent-at-com/31306822#31306822", "title": "Can you prevent inherited private members being called through the parent at compile time?", "body": "<p>Although I don't think your overall situation is good design, and I share many of the sentiments in the comments, I can also appreciate that a lot of code you don't control is involved. I don't believe there is any compile time solution to your problem that has well defined behavior, but what is far preferable to making methods private and not implementing them is to implement the entire interface and simply make any methods you can't cope with throw an exception. This way at least the behavior is defined, and you can even do try/catch if you think you can recover from a library function needing interface you can't provide. Making the best of a bad situation, I think.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1436469092, "creation_date": 1436469092, "answer_id": 31326273, "question_id": 31303080, "link": "https://stackoverflow.com/questions/31303080/can-you-prevent-inherited-private-members-being-called-through-the-parent-at-com/31326273#31326273", "title": "Can you prevent inherited private members being called through the parent at compile time?", "body": "<p>If you have <code>class A:public B</code>, then you should follow the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Liskov_substitution_principle</a></p>\n\n<p>The Liskov substitution principle is that a pointer-to-A can be used as a pointer-to-B in all circumstances.  Any requirements that <code>B</code> has, <code>A</code> should satisfy.</p>\n\n<p>This is tricky to pull off, and is one of the reasons why many consider OO-style inheritance far less useful than it looks.</p>\n\n<p>Your <code>base</code> exposes a <code>virtual void foo()</code>.  The usual contract means that such a <code>foo</code> can be called, and if its preconditions are met, it will return.</p>\n\n<p>If you derive from <code>base</code>, you cannot strengthen the preconditions, nor relax the postconditions.</p>\n\n<p>On the other hand, if <code>base::foo()</code> was documented (and consumers of <code>base</code> supported) the possibility of it throwing an error (say, <code>method_does_not_exist</code>), then you could derive, and have your implementation throw that error.  Note that even if the contract says it could do this, in practice if this isn't tested consumers may not work.</p>\n\n<p>Violating the Liskov substitution principle is a great way to have lots of bugs and unmaintainable code.  Only do it if you really, really need to.</p>\n"}], "owner": {"reputation": 9309, "user_id": 2963099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TtYW1.gif?s=128&g=1", "display_name": "Glenn Teitelbaum", "link": "https://stackoverflow.com/users/2963099/glenn-teitelbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1436469092, "creation_date": 1436387427, "last_edit_date": 1436389120, "question_id": 31303080, "link": "https://stackoverflow.com/questions/31303080/can-you-prevent-inherited-private-members-being-called-through-the-parent-at-com", "title": "Can you prevent inherited private members being called through the parent at compile time?", "body": "<p>If you have a feature rich class, possibly one you do not own/control, it is often the case where you want to add some functionality so deriving makes sense.</p>\n\n<p>Occasionally you want to subtract as well, that is disallow some part of the base interface.  The common idiom I have seen is to derive and make some member functions private and then not implement them.  As follows:</p>\n\n<pre><code>class Base\n{\npublic:\n  virtual void foo() {}\n  void goo() { this-&gt;foo(); }\n};\n\nclass Derived : public Base\n{\nprivate:\n   void foo();\n};\n</code></pre>\n\n<p>someplace else:</p>\n\n<pre><code>Base * b= new Derived;\n</code></pre>\n\n<p>and yet another place:</p>\n\n<pre><code>b-&gt;foo();  // Any way to prevent this at compile time?\nb-&gt;goo();  // or this?\n</code></pre>\n\n<p>It seems that if the compilation doesn't know that it is derived, the best you can do is not implement and have it fail at runtime.</p>\n\n<p>The issue arises when you have a library, that you can't change, that takes a pointer to base, and you can implement some of the methods, but not all.  So part of the library is useful, but you run the risk of core dumping if you don't know at compile time which functions will call what.</p>\n\n<p>To make it more difficult, others may inherit from you class and want to use the library, and they may add some of the functions you didn't.</p>\n\n<p>Is there another way? in C++11? in C++14?</p>\n"}, {"tags": ["c++", "boost", "dll"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1436388393, "post_id": 31303052, "comment_id": 50596721, "body": "Rebuild Boost, and this time don&#39;t statically link to the runtime, that&#39;s a bad idea in most cases anyway (not sure why the person who answered your last question suggested that, it was completely unrelated to your previous problem). Invoke <code>b2</code> with <code>runtime-link=shared</code> instead of <code>static</code>, and then you should be able to use <code>BOOST_ALL_DYN_LINK</code>."}, {"owner": {"reputation": 231, "user_id": 2762242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39825f0a68898627e15c9be1d2b7b7b7?s=128&d=identicon&r=PG&f=1", "display_name": "xkm", "link": "https://stackoverflow.com/users/2762242/xkm"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1436392694, "post_id": 31303052, "comment_id": 50598808, "body": "If I use BOOST_ALL_DYN_LINK then I should add the boost DLL&#39;s on the debug and release folder right? Is this the only solution?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1436393018, "post_id": 31303052, "comment_id": 50598952, "body": "I get the impression that the conflict is not with Boost&#39;s build configuration, but the ActiveX DLL itself seems to be linking against the static runtime library. Make sure it uses the same flags (dynamic runtime!) as the Boost binaries do. (IOW @Praetorian I didn&#39;t see anything that suggests that boost was actually compiled with the <code>runtime-link=static</code> option as you assume. I think the reverse is more likely)."}, {"owner": {"reputation": 231, "user_id": 2762242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39825f0a68898627e15c9be1d2b7b7b7?s=128&d=identicon&r=PG&f=1", "display_name": "xkm", "link": "https://stackoverflow.com/users/2762242/xkm"}, "edited": false, "score": 0, "creation_date": 1436393031, "post_id": 31303052, "comment_id": 50598961, "body": "Doing what you suggested, its giving &quot;Error\t110\terror C1189: #error :  &quot;Mixing a dll boost library with a static runtime is a really bad idea...&quot;"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1436399153, "post_id": 31303052, "comment_id": 50601036, "body": "@sehe I assumed the static linking part from the answer to his <a href=\"https://stackoverflow.com/q/31301128/241631\">last question</a> and the error he saw when trying to dynamically link to Boost. But if dynamic linking to the runtime isn&#39;t working either, then I&#39;m out of ideas."}], "owner": {"reputation": 231, "user_id": 2762242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39825f0a68898627e15c9be1d2b7b7b7?s=128&d=identicon&r=PG&f=1", "display_name": "xkm", "link": "https://stackoverflow.com/users/2762242/xkm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1436387322, "creation_date": 1436387322, "question_id": 31303052, "link": "https://stackoverflow.com/questions/31303052/cannot-register-regsvr32-a-dll-with-boost-on-it", "title": "Cannot register regsvr32 a DLL with Boost on it", "body": "<p>I'm trying to do <code>regsvr32</code> for a ActiveX DLL with Boost on it, so far I can build the DLL just fine.</p>\n\n<p>However the issue is <code>regsvr32</code> keeps on failing. A possible workaround can be found here: <a href=\"http://binglongx.com/tag/regsvr32/\" rel=\"nofollow\">http://binglongx.com/tag/regsvr32/</a></p>\n\n<p>If I try to add <code>BOOST_ALL_DYN_LINK</code> it gives this error <code>\"Mixing a dll boost library with a static runtime is a really bad idea...\"</code> So I remove it so there's no such error. When removed, the DLL can be built just fine. </p>\n\n<p>Now my question is how to be able to regsvr32 a ActiveX DLL with Boost on it? Does anyone have tried it and made it work?</p>\n"}, {"tags": ["c++", "opencv", "edge-detection", "feature-detection"], "comments": [{"owner": {"reputation": 1719, "user_id": 2256753, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Mhcg5.jpg?s=128&g=1", "display_name": "Balaji R", "link": "https://stackoverflow.com/users/2256753/balaji-r"}, "edited": false, "score": 0, "creation_date": 1436434872, "post_id": 31303045, "comment_id": 50615280, "body": "Since background is same you could try using Background Subtraction methods! <a href=\"http://docs.opencv.org/master/d1/dc5/tutorial_background_subtraction.html\" rel=\"nofollow noreferrer\">docs.opencv.org/master/d1/dc5/&hellip;</a>"}, {"owner": {"reputation": 256, "user_id": 3144229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d0d524febaa46836f13e62533a2de0a9?s=128&d=identicon&r=PG&f=1", "display_name": "massakrienen", "link": "https://stackoverflow.com/users/3144229/massakrienen"}, "reply_to_user": {"reputation": 1719, "user_id": 2256753, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Mhcg5.jpg?s=128&g=1", "display_name": "Balaji R", "link": "https://stackoverflow.com/users/2256753/balaji-r"}, "edited": false, "score": 0, "creation_date": 1436717061, "post_id": 31303045, "comment_id": 50718762, "body": "@BalajiR I tried but couldn&#39;t make it work for images. So I asked another question regarding this, here: <a href=\"http://stackoverflow.com/questions/31369757/how-to-use-backgroundsubtractormog2-for-images\" title=\"how to use backgroundsubtractormog2 for images\">stackoverflow.com/questions/31369757/&hellip;</a>"}], "owner": {"reputation": 256, "user_id": 3144229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d0d524febaa46836f13e62533a2de0a9?s=128&d=identicon&r=PG&f=1", "display_name": "massakrienen", "link": "https://stackoverflow.com/users/3144229/massakrienen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560874643, "creation_date": 1436387296, "last_edit_date": 1560874643, "question_id": 31303045, "link": "https://stackoverflow.com/questions/31303045/finding-edges-of-different-objects-with-same-algorithm", "title": "Finding edges of different objects with same algorithm", "body": "<p>I am trying to find the dimension of different objects.</p>\n\n<p>Until now I was working with one object. When I tried to find dimension of a different object, I realized that I needed to change threshold1 value of Canny. </p>\n\n<p>So my question is: how can I make my program to do that kind of adjustments for different objects automatically? So that I won't need to change anything manually. What kind of algorithm should I use?</p>\n\n<p>Background will be same, camera's position will be fixed, we can assume that the lighting will be same.</p>\n\n<p>For this picture I need a threshold1 value of 53 in order to find the edges.</p>\n\n<p><img src=\"https://i.stack.imgur.com/q4UoT.png\" alt=\"bluePaper2.png\"></p>\n\n<p>For this one, a value of 141 works pretty good.</p>\n\n<p><img src=\"https://i.stack.imgur.com/COtaM.png\" alt=\"hardDisk2.png\"></p>\n\n<p>I couldn't find any values for this one, since its color is almost same as the background's.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ufXAv.png\" alt=\"bigPaper1.png\"></p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include \"opencv2/highgui/highgui.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace cv;\nusing namespace std;\n\nMat src, src_gray, src_blur;\nMat canny_output;\n\nint canny_thresh = 53;\nint canny_max_thresh = 200;\nint canny_kernel = 3;\nint canny_ratio = 3;\nbool L2gradient = true;\n\nchar* source_window = \"Source\";\nchar* canny_window = \"Canny\";\nchar* contour_window = \"Contours\";\n\n/** @function main */\nint main(int argc, char** argv)\n{\n    /// Load source image and convert it to gray\n    src = imread(\"bluePaper2.png\", 1);\n\n    /// Create Window   \n    namedWindow(source_window, CV_WINDOW_AUTOSIZE);\n    imshow(source_window, src);\n\n    /// Convert image to gray and blur it\n    cvtColor(src, src_gray, CV_BGR2GRAY);\n\n    /// Reduce noise with a kernel 3x3\n    blur(src_gray, src_blur, Size(3, 3));   \n\n    /// Detect edges using Canny\n    Canny(src_blur, canny_output, canny_thresh, canny_thresh * canny_ratio, canny_kernel, L2gradient);\n\n    vector&lt;vector&lt;Point&gt; &gt; contours;\n    vector&lt;Vec4i&gt; hierarchy;\n\n    /// Find contours\n    findContours(canny_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0));\n\n    /// Find the rotated rectangles and ellipses for each contour\n    vector&lt;RotatedRect&gt; minRect(contours.size());\n    vector&lt;RotatedRect&gt; minEllipse(contours.size());\n\n    for (int i = 0; i &lt; contours.size(); i++)\n    {\n        minRect[i] = minAreaRect(Mat(contours[i]));\n        if (contours[i].size() &gt; 5)\n        {\n            minEllipse[i] = fitEllipse(Mat(contours[i]));\n        }\n    }\n\n    /// Draw contours + rotated rects + ellipses\n    Mat drawing = Mat::zeros(canny_output.size(), CV_8UC3);\n    for (int i = 0; i&lt; contours.size(); i++)\n    {\n        // contour\n        drawContours(drawing, contours, i, Scalar(255, 255, 0), 2, 8, vector&lt;Vec4i&gt;(), 0, Point());\n        // ellipse\n        ellipse(drawing, minEllipse[i], Scalar(0, 0, 255), 2, 8);\n        // rotated rectangle\n        Point2f rect_points[4]; minRect[i].points(rect_points);\n        for (int j = 0; j &lt; 4; j++)\n            line(drawing, rect_points[j], rect_points[(j + 1) % 4], Scalar(0, 255, 0), 2, 8);\n    }\n\n    /// Show in a window\n    namedWindow(canny_window, CV_WINDOW_AUTOSIZE);\n    namedWindow(contour_window, CV_WINDOW_AUTOSIZE);\n\n    imshow(canny_window, canny_output);\n    imshow(contour_window, drawing);\n\n    waitKey(0);\n    return(0);\n}\n</code></pre>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1436386828, "post_id": 31302897, "comment_id": 50595868, "body": "Libraries you want to use: <code>#include , #include , #include , #include , #include , #include</code>.  You may want to edit your question to include the actual header file names."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436386987, "post_id": 31302897, "comment_id": 50595964, "body": "You can not. Just read an intro into Arduino. Also note that the Arduino language is neither C nor C++, so the tags are wrong here."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1436388180, "post_id": 31302897, "comment_id": 50596606, "body": "@rost0031 You were just blinded by inappropriate formatting."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436388227, "post_id": 31302897, "comment_id": 50596629, "body": "Are you trying to access C language libraries from C++? Your question title asks about C libraries by the language tag is C++."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436388285, "post_id": 31302897, "comment_id": 50596655, "body": "@OP Not these aren&#39;t different <i>libraries</i>, but header files bound to the c++ standard library implementation, that&#39;s coming with your c++ compiler."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1436388322, "post_id": 31302897, "comment_id": 50596678, "body": "@rost0031 Was pretty easy to fix it ..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436388376, "post_id": 31302897, "comment_id": 50596710, "body": "Can you compile your Arduino code as C++?  <i>(I haven&#39;t played with the Arduino platform so I don&#39;t know on this one.  Other embedded systems have C++ compilers.)</i>"}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1436392814, "post_id": 31302897, "comment_id": 50598870, "body": "Welcome to the world of embedded development. Get used to not having access to everything and having to implement some things on your own."}, {"owner": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 0, "creation_date": 1436432342, "post_id": 31302897, "comment_id": 50613441, "body": "Just a comment: stop thinking at uC as if they were PCs. They have very little performances! So if you REALLY need queues then go ahead and use them, but... I don&#39;t think you really need them. Instead of making a dynamic array, make a fixed one. Otherwise your uC will spend all of its life allocating and/or moving bytes in its memory instead of doing something useful..."}, {"owner": {"reputation": 23, "user_id": 4151003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EhSEa.png?s=128&g=1", "display_name": "Zaid Tahir", "link": "https://stackoverflow.com/users/4151003/zaid-tahir"}, "edited": false, "score": 0, "creation_date": 1436438266, "post_id": 31302897, "comment_id": 50617660, "body": "I need dynamic queues. I&#39;m implementing A star Algorithm in Arduino. It&#39;s really tough though."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4151003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EhSEa.png?s=128&g=1", "display_name": "Zaid Tahir", "link": "https://stackoverflow.com/users/4151003/zaid-tahir"}, "edited": false, "score": 0, "creation_date": 1436437569, "post_id": 31304645, "comment_id": 50617189, "body": "Thanks Hussamash ! :)"}], "tags": [], "owner": {"reputation": 33, "user_id": 4959731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ecb7ee0c33c3cf744f19db86a25b2d?s=128&d=identicon&r=PG&f=1", "display_name": "hussamash", "link": "https://stackoverflow.com/users/4959731/hussamash"}, "is_accepted": false, "score": 1, "last_activity_date": 1436486261, "last_edit_date": 1436486261, "creation_date": 1436393000, "answer_id": 31304645, "question_id": 31302897, "link": "https://stackoverflow.com/questions/31302897/how-to-use-c-libraries-for-arduino-code/31304645#31304645", "title": "How to use C Libraries for Arduino code", "body": "<p>It is detailed over here:</p>\n\n<p><a href=\"https://www.arduino.cc/en/Hacking/BuildProcess\" rel=\"nofollow\">https://www.arduino.cc/en/Hacking/BuildProcess</a></p>\n\n<blockquote>\n  <p>The include path includes the sketch's directory, the target directory\n  (/hardware/core//) and the avr include directory\n  (/hardware/tools/avr/avr/include/), as well as any library\n  directories (in /hardware/libraries/) which contain a header\n  file which is included by the main sketch file.</p>\n</blockquote>\n\n<p>And these are the libraries supported by avr-gcc (the compiler that Arduino uses)</p>\n\n<p><a href=\"http://www.nongnu.org/avr-libc/user-manual/modules.html\" rel=\"nofollow\">http://www.nongnu.org/avr-libc/user-manual/modules.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4151003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EhSEa.png?s=128&g=1", "display_name": "Zaid Tahir", "link": "https://stackoverflow.com/users/4151003/zaid-tahir"}, "edited": false, "score": 0, "creation_date": 1436437463, "post_id": 31304731, "comment_id": 50617128, "body": "Thanks alot jack C that was really helpful, I&#39;ll update you once I implement them on my arduino code"}], "tags": [], "owner": {"reputation": 3452, "user_id": 449061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c641bf78515c0061b2647950b72abf30?s=128&d=identicon&r=PG", "display_name": "Jake C", "link": "https://stackoverflow.com/users/449061/jake-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1436393455, "last_edit_date": 1492087809, "creation_date": 1436393455, "answer_id": 31304731, "question_id": 31302897, "link": "https://stackoverflow.com/questions/31302897/how-to-use-c-libraries-for-arduino-code/31304731#31304731", "title": "How to use C Libraries for Arduino code", "body": "<p>Arduino behind the scenes is using the avr-gcc compiler, which provides support for many of the features of the C++ language. It does not, however, include an implementation of libstdc++, which means that a lot of the libraries and features you are used to having with other development environments are just not there. A big reason for this is that it is just not practical to implement some of that functionality on a small microcontroller.</p>\n\n<p>There are several libraries available that implement simplified versions of some of the functions and data structures you are wanting to use. You can find a list (but not necessarily a complete one) of these libraries here:</p>\n\n<p><a href=\"http://playground.arduino.cc/Main/LibraryList\" rel=\"nofollow noreferrer\">http://playground.arduino.cc/Main/LibraryList</a></p>\n\n<p>For example QueueList might be a good alternative to <code>&lt;queue&gt;</code>.</p>\n\n<p>Whatever you find, you are likely to have to refactor your code to use them. When you run into problems implementing those libraries and changes, I would recommend heading over to <a href=\"https://arduino.stackexchange.com/\">https://arduino.stackexchange.com/</a> to get more arduino specific answers.</p>\n"}], "owner": {"reputation": 23, "user_id": 4151003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EhSEa.png?s=128&g=1", "display_name": "Zaid Tahir", "link": "https://stackoverflow.com/users/4151003/zaid-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3184, "favorite_count": 1, "accepted_answer_id": 31304731, "answer_count": 2, "score": 0, "last_activity_date": 1436486261, "creation_date": 1436386746, "last_edit_date": 1436388117, "question_id": 31302897, "link": "https://stackoverflow.com/questions/31302897/how-to-use-c-libraries-for-arduino-code", "title": "How to use C Libraries for Arduino code", "body": "<p>I have a code in Visual studio that I want to implement in Arduino. But there is a problem. Many libraries usable in Visual Studio aren't usable in Arduino IDE. How can I use them in my Arduino code. To be precise, the libraries I want to use are </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;queue&gt;\n#include &lt;string&gt;\n#include &lt;math.h&gt;\n#include &lt;ctime&gt; \n</code></pre>\n\n<p>respectively. </p>\n\n<p>Okay so I know I have <code>&lt;iostream&gt;</code> available in Arduino. <code>&lt;math.h&gt;</code> is also available I think along with <code>&lt;string&gt;</code> library. </p>\n\n<p>The main problem is to how to use <code>#include &lt;queue&gt;</code> and its functions such as <code>priority_queue()</code> and other fucntions of <code>iostream</code> like <code>.pop()</code>?</p>\n"}, {"tags": ["c++", "segmentation-fault"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1436386931, "post_id": 31302893, "comment_id": 50595929, "body": "Is <code>n &gt; myvec.size()</code>?"}, {"owner": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1436387212, "post_id": 31302893, "comment_id": 50596077, "body": "@NathanOliver, nope. It&#39;s only <code>100</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "edited": false, "score": 0, "creation_date": 1436388963, "post_id": 31303067, "comment_id": 50597016, "body": "Your logic is completely correct, but I just have a small doubt, if <code>a</code> and <code>b</code> are equal of both the pairs, wont&#39; it go to the condition 2? That is, <code>if (p1.second == p2.second &amp;&amp; p1.first &gt;= p2.first)</code>?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "edited": false, "score": 0, "creation_date": 1436389202, "post_id": 31303067, "comment_id": 50597133, "body": "@JohnLui, I am assuming you are talking about your code. Yes, it will. The problem is that the function will return <code>true</code> even when the order of <code>p1</code> and <code>p2</code> is switched. <code>sort</code> does not work unless the compare function can guarantee strict ordering."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "edited": false, "score": 0, "creation_date": 1436389311, "post_id": 31303067, "comment_id": 50597184, "body": "@JohnLui, your function should work if you use <code>if (p1.second == p2.second &amp;&amp; p1.first &gt; p2.first)</code>. Drop the <code>=</code> from <code>&gt;=</code>."}, {"owner": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "edited": false, "score": 0, "creation_date": 1436389679, "post_id": 31303067, "comment_id": 50597345, "body": "Right, worked perfectly. Thanks for the clarification. Though I am fairly comfortable writing my own custom comparators now, but, I always face doubts in it. I just want to ask, what exactly does <code>return p1.second &gt; p2.second</code> means? Since return type is <code>bool</code>, therefore, whenever <code>p1.second &gt; p2.second</code> will be <code>true</code>, it will place <code>p1</code> before <code>p2</code>. Am I right in thinking this way? Thanks!"}, {"owner": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "edited": false, "score": 0, "creation_date": 1436389788, "post_id": 31303067, "comment_id": 50597396, "body": "Thanks for the extended help. Much appreciated. :)"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 4, "last_activity_date": 1436387365, "creation_date": 1436387365, "answer_id": 31303067, "question_id": 31302893, "link": "https://stackoverflow.com/questions/31302893/what-can-be-a-possible-reason-for-segmentation-fault-in-this-piece-of-code/31303067#31303067", "title": "What can be a possible reason for segmentation fault in this piece of code?", "body": "<p>Your function to compare the two pairs is faulty. If two of the pairs have the same <code>a</code> and <code>b</code>, <code>sort</code> will never complete.</p>\n\n<p>Change it to:</p>\n\n<pre><code>struct mycomp\n{\n    bool operator() (const pair&lt;int,int&gt; &amp;p1, const pair&lt;int,int&gt; &amp;p2)\n    {\n       if ( p1.second != p2.second )\n          return p1.second &gt; p2.second;\n       else\n          return p1.first &gt; p2.first;\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 1314, "user_id": 4993482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/708d1930c0cda22936291c493cdd703e?s=128&d=identicon&r=PG&f=1", "display_name": "John Lui", "link": "https://stackoverflow.com/users/4993482/john-lui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31303067, "answer_count": 1, "score": 2, "last_activity_date": 1436387365, "creation_date": 1436386738, "question_id": 31302893, "link": "https://stackoverflow.com/questions/31302893/what-can-be-a-possible-reason-for-segmentation-fault-in-this-piece-of-code", "title": "What can be a possible reason for segmentation fault in this piece of code?", "body": "<p>Basically, the following code takes as input <code>n</code> pairs, each of them having two parts, <code>a</code> and <code>b</code>. I sorted the entire vector using a custom comparator, which puts those values first that have a higher second value <code>(b)</code> and, if <code>b</code> is same, then those which have a higher <code>a</code> value. Here is the code, </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;utility&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nstruct mycomp\n{\n    bool operator() (const pair&lt;int,int&gt; &amp;p1, const pair&lt;int,int&gt; &amp;p2)\n    {\n        if (p1.second &gt; p2.second)  // Here \n            return true;\n        else if (p1.second == p2.second &amp;&amp; p1.first &gt;= p2.first)\n            return true;\n        else\n            return false;\n    }\n};\n\nint main (void)\n{\n    int i,n,a,b,foo;\n    cin&gt;&gt;n;\n    i = n;\n    vector&lt;pair&lt;int,int&gt; &gt; myvec;\n    while ( i != 0 )\n    {\n        cin&gt;&gt;a&gt;&gt;b;\n        myvec.push_back(make_pair(a,b));\n        i--;\n    }\n    int val = 0;\n    sort(myvec.begin(),myvec.end(),mycomp());\n    val = val + myvec[0].first;\n    int k = myvec[0].second;\n    foo = 1;\n    while ( k!=0 &amp;&amp; foo &lt; n)   // This part basically calculates the values which I have to print. \n    {\n        //k--;\n        val = val + myvec[foo].first;\n        k = k + myvec[foo].second;\n        k--;\n        foo++;\n    }\n    cout&lt;&lt;val&lt;&lt;\"\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>On executing this, with 100 as input, and the following being the pairs, it gives a seg fault. I tried running it through the debugger, and it says, \n<code>EXC_BAD_ACCESS (code=1,address=0x101800004)</code> on line marked (Here) in code. What am I doing wrong in this?</p>\n\n<p>Here is the link for the input file: <code>https://www.dropbox.com/s/79ygx4qo5qc8tsl/input.txt?dl=0</code></p>\n"}, {"tags": ["c++", "templates", "c++11"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436386504, "post_id": 31302777, "comment_id": 50595661, "body": "What do you mean by <i>&quot;here if inner function <b>cannot be instanced</b> i would like to skip it and do &quot;nothing&quot; instead&quot;</i>?  You mean, any error whatsoever, or one where the <code>S::update</code> method doesn&#39;t exist, or one where the <code>S::update</code> instance would fail to compile, or what?"}, {"owner": {"reputation": 27, "user_id": 3615627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e4da62dd75916101f1af58235b2784?s=128&d=identicon&r=PG&f=1", "display_name": "grynca", "link": "https://stackoverflow.com/users/3615627/grynca"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436386633, "post_id": 31302777, "comment_id": 50595742, "body": "When it exists but does not compile (the case in the code that i posted)"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436386684, "post_id": 31302777, "comment_id": 50595769, "body": "<code>MoveSystem::update</code> requires a member variable called <code>speed</code> to exist, there&#39;s no way around that. Just give <code>StaticEntity</code> a speed that&#39;s always set to <code>0</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436386758, "post_id": 31302777, "comment_id": 50595824, "body": "Can we modify <code>MoveSystem::update</code> at all?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1436387036, "post_id": 31302777, "comment_id": 50595994, "body": "Are you asking for a work-around for a bad design?"}, {"owner": {"reputation": 27, "user_id": 3615627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e4da62dd75916101f1af58235b2784?s=128&d=identicon&r=PG&f=1", "display_name": "grynca", "link": "https://stackoverflow.com/users/3615627/grynca"}, "edited": false, "score": 0, "creation_date": 1436387051, "post_id": 31302777, "comment_id": 50596000, "body": "Go ahead, if some simple solution exists, better modifying systems then entities i guess."}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 4, "last_activity_date": 1436388981, "last_edit_date": 1436388981, "creation_date": 1436387479, "answer_id": 31303099, "question_id": 31302777, "link": "https://stackoverflow.com/questions/31302777/fallback-to-alternate-function-when-templated-function-instantiation-fails/31303099#31303099", "title": "fallback to alternate function when templated function instantiation fails", "body": "<p>First, metaprogramming boilerplate:</p>\n\n<pre><code>namespace details {\n  template&lt;class...&gt;struct voider{using type=void;};\n  template&lt;class...Ts&gt;using void_t=typename voider&lt;Ts...&gt;::type;\n\n  template&lt;template&lt;class...&gt;class Z, class, class...Ts&gt;\n  struct can_apply:\n    std::false_type\n  {};\n  template&lt;template&lt;class...&gt;class Z, class...Ts&gt;\n  struct can_apply&lt;Z, void_t&lt;Z&lt;Ts...&gt;&gt;, Ts...&gt;:\n    std::true_type\n  {};\n}\ntemplate&lt;template&lt;class...&gt;class Z, class...Ts&gt;\nusing can_apply=details::can_apply&lt;Z,void,Ts...&gt;;\n</code></pre>\n\n<p>Now, we can detect properties:</p>\n\n<pre><code>template&lt;class T&gt;\nusing speed_t = decltype(std::declval&lt;T&gt;().speed);\ntemplate&lt;class T&gt;\nusing position_t = decltype(std::declval&lt;T&gt;().position);\n\ntemplate&lt;class T&gt;\nusing has_speed = can_apply&lt;speed_t, T&gt;;\ntemplate&lt;class T&gt;\nusing has_position = can_apply&lt;position_t, T&gt;;\n\ntemplate&lt;class S, class E&gt;\nusing update_call_t = decltype( std::declval&lt;S&gt;().update( std::declval&lt;E&gt;(), 0.0 ) );\n\ntemplate&lt;class S, class E&gt;\nusing has_update = can_apply&lt; update_call_t, S, E &gt;;\n</code></pre>\n\n<p>and we have three traits, <code>has_position</code>, <code>has_update</code> and <code>has_speed</code> that are useful.</p>\n\n<p>Now we fix <code>MoveSystem</code>:</p>\n\n<pre><code>struct MoveSystem {\n  template &lt;class T&gt;\n  std::enable_if_t&lt; has_speed&lt;T&amp;&gt;{} &amp;&amp; has_position&lt;T&amp;&gt;{} &gt;\n  update(T&amp; entity, double dt) {\n    entity.position += entity.speed*dt;\n  }\n};\n</code></pre>\n\n<p>next, we modify update:</p>\n\n<pre><code>namespace updates {\n  template&lt;class S, class E&gt;\n  std::enable_if_t&lt; has_update&lt;S,E&gt;{} &gt;\n  update(S* system, E* entity, double dt ) {\n    system-&gt;update(*entity, dt);\n  }\n  void update(void*, void*, double) {}\n}\ntemplate&lt;class S, class E&gt;\nvoid update(void* system, void* entity, double dt) {\n  using updates::update;\n  update(static_cast&lt;S*&gt;(system), static_cast&lt;E*&gt;(entity), dt );\n}\n</code></pre>\n\n<p>to check for the <code>.update</code> method working with those parameters.</p>\n\n<p>I ADL-enabled the code such that if the class has a <code>friend void update( S*, E*, double )</code> it will also work.</p>\n\n<p>This is all SFINAE work.  Note that adding more properties once we have <code>can_apply</code> is pretty easy.  Make an alias that generates a type that only works if the property is satisfied, then write a <code>can_apply</code> alias that converts that application to a compile-time boolean test.</p>\n\n<p>As an aside, MSVC2015 is not a C++11 compiler, in that it cannot compile the above code.  In MSVC you have to track down some proprietary extensions to do the equivalent of the above code.  This involves writing <code>has_position</code> and the other traits differently.  They call the failure to obey the C++11 standard in this case an inability to do \"expression SFINAE\".</p>\n\n<p>Note that the above uses a handful of C++14 features.  Replace <code>std::enable_if_t&lt;??&gt;</code> with <code>typename std::enable_if&lt;??&gt;::type</code>, replace <code>has_position&lt;??&gt;{}</code> with <code>has_position&lt;??&gt;::value</code> and similar other changes if your compiler doesn't support it.</p>\n"}], "owner": {"reputation": 27, "user_id": 3615627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e4da62dd75916101f1af58235b2784?s=128&d=identicon&r=PG&f=1", "display_name": "grynca", "link": "https://stackoverflow.com/users/3615627/grynca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1436388981, "creation_date": 1436386358, "last_edit_date": 1436387484, "question_id": 31302777, "link": "https://stackoverflow.com/questions/31302777/fallback-to-alternate-function-when-templated-function-instantiation-fails", "title": "fallback to alternate function when templated function instantiation fails", "body": "<p>i need to store pointers to instanced template functions and when function cannot be instanced i would like to store pointer to empty function instead. I looked into SFINAE but i dont think it applies here.</p>\n\n<pre><code>struct StaticEntity {\n    double position;\n};\n\nstruct DynamicEntity {\n    double position;\n    double speed;\n};\n\nclass MoveSystem {\npublic:\n    template &lt;typename T&gt;\n    void update(T&amp; entity, double dt) {\n        entity.position += entity.speed*dt;\n    }\n};\n\ntypedef void (*updateEntitiesFunc)(void* system, void* entity, double dt);\n\ntemplate &lt;typename S, typename E&gt;\nstatic void update(void* system, void* entity, double dt)\n{\n    // here if inner function cannot be instanced i would like to skip it and do \"nothing\" instead\n    ((S*)system)-&gt;update(*(E*)entity, dt);\n}\n\nint main() {\n    updateEntitiesFunc uf = update&lt;MoveSystem, DynamicEntity&gt;;\n    updateEntitiesFunc uf2 = update&lt;MoveSystem, StaticEntity&gt;;\n    //^ this does not compile\n    //  gives error: 'struct StaticEntity' has no member named 'speed'\n    //  i would like it to compile and contain pointer to empty function\n    return 0;\n}\n</code></pre>\n\n<p>It probably is solvable with some template magic that i just cant figure out.\nIdeally without adding complexity to both Entity and System classes.</p>\n\n<p><strong>Design motivation:</strong></p>\n\n<p>for all my entity and system types i want to create a static array of function pointers:</p>\n\n<pre><code>updateEntitiesFunc funcs[EntityTypes::getTypesCount()][SystemTypes::getTypesCount()];\n</code></pre>\n\n<p>And then at runtime call correct function with type-ids:</p>\n\n<pre><code>funcs[entity-&gt;getTypeId()][system-&gt;getTypeId()](&amp;system, &amp;entity, dt);\n</code></pre>\n\n<p>At runtime i will check if entity is compatible with system but it is runtime information. So all function pointers must be registered for all entity-system pairs at compile time, even though they are not compatible. This is where i wanted to create those no-op functions.</p>\n"}, {"tags": ["c++", "corba", "idl"], "comments": [{"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1436423970, "post_id": 31302679, "comment_id": 50608288, "body": "Probably it is an error in the server that causes this exception. Are you able to debug the server?"}, {"owner": {"reputation": 61, "user_id": 2460361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db13648b0ccbf8539af865a8b98a350a?s=128&d=identicon&r=PG", "display_name": "Lee Fowler", "link": "https://stackoverflow.com/users/2460361/lee-fowler"}, "reply_to_user": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1436461028, "post_id": 31302679, "comment_id": 50634038, "body": "Unfortunately no. I have been searching around and seen a couple of posts that mention that this may be the result of a java.lang.NoClassDefFoundError. Does that ring a bell?"}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1436514438, "post_id": 31302679, "comment_id": 50655107, "body": "Which CORBA implementation does your server use? Have you tried a different CORBA implementation like TAOX11?"}, {"owner": {"reputation": 17905, "user_id": 656069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zORb.jpg?s=128&g=1", "display_name": "Brian Kelly", "link": "https://stackoverflow.com/users/656069/brian-kelly"}, "edited": false, "score": 0, "creation_date": 1438309551, "post_id": 31302679, "comment_id": 51409143, "body": "Your best bet is to submit a ticket to the support team at MicroFocus (the current owners of Orbix): <a href=\"http://supportline.microfocus.com/\" rel=\"nofollow noreferrer\">supportline.microfocus.com</a>"}], "owner": {"reputation": 61, "user_id": 2460361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db13648b0ccbf8539af865a8b98a350a?s=128&d=identicon&r=PG", "display_name": "Lee Fowler", "link": "https://stackoverflow.com/users/2460361/lee-fowler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436386077, "creation_date": 1436386077, "question_id": 31302679, "link": "https://stackoverflow.com/questions/31302679/iona-orbix-corbasystemexception-with-minor-code-12003", "title": "IONA ORBIX Corba::SystemException with Minor Code 12003", "body": "<p>I am receiving a CORBA::UNKNOWN SystemException with Minor Code: 12003 when I attempt to invoke an API defined in an IDL file that was supplied to me.</p>\n\n<p>I am running IONA Orbix 3.3 and I have looked in the programming documentation for it and cannot find an associated SystemException with Minor Code 12003. Does anyone know what could be causing this exception?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1436386053, "post_id": 31302592, "comment_id": 50595407, "body": "<code>if (choice != 1||2||3)</code> should be <code>if (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2670, "user_id": 346104, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/31duc.jpg?s=128&g=1", "display_name": "franji1", "link": "https://stackoverflow.com/users/346104/franji1"}, "edited": false, "score": 0, "creation_date": 1436386342, "post_id": 31302701, "comment_id": 50595579, "body": "Those are logical ORs, so it is really doing <code>if ((choice != 1) || (2) || (3))</code> (if that makes it any clearer than the original)"}], "tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": false, "score": 1, "last_activity_date": 1436386459, "last_edit_date": 1436386459, "creation_date": 1436386136, "answer_id": 31302701, "question_id": 31302592, "link": "https://stackoverflow.com/questions/31302592/if-statement-with-or-operator-not-working/31302701#31302701", "title": "&quot;if&quot; statement with &quot;or&quot; operator not working", "body": "<blockquote>\n  <p>Did I use my or operator wrong?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>if  (choice != 1||2||3)</p>\n</blockquote>\n\n<p>What this really does:</p>\n\n<p><code>if ((choice != 1) || (2) || (3))</code></p>\n\n<p>which is to say: \"if choice does not equal 1 or true or true\". </p>\n\n<p>This is the same as doing <code>if (true)</code>.</p>\n\n<p>What you want to do is:</p>\n\n<p><code>if (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3) { ... re-enter number }</code></p>\n"}, {"tags": [], "owner": {"reputation": 1071, "user_id": 3711660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tu0WU.jpg?s=128&g=1", "display_name": "Toumash", "link": "https://stackoverflow.com/users/3711660/toumash"}, "is_accepted": false, "score": 3, "last_activity_date": 1436387998, "last_edit_date": 1436387998, "creation_date": 1436386159, "answer_id": 31302712, "question_id": 31302592, "link": "https://stackoverflow.com/questions/31302592/if-statement-with-or-operator-not-working/31302712#31302712", "title": "&quot;if&quot; statement with &quot;or&quot; operator not working", "body": "<p>Its because your <code>if</code>:</p>\n\n<pre><code>choice != 1||2||3  \n</code></pre>\n\n<p>is evaluating to: </p>\n\n<pre><code>int != int|| true || true\n</code></pre>\n\n<p>And thats always true (something OR yes OR yes -> yes)</p>\n\n<p>Every non-zero integer (<code>x!=0</code>) value casted to boolean will become <code>true</code>.   </p>\n\n<p>Its because humans and computers cant make decision on <code>1</code> number - you must change it to <code>true</code> or <code>false</code> (yes or no)</p>\n\n<p>To resolve the problem simply change it to: </p>\n\n<p><code>if (choice != 1 &amp;&amp; choice != 2 &amp;&amp; choice != 3)</code></p>\n\n<p>EDIT:  Thanks to @StillLearning for improvements</p>\n"}, {"comments": [{"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1436386492, "post_id": 31302722, "comment_id": 50595653, "body": "Replace <code>||</code> with <code>&amp;&amp;</code>"}, {"owner": {"reputation": 384, "user_id": 5081035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kkTWs3vI4Z8/AAAAAAAAAAI/AAAAAAAAADc/-Uqh_lQ1rOw/photo.jpg?sz=128", "display_name": "Bizkit", "link": "https://stackoverflow.com/users/5081035/bizkit"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1436386538, "post_id": 31302722, "comment_id": 50595681, "body": "I left the implementation how he defined it. I just wanted to show the correct usage of the <code>||</code> operator."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1436387028, "post_id": 31302722, "comment_id": 50595990, "body": "And for sure that wasn&#39;t what OP wanted to do. Your code always evaluates to true."}], "tags": [], "owner": {"reputation": 384, "user_id": 5081035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kkTWs3vI4Z8/AAAAAAAAAAI/AAAAAAAAADc/-Uqh_lQ1rOw/photo.jpg?sz=128", "display_name": "Bizkit", "link": "https://stackoverflow.com/users/5081035/bizkit"}, "is_accepted": false, "score": -4, "last_activity_date": 1436386180, "creation_date": 1436386180, "answer_id": 31302722, "question_id": 31302592, "link": "https://stackoverflow.com/questions/31302592/if-statement-with-or-operator-not-working/31302722#31302722", "title": "&quot;if&quot; statement with &quot;or&quot; operator not working", "body": "<p>You need this:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n\n    cout &lt;&lt; \"Choose option 1,2 or 3: \\n\";\n    cout &lt;&lt; \"1: Drop a single chip into one slot \\n\";\n    cout &lt;&lt; \"2: Drop multiple chips into one slot \\n\";\n    cout &lt;&lt; \"3: Quit the program \\n\";\n\n    int choice;\n    cin &gt;&gt; choice; \n\n    if  (choice != 1 || choice != 2 || choice != 3)\n    {\n        cout &lt;&lt; \"Please enter 1 2 or 3 \\n\";\n        cin &gt;&gt; choice;\n    }\n    else \n    {\n        out &lt;&lt; \"it worked \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 3, "last_activity_date": 1436387296, "last_edit_date": 1436387296, "creation_date": 1436386393, "answer_id": 31302785, "question_id": 31302592, "link": "https://stackoverflow.com/questions/31302592/if-statement-with-or-operator-not-working/31302785#31302785", "title": "&quot;if&quot; statement with &quot;or&quot; operator not working", "body": "<p>This condition in the if statement</p>\n\n<pre><code>if  (choice != 1||2||3)\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>if  ( ( choice != 1 ) || 2 || 3 )\n</code></pre>\n\n<p>So it is always equal to <code>true</code> because even if <code>choice != 1</code>  evaluates to <code>false</code> nevertheless expressions <code>2</code> and <code>3</code> are always unequal to zero and consequently each of them evaluate to <code>true</code>.</p>\n\n<p>What you mean is the following</p>\n\n<pre><code>if  ( ( choice != 1 ) &amp;&amp; ( choice != 2 ) &amp;&amp; ( choice != 3 ) )\n</code></pre>\n\n<p>Or you could write it simpler</p>\n\n<pre><code>if  ( choice &lt; 1  || choice &gt; 3 )\n</code></pre>\n\n<p>Or maybe this one will be more readable</p>\n\n<pre><code>if  ( !( 1 &lt;= choice &amp;&amp; choice &lt;= 3 ) )\n</code></pre>\n\n<p>or even the following way:)</p>\n\n<pre><code>if  ( not ( 1 &lt;= choice &amp;&amp; choice &lt;= 3 ) )\n</code></pre>\n\n<p>Take into account that you could this part of the program enclose in do-while loop. For example</p>\n\n<pre><code>int choice;\nbool valid_input;\n\ndo\n{\n    cout &lt;&lt; \"Choose option 1,2 or 3: \\n\";\n    cout &lt;&lt; \"1: Drop a single chip into one slot \\n\";\n    cout &lt;&lt; \"2: Drop multiple chips into one slot \\n\";\n    cout &lt;&lt; \"3: Quit the program \\n\";\n\n    if ( !( cin &gt;&gt; choice ) ) break;\n\n    valid-input  = 1 &lt;= choice &amp;&amp; choice &lt;= 3;\n\n    if  ( !valid_input )\n    {\n        cout &lt;&lt; \"Please enter 1 2 or 3 \\n\";\n    }\n} while ( !valid_input );\n\nif ( valid_input )\n{\n    cout &lt;&lt; \"it worked. There was selected option \" &lt;&lt; choice &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5095645, "user_type": "registered", "profile_image": "https://graph.facebook.com/911648232229302/picture?type=large", "display_name": "Madison Brann", "link": "https://stackoverflow.com/users/5095645/madison-brann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "answer_count": 4, "score": -4, "last_activity_date": 1436387998, "creation_date": 1436385795, "last_edit_date": 1436387139, "question_id": 31302592, "link": "https://stackoverflow.com/questions/31302592/if-statement-with-or-operator-not-working", "title": "&quot;if&quot; statement with &quot;or&quot; operator not working", "body": "<p>Trying to have my program make the user renter input if they choose a number that isn't 1 2 or 3.<br>\n However whenever I type 1 2 or 3 it still wants me to re enter an integer. Did I use my or operator wrong?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt; \n\nusing namespace std; \n\nint main()\n{\n\n    cout &lt;&lt; \"Choose option 1,2 or 3: \\n\";\n    cout &lt;&lt; \"1: Drop a single chip into one slot \\n\";\n    cout &lt;&lt; \"2: Drop multiple chips into one slot \\n\";\n    cout &lt;&lt; \"3: Quit the program \\n\";\n\n    int choice;\n    cin &gt;&gt; choice; \n\n    if  (choice != 1||2||3)\n    {\n        cout &lt;&lt; \"Please enter 1 2 or 3 \\n\";\n        cin &gt;&gt; choice;\n    }\n\n        else \n\n            {\n                cout &lt;&lt; \"it worked \\n\";\n            }\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "arrays", "parameter-passing", "quicksort"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 3, "creation_date": 1436385756, "post_id": 31302558, "comment_id": 50595261, "body": "<code>i</code>, <code>1</code>, <code>l</code>,<code>I</code>, <code>|</code>, <code>j</code> - you just love your readers that much? :-)"}, {"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 1, "creation_date": 1436385854, "post_id": 31302558, "comment_id": 50595314, "body": "Is this an obfuscated code-kinda challenge?"}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 3499376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Oxpf.jpg?s=128&g=1", "display_name": "Anuj Garg", "link": "https://stackoverflow.com/users/3499376/anuj-garg"}, "edited": false, "score": 0, "creation_date": 1436385879, "post_id": 31302588, "comment_id": 50595323, "body": "Ohh man..what a silly mistake I&#39;ve made...Though Thank you for pointing out."}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 498, "user_id": 3499376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Oxpf.jpg?s=128&g=1", "display_name": "Anuj Garg", "link": "https://stackoverflow.com/users/3499376/anuj-garg"}, "edited": false, "score": 0, "creation_date": 1436386368, "post_id": 31302588, "comment_id": 50595594, "body": "@AnujGarg you have name conflict with the names from <code>namespace std</code>. Remove <code>using namespace std;</code> from your code. See also <a href=\"http://stackoverflow.com/q/1452721/3959454\">this question</a>"}, {"owner": {"reputation": 498, "user_id": 3499376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Oxpf.jpg?s=128&g=1", "display_name": "Anuj Garg", "link": "https://stackoverflow.com/users/3499376/anuj-garg"}, "edited": false, "score": 0, "creation_date": 1436386406, "post_id": 31302588, "comment_id": 50595612, "body": "So what actually is the use of using namespace std;"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 498, "user_id": 3499376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Oxpf.jpg?s=128&g=1", "display_name": "Anuj Garg", "link": "https://stackoverflow.com/users/3499376/anuj-garg"}, "edited": false, "score": 1, "creation_date": 1436386466, "post_id": 31302588, "comment_id": 50595637, "body": "@AnujGarg This is way beyond the topic of this question. I believe you should read a <a href=\"http://stackoverflow.com/q/388242/3959454\">decent C++ book</a>."}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": true, "score": 5, "last_activity_date": 1436385786, "creation_date": 1436385786, "answer_id": 31302588, "question_id": 31302558, "link": "https://stackoverflow.com/questions/31302558/error-invalid-types-intint-for-array-subscript/31302588#31302588", "title": "error: invalid types &#39;int[int]&#39; for array subscript", "body": "<p><code>l</code> is the function parameter of type <code>int</code>, it hides the global variable with the same name.</p>\n"}], "owner": {"reputation": 498, "user_id": 3499376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Oxpf.jpg?s=128&g=1", "display_name": "Anuj Garg", "link": "https://stackoverflow.com/users/3499376/anuj-garg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6503, "favorite_count": 0, "accepted_answer_id": 31302588, "answer_count": 1, "score": -4, "last_activity_date": 1436386244, "creation_date": 1436385663, "last_edit_date": 1436386244, "question_id": 31302558, "link": "https://stackoverflow.com/questions/31302558/error-invalid-types-intint-for-array-subscript", "title": "error: invalid types &#39;int[int]&#39; for array subscript", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint t,n,k,m,i,j;\nint l[100002],r[100002],c[100002],a[100002],total=0;\nint swap( int *a, int *b)\n{\n    int temp=*a;\n    *a=*b;\n    *b=temp;\n}\nint pivot( int l, int h)\n{\n    int x=c[h],i=l,j=l-1,temp;\n    for(i=l;i&lt;h;i++)\n    {\n        if(c[i]&lt;x)\n        {\n            j++;\n            swap(&amp;c[i],&amp;c[j]);\n            swap(&amp;r[i],&amp;r[j]);\n            swap(&amp;l[i],&amp;l[j]);\n        }\n    }\n    j++;\n    swap(&amp;c[h],&amp;c[j]);\n    swap(&amp;l[h],&amp;l[j+1]);\n    swap(&amp;r[h],&amp;r[j+1]);\n    return j;\n}\nint quick( int l, int h)\n{\n    int p;\n    if(l&lt;h)\n    {\n        p=pivot(l,h);\n        quick(l,p-1);\n        quick(p+1,h);\n    }\n}\nint main() {\n    cin&gt;&gt;t;\n    while(t--)\n    {\n        total=0;\n        cin&gt;&gt;n&gt;&gt;k&gt;&gt;m;\n        for(i=1;i&lt;=n;i++)\n        {\n            cin&gt;&gt;a[i];\n            total+=a[i];\n        }\n        for(i=1;i&lt;=m;i++)\n            cin&gt;&gt;l[i]&gt;&gt;r[i]&gt;&gt;c[i];\n        quick(1,m);\n        for(i=1;i&lt;=m;i++)\n            cout&lt;&lt;l[i]&lt;&lt;r[i]&lt;&lt;c[i]&lt;&lt;endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>In the above code I am getting the following error.</p>\n\n<pre><code>prog.cpp: In function 'int pivot(int, int)':\nprog.cpp:21:13: error: invalid types 'int[int]' for array subscript\n    swap(&amp;l[i],&amp;l[j]);\n             ^\nprog.cpp:21:19: error: invalid types 'int[int]' for array subscript\n    swap(&amp;l[i],&amp;l[j]);\n                   ^\nprog.cpp:26:11: error: invalid types 'int[int]' for array subscript\n  swap(&amp;l[h],&amp;l[j+1]);\n           ^\nprog.cpp:26:19: error: invalid types 'int[int]' for array subscript\n  swap(&amp;l[h],&amp;l[j+1]);\n                   ^\n</code></pre>\n\n<p>Can you figure out what the error is? And also I am wondering why I am getting this error only in array <code>l</code> not in <code>r</code> or <code>c</code>. So please explain this also.</p>\n\n<p>Here is the link of the above program.</p>\n\n<p><a href=\"http://ideone.com/K1exEK\" rel=\"nofollow\">http://ideone.com/K1exEK</a></p>\n"}, {"tags": ["c++", "linux", "windows", "c++11", "unicode"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1436385687, "post_id": 31302506, "comment_id": 50595216, "body": "<code>wchar_t</code> is not &quot;considered for UTF-32&quot;. <code>wchar_t</code> is used for wide characters. You can convert wide characters to UTF-foo if you like."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1436385822, "post_id": 31302506, "comment_id": 50595298, "body": "I would not bet on any C++ unicode functionality - you may try something like uconv: <a href=\"https://en.wikipedia.org/wiki/Uconv\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Uconv</a>"}, {"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436386031, "post_id": 31302506, "comment_id": 50595394, "body": "hence wanting to use u16* u32* types, I only mentioned wchar_t because google examples seem to use it, and because wstring_convert is standard but u16string_convert, u32string_convert, etc. appear to not exist, so does that mean i missed somthing about wstring_convert?"}, {"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436386558, "post_id": 31302506, "comment_id": 50595694, "body": "Is uconv just a program implemented by ICU? I suppose one extreme option would be to include the ICU library, but that seems a really big thing to just to pass a string between a few other libraries with almost no other processing."}], "answers": [{"comments": [{"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436386212, "post_id": 31302660, "comment_id": 50595488, "body": "Yes, I saw and mentioned those types. But am I meant to wrap those for std::basic_string types with error and buffer handling myself (which seem to give little direct value over a simple utf-8 &amp; utf-16 encode/decode codepoint function? Like I said, wstring_convert seemed &quot;higher level&quot;, but not seeing how to template it for all the applicable cases."}, {"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436387159, "post_id": 31302660, "comment_id": 50596051, "body": "So I looked at it some more, I still do not see how a u16string/UTF-16 and u32string/UTF-32 conversion is meant to work? None of the template instantiations for wstring_convert or codecvt_utf16 seem to take both, but rather always want std::string?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436387751, "post_id": 31302660, "comment_id": 50596400, "body": "I have added examples to my answer."}, {"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436388412, "post_id": 31302660, "comment_id": 50596729, "body": "For from_bytes looks like I can just use the &quot;const char* first, const char* last&quot; overload (data() and data()+length() casted to const char), but is nothing possible with to_bytes (To_UTF16)? I guess the copy is not that expensive, but really feels unneeded."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436393015, "post_id": 31302660, "comment_id": 50598949, "body": "There is no other option for <code>std::wstring_convert::to_bytes()</code>. Maybe you can do something with <code>std::wbuffer_convert</code> to avoid unwanted copies. Otherwise, just implement the UTF32-&gt;UTF16 conversion manually, it would only take a few extra lines of code."}, {"owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "edited": false, "score": 0, "creation_date": 1436393838, "post_id": 31302660, "comment_id": 50599272, "body": "ok, well still a nice improvement over what I had in my old C++03 project although not immediately obvious without some helper wrappers along with the new string types and literals."}, {"owner": {"reputation": 17525, "user_id": 257299, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cVFYE.png?s=128&g=1", "display_name": "kevinarpe", "link": "https://stackoverflow.com/users/257299/kevinarpe"}, "edited": false, "score": 0, "creation_date": 1475136322, "post_id": 31302660, "comment_id": 66824174, "body": "Can you explain why use used <code>reinterpret_cast</code> instead of <code>static_cast</code>?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 17525, "user_id": 257299, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cVFYE.png?s=128&g=1", "display_name": "kevinarpe", "link": "https://stackoverflow.com/users/257299/kevinarpe"}, "edited": false, "score": 1, "creation_date": 1475136877, "post_id": 31302660, "comment_id": 66824500, "body": "@kevinarpe because <code>static_cast</code> cannot cast between pointers of <i>unrelated</i> types, but <code>reinterpret_cast</code> can."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 26, "last_activity_date": 1436392653, "last_edit_date": 1436392653, "creation_date": 1436386027, "answer_id": 31302660, "question_id": 31302506, "link": "https://stackoverflow.com/questions/31302506/stdu32string-conversion-to-from-stdstring-and-stdu16string/31302660#31302660", "title": "std::u32string conversion to/from std::string and std::u16string", "body": "<p>If you read the documentation at CppReference.com for <a href=\"http://en.cppreference.com/w/cpp/locale/wstring_convert\"><code>wstring_convert</code></a>, <a href=\"http://en.cppreference.com/w/cpp/locale/codecvt_utf8\"><code>codecvt_utf8</code></a>, <a href=\"http://en.cppreference.com/w/cpp/locale/codecvt_utf16\"><code>codecvt_utf16</code></a>, and <a href=\"http://en.cppreference.com/w/cpp/locale/codecvt_utf8_utf16\"><code>codecvt_utf8_utf16</code></a>, the pages include a table that tells you exactly what you can use for the various UTF conversions.</p>\n\n<p><img src=\"https://i.stack.imgur.com/mxlKE.png\" alt=\"table\"></p>\n\n<p>And yes, you would use <a href=\"http://en.cppreference.com/w/cpp/locale/wstring_convert\"><code>std::wstring_convert</code></a> to facilitate the conversion between the various UTFs.  Despite its name, it is not limited to just <code>std::wstring</code>, it actually operates with any <code>std::basic_string</code> type (which <code>std::string</code>, <code>std::wstring</code>, and <code>std::uXXstring</code> are all based on).</p>\n\n<blockquote>\n  <p>Class template std::wstring_convert performs conversions between byte string <code>std::string</code> and wide string <code>std::basic_string&lt;Elem&gt;</code>, using an individual code conversion facet Codecvt. std::wstring_convert assumes ownership of the conversion facet, and cannot use a facet managed by a locale. <strong>The standard facets suitable for use with std::wstring_convert are std::codecvt_utf8 for UTF-8/UCS2 and UTF-8/UCS4 conversions and std::codecvt_utf8_utf16 for UTF-8/UTF-16 conversions</strong>. </p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>typedef std::string u8string;\n\nu8string To_UTF8(const std::u16string &amp;s)\n{\n    std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;char16_t&gt;, char16_t&gt; conv;\n    return conv.to_bytes(s);\n}\n\nu8string To_UTF8(const std::u32string &amp;s)\n{\n    std::wstring_convert&lt;std::codecvt_utf8&lt;char32_t&gt;, char32_t&gt; conv;\n    return conv.to_bytes(s);\n}\n\nstd::u16string To_UTF16(const u8string &amp;s)\n{\n    std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;char16_t&gt;, char16_t&gt; conv;\n    return conv.from_bytes(s);\n}\n\nstd::u16string To_UTF16(const std::u32string &amp;s)\n{\n    std::wstring_convert&lt;std::codecvt_utf16&lt;char32_t&gt;, char32_t&gt; conv;\n    std::string bytes = conv.to_bytes(s);\n    return std::u16string(reinterpret_cast&lt;const char16_t*&gt;(bytes.c_str()), bytes.length()/sizeof(char16_t));\n}\n\nstd::u32string To_UTF32(const u8string &amp;s)\n{\n    std::wstring_convert&lt;codecvt_utf8&lt;char32_t&gt;, char32_t&gt; conv;\n    return conv.from_bytes(s);\n}\n\nstd::u32string To_UTF32(const std::u16string &amp;s)\n{\n    const char16_t *pData = s.c_str();\n    std::wstring_convert&lt;std::codecvt_utf16&lt;char32_t&gt;, char32_t&gt; conv;\n    return conv.from_bytes(reinterpret_cast&lt;const char*&gt;(pData), reinterpret_cast&lt;const char*&gt;(pData+s.length()));\n}\n</code></pre>\n"}], "owner": {"reputation": 27546, "user_id": 6266, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/398efb709eb606ef79ee6436f55f93bd?s=128&d=identicon&r=PG", "display_name": "Fire Lancer", "link": "https://stackoverflow.com/users/6266/fire-lancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9496, "favorite_count": 9, "accepted_answer_id": 31302660, "answer_count": 1, "score": 10, "last_activity_date": 1436392653, "creation_date": 1436385480, "question_id": 31302506, "link": "https://stackoverflow.com/questions/31302506/stdu32string-conversion-to-from-stdstring-and-stdu16string", "title": "std::u32string conversion to/from std::string and std::u16string", "body": "<p>I need to convert between UTF-8, UTF-16 and UTF-32 for different API's/modules and since I know have the option to use C++11 am looking at the new string types.</p>\n\n<p>It looks like I can use <code>string</code>, <code>u16string</code> and <code>u32string</code> for UTF-8, UTF-16 and UTF-32. I also found <code>codecvt_utf8</code> and <code>codecvt_utf16</code> which look to be able to do a conversion between <code>char</code> or <code>char16_t</code> and <code>char32_t</code> and what looks like a higher level <code>wstring_convert</code> but that only appears to work with bytes/<code>std::string</code> and not a great deal of documentation.</p>\n\n<p>Am I meant to use a <code>wstring_convert</code> somehow for the UTF-16 \u2194 UTF-32 and UTF-8 \u2194 UTF-32 case? I only really found examples for UTF-8 to UTF-16, which I am not even sure will be correct on Linux where <code>wchar_t</code> is normally considered UTF-32... Or do something more complex with those codecvt things directly?</p>\n\n<p>Or is this just still not really in a usable state and I should stick with my own existing small routines using 8, 16 and 32bit unsigned integers?</p>\n"}, {"tags": ["c++", "opencv", "visual-studio-2012"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436385664, "post_id": 31302391, "comment_id": 50595205, "body": "no idea, but you should start using the (not so) new C++ syntax for OpenCV stuff..."}, {"owner": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436385770, "post_id": 31302391, "comment_id": 50595270, "body": "did u think my pc need more speed for run it ? its loop 300 loops in all frame"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436385949, "post_id": 31302391, "comment_id": 50595352, "body": "no, i don&#39;t think that you&#39;ll run out of memory or something unless you have a very very old pc. But since you&#39;re running Win8, you should be ok. Hint: if you remove a code block and it works, probably the error is there! and again, start using C++ syntax. Many things have changed and got better."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436386010, "post_id": 31302391, "comment_id": 50595385, "body": "just out of curiosity, what does you code do?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436396000, "post_id": 31302391, "comment_id": 50600069, "body": "link the video that gives you the problem"}, {"owner": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436396729, "post_id": 31302391, "comment_id": 50600308, "body": "i forget i serach about the site"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436398876, "post_id": 31302391, "comment_id": 50600942, "body": "Code too old, I cannot run it. I&#39;ll let it go.. Sorry about that"}], "answers": [{"comments": [{"owner": {"reputation": 4270, "user_id": 2386113, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/82njB.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/2386113/skm"}, "reply_to_user": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1436387196, "post_id": 31302747, "comment_id": 50596067, "body": "I tried to run your code but there are several things missing. Please post only the relevant part only so that, I can test at my system."}, {"owner": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1436387422, "post_id": 31302747, "comment_id": 50596211, "body": "did u import opencv ?"}, {"owner": {"reputation": 4270, "user_id": 2386113, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/82njB.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/2386113/skm"}, "reply_to_user": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1436387465, "post_id": 31302747, "comment_id": 50596238, "body": "@MohamedMohamed: I would strongly recommend you to use <code>Mat image</code> because then you don&#39;t need to think about memory management. Even I have experienced such things and the problem was related to Memory leak due to improper handling of <code>IplImage</code>."}, {"owner": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "edited": false, "score": 0, "creation_date": 1436387502, "post_id": 31302747, "comment_id": 50596265, "body": "also i use video name a.avi  add it in project folder"}], "tags": [], "owner": {"reputation": 4270, "user_id": 2386113, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/82njB.jpg?s=128&g=1", "display_name": "skm", "link": "https://stackoverflow.com/users/2386113/skm"}, "is_accepted": false, "score": 0, "last_activity_date": 1436386240, "creation_date": 1436386240, "answer_id": 31302747, "question_id": 31302391, "link": "https://stackoverflow.com/questions/31302391/opencv-and-c-visual-studio-2012/31302747#31302747", "title": "opencv and c++ visual studio 2012", "body": "<p>I think that the problem is related to the declaration of <code>IplImage *frame</code> inside the <code>for loop</code>. When the size of your video length increases then, your memory gets full. Because you are continuously creating new <code>frames</code> inside the <code>for loop</code> without freeing the memory allocated to them. </p>\n\n<p>You should declare <code>IplImage *frame</code> outside the <code>for loop</code> and then release the memory allocated to it outside the <code>for loop</code>.</p>\n\n<p><strong>ADVICE:</strong> Do not use old C-standards of OpenCV. Use the new C++ standards where you have to declare an image as <code>Mat image</code>. Then, you don't need to think about freeing memory because it does all the stuff itself.</p>\n"}], "owner": {"reputation": 100, "user_id": 4777012, "user_type": "registered", "profile_image": "https://graph.facebook.com/810062232411506/picture?type=large", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/4777012/mohamed-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1436389360, "creation_date": 1436385089, "last_edit_date": 1436389360, "question_id": 31302391, "link": "https://stackoverflow.com/questions/31302391/opencv-and-c-visual-studio-2012", "title": "opencv and c++ visual studio 2012", "body": "<p>I have this code it work good.</p>\n\n<p>When video length less than 1 minute and video size its 165 KB\nWhen I change the video with other length 2 minute and size 15 MB OR another one same length with size 5 MB its show to me</p>\n\n<p>project has stop working</p>\n\n<p>this my code</p>\n\n<pre><code># include \"windows.h\" \n# ifdef _CH_ \n# pragma package &lt; opencv &gt; \n# endif \n# include \"windows.h\" \n# ifndef _EiC \n# include \"cv.h\" \n# include \"cvAux.h\" \n# include \"highgui.h\" \n# include \"cxcore.h\" \n# include &lt; stdio.h &gt; \n# include &lt; ctype.h &gt; \n# endif \n\n\n// x?y?\n\nint getpixel ( IplImage * image , int x , int y , int * h , int * s , int * v ) { \n* h = ( uchar ) image -&gt; imageData [ y * image -&gt; widthStep + x * image -&gt; nChannels ] ; \n* s = ( uchar ) image -&gt; imageData [ y * image -&gt; widthStep + x * image -&gt; nChannels + 1 ] ; \n* v = ( uchar ) image -&gt; imageData [ y * image -&gt; widthStep + x * image -&gt; nChannels + 2 ] ; \nreturn 0 ; \n} \n//-------------------------------------------------------------------------------- \n\n\n\nint main ( int argc , char * * argv ) { \nCvCapture * capture = cvCaptureFromAVI(\"a.avi\") ; \nIplImage * image = 0; \nIplImage * HSV = 0 ; \n\n/*\nIplImage* img = cvLoadImage(\"greatwave.png\", 1);\nMat mtx(img); // convert IplImage* -&gt; Mat\n*/\nif ( argc == 1 || ( argc == 2 &amp;&amp; strlen ( argv [ 1 ] ) == 1 &amp;&amp; isdigit ( argv [ 1 ] [ 0 ] ) ) ) { \n//capture = cvCaptureFromCAM ( argc == 2 ? argv [ 1 ] [ 0 ] - '0' : 0 ) ; \n} \nelse if ( argc == 2 ) { \n//capture = cvCaptureFromAVI ( argv [ 1 ] ) ; \n} \n\nif ( !capture ) { \nfprintf ( stderr , \"Could not initialize capturing.../n\" ) ; \nreturn - 1 ; \n} \n\nprintf ( \"Hot keys: /n\" \"/tESC - quit the program/n\" ) ; \n\n//Normal\n\ncvNamedWindow ( \"Normal\" , CV_WINDOW_AUTOSIZE ) ; \n\n\n//Condensation------------------------------------------------- \n\nint DP = 2 ; // \n\nint MP = 2 ; // \n\nint SamplesNum = 300 ; // \n\n\nCvConDensation * ConDens = cvCreateConDensation ( DP , MP , SamplesNum ) ; \n//----------------------------------------------------------------------- \n\n\n//Condensation----------------------------------- \n\nCvMat * lowerBound ; // \n\nCvMat * upperBound ; // \n\nlowerBound = cvCreateMat ( 2 , 1 , CV_32F ) ; \nupperBound = cvCreateMat ( 2 , 1 , CV_32F ) ; \n//640*480 \n\ncvmSet ( lowerBound , 0 , 0 , 0.0 ) ; \ncvmSet ( upperBound , 0 , 0 , 640.0 ); \ncvmSet ( lowerBound , 1 , 0 , 0.0 ) ; \ncvmSet ( upperBound , 1 , 0 , 480.0 ) ; \n\ncvConDensInitSampleSet ( ConDens , lowerBound , upperBound ) ; \n//----------------------------------------------------------------------- \n\n\n//------------------------------ \n\nfor ( int i = 0 ; i &lt; SamplesNum ; i++ ) { \nConDens -&gt; flSamples [ i ] [ 0 ] += 320.0 ; \nConDens -&gt; flSamples [ i ] [ 1 ] += 240.0 ; \n} \n//----------------------------------------------------------------------- \n\n\n//---------------------------- \n\nConDens -&gt; DynamMatr [ 0 ] = 1.0 ;\nConDens-&gt;DynamMatr [ 1 ] = 0.0 ; \nConDens -&gt; DynamMatr [ 2 ] = 0.0 ;\nConDens-&gt;DynamMatr [ 3 ] = 1.0 ; \n//----------------------------------------------------------------------- \n\n\nfor ( ;; ) { \nIplImage* frame = 0 ; \nint c ; \nint X , Y , XX , YY ; \nint H , S , V ; \n\nframe = cvQueryFrame ( capture ) ; \nif ( !frame ) { \nbreak ; \n} \n\nif ( !image ) { \nimage = cvCreateImage ( cvGetSize ( frame ) , 8 , 3 ) ; \nimage -&gt; origin = frame -&gt; origin ; \nHSV = cvCreateImage ( cvGetSize ( frame ) , 8 , 3 ) ; \nHSV -&gt; origin = frame -&gt; origin ; \n} \n\ncvCopy ( frame , image , 0 ) ; \ncvCvtColor ( image , HSV , CV_BGR2HSV ) ; \n\n//?--------------------------------------------------- \n\nfor ( int i = 0 ; i &lt; SamplesNum ; i++ ) { \n\nX = ( int ) ConDens -&gt; flSamples [ i ] [ 0 ] ; \nY = ( int ) ConDens -&gt; flSamples [ i ] [ 1 ] ; \n\nif ( X &gt;= 0 &amp;&amp; X &lt;= 640 &amp;&amp; Y &gt;= 0 &amp;&amp; Y &lt;= 480 ) { //\n\ngetpixel ( HSV , X , Y , &amp;H , &amp;S , &amp; V ) ; \nif ( H &lt;= 19 &amp;&amp; S &gt;= 48 ) { // //H&lt;=19 S&gt;=48 \n\ncvCircle ( image , cvPoint ( X , Y ) , 4 , CV_RGB ( 255 , 0 , 0 ) , 1 ) ; \nConDens -&gt; flConfidence [ i ] = 1.0 ; \n} \nelse { \nConDens -&gt; flConfidence [ i ] = 0.0 ; \n} \n} \nelse { \nConDens -&gt; flConfidence [ i ] = 0.0 ; \n} \n} \n\n//-------------------------------------------------------------------------- \n\n\n//\n\ncvConDensUpdateByTime ( ConDens ) ; \n\ncvShowImage ( \"Normal\" , image ) ; \nc = cvWaitKey ( 20 ) ; \n\nif ( c == 27 ) { \nbreak ; \n} \n} \n\n//------------------------------------ \n\ncvReleaseImage ( &amp;image ) ; \ncvReleaseImage ( &amp;HSV ) ; \ncvReleaseConDensation ( &amp;ConDens ) ; \ncvReleaseMat ( &amp;lowerBound ) ; \ncvReleaseMat ( &amp;upperBound ) ; \ncvReleaseCapture ( &amp;capture ) ; \ncvDestroyWindow ( \"Normal\" ) ; \n\n//--------------------------------------------- \n\n\nreturn 0 ; \n} \n\n# ifdef _EiC \nmain ( 1 , \"condensation.cpp\" ) ; \n# endif \n</code></pre>\n\n<p>also when o comment this </p>\n\n<pre><code>  for ( int i = 0 ; i &lt; SamplesNum ; i++ ) { \n\n    X = ( int ) ConDens -&gt; flSamples [ i ] [ 0 ] ; \n    Y = ( int ) ConDens -&gt; flSamples [ i ] [ 1 ] ; \n\n    if ( X &gt;= 0 &amp;&amp; X &lt;= 640 &amp;&amp; Y &gt;= 0 &amp;&amp; Y &lt;= 480 ) { //\n\n    getpixel ( HSV , X , Y , &amp;H , &amp;S , &amp; V ) ; \n    if ( H &lt;= 19 &amp;&amp; S &gt;= 48 ) { // //H&lt;=19 S&gt;=48 \n\n    cvCircle ( image , cvPoint ( X , Y ) , 4 , CV_RGB ( 255 , 0 , 0 ) , 1 ) ; \n    ConDens -&gt; flConfidence [ i ] = 1.0 ; \n    } \n    else { \n    ConDens -&gt; flConfidence [ i ] = 0.0 ; \n    } \n    } \n    else { \n    ConDens -&gt; flConfidence [ i ] = 0.0 ; \n    } \n    } \n</code></pre>\n\n<p>program work without do my idea of track object</p>\n\n<p>i have windows 8 </p>\n\n<p>please comment if u dont understand some thing</p>\n"}, {"tags": ["c++", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 354722, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4f3038cad221663a6f50f86c142b85e1?s=128&d=identicon&r=PG", "display_name": "Moos Hueting", "link": "https://stackoverflow.com/users/354722/moos-hueting"}, "edited": false, "score": 0, "creation_date": 1436386154, "post_id": 31302627, "comment_id": 50595455, "body": "Hi Bizkit, I&#39;m sorry I might not have been clear. This is precisely what I have. However, if I have a VPattern which inherits from Renderable, I want all of the Panels in _panels to be drawn when I call VPattern::render. This is tricky, because the instances in _panels in VPattern are of type Panel, not VPanel. I&#39;m wondering how to delegate the drawing of the panels to the instances in _panels, without having to copy all <code>Panels</code> to <code>VPanels</code> first, if that makes sense."}, {"owner": {"reputation": 384, "user_id": 5081035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kkTWs3vI4Z8/AAAAAAAAAAI/AAAAAAAAADc/-Uqh_lQ1rOw/photo.jpg?sz=128", "display_name": "Bizkit", "link": "https://stackoverflow.com/users/5081035/bizkit"}, "reply_to_user": {"reputation": 550, "user_id": 354722, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4f3038cad221663a6f50f86c142b85e1?s=128&d=identicon&r=PG", "display_name": "Moos Hueting", "link": "https://stackoverflow.com/users/354722/moos-hueting"}, "edited": false, "score": 0, "creation_date": 1436386308, "post_id": 31302627, "comment_id": 50595553, "body": "You need to specify which version of <code>render</code> you want. So when you implement VPattern::render(), you need it to go through the vector calling Panel::render."}, {"owner": {"reputation": 550, "user_id": 354722, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4f3038cad221663a6f50f86c142b85e1?s=128&d=identicon&r=PG", "display_name": "Moos Hueting", "link": "https://stackoverflow.com/users/354722/moos-hueting"}, "edited": false, "score": 0, "creation_date": 1436386859, "post_id": 31302627, "comment_id": 50595884, "body": "Panel::render does not exist - VPanel::render does. But _panels is a vector of Panel, not of VPanel - this is the issue."}], "tags": [], "owner": {"reputation": 384, "user_id": 5081035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kkTWs3vI4Z8/AAAAAAAAAAI/AAAAAAAAADc/-Uqh_lQ1rOw/photo.jpg?sz=128", "display_name": "Bizkit", "link": "https://stackoverflow.com/users/5081035/bizkit"}, "is_accepted": false, "score": 0, "last_activity_date": 1436385914, "creation_date": 1436385914, "answer_id": 31302627, "question_id": 31302374, "link": "https://stackoverflow.com/questions/31302374/how-to-compose-a-hierarchy-of-decorated-classes-without-copying-data/31302627#31302627", "title": "How to compose a hierarchy of decorated classes without copying data", "body": "<p>Is there a reason you can't have a <code>Drawable</code> virtual class that has a pure virtual function <code>draw()</code> that all its <code>drawable</code> descendents would implement? </p>\n\n<pre><code>public virtual struct Drawable {\n    virtual void draw() = 0;\n};\n\npublic struct Edge : Drawable {\n    void draw() {}\n};\n\n//...\n</code></pre>\n"}], "owner": {"reputation": 550, "user_id": 354722, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4f3038cad221663a6f50f86c142b85e1?s=128&d=identicon&r=PG", "display_name": "Moos Hueting", "link": "https://stackoverflow.com/users/354722/moos-hueting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1436385914, "creation_date": 1436385045, "question_id": 31302374, "link": "https://stackoverflow.com/questions/31302374/how-to-compose-a-hierarchy-of-decorated-classes-without-copying-data", "title": "How to compose a hierarchy of decorated classes without copying data", "body": "<p>I have three classes which are hierarchically related:</p>\n\n<ul>\n<li><code>Pattern</code>, which has the protected field <code>_panels</code> of type <code>std::vector&lt;Panel&gt;</code>.</li>\n<li><code>Panel</code>, in turn, has a protected field <code>_edges</code>, which is of type <code>std::vector&lt;Edge&gt;</code>.</li>\n<li><code>Edge</code>, finally, has a protected field <code>_verts</code>, which is of type <code>std::vector&lt;Eigen::Vector2f&gt;</code>.</li>\n</ul>\n\n<p>I also have a pure virtual class <code>Renderable</code>, which has a pure virtual function <code>virtual void render()</code>. I want to create specialized versions of each of my three classes that inherit from <code>Renderable</code>, for example:</p>\n\n<pre><code>class VPattern : public Pattern, public Renderable\n{\npublic:\n    void render() { ... }\nprotected:\n    ...\nprivate:\n    ...\n}; // class VPattern\n</code></pre>\n\n<p>However, the <code>_panels</code> field will still contain instances of <code>Panel</code>, and not <code>VPanel</code>. This would mean that I would have to put the drawing logic for <code>Edge</code> and <code>Panel</code> in the draw function of <code>Pattern</code>, which is clearly not ideal.</p>\n\n<p>Is there a different approach here that I'm not seeing that would avoid all this? Would using a wrapper class be a more suitable approach?</p>\n"}, {"tags": ["c++", "string", "assertion"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1436385112, "post_id": 31302372, "comment_id": 50594904, "body": "Why would you expect <code>original[i] = original[i] - original[i];</code> to <i>remove</i> anything?"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1436385415, "post_id": 31302372, "comment_id": 50595081, "body": "As the above guy said, that line he quoted just reassigns the value at index i to 0 (itself - itself = 0). That isn&#39;t a removal."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1436385840, "post_id": 31302372, "comment_id": 50595308, "body": "@user2357112: Because he tested the result of the function and saw that it gave the result he expected. The problem is that the test is flawed in a way a new programmer might not be aware is possible."}], "answers": [{"tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1436386109, "creation_date": 1436386109, "answer_id": 31302691, "question_id": 31302372, "link": "https://stackoverflow.com/questions/31302372/why-does-assertion-failed-if-both-values-are-the-same/31302691#31302691", "title": "Why does assertion failed if both values are the same?", "body": "<p>Both values are NOT the same, but the difference is a non-printing character, so you can't see any difference with <code>cout</code> and your naked eye.</p>\n\n<p>Try a proper tool, like a debugger, and you will see the extra <code>\\0</code> character present in the function result.</p>\n"}, {"tags": [], "owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "is_accepted": false, "score": 3, "last_activity_date": 1436386184, "creation_date": 1436386184, "answer_id": 31302723, "question_id": 31302372, "link": "https://stackoverflow.com/questions/31302372/why-does-assertion-failed-if-both-values-are-the-same/31302723#31302723", "title": "Why does assertion failed if both values are the same?", "body": "<pre><code>original[i] = original[i] - original[i];\n</code></pre>\n\n<p>What this makes is that it repaces the character with <code>'\\0'</code> but does not remove it. Because of that the output is not <code>\"abcabc\"</code> but <code>\"abc\\0abc\"</code>. <code>'\\0'</code> is non-printable so you won't see it in the output but it is present when you compare it with <code>==</code>.</p>\n\n<p>Instead of replacing charactes in a string, create a new string while iterating the old one:</p>\n\n<pre><code>string removeNonAlphas(string const&amp; original)\n{\n    std::string result;\n    for(char c : original)\n       if((c &gt; 64 &amp;&amp; c &lt; 91) ||\n          (c &gt; 96 &amp;&amp; c &lt; 124))\n           result.push_back(c);\n    return result;\n}\n</code></pre>\n\n<p>Note: prefer using <code>std::isalpha</code> instead of hard-coded values.</p>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 1, "last_activity_date": 1436386583, "creation_date": 1436386583, "answer_id": 31302845, "question_id": 31302372, "link": "https://stackoverflow.com/questions/31302372/why-does-assertion-failed-if-both-values-are-the-same/31302845#31302845", "title": "Why does assertion failed if both values are the same?", "body": "<p>You're not actually <em>erasing</em> any characters from your string. You're just assigning them the value 0. It just looks like it works - which is just the worst. The <code>'\\0'</code> is just a non-printable character, which is why it looks like it prints the same. The <code>==</code> will actually check every character, even the non-printable ones, so it'll catch what you can't see.</p>\n\n<p>Thankfully, the <code>string</code> class makes it easy to <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/erase\" rel=\"nofollow\"><code>erase</code></a> characters by providing just such a member function:</p>\n\n<pre><code>original.erase(i, 1); // erase a single character starting at i\n</code></pre>\n\n<p>Now that alone isn't enough. You erase a character, and now <code>i</code> is \"pointing\" to the next element - but you won't check it. If we had <code>\"abc12abc\"</code>, after erasing the <code>1</code>, we'd skip the <code>2</code>. So we need to change how we iterate:</p>\n\n<pre><code>for (std::string::iterator it = original.begin();\n     it != original.end();\n     /* nothing */)\n{\n    // here's a better way to do checking\n    if (!(*it &gt;= 'A' &amp;&amp; *it &lt;= 'Z') &amp;&amp;\n        !(*it &gt;= 'a' &amp;&amp; *it &lt;= 'z'))\n    {\n        // erase(iterator ) will return the next iterator\n        it = original.erase(it);\n    }\n    else\n    {\n        ++it;\n    }\n}\n</code></pre>\n\n<p>That'll work. It's also very verbose. And error-prone. Which is why we have the erase-remove idiom:</p>\n\n<pre><code>original.erase(\n    std::remove_if(original.begin(),\n                   original.end(),\n                   [](char c) { return !std::isalpha(c); }),\n    original.end()\n);\nreturn original;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4778573"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1436386583, "creation_date": 1436385044, "last_edit_date": 1436385298, "question_id": 31302372, "link": "https://stackoverflow.com/questions/31302372/why-does-assertion-failed-if-both-values-are-the-same", "title": "Why does assertion failed if both values are the same?", "body": "<pre><code>string removeNonAlphas(string original)\n{\n    for(int i = 0; i &lt; original.size(); ++i){\n        if(!(original[i] &gt; 64 &amp;&amp; original[i] &lt; 91) &amp;&amp;\n           !(original[i] &gt; 96 &amp;&amp; original[i] &lt; 124)){\n            original[i] = original[i] - original[i];\n        }\n    }\n    return original;\n}\n</code></pre>\n\n<p>//test1.cpp</p>\n\n<pre><code>string test = \"abc abc\";\ncout &lt;&lt; removeNonAlphas(test) &lt;&lt; endl; // output = \"abcabc\"\nassert(removeNonAlphas(test) == \"abcabc\"); // assertion failed\n</code></pre>\n\n<p>//Why does assertion fail above? removeNonAlphas result(\"abcabc\") is same as\n//rhs \"abcabc\" </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "reply_to_user": {"reputation": 27952, "user_id": 3747990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qE6kU.png?s=128&g=1", "display_name": "Niall", "link": "https://stackoverflow.com/users/3747990/niall"}, "edited": false, "score": 0, "creation_date": 1436384137, "post_id": 31301965, "comment_id": 50594276, "body": "I got rid of them but it still gives me the same error - point taken though, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "edited": false, "score": 0, "creation_date": 1436384193, "post_id": 31302086, "comment_id": 50594319, "body": "Got it, thanks! Words perfectly. Would you mind explaining why?"}, {"owner": {"reputation": 9041, "user_id": 3216312, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/532212e9b26bc1e386a9f13dd8fa520a?s=128&d=identicon&r=PG&f=1", "display_name": "Petr", "link": "https://stackoverflow.com/users/3216312/petr"}, "reply_to_user": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "edited": false, "score": 0, "creation_date": 1436384552, "post_id": 31302086, "comment_id": 50594543, "body": "@Andrew, I expanded the answer"}], "tags": [], "owner": {"reputation": 9041, "user_id": 3216312, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/532212e9b26bc1e386a9f13dd8fa520a?s=128&d=identicon&r=PG&f=1", "display_name": "Petr", "link": "https://stackoverflow.com/users/3216312/petr"}, "is_accepted": true, "score": 11, "last_activity_date": 1436384333, "last_edit_date": 1436384333, "creation_date": 1436384132, "answer_id": 31302086, "question_id": 31301965, "link": "https://stackoverflow.com/questions/31301965/c-multiple-definition-first-defined-here/31302086#31302086", "title": "C++ multiple definition first defined here", "body": "<p>You should not <code>#include</code> cpp's into the main <code>hashtableimp.cpp</code>, if you want to list them on <code>g++</code> command line.</p>\n\n<p>Actually you have two options here:</p>\n\n<ul>\n<li>Include <em>all</em> your code into one file (or split the code into several files and <code>#include</code> it one into another, so that it is effectively one file) \u2014 in such a case you need to list only this main file in <code>g++</code> command line</li>\n<li>Really split code across several files \u2014 then you list all these files on a <code>g++</code> command line, but you do not need to <code>#include</code> files with definitions (usually cpp) into other files.</li>\n</ul>\n\n<p>The reason is <a href=\"https://en.wikipedia.org/wiki/One_Definition_Rule\" rel=\"noreferrer\">One Definition Rule</a>: any function (with some exceptions) should be defined in one place in the whole program. If you <code>#include</code> one cpps into anothers, and then compile all of them, you repeat definitions.</p>\n\n<p>Usually the former approach is used for small programs, and the latter for lager projects. Even more commonly, in latter approach you usually compile each file one by one, and then link them together.</p>\n\n<p>Also note that you do not usually need to list <code>.h</code> files in the command line, they should not be compiled by themself, they are just to be <code>#include</code>d into other <code>.cpp</code> files so that the compiler knows the declaration of functions/objects/etc used there.</p>\n"}], "owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5399, "favorite_count": 0, "accepted_answer_id": 31302086, "answer_count": 1, "score": 1, "last_activity_date": 1436384333, "creation_date": 1436383818, "question_id": 31301965, "link": "https://stackoverflow.com/questions/31301965/c-multiple-definition-first-defined-here", "title": "C++ multiple definition first defined here", "body": "<p>I'm typing out an example program from Absolute C++ and it keeps giving me this error:</p>\n\n<pre><code>/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::HashTable()':\nhashtableimp.cpp:(.text+0x0): multiple definition of `HashTableSavitch::HashTable::HashTable()'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x0): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::HashTable()':\nhashtableimp.cpp:(.text+0x0): multiple definition of `HashTableSavitch::HashTable::HashTable()'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x0): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::~HashTable()':\nhashtableimp.cpp:(.text+0x16): multiple definition of `HashTableSavitch::HashTable::~HashTable()'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x16): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::~HashTable()':\nhashtableimp.cpp:(.text+0x16): multiple definition of `HashTableSavitch::HashTable::~HashTable()'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x16): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::~HashTable()':\nhashtableimp.cpp:(.text+0x44): multiple definition of `HashTableSavitch::HashTable::~HashTable()'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x44): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::computeHash(std::string)':\nhashtableimp.cpp:(.text+0x6a): multiple definition of `HashTableSavitch::HashTable::computeHash(std::string)'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x6a): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::containsString(std::string) const':\nhashtableimp.cpp:(.text+0x7a): multiple definition of `HashTableSavitch::HashTable::containsString(std::string) const'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x7a): first defined here\n/tmp/ccJfp4DM.o: In function `HashTableSavitch::HashTable::put(std::string)':\nhashtableimp.cpp:(.text+0x8e): multiple definition of `HashTableSavitch::HashTable::put(std::string)'\n/tmp/ccHuZlFl.o:hashtable.cpp:(.text+0x8e): first defined here\ncollect2: error: ld returned 1 exit status\nMakefile:2: recipe for target 'hashTable' failed\nmake: *** [hashTable] Error 1\n</code></pre>\n\n<p>I've reduced the program down to its pure basics but I still can't figure out what's going on. Can anyone help?</p>\n\n<p>Makefile:</p>\n\n<pre><code>hashTable: listtools.h listtools.cpp hashtable.h hashtable.cpp hashtableimp.cpp \n    g++ listtools.h listtools.cpp hashtable.h hashtable.cpp hashtableimp.cpp -o hashTable\n</code></pre>\n\n<p>hashtable.h</p>\n\n<pre><code>#ifndef HASHTABLE_H\n#define HASHTABLE_H\n\n#include &lt;string&gt;\n#include \"listtools.h\"\n\nusing LinkedListSavitch::Node;\nusing std::string;\n\nnamespace HashTableSavitch {\n    const int SIZE = 10;\n    class HashTable {\n    public:\n        HashTable();\n        virtual ~HashTable();\n        bool containsString(string target) const;\n        void put(string s);\n    private:\n        Node&lt;string&gt; *hashArray[SIZE];\n        static int computeHash(string s);\n    };\n}\n\n#endif\n</code></pre>\n\n<p>hashtable.cpp</p>\n\n<pre><code>#include &lt;string&gt;\n#include \"listtools.h\"\n#include \"hashtable.h\"\n\nusing LinkedListSavitch::Node;\nusing LinkedListSavitch::search;\nusing LinkedListSavitch::headInsert;\nusing std::string;\n\nnamespace HashTableSavitch {\n    HashTable::HashTable() {\n\n    }\n\n    HashTable::~HashTable() {\n\n    }\n\n    int HashTable::computeHash(string s) {\n        return 0;\n    }\n    bool HashTable::containsString(string target) const {\n        return true;\n    }\n\n    void HashTable::put(string s) {\n\n    }\n} // HashTableSavitch\n</code></pre>\n\n<p>hashtableimp.cpp</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include \"hashtable.h\"\n#include \"listtools.cpp\"\n#include \"hashtable.cpp\"\nusing std::string;\nusing std::cout;\nusing std::endl;\nusing HashTableSavitch::HashTable;\n\nint main() {\n    HashTable h;\n    cout &lt;&lt; \"Adding cat, dog, turtle, and bird\" &lt;&lt; endl;\n    h.put(\"cat\");\n    h.put(\"dog\");\n    h.put(\"turtle\");\n    h.put(\"bird\");\n\n    cout &lt;&lt; \"Contains cat? \" &lt;&lt; h.containsString(\"cat\") &lt;&lt; endl;\n    cout &lt;&lt; \"Contains dog? \" &lt;&lt; h.containsString(\"dog\") &lt;&lt; endl;\n    cout &lt;&lt; \"Contains turtle? \" &lt;&lt; h.containsString(\"turtle\") &lt;&lt; endl;\n    cout &lt;&lt; \"Contains bird? \" &lt;&lt; h.containsString(\"bird\") &lt;&lt; endl;\n    cout &lt;&lt; \"Contains cow? \" &lt;&lt; h.containsString(\"cow\") &lt;&lt; endl;\n    cout &lt;&lt; \"Contains fish? \" &lt;&lt; h.containsString(\"fish\") &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>listtools.h</p>\n\n<pre><code>#ifndef LISTTOOLS_H\n#define LISTTOOLS_H\n\nnamespace LinkedListSavitch {\n    template&lt;class T&gt;\n    class Node {\n    public:\n        Node(const T&amp; theData, Node&lt;T&gt;* theLink) : data(theData), link(theLink) {}\n        Node&lt;T&gt;* getLink() const {return link;}\n        const T getData() const {return data;}\n        void setData(const T&amp; theData) {data = theData;}\n        void setLink(Node&lt;T&gt;* pointer) {link = pointer;}\n    private:\n        T data;\n        Node&lt;T&gt; *link;\n    };\n\n    template&lt;class T&gt;\n    void headInsert(Node&lt;T&gt;*&amp; head, const T&amp; theData);\n\n    template&lt;class T&gt;\n    void insert(Node&lt;T&gt;* afterMe, const T&amp; theData);\n\n    template&lt;class T&gt;\n    void deleteNode(Node&lt;T&gt;* before);\n\n    template&lt;class T&gt;\n    void deleteFirstNode(Node&lt;T&gt;*&amp; head);\n\n    template&lt;class T&gt;\n    Node&lt;T&gt;* search(Node&lt;T&gt;* head, const T&amp; target);\n} // LinkedListSavitch\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2010"], "comments": [{"owner": {"reputation": 6192, "user_id": 2041317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/58b0m.png?s=128&g=1", "display_name": "cup", "link": "https://stackoverflow.com/users/2041317/cup"}, "edited": false, "score": 0, "creation_date": 1436383785, "post_id": 31301839, "comment_id": 50594070, "body": "Have a look at <a href=\"http://www.codeproject.com/Articles/2890/Using-ListView-control-under-Win-API\" rel=\"nofollow noreferrer\">codeproject.com/Articles/2890/&hellip;</a>"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "edited": false, "score": 0, "creation_date": 1436385472, "post_id": 31301839, "comment_id": 50595107, "body": "Can we see what you tried to see if it is something that is just a small modification?"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436386447, "post_id": 31301839, "comment_id": 50595629, "body": "The listview control only supports editing of the label column by default. To enable editing of other columns requires either sub-classing or creating your own edit control."}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "edited": false, "score": 0, "creation_date": 1436387547, "post_id": 31301839, "comment_id": 50596298, "body": "Can you provide the code you use to put the data in to your listview? Are you allowed to use other edit controls outside of the listview to perform your desired tasks?"}], "answers": [{"comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436384430, "post_id": 31302124, "comment_id": 50594459, "body": "I believe the OP is asking how to enable editing of the columns in the listview."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1436385008, "post_id": 31302124, "comment_id": 50594838, "body": "@JonathanPotter exactly what I mean. By clicking or whatever is possible. by clicking on one item user could edit it or by clicking on a raw(selecting) and clicking a button delete a raw."}], "tags": [], "owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1436384234, "creation_date": 1436384234, "answer_id": 31302124, "question_id": 31301839, "link": "https://stackoverflow.com/questions/31301839/deleting-or-edititng-a-listview-in-visual-studio-2010-c/31302124#31302124", "title": "Deleting or edititng a listview in visual studio 2010 c++", "body": "<p>I found that an easy solution for lists that have a modest number of entires is simply to delete the entire listview and rebuild it from scratch for every change. That seems like a lot of wasted effort, but so long as your code only has to work at user-interface speed, it is a straightforward solution.</p>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436384234, "creation_date": 1436383354, "question_id": 31301839, "link": "https://stackoverflow.com/questions/31301839/deleting-or-edititng-a-listview-in-visual-studio-2010-c", "title": "Deleting or edititng a listview in visual studio 2010 c++", "body": "<p>I have written a code that uses a listview with 5 columns to view some inputs given by user.</p>\n\n<p>Now after entering the data and showing in listview, I want to edit some columns or delete one raw of the listview. </p>\n\n<p>I looked for long time for a solution but I am failed to get an exact answer.\nI do not want to use third party programs. </p>\n\n<p>Is there anybody give me a clue to manage ma problem? \nFor any comments I really appreciate it!</p>\n"}, {"tags": ["java", "c++", "infinispan"], "comments": [{"owner": {"reputation": 5026, "user_id": 789756, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/afc98bda441f7c78b86752853834a69c?s=128&d=identicon&r=PG", "display_name": "Radim Vansa", "link": "https://stackoverflow.com/users/789756/radim-vansa"}, "edited": false, "score": 0, "creation_date": 1436513004, "post_id": 31301824, "comment_id": 50654284, "body": "Please crosslink with JBoss forums whenever you ask the same question."}, {"owner": {"reputation": 1048, "user_id": 937028, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WGxT1.jpg?s=128&g=1", "display_name": "iX&#244;", "link": "https://stackoverflow.com/users/937028/ix%c3%b4"}, "reply_to_user": {"reputation": 5026, "user_id": 789756, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/afc98bda441f7c78b86752853834a69c?s=128&d=identicon&r=PG", "display_name": "Radim Vansa", "link": "https://stackoverflow.com/users/789756/radim-vansa"}, "edited": false, "score": 0, "creation_date": 1436514752, "post_id": 31301824, "comment_id": 50655295, "body": "That what I&#39;ve done, and now I can post the answer."}], "answers": [{"tags": [], "owner": {"reputation": 1048, "user_id": 937028, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WGxT1.jpg?s=128&g=1", "display_name": "iX&#244;", "link": "https://stackoverflow.com/users/937028/ix%c3%b4"}, "is_accepted": true, "score": 2, "last_activity_date": 1436514971, "creation_date": 1436514971, "answer_id": 31335418, "question_id": 31301824, "link": "https://stackoverflow.com/questions/31301824/enabling-compatibility-mode-in-infinispan-doesnt-seems-to-do-anything/31335418#31335418", "title": "Enabling compatibility mode in infinispan doesn&#39;t seems to do anything?", "body": "<p>My code was just wrong, In fact I didn't set the compatibility mode, config.compatibility().enabled(); is just returning the current mode.</p>\n\n<p>Here is how I had to change my code to enable compatibility mode :</p>\n\n<pre><code>final EmbeddedCacheManager manager = new DefaultCacheManager();\nfinal PersistenceConfigurationBuilder persistConfig = new ConfigurationBuilder().persistence();\nfinal SingleFileStoreConfigurationBuilder fileStore = new SingleFileStoreConfigurationBuilder(persistConfig).location(\"cache\");\nfinal Configuration config = persistConfig.addStore(fileStore).compatibility().enable().build();\nmanager.defineConfiguration(\"records\", config);\n</code></pre>\n\n<p>Here is my question on the JBoss forum : <a href=\"https://developer.jboss.org/thread/261123\" rel=\"nofollow\">https://developer.jboss.org/thread/261123</a></p>\n"}], "owner": {"reputation": 1048, "user_id": 937028, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WGxT1.jpg?s=128&g=1", "display_name": "iX&#244;", "link": "https://stackoverflow.com/users/937028/ix%c3%b4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 31335418, "answer_count": 1, "score": 0, "last_activity_date": 1436514971, "creation_date": 1436383294, "question_id": 31301824, "link": "https://stackoverflow.com/questions/31301824/enabling-compatibility-mode-in-infinispan-doesnt-seems-to-do-anything", "title": "Enabling compatibility mode in infinispan doesn&#39;t seems to do anything?", "body": "<p>I am a total newbie with infinispan, but features feets my needs.</p>\n\n<p>I am using a C++ HotRod client with a Java embedded HotRot endpoint with cache, and when I am putting K/V the java cache listener throw an exception about cast error between B[ and String.</p>\n\n<p>I found that I may have to enable compatibility mode, so I did, but it doesn't to seems to do anything.</p>\n\n<p>Here my code :</p>\n\n<p>Main java software :</p>\n\n<pre><code>public static void main(final String[] args)  \n{  \n     final EmbeddedCacheManager manager = new DefaultCacheManager();  \n     final PersistenceConfigurationBuilder persistConfig = new ConfigurationBuilder().persistence();  \n     final SingleFileStoreConfigurationBuilder fileStore = new SingleFileStoreConfigurationBuilder(persistConfig).location(\"cache\");  \n     final Configuration config = persistConfig.addStore(fileStore).build();  \n     config.compatibility().enabled();  \n     manager.defineConfiguration(\"records\", config);  \n\n     final Cache&lt;String, String&gt; c = manager.getCache(\"records\");  \n     c.addListener(new CacheListener());  \n\n     new HotRodServer().start(new HotRodServerConfigurationBuilder().build(), manager);  \n\n     while(true)  \n     {  \n          try  \n          {  \n               Thread.sleep(1000);  \n\n               System.out.println(c.size());  \n          }  \n          catch(final InterruptedException e)  \n          {  \n          }  \n     }  \n}  \n</code></pre>\n\n<p>My cache listener :</p>\n\n<pre><code>@CacheEntryCreated  \npublic void observeAdd(final CacheEntryCreatedEvent&lt;Object, String&gt; event)  \n{  \n     if(event.isPre())  \n          return;  \n\n     System.err.println(event.getKey().getClass().getSimpleName());  \n     System.err.println(\"new entry : \" + event.getKey() + \" -&gt; \" + event.getValue());  \n}  \n</code></pre>\n\n<p>Extract of the exception :</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: [B cannot be cast to java.lang.String\n                at recordprocessing.CacheListener.observeAdd(CacheListener.java:38) ~[classes/:na]\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n                at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\nat org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286) ~[infinispan-core-7.2.3.Final.jar:7.2.3.Final]\n                ... 60 common frames omitted\n</code></pre>\n\n<p>My c++ hotrod client is exactly from the documentation : </p>\n\n<pre><code>#include \"infinispan/hotrod/ConfigurationBuilder.h\"  \n#include \"infinispan/hotrod/RemoteCacheManager.h\"  \n#include \"infinispan/hotrod/RemoteCache.h\"  \n#include &lt;stdlib.h&gt;  \n\nusing namespace infinispan::hotrod;  \n\nint main(int argc, char** argv)  \n{  \n     ConfigurationBuilder b;  \n     b.addServer().host(\"127.0.0.1\").port(11222);  \n     RemoteCacheManager cm(builder.build(), false);  \n     RemoteCache&lt;std::string, std::string&gt; cache = cm.getCache&lt;std::string, std::string&gt;(std::string(\"records\"));  \n\n     cm.start();  \n\n     std::string k1(\"key13\");  \n     std::string v1(\"boron\");  \n\n     rc.put(k1, v1);  \n\n     cm.stop();  \n\n     return 0;  \n}  \n</code></pre>\n\n<p>What do I do wrong ? and what needs to be changed to make this code works ?</p>\n\n<p>Thanks.</p>\n\n<p>Best regards.</p>\n"}, {"tags": ["c++", "linux"], "comments": [{"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "edited": false, "score": 1, "creation_date": 1436383008, "post_id": 31301711, "comment_id": 50593586, "body": "Can you share your command used"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1436383153, "post_id": 31301711, "comment_id": 50593668, "body": "open the display device directly. e.g. <code>echo &#39;foo&#39; &gt; &#47;dev&#47;pts&#47;0</code>"}, {"owner": {"reputation": 6351, "user_id": 1150462, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/092b20f85f41e56494e4d1fabcb7099c?s=128&d=identicon&r=PG", "display_name": "xuhdev", "link": "https://stackoverflow.com/users/1150462/xuhdev"}, "edited": false, "score": 0, "creation_date": 1436384293, "post_id": 31301711, "comment_id": 50594382, "body": "It seems like a message given by the kernel"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1436385944, "post_id": 31301711, "comment_id": 50595351, "body": "Open and write to <code>&#47;dev&#47;tty</code> ; the deleted answer is actually the most succinct one."}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436384950, "post_id": 31302323, "comment_id": 50594792, "body": "Is this <code>.&#47;myprogram</code>&#39;s glibc that is doing the printing?  And it doesn&#39;t inherit the stderr/stdout of <code>valgrind</code>?"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 3, "creation_date": 1436384999, "post_id": 31302323, "comment_id": 50594831, "body": "You might want to add, that it&#39;s directory written to the console by opening <code>_PATH_TTY</code> which is <code>&quot;&#47;dev&#47;tty&quot;</code> on most systems, because that&#39;s the actual question."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 2, "creation_date": 1436385073, "post_id": 31302323, "comment_id": 50594885, "body": "@Yakk: Yes, <code>myprogram</code> uses glibc, so the routine is called in the context of the <code>.&#47;myprogram</code> process. Yes, it does inherit <code>valgrind</code>&#39;s stdout and stderr -- but it doesn&#39;t write to stdout or stderr. It appears to explicitly open <code>_PATH_TTY</code>, which is probably something like <code>&#47;dev&#47;tty</code>. In general, a program can explicitly write to <code>&#47;dev&#47;tty</code>, bypassing <code>stdout</code> and <code>stderr</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436385244, "post_id": 31302323, "comment_id": 50594989, "body": "Ah, missed that!  <a href=\"http://stackoverflow.com/questions/307006/catching-a-direct-redirect-to-dev-tty\" title=\"catching a direct redirect to dev tty\">stackoverflow.com/questions/307006/&hellip;</a> implies you can get around this feature with judicious use of <code>screen</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user184968"}, "is_accepted": true, "score": 16, "last_activity_date": 1436467216, "last_edit_date": 1436467216, "creation_date": 1436384874, "answer_id": 31302323, "question_id": 31301711, "link": "https://stackoverflow.com/questions/31301711/how-can-a-unix-program-display-output-on-screen-even-when-stdout-and-stderr-are/31302323#31302323", "title": "How can a Unix program display output on screen even when stdout and stderr are redirected?", "body": "<p>It is not written by valgrind but rather glibc and your ./myprogram is using glibc:</p>\n\n<pre><code>#define _PATH_TTY   \"/dev/tty\"\n\n/* Open a descriptor for /dev/tty unless the user explicitly\n   requests errors on standard error.  */\nconst char *on_2 = __libc_secure_getenv (\"LIBC_FATAL_STDERR_\");\nif (on_2 == NULL || *on_2 == '\\0')\n  fd = open_not_cancel_2 (_PATH_TTY, O_RDWR | O_NOCTTY | O_NDELAY);\n\nif (fd == -1)\n  fd = STDERR_FILENO;\n\n...\nwritten = WRITEV_FOR_FATAL (fd, iov, nlist, total);\n</code></pre>\n\n<p>Below are some relevant parts of glibc:</p>\n\n<pre><code>void\n__attribute__ ((noreturn))\n__stack_chk_fail (void)\n{\n  __fortify_fail (\"stack smashing detected\");\n}\n\nvoid\n__attribute__ ((noreturn))\n__fortify_fail (msg)\n     const char *msg;\n{\n  /* The loop is added only to keep gcc happy.  */\n  while (1)\n    __libc_message (2, \"*** %s ***: %s terminated\\n\",\n            msg, __libc_argv[0] ?: \"&lt;unknown&gt;\");\n}\n\n\n/* Abort with an error message.  */\nvoid\n__libc_message (int do_abort, const char *fmt, ...)\n{\n  va_list ap;\n  int fd = -1;\n\n  va_start (ap, fmt);\n\n#ifdef FATAL_PREPARE\n  FATAL_PREPARE;\n#endif\n\n  /* Open a descriptor for /dev/tty unless the user explicitly\n     requests errors on standard error.  */\n  const char *on_2 = __libc_secure_getenv (\"LIBC_FATAL_STDERR_\");\n  if (on_2 == NULL || *on_2 == '\\0')\n    fd = open_not_cancel_2 (_PATH_TTY, O_RDWR | O_NOCTTY | O_NDELAY);\n\n  if (fd == -1)\n    fd = STDERR_FILENO;\n\n  ...\n  written = WRITEV_FOR_FATAL (fd, iov, nlist, total);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": false, "score": 3, "last_activity_date": 1436385060, "creation_date": 1436385060, "answer_id": 31302382, "question_id": 31301711, "link": "https://stackoverflow.com/questions/31301711/how-can-a-unix-program-display-output-on-screen-even-when-stdout-and-stderr-are/31302382#31302382", "title": "How can a Unix program display output on screen even when stdout and stderr are redirected?", "body": "<p>The message is most probably from GCC's stack protector feature or from glib itself. If it's from GCC, it is output using the <a href=\"https://github.com/gcc-mirror/gcc/blob/master/libssp/ssp.c#L124\" rel=\"nofollow\"><code>fail()</code></a> function, which directly opens <code>/dev/tty</code>:</p>\n\n<pre><code>fd = open (_PATH_TTY, O_WRONLY);\n</code></pre>\n\n<p><code>_PATH_TTY</code> is not really standard, but SingleUnix <a href=\"http://www.unix.org/version4/overview.html\" rel=\"nofollow\">actually demands</a> that <code>/dev/tty</code> exists.</p>\n"}, {"tags": [], "owner": {"reputation": 1214, "user_id": 1538270, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ec55b9b6a94aaa6c1d34665ad04e3851?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1538270/chad"}, "is_accepted": false, "score": 2, "last_activity_date": 1436390449, "creation_date": 1436390449, "answer_id": 31304008, "question_id": 31301711, "link": "https://stackoverflow.com/questions/31301711/how-can-a-unix-program-display-output-on-screen-even-when-stdout-and-stderr-are/31304008#31304008", "title": "How can a Unix program display output on screen even when stdout and stderr are redirected?", "body": "<p>Here is some sample code that does exactly what was asked (thanks to earlier answers pointing me in the right direction). Both are compiled with g++, and will print a message to the screen even when stdout and stderr are redirected.</p>\n\n<p>For Linux (Ubuntu 14):</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;string.h&gt;\n\nint main( int, char *[]) {\n\n    printf(\"This goes to stdout\\n\");\n\n    fprintf(stderr, \"This goes to stderr\\n\");\n\n    int ttyfd = open(\"/dev/tty\", O_RDWR);\n    const char *msg = \"This goes to screen\\n\";\n    write(ttyfd, msg, strlen(msg));\n}\n</code></pre>\n\n<p>For Windows 7, using MinGW:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;string.h&gt;\n#include &lt;conio.h&gt;\n\nvoid writeConsole( const char *s) {\n    while( *s) {\n        putch(*(s++));\n    }\n}\n\nint main( int, char *[]) {  \n    printf(\"This goes to stdout\\n\");\n\n    fprintf(stderr, \"This goes to stderr\\n\");\n\n    writeConsole( \"This goes to screen\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1214, "user_id": 1538270, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ec55b9b6a94aaa6c1d34665ad04e3851?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1538270/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 1, "accepted_answer_id": 31302323, "answer_count": 3, "score": 20, "last_activity_date": 1436467216, "creation_date": 1436382952, "last_edit_date": 1436386394, "question_id": 31301711, "link": "https://stackoverflow.com/questions/31301711/how-can-a-unix-program-display-output-on-screen-even-when-stdout-and-stderr-are", "title": "How can a Unix program display output on screen even when stdout and stderr are redirected?", "body": "<p>I was running a program (valgrind, actually) on my Ubuntu machine, and had redirected both stdout and stderr to different files. I was surprised to see a short message appear on the screen -- how is that possible? How could I do that myself in a C++ program?</p>\n\n<p>EDIT: Here's the command I used, and the output:</p>\n\n<pre><code>$ valgrind ./myprogram &gt; val.out 2&gt; val.err\n*** stack smashing detected ***: ./myprogram terminated\n</code></pre>\n\n<p>EDIT2: Playing with it a little more, it turns out that myprogram, not valgrind, is causing the message to be printed, and as answered below, it looks like gcc stack smashing detection code is printing to /dev/tty</p>\n"}, {"tags": ["c++", "qt", "g++", "embedded-linux", "remote-debugging"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 2, "creation_date": 1436383410, "post_id": 31301703, "comment_id": 50593819, "body": "probably you have a name collision between your class and the trigonometric function cos. Try changing your class name"}, {"owner": {"reputation": 1366, "user_id": 4931643, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/702807200eaef92e4d1c6896893d7888?s=128&d=identicon&r=PG&f=1", "display_name": "Mbded", "link": "https://stackoverflow.com/users/4931643/mbded"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436415264, "post_id": 31301703, "comment_id": 50604977, "body": "My god ! what a stupid and easy mistake :/ Something similar never me happend. But maybe this topic was be usefull for another funny gay like me, which also call own class like. <code>cos, sin, sleep, usleep</code> and so on.  Thank You for help."}], "owner": {"reputation": 1366, "user_id": 4931643, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/702807200eaef92e4d1c6896893d7888?s=128&d=identicon&r=PG&f=1", "display_name": "Mbded", "link": "https://stackoverflow.com/users/4931643/mbded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 910, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436616396, "creation_date": 1436382932, "last_edit_date": 1436616396, "question_id": 31301703, "link": "https://stackoverflow.com/questions/31301703/qt-expected-type-specifier-before-classname-in-remote-device", "title": "Qt &quot;Expected type-specifier&quot; before &quot;ClassName&quot; In Remote Device", "body": "<p>First of all. I know that in this forum is exist similar topic, but I write this because my case is more difrent (I think so). I running this program on remote machine with MIPS arch.</p>\n\n<p><strong>With what we have to do ?</strong></p>\n\n<ul>\n<li>Liberay Qt was compiled to MIPS arch </li>\n<li>Version Liberary Qt 4.8.7 is Embedded - mips</li>\n<li>Program is remote debuging from PC machine</li>\n<li>Cross Compiler is mipsel-openwrt-linux-uclibc-g++ from OpenWRT BuildRoot</li>\n<li>Program contains two class <strong>cos , czas</strong> and <strong>main</strong> file</li>\n<li>Program should be display from qDebug at 1 secound communicate to console via signal and slot mechanizm in Qt</li>\n</ul>\n\n<p><strong>main.c</strong></p>\n\n<pre><code>#include \"czas.h\"\n#include \"cos.h\"\n\n#include &lt;QCoreApplication&gt;\n#include &lt;QtCore&gt;\n#include &lt;QDebug&gt;\n#include &lt;QTimer&gt;\n\n#include &lt;iostream&gt;\n\nusing namespace std;\nint main(int argc, char *argv[])\n{\n    cos *objektcos;\n    czas *objetczasu;\n\n    objetczasu = new czas();\n    objektcos = new cos();\n\n    QObject::connect(&amp;objetczasu , SIGNAL(timeout()) , &amp;objektcos, SLOT(przerwanie()));\n\n    objetczasu-&gt;setInterval(1000);\n    objetczasu-&gt;start();\n\n    cout &lt;&lt; \" Hello Program \" &lt;&lt;  endl;\n\n    QCoreApplication a(argc, argv);\n\n    // loop\n\n    return a.exec();\n}\n</code></pre>\n\n<p>The <code>cos</code> header file:</p>\n\n<pre><code>#ifndef COS_H\n#define COS_H\n\n#include &lt;QObject&gt;\n#include &lt;QtCore&gt;\n#include &lt;QDebug&gt;\n\nclass cos : public QObject\n{\n    Q_OBJECT\n\npublic:\n    cos();\n    ~cos();\n\npublic slots:\n    void przerwanie();\n};\n\n#endif // COS_H\n</code></pre>\n\n<p>The <code>cos</code> source file:</p>\n\n<pre><code>#include \"cos.h\"\n\ncos::cos()\n{\n    qDebug() &lt;&lt; \"Konstruktor cos\" &lt;&lt; endl;\n}\n\ncos::~cos()\n{\n}\n\nvoid cos::przerwanie()\n{\n    qDebug() &lt;&lt; \" Przerwanie \" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>The <code>czas</code> header file:</p>\n\n<pre><code>#ifndef CZAS_H\n#define CZAS_H\n\n#include &lt;QtCore&gt;\n#include &lt;QTimer&gt;\n#include &lt;QDebug&gt;\n\nclass czas : public QTimer\n{\npublic:\n    czas();\n    ~czas();\n};\n\n#endif // CZAS_H\n</code></pre>\n\n<p>The <code>czas</code> source file:</p>\n\n<pre><code>#include \"czas.h\"\n\nczas::czas()\n{\n    qDebug() &lt;&lt; \"Konstruktor czas\" &lt;&lt; endl;\n}\n\nczas::~czas()\n{\n}\n</code></pre>\n\n<p>And my error. This is communicate from <strong>Commpiler Comunicate</strong> </p>\n\n<blockquote>\n  <p>./nienazwany/main.cpp: In function 'int main(int, char**)':\n  ../nienazwany/main.cpp:16:10: error: 'objektcos' was not declared in\n  this scope\n       cos *objektcos;\n            ^ ../nienazwany/main.cpp:21:21: error: expected type-specifier before 'cos'\n       objektcos = new cos();\n                        ../nienazwany/main.cpp:21:21: error: expected ';' before 'cos' Makefile:218: recipe for target 'main.o' failed make:\n  *** [main.o] Error 1</p>\n</blockquote>\n\n<p>A also try create object on stos, but it did not help also.</p>\n"}, {"tags": ["c++", "boost", "mpi", "wait"], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 2979477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/217ba18331bcd4bd30e46b9aadb7ce16?s=128&d=identicon&r=PG&f=1", "display_name": "montekristo_07", "link": "https://stackoverflow.com/users/2979477/montekristo-07"}, "is_accepted": true, "score": 0, "last_activity_date": 1445867887, "creation_date": 1445867887, "answer_id": 33347589, "question_id": 31301557, "link": "https://stackoverflow.com/questions/31301557/waiting-requests-which-have-been-already-completed/33347589#33347589", "title": "Waiting requests which have been already completed", "body": "<p>The only solution that I could find is storing the requests which could not pass the test function, then waiting them using wait or wait_all function of boost library.</p>\n"}], "owner": {"reputation": 311, "user_id": 2979477, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/217ba18331bcd4bd30e46b9aadb7ce16?s=128&d=identicon&r=PG&f=1", "display_name": "montekristo_07", "link": "https://stackoverflow.com/users/2979477/montekristo-07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 33347589, "answer_count": 1, "score": 0, "last_activity_date": 1445867887, "creation_date": 1436382409, "last_edit_date": 1445867706, "question_id": 31301557, "link": "https://stackoverflow.com/questions/31301557/waiting-requests-which-have-been-already-completed", "title": "Waiting requests which have been already completed", "body": "<p>I am trying to implement an asynchronous messaging mechanism (a checkpointing mechanism) using boost mpi library. In my code, receivers wait a message from the others via irecv. After the irecv, they do not call wait function. Instead, they call the test function. If test is successful, they will process the received message and start a new irecv. Else, they will advance until the checkpoint. During the checkpoint, they wait all of the in transit messages to be completed using wait function. In other words, checkpoints are stable synchronization points.</p>\n\n<p>I simplified my code below and hope it is clear:</p>\n\n<p>Receiver side:</p>\n\n<pre><code>mpiReceiveRequest = RepastProcess::instance()-&gt;getCommunicator()-&gt;irecv(1, 100, receivedData);\n\nfor(int i=0; i&lt;=20; i++){\n    if(i%5 == 0){   // checkpoints\n        while(true){\n            mpiReceiveRequest.wait();\n            if(receivedData &gt; 0)\n                mpiReceiveRequest = world.irecv(1, 100, receivedData);\n            else\n                break;\n        }\n\n    }\n\n    else{\n        if(mpiReceiveRequest.test()){\n            if(receivedData &gt; 0)\n                mpiReceiveRequest = world.irecv(1, 100, receivedData);\n        }\n    }\n}\n</code></pre>\n\n<p>Sender side:</p>\n\n<pre><code>for(int i=0; i&lt;=20; i++){\n    int randomNumber = // select a random number between 1-20\n    if(i &gt; randomNumber)\n        world.isend(0, 100, i);\n    else\n        world.isend(0, 100, -1);\n}    \n</code></pre>\n\n<p>As you can see above, I had to call wait function for completed requests. I mean, I call the wait function for an already successfully tested message. Now, problem is a segmentation fault because of this call. And, there are some explanations about test function in boost::mpi api. It says that </p>\n\n<blockquote>\n  <p>you should Note that once @c test() returns a @c status object, the request has completed and @c wait() should not be called.</p>\n</blockquote>\n\n<p>Actually, I can store the requests which could not pass the test function. Then, I can call wait function for only these requests. However, I am wondering that if there can be another simpler solution for overcoming this issue.</p>\n"}, {"tags": ["c++", "cocos2d-x", "cocos2d-x-3.0", "ccsprite", "ccnode"], "answers": [{"tags": [], "owner": {"reputation": 1109, "user_id": 2836278, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/47bb3a2acad8f674d19ea2a94879e918?s=128&d=identicon&r=PG", "display_name": "cesarpachon", "link": "https://stackoverflow.com/users/2836278/cesarpachon"}, "is_accepted": true, "score": 4, "last_activity_date": 1436447013, "creation_date": 1436447013, "answer_id": 31318345, "question_id": 31301539, "link": "https://stackoverflow.com/questions/31301539/setparent-addchild-does-not-seems-to-refresh-children-position-in-cocos2d-x-3-6/31318345#31318345", "title": "setParent addChild does not seems to refresh children position in cocos2d-x 3.6", "body": "<p>Last night I finally discover the problem. It happens after I decided to add a child->removeFromParentAndCleanup() before adding the child to a new parent.\nat this point, the program chrashed with no more clues in gdb.\nThat make me suspect of a invalid memory issue.. (maybe the child was going erased in the background when it sees it is orphan?): so I try with:  </p>\n\n<pre><code>  child-&gt;retain();\n  child-&gt;removeFromParent();\n  newparent-&gt;addChild(child);\n  child-&gt;release();\n</code></pre>\n\n<p>and both the crash and the problem with the update of the relative position had gone!   </p>\n"}], "owner": {"reputation": 1109, "user_id": 2836278, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/47bb3a2acad8f674d19ea2a94879e918?s=128&d=identicon&r=PG", "display_name": "cesarpachon", "link": "https://stackoverflow.com/users/2836278/cesarpachon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 1, "accepted_answer_id": 31318345, "answer_count": 1, "score": 2, "last_activity_date": 1436447013, "creation_date": 1436382343, "last_edit_date": 1436442194, "question_id": 31301539, "link": "https://stackoverflow.com/questions/31301539/setparent-addchild-does-not-seems-to-refresh-children-position-in-cocos2d-x-3-6", "title": "setParent addChild does not seems to refresh children position in cocos2d-x 3.6", "body": "<p>I want to change the parent of sprite, using oldparent->removeChild(child) from the old parent node, and then child->setParent(newparent) in the child sprite, passing the new parent as param. also tried with newparent->addChild(child). </p>\n\n<p>The issue is that the position of the child does not change after that operation. I expect to see the child sprite changing its position to a new position relative to the parent transform. \nIs this the expected behavior or I need to call some update method to force a refresh of the child transform?</p>\n"}, {"tags": ["c++", "g++", "c++14", "clang++", "icc"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 6, "creation_date": 1436382448, "post_id": 31301369, "comment_id": 50593238, "body": "@0x499602D2: That makes no sense. The whole point of a language standard is to unambiguously define program semantics."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436385123, "post_id": 31301369, "comment_id": 50594912, "body": "@LightnessRacesinOrbit: While I agree, that it is not the case here, you statement is not true in general: For one, you have  - especially in C and C++ - UB and IB, in which case ANY behavior is correct (for IB it just has to be documented). Then you have optional behavior (e.g. copy elision) and finally, even an international standard can contain errors which might result in ambiguous situations."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 1, "creation_date": 1436386493, "post_id": 31301369, "comment_id": 50595654, "body": "@MikeMB: Feel free to show me an example of when IB leads to compiler error in one implementation but not another. And UB doesn&#39;t count, by definition."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436387883, "post_id": 31301369, "comment_id": 50596454, "body": "@Lightness: On the contrary: As long as the standard doesn&#39;t say the program is ill formed, UB means that any behavior is correct according to the standard. So if two compilers compile the same program that contains UB and they behave differently, then <i>&quot;both compilers are right&quot;</i>. Even if it is ill formed, there are the cases of <i>&quot;ill formed - no diagnostics required&quot;</i>. As far as IB is concerned: I&#39;m not sure, but as far as I remember, there is an implementation defined maximum template recursion depth. Oh, and what about <i>Conditionally-Supported Behavior</i>? Anyway, its not the case here."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1446748452, "post_id": 31301369, "comment_id": 54883886, "body": "This program specifies that <code>p</code> is of type &quot;whatever we need to initialize from a <code>std::shared_ptr&lt;Foo&gt;</code>&quot;. That may or may not be a <code>std::shared_ptr&lt;Foo&gt;</code>, the standard neither requires it to be nor prohibits it from being. So you may or may not be able to do <code>p-&gt;Bar();</code>. The standard does not say which."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1446754725, "post_id": 31301369, "comment_id": 54887464, "body": "@LightnessRacesinOrbit <code>static_assert(sizeof(int) == 4, &quot;hello&quot;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1436382825, "post_id": 31301568, "comment_id": 50593471, "body": "Scoot Myers Talks about this <a href=\"https://channel9.msdn.com/Events/CPP/C-PP-Con-2014/Type-Deduction-and-Why-You-Care\" rel=\"nofollow noreferrer\">here</a> at about 30 minutes in."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1436383154, "post_id": 31301568, "comment_id": 50593671, "body": "What&#39;s interesting is N3922 calls this a C++14 defect (which is what I thought it was too), but clang <a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow noreferrer\">claims</a> it&#39;s a C++1z change (search for N3922 on that page). gcc-5.1 accepts the example in the OP in C++11 mode also."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1436383446, "post_id": 31301568, "comment_id": 50593838, "body": "@Praetorian good point, I was wondering about that, I modified my answer to mention that."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "edited": false, "score": 0, "creation_date": 1436383522, "post_id": 31301568, "comment_id": 50593898, "body": "@Escualo depending on whether this is considered a C++14 defect or not then gcc may actually be correct."}, {"owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "edited": false, "score": 0, "creation_date": 1436383531, "post_id": 31301568, "comment_id": 50593902, "body": "@hvd I posted my comment before the clarification was added --- I will <i>not</i> be filing a GCC bug."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1436384548, "post_id": 31301568, "comment_id": 50594541, "body": "That problem has been around c++11 and is nothing specific to c++14. Actually I thought they wantted to fix it already  in c++14"}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1436385370, "post_id": 31301568, "comment_id": 50595059, "body": "<a href=\"http://stackoverflow.com/questions/25612262/why-does-auto-x3-deduce-an-initializer-list\" title=\"why does auto x3 deduce an initializer list\">stackoverflow.com/questions/25612262/&hellip;</a>"}, {"owner": {"reputation": 4001, "user_id": 671509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cfc6eb6760f9d2bab7d5b876f283e2a1?s=128&d=identicon&r=PG", "display_name": "John McFarlane", "link": "https://stackoverflow.com/users/671509/john-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1559158010, "post_id": 31301568, "comment_id": 99337575, "body": "<a href=\"http://wg21.link/p0636r3\" rel=\"nofollow noreferrer\">P0636</a> describes N3922 as &#39;a defect resolution against C++14&#39; but does not explicitly mark it as a defect report. It also has a section explaining <a href=\"http://wg21.link/p0636r3#dr\" rel=\"nofollow noreferrer\">defects</a>."}], "tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 16, "last_activity_date": 1446748069, "last_edit_date": 1495535455, "creation_date": 1436382436, "answer_id": 31301568, "question_id": 31301369, "link": "https://stackoverflow.com/questions/31301369/different-compiler-behavior-for-expression-auto-p-make-pointer/31301568#31301568", "title": "Different compiler behavior for expression: auto p {make_pointer()};", "body": "<p><B>Tl;DR</B></p>\n\n<p>This behavior is subject to a proposal and an Evolution Working Group issue. There is some ambiguity as to whether this is considered a C++14 defect or a C++1z proposal. If it turns out to be a C++14 defect then gcc's behavior is correct for C++14. On the other hand if this is really a C++1z proposal then clang and icpc are exhibiting correct behavior.</p>\n\n<p><B>Details</B></p>\n\n<p>It looks like this case is covered by <a href=\"http://open-std.org/JTC1/SC22/WG21/docs/papers/2013/n3681.html\" rel=\"nofollow noreferrer\">N3681</a> which says:</p>\n\n<blockquote>\n  <p>Auto and braced initializers cause a teachability problem; we want to\n  teach people to use uniform initialization, but we need to\n  specifically tell programmers to avoid braces with auto. In C++14, we\n  now have more cases where auto and braces are problematic; return type\n  deduction for functions partially avoids the problem, since returning\n  a braced-list won't work as it's not an expression. However, returning\n  an auto variable initialized from a braced initializer still returns\n  an initializer_list, inviting undefined behaviour. Lambda init\n  captures have the same problem. This paper proposes to change a\n  brace-initialized auto to not deduce to an initializer list, and to\n  ban brace-initialized auto for cases where the braced-initializer has\n  more than one element.</p>\n</blockquote>\n\n<p>and provides the following examples:</p>\n\n<blockquote>\n<pre><code>auto x = foo(); // copy-initialization\nauto x{foo}; // direct-initialization, initializes an initializer_list\nint x = foo(); // copy-initialization\nint x{foo}; // direct-initialization\n</code></pre>\n</blockquote>\n\n<p><s>So I think clang is currently correct,</s>  the latest version of clang provides this warning:</p>\n\n<blockquote>\n  <p>warning: direct list initialization of a variable with a deduced type\n  will change meaning in a future version of Clang; insert an '=' to\n  avoid a change in behavior [-Wfuture-compat]</p>\n</blockquote>\n\n<p>From <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4422.html#161\" rel=\"nofollow noreferrer\">EWG issue 161</a> that <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3922.html\" rel=\"nofollow noreferrer\">N3922</a> was adopted for this.</p>\n\n<p>As Praetorian notes the proposal recommends this is a C++14 defect:</p>\n\n<blockquote>\n  <p>Direction from EWG is that we consider this a defect in C++14.</p>\n</blockquote>\n\n<p>but clang's <a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow noreferrer\">C++1z implementation status notes</a> this as a C++1z proposal which is not implemented.</p>\n\n<p>So if this is a C++14 defect, that would make gcc correct but it is not clear to me if this is really a defect or a proposal.</p>\n\n<p>T.C. points out in a <a href=\"https://stackoverflow.com/questions/33500320/why-this-variable-isnt-deduced-as-initializer-list-in-g-in-c14#comment54798222_33500320\">comment here</a> that it <a href=\"http://lists.llvm.org/pipermail/cfe-commits/Week-of-Mon-20150209/123102.html\" rel=\"nofollow noreferrer\">seems like the clang developers</a> do intended to back-port this. It has not happened and it is not clear why. </p>\n"}], "owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 1, "accepted_answer_id": 31301568, "answer_count": 1, "score": 15, "last_activity_date": 1446748069, "creation_date": 1436381802, "last_edit_date": 1436386407, "question_id": 31301369, "link": "https://stackoverflow.com/questions/31301369/different-compiler-behavior-for-expression-auto-p-make-pointer", "title": "Different compiler behavior for expression: auto p {make_pointer()};", "body": "<p>Which is the correct behaviour for the following program?</p>\n\n<pre><code>// example.cpp\n\n#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nstruct Foo {\n  void Bar() const {\n    std::cout &lt;&lt; \"Foo::Bar()\" &lt;&lt; std::endl;\n  }\n};\n\nstd::shared_ptr&lt;Foo&gt; MakeFoo() {\n  return std::make_shared&lt;Foo&gt;();\n}\n\nint main() {\n  auto p { MakeFoo() };\n  p-&gt;Bar();  \n}\n</code></pre>\n\n<p>When I compile it in my Linux RHEL 6.6 workstation, I obtain the following results:</p>\n\n<pre><code>$ g++ -v\ngcc version 5.1.0 (GCC)\n$ g++ example.cpp -std=c++14 -Wall -Wextra -pedantic\n$ ./a.out\nFoo::Bar()\n</code></pre>\n\n<p>but</p>\n\n<pre><code>$ clang++ -v\nclang version 3.6.0 (trunk 217965)\n$ clang++ example.cpp -std=c++14 -Wall -Wextra -pedantic\nexample.cpp:16:4: error: member reference type 'std::initializer_list&lt;std::shared_ptr&lt;Foo&gt; &gt;' is not a pointer; maybe you meant to use '.'?\n      p-&gt;Bar();\n      ~^~\nexample.cpp:16:6: error: no member named 'Bar' in 'std::initializer_list&lt;std::shared_ptr&lt;Foo&gt; &gt;'\n      p-&gt;Bar();\n      ~  ^\n    2 errors generated.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ icpc -v\nicpc version 15.0.3 (gcc version 5.1.0 compatibility)\n$ icpc example.cpp -std=c++14 -Wall -Wextra -pedantic\nexample.cpp(16): error: expression must have pointer type\n    p-&gt;Bar();\n    ^\ncompilation aborted for example.cpp (code 2)\n</code></pre>\n"}, {"tags": ["c++", "matrix", "swap"], "comments": [{"owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 0, "creation_date": 1436381874, "post_id": 31301306, "comment_id": 50592878, "body": "I do not see alternatives, but I see other problems. Do you take for granted (a precondition) that all rows have same size?"}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "reply_to_user": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 1, "creation_date": 1436382052, "post_id": 31301306, "comment_id": 50592969, "body": "yes, sorry. the matrix is square."}, {"owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "edited": false, "score": 0, "creation_date": 1436382208, "post_id": 31301306, "comment_id": 50593074, "body": "By &quot;Exchanging rows..&quot; you mean columns right?"}, {"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "edited": false, "score": 0, "creation_date": 1436382611, "post_id": 31301306, "comment_id": 50593338, "body": "No you can&#39;t. You must perform swap operation for each vector in vector."}, {"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1436382616, "post_id": 31301306, "comment_id": 50593341, "body": "There is no way around manually swapping each value for this memory layout."}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436382685, "post_id": 31301306, "comment_id": 50593378, "body": "no. i mean that i intend to exchange both rows and columns. in the first case life is easy ( swap ) in the second it&#39;s not"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1436382863, "post_id": 31301306, "comment_id": 50593498, "body": "If you&#39;re going to use this for more complex tasks, a more elegant and efficient way is to use a library such as <i>eigen</i> . For a simple home-made solution I don&#39;t see alternatives, too. Probably having an unrolled matrix in a single vector will make row and column operations similar, but not necessarily easier"}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "reply_to_user": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1436383489, "post_id": 31301306, "comment_id": 50593874, "body": "@beaker hum, i don&#39;t get what you mean precisely. can you try to explain it with an example ?"}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436383564, "post_id": 31301306, "comment_id": 50593926, "body": "i also tought that i could do row&#39;s swaps and then transpose the matrix and do the column&#39;s ones."}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1436386561, "post_id": 31301306, "comment_id": 50595697, "body": "FalconUA&#39;s update does pretty much the same thing, though I was suggesting using a second permutation vector for the rows as well."}], "answers": [{"comments": [{"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436401013, "post_id": 31302169, "comment_id": 50601519, "body": "btw std::vector&lt; std::vector&lt;int&gt;&amp; &gt; mat; give me c2535 error in visual studio"}, {"owner": {"reputation": 7817, "user_id": 4789373, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-f_OQrxbHhFQ/AAAAAAAAAAI/AAAAAAAAABA/NY38t7ooQ5c/photo.jpg?sz=128", "display_name": "FalconUA", "link": "https://stackoverflow.com/users/4789373/falconua"}, "reply_to_user": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436402393, "post_id": 31302169, "comment_id": 50601873, "body": "@darkpirate Oh I think it&#39;s because vector of references is a little bit more tricky. Also, my mistake - you don&#39;t need to use vector of references, the standard implementation of <a href=\"http://en.cppreference.com/w/cpp/algorithm/swap\" rel=\"nofollow noreferrer\"><code>std::swap</code></a> calls <a href=\"http://www.cplusplus.com/reference/vector/vector/swap/\" rel=\"nofollow noreferrer\"><code>std::vector::swap</code></a>, and it&#39;s time complexity is constant. So just use <code>vector&lt;vector&lt;int&gt;&gt;</code> as usual (I also edited my answer)."}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436402950, "post_id": 31302169, "comment_id": 50602002, "body": "oh, i get it. You basically use an array of indices to &quot;emulate&quot; the swap. clever."}, {"owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "edited": false, "score": 0, "creation_date": 1436403825, "post_id": 31302169, "comment_id": 50602216, "body": "but on further thinking, in this way you&#39;re not swapping anithing. i mean let&#39;s say i want to pass the elaborated matrix somewhere ( for example another class )  i&#39;d have to rewrite the whole matrix down for a computational cost of  n^2... am i right ?"}], "tags": [], "owner": {"reputation": 7817, "user_id": 4789373, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-f_OQrxbHhFQ/AAAAAAAAAAI/AAAAAAAAABA/NY38t7ooQ5c/photo.jpg?sz=128", "display_name": "FalconUA", "link": "https://stackoverflow.com/users/4789373/falconua"}, "is_accepted": true, "score": 1, "last_activity_date": 1436402236, "last_edit_date": 1436402236, "creation_date": 1436384359, "answer_id": 31302169, "question_id": 31301306, "link": "https://stackoverflow.com/questions/31301306/c-row-and-columns-matrix-manipulation/31302169#31302169", "title": "C++ row and columns matrix manipulation", "body": "<p>If you consider \"elenance\" as a STL function that can do all this stuff for you, then there's no function like this. The aim of STL is not about making your code as simple as possible, the creators of C++ only add to STL things that:</p>\n\n<ul>\n<li>Is really hard to implement with the current language's instrument </li>\n<li>Things that need a special support from your compiler (special optimization, etc.)</li>\n<li>Some elements that became common</li>\n</ul>\n\n<p>So, just implement by your own.  </p>\n\n<p>If you don't want to use <code>for (;;)</code> loops because it's not \"elegant\" at some point, then you can do something like this:</p>\n\n<pre><code>/* swapping column i and j */\nstd::vector&lt;std::vector&lt;T&gt;&gt; mat;\nstd::for_each(mat.begin(), mat.end(), [i,j](std::vector&lt;int&gt;&amp; a)\n        { std::swap(a[i], a[j]); });\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> If the speed is important for you and you want to swap columns as fast as swapping rows (in O(1) ), then you can use this implementation (that takes extra space)):</p>\n\n<pre><code>std::vector&lt;std::vector&lt;int&gt;&gt; mat;\n\n/* preprocessing */    \nstd::vector&lt;int&gt; permutation(mat[0].size());\nstd::iota(permutation.begin(), permutation.end(), 0);\n\n/* now, if you need to get the element mat[i][j] */\nmat_i_j = mat[i][ permutation[j] ];\n\n/* if you want to swap column i and j */\nstd::swap(permutation[i], permutation[j]);\n</code></pre>\n"}], "owner": {"reputation": 632, "user_id": 1888132, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/57a6dd8a392904a96b77e47ced02d0f5?s=128&d=identicon&r=PG", "display_name": "darkpirate", "link": "https://stackoverflow.com/users/1888132/darkpirate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 1, "accepted_answer_id": 31302169, "answer_count": 1, "score": 0, "last_activity_date": 1436402236, "creation_date": 1436381602, "last_edit_date": 1436382094, "question_id": 31301306, "link": "https://stackoverflow.com/questions/31301306/c-row-and-columns-matrix-manipulation", "title": "C++ row and columns matrix manipulation", "body": "<p>I've created a 2D matrix as a vector of vectors like this :</p>\n\n<pre><code>vector&lt;vector&lt;int&gt;&gt; mat;\n</code></pre>\n\n<p>now I need to swap the row and columns of my matrix for example :</p>\n\n<pre><code>row 0 swapped with row 4 \ncolumn 5 swapped with column 1\n</code></pre>\n\n<p>the rows aren't a problem since there is the swap() function of the stl library. Exchanging rows though seems quite problematic because, of course, they are not considered as one atomic structure. so at this point I'm really stuck... I've considered doing it brutally swapping every element of the rows I'm interested in, but it seems quite inelegant. Any idea of how I could achieve my goal ?</p>\n"}, {"tags": ["c++", "boost", "dll", "visual-studio-2013", "boost-asio"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1436382205, "post_id": 31301128, "comment_id": 50593071, "body": "Looks like you&#39;re not linking to the Boost.System library (Asio has a dependency on that). Why did you add <code>BOOST_ALL_NO_LIB</code>? That disables auto linking. With auto linking you&#39;d probably have been able to link successfully."}, {"owner": {"reputation": 231, "user_id": 2762242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39825f0a68898627e15c9be1d2b7b7b7?s=128&d=identicon&r=PG&f=1", "display_name": "xkm", "link": "https://stackoverflow.com/users/2762242/xkm"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1436382527, "post_id": 31301128, "comment_id": 50593291, "body": "If I remove it, this is the only error:  error LNK1104: cannot open file &#39;libboost_system-vc120-mt-sgd-1_58.lib&#39; not sure why its not in the C:\\local\\boost_1_58_0\\stage\\lib folder"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1436382940, "post_id": 31301128, "comment_id": 50593540, "body": "Did you build Boost? If not, open a VS2013 command prompt, and from within your Boost directory run <code>bootstrap &amp;&amp; b2 --build-type=complete stage</code>. <a href=\"http://www.boost.org/doc/libs/release/more/getting_started/windows.html\" rel=\"nofollow noreferrer\">Here&#39;s</a> the documentation."}], "answers": [{"tags": [], "owner": {"reputation": 28882, "user_id": 785349, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuJeX.jpg?s=128&g=1", "display_name": "quarks", "link": "https://stackoverflow.com/users/785349/quarks"}, "is_accepted": true, "score": 2, "last_activity_date": 1436384899, "creation_date": 1436384899, "answer_id": 31302331, "question_id": 31301128, "link": "https://stackoverflow.com/questions/31301128/using-boost-in-a-dll-project-activex/31302331#31302331", "title": "Using Boost in a DLL project (ActiveX)", "body": "<p>The short answer is to do something like this:</p>\n\n<pre><code>C:\\local\\boost_1_58_0&gt;bjam.exe runtime-link=static\n</code></pre>\n\n<p>and remove BOOST_ALL_NO_LIB is its set, then build the DLL again. That should fix that.</p>\n"}], "owner": {"reputation": 231, "user_id": 2762242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39825f0a68898627e15c9be1d2b7b7b7?s=128&d=identicon&r=PG&f=1", "display_name": "xkm", "link": "https://stackoverflow.com/users/2762242/xkm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 31302331, "answer_count": 1, "score": 2, "last_activity_date": 1436384899, "creation_date": 1436381076, "question_id": 31301128, "link": "https://stackoverflow.com/questions/31301128/using-boost-in-a-dll-project-activex", "title": "Using Boost in a DLL project (ActiveX)", "body": "<p>I'm trying to use Boost.Asio on a ActiveX DLL project using Visual Studio 2013. \nNot sure what is wrong but when building these error shows up:</p>\n\n<blockquote>\n  <p>Error 34  error LNK2019: unresolved external symbol \"class\n  boost::system::error_category const &amp; __cdecl\n  boost::system::system_category(void)\"\n  (?system_category@system@boost@@YAABVerror_category@12@XZ) referenced\n  in function \"public: __thiscall\n  boost::system::error_code::error_code(void)\"\n  (??0error_code@system@boost@@QAE@XZ)  C:\\eCompany\\activex-dll\\maindoor\\RESTClient.obj maindoor\n  Error 35  error LNK2019: unresolved external symbol \"class\n  boost::system::error_category const &amp; __cdecl\n  boost::system::generic_category(void)\"\n  (?generic_category@system@boost@@YAABVerror_category@12@XZ) referenced\n  in function \"void __cdecl boost::system::`dynamic initializer for\n  'errno_ecat''(void)\"\n  (??__Eerrno_ecat@system@boost@@YAXXZ) C:\\Projects\\eCompany\\activex-dll\\maindoor\\RESTClient.obj    maindoor\n  Error 36  error LNK1120: 2 unresolved\n  externals C:\\Projects\\eCompany\\activex-dll\\maindoor\\Debug\\maindoorEWI.dll 1   1   maindoor</p>\n</blockquote>\n\n<p>I already added <code>BOOST_ALL_NO_LIB</code> in the Preprocessor. What could be missing in the project?</p>\n"}, {"tags": ["c++", "file", "size", "ascii"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1436380956, "post_id": 31301024, "comment_id": 50592289, "body": "TL;DR. Please create a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. Note: Read the description of tags! C and C++ are different languages. Your code is <i>not</i> C code!"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1436382383, "post_id": 31301024, "comment_id": 50593190, "body": "Please <a href=\"https://stackoverflow.com/posts/31301024/edit\">edit</a> your question with an <a href=\"http://stackoverflow.com/help/mcve\">MCVE (Minimal Complete Verifiable Example)</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 2234, "user_id": 3052438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X9OWu.png?s=128&g=1", "display_name": "NO_NAME", "link": "https://stackoverflow.com/users/3052438/no-name"}, "edited": false, "score": 0, "creation_date": 1436382898, "post_id": 31301024, "comment_id": 50593517, "body": "Use debugger to check where the bug is."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436386888, "post_id": 31301024, "comment_id": 50595897, "body": "The requirements you presented makes no delineation for words.  Why are you separating words?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1436386953, "post_id": 31301024, "comment_id": 50595942, "body": "Stick with <code>std::string</code> for muli-character items or <code>char *</code>.  Don&#39;t mix them.  I recommend using <code>std::string</code>."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1436387980, "creation_date": 1436387980, "answer_id": 31303255, "question_id": 31301024, "link": "https://stackoverflow.com/questions/31301024/why-my-file-characters-are-not-reading-and-key-is-not-generating/31303255#31303255", "title": "Why my file characters are not reading and key is not generating?", "body": "<p>Here's a smaller version of your program, probably using features you don't know about:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;cstdint&gt;\n#include &lt;sstream&gt;\n\nusing std::string;\nusing std::ifstream;\nusing std::cout;\nusing std::endl;\nusing std::cerr;\nusing std::cin;\nusing std::uint64_t;\nusing std::ostringstream;\n\nvoid Pause(void)\n{\n  cout &lt;&lt; \"\\nPaused. Press Enter to continue.\\n\";\n  cin.ignore(100000, '\\n');\n}\n\nint main(void)\n{\n  ifstream  input(\"my_datafile.txt\", std::ios::binary) // prevent translations\n  if (!input)\n  {\n    cerr &lt;&lt; \"Error opening \\\"my_datafile.txt\\\" as input.\\n\";\n    Pause();\n    return EXIT_FAILURE;\n  }\n  uint64_t chars_in_file = 0U;\n  uint64_t ascii_sum = 0U;\n  static const unsigned int BUFFER_SIZE = 1024 * 8;\n  static char buffer[BUFFER_SIZE];\n  while (input.read(buffer, BUFFER_SIZE)\n  {\n    unsigned int bytes_read = input.gcount();\n    chars_in_file += bytes_read;\n    for (unsigned int i = 0; i &lt; bytes_read; ++i)\n    {\n      ascii_sum += buffer[i];\n    }\n  }\n  ostringstream formatting_stream;\n  formatting_stream &lt;&lt; chars_in_file &lt;&lt; ascii_sum;\n  const std::string key = formatting_stream.str();\n  cout &lt;&lt; \"The key is: \" &lt;&lt; key &lt;&lt; \"\\n\";\n  Pause();\n  return 0;\n}\n</code></pre>\n\n<p>I don't see the need for a lot of the stuff you have in your code.</p>\n"}], "owner": {"reputation": 13, "user_id": 4838540, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b0af70cd562eec90f43897af8f066bfa?s=128&d=identicon&r=PG&f=1", "display_name": "David Stevenson", "link": "https://stackoverflow.com/users/4838540/david-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1436387980, "creation_date": 1436380739, "last_edit_date": 1436380911, "question_id": 31301024, "link": "https://stackoverflow.com/questions/31301024/why-my-file-characters-are-not-reading-and-key-is-not-generating", "title": "Why my file characters are not reading and key is not generating?", "body": "<p>Here is my program. The purpose is to find the <strong>no. of characters</strong> in file and <strong>sum of all ASCII values</strong> <strong>of characters</strong> and then <strong>concatenate</strong> the no. of characters+Sum of ASCII values. It will be a key and should be written at the end of file. So that if someone change the file text, the regenerating key will be different from previous and the program will notify that \"file is changed by someone\". \nProblem is that my key is not generating correctly. It writes <strong>%</strong> instead of <strong>%38757483</strong> which means 38 is total characters and 757483 is total sum of ASCII. Following is the complete code without any syntax error:</p>\n\n<pre><code>////By Zeshan from VU\n#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;string&gt;\nusing namespace std;\n\n\n////function prototypes///\n\nvoid menu(std::ifstream &amp;file, string filename);      //to show the menu of multiple options\nvoid openFile(string filename);\nvoid findSize(std::ifstream &amp;file, string filename);  //to find the sum of all characters in file\nvoid findASCII(char allWords[], int size, std::ifstream &amp;file, string filename); // to find the sum of all character's ASCII values in file\nvoid protectFile(std::ifstream &amp;file, string filename);\nvoid checkFile(std::ifstream &amp;file, string filename);\nvoid key(int size, char ASCII, std::ifstream &amp;file, string filename);    // this function will generate the key by combining size figure and ASCII sum followed by % character\nvoid reKey(int size, char ASCII, std::ifstream &amp;file, string filename, string oldKey);  //regenerate key for matching with previous one\nvoid reFindASCII(char allWordsBeforeKey, int size, std::ifstream &amp;file, string filename, string oldKey);\nvoid putKeyinFile(string fName, string key, std::ifstream &amp;file);   // this function will write the key at file's end line\n\nvoid reKey(int size, char ASCII, std::ifstream &amp;file, string filename, string oldKey)\n{\n    string key;\n     char cSize =  size;\n     key=cSize+ASCII;\n     key='%'+key;\n\n     if(key == oldKey)\n         cout&lt;&lt;\"The contents of file are not changed after protection. \\n\";\n     else\n         cout&lt;&lt;\"Alert! The contents of file are changed after protection. \\n\";\n\n     system(\"pause\");\n\n}\n\nvoid checkFile(std::ifstream &amp;file, string filename){\n     int i=0, flag=0, keyPositioninFile=0;\n     char word[100]=\"\";      \n     char allWords[10000]=\"\";   \n     string strAllWords=\"\", oldKey=\"\";\n     int totalCharacters=0;\n     int totalCharactersBeforeKey=0;\n     char allWordsBeforeKey=0;\n     string strAllWordsBeforeKey=\"\";\n\n     while(!file.eof()) //This loop will collect all words from file\n     {\n               file &gt;&gt; word;  \n\n               strcat(word,\" \");\n               strcat(allWords,word);  \n     }\n\n\n     strAllWords=allWords;\n     totalCharacters=strAllWords.size();\n     while(i != totalCharacters)\n     {\n         if(strAllWords[i] == '%')\n         {\n            flag=1;\n         }\n         i++;\n     }\n\n\n\n         if(flag==0)\n         {\n             cout&lt;&lt;\"Your file is not protected. First protect it using option 1. \\n\\n\";\n             menu(file, filename);\n         }\n\n\n\n    i=0;\n     if(flag) //If the key is already generated in the file\n     {\n\n         while(strAllWords[i] != '%')\n         {\n             allWordsBeforeKey=allWordsBeforeKey+strAllWords[i];\n             i++;\n         }\n         strAllWordsBeforeKey=allWordsBeforeKey;\n\n         i=0;\n         while(strAllWords[i] == '%') //To note that where old key is located in the file\n         {\n             keyPositioninFile=i;\n         }\n\n         for(int j=keyPositioninFile; j&lt;=strAllWordsBeforeKey.size(); j++)\n         {\n         oldKey[j]=strAllWordsBeforeKey[j]; \n         }\n\n         totalCharactersBeforeKey=strAllWordsBeforeKey.size();\n         reFindASCII(allWordsBeforeKey, totalCharactersBeforeKey, file, filename, oldKey);\n     }   \n}\n\nvoid menu(std::ifstream &amp;file, string filename)\n{\n     int option=0;\n     cout&lt;&lt;\"Operations on text file: \\n\";\n     cout&lt;&lt;\"1. Protect my text file \\n\";\n     cout&lt;&lt;\"2. Check security of my text file \\n\\n\";\n     cout&lt;&lt;\"Enter your choice (1/2): \";\n     cin&gt;&gt;option;\n     if(option==1) \n                   protectFile(file, filename);\n\n     else if(option==2) \n                   checkFile(file, filename);\n     else \n                   cout&lt;&lt;\"Error: option selection is invalid\";\n\n}\n\nvoid openFile(string filename)\n{\n     ifstream theFile;\n     theFile.open(filename);\n     if(!theFile){\n                   cout&lt;&lt;\"Cant open input file named \"&lt;&lt;filename;\n                   system(\"pause&gt;nul\");\n                   exit(1);\n                 }\n     menu(theFile, filename);\n}\n\nvoid findSize(std::ifstream &amp;file, string filename)\n{\n     char word[100]=\"\";      \n     char allWords[10000]=\"\";   \n     string strAllWords=\"\";\n     int totalCharacters=0; \n\n     while(!file.eof())\n     {\n               file &gt;&gt; word;\n               cout&lt;&lt;word&lt;&lt;\" \";   \n               strcat(word,\" \");\n               strcat(allWords,word);           \n     }\n\n     strAllWords=allWords;\n     totalCharacters = strAllWords.size();\n\n     findASCII(allWords, totalCharacters, file, filename);    \n}\n\nvoid findASCII(char allWords[], int size, std::ifstream &amp;file, string filename)\n{\n    int i=0, totalASCIIofChars=0;\n\n    while(i != size)\n    {\n           totalASCIIofChars  = totalASCIIofChars + allWords[i];\n           i++;  \n    } \n\n    key(size, totalASCIIofChars, file, filename);\n}\n\nvoid reFindASCII(char allWordsBeforeKey, int size, std::ifstream &amp;file, string filename, string oldKey)\n{\n    int i=0, totalASCIIofCharsBeforeKey=0;\n  string strAllWordsBeforeKey=&amp;allWordsBeforeKey;\n    while(i != size)\n    {\n           totalASCIIofCharsBeforeKey  = totalASCIIofCharsBeforeKey + strAllWordsBeforeKey[i];\n           i++;  \n    } \n\n    reKey(size, totalASCIIofCharsBeforeKey, file, filename, oldKey);\n}\n\nvoid key(int size, char ASCII, std::ifstream &amp;file, string filename)\n{\n\n     string key=\"\";\n     char cSize = size;\n     key=cSize+ASCII;\n    // cout&lt;&lt;\"Key is: \"&lt;&lt;size; /////////////////PROBLEM HERE////////// \n     key='%'+key;\n  //   strcat(&amp;key, \"%\");\n     putKeyinFile(filename, key, file);\n     cout&lt;&lt;\"Your file is protected now. \\n\";\n\n     system(\"pause\");\n\n}\n\nvoid protectFile(std::ifstream &amp;file, string filename)\n{\n     int i=0;\n     char word[100]=\"\";      \n     char allWords[10000]=\"\";   \n     string strAllWords=\"\";\n     while(!file.eof())\n     {\n               file &gt;&gt; word;  \n\n               strcat(word,\" \");\n               strcat(allWords,word);           \n     }\n     strAllWords=allWords;\n\n     while(i != strAllWords.size())\n     {\n               if(allWords[i] == '%')\n               {\n                       cout&lt;&lt;\"File is already protected, first protect it by using option 1\";\n                       menu(file, filename);\n               }\n\n               i++;\n     }\n     findSize(file, filename);                                          \n\n}\n\nvoid putKeyinFile(string fName, string key, std::ifstream &amp;file)\n{\n     ofstream oFile;\n     oFile.open(fName, ios::app);\n     oFile&lt;&lt;key;\n     oFile.close();\n     file.close();\n}\n\nint main()\n{        \n   // char fName[30];\n    string fName;\n    cout&lt;&lt;\"Enter the name of text file in current directory: \";\n    cin&gt;&gt;fName; \n    openFile(fName);\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "matrix", "computer-vision", "camera-calibration"], "comments": [{"owner": {"reputation": 9838, "user_id": 1435240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esfoN.jpg?s=128&g=1", "display_name": "Francesco Callari", "link": "https://stackoverflow.com/users/1435240/francesco-callari"}, "edited": false, "score": 0, "creation_date": 1436448535, "post_id": 31301013, "comment_id": 50624936, "body": "Hard to help without original images, calibrated parameter values. The pixelated circle you observe in the corrected image is due to a singularity in the undistortion function. As there appear to be valid pixels beyond it, you may be using an invalid model, or inaccurate calibration parameters."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2633563, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0c3298d92dcd1d9074f37b66f6523125?s=128&d=identicon&r=PG", "display_name": "Kevin Kuei", "link": "https://stackoverflow.com/users/2633563/kevin-kuei"}, "edited": false, "score": 0, "creation_date": 1577760858, "post_id": 31323382, "comment_id": 105247986, "body": "Hi, I got the same problem. I tried to set alpha=0.5 or 0.0 but it didn&#39;t solve the problem. Please see <a href=\"https://stackoverflow.com/questions/59538424/opencv-undistortion-image-with-a-strange-circle\" title=\"opencv undistortion image with a strange circle\">stackoverflow.com/questions/59538424/&hellip;</a>"}], "tags": [], "owner": {"reputation": 755, "user_id": 1009476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c910254e81e50a7f6c58662aa2d9cb4d?s=128&d=identicon&r=PG", "display_name": "Shepard", "link": "https://stackoverflow.com/users/1009476/shepard"}, "is_accepted": false, "score": 0, "last_activity_date": 1436459718, "creation_date": 1436459718, "answer_id": 31323382, "question_id": 31301013, "link": "https://stackoverflow.com/questions/31301013/opencv-undistort-function-with-newcameramatrix/31323382#31323382", "title": "OpenCV undistort() function with newCameraMatrix", "body": "<p>Ok, I figured it out. The problem is that alpha = 1.0 is simply too big. Curiously even using 0.0 the newCameraMatrix enlarges by ~20\u00b0 the fields of view and apparently no wrong pixels or distortion are present.</p>\n"}], "owner": {"reputation": 755, "user_id": 1009476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c910254e81e50a7f6c58662aa2d9cb4d?s=128&d=identicon&r=PG", "display_name": "Shepard", "link": "https://stackoverflow.com/users/1009476/shepard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1298, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1436459718, "creation_date": 1436380702, "question_id": 31301013, "link": "https://stackoverflow.com/questions/31301013/opencv-undistort-function-with-newcameramatrix", "title": "OpenCV undistort() function with newCameraMatrix", "body": "<p>I calibrated a wide angle camera (~120\u00b0 horizontal, ~110\u00b0 vertical) using the Pinhole camera model. The result is quite good but large areas of the image are discarded.</p>\n\n<p><img src=\"https://i.stack.imgur.com/eqvTM.png\" alt=\"good\"></p>\n\n<p>So I'm trying to use the getOptimalNewCameraMatrix function (using alpha = 1) to calculate the newCameraMatrix and then pass it to cv::undistord, but the resulting frame is really distorted.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zzKum.png\" alt=\"bad\"></p>\n\n<p>The code I use is:</p>\n\n<pre><code>// Matrices calculation\ndata.rms = calibrateCamera(objectPoints, imagePoints, data.size, data.cameraMatrix,\n    data.distCoeffs, data.rvecs, data.tvecs, settings.calibFlags);\n\nif(!settings.cropCorrected) {\n    Rect roi;\n    data.newCameraMatrix = getOptimalNewCameraMatrix(data.cameraMatrix, data.distCoeffs, \n    data.size, 1, data.size, &amp;roi, true);\n}\n\n// Undistort\ncv::undistort(in, corrected, cameraMatrix, distCoeffs, newCameraMatrix);\n</code></pre>\n\n<p>This is simple but there is something not working. I have already tried to use roi to crop the inner area, in the hope that it would have been anyway bigger than without the additional matrix, but in fact it's not.</p>\n\n<p>How can i resolve the situation?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436380748, "post_id": 31300904, "comment_id": 50592144, "body": "The thing about constructor elision is that it&#39;s an optimization permitted by the language, and not a requirement of the language. This means it isn&#39;t always done (depending on your optimization level, etc.). In particular, usually the compiler won&#39;t elide constructor calls if they have side effects (like yours does here)."}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1436380800, "post_id": 31300904, "comment_id": 50592182, "body": "Implicit conversions can use constructors. Here, since <code>int</code> is implicitly convertible  to <code>B</code> with the constructor <code>B(int)</code>, that constructor is called in all three lines. The copy-constructor (<code>B(const B&amp;)</code>) can also be called on the first line if it weren&#39;t for <a href=\"http://en.cppreference.com/w/cpp/language/copy_elision\" rel=\"nofollow noreferrer\">copy-elision</a>."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1436380928, "post_id": 31300904, "comment_id": 50592264, "body": "Your first constructor, by the way, is technically called a custom constructor (default constructors can be called with no arguments)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1436380980, "post_id": 31300904, "comment_id": 50592302, "body": "Side note: <code>B(int x)</code> is no default constructor. That is <code>B()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1436381167, "post_id": 31300904, "comment_id": 50592425, "body": "Side note: You may experiment  <code>explicit B(int x)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6654, "user_id": 111143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhf9U.jpg?s=128&g=1", "display_name": "Tommy Andersen", "link": "https://stackoverflow.com/users/111143/tommy-andersen"}, "is_accepted": false, "score": 4, "last_activity_date": 1436381674, "last_edit_date": 1436381674, "creation_date": 1436380666, "answer_id": 31300997, "question_id": 31300904, "link": "https://stackoverflow.com/questions/31300904/constructor-being-called-multiple-times/31300997#31300997", "title": "Constructor being called multiple times", "body": "<p>Each time you assign an instance of the variable <code>ob</code> of type <code>B</code> an integer value, you are basically constructing a new instance of <code>B</code> thus calling the constructor. Think about it, how else would the compiler know how to create an instance of <code>B</code> if not through the constructor taking an <code>int</code> as parameter?</p>\n\n<p>If you overloaded the assignment operator for your class <code>B</code> taking an <code>int</code>, it would be called:</p>\n\n<pre><code>B&amp; operator=(int rhs)\n{\n    cout &lt;&lt; \"Assignment operator\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This would result in the first line: <code>B ob = 5;</code> to use the constructor, while the two following would use the assignment operator, see for yourself:</p>\n\n<pre><code>Constructor called\nAssignment operator\nAssignment operator\n</code></pre>\n\n<p><a href=\"http://ideone.com/fAjoA4\" rel=\"nofollow\">http://ideone.com/fAjoA4</a></p>\n\n<p>If you do not want your constructor taking an <code>int</code> to be called upon assignment, you can declare it <code>explicit</code> like this:</p>\n\n<pre><code>explicit B(int x)\n{\n    cout &lt;&lt; \"Constructor called\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This would cause a compiler error with your code, since it would no longer be allowed to implicitly construct an instance of <code>B</code> from an integer, instead it would have to be done explicitly, like this:</p>\n\n<pre><code>B ob(5);\n</code></pre>\n\n<p>On a side note, your constructor taking an <code>int</code> as parameter, is not a default constructor, a default constructor is a constructor which can be called with no arguments.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 4927486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-R0ju1nYcDCk/AAAAAAAAAAI/AAAAAAAAABs/0KRukefrkBU/photo.jpg?sz=128", "display_name": "Abhay Sharma", "link": "https://stackoverflow.com/users/4927486/abhay-sharma"}, "edited": false, "score": 0, "creation_date": 1436381308, "post_id": 31301020, "comment_id": 50592522, "body": "Is there a special provision in cpp to create a temporary object and call a 1 parameter constructor (if given explicitly ) in such cases instead of an error saying primitive type int can&#39;t be assigned to class object?"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 159, "user_id": 4927486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-R0ju1nYcDCk/AAAAAAAAAAI/AAAAAAAAABs/0KRukefrkBU/photo.jpg?sz=128", "display_name": "Abhay Sharma", "link": "https://stackoverflow.com/users/4927486/abhay-sharma"}, "edited": false, "score": 2, "creation_date": 1436381833, "post_id": 31301020, "comment_id": 50592847, "body": "You can prevent implicit conversions by using <code>explicit</code> (e.g., <code>explicit B(int x);</code>) which causes <code>B b = 5</code> to produce a compilation error. I would recommend using <code>explicit</code> unless you are wanting implicit conversions."}], "tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": true, "score": 5, "last_activity_date": 1436383019, "last_edit_date": 1495539844, "creation_date": 1436380731, "answer_id": 31301020, "question_id": 31300904, "link": "https://stackoverflow.com/questions/31300904/constructor-being-called-multiple-times/31301020#31301020", "title": "Constructor being called multiple times", "body": "<blockquote>\n  <p>B ob =5;</p>\n</blockquote>\n\n<p>This uses the given constructor.</p>\n\n<blockquote>\n  <p>ob=6;</p>\n</blockquote>\n\n<p>This uses the given constructor because there is not a <code>B&amp; operator=(int)</code> function and <code>6</code> must be converted to type <code>B</code>. One path to do this is to temporarily construct a <code>B</code> and use it in the assignment.</p>\n\n<blockquote>\n  <p>ob=7;</p>\n</blockquote>\n\n<p>Same answer as above.</p>\n\n<blockquote>\n  <p>I fail to understand why is the constructor being called thrice with each assignment</p>\n</blockquote>\n\n<p>As I stated above you do not have a <code>B&amp; operator=(int)</code> function but the compiler is happy to provide a copy assignment operator (i.e., <code>B&amp; operator=(const B&amp;);</code>) for you <a href=\"https://stackoverflow.com/questions/3734247/what-are-all-the-member-functions-created-by-compiler-for-a-class-does-that-hap\">automatically</a>. The compiler generated assignment operator is being called and it takes a <code>B</code> type and all <code>int</code> types can be converted to a <code>B</code> type (via the constructor you provided).</p>\n\n<p><strong>Note:</strong> You can disable the implicit conversion by using <code>explicit</code> (i.e., <code>explicit B(int x);</code>) and I would recommend the use of <code>explicit</code> except when implicit conversions are desired.</p>\n\n<h3>Example</h3>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass B\n{\npublic:\n    B(int x) { std::cout &lt;&lt; \"B ctor\\n\"; }\n\n    B(const B&amp; b) { std::cout &lt;&lt; B copy ctor\\n\"; }\n};\n\nB createB()\n{\n    B b = 5;\n    return b;\n}\n\nint main()\n{\n    B b = createB();\n\n    return 0;\n}\n</code></pre>\n\n<h3>Example Output</h3>\n\n<p>Note: Compiled using Visual Studio 2013 (Release)</p>\n\n<pre><code>B ctor\n</code></pre>\n\n<p>This shows the copy constructor was elided (i.e., the <code>B</code> instance in the <code>createB</code> function is triggered but no other constructors).</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1436384856, "last_edit_date": 1436384856, "creation_date": 1436383041, "answer_id": 31301748, "question_id": 31300904, "link": "https://stackoverflow.com/questions/31300904/constructor-being-called-multiple-times/31301748#31301748", "title": "Constructor being called multiple times", "body": "<p>You are not taking the <strong>assignment operator</strong> into account.  Since you have not defined your own <code>operator=()</code> implementation, the compiler generates a default <code>operator=(const B&amp;)</code> implementation instead. \nThus, your code is effectively doing the following logic:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass B\n{\n  public:  \n  B(int x) //custom constructor\n  {\n    cout &lt;&lt; \"Constructor called\" &lt;&lt; endl;\n  }    \n\n  B(const B &amp;b)  //copy constructor\n  {\n     cout &lt;&lt; \"Copy constructor called\" &lt;&lt; endl;\n  } \n\n  B&amp; operator=(const B &amp;b)  //default assignment operator\n  {\n     return *this;\n  } \n};\n\nint main()\n{ \n  B ob(5); \n  ob.operator=(B(6));\n  ob.operator=(B(7));\n\n  return 0;\n}\n</code></pre>\n\n<p>The compiler-generated <code>operator=()</code> operator expects a <code>B</code> object as input, but you are passing an <code>int</code> value instead.  Since <code>B</code> has a non-<code>explicit</code> constructor that accepts an <code>int</code> as input, the compiler is free to perform an implicit conversion from <code>int</code> to <code>B</code> using a temporary object.</p>\n\n<p>That is why you are seeing your constructor invoked three times - the two assignments are creating temporary <code>B</code> objects.  </p>\n"}], "owner": {"reputation": 159, "user_id": 4927486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-R0ju1nYcDCk/AAAAAAAAAAI/AAAAAAAAABs/0KRukefrkBU/photo.jpg?sz=128", "display_name": "Abhay Sharma", "link": "https://stackoverflow.com/users/4927486/abhay-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3150, "favorite_count": 0, "accepted_answer_id": 31301020, "answer_count": 3, "score": 2, "last_activity_date": 1436384856, "creation_date": 1436380414, "last_edit_date": 1436380695, "question_id": 31300904, "link": "https://stackoverflow.com/questions/31300904/constructor-being-called-multiple-times", "title": "Constructor being called multiple times", "body": "<p>I wrote the following c++ code trying to understand copy elision in c++.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass B\n{\n  public:  \n  B(int x  ) //default constructor\n  {\n    cout &lt;&lt; \"Constructor called\" &lt;&lt; endl;\n  }    \n\n  B(const B &amp;b)  //copy constructor\n  {\n     cout &lt;&lt; \"Copy constructor called\" &lt;&lt; endl;\n  } \n};\n\nint main()\n{ \n\n  B ob =5; \n  ob=6;\n  ob=7;\n\n  return 0;\n}\n</code></pre>\n\n<p>This produces the following output:</p>\n\n<pre><code>Constructor called\nConstructor called\nConstructor called\n</code></pre>\n\n<p>I fail to understand why is the constructor being called thrice with each assignment to object ob.</p>\n"}, {"tags": ["c++", "c", "linux", "gcc", ".a"], "comments": [{"owner": {"reputation": 3852, "user_id": 1607832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf6963d2f289cbf78d9c0ece6920188?s=128&d=identicon&r=PG", "display_name": "missimer", "link": "https://stackoverflow.com/users/1607832/missimer"}, "edited": false, "score": 0, "creation_date": 1436380659, "post_id": 31300869, "comment_id": 50592084, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5713894/file-not-recognized-file-truncated-gcc-error\">File not recognized: File truncated GCC error</a>"}, {"owner": {"reputation": 2311, "user_id": 4566976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56346a6db33a8b54fe45d1516a8c82c8?s=128&d=identicon&r=PG&f=1", "display_name": "4566976", "link": "https://stackoverflow.com/users/4566976/4566976"}, "edited": false, "score": 0, "creation_date": 1436461730, "post_id": 31300869, "comment_id": 50634477, "body": "Is the output from <code>objdump -x libquanser_communications.a</code> ok?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5095319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YiHdGDH6cTE/AAAAAAAAAAI/AAAAAAAAABI/w5BUBv9pUDY/photo.jpg?sz=128", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/5095319/dinesh"}, "edited": false, "score": 0, "creation_date": 1436413600, "post_id": 31301829, "comment_id": 50604513, "body": "Thanks for your help. Those libraries are from 3rd party and they are 32 bit while my machine is 64 bit. I tried compiling without -m32 flag, but it gives the same error saying file is truncated."}], "tags": [], "owner": {"reputation": 2592, "user_id": 2963819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bcc08ce2a4490cf3496020812fe10ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Ishay Peled", "link": "https://stackoverflow.com/users/2963819/ishay-peled"}, "is_accepted": false, "score": 0, "last_activity_date": 1436383322, "creation_date": 1436383322, "answer_id": 31301829, "question_id": 31300869, "link": "https://stackoverflow.com/questions/31300869/using-32-bit-a-library-file-in-64-bit-linux-machine/31301829#31301829", "title": "Using 32 bit .a library file in 64 bit linux machine", "body": "<p>You're probably getting this error because your libquanser_communications is 64-bit and not 32-bit. You can't compile 32 bit against 64 bit code.</p>\n\n<p>If you compiled libqunaser yourself, compile it with the -m32 flag (recursively, until you're done with all dependencies).  </p>\n\n<p>If not, get the 32 bit version of it</p>\n"}], "owner": {"reputation": 23, "user_id": 5095319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YiHdGDH6cTE/AAAAAAAAAAI/AAAAAAAAABI/w5BUBv9pUDY/photo.jpg?sz=128", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/5095319/dinesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436383322, "creation_date": 1436380325, "last_edit_date": 1495541645, "question_id": 31300869, "link": "https://stackoverflow.com/questions/31300869/using-32-bit-a-library-file-in-64-bit-linux-machine", "title": "Using 32 bit .a library file in 64 bit linux machine", "body": "<p>I am trying to use 32 bit .a files in a 64 bit machine. I compiled source code using gcc -m32 option. It gave following error </p>\n\n<pre><code>gcc -m32 *.c -Llib -lquanser_communications -Iinclude -o prg.o`In file included from /usr/include/wchar.h:27:0,\n             from include/quanser_types.h:16,\n             from include/quanser_communications.h:16,\n             from include/quanser_stream.h:11,\n             from stream_client.c:3:/usr/include/features.h:374:25: \n</code></pre>\n\n<p><code>fatal error: sys/cdefs.h: No such file or directory</code></p>\n\n<p>After searching I got to this and <a href=\"https://stackoverflow.com/questions/23498237/compile-program-for-32bit-on-64bit-linux-os-causes-fatal-error\">thread</a> and installed libx32gcc-4.8-dev and libc6-dev-i386 packages.</p>\n\n<p>After installing those packages and running compilation gives following error </p>\n\n<pre><code>gcc -m32 *.c -Llib -lquanser_communications -Iinclude -o prg.o\nlib/libquanser_communications.a: file not recognized: File truncated\n</code></pre>\n\n<p>How could I fix this issue ? \nThanks.</p>\n"}, {"tags": ["c++", "undefined-behavior", "initialization-list"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436420992, "post_id": 31300923, "comment_id": 50606868, "body": "yes I was expecting that kind of message with g++. Glad that someone is doing that!"}], "tags": [], "owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1436382373, "last_edit_date": 1436382373, "creation_date": 1436380455, "answer_id": 31300923, "question_id": 31300802, "link": "https://stackoverflow.com/questions/31300802/why-unconstructed-object-can-be-passed-to-base-class-constructor-in-derived-init/31300923#31300923", "title": "Why unconstructed object can be passed to base class constructor in derived initialization list", "body": "<p>If you compile your code in clang, you will get warning but you will get the same output.</p>\n\n<pre><code>clang++ -std=c++11  -Wall  -pedantic -pthread main.cpp &amp;&amp; ./a.out\n</code></pre>\n\n<blockquote>\n  <p>main.cpp:21:21: warning: field 'd' is uninitialized when used here\n  [-Wuninitialized]     Bar() : Foo(d) {</p>\n</blockquote>\n\n<p>So what is happening?</p>\n\n<p>You are passing an uninitialized object of Dog as parameter to constructor of Foo. Since your constructor accepting Dog parameter as value, it will try to call the <strong>copy constructor</strong> of class Dog to create an object of Dog even though it is not initialized. And system succeeded to create a local Dog object  using copy constructor inside the constructor of Foo and invoked the function dfoo().</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436380756, "post_id": 31300943, "comment_id": 50592153, "body": "How can Foo constructor accept a garbage object when it requires a proper Dog?"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436381011, "post_id": 31300943, "comment_id": 50592324, "body": "Failing when the programmer did something wrong was never a major design goal of C++.  C++ programs are supposed to work reasonably efficiently when coded correctly.  That expectation of efficiency eliminates most ability to sanity check the programmer&#39;s actions.  The Foo constructor does not require a &quot;proper Dog&quot;.  It only requires something which you have claimed is a Dog.  Then Dog::dfoo() also only requires something which you have claimed to be a Dog (it doesn&#39;t actually use that object in any way)."}, {"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436381201, "post_id": 31300943, "comment_id": 50592449, "body": "Adding a virtual function in Dog class, and calling that on d object from Foo has the same effect. No error."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436381541, "post_id": 31300943, "comment_id": 50592671, "body": "Sorry.  I&#39;m so used to passing by reference I failed to notice you had not, which changes the reason all this &quot;works&quot;.  I will edit my incorrect answer."}, {"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436433831, "post_id": 31300943, "comment_id": 50614464, "body": "<code>@JSF</code>, No probs. Thanks for elaborating with an example - as expected, that gives a seg. fault. Any suggestion, apart from reference passing, on how to force the language to raise a flag in this type of scenario?"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436438943, "post_id": 31300943, "comment_id": 50618058, "body": "Did you try the -Wall suggested by Steephen?  The use of that is not limited to Clang.  G++ and other compilers also give you warnings for more coding errors when you use -Wall.  There are also  tools for detecting use of uninitialized memory at run time.  In a non trivial example, I would expect your unconstructed object to have contents copied by the copy constructor (when you pass by value).  Even if those contents ultimately don&#39;t matter, the copy action will still be detected as use of uninitialized memory."}], "tags": [], "owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "is_accepted": true, "score": 2, "last_activity_date": 1436382110, "last_edit_date": 1436382110, "creation_date": 1436380508, "answer_id": 31300943, "question_id": 31300802, "link": "https://stackoverflow.com/questions/31300802/why-unconstructed-object-can-be-passed-to-base-class-constructor-in-derived-init/31300943#31300943", "title": "Why unconstructed object can be passed to base class constructor in derived initialization list", "body": "<p>In practice, your object d contains garbage.</p>\n\n<p>When you pass d (by value), you are implicitly calling the copy constructor for Dog, and making a new object of type Dog by executing the copy constructor on a garbage object of type Dog.</p>\n\n<p>So your question is really: why does the implicit copy constructor of Dog not care that the source object was never constructed.</p>\n\n<p>Since the object doesn't even have any contents, it would be quite a lot of wasted effort for the compiler to make the copy constructor care anything about its source.</p>\n\n<p>I don't know exactly how much of that is undefined behavior (happens to work because implementations are sane) vs. things you may be permitted to do with an unconstructed object.</p>\n\n<p>Consider this version of Dog:</p>\n\n<pre><code>class Dog {\n    public:\n        Dog() {cout &lt;&lt; \"\\n In Dog\";}\n        Dog(Dog const&amp; source) { cout &lt;&lt; \"\\n Trying to copy a Dog\\n\"; source.dfoo();}\n        virtual void dfoo() const {cout &lt;&lt; \"\\n In dfoo\";};\n};\n</code></pre>\n\n<p>Now your use of it crashes the way you might have expected (as a result of the source of the copy constructor never having been constructed itself).</p>\n\n<p>Your call to the copy constructor of Dog is hidden inside the action of passing by value to the constructor of Foo.  Notice it happens before the constructor of Foo is actually reached.  That copy construction of Dog (with all its benefits and/or problems) occurs with or without the explicit definition of a copy constructor for Dog.  If you don't define it, the compiler defines it for you.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436380923, "post_id": 31301027, "comment_id": 50592259, "body": "Output with your change is: ` In dfoo, v1: 0 `"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436381105, "post_id": 31301027, "comment_id": 50592392, "body": "@DKR, unfortunately, that&#39;s the nature of undefined behavior. You might see seemingly sane result with one compiler and one setting but that will change with a different compiler and/or different compiler setting."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1436391328, "post_id": 31301027, "comment_id": 50598153, "body": "If you build it in debug mode, your compiler may initialize all member variables to some default value (e.g., <code>0</code>). Try this in release mode."}, {"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1436420396, "post_id": 31301027, "comment_id": 50606636, "body": "@Steve, yes, in release mode the value is garbage."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436454141, "post_id": 31301027, "comment_id": 50629503, "body": "@DKR, I am happy to hear that you were able to verify the UB nature of the code."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1436380747, "creation_date": 1436380747, "answer_id": 31301027, "question_id": 31300802, "link": "https://stackoverflow.com/questions/31300802/why-unconstructed-object-can-be-passed-to-base-class-constructor-in-derived-init/31301027#31301027", "title": "Why unconstructed object can be passed to base class constructor in derived initialization list", "body": "<p>In theory, your code is subject to undefined behavior.</p>\n\n<p>You are passing an uninitialized <code>d</code> to <code>Foo::Foo()</code>. You are not seeing any problems since <code>Dog</code> does not have any member variables and <code>Dog::dfoo()</code> does not depend on the value of any member variables.</p>\n\n<p>If you add a member variable to <code>Dog</code> and use that member variable in <code>Dog::dfoo()</code>, you might see strange output:</p>\n\n<pre><code>class Dog {\n    int v1;\n    public:\n        Dog() {cout &lt;&lt; \"\\n In Dog\";}\n        void dfoo(){cout &lt;&lt; \"\\n In dfoo, v1: \" &lt;&lt; v1 &lt;&lt; endl;};\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436420367, "post_id": 31301838, "comment_id": 50606627, "body": "I expected some kind of error for 1) passing uninitialized object 2) using that object."}, {"owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "edited": false, "score": 0, "creation_date": 1436524975, "post_id": 31301838, "comment_id": 50661607, "body": "<code>@Lightness Races in Orbit</code> Well, not really, some of them are already fulfilled in the link I mentioned :)"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1436383353, "creation_date": 1436383353, "answer_id": 31301838, "question_id": 31300802, "link": "https://stackoverflow.com/questions/31300802/why-unconstructed-object-can-be-passed-to-base-class-constructor-in-derived-init/31301838#31301838", "title": "Why unconstructed object can be passed to base class constructor in derived initialization list", "body": "<p>It <em>is</em> junk.</p>\n\n<p>Not sure what visible symptoms you expected from this, though. For one, <code>Dog</code> has no data members.</p>\n"}], "owner": {"reputation": 53, "user_id": 4478165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M79YThczFz0/AAAAAAAAAAI/AAAAAAAAAAA/KkYnHLeZsnw/photo.jpg?sz=128", "display_name": "DKR", "link": "https://stackoverflow.com/users/4478165/dkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 31300943, "answer_count": 4, "score": 1, "last_activity_date": 1441178638, "creation_date": 1436380177, "last_edit_date": 1441178638, "question_id": 31300802, "link": "https://stackoverflow.com/questions/31300802/why-unconstructed-object-can-be-passed-to-base-class-constructor-in-derived-init", "title": "Why unconstructed object can be passed to base class constructor in derived initialization list", "body": "<p>I have a class hierarchy, where, in derived class, an object of Dog class is declared. Then, that object is supplied to base class in the initialization list.</p>\n\n<p>Since Dog class object is not constructed before base class constructor is called, so that object should not be of any use. But, I see that, that object can be used in following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Dog {\n    public:\n        Dog() {cout &lt;&lt; \"\\n In Dog\";}\n        void dfoo(){cout &lt;&lt; \"\\n In dfoo\";};\n};\n\nclass Foo {\n    public:\n        Foo(Dog d){cout &lt;&lt; \"\\n In Foo\"; \n        d.dfoo();\n    }\n};\n\nclass Bar : public Foo {\n    Dog d;\n    public:\n        Bar() : Foo(d) {\n            cout &lt;&lt; \"\\n In Bar\";\n        }\n};\n\nint main() {\n    cout &lt;&lt; \"\\nHello\";\n    Bar b;\n\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<p><code>Hello\n     In Foo\n     In dfoo\n     In Dog\n     In Bar\n</code>\nThe output shows that dfoo() was called even before Dog object was constructed. How is this working like this? Should not 'd' be junk as this is not initialized before Base constructor is called?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1436379880, "post_id": 31300635, "comment_id": 50591628, "body": "The virtual table is shared, the pointer to the table is per object. If you&#39;re wondering why, I&#39;m pretty sure that question has already been discussed on this site"}, {"owner": {"reputation": 14111, "user_id": 1126943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeuHw.png?s=128&g=1", "display_name": "zch", "link": "https://stackoverflow.com/users/1126943/zch"}, "edited": false, "score": 1, "creation_date": 1436379936, "post_id": 31300635, "comment_id": 50591670, "body": "In typical implementations it is per class, but it is an implementation detail, so it is not required by standards."}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1436380029, "post_id": 31300635, "comment_id": 50591732, "body": "<a href=\"http://stackoverflow.com/questions/25463790/why-cant-the-virtual-function-table-pointer-vfptr-be-static-in-c\" title=\"why cant the virtual function table pointer vfptr be static in c\">stackoverflow.com/questions/25463790/&hellip;</a> Not 100% duplicate, but still relevant"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1436380101, "post_id": 31300635, "comment_id": 50591786, "body": "Having virtual inheritance should complicate it."}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 0, "creation_date": 1436380965, "post_id": 31300635, "comment_id": 50592294, "body": "@DieterL&#252;cking Having virtual inheritance still produces exactly one virtual table per class, not per object!"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436382531, "post_id": 31300739, "comment_id": 50593295, "body": "<i>&quot;throw away your C++ and think how it would be implemented in C&quot;</i> what"}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436383094, "post_id": 31300739, "comment_id": 50593632, "body": "the virtual table and member functions"}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1577102663, "post_id": 31300739, "comment_id": 105091277, "body": "who ever down voted this answer: You are not right! OO Makes absolutely no sense, if you define a virtual table per instance."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1577103405, "post_id": 31300739, "comment_id": 105091596, "body": "They probably downvoted it because of the &quot;a virtual pointer is nothing&quot; nonsense, and the unnecessary C allegory. Thinking about implementation details, particularly invented ones, is not useful in C++. C++ is an abstraction. Think about it in abstract terms."}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1585575790, "post_id": 31300739, "comment_id": 107800537, "body": "The term virtual pointer is a very bad one. It is misleading and there is no concept that implements such a thing. From the comments below: __vptr  does NOT mean virtual pointer but pointer to the virtual table. The pointer to the virtual table can be seen when you implement class logic with plain ansi C, as the C++ compiler hides this from the programmer. There is no C++ or any other subdialect (C#, Objective-C) that implements virtual functions other than shown in the C Code above. If you find some implementation that does not match the scheme of the code above, I will fix the answer."}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1585576142, "post_id": 31300739, "comment_id": 107800739, "body": "BTW: Read the original and great book from those who invented the C language: The C Programming Language -- Kerninghan &amp; Richie where you can already read about object oriented concepts such as virtual functions and templates, that already existed when the object oriented C Dialects didn&#39;t existed. Read old source code of the X server and Motif to see OO concepts in productive use before C++ where born. The first implementations of Objective C where implemented as simple preprocessor macros."}], "tags": [], "owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "is_accepted": false, "score": 3, "last_activity_date": 1436383229, "last_edit_date": 1495540000, "creation_date": 1436379989, "answer_id": 31300739, "question_id": 31300635, "link": "https://stackoverflow.com/questions/31300635/is-virtual-table-per-object-or-per-class/31300739#31300739", "title": "Is virtual table per object or per class?", "body": "<p>Yes exactly. A virtual table is per class, it would make no sense otherwise. A virtual pointer is nothing. Don't use this term!</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4658627/virtual-pointer\">Virtual Pointer</a></p>\n\n<p>Just throw away your C++ and think how it would be implemented in C:</p>\n\n<pre><code>typedef VirtualFunctionsOfAClass AClassesVTable\nstruct AClass {\n    some_data\n    AClassesVTable *vptr;\n};\nstruct VirtualFunctionsOfAClass {\n     int(*someFunc1)(struct AClass* _This, int a);\n     int(*anotherFunc1)(struct AClass* _This, int a);\n};\n\nstatic AClassesVTable vtableOfClassA = {func1, func2};\n\nstruct AClass* constructAClass() {\n    AClass* ac=malloc(sizeof(AClass));\n    ac-&gt;vptr = &amp;vtableOfClassA;\n    return ac;\n}\n\nvoid aNonVirtualMemberFunctionOfClassA(AClass* _This, more arguments)\n{\n     return; /* just a dummy */\n}\n</code></pre>\n\n<p>And yes: With plain C you can assign function pointers to each object. But that's not the same as virtual functions in C++.</p>\n"}, {"comments": [{"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 0, "creation_date": 1436380370, "post_id": 31300767, "comment_id": 50591927, "body": "The term virtual pointer makes no sense. The _vptr is a pointer into the virtual table. Of course each object needs a reference into the virtual table of the class. So each object with a virtual table needs a pointer into the virtual table of the class. But it points to the same virtual table for each object of the class. So a virtual pointer is nothing and the _vptr has surely same value for each object of a class!"}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "reply_to_user": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 1, "creation_date": 1436380556, "post_id": 31300767, "comment_id": 50592026, "body": "@ikrabbe Is _vptr a standard term? Otherwise, &quot;virtual table pointer&quot;  or &quot;vtable pointer&quot; is probably a better term"}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 0, "creation_date": 1436380672, "post_id": 31300767, "comment_id": 50592089, "body": "I just used it from the link. And yes: virtual pointer says nothing. Its the vtable or virtual table pointer, or even the &quot;pointer into the virtual table&quot;. As I say: The term virtual pointer is &quot;)(&#167;&quot;$/%=). Btw. See the link in my answer about Virtual Pointers!"}, {"owner": {"reputation": 22053, "user_id": 19404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/180eea9fb31f162096da95e7a8c744cf?s=128&d=identicon&r=PG", "display_name": "Gerald", "link": "https://stackoverflow.com/users/19404/gerald"}, "edited": false, "score": 6, "creation_date": 1436381336, "post_id": 31300767, "comment_id": 50592545, "body": "So much pedantry on this site sometimes :) vptr is a pretty standard written term, and a lot of people use the term &quot;Virtual Pointer&quot; in reference to it. &quot;Virtual pointer&quot; makes as much sense as &quot;virtual table&quot; (the table isn&#39;t virtual, it&#39;s more technically known as a virtual method table or a dispatch table), and at the end of the day most programmers are smart enough to know what you&#39;re talking about from the context."}], "tags": [], "owner": {"reputation": 9851, "user_id": 1356110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/har6o.jpg?s=128&g=1", "display_name": "Ashot", "link": "https://stackoverflow.com/users/1356110/ashot"}, "is_accepted": false, "score": 2, "last_activity_date": 1436380060, "creation_date": 1436380060, "answer_id": 31300767, "question_id": 31300635, "link": "https://stackoverflow.com/questions/31300635/is-virtual-table-per-object-or-per-class/31300767#31300767", "title": "Is virtual table per object or per class?", "body": "<p>Virtual table is per class. Virtual pointer is per object. See here <a href=\"http://www.go4expert.com/articles/virtual-table-vptr-t16544/\" rel=\"nofollow\">http://www.go4expert.com/articles/virtual-table-vptr-t16544/</a></p>\n"}, {"comments": [{"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 0, "creation_date": 1577102528, "post_id": 31300819, "comment_id": 105091203, "body": "no it is not! The virtual table is always per class. There might be implementations, that carry a virtual table per object, but, if you modify the virtual table of an instance, you are changing the class of that instance. You cannot say that an instance belongs to a class, when you change the behavior of the instance as the behavior of the instance defines the class."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 1, "creation_date": 1577103327, "post_id": 31300819, "comment_id": 105091563, "body": "@ikrabbe This answer says <i>&quot;it is typically a static vtable per class, and each instance has a vptr to the vtable for the class&quot;</i>. That is true, and it also seems to be what you&#39;re claiming. In fact, you <i>gave an example of it</i> in your own answer. So, what is the problem?"}, {"owner": {"reputation": 1791, "user_id": 5022759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hg0HA.png?s=128&g=1", "display_name": "ikrabbe", "link": "https://stackoverflow.com/users/5022759/ikrabbe"}, "edited": false, "score": 0, "creation_date": 1585579803, "post_id": 31300819, "comment_id": 107802987, "body": "The problem is that the term virtual pointer seems to exist in the same domain as virtual tables, but the virtual pointer, which actually is a pointer to the virtual table, is an implementation detail, while virtual function tables are part of the calculus that led towards object oriented programming. The term is confusing. Actually if you count different virtual pointers in a program, you count the different classes that your program uses."}], "tags": [], "owner": {"reputation": 22053, "user_id": 19404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/180eea9fb31f162096da95e7a8c744cf?s=128&d=identicon&r=PG", "display_name": "Gerald", "link": "https://stackoverflow.com/users/19404/gerald"}, "is_accepted": true, "score": 13, "last_activity_date": 1436381632, "last_edit_date": 1436381632, "creation_date": 1436380223, "answer_id": 31300819, "question_id": 31300635, "link": "https://stackoverflow.com/questions/31300635/is-virtual-table-per-object-or-per-class/31300819#31300819", "title": "Is virtual table per object or per class?", "body": "<p>It is implementation defined, but it is typically a static vtable per class, and each instance has a vptr to the vtable for the class. The reason each instance needs the pointer is because the compiler may not know at compile time which concrete implementation a particular variable is going to be, so a pointer to the relevant vtable has to be deterministically accessible from the reference. Hence the whole point of having a vtable :)</p>\n"}], "owner": {"reputation": 3954, "user_id": 3137388, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/98f780bca09821cbd63d84b8d6e028df?s=128&d=identicon&r=PG&f=1", "display_name": "kadina", "link": "https://stackoverflow.com/users/3137388/kadina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4783, "favorite_count": 2, "closed_date": 1436381144, "accepted_answer_id": 31300819, "answer_count": 3, "score": 6, "last_activity_date": 1436383229, "creation_date": 1436379669, "question_id": 31300635, "link": "https://stackoverflow.com/questions/31300635/is-virtual-table-per-object-or-per-class", "closed_reason": "Duplicate", "title": "Is virtual table per object or per class?", "body": "<p>Can any one please let me know whether the virtual table and virtual pointer is per class or per object? If they are per object, why can't they be shared between the objects of same class instead of maintaining a copy per object?</p>\n"}, {"tags": ["c++", "c", "regex", "c++11"], "comments": [{"owner": {"reputation": 127623, "user_id": 2173917, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4dwoM.jpg?s=128&g=1", "display_name": "Sourav Ghosh", "link": "https://stackoverflow.com/users/2173917/sourav-ghosh"}, "edited": false, "score": 0, "creation_date": 1436379558, "post_id": 31300577, "comment_id": 50591440, "body": "<b>i just want to use regex ...</b> then why&#39;d tag <code>C</code>, <code>C++</code>?"}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1436561037, "post_id": 31300577, "comment_id": 50683059, "body": "I englishified it while trying to extract the OP&#39;s intention. If my translation is fair, than the question makes less sense than before. If my translation is poor, I&#39;ve made the question less comprehensible."}], "answers": [{"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1436380018, "post_id": 31300719, "comment_id": 50591722, "body": "<code>((?:.|\\n)*?)</code> is bad and inefficient. Use <code>[\\s\\S]</code>. Here, I think all is needed is a negated class <code>[^}]</code>."}, {"owner": {"reputation": 1160, "user_id": 4635642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51496675704d0fed476c58e1621068e?s=128&d=identicon&r=PG&f=1", "display_name": "Andris Leduskrasts", "link": "https://stackoverflow.com/users/4635642/andris-leduskrasts"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1436380583, "post_id": 31300719, "comment_id": 50592041, "body": "@stribizhev You&#39;re right, was stuck on that to show &quot;include newlines&quot; idea."}], "tags": [], "owner": {"reputation": 1160, "user_id": 4635642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51496675704d0fed476c58e1621068e?s=128&d=identicon&r=PG&f=1", "display_name": "Andris Leduskrasts", "link": "https://stackoverflow.com/users/4635642/andris-leduskrasts"}, "is_accepted": true, "score": 0, "last_activity_date": 1436381435, "last_edit_date": 1436381435, "creation_date": 1436379933, "answer_id": 31300719, "question_id": 31300577, "link": "https://stackoverflow.com/questions/31300577/how-do-i-capture-multiple-lines-with-regexp/31300719#31300719", "title": "How do I capture multiple lines with regexp?", "body": "<p>Firstly, add <code>?</code> after your quantifier <code>*</code>, or it may also match items between two results. <code>{anything} bla bla bla {somethingelse}</code> might match <code>anything} bla bla bla {somethingelse</code> Alternatively, use <code>[^}]</code> instead of your wildcard <code>.</code></p>\n\n<p>Speaking of witch, the wildcard <code>.</code> <strong>does not</strong> contain newlines. Use <code>[^}]</code> instead, to also include newlines.</p>\n\n<p><code>program{([^}]*?)}</code> should do nicely.</p>\n"}], "owner": {"reputation": 107, "user_id": 5094883, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/484be6b4bf01eb180d49900e672eb51c?s=128&d=identicon&r=PG&f=1", "display_name": "MyJustWorking", "link": "https://stackoverflow.com/users/5094883/myjustworking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 31300719, "answer_count": 1, "score": 0, "last_activity_date": 1436561037, "creation_date": 1436379502, "last_edit_date": 1436561037, "question_id": 31300577, "link": "https://stackoverflow.com/questions/31300577/how-do-i-capture-multiple-lines-with-regexp", "title": "How do I capture multiple lines with regexp?", "body": "<p>This is my input string:</p>\n\n<pre><code>string MyS = \"program{anything}\";\n</code></pre>\n\n<p>I want to match everything within parenthesis so I used this regex:</p>\n\n<pre><code>regex MyR(\"program{(.*)}\");\n</code></pre>\n\n<p>matches was (what i need) =</p>\n\n<pre><code>program{anything}\nanything\n</code></pre>\n\n<p>it is true but when i change my string to </p>\n\n<pre><code>string Mys = \"program{\nanything line1\nanything line2\n}\";\n</code></pre>\n\n<p>with this regex I don't get what I hope for:</p>\n\n<pre><code>anything line1\nanything line2\n</code></pre>\n\n<p>That is, I want to capture everything in all lines.</p>\n\n<p>What regex should I use to get all of the things in <code>{}</code> in one matches element?</p>\n"}, {"tags": ["c++", "visual-studio", "fstream"], "comments": [{"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "edited": false, "score": 0, "creation_date": 1436379450, "post_id": 31300500, "comment_id": 50591379, "body": "<code>myfile &gt;&gt; file_bal;</code> ? or ` myfile &lt;&lt; file_bal;`"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4055507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/we00V.png?s=128&g=1", "display_name": "joe.veiga", "link": "https://stackoverflow.com/users/4055507/joe-veiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1436382155, "creation_date": 1436382155, "answer_id": 31301485, "question_id": 31300500, "link": "https://stackoverflow.com/questions/31300500/need-help-reading-from-a-data-file-into-different-variable-types-in-c/31301485#31301485", "title": "Need help reading from a data file into different variable types in C++", "body": "<pre><code>ifstream myfile(menu_file);\n\nif (myfile.is_open())\n{\n    double file_bal;\n    myfile &gt;&gt; file_bal;\n    cout &lt;&lt; \"I HAVE READ IN THE BALANCE FROM THE FILE!\\n\";\n\n    while(!myfile.eof())\n    {\n        string file_carName;\n        getline(myfile, file_carName);\n\n        string file_carColor;\n        getline(myfile, file_carColor);\n\n        double file_carPrice;\n        myfile &gt;&gt; file_carPrice);\n\n        Car c(file_carName, file_carColor, file_carPrice);\n        addCar(list, c);\n    }\n}        \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5095258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35212a2be3c11ba3201b00ca781ae060?s=128&d=identicon&r=PG&f=1", "display_name": "tanman", "link": "https://stackoverflow.com/users/5095258/tanman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1436382155, "creation_date": 1436379235, "question_id": 31300500, "link": "https://stackoverflow.com/questions/31300500/need-help-reading-from-a-data-file-into-different-variable-types-in-c", "title": "Need help reading from a data file into different variable types in C++", "body": "<p>Okay so I've been having a lot of trouble with my code as it does not work.\nI am trying to read from a data file like this\n//example of a data file I'd be attempting to read from - comments aren't part //of the file\n9569.99 //a double that only occurs once in the file</p>\n\n<p>Yukon //string- Name of car (1)</p>\n\n<p>red //string- color of car (2)</p>\n\n<p>400 //double- price of car (3)</p>\n\n<p>Huehue // (1)</p>\n\n<p>hehe // (2)</p>\n\n<p>60 // (3)\n//end of file</p>\n\n<p>This is how I am attempting to read through it and it is not working in the slightest. How might I change this code so that it might actually work as intended? Thanks!</p>\n\n<pre><code>ifstream myfile(menu_file);\n\n    double file_bal;\n    string file_carName;\n    string file_carColor;\n    double file_carPrice;\n\n    if (myfile.is_open())\n    {\n        myfile &gt;&gt; file_bal;\n        cout &lt;&lt; \"I HAVE READ IN THE BALANCE FROM THE FILE!\\n\";\n        bal = file_bal;\n        //\n        string line;\n        int x = 1;\n        while (getline(myfile, line))\n        {\n            istringstream ss(line);\n\n            if (x == 1)\n            {\n                ss &gt;&gt; file_carName;\n                x++;\n            }\n            if (x == 2)\n            {\n                ss &gt;&gt; file_carColor;\n                x++;\n            }\n            if (x == 3)\n            {\n                ss &gt;&gt; file_carPrice;\n                x++;\n            }\n            if (x == 4)\n            {\n                Car c(file_carName, file_carColor, file_carPrice);\n                addCar(list, c);\n                x = 0;\n            }\n\n\n        }\n</code></pre>\n"}, {"tags": ["c++", "smart-pointers", "c++14"], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 6, "last_activity_date": 1436381446, "last_edit_date": 1436381446, "creation_date": 1436379586, "answer_id": 31300610, "question_id": 31300483, "link": "https://stackoverflow.com/questions/31300483/return-stdunique-ptrt-from-factory-function-creating-fully-hidden-implementa/31300610#31300610", "title": "Return std::unique_ptr&lt;T&gt; from factory function creating fully hidden implementation of pure virtual interface", "body": "<ol>\n<li><p>The issue has to do with how deleters work in smart pointers.</p>\n\n<p>In <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"nofollow\"><code>shared_ptr</code></a>, the deleter is dynamic. When you have <code>std::make_shared&lt;const FooImp&gt;();</code>, the deleter in that object will call <code>~FooImpl()</code> directly:</p>\n\n<blockquote>\n  <p>The object is destroyed using delete-expression or a custom deleter that is supplied to shared_ptr <strong>during construction</strong>.</p>\n</blockquote>\n\n<p>That deleter will be copied onto the <code>shared_ptr&lt;const Foo&gt;</code> when it's created.</p>\n\n<p>In <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"nofollow\"><code>unique_ptr</code></a>, the deleter is <em>part of the type</em>. It's:</p>\n\n<pre><code>template&lt;\n    class T,\n    class Deleter = std::default_delete&lt;T&gt;\n&gt; class unique_ptr;\n</code></pre>\n\n<p>So when you have <code>unique_ptr&lt;const Foo&gt;</code>, that will call <code>~Foo()</code> directly - which is impossible since <code>~Foo()</code> is <code>protected</code>. That's why when you make <code>Foo()</code> public, it works. Works, as in, compiles. You would have to make it <code>virtual</code> too - otherwise you'd have undefined behavior by only destructing the <code>Foo</code> part of <code>FooImpl</code>.</p></li>\n<li><p>It's not dangerous. Unless you forget to make the destructor virtual, which, it bears repeating, will cause undefined behavior.</p></li>\n<li><p>This isn't really singleton-like. As to whether or not it's worth it? Primarily opinion based. </p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 3, "creation_date": 1436383063, "post_id": 31301588, "comment_id": 50593612, "body": "This won&#39;t work in the OP&#39;s case, as the unique pointer actually holds a pointer to derived, and the above will delete the base."}, {"owner": {"reputation": 1875, "user_id": 3013009, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91348889cd3bd1acd7a97e5105be5b15?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3013009/tom"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1436384336, "post_id": 31301588, "comment_id": 50594405, "body": "Ofcourse, I missed the non-virtual base destructor."}], "tags": [], "owner": {"reputation": 1875, "user_id": 3013009, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91348889cd3bd1acd7a97e5105be5b15?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3013009/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1436382506, "creation_date": 1436382506, "answer_id": 31301588, "question_id": 31300483, "link": "https://stackoverflow.com/questions/31300483/return-stdunique-ptrt-from-factory-function-creating-fully-hidden-implementa/31301588#31301588", "title": "Return std::unique_ptr&lt;T&gt; from factory function creating fully hidden implementation of pure virtual interface", "body": "<p>Based on Barry's answer an alternative to making it public is defining your own deleter which has access to your class' <code>~Foo()</code> method.</p>\n\n<p>Example (tried with VS2013):</p>\n\n<pre><code>template &lt;typename T&gt;\nclass deleter\n{\npublic:\n    void operator()(T* a)\n    {\n        // Explicitly call the destructor on a.\n        a-&gt;~A();\n    }\n};\n\nclass A {\n    friend class deleter&lt;A&gt;; // Grant access to the deleter.\nprotected:\n    ~A() {\n        // Destructor.\n    }\n};\n\nstd::unique_ptr&lt;A, deleter&lt;A&gt;&gt; MakeA()\n{\n    return std::unique_ptr&lt;A, deleter&lt;A&gt;&gt;(new A());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 3, "last_activity_date": 1436383813, "creation_date": 1436383813, "answer_id": 31301962, "question_id": 31300483, "link": "https://stackoverflow.com/questions/31300483/return-stdunique-ptrt-from-factory-function-creating-fully-hidden-implementa/31301962#31301962", "title": "Return std::unique_ptr&lt;T&gt; from factory function creating fully hidden implementation of pure virtual interface", "body": "<p>Every <code>shared_ptr</code> stores 4 things: a pointer, a strong reference count, a weak reference count, and a deleter.</p>\n\n<p>The deleter gets the type from which the <code>shared_ptr</code> was constructed from, and deletes <em>that</em> type, not the exposed type.  If you cast it to a base <code>shared_ptr</code>, the derived deleter is still stored.</p>\n\n<p><code>unique_ptr</code> does not, by default, store such a stateful deleter.</p>\n\n<p>The design reason behind this is that a <code>shared_ptr</code> is already managing extra resources: adding that deleter is cheap, given that you are already managing the reference counts.</p>\n\n<p>For <code>unique_ptr</code>, without a stateful deleter, the overhead for it is basically identical to a raw pointer.  Adding a stateful deleter by default would make <code>unique_ptr</code>s significantly more expensive.</p>\n\n<p>While they are both smart pointers, <code>unique_ptr</code> is really minimal, while <code>shared_ptr</code> is far more complex.</p>\n\n<p>You can get around this by appending a stateful deleter to <code>unique_ptr</code>.</p>\n\n<pre><code>struct stateful_delete {\n  void const* ptr = nullptr;\n  void(*f)(void const*) = nullptr;\n  template&lt;class T&gt;\n  stateful_delete(T const* t):\n    ptr(t),\n    f([](void const* ptr){\n      delete static_cast&lt;T const*&gt;(ptr);\n    })\n  {}\n  template&lt;class T&gt;\n  void operator()(T*)const{\n    if (f) f(ptr);\n  }\n};\n\ntemplate&lt;class T&gt;\nusing unique_ptr_2 = std::unique_ptr&lt;T, stateful_delete&gt;;\n\ntemplate&lt;class T&gt;\nunique_ptr_2&lt;T&gt; unique_wrap_2(T* t) {\n  return {t, t};\n}\ntemplate&lt;class T, class...Args&gt;\nunique_ptr_2&lt;T&gt; make_unique_2(Args&amp;&amp;...args) {\n  return unique_wrap( new T(std::forward&lt;Args&gt;(args)...) );\n}\n</code></pre>\n\n<p>such <code>unique_ptr_2</code> are 3 times as large as a <code>unique_ptr</code>.  They do not do an extra allocation (unlike <code>shared_ptr</code>).  And they will work with your non-virtual protected <code>~Foo</code> with a public <code>~FooImpl</code>.</p>\n\n<p>You could reduce the size of <code>unique_ptr_2</code> down to 2 pointers if we use the <code>make_shared</code> technique of doing a unified allocation, and store the equivalent of the <code>ptr</code> and <code>f</code> on the heap.  I'm uncertain if that complexity is worth the savings.</p>\n"}], "owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 1, "accepted_answer_id": 31300610, "answer_count": 3, "score": 4, "last_activity_date": 1436383813, "creation_date": 1436379193, "question_id": 31300483, "link": "https://stackoverflow.com/questions/31300483/return-stdunique-ptrt-from-factory-function-creating-fully-hidden-implementa", "title": "Return std::unique_ptr&lt;T&gt; from factory function creating fully hidden implementation of pure virtual interface", "body": "<p>I was reading the <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/smart_ptr/sp_techniques.html\" rel=\"nofollow\"><em>Smart Pointer Programming Techniques</em></a> provided in the boost documentation.</p>\n\n<p>In the Section \"<a href=\"http://www.boost.org/doc/libs/1_58_0/libs/smart_ptr/sp_techniques.html#abstract\" rel=\"nofollow\"><em>using abstract classes for implementation hiding</em></a>\", they provide a nice idiom to fully hide an implementation behind pure virtual interface. For example:</p>\n\n<pre><code>// Foo.hpp\n\n#include &lt;memory&gt;\n\nclass Foo {\n public:\n  virtual void Execute() const = 0;\n protected:\n  ~Foo() = default;\n};\n\nstd::shared_ptr&lt;const Foo&gt; MakeFoo();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>// Foo.cpp\n\n#include \"Foo.hpp\"\n#include &lt;iostream&gt;\n\nclass FooImp final\n    : public Foo {\npublic:\n  FooImp()                         = default;\n  FooImp(const FooImp&amp;)            = delete;\n  FooImp&amp; operator=(const FooImp&amp;) = delete;\n  void Execute() const override {\n    std::cout &lt;&lt; \"Foo::Execute()\" &lt;&lt; std::endl;\n  }\n};\n\nstd::shared_ptr&lt;const Foo&gt; MakeFoo() {\n  return std::make_shared&lt;const FooImp&gt;();\n}\n</code></pre>\n\n<p>Regarding the protected, non-virtual destructor in <code>class Foo</code>, the document states:</p>\n\n<blockquote>\n  <p>Note the protected and nonvirtual destructor in the example above. The\n  client code cannot, and does not need to, delete a pointer to <code>X</code>; the\n  <code>shared_ptr&lt;X&gt;</code> instance returned from <code>createX</code> will correctly call\n  <code>~X_impl</code>.</p>\n</blockquote>\n\n<p>which I believe I understand.</p>\n\n<p>Now, it seems to me that this nice idiom could be used to produce a singleton-like entity if a factory function returned <code>std::unique_ptr&lt;Foo&gt;</code>; the user would be forced to <code>move</code> the pointer, with a compile-time guarantee that no copies exist.</p>\n\n<p>But, alas, I cannot make the code work unless I change <code>~Foo() = default</code> from <code>protected</code> to <code>public</code>, and I do not understand why.</p>\n\n<p>In other words, this does not work:</p>\n\n<pre><code>std::unique_ptr&lt;const Foo&gt; MakeUniqueFoo() {\n    return std::make_unique&lt;const FooImp&gt;();\n}\n</code></pre>\n\n<p>My questions:</p>\n\n<ol>\n<li>Could you explain me why do I need to make <code>public</code> <code>~Foo() = default</code>?</li>\n<li>Would it be dangerous to just remove <code>protected</code>?</li>\n<li>Is the singleton-like idea even worth it?</li>\n</ol>\n"}, {"tags": ["c++", "mingw", "wxwidgets"], "answers": [{"tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": false, "score": 3, "last_activity_date": 1436388199, "creation_date": 1436388199, "answer_id": 31303315, "question_id": 31300449, "link": "https://stackoverflow.com/questions/31300449/compile-and-link-wxgraphiccontext-with-mingw/31303315#31303315", "title": "Compile and link wxGraphicContext with MingW", "body": "<p>The instruction you use are wrong, you also need to edit <code>include/wx/mse/setup.h</code> to set <code>wxUSE_GRAPHICS_CONTEXT</code> to 1 before building.</p>\n\n<p>They are also out of date (which is more understandable, considering that they're almost 6 years old) and you just need to use a recent MinGW-w64 or TDM-GCC distribution to get GDI+ headers and libraries, there is no need to manually copy anything.</p>\n"}], "owner": {"reputation": 221, "user_id": 4819590, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e2962b8b1bd22247e819a248e4e0e8c6?s=128&d=identicon&r=PG&f=1", "display_name": "Neet33", "link": "https://stackoverflow.com/users/4819590/neet33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436388199, "creation_date": 1436379115, "question_id": 31300449, "link": "https://stackoverflow.com/questions/31300449/compile-and-link-wxgraphiccontext-with-mingw", "title": "Compile and link wxGraphicContext with MingW", "body": "<p>This is how I compiled GDI+ with wxWidgets</p>\n\n<pre><code>mingw32-make -f makefile.gcc USE_XRC=1 SHARED=1 MONOLITHIC=1 BUILD=release UNICODE=1 USE_GDIPLUS=1\n</code></pre>\n\n<p>using those instructions</p>\n\n<pre><code>http://www.miscdebris.net/blog/2009/09/17/adding-gdi-headers-to-mingw-to-compile-wxwidgets-with-wxgraphicscontext-support/\n</code></pre>\n\n<p>When I'm trying to compile the application I get this error</p>\n\n<pre><code>undefined reference to `wxGraphicsContext::Create(wxWindowDC const&amp;)\nundefined reference to `wxGraphicsContext::SetBrush(wxBrush const&amp;)\n</code></pre>\n\n<p>I'm using code blocks on windows as my IDE.</p>\n\n<p>I've been told I need to link against an instance of the wxWidgets library that was compiled with the same flags.</p>\n\n<p>I can't figure out how should I do that,\nThanks for your help.</p>\n"}, {"tags": ["c++", "class", "include"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1436379688, "post_id": 31300368, "comment_id": 50591521, "body": "<a href=\"http://stackoverflow.com/questions/4926105/what-is-forward-declaration-in-c\" title=\"what is forward declaration in c\">stackoverflow.com/questions/4926105/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1436379421, "last_edit_date": 1436379421, "creation_date": 1436379111, "answer_id": 31300446, "question_id": 31300368, "link": "https://stackoverflow.com/questions/31300368/what-is-a-forward-declaration/31300446#31300446", "title": "What is a forward declaration", "body": "<p>This line</p>\n\n<pre><code>class QToolButton;\n</code></pre>\n\n<p>declares class <code>QToolButton</code> in the current (it seems global) namespace without definition of the class itself. That is this declaration introduces type <code>class QToolButton</code>in the scope. This class is used in the definition of class <code>EnchancedLineEdit</code></p>\n\n<pre><code>private:\n    QToolButton *clearBtn;\n</code></pre>\n\n<p>In fact it is enough to have line</p>\n\n<pre><code>private:\n    class QToolButton *clearBtn;\n    ^^^^^\n</code></pre>\n\n<p>because it also declares class <code>QToolButton</code> in the current namespace.</p>\n\n<p>These specifications</p>\n\n<pre><code>class QToolButton;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class QToolButton\n</code></pre>\n\n<p>that might be used in this declaration <code>class QToolButton *clearBtn;</code> are called elaborated type names.</p>\n\n<p>In the code snippet you showed the data member declaration</p>\n\n<pre><code>QToolButton *clearBtn;\n</code></pre>\n\n<p>does not require that type <code>QToolButton</code> would be complete until you will access members of <code>class QToolButton</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 3381057, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d1d8f93dea0f2f7a0a019cbdf811e10?s=128&d=identicon&r=PG&f=1", "display_name": "Evan B", "link": "https://stackoverflow.com/users/3381057/evan-b"}, "edited": false, "score": 0, "creation_date": 1436387377, "post_id": 31300525, "comment_id": 50596186, "body": "So is it kind of like a function prototype?"}, {"owner": {"reputation": 5978, "user_id": 231717, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/90bd57ca46c78c121d8da926463f7474?s=128&d=identicon&r=PG", "display_name": "smerlin", "link": "https://stackoverflow.com/users/231717/smerlin"}, "reply_to_user": {"reputation": 73, "user_id": 3381057, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d1d8f93dea0f2f7a0a019cbdf811e10?s=128&d=identicon&r=PG&f=1", "display_name": "Evan B", "link": "https://stackoverflow.com/users/3381057/evan-b"}, "edited": false, "score": 0, "creation_date": 1436438695, "post_id": 31300525, "comment_id": 50617915, "body": "@rample: yes the concept is comparable. A function prototype is basically a forward declaration of a function."}], "tags": [], "owner": {"reputation": 5978, "user_id": 231717, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/90bd57ca46c78c121d8da926463f7474?s=128&d=identicon&r=PG", "display_name": "smerlin", "link": "https://stackoverflow.com/users/231717/smerlin"}, "is_accepted": true, "score": 2, "last_activity_date": 1436438522, "last_edit_date": 1436438522, "creation_date": 1436379320, "answer_id": 31300525, "question_id": 31300368, "link": "https://stackoverflow.com/questions/31300368/what-is-a-forward-declaration/31300525#31300525", "title": "What is a forward declaration", "body": "<p>That is a <strong>forward declaration</strong> of the class <code>QToolButton</code> (if you google <em>forward declaration c++</em> you will find plenty of good search results regarding this topic)</p>\n\n<p>This allows the usage of the class <code>QToolButton</code> for pointers and references, as long the members of <code>QToolButton</code> are not accessed in that particular Header file.</p>\n\n<p>The purpose of forward declarations is to speed up compilation. If you dont use forward declarations, you would need to include the Header file of <code>QToolButton</code>.\nThis would mean, that every Source file which inclues the Header file of <code>EnhancedLineEdit</code> also indirectly includes the Header file of <code>QToolButton</code>, even if that class is not used in the Source file itself, which will slow down the compilation process.</p>\n\n<p>So only the source file of <code>EnhancedLineEdit</code> will need to include <code>&lt;QToolButton&gt;</code>. Source files which include the header file of <code>EnhancedLineEdit</code> wont need to do so, unless they want to make direct use of the class <code>QToolButton</code> themselves. Otherwise the forward declaration is sufficient to allow the usage of pointers to <code>QToolButton</code> in the header file of <code>EnhancedLineEdit</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 3381057, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d1d8f93dea0f2f7a0a019cbdf811e10?s=128&d=identicon&r=PG&f=1", "display_name": "Evan B", "link": "https://stackoverflow.com/users/3381057/evan-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 31300525, "answer_count": 2, "score": 1, "last_activity_date": 1436438522, "creation_date": 1436378857, "last_edit_date": 1436379407, "question_id": 31300368, "link": "https://stackoverflow.com/questions/31300368/what-is-a-forward-declaration", "title": "What is a forward declaration", "body": "<p>I don't understand what the line with the arrow is doing exactly. Is it including that class in this class?</p>\n\n<pre><code>#ifndef LINEEDIT_H\n#define LINEEDIT_H\n\n#include &lt;QLineEdit&gt;\n\nclass QToolButton; &lt;--------------------------------------\n\nclass EnchancedLineEdit : public QLineEdit\n{\n    Q_OBJECT\n\npublic:\n    EnchancedLineEdit(QWidget *parent = 0);\n    ~EnchancedLineEdit();\n\nprotected:\n  void resizeEvent(QResizeEvent *);\n\nprivate:\n    QToolButton *clearBtn;\n\nprivate slots:\n    void updateCloseButton(const QString &amp;text);\n};\n\n#endif // LINEEDIT_H\n</code></pre>\n"}, {"tags": ["c++", "gcc", "compiler-errors", "g++", "gnu"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1436378783, "post_id": 31300231, "comment_id": 50590979, "body": "<code>interrupt</code> is not a <a href=\"http://en.cppreference.com/w/cpp/keyword\" rel=\"nofollow noreferrer\">C++ keyword</a>, I think it must have been a compiler-specific extension."}, {"owner": {"reputation": 1, "user_id": 5095200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6d1f0b084f3f0775e2d190bcd7bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Scott", "link": "https://stackoverflow.com/users/5095200/jason-scott"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1436378842, "post_id": 31300231, "comment_id": 50591017, "body": "solution: friend __attribute__((interrupt)) void IrqCtmMCSM2(void);"}], "owner": {"reputation": 1, "user_id": 5095200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d6d1f0b084f3f0775e2d190bcd7bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Scott", "link": "https://stackoverflow.com/users/5095200/jason-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436378383, "creation_date": 1436378383, "question_id": 31300231, "link": "https://stackoverflow.com/questions/31300231/c-gnu-gcc-compiler-error", "title": "C++ gnu gcc compiler error", "body": "<p>I am currently in the process of switching compilers.</p>\n\n<p>From microtech to GNU GCC/G++ coldfire..</p>\n\n<p>I keep receiving the following error and can not find a simple solution:</p>\n\n<p>warning: ANSI C++ forbids declaration `interrupt' with no type</p>\n\n<p>I know the line that it is failing on:</p>\n\n<p>friend interrupt void IrqCtmMCSM2(void);</p>\n\n<p>Could someone offer suggestions please?</p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["c++", "tree", "binary-tree"], "comments": [{"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 1, "creation_date": 1436378858, "post_id": 31300221, "comment_id": 50591027, "body": "Is there actually a function <code>size()</code> in <code>BTNode</code>? You haven&#39;t shown one; is it in the <code>..</code> part?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1438611"}, "reply_to_user": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 0, "creation_date": 1436378959, "post_id": 31300221, "comment_id": 50591091, "body": "No, how I understood the friendship was that I can invoke the tree&#39;s size() function on Node objects since the tree class is a friend of node."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1438611"}, "edited": false, "score": 0, "creation_date": 1436379461, "post_id": 31300427, "comment_id": 50591385, "body": "So this can&#39;t work without BST being a derived class of Node then?"}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 0, "creation_date": 1436380154, "post_id": 31300427, "comment_id": 50591820, "body": "@learnenburn I added what I believe is a solution which does not introduce any such inheritance."}], "tags": [], "owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "is_accepted": true, "score": 2, "last_activity_date": 1436380131, "last_edit_date": 1436380131, "creation_date": 1436379053, "answer_id": 31300427, "question_id": 31300221, "link": "https://stackoverflow.com/questions/31300221/function-of-class-y-is-not-a-member-of-x-but-class-x-is-a-friend-of-y/31300427#31300427", "title": "function of class Y is not a member of X, but class X is a friend of Y", "body": "<p>You misunderstand what <code>friend</code> declarations do. Saying that <code>A</code> is a friend of <code>B</code> means that <code>A</code> gains access to <code>protected</code> and <code>private</code> members of <code>B</code>. It allows <code>A</code> to call <code>private</code> functions of <code>B</code>, for example. It does not extend the interface of <code>A</code> or <code>B</code> in any way.</p>\n\n<p>If I understand correctly what you're trying to achieve, you should be able to do that by having <code>size</code> take a parameter:</p>\n\n<pre><code>template&lt;class I&gt;\nclass BST {\n    BTNode&lt;I&gt;* root_;\n    BTNode&lt;I&gt;* curr_;\n    BTNode&lt;I&gt;* parent_;\n\npublic:\n\n    size_t size() const {\n        return size_(root_);\n    }\n\nprivate:\n    static size_t size_(const BTNode&lt;I&gt; *node) {\n        if (node == NULL) {\n            return 0;\n        }\n        else {\n            return 1 + size_(node-&gt;getLeft()) + size_(node-&gt;getRight());\n        }\n    }\n\n...\n\n};\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1438611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 31300427, "answer_count": 1, "score": 0, "last_activity_date": 1436380131, "creation_date": 1436378357, "question_id": 31300221, "link": "https://stackoverflow.com/questions/31300221/function-of-class-y-is-not-a-member-of-x-but-class-x-is-a-friend-of-y", "title": "function of class Y is not a member of X, but class X is a friend of Y", "body": "<p>There is a similar question to this with the function being an operator overload with arguments and that is the main emphasis, which is only confusing me further.</p>\n\n<p>I am simply trying to execute a short recursive function on a tree class that gets called on non-empty Node objects in order to traverse down the tree's child nodes respectively.</p>\n\n<p>My class declarations are as such:</p>\n\n<pre><code>    template&lt;class T&gt;\n    class BTNode {\n        template&lt;class I&gt;\n        friend class BST;\n        T data;\n        BTNode&lt;T&gt;* left_;\n        BTNode&lt;T&gt;* right_;\n    ...\n    }\n\ntemplate&lt;class I&gt;\nclass BST {\n    BTNode&lt;I&gt;* root_;\n    BTNode&lt;I&gt;* curr_;\n    BTNode&lt;I&gt;* parent_;\n    int currSize = 0;\n\npublic:\n\n    size_t size() const {\n        if (root_ == NULL) {\n            return currSize;\n        }\n        else {\n            BTNode&lt;I&gt;* left_ = root_-&gt;getLeft();\n            BTNode&lt;I&gt;* right_ = root_-&gt;getRight();\n\n            if (left_ != NULL) \n                currSize += left_-&gt;size();\n            if (right_ != NULL) \n                currSize += right_-&gt;size();\n        }\n\n        return currSize;\n    }\n...\n};\n</code></pre>\n\n<p>The error as it stands is: </p>\n\n<pre><code>'size()': is not a member of 'BTNode&lt;I&gt;'\n</code></pre>\n\n<p>So far, I have tried make BTNode a friend class of BST, and the error still prevails (having both classes become friends of each other).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "c++", "aide-ide"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1436378438, "post_id": 31300213, "comment_id": 50590761, "body": "You can make a symbolic link"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436378531, "post_id": 31300213, "comment_id": 50590821, "body": "What exactly do you want to expand/match the wildcard expression <code>%or$</code> to? From you path format I suppose you&#39;re addressing unix like filesystem style only, or should that work for windows filesystem pathes as well?"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436378574, "post_id": 31300213, "comment_id": 50590850, "body": "What&#39;s a symbolic link it that the name of what I&#39;m trying to do?"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436378623, "post_id": 31300213, "comment_id": 50590875, "body": "Oh crap, I&#39;d like it to work on both and be cross platform?"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436378716, "post_id": 31300213, "comment_id": 50590927, "body": "I&#39;m working with aide on android but if its possible I&#39;d like to code things to be cross platform?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436378874, "post_id": 31300213, "comment_id": 50591042, "body": "@JasonLickliter Well, <a href=\"http://www.boost.org/doc/libs/1_41_0/libs/filesystem/doc/index.htm\" rel=\"nofollow noreferrer\"><code>boost::filesystem</code></a> provides some good cross platform approach to deal with file path expressions. Along with using <code>std::regex</code> or <code>boost::regex</code>, I could well imagine solutions to resolve to a final complete path."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1436378881, "post_id": 31300213, "comment_id": 50591045, "body": "Are you looking for environment variables (<a href=\"https://en.wikipedia.org/wiki/Environment_variable\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Environment_variable</a>)? You can read them using the <code>getenv()</code> function from within a C program."}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436378970, "post_id": 31300213, "comment_id": 50591098, "body": "I got a project on source forge and I don&#39;t want other developers having to change say 100 paths to get the program to run and then I&#39;ll have to change them back to run it."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1436379063, "post_id": 31300213, "comment_id": 50591157, "body": "@JasonLickliter: Use some constant expression. In C this can easily be achived on code level by <code>#define MYPATH &quot;&#47;my&#47;random&#47;path&#47;&quot;</code>. and then code <code>... = fopen(MYPATH&quot;gameFiles&#47;oscom.txt&quot;, ...</code>"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379229, "post_id": 31300213, "comment_id": 50591256, "body": "Ok I updated and edited the question to make it more clear. Sorry for that I don&#39;t want down votes this time."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1436379233, "post_id": 31300213, "comment_id": 50591259, "body": "Your edit seems to be worth another question."}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379268, "post_id": 31300213, "comment_id": 50591286, "body": "Ok I&#39;ll try that alk"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379327, "post_id": 31300213, "comment_id": 50591325, "body": "Oh great so I&#39;m getting down votes again."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1436379470, "post_id": 31300213, "comment_id": 50591390, "body": "It&#39;s not you being downvoted, but question."}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379484, "post_id": 31300213, "comment_id": 50591399, "body": "You know  \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 brings up a good point cause isn&#39;t windows paths back slashes and not forward slashes? C:\\windows\\directory? So that&#39;s a problem with this running on windows no matter what."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "edited": false, "score": 0, "creation_date": 1436379550, "post_id": 31300213, "comment_id": 50591436, "body": "Are you doing C or C++, btw?"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379620, "post_id": 31300213, "comment_id": 50591478, "body": "Well I&#39;m not really asking how to add a libaray. I&#39;d rather stick to standard c++"}, {"owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "edited": false, "score": 0, "creation_date": 1436379664, "post_id": 31300213, "comment_id": 50591503, "body": "C++ (I have to add more characters)"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436381855, "post_id": 31300213, "comment_id": 50592865, "body": "@JasonLickliter <code>boost</code> libraries are designed to be used in cross platform environments (they&#39;re even considered as <i>pre-standard</i> proposals sometimes). I don&#39;t have any specific experience with android and the aide-ide, but I think it should be possible to integrate it with your code."}], "answers": [{"comments": [{"owner": {"reputation": 2737, "user_id": 890537, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/W8eJ5.png?s=128&g=1", "display_name": "m02ph3u5", "link": "https://stackoverflow.com/users/890537/m02ph3u5"}, "edited": false, "score": 0, "creation_date": 1442583669, "post_id": 32653176, "comment_id": 53153547, "body": "You could add some examples to make your answer more valuable."}], "tags": [], "owner": {"reputation": 501, "user_id": 5349798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eea4b944c489813694d8ce3da3720e2?s=128&d=identicon&r=PG&f=1", "display_name": "renonsz", "link": "https://stackoverflow.com/users/5349798/renonsz"}, "is_accepted": false, "score": 0, "last_activity_date": 1442582657, "creation_date": 1442582657, "answer_id": 32653176, "question_id": 31300213, "link": "https://stackoverflow.com/questions/31300213/generic-path-for-files/32653176#32653176", "title": "generic path for files", "body": "<p>Use symlinks as Eugene has suggested or modify build scripts to generate user specific paths into binaries or spearate files at build time. These are ignored by version tracking, so no more double mills. Another way might be checking env variables at runtime.</p>\n"}], "owner": {"reputation": 31, "user_id": 5062635, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081071831920425/picture?type=large", "display_name": "Jason Lickliter", "link": "https://stackoverflow.com/users/5062635/jason-lickliter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1442582657, "creation_date": 1436378321, "last_edit_date": 1495542146, "question_id": 31300213, "link": "https://stackoverflow.com/questions/31300213/generic-path-for-files", "title": "generic path for files", "body": "<p>Im not sure what it is called but ill do my best to explain it. I did search here on stack exchange and found this answer for an allias for path but i dont want to set a variable for it and i already know that. <a href=\"https://stackoverflow.com/questions/29890426/create-alias-for-path\">create alias for path</a></p>\n\n<p>What I need is and its been along time since I seen it but its used with a % or $ or something that when the program runs from the directory it knows where the directory for the game files are. It didn't matter what the directory the program is in as long as the directory 'gameFiles' is in that directory it will work.</p>\n\n<p>Here's my path:</p>\n\n<pre><code>\"/storage/emulated/0/MyGame/MyHackGame/jni/gameFiles/oscom.txt\"\n</code></pre>\n\n<p>I think its something like:</p>\n\n<pre><code>\"%or$/gameFiles/oscom.txt\"\n</code></pre>\n\n<p>The main problem is I have a project on source forge and don't want my developers to have to change these paths like 100 times to run the program and then I'll have to change them back.</p>\n\n<p>Also iam using aide for android to make the program and using the standard c++ libaray do this might be difficult to do. I'm not even sure if I can add libarays with aide and native code or how to do it.</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1436378738, "post_id": 31300149, "comment_id": 50590945, "body": "<i>This</i> is how you are indenting your code? <i>Seriously???</i>"}], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1436378833, "post_id": 31300198, "comment_id": 50591008, "body": "Is inserting a null-terminator in the middle of an std::string a defined behavior?"}, {"owner": {"reputation": 137, "user_id": 4950013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/187eb1747d1d4a969d3d99ed2fa3c846?s=128&d=identicon&r=PG&f=1", "display_name": "user4950013", "link": "https://stackoverflow.com/users/4950013/user4950013"}, "edited": false, "score": 0, "creation_date": 1436378846, "post_id": 31300198, "comment_id": 50591018, "body": "@awesomryi no i am not trying to print only i am trying limit space upto 6 bytes only and even NULL won&#39;t work as terminator here"}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "reply_to_user": {"reputation": 137, "user_id": 4950013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/187eb1747d1d4a969d3d99ed2fa3c846?s=128&d=identicon&r=PG&f=1", "display_name": "user4950013", "link": "https://stackoverflow.com/users/4950013/user4950013"}, "edited": false, "score": 0, "creation_date": 1436379254, "post_id": 31300198, "comment_id": 50591273, "body": "@user4950013 Have you tried <code>cout &lt;&lt; temp.substr(0, 6) &lt;&lt; endl</code>?"}, {"owner": {"reputation": 6480, "user_id": 637801, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4d3579c42c83ae8dfa42f97dc57754e0?s=128&d=identicon&r=PG", "display_name": "IronMensan", "link": "https://stackoverflow.com/users/637801/ironmensan"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1436381189, "post_id": 31300198, "comment_id": 50592446, "body": "@KABoissonneault yes it is defined.  The null, along with all the characters after it are retained in the string."}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "reply_to_user": {"reputation": 6480, "user_id": 637801, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4d3579c42c83ae8dfa42f97dc57754e0?s=128&d=identicon&r=PG", "display_name": "IronMensan", "link": "https://stackoverflow.com/users/637801/ironmensan"}, "edited": false, "score": 0, "creation_date": 1436384303, "post_id": 31300198, "comment_id": 50594385, "body": "@IronMensan I was just wondering because of the O(1) complexity restriction for string::size(). That would mean implementations would be tempted to cache the size of the string, and messing with the string by inserting null-terminators might invalidate that cache"}, {"owner": {"reputation": 6480, "user_id": 637801, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4d3579c42c83ae8dfa42f97dc57754e0?s=128&d=identicon&r=PG", "display_name": "IronMensan", "link": "https://stackoverflow.com/users/637801/ironmensan"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1436390091, "post_id": 31300198, "comment_id": 50597579, "body": "@KABoissonneault most implementations do cache the length and inserting a null doesn&#39;t change that length.  Inside a <code>std::string</code> a null character is just another character, it doesn&#39;t get special treatment like with a <code>char *</code> string."}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "reply_to_user": {"reputation": 6480, "user_id": 637801, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4d3579c42c83ae8dfa42f97dc57754e0?s=128&d=identicon&r=PG", "display_name": "IronMensan", "link": "https://stackoverflow.com/users/637801/ironmensan"}, "edited": false, "score": 0, "creation_date": 1436443682, "post_id": 31300198, "comment_id": 50621250, "body": "@IronMensan Ah, right I forgot an <code>std::string</code> is only guaranteed to be null-terminated when you call <code>c_str</code> or <code>data</code>. Now I understand"}], "tags": [], "owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "is_accepted": false, "score": 0, "last_activity_date": 1436378258, "creation_date": 1436378258, "answer_id": 31300198, "question_id": 31300149, "link": "https://stackoverflow.com/questions/31300149/how-to-limit-string-variable-content-to-some-define-no-bytesi-e-6-bytes-after/31300198#31300198", "title": "How to limit string variable content to some define no bytes(i.e 6 bytes) after 6 bytes all the content should truncate?", "body": "<p>You could call <code>string.substr(0, 5)</code> or, if you are just printing it, insert <code>\\0</code> at position 6:</p>\n\n<pre><code>temp[6]='\\0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "is_accepted": true, "score": 1, "last_activity_date": 1436379356, "creation_date": 1436379356, "answer_id": 31300536, "question_id": 31300149, "link": "https://stackoverflow.com/questions/31300149/how-to-limit-string-variable-content-to-some-define-no-bytesi-e-6-bytes-after/31300536#31300536", "title": "How to limit string variable content to some define no bytes(i.e 6 bytes) after 6 bytes all the content should truncate?", "body": "<p>Among the things wrong with the posted code:</p>\n\n<ul>\n<li>You're not including <code>&lt;string&gt;</code>, required for <code>std::string</code> per the standard.</li>\n<li>Your loop conditional is wrong. It iterates four times, not three, thereby invoking undefined behavior on the last iteration.</li>\n<li>The entire check function can be removed in favor of using <code>substr</code> on the line just-read:</li>\n</ul>\n\n<p>Simplified, one such implementation would look like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    std::string var[3];\n    for (auto&amp; s : var)\n    {\n        if (!std::getline(std::cin, s))\n            break;\n        std::cout &lt;&lt; s.substr(0,6) &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p><strong>Input</strong></p>\n\n<pre><code>12345678\n123456\n12\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>123456\n123456\n12\n</code></pre>\n\n<p>Best of luck.</p>\n"}], "owner": {"reputation": 137, "user_id": 4950013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/187eb1747d1d4a969d3d99ed2fa3c846?s=128&d=identicon&r=PG&f=1", "display_name": "user4950013", "link": "https://stackoverflow.com/users/4950013/user4950013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 31300536, "answer_count": 2, "score": 0, "last_activity_date": 1436387244, "creation_date": 1436378118, "last_edit_date": 1436387244, "question_id": 31300149, "link": "https://stackoverflow.com/questions/31300149/how-to-limit-string-variable-content-to-some-define-no-bytesi-e-6-bytes-after", "title": "How to limit string variable content to some define no bytes(i.e 6 bytes) after 6 bytes all the content should truncate?", "body": "<p>How to limit string variable  content to some define no bytes(i.e 6 bytes) after 6 bytes all the content should get truncate. for example lets say   string var=\"hello world\" then o/p should be as \"hello\" and from 6th position all the content should get deleted. my approach is below but i am not able to delete so i have inserted space please help me to fix it. Thank you </p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;stdlib.h&gt; \n#include&lt;string.h&gt;\n\nusing namespace std;\n\nvoid check_no_bytes(string);\n\nint main() \n{\n    string var[3];\n    for(int i=0;i&lt;3;i++) \n    {\n        getline(cin,var[i]);\n        check_no_bytes(var[i]); \n    }\n}\n\nvoid check_no_bytes(string temp)\n{\n    int byte;\n\n    if (temp.length()&lt;5)\n    {\n        cout&lt;&lt;temp&lt;&lt;endl;\n    }\n    else\n    {\n        for(byte=6;byte&lt;=temp.length();byte++)\n            temp[byte]=' ';// here i am inserting space but i want to delete all the contenet from 6th position?\n\n        cout&lt;&lt;temp&lt;&lt;endl;\n    }   \n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "qt", "dll", "copy"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436376883, "post_id": 31299648, "comment_id": 50589757, "body": "for me copy&amp;paste worked good enough :D"}, {"owner": {"reputation": 31, "user_id": 4906649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5510859fc134b09201bf74bf84884c55?s=128&d=identicon&r=PG&f=1", "display_name": "Mitcoc", "link": "https://stackoverflow.com/users/4906649/mitcoc"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436397569, "post_id": 31299648, "comment_id": 50600574, "body": "Before @techneaz answers my question , I didn&#39;t even know where the DLLs are..."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436397821, "post_id": 31299648, "comment_id": 50600633, "body": "you could have asked that! :D"}, {"owner": {"reputation": 31, "user_id": 4906649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5510859fc134b09201bf74bf84884c55?s=128&d=identicon&r=PG&f=1", "display_name": "Mitcoc", "link": "https://stackoverflow.com/users/4906649/mitcoc"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436398110, "post_id": 31299648, "comment_id": 50600714, "body": "I thought it would be an &quot;easy-way&quot; to do that instead of doing it manually."}, {"owner": {"reputation": 488, "user_id": 4898489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0aaa4a2abd3056f0c4fd3208230689a?s=128&d=identicon&r=PG", "display_name": "Yang Kui", "link": "https://stackoverflow.com/users/4898489/yang-kui"}, "edited": false, "score": 0, "creation_date": 1436434480, "post_id": 31299648, "comment_id": 50614959, "body": "you can install an app called listary. which can assist you to find dll fast."}], "answers": [{"tags": [], "owner": {"reputation": 968, "user_id": 3581193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snBvh.png?s=128&g=1", "display_name": "techneaz", "link": "https://stackoverflow.com/users/3581193/techneaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1436386212, "creation_date": 1436386212, "answer_id": 31302734, "question_id": 31299648, "link": "https://stackoverflow.com/questions/31299648/qt-how-to-copy-the-qt-runtime-dlls-to-the-output-path/31302734#31302734", "title": "Qt - How to copy the Qt runtime DLLs to the output path", "body": "<ol>\n<li><p>Compile your project in release mode    </p></li>\n<li><p>Find the required libraries to run your application</p>\n\n<p>For a standard installation of Qt, the libraries can be found in      </p>\n\n<blockquote>\n  <p>[Qt Installation Dir][Folder name with the Qt Version][Folder name\n  with compiler type]\\bin</p>\n</blockquote>\n\n<p>Example: Qt 5.3 installed in C:/Qt and\nmingw4.8.2 32 bit comiplier, the .dll files will be in the\ndirectory: </p>\n\n<blockquote>\n  <p>C:\\Qt\\5.3\\mingw482_32\\bin    </p>\n</blockquote></li>\n<li><p>To find out which libraries you need, either you can run the\napplication <strong>outside</strong> Qt Creator (the missing .dll \nfiles will be shown in the error message pop up) or you can use a program called <a href=\"http://www.dependencywalker.com/\" rel=\"nofollow\">dependency walker</a>.  </p></li>\n<li><p>Copy these .dll files to your release folder where you have the .exe\nof your  application    Example: Qt5Core.dll ,Qt5Gui.dll etc.</p></li>\n</ol>\n\n<p>Once you have all the required .dll files you can run your application outside Qt Creator.</p>\n"}, {"tags": [], "owner": {"reputation": 28669, "user_id": 3049264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNMWc.jpg?s=128&g=1", "display_name": "Nejat", "link": "https://stackoverflow.com/users/3049264/nejat"}, "is_accepted": true, "score": 5, "last_activity_date": 1436417477, "creation_date": 1436417477, "answer_id": 31308394, "question_id": 31299648, "link": "https://stackoverflow.com/questions/31299648/qt-how-to-copy-the-qt-runtime-dlls-to-the-output-path/31308394#31308394", "title": "Qt - How to copy the Qt runtime DLLs to the output path", "body": "<p>The most convenient way is to use <a href=\"http://doc.qt.io/qt-5/windows-deployment.html#the-windows-deployment-tool\" rel=\"noreferrer\">The Windows Deployment Tool</a> to deploy your application. The Windows Deployment Tool could be found in <code>QTDIR/bin/windeployqt.exe</code>. It automatically puts all necessary dll files in your application directory.</p>\n\n<p>Open your command prompt and add the path to your Qt directory and it's <code>bin</code> folder to the <code>PATH</code> variable like :</p>\n\n<pre><code>set PATH= path\\to\\Qt\\bin\n</code></pre>\n\n<p>Next run the windows deployment tool with your application path as the argument:</p>\n\n<pre><code>windeployqt.exe  &lt;path-to-app-binary&gt;\n</code></pre>\n\n<p>This way you make sure that the deployed application would work on any computer and you have included whatever necessary.</p>\n"}], "owner": {"reputation": 31, "user_id": 4906649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5510859fc134b09201bf74bf84884c55?s=128&d=identicon&r=PG&f=1", "display_name": "Mitcoc", "link": "https://stackoverflow.com/users/4906649/mitcoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 0, "accepted_answer_id": 31308394, "answer_count": 2, "score": 0, "last_activity_date": 1506053957, "creation_date": 1436376633, "last_edit_date": 1506053957, "question_id": 31299648, "link": "https://stackoverflow.com/questions/31299648/qt-how-to-copy-the-qt-runtime-dlls-to-the-output-path", "title": "Qt - How to copy the Qt runtime DLLs to the output path", "body": "<p>I need to copy the Qt runtime DLLs libraries to the output path when building.\nI did a lot of search , I found a lot of topics but none of them helped.</p>\n"}, {"tags": ["c++", "matrix", "rotation", "graphics2d"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1436378559, "post_id": 31299640, "comment_id": 50590840, "body": "You are returning <code>Matrix</code> objects by value.  No one knows what your copy constructor looks like, or even more importantly, whether you even need to write one.  A mistake or misstep in this function can make the entire program buggy.  Also, is your issue really a drawing one?  If it is a purely data issue, you don&#39;t need BGI or any graphics to demonstrate the problem."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1436378741, "post_id": 31299640, "comment_id": 50590947, "body": "Please add the code to the question, not in the comments."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1436379124, "post_id": 31299640, "comment_id": 50591194, "body": "You could make things much easier for yourself if you use <code>std::vector&lt;std::vector&lt;double&gt;&gt;</code> instead of <code>double**</code>.  Then you don&#39;t need to write any of those user defined copy constructor or assignment operators.  Also, your implementation of the <code>Matrix</code> assignment operator has flaws such as not checking for self-assignment."}, {"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "edited": false, "score": 0, "creation_date": 1436379315, "post_id": 31299640, "comment_id": 50591322, "body": "Can you show Matrix Multiply(Matrix&amp;) function body?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1436379799, "post_id": 31299640, "comment_id": 50591583, "body": "@BROY Look at this implementation of your <code>MatrixMemory</code>.  This replaces all of the code you wrote for assignment operator, copy constructor, etc.  <a href=\"http://coliru.stacked-crooked.com/a/008e804397444f56\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/008e804397444f56</a>"}], "answers": [{"comments": [{"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1436474928, "post_id": 31300622, "comment_id": 50641959, "body": "Well, it&#39;s working. You rotated vector (150, 150) by 15 degrees anticlockwise. You can check it here: <a href=\"http://www.wolframalpha.com/input/?i=rotate+%28150%2C150%29+by+15+degrees+anticlockwise\" rel=\"nofollow noreferrer\">WolframAlpha</a>"}, {"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1436475363, "post_id": 31300622, "comment_id": 50642203, "body": "If the current result isn&#39;t your goal, then you should describe what output do you expect."}, {"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1436476614, "post_id": 31300622, "comment_id": 50642859, "body": "Well, you should remember that you rotate a <b>vector</b> not a point. You cannot rotate point.  But if you really want to rotate a rectangle you should rotate:  a = (150, 150) - (75, 75)  and  b =(0, 0) - (75, 75). (75,75) is the center of rectangle. Then new points would be:  a = rotatedA + (75, 75)  and  b = rotatedB + (75, 75)"}, {"owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "reply_to_user": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "edited": false, "score": 0, "creation_date": 1436478620, "post_id": 31300622, "comment_id": 50643796, "body": "So you expect the rombus. You just need to rotate all 4 vertices. So your function which draw only rectangles won&#39;t work here."}], "tags": [], "owner": {"reputation": 156, "user_id": 2769167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7358f160c8f6c0bf3935ec6682b48498?s=128&d=identicon&r=PG&f=1", "display_name": "kosmo16", "link": "https://stackoverflow.com/users/2769167/kosmo16"}, "is_accepted": false, "score": 1, "last_activity_date": 1436379891, "last_edit_date": 1436379891, "creation_date": 1436379617, "answer_id": 31300622, "question_id": 31299640, "link": "https://stackoverflow.com/questions/31299640/can-you-say-why-this-rotation-of-a-2d-rectangle-is-not-working/31300622#31300622", "title": "Can you say why this rotation of a 2D rectangle is not working?", "body": "<p>Your problem is in your sin and cos function used to create rotation matrix. Functions sin and cos take as argument angle in radians...</p>\n\n<p>EDIT:</p>\n\n<p>You should also double-check your rotation matrix. In [0,1] should be -sin(theta) and in [1,0] sin(theta). It's standard, but it depends on what rotation you want clockwise or counter-clockwise</p>\n"}], "owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436622315, "creation_date": 1436376609, "last_edit_date": 1436476692, "question_id": 31299640, "link": "https://stackoverflow.com/questions/31299640/can-you-say-why-this-rotation-of-a-2d-rectangle-is-not-working", "title": "Can you say why this rotation of a 2D rectangle is not working?", "body": "<p>I am using <a href=\"http://www.cs.colorado.edu/~main/bgi/visual/\" rel=\"nofollow noreferrer\">this BGI library</a> from Colorado University to learn the basics of computer graphics.</p>\n\n<p>I took the theory from <a href=\"https://en.wikipedia.org/wiki/Transformation_matrix#Affine_transformations\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You can download the whole VC++ 2008 Express project from <a href=\"https://drive.google.com/file/d/0B-B-1BTjmHpwbmRrQXdhQW1BRFU/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Translation and Scaling are working. But, the problem is, Rotation operation isn't working. </p>\n\n<p>The output is as follows:\n<img src=\"https://i.stack.imgur.com/z5IKq.jpg\" alt=\"enter image description here\"></p>\n\n<p>To me, the correct rotation should be like the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Wj4zc.jpg\" alt=\"enter image description here\"></p>\n\n<p>Rotation code is here:</p>\n\n<pre><code>#include \"graphics.h\"\n#include \"Vector2d.h\"\n#include \"Coordinates2d.h\"\n#include &lt;math.h&gt;\n\n#define PI      3.14\n#define THETA   15.0*PI/180\n\nint main()\n{\n    Matrix rotMat(3, 3);\n    /*\n    cos   -sin   0\n    sin    cos   0\n     0      0    1\n    */\n    rotMat.SetItem(0, 0, cos(THETA));   rotMat.SetItem(0, 1, -sin(THETA));  rotMat.SetItem(0, 2, 0);\n    rotMat.SetItem(1, 0, sin(THETA));   rotMat.SetItem(1, 1, cos(THETA));   rotMat.SetItem(1, 2, 0);\n    rotMat.SetItem(2, 0, 0);    rotMat.SetItem(2, 1, 0);    rotMat.SetItem(2, 2, 1);\n    rotMat.Show();\n    //rotMat.Transpose();\n    rotMat.Show();\n\n    //This is a wrapper to display a 2D rectangle.\n    Coordinates2d::ShowWindow(\"Test window\");\n\n    Rectangle2d rect(Point2d(0,0), Point2d(150,150));\n\n    Coordinates2d::Draw(rect);  \n\n    Matrix a = rect.Get3x3MatrixStart(); a.Show();\n    Matrix b = rect.Get3x3MatrixEnd();b.Show(); \n\n    a = a.Multiply(rotMat);a.Show();\n    b = b.Multiply(rotMat);b.Show();    \n\n    rect.SetStart(a);\n    rect.SetEnd(b);\n\n    Coordinates2d::Draw(rect);\n\n    /////////////////////\n\n    while (!kbhit())\n    {\n        delay(200);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "segmentation-fault", "strcat"], "comments": [{"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1436376534, "post_id": 31299567, "comment_id": 50589550, "body": "Where are you allocating <code>name</code>"}, {"owner": {"reputation": 1638, "user_id": 366956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac48f00b4d8020a21400d54f8a5ff88?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/366956/steve"}, "edited": false, "score": 0, "creation_date": 1436376619, "post_id": 31299567, "comment_id": 50589596, "body": "name is not defined anywhere. Why use C style strings anyway? Use std::string."}, {"owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "reply_to_user": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1436376646, "post_id": 31299567, "comment_id": 50589613, "body": "@rlbond I fixed my code, I had a few typos in there. I didn&#39;t mean to write name, I meant to write command"}, {"owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "reply_to_user": {"reputation": 1638, "user_id": 366956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac48f00b4d8020a21400d54f8a5ff88?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/366956/steve"}, "edited": false, "score": 0, "creation_date": 1436376695, "post_id": 31299567, "comment_id": 50589648, "body": "@Steve that was a typo, sorry. See my comment above"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "edited": false, "score": 0, "creation_date": 1436376621, "post_id": 31299608, "comment_id": 50589598, "body": "Sorry, that was a few typos. The correct code is posted"}, {"owner": {"reputation": 1638, "user_id": 366956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac48f00b4d8020a21400d54f8a5ff88?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/366956/steve"}, "edited": false, "score": 0, "creation_date": 1436376860, "post_id": 31299608, "comment_id": 50589749, "body": "Writing  to command is legal, that&#39;s not the cause of the failure."}, {"owner": {"reputation": 839, "user_id": 1827012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdafbde25c03c4f021d549ff071b47b?s=128&d=identicon&r=PG", "display_name": "Christian Kiewiet", "link": "https://stackoverflow.com/users/1827012/christian-kiewiet"}, "edited": false, "score": 1, "creation_date": 1436376961, "post_id": 31299608, "comment_id": 50589808, "body": "While writing to command is legal, you should familiarze yourself w/ what <code>strcat</code> does. It concatenates the right hand side argument to the left hand side argument. Since command is being assigned a constant string literal, this will overflow."}, {"owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "edited": false, "score": 0, "creation_date": 1436377571, "post_id": 31299608, "comment_id": 50590187, "body": "@ChristianKiewiet I see this now. How can I initialize a C string like that? In order to not overflow.  Nevermind. I got it by doing this:     char * name = new char;     strcpy(name, &quot;raspistill -o &quot;);     strcat(name, argv[1]);  Thank you for the help!"}, {"owner": {"reputation": 839, "user_id": 1827012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdafbde25c03c4f021d549ff071b47b?s=128&d=identicon&r=PG", "display_name": "Christian Kiewiet", "link": "https://stackoverflow.com/users/1827012/christian-kiewiet"}, "edited": false, "score": 0, "creation_date": 1436377639, "post_id": 31299608, "comment_id": 50590236, "body": "If you want to be writing C-code then have a look at <code>malloc</code>, <code>free</code>, <code>realloc</code> and/or <code>strdup</code>. E.g.: <code>char* command = strdup(&quot;raspistill -o &quot;);</code> will allocate a new array of bytes on the free style and put the pointer to the aforementioned into <code>command</code> - you could then reallocate / extend the buffer by using <code>realloc</code> and then <code>strcat</code> your other buffer. Then again, it might be more efficient to precalculate the required space and allocate it all at once! Have a look at <code>strlen</code> and/or the <code>sizeof</code> keyword in order to find out how to do that."}, {"owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "edited": false, "score": 0, "creation_date": 1436377927, "post_id": 31299608, "comment_id": 50590412, "body": "Thank you @ChristianKiewiet, I really appreciate the help, I am still learning. If you look at my last comment I figured out how to do it with new() and strcat()."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "reply_to_user": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "edited": false, "score": 0, "creation_date": 1436378429, "post_id": 31299608, "comment_id": 50590758, "body": "@Bobdriving given your posted comment, you realzie <code>new char;</code> allocates space for <b>one</b> char, right? Thus the ensuing <code>strcpy</code> and <code>strcat</code> leap from the cliff of sanity into the chasm of <i>undefined behavior</i>."}], "tags": [], "owner": {"reputation": 839, "user_id": 1827012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdafbde25c03c4f021d549ff071b47b?s=128&d=identicon&r=PG", "display_name": "Christian Kiewiet", "link": "https://stackoverflow.com/users/1827012/christian-kiewiet"}, "is_accepted": true, "score": 0, "last_activity_date": 1436376748, "last_edit_date": 1436376748, "creation_date": 1436376519, "answer_id": 31299608, "question_id": 31299567, "link": "https://stackoverflow.com/questions/31299567/deleting-a-character-array-after-using-strcat-causes-a-seg-fault/31299608#31299608", "title": "Deleting a character array after using strcat causes a seg fault", "body": "<p>You are trying to invoke <code>strcat</code> on a char[] to which you assigned a constant string literal. This will fail. Also, there is no reason for you to delete[] the aforementioned <code>command</code>, as you are not dynamically allocating it on the free store (e.g. using new[], malloc, etc.)</p>\n\n<p><em>Edit: The following was relevant to a previous revision of the question</em></p>\n\n<p>You're missing the <code>new[]</code> to go with the <code>delete[]</code>. The code you just posted shouldn't even be compiling, as you do not define <code>name</code> anywhere.</p>\n"}, {"comments": [{"owner": {"reputation": 1638, "user_id": 366956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac48f00b4d8020a21400d54f8a5ff88?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/366956/steve"}, "edited": false, "score": 1, "creation_date": 1436377053, "post_id": 31299701, "comment_id": 50589866, "body": "The heap is the free store as I intended it. deleteing memory that wasn&#39;t newed if you prefer."}, {"owner": {"reputation": 839, "user_id": 1827012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdafbde25c03c4f021d549ff071b47b?s=128&d=identicon&r=PG", "display_name": "Christian Kiewiet", "link": "https://stackoverflow.com/users/1827012/christian-kiewiet"}, "edited": false, "score": 1, "creation_date": 1436377156, "post_id": 31299701, "comment_id": 50589926, "body": "You&#39;re completely right, sorry for that comment. It&#39;s been a long day ;-)"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1436378852, "post_id": 31299701, "comment_id": 50591025, "body": "@Steve: Sometimes the memory being in the free store even is not enough. Consider a member with automatic storage duration of a dynamically-allocated struct. You can&#39;t <code>delete</code> that. Please fix your answer to talk about storage duration!!! Your comment regarding <code>new</code> is good enough."}], "tags": [], "owner": {"reputation": 1638, "user_id": 366956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dac48f00b4d8020a21400d54f8a5ff88?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/366956/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1436376786, "creation_date": 1436376786, "answer_id": 31299701, "question_id": 31299567, "link": "https://stackoverflow.com/questions/31299567/deleting-a-character-array-after-using-strcat-causes-a-seg-fault/31299701#31299701", "title": "Deleting a character array after using strcat causes a seg fault", "body": "<p>Buffer overrun I presume. <code>command</code> is not long enough. You're corrupting the stack. And worse you're using <code>delete</code> on memory that wasn't allocated on the heap.</p>\n"}, {"comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1436377216, "post_id": 31299761, "comment_id": 50589970, "body": "Minor,  <code>command.append(argv[1]);</code> is sufficient, and avoids introducing potential temporaries."}, {"owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1436377964, "post_id": 31299761, "comment_id": 50590425, "body": "Agreed. I&#39;ll change it. And I was a little paranoid explictly putting <code>string(   )</code> around <code>argv[1]</code>. It might be a good habit, especially if you want to do <code>argv[1]+argv[2]</code>, which only works if you put <code>string</code> around both."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1436378326, "post_id": 31299761, "comment_id": 50590683, "body": "Sure. If you were just stacking up appends, then <code>command.append(argv[1]).append(&quot; &quot;).append(argv[2])</code> would work as well (and I&#39;m somewhat taken aback by how few people utilize that feature of <code>std::string::append</code>)."}], "tags": [], "owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "is_accepted": false, "score": 2, "last_activity_date": 1436377981, "last_edit_date": 1436377981, "creation_date": 1436376951, "answer_id": 31299761, "question_id": 31299567, "link": "https://stackoverflow.com/questions/31299567/deleting-a-character-array-after-using-strcat-causes-a-seg-fault/31299761#31299761", "title": "Deleting a character array after using strcat causes a seg fault", "body": "<p>This isn't really C++. If you replace the</p>\n\n<pre><code>delete[] command;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>free(command);\n</code></pre>\n\n<p>then you will get a C program. It will still be a buggy program however - my point is that there is very little C++ in your program.</p>\n\n<p>The problem would be solved if you did fully embrace C++. In modern C++, you don't use <code>[]</code> arrays for anything (except in certain very special cases). If you want a collection of characters, where you can add and remove characters at will, then just use a <code>string</code>.</p>\n\n<pre><code>#include &lt;string&gt;\nusing std::string; \n\nint main(int argc, char * argv[]){\n  if(argc != 2) return -1;\n  string command = \"raspistill -o \";\n  command.append(argv[1]);\n  system(command.c_str()); // unfortunately, system() doesn't accept string\n                           // directly, must convert to pointer with .c_str()\n  return 0;\n}\n</code></pre>\n\n<p>You don't need to <code>delete</code> in well written (modern) C++. In fact, it would be a serious bug to attempt to <code>delete command</code> (or <code>delete &amp;command</code>) here.</p>\n\n<p>Don't use pointers (except <code>std::shared_ptr</code> and <code>std::unique_ptr</code> where you really want the 'action-at-a-distance' behaviour). Don't use <code>new</code>, and don't use <code>delete</code>.</p>\n\n<p>Sorry if this doesn't answer your original question directly. But I feel that just jumping straight to C++ is the best approach in situations like this.</p>\n"}], "owner": {"reputation": 97, "user_id": 4840271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b880000738ba279775e1615d18fbe490?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Krstic", "link": "https://stackoverflow.com/users/4840271/joshua-krstic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 31299608, "answer_count": 3, "score": 0, "last_activity_date": 1436377981, "creation_date": 1436376389, "last_edit_date": 1436376592, "question_id": 31299567, "link": "https://stackoverflow.com/questions/31299567/deleting-a-character-array-after-using-strcat-causes-a-seg-fault", "title": "Deleting a character array after using strcat causes a seg fault", "body": "<p>In my code I am using system() to call a function that exists only on the raspberry pi's shell, specifically \"raspistill\"</p>\n\n<p>When doing this, I use a char[] and strcat() as follows:</p>\n\n<pre><code>#include &lt;stdlib.h&gt; \n\nint main(int argc, char * argv[]){\n  if(argc != 2) return -1;\n  char command[] = \"raspistill -o \";\n  strcat(command, argv[1]);\n  system(command);\n  delete[] command;\n  return 0;\n}\n</code></pre>\n\n<p>I get a warning saying that the length to be deleted is 15, the initial length when initializing command, instead of the new length after the strcat function.</p>\n\n<p>This problem goes away when I use a C++ string with append() instead. Why does this cause a seg fault and how can I avoid it?</p>\n"}, {"tags": ["c#", "c++", "struct", "vb6"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1436375910, "post_id": 31299327, "comment_id": 50589182, "body": "Why is this tagged as C++?"}, {"owner": {"reputation": 1, "user_id": 5094070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732641254d9ba8ebd4699f4a3223d7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Dipodino", "link": "https://stackoverflow.com/users/5094070/dipodino"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1436376044, "post_id": 31299327, "comment_id": 50589249, "body": "Because the definition of NMMR structure is made in C++ , or am I wrong?"}, {"owner": {"reputation": 9812, "user_id": 1345535, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b62063f3b5bf78c24c71085aca077e2e?s=128&d=identicon&r=PG", "display_name": "David W", "link": "https://stackoverflow.com/users/1345535/david-w"}, "edited": false, "score": 0, "creation_date": 1436376450, "post_id": 31299327, "comment_id": 50589510, "body": "Have you checked to determine if the inbound event object (to your new event handler) contains a valid pointer value in e.pNMMR?"}, {"owner": {"reputation": 1, "user_id": 5094070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732641254d9ba8ebd4699f4a3223d7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Dipodino", "link": "https://stackoverflow.com/users/5094070/dipodino"}, "edited": false, "score": 0, "creation_date": 1436377377, "post_id": 31299327, "comment_id": 50590059, "body": "It has the value of 1519 , which is the value of xr_markfreq in the program mmtty.exe , What is a valid value for a pointer?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1436434081, "post_id": 31299327, "comment_id": 50614655, "body": "The XMMR_OnNotifyNMMR() method signature is pretty fishy, its arguments are a complete mismatch with the VB6 version.  Pretty hard to see how that could have happened, my crystal ball says that there&#39;s a delegate involved that we can&#39;t see."}, {"owner": {"reputation": 4378, "user_id": 646942, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/002a0cfefa98a83aec477f32fadf0aa6?s=128&d=identicon&r=PG", "display_name": "Matze", "link": "https://stackoverflow.com/users/646942/matze"}, "edited": false, "score": 0, "creation_date": 1436435756, "post_id": 31299327, "comment_id": 50615953, "body": "Consider that the <code>DWORD</code> type is an unsigned 4-byte integer. You&#180;re trying to map the data to an array of <code>Int32</code> which is signed... of course, this can&#180;t be the cause for the <code>AccessViolationException</code>; just mentioning..."}, {"owner": {"reputation": 4378, "user_id": 646942, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/002a0cfefa98a83aec477f32fadf0aa6?s=128&d=identicon&r=PG", "display_name": "Matze", "link": "https://stackoverflow.com/users/646942/matze"}, "edited": false, "score": 0, "creation_date": 1436436391, "post_id": 31299327, "comment_id": 50616397, "body": "You don&#180;t need the import of the <code>RtlMoveMemory</code> function in <code>C#</code>; use functions of the <code>Marshal</code> class to manipulate and work with unmanaged memory."}], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 4244165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a64dee69a12eb6f9be749ba00b2c89?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Krojer", "link": "https://stackoverflow.com/users/4244165/thomas-krojer"}, "is_accepted": false, "score": 0, "last_activity_date": 1436432819, "creation_date": 1436432819, "answer_id": 31312938, "question_id": 31299327, "link": "https://stackoverflow.com/questions/31299327/c-acessexceptionviolation-with-marshal-copy/31312938#31312938", "title": "C# AcessExceptionViolation with Marshal.Copy", "body": "<p>The 63 is the Problem:</p>\n\n<p>In VB6, 63 is to top index (0..63).</p>\n\n<p>in C#, 63 is the COUNT of elements (0..62).</p>\n\n<p>So you miss 4 Bytes. You can simple check this with a small console program, breakpoint at first assignment:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        int[] test = new int[1];\n        test[0] = 1;\n        test[1] = 2; // &lt;- this will crash\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5094070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732641254d9ba8ebd4699f4a3223d7b2?s=128&d=identicon&r=PG&f=1", "display_name": "Dipodino", "link": "https://stackoverflow.com/users/5094070/dipodino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436434602, "creation_date": 1436375667, "last_edit_date": 1436375903, "question_id": 31299327, "link": "https://stackoverflow.com/questions/31299327/c-acessexceptionviolation-with-marshal-copy", "title": "C# AcessExceptionViolation with Marshal.Copy", "body": "<p>I'm translating a program from VB to C# which communicates with an external program MMTTY.EXE. This program has ActiveX controls for VB6.0 and I added to my C# project in Visual Studio 2013.</p>\n\n<p>The code in VB is this:</p>\n\n<pre><code>Dim m_nmmr(63) As Long\nPrivate Sub XMMR_OnNotifyNMMR(pNMMR As Long)\nCall CopyMemory(m_nmmr(0), pNMMR, 64 * 4)   'Windows API CopyMemory()*\n</code></pre>\n\n<p>This event is produced when MMTTY.EXE have data and the data pointed by pNMMR is copied in m_nmmr(63) buffer.</p>\n\n<p>The program in C# that I made is this:</p>\n\n<pre><code>[DllImport(\"kernel32.dll\", EntryPoint = \"RtlMoveMemory\")]\n    static extern void CopyMemory(Int32[] Destination, IntPtr Source, uint Length);\nprivate void XMMR_OnNotifyNMMR(object sender,      AxXMMTLib._DXMMREvents_OnNotifyNMMREvent e)\n    {            \n        IntPtr ptr = (IntPtr)e.pNMMR;\n        Int32[] m_nmmr = new Int32[63];\n        Marshal.Copy(ptr, m_nmmr, 0, 63);\n    }*\n</code></pre>\n\n<p>But when I execute it I get an AccessViolationException. It tells me that there is an attempt of writing or reading in a protected memory.</p>\n\n<p>How can I solve this problem? any idea?</p>\n\n<p>This is the help of the original method for VB6.0:</p>\n\n<p>void OnNotifyNMMR(long* pNMMR)\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  This event is generated at the timing of TXM_LEVLEL message arrival.  NMMR struct pointed by pNMMR is defined by</p>\n\n<pre><code>#pragma pack(push, 1)\ntypedef struct {\n    DWORD   m_markfreq;\n    DWORD   m_spacefreq;\n    DWORD   m_siglevel;\n    DWORD   m_sqlevel;\n    DWORD   m_codeswitch;\n    DWORD   m_codeview;\n    DWORD   m_notch1;\n    DWORD   m_notch2;\n    DWORD   m_baud;\n    DWORD   m_fig;\n    DWORD   m_radiofreq;\n    DWORD   m_Reserved[53];\n}NMMR;\n#pragma pack(pop)\n</code></pre>\n\n<p>the application does not have to respond all the XMMR events if it uses this struct.  Because NMMR struct simply consists of LONG variables, it can be copied to VB Long array.  The index of the array has several names, such as xr_markfreq, in XMMT.ocx.  For details, refer to Predefined constants of XMMR.</p>\n\n<pre><code>[Example]\n    Private Declare Sub CopyMemory Lib \"kernel32\" Alias \"RtlMoveMemory\" (Destination As Any, Source As Any, ByVal Length As Long)\n\nDim m_nmmr(63) As Long\n\nPrivate Sub XMMR_OnNotifyNMMR(pNMMR As Long)\n    Call CopyMemory(m_nmmr(0), pNMMR, 64 * 4)   'Windows API CopyMemory()\n    |\n    MarkFreq = m_nmmr(xr_markfreq)\n    SpaceFreq = m_nmmr(xr_spacefreq)\n       |\n    'Pass pNMMR to the control for the supplemental control\n    Call XMMSpec.UpdateByNMMR(pNMMR)    'Update the frequency property of XMMSpec control\n    Call XMMLvl.DrawByNMMR(pNMMR)   'Draw the level indicator\nEnd Sub\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "edited": false, "score": 1, "creation_date": 1436375681, "post_id": 31299201, "comment_id": 50589027, "body": "Displaying an image in OpenGL boils down to 1. generate and initialize texture object, 2. load image into texture, 3. draw a quad with the texture applied."}, {"owner": {"reputation": 24802, "user_id": 232918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5897762377de1c8ffb9a98673262e91?s=128&d=identicon&r=PG", "display_name": "doron", "link": "https://stackoverflow.com/users/232918/doron"}, "edited": false, "score": 0, "creation_date": 1436375770, "post_id": 31299201, "comment_id": 50589083, "body": "Just to add to the above. Images in OpenGL are referred to as textures. There are plenty of tutorials on textures."}, {"owner": {"reputation": 24802, "user_id": 232918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b5897762377de1c8ffb9a98673262e91?s=128&d=identicon&r=PG", "display_name": "doron", "link": "https://stackoverflow.com/users/232918/doron"}, "edited": false, "score": 0, "creation_date": 1436375903, "post_id": 31299201, "comment_id": 50589179, "body": "Also OpenGL does deals only with raw images in the form of RGBA textures, you will need some other library to decode image formats."}, {"owner": {"reputation": 10492, "user_id": 603688, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1058344e1b119c4d9dd3aedc5456277b?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/603688/dan"}, "edited": false, "score": 0, "creation_date": 1436376488, "post_id": 31299201, "comment_id": 50589524, "body": "Check out <a href=\"https://github.com/nothings/stb\" rel=\"nofollow noreferrer\">stb_image</a> to load images."}], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 3672451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XygBe.png?s=128&g=1", "display_name": "Donald", "link": "https://stackoverflow.com/users/3672451/donald"}, "is_accepted": false, "score": 0, "last_activity_date": 1436376299, "creation_date": 1436376299, "answer_id": 31299532, "question_id": 31299201, "link": "https://stackoverflow.com/questions/31299201/display-an-image-using-opengl/31299532#31299532", "title": "Display an image using OpenGL?", "body": "<blockquote>\n  <p>\"so is there a easy way to display\"</p>\n</blockquote>\n\n<p>According to the following introduction:\n<a href=\"http://www.sfml-dev.org/tutorials/2.3/graphics-draw.php\" rel=\"nofollow\">http://www.sfml-dev.org/tutorials/2.3/graphics-draw.php</a></p>\n\n<p>The people at SFML make it seem as though it is not easy to do that with OpenGL. So, if you want it to be easy, use SFML.</p>\n\n<blockquote>\n  <p>\"but I dont understand how to use SFML\"</p>\n</blockquote>\n\n<p>The tutorials are very simple to learn, and if a beginner like me can figure it out, then so can you.</p>\n\n<p><a href=\"http://www.sfml-dev.org/learn.php\" rel=\"nofollow\">http://www.sfml-dev.org/learn.php</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5082675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60316d22d4c55f5ea8d3269e41d45043?s=128&d=identicon&r=PG&f=1", "display_name": "StreY", "link": "https://stackoverflow.com/users/5082675/strey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 993, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1436379724, "creation_date": 1436375291, "last_edit_date": 1436379724, "question_id": 31299201, "link": "https://stackoverflow.com/questions/31299201/display-an-image-using-opengl", "title": "Display an image using OpenGL?", "body": "<p>I have a button image and I have a project with OpenGL and I have managed to create a window now I want to add an image of a button onto that window.</p>\n\n<p>Is there an easy way to display a .bmp or .png?</p>\n"}, {"tags": ["c++", "visual-c++", "docx"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436376364, "post_id": 31299013, "comment_id": 50589448, "body": "Did you miss one of the steps in the <a href=\"http://docxfactory.com/tutorial/\" rel=\"nofollow noreferrer\">Windows Installation Chapter</a> eventually?"}, {"owner": {"reputation": 1, "user_id": 5094940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4808347ab9973c2ad598443b32134c13?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Tay", "link": "https://stackoverflow.com/users/5094940/jimmy-tay"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1436379902, "post_id": 31299013, "comment_id": 50591644, "body": "no i&#39;m pretty sure i followed the instructions to the letter in regards to that tutorial"}], "owner": {"reputation": 1, "user_id": 5094940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4808347ab9973c2ad598443b32134c13?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Tay", "link": "https://stackoverflow.com/users/5094940/jimmy-tay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1436374706, "answer_count": 0, "score": 0, "last_activity_date": 1501412159, "creation_date": 1436374672, "last_edit_date": 1501412159, "question_id": 31299013, "link": "https://stackoverflow.com/questions/31299013/error-using-the-docx-library", "closed_reason": "Duplicate", "title": "Error Using the docx library", "body": "<p>I am attempting to familiarize myself with the DocxFactory Library (library for c++ that helps with docx)</p>\n\n<p><a href=\"http://docxfactory.com/tutorial/\" rel=\"nofollow noreferrer\">DocxLibrary Tutorial</a></p>\n\n<p>Currently attempting to do exercise one which involves  running the following to generate a docx template.</p>\n\n<pre><code>#include \"WordProcessingMerger.h\"\n#include \"WordProcessingCompiler.h\"\n#include &lt;iostream&gt;\n#include &lt;exception&gt; \n#include &lt;ctime&gt; \n#include &lt;tchar.h&gt;\n\n\n\nusing namespace DocxFactory;\nusing namespace std;\n\nint main()\n{\n    try\n    {\n        WordProcessingCompiler&amp; l_compiler =\n            WordProcessingCompiler::getInstance();\n        time_t l_start = clock();\n        l_compiler.compile(\n            \"/opt/DocxFactory/exercises/templates/top_level_items.docx\",\n            \"/opt/DocxFactory/exercises/templates/top_level_items.dfw\");\n        cout &lt;&lt; \"Completed (in \"\n            &lt;&lt; (double)(clock() - l_start) / CLOCKS_PER_SEC\n            &lt;&lt; \" seconds).\"\n            &lt;&lt; endl;\n    }\n    catch (const exception&amp; p_exception)\n    {\n        cout &lt;&lt; p_exception.what() &lt;&lt; endl;\n    }\n} // main\n</code></pre>\n\n<p>I run into around 50 errors many of which i assume are linking errors (i suspect it's due to improper library configuration).\nSuch as \nLINK 2019\nLINK 1120</p>\n\n<p>I've looked at multiple results for those errors but no luck.</p>\n\n<p>I have done the following steps in visual studio 2013</p>\n\n<ol>\n<li>Add the DocxFactory\\bin\\ directory to the Windows PATH </li>\n<li>Add the DocxFactory/include/ directory to the list of include directories</li>\n<li>Link to the DocxFactory.lib library under the linker section</li>\n<li>Include the corresponding DocxFactory.lib under the Linker input</li>\n<li>Included the .cpp files and .h files in the code</li>\n</ol>\n\n<p>I'm unsure of which step i missed, or if its due to my unfamiliarity of using external libraries. </p>\n\n<p>EDIT\nI've reinstalled it and have gotten it down to three errors (fixed a tiny PATH error)</p>\n\n<p>Error   3   error LNK1120: 2 unresolved externals   c:\\users\\100489004\\documents\\visual studio 2013\\Projects\\docxfinal\\Debug\\docxfinal.exe  1   1   docxfinal\nError   1   error LNK2019: unresolved external symbol \"public: static class DocxFactory::WordProcessingCompiler &amp; __cdecl DocxFactory::WordProcessingCompiler::getInstance(void)\" (?getInstance@WordProcessingCompiler@DocxFactory@@SAAAV12@XZ) referenced in function _main    c:\\Users\\100489004\\documents\\visual studio 2013\\Projects\\docxfinal\\docxfinal\\Source.obj docxfinal\nError   2   error LNK2019: unresolved external symbol \"public: void __thiscall DocxFactory::WordProcessingCompiler::compile(class std::basic_string,class std::allocator > const &amp;,class std::basic_string,class std::allocator > const &amp;)\" (?compile@WordProcessingCompiler@DocxFactory@@QAEXABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@0@Z) referenced in function _main   c:\\Users\\100489004\\documents\\visual studio 2013\\Projects\\docxfinal\\docxfinal\\Source.obj docxfinal</p>\n\n<p>Something interesting to note when i add the .cpp two corresponding cpp files as per instructions it appears to break the linker so the amount of errors jump to 50 again. So for now  i simply have chosen not to included the .cpp files in the project. Unsure if this is correct or not</p>\n"}, {"tags": ["c++", "windows", "visual-studio-2012"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1436381431, "post_id": 31298805, "comment_id": 50592599, "body": "I would not close the question, it is quite specific, targeting some obscure windows API protocol (might be a gray zone)"}], "answers": [{"tags": [], "owner": {"reputation": 1507, "user_id": 1793353, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0fd322aa5dddd61040b8be1fdaa7d8d3?s=128&d=identicon&r=PG", "display_name": "amplifier", "link": "https://stackoverflow.com/users/1793353/amplifier"}, "is_accepted": false, "score": 2, "last_activity_date": 1436374280, "creation_date": 1436374280, "answer_id": 31298888, "question_id": 31298805, "link": "https://stackoverflow.com/questions/31298805/how-to-delay-shutdown-restart-hibernate-in-windows-7-or-windows-8-in-vc/31298888#31298888", "title": "How to delay shutdown/restart/hibernate in windows 7 or windows 8 in VC++", "body": "<p>I did something like this</p>\n\n<pre><code>bool shutdownSystemWin(EShutdownActions action)\n{\n    HANDLE hToken;\n    TOKEN_PRIVILEGES tkp;\n\n    // Get a token for this process.\n    if (!OpenProcessToken(GetCurrentProcess(),\n        TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken))\n        return false;\n\n    // Get the LUID for the shutdown privilege.\n    LookupPrivilegeValue(NULL, SE_SHUTDOWN_NAME,\n        &amp;tkp.Privileges[0].Luid);\n\n    tkp.PrivilegeCount = 1;  // one privilege to set\n    tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED;\n\n    // Get the shutdown privilege for this process.\n    AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, 0,\n        (PTOKEN_PRIVILEGES)NULL, 0);\n\n    if (GetLastError() != ERROR_SUCCESS)\n        return false;\n\n    // Shut down the system and force all applications to close.\n    UINT flags = EWX_FORCE;\n    switch (action)\n    {\n    case EShutdownActions::Shutdown:\n        flags |= EWX_SHUTDOWN;\n        break;\n    case EShutdownActions::PowerOff:\n        flags |= EWX_POWEROFF;\n        break;\n    case EShutdownActions::SuspendToRAM:\n        return SetSuspendState(FALSE, FALSE, FALSE);\n    case EShutdownActions::Hibernate:\n        return SetSuspendState(TRUE, FALSE, FALSE);\n        break;\n    case EShutdownActions::Reboot:\n        flags |= EWX_REBOOT;\n        break;\n    case EShutdownActions::LogOff:\n        flags |= EWX_LOGOFF;\n        break;\n    }\n\n    if (!ExitWindowsEx(flags,\n        SHTDN_REASON_MAJOR_OPERATINGSYSTEM |\n        SHTDN_REASON_MINOR_UPGRADE |\n        SHTDN_REASON_FLAG_PLANNED))\n        return false;\n\n    //shutdown was successful\n    return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5094884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2a5353b363923e70626b77a4bd74071?s=128&d=identicon&r=PG&f=1", "display_name": "Rex..", "link": "https://stackoverflow.com/users/5094884/rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1436374280, "creation_date": 1436374016, "last_edit_date": 1436374135, "question_id": 31298805, "link": "https://stackoverflow.com/questions/31298805/how-to-delay-shutdown-restart-hibernate-in-windows-7-or-windows-8-in-vc", "title": "How to delay shutdown/restart/hibernate in windows 7 or windows 8 in VC++", "body": "<p>I am using vs2012 based application developed using C++.</p>\n\n<p>If application is running and doing some processing and user triggers restart/shutdown or hibernate, then restart/shutdown should be suspended until application processing is done.</p>\n\n<p>Once application processing is done, windows should resume to restart/shutdown.</p>\n\n<p>I would highly appreciate if some references or example code to the same can be available</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "templates", "inheritance", "g++", "static-members"], "comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1436373418, "post_id": 31298566, "comment_id": 50587661, "body": "Which compiler? gcc, clang?"}, {"owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "edited": false, "score": 0, "creation_date": 1436373798, "post_id": 31298566, "comment_id": 50587919, "body": "Reading this question, could someone explain why the compiler doesn&#39;t think the line &#39;std::string Base::s = &quot;some_text&quot;;&#39; is global access, so prohibited for a private variable? Has been some time since I used C++."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1436373861, "post_id": 31298566, "comment_id": 50587953, "body": "That&#39;s a definition, not a declaration. It&#39;s just initializing the string that was previous declared inside of Base; since it was declared inside Base it is a class static variable, and it is private since that is the default access level for class."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1436373972, "post_id": 31298566, "comment_id": 50588022, "body": "I think this is a compiler bug, as this compiles with gcc but not clang, for me."}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1436374066, "post_id": 31298566, "comment_id": 50588075, "body": "GCC bug, clang and ICC reject this code. Note that GCC has many bugs when it comes to access specification control and templates..."}], "answers": [{"tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": false, "score": 5, "last_activity_date": 1436387125, "last_edit_date": 1436387125, "creation_date": 1436373561, "answer_id": 31298672, "question_id": 31298566, "link": "https://stackoverflow.com/questions/31298566/private-static-member-in-base-class/31298672#31298672", "title": "Private static member in base class", "body": "<p>I think this is a compiler bug, as this compiles with gcc but not clang, for me.</p>\n\n<p>Edit: as an additional data point, this bug does not seem to have been fixed, as I can reproduce in gcc 4.9.2 and 5.1.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 3, "last_activity_date": 1436374070, "creation_date": 1436374070, "answer_id": 31298821, "question_id": 31298566, "link": "https://stackoverflow.com/questions/31298566/private-static-member-in-base-class/31298821#31298821", "title": "Private static member in base class", "body": "<p>It's a bug in g++ 4.8.4. The code compiles, only if <code>Derived</code> is a template and the member is static.</p>\n\n<p>Tests:</p>\n\n<ul>\n<li>template     static      compiles</li>\n<li>no template  static      fails</li>\n<li>template     not static  fails</li>\n<li>no template  not static  fails</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 17, "last_activity_date": 1436374174, "creation_date": 1436374174, "answer_id": 31298853, "question_id": 31298566, "link": "https://stackoverflow.com/questions/31298566/private-static-member-in-base-class/31298853#31298853", "title": "Private static member in base class", "body": "<p>This is definitely a GCC bug, equivalent to <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=58740\">GCC Bug 58740</a>:</p>\n\n<pre><code>class A {\n    static int p;\n};\nint A::p = 0;\ntemplate&lt;int=0&gt;\nstruct B : A {\n    B() {(void)p;}\n};\nint main() {\n    B&lt;&gt;();\n}\n</code></pre>\n\n<p>The bug is still open, and this code still compiles on 5.1. GCC has issues with template member access, this is just another such example. </p>\n"}], "owner": {"reputation": 9851, "user_id": 1356110, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/har6o.jpg?s=128&g=1", "display_name": "Ashot", "link": "https://stackoverflow.com/users/1356110/ashot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 31298853, "answer_count": 3, "score": 17, "last_activity_date": 1436387125, "creation_date": 1436373254, "last_edit_date": 1436377462, "question_id": 31298566, "link": "https://stackoverflow.com/questions/31298566/private-static-member-in-base-class", "title": "Private static member in base class", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass Base\n{\n    static std::string s;\n};\n\ntemplate&lt;typename T&gt;\nclass Derived\n    : Base\n{\npublic:\n    Derived()\n    {\n        std::cout &lt;&lt; s &lt;&lt; std::endl;\n    }\n};\n\nstd::string Base::s = \"some_text\";    \n\nint main()\n{\n    Derived&lt;int&gt; obj;\n}\n</code></pre>\n\n<p>This programs compiles and runs normally. static variable <code>s</code> is private in base class that is inherited privately. How is Derived class accessing it? </p>\n\n<p>If Derived class is not template, compiler complains about accessing private variable.</p>\n\n<pre><code>[aminasya@amy-aminasya-lnx c++]$ g++ --version\ng++ (GCC) 4.4.7 20120313 (Red Hat 4.4.7-3)\nCopyright (C) 2010 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n"}, {"tags": ["c++", "macos", "include", "clang", "xgboost"], "owner": {"reputation": 51, "user_id": 5094748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76896c53ac0f4ccb6414e8c3672e7db5?s=128&d=identicon&r=PG&f=1", "display_name": "SoWaR", "link": "https://stackoverflow.com/users/5094748/sowar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441346854, "creation_date": 1436373237, "last_edit_date": 1495539869, "question_id": 31298560, "link": "https://stackoverflow.com/questions/31298560/mac-os-x-clang-omp-cannt-find-header-files-xgboost-installation", "title": "Mac OS X: clang-omp cann&#39;t find header files (xgboost installation)", "body": "<p>I'm trying to build multithread supporting xgboost according to this <a href=\"https://github.com/dmlc/xgboost/blob/master/doc/build.md\" rel=\"nofollow noreferrer\">guide</a>.\nSo i made fist three steps. But when i run:</p>\n\n<pre><code>cd xgboost\nmake\n</code></pre>\n\n<p>i get this message:</p>\n\n<pre><code>/Users/user/clang-omp/build/bin/clang++ -c -Wall -O3 -msse2 -Wno-unknown-pragmas -funroll-loops -fopenmp -fopenmp -fPIC -o updater.o src/tree/updater.cpp\nsrc/tree/updater.cpp:5:10: fatal error: 'cstring' file not found\n#include &lt;cstring&gt;\n          ^\n1 error generated.\nmake: *** [updater.o] Error 1\n</code></pre>\n\n<p>What am i doing wrong?</p>\n\n<p>System:\nMac OS X 10.10.4</p>\n\n<p>P.S. I've tried to set system variables like in this <a href=\"https://stackoverflow.com/questions/26834553/osx-10-10-cmake-3-0-2-and-clang-wont-find-local-headers\">post</a>, but it didn't work.</p>\n\n<p>Solved:\nJust found file \"cstring\" on my mac. There were some variants. I took folder:/usr/local/Cellar/clang-omp/2015-04-01/libexec/include/c++/v1/\nand set variables:</p>\n\n<pre><code>export CPLUS_INCLUDE_PATH=/usr/local/Cellar/clang-omp/2015-04-01/libexec/include/c++/v1/:\nexport C_INCLUDE_PATH=/usr/local/Cellar/clang-omp/2015-04-01/libexec/include/c++/v1/:\n</code></pre>\n\n<p>It wasn't the end of the story. Another mistake occured:</p>\n\n<pre><code> Undefined symbols for architecture x86_64:\n \"__ZNKSs7compareEPKc\", referenced from:\n  __ZN7xgboost14BoostLearnTask3RunEiPPc in main.o\n  __ZN7xgboost7learner12BoostLearner10InitObjGBMEv in main.o\n  __ZN7xgboost14BoostLearnTask8InitDataEv in main.o\n...\n</code></pre>\n\n<p>Solved in this <a href=\"https://stackoverflow.com/questions/7533321/error-when-compiling-some-simple-c-code\">post</a>.\nSo I just correct Makefile like this:</p>\n\n<pre><code>export CC = clang-omp++\nexport CXX = clang-omp++\n</code></pre>\n\n<p>And it's worked.</p>\n"}, {"tags": ["c++", "enums", "warnings"], "answers": [{"comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1436379031, "post_id": 31298806, "comment_id": 50591137, "body": "Note, this is not undefined behavior until C++17."}], "tags": [], "owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "is_accepted": true, "score": 0, "last_activity_date": 1436374019, "creation_date": 1436374019, "answer_id": 31298806, "question_id": 31298526, "link": "https://stackoverflow.com/questions/31298526/enum-warning-outside-the-range/31298806#31298806", "title": "Enum warning : outside the range", "body": "<p>The problem is that the compiler is free to chose whatever underlying type is big enough for an enum declaration to hold all its data.</p>\n\n<p>In your case it apparently chose an integral type to represent <code>a_t</code> that has an (possibly imaginary) bitsize of 4.</p>\n\n<p>This type can only hold values from 0 to 15. You try <code>static_cast&lt;a_t&gt; (16)</code>, which is outside of the representable values, thus the undefined behaviour. This is not true for <code>a1_t</code> - you got \"lucky\" - because here it would be <code>static_cast&lt;a1_t&gt; (15)</code> and 15 is representable by the underlying type of <code>a1_t</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": false, "score": 1, "last_activity_date": 1436386553, "last_edit_date": 1436386553, "creation_date": 1436375636, "answer_id": 31299313, "question_id": 31298526, "link": "https://stackoverflow.com/questions/31298526/enum-warning-outside-the-range/31299313#31299313", "title": "Enum warning : outside the range", "body": "<p>The range of an <a href=\"http://en.cppreference.com/w/cpp/language/enum\" rel=\"nofollow\">enum</a> is:</p>\n\n<blockquote>\n  <p>[...]If the underlying type is not fixed, the range is all values\n  possible for the smallest bit field large enough to hold all\n  enumerators of the target enumeration[...]</p>\n</blockquote>\n\n<p>So <code>15</code> fits within this range while <code>16</code> does not. This is unspecified behavior prior to C++17 and will be undefined behavior after. The change was due to <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1766\" rel=\"nofollow\">DR 1766: Values outside the range of the values of an enumeration </a> which says:</p>\n\n<blockquote>\n  <p>Although issue 1094 clarified that the value of an expression of enumeration type might not be within the range of the values of the enumeration after a conversion to the enumeration type (see 5.2.9 [expr.static.cast] paragraph 10), the result is simply an unspecified value. This should probably be strengthened to produce undefined behavior, in light of the fact that undefined behavior makes an expression non-constant. See also 9.6 [class.bit] paragraph 4.</p>\n</blockquote>\n\n<p>and the resolution was to make it undefined behavior.</p>\n"}], "owner": {"reputation": 1003, "user_id": 1246264, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/340babcf9e2adc1e205a315618bce6e0?s=128&d=identicon&r=PG", "display_name": "gudge", "link": "https://stackoverflow.com/users/1246264/gudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "accepted_answer_id": 31298806, "answer_count": 2, "score": 1, "last_activity_date": 1436386553, "creation_date": 1436373122, "last_edit_date": 1436382652, "question_id": 31298526, "link": "https://stackoverflow.com/questions/31298526/enum-warning-outside-the-range", "title": "Enum warning : outside the range", "body": "<p>I have the following code. There are two enums. One with 16 values (A_) and\nthe other with 15 values (A1_). </p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntypedef enum\n{   \n    A_0 = 0,\n    A_1,\n    A_2,\n    A_3,\n    A_4,\n    A_5,\n    A_6,\n    A_7,\n    A_8,\n    A_9,\n    A_10,\n    A_11,\n    A_12,\n    A_13,\n    A_14,\n    A_15,\n    A_FIRST = A_0,\n    A_LAST = A_15\n} a_t;\n\ntypedef enum\n{   \n    A1_0 = 0,\n    A1_1,\n    A1_2,\n    A1_3,\n    A1_4,\n    A1_5,\n    A1_6,\n    A1_7,\n    A1_8,\n    A1_9,\n    A1_10,\n    A1_11,\n    A1_12,\n    A1_13,\n    A1_14,\n    A1_FIRST = A1_0,\n    A1_LAST = A1_14\n} a1_t;\n\nint \nmain()\n{   \n    a_t m = static_cast&lt;a_t&gt; (static_cast&lt;int&gt; (A_LAST) + 1); // WARNING\n    std::cout &lt;&lt; m;\n    a1_t m1 = static_cast&lt;a1_t&gt; (static_cast&lt;int&gt; (A1_LAST) + 1); // NO WARNING\n    std::cout &lt;&lt; m1;\n    return 0;\n}\n</code></pre>\n\n<p>g++ compilation:</p>\n\n<blockquote>\n  <p>g++ -Wconversion enum_testing.cpp</p>\n</blockquote>\n\n<p>I get a warning message:</p>\n\n<pre><code>enum_testing.cpp: In function \u2018int main()\u2019:\nenum_testing.cpp:49:64: warning: the result of the conversion is     unspecified because \u201816\u2019 is outside the range of type \u2018a_t\u2019 [-Wconversion]\n     a_t m = static_cast&lt;a_t&gt; (static_cast&lt;int&gt; (A_LAST) + 1);\n</code></pre>\n\n<p>Question: Why I get a warning message for first declaration with enum A_ and not a message with enum A1_.</p>\n"}, {"tags": ["c++", "delphi", "combobox", "c++builder"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1436374081, "post_id": 31298510, "comment_id": 50588082, "body": "Which <code>==</code> is used when you compare a delphi string and a C string? I bet it the delphi string is converted to a C string and then pointers compared."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1436374173, "post_id": 31298510, "comment_id": 50588139, "body": "Btw, you are expected to ask one question at a time. You asked two."}, {"owner": {"reputation": 69, "user_id": 5094649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/370428d94fd31a975739b2bfd364739b?s=128&d=identicon&r=PG&f=1", "display_name": "July Elizabeth", "link": "https://stackoverflow.com/users/5094649/july-elizabeth"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1436374409, "post_id": 31298510, "comment_id": 50588295, "body": "My 2nd question was solved by using, e.g.<code>1stCB-&gt;Items-&gt;Insert(0, &quot;BlaBla&quot;);</code>. Btw, I am a newcomer in c ++ , so my knowledge is very limited indeed. Thank you..."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1436725656, "post_id": 31298510, "comment_id": 50721427, "body": "@DavidHeffernan: the <code>Text</code> property returns a <code>System::String</code> object, which has an overridden <code>operator==()</code> for <code>String</code> values, and <code>String</code> has non-explicit constructors for both <code>char*</code> and <code>wchar_t*</code> strings. Thus <code>if (1stCBChange-&gt;Text == &quot;Google&quot;)</code> is performing <code>if (1stCBChange-&gt;Text.operator==(String(&quot;Google&quot;)))</code>"}, {"owner": {"reputation": 69, "user_id": 5094649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/370428d94fd31a975739b2bfd364739b?s=128&d=identicon&r=PG&f=1", "display_name": "July Elizabeth", "link": "https://stackoverflow.com/users/5094649/july-elizabeth"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1437081979, "post_id": 31298510, "comment_id": 50895882, "body": "@Remy: I also want to thank you."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5094649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/370428d94fd31a975739b2bfd364739b?s=128&d=identicon&r=PG&f=1", "display_name": "July Elizabeth", "link": "https://stackoverflow.com/users/5094649/july-elizabeth"}, "edited": false, "score": 0, "creation_date": 1436380616, "post_id": 31298911, "comment_id": 50592064, "body": "Resolved. By the way, it is really can&#39;t be exactly as simple Delphi&#39;s syntax. But everything was done in a way: <code>if (Host-&gt;ItemIndex == Host-&gt;Items-&gt;IndexOf(&quot;Google&quot;))</code> so on... Thank you, all."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1436725742, "post_id": 31298911, "comment_id": 50721457, "body": "There is no &quot;automatic conversion from UnicodeString to integer&quot;."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 69, "user_id": 5094649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/370428d94fd31a975739b2bfd364739b?s=128&d=identicon&r=PG&f=1", "display_name": "July Elizabeth", "link": "https://stackoverflow.com/users/5094649/july-elizabeth"}, "edited": false, "score": 0, "creation_date": 1436725913, "post_id": 31298911, "comment_id": 50721514, "body": "@July:  Both Delphi and C++Builder use the <b>exact same</b> RTL/VCL/FMX libraries, so the <b>exact same logic</b> can be used in both languages if the ComboBoxes are configured the <b>exact same way</b> in both languages.  That is clearly not the case in your situation, or else you would not be having this much trouble. Make sure your ComboBox properties in C++Builder match the same properties in Delphi."}, {"owner": {"reputation": 1059, "user_id": 16772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef0364da2ae923ac1791242cdda19db4?s=128&d=identicon&r=PG", "display_name": "Rodrigo G&#243;mez", "link": "https://stackoverflow.com/users/16772/rodrigo-g%c3%b3mez"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1436726257, "post_id": 31298911, "comment_id": 50721624, "body": "@RemyLebeau yes, it was a poor choice of words from my part. I&#39;ll edit the answer to use the correct idea."}], "tags": [], "owner": {"reputation": 1059, "user_id": 16772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef0364da2ae923ac1791242cdda19db4?s=128&d=identicon&r=PG", "display_name": "Rodrigo G&#243;mez", "link": "https://stackoverflow.com/users/16772/rodrigo-g%c3%b3mez"}, "is_accepted": true, "score": 3, "last_activity_date": 1436734147, "last_edit_date": 1436734147, "creation_date": 1436374349, "answer_id": 31298911, "question_id": 31298510, "link": "https://stackoverflow.com/questions/31298510/show-add-an-item-from-to-some-comboboxs-in-c-builder-xe8/31298911#31298911", "title": "Show/Add an Item from/to Some ComboBoxs in C++ Builder XE8", "body": "<p>About your first problem: you probably don't have the same <code>Style</code> property on the Combobox in Delphi and C++Builder. Setting it to <code>csDropDown</code> allows you to specify the Text, but <code>csDropDownList</code> doesn't.</p>\n\n<p>Now, ItemIndex is an integer property, so the call to IntToStr is not needed. It shouldn't even compile, as you can't assign text to an integer variable, and in XE5 at least it doesn't. If it works later it must be because there is an <code>operator int()</code> or similar for UnicodeString, although I didn't find it on the latest documentation.</p>\n\n<p>About your second issue: <code>Add()</code> adds the passed string to the end of the list. If you want to insert the string in a specific position, then you need to call <code>Insert()</code> which asks you for the position to insert it, in your case it would be 0. This, of course, assumes the StringList is not sorted. </p>\n\n<p>Here is the Documentation for <code>TStrings</code>: <a href=\"http://docwiki.embarcadero.com/Libraries/XE5/en/System.Classes.TStrings\" rel=\"nofollow\">http://docwiki.embarcadero.com/Libraries/XE5/en/System.Classes.TStrings</a></p>\n"}], "owner": {"reputation": 69, "user_id": 5094649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/370428d94fd31a975739b2bfd364739b?s=128&d=identicon&r=PG&f=1", "display_name": "July Elizabeth", "link": "https://stackoverflow.com/users/5094649/july-elizabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 31298911, "answer_count": 1, "score": 1, "last_activity_date": 1436734147, "creation_date": 1436373085, "last_edit_date": 1436374206, "question_id": 31298510, "link": "https://stackoverflow.com/questions/31298510/show-add-an-item-from-to-some-comboboxs-in-c-builder-xe8", "title": "Show/Add an Item from/to Some ComboBoxs in C++ Builder XE8", "body": "<p>I need your help to resolve my 2 problems.</p>\n\n<p>I'm using 3 ComboBoxs (CB). When choosing an item from 1st CB, then an item of 2nd &amp; 3rd CB will automatically come up .</p>\n\n<p>On Delphi, all settings are work so well via \"Text\" property. </p>\n\n<p>1st CB contains:</p>\n\n<pre><code>Google\nYahoo\n</code></pre>\n\n<p>2nd CB contains:</p>\n\n<pre><code>8.8.8.8\n9.9.9.9\n</code></pre>\n\n<p>3rd CB contains:</p>\n\n<pre><code>8888\n9999\n</code></pre>\n\n<p>Below is my code on Delphi :</p>\n\n<pre><code>procedure TForm.1stCBChange(Sender: TObject);\nbegin\n if 1stCB.Text  = 'Google' then begin\n    2ndCB.Text := '8.8.8.8';\n    3rdCB.Text := '8888';\n end else\n if 1stCB.Text  = 'Yahoo' then begin\n    2ndCB.Text := '9.9.9.9';\n    3rdCB.Text := '9999';\n end;\nend;\n</code></pre>\n\n<p>The problem is that on C++ Builder XE8, it's not work properly via \"Text\" property. On the other words, the 2nd &amp; 3rd CB's item is not shown via \"Text\" property.</p>\n\n<pre><code>void __fastcall TForm::1stCBChange(TObject *Sender)\n{\n  if (1stCBChange-&gt;Text == \"Google\")\n   {\n     2ndCB-&gt;Text = \"8.8.8.8\";\n     3rdCB-&gt;Text = \"8888\";\n   }\n  else \n  if (1stCBChange-&gt;Text == \"Yahoo\")\n   {\n     2ndCB-&gt;Text = \"9.9.9.9\";\n     3rdCB-&gt;Text = \"9999\";\n   }\n}\n</code></pre>\n\n<p>So to make it works, I have to use \"ItemIndex\" property. </p>\n\n<pre><code>void __fastcall TForm::1stCBChange(TObject *Sender)\n{\n  if (1stCBChange-&gt;ItemIndex == 0)\n   {\n     2ndCB-&gt;ItemIndex = IntToStr(0); \n     // or 2ndCB-&gt;ItemIndex = 0;\n     3rdCB-&gt;ItemIndex = IntToStr(0);\n   }\n  else \n  if (1stCBChange-&gt;ItemIndex == 1)\n   {\n     2ndCB-&gt;ItemIndex = IntToStr(1);\n     3rdCB-&gt;ItemIndex = IntToStr(1);\n   }\n}\n</code></pre>\n\n<p>I've tried some ways, but not works, e.g. <code>2ndCB-&gt;Items-&gt;Objects[1] = (TObject*) new String(\"8.8.8.8\");</code> or <code>2ndCB-&gt;Items-&gt;AddObject(\"8.8.8.8\",2ndCB);</code> so on and on...</p>\n\n<p>So my question: how to make it works on C++ Builder XE8 via \"Text\" option really like on Delphi ?</p>\n\n<p>Thank you very much for your help.</p>\n"}, {"tags": ["c++", "c", "c++11"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1436374529, "post_id": 31298479, "comment_id": 50588371, "body": "You should not use a regular expression. This does not seem to be a good task for regular expressions. It&#39;d be trivial to write a simple parser by hand that searches for quoted and unquoted strings."}, {"owner": {"reputation": 107, "user_id": 5094883, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/484be6b4bf01eb180d49900e672eb51c?s=128&d=identicon&r=PG&f=1", "display_name": "MyJustWorking", "link": "https://stackoverflow.com/users/5094883/myjustworking"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1436375176, "post_id": 31298479, "comment_id": 50588741, "body": "yes but i need to be regex .... it is very important for me to be regex ..."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 1, "creation_date": 1436375857, "post_id": 31298479, "comment_id": 50589148, "body": "Why is it important that it be regex? You should strive to use the right tool for every task, so why force yourself to use one tool when another is a better fit?"}, {"owner": {"reputation": 107, "user_id": 5094883, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/484be6b4bf01eb180d49900e672eb51c?s=128&d=identicon&r=PG&f=1", "display_name": "MyJustWorking", "link": "https://stackoverflow.com/users/5094883/myjustworking"}, "edited": false, "score": 0, "creation_date": 1436376037, "post_id": 31298479, "comment_id": 50589247, "body": "ok please write for me a program with other way to do this ..."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436377104, "post_id": 31298479, "comment_id": 50589897, "body": "Something like <code>&quot; *((&#39;([^\\&#39;]*(\\\\|\\&#39;)*)*&#39;)|[^&#39;,]*), *&quot;</code> (untested) ? (only handle <code>\\&#39;</code> and `\\` in quote)."}, {"owner": {"reputation": 107, "user_id": 5094883, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/484be6b4bf01eb180d49900e672eb51c?s=128&d=identicon&r=PG&f=1", "display_name": "MyJustWorking", "link": "https://stackoverflow.com/users/5094883/myjustworking"}, "edited": false, "score": 0, "creation_date": 1436379543, "post_id": 31298479, "comment_id": 50591431, "body": "not worked ... please check it again"}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436460401, "post_id": 31300978, "comment_id": 50633633, "body": "Note that you cannot use <code>\\` or </code>\\&#39;` to escape <code>` or </code>&#39;` with your regex."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436464579, "post_id": 31300978, "comment_id": 50636179, "body": "@Jarod42: Do you mean, this would e.g. be a problem if the string contains something like <code>don&#39;t</code>? You are right, I didn&#39;t think of that. Thank you!. I don&#39;t see, why <code>`</code> would be a problem though. In any event - depending on whether the OP has control over the formatting of the string, or not - I&#39;d rather not require them to be escaped, but would only treat <code>&#39;</code>s special, that come directly before or after a <code>,</code> (probably allow whitespaces in between)."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436466278, "post_id": 31300978, "comment_id": 50637083, "body": "Yes I mean something like <code>don\\&#39;t</code>."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1436470456, "post_id": 31300978, "comment_id": 50639517, "body": "Ok, I&#39;ll think about it. I guess the second symbol to escape wasn&#39;t <code>`</code> as I initially though, but the backslash itself right?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436519601, "post_id": 31300978, "comment_id": 50658084, "body": "I meant: <code>&#39;</code> (quote) , and <code>\\</code>(backslash). (I (mis-)used backquote to render those char as code...)"}], "tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": true, "score": 1, "last_activity_date": 1436438898, "last_edit_date": 1436438898, "creation_date": 1436380603, "answer_id": 31300978, "question_id": 31298479, "link": "https://stackoverflow.com/questions/31298479/using-regex-to-split-special-char/31300978#31300978", "title": "Using regex to split special char", "body": "<p>Depending on how you want to handle certain corner cases, you can use the following:</p>\n\n<pre><code>std::regex reg(R\"--((('.*?')|[^,])+)--\");\n</code></pre>\n\n<p>Step, by step:</p>\n\n<ul>\n<li><code>R\"--(...)--\"</code> Is syntax for raw string literals, so we don't have to worry about escaping. We don't need it here, but I'm using them by default for regex strings. </li>\n<li><code>('.*?')</code> all characters between (and including) two apostrophes (non greedy)</li>\n<li><code>[^,]</code> anything that is not a comma</li>\n<li><code>(('.*?')|[^,])+</code> arbitrary sequence of non-<code>,</code>-characters or <code>'...'</code>-sequences.<br>\n(Note: the <code>('.*?')</code> part has to come first)</li>\n</ul>\n\n<p>So this will also match e.g. <code>tkasd 'rtzrze,123'</code> as a single match. It will also NOT remove any whitespaces.</p>\n\n<p>Usage:</p>\n\n<pre><code>std::regex reg(R\"--((('.*?')|[^,])+)--\");\nstd::string s = \",,t   '123,4565',k ,'rt',t,z\";\n\nfor (std::sregex_iterator rit(s.begin(), s.end(), reg), end{}; rit != end; ++rit) {\n    std::cout &lt;&lt; rit-&gt;str() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>t   '123,4565'\nk\n'rt'\nt\nz\n</code></pre>\n\n<p>Edit:<br>\nI rarely use regular expressions, so any comments about possible improvements or gotchas are welcome. Maybe there is also an even better solution using <code>regex_token_iterator</code>.</p>\n"}], "owner": {"reputation": 107, "user_id": 5094883, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/484be6b4bf01eb180d49900e672eb51c?s=128&d=identicon&r=PG&f=1", "display_name": "MyJustWorking", "link": "https://stackoverflow.com/users/5094883/myjustworking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 31300978, "answer_count": 1, "score": -2, "last_activity_date": 1436438898, "creation_date": 1436372977, "last_edit_date": 1436373961, "question_id": 31298479, "link": "https://stackoverflow.com/questions/31298479/using-regex-to-split-special-char", "title": "Using regex to split special char", "body": "<pre><code>string MyName = \" 'hi, load1', 'hi, load2', varthatnotstring \";\n</code></pre>\n\n<p>I want to use <em>regex</em> to split the above string at every <code>,</code>, while preserving strings that are inside quotation.</p>\n\n<p>As such, splitting <code>MyName</code> should yield:  </p>\n\n<pre><code>1: 'hi, load1'\n2: 'hi, load2'\n3: varthatnotstring\n</code></pre>\n\n<p>I currently use <code>regex MyR(\"(.<em>),(.</em>),(.*)\");</code>, but that gives me:</p>\n\n<pre><code>1: 'hi\n2: load1'\n3: 'hi\n4: load2'\n</code></pre>\n\n<hr>\n\n<ul>\n<li>What regular-expression should I use?</li>\n</ul>\n"}, {"tags": ["c++", "opengl", "texture2d", "compute-shader", "ati"], "comments": [{"owner": {"reputation": 8851, "user_id": 760746, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/19726c55cf8ab72ea01bbb2feee5a3f1?s=128&d=identicon&r=PG", "display_name": "Nobody moving away from SE", "link": "https://stackoverflow.com/users/760746/nobody-moving-away-from-se"}, "edited": false, "score": 0, "creation_date": 1436965914, "post_id": 31298444, "comment_id": 50833092, "body": "Independently of an answer I would also like to see if other AMD users see the same problem."}, {"owner": {"reputation": 181, "user_id": 3821972, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/57CKU.jpg?s=128&g=1", "display_name": "Kedriik", "link": "https://stackoverflow.com/users/3821972/kedriik"}, "edited": false, "score": 0, "creation_date": 1505307384, "post_id": 31298444, "comment_id": 79358787, "body": "have the same problem. imageLoad() returns always vec4(0,0,0,0) or/and imageStore() doesnt store my vectors. Have you found solution? My thread: <a href=\"https://stackoverflow.com/questions/46160723/opengl-render-difference-between-nvidia-and-ati\" title=\"opengl render difference between nvidia and ati\">stackoverflow.com/questions/46160723/&hellip;</a>"}, {"owner": {"reputation": 8851, "user_id": 760746, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/19726c55cf8ab72ea01bbb2feee5a3f1?s=128&d=identicon&r=PG", "display_name": "Nobody moving away from SE", "link": "https://stackoverflow.com/users/760746/nobody-moving-away-from-se"}, "reply_to_user": {"reputation": 181, "user_id": 3821972, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/57CKU.jpg?s=128&g=1", "display_name": "Kedriik", "link": "https://stackoverflow.com/users/3821972/kedriik"}, "edited": false, "score": 0, "creation_date": 1505318704, "post_id": 31298444, "comment_id": 79367206, "body": "@Kedriik No, I just assumed it is a driver bug since it depended on surrounding code. I just gave up on AMD there."}], "owner": {"reputation": 8851, "user_id": 760746, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/19726c55cf8ab72ea01bbb2feee5a3f1?s=128&d=identicon&r=PG", "display_name": "Nobody moving away from SE", "link": "https://stackoverflow.com/users/760746/nobody-moving-away-from-se"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1437142187, "creation_date": 1436372867, "last_edit_date": 1437142187, "question_id": 31298444, "link": "https://stackoverflow.com/questions/31298444/imagestore-does-not-write-when-using-two-ssbos-in-compute-shader", "title": "imageStore does not write when using two SSBOs in compute shader", "body": "<p>I noticed an error in one of my compute shaders when trying to run it on my ATI HD 5770. \nI found out that the problems start when I access more then one SSB in the shader, despite  GL_MAX_COMPUTE_SHADER_STORAGE_BLOCKS being 8.</p>\n\n<p>After some fiddling I reduced the problematic shader to this MWE:</p>\n\n<pre><code>#version 430\nlayout(local_size_x = 1) in;\n\nbuffer A { float a[]; };\nbuffer B { uint b[]; };\nlayout(r32i) uniform iimage2D outputImage;\n\nvoid main() {\n  a[0] = -2;\n  b.length();\n  imageStore(outputImage, ivec2(gl_GlobalInvocationID.xy),\n             ivec4(a[0], 0, 0, 0));\n}\n</code></pre>\n\n<p>When I run this shader as is, I don't see any changes from <code>imageStore</code>.\nWhen removing <code>b.length();</code>, I get the desired output of <code>-2</code> in the image.</p>\n\n<p>The value of <code>a[0]</code> is changed to <code>-2</code> in both cases, so the shader is definitely running.</p>\n\n<p>There are no compilation/linker errors for the shader in both cases and <code>glGetError</code> does not return an error as well.</p>\n\n<p>Am I doing something wrong here? </p>\n\n<p>Is this a (driver) bug? After all, this does not happen on my other (NVidia) cards.</p>\n\n<p>Just for completeness, I used this \"minimal\" C++ file to run the shader:</p>\n\n<pre><code>#include &lt;cassert&gt;\n#include &lt;QGuiApplication&gt;\n#include &lt;QOpenGLShaderProgram&gt;\n#include &lt;QOffscreenSurface&gt;\n#include &lt;QOpenGLBuffer&gt;\n#include &lt;QOpenGLContext&gt;\n#include &lt;QOpenGLTexture&gt;\n#include &lt;QOpenGLFunctions_4_3_Compatibility&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;iterator&gt;\n\nint main(int argc, char* argv[]) {\n  QGuiApplication app(argc, argv);\n  QOffscreenSurface surface;\n  surface.create();\n\n  QOpenGLContext context;\n  context.create();\n  context.makeCurrent(&amp;surface);\n\n  QOpenGLShaderProgram program;\n  program.addShaderFromSourceFile(QOpenGLShader::Compute, \"shader.comp\");\n  bool programIsLinked = program.link();\n  assert(programIsLinked);\n\n  QSize size(2, 2);\n\n  QOpenGLBuffer bufferA;\n  bufferA.create();\n  bufferA.bind();\n  std::vector&lt;GLfloat&gt; valuesOfBufferA(1, 2);\n  bufferA.allocate(&amp;valuesOfBufferA.front(),\n                   sizeof(valuesOfBufferA.front()) * valuesOfBufferA.size());\n  bufferA.release();\n\n  QOpenGLTexture texture(QOpenGLTexture::Target2D);\n  texture.create();\n  texture.setFormat(QOpenGLTexture::R32I);\n  texture.setSize(size.width(), size.height());\n  texture.bind();\n  texture.allocateStorage();\n  std::vector&lt;GLint&gt; data;\n  data.resize(size.width() * size.height(), -1);\n  texture.setData(QOpenGLTexture::Red_Integer, QOpenGLTexture::Int32,\n                  data.data());\n  texture.release();\n\n  QOpenGLFunctions_4_3_Compatibility* qOGL =\n      context.versionFunctions&lt;QOpenGLFunctions_4_3_Compatibility&gt;();\n  qOGL-&gt;initializeOpenGLFunctions();\n\n  program.bind();\n\n  qOGL-&gt;glBindBufferBase(GL_SHADER_STORAGE_BUFFER, 0, bufferA.bufferId());\n  qOGL-&gt;glBindImageTexture(0, texture.textureId(), 0, GL_FALSE, 0,\n                           GL_WRITE_ONLY, texture.format());\n\n  qOGL-&gt;glDispatchCompute(size.width(), size.height(), 1);\n\n  qOGL-&gt;glMemoryBarrier(GL_ALL_BARRIER_BITS);\n  // for good measure :)\n  qOGL-&gt;glFinish();\n\n  data.clear();\n  data.resize(size.width() * size.height(), 0);\n  glBindTexture(GL_TEXTURE_2D, texture.textureId());\n  glGetTexImage(GL_TEXTURE_2D, 0, GL_RED_INTEGER, GL_INT, data.data());\n  glBindTexture(GL_TEXTURE_2D, 0);\n\n  bufferA.bind();\n  bufferA.read(0, valuesOfBufferA.data(),\n               sizeof(valuesOfBufferA.front()) * valuesOfBufferA.size());\n  bufferA.release();\n\n  assert(GL_NO_ERROR == glGetError());\n\n  std::cout &lt;&lt; valuesOfBufferA.front() &lt;&lt; \"\\n\";\n\n  std::copy(data.begin(), data.end(),\n            std::ostream_iterator&lt;GLint&gt;(std::cout, \" \"));\n  std::cout &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>There seems to be a similar problem with <code>imageLoad</code> where it does always return 0 with more than 2 SSBOs being used, 3 with 2 SSBOs being used, and the correct value for less than 2 SSBOs. Both problems occur even on the newest driver (15.7, was 15.5 before).</p>\n"}, {"tags": ["c++", "pointers", "polymorphism"], "comments": [{"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 4, "creation_date": 1436372767, "post_id": 31298348, "comment_id": 50587255, "body": "In short: google &quot;pass by value&quot; and &quot;pass by reference&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 0, "last_activity_date": 1436372882, "creation_date": 1436372882, "answer_id": 31298450, "question_id": 31298348, "link": "https://stackoverflow.com/questions/31298348/reference-to-a-pointer-polymorphism/31298450#31298450", "title": "Reference to a pointer - Polymorphism", "body": "<p>You are passing the pointer <em>by value</em>, this means that the value is copied, and in the function you only modify the copy. Modifying a copy will of course not modify the original.</p>\n"}], "owner": {"reputation": 1016, "user_id": 3998205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44de281134f32f62678461168a20dfee?s=128&d=identicon&r=PG&f=1", "display_name": "java", "link": "https://stackoverflow.com/users/3998205/java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1436372978, "answer_count": 1, "score": 0, "last_activity_date": 1436373057, "creation_date": 1436372626, "last_edit_date": 1436373057, "question_id": 31298348, "link": "https://stackoverflow.com/questions/31298348/reference-to-a-pointer-polymorphism", "closed_reason": "Duplicate", "title": "Reference to a pointer - Polymorphism", "body": "<p>If I am <strong>NOT</strong> using a reference to a pointer when sending the base-pointer to another class constructor - <em>and</em> in this class binding the basepointer to a derived object of the base - the basepointer returns NULL. </p>\n\n<p>Simply - what is the reason for this? </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Base {\n   public:\n      virtual void print() = 0;\n};\n\nclass Sub1 : public Base {\npublic:\n   void print() {\n      cout &lt;&lt; \"I am allocated!\\n\";\n  }\n};\n\nclass App {\npublic: \n   App(Base *b) {\n      b = new Sub1;\n   }\n};\n\nint main() {\n   Base *b;\n   b = NULL;\n\n   App app(b);\n\n   if (b != NULL)\n      b-&gt;print();\n   else\n      cout &lt;&lt; \"Basepointer is NULL\\n\";\n\n   return 0;\n}\n</code></pre>\n\n<p>The crucial part here is the signature of the App-class constructor</p>\n\n<p>when not using a reference to the basepointer i.e</p>\n\n<pre><code>   App(Base *b)\n</code></pre>\n\n<p>the output is:</p>\n\n<pre><code>   Basepointer is NULL\n</code></pre>\n\n<p>And when using a reference to the base-class i.e.</p>\n\n<pre><code>  App(Base *&amp;b)\n</code></pre>\n\n<p>the output is:</p>\n\n<pre><code> I am allocated!\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1436372686, "post_id": 31298326, "comment_id": 50587184, "body": "It&#39;s not clear what misunderstanding needs to be corrected here. Why do you think that should be a compiler error?"}, {"owner": {"reputation": 2659, "user_id": 2484238, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RVQ1a.jpg?s=128&g=1", "display_name": "Bun", "link": "https://stackoverflow.com/users/2484238/bun"}, "edited": false, "score": 2, "creation_date": 1436372711, "post_id": 31298326, "comment_id": 50587210, "body": "<a href=\"http://stackoverflow.com/questions/17073066/g-calling-function-without-parenthesis-not-f-but-f-why-always-return\" title=\"g calling function without parenthesis not f but f why always return\">stackoverflow.com/questions/17073066/&hellip;</a>"}, {"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 0, "creation_date": 1436372801, "post_id": 31298326, "comment_id": 50587272, "body": "What is the problem with omitting the brackets? Or is that part just incidental?"}, {"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "reply_to_user": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 0, "creation_date": 1436373533, "post_id": 31298326, "comment_id": 50587748, "body": "@joel-cornett accidental"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436373012, "post_id": 31298367, "comment_id": 50587415, "body": "Why can I refer to <code>i</code> without doing anything?"}, {"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "reply_to_user": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436373112, "post_id": 31298367, "comment_id": 50587473, "body": "@mischnic I don&#39;t know. I would say it&#39;s just another flaw with C++. Other languages like Java don&#39;t allow you to do that."}, {"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436373269, "post_id": 31298367, "comment_id": 50587554, "body": "Yeah, usually I use java and thats why I stumbled across this."}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1436373578, "post_id": 31298367, "comment_id": 50587779, "body": "Don&#39;t forget that some compilers actually produce code when you do this. Try e.g. with gcc (4.8) when <code>i</code> is volatile, where you get actual code to load the value of <code>i</code> (clang doesn&#39;t but warns about the issue)."}], "tags": [], "owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "is_accepted": false, "score": 2, "last_activity_date": 1436372682, "creation_date": 1436372682, "answer_id": 31298367, "question_id": 31298326, "link": "https://stackoverflow.com/questions/31298326/c-function-call-without-brackets/31298367#31298367", "title": "C++ function call without brackets", "body": "<p>Here's a nutshell explanation.</p>\n\n<p>In the same way that this expression:</p>\n\n<pre><code>i;\n</code></pre>\n\n<p>is just referring to the variable <code>i</code> without actually doing anything with it, this expression:</p>\n\n<pre><code>clearDisplay;\n</code></pre>\n\n<p>simply refers to the <code>clearDisplay</code> function without actually calling it.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436372818, "post_id": 31298375, "comment_id": 50587290, "body": "Why can I say <code>i;</code> and it is correct? It doesn&#39;t make any difference."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 1, "creation_date": 1436372855, "post_id": 31298375, "comment_id": 50587310, "body": "<code>i;</code> compiles too so long as <code>i</code> has been declared."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 8, "last_activity_date": 1436372713, "creation_date": 1436372713, "answer_id": 31298375, "question_id": 31298326, "link": "https://stackoverflow.com/questions/31298326/c-function-call-without-brackets/31298375#31298375", "title": "C++ function call without brackets", "body": "<p>You can regard <code>clearDisplay</code> as the address of the function. Crucually, it will have a non-zero numerical value, and a statement consisting of a single variable is grammatically correct.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436372889, "post_id": 31298399, "comment_id": 50587336, "body": "<code>i++</code> is the same as <code>i = i +1;</code> so it isn&#39;t ignored because it changes the value of i"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1436372955, "post_id": 31298399, "comment_id": 50587376, "body": "No, the value of the <i>expression</i> <code>i++</code> is being ignored."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436373007, "post_id": 31298399, "comment_id": 50587409, "body": "@mischnic In <code>i = i + 1;</code>, the result <i>is</i> ignored. You could have said <code>printf(&quot;%d&quot;, i = i + 1);</code> but instead you ignored the result of assigning a new value to <code>i</code>. (Because all you wanted was the side-effect of evaluating the expression, which was an assignment. You didn&#39;t care about the value, so you ignored it.)"}, {"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436373208, "post_id": 31298399, "comment_id": 50587521, "body": "Oh, but <code>i++;</code> does something compared to <code>i;</code>. And <code>i = i + 1</code> actually returns <code>i+1</code>, sets the new value and returns the new value."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1436373254, "post_id": 31298399, "comment_id": 50587539, "body": "Exactly. So C++ has to let you ignore the results of expressions. We often ignore the results of expressions when what we want are the side-effects of evaluating the expression. But, to be nice, compilers should warn you when they see you ignoring the results of expressions they know have no side-effects, since that appears pointless."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "reply_to_user": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 1, "creation_date": 1436374810, "post_id": 31298399, "comment_id": 50588531, "body": "@mischnic a similar usage is calling a function and ignore the return value"}, {"owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "reply_to_user": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1436385429, "post_id": 31298399, "comment_id": 50595087, "body": "@L\u01b0uV\u0129nhPh&#250;c but that actually does something"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1436400922, "post_id": 31298399, "comment_id": 50601505, "body": "No, the thing here is <code>expression;</code> is a valid statement in C and C++. Regardless of the side effects of the expression, you&#39;re discarding the result. <code>i = i + 1</code> <b>is</b> an expression because it returns a value and you can use it in subsequent expression like <code>if (i = i + 1)</code> or <code>j = i = i + 1</code>..."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "edited": false, "score": 0, "creation_date": 1436426318, "post_id": 31298399, "comment_id": 50609709, "body": "@mischnic Do you think the compiler can always tell whether an expression has side-effects or not? (Consider <code>abs(c);</code> versus <code>putc(c);</code>). If not, how could you have a rule that ignoring the results of an expression is only allowed if the evaluation has side-effects."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 5, "last_activity_date": 1436372759, "creation_date": 1436372759, "answer_id": 31298399, "question_id": 31298326, "link": "https://stackoverflow.com/questions/31298326/c-function-call-without-brackets/31298399#31298399", "title": "C++ function call without brackets", "body": "<p>It's the same reason this is not a compiler error:</p>\n\n<pre><code>for(int i = 0; i &lt; 2; i++){\n</code></pre>\n\n<p>Look at <code>i++</code>. That's an expression whose result you've completely ignored. But that's perfectly legal. Why? Because you are allowed to ignore the results of expressions.</p>\n\n<p>To be helpful, your compiler warns you when you ignore the results of expressions with no side-effects. But if there was a language rule that it was illegal to ignore expressions with no side-effects, that would require compilers to perfectly tell whether expressions have side-effects or not, and that's basically impossible.</p>\n"}], "owner": {"reputation": 41, "user_id": 2352201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1998f45642e94ffb1073b6fd03363494?s=128&d=identicon&r=PG", "display_name": "mischnic", "link": "https://stackoverflow.com/users/2352201/mischnic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4906, "favorite_count": 0, "accepted_answer_id": 31298375, "answer_count": 3, "score": 3, "last_activity_date": 1436373704, "creation_date": 1436372560, "last_edit_date": 1495539831, "question_id": 31298326, "link": "https://stackoverflow.com/questions/31298326/c-function-call-without-brackets", "title": "C++ function call without brackets", "body": "<p>I came across this while programming and forgetting the brackets after the function call, but I only got a warning, which I overlooked:</p>\n\n<pre><code>main.cpp:7:15: warning: expression result unused [-Wunused-value]\n                if (i == 0) clearDisplay;\n                            ^~~~~~~~~~~~\n</code></pre>\n\n<p>The same thing happens when just doing</p>\n\n<pre><code>int i = 0;\ni;\n</code></pre>\n\n<p>Why isn't this a compiler error?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nvoid clearDisplay(void);\n\nint main(void){\n    for(int i = 0; i &lt; 2; i++){\n        if (i == 0) clearDisplay;\n    }\n}\n\nvoid clearDisplay(void){\n    std::cout &lt;&lt; \"test\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>EDIT:\nAs opposed to <a href=\"https://stackoverflow.com/questions/17073066/g-calling-function-without-parenthesis-not-f-but-f-why-always-return\">g++ &quot;Calling&quot; function without parenthesis ( not f() but f; ). Why always returns 1?</a> I don't ask why it is implicitly casted to a number but why the compiler doesn't warn me about that like it does with <code>if(i=0)</code> to <code>if(i==0)</code></p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "edited": false, "score": 0, "creation_date": 1436372702, "post_id": 31298322, "comment_id": 50587201, "body": "Have you tried to rerun qmake?"}, {"owner": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 0, "creation_date": 1436372862, "post_id": 31298322, "comment_id": 50587316, "body": "Been a long time since I&#39;ve used Qt, but I&#39;m certain @drescherjm (who deleted his comment) is right.... change the name of the member from <code>QTimer *timer</code> to <code>QTimer *timerOne</code>."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1436372901, "post_id": 31298322, "comment_id": 50587344, "body": "I was less certain so I deleted my comment.. In Qt 4.8 and below I have always used the auto connections based on the variable name not the objectName."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1436376741, "post_id": 31298322, "comment_id": 50589674, "body": "Are you actually calling <a href=\"http://doc.qt.io/qt-5/qmetaobject.html#connectSlotsByName\" rel=\"nofollow noreferrer\"><code>QMetaObject::connectSlotsByName</code></a> anywhere?"}, {"owner": {"reputation": 518, "user_id": 5094723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9AAA.png?s=128&g=1", "display_name": "vg0x00", "link": "https://stackoverflow.com/users/5094723/vg0x00"}, "reply_to_user": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "edited": false, "score": 0, "creation_date": 1436415189, "post_id": 31298322, "comment_id": 50604964, "body": "by using command : qmake -project , but not work, I also change .pro file opetion TEMPLATE to console and app, not work , too. @danielfranca"}, {"owner": {"reputation": 518, "user_id": 5094723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9AAA.png?s=128&g=1", "display_name": "vg0x00", "link": "https://stackoverflow.com/users/5094723/vg0x00"}, "reply_to_user": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 0, "creation_date": 1436415992, "post_id": 31298322, "comment_id": 50605185, "body": "@mah after did as you said, the same complain came out :( <a href=\"http://ubuntuforums.org/showthread.php?t=432590\" rel=\"nofollow noreferrer\">ref</a>, from the up link, signal sender must be a child object , it seems...not my case. really confused ."}, {"owner": {"reputation": 518, "user_id": 5094723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9AAA.png?s=128&g=1", "display_name": "vg0x00", "link": "https://stackoverflow.com/users/5094723/vg0x00"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1436418709, "post_id": 31298322, "comment_id": 50605974, "body": "@Oktalist connectSlotsByName member function would be called by uic, see the ui-&gt;setupUI(this);, and what&#39;s more, if you call this function manually , console complain will came out twice."}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 5094723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9AAA.png?s=128&g=1", "display_name": "vg0x00", "link": "https://stackoverflow.com/users/5094723/vg0x00"}, "edited": false, "score": 0, "creation_date": 1436446596, "post_id": 31317545, "comment_id": 50623503, "body": "thanks for your reply, it is really helpful. if someone else has similar situation like me, just refer to  <a href=\"http://ubuntuforums.org/showthread.php?t=432590\" rel=\"nofollow noreferrer\">Problem with Qts connectSlotsByName</a>  see the #8 Re,  read it and go back, everything is clear."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1438100339, "post_id": 31317545, "comment_id": 51305462, "body": "Even better: have the member <code>QTimer timer</code> instead of <code>QTimer * timer</code>. The latter is a premature pessimization - there&#39;s no reason whatsoever to manually allocate the timer."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1438116878, "post_id": 31317545, "comment_id": 51315560, "body": "@KubaOber correct. Remember the timer will still need to have its parent set to <code>this</code>, though."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1438117285, "post_id": 31317545, "comment_id": 51315801, "body": "And that&#39;s so that it will be found when <code>connectSlotsByName</code> enumerates the object&#39;s children. In this case, the parent-child relationship has nothing to do with memory management."}], "tags": [], "owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "is_accepted": true, "score": 1, "last_activity_date": 1436444971, "creation_date": 1436444971, "answer_id": 31317545, "question_id": 31298322, "link": "https://stackoverflow.com/questions/31298322/qt-can-not-slot-by-name-even-after-objectname-was-set/31317545#31317545", "title": "Qt can not slot by name, even after objectName was set", "body": "<p>Per your comment, <a href=\"http://doc.qt.io/qt-5/qmetaobject.html#connectSlotsByName\" rel=\"nofollow\">QMetaObject::connectSlotsByName</a> is called by <code>Ui::MyTimer::setupUi</code>. But you are calling <code>setupUi</code> before constructing the <code>QTimer</code>, so there is no child object named <code>timerOne</code> when <code>setupUi</code> is called, so the auto-connection slot name pattern <code>on_&lt;object name&gt;_&lt;signal name&gt;</code> doesn't match any slots.</p>\n\n<p>Move the call to <code>setupUi</code> to after the timer has been constructed and given a name:</p>\n\n<pre><code>timer = new QTimer(this);\ntimer-&gt;setObjectName(\"timerOne\");\nui-&gt;setupUi(this);\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 5094723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9AAA.png?s=128&g=1", "display_name": "vg0x00", "link": "https://stackoverflow.com/users/5094723/vg0x00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 1, "accepted_answer_id": 31317545, "answer_count": 1, "score": 1, "last_activity_date": 1436444971, "creation_date": 1436372542, "last_edit_date": 1436380757, "question_id": 31298322, "link": "https://stackoverflow.com/questions/31298322/qt-can-not-slot-by-name-even-after-objectname-was-set", "title": "Qt can not slot by name, even after objectName was set", "body": "<p>It occurs when I try to use the Qt auto signal to slot connection using Qt meta object's ability. I try to create a QTimer object, and changed its name, but slot could not match the signal, I don't know why. Here's my code:</p>\n\n<p>mytimer.h:</p>\n\n<pre><code>#ifndef MYTIMER_H\n#define MYTIMER_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QTimer&gt;\n\nnamespace Ui {\nclass MyTimer;\n}\n\nclass MyTimer : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MyTimer(QWidget *parent = 0);\n    ~MyTimer();\n\nprivate:\n    Ui::MyTimer *ui;\n    QTimer *timer;\nprivate slots:\n    void on_timerOne_timeout();\n};\n\n#endif // MYTIMER_H\n</code></pre>\n\n<p>mytimer.cpp:</p>\n\n<pre><code>#include \"mytimer.h\"\n#include \"ui_mytimer.h\"\n#include &lt;QTimer&gt;\n#include &lt;QDebug&gt;\n\nMyTimer::MyTimer(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MyTimer)\n{\n    ui-&gt;setupUi(this);\n    timer = new QTimer(this);\n    timer-&gt;setObjectName(\"timerOne\");\n    // connect(timer, &amp;QTimer::timeout, this, &amp;MyTimer::MySlot);\n    timer-&gt;start(1000);\n}\n\nMyTimer::~MyTimer()\n{\n    delete ui;\n}\n\nvoid MyTimer::on_timerOne_timeout()\n{\n    qDebug() &lt;&lt; \"Timer running...\";\n}\n</code></pre>\n\n<p>After I changed timer's ObjectName to timerOne, signal-slot-auto-connection : </p>\n\n<pre><code>void MyTimer::on_timerOne_timeout() \n</code></pre>\n\n<p>could not run correctly. </p>\n\n<p>using Qt 5.5.0</p>\n"}, {"tags": ["c++", "boost", "intersection", "boost-geometry"], "comments": [{"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 1, "creation_date": 1436371908, "post_id": 31298060, "comment_id": 50586725, "body": "Might care to add what you&#39;d expect (and what you get). Not all of us have &quot;ancient&quot; Boost installations"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1436372684, "post_id": 31298060, "comment_id": 50587179, "body": "You should use integral values. Have a look at <a href=\"http://stackoverflow.com/questions/20080868/segmentation-fault-with-boostpolygon/20081230#20081230\" title=\"segmentation fault with boostpolygon\">stackoverflow.com/questions/20080868/&hellip;</a>"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1436391408, "post_id": 31298060, "comment_id": 50598195, "body": "Did you mean square1 there (the eps-ed poly?)"}], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1436395971, "post_id": 31299368, "comment_id": 50600056, "body": "\uff0b1 for addressing the essence. My answer was just curiosity. This is the answer to be accepted"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 1, "last_activity_date": 1436375796, "creation_date": 1436375796, "answer_id": 31299368, "question_id": 31298060, "link": "https://stackoverflow.com/questions/31298060/boost-geometry/31299368#31299368", "title": "Boost, geometry", "body": "<p>You have to use integral coordinates.</p>\n\n<p>From the documentation: <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/polygon/doc/index.htm\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_58_0/libs/polygon/doc/index.htm</a></p>\n\n<blockquote>\n  <p>The coordinate data type is a template parameter of all data types and\n  algorithms provided by the library, and is expected to be integral.\n  Floating point coordinate data types are not supported by the\n  algorithms implemented in the library due to the fact that the\n  achieving floating point robustness implies a different set of\n  algorithms and generally platform specific assumptions about floating\n  point representations.</p>\n</blockquote>\n\n<p>Same applies to earlier versions. </p>\n\n<p>In your case the output of Boost(1_55 or 1_52) is correct (<strong>by accident</strong>).</p>\n"}, {"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1436392907, "post_id": 31304612, "comment_id": 50598904, "body": "I realize this answer doesn&#39;t add essential information beyond the existing answer. For the curious the Multiprecision example might be informative, though."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": false, "score": 0, "last_activity_date": 1436395920, "last_edit_date": 1436395920, "creation_date": 1436392841, "answer_id": 31304612, "question_id": 31298060, "link": "https://stackoverflow.com/questions/31298060/boost-geometry/31304612#31304612", "title": "Boost, geometry", "body": "<p>The output may seem correct the first around, but in fact it isn't if you look closer:</p>\n\n<p>A slightly refactored sample: <strong><a href=\"http://coliru.stacked-crooked.com/a/c54799c6c5ed4f5d\" rel=\"nofollow\">Live On Coliru</a></strong></p>\n\n<pre><code>#include &lt;boost/geometry.hpp&gt;\n#include &lt;boost/geometry/io/io.hpp&gt;\n#include &lt;boost/geometry/geometries/point_xy.hpp&gt;\n#include &lt;boost/geometry/geometries/polygon.hpp&gt;\n#include &lt;boost/array.hpp&gt;\n#include &lt;vector&gt;\n#include &lt;iomanip&gt;\n\nnamespace bg = boost::geometry;\n\ntemplate &lt;typename C, typename T = typename C::value_type&gt;\n    void append(C&amp; container, std::initializer_list&lt;T&gt; init) {\n        container.insert(container.end(), init);\n    }\n\nint main() {\n    typedef bg::model::d2::point_xy&lt;double&gt; TBoostPoint;\n    typedef bg::model::polygon&lt;TBoostPoint&gt; TBoostPoly;\n\n    std::vector&lt;TBoostPoly&gt; squares;\n\n    using Eps = boost::array&lt;double, 4&gt;;\n\n    for (auto const&amp; eps : { \n                Eps {{     0,     0,     0,     0 }},\n                Eps {{ 1e-15, 1e-15, 2e-15, 2e-15 }},\n            })\n    {\n        TBoostPoly square;\n        append(square.outer(), {\n             { 0.5,  4.25 + eps[0] },\n             { 0.5,   4.5 + eps[1] },\n             { 1.0,   4.5 + eps[2] },\n             { 1.0,  4.25 + eps[3] },\n             { 0.5,  4.25 + eps[0] }\n            });\n\n        squares.push_back(std::move(square));\n    }\n\n    for (auto&amp; p : squares)\n        bg::correct(p);\n\n    std::vector&lt;TBoostPoly&gt; output;\n    bg::intersection(squares[0], squares[1], output);\n\n    for (auto&amp; p : output) std::cout &lt;&lt; \"Output: \" &lt;&lt; bg::wkt(p) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(std::numeric_limits&lt;bg::coordinate_type&lt;TBoostPoint&gt;::type &gt;::max_digits10);\n    for (auto&amp; p : output) std::cout &lt;&lt; \"Output: \" &lt;&lt; bg::wkt(p) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Which prints</p>\n\n<pre><code>Output: POLYGON((0.5 4.5,1 4.5,1 4.25,0.5 4.25,0.5 4.5))\nOutput: POLYGON((0.50000000000000000 4.50000000000000000,1.00000000000000000 4.50000000000000000,1.00000000000000000 4.25000000000000178,0.50000000000000000 4.25000004999999970,0.50000000000000000 4.50000000000000000))\n</code></pre>\n\n<p>As you can see, the naive, natural output <strong>may</strong> seem to be <code>4.25</code> at some point, but the actual value stored is <code>4.25000000000000178</code> at that exact moment.</p>\n\n<p>Depending on what requirements you have you might be happier with some arbitrary precision decimal representation types. As a proof of concept, here's the same program parameterized to use 50-digit decimal floats:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/2312a3287fbf819f\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/geometry.hpp&gt;\n#include &lt;boost/geometry/io/io.hpp&gt;\n#include &lt;boost/geometry/geometries/point_xy.hpp&gt;\n#include &lt;boost/geometry/geometries/polygon.hpp&gt;\n#include &lt;boost/array.hpp&gt;\n#include &lt;boost/multiprecision/cpp_dec_float.hpp&gt;\n#include &lt;vector&gt;\n#include &lt;iomanip&gt;\n\nnamespace bg  = boost::geometry;\nnamespace bmp = boost::multiprecision;\n\ntemplate &lt;typename C, typename T = typename C::value_type&gt;\n    void append(C&amp; container, std::initializer_list&lt;T&gt; init) {\n        container.insert(container.end(), init);\n    }\n\nint main() {\n    typedef bmp::number&lt;bmp::cpp_dec_float&lt;50&gt;, bmp::et_off&gt; Decimal;\n    typedef bg::model::d2::point_xy&lt;Decimal&gt; TBoostPoint;\n    typedef bg::model::polygon&lt;TBoostPoint&gt; TBoostPoly;\n\n    std::vector&lt;TBoostPoly&gt; squares;\n\n    using Eps = boost::array&lt;Decimal, 4&gt;;\n\n    for (auto const&amp; eps : { \n                Eps {{     0,     0,     0,     0 }},\n                Eps {{ 1e-15, 1e-15, 2e-15, 2e-15 }},\n            })\n    {\n        TBoostPoly square;\n        append(square.outer(), {\n             { 0.5,  4.25 + eps[0] },\n             { 0.5,   4.5 + eps[1] },\n             { 1.0,   4.5 + eps[2] },\n             { 1.0,  4.25 + eps[3] },\n             { 0.5,  4.25 + eps[0] }\n            });\n\n        squares.push_back(std::move(square));\n    }\n\n    for (auto&amp; p : squares)\n        bg::correct(p);\n\n    std::vector&lt;TBoostPoly&gt; output;\n    bg::intersection(squares[0], squares[1], output);\n\n    for (auto&amp; p : output) std::cout &lt;&lt; \"Output: \" &lt;&lt; bg::wkt(p) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(std::numeric_limits&lt;bg::coordinate_type&lt;TBoostPoint&gt;::type &gt;::max_digits10);\n    for (auto&amp; p : output) std::cout &lt;&lt; \"Output: \" &lt;&lt; bg::wkt(p) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>Output: POLYGON((0.5 4.5,1 4.5,1 4.25,0.5 4.25,0.5 4.5))\nOutput: POLYGON((0.50000000000000000000000000000000000000000000000000000000000000000000000000000000 4.50000000000000000000000000000000000000000000000000000000000000000000000000000000,1.00000000000000000000000000000000000000000000000000000000000000000000000000000000 4.50000000000000000000000000000000000000000000000000000000000000000000000000000000,1.00000000000000000000000000000000000000000000000000000000000000000000000000000000 4.25000000000000200000000000000015541079975332215847661437120239003029098500000000,0.50000000000000000000000000000000000000000000000000000000000000000000000000000000 4.25000000000000100000000000000007770539987666107923830718560119501514549200000000,0.50000000000000000000000000000000000000000000000000000000000000000000000000000000 4.50000000000000000000000000000000000000000000000000000000000000000000000000000000))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5070625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/987e59c9ac04113f7a3991d450a830e9?s=128&d=identicon&r=PG&f=1", "display_name": "Yury Panyukov", "link": "https://stackoverflow.com/users/5070625/yury-panyukov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1556219071, "creation_date": 1436371793, "last_edit_date": 1556219071, "question_id": 31298060, "link": "https://stackoverflow.com/questions/31298060/boost-geometry", "title": "Boost, geometry", "body": "<p>I have a problem with boost::geomentry.</p>\n\n<pre><code>#include &lt;boost/geometry.hpp&gt;\n#include &lt;boost/geometry/geometries/point_xy.hpp&gt;\n#include &lt;boost/geometry/geometries/polygon.hpp&gt;\n#include &lt;vector&gt;\n\nint main(){\ntypedef boost::geometry::model::d2::point_xy&lt;double&gt; TBoostPoint;\ntypedef boost::geometry::model::polygon&lt;TBoostPoint&gt; TBoostPoly;    \nTBoostPoly square, square1;    \nsquare.outer().push_back(TBoostPoint(0.5,4.25));\nsquare.outer().push_back(TBoostPoint(0.5,4.5));\nsquare.outer().push_back(TBoostPoint(1.0,4.5));\nsquare.outer().push_back(TBoostPoint(1.0,4.25));\nsquare.outer().push_back(TBoostPoint(0.5,4.25));    \nconst double eps[] = {1e-15,1e-15,2e-15,2e-15};    \nsquare.outer().push_back(TBoostPoint(0.5,4.25 + eps[0]));\nsquare.outer().push_back(TBoostPoint(0.5,4.5  + eps[1]));\nsquare.outer().push_back(TBoostPoint(1.0,4.5  + eps[2]));\nsquare.outer().push_back(TBoostPoint(1.0,4.25 + eps[3]));\nsquare.outer().push_back(TBoostPoint(0.5,4.25 + eps[0]));    \nboost::geometry::correct(square);\nboost::geometry::correct(square1);    \nstd::vector&lt;TBoostPoly&gt; output;    \nboost::geometry::intersection(square,square1,output);    \nreturn 0;    \n}\n</code></pre>\n\n<p>If I use Boost(<em>1_58</em>) output - is not correct, but if I use Boost(<em>1_55</em> or <em>1_52</em>), output - is correct.</p>\n\n<hr>\n\n<hr>\n\n<p><strong>Expected</strong></p>\n\n<pre>\n{(0.5,4.25),(0.5,4.5),(1.0,4.25),<b>(1.0,4.25)</b>,(0.5,4.25)}\n</pre>\n\n<p><strong>Result (boost <em>1_58</em>)</strong></p>\n\n<p><pre>{(0.5,4.25),(0.5,4.5),(1.0,4.25),<b>(1.0,4.25 + 5e-8)</b>,(0.5,4.25)}.</pre></p>\n"}, {"tags": ["c++", "namespaces", "g++", "linkage"], "comments": [{"owner": {"reputation": 4369, "user_id": 3102935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/22985d9fffff3b76a11b1f2bccbf2f42?s=128&d=identicon&r=PG&f=1", "display_name": "WorldSEnder", "link": "https://stackoverflow.com/users/3102935/worldsender"}, "edited": false, "score": 2, "creation_date": 1436371670, "post_id": 31297984, "comment_id": 50586563, "body": "Do both functions have C-linkage originally? If yes: <a href=\"http://stackoverflow.com/questions/9685994/c-extern-c-functions-inside-a-namespace\">C functions disable name mangling</a>"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 1, "creation_date": 1436371791, "post_id": 31297984, "comment_id": 50586655, "body": "Try wrapping both includes in ` #ifdef __cplusplus extern &quot;C&quot; { #endif #include normal.h #ifdef __cplusplus } #endif&#39;"}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 1, "creation_date": 1436372302, "post_id": 31297984, "comment_id": 50586951, "body": "If you can&#39;t change the libraries then they already have a particular linkage model, and you can&#39;t change that."}, {"owner": {"reputation": 337, "user_id": 2916576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4af65af26896500af37eacff2b33e05?s=128&d=identicon&r=PG&f=1", "display_name": "gerowam", "link": "https://stackoverflow.com/users/2916576/gerowam"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1436373031, "post_id": 31297984, "comment_id": 50587427, "body": "@rost0031 That worked! Thanks! I still get warnings about multiple definitions, but no segfault. Feel free to post (and maybe explain?) the answer."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1436374653, "post_id": 31297984, "comment_id": 50588443, "body": "@gerowam: done and done."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 2916576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4af65af26896500af37eacff2b33e05?s=128&d=identicon&r=PG&f=1", "display_name": "gerowam", "link": "https://stackoverflow.com/users/2916576/gerowam"}, "edited": false, "score": 0, "creation_date": 1436456976, "post_id": 31298991, "comment_id": 50631503, "body": "To name names: the problematic headers were from GSL (gsl/gsl_linag.h and gsl/gsl_blas.h) and Intel&#39;s MKL (mkl.h and mkl_lapacke.h)."}], "tags": [], "owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "is_accepted": true, "score": 1, "last_activity_date": 1436374598, "creation_date": 1436374598, "answer_id": 31298991, "question_id": 31297984, "link": "https://stackoverflow.com/questions/31297984/default-linkage-model-in-gcc-4-4-vs-gcc-4-4/31298991#31298991", "title": "Default linkage model in gcc 4.4 vs. gcc &gt;4.4", "body": "<p>So as I posted in a comment, wrap the headers includes with</p>\n\n<pre><code>#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n#include normal.h\n\n#ifdef __cplusplus\n}\n#endif\n</code></pre>\n\n<p>Do this with both headers.</p>\n\n<p>Basically, since you're linking c libraries from c++, which does name mangling (this is what allowes overloading), your calls to the symbols in your c lib were being mangled by the linker.  The <code>#ifdef __cplusplus</code> tells the linker not to mangle the names for those specific function symbols.</p>\n\n<p>Ideally, the creators of the library should include this in their headers but you mentioned that you have no control over that.  I had a similar problem with some generated code.  I had to wrap all my header includes of the generated code in this to allow C++ to call it.</p>\n\n<p>What I don't know, is how it ever worked without this.  I've definitely had to do this going back to gcc &lt; 4.4.</p>\n"}], "owner": {"reputation": 337, "user_id": 2916576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4af65af26896500af37eacff2b33e05?s=128&d=identicon&r=PG&f=1", "display_name": "gerowam", "link": "https://stackoverflow.com/users/2916576/gerowam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 31298991, "answer_count": 1, "score": 5, "last_activity_date": 1436374598, "creation_date": 1436371558, "last_edit_date": 1436372101, "question_id": 31297984, "link": "https://stackoverflow.com/questions/31297984/default-linkage-model-in-gcc-4-4-vs-gcc-4-4", "title": "Default linkage model in gcc 4.4 vs. gcc &gt;4.4", "body": "<p>I'm trying to use two large, complex linear algebra libraries which define many of the same functions. I can't rewrite (legally in one case, but technically in both) either of them. Let's call them \"special\" and \"normal\" because I only call a couple functions from special. To consistently call functions defined in <code>normal.h</code> and only in some cases from <code>special.h</code>, I've done something like this:</p>\n\n<pre><code>namespace special_space\n{\n#include \"special.h\"  // Defines foo()\n}\n\n#include \"normal.h\"   // Defines foo()\n\nint main() {\n  foo();                // Calls foo() defined in normal.h\n  special_space::foo(); // Calls foo() defined in special.h\n}\n</code></pre>\n\n<p>With g++-4.4, which was the default where I was developing this, the code compiles and links without warnings, and it executes as I would expect and as I want. This seems to be consistent across platforms, various Linux, Unix and BSD environments. But! if I compile with g++ >4.4, I get warnings about multiple <code>foo()</code> definitions:</p>\n\n<blockquote>\n  <p>In file special.h::line:col: warning: declaration of \u2018void\n  special_space::foo()\u2019 with C language linkage [enabled by default]</p>\n</blockquote>\n\n<p>The resulting executable then segfaults at the call to <code>special_space::foo()</code>. I /think/ that specifying <code>extern \"C++\"</code> in the definitions found in special.h might fix this, but I'm not allowed to change special.h. So what should I do? More specifically:</p>\n\n<p>1) Is it safe to use g++-4.4? If so -- what changed in subsequent versions and why?</p>\n\n<p>2) If specifying the C++ linkage model really would fix this, is there a way to tell ld to use it by default?</p>\n\n<p>3) If neither of those -- is there another way to call functions from libraries that define functions of the same name?</p>\n"}, {"tags": ["c++", "struct", "initialization"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436372064, "post_id": 31297967, "comment_id": 50586820, "body": "C or C++? Choose one. Note: this is no valid C code."}, {"owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436374990, "post_id": 31297967, "comment_id": 50588632, "body": "@Olaf: Will the solution differ between the two languages?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1436379486, "post_id": 31297967, "comment_id": 50591401, "body": "The result of compilation will differ definitively: The C compiler will report an error. Even if you do it compatible, there are different way for each language. Just to repeat it: C and C++ are different languages. While you <i>can</i> program C-like in C++, there are subtle differences for the same syntax. And <i>proper</i> solutions in either language differ significantly."}], "answers": [{"comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "edited": false, "score": 0, "creation_date": 1436428835, "post_id": 31298080, "comment_id": 50611198, "body": "@SF. You do include the <code>extern</code> keyword in the forward declaration?"}, {"owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "edited": false, "score": 0, "creation_date": 1436429031, "post_id": 31298080, "comment_id": 50611324, "body": "<code>error: redeclaration of &#39;PhaseChoice choices_p0 [2]&#39;</code>  and <code>note:  previous declaration &#39;PhaseChoice {anonymous}::choices_p0 [2]&#39;</code>"}, {"owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "edited": false, "score": 0, "creation_date": 1436429066, "post_id": 31298080, "comment_id": 50611358, "body": "Yes. I copied the line verbatim, except with <code>extern</code> in front and <code>;</code> instead of <code>=</code>."}, {"owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "edited": false, "score": 0, "creation_date": 1436429181, "post_id": 31298080, "comment_id": 50611425, "body": "BTW, while the file with these is compiled under C++, the headers for these data types are included through <code>extern &quot;C&quot;</code>since they are to be used in a C program as well (common data structures between C++ and C)."}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 6, "last_activity_date": 1436381594, "last_edit_date": 1436381594, "creation_date": 1436371847, "answer_id": 31298080, "question_id": 31297967, "link": "https://stackoverflow.com/questions/31297967/initializing-two-arrays-of-structs-referencing-each-other/31298080#31298080", "title": "Initializing two arrays of structs referencing each other", "body": "<p>Can easily be solved by <em>declaring</em> the <code>choices_p0</code> and <code>choices_p1</code> arrays before the definition of <code>phases</code>:</p>\n\n<pre><code>extern PhaseChoice choices_p0[2];\nextern PhaseChoice choices_p1[2];\n\nPhase phases[2] = {\n    { choices_p0 },\n    { choices_p1 }\n};\n\nPhaseChoice choices_p0[2] = { ... };\nPhaseChoice choices_p1[2] = { ... };\n</code></pre>\n\n<p>You need the <code>extern</code> keyword for the declarations, or you define the arrays.</p>\n"}, {"tags": [], "owner": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "is_accepted": false, "score": 1, "last_activity_date": 1436371925, "creation_date": 1436371925, "answer_id": 31298108, "question_id": 31297967, "link": "https://stackoverflow.com/questions/31297967/initializing-two-arrays-of-structs-referencing-each-other/31298108#31298108", "title": "Initializing two arrays of structs referencing each other", "body": "<p>I would say, initialize them with invalid pointers and later assign on assign them.</p>\n\n<pre><code>Phase phases[2] = {\n     { nullptr },\n     { nullptr }\n }\n\n PhaseChoice choices_p0[2] = {\n      { condition_p0p1, \n        &amp;phases[1] },\n      { condition_p0again, \n        &amp;phases[0] },\n };\n\n PhaseChoice choices_p1[2] = {\n      { condition_p1p0, \n        &amp;phases[0] },\n      { condition_p1again, \n        &amp;phases[1] },\n };\nphases[0] = choices_p0;\nphases[1] = choices_p1\n</code></pre>\n"}], "owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 31298080, "answer_count": 2, "score": 2, "last_activity_date": 1436381594, "creation_date": 1436371531, "last_edit_date": 1436372623, "question_id": 31297967, "link": "https://stackoverflow.com/questions/31297967/initializing-two-arrays-of-structs-referencing-each-other", "title": "Initializing two arrays of structs referencing each other", "body": "<p>The program has multiple phases, and as one ends, a choice is made to pick a new one.</p>\n\n<pre><code>struct PhaseChoice;\n\n struct Phase {\n    PhaseChoice* choices;\n };\n\n struct PhaseChoice {\n    bool (*condition)();\n    Phase* newPhase;\n };\n</code></pre>\n\n<p>...this forward declaration works okay. But I have trouble initializing it.</p>\n\n<pre><code> Phase phases[2] = {\n     { choices_p0 },\n     { choices_p1 }\n }\n\n PhaseChoice choices_p0[2] = {\n      { condition_p0p1, \n        &amp;phases[1] },\n      { condition_p0again, \n        &amp;phases[0] },\n };\n\n PhaseChoice choices_p1[2] = {\n      { condition_p1p0, \n        &amp;phases[0] },\n      { condition_p1again, \n        &amp;phases[1] },\n };\n</code></pre>\n\n<p>This obviously fails, since while initializing <code>phases[2]</code> the program still has no clue about <code>choices_p0</code> or <code>choices_p1</code>. If I reverse the order, initializing <code>choices_p0</code> I'll encounter <code>&amp;phases[1]</code> which is unknown as of yet.</p>\n\n<p>What is the right way to initialize such structures?</p>\n"}, {"tags": ["c++", "opengl", "matrix"], "comments": [{"owner": {"reputation": 3343, "user_id": 2718864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3qOW3.png?s=128&g=1", "display_name": "nasser-sh", "link": "https://stackoverflow.com/users/2718864/nasser-sh"}, "edited": false, "score": 0, "creation_date": 1436373160, "post_id": 31297949, "comment_id": 50587497, "body": "Based on what did you determine those values passed to <code>glm::ortho</code>? I see, for example, that the &quot;bottom&quot; is larger than the &quot;top&quot; value (the third argument is larger than the fourth). Is that intentional?"}, {"owner": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 0, "creation_date": 1436373427, "post_id": 31297949, "comment_id": 50587666, "body": "Normally glsl/glm assume a multiplikation of the form M * v. Unless you transposed the matrix somewhere in your code, <code>PVM * vertexPosition</code> nicht fix the problem."}, {"owner": {"reputation": 13, "user_id": 4541506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e80220fa990301ec3e35a05c6829f7?s=128&d=identicon&r=PG&f=1", "display_name": "TheInfernalCow", "link": "https://stackoverflow.com/users/4541506/theinfernalcow"}, "reply_to_user": {"reputation": 3343, "user_id": 2718864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3qOW3.png?s=128&g=1", "display_name": "nasser-sh", "link": "https://stackoverflow.com/users/2718864/nasser-sh"}, "edited": false, "score": 0, "creation_date": 1436375596, "post_id": 31297949, "comment_id": 50588973, "body": "@Nasser, yes this is intentional - this is so the origin is top left, which I believe is standard for 2d games (correct me if I&#39;m wrong)."}, {"owner": {"reputation": 13, "user_id": 4541506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e80220fa990301ec3e35a05c6829f7?s=128&d=identicon&r=PG&f=1", "display_name": "TheInfernalCow", "link": "https://stackoverflow.com/users/4541506/theinfernalcow"}, "reply_to_user": {"reputation": 18062, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 0, "creation_date": 1436375666, "post_id": 31297949, "comment_id": 50589020, "body": "@BDL Yes, this does seem to be involving the issue, switching it around along with applying the things of other suggestions does seem to fix the problem. Thanks for the help"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4541506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e80220fa990301ec3e35a05c6829f7?s=128&d=identicon&r=PG&f=1", "display_name": "TheInfernalCow", "link": "https://stackoverflow.com/users/4541506/theinfernalcow"}, "edited": false, "score": 0, "creation_date": 1436375750, "post_id": 31298949, "comment_id": 50589076, "body": "Along with the other suggestions, yes this does seem to help solve the problem - I originally thought that the triangle&#39;s coordiantes would be multiplied by the matrix, transforming them into the screen coordiantes, but  it seems I have misunderstood. Thanks for the help anyway :)"}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 1, "creation_date": 1436379146, "post_id": 31298949, "comment_id": 50591208, "body": "@Quimby: Actually, not half of the triangle is offscreen, but all of it. It lies completely behind the far plane."}, {"owner": {"reputation": 47, "user_id": 3998282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d941a00387f414a51e8a4c78c94941?s=128&d=identicon&r=PG&f=1", "display_name": "Quimby", "link": "https://stackoverflow.com/users/3998282/quimby"}, "reply_to_user": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 0, "creation_date": 1436387388, "post_id": 31298949, "comment_id": 50596191, "body": "@derhass Yea, you are right, I checked only direction of the camera, not the distance."}], "tags": [], "owner": {"reputation": 47, "user_id": 3998282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d941a00387f414a51e8a4c78c94941?s=128&d=identicon&r=PG&f=1", "display_name": "Quimby", "link": "https://stackoverflow.com/users/3998282/quimby"}, "is_accepted": false, "score": 1, "last_activity_date": 1436374448, "creation_date": 1436374448, "answer_id": 31298949, "question_id": 31297949, "link": "https://stackoverflow.com/questions/31297949/orthographic-projection-matrix-triangle-in-wrong-place/31298949#31298949", "title": "Orthographic Projection Matrix - Triangle in wrong place", "body": "<p>Well, If you use Orthographics projection with screen resolution, as you probably did. The vertex coordinates become pixel coordinates. So your triangle is only 2pixels wide and half of it is offscreen. </p>\n\n<p>So try to make it a bit bigger.</p>\n"}], "owner": {"reputation": 13, "user_id": 4541506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e80220fa990301ec3e35a05c6829f7?s=128&d=identicon&r=PG&f=1", "display_name": "TheInfernalCow", "link": "https://stackoverflow.com/users/4541506/theinfernalcow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436379805, "creation_date": 1436371479, "last_edit_date": 1436379805, "question_id": 31297949, "link": "https://stackoverflow.com/questions/31297949/orthographic-projection-matrix-triangle-in-wrong-place", "title": "Orthographic Projection Matrix - Triangle in wrong place", "body": "<p>I trying to implement an orthographic projection matrix - currently, all I am trying to do is draw a triangle to the screen, which works fine without the matrix, but as soon as multiply the coordinates by the matrix, the triangle doesn't fit on the page (hard to explain but one point is in the centre, and the other two are far off the page). I've tried it with a different matrix where there are negative coordinates (so the centre of the screen is the origin) and it works fine - am I doing something obviously wrong here? Relevant code is below:</p>\n\n<pre><code>GLfloat vertices[] = \n{\n     -1.0f, -1.0f, 0.0f, 1.0f,\n     1.0f, -1.0f, 0.0f, 1.0f,\n     0.0f, 1.0f, 0.0f, 1.0f,\n};\n\nglm::mat4 projectionMatrix = glm::ortho(0.0f, 960.0f, 640.0f, 0.0f, 1.0f, -1.0f);\nglm::mat4 viewMatrix = glm::lookAt(glm::vec3(0,0,5),glm::vec3(0,0,0),glm::vec3(0,1,0));\nglm::mat4 modelMatrix = glm::mat4(1.0f);\n\nglm::mat4 PVM = projectionMatrix * viewMatrix * modelMatrix;\n\n\nGLuint matrixID = glGetUniformLocation(shader.getShaderID(), \"PVM\");\n</code></pre>\n\n<p>And then the vertex shader:</p>\n\n<pre><code>#version 130    \n\nin vec4 vertexPosition;\n\nuniform mat4 PVM;\n\nout vec4 position;\n\nvoid main()\n{\n    gl_Position = vertexPosition * PVM;\n    position = vertexPosition;\n}\n</code></pre>\n\n<p>I've just included the code I think is relevant.</p>\n"}, {"tags": ["c++", "visual-studio", "opencv", "visual-studio-2013"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436371663, "post_id": 31297841, "comment_id": 50586560, "body": "works for me &quot;as is&quot;. That error should mean that your frame is not RGB."}, {"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436371895, "post_id": 31297841, "comment_id": 50586720, "body": "Sorry @Miki  I&#39;m very new to this. If my frame isn&#39;t RGB, what should I do to fix it?"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436373709, "post_id": 31297841, "comment_id": 50587856, "body": "The code works ok (it&#39;s copy&amp;paste from the opencv docs, right?), so it&#39;s not a problem with the code. Try adding <code>std::cout &lt;&lt; frame.channels();std::cout &lt;&lt; edges.channels();</code> before cvtColor, it should print a lot of 31"}, {"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436374310, "post_id": 31297841, "comment_id": 50588236, "body": "@Miki Yep It was just copy-pasted.  I added the code you suggested and it didnt print anything out. It&#39;s still producing the same error and breaking out from the program."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436374457, "post_id": 31297841, "comment_id": 50588333, "body": "so it didn&#39;t enter in the for loop?"}, {"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436375095, "post_id": 31297841, "comment_id": 50588701, "body": "@Miki Oh actually I didnt notice, it only printed &quot;11&quot; before the error"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436375200, "post_id": 31297841, "comment_id": 50588756, "body": "So your camera gives you images in grayscale. So remove cvtColor line, and add <code>edges = frame.clone();</code> instead."}, {"owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436375927, "post_id": 31297841, "comment_id": 50589190, "body": "@Miki Thank you! That fixed it"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1436375976, "post_id": 31297841, "comment_id": 50589218, "body": "Nice! Let me put this as an answer, so others will find it without reading all comments"}], "answers": [{"comments": [{"owner": {"reputation": 690, "user_id": 3086011, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/545a4399f424defa770d451085b5137d?s=128&d=identicon&r=PG", "display_name": "CODError", "link": "https://stackoverflow.com/users/3086011/coderror"}, "edited": false, "score": 0, "creation_date": 1456437226, "post_id": 31299501, "comment_id": 58959763, "body": "I think videocapture gives frames in BGR. I am using something similar and it gives same error. If I remove cvtColor, I still get the error."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 690, "user_id": 3086011, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/545a4399f424defa770d451085b5137d?s=128&d=identicon&r=PG", "display_name": "CODError", "link": "https://stackoverflow.com/users/3086011/coderror"}, "edited": false, "score": 0, "creation_date": 1456438440, "post_id": 31299501, "comment_id": 58960452, "body": "<code>VideoCapture</code> usually gives frames in BGR. This case was different. If you have another problem, please ask a new question @CODError"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 3, "last_activity_date": 1436407241, "last_edit_date": 1436407241, "creation_date": 1436376213, "answer_id": 31299501, "question_id": 31297841, "link": "https://stackoverflow.com/questions/31297841/opencv-error-assertion-failed-scn-3-scn-4-in-cv-cvtcolor-file/31299501#31299501", "title": "OpenCV Error: Assertion failed (scn == 3 || scn == 4) in cv:: cvtColor, file ..\\..\\..\\..\\opencv\\modules\\imgproc\\src\\color.cpp, line 3737", "body": "<p>From the conversation in the comments to the question, we saw that <code>VideoCapture</code> gives frame in grayscale. So the call to <code>cvtColor</code> caused the crash.</p>\n\n<pre><code>...\nMat frame;\ncap &gt;&gt; frame; // frame is already CV_8UC1\n//cvtColor(frame, edges, CV_BGR2GRAY); // so don't to convert here, or crash!\nedges = frame.clone(); \n...\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5012066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-B2TNqH4BXzs/AAAAAAAAAAI/AAAAAAAAAPo/WG8ppJ6OtzE/photo.jpg?sz=128", "display_name": "Joissa.R", "link": "https://stackoverflow.com/users/5012066/joissa-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23652, "favorite_count": 0, "protected_date": 1473155216, "accepted_answer_id": 31299501, "answer_count": 1, "score": 7, "last_activity_date": 1473089053, "creation_date": 1436371124, "question_id": 31297841, "link": "https://stackoverflow.com/questions/31297841/opencv-error-assertion-failed-scn-3-scn-4-in-cv-cvtcolor-file", "title": "OpenCV Error: Assertion failed (scn == 3 || scn == 4) in cv:: cvtColor, file ..\\..\\..\\..\\opencv\\modules\\imgproc\\src\\color.cpp, line 3737", "body": "<p>Hi I am trying to run this sample code from OpenCV: </p>\n\n<pre><code>#include \"opencv2\\opencv.hpp\"\n\nusing namespace cv;\n\nint main(int, char**)\n{\n    VideoCapture cap(0); // open the default camera\n    if (!cap.isOpened())  // check if we succeeded\n        return -1;\n\n    Mat edges;\n    namedWindow(\"edges\", 1);\n    for (;;)\n    {\n        Mat frame;\n        cap &gt;&gt; frame; // get a new frame from camera\n        cvtColor(frame, edges, CV_BGR2GRAY);\n        GaussianBlur(edges, edges, Size(7, 7), 1.5, 1.5);\n        Canny(edges, edges, 0, 30, 3);\n        imshow(\"edges\", edges);\n        if (waitKey(30) &gt;= 0) break;\n    }\n    // the camera will be deinitialized automatically in VideoCapture destructor\n    return 0;\n}\n</code></pre>\n\n<p>I am currently using a Windows 7 x64 BootCamp on a Macbook Pro.  I'm running this code with Visual Studios 2013 and OpenCV 2.4.9.  </p>\n\n<p>This is how I've set up my Config Properties: </p>\n\n<pre><code>VC++ Directories: Include Directories: H:\\opencv\\build\\include;$(IncludePath)\n\nLinker:General:Additional Library Directories: H:\\opencv\\build\\x64\\vc12\\lib;%(AdditionalLibraryDirectories)\nLinker:Input:Additional Dependencies: opencv_calib3d249.lib;opencv_contrib249.lib;opencv_core249.lib;opencv_features2d249.lib;opencv_flann249.lib;opencv_gpu249.lib;opencv_highgui249.lib;opencv_imgproc249.lib;opencv_legacy249.lib;opencv_ml249.lib;opencv_nonfree249.lib;opencv_objdetect249.lib;opencv_ocl249.lib;opencv_photo249.lib;opencv_stitching249.lib;opencv_superres249.lib;opencv_ts249.lib;opencv_video249.lib;opencv_videostab249.lib;%(AdditionalDependencies)\n</code></pre>\n\n<p>When I click on Local Windows Debugger in Release x64 mode I get the following error from Visual Studios:</p>\n\n<blockquote>\n  <p>First-chance exception at 0x000007FEFD21B3DD in Project3.exe:\n  Microsoft C++ exception: cv::Exception at memory location\n  0x000000000019A8A0.</p>\n  \n  <p>If there is a handler for this exception, the program may be safely\n  continued.</p>\n</blockquote>\n\n<p>When I click Break instead (scared to press Continue), a window named Edges does pop up and the camera does turn on since the green light turns on.  But I also get the following error in the command window: </p>\n\n<blockquote>\n  <p>OpenCV Error: Assertion failed (scn == 3 || scn == 4) in cv::\n  cvtColor, file ........\\opencv\\modules\\imgproc\\src\\color.cpp, line\n  3737</p>\n</blockquote>\n\n<p>I'm pretty new to C++ and Visual Studios, any help would be appreciated. Thanks in advance! </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "edited": false, "score": 3, "creation_date": 1436371128, "post_id": 31297824, "comment_id": 50586189, "body": "What are the problems you are facing?"}, {"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "reply_to_user": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "edited": false, "score": 0, "creation_date": 1436371225, "post_id": 31297824, "comment_id": 50586252, "body": "The break statement is not working and it is reading the complete text file"}, {"owner": {"reputation": 8441, "user_id": 1783614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tK6o5.jpg?s=128&g=1", "display_name": "yizzlez", "link": "https://stackoverflow.com/users/1783614/yizzlez"}, "edited": false, "score": 0, "creation_date": 1436371361, "post_id": 31297824, "comment_id": 50586350, "body": "Next time, you should mention the problem in your question, I edited it in this time."}, {"owner": {"reputation": 61429, "user_id": 572743, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9941673f566f229bc536c1c2b558884e?s=128&d=identicon&r=PG&f=1", "display_name": "Damon", "link": "https://stackoverflow.com/users/572743/damon"}, "edited": false, "score": 0, "creation_date": 1436375428, "post_id": 31297824, "comment_id": 50588889, "body": "In addition to the obvious thing, I think there is another non-obvious reason why this won&#39;t work. <code>basic_istream::operator&gt;&gt;</code> does <i>not</i> have an overload for <code>char</code>. It has overloads for signed and unsigned <code>short</code>, <code>int</code>, <code>float</code>, even <code>bool</code> -- but not <code>char</code>. So, this is bound to do something weird. Actually, I wonder what..."}], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436371708, "post_id": 31297900, "comment_id": 50586589, "body": "Now it not reading only % sign and continuous reading after the % sign. I want it to stop when % sign is found."}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "reply_to_user": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436371819, "post_id": 31297900, "comment_id": 50586668, "body": "@ZainabZainab I don&#39;t quite understand. Could you add example of the input file and the output of the program to your question?"}, {"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436372054, "post_id": 31297900, "comment_id": 50586811, "body": "you can see example in my question"}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "reply_to_user": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 1, "creation_date": 1436372151, "post_id": 31297900, "comment_id": 50586864, "body": "@ZainabZainab What does your program prints to the output on this input file?"}, {"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436372272, "post_id": 31297900, "comment_id": 50586932, "body": "I just wanted to separate the key which is after % sign i dont want to print the key"}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "reply_to_user": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436372877, "post_id": 31297900, "comment_id": 50587329, "body": "@ZainabZainab So do you want to read file and print it out until <code>%</code> and stop, or you want to read number after <code>%</code> as well?"}], "tags": [], "owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "is_accepted": true, "score": 3, "last_activity_date": 1436371303, "creation_date": 1436371303, "answer_id": 31297900, "question_id": 31297824, "link": "https://stackoverflow.com/questions/31297824/c-read-file-until-character/31297900#31297900", "title": "C++ read file until &#39;%&#39; character", "body": "<p>This is because you check <code>data[i]</code> before reading data into it. Just put <code>if</code> check after the <code>file &gt;&gt; data[i]</code>:</p>\n\n<pre><code>file &gt;&gt; data[i];\n\nif (data[i] == c)\n    break;\n\ncout &lt;&lt; data[i];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436371604, "post_id": 31297903, "comment_id": 50586516, "body": "Now it not reading only % sign and continuous reading after the % sign. I want it to stop when % sign is found."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436371983, "post_id": 31297903, "comment_id": 50586770, "body": "@ZainabZainab Then there&#39;s something else you&#39;re not telling us."}, {"owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436372175, "post_id": 31297903, "comment_id": 50586887, "body": "Now i have added the text file in my question"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "edited": false, "score": 0, "creation_date": 1436372296, "post_id": 31297903, "comment_id": 50586947, "body": "@ZainabZainab I still fail to see how it should not work, if you just switch the place of the reading and the check. Can you also please edit your question to include the updated code and the actual output you get from the code?"}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 1, "last_activity_date": 1436371313, "creation_date": 1436371313, "answer_id": 31297903, "question_id": 31297824, "link": "https://stackoverflow.com/questions/31297824/c-read-file-until-character/31297903#31297903", "title": "C++ read file until &#39;%&#39; character", "body": "<p>You check <code>data[i]</code> before it's initialized. Local variables, including arrays, are not initialized, their value is <em>indeterminate</em> (and will seem random), reading from an uninitialized local variable leads to <em>undefined behavior</em>.</p>\n\n<p>What you need to do is to read data first, <em>then</em> check if the character was what you were looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 3343, "user_id": 2718864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3qOW3.png?s=128&g=1", "display_name": "nasser-sh", "link": "https://stackoverflow.com/users/2718864/nasser-sh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436371335, "creation_date": 1436371335, "answer_id": 31297908, "question_id": 31297824, "link": "https://stackoverflow.com/questions/31297824/c-read-file-until-character/31297908#31297908", "title": "C++ read file until &#39;%&#39; character", "body": "<p>Switch the two lines:</p>\n\n<pre><code>if(data[i]==c)break;\nfile &gt;&gt; data[i];\n</code></pre>\n\n<p>To </p>\n\n<pre><code>file &gt;&gt; data[i];\nif(data[i]==c)break;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "is_accepted": false, "score": 0, "last_activity_date": 1436372774, "creation_date": 1436372774, "answer_id": 31298406, "question_id": 31297824, "link": "https://stackoverflow.com/questions/31297824/c-read-file-until-character/31298406#31298406", "title": "C++ read file until &#39;%&#39; character", "body": "<p>Your issue is with the line</p>\n\n<pre><code>if(data[i]==c)break;\n</code></pre>\n\n<p>What is at <code>data[i]</code>? Right now that will result in <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\"><em>undefined behavior</em></a>. You can fix this by doing two things. Firstly, when you create the array, zero it out so that it will be full of null characters (no more UB!)</p>\n\n<pre><code>char data[1000] = {0}; //fill data with 0's\n</code></pre>\n\n<p>Then, in your loop, read the next character into a temp variable, and check the temp variable. Your issue is that you check before you read:</p>\n\n<pre><code>for(int i = 0; i &lt;= 493; ++i)\n{\n    char temp;\n    file &gt;&gt; temp;\n\n    if(temp == c)break;       //If we found one, get out of there!\n\n    data[i] = temp;           //If not, update data\n    securitykey += (int)temp; //and security key \n}\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 5094752, "user_type": "registered", "profile_image": "https://graph.facebook.com/496137077208393/picture?type=large", "display_name": "Zainab Zainab", "link": "https://stackoverflow.com/users/5094752/zainab-zainab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4817, "favorite_count": 1, "accepted_answer_id": 31297900, "answer_count": 4, "score": 1, "last_activity_date": 1550242420, "creation_date": 1436371067, "last_edit_date": 1550242420, "question_id": 31297824, "link": "https://stackoverflow.com/questions/31297824/c-read-file-until-character", "title": "C++ read file until &#39;%&#39; character", "body": "<p>I am writing a program in which I am getting input form a text file. I want to read the file until I found this '%'. Currently, the <code>break</code> statement is not working and I am reading in the entire text file.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\nusing namespace std;\nint main() {\n\n\n     char data[1000]; \n     char c = '%';\n     int securitykey = 0;\n\n    ifstream file(\"data.txt\");\n\n    if(file.is_open())\n    {\n\n        for(int i = 0; i &lt;= 493; ++i)\n        {\n            if(data[i]==c)break;\n\n            file &gt;&gt; data[i];\n            cout&lt;&lt; data[i];\n          securitykey += (int)data[i]; \n\n        }\n         cout &lt;&lt;securitykey;\n    }\n}\n</code></pre>\n\n<p>input file : </p>\n\n<pre>\nLorem Ipsum is simply dummy text of the printing and typesetting industry. \nLorem Ipsum has been the industry's standard dummy text ever since the 1500s\n%152365\n</pre>\n\n<p>What I want is to read file until <code>%</code>. </p>\n"}, {"tags": ["c++", "mpi", "overhead"], "comments": [{"owner": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "edited": false, "score": 0, "creation_date": 1436371585, "post_id": 31297753, "comment_id": 50586500, "body": "We need a fuller code sample to really say anything. I imagine the problem is the two for loops are not syncronised so some of the variables get updated before they propagate to other threads. Also this is in no way an overhead problem."}, {"owner": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "reply_to_user": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "edited": false, "score": 0, "creation_date": 1436372235, "post_id": 31297753, "comment_id": 50586915, "body": "@XapaJIaMnu : I reduced the code to the subset showing an issue. I also substracted the preprocessor instructions and the main function initialization, which I don&#39;t think are relevant. May I ask what do you mean by the loops are unsynchronized? Aren&#39;t they just executed locally  and sequentially by each thread?"}, {"owner": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "edited": false, "score": 0, "creation_date": 1436372427, "post_id": 31297753, "comment_id": 50587016, "body": "Ok, so is this only the MPI thread code? In that case I believe the problem is in cin, as there is only one cin from which you can consume. How many lines in total are you expecting?"}, {"owner": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "reply_to_user": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "edited": false, "score": 0, "creation_date": 1436372483, "post_id": 31297753, "comment_id": 50587049, "body": "@XapaJIaMnu 10 000 lines. How could I duplicate the cin?"}, {"owner": {"reputation": 47129, "user_id": 463827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwR2m.jpg?s=128&g=1", "display_name": "Jonathan Dursi", "link": "https://stackoverflow.com/users/463827/jonathan-dursi"}, "edited": false, "score": 0, "creation_date": 1436382006, "post_id": 31297753, "comment_id": 50592945, "body": "There are no threads anywhere in this code, and solutions (or descriptions of the problem) that involve contention or race conditions between threads are mistaken."}], "answers": [{"comments": [{"owner": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "edited": false, "score": 0, "creation_date": 1436374021, "post_id": 31298532, "comment_id": 50588050, "body": "Thanks for the solution proposal. I went for the second one, and broadcasted it using <code>MPI_Bcast</code> though I had to use intermediate <code>char *</code>. I am really new to MPI (started today to be honest), should I use MPI_Barrier instead of <code>sleep</code> calls to make the threads wait for eachother?"}, {"owner": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "reply_to_user": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "edited": false, "score": 1, "creation_date": 1436374814, "post_id": 31298532, "comment_id": 50588535, "body": "You should&#39;t really be using sleep in multithreaded environment. Always barriers, this is proper synchronization."}], "tags": [], "owner": {"reputation": 1261, "user_id": 1846228, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a17eedf0472db2700ce6f3d8848265d?s=128&d=identicon&r=PG", "display_name": "XapaJIaMnu", "link": "https://stackoverflow.com/users/1846228/xapajiamnu"}, "is_accepted": true, "score": 1, "last_activity_date": 1436373137, "last_edit_date": 1495540274, "creation_date": 1436373137, "answer_id": 31298532, "question_id": 31297753, "link": "https://stackoverflow.com/questions/31297753/mpi-and-stdin-overheading/31298532#31298532", "title": "MPI and stdin overheading?", "body": "<p>Ok so basically your problem is that you all your threads are consuming lines from <strong>cin</strong> and they race. Even though <strong>cin</strong> gives some guarantees for thread safeness in general you are not always certain what you would get. Check this thread: <a href=\"https://stackoverflow.com/questions/18844239/how-do-scanf-stdcin-behave-on-multithreaded-environment\">How do scanf(), std::cin behave on multithreaded environment?</a></p>\n\n<p>Solution: Don't use CIN? Use a file and have each thread open the file on its own with a filehandle. If you really want to use <strong>cin</strong> then have one thread from MPI read <strong>CIN</strong> and broadcast it to other threads and then they can whatever they want with it.</p>\n"}], "owner": {"reputation": 3836, "user_id": 3275464, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g6Pnl.png?s=128&g=1", "display_name": "Learning is a mess", "link": "https://stackoverflow.com/users/3275464/learning-is-a-mess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 31298532, "answer_count": 1, "score": 0, "last_activity_date": 1436373137, "creation_date": 1436370865, "question_id": 31297753, "link": "https://stackoverflow.com/questions/31297753/mpi-and-stdin-overheading", "title": "MPI and stdin overheading?", "body": "<p>I am coding a program in C++ MPI but when passing a large file as <code>stdin</code> I am facing the problem that the threads are not seeing the same <code>stdin</code> information.</p>\n\n<p>More elaborated, I am passing as standard input a list of input files, which is then stored in a <code>vector&lt;string&gt;</code>:</p>\n\n<pre><code>MPI_Init(NULL,NULL);\nint CORES, thread;\nMPI_Comm_size(MPI_COMM_WORLD,&amp;CORES);\nMPI_Comm_rank(MPI_COMM_WORLD,&amp;thread);\nstringstream tline;\nint count = 0;\nfor (std::string line; std::getline(std::cin, line);){\n    tline &lt;&lt; line &lt;&lt; \" \";\n    count++;\n    }\n\nvector&lt;string&gt; args(count,\"\");\nfor(int i = 0; i &lt; count; i++)\n    tline &gt;&gt; args[i];\n\ncout &lt;&lt; thread &lt;&lt; \" \" &lt;&lt; count &lt;&lt; endl; //each thread outputs the number of input files it received\n</code></pre>\n\n<p>My problem is that this gives different numbers for different threads. For instance, after passing a file of 10 000 lines, I get:</p>\n\n<pre><code>5 9464\n6 9464\n3 9464\n4 9464\n1 9554\n2 9554\n0 10000\n7 9464\n</code></pre>\n\n<p>Is it because of some overheading? How can I avoid that?</p>\n"}, {"tags": ["c++", "boost", "caffe"], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "is_accepted": true, "score": 6, "last_activity_date": 1436374794, "creation_date": 1436374794, "answer_id": 31299048, "question_id": 31297745, "link": "https://stackoverflow.com/questions/31297745/installing-caffe-on-yosemite-boost-error/31299048#31299048", "title": "Installing caffe on Yosemite Boost Error", "body": "<p>This solved the issue:</p>\n\n<pre><code>make clean\nmake all\n</code></pre>\n"}], "owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "accepted_answer_id": 31299048, "answer_count": 1, "score": 1, "last_activity_date": 1436374794, "creation_date": 1436370840, "last_edit_date": 1495541799, "question_id": 31297745, "link": "https://stackoverflow.com/questions/31297745/installing-caffe-on-yosemite-boost-error", "title": "Installing caffe on Yosemite Boost Error", "body": "<p>I am trying to install caffe on Yosemite and I am getting the following error:</p>\n\n<p><code>make: *** No rule to make target '/usr/local/include/boost/smart_ptr/detail/sp_counted_base_clang.hpp', needed by '.build_release/cuda/src/caffe/layers/absval_layer.o'.  Stop.</code></p>\n\n<p>As suggested by this blogpost <a href=\"https://stackoverflow.com/questions/30745837/compiling-caffe-on-yosemite\">compiling caffe on Yosemite</a> I downgraded the Boost to v1.57. </p>\n\n<p>Any suggestions on how to move forward?</p>\n"}, {"tags": ["c#", "c++", "out-of-memory"], "comments": [{"owner": {"reputation": 2327, "user_id": 3938395, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9bc7fb2849c95ac9f211671b7c83cb07?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/3938395/adam"}, "edited": false, "score": 0, "creation_date": 1436371044, "post_id": 31297722, "comment_id": 50586139, "body": "Could we see the code?"}, {"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1436371151, "post_id": 31297722, "comment_id": 50586206, "body": ".NET applications are limited to about 1.3GB - is it possible you measured 800mb after it crashed? It will quickly free up memory usage once an error occurs."}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 0, "creation_date": 1436387047, "post_id": 31297722, "comment_id": 50595999, "body": "The .net garbage collector is imperfect when there is a sufficient amount of available memory, but splitted in small segments. In such case, you may need to force the garbage collection. For calling the GC, Refer to the CollectGarbage() function in my response to <a href=\"http://stackoverflow.com/questions/31256036/how-to-split-a-huge-file-into-words\">this question</a>."}], "owner": {"reputation": 93, "user_id": 2674995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1130995912/picture?type=large", "display_name": "Pankaj Goyal", "link": "https://stackoverflow.com/users/2674995/pankaj-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436370774, "creation_date": 1436370774, "question_id": 31297722, "link": "https://stackoverflow.com/questions/31297722/outofmemory-exception-in-c-dll-calling-from-cpp-application", "title": "OutofMemory exception in C# dll calling from Cpp Application", "body": "<p>I Have a one big 32bit application implemented in CPP. This c++ application call another .net dll implemented in c# using COM interface. \nAfter some function calls from c++ to c# I get OutOfMemory exception in .net dll. This could be due to fact that I have to allocate some very large List having more than 3000 object references. But the problem is that when I analyse that memory consumption of the process in Windows Task Manager the memory consumption is only 800 MB while it could have gone upto 2 GB.</p>\n\n<p>So the question is what could be the reason that without consuming the full process space why am I getting memory consumption ?\nIs there any memory limitation for the .net dll due to which it is getting limited memory ?\nHow can I increase the memory allocated to .net dll so that heap size can be larger?</p>\n"}, {"tags": ["c++", "opengl", "matrix"], "comments": [{"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 6, "creation_date": 1436369696, "post_id": 31297263, "comment_id": 50585216, "body": "The question &quot;Which is faster?&quot; can only be answered by careful profiling on your part. Until you have (a) determined that this is the bottleneck of your application and (b) determined which approach is actually faster, you should just go with whichever one is simpler and more readable."}, {"owner": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "reply_to_user": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 0, "creation_date": 1436370185, "post_id": 31297263, "comment_id": 50585571, "body": "just wondering if matrix multiplication is costlier than transferring data between the cpu and the gpu...."}, {"owner": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "edited": false, "score": 1, "creation_date": 1436370187, "post_id": 31297263, "comment_id": 50585572, "body": "I will also add that this sort of thing the compiler will figure out for you most of the time. just like loop unrolling and tail recursion optimizations. Like RedRobotHood said profile your code and see if it is a botleneck."}, {"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "reply_to_user": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "edited": false, "score": 0, "creation_date": 1436371284, "post_id": 31297263, "comment_id": 50586296, "body": "@Rob this is not something the compiler will figure out for you. It requires code changes to pass the single matrix data as a uniform, instead of passing three."}, {"owner": {"reputation": 44714, "user_id": 731620, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6e2168c4647a4f096a14c254bd3d3f68?s=128&d=identicon&r=PG", "display_name": "ratchet freak", "link": "https://stackoverflow.com/users/731620/ratchet-freak"}, "reply_to_user": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1436372610, "post_id": 31297263, "comment_id": 50587123, "body": "@MuertoExcobito but a optimizer could figure out that the result of <code>rx * ry * rz</code> only depends on uniforms and create a &quot;pre-shader&quot; that will do that once on CPU and then pass the result as uniform. Depends on the driver though."}, {"owner": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "edited": false, "score": 0, "creation_date": 1436374943, "post_id": 31297263, "comment_id": 50588602, "body": "can we create a pre-shader just to b safe..... is there any thing like a pre-shader?(havent read anything like that)....or is it only driver dependant"}, {"owner": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "edited": false, "score": 0, "creation_date": 1436375395, "post_id": 31297263, "comment_id": 50588867, "body": "edit: seems like pre-shaders are not an option ....even in directx they are  executed on the cpu anyways...."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "edited": false, "score": 0, "creation_date": 1436374259, "post_id": 31297846, "comment_id": 50588199, "body": "rx,ry and rz are also calculated on the shader in my code....only theta is passed as a uniform variable for now....thank you for ur reply :)"}, {"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "reply_to_user": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "edited": false, "score": 0, "creation_date": 1436377777, "post_id": 31297846, "comment_id": 50590311, "body": "in that case benefit #1 doesn&#39;t really apply, as you&#39;d actually be passing in more data with a full matrix vs. 3 theta values. And - you can thank me by upvoting and/or accepting :)."}], "tags": [], "owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "is_accepted": true, "score": 1, "last_activity_date": 1436371131, "creation_date": 1436371131, "answer_id": 31297846, "question_id": 31297263, "link": "https://stackoverflow.com/questions/31297263/should-i-use-uniform-variable-to-reduce-the-amount-of-matrix-multiplication/31297846#31297846", "title": "Should I use uniform variable to reduce the amount of matrix multiplication?", "body": "<p>While profiling is essential to measure how your application responds to optimizations, in general, passing a concatenated matrix to the vertex shader is desirable. This is for two reasons:</p>\n\n<ol>\n<li><p>The amount of data passed from CPU to GPU is reduced. If <code>rx</code>, <code>ry</code> and <code>rz</code> are all 4x4 matrices, and the product of them (say <code>rx_ry_rz = rx * ry * rz</code>), is also a 4x4 matrix, then you will be transferring 2 less 4x4 matrices (128 bytes) as uniforms each update. If you use this shader to render 1000 objects per frame at 60hz, and the uniform updates with each object, that's 7MB+ per second of saved bandwidth. Maybe not extremely significant, but every bit helps, especially if bandwidth is your bottleneck.</p></li>\n<li><p>The amount of work the vertex stage must do is reduced (assuming a non-trivial number of vertices). Generally the vertex stage is not a bottleneck, however, many drivers implement load balancing in their shader core allocation between stages, so reducing work in the vertex stage could give benefits in the pixel stage (for example). Again, profiling will give you a better idea of if/how this benefits performance.</p></li>\n</ol>\n\n<p>The drawback is added CPU time taken to multiply the matrices. If your application's bottleneck is CPU execution, doing this could potentially slow down your application, as it will require the CPU to do more work than it did before.</p>\n"}, {"tags": [], "owner": {"reputation": 49036, "user_id": 3530129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYkz8.jpg?s=128&g=1", "display_name": "Reto Koradi", "link": "https://stackoverflow.com/users/3530129/reto-koradi"}, "is_accepted": false, "score": 0, "last_activity_date": 1436419400, "creation_date": 1436419400, "answer_id": 31308801, "question_id": 31297263, "link": "https://stackoverflow.com/questions/31297263/should-i-use-uniform-variable-to-reduce-the-amount-of-matrix-multiplication/31308801#31308801", "title": "Should I use uniform variable to reduce the amount of matrix multiplication?", "body": "<p>I wouldn't count on this repeated multiplication being optimized out, unless you convinced yourself that it is indeed happening on all platforms you care about. To do that:</p>\n\n<ul>\n<li>One option is benchmarking, but it will probably be difficult to isolate this operation well enough to measure a possible difference reliably.</li>\n<li>I believe some vendors provide development tools that let you see assembly code for the compiled shader. I think that's the only reliable way for you to see what exactly happens with your GLSL code in this case.</li>\n</ul>\n\n<p>This is a very typical example for a much larger theme. At least in my personal opinion, what you have is an example of code that uses OpenGL inefficiently. Making calculations that are the same for each vertex in the vertex shader, which at least conceptually is executed for each vertex, is not something you should do.</p>\n\n<p>In reality, driver optimizations to work around inefficient use of the API are done based on the benefit they offer. If a high profile app/game uses certain bad patterns (and many of them do!), and they are identified as having a negative effect on performance, drivers are optimized to work around them, and still provide the best possible performance. This is particularly true if the app/game is commonly used for benchmarks. Ironically, those optimizations may hurt the performance of well written software that is considered less important.</p>\n\n<p>So if there ever was an important app/game that did the same thing you're doing, which seems quite likely in this case, chances are that many drivers will contain optimizations to deal with it efficiently.</p>\n\n<p>Still, I wouldn't rely on it. The reasons are philosophical as well as practical:</p>\n\n<ol>\n<li>If I work on an app, I feel that it's my job to write efficient code. I don't want to write poor code, and hope that somebody else happened to optimize their code to compensate for it.</li>\n<li>You can't count on all of the platforms the app will ever run on to contain these types of optimizations. Particularly since app code can have a long lifetime, and those platforms might not even exist yet.</li>\n<li>Even if the optimizations are in place, they will most likely not be free. You might trigger driver code that ends up consuming more resources than it would take for your code to provide the combined matrix yourself.</li>\n</ol>\n"}], "owner": {"reputation": 25, "user_id": 5094582, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2B8yOC_qE2g/AAAAAAAAAAI/AAAAAAAAFe0/frbacbnL7L8/photo.jpg?sz=128", "display_name": "ambli", "link": "https://stackoverflow.com/users/5094582/ambli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 31297846, "answer_count": 2, "score": -1, "last_activity_date": 1436419400, "creation_date": 1436369589, "last_edit_date": 1436369738, "question_id": 31297263, "link": "https://stackoverflow.com/questions/31297263/should-i-use-uniform-variable-to-reduce-the-amount-of-matrix-multiplication", "title": "Should I use uniform variable to reduce the amount of matrix multiplication?", "body": "<p>I just wrote a program to rotate an object. it just updates a variable theta using the idle function. That variable is used to create a rotation matrix ..then I do this..</p>\n\n<pre><code>gl_Position = rx * ry * rz * vPosition;\n</code></pre>\n\n<p><code>rx</code>, <code>ry</code> and <code>rz</code> (matrices) are same for every point during the same frame....but it is being multiplied for every single point in the object....should I just use a uniform variable <code>mat4</code> which stores the multiplied value of <code>rx* ry * rz</code> and pass it to the shader?...or let the shader handle the multiplication for every single point?.....which is faster?....</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 4, "creation_date": 1436369105, "post_id": 31297006, "comment_id": 50584755, "body": "Justify your question."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1436369285, "post_id": 31297006, "comment_id": 50584915, "body": "You know you could write the code run it and find out."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1436369465, "post_id": 31297006, "comment_id": 50585056, "body": "This question does not show any research effort."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1436370110, "post_id": 31297214, "comment_id": 50585517, "body": "@TartanLlama My bad.  You are correct.  It also will generate an error/warning since main is declared as <code>void</code>"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1436369473, "creation_date": 1436369473, "answer_id": 31297214, "question_id": 31297006, "link": "https://stackoverflow.com/questions/31297006/class-object-equals-class-pointer-object-with-templates/31297214#31297214", "title": "class object equals class pointer object with templates", "body": "<p>d) compilation error as you have vexing parse:</p>\n\n<pre><code>Array&lt;int&gt; a2(); // Declaration of function which takes no argument and return Array&lt;int&gt;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5058066, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PLl4OUSlHvw/AAAAAAAAAAI/AAAAAAAAAhI/4qXpQnai7Nw/photo.jpg?sz=128", "display_name": "Kostas Lek", "link": "https://stackoverflow.com/users/5058066/kostas-lek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1436369553, "answer_count": 1, "score": -3, "last_activity_date": 1436369473, "creation_date": 1436368970, "question_id": 31297006, "link": "https://stackoverflow.com/questions/31297006/class-object-equals-class-pointer-object-with-templates", "closed_reason": "Duplicate", "title": "class object equals class pointer object with templates", "body": "<p>I don't know a question for my C++ course.</p>\n\n<pre><code>template &lt;typename T&gt; class Array {...};\nvoid main(int argc, char* argv[]) {\n\nArray&lt;int&gt; *a1 = new Array&lt;int&gt;();\nArray&lt;int&gt; a2();\na2 = *a1; // &lt;--  \n}\n</code></pre>\n\n<p>What will happen at the noted line (&lt;--)?\na) a2 copy constructor is called.\nb) The address of a2 becomes equal to the address of pointer a1.\nc) copy assignment operator of a2 is called\nd) compilation error</p>\n\n<p>Justify your answer.</p>\n"}, {"tags": ["c++", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 1, "last_activity_date": 1436369904, "creation_date": 1436369904, "answer_id": 31297376, "question_id": 31296982, "link": "https://stackoverflow.com/questions/31296982/open-cv-drawing-contours/31297376#31297376", "title": "Open cv drawing contours", "body": "<p>It's a vector of vector of points. </p>\n\n<p>Each contour is a vector (sequence) of points. \nThen this is a vector (sequence) of contours.</p>\n"}], "owner": {"reputation": 532, "user_id": 5082661, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fbb1784a904ca744e585a7364d3a5c05?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar Thiagarajan", "link": "https://stackoverflow.com/users/5082661/sridhar-thiagarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 31297376, "answer_count": 1, "score": 0, "last_activity_date": 1436372085, "creation_date": 1436368909, "last_edit_date": 1436372085, "question_id": 31296982, "link": "https://stackoverflow.com/questions/31296982/open-cv-drawing-contours", "title": "Open cv drawing contours", "body": "<p>I have started learning OpenCV and my knowledge of c++ although not poor is not extremely good as well.\nWhile writing a program to find contour i come across </p>\n\n<pre><code> vector&lt;vector&lt;Point&gt; &gt; contours;\n</code></pre>\n\n<p>Can someone please explain me this line?\nI understand vector is a template of some sort and the thing inside&lt;..> is supposed to indicate data type stored.\nHowever i'm not very clear as what that line does.\nAny help would be much appreciated.\nThanks in advance :)</p>\n"}, {"tags": ["c++", "c++11", "boost", "std"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1436369617, "post_id": 31296928, "comment_id": 50585161, "body": "<code>find</code> and <code>substr</code> or regex."}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1436371077, "post_id": 31297463, "comment_id": 50586157, "body": "I think that <code>first++-&gt;str()</code> is confusing... I would prefer a normal for loop."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1436370121, "creation_date": 1436370121, "answer_id": 31297463, "question_id": 31296928, "link": "https://stackoverflow.com/questions/31296928/c-substring-contained-between-2-specific-characters/31297463#31297463", "title": "C++ substring contained between 2 specific characters", "body": "<p>You could try Regex:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iterator&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\nint main()\n{\n    std::string s = \"XPOINT:D#{MON 3};S#{1}.\";\n\n    std::regex word_regex(R\"(\\{(.*?)\\})\");\n    auto first = std::sregex_iterator(s.begin(), s.end(), word_regex),\n         last  = std::sregex_iterator();;\n\n    while (first != last)\n        std::cout &lt;&lt; first++-&gt;str() &lt;&lt; ' ';\n}\n</code></pre>\n\n<p>Prints</p>\n\n<blockquote>\n  <p><code>{MON 3} {1}</code></p>\n</blockquote>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/354c33843f2e9ae0\" rel=\"nofollow\"><strong>Demo</strong></a>.</p>\n"}], "owner": {"reputation": 717, "user_id": 3219112, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jvzCn.jpg?s=128&g=1", "display_name": "mattobob", "link": "https://stackoverflow.com/users/3219112/mattobob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436381979, "creation_date": 1436368791, "last_edit_date": 1436381979, "question_id": 31296928, "link": "https://stackoverflow.com/questions/31296928/c-substring-contained-between-2-specific-characters", "title": "C++ substring contained between 2 specific characters", "body": "<p>In c++ would like to extract all substrings in a string contained between specific characters, as example:</p>\n\n<pre><code>std::string str = \"XPOINT:D#{MON 3};S#{1}\"\nstd::vector&lt;std:string&gt; subsplit = my_needed_magic_function(str,\"{}\");\nstd::vector&lt;int&gt;::iterator it = subsplit.begin();\nfor(;it!=subsplit.end(),it++) std::cout&lt;&lt;*it&lt;&lt;endl;\n</code></pre>\n\n<p>result of this call should be:</p>\n\n<pre><code>MON 3\n1\n</code></pre>\n\n<p>also using boost if needed.</p>\n"}, {"tags": ["c++", "algorithm", "matrix"], "comments": [{"owner": {"reputation": 12070, "user_id": 5044950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9yN0x.jpg?s=128&g=1", "display_name": "Sam Estep", "link": "https://stackoverflow.com/users/5044950/sam-estep"}, "edited": false, "score": 4, "creation_date": 1436368696, "post_id": 31296857, "comment_id": 50584425, "body": "If the matrix is unsorted and the program has no other information about it, your only option is to brute-force search every element."}, {"owner": {"reputation": 341, "user_id": 410146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d800f59b8dca7b0b655c3bd771d6b4e?s=128&d=identicon&r=PG", "display_name": "putnampp", "link": "https://stackoverflow.com/users/410146/putnampp"}, "edited": false, "score": 1, "creation_date": 1436369206, "post_id": 31296857, "comment_id": 50584848, "body": "In the absence of additional information you may want to use a parallel scan of the matrix."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 5036150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b01c79d09414c9223ea9c038bd797b0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/5036150/jake"}, "is_accepted": false, "score": 0, "last_activity_date": 1436369204, "creation_date": 1436369204, "answer_id": 31297117, "question_id": 31296857, "link": "https://stackoverflow.com/questions/31296857/unsorted-matrix-search-algorithm/31297117#31297117", "title": "unsorted matrix search algorithm", "body": "<p>You could do this:</p>\n\n<pre><code>for (int i = 0; i &lt; m; m++)\n{\n    for (int j = 0; j &lt; n; j++)\n    {\n       if ((array[i][j] == *a prime number*) \n           &amp;&amp; (array[i][j] &gt; biggestPrime))\n       {\n           biggestPrime = array[i][j];\n       }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1436372474, "post_id": 31297248, "comment_id": 50587045, "body": "If you do use the Sieve of Eratosthenes, sorting will actually make things worse (in theory and probably in practice), since the SoE needs to generate and save all smaller primes than the number you&#39;re currently testing against anyway."}, {"owner": {"reputation": 280, "user_id": 4903482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6PUOXo_Ld7E/AAAAAAAAAAI/AAAAAAAAADM/t_E6gifrdB0/photo.jpg?sz=128", "display_name": "Jaki\u0161a Tomi\u0107", "link": "https://stackoverflow.com/users/4903482/jaki%c5%a1a-tomi%c4%87"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1436389098, "post_id": 31297248, "comment_id": 50597085, "body": "@j_random_hacker That&#39;s probably true. Lookup is very fast and sorting wouldn&#39;t give you anything valuable. I will edit my answer."}], "tags": [], "owner": {"reputation": 280, "user_id": 4903482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6PUOXo_Ld7E/AAAAAAAAAAI/AAAAAAAAADM/t_E6gifrdB0/photo.jpg?sz=128", "display_name": "Jaki\u0161a Tomi\u0107", "link": "https://stackoverflow.com/users/4903482/jaki%c5%a1a-tomi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1436389149, "last_edit_date": 1436389149, "creation_date": 1436369554, "answer_id": 31297248, "question_id": 31296857, "link": "https://stackoverflow.com/questions/31296857/unsorted-matrix-search-algorithm/31297248#31297248", "title": "unsorted matrix search algorithm", "body": "<p>First of all, it doesn't matter if you are using m * n matrix or vector with m * n elements. Generally speaking, you will have to visit each matrix element at least once, as it is not sorted. There are few hints to make process faster.</p>\n\n<ol>\n<li><p>If it is big matrix, you should visit elements row by row (and not column by column) as matrix is stored that way in memory so that elements from the same row will likely be in the cache once you access one of them.</p></li>\n<li><p>Testing number's primeness is the most costly part of your task so if numbers in matrix are not too big, you can use Eratosthenes' sieve algorithm to make lookup of prime numbers in advance. <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a></p></li>\n<li><p>If you don't use Eratosthenes' sieve, maybe it will be beneficial if you sort your numbers before algorithm so that you can test numbers from the greatest to the smallest. In that case, your algorithm can stop once the first prime number is found. If you don't sort it, you will have to test all numbers, which is probably slowest method.</p></li>\n</ol>\n"}], "owner": {"reputation": 183, "user_id": 1851533, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/e39311850f8af960804d2fea1602da3a?s=128&d=identicon&r=PG", "display_name": "A Big Ball Of Lettuce", "link": "https://stackoverflow.com/users/1851533/a-big-ball-of-lettuce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436389149, "creation_date": 1436368618, "question_id": 31296857, "link": "https://stackoverflow.com/questions/31296857/unsorted-matrix-search-algorithm", "title": "unsorted matrix search algorithm", "body": "<p>is there a suitable algorithm that allows a program to search through an unsorted matrix in search of the biggest prime number within. The matrix is of size m*n and may be populated with other prime numbers and non-primes. The search must find the biggest prime.</p>\n\n<p>I have studied the divide and conquer algorithms, and binary trees, and step-wise searches, but all of these deal with sorted matrices. </p>\n"}]