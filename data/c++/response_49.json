[{"tags": ["c++", "audio", "openal"], "comments": [{"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1450312446, "post_id": 34324353, "comment_id": 56391163, "body": "What do you mean by <i>&quot;the code works fine when I put it in a new project&quot;</i>?"}, {"owner": {"reputation": 69, "user_id": 3814792, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac2c719a5130d39b9de70ee66b3e42e0?s=128&d=identicon&r=PG&f=1", "display_name": "user3814792", "link": "https://stackoverflow.com/users/3814792/user3814792"}, "reply_to_user": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 0, "creation_date": 1450313003, "post_id": 34324353, "comment_id": 56391320, "body": "When I place this code in a fresh &#39;main.c&#39; file and compile it linking only to OpenAL, it works perfectly and sound is played through both speakers."}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 2, "creation_date": 1450313163, "post_id": 34324353, "comment_id": 56391363, "body": "So, essentially that&#39;s exactly what you have posted here.  You&#39;re saying that if we take the code as-is, and compile and link it ourselves, there will be no problem.  What is the context of the program where it <i>isn&#39;t</i> working?  What is different?  You haven&#39;t described the difference."}], "owner": {"reputation": 69, "user_id": 3814792, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ac2c719a5130d39b9de70ee66b3e42e0?s=128&d=identicon&r=PG&f=1", "display_name": "user3814792", "link": "https://stackoverflow.com/users/3814792/user3814792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450309955, "creation_date": 1450309955, "question_id": 34324353, "link": "https://stackoverflow.com/questions/34324353/c-audio-only-playing-through-one-speaker", "title": "C++ Audio Only Playing Through One Speaker", "body": "<p>I have the 'ding.wav' file from the Windows System folder and am trying to get it to play using C++ and OpenAL. My problem is that the following code only makes it play through one headphone / speaker. Can anybody identify the problem? The code works fine when I put it in a new project but I cannot understand why.</p>\n\n<pre><code>    alDevice = alcOpenDevice(alcGetString(NULL, ALC_DEFAULT_DEVICE_SPECIFIER));\n    alContext = alcCreateContext(alDevice, NULL);\n    alcMakeContextCurrent(alContext);\n\n    alListener3f(AL_POSITION, 0.0f, 0, 1.0f);\n    alListener3f(AL_VELOCITY, 0, 0, 0);\n    ALfloat listenerOri[] = { 0.0f, 0.0f, 1.0f, 0.0f, 1.0f, 0.0f };\n    alListenerfv(AL_ORIENTATION,listenerOri);\n\n    alGenSources((ALuint)1, &amp;alSource);\n    alSourcef(alSource, AL_PITCH, 1);\n    alSourcef(alSource, AL_GAIN, 1);\n    alSource3f(alSource, AL_POSITION, 0, 0, 0);\n    alSource3f(alSource, AL_VELOCITY, 0, 0, 0);\n    alSourcei(alSource, AL_LOOPING, AL_FALSE);\n\n    alGenBuffers(1, &amp;alBuffer);\n    alutLoadWAVFile(\"C:/ding.wav\", &amp;format, &amp;data, &amp;size, &amp;freq, &amp;loop);\n    alBufferData(alBuffer, format, data, size, freq);\n    alSourcei(alSource, AL_BUFFER, alBuffer);\n    alSourcePlay(alSource);\n    alGetSourcei(alSource, AL_SOURCE_STATE, &amp;source_state);\n    while (source_state == AL_PLAYING) {\n        alGetSourcei(alSource, AL_SOURCE_STATE, &amp;source_state);\n    }\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "pointers", "winapi"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450310452, "post_id": 34324341, "comment_id": 56390557, "body": "<i>So, I have been trying to figure out how c++ multi-threading works</i>  -- I don&#39;t see how that first <code>struct</code> you posted is supposed to work, threads or no threads.  You take the address of the temporary parameter?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 2, "creation_date": 1450310655, "post_id": 34324341, "comment_id": 56390613, "body": "First issue, you shouldn&#39;t delete <code>data</code> in <code>SetupThread</code>. You should delete it after you&#39;ve used it in <code>SetupThreadFunction</code>. Otherwise you&#39;ve setup a dangling pointer. Bear in mind that <code>CreateThread</code> returns before <code>SetupThreadFunction</code> has finished executing (probably before it has started executing)."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450310795, "post_id": 34324341, "comment_id": 56390663, "body": "Also, why are you deleting the data, when the thread may still be running?  Multithreading is a lot more than calling <code>CreateThread</code>.  You need proper synchronization, and also maybe &quot;Wait&quot; for the thread to finish executing before you pull the plug on the data."}, {"owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1450310910, "post_id": 34324341, "comment_id": 56390700, "body": "@PaulRooney yes it does. I have also tried removing the struct constructor and creating the struct using <code>ThreadData *data = new ThreadData();</code> and then giving it the value of the input <code>data-&gt;m_pInd = input;</code> but that has the same effect. Perhaps I am using the structure incorrectly?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1450311199, "post_id": 34324341, "comment_id": 56390797, "body": "@fudge22it What exactly is <code>Individual</code>?"}, {"owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311239, "post_id": 34324341, "comment_id": 56390814, "body": "@PaulMcKenzie I didn&#39;t think that the data mattered anymore since it had already been passed into the thread. Do you know of any good documentation where I could read up on win32 thread synchronization, etc?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1450311239, "post_id": 34324341, "comment_id": 56390815, "body": "<code>SetupThread</code> takes its argument by value. That means whatever is passed as <code>input</code> is copied when <code>SetupThread</code> is called and it ceases to exist when the function returns. If you take the address of <code>input</code>, you are taking the address of a temporary (I didnt see that that you even actually took the address). You must ensure it has a lifetime at least long as when <code>SetupThreadFunction</code> finishes executing"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311372, "post_id": 34324341, "comment_id": 56390859, "body": "@fudge22it So you invalidated the data potentially before the thread has completed?  That is what the issue is.  Yes, you passed the data to the thread, but then the thread has to run.  So you delete the data that you passed, and now the running thread is now using bad data."}, {"owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311378, "post_id": 34324341, "comment_id": 56390862, "body": "@PaulMcKenzie an Individual contains relative information of a person, including name, birth date, etc."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311446, "post_id": 34324341, "comment_id": 56390875, "body": "@fudge22it Then I don&#39;t see how in the world that struct compiled if an <code>Individual</code> hasn&#39;t got an overloaded <code>operator *</code>."}, {"owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311499, "post_id": 34324341, "comment_id": 56390896, "body": "@PaulMcKenzie you are right, I just checked if commenting out that delete changes anything and the data in fact does get passed corectly. Thank you for pointing me in the right direction. Now I just need t figure out where the right place to delete the data will be."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1450311545, "post_id": 34324341, "comment_id": 56390912, "body": "@fudge22it There are <code>WaitFor...</code> functions provided by the Win API.  For example: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms687032%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1450314967, "post_id": 34324341, "comment_id": 56391874, "body": "Things sure are a lot easier in the 21st century: <a href=\"http://en.cppreference.com/w/cpp/header/thread\" rel=\"nofollow noreferrer\"><code>&lt;thread&gt;</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "edited": false, "score": 0, "creation_date": 1450310737, "post_id": 34324433, "comment_id": 56390638, "body": "Does <code>std:thread</code> compile with visual studios 2008? The code hasn&#39;t been updated to work for newer versions of visual studios, unfortunately limiting the tools I can use."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "edited": false, "score": 0, "creation_date": 1450310925, "post_id": 34324433, "comment_id": 56390705, "body": "@fudge22it: <code>std::thread</code> was introduced in Visual Studio 2012."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1450312409, "post_id": 34324433, "comment_id": 56391151, "body": "This solves the problem only if <code>Individual</code> is copyable.  If it isn&#39;t, then it suffers roughly from the same problem (or at least one of the same problems)."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1450315027, "post_id": 34324433, "comment_id": 56391899, "body": "@AdrianMcCarthy: But in that case, moving can still be an option."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1450328503, "post_id": 34324433, "comment_id": 56395651, "body": "@MSalters: Since fudge22it didn&#39;t show us anything about Individual, even after being asked for it in the comments, I have little confidence that it&#39;s moveable or copyable."}], "tags": [], "owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "is_accepted": false, "score": 1, "last_activity_date": 1450310585, "creation_date": 1450310585, "answer_id": 34324433, "question_id": 34324341, "link": "https://stackoverflow.com/questions/34324341/c-win32-thread-createthread-function-not-passing-parameter-correctly/34324433#34324433", "title": "C++ win32 thread createThread function not passing parameter correctly", "body": "<p>Use <a href=\"http://www.cplusplus.com/reference/thread/thread/\" rel=\"nofollow\">std::thread</a>.</p>\n\n<pre><code>void ThreadProc(Individual individual);\n\nint main()\n{\n    Individual individual;\n    std::thread thread(ThreadProc, individual);\n    thread.join();\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "is_accepted": false, "score": 4, "last_activity_date": 1450311380, "creation_date": 1450311380, "answer_id": 34324563, "question_id": 34324341, "link": "https://stackoverflow.com/questions/34324341/c-win32-thread-createthread-function-not-passing-parameter-correctly/34324563#34324563", "title": "C++ win32 thread createThread function not passing parameter correctly", "body": "<p>This isn't a multithreading problem; it's a pointer problem.</p>\n\n<p>This line doesn't make sense to me:</p>\n\n<pre><code>ThreadData(Individual pInd) : m_pInd(*pInd) {}\n</code></pre>\n\n<p><code>m_pInd</code> is a pointer and yet you're initializing it with <code>*pInd</code> which means you want to dereference <code>pInd</code>, but <code>pInd</code> is not a pointer, let alone a pointer to a pointer.  I don't see how this would even compile.</p>\n\n<p>Assuming you actually meant <code>&amp;</code> instead of <code>*</code>, as in:</p>\n\n<pre><code>ThreadData(Individual ind) : m_pInd(&amp;ind) {}\n</code></pre>\n\n<p>The problem here is that you're creating a pointer to a copy of an <code>Individual</code> on the stack, and that copy goes away upon return from the constructor, so you have a dangling pointer.</p>\n"}, {"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 4, "last_activity_date": 1450311896, "creation_date": 1450311896, "answer_id": 34324645, "question_id": 34324341, "link": "https://stackoverflow.com/questions/34324341/c-win32-thread-createthread-function-not-passing-parameter-correctly/34324645#34324645", "title": "C++ win32 thread createThread function not passing parameter correctly", "body": "<p>The correct pattern is to allocate the object with <code>new</code>, fill in the data (if not done through parameters to <code>new</code>), pass the pointer to the newly-created thread, and let the thread <code>delete</code> the object when it's done with it. You <code>delete</code> the object before you know the thread has even started!</p>\n"}, {"tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": false, "score": 0, "last_activity_date": 1452072441, "last_edit_date": 1452072441, "creation_date": 1450312658, "answer_id": 34324755, "question_id": 34324341, "link": "https://stackoverflow.com/questions/34324341/c-win32-thread-createthread-function-not-passing-parameter-correctly/34324755#34324755", "title": "C++ win32 thread createThread function not passing parameter correctly", "body": "<p>Here's a simple code example to demonstrate the points already discussed.</p>\n\n<pre><code>#include \"stdafx.h\" // includes &lt;windows.h&gt;, &lt;string&gt; and &lt;iostream&gt;\n\nusing std::string;\nusing std::cout;\n\nclass Individual\n{\npublic:\n    string s;\n};\n\nstruct ThreadData\n{\n    Individual *m_pInd;\n    ThreadData(Individual* pInd) : m_pInd(pInd) {}\n};\n\nDWORD WINAPI SetupThreadFunction(LPVOID lpParameter)\n{\n    cout &lt;&lt; \"Hi From Thread\\n\";\n    ThreadData* threadData = static_cast&lt;ThreadData*&gt;(lpParameter);\n    //SetupInfo(threadData-&gt;m_pInd);\n\n    // do delete here, once its finished with.\n    delete threadData;\n    return 0;\n}\n\nHANDLE SetupThread(Individual* input)\n{\n    ThreadData *data = new ThreadData(input);\n    return CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE) SetupThreadFunction, data , 0, 0);   \n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    cout &lt;&lt; \"Hi\\n\";\n    Individual* i = new Individual;\n\n    HANDLE h = SetupThread(i);\n\n    if(h)   \n    {\n        WaitForSingleObject(h, INFINITE);\n        cout &lt;&lt; \"Done\\n\";\n    } else\n    {\n        cout &lt;&lt; \"Couldnt create thread\\n\";\n    }   \n\n    getchar();\n\n    delete i;\n\n    return 0;\n}\n</code></pre>\n\n<p>Bear in mind also you can use <a href=\"https://msdn.microsoft.com/en-us/library/kdzttdcb%28v=vs.90%29.aspx\" rel=\"nofollow\"><code>_beginthread</code></a> as a simpler interface to launch a thread on Win32.</p>\n"}], "owner": {"reputation": 93, "user_id": 1427151, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d175e2c03c4fe299176ed9b4c9927fe0?s=128&d=identicon&r=PG", "display_name": "fudge22it", "link": "https://stackoverflow.com/users/1427151/fudge22it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2506, "favorite_count": 1, "accepted_answer_id": 34324645, "answer_count": 4, "score": 0, "last_activity_date": 1452072441, "creation_date": 1450309864, "last_edit_date": 1450310453, "question_id": 34324341, "link": "https://stackoverflow.com/questions/34324341/c-win32-thread-createthread-function-not-passing-parameter-correctly", "title": "C++ win32 thread createThread function not passing parameter correctly", "body": "<p>So, I have been trying to figure out how c++ multi-threading works and how to apply it to the project I am working on. I am trying to accomplish creating a new thread and running a function on that thread. The function I am trying to run is called <code>SetupInfo</code> and takes an <code>Individual</code> as a single parameter. I have seen examples of this and have tried to implement them, but after multiple attempts I cannot successfully pass the parameter I need into the thread I want the function to run on. Here is what I have come up with:</p>\n\n<p>Here I create a struct to store the pointer to the <code>Individual</code> that I need later on.</p>\n\n<pre><code>struct ThreadData\n{\n Individual *m_pInd;\n ThreadData(Individual pInd) : m_pInd(*pInd) {}\n};\n</code></pre>\n\n<p>Here I create a function that I can call in my program that creates the thread that runs the function <code>SetupThreadFunction</code> which takes a void pointer as a parameter. I am trying to pass the variable <code>data</code> into this function and then cast it back to <code>ThreadData</code> to be able to access the items of the struct.</p>\n\n<pre><code>void SetupThread(Individual input)\n{\n   ThreadData *data = new ThreadData(input);\n   CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE) SetupThreadFunction, data , 0, 0);\n   delete data;\n}\n</code></pre>\n\n<p>Here I create the function that is passed into the <code>CreateThread</code> function which takes a void pointer and casts it to <code>ThreadData</code> which can then theoretically access the <code>threadData-&gt;m_pInd</code>. The same pointer for <code>data</code> above is passed correctly into the <code>SetupThreadFunction</code>. However, <code>m_pInd</code> contains null data and not the pointer to the information that is expected. <strong>Why is that?</strong></p>\n\n<pre><code>DWORD WINAPI SetupThreadFunction(LPVOID lpParameter)\n{\n ThreadData* threadData = (ThreadData*)lpParameter;\n SetupInfo(threadData-&gt;m_pInd);\n return 0;\n}\n</code></pre>\n\n<p><strong>Is there a more correct way to pass a parameter into the new win32 thread I am creating?</strong> </p>\n"}, {"tags": ["c++", "qt", "visual-studio-2010", "vtk"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1450310887, "post_id": 34324266, "comment_id": 56390691, "body": "<b><i>LNK1112: module machine type &#39;x64&#39; conflicts with target machine type &#39;X86&#39;</i></b> This means you are mixing 32 bit and 64 bit."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1450310931, "post_id": 34324266, "comment_id": 56390709, "body": "<b><i>I am using Qt 4.8.6, VTK 6.0 and VS2010</i></b> Did you compile all of these for 32 bit or 64 bit?"}, {"owner": {"reputation": 3138, "user_id": 293420, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c3b60c19a6b0d7804413960bd251bd6?s=128&d=identicon&r=PG", "display_name": "lesolorzanov", "link": "https://stackoverflow.com/users/293420/lesolorzanov"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1450311219, "post_id": 34324266, "comment_id": 56390806, "body": "I am not sure. My windows is 64 bits. I simply downloaded VS2010 and installed it. I dont know VTK&#39;s architecture either. I guess I will have to compile Qt in 64 bits (I didn&#39;t want to compile) and I am at a loss with all the other libraries"}, {"owner": {"reputation": 354, "user_id": 5199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c741bc7e8714b4eed8d8d616da278ed?s=128&d=identicon&r=PG", "display_name": "Paul H.", "link": "https://stackoverflow.com/users/5199222/paul-h"}, "edited": false, "score": 0, "creation_date": 1450312198, "post_id": 34324266, "comment_id": 56391095, "body": "Here are some links to precompiled binaries for VTK 6.1.0 <a href=\"http://www.opencascade.com/sites/default/files/private/occt/3rdparty/VTK-6.1.0-vc10-32.zip\" rel=\"nofollow noreferrer\">VTK VC10_32</a> and <a href=\"http://www.opencascade.com/sites/default/files/private/occt/3rdparty/VTK-6.1.0-vc10-64.zip\" rel=\"nofollow noreferrer\">VTK VC10_64</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4168, "user_id": 80480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ecd3760f8649e7a3c5f4d25cc8c1b55f?s=128&d=identicon&r=PG", "display_name": "Lars Bilke", "link": "https://stackoverflow.com/users/80480/lars-bilke"}, "is_accepted": true, "score": 0, "last_activity_date": 1450349040, "creation_date": 1450349040, "answer_id": 34332584, "question_id": 34324266, "link": "https://stackoverflow.com/questions/34324266/compiling-vtk-vs2010-qt-4-8/34332584#34332584", "title": "Compiling VTK , VS2010, Qt 4.8", "body": "<ol>\n<li><p>Install a precompiled Qt 4.8 x64:</p>\n\n<ul>\n<li>Simply download and install from <a href=\"http://sourceforge.net/projects/qt64ng/files/qt/x86-64/4.8.7/msvc2010/qt-4.8.7-x64-msvc2010.exe/download\" rel=\"nofollow\">Qt64-NG</a></li>\n<li>Create an environment variable <code>QTDIR</code> point to the installation directory, e.g. <code>C:\\Qt\\qt-4.8.7-x64-msvc2010</code></li>\n<li>Add <code>%QTDIR%\\bin</code> to your <code>PATH</code> environment variable</li>\n</ul></li>\n</ol>\n\n<p>You can test if Qt is correctly installed by opening a <code>CMD</code>-prompt and typing <code>qmake</code>.</p>\n\n<ol start=\"2\">\n<li><p>Build VTK 6.3 x64:</p>\n\n<ul>\n<li><a href=\"http://www.vtk.org/files/release/6.3/VTK-6.3.0.zip\" rel=\"nofollow\">Download VTK</a> and unzip it</li>\n<li>Create a <code>build</code>-directory inside your unzipped VTK-directory</li>\n<li>Configure with CMake inside the <code>build</code>-directory</li>\n</ul></li>\n</ol>\n\n<p>In command prompt:</p>\n\n<pre><code>cmake .. -G \"Visual Studio 10 2010 Win64\" -DBUILD_TESTING=OFF -DModule_vtkGUISupportQtOpenGL=ON -DBUILD_SHARED_LIBS=OFF -DCMAKE_INSTALL_PREFIX=[INSTALL-DIR] -DCMAKE_DEBUG_POSTFIX=d\ncmake --build . --config Release --target install\ncmake --build . --config Debug --target install\n</code></pre>\n"}], "owner": {"reputation": 3138, "user_id": 293420, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c3b60c19a6b0d7804413960bd251bd6?s=128&d=identicon&r=PG", "display_name": "lesolorzanov", "link": "https://stackoverflow.com/users/293420/lesolorzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 34332584, "answer_count": 1, "score": 0, "last_activity_date": 1450349040, "creation_date": 1450309372, "question_id": 34324266, "link": "https://stackoverflow.com/questions/34324266/compiling-vtk-vs2010-qt-4-8", "title": "Compiling VTK , VS2010, Qt 4.8", "body": "<p>I am at a loss here. I am trying to make Visual Studio 2010 compile VTK and be able to use Qt and VTK in the same applications. I am following <a href=\"http://www.vtk.org/Wiki/VTK/Configure_and_Build\" rel=\"nofollow\">http://www.vtk.org/Wiki/VTK/Configure_and_Build</a> and I keep getting errors that say LINK.</p>\n\n<p>Specifically I have these errors</p>\n\n<p>LNK1112: module machine type 'x64' conflicts with target machine type 'X86'</p>\n\n<p>and a lot of LNK1181 errors. It seems it can't find vtkmyCommon.lib, vtkGUISupportQtOpenGL-6.3.lib , vtkGUISupportQt-6.3.lib, vtkViewsQt-6.3.lib or vtkmyUnsorted.lib</p>\n\n<p>I am using Qt 4.8.6, VTK 6.0 and VS2010</p>\n\n<p>I don't understand what am I doing wrong or what am I missing. I am new to windows and VS2010.</p>\n\n<p>All the PATHs are set correctly so the problem is not there.</p>\n\n<p>Anyone knows what I could do?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1450309088, "post_id": 34324201, "comment_id": 56390161, "body": "It&#39;s possible to do it separated as you suggest.  What syntax errors are you running into?"}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "edited": false, "score": 0, "creation_date": 1450309256, "post_id": 34324201, "comment_id": 56390218, "body": "From the looks of it you are just missing semicolons after the class definitions. It is certainly possible to define a nested type outside the class. Make sure you include the namespace name if you define it outside the namespace, too. If you still have problems post a complete example showing the issue."}], "answers": [{"tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": false, "score": 1, "last_activity_date": 1450309688, "creation_date": 1450309688, "answer_id": 34324313, "question_id": 34324201, "link": "https://stackoverflow.com/questions/34324201/type-strictly-dependent-from-another-nested-classes-syntax/34324313#34324313", "title": "type strictly dependent from another (nested classes) - syntax", "body": "<p>This implementation is perfectly ok. <a href=\"http://ideone.com/KEkzzE\" rel=\"nofollow\">Live example</a>. It is likely that you have forgotten a semicolon after your class deceleration.  </p>\n\n<pre><code>class Container{\npublic:\n    class Iterator;\n}; // &lt;- Semicolon\n\nclass Container::Iterator{\npublic:\n    //methods\n};  // &lt;- Semicolon\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "edited": false, "score": 0, "creation_date": 1450310406, "post_id": 34324373, "comment_id": 56390544, "body": "Thanks a lot :) seems quite obvious now. + for implementation in new standard :)"}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 2, "last_activity_date": 1450310124, "creation_date": 1450310124, "answer_id": 34324373, "question_id": 34324201, "link": "https://stackoverflow.com/questions/34324201/type-strictly-dependent-from-another-nested-classes-syntax/34324373#34324373", "title": "type strictly dependent from another (nested classes) - syntax", "body": "<pre><code>template &lt;typename ValType, size_t size&gt;\nIterator ReversedVector&lt;ValType, size&gt;::begin(){\n    return Iterator(*this, m_currentPosition);\n}\n</code></pre>\n\n<p><code>Iterator</code> is a nested type, so it can't appear alone outside of a class context where that return type is.  You need either:</p>\n\n<pre><code>template &lt;typename ValType, size_t size&gt;\ntypename ReversedVector&lt;ValType, size&gt;::Iterator ReversedVector&lt;ValType, size&gt;::begin() {\n    return Iterator(*this, m_currentPosition);\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>template &lt;typename ValType, size_t size&gt;\nauto ReversedVector&lt;ValType, size&gt;::begin() -&gt; Iterator {\n    return Iterator(*this, m_currentPosition);\n}\n</code></pre>\n"}], "owner": {"reputation": 2153, "user_id": 4764736, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1423363884633192/picture?type=large", "display_name": "DawidPi", "link": "https://stackoverflow.com/users/4764736/dawidpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 34324373, "answer_count": 2, "score": 1, "last_activity_date": 1450310124, "creation_date": 1450308992, "last_edit_date": 1450309843, "question_id": 34324201, "link": "https://stackoverflow.com/questions/34324201/type-strictly-dependent-from-another-nested-classes-syntax", "title": "type strictly dependent from another (nested classes) - syntax", "body": "<p>Suppose, that we have got iterator class inside container class. We can declare this as follows:</p>\n\n<pre><code>class Container{\npublic:\n    class iterator{\n    public:\n    iterator operator++();\n    // .. further methods\n    }\n\n}\n</code></pre>\n\n<p>But, header file then gets extremally ugly and non-readable. I was thinking, that we could do following:</p>\n\n<pre><code>class Container{\npublic:\n    class Iterator;\n};\n\nclass Container::Iterator{\npublic:\n    //methods\n}\n</code></pre>\n\n<p>But I am getting all the time some syntax errors and I am starting to think, that generally this is impossible to declare things in following manner.</p>\n\n<p>My question is how can we do this efficiently in terms of code readability. Is there any reasonable way to do this? </p>\n\n<h1>UPDATE</h1>\n\n<p>Syntax errors I am currently facing are:</p>\n\n<pre><code>template &lt;typename ValType, size_t size&gt;\n    class ReversedVector{\n    public:\n        class Iterator;\n        ReversedVector();\n        void pushFront(const ValType&amp;);\n        Iterator begin();\n        Iterator end();\n\n        friend class Iterator;\n\n    private:\n        ValType m_rawContainer[size];\n        size_t m_currentPosition;\n    };\n</code></pre>\n\n<p>after this declaration I have a complete declaration of Iterator</p>\n\n<p>and when I am trying to implement begin:</p>\n\n<pre><code>template &lt;typename ValType, size_t size&gt;\nIterator ReversedVector&lt;ValType, size&gt;::begin(){\n    return Iterator(*this, m_currentPosition);\n}\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>C2143: syntax error : missing ';' before\n  'Containers::ReversedVector::begin'</p>\n</blockquote>\n"}, {"tags": ["c++", "templates", "member-pointers"], "comments": [{"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 1, "creation_date": 1450335000, "post_id": 34324091, "comment_id": 56398036, "body": "Templatize the most basic building blocks that you need and express the rest via them - e.g., see @Zoltan suggestion below. You can also use the oldschool macro on top of your template to hide the extra verbosity, altough it&#39;s less desirable solution"}], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 807433, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b52b20945d7e56f578fa8482c2e9728?s=128&d=identicon&r=PG", "display_name": "stands2reason", "link": "https://stackoverflow.com/users/807433/stands2reason"}, "edited": false, "score": 0, "creation_date": 1450378827, "post_id": 34327656, "comment_id": 56425905, "body": "Yes, this would save typing. Unfortunately, as I said in the question, I do not want to pass in a pointer as a run-time argument. I want a template instantiation that wraps a specific method."}], "tags": [], "owner": {"reputation": 1097, "user_id": 1181406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/760bcab4aab54dc57df1ff634b972997?s=128&d=identicon&r=PG", "display_name": "Zoli", "link": "https://stackoverflow.com/users/1181406/zoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1450334420, "last_edit_date": 1450334420, "creation_date": 1450332181, "answer_id": 34327656, "question_id": 34324091, "link": "https://stackoverflow.com/questions/34324091/member-function-wrapper-with-a-single-argument-template/34327656#34327656", "title": "Member function wrapper with a single argument template?", "body": "<blockquote>\n  <p>Why can't I just write something like this:</p>\n\n<pre><code>template&lt;void (C::*Method)(void)&gt;\nfunction&lt;void(C*)&gt; methodWrap()\n</code></pre>\n</blockquote>\n\n<p>Because there's no way to determine <code>C</code>'s type here. Hence the need for <code>typename C</code>.</p>\n\n<blockquote>\n  <p>Or why can't I wrapper it in an outer template that declares C as a\n  \"free variable\" and then has an inner template argument that performs\n  the deduction</p>\n</blockquote>\n\n<p>I'm not sure how this would help your predicament. You still need a way to specify the object's type in your template argument list.</p>\n\n<p>You could though do something like this:</p>\n\n<pre><code> template&lt;typename C&gt;\n std::function&lt;void(C&amp;)&gt; wrap(void(C::*mf)())\n {\n   return std::function&lt;void(C&amp;)&gt;(mf);\n }\n</code></pre>\n\n<p>Usage: <code>wrap(&amp;Obj::memfun);</code></p>\n\n<p>And of course to actually invoke a non-static member function through a pointer, you will need an instance object.</p>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 807433, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b52b20945d7e56f578fa8482c2e9728?s=128&d=identicon&r=PG", "display_name": "stands2reason", "link": "https://stackoverflow.com/users/807433/stands2reason"}, "edited": false, "score": 0, "creation_date": 1450378072, "post_id": 34330272, "comment_id": 56425472, "body": "I am confused by &quot;inferMemberFunctionPointer&quot;. What is its explicit return type? Also, I have set my compiler to use C++14 but says the deduced return type is a &quot;C++14 extension&quot;. It sounds like it means C++1z but I thought it was a C++14 feature."}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "reply_to_user": {"reputation": 616, "user_id": 807433, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b52b20945d7e56f578fa8482c2e9728?s=128&d=identicon&r=PG", "display_name": "stands2reason", "link": "https://stackoverflow.com/users/807433/stands2reason"}, "edited": false, "score": 0, "creation_date": 1450383578, "post_id": 34330272, "comment_id": 56428610, "body": "@stands2reason The return type should be <code>MemberFunctionPointer&lt;R,C&gt;</code>. I compiled the example with gcc 4.9.2 in C++1y mode. Which compiler are you using?"}, {"owner": {"reputation": 616, "user_id": 807433, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b52b20945d7e56f578fa8482c2e9728?s=128&d=identicon&r=PG", "display_name": "stands2reason", "link": "https://stackoverflow.com/users/807433/stands2reason"}, "edited": false, "score": 0, "creation_date": 1450457323, "post_id": 34330272, "comment_id": 56462388, "body": "Sure enough, it was a build config error. I got it to work, except for this line <code>return MemberFunction&lt;Return, Class&gt;{ memberFunctionPointer };</code>."}], "tags": [], "owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "is_accepted": true, "score": 2, "last_activity_date": 1450457509, "last_edit_date": 1450457509, "creation_date": 1450342388, "answer_id": 34330272, "question_id": 34324091, "link": "https://stackoverflow.com/questions/34324091/member-function-wrapper-with-a-single-argument-template/34330272#34330272", "title": "Member function wrapper with a single argument template?", "body": "<p>If you can live with having a normal function parameter for the member function pointer instead of making it a template parameter, you can do</p>\n\n<pre><code>#include &lt;functional&gt;\n\ntemplate&lt;typename R, typename C, typename... Args&gt;\nstruct MemberFunctionPointer\n{\n    typedef R Return;\n    typedef C Class;\n};\n\ntemplate&lt;typename R, typename C&gt;\nconstexpr auto inferMemberFunctionPointer(R (C::*method)())\n{\n    return MemberFunctionPointer&lt;R,C&gt;{};\n}\n\ntemplate&lt;typename T&gt; \nconstexpr auto methodWrap(T m)\n{\n    typedef typename decltype(inferMemberFunctionPointer(m))::Class Class;\n    typedef typename decltype(inferMemberFunctionPointer(m))::Return Return;\n\n        return std::function&lt;Return (Class*)&gt;();\n}\n\nstruct B {};\n\nstruct A\n{\n    B f();   \n};\n\nvoid foo()\n{\n    auto const m = methodWrap( &amp;A::f );\n}\n</code></pre>\n\n<p><code>std::function</code> is not a <code>constexpr</code> type, so we cannot use methodWrap to initialize a <code>constexpr</code> variable. You can bypass this by creating your own simple <code>constexpr</code> member function wrapper. I've also added a <code>static_assert</code> to get better error messages.</p>\n\n<pre><code>#include &lt;functional&gt;\n\ntemplate&lt;typename R, typename C, typename... Args&gt;\nstruct MemberFunctionPointer\n{\n    typedef R Return;\n    typedef C Class;\n};\n\ntemplate&lt;typename R, typename C&gt;\nconstexpr auto inferMemberFunctionPointer(R (C::*method)() const)\n{\n    return MemberFunctionPointer&lt;R,C&gt;{};\n}\n\ntemplate&lt;typename R, typename C&gt;\nstruct MemberFunction\n{\n    constexpr explicit MemberFunction(R (C::*g)() const): f(g) {}\n\n    constexpr R operator()(C const* obj) const\n    {\n        return (obj-&gt;*f)();\n    }\n\n    R (C::*f)() const;\n};\n\ntemplate&lt;typename T&gt; \nconstexpr auto methodWrap(T m)\n{\n    static_assert( std::is_member_function_pointer&lt;T&gt;::value, \n                   \"Member function pointer expected!\");\n\n    typedef typename decltype(inferMemberFunctionPointer(m))::Class Class;\n    typedef typename decltype(inferMemberFunctionPointer(m))::Return Return;\n\n        return MemberFunction&lt;Return, Class&gt;{ MemberFunctionPointer&lt;Return,Class&gt;{} };\n}\n\nstruct B {};\n\nstruct A\n{\n    constexpr B f() const;   \n};\n\nvoid foo()\n{\n    auto constexpr m = methodWrap( &amp;A::f );\n    auto constexpr a = A{};\n    m( &amp;a );\n\n    auto b = A{};\n    m( &amp;b );\n}\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 807433, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b52b20945d7e56f578fa8482c2e9728?s=128&d=identicon&r=PG", "display_name": "stands2reason", "link": "https://stackoverflow.com/users/807433/stands2reason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 2, "accepted_answer_id": 34330272, "answer_count": 2, "score": 4, "last_activity_date": 1450457509, "creation_date": 1450308443, "last_edit_date": 1450375801, "question_id": 34324091, "link": "https://stackoverflow.com/questions/34324091/member-function-wrapper-with-a-single-argument-template", "title": "Member function wrapper with a single argument template?", "body": "<p>I made a template function which takes a member function as a parameter.</p>\n\n<p>However, since the class has to be declared before it can be used as part of the member function parameter, I have to make it a separate parameter:</p>\n\n<pre><code>template&lt;typename C, void (C::*Method)(void)&gt;\nfunction&lt;void(C*)&gt; methodWrap()\n{\n}\n</code></pre>\n\n<p>Which means when explicitly instantiate the template (I want these wrappers to be generated at compile time, not passing in a member pointer as an argument) I have to type it twice when I use it:</p>\n\n<pre><code>function&lt;void(C*)&gt; someFunc = wrapMethod&lt;SomeClass, &amp;SomeClass::someMethod&gt;();\n</code></pre>\n\n<p>Why can't I just write something like tis:</p>\n\n<pre><code>template&lt;void (C::*Method)(void)&gt;\nfunction&lt;void(C*)&gt; methodWrap()\n{\n}\n</code></pre>\n\n<p>and let it capture the type of C and its member function pointer without having to type SomeClass twice?</p>\n\n<p>Or why can't I wrapper it in an outer template that declares C as a \"free variable\" and then has an inner template argument that performs the deduction</p>\n\n<pre><code>template&lt;typename C&gt;\ntemplate&lt;void (C::*Method)(void)&gt;\nfunction&lt;void(C*)&gt; methodWrap()\n{\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 3, "creation_date": 1450307892, "post_id": 34323950, "comment_id": 56389749, "body": "It should be at least a warning on both."}, {"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 4, "creation_date": 1450307901, "post_id": 34323950, "comment_id": 56389755, "body": "If it looks fine then you haven&#39;t bothered to look at all... Read the error. Look at lines 2 and 3."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1450307957, "post_id": 34323950, "comment_id": 56389771, "body": "Hint: What is of the value of userInput before the <code>while (userInput != &#39;q&#39;)</code> ?"}, {"owner": {"reputation": 101, "user_id": 5688801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e1f8d1fa33be3aeac2921a036fdeeb8?s=128&d=identicon&r=PG&f=1", "display_name": "user273032", "link": "https://stackoverflow.com/users/5688801/user273032"}, "edited": false, "score": 0, "creation_date": 1450308630, "post_id": 34323950, "comment_id": 56390011, "body": "Ok, i see it now, weird that it worked under netbeans"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1450308752, "post_id": 34323950, "comment_id": 56390049, "body": "It must have a very bad default compiler settings or someone changed the settings to bad value (ignoring this type of warning)."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1450312982, "post_id": 34323950, "comment_id": 56391312, "body": "It&#39;s not an error, unless you have some funky compiler setting that treats warnings as errors."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 2, "creation_date": 1450313396, "post_id": 34323950, "comment_id": 56391424, "body": "You were lucky enough to get a compiler error message that was actually clear and unambiguous, and you&#39;re complaining about it?"}], "answers": [{"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 2, "last_activity_date": 1450308548, "creation_date": 1450308548, "answer_id": 34324113, "question_id": 34323950, "link": "https://stackoverflow.com/questions/34323950/uninitialized-local-variable-in-switch/34324113#34324113", "title": "Uninitialized local variable in switch", "body": "<p>It's not an error; it's a <em>warning</em>, and one that you did not turn on when you tested on Ubuntu (though you should have done).</p>\n\n<p>The reason for its emission is exactly what it says: you did not initialise <code>charInput</code> when you declared it. Immediately afterwards, you compare it to <code>'q'</code> &mdash; how can you compare an uninitialised value to <code>'q'</code>? You're just begging for surprises.</p>\n"}, {"tags": [], "owner": {"reputation": 1370, "user_id": 3188061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c5b5891d55112097938b3c8e66218e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alper F\u0131rat Kaya", "link": "https://stackoverflow.com/users/3188061/alper-f%c4%b1rat-kaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1450313138, "creation_date": 1450313138, "answer_id": 34324835, "question_id": 34323950, "link": "https://stackoverflow.com/questions/34323950/uninitialized-local-variable-in-switch/34324835#34324835", "title": "Uninitialized local variable in switch", "body": "<p>you should always initialize your variables before using them and you should read the errors and google them before asking them in here  </p>\n\n<pre><code>int main(void) {\n    char userInput;\n    cin &gt;&gt; userInput;\n    while (userInput != 'q')\n    {\n      switch (userInput)\n      {\n        case 'a': break;\n        default: break;\n    cin &gt;&gt; userInput;\n      }// end switch\n    }//end while\n    return 0;\n\n}//end main\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5688801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e1f8d1fa33be3aeac2921a036fdeeb8?s=128&d=identicon&r=PG&f=1", "display_name": "user273032", "link": "https://stackoverflow.com/users/5688801/user273032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "closed_date": 1450323416, "answer_count": 2, "score": -7, "last_activity_date": 1450313138, "creation_date": 1450307675, "last_edit_date": 1450307982, "question_id": 34323950, "link": "https://stackoverflow.com/questions/34323950/uninitialized-local-variable-in-switch", "closed_reason": "Not suitable for this site", "title": "Uninitialized local variable in switch", "body": "<p>I have a very simple switch case menu, however i get this error: \nuninitialized local variable 'userInput' used   </p>\n\n<pre><code>int main(void) {\nchar userInput;\nwhile (userInput != 'q')\n{\n  cin &gt;&gt; userInput;\n\n  switch (userInput)\n  {\n    case 'a': break;\n    default: break;\n  }// end switch\n}//end while\nreturn 0;\n}//end main\n</code></pre>\n\n<p>I made this in ubuntu and it worked fine, i tried it in visual studio on windows it gives me the error. Any help is appreciated because it looks fine to me.</p>\n"}, {"tags": ["c++", "qt", "qvector"], "comments": [{"owner": {"reputation": 1099, "user_id": 1444126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dO7q6.png?s=128&g=1", "display_name": "ergys", "link": "https://stackoverflow.com/users/1444126/ergys"}, "edited": false, "score": 0, "creation_date": 1450309079, "post_id": 34323932, "comment_id": 56390159, "body": "Are you familiar with C++ initializer lists? Maybe that&#39;s what you need here. However, I have no idea how Qt works, just concluded this from the last sentence."}, {"owner": {"reputation": 1099, "user_id": 1444126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dO7q6.png?s=128&g=1", "display_name": "ergys", "link": "https://stackoverflow.com/users/1444126/ergys"}, "edited": false, "score": 0, "creation_date": 1450309448, "post_id": 34323932, "comment_id": 56390276, "body": "After edit: header means in class, or global scope?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1450309459, "post_id": 34323932, "comment_id": 56390281, "body": "&quot;has incompelte type&quot; suggests you forgot to include required header"}, {"owner": {"reputation": 453, "user_id": 2298744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/31a0953f3b3b37e05ef2f20ed26d4e01?s=128&d=identicon&r=PG", "display_name": "Fritz", "link": "https://stackoverflow.com/users/2298744/fritz"}, "reply_to_user": {"reputation": 1099, "user_id": 1444126, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dO7q6.png?s=128&g=1", "display_name": "ergys", "link": "https://stackoverflow.com/users/1444126/ergys"}, "edited": false, "score": 0, "creation_date": 1450310526, "post_id": 34323932, "comment_id": 56390580, "body": "@errikos fixed title, i mean class scope"}, {"owner": {"reputation": 453, "user_id": 2298744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/31a0953f3b3b37e05ef2f20ed26d4e01?s=128&d=identicon&r=PG", "display_name": "Fritz", "link": "https://stackoverflow.com/users/2298744/fritz"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1450311190, "post_id": 34323932, "comment_id": 56390795, "body": "@M.M thx this also brought me to the solution, i forgot the header files to include for QString an QVector"}], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 2298744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/31a0953f3b3b37e05ef2f20ed26d4e01?s=128&d=identicon&r=PG", "display_name": "Fritz", "link": "https://stackoverflow.com/users/2298744/fritz"}, "edited": false, "score": 0, "creation_date": 1450311136, "post_id": 34324262, "comment_id": 56390785, "body": "after haveing this <a href=\"http://stackoverflow.com/questions/28075328/could-not-convert-from-brace-enclosed-initializer-list-to-stdvector\">problem</a> it was working but I have one question left. For what are the braces? it is some kind of random initialisation right?"}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "reply_to_user": {"reputation": 453, "user_id": 2298744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/31a0953f3b3b37e05ef2f20ed26d4e01?s=128&d=identicon&r=PG", "display_name": "Fritz", "link": "https://stackoverflow.com/users/2298744/fritz"}, "edited": false, "score": 1, "creation_date": 1450314192, "post_id": 34324262, "comment_id": 56391660, "body": "There is new initializer list in C++ 11 and aggregate initializer list too: <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/aggregate_initialization</a>"}], "tags": [], "owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "is_accepted": true, "score": 2, "last_activity_date": 1450314293, "last_edit_date": 1450314293, "creation_date": 1450309356, "answer_id": 34324262, "question_id": 34323932, "link": "https://stackoverflow.com/questions/34323932/2-dimensional-vector-in-class-scope/34324262#34324262", "title": "2-dimensional vector in class scope", "body": "<blockquote>\n  <p>So my question is: how to define the vector in the class scope and\n  then initialize it in the constructor?</p>\n</blockquote>\n\n<p>One of possible ways to initialize such structure in memory with C++ 11 initializer list:</p>\n\n<pre><code>class MyClass\n{\nprivate:\n    QVector&lt;QVector&lt;QString&gt; &gt; vct {{\"\", \"\"}, {\"\"}, {\"\", \"\", \"\"}};\n};\n</code></pre>\n\n<p>Or in line:</p>\n\n<pre><code>QVector&lt;QVector&lt;QString&gt; &gt; vct = {{\"\", \"\"}, {\"\"}, {\"\", \"\", \"\"}};\n</code></pre>\n\n<p>Or in constructor or any class' method:</p>\n\n<pre><code>vct = {{\"\", \"\"}, {\"\"}, {\"\", \"\", \"\"}};\n</code></pre>\n\n<p>I tried and that compiles and should work. The above pattern is actually an <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow\">aggregate initialization</a> as original poster asked in comments.</p>\n"}], "owner": {"reputation": 453, "user_id": 2298744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/31a0953f3b3b37e05ef2f20ed26d4e01?s=128&d=identicon&r=PG", "display_name": "Fritz", "link": "https://stackoverflow.com/users/2298744/fritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 34324262, "answer_count": 1, "score": 0, "last_activity_date": 1450325799, "creation_date": 1450307556, "last_edit_date": 1495542194, "question_id": 34323932, "link": "https://stackoverflow.com/questions/34323932/2-dimensional-vector-in-class-scope", "title": "2-dimensional vector in class scope", "body": "<p>I want to have an 2 dimensional vector containing strings so i tried something like that:</p>\n\n<pre><code>QVector&lt;QVector&lt;QString*&gt; &gt; register_options(8, QVector&lt;QString*&gt;(8)); //getting 'expected identifier before numeric constant'\nQVector&lt;QVector&lt;QString&gt; &gt; register_options; // getting 'field has incomplete type'\n</code></pre>\n\n<p>this is the initialisation I found <a href=\"https://stackoverflow.com/questions/6333783/2d-matrix-of-qstrings\">here</a></p>\n\n<p>I also read that its not possible no initialize vectors in class scope and should be done in the constructor, which I understand however I can't define the prototype of the var in class scope.</p>\n\n<p>I also tried</p>\n\n<pre><code>//header\nQVector&lt;QString&gt; register_bits; // field has incomplete type\nQVector&lt;QVector&lt;QString&gt; &gt; register_options; // field has incomplete type\n//source\nregisters::registers() : register_bits(8, 0), register_options(8, register_bits)\n{ //...\n</code></pre>\n\n<p>So my question is: how to define the vector in the class scope and then initialize it in the constructor?</p>\n"}, {"tags": ["c++", "windows", "msys", "mingw-w64", "msys2"], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 2, "creation_date": 1450310728, "post_id": 34323866, "comment_id": 56390635, "body": "<a href=\"http://www.dependencywalker.com/\" rel=\"nofollow noreferrer\">Dependency Walker</a> displays all dependencies, that are linked using compile-time dynamic linking. Similar to your suggest approach to use <code>ldd</code> it will not account for dependencies that are linked using runtime dynamic linking (Dependency Walker allows you to profile your application, so you might catch some of them this way)."}, {"owner": {"reputation": 3008, "user_id": 586784, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3314a75963d3b7b8c13ed56d1c97af6?s=128&d=identicon&r=PG", "display_name": "Realz Slaw", "link": "https://stackoverflow.com/users/586784/realz-slaw"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1450313322, "post_id": 34323866, "comment_id": 56391407, "body": "@IInspectable sure, I am aware of dependency walker. It&#39;s a great tool. Haven&#39;t used it in years. <code>ldd</code> is part of mingw-w64 so i found it useful to use that."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1465657003, "post_id": 34323866, "comment_id": 62998889, "body": "Thanks for the useful thread. Not sure yet whether it&#39;s causing my problem, but it&#39;s valuable either way. Since it might be related: (A) Can this occur when conversely running a 32-bit cross-compiled program on a 64-bit OS, and (B) Do you know why, whereas running from Explorer or Command Prompt gives this error - when running from the same MSYS2-supplied <code>mingw32</code> shell, the program simply exits immediately with no apparent error?"}, {"owner": {"reputation": 49960, "user_id": 32453, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/bec38d63650c8912b6ba9b557fb953b9?s=128&d=identicon&r=PG", "display_name": "rogerdpack", "link": "https://stackoverflow.com/users/32453/rogerdpack"}, "edited": false, "score": 3, "creation_date": 1465980310, "post_id": 34323866, "comment_id": 63122630, "body": "Unfortunately at least in my case ldd reported &quot;a few&quot; dependencies, including some rather unuseful ones like <code>??? =&gt; ??? (0xd0000)</code> whereas dependency walker showed me the ones that were actually missing :|"}], "tags": [], "owner": {"reputation": 3008, "user_id": 586784, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3314a75963d3b7b8c13ed56d1c97af6?s=128&d=identicon&r=PG", "display_name": "Realz Slaw", "link": "https://stackoverflow.com/users/586784/realz-slaw"}, "is_accepted": false, "score": 5, "last_activity_date": 1450307252, "creation_date": 1450307252, "answer_id": 34323866, "question_id": 34323865, "link": "https://stackoverflow.com/questions/34323865/application-compiled-in-mingw-w64-msys2-the-application-was-unable-to-start-co/34323866#34323866", "title": "Application compiled in mingw-w64/msys2, &quot;the application was unable to start correctly (0xc00007b&quot;", "body": "<p>Error <code>0xc00007b</code> basically means \"invalid image format\" which usually happens when mixing 64-bit and 32-bit DLLs. What is happening, is that you have a 64-bit application, looking for a particular DLL, which <em>is</em> in the global path, but the one in the path is 32-bit. Therefore, the problem is: it does not complain about the missing DLL, it just tries to load it. Since it is a 32-bit application, and your application is a 64-bit application, you get error <code>0xc00007b</code>.</p>\n\n<p>The solution is to copy <em>all</em> the dependent DLLs over to the application path.</p>\n\n<p>The next problem is you don't know which ones.</p>\n\n<p>What you can do with msys2 shell is: go to the directory and run the command:</p>\n\n<pre><code>ldd application.exe\n</code></pre>\n\n<p>This will give you a list of DLLs the application depends on. Copy the msys2/mingw-w64 related DLLs to the directory. This will allow the application to find them before looking in the PATH and finding the 32-bit DLLs.</p>\n"}], "owner": {"reputation": 3008, "user_id": 586784, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3314a75963d3b7b8c13ed56d1c97af6?s=128&d=identicon&r=PG", "display_name": "Realz Slaw", "link": "https://stackoverflow.com/users/586784/realz-slaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2293, "favorite_count": 4, "answer_count": 1, "score": 7, "last_activity_date": 1450309583, "creation_date": 1450307252, "last_edit_date": 1450309583, "question_id": 34323865, "link": "https://stackoverflow.com/questions/34323865/application-compiled-in-mingw-w64-msys2-the-application-was-unable-to-start-co", "title": "Application compiled in mingw-w64/msys2, &quot;the application was unable to start correctly (0xc00007b&quot;", "body": "<p>After compiling an application in the <code>mingw-w64 64-bit Shell</code>, it runs fine inside the shell, but gives an error <code>the application was unable to start correctly (0xc00007b)</code> when run normally, outside the shell.</p>\n\n<p>I moved some of the necessary DLLs from the msys2/mingw-w64 bin directories when it complained about missing them, but now it gives this opaque error. What am I doing wrong?</p>\n"}, {"tags": ["c++", "multiple-inheritance", "name-lookup", "ambiguous-call"], "answers": [{"tags": [], "owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "is_accepted": true, "score": 4, "last_activity_date": 1450308479, "last_edit_date": 1450308479, "creation_date": 1450307213, "answer_id": 34323857, "question_id": 34323791, "link": "https://stackoverflow.com/questions/34323791/resolving-virtual-method-overloads-across-base-classes/34323857#34323857", "title": "Resolving virtual method overloads across base classes", "body": "<p>This is indeed ambiguity according to the standard, but you can use <code>using</code> or specify the base class explicitly:</p>\n\n<pre><code>class join_1_2 : public virtual base_1, public virtual base_2\n{\npublic:\n    using base_1::foo;\n    using base_2::foo;\n};\n\nvoid sink(join_1_2 &amp;param)\n{\n    param.base_2::foo(42, 3.14);\n}\n</code></pre>\n\n<p><strong>7.3.3 The using declaration</strong></p>\n\n<blockquote>\n  <p>For the purpose of overload resolution, the functions which are introduced by a using-declaration into a\n  derived class will be treated as though they were members of the derived class.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1396, "user_id": 4625005, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/jm809.gif?s=128&g=1", "display_name": "Green Tree", "link": "https://stackoverflow.com/users/4625005/green-tree"}, "edited": false, "score": 0, "creation_date": 1495986997, "post_id": 34323993, "comment_id": 75468450, "body": "1. could you provide some quotes to the rule.?  2. Is there any other way to get this situation without class member lookup/multiple inheritance.?"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1450307889, "creation_date": 1450307889, "answer_id": 34323993, "question_id": 34323791, "link": "https://stackoverflow.com/questions/34323791/resolving-virtual-method-overloads-across-base-classes/34323993#34323993", "title": "Resolving virtual method overloads across base classes", "body": "<p>The rule of thumb is that functions in different scopes don't overload - here our <code>foo</code>s are in different scopes. If you want them to overload, you'll want to bring them in with a <em>using-declaration</em>:</p>\n\n<pre><code>class join_1_2 : public virtual base_1, public virtual base_2\n{\npublic:\n    using base_1::foo;\n    using base_2::foo;\n};\n</code></pre>\n"}], "owner": {"reputation": 1287, "user_id": 855367, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c79125df0258694e5376696f32855574?s=128&d=identicon&r=PG", "display_name": "Matthew Reddington", "link": "https://stackoverflow.com/users/855367/matthew-reddington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 34323857, "answer_count": 2, "score": 4, "last_activity_date": 1450555147, "creation_date": 1450306902, "last_edit_date": 1450555147, "question_id": 34323791, "link": "https://stackoverflow.com/questions/34323791/resolving-virtual-method-overloads-across-base-classes", "title": "Resolving virtual method overloads across base classes", "body": "<p>Visual Studio 2013.</p>\n\n<p>Given:</p>\n\n<pre><code>class base_1\n{\npublic:\n    virtual void foo(int) = 0;\n};\n\nclass base_2\n{\npublic:\n    virtual void foo(int, double) = 0;\n};\n\nclass join_1_2 : public virtual base_1, public virtual base_2\n{};\n</code></pre>\n\n<p>I have a sink:</p>\n\n<pre><code>void sink(join_1_2 &amp;param)\n{\n    param.foo(42, 3.14);\n}\n</code></pre>\n\n<p>But I get the following compiler errors:</p>\n\n<blockquote>\n  <p>error C2385: ambiguous access of 'foo'</p>\n  \n  <p>could be the 'foo' in base 'base_1'</p>\n  \n  <p>or could be the 'foo' in base 'base_2'</p>\n  \n  <p>error C2660: 'base_1::foo' : function does not take 2 arguments</p>\n  \n  <p>error C3861: 'foo': identifier not found</p>\n</blockquote>\n\n<p>I know I can resolve this issue with:</p>\n\n<pre><code>param.base_2::foo(42, 3.14);\n</code></pre>\n\n<p>But as you can imagine, virtual inheritance is already one sin too many I have to live with. I'm probably going to write an adapter. But I don't understand what is preventing the compiler from trying to resolve foo in base_2. My colleague believes it to be a compiler error, but I'm not so quick to blame the vendor.</p>\n\n<p>What does the C++ spec say about resolving overloaded virtual methods across base classes?</p>\n"}, {"tags": ["c++", "tree"], "comments": [{"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 1, "creation_date": 1450307069, "post_id": 34323639, "comment_id": 56389430, "body": "Your debugger can help."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450307255, "post_id": 34323639, "comment_id": 56389492, "body": "I don&#39;t uderstand the structure of your add methods.  Why pass &#39;root&#39; around inside them when it&#39;s a member var?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1450309279, "post_id": 34323639, "comment_id": 56390225, "body": "Recommend rethinking how you&#39;re doing this because you&#39;re coding your way into bug city. For example, how many children are in a given <code>Node</code>? That bit of information was discarded. You can only add to <code>root</code>. <code>Node</code> does not have proper ownership of child and counts on <code>Tree</code> to do the heavy lifting. This means <code>Tree</code> needs to know everything about itself and all the <code>Node</code>s, over complicating <code>Tree</code> and under complicating <code>Node</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1450313434, "post_id": 34323639, "comment_id": 56391436, "body": "This is not the approach that&#39;s usually used for game play. The problem is that the tree is far too big to represent in memory. So the typical <a href=\"https://en.wikipedia.org/wiki/Minimax\" rel=\"nofollow noreferrer\">minimax implementation</a> generates moves on the fly and calls itself to evaluate each response."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1450308571, "post_id": 34323935, "comment_id": 56389988, "body": "Works, but recommend using a reference not a pointer <code>void add(Node *&amp;r, int data, int size) {</code>"}], "tags": [], "owner": {"reputation": 26, "user_id": 5610221, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yoMBjoemnNE/AAAAAAAAAAI/AAAAAAAAAGE/qEe3hYg8-is/photo.jpg?sz=128", "display_name": "Bijan Daei", "link": "https://stackoverflow.com/users/5610221/bijan-daei"}, "is_accepted": true, "score": 0, "last_activity_date": 1450307568, "creation_date": 1450307568, "answer_id": 34323935, "question_id": 34323639, "link": "https://stackoverflow.com/questions/34323639/implementing-a-game-tree-for-checkers/34323935#34323935", "title": "Implementing a Game Tree for Checkers", "body": "<p>The problem is in your private add function you pass r by value. So when you set  r = newnode you are in fact setting the address for a local pointer variable and it will not affect root. Here is the workaround:</p>\n\n<pre><code>class Tree {\npublic:\n    Node *root;\n    Tree() {\n        root = NULL;\n    }\n\nprivate:\n    void add(Node **r, int data, int size) {\n        if (*r == NULL) {\n            Node *newnode = new Node;\n            newnode-&gt;child = new Node*[size];\n            for (int i = 0; i &lt; size; ++i) {\n                newnode-&gt;child[i] = new Node;\n                newnode-&gt;child[i]-&gt;child = 0;\n            }\n            newnode-&gt;data = data;\n            *r = newnode;\n        }\n    }\n\npublic:\n    void add(int data, int size) {\n        add(&amp;root, data, size);\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 3344938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HLMuh.jpg?s=128&g=1", "display_name": "sbasurto", "link": "https://stackoverflow.com/users/3344938/sbasurto"}, "is_accepted": false, "score": 0, "last_activity_date": 1450307750, "creation_date": 1450307750, "answer_id": 34323968, "question_id": 34323639, "link": "https://stackoverflow.com/questions/34323639/implementing-a-game-tree-for-checkers/34323968#34323968", "title": "Implementing a Game Tree for Checkers", "body": "<p>What you are doing wrong is: </p>\n\n<pre><code>r = newnode;\n</code></pre>\n\n<p>r is a local variable you must do</p>\n\n<pre><code>root = newnode;\n</code></pre>\n\n<p>And your code will work.</p>\n\n<p>Hope this help</p>\n"}], "owner": {"reputation": 170, "user_id": 5183186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60b7f3ce45a4195d693d1c1ff036f3b5?s=128&d=identicon&r=PG&f=1", "display_name": "Adil.R", "link": "https://stackoverflow.com/users/5183186/adil-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "accepted_answer_id": 34323935, "answer_count": 2, "score": 0, "last_activity_date": 1450307750, "creation_date": 1450306134, "question_id": 34323639, "link": "https://stackoverflow.com/questions/34323639/implementing-a-game-tree-for-checkers", "title": "Implementing a Game Tree for Checkers", "body": "<p>I want to implement a game tree which can have any number of nodes at each level, basically i'm working on AI for checkers and i want to implement a game tree to be used in minimax algorithm.This is my code and i was working on the first case of insertion i.e when the Tree is empty....but when i try to access the data at root, my program crashes! any help?? :/</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nstruct Node {\n    Node **child;\n    int data;\n};\n\nclass Tree {\npublic:\n    Node *root;\n    Tree() {\n        root = NULL;\n    }\n\nprivate:\n    void add(Node *r, int data, int size) {\n        if (r == NULL) {\n            Node *newnode = new Node;\n            newnode-&gt;child = new Node*[size];\n            for (int i = 0; i &lt; size; ++i) {\n                newnode-&gt;child[i] = new Node;\n                newnode-&gt;child[i]-&gt;child = 0;\n            }\n            newnode-&gt;data = data;\n            r = newnode;\n        }\n    }\n\npublic:\n    void add(int data, int size) {\n        add(root, data, size);\n    }\n};\n\nint main() {\n\n    Tree t;\n    t.add(5, 20);\n    cout &lt;&lt; t.root-&gt;data &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "hex", "precision"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1450306718, "post_id": 34323580, "comment_id": 56389280, "body": "See <a href=\"http://wg21.link/lwg671\" rel=\"nofollow noreferrer\">LWG 671</a>."}], "answers": [{"tags": [], "owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "is_accepted": true, "score": 12, "last_activity_date": 1450306592, "creation_date": 1450306592, "answer_id": 34323738, "question_id": 34323580, "link": "https://stackoverflow.com/questions/34323580/hexfloat-manipulator-and-precision/34323738#34323738", "title": "Hexfloat manipulator and precision", "body": "<p>The <code>std::hexfloat</code> format is intended to dump out the exact repesentation of a floating point value. The string represention isn't for human consumption but primarily to restore the exact same representation again. Thus, it does not make sense to truncate the format in any way based on any stream setting.</p>\n"}], "owner": {"reputation": 773, "user_id": 5627734, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ecb940b4218ff250f966e1d25e8aa7bf?s=128&d=identicon&r=PG&f=1", "display_name": "SergeantPenguin", "link": "https://stackoverflow.com/users/5627734/sergeantpenguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 1, "accepted_answer_id": 34323738, "answer_count": 1, "score": 3, "last_activity_date": 1450306592, "creation_date": 1450305852, "question_id": 34323580, "link": "https://stackoverflow.com/questions/34323580/hexfloat-manipulator-and-precision", "title": "Hexfloat manipulator and precision", "body": "<p>How come output using the <code>hexfloat</code> manipulator ignores any precision on <code>ostream</code>?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;iomanip&gt;\n\nusing namespace std;\n\nint main(){\n\n    cout &lt;&lt; setw(17) &lt;&lt; left &lt;&lt; \"default format: \" &lt;&lt; setw(20) &lt;&lt; right &lt;&lt; 100 * sqrt(2.0) &lt;&lt; \" \" &lt;&lt;  cout.precision() &lt;&lt; '\\n'\n         &lt;&lt; setw(17) &lt;&lt; left &lt;&lt; \"scientific: \" &lt;&lt; setw(20) &lt;&lt; right &lt;&lt; scientific &lt;&lt; 100 * sqrt(2.0) &lt;&lt; \" \" &lt;&lt;  cout.precision() &lt;&lt;  '\\n'\n         &lt;&lt; setw(17) &lt;&lt; left &lt;&lt; \"fixed decimal: \" &lt;&lt; fixed &lt;&lt; setw(20) &lt;&lt; right &lt;&lt; 100 * sqrt(2.0) &lt;&lt; \" \" &lt;&lt;  cout.precision() &lt;&lt;  '\\n'\n         &lt;&lt; setw(17) &lt;&lt; left &lt;&lt; \"hexadecimal: \" &lt;&lt; hexfloat &lt;&lt; setw(20) &lt;&lt; right &lt;&lt; uppercase &lt;&lt; 100 * sqrt(2.0) &lt;&lt; nouppercase &lt;&lt; \" \" &lt;&lt;  cout.precision() &lt;&lt;  '\\n'\n         &lt;&lt; setw(17) &lt;&lt; left &lt;&lt; \"use defaults: \" &lt;&lt; defaultfloat &lt;&lt; setw(20) &lt;&lt; right &lt;&lt; 100 * sqrt(2.0) &lt;&lt; \" \" &lt;&lt;  cout.precision() &lt;&lt;  \"\\n\\n\";\n\n}\n</code></pre>\n\n<p>Despite a default precision of 6 this seems to get ignored when outputting the double in hexadecimal format (<a href=\"http://coliru.stacked-crooked.com/a/c20c577d15b129cd\" rel=\"nofollow\">coliru</a>) (gcc 5.2.0):</p>\n\n<pre><code>default format:               141.421 6\nscientific:              1.414214e+02 6\nfixed decimal:             141.421356 6\nhexadecimal:     0X1.1AD7BC01366B8P+7 6\nuse defaults:                 141.421 6\n</code></pre>\n\n<p>Is it possible to ensure a decimal precision of 6 using hexadecimal format?</p>\n"}, {"tags": ["android", "c++", "utf-8", "java-native-interface", "cocos2d-x"], "comments": [{"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1450316019, "post_id": 34323551, "comment_id": 56392188, "body": "&quot;If you never push any of non-modified utf-8 symbols (i.e. stick to ascii) you&#39;ll probably never see the issue.&quot; Yes, as stated in <a href=\"http://developer.android.com/training/articles/perf-jni.html#UTF_8_and_UTF_16_strings\" rel=\"nofollow noreferrer\">Android JNI Tips</a>."}, {"owner": {"reputation": 1829, "user_id": 897674, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dbb5a6b2214bb02ca98215e39a44bc0a?s=128&d=identicon&r=PG", "display_name": "Hunter-Orionnoir", "link": "https://stackoverflow.com/users/897674/hunter-orionnoir"}, "reply_to_user": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1450424745, "post_id": 34323551, "comment_id": 56443010, "body": "Tell that to my chatty users! &quot;don&#39;t use that symbol... I know it works in iOS but it crashes every Android user...&quot; They thought that was cool... :/ I started stripping out characters, then I realized almost EVERY language keyboard was going to do this too... I had to find a better way. Any suggestions Tom?"}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 2, "creation_date": 1450439073, "post_id": 34323551, "comment_id": 56451250, "body": "I think it comes down to avoiding NewStringUTF, especially with user-provided data."}], "answers": [{"comments": [{"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1450315796, "post_id": 34323552, "comment_id": 56392121, "body": "<code>jstring</code> is not modified UTF-8; It&#39;s a JNI reference to a standard JVM (Java) string, which is a counted sequence of UTF-16 code units, one or two of which encode a Unicode codepoint."}, {"owner": {"reputation": 1829, "user_id": 897674, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dbb5a6b2214bb02ca98215e39a44bc0a?s=128&d=identicon&r=PG", "display_name": "Hunter-Orionnoir", "link": "https://stackoverflow.com/users/897674/hunter-orionnoir"}, "reply_to_user": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1450424959, "post_id": 34323552, "comment_id": 56443095, "body": "Suggestions as to a better way is quite welcome. This is but &#39;a&#39; solution that seems to get me through the worst of it. I started a separate project to unit test this solution but it is far from done and only started to test 5 keyboards. I tried to sample 2, 3, and 4 byte symbols. I expect in time my chosen framework (open source project) cocos2d-x will figure out a better way. This was done on 2 and and 3 still crashes. So I will push up something when I feel confident its close to good enough to include it."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1450439269, "post_id": 34323552, "comment_id": 56451378, "body": "This is the way to do it, either on the Java side, as you have done, or on the JNI side, which is more tedious."}, {"owner": {"reputation": 1829, "user_id": 897674, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dbb5a6b2214bb02ca98215e39a44bc0a?s=128&d=identicon&r=PG", "display_name": "Hunter-Orionnoir", "link": "https://stackoverflow.com/users/897674/hunter-orionnoir"}, "reply_to_user": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1450478114, "post_id": 34323552, "comment_id": 56472403, "body": "Tom, thanks for your feedback. I looked at this problem for weeks and I am still worried its missing something, but I am still confident I got <i>most</i> of the edges (still needs some kind of unit test). If it drops crash rates by 90% (100% so far btw) while a real long term solution is developed I am &quot;ok&quot; with that. I stripped out the overuse of the UTF-8 talk. The use of getNewStringUTF() by the cocos2d-x muddies the waters as to what&#39;s really the main issue."}, {"owner": {"reputation": 2113, "user_id": 1927176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4YlH.jpg?s=128&g=1", "display_name": "fnc12", "link": "https://stackoverflow.com/users/1927176/fnc12"}, "edited": false, "score": 0, "creation_date": 1450965845, "post_id": 34323552, "comment_id": 56649362, "body": "please show hot to return byte array in jni function"}], "tags": [], "owner": {"reputation": 1829, "user_id": 897674, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dbb5a6b2214bb02ca98215e39a44bc0a?s=128&d=identicon&r=PG", "display_name": "Hunter-Orionnoir", "link": "https://stackoverflow.com/users/897674/hunter-orionnoir"}, "is_accepted": false, "score": 7, "last_activity_date": 1450424192, "last_edit_date": 1450424192, "creation_date": 1450305728, "answer_id": 34323552, "question_id": 34323551, "link": "https://stackoverflow.com/questions/34323551/call-to-c-jni-newstringutf-crashes-android-app-when-using-many-different-kinds/34323552#34323552", "title": "Call to C++ JNI NewStringUTF crashes android app when using many different kinds of emoji and languages (beyond ascii, but still valid modified utf-8)", "body": "<p>We found a solution by sending the contents of the std::string in jbyte array and let the java side be java and return the jstring we could use on the C++ jni side. For us these strings are coming from the users keyboard and I have 170k crashes in one week that says they use emoji in character names and chat like crazy... and naming their avatars in itself caused crashes too. So any lobby a Android 5.x user joined would cause them to crash as soon as their client tried to render the other players names with the characters in question. In Android 4.x this was not an issue in that it just printed some garbage characters.</p>\n\n<p>In your c++ side you can do something like this to achieve this function:</p>\n\n<pre><code>jstring JniHelper::getjString(const char *input) {\n    JniMethodInfo minfo; // JniHelper\n\n    bool hasMethod = JniHelper::getStaticMethodInfo (minfo, APPTAG_JNI_PACKAGE_NAME, \"convertCStringToJniSafeString\", \"([B)Ljava/lang/String;\");\n    if (!hasMethod)\n    {\n        return minfo.env-&gt;NewStringUTF(\"\"); // TODO Tune your response to fit your needs...\n    }\n    else\n    {\n        string nativeString = std::string(input); // has a bit of a code smell, there is probably a better way.\n        // cite: http://stackoverflow.com/questions/27303316/c-stdstring-to-jstring-with-a-fixed-length\n        jbyteArray array = minfo.env-&gt;NewByteArray(nativeString.length());\n        minfo.env-&gt;SetByteArrayRegion(array,0,nativeString.length(),(jbyte*)nativeString.c_str());\n\n        // cite: http://discuss.cocos2d-x.org/t/jni-return-string/9982/3\n        jstring str = (jstring)minfo.env-&gt;CallStaticObjectMethod(minfo.classID, minfo.methodID, array);\n        minfo.env-&gt;DeleteLocalRef(array);\n        return str;\n    }\n}\n</code></pre>\n\n<p>On the java side turn that into a java string and return it in the same method:</p>\n\n<pre><code>public static String convertCStringToJniSafeString(byte[] input) {\n    try {\n        String nativeString = new String(input, \"UTF-8\"); // please debate what the safest charset should be?\n        return nativeString;\n    } catch (UnsupportedEncodingException e) {\n        // TODO Simplistic Error handling, tune to your needs.\n        Log.e(APPTAG, \"Couldn't convert the jbyteArray to jstring\");\n        return \"\"; //JSTRING_CONVERT_FAIL\n    }\n}\n</code></pre>\n\n<p>In our case we wanted a jstring (which is inputed as modified UTF8) to feed to the rendering side and store for retrieval later, returning an empty string was just a choice we made to clue us in conversion failed.</p>\n\n<p>I hope this helps someone find a way... maybe even the right way...</p>\n"}], "owner": {"reputation": 1829, "user_id": 897674, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/dbb5a6b2214bb02ca98215e39a44bc0a?s=128&d=identicon&r=PG", "display_name": "Hunter-Orionnoir", "link": "https://stackoverflow.com/users/897674/hunter-orionnoir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6859, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1450424192, "creation_date": 1450305728, "question_id": 34323551, "link": "https://stackoverflow.com/questions/34323551/call-to-c-jni-newstringutf-crashes-android-app-when-using-many-different-kinds", "title": "Call to C++ JNI NewStringUTF crashes android app when using many different kinds of emoji and languages (beyond ascii, but still valid modified utf-8)", "body": "<p>I am trying to solve a Cocos2d-x Keyboard input crash on Android 5.x when I create CCImage from the text with many emoji found on the keyboard (some work though, but most don't.) On Android 4.x several of the devices just display mangled text/extra characters. The source of the crash is the JNI's NewStringUTF() call. It simply does not support all of the 2, 3 and 4 byte utf-8 characters in Android 5/Lollipop.</p>\n\n<p>This crash happens on cocos2d-x v2.2.6 (and confirmed on 3.x) using NDK 10e with Toolchain 4.8 (not sure if any of that makes too much of a difference, we were using 9d prior to moving to Android Studio and I am certain we had this issue, but there was much less usage to lollipop.)</p>\n\n<p>If you never push any of non-modified utf-8 symbols (i.e. stick to ascii) you'll probably never see the issue.</p>\n\n<pre><code>Log Cat:\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]     string: '\ud83d\udc4a\ud83d\udc4a'\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]     in call to NewStringUTF\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]     from void org.cocos2dx.lib.Cocos2dxHelper.nativeSetEditTextDialogResult(byte[])\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65] \"GLThread 45716\" prio=5 tid=14 Runnable\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   | group=\"main\" sCount=0 dsCount=0 obj=0x12c0c6c0 self=0xf442bc00\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   | sysTid=10959 nice=0 cgrp=default sched=0/0 handle=0xf450c380\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   | state=R schedstat=( 0 0 0 ) utm=1164 stm=188 core=2 HZ=100\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   | stack=0xeed4e000-0xeed50000 stackSize=1036KB\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   | held mutexes= \"mutator lock\"(shared held)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #00 pc 00004e64  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int, ucontext*)+23)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #01 pc 00003665  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int, ucontext*)+8)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #02 pc 00271461  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, char const*, art::mirror::ArtMethod*)+84)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #03 pc 002534d7  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;) const+158)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #04 pc 000b7f5b  /system/lib/libart.so (art::JniAbort(char const*, char const*)+610)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #05 pc 000b8681  /system/lib/libart.so (art::JniAbortF(char const*, char const*, ...)+68)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #06 pc 000bac4f  /system/lib/libart.so (art::ScopedCheck::Check(bool, char const*, ...) (.constprop.129)+922)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #07 pc 000c474d  /system/lib/libart.so (art::CheckJNI::NewStringUTF(_JNIEnv*, char const*)+44)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #08 pc 002a6324  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (_JNIEnv::NewStringUTF(char const*)+40)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #09 pc 0076eb6c  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::BitmapDC::getBitmapFromJavaShadowStroke(char const*, int, int, cocos2d::CCImage::ETextAlign, char const*, float, float, float, float, bool, float, float, float, float, bool, float, float, float, float)+312)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #10 pc 0076f12c  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::CCImage::initWithStringShadowStroke(char const*, int, int, cocos2d::CCImage::ETextAlign, char const*, int, float, float, float, bool, float, float, float, float, bool, float, float, float, float)+216)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #11 pc 007aeb14  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::CCTexture2D::initWithString(char const*, cocos2d::_ccFontDefinition*)+1188)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #12 pc 0072cd6c  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::CCLabelTTF::updateTexture()+120)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #13 pc 0072c804  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::CCLabelTTF::setString(char const*)+260)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #14 pc 00523140  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (cocos2d::extension::CCEditBoxImplAndroid::setText(char const*)+344)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #15 pc 00523474  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (???)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #16 pc 0076fb2c  /data/app/com.appsomniacs.da2.debug-1/lib/arm/libcocos2dcpp.so (Java_org_cocos2dx_lib_Cocos2dxHelper_nativeSetEditTextDialogResult+208)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   native: #17 pc 001dfeb1  /data/dalvik-cache/arm/data@app@com.appsomniacs.da2.debug-1@base.apk@classes.dex (Java_org_cocos2dx_lib_Cocos2dxHelper_nativeSetEditTextDialogResult___3B+100)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   at org.cocos2dx.lib.Cocos2dxHelper.nativeSetEditTextDialogResult(Native method)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   at org.cocos2dx.lib.Cocos2dxHelper.access$000(Cocos2dxHelper.java:41)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   at org.cocos2dx.lib.Cocos2dxHelper$1.run(Cocos2dxHelper.java:267)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1501)\n    12-11 01:02:17.460 10451-10959/com.appsomniacs.da2.debug A/art: sart/runtime/check_jni.cc:65]   at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1278)\n</code></pre>\n\n<p>Stack Trace (from a different test, but same crash)</p>\n\n<pre><code>    Build fingerprint: 'samsung/zerofltetmo/zerofltetmo:5.1.1/LMY47X/G920TUVU3DOJ7:user/release-keys'\n            Revision: '11'\n            ABI: 'arm'\n            pid: 18460, tid: 18534, name: GLThread 28670  &gt;&gt;&gt; com.appsomniacs.da2 &lt;&lt;&lt;\n            signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------\n                r0 00000000  r1 00004866  r2 00000006  r3 00000000\n                r4 f33a4db8  r5 00000006  r6 00000000  r7 0000010c\n                r8 88476100  r9 f442c800  sl 00000000  fp 12f61070\n                ip 00004866  sp f33a4960  lr f6f01cf9  pc f6f25c30  cpsr 600b0010\n\n            backtrace:\n                #00 pc 0003bc30  /system/lib/libc.so (tgkill+12)\n                #01 pc 00017cf5  /system/lib/libc.so (pthread_kill+52)\n                #02 pc 00018907  /system/lib/libc.so (raise+10)\n                #03 pc 000151a5  /system/lib/libc.so (__libc_android_abort+36)\n                #04 pc 00012fec  /system/lib/libc.so (abort+4)\n                #05 pc 0075a275  /data/app/com.appsomniacs.da2-2/lib/arm/libcocos2dcpp.so (__gnu_cxx::__verbose_terminate_handler()+220)\n                #06 pc 0072a10b  /data/app/com.appsomniacs.da2-\n\n2/lib/arm/libcocos2dcpp.so (__cxxabiv1::__terminate(void (*)())+2)\n            #07 pc 0072a13b  /data/app/com.appsomniacs.da2-2/lib/arm/libcocos2dcpp.so (std::terminate()+10)\n            #08 pc 0072a4ab  /data/app/com.appsomniacs.da2-2/lib/arm/libcocos2dcpp.so (__cxa_pure_virtual+14)\n            #09 pc 0041ecc5  /data/app/com.appsomniacs.da2-2/lib/arm/libcocos2dcpp.so\n            #10 pc 005977ab  /data/app/com.appsomniacs.da2-2/lib/arm/libcocos2dcpp.so (Java_org_cocos2dx_lib_Cocos2dxHelper_nativeSetEditTextDialogResult+110)\n            #11 pc 001dfe39  /data/dalvik-cache/arm/data@app@com.appsomniacs.da2-2@base.apk@classes.dex\n</code></pre>\n"}, {"tags": ["c++", "haxe", "cffi", "hxcpp"], "answers": [{"tags": [], "owner": {"reputation": 1097, "user_id": 1181406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/760bcab4aab54dc57df1ff634b972997?s=128&d=identicon&r=PG", "display_name": "Zoli", "link": "https://stackoverflow.com/users/1181406/zoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1450309246, "creation_date": 1450309246, "answer_id": 34324242, "question_id": 34323518, "link": "https://stackoverflow.com/questions/34323518/how-can-i-use-simple-c-code-in-haxe-project/34324242#34324242", "title": "How can I use simple c++ code in Haxe Project?", "body": "<p>I tried getting this to work once for a research project and it was far from simple. The documentation is pretty scarce and short of reverse engineering hxcpp, there's little else to go on.</p>\n\n<p>That said, as far as I know, <code>extern</code> classes are the only way to access C++ objects from Haxe directly. Not without some scaffolding though. </p>\n\n<p>You can read about one guy's experience <a href=\"http://wighawag.com/blog/2014/12/hxcpp-externs/\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 309, "user_id": 4037951, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df4e503d2161aa28cdcf4f9fc1e84daa?s=128&d=identicon&r=PG&f=1", "display_name": "Enes F.", "link": "https://stackoverflow.com/users/4037951/enes-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450309246, "creation_date": 1450305614, "question_id": 34323518, "link": "https://stackoverflow.com/questions/34323518/how-can-i-use-simple-c-code-in-haxe-project", "title": "How can I use simple c++ code in Haxe Project?", "body": "<p>I have a class in cpp like:</p>\n\n<pre><code>class Foo{\nprivate:\n    int x;\npublic:\n    Foo(){x = 0;}\n    int incr();\n};\n\nint Foo::incr(){\n    x++;\n    return x;\n}\n</code></pre>\n\n<p>In any .hx file, I want to use Foo class which is defined in cpp like that:</p>\n\n<pre><code>var number:Int;\n// Some codes to create foo_1 object \"Foo foo_1;\"\n\n// Some codes to call \"number = foo_1.incr();\"\ntrace(\"x is:\" + number);\n// Some codes to call \"number = foo_1.incr();\"\ntrace(\"x is:\" + number);\n</code></pre>\n\n<p>Expected output is</p>\n\n<pre><code>x is:1\nx is:2\n</code></pre>\n\n<hr>\n\n<p>As a note, I searched and read some documents about <strong>hxcpp</strong> and <strong>Haxe CFFI</strong> but some parts of these documentations are too complicated. I'm beginner in Haxe and I need basic and simple steps to solve this problem. Thanks.</p>\n"}, {"tags": ["c++", "c++11", "lambda", "constexpr"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1450323163, "post_id": 34323489, "comment_id": 56394219, "body": "Related to <a href=\"http://stackoverflow.com/q/30742288/1708801\">Constant expression initializer for static class member of type double</a>"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1450470074, "post_id": 34323489, "comment_id": 56469081, "body": "I never understood why so many questions don&#39;t include the unversioned language tag. You get more eyes on the question that way, not everyone tracking the C++ tag also tracks C++11 or C++14 etc..."}, {"owner": {"reputation": 239, "user_id": 5153458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4LqBj.png?s=128&g=1", "display_name": "eg0x20", "link": "https://stackoverflow.com/users/5153458/eg0x20"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1450470355, "post_id": 34323489, "comment_id": 56469218, "body": "Thanks for the feedback &amp; your detailed answer. I will make sure c++ tag gets into the question in future postings."}], "answers": [{"tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": false, "score": 10, "last_activity_date": 1450315410, "last_edit_date": 1450315410, "creation_date": 1450314176, "answer_id": 34324971, "question_id": 34323489, "link": "https://stackoverflow.com/questions/34323489/why-type-const-double-is-not-captured-by-lambda-from-reaching-scope-but-const-i/34324971#34324971", "title": "Why type const double is not captured by lambda from reaching-scope, but const int is?", "body": "<p>According to the standard \u00a75.1.2/p12 Lambda expressions [expr.prim.lambda] (<strong>Emphasis Mine</strong>):</p>\n\n<blockquote>\n  <p>A lambda-expression with an associated capture-default that does not\n  explicitly capture <code>this</code> or a variable with automatic storage duration\n  (this excludes any id-expression that has been found to refer to an\n  initcapture\u2019s associated non-static data member), is said to\n  implicitly capture the entity (i.e., <code>this</code> or a variable) if the\n  compound-statement: </p>\n  \n  <p>(12.1) - <strong>odr-uses (3.2) the entity</strong>, or </p>\n  \n  <p>(12.2) - names the entity in a potentially-evaluated expression (3.2) where the\n  enclosing full-expression depends on a generic lambda parameter\n  declared within the reaching scope of the lambda-expression\n  [Example:</p>\n\n<pre><code>void f(int, const int (&amp;)[2] = {}) { } // #1\nvoid f(const int&amp;, const int (&amp;)[1]) { } // #2\nvoid test() {\nconst int x = 17;\nauto g = [](auto a) {\nf(x); // OK: calls #1, does not capture x\n};\nauto g2 = [=](auto a) {\nint selector[sizeof(a) == 1 ? 1 : 2]{};\nf(x, selector); // OK: is a dependent expression, so captures x\n};\n}\n</code></pre>\n  \n  <p>\u2014 end example ] All such implicitly captured entities shall be\n  declared within the reaching scope of the lambda expression. [ Note:\n  The implicit capture of an entity by a nested lambda-expression can\n  cause its implicit capture by the containing lambda-expression (see\n  below). Implicit odr-uses of this can result in implicit capture. \u2014\n  end note ]</p>\n</blockquote>\n\n<p>What the standard states here is that a variable in a lambda needs to be captured if it is odr-used. By odr-used the standard means that the variable definition is needed, either because its address is taken or there's a reference to it.</p>\n\n<p>This rule however has exceptions. One of them that is of particular interest is found in the standard \u00a73.2/p3 One definition rule [basic.def.odr] (<strong>Emphasis Mine</strong>):</p>\n\n<blockquote>\n  <p><strong>A variable x whose name appears as a potentially-evaluated expression\n  ex is odr-used by ex unless applying the lvalue-to-rvalue conversion\n  (4.1) to x yields a constant expression (5.20)</strong> that does not invoke\n  any nontrivial functions and, if x is an object, ex is an element of\n  the set of potential results of an expression e,...</p>\n</blockquote>\n\n<p>Now if in the examples:</p>\n\n<pre><code>int main() {\n  using T = int;\n  const T x = 1;\n  auto lam = [] (T p) { return x+p; };\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>int main() {\n  using T = double;\n  constexpr T x = 1.0;\n  auto lam = [] (T p) { return x+p; };\n}\n</code></pre>\n\n<p>apply an lvalue to rvalue conversion on <code>x</code> we get a constant expression since in the first example <code>x</code> is an integral constant and in the second example <code>x</code> is declared <code>constexpr</code>. Therefore, <code>x</code> doesn't need to be captured in these contexts.</p>\n\n<p>However, this is not the case for the example:</p>\n\n<pre><code>int main() {\n  using T = double;\n  const T x = 1.0;\n  auto lam = [] (T p) { return x+p; };\n}\n</code></pre>\n\n<p><strong>in this example if we apply lvalue to rvalue conversion to <code>x</code> we don't get a constant expression.</strong></p>\n\n<p>Now you might be wondering why is this the case since <code>x</code> is <code>const double</code>. Well the answer is that a variable declared without a <code>constexpr</code> qualifies as a constant expression if either is a constant integral  or an enumeration type, and is initialized at declaration time with a constant expression. This is justified by the standard in \u00a75.20/p2.7.1 Constant expressions [expr.const] (<strong>Emphasis Mine</strong>):</p>\n\n<blockquote>\n  <p>A conditional-expression e is a core constant expression unless the\n  evaluation of e, following the rules of the abstract machine (1.9),\n  would evaluate one of the following expressions:</p>\n  \n  <p>...</p>\n  \n  <p>(2.7) - an lvalue-to-rvalue conversion (4.1) unless it is applied to</p>\n  \n  <p>(2.7.1) - a non-volatile glvalue <strong>of integral or enumeration type that\n  refers to a complete non-volatile const object with a preceding\n  initialization, initialized with a constant expression</strong>, ...</p>\n</blockquote>\n\n<p><strong>Thus, <code>const double</code> variables need to be captured since an lvalue-to-rvalue conversion don't yell a constant expression. Therefore rightfully you get a compiler error.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 15, "last_activity_date": 1539279158, "last_edit_date": 1592644375, "creation_date": 1450467396, "answer_id": 34362729, "question_id": 34323489, "link": "https://stackoverflow.com/questions/34323489/why-type-const-double-is-not-captured-by-lambda-from-reaching-scope-but-const-i/34362729#34362729", "title": "Why type const double is not captured by lambda from reaching-scope, but const int is?", "body": "<p>The reason for this ends up being to maintain C++03 compatibility since in C++03 const integral or const enumeration types initialized with a constant expression were usable in a constant expression but this was not the case for floating point.</p>\n<p>The rationale for keeping the restriction can be found in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_closed.html#1826\" rel=\"noreferrer\">defect report 1826</a> which came after C++11(<em>this explains the ABI break comment</em>) and asks (<em>emphasis mine</em>):</p>\n<blockquote>\n<p>A const integer initialized with a constant can be used in constant expressions, but a const floating point variable initialized with a constant cannot. This <strong>was intentional, to be compatible with C++03 while encouraging the consistent use of constexpr</strong>. Some people have found this distinction to be surprising, however.</p>\n<p><strong>It was also observed that allowing const floating point variables as constant expressions would be an ABI-breaking change, since it would affect lambda capture.</strong></p>\n<p>One possibility might be to deprecate the use of const integral variables in constant expressions.</p>\n</blockquote>\n<p>and the response was:</p>\n<blockquote>\n<p>CWG felt that the current rules should not be changed and that programmers desiring floating point values to participate in constant expressions should use constexpr instead of const.</p>\n</blockquote>\n<p>We can note that the question points out that allowing <em>const floating point</em> variables to be constant expression would be an ABI-break with respect to lambda capture.</p>\n<p>This is the case since a lambda does not need to capture a variable if it is not odr-used and allowing const floating point variables to be constant expressions would allow them to fall under this exception.</p>\n<p>This is because an lvalue-to-rvalue conversion of a const integer or enumeration type initialized with a constant expression or a constexpr literal type is allowed in a constant expression. No such exception exists for const floating point types initialized with a constant expression. This is covered in the draft C++11 standard section <a href=\"https://timsong-cpp.github.io/cppwp/n3337/expr.const#2\" rel=\"noreferrer\">[expr.const]p2</a>:</p>\n<blockquote>\n<p>A conditional-expression is a core constant expression unless it involves one of the following as a potentially\nevaluated subexpression [...]</p>\n</blockquote>\n<p>and includes in <a href=\"https://timsong-cpp.github.io/cppwp/n3337/expr.const#2.9\" rel=\"noreferrer\">[expr.const]p2.9</a></p>\n<blockquote>\n<ul>\n<li>an lvalue-to-rvalue conversion (4.1) unless it is applied to\n<ul>\n<li>a glvalue of integral or enumeration type that refers to a non-volatile const object with a preceding initialization, initialized\nwith a constant expression, or</li>\n<li>a glvalue of literal type that refers to a non-volatile object defined with constexpr, or that refers to a sub-object of such an\nobject, or</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>Changing this would potentially effect the size of a lambda object if they no longer had to capture non-odr-used const floating point values which is an ABI break. This restriction was originally put in place to keep C++03 compatibility and to encourage the use of constexpr but now this restriction is in place it becomes hard to remove it.</p>\n<p>Note, in C++03 <a href=\"https://stackoverflow.com/a/28846608/1708801\">we were only allowed to specify an in class constant-initializer for const integral or const enumeration types</a>. In C++11 this was expanded and we were allowed to specify constant-initializer for constexpr literal types using a brace-or-equal-initializer.</p>\n"}], "owner": {"reputation": 239, "user_id": 5153458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4LqBj.png?s=128&g=1", "display_name": "eg0x20", "link": "https://stackoverflow.com/users/5153458/eg0x20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 4, "accepted_answer_id": 34362729, "answer_count": 2, "score": 12, "last_activity_date": 1539279158, "creation_date": 1450305493, "last_edit_date": 1495542654, "question_id": 34323489, "link": "https://stackoverflow.com/questions/34323489/why-type-const-double-is-not-captured-by-lambda-from-reaching-scope-but-const-i", "title": "Why type const double is not captured by lambda from reaching-scope, but const int is?", "body": "<p>I seem can't understand why the following code with type const int compiles:</p>\n\n<pre><code>int main()\n{\n  using T = int;\n  const T x = 1;\n  auto lam = [] (T p) { return x+p; };\n}\n$ clang++ -c lambda1.cpp  -std=c++11\n$\n</code></pre>\n\n<p>while this one with type const double doesn't:</p>\n\n<pre><code>int main()\n{\n  using T = double;\n  const T x = 1.0;\n  auto lam = [] (T p) { return x+p; };\n}\n$ clang++ -c lambda2.cpp  -std=c++11\nlambda1.cpp:5:32: error: variable 'x' cannot be implicitly captured in a lambda with no capture-default specified\n  auto lam = [] (T p) { return x+p; };\n                               ^\nlambda1.cpp:4:11: note: 'x' declared here\n  const T x = 1.0;\n          ^\nlambda1.cpp:5:14: note: lambda expression begins here\n  auto lam = [] (T p) { return x+p; };\n             ^\n1 error generated.\n</code></pre>\n\n<p>yet compiles with constexpr double:</p>\n\n<pre><code>int main()\n{\n  using T = double;\n  constexpr T x = 1.0;\n  auto lam = [] (T p) { return x+p; };\n}\n$ clang++ -c lambda3.cpp  -std=c++11\n$\n</code></pre>\n\n<p>Why behaviour for int differs from double, or for any other type than int, i.e. int is accepted with const qualifier, yet double/other types must be constexpr? Also, why this code compiles with C++11, my understanding from [1] is that such implicit captures is C++14 feature.</p>\n\n<p>.. [1] <a href=\"https://stackoverflow.com/questions/33849718/how-is-this-lambda-with-an-empty-capture-list-able-to-refer-to-reaching-scope-na\">how is this lambda with an empty capture list able to refer to reaching-scope name?</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 2, "creation_date": 1450305319, "post_id": 34323414, "comment_id": 56388628, "body": "Please provide the actual code, as well as the error. How are we supposed to guess what&#39;s wrong if we don&#39;t have either ?"}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 2, "creation_date": 1450305359, "post_id": 34323414, "comment_id": 56388643, "body": "<i>not getting it right</i> isn&#39;t very useful to go on. What is the expected output, and what is the current output? You also seem to be missing a declaration/definition of <code>setColor</code>, although presumably it&#39;s in the <code>Fruit</code> class."}, {"owner": {"reputation": 1356, "user_id": 4358137, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bfsy9.jpg?s=128&g=1", "display_name": "Seth Kitchen", "link": "https://stackoverflow.com/users/4358137/seth-kitchen"}, "edited": false, "score": 0, "creation_date": 1450305640, "post_id": 34323414, "comment_id": 56388783, "body": "why would you want to derive from a blank class. formatting makes me want to cry :&#39;("}, {"owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "edited": false, "score": 2, "creation_date": 1450306652, "post_id": 34323414, "comment_id": 56389254, "body": "Where is <code>mColor</code> defined? Where is the function <code>setColor</code> defined? Do you mean <code>std::cout</code> and <code>std::endl</code>? Oh, also don&#39;t use smart quotes."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1450308088, "post_id": 34323682, "comment_id": 56389820, "body": "Worth adding in that to call methods and use member variables, one must first define methods and member variables. <code>mColor</code> and <code>setColor</code> are notably absent."}], "tags": [], "owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "is_accepted": false, "score": 2, "last_activity_date": 1450306856, "last_edit_date": 1450306856, "creation_date": 1450306352, "answer_id": 34323682, "question_id": 34323414, "link": "https://stackoverflow.com/questions/34323414/error-while-executing-the-c-code/34323682#34323682", "title": "Error while executing the c++ code", "body": "<p>This <code>\u2018y\u2019</code> and this <code>\u201cbanana is ready to eat\u201d</code>seem suspicious: wrong quotation marks</p>\n\n<p>They should be <code>'y'</code> and <code>\"banana is ready to eat\"</code></p>\n\n<p>Compiler wants \"normal\" <code>\"\"</code>quotation marks to identify strings and <code>''</code> for single characters</p>\n"}, {"tags": [], "owner": {"reputation": 1671, "user_id": 3609394, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/1zpd5.jpg?s=128&g=1", "display_name": "elcortegano", "link": "https://stackoverflow.com/users/3609394/elcortegano"}, "is_accepted": false, "score": 1, "last_activity_date": 1450307771, "creation_date": 1450307771, "answer_id": 34323974, "question_id": 34323414, "link": "https://stackoverflow.com/questions/34323414/error-while-executing-the-c-code/34323974#34323974", "title": "Error while executing the c++ code", "body": "<p>I totally agree with <strong>fuzzything44</strong> and <strong>Gian Paolo</strong> comments. By the way, it should be pointed out that the current ISO C++ standard needs that the declaration of the <code>main</code> function have a type (<code>int main ()</code> for instance).</p>\n"}, {"tags": [], "owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "is_accepted": false, "score": 0, "last_activity_date": 1450312384, "last_edit_date": 1495540339, "creation_date": 1450312384, "answer_id": 34324728, "question_id": 34323414, "link": "https://stackoverflow.com/questions/34323414/error-while-executing-the-c-code/34324728#34324728", "title": "Error while executing the c++ code", "body": "<p>You have so much wrong with your code, I doubt you've put any thought into it at all.</p>\n\n<blockquote>\n  <p>$\\fruit.cpp||In member function 'bool Banana::isRipe()':|<br>\n  $\\fruit.cpp|17|error: 'y' was not declared in this scope|</p>\n</blockquote>\n\n<p>@Gian Paolo hit the nail on the head with <a href=\"https://stackoverflow.com/a/34323682/4143855\">their answer</a> about incorrect quotation marks:</p>\n\n<blockquote>\n  <p>Compiler wants \"normal\" <code>\"\"</code> quotation marks to identify strings and <code>''</code> for single characters.</p>\n</blockquote>\n\n<p></p>\n\n<blockquote>\n  <p>$\\fruit.cpp||In function 'int main()':|<br>\n  $\\fruit.cpp|28|error: 'class Banana' has no member named 'setColor'|</p>\n</blockquote>\n\n<p>You've literally not declared a function called <code>setColor</code>. Perhaps your <code>Fruit</code> class was meant to declare it (since all fruits presumably have a colour), or else your <code>Banana</code> class was meant to declare it, either way, you need to declare this function before you use it. On the same note, you've also failed to declare <code>mColor</code>:</p>\n\n<pre><code>class Fruit\n{\npublic:\n    void setColor(char col) { mColor = col };\nprotected:\n    char mColor;\n};\n</code></pre>\n\n<p>On this note, you probably want to use an <code>enum</code> for this since it makes far more sense than a <code>char</code>. What colour does <code>g</code> represent, or <code>b</code>?</p>\n\n<pre><code>class Fruit\n{\npublic:\n    enum class Color { Yellow, Red, Blue, Green };\n    void setColor(Color c) { mColor = c; }\nprotected:\n    Color mColor;\n};\n</code></pre>\n\n<blockquote>\n  <p>$\\fruit.cpp|28|error: 'y' was not declared in this scope|<br>\n  $\\fruit.cpp|30|error: expected ';' before 'is'|</p>\n</blockquote>\n\n<p>Because you've failed to use the correct quotes around the character, the compiler assumes it's a variable. You need to use single quotes:</p>\n\n<pre><code>if (mColor == 'y')\n</code></pre>\n\n<p>However, if you use the <code>enum</code> as specified above, it will flow more logically into:</p>\n\n<pre><code>if (mColor == Color::Yellow)\n</code></pre>\n\n<blockquote>\n  <p>$\\fruit.cpp|30|error: 'cout' was not declared in this scope|<br>\n  $\\fruit.cpp|33|error: 'cout' was not declared in this scope|</p>\n</blockquote>\n\n<p>You're either not <code>using namespace std</code> or not including <code>iostream.h</code>, but I'm going to wager a guess and say both. You need to include the files where <code>std::cout</code> and <code>std::endl</code> are declared, and specify the namespace they come from:</p>\n\n<pre><code>#include &lt;iostream&gt; // cout, endl\n...\nstd::cout &lt;&lt; \"banana is ready to eat\" &lt;&lt; std::endl;\n</code></pre>\n\n<p>Notice also I've changed the quotes to double-quotations for a string literal.</p>\n\n<p>It's worth mentioning two more things:<br>\n1. It makes no sense to inherit an empty class, like you are with <code>Fruit</code>.<br>\n2. As @EuGENE <a href=\"https://stackoverflow.com/a/34323974/4143855\">points out in their answer</a>, you need to specify a return type for all functions, <code>main()</code> inclusive! C++, unlike C, won't assume you mean to return an <code>int</code> by default:</p>\n\n<pre><code>int main()\n</code></pre>\n\n<p>My advice is to take more care in the future: Go slower, compile more frequently, and read what the compiler is telling you are errors.</p>\n"}], "owner": {"reputation": 39, "user_id": 5310776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/384b9fc9ae7e6be1fd623b62681df67e?s=128&d=identicon&r=PG&f=1", "display_name": "newbee", "link": "https://stackoverflow.com/users/5310776/newbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 3, "score": -7, "last_activity_date": 1450312384, "creation_date": 1450305197, "last_edit_date": 1450305842, "question_id": 34323414, "link": "https://stackoverflow.com/questions/34323414/error-while-executing-the-c-code", "title": "Error while executing the c++ code", "body": "<pre><code>class Fruit{\n\n};\n\nclass Banana: public Fruit\n{\n    public:\n    bool isRipe(){\n        if (mColor == \u2018y\u2019){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n};\n\nmain(){\n    Banana banana;\n    banana.setColor(\u2018y\u2019);\n    if(banana.isRipe()){\n        cout &lt;&lt; \u201cbanana is ready to eat\u201d &lt;&lt; endl;\n    }\n    else{\n        cout &lt;&lt; \u201cbanana is not ready to eat\u201d &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>This is the code which needs to be compiled but throwing the below error:-</p>\n\n<pre><code>$\\fruit.cpp||In member function 'bool Banana::isRipe()':|\n$\\fruit.cpp|17|error: 'y' was not declared in this scope|\n$\\fruit.cpp||In function 'int main()':|\n$\\fruit.cpp|28|error: 'class Banana' has no member named 'setColor'|\n$\\fruit.cpp|28|error: 'y' was not declared in this scope|\n$\\fruit.cpp|30|error: 'cout' was not declared in this scope|\n$\\fruit.cpp|30|error: expected ';' before 'is'|\n$\\fruit.cpp|33|error: 'cout' was not declared in this scope|\n</code></pre>\n\n<p>$\\fruit.cpp|33|error: expected ';' before 'is'|\n||=== Build failed: 32 error(s), 0 warning(s) (0 minute(s), 0 second(s)) ===|</p>\n\n<p>I am trying to use the base class for the given derived class of Fruit but not getting it right. Any help is appreciated. </p>\n"}, {"tags": ["c++", "zlib"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1450310799, "post_id": 34323361, "comment_id": 56390666, "body": "This has all the tell-tale signs of the <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a> -- you need to explain what <i>real</i> problem you&#39;re trying to solve, that is, the real problem that you think can be solved knowing how many input bytes were consumed. This is meaningless metric. The input/output byte count is not comparable one for one, due to compression&#39;s inherent nature. The bytes you got on output might&#39;ve corresponded to just some bits in the last input byte consumed, with the remaining bits corresponding to the following, not yet read, uncompressed data."}, {"owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1450311684, "post_id": 34323361, "comment_id": 56390951, "body": "@SamVarshavchik That seems to be the crux of the issue. Is there something in zstream that allows me to correlate the location in the compressed data to the 4 bytes of uncompressed data I wanted?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1450312195, "post_id": 34323361, "comment_id": 56391093, "body": "@TWhite There may not even exist such a correlation. The nature of compression is that in general there can&#39;t be such a correlation."}, {"owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1450313791, "post_id": 34323361, "comment_id": 56391541, "body": "@DavidSchwartz and others. If that is the consensus could someone put that as an answer so I may mark it?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1450314749, "post_id": 34323361, "comment_id": 56391808, "body": "@TWhite Well, we&#39;re not entirely sure what you&#39;re asking. I&#39;d prefer to see a clarification of your outer problem before answering."}], "answers": [{"comments": [{"owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "edited": false, "score": 0, "creation_date": 1450368914, "post_id": 34325715, "comment_id": 56419840, "body": "Thanks for the clarifications Mark. Your zlib library is awesome, I am just trying to stuff it was never intended to do it sounds like. I was trying to &quot;decompress from that bit location at some later time, without having decompressed everything that preceded it.&quot;"}], "tags": [], "owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "is_accepted": true, "score": 3, "last_activity_date": 1450368361, "last_edit_date": 1450368361, "creation_date": 1450319877, "answer_id": 34325715, "question_id": 34323361, "link": "https://stackoverflow.com/questions/34323361/how-to-return-how-many-bytes-were-actually-consumed-to-return-the-decompressed-d/34325715#34325715", "title": "How to return how many bytes were actually consumed to return the decompressed data from inflate()?", "body": "<blockquote>\n  <p>Where do I set the next_in pointer after the first inflate to start in\n  the compressed data, so that after inflation the fext 4 bytes are what\n  I want, as if I originally set avail_out as 8 and not 4?</p>\n</blockquote>\n\n<p>You don't set <code>next_in</code>. You just leave <code>next_in</code> alone. It already points to where it needs to point to continue decompression where you left off. You only need to potentially change <code>next_in</code> when you run out of input data, i.e. <code>avail_in</code> is zero.</p>\n\n<blockquote>\n  <p>The stream is torn down between these calls.</p>\n</blockquote>\n\n<p>You cannot start decompression at some arbitrary point in the stream without having built up the context first that would get you to that point. That context is built up by decompressing everything that precedes it. You need the current sliding window of uncompressed data as well as the current dynamic code state.</p>\n\n<p>If you are in control of the construction of the compressed data, you can insert points in the stream at which you can start decompression with no history, using <code>Z_FULL_FLUSH</code>. This ends the last block and starts a new block, and throws away the sliding window. Using this generally degrades compression.</p>\n\n<blockquote>\n  <p>For applications where zlib streams are embedded in other data, this\n  routine would need to be modified to return the unused data, or at\n  least indicate how much of the input data was not used, so the\n  application would know where to pick up after the zlib stream.</p>\n</blockquote>\n\n<p>That is not talking about what you think it's talking about. That is referring to the knowing where the end of the deflate stream is. It has nothing to do with trying to decompress from somewhere in the middle.</p>\n\n<blockquote>\n  <p>Is it possible to know where in the compressed data equates to the 4\n  uncompressed bytes I wanted read? Is there something within\n  zstream/zlib that stores/reports this?</p>\n</blockquote>\n\n<p>As you are decompressing, you can determine after any <code>inflate()</code> call returns how many bytes and bits have been consumed to generate the data returned so far. You just need to look at <code>avail_in</code> and <code>data_type</code>. (Read the <code>inflate()</code> documentation in zlib.h.) This will not allow you to decompress from that bit location at some later time, without having decompressed everything that preceded it.</p>\n\n<p>What are you trying to do?</p>\n"}], "owner": {"reputation": 699, "user_id": 1922559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dlloJ.png?s=128&g=1", "display_name": "TWhite", "link": "https://stackoverflow.com/users/1922559/twhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 34325715, "answer_count": 1, "score": 1, "last_activity_date": 1450368361, "creation_date": 1450304994, "last_edit_date": 1450311617, "question_id": 34323361, "link": "https://stackoverflow.com/questions/34323361/how-to-return-how-many-bytes-were-actually-consumed-to-return-the-decompressed-d", "title": "How to return how many bytes were actually consumed to return the decompressed data from inflate()?", "body": "<p>I am using zlib to inflate some deflate compressed data. The caller specifies how many uncompressed bytes it wants, through zstream avail_out. What I need to get is how many actual bytes were consumed from the next_in buffer to inflate the requested avail_out number of bytes. The total_in amount is how much was inflated but it is larger than what was actually \"needed\" to populate the next_out buffer. </p>\n\n<p>Example:</p>\n\n<p>I have 126 bytes of compressed data and want to get the first 4 bytes of the uncompressed data. Now I want to pick up and get the next 4 bytes of uncompressed data, so</p>\n\n<p><strong>Where do I set the next_in pointer after the first inflate to start in the compressed data, so that after inflation the fext 4 bytes are what I want, as if I originally set avail_out as 8 and not 4?</strong> </p>\n\n<p>I've tried Z_BLOCK to get the unused bits from the last byte but they don't align where I'd expect the next_in read to start. </p>\n\n<p>Any ideas how to set next_in to inflate where I'd expect the next 4 uncompressed bytes to be? The stream is torn down between these calls.</p>\n\n<p>Update:</p>\n\n<p>I'm trying to do this something like this statement from the zlib how to site:</p>\n\n<p><em>For applications where zlib streams are embedded in other data, this routine would need to be modified to return the unused data, or at least indicate how much of the input data was not used, so the application would know where to pick up after the zlib stream.</em></p>\n\n<p>Clarification:</p>\n\n<p>A better question might be:</p>\n\n<p><strong>Is it possible to know where in the compressed data equates to the 4 uncompressed bytes I wanted read? Is there something within zstream/zlib that stores/reports this?</strong></p>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 3, "creation_date": 1450304650, "post_id": 34323237, "comment_id": 56388293, "body": "Start with getting rid of the global variable. And show your test main too."}, {"owner": {"reputation": 2598, "user_id": 218913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59b5bd7fe3da101beb97cfddfdb6f9e2?s=128&d=identicon&r=PG&f=1", "display_name": "williamg", "link": "https://stackoverflow.com/users/218913/williamg"}, "edited": false, "score": 0, "creation_date": 1450304719, "post_id": 34323237, "comment_id": 56388325, "body": "^^ Why? That won&#39;t affect the behavior of the program at all. While it isn&#39;t necessarily good coding style, it shouldn&#39;t affect the output as written."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "reply_to_user": {"reputation": 2598, "user_id": 218913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59b5bd7fe3da101beb97cfddfdb6f9e2?s=128&d=identicon&r=PG&f=1", "display_name": "williamg", "link": "https://stackoverflow.com/users/218913/williamg"}, "edited": false, "score": 7, "creation_date": 1450304761, "post_id": 34323237, "comment_id": 56388346, "body": "@williamg But it does affect the behaviour... eg. if the function is called multiple times, which could be the problem here."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1450305017, "post_id": 34323237, "comment_id": 56388478, "body": "Btw., make your function parameter const (while not an real error without, again it&#39;s not only for good style: it makes passing literals possible without complaining)"}, {"owner": {"reputation": 2598, "user_id": 218913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59b5bd7fe3da101beb97cfddfdb6f9e2?s=128&d=identicon&r=PG&f=1", "display_name": "williamg", "link": "https://stackoverflow.com/users/218913/williamg"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1450309060, "post_id": 34323237, "comment_id": 56390152, "body": "@deviantfan That&#39;s a good point! I hadn&#39;t thought of that!"}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 3, "last_activity_date": 1450306127, "last_edit_date": 1450306127, "creation_date": 1450305750, "answer_id": 34323555, "question_id": 34323237, "link": "https://stackoverflow.com/questions/34323237/recursive-function-to-find-string-length-returning-6-too-high/34323555#34323555", "title": "Recursive function to find string length returning 6 too high?", "body": "<p>The function can look the following way</p>\n\n<pre><code>size_t myStrlen( const char string[] )\n{\n    return *string ? 1 + myStrlen( string + 1 ) : 0;\n}\n</code></pre>\n\n<p>As for your function then there is no need to use global variable <code>n</code> and the argument of each next recursive call of the function should be</p>\n\n<pre><code>myStrlen(string + 1)\n</code></pre>\n\n<p>Take into account that the function calcualtes the length of a string that is of a sequence of characters terminated with zero. If the character array does not contain a string then the behaviour is undefined.</p>\n"}], "owner": {"reputation": 1, "user_id": 5688681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1252030281489509/picture?type=large", "display_name": "Gus Ziegler", "link": "https://stackoverflow.com/users/5688681/gus-ziegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450306127, "creation_date": 1450304509, "last_edit_date": 1450304588, "question_id": 34323237, "link": "https://stackoverflow.com/questions/34323237/recursive-function-to-find-string-length-returning-6-too-high", "title": "Recursive function to find string length returning 6 too high?", "body": "<p>I have to write a program to find the length of a char array using recursion, however my program is returning a value 6 more than the array length. </p>\n\n<pre><code>int n = 0;\n\nint myStrlen(char string[]){\n\n    if (string[n] == '\\0') {\n        return 0;\n    }\n    else{\n        ++n;\n        return 1 + myStrlen(string);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "image", "opencv", "template-matching"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1450344422, "post_id": 34323225, "comment_id": 56403260, "body": "is your cropped template not recognized in the full image? Obviously, if your move your arm (for example), your template doesn&#39;t work anymore. Can you provide target images where you want to detect your template?"}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1450356912, "post_id": 34323225, "comment_id": 56411396, "body": "darn that dream. using template matching for anything from a webcam won&#39;t work, due to perspective / rotation / scaling issues. also, you can only apply it to <i>rigid</i> structures."}, {"owner": {"reputation": 149, "user_id": 4983204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83287e781ba1732a25166f8545498a1c?s=128&d=identicon&r=PG&f=1", "display_name": "vamsidhar muthireddy", "link": "https://stackoverflow.com/users/4983204/vamsidhar-muthireddy"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1450357496, "post_id": 34323225, "comment_id": 56411787, "body": "@berak,As I mentioned above I am remaining in the same position for my initial testing.So, there should be no problems of perspective / rotation / scaling involved."}], "owner": {"reputation": 149, "user_id": 4983204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83287e781ba1732a25166f8545498a1c?s=128&d=identicon&r=PG&f=1", "display_name": "vamsidhar muthireddy", "link": "https://stackoverflow.com/users/4983204/vamsidhar-muthireddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450356457, "creation_date": 1450304450, "last_edit_date": 1450356457, "question_id": 34323225, "link": "https://stackoverflow.com/questions/34323225/using-templates-to-track-an-object-using-opencv", "title": "Using templates to track an object using opencv", "body": "<p>I am currently working on a project where I would have to detect new objects appearing on the camera feed over the background.I am cropping the images of the detected objects and storing them in a vector of matrices.When I have sufficient amount of images,I destroy the background and try to track the previous detected object.Since,I destroyed the background,the only information I have about the object to be tracked is those cropped images.So,I used <code>matchTemplate()</code> to find matches for the images.But,I couldn't get any matches.I am including a pic of one of the images I am using as Template</p>\n\n<p><a href=\"https://i.stack.imgur.com/VwvzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VwvzL.png\" alt=\"enter image description here\"></a></p>\n\n<p>This roi was cropped from\n<a href=\"https://i.stack.imgur.com/0w0EZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0w0EZ.png\" alt=\"enter image description here\"></a>.</p>\n\n<p>Earlier, I used template matching to track my face and it worked fine<a href=\"https://i.stack.imgur.com/4A8in.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4A8in.jpg\" alt=\"template used to track my face\"></a>\n<a href=\"https://i.stack.imgur.com/xFDOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xFDOQ.png\" alt=\"detected face\"></a></p>\n\n<p>But only difference is, I provided the cropped images during face detection and in  my current algorithm roi to be used as template automatically gets cropped  from main image.</p>\n\n<p>I provided images I used for both my projects.I think there maybe some problem with my automated cropped templates.I would like ,if someone points me in the right direction.\nI am using opencv libraries with c++.</p>\n\n<p><strong>EDIT:</strong><a href=\"https://i.stack.imgur.com/5Yxsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Yxsx.png\" alt=\"testing image\"></a></p>\n\n<p>For my initial testing,I was remaining in the same position as of my templates stored to get maximum detection.But,there is no match.I am providing an image in which templates should be matched.</p>\n"}, {"tags": ["c++", "macros", "predefined-macro"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4180612"}, "edited": false, "score": 0, "creation_date": 1450304868, "post_id": 34323054, "comment_id": 56388408, "body": "Have you thought about using <a href=\"http://en.cppreference.com/w/cpp/error/system_error\" rel=\"nofollow noreferrer\"><code>std::system_error</code></a>?"}, {"owner": {"reputation": 636, "user_id": 39870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2bc869e4cb585a9adbc78a6944c148e?s=128&d=identicon&r=PG", "display_name": "kchoose2", "link": "https://stackoverflow.com/users/39870/kchoose2"}, "edited": false, "score": 1, "creation_date": 1450305204, "post_id": 34323054, "comment_id": 56388578, "body": "Have you considered inline functions instead? They tend to be much easier to debug than macros"}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1450305580, "post_id": 34323054, "comment_id": 56388752, "body": "Functions and macros are entirely different things."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1450309846, "post_id": 34323054, "comment_id": 56390389, "body": "Post the code which is using these macros"}], "answers": [{"comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1450305938, "post_id": 34323267, "comment_id": 56388939, "body": "This doesn&#39;t answer the question."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 1, "creation_date": 1450306332, "post_id": 34323267, "comment_id": 56389111, "body": "It actually does answer the question quite well."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1450365348, "post_id": 34323267, "comment_id": 56417241, "body": "@CrazyEddie - &quot;why doesn&#39;t this code compile?&quot; &quot;Well, here&#39;s some different code that does compile.&quot; Yes, it&#39;s reasonable to say that the approach doesn&#39;t work well, but I don&#39;t see that in here anywhere. Just a ramble about preprocessing and a code example."}, {"owner": {"reputation": 2285, "user_id": 4840567, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/317775be985b05371b977a5daedc4e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Calvin Hu", "link": "https://stackoverflow.com/users/4840567/calvin-hu"}, "edited": false, "score": 0, "creation_date": 1450479867, "post_id": 34323267, "comment_id": 56472971, "body": "thanks. it solves the compilter problem.. Just put it inline then everything is fine."}, {"owner": {"reputation": 1743, "user_id": 5502206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e05d0d997fd75b4881e5c39055222a?s=128&d=identicon&r=PG&f=1", "display_name": "V. Kravchenko", "link": "https://stackoverflow.com/users/5502206/v-kravchenko"}, "reply_to_user": {"reputation": 2285, "user_id": 4840567, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/317775be985b05371b977a5daedc4e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Calvin Hu", "link": "https://stackoverflow.com/users/4840567/calvin-hu"}, "edited": false, "score": 0, "creation_date": 1450518703, "post_id": 34323267, "comment_id": 56480609, "body": "@CalvinHu If you really think it helps - upwote it. If you think it solves the problem - mark as solution :)"}], "tags": [], "owner": {"reputation": 1743, "user_id": 5502206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e05d0d997fd75b4881e5c39055222a?s=128&d=identicon&r=PG&f=1", "display_name": "V. Kravchenko", "link": "https://stackoverflow.com/users/5502206/v-kravchenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1450304616, "creation_date": 1450304616, "answer_id": 34323267, "question_id": 34323054, "link": "https://stackoverflow.com/questions/34323054/c-defining-function-using-define-macro-to-check-com-result/34323267#34323267", "title": "c++ defining function using #define macro to check com result", "body": "<p>A define macro tells the preprocessor to replace what is defined with it's definition.\nSo if you go</p>\n\n<pre><code>#define SAMPLE_TEXT 5\n</code></pre>\n\n<p>the preprocessor will replace all <code>SAMPLE_TEXT</code>s with 5.\nMacro functions are a little bit more complicated. So if you go</p>\n\n<pre><code>#define MACROFUN(a, b) a + b\n</code></pre>\n\n<p>the preprocessor will replace all <code>MACROFUN(a, b)</code> with <code>a+b</code>, and not with (a+b) or with the result of expression. So, going <code>2 * MACROFUN(3,3)</code> will result in 9 (2 * 3 + 3 = 9, not 2 * 6 = 12). Preprocessor is just doing it's job pasting contents of macrofunction with replacing a, b with arguments without evaluating any values.</p>\n\n<p>Returning to original question, to define a macrofunction you need here, you should probably go  </p>\n\n<pre><code>#define TO_STRING( ret )  (std::string(CT2A(_com_error(ret).ErrorMessage())))\n</code></pre>\n\n<p>Consider avoiding using macros here and making those macrofunctions just regular functions. Let the compiler decide weather to inline them or not.</p>\n"}], "owner": {"reputation": 2285, "user_id": 4840567, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/317775be985b05371b977a5daedc4e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Calvin Hu", "link": "https://stackoverflow.com/users/4840567/calvin-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450304616, "creation_date": 1450303762, "question_id": 34323054, "link": "https://stackoverflow.com/questions/34323054/c-defining-function-using-define-macro-to-check-com-result", "title": "c++ defining function using #define macro to check com result", "body": "<p>So I'm working on a windows application and I've decided to write several helper functions to check the HRESULT returned by any com-related function when it is called. I'm trying to define those functions into a macro #define block but I'm really not sure what is the proper syntax. Here are two functions in #define block and the second one gives compiler error when other parts of my program calls it.</p>\n\n<pre><code>#ifndef COMUTILITIES\n#define COMUTILITIES\n#include &lt;sstream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;comdef.h&gt;\n#include &lt;AtlConv.h&gt;\n\n\n#define COM_RESULT_CHECK( ret )  \\\n    if ( ret != S_OK ) {    \\\n    std::stringstream ss;   \\\n    ss &lt;&lt; \"failed \" #ret \" \" &lt;&lt; std::hex &lt;&lt; ret &lt;&lt; std::endl;   \\\n    throw std::runtime_error( ss.str().c_str() );           \\\n    }\n\n#define TO_STRING( ret )  \\\n    _com_error err(ret);   \\\n    LPCTSTR errMsg = err.ErrorMessage();  \\\n    std::string s = CT2A( errMsg );    \\\n    return s;   \\\n\n#endif // COMUTILITIES\n</code></pre>\n\n<p>Basically my goal is simple. The first function checks the return code of a com function. If it's not S_OK, then throws an error. The second one tries to convert the error code into a human-readable string and return it. Here are the error I got(the ide I'm using is qt creator but that doesn't matter):\n<a href=\"https://i.stack.imgur.com/vitAE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vitAE.png\" alt=\"enter image description here\"></a></p>\n\n<p>It says _com_error is used illegally, and other errors I believe were caused by the bad syntax in the #define block. Can someone point out what's wrong with my syntax?</p>\n"}, {"tags": ["c++", "unit-testing", "googlemock"], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 1376317, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccaccc8102efa685027cf9cf371d2ad3?s=128&d=identicon&r=PG", "display_name": "thassan", "link": "https://stackoverflow.com/users/1376317/thassan"}, "edited": false, "score": 0, "creation_date": 1450448119, "post_id": 34323961, "comment_id": 56456618, "body": "Thanks. Since , I am using gmock to create a stub, I already know what will be the inputs to my SUT , beforehand. However, for legacy code reasons, I cannot provide the elements on the fly everytime."}], "tags": [], "owner": {"reputation": 6058, "user_id": 198011, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c86aa022c2b18a1f1c418d1e85cbbf72?s=128&d=identicon&r=PG", "display_name": "Antonio P&#233;rez", "link": "https://stackoverflow.com/users/198011/antonio-p%c3%a9rez"}, "is_accepted": false, "score": 1, "last_activity_date": 1450307716, "creation_date": 1450307716, "answer_id": 34323961, "question_id": 34322985, "link": "https://stackoverflow.com/questions/34322985/google-mock-return-a-live-element-using-on-call/34323961#34323961", "title": "Google Mock Return a live element using ON_CALL", "body": "<p><code>testing::Return</code> is an action. Your code should look like:</p>\n\n<pre><code>ACTION_P(IncrementAndReturnPointee, p)\n{\n    return *(p++);\n}\n\nON_CALL(myMockInstance, execute())\n     .WillByDefault(IncrementAndReturnPointee(myVecCollection.cbegin()));\n</code></pre>\n\n<p>As a side note, it doesn't look like a good idea to use a finite collection <code>myVecCollection</code>. You will probably get a more robust test if you figure out an implementation of the action that creates a new element to return on the fly.</p>\n"}], "owner": {"reputation": 251, "user_id": 1376317, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccaccc8102efa685027cf9cf371d2ad3?s=128&d=identicon&r=PG", "display_name": "thassan", "link": "https://stackoverflow.com/users/1376317/thassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450307716, "creation_date": 1450303540, "last_edit_date": 1495542654, "question_id": 34322985, "link": "https://stackoverflow.com/questions/34322985/google-mock-return-a-live-element-using-on-call", "title": "Google Mock Return a live element using ON_CALL", "body": "<p>I read through <a href=\"https://stackoverflow.com/questions/5144623/google-mock-return-a-list-of-values\">Google Mock: Return() a list of values</a> and found out how to return a single element from a vector on each EXPECT_CALL, as such I wrote the following code which works:</p>\n\n<pre><code>    {\n      testing::InSequence s1;\n        for (auto anElem:myVecCollection) {\n          EXPECT_CALL(myMockInstance, execute())\n              .WillOnce(testing::Return(anElem));\n        }\n    }\n</code></pre>\n\n<p>so far so good...\nNow I read not to use EXPECT_CALL unless you need to. <a href=\"https://groups.google.com/forum/#!topic/googlemock/pRyZwyWmrRE\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/googlemock/pRyZwyWmrRE</a>\nMy use case, myMockInstance is really a stub providing data to the SUT(software under test).</p>\n\n<p>However, a simple EXPECT_CALL to ON_CALL replacement will not work(??), since ON_CALL with WillByDefault only calculates the return type only once(??)</p>\n\n<p>As such I tried setting up an ACTION. </p>\n\n<pre><code>ACTION_P(IncrementAndReturnPointee, p)\n{\n    return (p)++;\n}\n\nON_CALL(myMockInstance, execute())\n        .WillByDefault(testing::Return\n         (*(IncrementAndReturnPointee(myVecCollection.cbegin()))));\n</code></pre>\n\n<p>Clang gives </p>\n\n<pre><code>error: expected expression   'ACTION_P(IncrementAndReturnPointee, p)'\n</code></pre>\n\n<p>Then I tried setting up a functor and use the Invoke method on it.      </p>\n\n<pre><code>    struct Funct\n    {\n      Funct() : i(0){}\n\n      myClass mockFunc(std::vector&lt;myClass&gt;  &amp;aVecOfMyclass)\n      {\n        return aVecOfMyclass[i++];\n      }\n\n      int i;\n    };\n\n    Funct functor;                \n    ON_CALL(myMockInstance, execute())\n        .WillByDefault(testing::Return(testing::Invoke(&amp;functor, functor.mockFunc(myVecCollection))));\n</code></pre>\n\n<p>Clang gives </p>\n\n<pre><code>no matching function for call to 'ImplicitCast_'\n        : value_(::testing::internal::ImplicitCast_&lt;Result&gt;(value)) {}\n</code></pre>\n\n<p>Now , I am fairly new to google-mock but have used google-test extensively. \nI am a bit lost with the Google-Mock doc. I wanted to know, whether I am on the right path, in terms of what I needed. \nIf one of you could point to me , which approach is the correct one; or whether I am even close to the right approach, I can take it from there and debug the \"close to right approach\" further. \nThanks</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4912, "user_id": 1953533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Vs4v8.jpg?s=128&g=1", "display_name": "CroCo", "link": "https://stackoverflow.com/users/1953533/croco"}, "edited": false, "score": 0, "creation_date": 1450306757, "post_id": 34322984, "comment_id": 56389297, "body": "This question has nothing to do with programming. This question is more appropriate  in <a href=\"http://robotics.stackexchange.com\">robotics.stackexchange.com</a>. The problem here is the way you represent environments. In Robotics, there are numerous approaches to represent maps such metric and topological maps. Each type has its own representation. Once you decide which type you&#39;re using, coding the problem is not big deal. Sorry, I don&#39;t have an authority to merge your topic over there."}, {"owner": {"reputation": 753, "user_id": 2840470, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2dd63f64b42d7ba16f86c029f6bf488?s=128&d=identicon&r=PG&f=1", "display_name": "user2840470", "link": "https://stackoverflow.com/users/2840470/user2840470"}, "reply_to_user": {"reputation": 4912, "user_id": 1953533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Vs4v8.jpg?s=128&g=1", "display_name": "CroCo", "link": "https://stackoverflow.com/users/1953533/croco"}, "edited": false, "score": 0, "creation_date": 1450312472, "post_id": 34322984, "comment_id": 56391175, "body": "@CroCo Sorry, I did not even know there was a robotics.stackexchange. Thanks for the info!"}], "answers": [{"comments": [{"owner": {"reputation": 4912, "user_id": 1953533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Vs4v8.jpg?s=128&g=1", "display_name": "CroCo", "link": "https://stackoverflow.com/users/1953533/croco"}, "edited": false, "score": 0, "creation_date": 1450306640, "post_id": 34323380, "comment_id": 56389248, "body": "The problem is more robotics issue than programming."}], "tags": [], "owner": {"reputation": 1733, "user_id": 1013504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afa2d53388f97248d1120c657c6bb719?s=128&d=identicon&r=PG", "display_name": "dkg", "link": "https://stackoverflow.com/users/1013504/dkg"}, "is_accepted": false, "score": 0, "last_activity_date": 1450305078, "creation_date": 1450305078, "answer_id": 34323380, "question_id": 34322984, "link": "https://stackoverflow.com/questions/34322984/creating-and-storing-a-2d-3d-map-for-autonomous-robot/34323380#34323380", "title": "Creating and storing a 2D/3D map for autonomous robot", "body": "<p>You can use a R-Tree where your initial place is the root of the tree. Each time you can go somewhere, you can add the place you went in your tree.\nYou could also fusion some neighbour parts together if possible.</p>\n\n<p>From a memory point of view, you are not bounded by your array/matrix limits and you store only valuable data. It is up to you to choose what to store  : obstacles or free space.\nSearching in that kind of structure is also efficient.</p>\n\n<p>As for implementations, you could take a look a the <a href=\"http://www.boost.org/doc/libs/1_59_0/libs/geometry/doc/html/geometry/spatial_indexes/introduction.html\" rel=\"nofollow\">r-tree in the boost library</a>.</p>\n\n<p>Later on, you could even create a graph based on your tree to be used by path-finding algorithms if you expect your robot to go from one point to another.</p>\n"}], "owner": {"reputation": 753, "user_id": 2840470, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2dd63f64b42d7ba16f86c029f6bf488?s=128&d=identicon&r=PG&f=1", "display_name": "user2840470", "link": "https://stackoverflow.com/users/2840470/user2840470"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450305078, "creation_date": 1450303539, "question_id": 34322984, "link": "https://stackoverflow.com/questions/34322984/creating-and-storing-a-2d-3d-map-for-autonomous-robot", "title": "Creating and storing a 2D/3D map for autonomous robot", "body": "<p>I have built an autonomous RC car that is capable of tracking its location and scanning its environment for obstacles. I am stuck however on how to store/create a map of its environment. The environment would not be fixed in size, as the robot explores it may uncover new areas. My background is on navigation, so that part and determining where obstacles are is the easy part (for me). The hard part is how to store/access the data.</p>\n\n<p>Originally I was going to use a 2D array/matrix with a resolution of 2-5 cm, i.e each cell is 2-5cm wide when projected onto the ground. This however could eat up a lot of memory (it is embedded so I have limited resources, 512mb of RAM right now but may decrease when prototype is finished). As well, I will eventually be moving the system to a quadcopter so I will be working in 3D. \nThe next solution was to create an obstacle object, which would have a position. However I was unsure on how to: 1. keep track of the size and orientation of the object, i.e. how to tell if the object is a wall or just a table leg (cant avoid a wall, can go around a leg) and 2. how to efficiently search/tell if an obstacle is in the robots way. </p>\n\n<p>I am using c++, and the integration of a camera and ultrasonic sensor to detect the environment. As mentioned, stuck on how to store the environment efficiently. I would like to keep the environment information, whether save to a file or send to a server so I can later use/access the map. Would anyone have any suggestions on what to try, or where to even begin looking, this area is all new to me?</p>\n"}, {"tags": ["c++", "opencv", "opencv3.0", "stereo-3d"], "comments": [{"owner": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "edited": false, "score": 0, "creation_date": 1450363273, "post_id": 34322954, "comment_id": 56415795, "body": "please check the images you have provided, they look the same"}, {"owner": {"reputation": 271, "user_id": 5622031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kx58h.png?s=128&g=1", "display_name": "Ehsan Masnavi", "link": "https://stackoverflow.com/users/5622031/ehsan-masnavi"}, "reply_to_user": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "edited": false, "score": 0, "creation_date": 1450458538, "post_id": 34322954, "comment_id": 56463074, "body": "Sorry, My bad. I have uploaded the right frames!"}], "answers": [{"tags": [], "owner": {"reputation": 271, "user_id": 5622031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kx58h.png?s=128&g=1", "display_name": "Ehsan Masnavi", "link": "https://stackoverflow.com/users/5622031/ehsan-masnavi"}, "is_accepted": true, "score": 17, "last_activity_date": 1450793522, "last_edit_date": 1450793522, "creation_date": 1450462599, "answer_id": 34361675, "question_id": 34322954, "link": "https://stackoverflow.com/questions/34322954/how-to-generate-a-valid-point-cloud-representation-of-a-pair-of-stereo-images-us/34361675#34361675", "title": "How to generate a valid point cloud representation of a pair of stereo images using OpenCV 3.0 StereoSGBM and PCL", "body": "<p>After doing some work and some research I found my answer and I am sharing it here so other readers can use.</p>\n\n<p>Nothing was wrong with the conversion algorithm from the disparity image to 3D XYZ (and eventually to a point cloud). The problem was the distance of the objects (that I was taking pictures of) to the cameras and amount of  information that was available for the StereoBM or StereoSGBM algorithms to detect similarities between the two images (image pair). In order to get proper 3D point cloud it is required to have a good disparity image and in order to have a good disparity image (assuming you have performed good calibration) make sure of the followings:</p>\n\n<p>1- There should be enough detectable and distinguishable common features available between the two frames (right and left frame). The reason being is that StereoBM or StereoSGBM algorithms look for common features between the two frames and they can easily be fooled by similar things in the two frames which may not necessarily belong to the same objects. I personally think these two matching algorithms have lots of room for improvement. So beware of what you are looking at with your cameras.</p>\n\n<p>2- Objects of interest (the ones that you are interested to have their 3D point cloud model) should be within a certain distance to your cameras. The bigger the base-line is (base line is the distance between the two cameras), the further your objects of interest (targets) can be.</p>\n\n<p>A noisy and distorted disparity image never generates a good 3D point cloud. One thing you can do to improve your disparity images is to use track-bars in your applications so you can adjust the StereoSBM or StereoSGBM parameters until you can see good results (clear and smooth disparity image). Code below is a small and simple example on how to generate track-bars (I wrote it as simple as possible). Use as required:</p>\n\n<pre><code> int PreFilterType = 0, PreFilterCap = 0, MinDisparity = 0, UniqnessRatio = 0, TextureThreshold = 0,\n    SpeckleRange = 0, SADWindowSize = 5, SpackleWindowSize = 0, numDisparities = 0, numDisparities2 = 0, PreFilterSize = 5;\n\n\n            Ptr&lt;StereoBM&gt; sbm = StereoBM::create(numDisparities, SADWindowSize);  \n\nwhile(1)\n{\n            sbm-&gt;setPreFilterType(PreFilterType);\n            sbm-&gt;setPreFilterSize(PreFilterSize);  \n            sbm-&gt;setPreFilterCap(PreFilterCap + 1);\n            sbm-&gt;setMinDisparity(MinDisparity-100);\n            sbm-&gt;setTextureThreshold(TextureThreshold*0.0001);\n            sbm-&gt;setSpeckleRange(SpeckleRange);\n            sbm-&gt;setSpeckleWindowSize(SpackleWindowSize);\n            sbm-&gt;setUniquenessRatio(0.01*UniqnessRatio);\n            sbm-&gt;setSmallerBlockSize(15);\n            sbm-&gt;setDisp12MaxDiff(32);\n\n            namedWindow(\"Track Bar Window\", CV_WINDOW_NORMAL);\n            cvCreateTrackbar(\"Number of Disparities\", \"Track Bar Window\", &amp;PreFilterType, 1, 0);\n            cvCreateTrackbar(\"Pre Filter Size\", \"Track Bar Window\", &amp;PreFilterSize, 100);\n            cvCreateTrackbar(\"Pre Filter Cap\", \"Track Bar Window\", &amp;PreFilterCap, 61);\n            cvCreateTrackbar(\"Minimum Disparity\", \"Track Bar Window\", &amp;MinDisparity, 200);\n            cvCreateTrackbar(\"Uniqueness Ratio\", \"Track Bar Window\", &amp;UniqnessRatio, 2500);\n            cvCreateTrackbar(\"Texture Threshold\", \"Track Bar Window\", &amp;TextureThreshold, 10000);\n            cvCreateTrackbar(\"Speckle Range\", \"Track Bar Window\", &amp;SpeckleRange, 500);\n            cvCreateTrackbar(\"Block Size\", \"Track Bar Window\", &amp;SADWindowSize, 100);\n            cvCreateTrackbar(\"Speckle Window Size\", \"Track Bar Window\", &amp;SpackleWindowSize, 200);\n            cvCreateTrackbar(\"Number of Disparity\", \"Track Bar Window\", &amp;numDisparities, 500);\n\n            if (PreFilterSize % 2 == 0)\n            {\n                PreFilterSize = PreFilterSize + 1;\n            }\n\n\n            if (PreFilterSize2 &lt; 5)\n            {\n                PreFilterSize = 5;\n            }\n\n            if (SADWindowSize % 2 == 0)\n            {\n                SADWindowSize = SADWindowSize + 1;\n            }\n\n            if (SADWindowSize &lt; 5)\n            {\n                SADWindowSize = 5;\n            }\n\n\n            if (numDisparities % 16 != 0)\n            {\n                numDisparities = numDisparities + (16 - numDisparities % 16);\n            }\n        }\n}\n</code></pre>\n\n<p>If you are not getting proper results and smooth disparity image, don't get disappointed. Try using the OpenCV sample images (the one with an orange desk lamp in it) with your algorithm to make sure you have the correct pipe-line and then try taking pictures from different distances and play with StereoBM/StereoSGBM parameters until you can get something useful. I used my own face for this purpose and since I had a very small baseline, I came very close to my cameras (Here is a link to my 3D face point-cloud picture, and hey, don't you dare laughing!!!)<a href=\"http://i.stack.imgur.com/UYhaC.png\" rel=\"noreferrer\">1</a>.I was very happy of seeing myself in 3D point-cloud form after a week of struggling. I have never been this happy of seeing myself before!!! ;)</p>\n"}], "owner": {"reputation": 271, "user_id": 5622031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kx58h.png?s=128&g=1", "display_name": "Ehsan Masnavi", "link": "https://stackoverflow.com/users/5622031/ehsan-masnavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6418, "favorite_count": 7, "accepted_answer_id": 34361675, "answer_count": 1, "score": 10, "last_activity_date": 1475052140, "creation_date": 1450303444, "last_edit_date": 1450458502, "question_id": 34322954, "link": "https://stackoverflow.com/questions/34322954/how-to-generate-a-valid-point-cloud-representation-of-a-pair-of-stereo-images-us", "title": "How to generate a valid point cloud representation of a pair of stereo images using OpenCV 3.0 StereoSGBM and PCL", "body": "<p>I have recently started working with OpenCV 3.0 and my goal is to capture a pair of stereo images from a set of stereo cameras, create a proper disparity map, convert the disparity map to a 3D point cloud and finally show the resulting point cloud in a point-cloud viewer using PCL.</p>\n\n<p>I have already performed the camera calibration and the resulting calibration RMS is 0.4</p>\n\n<p>You can find my image pairs (Left Image)<a href=\"http://i.stack.imgur.com/v6TUR.jpg\" rel=\"noreferrer\">1</a>  and (Right Image)<a href=\"http://i.stack.imgur.com/hfGCs.jpg\" rel=\"noreferrer\">2</a> in the links below. I am using StereoSGBM in order to create disparity image. I am also using  track-bars to adjust StereoSGBM function parameters in order to obtain better disparity image. Unfortunately I can't post my disparity image since I am new to StackOverflow and don't have enough reputation to post more than two image links!</p>\n\n<p>After getting the disparity image (\"disp\" in the code below), I use the reprojectImageTo3D() function to convert the disparity image information to XYZ 3D coordinate, and then I convert the results into an array of \"pcl::PointXYZRGB\" points so they can be shown in a PCL point cloud viewer. After performing the required conversion, what I get as a point cloud is a silly pyramid shape point-cloud which does not make any sense. I have already read and tried all of the suggested methods in the following links:</p>\n\n<p>1- http: //blog.martinperis.com/2012/01/3d-reconstruction-with-opencv-and-point.html</p>\n\n<p>2- http: //stackoverflow.com/questions/13463476/opencv-stereorectifyuncalibrated-to-3d-point-cloud</p>\n\n<p>3- http: //stackoverflow.com/questions/22418846/reprojectimageto3d-in-opencv</p>\n\n<p>and non of them worked!!!</p>\n\n<p>Below I provided the conversion portion of my code, it would be greatly appreciated if you could tell me what I am missing:</p>\n\n<pre><code>pcl::PointCloud&lt;pcl::PointXYZRGB&gt;::Ptr pointcloud(new   pcl::PointCloud&lt;pcl::PointXYZRGB&gt;());\n    Mat xyz;\n    reprojectImageTo3D(disp, xyz, Q, false, CV_32F);\n    pointcloud-&gt;width = static_cast&lt;uint32_t&gt;(disp.cols);\n    pointcloud-&gt;height = static_cast&lt;uint32_t&gt;(disp.rows);\n    pointcloud-&gt;is_dense = false;\n    pcl::PointXYZRGB point;\n    for (int i = 0; i &lt; disp.rows; ++i)\n        {\n            uchar* rgb_ptr = Frame_RGBRight.ptr&lt;uchar&gt;(i);\n            uchar* disp_ptr = disp.ptr&lt;uchar&gt;(i);\n            double* xyz_ptr = xyz.ptr&lt;double&gt;(i);\n\n            for (int j = 0; j &lt; disp.cols; ++j)\n            {\n                uchar d = disp_ptr[j];\n                if (d == 0) continue;\n                Point3f p = xyz.at&lt;Point3f&gt;(i, j);\n\n                point.z = p.z;   // I have also tried p.z/16\n                point.x = p.x;\n                point.y = p.y;\n\n                point.b = rgb_ptr[3 * j];\n                point.g = rgb_ptr[3 * j + 1];\n                point.r = rgb_ptr[3 * j + 2];\n                pointcloud-&gt;points.push_back(point);\n            }\n        }\n    viewer.showCloud(pointcloud);\n</code></pre>\n"}, {"tags": ["c++", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1450303430, "post_id": 34322916, "comment_id": 56387670, "body": "The indentation is wrong."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1450303496, "post_id": 34322916, "comment_id": 56387694, "body": "@5gon12eder it is ugly sure, but why &quot;wrong&quot;? C++ does not have a clear definition of correct indentation"}, {"owner": {"reputation": 37, "user_id": 5582326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b47fcd6265f612a05dec836d3267b7?s=128&d=identicon&r=PG&f=1", "display_name": "Amal.aa", "link": "https://stackoverflow.com/users/5582326/amal-aa"}, "edited": false, "score": 4, "creation_date": 1450303606, "post_id": 34322916, "comment_id": 56387742, "body": "what is indentation ?"}, {"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1450303607, "post_id": 34322916, "comment_id": 56387744, "body": "Add space between numbers: <code>out&lt;&lt;s_i[j]&lt;&lt;s_n[j]&lt;&lt;endl;</code> ==&gt; <code>out&lt;&lt;s_i[j]&lt;&lt;&quot; &quot;&lt;&lt;s_n[j]&lt;&lt;endl;</code>"}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1450303690, "post_id": 34322916, "comment_id": 56387772, "body": "Apart from that, the program seems \u201ccorrect\u201d and does what I&#39;d expect it to do. May it be that you&#39;re surprised that it doesn&#39;t put a space between the <code>s_i</code> and <code>s_n</code>s? Try adding some: <code>cout &lt;&lt; s_i[j] &lt;&lt; &quot;, &quot; &lt;&lt; s_n[j] &lt;&lt; endl;</code>."}, {"owner": {"reputation": 4912, "user_id": 1953533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Vs4v8.jpg?s=128&g=1", "display_name": "CroCo", "link": "https://stackoverflow.com/users/1953533/croco"}, "edited": false, "score": 0, "creation_date": 1450303861, "post_id": 34322916, "comment_id": 56387863, "body": "No problem with your code. The problem with the way you enter data. Make sure to enter integer when you&#39;re asked to do so and so with the char."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1450303894, "post_id": 34322916, "comment_id": 56387881, "body": "@lejlot Please forgive me for my blunt statement just this one time. ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": false, "score": 2, "last_activity_date": 1450303624, "creation_date": 1450303624, "answer_id": 34323012, "question_id": 34322916, "link": "https://stackoverflow.com/questions/34322916/why-does-my-program-stops-before-reading-all-its-inputs-and-prints-strange-numb/34323012#34323012", "title": "Why does my program stops before reading all its inputs, and prints strange numbers?", "body": "<p>The code looks fine, and runs as intended. Maybe you try to input a char when asked for number (s_i?)</p>\n\n<h3>correct input</h3>\n\n<pre><code>enter s_i\n1\nenter s_n\nd\nenter s_i\n3\nenter s_n\ng\nenter s_i\n4\nenter s_n\nq\n1d\n3g\n4q\n</code></pre>\n\n<h3>incorrect input</h3>\n\n<pre><code>enter s_i\na\nenter s_n\nenter s_i\nenter s_n\nenter s_i\nenter s_n\n0\n0\n4196672\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 0, "creation_date": 1450304639, "post_id": 34323146, "comment_id": 56388289, "body": "Why would you use <code>new int[]</code> here? Honestly, I would just about never use it. If you don&#39;t know the number of items in advance, use a <code>std::vector&lt;int&gt;</code>. But if it&#39;s always three numbers, using a stack-based array is a perfectly valid option."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1450307682, "post_id": 34323146, "comment_id": 56389674, "body": "This is a comment, not an answer, and that second paragraph is awesomely bad advice. Don&#39;t <code>new</code> anything unless forced to."}], "tags": [], "owner": {"reputation": 27, "user_id": 5688583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/377816cc1322671318f7c5f3cb2515ee?s=128&d=identicon&r=PG&f=1", "display_name": "ashutosh", "link": "https://stackoverflow.com/users/5688583/ashutosh"}, "is_accepted": false, "score": -2, "last_activity_date": 1450304160, "creation_date": 1450304160, "answer_id": 34323146, "question_id": 34322916, "link": "https://stackoverflow.com/questions/34322916/why-does-my-program-stops-before-reading-all-its-inputs-and-prints-strange-numb/34323146#34323146", "title": "Why does my program stops before reading all its inputs, and prints strange numbers?", "body": "<p>I ran your code. It runs perfect as long as you enter integer for the integer array and character for the character array.</p>\n\n<p>Also, please develop the habit of creating instances using new int[]. This can also be the cause of your problem.</p>\n"}], "owner": {"reputation": 37, "user_id": 5582326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b47fcd6265f612a05dec836d3267b7?s=128&d=identicon&r=PG&f=1", "display_name": "Amal.aa", "link": "https://stackoverflow.com/users/5582326/amal-aa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1450304160, "creation_date": 1450303299, "last_edit_date": 1450303799, "question_id": 34322916, "link": "https://stackoverflow.com/questions/34322916/why-does-my-program-stops-before-reading-all-its-inputs-and-prints-strange-numb", "title": "Why does my program stops before reading all its inputs, and prints strange numbers?", "body": "<p>i wrote code that take integer and char in array from user then print it in screen,\nbut i had problem in the run,it just take two input and print strange numbers!, can any one know what is wrong .</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint main(){\n   const int size =3;\n   int s_i[size];\n   char s_n[size];\n   int i,j;\n\n   for( i=0;i&lt;size;i++){\n      cout&lt;&lt;\"enter s_i\"&lt;&lt;endl;\n      cin&gt;&gt;s_i[i];\n      cout&lt;&lt;\"enter s_n\"&lt;&lt;endl;\n      cin&gt;&gt;s_n[i];\n   }\n\n   for (j=0;j&lt;size;j++){\n      cout&lt;&lt;s_i[j]&lt;&lt;s_n[j]&lt;&lt;endl;\n   }\n\n   system (\"pause\");\n   return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "gcc", "makefile", "g++"], "comments": [{"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450310529, "post_id": 34322830, "comment_id": 56390581, "body": "Are the executables going to end up in <code>obj</code> as well? What about the test objects and test executables? Why does <code>Spinless2DFieldIndex.o</code> depend on <code>Utils.o</code>?"}, {"owner": {"reputation": 201, "user_id": 3594155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/642d093fb5b3bf87d31dc0872c27e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shane P Kelly", "link": "https://stackoverflow.com/users/3594155/shane-p-kelly"}, "reply_to_user": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450310858, "post_id": 34322830, "comment_id": 56390682, "body": "No, I want executables in same directory as the makefile that creates them.  It depends on functions defined in Utils.cc. so I want what ever dependencies in Utills.cc to spill over to Spinless2DFieldIndex.o"}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450311004, "post_id": 34322830, "comment_id": 56390728, "body": "The executables will need to link to <code>Utils.o</code> but <code>Spinless2DFieldIndex.o</code> doesn&#39;t, unless it&#39;s a shared library but then it shouldn&#39;t have the suffix <code>.o</code>. So executables are to be placed in <code>source</code> and <code>test1</code>, what about <code>test.o</code>? Or do you just want to skip making the object file for the tests?"}, {"owner": {"reputation": 201, "user_id": 3594155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/642d093fb5b3bf87d31dc0872c27e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shane P Kelly", "link": "https://stackoverflow.com/users/3594155/shane-p-kelly"}, "reply_to_user": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450312268, "post_id": 34322830, "comment_id": 56391114, "body": "Why doesn&#39;t it need to link Spinless2DFieldIndex?  My test executable might use it.  test.o can go in test1 but If my test only has 1 file, I will want to just skip making the object file."}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450312633, "post_id": 34322830, "comment_id": 56391221, "body": "The whole point about separate compilation is that object files can be compiled independently, only when you link the final executable will <code>Spinless2DFieldIndex.o</code> need to know the location of the names in <code>Utils.o</code>. I&#39;m guessing the recipe for <code>Spinless2DFieldIndex.o</code> ignores everything except the first target (<code>Spinless2DFieldIndex.cc</code>) anyway."}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450313513, "post_id": 34322830, "comment_id": 56391458, "body": "Put another way: why would you want to recompile <code>Spinless2DFieldIndex.o</code> every time <code>Utils.cc</code> changes? make is designed to avoid these kind of spurious dependencies."}, {"owner": {"reputation": 201, "user_id": 3594155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/642d093fb5b3bf87d31dc0872c27e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shane P Kelly", "link": "https://stackoverflow.com/users/3594155/shane-p-kelly"}, "reply_to_user": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450314506, "post_id": 34322830, "comment_id": 56391739, "body": "That makes sense, I knew that deep down but it didn&#39;t occur to me that this is where it&#39;s important. Thanks."}, {"owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450316471, "post_id": 34322830, "comment_id": 56392330, "body": "Ultimately what you need depends on how separate you need the project components to be, i.e. does it make sense to have separate makefiles in the source and test directories? Do you need to move them out into other projects? Or would it not simply be better to have a single makefile in the root?"}, {"owner": {"reputation": 201, "user_id": 3594155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/642d093fb5b3bf87d31dc0872c27e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shane P Kelly", "link": "https://stackoverflow.com/users/3594155/shane-p-kelly"}, "reply_to_user": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "edited": false, "score": 0, "creation_date": 1450374085, "post_id": 34322830, "comment_id": 56423272, "body": "Well Eventually I&#39;m  hoping to turn this into something like a library.  I&#39;m also want to keep my testing files separated since I&#39;m going to be reading the output with python and ploting."}], "answers": [{"tags": [], "owner": {"reputation": 19253, "user_id": 657267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dcf516021abb964aecd6ae2386fd59d?s=128&d=identicon&r=PG", "display_name": "user657267", "link": "https://stackoverflow.com/users/657267/user657267"}, "is_accepted": false, "score": 3, "last_activity_date": 1450401478, "last_edit_date": 1450401478, "creation_date": 1450400435, "answer_id": 34346975, "question_id": 34322830, "link": "https://stackoverflow.com/questions/34322830/how-to-link-objects-in-different-directories-in-c-with-make-without-refering-t/34346975#34346975", "title": "How to link objects in different directories in c++ with make without refering to them in the makefile?", "body": "<p>The following should work:</p>\n\n<p>Project/Makefile</p>\n\n<pre><code>objdir := obj/\nvpath %.cc source\nvpath %.o $(objdir)\n\nCPPFLAGS := -Iinc -MMD -MP\n\n.PHONY: all\n\nall: testing/test1/test\n\ninclude source/Makefile\ninclude testing/test1/Makefile\n</code></pre>\n\n<p>Project/source/Makefile</p>\n\n<pre><code>override objects := $(objdir)obj.o\n\n$(objects): $(objdir)%.o: %.cc\n    $(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $(OUTPUT_OPTION) $&lt;\n\nclean:: ; $(RM) $(objects) $(objects:.o=.d)\n\n-include $(objects:.o=.d)\n</code></pre>\n\n<p>Project/testing/test1/Makefile</p>\n\n<pre><code>override dir := $(dir $(lastword $(MAKEFILE_LIST)))\n$(dir)test: obj.o\n\nclean:: ; $(RM) $(dir)test $(dir)test.d\n\n-include $(dir)test.d\n</code></pre>\n\n<p>This should allow for a certain amount of modularity, although the asymmetry in the makefiles betrays the fact that your idea of having a separate <code>obj</code> directory while at the same time wanting to have the test executables in their own directory is perhaps not the best way to organize things. Personally I use a more <code>configure</code> style of makefile that recreates the project tree in the current working directory which helps separate the source from the build.</p>\n"}], "owner": {"reputation": 201, "user_id": 3594155, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/642d093fb5b3bf87d31dc0872c27e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shane P Kelly", "link": "https://stackoverflow.com/users/3594155/shane-p-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1464344519, "creation_date": 1450302971, "last_edit_date": 1464344519, "question_id": 34322830, "link": "https://stackoverflow.com/questions/34322830/how-to-link-objects-in-different-directories-in-c-with-make-without-refering-t", "title": "How to link objects in different directories in c++ with make without refering to them in the makefile?", "body": "<p>I'm trying to clean up my project a little and I want to put object files and include files in a separate folder and be able to compile another makefile in my a different testing subdirectory.  I would like to do this so that the make file in the testing directory doesn't have to know about the objects in the the above directory:  I have been struggling all day trying to figure out make and compilation.  </p>\n\n<p>Not sure what I'm doing wrong but in addition to this question I would be appreciative of any information to straighten out my thinking about <code>make</code> and <code>g++</code> so in the future I know where to look.</p>\n\n<p>Anyways I have 2 Questions both with regards to my project layout:</p>\n\n<p>Project</p>\n\n<pre><code>inc/\n--  header files\n-obj/\n--object files\n-source\n-make file for project that compiles objects in obj directory (makefile0)\n-testing/\n--test1/\n---test.cc\n---makefile1\n</code></pre>\n\n<p><strong>Question 1</strong></p>\n\n<p>So I want to include the header files in the inc directory in test.cc and then just focus on compiling test.cc like I would if I included a standard library header file.  Right now I need to make reference to the object in ../../obj/ in makefile1 and would like to ignore that. and just do something simple like</p>\n\n<pre><code>g++ -I ../../inc/ -c test.cc\n</code></pre>\n\n<p>How is it possible to do this?</p>\n\n<p><strong>Question 2</strong></p>\n\n<p>In makefile0, for each source file I have to append a $(OBJ) or $(INC) to the front of any file I have in those folders and wondering if there is anyway to clean up my make file an do something like </p>\n\n<pre><code>Spinless2DFieldIndex.o: Spinless2DFieldIndex.cc Utils.o Dispersion.h\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>$(ODIR)/Spinless2DFieldIndex.o: Spinless2DFieldIndex.cc $(ODIR)/Utils.o $(INC)/Dispersion.h\n</code></pre>\n"}, {"tags": ["c++", "boost", "igraph", "boost-multi-index"], "answers": [{"comments": [{"owner": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "edited": false, "score": 0, "creation_date": 1450303240, "post_id": 34322816, "comment_id": 56387576, "body": "You are my person of the day.  If you have a moment, could you explain it a bit more.  I&#39;m pretty new to C.  Should I put the typedef in my header file?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "edited": false, "score": 0, "creation_date": 1450303455, "post_id": 34322816, "comment_id": 56387680, "body": "Yes definitely you can same way as you typedef <code>boost::multi_index::multi_index_container</code> itself. You may want to localize that names to avoid conflicts, but that separate topic."}, {"owner": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "edited": false, "score": 0, "creation_date": 1450303638, "post_id": 34322816, "comment_id": 56387755, "body": "and reversing it, should I do <code>it=idx.end()-1; it!=idx.begin()</code> ?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "edited": false, "score": 1, "creation_date": 1450304117, "post_id": 34322816, "comment_id": 56388005, "body": "No, better use <code>rbegin()</code> <code>rend()</code> - as it!=idx.begin() will miss one element, and <code>idx.end()-1</code> will work only on some indexes (which provide random access)"}, {"owner": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "edited": false, "score": 0, "creation_date": 1450304387, "post_id": 34322816, "comment_id": 56388151, "body": "Awesome tip, ended up with <code>for (ivs_sorted::reverse_iterator it = idx.rbegin(); it!=idx.rend() &amp;&amp; i&lt;k; ++it) {         std::cout &lt;&lt; &quot;vid&#47;value: &quot; &lt;&lt; it-&gt;vid &lt;&lt; &quot; &#47; &quot; &lt;&lt; it-&gt;value &lt;&lt; &quot;!&quot; &lt;&lt; std::endl;     }</code>"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 3, "last_activity_date": 1450302917, "creation_date": 1450302917, "answer_id": 34322816, "question_id": 34322650, "link": "https://stackoverflow.com/questions/34322650/iterating-over-a-boost-multi-index/34322816#34322816", "title": "Iterating over a boost multi_index", "body": "<p><code>ivs.get&lt;1&gt;()</code> gives you index, not iterator. You need to call <code>begin()</code>, <code>end()</code> and other methods on that index to get iterator (like you do on containers). You better use <code>typedef</code> though:</p>\n\n<pre><code>indexed_vertex_set ivs;\ntypedef indexed_vertex_set::nth_index&lt;1&gt;::type sorted_index;\nsorted_index &amp;idx = ivs.get&lt;1&gt;();\nfor( sorted_index::iterator it = idx.begin(); it != idx.end(); ++it ) {\n    it-&gt;vid = 123; // getting access to fields\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1574, "user_id": 1240825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54627be67b42424f6642a709a23b244d?s=128&d=identicon&r=PG", "display_name": "maxywb", "link": "https://stackoverflow.com/users/1240825/maxywb"}, "is_accepted": false, "score": 2, "last_activity_date": 1536846411, "creation_date": 1536846411, "answer_id": 52315144, "question_id": 34322650, "link": "https://stackoverflow.com/questions/34322650/iterating-over-a-boost-multi-index/52315144#52315144", "title": "Iterating over a boost multi_index", "body": "<p>With C++11 this can be simpler:</p>\n\n<pre><code>mic_structure mic;\n\n// ...\n\nfor (auto &amp; it : mic.get&lt;0&gt;()) {\n    // do something with iterator\n}\n</code></pre>\n"}], "owner": {"reputation": 2930, "user_id": 2035811, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9610ddf29620bd2cea4f69476e375471?s=128&d=identicon&r=PG", "display_name": "Brian Dolan", "link": "https://stackoverflow.com/users/2035811/brian-dolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1858, "favorite_count": 0, "accepted_answer_id": 34322816, "answer_count": 2, "score": 1, "last_activity_date": 1536846411, "creation_date": 1450302188, "last_edit_date": 1450302583, "question_id": 34322650, "link": "https://stackoverflow.com/questions/34322650/iterating-over-a-boost-multi-index", "title": "Iterating over a boost multi_index", "body": "<p>SO.  I am working with an igraph object and I want to iterate over vertices in a particular order.  The order is determined by a vertex attribute called \"value\" and I'd like to operate highest-to-lowest. igraph can provide all of the values as an igraph_vector_t in vertex id order.  If vertex 17 has the highest value, I want to operate on it first.</p>\n\n<p>After searching SO, I starting looking into the C++ <a href=\"http://www.boost.org/doc/libs/master/libs/multi_index/doc/tutorial/index.html\" rel=\"nofollow\">boost multi_index</a>.  Here is a supporting struct:</p>\n\n<pre><code>struct indexed_vertex {\n    igraph_integer_t vid;\n    igraph_real_t value;\n    indexed_vertex(igraph_integer_t vid, igraph_real_t value):vid(vid),value(value){}\n\n    bool operator&lt;(const indexed_vertex &amp;vertex) const {\n        return value&lt;vertex.value;\n    }\n};\n</code></pre>\n\n<p>I created the following index object:</p>\n\n<pre><code>typedef boost::multi_index::multi_index_container&lt;\n        indexed_vertex,\n        boost::multi_index::indexed_by&lt;\n                boost::multi_index::hashed_unique&lt;\n                    boost::multi_index::member&lt;indexed_vertex, igraph_integer_t, &amp;indexed_vertex::vid&gt;\n                &gt;,\n                boost::multi_index::ordered_non_unique&lt;\n                        boost::multi_index::member&lt;indexed_vertex, igraph_real_t, &amp;indexed_vertex::value&gt;\n                &gt;\n        &gt;\n&gt; indexed_vertex_set;\n</code></pre>\n\n<p>My next trick is to visit the vertices in descending order. I've attempted this (from the <a href=\"http://www.boost.org/doc/libs/master/libs/multi_index/doc/tutorial/basics.html\" rel=\"nofollow\">docs</a>)but fail almost instantly (hey! fail fast, right?)</p>\n\n<pre><code>indexed_vertex_set ivs;\nindexed_vertex_set::nth_index&lt;1&gt;::type::iterator it = ivs.get&lt;1&gt;();\n</code></pre>\n\n<p>with the error</p>\n\n<pre><code> error: no viable conversion from 'typename nth_index&lt;1&gt;::type' (aka 'boost::multi_index::detail::ordered_index&lt;boost::multi_index::member&lt;indexed_vertex, double, &amp;indexed_vertex::value&gt;, std::__1::less&lt;double&gt;, boost::multi_index::detail::nth_layer&lt;2, indexed_vertex, boost::multi_index::indexed_by&lt;boost::multi_index::hashed_unique&lt;boost::multi_index::member&lt;indexed_vertex, int, &amp;indexed_vertex::vid&gt;, mpl_::na, mpl_::na, mpl_::na&gt;, boost::multi_index::ordered_non_unique&lt;boost::multi_index::member&lt;indexed_vertex, double, &amp;indexed_vertex::value&gt;, mpl_::na, mpl_::na&gt;, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na, mpl_::na&gt;, std::__1::allocator&lt;indexed_vertex&gt; &gt;, boost::mpl::vector0&lt;mpl_::na&gt;, boost::multi_index::detail::ordered_non_unique_tag, boost::multi_index::detail::null_augment_policy&gt;') to 'indexed_vertex_set::nth_index&lt;1&gt;::type::iterator' (aka 'bidir_node_iterator&lt;node_type&gt;')\n    indexed_vertex_set::nth_index&lt;1&gt;::type::iterator it = ivs.get&lt;1&gt;();\n</code></pre>\n\n<p>I've tried a few other variants, but keep getting back to this error.  I'd appreciate suggestions.  I haven't used the multi_index before, so I'm expecting I am fundamentally misunderstanding the scope.</p>\n\n<p><strong>BONUS QUESTION</strong></p>\n\n<p>Since it's the holidays, I'll point out my next task will be to do something like</p>\n\n<pre><code>for (vertex in iterator) {\n   get-vertex-id();\n   get-vertex-value();\n   look-up-vertex-and-modify();\n}\n</code></pre>\n\n<p>So if you're feeling generous, I'd appreciate guidance there as well.</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1450301686, "post_id": 34322470, "comment_id": 56386789, "body": "Please post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so that we can try your code ourselves. On the other note, did you try using debugger?"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 2, "creation_date": 1450301688, "post_id": 34322470, "comment_id": 56386791, "body": "You should run this through a debugger so you can see what is happening or just print out your variable values when <code>i</code> exceeds the limit."}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450302486, "post_id": 34322470, "comment_id": 56387202, "body": "put this as the first part of your if tree not the last part.  if (i == graph.size() - 1) { y1 = 1; y2 = 1; }   by the time you execute it as an &quot;else if&quot; clause you have already potentially already accessed the graph[i] in the first or second if clause.   Or add it to the end of the while loop right after then i++."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "edited": false, "score": 0, "creation_date": 1450302548, "post_id": 34322470, "comment_id": 56387240, "body": "@JonathanPotter It uses that because the <code>j</code> int is <code>i +1</code>"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1450302550, "post_id": 34322470, "comment_id": 56387242, "body": "Or change your loop to <code>while (i &lt; graph.size() &amp;&amp; (y1 == 0 || y2 == 0))</code>."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1450302708, "post_id": 34322470, "comment_id": 56387320, "body": "@JonathanPotter Thanks! I am afraid that still throws the error though."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1450302813, "post_id": 34322470, "comment_id": 56387375, "body": "@AnonMail I am not very familiar with the VS2015 debugger, but usually the Autos window shows the value of all relevant variables when the code stopped, but it isn&#39;t showing anything? Is there a way I can integrate this into the unit test?"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1450303582, "post_id": 34322470, "comment_id": 56387734, "body": "@AlgirdasPreid\u017eius I have tried debugger, see my comment to Anon Mail"}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450303726, "post_id": 34322470, "comment_id": 56387788, "body": "what line is 1240 inside the average gradient function?"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450303842, "post_id": 34322470, "comment_id": 56387849, "body": "@dboals not sure, that whole file is only 198 lines long ... ?"}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450303943, "post_id": 34322470, "comment_id": 56387903, "body": "is line 74 within average gradient function?"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450304015, "post_id": 34322470, "comment_id": 56387944, "body": "@dboals line 1240 links to a line in vector standard header: return (*(this-&gt;_Myfirst() + _Pos));"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450304075, "post_id": 34322470, "comment_id": 56387981, "body": "@dboals Yes, line 74 is line 5 as I have written it in the question - the result if the first if is true"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450304301, "post_id": 34322470, "comment_id": 56388102, "body": "@dboals if I change the last <code>graph[i][3]</code> to <code>graph[i][2]</code>then I don&#39;t get the error thrown. Obviously, I get the test failed as it isn&#39;t the value I want to reference. But given the way graph is constructed, why would [3] be out of bounds?"}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450304769, "post_id": 34322470, "comment_id": 56388357, "body": "Based on how you populated it, I don&#39;t see why that should make a difference."}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450305290, "post_id": 34322470, "comment_id": 56388613, "body": "The only thing I can see is the possibility that graph.size() is Zero and the bounds checking is off when this is the case. I would output the size of graph so I could see what it was at the time of failure.  Currently you don&#39;t have any protection if the sizeof graph is Zero."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450343288, "post_id": 34322470, "comment_id": 56402500, "body": "@dboals You are right! Can&#39;t see why that would be?? I have added some info to the question"}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1450343490, "post_id": 34322470, "comment_id": 56402654, "body": "@AlgirdasPreid\u017eius Sorry, I have added the unit tests so you should now be able to replicate the problem."}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450369064, "post_id": 34322470, "comment_id": 56419978, "body": "You never call draw graph in the second test which is what populates the graph global.  I don&#39;t know much about the test bed you are using, but it may be that those are independent runs and the globals may not persist between runs.  I think you need to call draw graph in your second test."}, {"owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "reply_to_user": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450371675, "post_id": 34322470, "comment_id": 56421817, "body": "@dboals This is something I wasn&#39;t sure about, but I tested it with the history vector and it seemed to persist between tests? Is there anywhere I can confirm what should happen in this situation?"}, {"owner": {"reputation": 580, "user_id": 3299338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d159b0a46aca535294a5112a0ca933?s=128&d=identicon&r=PG&f=1", "display_name": "dboals", "link": "https://stackoverflow.com/users/3299338/dboals"}, "edited": false, "score": 0, "creation_date": 1450372157, "post_id": 34322470, "comment_id": 56422118, "body": "I am not familiar with the Visual Studio testbed, so I can&#39;t help there, but my guess is that each test is an independent test.  If a test can be run independent of the others I would bet money they are each independent runs with the global variables reset between runs."}], "owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450343456, "creation_date": 1450301370, "last_edit_date": 1450343456, "question_id": 34322470, "link": "https://stackoverflow.com/questions/34322470/out-of-range-c-error-unit-testing-vector-routine", "title": "out of range C++ error unit testing vector routine", "body": "<p>I am unit testing this C++ routine, using Visual Studio C++ test framework. Given how the vector <code>graph</code> is populated (shown below), it should have 14 rows ( this is verified in another unit test ) and 4 columns. So how is it going beyond its bounds? My code shouldn't produce any values of x1 or x2 which don't meet one of the inequalities, but just incase I added an <code>else if (i == graph.size() - 1) { y1 = 1; y2 = 1; }</code>clause, to break the <code>while</code> loop conditions, but the error is still thrown. What have I done wrong?</p>\n\n<pre><code>float averageGradient(int x1, int x2) {\n    int i = 0, y1 = 0, y2 = 0;\n    while (y1 == 0 || y2 == 0) {                           //if both y values haven't been solved then keep trying\n        if (x1 &gt;= graph[i][0] &amp;&amp; x1 &lt; graph[i][1]) {       // if x1 lies in the first straight line segment\n            y1 = (graph[i][2] * x1) + graph[i][3];         // then calculate it's y value (y1)\n        }\n        else if (x2 &gt;= graph[i][0] &amp;&amp; x2 &lt; graph[i][1]) {  //try the same thing for x2\n            y2 = (graph[i][2] * x2) + graph[i][3];         //calculate its y value (y2)\n        }\n        else { i++; }                                      //otherwise incriment i to check the next straight line segment\n    }\n    float m = (y2 - y1) / (x2 - x1);\n    return m;\n};\n</code></pre>\n\n<blockquote>\n  <p>Result StackTrace: \n  at std::vector >,std::allocator > > >::operator in c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\vector:line 1240\n      at averageGradient() in c:\\users\\documents\\history testing\\history testing 2\\historytesting.h:line 74\n      at UnitTest1::MyTests::Average_Gradient() in c:\\users\\documents\\history testing\\unittest1\\unittest1.cpp:line 42\n  Result Message: Invalid parameter detected in function std::vector >,class std::allocator > > >::operator [], c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\vector line 1233. Expression: \"out of range\"</p>\n</blockquote>\n\n<p>the vector graph is populated like this:</p>\n\n<pre><code>vector&lt; vector&lt;float&gt; &gt; history;\nvector&lt;float&gt; values;\nvector&lt; vector&lt;float&gt; &gt; graph;\n\nvoid drawGraph() {\n    float m, c, j, x1, x2;\n    graph.clear();\n    int i = 0;\n    while (i &lt; history.size() - 1) {\n        j = i + 1;\n        x1 = history[i][0];\n        x2 = history[j][0];\n        m = history[j][3] / history[j][2];\n        c = history[i][1] - m*x2;\n        i++;\n        values.push_back(x1);\n        values.push_back(x2);\n        values.push_back(m);\n        values.push_back(c);\n        graph.push_back(values);\n        values.clear();\n    }\n};\n</code></pre>\n\n<h1>Unit Tests:</h1>\n\n<pre><code>TEST_METHOD(Graph_Equations_Correct) {\n    int i = 1;\n    int j = 2;\n    drawGraph();\n    while (i &lt; 14) {\n        Assert::AreEqual(graph.at(i)[2], history.at(j)[4]);\n        Assert::IsNotNull(&amp;graph.at(i)[3]);\n        i++; j++;\n    }\n    Assert::AreEqual(history.size()-1, graph.size());\n}\n\nTEST_METHOD(Average_Gradient) {\n    int x1 = 683675;\n    int x2 = x1 + 86400;\n    int size = graph.size();\n    float gradient = averageGradient(x1, x2);\n    Assert::AreEqual(0, size);\n    float answer = 0.0000895684639;\n    //Assert::AreEqual(answer, gradient);\n}\n</code></pre>\n\n<p>Both of these tests pass, but the first one shows that graph is populated with size 14, why for the second test does it now equal 0?</p>\n"}, {"tags": ["c++", "templates", "c++11", "monads"], "comments": [{"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 1, "creation_date": 1450302104, "post_id": 34322456, "comment_id": 56387004, "body": "<code>boost::optional</code> is the usual c++ Maybe monad implementation. Here&#39;s an article on how it is implemented: <a href=\"http://efesx.com/2009/12/04/boost-optional-and-its-internals/\" rel=\"nofollow noreferrer\">efesx.com/2009/12/04/boost-optional-and-its-internals</a>"}, {"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "reply_to_user": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 0, "creation_date": 1450302559, "post_id": 34322456, "comment_id": 56387246, "body": "@lisyarus Interesting read, but apparently <code>boost::optional</code> solves the problem of the overhead of <i>constructing</i> the <code>T</code>-typed data member. It doesn&#39;t remove the need for <code>sizeof(T)</code> bytes (and some more) being occupied by <code>optional&lt;T&gt;</code> instances even when they contain nothing. Shall I conclude, since even boost doesn&#39;t save the memory, that ot&#39;s impossible?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1450302563, "post_id": 34322456, "comment_id": 56387251, "body": "How do you pass and return instances of this monad?  prvalues aren&#39;t polymorphic.  Pass-by-reference works ok for input parameters, but not for return values, out parameters, or in/out parameters."}, {"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450302707, "post_id": 34322456, "comment_id": 56387318, "body": "@BenVoigt As much as I hate to say it, I&#39;m merely a beginner at C++, and at the moment prvalues still lie far ahead in my journey of enlightenment. It just looks to me like my coliru example code works, and so do the <code>Just&lt;T&gt;</code> and <code>Nothing&lt;T&gt;</code> factory functions, so I really don&#39;t know how to answer you here."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1450302777, "post_id": 34322456, "comment_id": 56387357, "body": "@jrsala: Sure, but your example code doesn&#39;t have derived classes.  When you start using derived classes, your return values will face the <i>slicing</i> problem.  Factory functions returning by pointer (or reference) to base class always have to use dynamic allocation, because the required size isn&#39;t known a-priori, so the caller can&#39;t reserve a buffer for the return value to be left in."}, {"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 1, "creation_date": 1450302820, "post_id": 34322456, "comment_id": 56387380, "body": "@jrsala I think there is no alternative. Either you know the size beforehead (and live with <code>sizeof(T)</code> overhead), or you fallback to dynamic allocation. The latter can be done in various ways: you can make Maybe&lt;T&gt; polymorphic, or you can allocate the <code>T</code> itself."}, {"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450302882, "post_id": 34322456, "comment_id": 56387413, "body": "@BenVoigt I hadn&#39;t even thought about that. I guess I should give up trying, then. I suppose the <code>boost::optional</code> optimization is the best one can hope for. If you want to make this an answer, I&#39;ll accept it."}, {"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "reply_to_user": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 0, "creation_date": 1450302947, "post_id": 34322456, "comment_id": 56387441, "body": "@lisyarus OK, point taken. Thanks! Whoever makes an answer first gets dem juicy rep points"}, {"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 2, "creation_date": 1450302958, "post_id": 34322456, "comment_id": 56387451, "body": "By the way, there is a pitfall in doing <code>decltype(f(T{}))</code> - the type <code>T</code> can lack the default constructor. The correct way is to do <code>decltype(f(std::declval&lt;T&gt;()))</code>."}, {"owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450303030, "post_id": 34322456, "comment_id": 56387481, "body": "@BenVoigt Well, thank you! By the way, very nice hat :)"}, {"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "reply_to_user": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "edited": false, "score": 0, "creation_date": 1450303149, "post_id": 34322456, "comment_id": 56387530, "body": "@lisyarus Thanks! One more arcane incantation to add to my notebook"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1450303425, "post_id": 34322456, "comment_id": 56387668, "body": "tl;dr all values of type <code>Maybe&lt;T&gt;</code> are of size <code>sizeof(Maybe&lt;T&gt;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "edited": false, "score": 0, "creation_date": 1450304043, "post_id": 34323047, "comment_id": 56387956, "body": "I think when you wrote <code>std::decltype&lt;T&gt;()</code> you meant <code>std::declval&lt;T&gt;()</code>? And thanks for the help!"}], "tags": [], "owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "is_accepted": true, "score": 2, "last_activity_date": 1450337412, "last_edit_date": 1450337412, "creation_date": 1450303745, "answer_id": 34323047, "question_id": 34322456, "link": "https://stackoverflow.com/questions/34322456/maybe-monad-how-to-avoid-storing-t-typed-value-in-maybet-instance/34323047#34323047", "title": "Maybe monad: how to avoid storing T-typed value in Maybe&lt;T&gt; instance?", "body": "<p>In C++, the compiler needs to know the size of an object it is working with, and objects of equal types have equal sizes. When this happens to be a problem, pointers and polymorphism come.</p>\n\n<p>This means that in your case either you know the size beforehead (and live with <code>sizeof(T)</code> overhead), or you fallback to dynamic allocation. The latter can be done in various ways: you can make <code>Maybe&lt;T&gt;</code> polymorphic, or you can allocate the <code>T</code> itself.</p>\n\n<p>I cannot ignore some problems with your code; both are related to one irritating fact: the type <code>T</code> can lack a default constructor. You can ignore this, or you have to make some fixes.</p>\n\n<p>Firstly, you cannot do <code>decltype(f(T{}))</code>, even if <code>T{}</code> is only for type inference and the constructor in fact is not called. There is a standard way to do exactly this: <code>std::declval&lt;T&gt;()</code> returns an object of type <code>T</code> (and, in fact, is not implemented at all, only declared; this is enough for type inference). So, you should do <code>decltype(f(std::declval&lt;T&gt;()))</code>.</p>\n\n<p>Secondly, you cannot simply declare <code>T _value</code>, since you have no constructor to call when constructing a <code>Nothing&lt;T&gt;</code>. This can simply be solved by dynamic allocation, but there is another way (used in <code>boost::optional</code>): store an array of <code>char</code> of size <code>sizeof(T)</code>, leave it uninitialized, and use <em>placement new</em> when actually creating an object of type <code>T</code>. This approach is described <a href=\"http://efesx.com/2009/12/04/boost-optional-and-its-internals/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Finally, answering your last question: no, there is no simpler way to do this:</p>\n\n<pre><code>typedef typename decltype(f(T{}))::value_type R;\n</code></pre>\n\n<p>which, according to my previous words, should look like</p>\n\n<pre><code>typedef typename decltype(f(std::declval&lt;T&gt;()))::value_type R;\n</code></pre>\n"}], "owner": {"reputation": 1799, "user_id": 2403587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686560d9625b18598b8abc29806257da?s=128&d=identicon&r=PG", "display_name": "jrsala", "link": "https://stackoverflow.com/users/2403587/jrsala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 34323047, "answer_count": 1, "score": 1, "last_activity_date": 1450337412, "creation_date": 1450301311, "question_id": 34322456, "link": "https://stackoverflow.com/questions/34322456/maybe-monad-how-to-avoid-storing-t-typed-value-in-maybet-instance", "title": "Maybe monad: how to avoid storing T-typed value in Maybe&lt;T&gt; instance?", "body": "<p>In the following coliru you will find my implementation of the \"Maybe\" monad.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/82978c254410ba6e\" rel=\"nofollow\">http://coliru.stacked-crooked.com/a/82978c254410ba6e</a></p>\n\n<p>The problem that I have with it is that \"Nothing\" values carry with them an unnecessary <code>T</code>-typed data member just like \"Just\" values which do need it.</p>\n\n<p>Is it possible to implement <code>Maybe&lt;T&gt;</code> without \"Nothing\" values being as big as \"Just\" values, <em>and without resorting to dynamic allocation</em> of the <code>T</code>-typed values?</p>\n\n<p>I have tried defining <code>Just&lt;T&gt;</code> and <code>Nothing&lt;T&gt;</code> as derived classes of <code>Maybe&lt;T&gt;</code> with <code>Just&lt;T&gt;</code> being the only class having a <code>T</code>-typed data member. The problem with this is that then <code>Monad&lt;T&gt;::bind</code> is better implemented as a virtual member function, or at least that's what feels most natural to me, and it can't be because it's also a function template.</p>\n\n<p>As an aside, I'd like to know if there's a simpler syntax than</p>\n\n<pre><code>template &lt;typename Fun&gt;\nauto bind(Fun&amp;&amp; f) -&gt; decltype(f(T{})) {\n    typedef typename decltype(f(T{}))::value_type R;\n    /*\n     * blabla\n     */\n}\n</code></pre>\n\n<p>to achieve the same effect and get a hold of <code>R</code>.</p>\n"}, {"tags": ["c++", "cad", "file-read"], "comments": [{"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 2, "creation_date": 1450300943, "post_id": 34322299, "comment_id": 56386417, "body": "Any reason this needs to be implemented in C++? IMO Python would be 10x easier to work with for this job."}, {"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1450300994, "post_id": 34322299, "comment_id": 56386447, "body": "Also, do the CAD files have plain text embedded inside of them, or is the text encoded?"}, {"owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "reply_to_user": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1450300998, "post_id": 34322299, "comment_id": 56386450, "body": "Not really, I&#39;m just more familiar with C++."}, {"owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "reply_to_user": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1450301042, "post_id": 34322299, "comment_id": 56386474, "body": "I&#39;m not entirely too sure on that. I don&#39;t have a program to open a sample file I downloaded."}, {"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1450301122, "post_id": 34322299, "comment_id": 56386512, "body": "Just force it open with any text editor (like Sublime) and take a look (i.e. <code>Open With...</code>)."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1450301241, "post_id": 34322299, "comment_id": 56386563, "body": "If it&#39;s plain text (and it probably is), just open as binary and search for &quot;text&quot;.  If he wants to find find particular strings, see grep.  If he wants to find all the text in general, see &quot;strings&quot;.  (The only encoding it might use, is to store the text as UTF-16)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1450301266, "post_id": 34322299, "comment_id": 56386574, "body": "Possible, but you should do some reading on the file formats first so you know what to look for and how to interpret it. Otherwise you might find yourself looking past the strings in the file without realizing it."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1450301279, "post_id": 34322299, "comment_id": 56386581, "body": "Purports to be the dwg specification:  <a href=\"https://www.opendesign.com/files/guestdownloads/OpenDesign_Specification_for_.dwg_files.pdf\" rel=\"nofollow noreferrer\">opendesign.com/files/guestdownloads/&hellip;</a>"}, {"owner": {"reputation": 42694, "user_id": 1175077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AWgLI.jpg?s=128&g=1", "display_name": "jpw", "link": "https://stackoverflow.com/users/1175077/jpw"}, "edited": false, "score": 3, "creation_date": 1450301351, "post_id": 34322299, "comment_id": 56386615, "body": "Autodesk has a c++ toolkit for working with dwf files: <a href=\"http://usa.autodesk.com/adsk/servlet/index?id=823771&amp;siteID=123112\" rel=\"nofollow noreferrer\">usa.autodesk.com/adsk/servlet/index?id=823771&amp;siteID=123112</a> are you sure the other file type is .dmg and not .<a href=\"https://en.wikipedia.org/wiki/.dwg\" rel=\"nofollow noreferrer\">dwg</a> which would make more sense as the former is a disk image format used by Apple and the latter is a format used in CAD software."}, {"owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "reply_to_user": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1450301543, "post_id": 34322299, "comment_id": 56386711, "body": "@RPGillespie It seems to be encoded. I opened it with Notepad++ and it&#39;s just a bunch of symbols."}, {"owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "reply_to_user": {"reputation": 42694, "user_id": 1175077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AWgLI.jpg?s=128&g=1", "display_name": "jpw", "link": "https://stackoverflow.com/users/1175077/jpw"}, "edited": false, "score": 0, "creation_date": 1450301675, "post_id": 34322299, "comment_id": 56386781, "body": "@jpw Your correct, it is dwg; not dmg. There was a miss-spell communication error lol"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1450301734, "post_id": 34322299, "comment_id": 56386818, "body": "Good thing it isn&#39;t dmg. The dmg from one nat-20 could ruin your whole day."}], "answers": [{"comments": [{"owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "edited": false, "score": 1, "creation_date": 1450306125, "post_id": 34322536, "comment_id": 56389020, "body": "What language is this?"}, {"owner": {"reputation": 5517, "user_id": 1227469, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d8fc267b1c19301d8baf672ebf9eb7b?s=128&d=identicon&r=PG", "display_name": "JBentley", "link": "https://stackoverflow.com/users/1227469/jbentley"}, "edited": false, "score": 0, "creation_date": 1450306300, "post_id": 34322536, "comment_id": 56389092, "body": "How is this related to the question? The OP wants to write a function in C++ that will locate a file and then parse it&#39;s contents based on a CAD format."}, {"owner": {"reputation": 6511, "user_id": 99089, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ge49Z.jpg?s=128&g=1", "display_name": "Paul J. Lucas", "link": "https://stackoverflow.com/users/99089/paul-j-lucas"}, "edited": false, "score": 0, "creation_date": 1450307782, "post_id": 34322536, "comment_id": 56389711, "body": "It&#39;s pretty much any shell. I&#39;m pointing out that, unless the problem <i>absolutely</i> has to be written in C++, it&#39;s a <i>lot</i> simpler in shell."}], "tags": [], "owner": {"reputation": 6511, "user_id": 99089, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ge49Z.jpg?s=128&g=1", "display_name": "Paul J. Lucas", "link": "https://stackoverflow.com/users/99089/paul-j-lucas"}, "is_accepted": false, "score": 2, "last_activity_date": 1450301636, "creation_date": 1450301636, "answer_id": 34322536, "question_id": 34322299, "link": "https://stackoverflow.com/questions/34322299/read-from-non-text-files-in-c/34322536#34322536", "title": "Read from non-text files in C++?", "body": "<pre><code>$ strings myfile.dwf | grep search_for_me\n</code></pre>\n"}], "owner": {"reputation": 2194, "user_id": 2052072, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/94d519597b6118ff1866d5dce2071609?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/2052072/vince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450301636, "creation_date": 1450300784, "question_id": 34322299, "link": "https://stackoverflow.com/questions/34322299/read-from-non-text-files-in-c", "title": "Read from non-text files in C++?", "body": "<p>My friend gave me a project that requires reading from a non-text file in C++. I'm creating a search and find feature where it looks through the filename of each document for that search, but yet also searches each individual file and will return any results given. To be more specific; the file types I'll be using to test it out are .dmg and .dwf. (They are both CAD files) He wants to be able to search through the text of each drawing. Is this at all possible? All I could find on google was reading from text files and binary files.</p>\n"}, {"tags": ["c#", "c++", "dll", "struct"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 2, "creation_date": 1450300661, "post_id": 34322242, "comment_id": 56386270, "body": "Is <code>int</code> 16 bits in C++ (on your platform)? Is <code>long</code> 32 bits? You might want to use <code>uint16_t</code> and <code>uint32_t</code> just to make sure the sizes match the C#."}, {"owner": {"reputation": 2129, "user_id": 5208889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/45b68fcd5396fff95dc0c02e37efb276?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/5208889/ozgur"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1450301468, "post_id": 34322242, "comment_id": 56386676, "body": "@immibis people never learn to use those typedefs. And they ask why they exists. Your comment should be the answer."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301379, "post_id": 34322288, "comment_id": 56386635, "body": "Hallo. I copied the code, so there are no misstakes. I also made a table to compare the size:"}, {"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301439, "post_id": 34322288, "comment_id": 56386662, "body": "In C#: sizeof(TPoint) = 24; sizeof(TFace**) = 8; sizeof(TNode**) = 8; sizeof(double) = 8; sizeof(UInt16) = 2; sizeof(UInt32) = 4; sizeof(TFamily*) = 8"}, {"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301492, "post_id": 34322288, "comment_id": 56386686, "body": "As far as i know, unsigned int == UInt16 and unsigned long == UInt32 - at my plattform Windows7/64 Bit"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4180612"}, "edited": false, "score": 1, "creation_date": 1450301527, "post_id": 34322288, "comment_id": 56386702, "body": "Nope, both <code>int</code> and <code>long</code> are 32-bit."}, {"owner": {"reputation": 2129, "user_id": 5208889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/45b68fcd5396fff95dc0c02e37efb276?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/5208889/ozgur"}, "reply_to_user": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301684, "post_id": 34322288, "comment_id": 56386787, "body": "@CJens Use typedefs such as uint32_t. An advice. It will automatically determine the size of the type for underlying system."}, {"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301883, "post_id": 34322288, "comment_id": 56386892, "body": "But, commenting only nNode and ppNode, its running. There are still UInt16 and UInt32 variables contained."}, {"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450301900, "post_id": 34322288, "comment_id": 56386901, "body": "And the size of the struct is the same in C++ and C#"}], "tags": [], "owner": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "is_accepted": false, "score": 3, "last_activity_date": 1450300747, "creation_date": 1450300747, "answer_id": 34322288, "question_id": 34322242, "link": "https://stackoverflow.com/questions/34322242/structures-system-runtime-interoptservice-c-vs-c/34322288#34322288", "title": "Structures - System.Runtime.Interoptservice C++ vs. C#", "body": "<p>You have <code>unsigned int</code> in C++, but <code>UInt16</code> in C#. You probably meant to use <code>UInt32</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450302435, "post_id": 34322592, "comment_id": 56387180, "body": "I&#39;ll try thank you. But how could it function with only one UInt16 and UInt32 variable and why is the size of the whole struct the same?"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "edited": false, "score": 0, "creation_date": 1450303729, "post_id": 34322592, "comment_id": 56387789, "body": "@CJens At a guess, C# adds 16 bits of padding between <code>nFace</code> and <code>Index</code>, which happen to line up with the second half of <code>nFace</code> in C++."}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": false, "score": 0, "last_activity_date": 1450301909, "creation_date": 1450301909, "answer_id": 34322592, "question_id": 34322242, "link": "https://stackoverflow.com/questions/34322242/structures-system-runtime-interoptservice-c-vs-c/34322592#34322592", "title": "Structures - System.Runtime.Interoptservice C++ vs. C#", "body": "<p>In C++, <code>nFace</code> and <code>nNode</code> are <code>unsigned int</code>s (which, on Windows, are 32 bits long). In C#, they're <code>UInt16</code>s. These do not match!</p>\n\n<p>You should use <code>uint16_t</code> in your C++ code (and <code>uint32_t</code> for the 32-bit ones) to make sure the types match.</p>\n\n<p>It's bad practice to rely on <code>int</code> or <code>long</code> being 32 bits, since it will come back to bite you if you ever want to port your program to a platform where they aren't - e.g. <code>long</code> is 64 bits on 64-bit Linux.</p>\n"}], "owner": {"reputation": 39, "user_id": 5583321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3deb583026ecd952b0ab91932f42c45?s=128&d=identicon&r=PG&f=1", "display_name": "CJens", "link": "https://stackoverflow.com/users/5583321/cjens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1450303690, "creation_date": 1450300613, "last_edit_date": 1450303690, "question_id": 34322242, "link": "https://stackoverflow.com/questions/34322242/structures-system-runtime-interoptservice-c-vs-c", "title": "Structures - System.Runtime.Interoptservice C++ vs. C#", "body": "<p>I got a struct in C++ and want to use this in C#. Since months, this is functioning perfectly. Now, I changed the structs a little bit, and nothing is functioning any more:</p>\n\n<p>Attached the struct defined in C++:</p>\n\n<pre><code>typedef struct TCell{\n    struct TPoint P;\n    struct TFace** ppFace;\n    struct TNode** ppNode;\n\n   double Volume;\n   unsigned int nFace;\n   unsigned int nNode;\n   unsigned long Index;\n   unsigned long Index2;\n\n   struct TFamily* pFamily;\n}TCell;\n</code></pre>\n\n<p>Attached the struct in C#:</p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential)]\npublic struct TCell\n{\n    public TPoint P;\n    public TFace** ppFace;\n    public TNode** ppNode;\n\n    public double Volume;\n    public UInt16 nFace;\n    public UInt16 nNode;\n    public UInt32 Index;\n    public UInt32 Index2;\n\n    public TFamily* pFamily;\n}\n</code></pre>\n\n<p>Commenting the variables <code>nNode</code> and <code>ppNode</code>, everything is functioning great. Uncommenting this variables, C# is showing the value of <code>Index</code> when asking for <code>nNode</code>.</p>\n\n<p>In C++ the output is correct.</p>\n\n<p>I'm using Visual Studio Express 2015.</p>\n\n<p><code>sizeof(TCell)</code> returns <code>72</code> in both C# and C++</p>\n\n<p>Any ideas?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["c++", "math", "openframeworks"], "answers": [{"tags": [], "owner": {"reputation": 2819, "user_id": 373402, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e250052f5aa77970426e68b7e21bf7eb?s=128&d=identicon&r=PG", "display_name": "Clay", "link": "https://stackoverflow.com/users/373402/clay"}, "is_accepted": true, "score": 0, "last_activity_date": 1450363653, "last_edit_date": 1450363653, "creation_date": 1450362957, "answer_id": 34337149, "question_id": 34322109, "link": "https://stackoverflow.com/questions/34322109/how-do-i-calculate-angles-to-create-vector-offsets-to-define-parallel-paths/34337149#34337149", "title": "How do I calculate angles to create vector offsets to define parallel paths?", "body": "<p>I ended up handling this with several conditional statements, though I feel there's probably a better way to handle it with trig. Here's the amended <code>TestLine.cpp</code> file.</p>\n\n<p><strong>TestLine.cpp</strong></p>\n\n<pre><code>#include \"TestLine.h\"\n\nTestLine::TestLine(float _x, float _y, int _sec_wide, int _sec_tall){\n    x_coord = _x;\n    y_coord = _y;\n\n    int w = ofGetWindowWidth();\n    int h = ofGetWindowHeight();\n\n    float allowed_w = (float)w / _sec_wide;\n    float allowed_h = (float)h / _sec_tall;\n\n    x_min = x_coord * allowed_w;\n    x_max = x_min   + allowed_w;\n\n    y_min = y_coord * allowed_h;\n    y_max = y_min   + allowed_h;\n}\n\nvoid TestLine::calculateParallelPoints(){\n    for (int i = 0; i &lt; points.size(); i++) {\n        if (i == 0) {\n            ofVec2f v2 = points[i];\n            ofVec2f v1 = points[i+1];\n\n            float angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n            angles.push_back(angle);\n\n            cout &lt;&lt; endl;\n            cout &lt;&lt; \"Start: \" &lt;&lt; angle &lt;&lt; endl;\n        }\n\n        if (i &gt; 0 &amp;&amp; i &lt; points.size() - 1) {\n            ofVec2f v1 = points[i];\n            ofVec2f v2 = points[i-1];\n\n            float back_angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n\n            v2 = points[i];\n            v1 = points[i+1];\n\n            float front_angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n            float final_angle = (back_angle + front_angle) / 2; // back_angle + front_angle\n\n\n            float prev_x = points[i-1].x;\n            float prev_y = points[i-1].y;\n            float this_x = points[i].x;\n            float this_y = points[i].y;\n            float next_x = points[i+1].x;\n            float next_y = points[i+1].y;\n\n            // Here is the addition that addressed the problem.\n            if ((prev_x &gt; this_x &amp;&amp; prev_y &lt;= this_y &amp;&amp; next_x &lt; this_x &amp;&amp; next_y &lt; this_y) ||\n                (prev_x &gt; this_x &amp;&amp; prev_y &gt; this_y &amp;&amp; next_x &lt; this_x &amp;&amp; next_y &gt;= this_y)) {\n                final_angle += 180;\n            }\n\n            cout &lt;&lt; \"BACK ANGLE: \" &lt;&lt; back_angle &lt;&lt; \", FRONT ANGLE: \" &lt;&lt; front_angle &lt;&lt; \", FINAL ANGLE: \" &lt;&lt; final_angle &lt;&lt; endl;\n\n            angles.push_back(final_angle);\n\n        }\n\n        if (i == points.size() - 1) {\n            ofVec2f v1 = points[i];\n            ofVec2f v2 = points[i-1];\n\n            float angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n            angles.push_back(angle);\n\n            cout &lt;&lt; \"End: \" &lt;&lt; angle &lt;&lt; endl &lt;&lt; endl;\n        }\n\n        line.addVertex(points[i]);\n    }\n\n\n    // Now using the points and the angles to calculate the forward and reverse points\n    for (int i = 0; i &lt; points.size(); i++) {\n        float forward_angle = angles[i] + 90;\n        float reverse_angle = angles[i] - 90;\n        // cout &lt;&lt; forward_angle &lt;&lt; \", \" &lt;&lt; reverse_angle &lt;&lt; endl;\n\n        float forward_x = points[i].x + cos(ofDegToRad(forward_angle)) * 8;\n        float forward_y = points[i].y + sin(ofDegToRad(forward_angle)) * 8;\n\n        forward_points.push_back(ofPoint(forward_x, forward_y));\n\n        float reverse_x = points[i].x + cos(ofDegToRad(reverse_angle)) * 8;\n        float reverse_y = points[i].y + sin(ofDegToRad(reverse_angle)) * 8;\n\n        reverse_points.push_back(ofPoint(reverse_x, reverse_y));\n\n    }\n}\n\nvoid TestLine::processRawPoints(){\n    for (int i = 0; i &lt; raw_points.size(); i++) {\n        float newx = ofMap(raw_points[i].x, 0, 1, x_min, x_max);\n        float newy = ofMap(raw_points[i].y, 0, 1, y_min, y_max);\n        points.push_back(ofPoint(newx,newy));\n    }\n}\n\nvoid TestLine::displayTestLine(){\n\n    ofSetColor(128,128,128);\n    line.draw();\n\n    ofSetColor(255, 255, 255);\n    ofDrawCircle(points[0].x, points[0].y, 3);\n\n    ofSetColor(255, 0, 0);\n\n    for (int i = 0; i &lt; forward_points.size(); i++) {\n        ofDrawCircle(forward_points[i].x, forward_points[i].y, 2);\n    }\n\n    ofSetColor(0, 255, 0);\n\n    for (int i = 0; i &lt; reverse_points.size(); i++) {\n        ofDrawCircle(reverse_points[i].x, reverse_points[i].y, 2);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2819, "user_id": 373402, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e250052f5aa77970426e68b7e21bf7eb?s=128&d=identicon&r=PG", "display_name": "Clay", "link": "https://stackoverflow.com/users/373402/clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 34337149, "answer_count": 1, "score": 0, "last_activity_date": 1450363653, "creation_date": 1450300023, "question_id": 34322109, "link": "https://stackoverflow.com/questions/34322109/how-do-i-calculate-angles-to-create-vector-offsets-to-define-parallel-paths", "title": "How do I calculate angles to create vector offsets to define parallel paths?", "body": "<p>I have reference paths that are defined by a series of points. Given a starting point and additional points in a given direction, I need to effectively split the path created by the points into two distinct paths (directional) in a manner that allows me to draw and work with the two paths independently. The following screenshot shows 8 path examples. The \"starting point\" is the one with the white circle on it. If you orient yourself from the starting point towards the next point, then the path suggested by the red circles always should be to the \"right\" of the path defined by the given points. </p>\n\n<p>In the screen, paths 2, 3, 5, 6, and 7 are correct. In paths 1, 4, and 8, essentially when the path starts on the right and moves left, then the <em>position</em> of the parallel path points are correct, but they are swapped in some instance (green where red should be, etc). </p>\n\n<p><a href=\"https://i.stack.imgur.com/igjai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/igjai.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm somehow misusing <code>atan2()</code> (I think) to get the proper angle and or calculate the positions. For the first and last points, I'm calculating the angle to the adjacent point and the drawing the red and green path points at 90 degree offsets from that angle. For the points in the middle of the path, I'm looking at the angle to the previous point and the angle to the next point and placing the points in a manner that bisects the angles. </p>\n\n<p>How do I properly calculate these angles to get the red and green parallel path points on the proper side of the reference line?</p>\n\n<p>The problem likely is in <code>TestLine::calculateParallelPoints()</code>.</p>\n\n<p>I used openFrameworks 0.90 for this. Here's the code:</p>\n\n<p><strong>ofApp.h</strong></p>\n\n<pre><code>#pragma once\n\n#include \"ofMain.h\"\n#include \"TestLine.h\"\n\nclass ofApp : public ofBaseApp{\n\n    public:\n        void setup();\n        void update();\n        void draw();\n\n    int sectors_wide;\n    int sectors_tall;\n\n    vector&lt;TestLine&gt; testLines;\n\n};\n</code></pre>\n\n<p><strong>ofApp.cpp</strong></p>\n\n<pre><code>#include \"ofApp.h\"\n\n//--------------------------------------------------------------\nvoid ofApp::setup(){\n\n    ofSetBackgroundColorHex(0x000000);\n\n    sectors_wide = 4;\n    sectors_tall = 2;\n\n    TestLine t1 = TestLine(0,0,sectors_wide,sectors_tall);\n    t1.raw_points.push_back(ofPoint(0.9,0.5));\n    t1.raw_points.push_back(ofPoint(0.8,0.6));\n    t1.raw_points.push_back(ofPoint(0.7,0.4));\n    t1.raw_points.push_back(ofPoint(0.6,0.6));\n    t1.raw_points.push_back(ofPoint(0.5,0.4));\n    t1.raw_points.push_back(ofPoint(0.4,0.4));\n    t1.raw_points.push_back(ofPoint(0.3,0.5));\n    testLines.push_back(t1);\n\n\n    TestLine t2 = TestLine(1,0,sectors_wide,sectors_tall);\n    t2.raw_points.push_back(ofPoint(0.3,0.5)); //\n    t2.raw_points.push_back(ofPoint(0.4,0.4));\n    t2.raw_points.push_back(ofPoint(0.5,0.4));\n    t2.raw_points.push_back(ofPoint(0.6,0.6));\n    t2.raw_points.push_back(ofPoint(0.7,0.4));\n    t2.raw_points.push_back(ofPoint(0.8,0.6));\n    t2.raw_points.push_back(ofPoint(0.9,0.5));\n    testLines.push_back(t2);\n\n    TestLine t3 = TestLine(2,0,sectors_wide,sectors_tall);\n    t3.raw_points.push_back(ofPoint(0.1,0.2));\n    t3.raw_points.push_back(ofPoint(0.7,0.4));\n    t3.raw_points.push_back(ofPoint(0.4,0.45));\n    t3.raw_points.push_back(ofPoint(0.6,0.5));\n    t3.raw_points.push_back(ofPoint(0.9,0.9));\n    testLines.push_back(t3);\n\n    TestLine t4 = TestLine(3,0,sectors_wide,sectors_tall);\n    t4.raw_points.push_back(ofPoint(0.5,0.5));\n    t4.raw_points.push_back(ofPoint(0.9,0.5));\n    t4.raw_points.push_back(ofPoint(0.5,0.1));\n    t4.raw_points.push_back(ofPoint(0.1,0.1));\n    t4.raw_points.push_back(ofPoint(0.1,0.8));\n    t4.raw_points.push_back(ofPoint(0.8,0.6));\n    testLines.push_back(t4);\n\n    TestLine t5 = TestLine(0,1,sectors_wide,sectors_tall);\n    t5.raw_points.push_back(ofPoint(0.4,0.4));\n    t5.raw_points.push_back(ofPoint(0.6,0.5));\n    t5.raw_points.push_back(ofPoint(0.8,0.4));\n    testLines.push_back(t5);\n\n    TestLine t6 = TestLine(1,1,sectors_wide,sectors_tall);\n    t6.raw_points.push_back(ofPoint(0.7,0.1));\n    t6.raw_points.push_back(ofPoint(0.2,0.3));\n    t6.raw_points.push_back(ofPoint(0.7,0.5));\n    testLines.push_back(t6);\n\n    TestLine t7 = TestLine(2,1,sectors_wide,sectors_tall);\n    t7.raw_points.push_back(ofPoint(0.2,0.1));\n    t7.raw_points.push_back(ofPoint(0.7,0.3));\n    t7.raw_points.push_back(ofPoint(0.2,0.5));\n    testLines.push_back(t7);\n\n    TestLine t8 = TestLine(3,1,sectors_wide,sectors_tall);\n\n    t8.raw_points.push_back(ofPoint(0.8,0.5));\n    t8.raw_points.push_back(ofPoint(0.6,0.4));\n    t8.raw_points.push_back(ofPoint(0.4,0.5));\n    testLines.push_back(t8);\n\n    // Convert raw points to real points in the grid space\n    for (int i = 0; i &lt; testLines.size(); i++) {\n        testLines[i].processRawPoints();\n        testLines[i].calculateParallelPoints();\n    }\n\n\n}\n\n//--------------------------------------------------------------\nvoid ofApp::update(){\n\n}\n\n//--------------------------------------------------------------\nvoid ofApp::draw(){\n\n    ofSetBackgroundColorHex(0x000000);\n    ofSetColor(255, 255, 255);\n\n    for (int i = 0; i &lt; testLines.size(); i++) {\n        testLines[i].displayTestLine();\n    }\n\n}\n</code></pre>\n\n<p><strong>TestLine.h</strong></p>\n\n<pre><code>#include \"ofMain.h\"\n\nclass TestLine {\npublic:\n    TestLine(float _x, float _y, int _sec_wide, int _sec_tall);\n\n    void displayTestLine();\n    void calculateParallelPoints();\n    void processRawPoints();\n\n    float x_coord;\n    float y_coord;\n\n    float x_min;\n    float x_max;\n    float y_min;\n    float y_max;\n\n    vector&lt;float&gt;   angles;\n    vector&lt;ofPoint&gt; raw_points;\n    vector&lt;ofPoint&gt; points;\n    vector&lt;ofPoint&gt; forward_points;\n    vector&lt;ofPoint&gt; reverse_points;\n\n    ofPolyline line;\n    ofPolyline forward_line;\n    ofPolyline reverse_line;\n};\n</code></pre>\n\n<p><strong>TestLine.cpp</strong></p>\n\n<pre><code>#include \"TestLine.h\"\n\nTestLine::TestLine(float _x, float _y, int _sec_wide, int _sec_tall){\n    x_coord = _x;\n    y_coord = _y;\n\n    int w = ofGetWindowWidth();\n    int h = ofGetWindowHeight();\n\n    float allowed_w = (float)w / _sec_wide;\n    float allowed_h = (float)h / _sec_tall;\n\n    x_min = x_coord * allowed_w;\n    x_max = x_min   + allowed_w;\n\n    y_min = y_coord * allowed_h;\n    y_max = y_min   + allowed_h;\n\n\n\n\n}\n\nvoid TestLine::calculateParallelPoints(){\n    for (int i = 0; i &lt; points.size(); i++) {\n        if (i == 0) {\n            ofVec2f v2 = points[i];\n            ofVec2f v1 = points[i+1];\n\n            float angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n            angles.push_back(angle);\n\n            cout &lt;&lt; \"Start: \" &lt;&lt; angle &lt;&lt; endl;\n        }\n\n        if (i &gt; 0 &amp;&amp; i &lt; points.size() - 1) {\n            ofVec2f v1 = points[i];\n            ofVec2f v2 = points[i-1];\n\n            float back_angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n\n            v2 = points[i];\n            v1 = points[i+1];\n\n            float front_angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n\n\n            float final_angle = (back_angle + front_angle) / 2;\n\n            cout &lt;&lt; \"BACK ANGLE: \" &lt;&lt; back_angle &lt;&lt; \", FRONT ANGLE: \" &lt;&lt; front_angle &lt;&lt; \", FINAL ANGLE: \" &lt;&lt; final_angle &lt;&lt; endl;\n\n            float prev_x = points[i-1].x;\n            float prev_y = points[i-1].y;\n            float this_x = points[i].x;\n            float this_y = points[i].y;\n            float next_x = points[i+1].x;\n            float next_y = points[i+1].y;\n\n\n\n            angles.push_back(final_angle);\n\n        }\n\n        if (i == points.size() - 1) {\n            ofVec2f v1 = points[i];\n            ofVec2f v2 = points[i-1];\n\n            float angle = ofRadToDeg(atan2(v1.y - v2.y, v1.x - v2.x));\n            angles.push_back(angle);\n\n            cout &lt;&lt; \"End: \" &lt;&lt; angle &lt;&lt; endl;\n        }\n\n        line.addVertex(points[i]);\n    }\n\n\n    // Now using the points and the angles to calculate the forward and reverse points\n    for (int i = 0; i &lt; points.size(); i++) {\n        float forward_angle = angles[i] + 90;\n        float reverse_angle = angles[i] - 90;\n        // cout &lt;&lt; forward_angle &lt;&lt; \", \" &lt;&lt; reverse_angle &lt;&lt; endl;\n\n        float forward_x = points[i].x + cos(ofDegToRad(forward_angle)) * 8;\n        float forward_y = points[i].y + sin(ofDegToRad(forward_angle)) * 8;\n\n        forward_points.push_back(ofPoint(forward_x, forward_y));\n\n        float reverse_x = points[i].x + cos(ofDegToRad(reverse_angle)) * 8;\n        float reverse_y = points[i].y + sin(ofDegToRad(reverse_angle)) * 8;\n\n        reverse_points.push_back(ofPoint(reverse_x, reverse_y));\n\n    }\n}\n\nvoid TestLine::processRawPoints(){\n    for (int i = 0; i &lt; raw_points.size(); i++) {\n        float newx = ofMap(raw_points[i].x, 0, 1, x_min, x_max);\n        float newy = ofMap(raw_points[i].y, 0, 1, y_min, y_max);\n        points.push_back(ofPoint(newx,newy));\n    }\n}\n\nvoid TestLine::displayTestLine(){\n\n    ofSetColor(128,128,128);\n    line.draw();\n\n    ofSetColor(255, 255, 255);\n    ofDrawCircle(points[0].x, points[0].y, 3);\n\n    ofSetColor(255, 0, 0);\n\n    for (int i = 0; i &lt; forward_points.size(); i++) {\n        ofDrawCircle(forward_points[i].x, forward_points[i].y, 2);\n    }\n\n    ofSetColor(0, 255, 0);\n\n    for (int i = 0; i &lt; reverse_points.size(); i++) {\n        ofDrawCircle(reverse_points[i].x, reverse_points[i].y, 2);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "camera", "windows-10-desktop"], "comments": [{"owner": {"reputation": 58, "user_id": 3944543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6285eb011393c59a8d982aeccf3b26?s=128&d=identicon&r=PG&f=1", "display_name": "k_ride", "link": "https://stackoverflow.com/users/3944543/k-ride"}, "edited": false, "score": 0, "creation_date": 1450441881, "post_id": 34322104, "comment_id": 56452894, "body": "I found and plugged in an external USB camera, and turns out the code works fine with it on the Surface Pro 4. So the problem is definitely with the drivers for the SP4 camera, which does not play nice with OpenCV."}], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 2121847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b77206409da82ad92a148413dfeb9d39?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny Pereguda", "link": "https://stackoverflow.com/users/2121847/evgeny-pereguda"}, "is_accepted": true, "score": 1, "last_activity_date": 1458039284, "creation_date": 1458039284, "answer_id": 36009226, "question_id": 34322104, "link": "https://stackoverflow.com/questions/34322104/problems-accessing-web-camera-under-windows-10-opencv/36009226#36009226", "title": "Problems accessing web camera under Windows 10 / OpenCV", "body": "<p>I think that your problem with videoInput on Windows 10 is related with selecting of the correct mediaType of web cameras. The fact is that OpenCV uses DirectShow by default and videoInput on Media Foundation is only optional. \nI advise you correct check variables:</p>\n\n<pre><code>float MF_MT_FRAME_RATE_RANGE_MAX;\nfloat MF_MT_FRAME_RATE;\nfloat MF_MT_FRAME_RATE_RANGE_MIN;\n</code></pre>\n\n<p>in </p>\n\n<pre><code>// Structure of info MediaType \nstruct MediaType\n</code></pre>\n\n<p>Also I can advise to visit on site <a href=\"http://capturemanager.binpress.com/product/capture-manager-topology-editor/3652\" rel=\"nofollow\">Capture Manager Topology Editor</a> - this a free software for working with web cameras via Media Foundation. It allows verify accessible features of Media Foundation on your Surface Pro 4 (Core i7).</p>\n\n<p>With best regards,\nEvgeny Pereguda</p>\n"}], "owner": {"reputation": 58, "user_id": 3944543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6285eb011393c59a8d982aeccf3b26?s=128&d=identicon&r=PG&f=1", "display_name": "k_ride", "link": "https://stackoverflow.com/users/3944543/k-ride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2868, "favorite_count": 1, "accepted_answer_id": 36009226, "answer_count": 1, "score": 1, "last_activity_date": 1458039284, "creation_date": 1450300007, "question_id": 34322104, "link": "https://stackoverflow.com/questions/34322104/problems-accessing-web-camera-under-windows-10-opencv", "title": "Problems accessing web camera under Windows 10 / OpenCV", "body": "<p>I'm working on a project requiring real-time access to the webcam, and have problems with getting a suitable camera stream under Windows 10 for processing the frames with OpenCV.</p>\n\n<p>I'm able to access the camera just fine under Windows 8.1. using either </p>\n\n<ul>\n<li>OpenCV 2.4.9 with Evgeny Pereguda's VideoInput\nlibrary(<a href=\"http://www.codeproject.com/Articles/776058/Capturing-Live-video-from-Web-camera-on-Windows-an\" rel=\"nofollow\">http://www.codeproject.com/Articles/776058/Capturing-Live-video-from-Web-camera-on-Windows-an</a>)\nfor accessing the camera through Windows Media Foundation, or </li>\n<li>OpenCV 3.0 without any additional libraries</li>\n</ul>\n\n<p>These allow for capturing the webcam stream with high frame rate (~30fps), and setting the webcam resolution with e.g.</p>\n\n<p><em>cvCapture.set(CV_CAP_PROP_FRAME_WIDTH, 640);</em></p>\n\n<p><em>cvCapture.set(CV_CAP_PROP_FRAME_HEIGHT, 480);</em></p>\n\n<p>Under Windows 10, however, both solutions above result in problems:</p>\n\n<ul>\n<li>the solution using OpenCV 2.4.9, and the VideoInput library allow\nsetting the resolution to 640x480, but the frame rate is around 1FPS\n(or worse?!), and the picture is very dark</li>\n<li>the solution using OpenCV 3.0 gives me a nice 1920x1080 image on a good frame rate, but I'm unable to set the resolution for the stream</li>\n</ul>\n\n<p>I even tried opening the camera stream with:</p>\n\n<p><em>cv::VideoCapture cvCapture( CV_CAP_DSHOW + camnum );</em></p>\n\n<p><em>cv::VideoCapture cvCapture ( CV_CAP_MSMF + camnum );</em></p>\n\n<p>The first one works (as far as opening the stream, but with the same problems as above), the MSMF (Microsoft Media Foundation) results in cvCapture.isOpened() returning false;</p>\n\n<p>Handling the FullHD stream real-time isn't feasible for the image processing algorithms, nor is resizing down the resulting frame with OpenCV.</p>\n\n<p>The Windows 8.1 version is running on a Surface Pro 3 (Core i7), and the Windows 10 version on a Surface Pro 4 (Core i7). Could this be a hardware / camera driver problem? I tried finding updated drivers for the Surface 4, but to no avail.</p>\n\n<p>Has anyone had similar problems? Is there an obvious solution I'm overlooking?</p>\n"}, {"tags": ["c++", "ros"], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 3964247, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000054905627/picture?type=large", "display_name": "TonyParker", "link": "https://stackoverflow.com/users/3964247/tonyparker"}, "edited": false, "score": 0, "creation_date": 1501779723, "post_id": 34817749, "comment_id": 77942138, "body": "@Watts, I am facing similar problem. I used this code snippet and put solution in it, but it still gives me same error."}, {"owner": {"reputation": 515, "user_id": 10392393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158e9cd5e0945cfb6ff4407c8c049768?s=128&d=identicon&r=PG&f=1", "display_name": "Azerila", "link": "https://stackoverflow.com/users/10392393/azerila"}, "edited": false, "score": 0, "creation_date": 1591974413, "post_id": 34817749, "comment_id": 110266372, "body": "@Watts it didn&#39;t work for me either, I have described my code here: <a href=\"https://stackoverflow.com/questions/62345576/error-no-match-for-call-to-boost-mfimf1void/62346231?noredirect=1#comment110265606_62346231\" title=\"error no match for call to boost mfimf1void\">stackoverflow.com/questions/62345576/&hellip;</a>"}, {"owner": {"reputation": 515, "user_id": 10392393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158e9cd5e0945cfb6ff4407c8c049768?s=128&d=identicon&r=PG&f=1", "display_name": "Azerila", "link": "https://stackoverflow.com/users/10392393/azerila"}, "reply_to_user": {"reputation": 970, "user_id": 3964247, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000054905627/picture?type=large", "display_name": "TonyParker", "link": "https://stackoverflow.com/users/3964247/tonyparker"}, "edited": false, "score": 0, "creation_date": 1591974442, "post_id": 34817749, "comment_id": 110266396, "body": "@TonyParker did you find a solution?"}], "tags": [], "owner": {"reputation": 63, "user_id": 839843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/904aad0304dec21c1fba240e46809e3f?s=128&d=identicon&r=PG", "display_name": "Kevin Watts", "link": "https://stackoverflow.com/users/839843/kevin-watts"}, "is_accepted": false, "score": 2, "last_activity_date": 1452883656, "creation_date": 1452883656, "answer_id": 34817749, "question_id": 34322075, "link": "https://stackoverflow.com/questions/34322075/ros-message-filterstimesequencer/34817749#34817749", "title": "ROS message_filters::TimeSequencer", "body": "<p>Unlike ros::NodeHandle::subscribe(), message_filters classes require the callback take a boost::shared_ptr.</p>\n\n<p>See documentation here:\n<a href=\"http://wiki.ros.org/message_filters#Time_Sequencer\" rel=\"nofollow\">http://wiki.ros.org/message_filters#Time_Sequencer</a></p>\n\n<pre><code>void callback(const boost::shared_ptr&lt;std_msgs::String&gt;&amp; info);\n</code></pre>\n\n<p>Or you can use the ConstPtr typedef:</p>\n\n<pre><code>void callback(const std_msgs::StringConstPtr&amp; info);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 515, "user_id": 10392393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158e9cd5e0945cfb6ff4407c8c049768?s=128&d=identicon&r=PG&f=1", "display_name": "Azerila", "link": "https://stackoverflow.com/users/10392393/azerila"}, "edited": false, "score": 0, "creation_date": 1591974485, "post_id": 58710622, "comment_id": 110266412, "body": "it didn&#39;t work for me, can you please check the snippet I have described here: <a href=\"https://stackoverflow.com/questions/62345576/error-no-match-for-call-to-boost-mfimf1void/62346231?noredirect=1#comment110265606_62346231\" title=\"error no match for call to boost mfimf1void\">stackoverflow.com/questions/62345576/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 12325816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GjJ9ogdowvQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcEKr5CVSo6t_sJBbdk_P0YkA-ulg/photo.jpg?sz=128", "display_name": "Florian Spie&#223;", "link": "https://stackoverflow.com/users/12325816/florian-spie%c3%9f"}, "reply_to_user": {"reputation": 515, "user_id": 10392393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158e9cd5e0945cfb6ff4407c8c049768?s=128&d=identicon&r=PG&f=1", "display_name": "Azerila", "link": "https://stackoverflow.com/users/10392393/azerila"}, "edited": false, "score": 0, "creation_date": 1592236751, "post_id": 58710622, "comment_id": 110346732, "body": "I edited my above post abit to also include the callback function."}], "tags": [], "owner": {"reputation": 1, "user_id": 12325816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GjJ9ogdowvQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcEKr5CVSo6t_sJBbdk_P0YkA-ulg/photo.jpg?sz=128", "display_name": "Florian Spie&#223;", "link": "https://stackoverflow.com/users/12325816/florian-spie%c3%9f"}, "is_accepted": false, "score": 0, "last_activity_date": 1592236569, "last_edit_date": 1592236569, "creation_date": 1572954065, "answer_id": 58710622, "question_id": 34322075, "link": "https://stackoverflow.com/questions/34322075/ros-message-filterstimesequencer/58710622#58710622", "title": "ROS message_filters::TimeSequencer", "body": "<pre><code>#include &lt;ros/ros.h&gt;\n#include &lt;geometry_msgs/PoseStamped.h&gt;\n#include \"image_transport/image_transport.h\"\n#include \"cv_bridge/cv_bridge.h\"\n#include \"message_filters/subscriber.h\"\n#include \"message_filters/synchronizer.h\"\n#include \"message_filters/time_synchronizer.h\"\n#include \"message_filters/sync_policies/exact_time.h\"\n#include &lt;message_filters/sync_policies/approximate_time.h&gt;\nusing namespace sensor_msgs;\nusing namespace message_filters;\n\nclass SubscribeAndPublish\n{\npublic:\nvoid callback(const sensor_msgs::ImageConstPtr&amp; msg,const sensor_msgs::ImageConstPtr&amp; msg2)\n{}\npublic:\nSubscribeAndPublish():sync2(image_sub,image_sub2,500){\n    //https://gist.github.com/tdenewiler/e2172f628e49ab633ef2786207793336\n    image_sub.subscribe(n, \"/camera/color/image_raw\", 1);\n    image_sub2.subscribe(n, \"/camera/aligned_depth_to_color/image_raw\", 1);\n    sync2.registerCallback(boost::bind(&amp;SubscribeAndPublish::callback,this, _1, _2));\n    odom_pub = n.advertise&lt;nav_msgs::Odometry&gt;(\"RGBDodom\", 50);\n}\nprivate:\nros::NodeHandle n;\nros::Publisher odom_pub;\nmessage_filters::Subscriber&lt;Image&gt; image_sub;\nmessage_filters::Subscriber&lt;Image&gt; image_sub2;\nTimeSynchronizer&lt;Image, Image&gt; sync2;\n};\n</code></pre>\n\n<p>Try this code above</p>\n"}], "owner": {"reputation": 65, "user_id": 1307014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbe34cd39dc81250b941ed6f622d5ab?s=128&d=identicon&r=PG", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/1307014/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1592236569, "creation_date": 1450299902, "last_edit_date": 1450467371, "question_id": 34322075, "link": "https://stackoverflow.com/questions/34322075/ros-message-filterstimesequencer", "title": "ROS message_filters::TimeSequencer", "body": "<p>I'm trying to delay processing of some input received via ros topics and as I was reading over the message_filters package information, <a href=\"http://wiki.ros.org/message_filters#Time_Sequencer\" rel=\"nofollow\">TimeSequencer</a> seemed to do just this.</p>\n\n<p>They even include some example code which I copied, but cannot get it to compile whatsoever.  I have pasted the small test program that produces errors here:</p>\n\n<pre><code>#include \"ros/ros.h\"\n#include &lt;message_filters/subscriber.h&gt;\n#include &lt;message_filters/time_sequencer.h&gt;\n#include &lt;std_msgs/String.h&gt;\n\nvoid callback(const std_msgs::String&amp; info)\n{\n  //do some processing\n} \n\nint main(int argc, char **argv)\n{\n  ros::init(argc, argv, \"test\");\n  ros::NodeHandle n;\n\n  message_filters::Subscriber&lt;std_msgs::String&gt; sub(n, \"my_topic\", 1);\n  message_filters::TimeSequencer&lt;std_msgs::String&gt; seq(sub, ros::Duration(0.1), ros::Duration(0.01), 10);\n  seq.registerCallback(callback);\n\n  ros::spin();\n\n  return 0;\n}\n</code></pre>\n\n<p>The error occurs from <code>seq.registerCallback(callback);</code> line</p>\n\n<pre><code>In file included from /opt/ros/hydro/include/message_filters/subscriber.h:44:0,\n                 from /home/j/workspace/src/test.cpp:17:\n/opt/ros/hydro/include/message_filters/simple_filter.h: In member function message_filters::Connection message_filters::SimpleFilter&lt;M&gt;::registerCallback(void (*)(P)) [with P = const std_msgs::String_&lt;std::allocator&lt;void&gt; &gt;&amp;, M = std_msgs::String_&lt;std::allocator&lt;void&gt; &gt;]:\n/home/j/workspace/src/test.cpp:39:32:   instantiated from here\n/opt/ros/hydro/include/message_filters/simple_filter.h:96:100: error: no matching function for call to message_filters::Signal1&lt;std_msgs::String_&lt;std::allocator&lt;void&gt; &gt; &gt;::addCallback(void (*&amp;)(const std_msgs::String_&lt;std::allocator&lt;void&gt; &gt;&amp;))\n/opt/ros/hydro/include/message_filters/simple_filter.h:96:100: note: candidate is:\n/opt/ros/hydro/include/message_filters/signal1.h:91:22: note: template&lt;class P&gt; message_filters::Signal1&lt;M&gt;::CallbackHelper1Ptr message_filters::Signal1::addCallback(const boost::function&lt;void(P)&gt;&amp;) [with P = P, M = std_msgs::String_&lt;std::allocator&lt;void&gt; &gt;, message_filters::Signal1&lt;M&gt;::CallbackHelper1Ptr = boost::shared_ptr&lt;message_filters::CallbackHelper1&lt;std_msgs::String_&lt;std::allocator&lt;void&gt; &gt; &gt; &gt;]\n</code></pre>\n\n<p>I've done a lot of searching for examples with TimeSequencer and can't really find much.  Any help is much appreciated.</p>\n"}, {"tags": ["c++", "split", "singleton", "implementation", "static-members"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1450299552, "post_id": 34321967, "comment_id": 56385715, "body": "I don&#39;t see a .cpp file with the implementation details of your logger? You should probably post the stuff that <i>doesn&#39;t work</i> that you need help fixing, not the stuff that does work!"}, {"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 1, "creation_date": 1450299651, "post_id": 34321967, "comment_id": 56385775, "body": "You can&#39;t put template implementation in source files - they <b>have</b> to be in the header files."}, {"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1450300065, "post_id": 34321967, "comment_id": 56385988, "body": "@immibis true true. fixed that"}, {"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "reply_to_user": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 1, "creation_date": 1450300155, "post_id": 34321967, "comment_id": 56386041, "body": "@Amit I have read that somewhere while trying to figure out how to do that. But here it says otherwise: <a href=\"http://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\" title=\"why can templates only be implemented in the header file\">stackoverflow.com/questions/495021/&hellip;</a>"}, {"owner": {"reputation": 539, "user_id": 416650, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53678b6888c5655e0d3ac8bf65ac62d7?s=128&d=identicon&r=PG", "display_name": "KarenRei", "link": "https://stackoverflow.com/users/416650/karenrei"}, "edited": false, "score": 0, "creation_date": 1450300347, "post_id": 34321967, "comment_id": 56386135, "body": "Standard rule for all online code help: post only a minimum program that indicates the problem, including all components, and the errors that you get."}, {"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "reply_to_user": {"reputation": 539, "user_id": 416650, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53678b6888c5655e0d3ac8bf65ac62d7?s=128&d=identicon&r=PG", "display_name": "KarenRei", "link": "https://stackoverflow.com/users/416650/karenrei"}, "edited": false, "score": 0, "creation_date": 1450300570, "post_id": 34321967, "comment_id": 56386222, "body": "@KarenRei Indeed I try to do that, but I honestly fail to separate this code in smaller chunks. It just looks like a solid block that I do not know how to split - and this is what I was trying to do in the 1st place. So please bear with me here. Thank you"}, {"owner": {"reputation": 41440, "user_id": 3887516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62e0310897139a10f3293022b6eb7054?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3887516/amit"}, "edited": false, "score": 0, "creation_date": 1450302297, "post_id": 34321967, "comment_id": 56387101, "body": "@nass - I don&#39;t see how that question contradicts my point"}], "answers": [{"comments": [{"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "edited": false, "score": 0, "creation_date": 1450301066, "post_id": 34322245, "comment_id": 56386488, "body": "Dude you are nothing sort of a c++ God to me! I had been lost with this the whole day! Could you elaborate what you mean with &quot;or make template code available to other compilation units&quot;. How do I do that? (or provide a link for a tutorial."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "edited": false, "score": 0, "creation_date": 1450301790, "post_id": 34322245, "comment_id": 56386848, "body": "@nass make it available means to put it into header. Btw most code on your template does not depend on &lt;T&gt; so you may want to make base non templated class, move such functionality there implement in .cpp regular way. Then inherit template from that base and only implement what really uses <code>T</code>. In that case you may leave that templated code in header as it would be pretty small."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 1, "last_activity_date": 1450300619, "creation_date": 1450300619, "answer_id": 34322245, "question_id": 34321967, "link": "https://stackoverflow.com/questions/34321967/unable-to-split-a-class-with-static-member-functions-in-header-and-source-file/34322245#34322245", "title": "unable to split a class with static member functions in header and source file", "body": "<p>You need to explicitly instantiate type you are using - <code>Log&lt;Output2FILE&gt;</code>, so put following line:</p>\n\n<pre><code> template class Log&lt;Output2FILE&gt;;\n</code></pre>\n\n<p>somewhere in <code>log.cpp</code> file after templates are defined. You will have to explicitly instantiate all types you will use with this template, or make template code available to other compilation units.</p>\n"}], "owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 34322245, "answer_count": 1, "score": 0, "last_activity_date": 1450300619, "creation_date": 1450299422, "last_edit_date": 1450300048, "question_id": 34321967, "link": "https://stackoverflow.com/questions/34321967/unable-to-split-a-class-with-static-member-functions-in-header-and-source-file", "title": "unable to split a class with static member functions in header and source file", "body": "<p>I am using a simple log class to debug my code. The code has been downloaded from <a href=\"http://www.drdobbs.com/cpp/logging-in-c/201804215?pgno=1\" rel=\"nofollow\">http://www.drdobbs.com/cpp/logging-in-c/201804215?pgno=1</a> and is a log class implemented entirely in a header file.</p>\n\n<p>For reason of clarity and building difficulties caused by the absence of an object file, I would like to split the implementation from declarations. That is move the code implementation to a cpp file. </p>\n\n<p>Once I move the implementation details to a .cpp file , I end up getting alot of \"undefined reference\" linker errors to all the static member functions. The errors originate from the rest of my code. Anywhere I call the logging function from.</p>\n\n<p>Is the problem related to the internal linkage that static member functions in .cpp file have? If so what options do I have to achieve splitting the file?\nOne option would be to remove the class encapsulation and reimplement it as non-OO code. I would rather avoid that too, is there something else?</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>int main(int argc, char* argv[])\n{\n\n    FILELog::ReportingLevel() = FILELog::FromString(argv[1] ? argv[1] : \"DEBUG1\");\n        const int count = 3;\n    FILE_LOG(logDEBUG) &lt;&lt; \"A loop with \" &lt;&lt; count &lt;&lt; \" iterations\";\n    for (int i = 0; i != count; ++i)\n    {\n            FILE_LOG(logDEBUG1) &lt;&lt; \"the counter i = \" &lt;&lt; i;\n    }\n    return 0;\n}\n</code></pre>\n\n<p><strong>log.hpp</strong></p>\n\n<pre><code>#ifndef __LOG_H__\n#define __LOG_H__\n\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n#include &lt;stdio.h&gt;\n\n\n#ifndef FILELOG_MAX_LEVEL\n#define FILELOG_MAX_LEVEL logDEBUG4\n#endif\n\n#define FILE_LOG(level) \\\n    if (level &gt; FILELOG_MAX_LEVEL) ;\\\n    else if (level &gt; FILELog::ReportingLevel() || !Output2FILE::Stream()) ; \\\n    else FILELog().Get(level)\n\n\nenum TLogLevel \n{\n    logERROR, \n    logWARNING, \n    logINFO, \n    logDEBUG, \n    logDEBUG1, \n    logDEBUG2, \n    logDEBUG3, \n    logDEBUG4\n};\n\nclass Output2FILE\n{\npublic:\n    static FILE*&amp; Stream();\n    static void Output(const std::string&amp; msg);\n};\n\n\ntemplate &lt;typename T&gt;\nclass Log\n{\npublic:\n    Log();\n    virtual ~Log();\n    std::ostringstream&amp; Get(TLogLevel level = logINFO);\npublic:\n    static TLogLevel&amp; ReportingLevel();\n    static std::string ToString(TLogLevel level);\n    static TLogLevel FromString(const std::string&amp; level);\nprotected:\n    std::ostringstream os;\nprivate:\n    Log(const Log&amp;);\n    Log&amp; operator =(const Log&amp;);\n};\n\n//class FILELog : public Log&lt;Output2FILE&gt; {};\ntypedef Log&lt;Output2FILE&gt; FILELog;\n\n\n#endif //__LOG_H__\n</code></pre>\n\n<p>log.cpp</p>\n\n<pre><code>#include &lt;sys/time.h&gt;\n\n#include \"log.hpp\"\n\ninline std::string NowTime()\n{\n    char buffer[11];\n    time_t t;\n    time(&amp;t);\n    //tm r = {0};\n    tm r = {0,0,0,0,0,0,0,0,0,0,0};\n    strftime(buffer, sizeof(buffer), \"%X\", localtime_r(&amp;t, &amp;r));\n    struct timeval tv;\n    gettimeofday(&amp;tv, 0);\n    char result[100] = {0};\n    sprintf(result, \"%s.%03ld\", buffer, (long)tv.tv_usec / 1000); \n    return result;\n}\n\n//----------------------------------------------------------------------\n\ntemplate &lt;typename T&gt;\nLog&lt;T&gt;::Log()\n{\n}\n\ntemplate &lt;typename T&gt;\nstd::ostringstream&amp; Log&lt;T&gt;::Get(TLogLevel level)\n{\n    os &lt;&lt; \"- \" &lt;&lt; NowTime();\n    os &lt;&lt; \" \" &lt;&lt; ToString(level) &lt;&lt; \": \";\n    os &lt;&lt; std::string(level &gt; logDEBUG ? level - logDEBUG : 0, '\\t');\n    return os;\n}\n\ntemplate &lt;typename T&gt;\nLog&lt;T&gt;::~Log()\n{\n    os &lt;&lt; std::endl;\n    T::Output(os.str());\n}\n\ntemplate &lt;typename T&gt;\nTLogLevel&amp; Log&lt;T&gt;::ReportingLevel()\n{\n    static TLogLevel reportingLevel = logDEBUG4;\n    return reportingLevel;\n}\n\ntemplate &lt;typename T&gt;\nstd::string Log&lt;T&gt;::ToString(TLogLevel level)\n{\n    static const char* const buffer[] = {\"ERROR\", \"WARNING\", \"INFO\", \"DEBUG\", \"DEBUG1\", \"DEBUG2\", \"DEBUG3\", \"DEBUG4\"};\n    return buffer[level];\n}\n\ntemplate &lt;typename T&gt;\nTLogLevel Log&lt;T&gt;::FromString(const std::string&amp; level)\n{\n    if (level == \"DEBUG4\")\n        return logDEBUG4;\n    if (level == \"DEBUG3\")\n        return logDEBUG3;\n    if (level == \"DEBUG2\")\n        return logDEBUG2;\n    if (level == \"DEBUG1\")\n        return logDEBUG1;\n    if (level == \"DEBUG\")\n        return logDEBUG;\n    if (level == \"INFO\")\n        return logINFO;\n    if (level == \"WARNING\")\n        return logWARNING;\n    if (level == \"ERROR\")\n        return logERROR;\n    Log&lt;T&gt;().Get(logWARNING) &lt;&lt; \"Unknown logging level '\" &lt;&lt; level &lt;&lt; \"'. Using INFO level as default.\";\n    return logINFO;\n}\n\n//----------------------------------------------------------------------\n\ninline FILE*&amp; Output2FILE::Stream()\n{\n    static FILE* pStream = stderr;\n    return pStream;\n}\n\ninline void Output2FILE::Output(const std::string&amp; msg)\n{   \n    FILE* pStream = Stream();\n    if (!pStream)\n        return;\n    fprintf(pStream, \"%s\", msg.c_str());\n    fflush(pStream);\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "macos", "makefile", "glut"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1450300197, "post_id": 34321964, "comment_id": 56386066, "body": "You are missing the development libraries for those two libraries. Did you install the <code>-dev</code> or <code>-devel</code> packages too?"}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1450300832, "post_id": 34321964, "comment_id": 56386356, "body": "If you installed them using the normal tools they should end up in <code>&#47;usr&#47;local&#47;lib</code> or <code>&#47;opt&#47;lib</code> depending on your flavor of linux. <a href=\"http://www.tldp.org/HOWTO/HighQuality-Apps-HOWTO/fhs.html\" rel=\"nofollow noreferrer\">tldp.org/HOWTO/HighQuality-Apps-HOWTO/fhs.html</a>"}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1450300940, "post_id": 34321964, "comment_id": 56386415, "body": "You may want to look here: <a href=\"http://stackoverflow.com/q/26322603/14065\">stackoverflow.com/q/26322603/14065</a>"}, {"owner": {"reputation": 13, "user_id": 4950255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70ab06ee3f20eb7854494caaf4b9f96c?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; ", "link": "https://stackoverflow.com/users/4950255/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1450303641, "post_id": 34321964, "comment_id": 56387757, "body": "Thanks, although I had installed some libs, I was missing the -dev versions."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1510050467, "creation_date": 1510050467, "answer_id": 47155572, "question_id": 34321964, "link": "https://stackoverflow.com/questions/34321964/trouble-executing-c-makefile-in-linux-works-fine-on-mac/47155572#47155572", "title": "Trouble executing C++ makefile in Linux (works fine on mac)", "body": "<p>although I had installed some libs, I was missing the -dev versions. \u2013 Andr\u00e9</p>\n"}], "owner": {"reputation": 13, "user_id": 4950255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70ab06ee3f20eb7854494caaf4b9f96c?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; ", "link": "https://stackoverflow.com/users/4950255/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510050467, "creation_date": 1450299382, "last_edit_date": 1450300688, "question_id": 34321964, "link": "https://stackoverflow.com/questions/34321964/trouble-executing-c-makefile-in-linux-works-fine-on-mac", "title": "Trouble executing C++ makefile in Linux (works fine on mac)", "body": "<p>When I run <code>make</code> I get the following:</p>\n\n<pre><code>&gt; make\ng++ -g me.o -L/opt/PDmesa/Mesa-5.0.1/lib \n            -L/opt/PDmesa/GLUT-3.7/lib \n            -L/usr/X11R6/lib \n            -lglut -lGLU -lGL -lX11 -lXext -lXmu -lXi -lm \n            -o me\n\n/usr/bin/ld: cannot find -lXmu\n/usr/bin/ld: cannot find -lXi\ncollect2: error: ld returned 1 exit status\nmake: *** [me] Error 1`\n</code></pre>\n\n<p>Its a c++ program I wrote which use glut libs. I installed those but I don't understand what else is missing as the dependencies were also installed.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1450299139, "post_id": 34321856, "comment_id": 56385507, "body": "What is <code>sizeof(void*)</code> on your platform?"}, {"owner": {"reputation": 89, "user_id": 3727118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f395bd7fc837a7f709e7d44d69b2e0c1?s=128&d=identicon&r=PG&f=1", "display_name": "Pangi", "link": "https://stackoverflow.com/users/3727118/pangi"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1450299719, "post_id": 34321856, "comment_id": 56385805, "body": "<code>cout &lt;&lt; sizeof(void*) &lt;&lt; endl;</code> outputs 8"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1450299910, "post_id": 34321856, "comment_id": 56385908, "body": "Aha, so you&#39;re on a 64-bit platform (data pointers and references will take 8 bytes each)."}, {"owner": {"reputation": 89, "user_id": 3727118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f395bd7fc837a7f709e7d44d69b2e0c1?s=128&d=identicon&r=PG&f=1", "display_name": "Pangi", "link": "https://stackoverflow.com/users/3727118/pangi"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1450300157, "post_id": 34321856, "comment_id": 56386043, "body": "ok, now I get why 16, but no way to create an alias with no memory overhead? Isn&#39;t it basically a rename of the same variable?"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1450300494, "post_id": 34321856, "comment_id": 56386201, "body": "No. An reference is an actual variable in its own right. It&#39;s essentially semantic sugar for a pointer (with a few added constraints on how it can be used, notably that it can&#39;t be null)."}], "answers": [{"tags": [], "owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "is_accepted": false, "score": 0, "last_activity_date": 1450299506, "creation_date": 1450299506, "answer_id": 34321984, "question_id": 34321856, "link": "https://stackoverflow.com/questions/34321856/can-i-alias-a-member-of-the-base-class-in-derived-class-without-increasing-class/34321984#34321984", "title": "Can I alias a member of the base class in derived class without increasing class memory?", "body": "<p>Not without increasing the size of the object, no.</p>\n\n<p>But you can write a method that does the same thing, and call that method everywhere you'd use the reference. It will be inlined when compiled with optimizations on and shouldn't result in much overhead compared to the alias (or any overhead at all, if the common subexpression elimination pass is good enough, which it will be in your example since the aliased expression is as simple as can be).</p>\n\n<pre><code>template &lt;typename type&gt;\nclass Derived : public BaseClass &lt;1, type&gt;{\npublic:\n    type&amp; alias() { return array[0]; }\n    type const&amp; alias() const { return array[0]; }\n};\n</code></pre>\n\n<p>The reason your object size was 16 is because the compiler creates structures that are padded to a multiple of your machine word size. This allows you to create arrays of such structures without worrying about weird alignment (and without having gaps in between instances).</p>\n\n<p>I suspect your machine word size is 8 bytes (64-bit CPU). So, 8 bytes for the reference <code>alias</code> (which is really just a special syntax around a pointer), plus one for the <code>array</code>, plus 7 bytes of padding to bring it to a multiple of 8.</p>\n"}, {"tags": [], "owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "is_accepted": true, "score": 1, "last_activity_date": 1450299548, "creation_date": 1450299548, "answer_id": 34321991, "question_id": 34321856, "link": "https://stackoverflow.com/questions/34321856/can-i-alias-a-member-of-the-base-class-in-derived-class-without-increasing-class/34321991#34321991", "title": "Can I alias a member of the base class in derived class without increasing class memory?", "body": "<blockquote>\n  <p>Why does it print 16?</p>\n</blockquote>\n\n<p>First of all, this is implementation defined. But here is a plausible explanation.</p>\n\n<p>The reference in the derived class costs you the size of a pointer, which, on a 64 bit platform, is likely 8 bytes. The array of 1 <code>char</code> in the base class costs you an additional byte. However, due to alignment restrictions, the compiler rounds 1 + 8 up to 16, as your platform probably likes addresses to be aligned to 8 bytes.</p>\n\n<blockquote>\n  <p>What can I do about it?</p>\n</blockquote>\n\n<p>Get rid of the reference. If it's always going to point to the array in the base class, there is no need to store it as a member. If you think that spelling out the <code>BaseClass&lt;1, type&gt;::array[0]</code> every time is too much typing, you can add a member function.</p>\n\n<pre><code>type&amp;\ngetit() noexcept\n{\n  return BaseClass&lt;1, type&gt;::array[0];\n}\n</code></pre>\n\n<p>This will not increase your object size.  You'll probably also want a <code>const</code> overload.</p>\n"}, {"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1450302815, "creation_date": 1450302815, "answer_id": 34322794, "question_id": 34321856, "link": "https://stackoverflow.com/questions/34321856/can-i-alias-a-member-of-the-base-class-in-derived-class-without-increasing-class/34322794#34322794", "title": "Can I alias a member of the base class in derived class without increasing class memory?", "body": "<p>According to the C++ standard it is <em>unspecified</em> whether a reference takes up storage.  So you will only be able to investigate this case by trying it out and seeing what happens.</p>\n\n<p>Having a reference member of your class means that the default-generated copy-constructor, move-constructor, and assignment operators won't work properly though. So this adds considerable complexity to your class.</p>\n\n<p>Of course you could write:</p>\n\n<pre><code>type &amp;alias() { return BaseClass&lt;1, type&gt;::array[0]; }\n</code></pre>\n\n<p>which won't take up storage.</p>\n"}], "owner": {"reputation": 89, "user_id": 3727118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f395bd7fc837a7f709e7d44d69b2e0c1?s=128&d=identicon&r=PG&f=1", "display_name": "Pangi", "link": "https://stackoverflow.com/users/3727118/pangi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 1, "accepted_answer_id": 34321991, "answer_count": 3, "score": 2, "last_activity_date": 1450711612, "creation_date": 1450298963, "last_edit_date": 1450711612, "question_id": 34321856, "link": "https://stackoverflow.com/questions/34321856/can-i-alias-a-member-of-the-base-class-in-derived-class-without-increasing-class", "title": "Can I alias a member of the base class in derived class without increasing class memory?", "body": "<p>I would like to do something like this: </p>\n\n<pre><code>template &lt;int N, typename type&gt;\nclass BaseClass{\npublic:\n    type array[N];\n};\n\ntemplate &lt;typename type&gt;\nclass Derived : public BaseClass &lt;1, type&gt;{\npublic:\n    type &amp;alias = ( BaseClass&lt;1, type&gt;::array[0] );\n};\n</code></pre>\n\n<p>but when I use: </p>\n\n<pre><code>cout &lt;&lt; sizeof( Derived &lt;char&gt; ) &lt;&lt; endl;\n</code></pre>\n\n<p>it prints out 16, I would expect it to print 1 or 5, not 16. Is there a way to do it so it takes only <code>sizeof(array[N])</code>? Why 16? When I change <code>BaseClass&lt;1, type&gt;</code> to <code>BaseClass&lt;3, type&gt;</code> it also prints out 16. </p>\n\n<p>EDIT: </p>\n\n<p>I found a way around this for my needs: </p>\n\n<p>the base class: </p>\n\n<pre><code>template &lt;typename container, int N&gt;\nclass BaseClass : public container {\npublic:\n    // constructor example\n    BaseClass(){\n        for(int i = 0; i &lt; N; i++)\n            container::array[i] = 0;\n    }\n\n    // function examples\n    BaseClass operator+( const BaseClass&amp; arg ){\n        BaseClass result;\n        for( int i = 0; i &lt; N; i++ )\n            result.array[i] = container::array[i] + arg.array[i];\n\n        return result;\n    }\n\n    friend ostream&amp; operator &lt;&lt; ( ostream&amp; stream, const BaseClass&amp; arg ){\n        for( int i = 0; i &lt; N; i++ )\n            stream &lt;&lt; arg.array[i] &lt;&lt; ' ';\n        return stream;\n    }\n};\n</code></pre>\n\n<p>for a derived class I would use something like this:</p>\n\n<pre><code>template &lt;typename type&gt;\nclass container3{\npublic:\n    union{\n        type array[3];\n        struct{\n            type x;\n            type y;\n            type z;\n        } ;\n    };\n};\n\nclass Derived : public BaseClass&lt; container3&lt;float&gt;, 3 &gt;{\npublic:\n    Derived( float x = 0, float y = 0, float z = 0 ){\n        this-&gt;x = x;\n        this-&gt;y = y;\n        this-&gt;z = z;\n    }\n}; \n</code></pre>\n\n<p>now I can use them like this: </p>\n\n<pre><code>Derived var1( 1, 2 );\nDerived var2;\n\nvar2.y = 3;\nvar2.z = 6;\n\ncout &lt;&lt; var2 + var1 &lt;&lt; endl;\ncout &lt;&lt; sizeof( Derived ) &lt;&lt; endl;      /// this prints 12\n\nreturn 0;\n</code></pre>\n"}, {"tags": ["c++", "jvm", "virtual-machine", "portability"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1450299436, "post_id": 34321814, "comment_id": 56385660, "body": "Java&#39;s VM is not written in Java. It gets its claimed portability from being written in C++."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 3, "creation_date": 1450299583, "post_id": 34321814, "comment_id": 56385733, "body": "Note: Java is &quot;not having serious overheads&quot; only because of ~20 years of work on the JVM."}, {"owner": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "edited": false, "score": 0, "creation_date": 1450299830, "post_id": 34321814, "comment_id": 56385863, "body": "I read that Java can outperform C++ these days on most tasks because the compiler optimizes so aggressively for JVM. C++ compilers do not enjoy this level of guaranteed information about the hardware they are running on."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "reply_to_user": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "edited": false, "score": 0, "creation_date": 1450300079, "post_id": 34321814, "comment_id": 56386001, "body": "@IIIIIIIIIIIIIIIIIIIIIIII While some people say this, reality shows that Java usually can&#39;t reach C++, given that both programs are equally well optimized (compiler options, proper algorithms, manual optimization) (ie. a good Java program being faster than a badly written C++ program is nothing noteworthy)"}, {"owner": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1450300326, "post_id": 34321814, "comment_id": 56386127, "body": "@deviantfan. no crap java can&#39;t get to C++, I was just saying how in practice for day to day tasks java is a very capable platform."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "reply_to_user": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "edited": false, "score": 0, "creation_date": 1450300478, "post_id": 34321814, "comment_id": 56386197, "body": "@IIIIIIIIIIIIIIIIIIIIIIII Instead of such an reaction, read your own comment again, eg. the first sentence. You read something and seem to believe it. If you don&#39;t, why did you write it in the first place?"}, {"owner": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1450300656, "post_id": 34321814, "comment_id": 56386269, "body": "@deviantfan I said on &quot;most tasks&quot;. still C++ will win if compiler knows what architecture it is running on exactly."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "reply_to_user": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "edited": false, "score": 0, "creation_date": 1450300982, "post_id": 34321814, "comment_id": 56386442, "body": "@IIIIIIIIIIIIIIIIIIIIIIII And I was saying that this information isn&#39;t even necessary (other than knowing enough to be able to generate an executable program at all, of course), and C++ still wins (for most tasks). Well, whatever..."}, {"owner": {"reputation": 46684, "user_id": 1527, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2180b1a962bf46e58fa9746cb4ebfb91?s=128&d=identicon&r=PG", "display_name": "Pete Kirkham", "link": "https://stackoverflow.com/users/1527/pete-kirkham"}, "edited": false, "score": 0, "creation_date": 1450361047, "post_id": 34321814, "comment_id": 56414284, "body": "How is this opinion based? The CLI is very similar to the JVM and also cross platform. There are C++ compilers which target the CLI. Ergo, you can make C++ platform independent by making it run inside a VM just like in Java."}], "answers": [{"tags": [], "owner": {"reputation": 46684, "user_id": 1527, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2180b1a962bf46e58fa9746cb4ebfb91?s=128&d=identicon&r=PG", "display_name": "Pete Kirkham", "link": "https://stackoverflow.com/users/1527/pete-kirkham"}, "is_accepted": false, "score": 2, "last_activity_date": 1450299369, "last_edit_date": 1491982277, "creation_date": 1450299369, "answer_id": 34321958, "question_id": 34321814, "link": "https://stackoverflow.com/questions/34321814/is-it-possible-to-make-c-platform-independent-by-making-it-run-inside-a-vm-jus/34321958#34321958", "title": "Is it possible to make C++ platform independent by making it run inside a VM just like in Java?", "body": "<p>Yes, it is perfectly possible. For example, you can compile C++ to JavaScript ( see <a href=\"https://softwareengineering.stackexchange.com/questions/197940/how-to-run-c-code-in-browser-using-asm-js\">https://softwareengineering.stackexchange.com/questions/197940/how-to-run-c-code-in-browser-using-asm-js</a> ) or to CLI byte code ( <a href=\"https://en.wikipedia.org/wiki/C%2B%2B/CLI\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/C%2B%2B/CLI</a> ) to run on Windows or Linux, or various other targets.</p>\n\n<p>None of these currently performs as well as native C++, and most lack direct access to operating system resources. So the portability comes at some cost, and usually if you wanted to pay the cost of targeting web browsers or CLI, you have languages better suited to those platforms.</p>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5339529, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4ecd2b15539f40fea4bbb59864ad9fc0?s=128&d=identicon&r=PG&f=1", "display_name": "ForeverStudent", "link": "https://stackoverflow.com/users/5339529/foreverstudent"}, "is_accepted": false, "score": 1, "last_activity_date": 1450299553, "creation_date": 1450299553, "answer_id": 34321996, "question_id": 34321814, "link": "https://stackoverflow.com/questions/34321814/is-it-possible-to-make-c-platform-independent-by-making-it-run-inside-a-vm-jus/34321996#34321996", "title": "Is it possible to make C++ platform independent by making it run inside a VM just like in Java?", "body": "<p>In reality, the method of code execution (whether the code is compiled, interpreted, run by VM, etc) is more a property of the implementation, and not the language. </p>\n\n<p>when people say C++ is a compiled language and that JavaScript is an interpreted language, that does not necessarily mean that you can't write a compiler that translates JavaScript code to machine code on your hardware of choice, but rather what is a common way to provide implementation for said language. </p>\n\n<p>In practice, C++ is used because of its efficiency and close to the metal features that is a good choice for performance critical tasks like embedded systems programming, systems programming, graphics, etc, so getting C++ to run in a VM would defeat its purpose. \nkinda like buying a fillet Mignon and cooking it in the microwave. </p>\n"}, {"comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 3, "creation_date": 1450299968, "post_id": 34322010, "comment_id": 56385937, "body": "There&#39;s no fundamental reason someone can&#39;t make a C++ compiler that emits an intermediate platform-independent bytecode."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1450300743, "post_id": 34322010, "comment_id": 56386303, "body": "@immibis: True, but then you would still need a platform-specific runtime to actually run that bytecode on each machine/device. Unless you are thinking about compiling C++ to Java bytecode and letting a Java JVM run it, for instance."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1450301776, "post_id": 34322010, "comment_id": 56386842, "body": "If the JVM counts as &quot;platform-independent&quot;, then so does a hypothetical C++ bytecode VM."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1450299613, "creation_date": 1450299613, "answer_id": 34322010, "question_id": 34321814, "link": "https://stackoverflow.com/questions/34321814/is-it-possible-to-make-c-platform-independent-by-making-it-run-inside-a-vm-jus/34322010#34322010", "title": "Is it possible to make C++ platform independent by making it run inside a VM just like in Java?", "body": "<p>Java compiles to an intermediate platform-independent byte code that is then interpreted at runtime by platform-specific JVMs.  That is what allows Java to be portable.  Each type of JVM is tailored to run the byte code on the platform's particular hardware architecture.</p>\n\n<p>C/C++ compiles to native machine code that runs directly on the CPU (or as directly as the OS will allow).  So no, you cannot compile C/C++ in a platform-independent manner.  You have to use platform-specific compilers to compile C/C++ code for each hardware architecture that you want to run your code on.</p>\n"}], "owner": {"reputation": 131, "user_id": 5644791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nv9a_z_dFnc/AAAAAAAAAAI/AAAAAAAAEgI/k7ISAWpusuA/photo.jpg?sz=128", "display_name": "CoDerus", "link": "https://stackoverflow.com/users/5644791/coderus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "closed_date": 1450306132, "answer_count": 3, "score": 2, "last_activity_date": 1450299613, "creation_date": 1450298821, "question_id": 34321814, "link": "https://stackoverflow.com/questions/34321814/is-it-possible-to-make-c-platform-independent-by-making-it-run-inside-a-vm-jus", "closed_reason": "Opinion-based", "title": "Is it possible to make C++ platform independent by making it run inside a VM just like in Java?", "body": "<p>Given that Java is highly portable and it is not having serious overheads, can't C++ be made platform independent?</p>\n"}, {"tags": ["c++", "opencv", "github"], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 1, "last_activity_date": 1450299057, "creation_date": 1450299057, "answer_id": 34321877, "question_id": 34321732, "link": "https://stackoverflow.com/questions/34321732/open-a-c-project-in-github-with-visual-studio-error/34321877#34321877", "title": "Open a c++ project in Github with visual studio-Error", "body": "<p>StereoVision-ADCensus is based on following libraries, which ar not part of the git repository:\nOpenCV\nBOOST\n<strong>libConfig</strong>\nPCL\nOpenMP\nQt 4.8.X</p>\n"}], "owner": {"reputation": 11, "user_id": 5495718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862af3303363463fda91ebcc7d09865b?s=128&d=identicon&r=PG&f=1", "display_name": "user5495718", "link": "https://stackoverflow.com/users/5495718/user5495718"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "closed_date": 1450299628, "answer_count": 1, "score": 0, "last_activity_date": 1450299057, "creation_date": 1450298505, "question_id": 34321732, "link": "https://stackoverflow.com/questions/34321732/open-a-c-project-in-github-with-visual-studio-error", "closed_reason": "Needs more focus", "title": "Open a c++ project in Github with visual studio-Error", "body": "<p><a href=\"https://github.com/DLuensch/StereoVision-ADCensus\" rel=\"nofollow\">https://github.com/DLuensch/StereoVision-ADCensus</a>, Adcensus is error. Example cannot open source file \"libconfig.h++\"   Project1\ncannot open source file \"boost/filesystem.hpp\"  Project1\ncannot open source file \"boost/date_time.hpp\"   Project1</p>\n\n<p>There are 39 error. Can you help me. Thank you...</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 4068, "user_id": 862193, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/60a062a625895665d619c40b96f82d6a?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/862193/tim"}, "edited": false, "score": 0, "creation_date": 1450299022, "post_id": 34321719, "comment_id": 56385437, "body": "My first thought would be to insert the result of <code>std::set_difference</code> with a custom comparator into <code>mapA</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": -2, "last_activity_date": 1450298951, "creation_date": 1450298951, "answer_id": 34321851, "question_id": 34321719, "link": "https://stackoverflow.com/questions/34321719/merging-two-unordered-maps-with-overlapping-keys/34321851#34321851", "title": "Merging two unordered_maps with overlapping keys", "body": "<p>Since <code>std::unordered_map</code> is unsorted, there is no other way.  You will have to loop over each element in <code>mapB</code> and attempt to insert it in <code>mapA</code>.  Existing elements in <code>mapA</code> will not be inserted.</p>\n"}, {"tags": [], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": true, "score": 27, "last_activity_date": 1450299129, "last_edit_date": 1450299129, "creation_date": 1450299037, "answer_id": 34321870, "question_id": 34321719, "link": "https://stackoverflow.com/questions/34321719/merging-two-unordered-maps-with-overlapping-keys/34321870#34321870", "title": "Merging two unordered_maps with overlapping keys", "body": "<p>Absolutely:</p>\n\n<pre><code>auto result = mapA;\nresult.insert(mapB.begin(), mapB.end());\n</code></pre>\n\n<p>The <code>insert</code> member functions of <code>unordered_map</code> do nothing if the key already exists within the container.</p>\n\n<p><a href=\"http://ideone.com/o2agrm\">Demo.</a></p>\n"}], "owner": {"reputation": 1718, "user_id": 4234099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35f05b9d21253ac97bb6b92c4758be1?s=128&d=identicon&r=PG&f=1", "display_name": "MZHm", "link": "https://stackoverflow.com/users/4234099/mzhm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5905, "favorite_count": 1, "accepted_answer_id": 34321870, "answer_count": 2, "score": 8, "last_activity_date": 1450299129, "creation_date": 1450298432, "question_id": 34321719, "link": "https://stackoverflow.com/questions/34321719/merging-two-unordered-maps-with-overlapping-keys", "title": "Merging two unordered_maps with overlapping keys", "body": "<p>I would like to merge two <code>std::unordered_map</code>: <code>mapA</code> and <code>mapB</code>, while keeping priority for items from <code>mapA</code> if both maps contain the same key.</p>\n\n<p>Is there an elegant way of doing this (rather then validating each key.. my maps contain a large number of elements)?</p>\n\n<p>Example:</p>\n\n<pre><code>mapA = {{\"sugar\",0.1},{\"salt\",0.2}}\nmapB = {{\"sugar\",0.3},{\"pepper\",0.4}}\n</code></pre>\n\n<p>The result I would like to have is:</p>\n\n<pre><code>result = {{\"sugar\",0.1},{\"salt\",0.2},{\"pepper\",0.4}}\n</code></pre>\n\n<p>Ignoring the key-value <code>{\"sugar\",0.3}</code> from <code>mapB</code></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["php", "c++", "apache", "wininet"], "answers": [{"tags": [], "owner": {"reputation": 2771, "user_id": 4163321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZrgsU.gif?s=128&g=1", "display_name": "Lukas Thomsen", "link": "https://stackoverflow.com/users/4163321/lukas-thomsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1452325391, "creation_date": 1452325391, "answer_id": 34691010, "question_id": 34321672, "link": "https://stackoverflow.com/questions/34321672/c-wininet-only-making-1-request/34691010#34691010", "title": "C++ WinInet only making 1 request", "body": "<p>I am unable to reproduce your observation if I query the for example <code>www.google.com</code>.</p>\n\n<p>I think that your program simply continues reading the response with <code>InternetReadFile</code> but the other process on your machine has not yet completed the request. I suggest to wait for the request to complete using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa384105%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>WinHttpReceiveResponse</code></a> before reading the response contents.</p>\n\n<p>Some more things concerning your implementation:</p>\n\n<ul>\n<li><p>You do not need to call <code>InternetOpen(..)</code> for each new request. Is is sufficient to do this once and to store the returned handle until your application terminates.</p></li>\n<li><p>It is very important to check for errors! Your function simply relies on all calls to succeed which obviously doesn't seem to be the case due to your question...</p></li>\n</ul>\n"}], "owner": {"reputation": 65, "user_id": 5062925, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e22c663feb80b32ceeeeac150bfb2b0?s=128&d=identicon&r=PG&f=1", "display_name": "user5062925", "link": "https://stackoverflow.com/users/5062925/user5062925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1452325391, "creation_date": 1450298261, "last_edit_date": 1450308091, "question_id": 34321672, "link": "https://stackoverflow.com/questions/34321672/c-wininet-only-making-1-request", "title": "C++ WinInet only making 1 request", "body": "<p>I'm having trouble using <code>WinInet</code> locally. I have a local Apache webserver (xampp) which is running nicely, the problem is that when I try to make a GET request to a PHP script, it seems to be only doing it once. The PHP script simply outputs a random number, and I see the same number 3 times (the script isn't at fault). I've also checked the Apache access log and it only shows up once. The odd thing is that when NOT using it locally, the loop works perfectly and it does send out multiple requests (Wireshark shows this too).</p>\n\n<p>Here is the code, simplified and still giving problems:</p>\n\n<pre><code>#include &lt;Windows.h&gt;\n#include &lt;WinInet.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n#pragma comment(lib, \"wininet.lib\")\n\nvoid req()\n{\n    HINTERNET hInternet = InternetOpenW(L\"useragent\", INTERNET_OPEN_TYPE_DIRECT, NULL, NULL, 0);\n\n    HINTERNET hConnect = InternetConnectW(hInternet, L\"127.0.0.1\", 80, NULL, NULL, INTERNET_SERVICE_HTTP, 0, NULL);\n\n    HINTERNET hRequest = HttpOpenRequestW(hConnect, L\"GET\", L\"test/test.php\", NULL, NULL, NULL, 0, 0);\n\n    BOOL bRequestSent = HttpSendRequestW(hRequest, NULL, 0, NULL, 0);       \n\n    std::string strResponse;\n    const int nBuffSize = 1024;\n    char buff[nBuffSize];\n\n    BOOL bKeepReading = true;\n    DWORD dwBytesRead = -1;\n\n    while (bKeepReading &amp;&amp; dwBytesRead != 0)\n    {\n        bKeepReading = InternetReadFile(hRequest, buff, nBuffSize, &amp;dwBytesRead);\n        strResponse.append(buff, dwBytesRead);\n    }\n\n    std::cout &lt;&lt; strResponse &lt;&lt; std::endl;\n\n    InternetCloseHandle(hRequest);  \n    InternetCloseHandle(hConnect);\n    InternetCloseHandle(hInternet);\n}\n\nint main()\n{\n    for (int x = 0;x &lt; 3; x++) // 3 times\n    {\n        req();\n        Sleep(2000);\n    }\n\n    system(\"PAUSE\");\n}\n</code></pre>\n\n<p>I can't seem to figure this out...</p>\n"}, {"tags": ["c++", "memory-pool"], "comments": [{"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 2, "creation_date": 1450298331, "post_id": 34321610, "comment_id": 56384989, "body": "So, you&#39;re going to implement your own allocator. Unless you&#39;re doing it just for the joy of the exercise, you probably think that you have some knowledge about the particular allocation characteristics of your application that allows you to do a better job than the standard library&#39;s allocator. However, we don&#39;t have this knowledge as it&#39;s not there in your question so I don&#39;t think that a useful general answer can be given. In other words: your question is very broad."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1450299815, "post_id": 34321610, "comment_id": 56385853, "body": "As @5gon12eder is hinting at, the answer to this would vary greatly depending on whether <code>sizeof T == 1</code> or <code>sizeof T == 12345</code>..."}, {"owner": {"reputation": 2102, "user_id": 2828925, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/18abe23c6b1123371f171f55be659ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/2828925/jes"}, "edited": false, "score": 0, "creation_date": 1450305188, "post_id": 34321610, "comment_id": 56388567, "body": "The size of T actually depends and varies from user-defined classes. I guess what I need is a heuristic that can give a good hit on performance."}], "answers": [{"comments": [{"owner": {"reputation": 2102, "user_id": 2828925, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/18abe23c6b1123371f171f55be659ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/2828925/jes"}, "edited": false, "score": 0, "creation_date": 1450387765, "post_id": 34343775, "comment_id": 56430724, "body": "Thank you STJ! This is exactly what I need."}], "tags": [], "owner": {"reputation": 8657, "user_id": 3042070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea2672d02faabcfdcc3400ce7e713a?s=128&d=identicon&r=PG", "display_name": "stj", "link": "https://stackoverflow.com/users/3042070/stj"}, "is_accepted": true, "score": 0, "last_activity_date": 1450384572, "creation_date": 1450384572, "answer_id": 34343775, "question_id": 34321610, "link": "https://stackoverflow.com/questions/34321610/initial-block-size-for-memory-pool/34343775#34343775", "title": "Initial block size for memory pool", "body": "<p>I can only give some general advice as a lot will depend on the actual use case:</p>\n\n<p><strong>Alignment</strong>:\nI guess the pool should make sure that objects in it are correctly aligned. That means you may want to place objects at memory locations that are at least a multiple of <code>std::alignment_of&lt;T&gt;::value</code> or <code>alignof(T)</code>.</p>\n\n<p><strong>Cache-friendliness</strong>: The pool may also round up the object locations to multiples of cache-line sizes, so (small) objects will never be placed across two cache-lines but always be located in a single one.</p>\n\n<p><strong>Padding</strong>: If objects are very small (only a few bytes) but you have very many of them, then any extra padding might increase memory requirements much, and it depends on the application whether this will be a problem or not. Too much padding may actually hurt performance when objects are not held in close-together locations and there are lots of cache misses.</p>\n\n<p><strong>Underlying memory management</strong>: And finally, a <em>good</em> block size may also depend on the underlying storage. You may want your allocation sizes to match OS page sizes, or use multiples of them. Additionally, if <code>malloc</code> is expensive, then you probably want to call it as few times as possible in order to avoid syscall overhead and contention. In environments where <code>malloc</code> is cheaper, it may be ok to use smaller initial block sizes and <code>malloc</code> more often, though <code>malloc</code> will still have <em>some</em> overhead. A great deal of this is OS-specific. </p>\n\n<p>So whatever initial sizes you pick, <em>you should measure memory usage and allocation performance</em> for some typical workloads. This will allow you to make more educated estimates than pure guessing can provide. </p>\n\n<p>Finally, there are ready-to-use malloc-replacements such as <em>tcmalloc</em>, <em>jemalloc</em>, which may have completely different characteristics than your OS's <code>malloc</code>. A good option is therefore to check one of these instead of rolling your own allocator.</p>\n"}], "owner": {"reputation": 2102, "user_id": 2828925, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/18abe23c6b1123371f171f55be659ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Jes", "link": "https://stackoverflow.com/users/2828925/jes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 34343775, "answer_count": 1, "score": 0, "last_activity_date": 1450384572, "creation_date": 1450298029, "question_id": 34321610, "link": "https://stackoverflow.com/questions/34321610/initial-block-size-for-memory-pool", "title": "Initial block size for memory pool", "body": "<p>I am implementing a memory pool class using C++ template, and I am wondering what a good size could be for the block. For example:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass Mempool {\n\n  unsigned char* block;\n\n  // constructor. \n  Mempool() {\n    block = malloc(sizeof(T)*DEFAULT_N)\n  }\n\n};\n</code></pre>\n\n<p>In the above example, the block size actually depends on the type <code>T</code> and a default value of the number of elements to be created. What is the best (or common) practice to do this? Should I consider memory alignment for block size here?</p>\n"}, {"tags": ["c++", "macos", "qt", "cocoa", "maps"], "owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450297949, "creation_date": 1450297949, "question_id": 34321579, "link": "https://stackoverflow.com/questions/34321579/embedding-apple-maps-into-qtwidget-by-mixing-cocoa-and-qt", "title": "Embedding Apple maps into QtWidget by mixing cocoa and qt", "body": "<p>I see that it is possible to combine cocoa with qt and have done so for really basic things like displaying cocoa style text fields using QMacCocoaViewContainer.</p>\n\n<p>I now want to embed apple maps to display a 3d map in my qt desktop application. How can I go about doing this by using cocoa code in Qt? should I just write the same code I would write for doing it in Xcode for an IOS/OSX application?\nhow can I import things like 'MapKit' into Qt?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450298623, "post_id": 34321572, "comment_id": 56385178, "body": "There&#39;s definitely a way, but it&#39;s not as easy as you want it to be."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 3, "creation_date": 1450298819, "post_id": 34321572, "comment_id": 56385304, "body": "Replace all of those <code>endl</code>s with <code>&#39;\\n&#39;</code>s. You don&#39;t need to flush <code>cout</code> every time you write to it."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "edited": false, "score": 0, "creation_date": 1450300922, "post_id": 34321949, "comment_id": 56386407, "body": "The ide is telling me an error on  &#39;dice[i][i-1]&#39; i declared i as = 0 and put all 3 middle lines for each dice"}, {"owner": {"reputation": 440, "user_id": 1527597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6iY5.jpg?s=128&g=1", "display_name": "deinier", "link": "https://stackoverflow.com/users/1527597/deinier"}, "edited": false, "score": 0, "creation_date": 1450301165, "post_id": 34321949, "comment_id": 56386537, "body": "for (int l=0; i &lt; 5; ++l) is wrong, replace i &lt; 5 with l &lt; 5."}, {"owner": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "edited": false, "score": 0, "creation_date": 1450301973, "post_id": 34321949, "comment_id": 56386942, "body": "still gives me om dice[i][i-1]: expression must have integral or enum type"}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "edited": false, "score": 0, "creation_date": 1450362671, "post_id": 34321949, "comment_id": 56415389, "body": "Here is a quick run-down of coding issues I spotted: 1. string literals can&#39;t be assigned to <code>char*</code>, i.e., <code>hline</code> and <code>dice</code> should use <code>char const*</code>; 2. in the first <code>for</code> loop the <code>i</code> should be <code>l</code> (really easy to spot...); 3. the conditional operator has lower precedence than the shift operator, i.e., the expression needs parenthesis."}, {"owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "edited": false, "score": 0, "creation_date": 1450366190, "post_id": 34321949, "comment_id": 56417802, "body": "dice[i][l-1], not i-1. Fixed."}], "tags": [], "owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "is_accepted": false, "score": 0, "last_activity_date": 1450366159, "last_edit_date": 1450366159, "creation_date": 1450299303, "answer_id": 34321949, "question_id": 34321572, "link": "https://stackoverflow.com/questions/34321572/make-stdcout-output-multiple-string-in-the-same-row-one-after-the-other/34321949#34321949", "title": "Make std::cout output multiple string in the same row one after the other", "body": "<p>Code snippet:</p>\n\n<pre><code>char* hline = \".-----.\";\nchar* dice[6][3] = { {\"|     |\", \"|  o  |\", \"|     |\" }, { ... }}; // 3 middle lines for each dice\n\nfor (int l=0; l &lt; 5; ++l) {\n  for(int i=0; i &lt; 6; ++i) // or any random dice sequence with index = dice value - 1\n    cout &lt;&lt; (l == 0 || l == 4) ? hline : dice[i][l-1] &lt;&lt; \" \";\n  cout &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "edited": false, "score": 0, "creation_date": 1450362116, "post_id": 34324605, "comment_id": 56415018, "body": "I&#39;m very new to programming so i can&#39;t understand much of what you said and much of the code. I know the output won&#39;t change, but just the way it shows and that&#39;s what i want. What about the solution of the user @rbaghbanli ? I can&#39;t get it to work..."}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "reply_to_user": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "edited": false, "score": 0, "creation_date": 1450362293, "post_id": 34324605, "comment_id": 56415162, "body": "@GiorgioTocco: I&#39;m confused: it seems you are saying that my solution exactly does what you want it to do. Still, you are asking how to make the inferior solution work...?"}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "reply_to_user": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "edited": false, "score": 0, "creation_date": 1450362870, "post_id": 34324605, "comment_id": 56415540, "body": "@GiorgioTocco: the main problem with the other answer is that it interferes with the logic substantially. You end up essentially turning some of the logic inside out. I strongly prefer to have some code deal with these things than contorting the logic, even if it comes at some costs (using the stream buffer <i>is</i> a bit slower but I doubt it is possible to measure the difference in typical uses)."}], "tags": [], "owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "is_accepted": false, "score": 2, "last_activity_date": 1450311603, "creation_date": 1450311603, "answer_id": 34324605, "question_id": 34321572, "link": "https://stackoverflow.com/questions/34321572/make-stdcout-output-multiple-string-in-the-same-row-one-after-the-other/34324605#34324605", "title": "Make std::cout output multiple string in the same row one after the other", "body": "<p>Assuming you install something intercepting and rearranging the output the actual output can stay mostly unchanged. Since I'd be inclined to key sending compiled lines off a flush for the stream, the only change really necessary is replacing the <a href=\"http://kuhllib.com/2012/01/14/stop-excessive-use-of-stdendl/\" rel=\"nofollow\">excessive use of <code>std::endl</code></a> by uses of <code>'\\n'</code>. That's something I <strong>strongly</strong> recommend anyway (for an explanation have a look at the <a href=\"http://kuhllib.com/2012/01/14/stop-excessive-use-of-stdendl/\" rel=\"nofollow\">link</a>).</p>\n\n<p>So, assuming there is a something called <code>dicebuf</code> defined, the <code>main()</code> function could look like this (the interesting part is the first definition inside the function):</p>\n\n<pre><code>int main()\n{\n    dicebuf buf(std::cout);\n\n    for (int i = 0; i != 5; ++i)\n    {\n        int p1_dado = rand() % 6 + 1;\n        switch (p1_dado) {\n        case 1:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|     |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|  o  |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|     |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        case 2:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o   |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|     |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|   o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        case 3:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|o    |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|  o  |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|    o|\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        case 4:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|     |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        case 5:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"|  o  |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        case 6:\n            std::cout &lt;&lt; \".-----.\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"| o o |\" &lt;&lt; '\\n';\n            std::cout &lt;&lt; \"._____.\" &lt;&lt; '\\n' &lt;&lt; '\\n';\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>The idea here is that the <code>dicebuf</code> constructor injects a custom stream buffer which aggregates lines. It simply doesn't output things but just adds characters to a current row. If a newline (<code>'\\n'</code>) is encountered, it goes to the next row. If a two newlines in a row are encountered, it assumes it time to go back to the top and carry on adding to the current line.</p>\n\n<p>Creating such a utility intercepting the output is done by implementing a suitable stream buffer, i.e., a class derived from <code>std::streambuf</code>. Here is an example implementation:</p>\n\n<pre><code>#include &lt;utility&gt;\n#include &lt;iostream&gt;\n#include &lt;iterator&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct dicebuf\n    : std::streambuf\n{\n    std::ostream&amp;                       out;\n    std::streambuf*                     sbuf;\n    std::vector&lt;std::string&gt;            rows;\n    std::vector&lt;std::string&gt;::size_type row;\npublic:\n    dicebuf(std::ostream&amp; out)\n        : out(out)\n        , sbuf(out.rdbuf())\n        , rows(1)\n        , row(0) {\n        out.rdbuf(this);\n    }\n    ~dicebuf() {\n        this-&gt;sync();\n        this-&gt;out.rdbuf(this-&gt;sbuf);\n    }\n    int overflow(int c) {\n        if (c != std::char_traits&lt;char&gt;::eof()) {\n            if (c == '\\n') {\n                if (this-&gt;rows[this-&gt;row].empty()) {\n                    this-&gt;row = 0;\n                }\n                else {\n                    ++this-&gt;row;\n                    if (this-&gt;rows.size() == this-&gt;row) {\n                        this-&gt;rows.push_back(std::string());\n                    }\n                }\n            }\n            else {\n                this-&gt;rows[this-&gt;row].push_back(c);\n            }\n\n        }\n        return std::char_traits&lt;char&gt;::not_eof(c);\n    }\n    int sync() {\n        std::ostream out(this-&gt;sbuf);\n        std::copy(this-&gt;rows.begin(), this-&gt;rows.end(),\n                  std::ostream_iterator&lt;std::string&gt;(out, \"\\n\"));\n        this-&gt;sbuf-&gt;pubsync();\n        this-&gt;row = 0;\n        this-&gt;rows.resize(0);\n        this-&gt;rows.push_back(std::string());\n        return 0;\n    }\n};\n</code></pre>\n\n<p>Together with the <code>main()</code> above it should produce the output as desired. If you want multiple lines with results, you'll just inject a flush, e.g., using</p>\n\n<pre><code>std::flush;\n</code></pre>\n\n<p>at strategic points.</p>\n"}], "owner": {"reputation": 31, "user_id": 5688363, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076695605697642/picture?type=large", "display_name": "Giorgio Tocco", "link": "https://stackoverflow.com/users/5688363/giorgio-tocco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1103, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1450366159, "creation_date": 1450297936, "question_id": 34321572, "link": "https://stackoverflow.com/questions/34321572/make-stdcout-output-multiple-string-in-the-same-row-one-after-the-other", "title": "Make std::cout output multiple string in the same row one after the other", "body": "<p>The title is a mess, it's probably a lot faster to just see the code</p>\n\n<pre><code>p1_dado = rand() % 6 + 1;\n\n        switch (p1_dado) {\n        case 1:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"|     |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|  o  |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|     |\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_somma = p1_somma + p1_dado;\n            break;\n        case 2:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o   |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|     |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|   o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_ndadi--;\n            break;\n        case 3:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"|o    |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|  o  |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|    o|\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_somma = p1_somma + p1_dado;\n            break;\n        case 4:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|     |\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_somma = p1_somma + p1_dado;\n            break;\n        case 5:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"|  o  |\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_ndadi--;\n            break;\n        case 6:\n            cout &lt;&lt; \".-----.\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"| o o |\" &lt;&lt; endl;\n            cout &lt;&lt; \"._____.\" &lt;&lt; endl &lt;&lt; endl;\n            p1_somma = p1_somma + p1_dado;\n            break;\n        }\n</code></pre>\n\n<p>I should also mention that this piece of code is in a for loop so the switch case will be ran for 4-5 times.\nthe way this outputs is all the dices on top of each other, is there a way to show all the dices in 1 \"row\" ? Like:</p>\n\n<pre><code>1 2 3 4 5\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>1\n2\n3\n4\n5\n</code></pre>\n\n<p>Thanks for the help :)</p>\n"}, {"tags": ["c++", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5675383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5fa0f70e9cf6f5db4936e1d7b91dcba?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Cole", "link": "https://stackoverflow.com/users/5675383/mike-cole"}, "edited": false, "score": 0, "creation_date": 1450301141, "post_id": 34321770, "comment_id": 56386526, "body": "Doubles, ohh ok. So since imwrite is restricted to other types here it is the reason why i can&#39;t create the imfile. Thks."}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 3, "last_activity_date": 1450298624, "creation_date": 1450298624, "answer_id": 34321770, "question_id": 34321567, "link": "https://stackoverflow.com/questions/34321567/opencv3-accessing-label-centroids/34321770#34321770", "title": "OpenCV3 - Accessing label centroids", "body": "<p><code>centroids</code> is a matrix of double with two columns (x, y) and rows equals the number of labels.</p>\n\n<p>You can access it like:</p>\n\n<pre><code>Mat1i labels;\nMat1i stats;\nMat1d centroids;\nint n_labels = connectedComponentsWithStats(img, labels, stats, centroids);\n\nfor (int i = 0; i &lt; centroids.rows; ++i)\n{\n    cout &lt;&lt; \"x: \" &lt;&lt; centroids(i, 0) &lt;&lt; \" y: \" &lt;&lt; centroids(i, 1) &lt;&lt; endl;\n    circle(outputImage, Point(centroids(i, 0), centroids(i, 1)), 3, Scalar(0,255,0));\n}\n</code></pre>\n\n<p>If you declared <code>centroids</code> as <code>Mat</code>, access it like: <code>centroids.at&lt;double&gt;(i,0)</code></p>\n"}], "owner": {"reputation": 43, "user_id": 5675383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5fa0f70e9cf6f5db4936e1d7b91dcba?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Cole", "link": "https://stackoverflow.com/users/5675383/mike-cole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 34321770, "answer_count": 1, "score": 2, "last_activity_date": 1450298624, "creation_date": 1450297928, "last_edit_date": 1450298531, "question_id": 34321567, "link": "https://stackoverflow.com/questions/34321567/opencv3-accessing-label-centroids", "title": "OpenCV3 - Accessing label centroids", "body": "<p>OpenCV3 has a lot of cool stuff. I did some filtering with <code>connectedComponentsWithStats</code> accessing the array of statistics but can anyone just show me how to access centroids of each label?</p>\n\n<p>Documentation says that's possible as well but i'm not getting it.</p>\n\n<pre><code>Mat stats, centroids, labelImage;\nint nLabels = connectedComponentsWithStats(input, labelImage, stats, centroids, connectivity);\n</code></pre>\n"}, {"tags": ["c++", "lambda"], "comments": [{"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450298314, "post_id": 34321372, "comment_id": 56384974, "body": "@erip - I have updated my question -- Hopefully this is more clear"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450298853, "post_id": 34321372, "comment_id": 56385324, "body": "By the way, is there any particular reason you&#39;re using <code>static</code> methods?"}, {"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450298999, "post_id": 34321372, "comment_id": 56385423, "body": "@erip - Nope. This is just something I put together on the way home this evening. I just wanted to make sure that what I&#39;m trying to do is possible, before starting to fully design it! I will most likely go down the none static methods since not needed in this instance."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299052, "post_id": 34321372, "comment_id": 56385455, "body": "Well it makes sense that you&#39;re seeing <code>&quot;Create is started..&quot;</code> first - it&#39;s the first thing that happens in your <code>create</code> method."}, {"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299189, "post_id": 34321372, "comment_id": 56385535, "body": "@erip - I understand this, it makes sense why it&#39;s showing <code>&quot;Create is started..&quot; I just can&#39;t seem to figure out why the </code>&quot;Column integer is being called&quot; isn&#39;t being called.. Because I&#39;m pretty sure it should work!"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299381, "post_id": 34321372, "comment_id": 56385638, "body": "You&#39;re passing <code>T t</code> to <code>create</code>, but you&#39;re not doing anything with it."}, {"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299444, "post_id": 34321372, "comment_id": 56385665, "body": "@erip - Sorry! So what would <code>T t</code> have? I don&#39;t quite understand what I can do with it? I can&#39;t call <code>t.integer()</code> Does this make sense?"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299514, "post_id": 34321372, "comment_id": 56385700, "body": "Yes, this is why <code>static</code> isn&#39;t good for this design."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299666, "post_id": 34321372, "comment_id": 56385780, "body": "See listing 9 <a href=\"http://www.oracle.com/technetwork/articles/servers-storage-dev/howto-use-lambda-exp-cpp11-2189895.html\" rel=\"nofollow noreferrer\">here</a> for how to pass a lambda to a function."}, {"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "reply_to_user": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1450299913, "post_id": 34321372, "comment_id": 56385910, "body": "@erip - Got it! Makes sense, although, I think that the <code>::</code> looks better than creating an object and using <code>.</code> or <code>-&gt;</code>! Thanks for your help"}], "answers": [{"tags": [], "owner": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "is_accepted": true, "score": 2, "last_activity_date": 1450304732, "last_edit_date": 1450304732, "creation_date": 1450304186, "answer_id": 34323152, "question_id": 34321372, "link": "https://stackoverflow.com/questions/34321372/c-database-schema-using-migration/34323152#34323152", "title": "C++ - Database schema using migration", "body": "<p>You just need to call the lambda to actually perform task</p>\n\n<pre><code>class Schema {\n     public:\n\n          Schema() { } // construct \n\n          template&lt;typename T&gt;\n          void static create(std::string name, T const &amp; t) // pass reference to avoid copy\n          {\n               cout &lt;&lt; \"Create is started..\"; \n               t(); // call the lambda to do the actual work\n               cout &lt;&lt; \"Create is ended.\"; // you can run generated sql query now\n          } \n\n          void static integer(std::string column_name)\n          { \n              std::cout &lt;&lt; \"Column integer is called\";\n              // put SQL here for integer value\n          }\n};\n</code></pre>\n\n<p>Just be aware that this code is not thread-safe. If multiple <code>Schema::create</code> get called at same time, you will have unexpected result. You can pass a schema builder object to the lambda and use it to build the query to solve this issue.</p>\n"}, {"comments": [{"owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "edited": false, "score": 0, "creation_date": 1457995367, "post_id": 35988196, "comment_id": 59651567, "body": "thanks for this. Can you please edit your post so that the code is within tags! Also, how would I call this?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6060834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TOFVKgbQ4TQ/AAAAAAAAAAI/AAAAAAAAAKQ/w6NvdmOEuE0/photo.jpg?sz=128", "display_name": "Johnson Isreal", "link": "https://stackoverflow.com/users/6060834/johnson-isreal"}, "is_accepted": false, "score": 1, "last_activity_date": 1539614037, "last_edit_date": 1539614037, "creation_date": 1457960244, "answer_id": 35988196, "question_id": 34321372, "link": "https://stackoverflow.com/questions/34321372/c-database-schema-using-migration/35988196#35988196", "title": "C++ - Database schema using migration", "body": "<p>This might be too late, I will suggest you used the builder pattern to build your sql statement it will be easily ;\nYour code should look something like this </p>\n\n<pre><code>class Schama{\n    public:\n    static void create(std::string table, void (*callback)(Builder &amp;*builder)){\n\n        //then use the builder class to build your class\n        Builder *builder = new Builder(table);\n        if(callback)callback(builder)\n           if(builder)\n          {\n             Table *table = builder-&gt;build();\n             table-&gt;create();\n          }\n    }\n    Scheme::drop(std::string tablename){/* build your delete statement\n    }\n};\n</code></pre>\n\n<p>The Builder class can then have the follow</p>\n\n<pre><code>class Builder\n{\n   public:\n       Builder * String(std::string);\n       Builder  *Integer(std::string);\n       Builder  *Primary(std::string);\n       Builder  *Auto();\n       Builder  *Foreign(std::string parent, std::string colname);\n       Builder  *Unique();\n       Builder   *Blob(std::string columname)\n       Table     *  build();\n};\ncode here\n</code></pre>\n\n<p>This is how laravel framework schema class handles it and it's quite simple and easy to use.</p>\n"}], "owner": {"reputation": 3846, "user_id": 1326876, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d36eef32625367a43da63a9909ba716e?s=128&d=identicon&r=PG", "display_name": "Phorce", "link": "https://stackoverflow.com/users/1326876/phorce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 34323152, "answer_count": 2, "score": 1, "last_activity_date": 1539614037, "creation_date": 1450297337, "last_edit_date": 1450298298, "question_id": 34321372, "link": "https://stackoverflow.com/questions/34321372/c-database-schema-using-migration", "title": "C++ - Database schema using migration", "body": "<p>I'm working on an application that requires the use of a database. We are currently using migration files, however, this is just raw sql and can get quite messy and confusing, especially with everyone adding to it and also keeping it up to date is becoming a lot harder.</p>\n\n<p>I have been contemplating the idea of having a migration type functionality into the application, where we create a class for each of the migrations and then define the table and columns etc.. Using lambdas. However, what I've come up with does not seem to be working. Here is an example so far:</p>\n\n<pre><code>class Schema {\n     public:\n\n          Schema() { } // construct \n\n          template&lt;typename T&gt;\n          void static create(std::string name, T t)\n          {\n               cout &lt;&lt; \"Create is started..\"; \n               // This is where all the logic will go \n          } \n\n          void static integer(std::string column_name)\n          { \n              std::cout &lt;&lt; \"Column integer is called\";\n              // put SQL here for integer value\n          }\n};\n</code></pre>\n\n<p>Then the migration file will work something like:</p>\n\n<pre><code>class CreateUserTable {\n\n    public:\n       CreateUserTable() {\n\n            Schema::create(\"users\", []()\n            {\n                Schema::integer(\"id\");\n            }); \n       }\n\n\n}; \n</code></pre>\n\n<p>The idea is that when I call these migration files, essentially it will produce a series of well formed sql statements that I can use for my migrations. </p>\n\n<p>The question:</p>\n\n<p>With using Lambdas (as it is), how would I go about calling each of the function calls for the columns before the create function is executed fully? </p>\n\n<p>EDIT:</p>\n\n<p>To clear things up, essentially, in the body of the lambda function, whenever I call:</p>\n\n<pre><code>Schema::integer(\"COLUM_NAME\");\n</code></pre>\n\n<p>It will add another layer to the final SQL statement. So let's say I did the following:</p>\n\n<pre><code>Schema::create(\"users\", []()\n{\n      Schema::integer(\"id\");\n      Schema::integer(\"number\"); \n}); \n</code></pre>\n\n<p>It would create the following string:</p>\n\n<pre><code>CREATE TABLE `users` (\n  id INT NOT NULL AUTO_INCREMENT, \n  number INT NOT NOW AUTO_INCREMENT\n\n)\n</code></pre>\n\n<p>But, by creating a new object of \"CreateUserTable\" the only thing that is outputted is: <code>cout &lt;&lt; \"Create is started..\";</code> whereas I need <code>std::cout &lt;&lt; \"Column integer is called\";</code> to be called before it.. It doesn't look like it's doing anything with the function?</p>\n"}, {"tags": ["c++", "regex", "c++11", "g++"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1450296975, "post_id": 34321129, "comment_id": 56384190, "body": "<a href=\"https://gcc.gnu.org/bugs/\" rel=\"nofollow noreferrer\">gcc.gnu.org/bugs</a>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1450297036, "post_id": 34321129, "comment_id": 56384219, "body": "<code>regex_match</code> requires a full string match, <code>re.match</code> only requires a match to be at the beginning of the string."}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1450297160, "post_id": 34321129, "comment_id": 56384288, "body": "@stribizhev Ok, but since regex_match returns true, like re.match (that returns a match object) what&#39;s the difference?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450301138, "post_id": 34321129, "comment_id": 56386525, "body": "You have some other issue, the hyphen in your c++ regex <code>[0-9.\\-A-Za-z]+</code> is properly escaped."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450302069, "post_id": 34321129, "comment_id": 56386985, "body": "Well, I see nothing technically wrong with the C++ regex. It could span lines via some classes, but other than that, you are only using one string at at time so it should be ok. If the groups aren&#39;t being filled, that&#39;s because they don&#39;t happen to match the optional groups, but the whole regex succeed&#39;s. <code>&quot;^(?:([A-Za-z]+):)?(&#47;{0,3})([0-9.\\\\-A-Za-z]+)(?::(\\\\d+))?(?:&zwnj;&#8203;&#47;([^?#\\\\r\\\\n]*))?(?:&zwnj;&#8203;\\\\?([^#\\\\r\\\\n]*))?(?&zwnj;&#8203;:\\\\#(.*))?$&quot;</code>"}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450302540, "post_id": 34321129, "comment_id": 56387237, "body": "@sin the problem is that [.\\\\-A] is interpreted as [.-A], so it matches any character in that range, included the &quot;:&quot; which is used to delimit the port number and the &quot;/&quot; which marks the start of the internal path"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450302549, "post_id": 34321129, "comment_id": 56387241, "body": "And since your regex is already anchored, you might as well try to use <code>if ( regex_search( str, regex ) ) {...}</code> because using boost::regex I get something different."}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450302621, "post_id": 34321129, "comment_id": 56387283, "body": "@sin I don&#39;t want to use boost, I was trying to use a new feature of the STL"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450302693, "post_id": 34321129, "comment_id": 56387312, "body": "That&#39;s not the problem, in C++ strings &quot;\\\\&quot; gets parsed to \\. So &quot;[0-9.\\\\-A-Za-z]&quot; parses to [0-9.\\-A-Za-z]"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450302848, "post_id": 34321129, "comment_id": 56387394, "body": "I hate to tell you this but the original C++11 <i>was</i> boost::regex."}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450302904, "post_id": 34321129, "comment_id": 56387418, "body": "@sin run &#39;echo cia-o   | grep -e &quot;[cia\\\\-o]&quot;&#39; and you will face the same problem, as opposed to &#39;echo cia-o   | grep -e &quot;[ciao-]&quot;&#39;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450303009, "post_id": 34321129, "comment_id": 56387472, "body": "That&#39;s command line parsing, has nothing to do with C++ strings. From your app, just cout  this source string  &quot;[0-9.\\\\-A-Za-z]&quot; where string str = &quot;[0-9.\\\\-A-Za-z]&quot;;"}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450303204, "post_id": 34321129, "comment_id": 56387560, "body": "@sin that&#39;s just because grep by default uses POSIX regex syntax, just like (apparently) C++11"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450303319, "post_id": 34321129, "comment_id": 56387621, "body": "Are you sure POSIX is the flags_default? I&#39;m not sure about that, but you should change it to Perl or EMCA."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450303793, "post_id": 34321129, "comment_id": 56387823, "body": "Boost claims the standardized default is <i>normal</i>. syntax_option_type ECMAScript, JavaScript, JScript, perl = normal"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450304046, "post_id": 34321129, "comment_id": 56387960, "body": "All of the constructors default to <i>normal</i>. Typical <code>basic_regex(const  charT* p, flag_type f = regex_constants::normal);</code>"}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450305114, "post_id": 34321129, "comment_id": 56388523, "body": "@sin I checked the syntax_option_type flag, and surprisingly it is ECMAScript"}], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450299351, "post_id": 34321822, "comment_id": 56385625, "body": "Why you cannot use escape symbols inside character classes in C++ regex? Anyway I was aware of the fact that match_result does return the whole match, which is different from match.groups() which only returns the submatches.. That was not one of the differences that I was pointing out, the problem was the last you wrote"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450299470, "post_id": 34321822, "comment_id": 56385675, "body": "In POSIX, I corrected myself. Although I am still searching for reference. I thought ECMA syntax was used by default."}, {"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450300013, "post_id": 34321822, "comment_id": 56385954, "body": "I also thought that the default was ECMA syntax, at least according to <a href=\"http://www.cplusplus.com/reference/regex/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/regex</a>, even though I understand that it&#39;s not an official information source"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450300059, "post_id": 34321822, "comment_id": 56385986, "body": "You can escape anything you want in a character class, but if it is a control code or a property construct, you don&#39;t get the literal. And ECMA is just javasctipt syntax, nothing there."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1450300098, "post_id": 34321822, "comment_id": 56386013, "body": "@sln: not in a POSIX bracketed expression."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450300153, "post_id": 34321822, "comment_id": 56386039, "body": "Yeah, posix are classes, usually named, for comaptability in pcre for example. Does python use only posix expressions ?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1450300416, "post_id": 34321822, "comment_id": 56386166, "body": "I cannot get to the root cause, but the fact remains: the hyphen was treated as unescaped, and it created a range that  included <code>&#47;</code>, resulting in  an overfiring."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1450300636, "post_id": 34321822, "comment_id": 56386261, "body": "@sln: You confuse the terminology. In POSIX context, POSIX character classes are <code>[:alpha:]</code> etc., POSIX bracket expressions are <code>[0-9]</code> etc. See <a href=\"http://www.regular-expressions.info/posixbrackets.html#class\" rel=\"nofollow noreferrer\">this terminology explanation here</a>. In all other situations, I call <code>[0-9]</code> a character class, and <code>[:alpha:]</code> a POSIX character class (regular-expressions.info call it a POSIX bracket expression). BTW, Python does not support POSIX character classes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1450300939, "post_id": 34321822, "comment_id": 56386413, "body": "Oh, btw, on the op&#39;s C++11 regex, the class in group 3 after parsing results in it being <code>[0-9.\\-A-Za-z]+</code> passed to the engine. What do you mean by the hyphen is not escaped?"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1450299146, "last_edit_date": 1450299146, "creation_date": 1450298836, "answer_id": 34321822, "question_id": 34321129, "link": "https://stackoverflow.com/questions/34321129/c11-regexp-and-gcc/34321822#34321822", "title": "c++11 regexp and GCC", "body": "<p>There are two issues here:</p>\n\n<ul>\n<li><a href=\"https://docs.python.org/2/library/re.html#re.MatchObject.groups\" rel=\"nofollow\">Match object <code>groups()</code></a> vs. <a href=\"http://www.cplusplus.com/reference/regex/match_results/\" rel=\"nofollow\"><code>match_results</code></a> difference</li>\n<li>Characters inside character classes should not be escaped</li>\n</ul>\n\n<p>The <a href=\"https://docs.python.org/2/library/re.html#re.MatchObject.groups\" rel=\"nofollow\">match object <code>groups()</code></a> in Python returns all submatches (captured substrings) starting with Group 1:</p>\n\n<blockquote>\n  <p>Return a tuple containing all the subgroups of the match, from 1 up to however many groups are in the pattern. </p>\n</blockquote>\n\n<p>The <a href=\"http://www.cplusplus.com/reference/regex/match_results/\" rel=\"nofollow\"><code>match_results</code></a> starts enumerating all groups starting with the 0th group (the whole match):</p>\n\n<blockquote>\n  <p>If successful, it is not <a href=\"http://www.cplusplus.com/match_results::empty\" rel=\"nofollow\">empty</a> and contains a series of <a href=\"http://www.cplusplus.com/sub_match\" rel=\"nofollow\">sub_match</a> objects: the first <a href=\"http://www.cplusplus.com/sub_match\" rel=\"nofollow\">sub_match</a> element corresponds to the entire match, and, if the regex expression contained sub-expressions to be matched (i.e., parentheses-delimited groups), their corresponding sub-matches are stored as successive <a href=\"http://www.cplusplus.com/sub_match\" rel=\"nofollow\">sub_match</a> elements in the <code>match_results</code> object.</p>\n</blockquote>\n\n<p>The <code>\\</code> in Group 3 is not escaping the hyphen, it is ignored thus creating a range between <code>.</code> and <code>A</code> (= <code>[.-A]</code> in a normal regex world). </p>\n\n<p><strong>You cannot use escape symbols inside character classes in POSIX regex</strong>, it is considered an error. Put the hyphen at the end to avoid the need to escape it (like <code>[0-9.A-Za-z-]+</code>). </p>\n\n<p>So, in Python, use</p>\n\n<pre><code>e = re.compile(\"^(?:([A-Za-z]+):)?(\\\\/{0,3})([0-9.A-Za-z-]+)(?::(\\\\d+))?(?:\\\\/([^?#]*))?(?:\\\\?([^#]*))?(?:#(.*))?$\");\n</code></pre>\n\n<p>And in C++:</p>\n\n<pre><code>regex e(\"^(?:([A-Za-z]+):)?(\\\\/{0,3})([0-9.A-Za-z-]+)(?::(\\\\d+))?(?:\\\\/([^?#]*))?(?:\\\\?([^#]*))?(?:#(.*))?$\");\n// ...\nfor(int i=0; i&lt;3; i++)\n{\n    smatch sm;\n    regex_match (string_array[i],sm,e);\n\n    for (unsigned i=1; i&lt;sm.size(); ++i) // Here, start with the second element\n    {\n        cout &lt;&lt; \"[\" &lt;&lt; sm[i] &lt;&lt; \"] \";\n    }\n\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Compare <a href=\"http://ideone.com/cuLRhI\" rel=\"nofollow\">Python demo</a> and  <a href=\"http://ideone.com/UObfQg\" rel=\"nofollow\">C++ demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450300156, "post_id": 34322082, "comment_id": 56386042, "body": "No, I do not see the correct result, the problem was the one pointed out by stribizhev"}, {"owner": {"reputation": 799, "user_id": 698679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7d8e7ba1c6d9226662788db8a1ada2b5?s=128&d=identicon&r=PG", "display_name": "alangab", "link": "https://stackoverflow.com/users/698679/alangab"}, "reply_to_user": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "edited": false, "score": 0, "creation_date": 1450300275, "post_id": 34322082, "comment_id": 56386102, "body": "I test your example on vs2013 and get the wrong result you get at first. Then I change the line and see the correct string you aspect. But if you have resolve, it&#39;s ok!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1450300819, "post_id": 34322082, "comment_id": 56386346, "body": "To tell the truth, <code>sm[i].str()</code> is more correct than <code>sm[i]</code>, but it is just not the problem here, this part of code works alright."}], "tags": [], "owner": {"reputation": 799, "user_id": 698679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7d8e7ba1c6d9226662788db8a1ada2b5?s=128&d=identicon&r=PG", "display_name": "alangab", "link": "https://stackoverflow.com/users/698679/alangab"}, "is_accepted": false, "score": 0, "last_activity_date": 1450299917, "creation_date": 1450299917, "answer_id": 34322082, "question_id": 34321129, "link": "https://stackoverflow.com/questions/34321129/c11-regexp-and-gcc/34322082#34322082", "title": "c++11 regexp and GCC", "body": "<p>The regex works right.</p>\n\n<p>Change </p>\n\n<pre><code>cout &lt;&lt; \"[\" &lt;&lt; sm[i] &lt;&lt; \"] \";\n</code></pre>\n\n<p>with </p>\n\n<pre><code>cout &lt;&lt; \"[\" &lt;&lt; sm[i].str() &lt;&lt; \"] \";\n</code></pre>\n\n<p>and you see the correct result.</p>\n"}], "owner": {"reputation": 1006, "user_id": 2318607, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e21f94051948f433f6f2fda76e39a31?s=128&d=identicon&r=PG", "display_name": "woggioni", "link": "https://stackoverflow.com/users/2318607/woggioni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 34321822, "answer_count": 2, "score": 4, "last_activity_date": 1450304917, "creation_date": 1450296457, "last_edit_date": 1450304917, "question_id": 34321129, "link": "https://stackoverflow.com/questions/34321129/c11-regexp-and-gcc", "title": "c++11 regexp and GCC", "body": "<p>According to <a href=\"https://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status.iso.2011\" rel=\"nofollow\">https://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status.iso.2011</a> the regexp engine of the C++11 standard should be completed in GCC. Now, could someone explain me why this simple example</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\n\nusing namespace std;\n\n\nint main ()\n{\n    string string_array[] = {\"http://www.cplusplus.com/reference/regex/regex_match/\",\n                             \"tcp://192.168.2.1:1234/hello/how/are/you\",\n                             \"https://mail.google.com/mail/u/0/?tab=wm#inbox/15178022db56df29?projector=1\"};\n    regex e(\"^(?:([A-Za-z]+):)?(\\\\/{0,3})([0-9.\\\\-A-Za-z]+)(?::(\\\\d+))?(?:\\\\/([^?#]*))?(?:\\\\?([^#]*))?(?:#(.*))?$\");\n\n    for(int i=0; i&lt;3; i++)\n    {\n        smatch sm;\n        regex_match (string_array[i],sm,e);\n\n        for (unsigned i=0; i&lt;sm.size(); ++i)\n        {\n            cout &lt;&lt; \"[\" &lt;&lt; sm[i] &lt;&lt; \"] \";\n        }\n\n        cout &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>results in this output (note for example the incorrectly parsed port number of the second line, but there seem to be many bugs)</p>\n\n<pre><code>[http://www.cplusplus.com/reference/regex/regex_match/] [http] [//] [www.cplusplus.com/reference/regex] [] [regex_match/] [] [] \n[tcp://192.168.2.1:1234/hello/how/are/you] [tcp] [//] [192.168.2.1:1234/hello/how/are/you] [] [] [] [] \n[https://mail.google.com/mail/u/0/?tab=wm#inbox/15178022db56df29?projector=1] [https] [//] [mail.google.com/mail/u/0/?tab=wm] [] [] [] [inbox/15178022db56df29?projector=1] \n</code></pre>\n\n<p>while its python counterpart </p>\n\n<pre><code>import re\n\nstring_array = [\"http://www.cplusplus.com/reference/regex/regex_match/\",\n                         \"tcp://192.168.2.1:1234/hello/how/are/you\",\n                         \"https://mail.google.com/mail/u/0/?tab=wm#inbox/15178022db56df29?projector=1\"]\ne = re.compile(\"^(?:([A-Za-z]+):)?(\\\\/{0,3})([0-9.\\\\-A-Za-z]+)(?::(\\\\d+))?(?:\\\\/([^?#]*))?(?:\\\\?([^#]*))?(?:#(.*))?$\");\n\nfor i in range(len(string_array)):\n    m = e.match(string_array[i])\n    print(m.groups())\n</code></pre>\n\n<p>correctly prints this?</p>\n\n<pre><code>('http', '//', 'www.cplusplus.com', None, 'reference/regex/regex_match/', None, None)\n('tcp', '//', '192.168.2.1', '1234', 'hello/how/are/you', None, None)\n('https', '//', 'mail.google.com', None, 'mail/u/0/', 'tab=wm', 'inbox/15178022db56df29?projector=1')\n</code></pre>\n\n<p>I'm using gcc 5.3.0 on archlinux</p>\n\n<p>edit:</p>\n\n<p>I changed the program to this, checking the regex syntax_option_type flag</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\n\nusing namespace std;\n\n\nint main ()\n{\n    string string_array[] = {\"http://www.cplusplus.com/reference/regex/regex_match/\",\n                             \"tcp://192.168.2.1:1234/hello/how/are/you\",\n                             \"https://mail.google.com/mail/u/0/?tab=wm#inbox/15178022db56df29?projector=1\"};\n    regex e(\"^(?:([A-Za-z]+):)?(\\\\/{0,3})([0-9.\\\\-A-Za-z]+)(?::(\\\\d+))?(?:\\\\/([^?#]*))?(?:\\\\?([^#]*))?(?:#(.*))?$\");\n\n    for(int i=0; i&lt;3; i++)\n    {\n        smatch sm;\n        cout &lt;&lt; \"match: \" &lt;&lt;regex_match (string_array[i],sm,e) &lt;&lt; endl;\n\n        for (unsigned i=0; i&lt;sm.size(); ++i)\n        {\n            cout &lt;&lt; \"[\" &lt;&lt; sm[i].str() &lt;&lt; \"] \";\n        }\n    }\n\n    cout &lt;&lt; endl;\n\n    switch(e.flags())\n    {\n        case regex_constants::basic:\n            cout &lt;&lt; \"POSIX syntax was used\" &lt;&lt; endl;\n            break;\n        case regex_constants::awk:\n            cout &lt;&lt; \"POSIX awk syntax was used\" &lt;&lt; endl;\n            break;\n        case regex_constants::ECMAScript:\n            cout &lt;&lt; \"ECMA syntax was used\" &lt;&lt; endl;\n            break;\n        case regex_constants::egrep:\n            cout &lt;&lt; \"POSIX egrep syntax was used\" &lt;&lt; endl;\n            break;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>and surprisingly I obtain at the end</p>\n\n<pre><code>match: 1\n[http://www.cplusplus.com/reference/regex/regex_match/] [http] [//] [www.cplusplus.com/reference/regex] [] [regex_match/] [] [] match: 1\n[tcp://192.168.2.1:1234/hello/how/are/you] [tcp] [//] [192.168.2.1:1234/hello/how/are/you] [] [] [] [] match: 1\n[https://mail.google.com/mail/u/0/?tab=wm#inbox/15178022db56df29?projector=1] [https] [//] [mail.google.com/mail/u/0/?tab=wm] [] [] [] [inbox/15178022db56df29?projector=1] \nECMA syntax was used\n</code></pre>\n\n<p>this really seems to be a compiler bug..</p>\n"}, {"tags": ["c++", "audio", "mp3", "sdl-2"], "answers": [{"tags": [], "owner": {"reputation": 1015, "user_id": 5688187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-8yTdoOskIOk/AAAAAAAAAAI/AAAAAAAAAAA/YTYc19Rnn9Y/photo.jpg?sz=128", "display_name": "Martin V&#233;ronneau", "link": "https://stackoverflow.com/users/5688187/martin-v%c3%a9ronneau"}, "is_accepted": true, "score": 2, "last_activity_date": 1450388932, "creation_date": 1450388932, "answer_id": 34344887, "question_id": 34321012, "link": "https://stackoverflow.com/questions/34321012/sdl2-smpeg2-empty-sound-buffer-trying-to-read-a-mp3/34344887#34344887", "title": "SDL2 &amp; SMPEG2 - Empty sound buffer trying to read a MP3", "body": "<p>After much tinkering, research and digging through the SMPEG source code, I realized that I had to pass 1 as the SDLAudio parameter to SMPEG_new_rwops function.</p>\n\n<p>The comment found in smpeg.h is misleading :</p>\n\n<blockquote>\n  <p>The sdl_audio parameter indicates if SMPEG should initialize the SDL audio   subsystem. If not, you will have to use the SMPEG_playaudio() function below   to extract the decoded data.</p>\n</blockquote>\n\n<p>Since the audio subsystem was already initialized and I was using the SMPEG_playaudio() function, I had no reason to think I needed this parameter to be non-zero. In SMPEG, this parameter triggers the audio decompression at opening time, but even though I called <code>SMPEG_enableaudio(mp3, 1);</code> the data is never reparsed. This might be a bug/a shady feature.</p>\n\n<p>I had another problem with the freesrc parameter which needed to be 0, since I freed the SDL_RWops object myself.</p>\n\n<p>For future reference, once ChunkBuffer has the MP3 data, it needs to pass through SDL_BuildAudioCVT/SDL_ConvertAudio if it's to be played through an already opened audio device.</p>\n\n<p>The final working code is :</p>\n\n<pre><code>//  bool ReadMP3ToBuffer(char* filename)\nbool success = false;\nconst Uint32 Mp3ChunkLen = 4096;\nSDL_AudioSpec mp3Specs;\n\nSMPEG* mp3;\nSMPEG_Info infoMP3;\nUint8 * ChunkBuffer;\nUint32 MP3Length = 0;\n\n// Allocate a chunk buffer\nChunkBuffer = (Uint8*)malloc(Mp3ChunkLen);\nmemset(ChunkBuffer, 0, Mp3ChunkLen);\n\nSDL_RWops *mp3File = SDL_RWFromFile(filename, \"rb\"); // filename is a char* passed to the function.\nif (mp3File != NULL)\n{\n  mp3 = SMPEG_new_rwops(mp3File, &amp;infoMP3, 0, 1);\n\n  if(mp3 != NULL)\n  {\n    if(infoMP3.has_audio)\n    {\n      Uint32 readLen;\n\n      // Get the MP3 audio specs for later conversion\n      SMPEG_wantedSpec(mp3, &amp;mp3Specs);\n\n      SMPEG_enablevideo(mp3, 0);\n\n      // Play the MP3 once to get the size of the needed buffer in relation with the audio specs\n      SMPEG_play(mp3);\n      while ((readLen = SMPEG_playAudio(mp3, ChunkBuffer, Mp3ChunkLen)) &gt; 0)\n      {\n        MP3Length += readLen;\n      }\n      SMPEG_stop(mp3);\n\n      if(MP3Length &gt; 0)\n      {\n        // Reallocate the buffer with the new length (if needed)\n        if (MP3Length != Mp3ChunkLen)\n        {\n          ChunkBuffer = (Uint8*)realloc(ChunkBuffer, MP3Length);\n          memset(ChunkBuffer, 0, MP3Length);\n        }\n\n        // Replay the entire MP3 into the new ChunkBuffer.\n        SMPEG_rewind(mp3);\n        SMPEG_play(mp3);\n\n        bool readBackSuccess = (MP3Length == SMPEG_playAudio(mp3, ChunkBuffer, MP3Length));\n        SMPEG_stop(mp3);\n        if(readBackSuccess)\n        {\n          SDL_AudioCVT convertedSound;\n          // NOTE : static SDL_AudioSpec asDeviceSpecs; containing valid values after a call to SDL_OpenAudioDevice\n          if(SDL_BuildAudioCVT(&amp;convertedSound, mp3Specs.format, mp3Specs.channels, mp3Specs.freq, asDeviceSpecs.format, asDeviceSpecs.channels, asDeviceSpecs.freq) &gt;= 0)\n          {\n            Uint32 newBufferLen = MP3Length*convertedSound.len_mult;\n\n            // Make sure the audio length is a multiple of a sample size to avoid sound clicking\n            int sampleSize = ((asDeviceSpecs.format &amp; 0xFF)/8)*asDeviceSpecs.channels;\n            newBufferLen &amp;= ~(sampleSize-1);\n\n            // Allocate the new buffer and proceed with the actual conversion.\n            convertedSound.buf = (Uint8*)malloc(newBufferLen);\n            memcpy(convertedSound.buf, ChunkBuffer, MP3Length);\n\n            convertedSound.len = MP3Length;\n            if(SDL_ConvertAudio(&amp;convertedSound) == 0)\n            {\n              // Save convertedSound.buf and convertedSound.len_cvt for future use in your mixer code.\n              // Dont forget to free convertedSound.buf once it's not used anymore.\n              success = true;\n            }\n          }\n        }\n      }\n    }\n    SMPEG_delete(mp3);\n    mp3 = NULL;\n  }\n  SDL_RWclose(mp3File);\n  mp3File = NULL;\n}\n\nfree(ChunkBuffer);\n\nreturn success;\n</code></pre>\n\n<p><strong>NOTE</strong> : Some MP3 files I tried lost a few milliseconds and cutoff too early during playback when I resampled them with this code. Some others didn't. I could reproduce the same behaviour in Audacity, so I'm not sure what's going on. There may still have a bug with my code, a bug in SMPEG, or it maybe a known issue with the MP3 format itself. If someone can provide and explanation in the comments, that would be great!</p>\n"}], "owner": {"reputation": 1015, "user_id": 5688187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-8yTdoOskIOk/AAAAAAAAAAI/AAAAAAAAAAA/YTYc19Rnn9Y/photo.jpg?sz=128", "display_name": "Martin V&#233;ronneau", "link": "https://stackoverflow.com/users/5688187/martin-v%c3%a9ronneau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 34344887, "answer_count": 1, "score": 2, "last_activity_date": 1450388932, "creation_date": 1450296036, "last_edit_date": 1450303874, "question_id": 34321012, "link": "https://stackoverflow.com/questions/34321012/sdl2-smpeg2-empty-sound-buffer-trying-to-read-a-mp3", "title": "SDL2 &amp; SMPEG2 - Empty sound buffer trying to read a MP3", "body": "<p>I'm trying to load a MP3 in a buffer using the SMPEG2 library, which comes with the SDL2. Every SMPEG function calls returns without error, but when I'm done, the sound buffer is full of zeros.</p>\n\n<p>Here's the code :</p>\n\n<pre><code>bool LoadMP3(char* filename)\n{\n  bool success = false;\n  const Uint32 Mp3ChunkLen = 4096;\n\n  SMPEG* mp3;\n  SMPEG_Info infoMP3;\n  Uint8 * ChunkBuffer;\n  Uint32 MP3Length = 0;\n\n  // Allocate a chunk buffer\n  ChunkBuffer = (Uint8*)malloc(Mp3ChunkLen);\n\n  SDL_RWops *mp3File = SDL_RWFromFile(filename, \"rb\");\n  if (mp3File != NULL)\n  {\n    mp3 = SMPEG_new_rwops(mp3File, &amp;infoMP3, 1, 0);\n\n    if(mp3 != NULL)\n    {\n      if(infoMP3.has_audio)\n      {\n        Uint32 readLen;\n\n        // Inform the MP3 of the output audio specifications\n        SMPEG_actualSpec(mp3, &amp;asDeviceSpecs); // static SDL_AudioSpec asDeviceSpecs; containing valid values after a call to SDL_OpenAudioDevice\n\n        // Enable the audio and disable the video.\n        SMPEG_enableaudio(mp3, 1);\n        SMPEG_enablevideo(mp3, 0);\n\n        // Play the MP3 once to get the size of the needed finale buffer\n        SMPEG_play(mp3);\n        while ((readLen = SMPEG_playAudio(mp3, ChunkBuffer, Mp3ChunkLen)) &gt; 0)\n        {\n          MP3Length += readLen;\n        }\n        SMPEG_stop(mp3);\n\n        if(MP3Length &gt; 0)\n        {\n          // Reallocate the buffer with the new length (if needed)\n          if (MP3Length != Mp3ChunkLen)\n          {\n            ChunkBuffer = (Uint8*)realloc(ChunkBuffer, MP3Length);\n          }\n\n          // Replay the entire MP3 into the new ChunkBuffer.\n          SMPEG_rewind(mp3);\n          SMPEG_play(mp3);\n          bool readBackSuccess = (MP3Length == SMPEG_playAudio(mp3, ChunkBuffer, MP3Length));\n          SMPEG_stop(mp3);\n          if(readBackSuccess)\n          {\n            // !!! Here, ChunkBuffer contains only zeros !!!\n\n            success = true;\n          }\n        }\n      }\n      SMPEG_delete(mp3);\n      mp3 = NULL;\n    }\n    SDL_RWclose(mp3File);\n    mp3File = NULL;\n  }\n\n  free(ChunkBuffer);\n  return success;\n}\n</code></pre>\n\n<p>The code's widely based on SDL_Mixer, which I cannot use for my projet, based on its limitations.</p>\n\n<p>I know Ogg Vorbis would be a better choice of file format, but I'm porting a very old project, and it worked entirely with MP3s.</p>\n\n<p>I'm sure the sound system is initialized correctly because I can play WAV files just fine. It's intialized with a frequency of 44100, 2 channels, 1024 samples, and the AUDIO_S16SYS format (the latter which is, as I understood from the SMPEG source, mandatory).</p>\n\n<p>I've calculated the anticipated buffer size, based on the bitrate, the amount of data in the MP3 and the OpenAudioDevice audio specs, and everything is consistent.</p>\n\n<p>I cannot figure why everything but the buffer data seems to be working.</p>\n\n<p><strong>UPDATE #1</strong></p>\n\n<p>Still trying to figure out what's wrong, I thought the support for MP3 might not be working, so I created the following function :</p>\n\n<pre><code>SMPEG *mpeg;\nSMPEG_Info info;\nmpeg = SMPEG_new(filename,&amp;info, 1);\nSMPEG_play(mpeg);\ndo { SDL_Delay(50); } while(SMPEG_status(mpeg) == SMPEG_PLAYING);\nSMPEG_delete(mpeg);\n</code></pre>\n\n<p>The MP3 played. So, the decoding should actually be working. But that's not what I need ; I really need the sound buffer data so I can send it to my mixer.</p>\n"}, {"tags": ["c++", "arguments", "incomplete-type"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1450295857, "post_id": 34320952, "comment_id": 56383613, "body": "Nitpick: you&#39;re passing an argument of a complete type. You&#39;re asking about the parameter, not the argument."}, {"owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1450296076, "post_id": 34320952, "comment_id": 56383731, "body": "@chris I wonder if this is a nitpick or the answer to my question\u2026 The exact quote of cppreference.com: &quot;<i>Any of the following contexts requires class T to be complete: (...) * definition or function call to a function with return type T or argument type T; (...)</i>&quot;"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1450296408, "post_id": 34320952, "comment_id": 56383897, "body": "A function definition, like you have, requires its parameters to be complete. A declaration does not. The actual answer is that it&#39;s really turned into a pointer and a pointer is a complete type."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1450296491, "post_id": 34320952, "comment_id": 56383940, "body": "Another dup: <a href=\"http://stackoverflow.com/questions/14309136/passing-arrays-to-function-in-c\" title=\"passing arrays to function in c\">stackoverflow.com/questions/14309136/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 2, "last_activity_date": 1450296210, "creation_date": 1450296210, "answer_id": 34321057, "question_id": 34320952, "link": "https://stackoverflow.com/questions/34320952/why-can-i-pass-an-argument-of-incomplete-type-to-a-function/34321057#34321057", "title": "Why can I pass an argument of incomplete type to a function?", "body": "<p>The usual rules for adjustment of parameter types apply to arrays of unknown bound too. Therefore, that declaration actually makes <code>f</code> a function taking an argument of type <code>int*</code>, not <code>int[]</code>. <code>int*</code> is a complete type.</p>\n"}], "owner": {"reputation": 6365, "user_id": 4385532, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0573709d0b88e4b50af0e28c3e96873b?s=128&d=identicon&r=PG&f=1", "display_name": "gaazkam", "link": "https://stackoverflow.com/users/4385532/gaazkam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "closed_date": 1450296400, "answer_count": 1, "score": 0, "last_activity_date": 1450328094, "creation_date": 1450295811, "question_id": 34320952, "link": "https://stackoverflow.com/questions/34320952/why-can-i-pass-an-argument-of-incomplete-type-to-a-function", "closed_reason": "Duplicate", "title": "Why can I pass an argument of incomplete type to a function?", "body": "<p>According to <a href=\"http://en.cppreference.com/w/cpp/language/type\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/type</a> , arrays of unknown bound are incomplete types and function definitions are only allowed with arguments of complete types. </p>\n\n<p>Well, consider the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid f(int t[])\n{\n    cout &lt;&lt; t[2] &lt;&lt; endl;\n}\n\nint main()\n{\n    int tab[5] = {1,2,3,4,5};\n    f(tab);\n}\n</code></pre>\n\n<p>To my understanding, <code>int t[]</code> is an array of unknown bound. Therefore no argument of such type should appear within the definition of function <code>f</code>, and the above code should be illegal.</p>\n\n<p>Yet both clang <a href=\"http://melpon.org/wandbox/permlink/IqOXuXBqIsJSJLOr\" rel=\"nofollow\">http://melpon.org/wandbox/permlink/IqOXuXBqIsJSJLOr</a> and gcc <a href=\"http://melpon.org/wandbox/permlink/8TKWq3UTP5sNC8rJ\" rel=\"nofollow\">http://melpon.org/wandbox/permlink/8TKWq3UTP5sNC8rJ</a> accept this code. Why?</p>\n"}, {"tags": ["c++", "omnet++", "wifi"], "answers": [{"tags": [], "owner": {"reputation": 6358, "user_id": 4707703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6455B.png?s=128&g=1", "display_name": "Christoph Sommer", "link": "https://stackoverflow.com/users/4707703/christoph-sommer"}, "is_accepted": false, "score": 1, "last_activity_date": 1450320100, "creation_date": 1450320100, "answer_id": 34325744, "question_id": 34320445, "link": "https://stackoverflow.com/questions/34320445/omnet-seed-set-numbers-and-run-number/34325744#34325744", "title": "omnet++ seed set numbers and run number", "body": "<p>Your simulation model includes many probabilistic components - at the very least for deciding whether or not a frame is received: to model a packet reception rate of, e.g., 90% your simulation will randomly drop a frame with a 10% probability. Such random effects occur in many parts of any simulation.</p>\n\n<p>This means that not every run will yield the same result: for one simulation, the first five frames might get through, for another already the first frame might be dropped.</p>\n\n<p>This is why you will need to run your simulations many times (with different seeds) to derive a statistically significant result. In OMNeT++ this can be done by setting the <code>repeat</code> .ini parameter to, e.g., 100.</p>\n"}], "owner": {"reputation": 49, "user_id": 2169880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/510fb0e5d69c0b74314426f988041b32?s=128&d=identicon&r=PG", "display_name": "Andre", "link": "https://stackoverflow.com/users/2169880/andre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1455383638, "creation_date": 1450294008, "last_edit_date": 1450300844, "question_id": 34320445, "link": "https://stackoverflow.com/questions/34320445/omnet-seed-set-numbers-and-run-number", "title": "omnet++ seed set numbers and run number", "body": "<p>I\u00b4m facing the following problem :</p>\n\n<p>I\u00b4m simulating a wimesh network and a point to multi point in OMNET++ 4.6 using IEEE 802.11g and 11b operating in 2.4GHz and 900 MHz respectively.</p>\n\n<p>I have an HTTP application , which I developed, sending http messages via open sockets.</p>\n\n<p>When running several times with diferente run numbers I see that messages do not arrive to destination. But if it runs on runnumber =0 , all messages arrive.</p>\n\n<p>Can anyone help me to explain , why this may be happening ? Could it be related with the propagation model affecting the received power level ?</p>\n\n<p>Sincerely,</p>\n\n<p>Andre</p>\n"}, {"tags": ["c++", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1450331583, "creation_date": 1450331583, "answer_id": 34327529, "question_id": 34320344, "link": "https://stackoverflow.com/questions/34320344/how-to-stabilize-a-video-with-fast-algorithm/34327529#34327529", "title": "How to stabilize a video with FAST algorithm?", "body": "<p>Since you are using features your result may be not very stable, since features may appear and disappear, causing shaking. You may want to try approaches that are based on finding transformation that minimizes intensity difference between corresponding pixels from whole frames.</p>\n\n<p>When I was fiddling with video stabilization I used <a href=\"http://far.in.tum.de/pub/benhimane2004iros1/benhimane2004iros1.pdf\" rel=\"nofollow\">ESM</a> as a main tool. I am not sure if there are available implementations now,  but it is not hard to roll your own if you feel confident with jacobians and matrix operations. You can see figure 5 from the linked paper as an example - it can be used to track/stabilize planar areas rather robustly. But your frames are likely not really planar, so you'll have to implement some kind of outlier rejection. You also have to figure out how will you compare frames - last-with-previous, or last-with-first. I was working on stabilization for some sort of timelapse videos, so used the latter approach, but for real videos you will probably use former, since it allows drift of camera position over time.</p>\n"}], "owner": {"reputation": 105, "user_id": 4529961, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/gs95y.jpg?s=128&g=1", "display_name": "Alfredo Liardo", "link": "https://stackoverflow.com/users/4529961/alfredo-liardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450331583, "creation_date": 1450293661, "question_id": 34320344, "link": "https://stackoverflow.com/questions/34320344/how-to-stabilize-a-video-with-fast-algorithm", "title": "How to stabilize a video with FAST algorithm?", "body": "<p>I'm new to opencv and I'm trying to stabilize a video with FAST algorithm( <a href=\"http://www.edwardrosten.com/work/fast.html\" rel=\"nofollow\">http://www.edwardrosten.com/work/fast.html</a> ).\nI have wrote some code but the result is not very good , how can i improve the video stabilization?\nthis is my code:</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;cassert&gt;\n#include &lt;cmath&gt;\n#include &lt;fstream&gt;\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, const char * argv[]) {\n\nMat frame, frame_edg, prev_frame,warped;\nMat T,last_T;\nvector&lt;KeyPoint&gt; corners,prev_corners;\nvector&lt;Point2f&gt; corners2f,prev_corners2f;\nint key = 0;\n\nVideoCapture cap(\"video.mp4\");//inizializzo l'oggetto VideoCapture con il mio video\n\nif (!cap.isOpened()) {//controllo se \u00e8 stato aperto\n    cout&lt;&lt;\"Impossbile aprire il video\"&lt;&lt;endl;\n    return -1;\n}\ndouble fps = cap.get(CV_CAP_PROP_FPS);//ricavo i frame per secondo\ncout&lt;&lt;\"Frame per secondo: \"&lt;&lt;fps&lt;&lt;endl;\n\nnamedWindow(\"Sequenza Originale\",CV_WINDOW_AUTOSIZE);//creo una finestra auto-dimensionante\nnamedWindow(\"Sequenza in grigio\",CV_WINDOW_AUTOSIZE);\nnamedWindow(\"Warped\");\n\nwhile (key!=27) {\n\n    cap &gt;&gt; frame;\n    cvtColor(frame, frame, CV_BGR2GRAY);\n    equalizeHist(frame, frame);\n    vector &lt;Point2f&gt; prev_corners2, cur_corners2;\n    vector &lt;uchar&gt; status;\n    vector &lt;float&gt; err;\n\n\n    imshow(\"Sequenza Originale\", frame);\n    if (!prev_frame.empty())\n    {\n        FAST(frame, corners, 5);//corner detection\n        FAST(prev_frame, prev_corners, 5);//corner detection\n        KeyPoint::convert(corners, corners2f);\n        KeyPoint::convert(prev_corners, prev_corners2f);\n        calcOpticalFlowPyrLK(prev_frame, frame, prev_corners2f, corners2f, status, err);//matching\n        // weed out bad matches\n        for(size_t i=0; i &lt; status.size(); i++) {\n            if(status[i]) {\n                prev_corners2.push_back(prev_corners2f[i]);\n                cur_corners2.push_back(corners2f[i]);\n            }\n        }\n        T=estimateRigidTransform(cur_corners2, prev_corners2, false);\n        // in rare cases no transform is found. We'll just use the last known good transform.\n        if(T.data == NULL) {\n            last_T.copyTo(T);\n        }\n\n        T.copyTo(last_T);\n        warpAffine(frame, warped, T, Size(frame.cols,frame.rows));\n        imshow(\"Warped\", warped);\n        prev_frame = frame.clone();\n    }\n    if(prev_frame.empty())\n    {\n        prev_frame = frame.clone();\n    }\n    key = waitKey(30);\n\n}\ndestroyAllWindows();\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "performance", "stl"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1450294648, "post_id": 34320307, "comment_id": 56382946, "body": "<code>list</code> is probably the only one of any significant overhead, it&#39;s possible your library implementation will dynamically allocate a sentinel node (the one <code>end()</code> points to) upon default construction. But the only sure way to find out what the cost is is to profile your implementation."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1450295767, "post_id": 34320307, "comment_id": 56383561, "body": "Are you trying to implement optional parameters?"}, {"owner": {"reputation": 553, "user_id": 194305, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bea25433dd75445237bc5c42a225287?s=128&d=identicon&r=PG", "display_name": "zzz777", "link": "https://stackoverflow.com/users/194305/zzz777"}, "edited": false, "score": 0, "creation_date": 1450323992, "post_id": 34320307, "comment_id": 56394477, "body": "@MM7, yet and my question was reformatted in the strange way."}], "answers": [{"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1450294043, "post_id": 34320440, "comment_id": 56382627, "body": "Function calls can be inlined, so the call itself may not be a major factor."}, {"owner": {"reputation": 12227, "user_id": 86515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a63278bb0f3e5beef0755a2d2033e999?s=128&d=identicon&r=PG&f=1", "display_name": "KitsuneYMG", "link": "https://stackoverflow.com/users/86515/kitsuneymg"}, "edited": false, "score": 2, "creation_date": 1450294341, "post_id": 34320440, "comment_id": 56382796, "body": "If your <code>string</code> implementation doesn&#39;t malloc, it should be pretty fast. However, I found that some standard library containers always malloc, and that can have a large effect on runtime if you call it often enough."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1450294525, "post_id": 34320440, "comment_id": 56382880, "body": "@KerrekSB, I was including any overheads associated with dynamic memory allocation and deallocation when was saying <i>function call</i>. Point taken though."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1450311744, "post_id": 34320440, "comment_id": 56390978, "body": "@RSahu: Yeah - whether there are non-allocating default constructors is QoI."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1450294417, "last_edit_date": 1450294417, "creation_date": 1450293992, "answer_id": 34320440, "question_id": 34320307, "link": "https://stackoverflow.com/questions/34320307/c-cost-of-default-constructors-for-string-list-vector/34320440#34320440", "title": "C++ cost of default constructors for string, list, vector", "body": "<blockquote>\n  <p>I am wondering how expensive is calling default constructor vs passing reference to some <code>static</code> empty string?</p>\n</blockquote>\n\n<p>If you have a <code>static</code> empty string, it is better to use it. Constructing a new object and destructing it is going to cost some time, however small it may be.</p>\n\n<p>You don't lose anything by using the <code>static</code> empty string if construction and destruction of a default constructed <code>std::string</code> does not take any time at all.</p>\n\n<p>You potentially gain quite a bit of time over the life of the program depending on how may times the function gets called if a default constructed <code>std::string</code> takes even a small amount of time in the constructor and the destructor.</p>\n"}, {"tags": [], "owner": {"reputation": 13563, "user_id": 992490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=128&d=identicon&r=PG", "display_name": "Marshall Clow", "link": "https://stackoverflow.com/users/992490/marshall-clow"}, "is_accepted": false, "score": 4, "last_activity_date": 1450295341, "creation_date": 1450295341, "answer_id": 34320822, "question_id": 34320307, "link": "https://stackoverflow.com/questions/34320307/c-cost-of-default-constructors-for-string-list-vector/34320822#34320822", "title": "C++ cost of default constructors for string, list, vector", "body": "<p>It depends on the implementation. If the string in your standard library uses the \"small string optimization\" (which most modern libraries do), <code>string</code>s default constructor might be as small as three instructions. (zeroing three words).</p>\n\n<p><code>vector</code> and <code>list</code> can also be very cheap to initialize, but it depends on the implementation.</p>\n"}], "owner": {"reputation": 553, "user_id": 194305, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bea25433dd75445237bc5c42a225287?s=128&d=identicon&r=PG", "display_name": "zzz777", "link": "https://stackoverflow.com/users/194305/zzz777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 0, "accepted_answer_id": 34320440, "answer_count": 2, "score": 3, "last_activity_date": 1450360295, "creation_date": 1450293521, "last_edit_date": 1450360295, "question_id": 34320307, "link": "https://stackoverflow.com/questions/34320307/c-cost-of-default-constructors-for-string-list-vector", "title": "C++ cost of default constructors for string, list, vector", "body": "<p>In many cases I would like to pass reference to const string parameter with default being empty string.</p>\n\n<pre><code>void func(std::string const&amp; z = std::string());\n</code></pre>\n\n<p>I am wondering how expensive is calling default constructor vs. passing reference to some static empty string?</p>\n\n<pre><code>void func(std::string const&amp; z = my_staticEmptyStr);\n</code></pre>\n\n<p>What about lists and vectors?</p>\n\n<p>Update. Unfortunately, I do not see a nice generic way to have static empty-xxx objects, except having its own copy in every class that needs it. Fortunately, it seems to me that none of the default constructors for stl classes require memory allocations, so I decided to do it in a traditional way on all paths except frequently called ones.</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 370, "user_id": 4593456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c87ca8115c820481fb9169dc41324e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/4593456/michael"}, "edited": false, "score": 0, "creation_date": 1450293646, "post_id": 34320257, "comment_id": 56382364, "body": "You can use function like <code>printCount(string text, int count) {     for(int now = 0; now &lt; count; now++)         printf(text); }</code>  and then use it in your loop like <code>for(int now = 1; now &lt; 4; now++) printCount(&quot;hey&quot;, now)</code>"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 370, "user_id": 4593456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c87ca8115c820481fb9169dc41324e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/4593456/michael"}, "edited": false, "score": 1, "creation_date": 1450293690, "post_id": 34320257, "comment_id": 56382390, "body": "@Mikhail : That is an answer not a comment - post an answer."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450294658, "post_id": 34320257, "comment_id": 56382951, "body": "The code presented did not produce the output you suggest;  I have fixed it so that it does."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450297860, "post_id": 34320257, "comment_id": 56384676, "body": "Is it your intent to construct a string with the repeats or simply generate the output?  The latter is trivial, and is what the answer you have accepted does, but that is not what you are doing or asking in your question, where you are constructing a repeated string object for each iteration."}], "answers": [{"tags": [], "owner": {"reputation": 841, "user_id": 2780640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e4ab3fa08e71da7953d6adf61ac95404?s=128&d=identicon&r=PG&f=1", "display_name": "soulsabr", "link": "https://stackoverflow.com/users/2780640/soulsabr"}, "is_accepted": false, "score": 1, "last_activity_date": 1450293567, "creation_date": 1450293567, "answer_id": 34320320, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320320#34320320", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>Just stick your <code>cout</code> in a <code>for</code> loop.  Just be careful on how you handle the conditional and increment.</p>\n"}, {"comments": [{"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450297377, "post_id": 34320395, "comment_id": 56384402, "body": "It produces the correct console output, but in the question, a string <code>a</code> is constructed with the repeats, which i believe is the aim.."}], "tags": [], "owner": {"reputation": 778, "user_id": 5687769, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OGS_dHjyp7s/AAAAAAAAAAI/AAAAAAAAACI/tHJG2NuXit4/photo.jpg?sz=128", "display_name": "Ankur  Jyoti Phukan", "link": "https://stackoverflow.com/users/5687769/ankur-jyoti-phukan"}, "is_accepted": false, "score": 0, "last_activity_date": 1450295590, "last_edit_date": 1450295590, "creation_date": 1450293838, "answer_id": 34320395, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320395#34320395", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<pre><code>string a = \"hey\";\nfor(int i = 3; i &gt; 0; i--)\n{\n    for(int j = i; j &gt; 0; j--)\n        cout &lt;&lt; a;\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450296301, "post_id": 34320397, "comment_id": 56383840, "body": "<i>At least</i> two, you could use recursion."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450297569, "post_id": 34320397, "comment_id": 56384501, "body": "This solution produces the correct output, but does not construct a repeated string object as in the question."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1450293840, "creation_date": 1450293840, "answer_id": 34320397, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320397#34320397", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>There are two methods for this:</p>\n\n<ol>\n<li>Start with large string, erase pieces</li>\n<li>Use nested loop  </li>\n</ol>\n\n<p>With the large string, you will need to start with \"heyheyhey\" and print the string then erase a \"hey\" in each loop.  It's the opposite of concatenation.  </p>\n\n<p>The other method is to use nested loops:  </p>\n\n<pre><code>for (unsigned int line = 0; line &lt; 3; ++line)\n{\n  for (unsigned int copies_per_line = 0; copies_per_line &lt; (3 - line); ++copies_per_line)\n  {\n    cout &lt;&lt; \"hey\";\n  }\n  cout &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1450294048, "post_id": 34320417, "comment_id": 56382630, "body": "Or <code>for (int now = 3; now &gt; 0; now--) printCount(&quot;hey&quot;, now);</code>"}, {"owner": {"reputation": 370, "user_id": 4593456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c87ca8115c820481fb9169dc41324e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/4593456/michael"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1450294108, "post_id": 34320417, "comment_id": 56382672, "body": "@JohnnyMopp Yes. It is very easy to use =)"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450297500, "post_id": 34320417, "comment_id": 56384464, "body": "I assume from the question that the aim is to construct a string containing the repeats rather then simply repeating the output to the console."}], "tags": [], "owner": {"reputation": 370, "user_id": 4593456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c87ca8115c820481fb9169dc41324e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/4593456/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1450294173, "last_edit_date": 1450294173, "creation_date": 1450293914, "answer_id": 34320417, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320417#34320417", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>you can create aditional function that wiil print text X times:</p>\n\n<pre><code>void printCount(string text, int count)\n{\n    for(int now = 0; now &lt; count; now++)\n        printf(text);\n}\n</code></pre>\n\n<p>Then you can create main loop that wiil display your text:</p>\n\n<pre><code>for(int now = 0; now &lt; 3; now++)\n    printCount(\"hey\", now + 1);\n</code></pre>\n\n<p>There now + 1 mean that in cycle 0 we need to print 1 msg, in cycle 1 - 2 and more</p>\n\n<p>For your situation:</p>\n\n<pre><code>for(int now = 3; now &gt; 0; now--)\n    printCount(\"hey\", now);\n</code></pre>\n\n<p>EDIT:\nYou can use cout also:</p>\n\n<pre><code>void printCount(string text, int count)\n{\n    for(int now = 0; now &lt; count; now++)\n        cout &lt;&lt; text;\n    cout &lt;&lt; endln;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1450296550, "post_id": 34320731, "comment_id": 56383969, "body": "That is a comment, not an answer.  The point has already been commented on and the question fixed before your post; which is why you should <i>only</i> answer the question in an answer rather then comment on the question."}], "tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1450295007, "creation_date": 1450295007, "answer_id": 34320731, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320731#34320731", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>By the way your method fails even for the second case. It will not print</p>\n\n<pre><code>hey\nheyday\nheyheyhey\n</code></pre>\n\n<p>but</p>\n\n<pre><code>hey\nheyhey\nheyheyheyhey\n</code></pre>\n\n<p>as the string always doubles in each iteration.</p>\n\n<p>As other answers state, you can just simply use an additional inner loop.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 3429947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f07bb7023bb33d3470124adb29c71c?s=128&d=identicon&r=PG&f=1", "display_name": "Daphoa", "link": "https://stackoverflow.com/users/3429947/daphoa"}, "is_accepted": false, "score": 0, "last_activity_date": 1450295615, "creation_date": 1450295615, "answer_id": 34320893, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34320893#34320893", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>This unfortunately isn't as trivial as it seems. I see two potential solution: store the output in the loop the first time and print on a second loop, or create <code>a</code> the first time and create the output in a second loop. Either way, I can't see how to do this in a single loop.</p>\n\n<p>Since copying strings into arrays is a bit annoying, here's the second solution.</p>\n\n<pre><code>string a = \"hey\";\nfor (int i = 0; i &lt; 3; i++)\n  a += a;\n\nfor (int j = 0; j &lt; 3; j++) {\n  int copyLength = (3 - j) * \"hey\".length();\n  cout &lt;&lt; a.substr(0, copyLength) &lt;&lt; endl;\n}\n</code></pre>\n\n<p><strong>Note:</strong> I would strongly consider making <code>3</code> a <code>const</code> or at least a variable here. All instances of <code>3</code> in the above code should be changed together.</p>\n"}, {"tags": [], "owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "is_accepted": false, "score": 0, "last_activity_date": 1450296152, "creation_date": 1450296152, "answer_id": 34321042, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop/34321042#34321042", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>It is not clear what arbitrary restrictions you are placing on yourself, but the output can be trivially obtained in many ways.  Here is a recursive solution:</p>\n\n<pre><code>std::string repeat(std::string str, int rpt)\n{\n    return (rpt &gt; 1) ? str + repeat(str, rpt - 1) : str; \n}\n\nint main()\n{\n\n    for (int i = 3; i &gt; 0; i--)\n    {\n        std::string a = repeat( \"hey\", i);\n        std::cout &lt;&lt; a &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5008099"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 34320397, "answer_count": 7, "score": 0, "last_activity_date": 1450296152, "creation_date": 1450293347, "last_edit_date": 1450294656, "question_id": 34320257, "link": "https://stackoverflow.com/questions/34320257/is-it-possible-to-print-out-a-string-corresponding-to-the-counter-of-a-loop", "title": "Is it possible to print out a string corresponding to the counter of a loop", "body": "<p>I tried creating a loop and using the append function.\nexample:</p>\n\n<pre><code>string a = \"hey\";\nfor (int i = 0; i &lt; 3; i++)\n{\n    cout &lt;&lt; a &lt;&lt; endl;\n    a += a;\n}\n</code></pre>\n\n<p>For example, if I wanted to print out</p>\n\n<pre><code>heyheyhey\nheyhey\nhey\n</code></pre>\n\n<p>then this method would fail.</p>\n\n<p>BUT if I wanted to print out</p>\n\n<pre><code>hey\nheyday\nheyheyhey\n</code></pre>\n\n<p>then this method would work; since the append function adds the string to the end as per the number of loop iterations. Is it possible to solve this solution as per the way I am trying? Or is there a way to recursively swap the bottom solution to attain the top solution? I've been learning strings and I was hoping that I could solve this problem using string functions.</p>\n"}, {"tags": ["c++", "winapi", "credential-providers"], "comments": [{"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1450293052, "post_id": 34319824, "comment_id": 56382035, "body": "I don&#39;t follow your logic about having two QITAB lists. Are you saying a CredUI instance of your class can only implement the one interface? If so, how are you defining whether this is a CredUI instance or not?"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1450293904, "post_id": 34319824, "comment_id": 56382524, "body": "(I should have said this in my first comment.) For what it&#39;s worth I do know the answer to your question; I just want to make sure you aren&#39;t implementing <code>QueryInterface()</code> incorrectly."}, {"owner": {"reputation": 117, "user_id": 4215449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec333965fb33c51b0089598b2d79513e?s=128&d=identicon&r=PG", "display_name": "Dominik P", "link": "https://stackoverflow.com/users/4215449/dominik-p"}, "reply_to_user": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1450297398, "post_id": 34319824, "comment_id": 56384423, "body": "The Credential decides which list to return based on the CPUS scenario. And the Provider decides which one to instantiate, also based on the CPUS scenario. But you are right, one list would be enough, as the provider will take care of which interface to request and return. It&#39;s a relict, sometimes it made sense."}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1450298537, "post_id": 34319824, "comment_id": 56385127, "body": "Right. Just remember that <code>QueryInterface()</code> on a given instance must always return the same values for the same inputs through its lifetime. If you change which <code>QITAB</code> a given object uses in the middle of its lifetime, you&#39;re breaking that rule. Did <code>QITABENTMULTI()</code> fix your issue?"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 4215449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec333965fb33c51b0089598b2d79513e?s=128&d=identicon&r=PG", "display_name": "Dominik P", "link": "https://stackoverflow.com/users/4215449/dominik-p"}, "edited": false, "score": 0, "creation_date": 1450300721, "post_id": 34320420, "comment_id": 56386287, "body": "This fixes the <code>QueryInterface</code> issues. Thank you. But now I&#39;m in the following situation: I have methods taking parameters of type <code>ICredentialProviderCredential</code>. Until now these references were passed using <code>this</code>, which now in turn still throws <code>ambiguous conversion &#39;CCredential *const&#39; to &#39;ICredentialProviderCredential *&#39;</code>. Any ideas?"}, {"owner": {"reputation": 117, "user_id": 4215449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec333965fb33c51b0089598b2d79513e?s=128&d=identicon&r=PG", "display_name": "Dominik P", "link": "https://stackoverflow.com/users/4215449/dominik-p"}, "edited": false, "score": 0, "creation_date": 1450303270, "post_id": 34320420, "comment_id": 56387593, "body": "Okay as the references passed may be reinterpreted as instances of their common base class <code>ICredentialProviderCredential</code> I ended up using <code>reinterpret_cast&lt;ICredentialProviderCredential&gt;(this)</code> wherever a reference to the <code>CCredential</code> class base is needed."}], "tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": true, "score": 1, "last_activity_date": 1450298650, "last_edit_date": 1450298650, "creation_date": 1450293930, "answer_id": 34320420, "question_id": 34319824, "link": "https://stackoverflow.com/questions/34319824/diamond-inheritance-using-windows-v2-credential-providers/34320420#34320420", "title": "Diamond inheritance using Windows V2 Credential Providers", "body": "<p>You will need to use the <code>QITABENTMULTI()</code> macro for your case. It's documented in <code>shlwapi.h</code>. I have no idea why it isn't on MSDN.</p>\n"}], "owner": {"reputation": 117, "user_id": 4215449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec333965fb33c51b0089598b2d79513e?s=128&d=identicon&r=PG", "display_name": "Dominik P", "link": "https://stackoverflow.com/users/4215449/dominik-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 34320420, "answer_count": 1, "score": 0, "last_activity_date": 1450298650, "creation_date": 1450291718, "last_edit_date": 1450294125, "question_id": 34319824, "link": "https://stackoverflow.com/questions/34319824/diamond-inheritance-using-windows-v2-credential-providers", "title": "Diamond inheritance using Windows V2 Credential Providers", "body": "<p>Following situation:</p>\n\n<p>I have a working V1 CP that implements the <code>IConnectableCredentialProviderCredential</code> interface. This dependency is necessary to have access to the <code>IQueryContinueWithStatus</code> interface, which I need.</p>\n\n<pre><code>class CCredential : public IConnectableCredentialProviderCredential\n{\n    [...]\n</code></pre>\n\n<p><code>IConnectableCredentialProviderCredential</code> implements <code>ICredentialProviderCredential</code>.</p>\n\n<p>The COM <code>IUknown</code> query method is done using this snippet:</p>\n\n<pre><code>IFACEMETHODIMP QueryInterface(__in REFIID riid, __deref_out void** ppv)\n{\n    static const QITAB qitOnlyCredUI[] =\n    {\n        QITABENT(CCredential, ICredentialProviderCredential),\n        { 0 },\n    };\n\n    static const QITAB qitFull[] =\n    {\n        QITABENT(CCredential, ICredentialProviderCredential), // IID_ICredentialProviderCredential\n        QITABENT(CCredential, IConnectableCredentialProviderCredential), // IID_IConnectableCredentialProviderCredential            \n        { 0 },\n    };\n\n[...]\n</code></pre>\n\n<hr>\n\n<p>Now I want to migrate the provider to be a V2 CP and implement the <code>ICredentialProviderCredential2</code> interface, but stay compatible to the <code>IQueryContinueWithStatus</code> interface. Also, dropping <code>QITABENT(CCredential, ICredentialProviderCredential)</code> out is no option, because <code>qitOnlyCredUI</code> is necessary in case a CredUI is requested, which does not support <code>IQueryContinueWithStatus</code>.</p>\n\n<pre><code>class CCredential : public IConnectableCredentialProviderCredential,\n                    public ICredentialProviderCredential2,\n                    public ICredentialProviderCredentialWithFieldOptions\n{\n    [...]\n</code></pre>\n\n<p><code>ICredentialProviderCredential2</code> implements <code>ICredentialProviderCredential</code>.</p>\n\n<p>Implementing the COM <code>QueryInterface</code> method like:</p>\n\n<pre><code>IFACEMETHODIMP QueryInterface(__in REFIID riid, __deref_out void** ppv)\n{\n    static const QITAB qitOnlyCredUI[] =\n    {\n        QITABENT(CCredential, ICredentialProviderCredential),\n        { 0 },\n    };\n\n    static const QITAB qitFull[] =\n    {\n        QITABENT(CCredential, ICredentialProviderCredential), // IID_ICredentialProviderCredential\n        QITABENT(CCredential, ICredentialProviderCredential2), // IID_ICredentialProviderCredential2\n        QITABENT(CCredential, IConnectableCredentialProviderCredential), // IID_IConnectableCredentialProviderCredential            \n        QITABENT(CCredential, ICredentialProviderCredentialWithFieldOptions), //IID_ICredentialProviderCredentialWithFieldOptions\n        { 0 },\n    };\n</code></pre>\n\n<p>This is where the Diamond Problem starts, as <code>ICredentialProviderCredential2</code> and <code>IConnectableCredentialProviderCredential</code> both implement <code>ICredentialProviderCredential</code>.</p>\n\n<p>Trying to compile certainly leads to the compiler complaining about ambiguous definitions for the <code>ICredentialProviderCredential</code> base class.</p>\n\n<p>Any ideas how this can be accomplished?</p>\n"}, {"tags": ["c++", "enums", "compiler-errors", "enumeration", "redeclaration"], "answers": [{"tags": [], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "is_accepted": false, "score": 7, "last_activity_date": 1499793458, "last_edit_date": 1499793458, "creation_date": 1450291174, "answer_id": 34319668, "question_id": 34319637, "link": "https://stackoverflow.com/questions/34319637/how-solve-compiler-enum-redeclaration-conflict/34319668#34319668", "title": "How solve compiler enum redeclaration conflict", "body": "<p>Use scoped <code>enum</code>s (C++ 11) - <code>enum class</code>es. They will not pollute the outer scope with duplicate names.</p>\n\n<p>But, you'll need to access the enumerated values with a scope resolution operator - <code>Identity::UNKNOWN</code>, which is <em>not</em> a bad thing.</p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 28, "last_activity_date": 1450291548, "last_edit_date": 1450291548, "creation_date": 1450291181, "answer_id": 34319670, "question_id": 34319637, "link": "https://stackoverflow.com/questions/34319637/how-solve-compiler-enum-redeclaration-conflict/34319670#34319670", "title": "How solve compiler enum redeclaration conflict", "body": "<p>You can use <a href=\"http://en.cppreference.com/w/cpp/language/enum#Scoped_enumerations\" rel=\"noreferrer\">scoped enumerations</a> for this.  This requires C++11 or higher support.</p>\n\n<pre><code>enum class Identity\n{\n       UNKNOWN = 1,\n       CHECKED = 2,\n       UNCHECKED =3\n};\n\nenum class Status\n{\n       UNKNOWN = 0,\n       PENDING = 1,\n       APPROVED = 2,\n       UNAPPROVED =3\n};\n\nint main ()\n{\n    Identity::UNKNOWN;\n    Status::UNKNOW;\n}\n</code></pre>\n\n<p><kbd><a href=\"http://coliru.stacked-crooked.com/a/c4dcfe7354afb0a1\" rel=\"noreferrer\">Live Example</a></kbd></p>\n"}, {"comments": [{"owner": {"reputation": 4783, "user_id": 3854787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WRLaI.jpg?s=128&g=1", "display_name": "C&#225;ssio Renan", "link": "https://stackoverflow.com/users/3854787/c%c3%a1ssio-renan"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1450291990, "post_id": 34319757, "comment_id": 56381443, "body": "@chris I&#39;m aware. This is one of the problems of not simply using <code>enum class</code>. I mean, you could still just declare the enums with a name (<code>enum value { &#47;*...*&#47;</code>) and use them like <code>void foo(Identity::value)</code>, but you still lose the benefits of type safety, etc."}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1450296776, "post_id": 34319757, "comment_id": 56384076, "body": "Well, the funny thing is that C++11 is quite commonly not feasible especially in the commercial area - for example, many customers of the company I work for are still using old systems like RHEL and don&#39;t want to upgrade as long as the system runs well (it is pretty common to hit serious incompatibilities during release upgrade). So as the result, C++11 is banned and everything must build in older compilers as well. In the fact, C++11 was banned in every of the last 4 companies I worked for. And one company I previously worked for is AFAIK still building in MSVC 6 too :-)"}], "tags": [], "owner": {"reputation": 4783, "user_id": 3854787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WRLaI.jpg?s=128&g=1", "display_name": "C&#225;ssio Renan", "link": "https://stackoverflow.com/users/3854787/c%c3%a1ssio-renan"}, "is_accepted": false, "score": 4, "last_activity_date": 1450291451, "creation_date": 1450291451, "answer_id": 34319757, "question_id": 34319637, "link": "https://stackoverflow.com/questions/34319637/how-solve-compiler-enum-redeclaration-conflict/34319757#34319757", "title": "How solve compiler enum redeclaration conflict", "body": "<p>If using C++11 is not feasible(It really should by now, I mean, it's already 2015), consider using namespaces:</p>\n\n<pre><code>namespace Identity {\nenum {\n       UNKNOWN = 1,\n       CHECKED = 2,\n       UNCHECKED =3\n};\n}\n\nnamespace Status {\nenum {\n       UNKNOWN = 0,\n       PENDING = 1,\n       APPROVED = 2,\n       UNAPPROVED =3\n};\n}\n</code></pre>\n\n<p>But, really, <code>enum class</code> is much better.</p>\n"}, {"tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 2, "last_activity_date": 1450295612, "creation_date": 1450295612, "answer_id": 34320891, "question_id": 34319637, "link": "https://stackoverflow.com/questions/34319637/how-solve-compiler-enum-redeclaration-conflict/34320891#34320891", "title": "How solve compiler enum redeclaration conflict", "body": "<p>This is how I would usually declare such enums (if I don't need something more fancy, like automatic conversions of the enum names to strings, serialization/deserialization etc.):</p>\n\n<pre><code>struct Identities\n{\n    enum Type\n    {\n        UNKNOWN   = 1,\n        CHECKED   = 2,\n        UNCHECKED = 3\n    };\n};\n\ntypedef Identities::Type Identity;\n\nstruct States\n{\n    enum Type\n    {\n        UNKNOWN    = 0,\n        PENDING    = 1,\n        APPROVED   = 2,\n        UNAPPROVED = 3\n    };\n};\n\ntypedef States::Type Status;\n\n// usage\nIdentity identity = Identities::UNKNOWN;\nStatus status = States::UNKNOWN;\n</code></pre>\n\n<p>Works in every C++ version and is type safe as well. Namespaces can be also used instead of structs (but I normally use structs).</p>\n"}], "owner": {"reputation": 8750, "user_id": 888469, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c97e31641aae90e72cd9b4015f634848?s=128&d=identicon&r=PG", "display_name": "Daniel Santos", "link": "https://stackoverflow.com/users/888469/daniel-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9798, "favorite_count": 4, "accepted_answer_id": 34319670, "answer_count": 4, "score": 19, "last_activity_date": 1499793458, "creation_date": 1450291060, "last_edit_date": 1450292310, "question_id": 34319637, "link": "https://stackoverflow.com/questions/34319637/how-solve-compiler-enum-redeclaration-conflict", "title": "How solve compiler enum redeclaration conflict", "body": "<p>Consider the following C++ enumerations:</p>\n\n<pre><code>enum Identity\n{\n    UNKNOWN   = 1,\n    CHECKED   = 2,\n    UNCHECKED = 3\n};\n\nenum Status\n{\n    UNKNOWN    = 0,\n    PENDING    = 1,\n    APPROVED   = 2,\n    UNAPPROVED = 3\n};\n</code></pre>\n\n<p>The Compiler conflicted the both <code>UNKNOWN</code> items and threw this error:</p>\n\n<blockquote>\n  <p>error: redeclaration of 'UNKNOWN'</p>\n</blockquote>\n\n<p>I am able to solve this error changing one of the <code>UNKNOWN</code> to <code>UNKNOWN_a</code>, but I would like to do not change the names.</p>\n\n<p>How can I solve this conflict <strong>without</strong> changing the <code>enum</code> items name?</p>\n"}, {"tags": ["c++", "templates", "inline", "instantiation"], "comments": [{"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 1, "creation_date": 1450291338, "post_id": 34319452, "comment_id": 56381053, "body": "Don&#39;t forget that Whole Program Optimisation/Link-Time Code Generation can &quot;inline&quot; even stuff that compilation alone cannot."}, {"owner": {"reputation": 245, "user_id": 5024552, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FTGl1.jpg?s=128&g=1", "display_name": "MatrixAndrew", "link": "https://stackoverflow.com/users/5024552/matrixandrew"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1450291441, "post_id": 34319452, "comment_id": 56381119, "body": "@RichardHodges  I don&#39;t think I can conduct a reasonable test for this. I&#39;d need to take into account multiple platforms too."}], "answers": [{"comments": [{"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 0, "creation_date": 1450291286, "post_id": 34319491, "comment_id": 56381022, "body": "Can you elaborate why it can? The compiler cannot see the definition at the point of call, after all."}, {"owner": {"reputation": 675, "user_id": 1118601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83ffe3bd6bdc637287c59d4011537e1?s=128&d=identicon&r=PG", "display_name": "akhisp", "link": "https://stackoverflow.com/users/1118601/akhisp"}, "edited": false, "score": 0, "creation_date": 1450291446, "post_id": 34319491, "comment_id": 56381121, "body": "It&#39;s more of a linker question. Initially the compiler can leave that as an empty place that the linker can choose to inject the code. For example, try the above by instantiating A&lt;char*&gt; and it&#39;s the linker that complains and not the compiler."}, {"owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "edited": false, "score": 0, "creation_date": 1450291517, "post_id": 34319491, "comment_id": 56381158, "body": "Oh, I didn&#39;t see inlined. It most definitely can compile though."}, {"owner": {"reputation": 675, "user_id": 1118601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83ffe3bd6bdc637287c59d4011537e1?s=128&d=identicon&r=PG", "display_name": "akhisp", "link": "https://stackoverflow.com/users/1118601/akhisp"}, "edited": false, "score": 0, "creation_date": 1450291802, "post_id": 34319491, "comment_id": 56381342, "body": "fuzzythink44, I confirmed by looking at disassembly that VS does support it when built in &quot;Release&quot; mode. In-lining in general is compiler specific, a compiler may decide something is too complex to inline. Also, it depends on your compiler flags (optimized for size vs speed etc)."}], "tags": [], "owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "is_accepted": false, "score": 0, "last_activity_date": 1450290547, "creation_date": 1450290547, "answer_id": 34319491, "question_id": 34319452, "link": "https://stackoverflow.com/questions/34319452/can-member-functions-of-class-templates-be-inlined-in-case-of-explicit-instantia/34319491#34319491", "title": "Can member functions of class templates be inlined in case of explicit instantiation?", "body": "<p>You most definitely can. You also forgot the <code>;</code> at the end of your struct definition.</p>\n\n<pre><code>struct a\n{\n    // Whatever\n};\n</code></pre>\n\n<p>Is how it should be.</p>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 5024552, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FTGl1.jpg?s=128&g=1", "display_name": "MatrixAndrew", "link": "https://stackoverflow.com/users/5024552/matrixandrew"}, "edited": false, "score": 0, "creation_date": 1450294525, "post_id": 34319549, "comment_id": 56382881, "body": "So as I see I should only rely on the kind of inlining in question if I find my particular compiler support the feature you mentioned explicitly. Separate inclusion for the functions-to-be-inlined seems rather tedious to me (unless they are really that rarely used, which is not my case). I think I&#39;ll put the definitions into the class&#39;s then. If those functions need to grow then I think I&#39;ll go with my plan B."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 245, "user_id": 5024552, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FTGl1.jpg?s=128&g=1", "display_name": "MatrixAndrew", "link": "https://stackoverflow.com/users/5024552/matrixandrew"}, "edited": false, "score": 0, "creation_date": 1450295331, "post_id": 34319549, "comment_id": 56383339, "body": "Maybe your template classes have less circular relationships than in the code I need to maintain!  In the code I maintain, <code>B</code> might massively depend on <code>A</code> and it might take a lot of care just to make the function declarations of <code>A</code> depend only on predeclaration of <code>B</code>.  The functions definitions of <code>A</code> need a full definition of <code>B</code>.  So without that file split I suggested, the circularity makes compilation impossible."}], "tags": [], "owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "is_accepted": true, "score": 1, "last_activity_date": 1450291152, "last_edit_date": 1450291152, "creation_date": 1450290735, "answer_id": 34319549, "question_id": 34319452, "link": "https://stackoverflow.com/questions/34319452/can-member-functions-of-class-templates-be-inlined-in-case-of-explicit-instantia/34319549#34319549", "title": "Can member functions of class templates be inlined in case of explicit instantiation?", "body": "<p>Most compilers cannot inline with that arrangement of code.  The ICC compiler documentation claims it supports being invoked in a way that would enable that inlining <strong>AFTER</strong> you first built a different way, then gathered profiling data then fed back the profiling data to a cross module optimizing build.  I made only modest attempts to get that to work and it worked only in play size projects, not in anything real.  </p>\n\n<p>For use with ordinary compilation, you should have that extra file for the function definitions you want inline, but you should probably not include it in the end of A.h, rather include A.h in the beginning of it and include it in select cpp files that really need it.</p>\n\n<p>I prefer</p>\n\n<pre><code>// A.h\n#ifndef A_H\n#define A_H\ntemplate&lt;typename T&gt;\nstruct A\n{\n    inline void doSth();\n};\n#endif\n\n// A.tpp\n#ifndef A_TPP\n#define A_TPP\n#include \"A.h\"\ntemplate&lt;typename T&gt;\ninline void A&lt;T&gt;::doSth() { /* do something */ }\n#endif\n\n// Various other .h files that need to know what is declared in A\n#include \"A.h\"\n\n// Only cpp files that need what is defined in A.tpp\n#include \"A.tpp\"\n</code></pre>\n\n<p>I forget the option as well as which compilers have such an option, but that nearly redundant use of <code>inline</code> in the .h file goes with a compiler option saying that in case the function is declared that way <strong>and</strong> used <strong>and</strong> not defined, throw a compile time error.  </p>\n\n<p>Without that option, the link time error is harder to read but does tell you which .cpp needed to include the .tpp but missed it.</p>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 5024552, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FTGl1.jpg?s=128&g=1", "display_name": "MatrixAndrew", "link": "https://stackoverflow.com/users/5024552/matrixandrew"}, "edited": false, "score": 0, "creation_date": 1450291725, "post_id": 34319707, "comment_id": 56381290, "body": "That limitation after explicit instantiation I think applies to all compilers."}], "tags": [], "owner": {"reputation": 675, "user_id": 1118601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83ffe3bd6bdc637287c59d4011537e1?s=128&d=identicon&r=PG", "display_name": "akhisp", "link": "https://stackoverflow.com/users/1118601/akhisp"}, "is_accepted": false, "score": 0, "last_activity_date": 1450291863, "last_edit_date": 1450291863, "creation_date": 1450291320, "answer_id": 34319707, "question_id": 34319452, "link": "https://stackoverflow.com/questions/34319452/can-member-functions-of-class-templates-be-inlined-in-case-of-explicit-instantia/34319707#34319707", "title": "Can member functions of class templates be inlined in case of explicit instantiation?", "body": "<p>Visual Studio does allow in-lining in this way but it limits the types that you can instantiate to just those that you defined in your A.cpp file.</p>\n"}], "owner": {"reputation": 245, "user_id": 5024552, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FTGl1.jpg?s=128&g=1", "display_name": "MatrixAndrew", "link": "https://stackoverflow.com/users/5024552/matrixandrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 34319549, "answer_count": 3, "score": 2, "last_activity_date": 1450292660, "creation_date": 1450290397, "last_edit_date": 1450292660, "question_id": 34319452, "link": "https://stackoverflow.com/questions/34319452/can-member-functions-of-class-templates-be-inlined-in-case-of-explicit-instantia", "title": "Can member functions of class templates be inlined in case of explicit instantiation?", "body": "<p>Can <code>doSth()</code> be inlined given this configuration?</p>\n\n<pre><code>// A.h\n\ntemplate&lt;typename T&gt;\nstruct A\n{\n    void doSth();\n};\n\n\n// A.cpp\n\ntemplate&lt;typename T&gt;\nvoid A&lt;T&gt;::doSth() { /* do something */ }\n\ntemplate class A&lt;bool&gt;;\ntemplate class A&lt;int&gt;;\n\n\n// main.cpp\n\n#include \"A.h\"\n\nint main()\n{\n    A&lt;bool&gt; a;\n    a.doSth();\n}\n</code></pre>\n\n<p>If the answer is negative I'd go define my member functions in a .tpp file and include that at the end of \"A.h\" but that would just look weird with the non-inline versions in a .cpp file so I'd want to avoid that.</p>\n"}, {"tags": ["c++", "dependency-injection", "abstract-class", "class-members"], "comments": [{"owner": {"reputation": 54577, "user_id": 1339987, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/76aa5ba88e0d95b6480113239fe50008?s=128&d=identicon&r=PG", "display_name": "djechlin", "link": "https://stackoverflow.com/users/1339987/djechlin"}, "edited": false, "score": 3, "creation_date": 1450290449, "post_id": 34319439, "comment_id": 56380515, "body": "I don&#39;t see this having anything to do with abstract-ness."}, {"owner": {"reputation": 607, "user_id": 1457538, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e900aa0e98f427dc5839d08e490a9c2e?s=128&d=identicon&r=PG", "display_name": "Mistodon", "link": "https://stackoverflow.com/users/1457538/mistodon"}, "reply_to_user": {"reputation": 54577, "user_id": 1339987, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/76aa5ba88e0d95b6480113239fe50008?s=128&d=identicon&r=PG", "display_name": "djechlin", "link": "https://stackoverflow.com/users/1339987/djechlin"}, "edited": false, "score": 1, "creation_date": 1450290688, "post_id": 34319439, "comment_id": 56380677, "body": "I may be mistaken, but since the type IWhatever is abstract, the data cannot be copied into SerializedFileProcessor. That&#39;s the only reason I specified they were abstract classes."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1450290746, "post_id": 34319439, "comment_id": 56380713, "body": "If you are able to use references, always prefer them over pointers."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1450293458, "post_id": 34319439, "comment_id": 56382261, "body": "It depends on what is constant about them after construction of <code>SerializedFileProcessor</code>.  If the type and location can&#39;t change then reference is likely OK and if reference is OK then it is likely better.  If the type of the object might change, then its address would need to change and it can&#39;t be a reference."}], "answers": [{"comments": [{"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1450291598, "post_id": 34319529, "comment_id": 56381207, "body": "&quot;If your class doesn&#39;t own them, it should not be a reference.&quot; This is unclear/wrong. References do not own in C++."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1450291651, "post_id": 34319529, "comment_id": 56381246, "body": "Actually it is opposite, if it owns it has to be a pointer (raw or smart)"}], "tags": [], "owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "is_accepted": false, "score": -3, "last_activity_date": 1450290672, "creation_date": 1450290672, "answer_id": 34319529, "question_id": 34319439, "link": "https://stackoverflow.com/questions/34319439/should-abstract-members-of-a-class-be-pointers-or-references/34319529#34319529", "title": "Should abstract members of a class be pointers or references?", "body": "<p>If your class doesn't own them, it should not be a reference. Use a pointer and have the owner hold a <code>std::unique_ptr</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 607, "user_id": 1457538, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e900aa0e98f427dc5839d08e490a9c2e?s=128&d=identicon&r=PG", "display_name": "Mistodon", "link": "https://stackoverflow.com/users/1457538/mistodon"}, "edited": false, "score": 0, "creation_date": 1450291433, "post_id": 34319572, "comment_id": 56381113, "body": "Thanks! That&#39;s a really useful link. I don&#39;t know why it didn&#39;t occur to me to gear my question more towards DI."}], "tags": [], "owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1451245858, "last_edit_date": 1495539883, "creation_date": 1450290808, "answer_id": 34319572, "question_id": 34319439, "link": "https://stackoverflow.com/questions/34319439/should-abstract-members-of-a-class-be-pointers-or-references/34319572#34319572", "title": "Should abstract members of a class be pointers or references?", "body": "<p>This is pretty much the hello-world example of dependency injection (/inversion). </p>\n\n<p>There's a similar question here, with different solutions:<a href=\"https://stackoverflow.com/questions/23477589/dependency-injection-in-c11-without-raw-pointers\">Dependency injection in C++11 without raw pointers</a></p>\n\n<p><strong>Edit</strong>: I moved my original answer from here into to that question.</p>\n\n<hr>\n\n<p>Original answer with <code>SerializedFileProcessor</code> example:</p>\n\n<p>The down side of just using a pointer (smart or raw), or even an ordinary C++ reference, is that they allow calling non-const methods from a const context. </p>\n\n<p>I propose a wrapper similar but not identical to <code>std::reference_wrapper</code> (which lacks the const safe accessor). Replace <code>T*</code> with <code>unique_ptr</code> or <code>shared_ptr</code> to get owning versions (also add default move construction).</p>\n\n<pre><code>  template&lt;typename T&gt;\n  struct NonOwningRef{\n    NonOwningRef() = delete;\n    NonOwningRef(T&amp; other) noexcept : ptr(std::addressof(other)) { };\n    NonOwningRef(const NonOwningRef&amp; other) noexcept = default;\n\n    const T&amp; value() const noexcept{ return *ptr; };\n    T&amp; value() noexcept{ return *ptr; };\n\n  private:\n    T* ptr;\n  };\n</code></pre>\n\n<p>usage: </p>\n\n<pre><code>class SerializedFileProcessor {\npublic:\n    std::string Process(std::string file) const {\n        std::string text = deserializer.value().Deserialize(file);\n        text = processor.value().Process(text);\n        return serializer.value().Serialize(text);\n    }\n\nprivate:\n    NonOwningRef&lt;IDeserializer&gt; deserializer;\n    NonOwningRef&lt;IProcessor&gt; processor;\n    NonOwningRef&lt;ISerializer&gt; serializer; \n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1450290927, "creation_date": 1450290927, "answer_id": 34319604, "question_id": 34319439, "link": "https://stackoverflow.com/questions/34319439/should-abstract-members-of-a-class-be-pointers-or-references/34319604#34319604", "title": "Should abstract members of a class be pointers or references?", "body": "<p>They can be either, you must only ensure that the referenced objects do not die before used (i.e. in general its lifetime should exceed the SerializedFileProcessor lifetime).</p>\n\n<p>There is one disadvantage to reference members - it is then virtually impossible to create an assignment operator (so if you need one, then you need a pointer - there are techniques to actually have assignment even for classes with reference members, but they are very nasty). Also in case they are optional, then they need to be pointers (reference is not optional).</p>\n"}], "owner": {"reputation": 607, "user_id": 1457538, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e900aa0e98f427dc5839d08e490a9c2e?s=128&d=identicon&r=PG", "display_name": "Mistodon", "link": "https://stackoverflow.com/users/1457538/mistodon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1451245858, "creation_date": 1450290353, "last_edit_date": 1450290458, "question_id": 34319439, "link": "https://stackoverflow.com/questions/34319439/should-abstract-members-of-a-class-be-pointers-or-references", "title": "Should abstract members of a class be pointers or references?", "body": "<p>Should abstract members of a class be pointers or references?</p>\n\n<p>For a toy example, say I have the following class:</p>\n\n<pre><code>class SerializedFileProcessor {\npublic:\n    std::string Process(std::string file) const {\n        std::string text = deserializer.Deserialize(file);\n        text = processor.Process(text);\n        return serializer.Serialize(text);\n    }\n\nprivate:\n    IDeserializer? deserializer;\n    IProcessor? processor;\n    ISerializer? serializer; \n};\n</code></pre>\n\n<p>Where the (instances of concrete subclasses) deserializer, processor, and serializer are all passed into this class's constructor.</p>\n\n<p>The SerializedFileProcessor doesn't own these and should not delete them. </p>\n\n<p>Should those class members be pointers or references? Or should this pattern be done completely differently?</p>\n"}, {"tags": ["c++", "boost"], "answers": [{"tags": [], "owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "is_accepted": false, "score": 2, "last_activity_date": 1450308013, "last_edit_date": 1450308013, "creation_date": 1450290749, "answer_id": 34319554, "question_id": 34319435, "link": "https://stackoverflow.com/questions/34319435/unable-to-read-file-for-file-handling-using-boost-library-to-obtain-file-path/34319554#34319554", "title": "unable to read file for file handling, using boost library to obtain file path", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/io/basic_fstream/open\" rel=\"nofollow\">std::fstream</a> accepts only <code>const char*</code> as pathname argument (and <code>std::string</code> since C++11). So you should convert path objects to string's using <code>c_str()</code> or <code>native()</code> <a href=\"http://www.boost.org/doc/libs/1_59_0/libs/filesystem/doc/reference.html#class-path\" rel=\"nofollow\">methods</a>:</p>\n\n<pre><code>for (boost::filesystem::recursive_directory_iterator end, dir(\"F:/mails\");\n     dir != end; ++dir\n) {\n    if (dir-&gt;path().extension() != \".txt\")\n        continue;\n    ...\n    my_file.open(dir-&gt;path.c_str()); // or better dir-&gt;path.native(), but this requires C++11\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5687957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HVAzv2uwZ_8/AAAAAAAAAAI/AAAAAAAAACM/iGr9_pXQnKs/photo.jpg?sz=128", "display_name": "Abdullah Asif", "link": "https://stackoverflow.com/users/5687957/abdullah-asif"}, "is_accepted": false, "score": 0, "last_activity_date": 1450456274, "last_edit_date": 1450456274, "creation_date": 1450455277, "answer_id": 34359717, "question_id": 34319435, "link": "https://stackoverflow.com/questions/34319435/unable-to-read-file-for-file-handling-using-boost-library-to-obtain-file-path/34359717#34359717", "title": "unable to read file for file handling, using boost library to obtain file path", "body": "<p>I finally found the solution to this</p>\n\n<pre><code>my_file.open(boost::filesystem::canonical(*dir).string());\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5687957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HVAzv2uwZ_8/AAAAAAAAAAI/AAAAAAAAACM/iGr9_pXQnKs/photo.jpg?sz=128", "display_name": "Abdullah Asif", "link": "https://stackoverflow.com/users/5687957/abdullah-asif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1450456274, "creation_date": 1450290341, "last_edit_date": 1450290714, "question_id": 34319435, "link": "https://stackoverflow.com/questions/34319435/unable-to-read-file-for-file-handling-using-boost-library-to-obtain-file-path", "title": "unable to read file for file handling, using boost library to obtain file path", "body": "<pre><code>ifstream my_file;\nfor (boost::filesystem::recursive_directory_iterator end, dir(\"F:/mails\"); dir != end; ++dir) {\n    if (dir-&gt;path().extension() != \".txt\")\n      continue;                                                        \n\n    std::cout &lt;&lt; *dir &lt;&lt; \"\\n\";                                         \n    std::cout &lt;&lt; dir-&gt;path().filename() &lt;&lt; \"\\n\";                        \n    my_file.open(*dir);\n    //rest of the code\n }\n</code></pre>\n\n<p>When I try to open .txt file using the above method compiler gives the following</p>\n\n<pre><code>error at \"my_file.open(*dir);\"... maybe some casting issue.\nerror C2664: 'void std::basic_ifstream&lt;char,std::char_traits&lt;char&gt;&gt;::open(const char *,std::ios_base::open_mode)' : cannot convert argument 1 from 'boost::filesystem::directory_entry' to 'const wchar_t *'    \n</code></pre>\n"}, {"tags": ["c++", "c", "windows", "gcc", "codeblocks"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1450291612, "post_id": 34319405, "comment_id": 56381216, "body": "<a href=\"https://stackoverflow.com/questions/13321980/yet-another-mingw-gcc-error-createprocess-no-such-file-or-directory#13326306\" title=\"yet another mingw gcc error createprocess no such file or directory%2313326306\">stackoverflow.com/questions/13321980/&hellip;</a>"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1450291770, "post_id": 34319405, "comment_id": 56381317, "body": "It <i>looks</i> like you&#39;re possibly missing the linker, or your PATH is misconfigured."}, {"owner": {"reputation": 11, "user_id": 5687891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p1ufaGl3mI8/AAAAAAAAAAI/AAAAAAAAAIM/V9vYHTrqZtk/photo.jpg?sz=128", "display_name": "Camel Smokes", "link": "https://stackoverflow.com/users/5687891/camel-smokes"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1450292472, "post_id": 34319405, "comment_id": 56381715, "body": "I&#39;ve added a couple screenshots."}, {"owner": {"reputation": 11, "user_id": 5687891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p1ufaGl3mI8/AAAAAAAAAAI/AAAAAAAAAIM/V9vYHTrqZtk/photo.jpg?sz=128", "display_name": "Camel Smokes", "link": "https://stackoverflow.com/users/5687891/camel-smokes"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1450365904, "post_id": 34319405, "comment_id": 56417606, "body": "I tried the TDM installer, redirected the paths, and it somewhat worked except after it compiles and the program runs, it&#39;s blank and no errors come up. One problem after another right?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5687891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p1ufaGl3mI8/AAAAAAAAAAI/AAAAAAAAAIM/V9vYHTrqZtk/photo.jpg?sz=128", "display_name": "Camel Smokes", "link": "https://stackoverflow.com/users/5687891/camel-smokes"}, "edited": false, "score": 1, "creation_date": 1450364857, "post_id": 34327627, "comment_id": 56416918, "body": "Sounds like a plan. When I get some time I&#39;ll uninstall everything, reboot, and try it as you did. The funny thing is on the other computer that I installed this on, and has been working, just today is now getting that error too and it&#39;s all default settings which have never been touched, then again, that&#39;s how the problem started on this computer."}], "tags": [], "owner": {"reputation": 513, "user_id": 2808357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iuuoe.jpg?s=128&g=1", "display_name": "Neil Roy", "link": "https://stackoverflow.com/users/2808357/neil-roy"}, "is_accepted": false, "score": 1, "last_activity_date": 1450332076, "creation_date": 1450332076, "answer_id": 34327627, "question_id": 34319405, "link": "https://stackoverflow.com/questions/34319405/mingw32-g-exe-error-createprocess-no-such-file-or-directory-again/34327627#34327627", "title": "mingw32-g++.exe: error: CreateProcess: No such file or directory again", "body": "<p>Windows 7 can be particular about where it will allow you to write files.  The directory where you installed Code::Blocks itself shouldn't matter as it doesn't write back to it's installation folder, but just in case, I installed mine in C:\\Develop\\CodeBlocks.  Windows 7 will not allow software to write to the program files folder once installed there.  Like I said, probably not an issue, but just in case, you may want to move it outside of that location, something like what I have.  I also have MinGW 4.8.1 installed it it's own folder in C.  I put it in C:\\MinGW and pointed to it as you did.  Code::Blocks has no problem autodetecting it though.</p>\n\n<p>For my projects, I put mine in my C:\\Develop\\Projects folder.  I am not sure if Windows 7 will allow software to write to your home folder, at least I don't think it's a location that is recommended by Microsoft.  If you prefer a location in there, your Documents folder is a safe location to create projects and can be written to.  My suspicion is that a file is not getting written at compile time and then, of course, it is not being found and so you get that error.</p>\n\n<p>Incidentally, I am also using Windows 7 (64bit) with Code::Blocks v13:12 and MinGW 4.8.1 (32bit version).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5851841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9c23bccf27bcbe285a1170b06081a93?s=128&d=identicon&r=PG&f=1", "display_name": "DJB", "link": "https://stackoverflow.com/users/5851841/djb"}, "is_accepted": false, "score": 1, "last_activity_date": 1454501887, "last_edit_date": 1454501887, "creation_date": 1454500661, "answer_id": 35176420, "question_id": 34319405, "link": "https://stackoverflow.com/questions/34319405/mingw32-g-exe-error-createprocess-no-such-file-or-directory-again/35176420#35176420", "title": "mingw32-g++.exe: error: CreateProcess: No such file or directory again", "body": "<p>AntiVirus false triggers?  Or Windows Defender etc, if the behaviour change was noticed after a system update.</p>\n\n<p>I have <code>C::B 16.01</code>, but installed well away from <code>C:\\Program files</code> etc, on Win7(64) and (once I figured out how to point it at some needed third party lib's) it all works fine.   So far...</p>\n\n<p>Regards.</p>\n\n<p>DJB.</p>\n"}], "owner": {"reputation": 11, "user_id": 5687891, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p1ufaGl3mI8/AAAAAAAAAAI/AAAAAAAAAIM/V9vYHTrqZtk/photo.jpg?sz=128", "display_name": "Camel Smokes", "link": "https://stackoverflow.com/users/5687891/camel-smokes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1747, "favorite_count": 1, "closed_date": 1510072513, "answer_count": 2, "score": 1, "last_activity_date": 1537155501, "creation_date": 1450290249, "last_edit_date": 1537155501, "question_id": 34319405, "link": "https://stackoverflow.com/questions/34319405/mingw32-g-exe-error-createprocess-no-such-file-or-directory-again", "closed_reason": "Duplicate", "title": "mingw32-g++.exe: error: CreateProcess: No such file or directory again", "body": "<p>I have searched all over and cannot find a solution.</p>\n\n<p>I installed the code::blocks version with the compiler. (Windows 7)\nEvery time I try to compile, I get the No Such file or directory error.\nI thought maybe the spaces were causing the problem, so I downloaded and installed ming alone to C:\\GCC\\MinGW-w64</p>\n\n<p>I went into the compiler settings/toolchain executables and directed every path so it wouldn't try to read from the Program Files one where code::blocks is installed. Same error occurred. I've also tried going directly to the bin folder.</p>\n\n<p>I've reset to default settings. I've auto-detected. I've uninstalled and reinstalled. I've seriously tried about everything.</p>\n\n<p>Then I thought maybe because it's where I'm saving my projects, since they have spaces. So I put them directly to the c:\\ drive. Same error.</p>\n\n<p>This worked the first day I used it, after that it's been this problem ever since. So you'd think reinstalling everything would fix it right? </p>\n\n<p>If anyone has a solution please do tell! Using the exact same installation file on another computer, the compiler works fine, every setting is exactly the same as it is on this one, except on the other one it works. </p>\n\n<p>Here's the error messages. I made a quick console project just to post these errors.</p>\n\n<pre><code>||=== Build: Debug in hhhh (compiler: GNU GCC Compiler) ===|\n CreateProcess||No such file or directory|\n||=== Build failed: 1 error(s), 0 warning(s) (0 minute(s), 0 second(s)) ===|\n\nmingw32-g++.exe -Wall -fexceptions -g  -c C:\\Users\\Mack\\hhhh\\main.cpp -o obj\\Debug\\main.o\nmingw32-g++.exe: error: CreateProcess: No such file or directory\n</code></pre>\n\n<p>Yet every time I go into the toolchain and redo the paths, they are all correct. The files are there, but code::blocks for some reason is not seeing them.</p>\n\n<p>Before coming here, I tried to make an account on the code::blocks forum, but it's broken. Activation email won't send and I can't find any email address to contact support. I've tried registering with a live.com, gmail.com, and mail.com email accounts, and none of them received the activation email.</p>\n\n<p>Also here is the simple Hello World I used that gave me the above errors.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"Hello world!\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>Here are some screenshots. </p>\n\n<p>Default settings.\n<a href=\"http://prntscr.com/9eyoi4\" rel=\"nofollow\">http://prntscr.com/9eyoi4</a></p>\n\n<p>Redirected to the latest compiler install. Redid each path so they all direct to the new files.\n<a href=\"http://prntscr.com/9eyqnx\" rel=\"nofollow\">http://prntscr.com/9eyqnx</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 1, "creation_date": 1450290284, "post_id": 34319393, "comment_id": 56380406, "body": "<a href=\"http://mattgemmell.com/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 3, "creation_date": 1450290317, "post_id": 34319393, "comment_id": 56380431, "body": "You want another <i>program</i> to modify it?"}, {"owner": {"reputation": 948, "user_id": 5582546, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zrDdD.jpg?s=128&g=1", "display_name": "SaeidMo7", "link": "https://stackoverflow.com/users/5582546/saeidmo7"}, "edited": false, "score": 0, "creation_date": 1450290406, "post_id": 34319393, "comment_id": 56380492, "body": "I want to relate between two programs by a shared-variable in the memory"}, {"owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "edited": false, "score": 3, "creation_date": 1450290413, "post_id": 34319393, "comment_id": 56380496, "body": "You&#39;re probably going to want to make a function to change it, which will be OS specific."}, {"owner": {"reputation": 948, "user_id": 5582546, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zrDdD.jpg?s=128&g=1", "display_name": "SaeidMo7", "link": "https://stackoverflow.com/users/5582546/saeidmo7"}, "edited": false, "score": 0, "creation_date": 1450290586, "post_id": 34319393, "comment_id": 56380610, "body": "yes , i want to change the value by another program"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1450290695, "post_id": 34319393, "comment_id": 56380684, "body": "@SaeidMo7: On what operating system?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1450292562, "post_id": 34319393, "comment_id": 56381761, "body": "If it was possible to do this so easily, that would be a hacker&#39;s paradise"}], "answers": [{"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": true, "score": 2, "last_activity_date": 1450292638, "creation_date": 1450292638, "answer_id": 34320068, "question_id": 34319393, "link": "https://stackoverflow.com/questions/34319393/access-to-the-global-variable-to-modify-the-value/34320068#34320068", "title": "Access to the global variable to modify the value", "body": "<p>Start with <a href=\"http://www.boost.org/doc/libs/1_59_0/doc/html/interprocess.html\" rel=\"nofollow\">Boost::interprocess</a>.\nYou need to create named shared memory in both processes, and store the variable in that space.  This will allow the variable to be accessed by both processes.</p>\n\n<p>In the parent process:</p>\n\n<pre><code>  //Construct managed shared memory\n  managed_shared_memory segment(create_only, \"MySharedMemory\", 65536);\n\n  //Create an object of MyType initialized to {0.0, 0}\n  MyType *instance = segment.construct&lt;MyType&gt;\n     (\"MyType instance\")  //name of the object\n     (0.0, 0);            //ctor first argument\n</code></pre>\n\n<p>In the child process:</p>\n\n<pre><code>  managed_shared_memory segment(open_only, \"MySharedMemory\");\n\n  std::pair&lt;MyType*, managed_shared_memory::size_type&gt; res;\n\n  //Find the object\n  res = segment.find&lt;MyType&gt; (\"MyType instance\");\n  //Length should be 1\n  if(res.second != 1) return 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 948, "user_id": 5582546, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zrDdD.jpg?s=128&g=1", "display_name": "SaeidMo7", "link": "https://stackoverflow.com/users/5582546/saeidmo7"}, "is_accepted": false, "score": 0, "last_activity_date": 1450348581, "creation_date": 1450348581, "answer_id": 34332429, "question_id": 34319393, "link": "https://stackoverflow.com/questions/34319393/access-to-the-global-variable-to-modify-the-value/34332429#34332429", "title": "Access to the global variable to modify the value", "body": "<p>This is the server process:</p>\n\n<pre><code>#include &lt;boost/interprocess/windows_shared_memory.hpp&gt;\n#include &lt;boost/interprocess/mapped_region.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nint main ()\n{\n   using namespace boost::interprocess;\n   try{\n      //Create a native windows shared memory object.\n      windows_shared_memory shm (create_only, \"shared_memory\", read_write, 1000);\n\n      //Map the whole shared memory in this process\n      mapped_region region(shm, read_write);\n\n      //Write all the memory to 1\n      std::memset(region.get_address(), 1, 1000);\n\n      //Launch the client process and wait until finishes...\n      //...\n   }\n   catch(interprocess_exception &amp;ex){\n      std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;\n      return 1;\n   }\n   return 0;\n}\n</code></pre>\n\n<p>Now, before destroying the windows_shared memory object, launch the client process:  </p>\n\n<pre><code>#include &lt;boost/interprocess/windows_shared_memory.hpp&gt;\n#include &lt;boost/interprocess/mapped_region.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nint main ()\n{\n   using namespace boost::interprocess;\n   try{\n      //Open already created shared memory object.\n      windows_shared_memory shm(open_only, \"shared_memory\", read_only);\n\n      //Map the whole shared memory in this process\n      mapped_region region (shm, read_only);\n\n      //Check that memory was initialized to 1\n      const char *mem = static_cast&lt;char*&gt;(region.get_address());\n      for(std::size_t i = 0; i &lt; 1000; ++i){\n         if(*mem++ != 1){\n            std::cout &lt;&lt; \"Error checking memory!\" &lt;&lt; std::endl;               \n            return 1;\n         }\n      }\n\n      std::cout &lt;&lt; \"Test successful!\" &lt;&lt; std::endl;\n   }\n   catch(interprocess_exception &amp;ex){\n      std::cout &lt;&lt; \"Unexpected exception: \" &lt;&lt; ex.what() &lt;&lt; std::endl;\n      return 1;\n   }\n\n   return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 948, "user_id": 5582546, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zrDdD.jpg?s=128&g=1", "display_name": "SaeidMo7", "link": "https://stackoverflow.com/users/5582546/saeidmo7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 34320068, "answer_count": 2, "score": -2, "last_activity_date": 1450348581, "creation_date": 1450290191, "last_edit_date": 1450292340, "question_id": 34319393, "link": "https://stackoverflow.com/questions/34319393/access-to-the-global-variable-to-modify-the-value", "title": "Access to the global variable to modify the value", "body": "<p>I have a c++ program with a global variable such as  <code>extern double variable</code>.<br>\nI want to change the value of that variable when that is run by another c++ program.<br>\nHow can i access to that variable by other programs and change the value ?</p>\n\n<p>for example:</p>\n\n<pre><code>#include &lt;iostream&gt;\nextern double myvariable = 0.0;\n\n\n\nint main() {\n\n    //waiting for modify value by another programs\n    while (myvariable == 0.0)\n    {\n    }\n\n    cout &lt;&lt; myvariable &lt;&lt; endl;\n\n\n    return 0;\n}\n</code></pre>\n\n<p>I need to a function in another program to modify the value of the <code>myvariable</code>.</p>\n"}, {"tags": ["c++", "exe"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 1, "creation_date": 1450289748, "post_id": 34319210, "comment_id": 56380100, "body": "Learn about cross-compiling.  The tools exist in Ubuntu too."}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1450289767, "post_id": 34319210, "comment_id": 56380105, "body": "If you build your C++ code, you&#39;ll get a binary that can run on <i>similar</i> systems (like other people who use the same version of Ubuntu). If you mean you want to build an <code>.exe</code> like for Windows, you&#39;ll have to cross-compile or build your code in Windows. A first thing to look at would be the <a href=\"http://packages.ubuntu.com/search?keywords=mingw-w64\" rel=\"nofollow noreferrer\"><code>mingw64-w64</code> package</a> in Ubuntu."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1450289901, "post_id": 34319210, "comment_id": 56380186, "body": "googling &quot;cross compile from linux to windows&quot; yielded many interesting results."}, {"owner": {"reputation": 2139, "user_id": 1566267, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/587e35626fc8fa2bfd9af27216d2c16b?s=128&d=identicon&r=PG", "display_name": "John_West", "link": "https://stackoverflow.com/users/1566267/john-west"}, "edited": false, "score": 0, "creation_date": 1450289967, "post_id": 34319210, "comment_id": 56380216, "body": "You <a href=\"http://stackoverflow.com/a/897303\">need a cross-compilation</a> You can use mingw tool chain, <a href=\"http://stackoverflow.com/a/2034007/1566267\">check this answer</a> for instructions."}, {"owner": {"reputation": 252, "user_id": 3573460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d232ac3fdc6012d3627976c253235a8?s=128&d=identicon&r=PG&f=1", "display_name": "Lasoloz", "link": "https://stackoverflow.com/users/3573460/lasoloz"}, "edited": false, "score": 0, "creation_date": 1450290012, "post_id": 34319210, "comment_id": 56380242, "body": "Note only: actually linux can run .exe files. (I&#39;m not sure if linux c++ compilers build exe files, but for instance I compiled a lot of pascal programs on Ubuntu, and it gave me exe, but this was long time ago)"}, {"owner": {"reputation": 2139, "user_id": 1566267, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/587e35626fc8fa2bfd9af27216d2c16b?s=128&d=identicon&r=PG", "display_name": "John_West", "link": "https://stackoverflow.com/users/1566267/john-west"}, "reply_to_user": {"reputation": 252, "user_id": 3573460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d232ac3fdc6012d3627976c253235a8?s=128&d=identicon&r=PG&f=1", "display_name": "Lasoloz", "link": "https://stackoverflow.com/users/3573460/lasoloz"}, "edited": false, "score": 0, "creation_date": 1450290148, "post_id": 34319210, "comment_id": 56380323, "body": "@Lasoloz No, a) they doesn&#39;t build exe files without cross-compilation b) you probably successfully run exe under linux because it had automatically started under some emulator-app like wine."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1450290364, "post_id": 34319210, "comment_id": 56380466, "body": "With Wine you don&#39;t even need &quot;cross-compilation&quot; (a compiler aware of running on a different platform than it is compiling for).  You can install a Windows compiler (with supporting files and tools) on Linux and run it under Wine."}, {"owner": {"reputation": 8777, "user_id": 3102264, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/G69VV.jpg?s=128&g=1", "display_name": "mpromonet", "link": "https://stackoverflow.com/users/3102264/mpromonet"}, "edited": false, "score": 0, "creation_date": 1450301410, "post_id": 34319210, "comment_id": 56386651, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2033997/howto-compile-for-windows-on-linux-with-gcc-g\">Howto compile for Windows on Linux with gcc / g++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 778, "user_id": 5687769, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OGS_dHjyp7s/AAAAAAAAAAI/AAAAAAAAACI/tHJG2NuXit4/photo.jpg?sz=128", "display_name": "Ankur  Jyoti Phukan", "link": "https://stackoverflow.com/users/5687769/ankur-jyoti-phukan"}, "is_accepted": false, "score": 4, "last_activity_date": 1450291157, "last_edit_date": 1495539991, "creation_date": 1450290009, "answer_id": 34319338, "question_id": 34319210, "link": "https://stackoverflow.com/questions/34319210/can-i-generate-exe-from-ubuntu/34319338#34319338", "title": "Can I generate exe from ubuntu", "body": "<p>You <a href=\"https://stackoverflow.com/a/897303\">need a cross-compilation</a>. You can use mingw tool chain, if your want 32bit Windows application, install mingw32. <a href=\"http://wiki.codeblocks.org/index.php/Code::Blocks_and_Cross_Compilers\" rel=\"nofollow noreferrer\">Here are the detailed instructions</a> for using it with IDE CodeBlocks.</p>\n\n<p>If you want to build 64-bit applications, try <a href=\"http://mingw-w64.org/doku.php\" rel=\"nofollow noreferrer\">mingw-w64 fork</a>.</p>\n\n<p>Also, then you could run the compiled application (or, even some native windows applications, compiled on Windows) in Linux under Wine:</p>\n\n<pre><code>sudo apt-get install wine\nwine myapp.exe\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5247649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vbro5.png?s=128&g=1", "display_name": "Ma7moud", "link": "https://stackoverflow.com/users/5247649/ma7moud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2639, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1450291157, "creation_date": 1450289588, "question_id": 34319210, "link": "https://stackoverflow.com/questions/34319210/can-i-generate-exe-from-ubuntu", "title": "Can I generate exe from ubuntu", "body": "<p>I'm using Ubuntu and I use Code::Blocks as my IDE, I'm still a student and my professor wants us to write and compile some c++ programs and give him the exes to check them</p>\n\n<p><strong>Is there a way for me to generate exe files on my Linux os ?</strong> </p>\n\n<p>ps: I'm new to Linux so take it easy on me. </p>\n\n<p><strong>Thanks</strong> </p>\n"}, {"tags": ["c++", "c", "windows", "cmake", "gstreamer"], "comments": [{"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1450335356, "post_id": 34318978, "comment_id": 56398208, "body": "Where is your call to <code>FindGStreamer.cmake</code>? With other words: Don&#39;t set GSTREAMER_INCLUDE_DIRS and GSTREAMER_LIBRARIES by hand, use CMake!"}, {"owner": {"reputation": 71, "user_id": 1829041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c4d2bee09817ad4040031d1e4ba652c?s=128&d=identicon&r=PG", "display_name": "Cyrus4ever", "link": "https://stackoverflow.com/users/1829041/cyrus4ever"}, "reply_to_user": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1450428936, "post_id": 34318978, "comment_id": 56445074, "body": "I know FindGstreamer would be better, but the thing is that there is no one supporting Windows, so I need to find the solution by myself :)"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 1829041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c4d2bee09817ad4040031d1e4ba652c?s=128&d=identicon&r=PG", "display_name": "Cyrus4ever", "link": "https://stackoverflow.com/users/1829041/cyrus4ever"}, "is_accepted": false, "score": 2, "last_activity_date": 1450429051, "creation_date": 1450429051, "answer_id": 34351806, "question_id": 34318978, "link": "https://stackoverflow.com/questions/34318978/compiling-a-gstreamer-app-using-cmake-on-windows/34351806#34351806", "title": "Compiling a gstreamer app using cmake on Windows", "body": "<p>Ok, I found what the problem is.\nI only need to take *dll.a files, so the code is now:</p>\n\n<pre><code>file(\n        GLOB_RECURSE\n        gst_files\n        ${CMAKE_CURRENT_SOURCE_DIR}/deps/lib/*dll.a\n)\n</code></pre>\n\n<p>I suppose we can do it in a proper way, so if someone has a better idea, I would be interested.</p>\n"}], "owner": {"reputation": 71, "user_id": 1829041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c4d2bee09817ad4040031d1e4ba652c?s=128&d=identicon&r=PG", "display_name": "Cyrus4ever", "link": "https://stackoverflow.com/users/1829041/cyrus4ever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2091, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1450429051, "creation_date": 1450288779, "question_id": 34318978, "link": "https://stackoverflow.com/questions/34318978/compiling-a-gstreamer-app-using-cmake-on-windows", "title": "Compiling a gstreamer app using cmake on Windows", "body": "<p>I am trying to use the gstreamer library under windows, using cmake.</p>\n\n<p>Here is my simple test code:</p>\n\n<pre><code>#include &lt;gst/gst.h&gt;\n\nint main (void)\n{\n    gst_init (NULL, NULL);\n    return 0;\n}\n</code></pre>\n\n<p>I got the lib (\"gstreamer-1.0-devel-x86-1.6.1.msi\") from here: <a href=\"http://gstreamer.freedesktop.org/data/pkg/windows/1.6.1/\" rel=\"nofollow\">http://gstreamer.freedesktop.org/data/pkg/windows/1.6.1/</a></p>\n\n<p>and try to compile the program with the following CMakeList.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 2.8.12)\n\nproject(test_g)\n\nSET(CMAKE_CXX_WARNING_LEVEL 4)\nif (MSVC)\n        add_definitions(\"/W4\")\nelse()\n        add_definitions(\"-Wall -Wextra\")\nendif ()\n\ninclude(CheckCXXCompilerFlag)\nCHECK_CXX_COMPILER_FLAG(\"-std=c++11\" COMPILER_SUPPORTS_CXX11)\nCHECK_CXX_COMPILER_FLAG(\"-std=c++0x\" COMPILER_SUPPORTS_CXX0X)\nif(COMPILER_SUPPORTS_CXX11)\n    set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11\")\nelseif(COMPILER_SUPPORTS_CXX0X)\n    set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++0x\")\nelse()\n        message(STATUS \"The compiler ${CMAKE_CXX_COMPILER} has no C++11 support. Please use a different C++ compiler.\")\nendif()\n\nfile(\n        GLOB_RECURSE\n        source_files\n        ./*\n)\n\nfile(\n        GLOB_RECURSE\n        gst_files\n        ${CMAKE_CURRENT_SOURCE_DIR}/deps/lib/*.a\n        ${CMAKE_CURRENT_SOURCE_DIR}/deps/lib/*.lib\n)\n\nadd_executable(\n        test_g\n        ${source_files}\n)\n\n  set(GSTREAMER_INCLUDE_DIRS \"./deps/include/gstreamer-1.0\" \"./deps/include/glib-2.0\" \"./deps/lib/glib-2.0/include\" \"./deps/lib/gstreamer-1.0/include\")\n  if (WIN32)\n   set(GSTREAMER_LIBRARIES ${gst_files})\n  else()\n    message(FATAL_ERROR \"Gstreamer not found\")\n  endif()\n\ninclude_directories(${GSTREAMER_INCLUDE_DIRS})\ntarget_link_libraries (test_g ${GSTREAMER_LIBRARIES})\n</code></pre>\n\n<p>I would like to avoid using pkgconfig because my goal is to make it easy to compile.</p>\n\n<p>Unfortunately, this does not work:</p>\n\n<pre><code>[ 33%] Linking CXX executable test_g.exe\n\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gst.o): In function `init_post':\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gst.c:719: undefined reference to `_imp__glib_micro_version'\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gst.c:719: undefined reference to `_imp__glib_minor_version'\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gst.c:719: undefined reference to `_imp__glib_major_version'\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gstinfo.o): In function `parse_debug_level':\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gstinfo.c:1771: undefined reference to `_imp__g_ascii_table'\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gstinfo.o): In function `gst_path_basename':\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gstinfo.c:467: undefined reference to `_imp__g_ascii_table'\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gstinfo.o): In function `gst_info_dump_mem_line':\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gstinfo.c:1931: undefined reference to `_imp__g_ascii_table'\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gststructure.o): In function `gst_structure_parse_simple_string':\nC:\\MinGW\\msys\\1.0\\home\\Jan\\cerbero\\sources\\windows_x86\\gstreamer-1.0-1.6\\gst/gststructure.c:2221: undefined reference to `_imp__g_ascii_table'\nC:/Users/toto/Documents/GitHub/test_gst/deps/lib/libgstreamer-1.0.a(libgstreamer_1.0_la-gststructure.o): In function `gst_structure_validate_name':\n... Many other errors ...\n</code></pre>\n\n<p>My questions are the following:</p>\n\n<ul>\n<li><p>Should I use both .lib and .a files?</p></li>\n<li><p>Why it does not compile? The file libglib-2.0.dll.a is in the lib directory, so I am not sure to understand what the issue is during the linkage...</p></li>\n</ul>\n\n<p>Thanks!</p>\n\n<hr>\n"}, {"tags": ["c++", "debugging", "testing", "shared-libraries", "ltrace"], "comments": [{"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 1, "creation_date": 1450289737, "post_id": 34318878, "comment_id": 56380093, "body": "&quot;and do some special handling for the pointers&quot; - and there&#39;s the problem. Wouldn&#39;t you have to archive all the states of the pointed-to objects in the log? Otherwise how can you build the objects in order to replay the log?"}, {"owner": {"reputation": 54, "user_id": 4699018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ddd3430a23011399c6995787666238?s=128&d=identicon&r=PG&f=1", "display_name": "cphurley82", "link": "https://stackoverflow.com/users/4699018/cphurley82"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1450296519, "post_id": 34318878, "comment_id": 56383954, "body": "The library is a behavioral model of hardware so it doesn&#39;t point to any external objects. The only pointers are to the model&#39;s instantiation itself and all the inputs and outputs are just integers."}, {"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1450298952, "post_id": 34318878, "comment_id": 56385389, "body": "Ok, so a simple parser to figure out the call and parameters, and a big switch should do it shouldn&#39;t it? If you want to get fancy, boost::spirit is probably a good first port of call."}, {"owner": {"reputation": 54, "user_id": 4699018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ddd3430a23011399c6995787666238?s=128&d=identicon&r=PG&f=1", "display_name": "cphurley82", "link": "https://stackoverflow.com/users/4699018/cphurley82"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1450396409, "post_id": 34318878, "comment_id": 56434467, "body": "Thanks, for the suggestion to use boost::spirit to parse. I was thinking the same thing about using a giant switch statement but thought I&#39;d ask the question to see if there was a more elegant way. I figured that doing this would be more common than my googling revealed but I suppose being a hardware model my library is actually much simpler than most in terms of the interaction with external classes."}], "owner": {"reputation": 54, "user_id": 4699018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ddd3430a23011399c6995787666238?s=128&d=identicon&r=PG&f=1", "display_name": "cphurley82", "link": "https://stackoverflow.com/users/4699018/cphurley82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450288425, "creation_date": 1450288425, "question_id": 34318878, "link": "https://stackoverflow.com/questions/34318878/best-way-to-replay-all-calls-to-a-shared-object", "title": "Best way to replay all calls to a shared object?", "body": "<p>I maintain a shared object written in c/c++. I would like to be able to log all calls to the library's methods in order to replay the same sequence of method calls for debug and testing. </p>\n\n<p>I can use ltrace to record all calls to the library but am looking to some tools or library to help replay the trace. I basically just need to parse the trace and call the same functions with the same inputs and do some special handling for the pointers. Here is an example of the trace info after some filtering:</p>\n\n<pre><code>27105 sv_sxp_bfm_CreateSxpMemoryChannelBfm@libsxpbfmall.so(0x1397668, 1, 1, 15) = 0x1a53080\n27105 sv_sxp_bfm_ConnectDPICallbacks@libsxpbfmall.so(0x1a53080, 0, 0x1a53080, 1) = 0x2aaaafe4918e\n27105 sv_sxp_bfm_GetPhy@libsxpbfmall.so(0x1a53080, 0, 0x1a53080, 1) = 0x1a571a0\n27105 sv_sxp_bfm_LoadRegisters@libsxpbfmall.so(0x1a53080, 0, 0x13bb3b0, 0x1a53080) = 6\n27105 sv_sxp_bfm_ReadCfg@libsxpbfmall.so(0x1a53080, 0x13913d0, 0x1a53080, 0x13913d0) = 5\n27105 sv_sxp_phy_SetTime@libsxpbfmall.so(0x1a571a0, 2500, 0x1a571a0, 2500) = 2500\n27105 sv_sxp_phy_SetCLK@libsxpbfmall.so(0x1a571a0, 1, 0x1a571a0, 1) = 1\n27105 sv_sxp_phy_SetRst@libsxpbfmall.so(0x1a571a0, 0, 0x1a571a0, 0) = 0\n27105 sv_sxp_phy_SetCA@libsxpbfmall.so(0x1a571a0, 0, 0x1a571a0, 0) = 0\n27105 sv_sxp_phy_SetSELIN@libsxpbfmall.so(0x1a571a0, 1, 0x1a571a0, 1) = 1\n</code></pre>\n"}, {"tags": ["c++", "http"], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 1105918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ede223a26b1ddf612ec9cba0895337d0?s=128&d=identicon&r=PG", "display_name": "roberti42", "link": "https://stackoverflow.com/users/1105918/roberti42"}, "is_accepted": true, "score": 0, "last_activity_date": 1463921359, "last_edit_date": 1495540354, "creation_date": 1463080773, "answer_id": 37195699, "question_id": 34318737, "link": "https://stackoverflow.com/questions/34318737/create-a-web-server-with-nodejs-http-parser/37195699#37195699", "title": "Create a web server with nodejs/http-parser", "body": "<p>First of all, you need a way to communicate using TCP/IP in order to implement the HTTP server; depending on your case, you may also need to use other protocols, like UDP (for instance, if you need to resolve a domain name, you will typically use DNS) or ICMP.</p>\n\n<p>If your application is running by an Operating System, take a look at its documentation about the networking facilities it can provide you. For instance, many operating systems provides a <a href=\"https://en.wikipedia.org/wiki/Berkeley_sockets\" rel=\"nofollow noreferrer\">POSIX sockets API</a> that will help you dealing with network devices and protocols.</p>\n\n<p>If you prefer, you can use one of the <a href=\"https://stackoverflow.com/questions/118945/best-c-c-network-library/118968#118968\">networking libraries</a> already written, provided they support your environment. They can help you with a useful abstraction of the network, so you can concentrate better on your application. </p>\n\n<p>On the other hand, if your application will not be running by an Operating System, the first thing to do is to find some <a href=\"https://en.wikipedia.org/wiki/Internet_protocol_suite\" rel=\"nofollow noreferrer\">internet protocol suite</a> that you will be able to use in your particular environment. </p>\n\n<p>If you don't find one, you obviously need to implement everything by yourself.</p>\n"}], "owner": {"reputation": 65, "user_id": 4670589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2bb43ace49b0fc73965d38073a4ea68?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4670589/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 37195699, "answer_count": 1, "score": 0, "last_activity_date": 1463921359, "creation_date": 1450287966, "question_id": 34318737, "link": "https://stackoverflow.com/questions/34318737/create-a-web-server-with-nodejs-http-parser", "title": "Create a web server with nodejs/http-parser", "body": "<p>I want to create a small web server in c++ with http-parser from here <a href=\"https://github.com/nodejs/http-parser\" rel=\"nofollow\">nodejs/http-parser</a>, I downloaded and I compiled what should I do next?</p>\n"}, {"tags": ["c++", "templates", "nested", "boost-serialization", "friend-function"], "answers": [{"comments": [{"owner": {"reputation": 844, "user_id": 1225999, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac3c52c2485673fa50d8e201dc9fcfed?s=128&d=identicon&r=PG", "display_name": "user1225999", "link": "https://stackoverflow.com/users/1225999/user1225999"}, "edited": false, "score": 0, "creation_date": 1450310991, "post_id": 34319363, "comment_id": 56390725, "body": "So you say yes g++ is right to refuse the code and yes this is simply not possible?"}, {"owner": {"reputation": 844, "user_id": 1225999, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac3c52c2485673fa50d8e201dc9fcfed?s=128&d=identicon&r=PG", "display_name": "user1225999", "link": "https://stackoverflow.com/users/1225999/user1225999"}, "edited": false, "score": 0, "creation_date": 1450353203, "post_id": 34319363, "comment_id": 56409065, "body": "&quot;[...] shall refer to [...]&quot; - so clang++ is also not wrong in accepting the code? Or does it mean that the qualified declaration <i>must</i> refer to a previously declared member of the namespace?"}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1450332964, "last_edit_date": 1450332964, "creation_date": 1450290071, "answer_id": 34319363, "question_id": 34318661, "link": "https://stackoverflow.com/questions/34318661/friend-declaration-in-nested-classes-requiring-forward-declaration/34319363#34319363", "title": "Friend declaration in nested classes requiring forward declaration", "body": "<p><a href=\"http://eel.is/c++draft/dcl.meaning#1\" rel=\"nofollow\">[dcl.meaning]/1</a>:</p>\n\n<blockquote>\n  <p><strong>When the <em>declarator-id</em> is qualified, the declaration shall refer to\n  a previously declared member of the class or namespace to which the\n  qualifier refers</strong> (or, in the case of a namespace, of an element of the\n  inline namespace set of that namespace ([namespace.def])) or to a\n  specialization thereof; [...].</p>\n</blockquote>\n\n<p>In other words, a declaration (including a friend declaration) with a qualified name  must refer to something previously declared. So GCC is sort of correct in rejecting the code, but it should have rejected it earlier, and the diagnostic is rather confusing. (Note that it will reject it on the spot if the thing being friended is a previously-undeclared plain function and not a template.)</p>\n\n<p>Also, requiring friend access sort of defeats the point of non-intrusive serialization in the first place (which is to allow you to serialize a class without changing its definition).</p>\n"}], "owner": {"reputation": 844, "user_id": 1225999, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac3c52c2485673fa50d8e201dc9fcfed?s=128&d=identicon&r=PG", "display_name": "user1225999", "link": "https://stackoverflow.com/users/1225999/user1225999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 2, "accepted_answer_id": 34319363, "answer_count": 1, "score": 4, "last_activity_date": 1450332964, "creation_date": 1450287748, "question_id": 34318661, "link": "https://stackoverflow.com/questions/34318661/friend-declaration-in-nested-classes-requiring-forward-declaration", "title": "Friend declaration in nested classes requiring forward declaration", "body": "<p>I am trying to write non-intrusive boost::serialization routines for a nested class with a private member. Unfortunately, I fail to convince g++ that the serialization routine is a friend of the inner class. It seems g++ requires a forward declaration of the serialization routine, which in turn would need a forward declaration of the nested class, which in turn cannot be done in C++. Am I missing something or is this just not possible? clang++ in contrast does not need a forward declaration and has no problems with the code below. The following code illustrates the problem:</p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n\nclass Outer;\n//class Outer::Inner;   // Not valid C++\n\nnamespace boost\n{\n    namespace serialization\n    {\n        template &lt;class Archive&gt;\n        void serialize(Archive &amp;ar, Outer&amp; outer, const unsigned int version);\n        //template &lt;class Archive&gt;\n        //void serialize(Archive &amp;ar, Outer::Inner&amp; inner, const unsigned int version); // Cannot be done since forward declaration of nested class not possible.\n    }\n}\n\nclass Outer\n{\n    class Inner\n    {\n        int member_{42};\n\n        template &lt;class Archive&gt;\n        friend void boost::serialization::serialize(Archive &amp;ar, Outer::Inner &amp;inner, const unsigned int version);  // This does not work with gcc since the compiler seems to expect a forward declaration, which cannot be done (see above).\n    };\n\n    Inner inner_;\n\n    template &lt;class Archive&gt;\n    friend void boost::serialization::serialize(Archive &amp;ar, Outer &amp;outer, const unsigned int version);\n    template &lt;class Archive&gt;\n    friend void boost::serialization::serialize(Archive &amp;ar, Inner &amp;inner, const unsigned int version);\n};\n\nnamespace boost\n{\n    namespace serialization\n    {\n        template &lt;class Archive&gt;\n        void serialize(Archive &amp;ar, Outer&amp; outer, const unsigned int version)\n        {\n            ar &amp; outer.inner_;\n        }\n\n        template &lt;class Archive&gt;\n        void serialize(Archive &amp;ar, Outer::Inner&amp; inner, const unsigned int version)\n        {\n            ar &amp; inner.member_;\n        }\n    }\n}\n\nint main()\n{\n    Outer outer;\n\n    boost::archive::text_oarchive(std::cout) &lt;&lt; outer;\n}\n</code></pre>\n\n<p>To be compiled with <code>-std=c++11</code> and <code>-lboost_serialization</code>. Compilation with g++ complains that <code>member_</code> is private even though a friend declaration is present. Is g++ right in refusing the friend declaration in the inner class?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "edited": false, "score": 1, "creation_date": 1450287793, "post_id": 34318640, "comment_id": 56378934, "body": "There&#39;s not enough here to know what&#39;s going on.  Please post a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 4, "creation_date": 1450287864, "post_id": 34318640, "comment_id": 56378973, "body": "Hint: <code>zoo[i].controles</code> is not boolean."}, {"owner": {"reputation": 1, "user_id": 5646148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154e0c215e81e66d9739193e025bb1fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seokjin", "link": "https://stackoverflow.com/users/5646148/seokjin"}, "edited": false, "score": 0, "creation_date": 1450287982, "post_id": 34318640, "comment_id": 56379037, "body": "Ya i know that, but how can I compare that? :S"}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 1, "creation_date": 1450287992, "post_id": 34318640, "comment_id": 56379042, "body": "Gwaaaarrnnn.. show us the declaration for &#39;zoo&#39;.. :)"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1450288005, "post_id": 34318640, "comment_id": 56379047, "body": "@Seokjin We&#39;d need to know what the type of controles is obviously"}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450288118, "post_id": 34318640, "comment_id": 56379123, "body": "zoo, zoo, zoo, typedef for you, you, you.. ?"}, {"owner": {"reputation": 1, "user_id": 5646148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154e0c215e81e66d9739193e025bb1fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seokjin", "link": "https://stackoverflow.com/users/5646148/seokjin"}, "edited": false, "score": 0, "creation_date": 1450288131, "post_id": 34318640, "comment_id": 56379133, "body": "<code>Controles</code> is boolean!"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1450288168, "post_id": 34318640, "comment_id": 56379157, "body": "No it isn&#39;t, just show us the declaration. We can&#39;t help you if you keep being so stubborn."}, {"owner": {"reputation": 1, "user_id": 5646148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154e0c215e81e66d9739193e025bb1fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seokjin", "link": "https://stackoverflow.com/users/5646148/seokjin"}, "edited": false, "score": 0, "creation_date": 1450288225, "post_id": 34318640, "comment_id": 56379183, "body": "I was editing sorry!"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1450288256, "post_id": 34318640, "comment_id": 56379202, "body": "<code>zoo[i].controles[ ??? ]</code> is boolean (after you replace ??? with something appropriate). But <code>zoo[i].controles</code> is an array (decays to a pointer in most contexts)."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1450288355, "post_id": 34318640, "comment_id": 56379271, "body": "<code>controles</code> is an array of booleans, so you should specify an index, then it&#39;s a boolean : <code>zoo[i].controles[i]</code>."}, {"owner": {"reputation": 1, "user_id": 5646148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154e0c215e81e66d9739193e025bb1fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seokjin", "link": "https://stackoverflow.com/users/5646148/seokjin"}, "edited": false, "score": 0, "creation_date": 1450288413, "post_id": 34318640, "comment_id": 56379305, "body": "omg thank youu fixed up! thanks a lot"}, {"owner": {"reputation": 11494, "user_id": 1795279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/4TEag.jpg?s=128&g=1", "display_name": "Haris", "link": "https://stackoverflow.com/users/1795279/haris"}, "reply_to_user": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1450288439, "post_id": 34318640, "comment_id": 56379324, "body": "@zenith, That comment was when he had not edited. Deleted that now. :)"}], "answers": [{"comments": [{"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1450288513, "post_id": 34318867, "comment_id": 56379362, "body": "Hence the error message about &quot;comparison between pointer ...&quot; - an array decays to a pointer."}, {"owner": {"reputation": 11494, "user_id": 1795279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/4TEag.jpg?s=128&g=1", "display_name": "Haris", "link": "https://stackoverflow.com/users/1795279/haris"}, "reply_to_user": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1450288673, "post_id": 34318867, "comment_id": 56379447, "body": "@WeatherVane, were you suggesting me to add that? Cause I have."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 0, "creation_date": 1450288722, "post_id": 34318867, "comment_id": 56379474, "body": "Just agreeing really with a +1."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 1, "creation_date": 1450288734, "post_id": 34318867, "comment_id": 56379486, "body": "In C++, a <code>bool</code> has two possible values: <code>true</code> or <code>false</code>. Comparing a <code>bool</code> to 1 is not idiomatic. Indeed, I&#39;d say that comparing a <code>bool</code> is not idiomatic, since a <code>bool</code> is, well, boolean, just like the condition expression in the <code>if</code>; <code>if (zoo[i].controles[x]) ... </code>"}], "tags": [], "owner": {"reputation": 11494, "user_id": 1795279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/4TEag.jpg?s=128&g=1", "display_name": "Haris", "link": "https://stackoverflow.com/users/1795279/haris"}, "is_accepted": false, "score": 3, "last_activity_date": 1450288624, "last_edit_date": 1450288624, "creation_date": 1450288393, "answer_id": 34318867, "question_id": 34318640, "link": "https://stackoverflow.com/questions/34318640/how-to-comparison-between-register-with-arrays-and-numbers/34318867#34318867", "title": "How to comparison between register with arrays and numbers", "body": "<p><code>controles[]</code> is not <code>bool</code>, it is an <code>array of bool</code>.</p>\n\n<pre><code>bool controles[MAX_CONTROLES];\n</code></pre>\n\n<hr>\n\n<p>When you use it like this</p>\n\n<pre><code>if (zoo[i].controles == 1){\n</code></pre>\n\n<p>Using the base address of the array, makes it to decay to a pointer, Hence the error </p>\n\n<pre><code>ISO C++ forbids comparison between pointer and integer [-fpermissive]\n</code></pre>\n\n<hr>\n\n<p>Depending on your requirement, I would guess that you are trying to compare with one of the elements in that array <code>controles[]</code>. And to access that element you need to provide the index of that element in place of <code>x</code> in the below line</p>\n\n<pre><code>if (zoo[i].controles[ x ] == 1){\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5646148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154e0c215e81e66d9739193e025bb1fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seokjin", "link": "https://stackoverflow.com/users/5646148/seokjin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1450288634, "creation_date": 1450287673, "last_edit_date": 1450288634, "question_id": 34318640, "link": "https://stackoverflow.com/questions/34318640/how-to-comparison-between-register-with-arrays-and-numbers", "title": "How to comparison between register with arrays and numbers", "body": "<pre><code>typedef struct {\nint codigo;\nchar Nombre[MAX_NAME];\nchar Especie[MAX_ESP];\nchar tipo;\nint voto;\nbool controles[MAX_CONTROLES];\nint num_controles;\n}TAnimal;\n\n\n\nTAnimal zoo[500];\n\nif (zoo[i].controles == 1){\n</code></pre>\n\n<p><code>controles</code> is boolean, so my error is </p>\n\n<pre><code>ISO C++ forbids comparison between pointer and integer [-fpermissive]\n</code></pre>\n\n<p>So, how can i compare that?</p>\n"}, {"tags": ["c++", "visual-studio-2015", "libzip"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1450287701, "post_id": 34318600, "comment_id": 56378882, "body": "You miss reading of documentation that tells you what that error code means."}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "edited": false, "score": 0, "creation_date": 1450288360, "post_id": 34318600, "comment_id": 56379276, "body": "How do you obtain the the error? In particular, how is <code>err</code> initialized and how is it printed?"}, {"owner": {"reputation": 1362, "user_id": 1366027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113fc570a09e03414126d8cda5f971c?s=128&d=identicon&r=PG", "display_name": "pcarter", "link": "https://stackoverflow.com/users/1366027/pcarter"}, "edited": false, "score": 1, "creation_date": 1450296958, "post_id": 34318600, "comment_id": 56384177, "body": "-858993460 is 0xCCCCCCCC which is what VS will initialize memory to in debug mode. This may mean that <code>err</code> wasn&#39;t changed at all by the <code>zip_open</code> call. Try setting <code>err</code> to 0 before the call to verify it&#39;s being changed. Is <code>zip_open</code> returning NULL to indicate an error occurred?"}, {"owner": {"reputation": 318, "user_id": 1458147, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/37b22288519b1d3b84f7383e9b3057af?s=128&d=identicon&r=PG", "display_name": "Spiralwise", "link": "https://stackoverflow.com/users/1458147/spiralwise"}, "edited": false, "score": 0, "creation_date": 1450363671, "post_id": 34318600, "comment_id": 56416064, "body": "If I put 0 to <code>err</code>, it won&#39;t be changed. So does it actually mean it&#39;s ok? However, <code>zip_source_file</code> and <code>zip_file_add</code> still don&#39;t add the file into the archive."}, {"owner": {"reputation": 318, "user_id": 1458147, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/37b22288519b1d3b84f7383e9b3057af?s=128&d=identicon&r=PG", "display_name": "Spiralwise", "link": "https://stackoverflow.com/users/1458147/spiralwise"}, "edited": false, "score": 0, "creation_date": 1450365732, "post_id": 34318600, "comment_id": 56417492, "body": "Ok, I know why it didn&#39;t create the zip. It is because the length parameter for <code>zip_source_file</code>. It must be -1 in order to process the whole file."}], "answers": [{"tags": [], "owner": {"reputation": 318, "user_id": 1458147, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/37b22288519b1d3b84f7383e9b3057af?s=128&d=identicon&r=PG", "display_name": "Spiralwise", "link": "https://stackoverflow.com/users/1458147/spiralwise"}, "is_accepted": false, "score": 0, "last_activity_date": 1450366005, "creation_date": 1450366005, "answer_id": 34338226, "question_id": 34318600, "link": "https://stackoverflow.com/questions/34318600/zip-open-gives-an-unknown-error/34338226#34338226", "title": "zip_open gives an unknown error", "body": "<p>I resolved my issue thanks to comments in my question. Actually, my work is working. It is just that <code>err</code> variable must be initialized to 0 since when there is no error, <code>err</code> is not automatically updated. If not initialized, VS will do by itself with <code>0xCCCCCCCC</code> which is actually <code>-858993460</code> in decimal.</p>\n\n<p>So the code should looks like this:</p>\n\n<pre><code>int err = 0;\nzip_t *myzip = zip_open(\"/path/to/my.zip\", ZIP_CREATE, &amp;err);\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 1458147, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/37b22288519b1d3b84f7383e9b3057af?s=128&d=identicon&r=PG", "display_name": "Spiralwise", "link": "https://stackoverflow.com/users/1458147/spiralwise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450366005, "creation_date": 1450287553, "last_edit_date": 1495540339, "question_id": 34318600, "link": "https://stackoverflow.com/questions/34318600/zip-open-gives-an-unknown-error", "title": "zip_open gives an unknown error", "body": "<p>I'm using libzip but I can't even use it. I'd like to create a new zip file.</p>\n\n<pre><code>zip_open(\"/path/to/my.zip\", ZIP_CREATE, &amp;err)\n</code></pre>\n\n<p>gives me this error code : <code>-858993460</code></p>\n\n<p>I compiled zlib and then libzip myself successfully (since I get no error) for both debug and release in Visual Studio. I followed instructions from <a href=\"https://stackoverflow.com/questions/10507893/libzip-with-visual-studio-2010\">this link</a>.</p>\n\n<p>What do I miss?</p>\n"}, {"tags": ["c++", "sorting", "queue", "implementation", "insertion"], "comments": [{"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450289458, "post_id": 34318504, "comment_id": 56379918, "body": "What does &quot;Insertion Sort&#39; on two queues&quot; mean? Insertion sort is usually performed on a single array. Can you give an example input and output, and also specify what the problem with your current code is?"}, {"owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450290948, "post_id": 34318504, "comment_id": 56380836, "body": "Well my assignment says that I have 2 queues , that need to be sorted.  The problem with my current code is that I access directly the second and the next elements ,which isn&#39;t possible in a Queue ,hence  I need to use a third queue  to assist with the sorting , to store previous /unsorted/sorted elements.  I need to not violate the rule that a Queue   is processed as first input ,first output (FIFO)"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450291383, "post_id": 34318504, "comment_id": 56381077, "body": "I still don&#39;t understand what sorting two queues means. Does it mean to sort each one individually? That doesn&#39;t seem to be what the code above does."}, {"owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450292175, "post_id": 34318504, "comment_id": 56381552, "body": "I have 2 queues , left and right. They are being sorted with the code above."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450292350, "post_id": 34318504, "comment_id": 56381650, "body": "Yes, you have repeated that several times now, and it is still just as meaningless. How about an example of what the queues contain before and after sorting?"}, {"owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1450292728, "post_id": 34318504, "comment_id": 56381861, "body": "Queue 1 - 4 ,5 ,11 ,8,3     ,Queue 2 - 2,3,4,5 ,2 ,11.  After the sorting they are as following : Queue 1 - 3 ,4 ,5 ,8,11  , Queue 2 - 2,2,3,4,5,11.  They get sorted. But I sort the queue like if it was a list. I do not know how to deal with a  FIFO structure and I am seeking advice here."}, {"owner": {"reputation": 1671, "user_id": 357986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b6f4260857c92f8c1fcafbf1688a70?s=128&d=identicon&r=PG", "display_name": "deebee", "link": "https://stackoverflow.com/users/357986/deebee"}, "edited": false, "score": 0, "creation_date": 1450293046, "post_id": 34318504, "comment_id": 56382029, "body": "Ah i see, in my solution I only sorted the first Q and that&#39;s pushed into second queue."}, {"owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "edited": false, "score": 0, "creation_date": 1450293198, "post_id": 34318504, "comment_id": 56382116, "body": "right . My solution works like this too. In the main method , it calls the  InsetionSort function  separately for the first queue and the second queue."}, {"owner": {"reputation": 1671, "user_id": 357986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b6f4260857c92f8c1fcafbf1688a70?s=128&d=identicon&r=PG", "display_name": "deebee", "link": "https://stackoverflow.com/users/357986/deebee"}, "edited": false, "score": 0, "creation_date": 1450293346, "post_id": 34318504, "comment_id": 56382205, "body": "Okay, deleted my answer, doesn&#39;t add any new thoughts."}, {"owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "edited": false, "score": 0, "creation_date": 1450295532, "post_id": 34318504, "comment_id": 56383439, "body": "Nah  , your answer provided useful information , I think it would have worked in this case  , you could post it again ,if it&#39;s not a problem."}, {"owner": {"reputation": 8048, "user_id": 2658948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFeL8.jpg?s=128&g=1", "display_name": "dstudeba", "link": "https://stackoverflow.com/users/2658948/dstudeba"}, "edited": false, "score": 0, "creation_date": 1450464661, "post_id": 34318504, "comment_id": 56466400, "body": "Added queues and results from the comments into the main text"}], "answers": [{"comments": [{"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1450460589, "post_id": 34332063, "comment_id": 56464207, "body": "Or if sorting two queues according to one of the queues, then the third queue can be used for pairs of elements."}], "tags": [], "owner": {"reputation": 16, "user_id": 5690502, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/219b20d758dee16104c61fd53077356e?s=128&d=identicon&r=PG", "display_name": "rmonov", "link": "https://stackoverflow.com/users/5690502/rmonov"}, "is_accepted": true, "score": 0, "last_activity_date": 1450347572, "creation_date": 1450347572, "answer_id": 34332063, "question_id": 34318504, "link": "https://stackoverflow.com/questions/34318504/c-insertion-sort-on-a-queue/34332063#34332063", "title": "C++ Insertion sort on a queue", "body": "<p>@interjay the queues need to be sorted individualy , with the use of a 3rd assisting queue which is used when queue1 or queue2 is sorted. The queues must not be sorted at the same time because this will require 2 assisting queues</p>\n"}], "owner": {"reputation": 23, "user_id": 5568145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9801161ea34856fd5606b22842d22?s=128&d=identicon&r=PG&f=1", "display_name": "ClonnableInterface", "link": "https://stackoverflow.com/users/5568145/clonnableinterface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 34332063, "answer_count": 1, "score": -1, "last_activity_date": 1450464661, "creation_date": 1450287308, "last_edit_date": 1592644375, "question_id": 34318504, "link": "https://stackoverflow.com/questions/34318504/c-insertion-sort-on-a-queue", "title": "C++ Insertion sort on a queue", "body": "<p>I am trying to implement 'Insertion Sort' on two queues without using an array.</p>\n<blockquote>\n<p>Queue 1 - 4, 5, 11, 8, 3</p>\n<p>Queue 2 - 2, 3, 4, 5, 2, 11</p>\n</blockquote>\n<p>After the sorting they are as following :</p>\n<blockquote>\n<p>Queue 1 - 3, 4, 5, 8, 11</p>\n<p>Queue 2 - 2, 2, 3, 4, 5, 11</p>\n</blockquote>\n<p>They get sorted. But I sort the queue like if it was a list. I do not know how to deal with a FIFO structure.</p>\n<p>My teacher said that my implementation is alright if it was for a list, but not for queue. I am supposed to use the <code>push()</code> and <code>pop()</code> functions (already implemented them) and a third queue for assistance. This is my current implementation of the sorting algorithm:</p>\n<pre><code>void InsertionSort(queue* &amp;left, queue* &amp;right)\n{\n    int x, i = 0, j;\n    queue *p = left;\n    while (p)\n    {\n        x = getElemAt(i, left, right);\n        j = i - 1;\n        while (j &gt;= 0 &amp;&amp; x &lt; getElemAt(j, left, right))\n        {\n            setElemAt(j + 1, getElemAt(j, left, right), left, right);\n            j--;\n        }\n        setElemAt(j + 1, x, left, right);\n        p = p-&gt;next;\n        i++;\n   }\n}\n</code></pre>\n<p><code>getElemAt</code> and <code>setElemAt</code> are additional functions I've written separately. How should I approach the problem of sorting with an additional queue?</p>\n"}, {"tags": ["c++", "single-sign-on", "kerberos"], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 1838046, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/481b0dca77e6713fc593eea924fbf3ff?s=128&d=identicon&r=PG", "display_name": "Vanathi", "link": "https://stackoverflow.com/users/1838046/vanathi"}, "is_accepted": true, "score": 1, "last_activity_date": 1453190227, "creation_date": 1453190227, "answer_id": 34871295, "question_id": 34318414, "link": "https://stackoverflow.com/questions/34318414/how-do-i-troubleshoot-encryption-type-not-permitted-error-in-kerberos/34871295#34871295", "title": "How do I troubleshoot &quot;Encryption type not permitted&quot; error in Kerberos?", "body": "<p>Updating krb5.conf file in my server machine to include all the encryption types resolved the problem.</p>\n"}], "owner": {"reputation": 175, "user_id": 1838046, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/481b0dca77e6713fc593eea924fbf3ff?s=128&d=identicon&r=PG", "display_name": "Vanathi", "link": "https://stackoverflow.com/users/1838046/vanathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 34871295, "answer_count": 1, "score": 0, "last_activity_date": 1453190227, "creation_date": 1450286990, "last_edit_date": 1450288156, "question_id": 34318414, "link": "https://stackoverflow.com/questions/34318414/how-do-i-troubleshoot-encryption-type-not-permitted-error-in-kerberos", "title": "How do I troubleshoot &quot;Encryption type not permitted&quot; error in Kerberos?", "body": "<ul>\n<li>Keytab file is created with \"Crypto ALL\".</li>\n<li>The user in AD with which SPN is created has DES, AES128, AES256 encryption algorithms enabled.(user properties -> Accounts).</li>\n<li>The domain user with which I login to my application has no encryption type enabled</li>\n<li>When I do a klist, the ticket has DES-CBC-MD5 encryption.</li>\n<li>In the client machine(from where I access my application), when I execute gpedit.msc, all encryption types are enabled.</li>\n</ul>\n\n<p>I get the following error when authentication fails:\nkrbAuthenticate: Major Error: Unspecified GSS failure.  Minor code may provide more information  and Minor Error: Encryption type not permitted</p>\n\n<p>Can you please let me knod if I had missed out any configuration related to encryption types?</p>\n"}, {"tags": ["c++", "parallel-processing", "ppl"], "comments": [{"owner": {"reputation": 3145, "user_id": 67753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a52672427678f8a940e5a016292c5e?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/67753/rick"}, "edited": false, "score": 1, "creation_date": 1450288024, "post_id": 34318366, "comment_id": 56379058, "body": "You are using parallel_for parameters and the parallel_for_each function. You should probably use parallel_for not parallel_for each in this case."}, {"owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "reply_to_user": {"reputation": 3145, "user_id": 67753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a52672427678f8a940e5a016292c5e?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/67753/rick"}, "edited": false, "score": 0, "creation_date": 1450289742, "post_id": 34318366, "comment_id": 56380098, "body": "@Rick thanks, I changed the code to <code>parallel_for</code> and the error was gone. But now the function returns just the index of the last element in array. Any ideas on how to make it work correctly?"}, {"owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "reply_to_user": {"reputation": 3145, "user_id": 67753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57a52672427678f8a940e5a016292c5e?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/67753/rick"}, "edited": false, "score": 0, "creation_date": 1450290187, "post_id": 34318366, "comment_id": 56380351, "body": "@Rick sorry for misleading, it doesn&#39;t return any index, it just returns zero."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 9201394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c1a9fc2309159888060fc674d10fcf?s=128&d=identicon&r=PG&f=1", "display_name": "SoonJong Jung Jung Troubler", "link": "https://stackoverflow.com/users/9201394/soonjong-jung-jung-troubler"}, "is_accepted": true, "score": 1, "last_activity_date": 1584661041, "creation_date": 1584661041, "answer_id": 60766566, "question_id": 34318366, "link": "https://stackoverflow.com/questions/34318366/find-max-element-in-array-using-ppl/60766566#60766566", "title": "Find max element in array using PPL", "body": "<pre><code>float SimpleTest::SimpleTestfind_largest_element_in_matrix_PPL(float* m, size_t dims)\n{\n    float max_element;\n    concurrency::combinable&lt;float&gt; locals([&amp;]{ return INT_MIN + 0.f; });\n    int last= dims*dims;\n    concurrency::parallel_for(0, last, [&amp;](int curr)\n    {\n        float &amp; localMax = locals.local();\n        localMax = max&lt;float&gt;(localMax, curr);\n    });\n\n    max_element = locals.combine([](float left, float right) { return max&lt;float&gt;(left, right); });\n    std::cout &lt;&lt; max_element &lt;&lt; endl;\n    return max_element;\n}\n</code></pre>\n\n<p>Maybe it will work</p>\n"}], "owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 60766566, "answer_count": 1, "score": 0, "last_activity_date": 1584661041, "creation_date": 1450286862, "last_edit_date": 1495539878, "question_id": 34318366, "link": "https://stackoverflow.com/questions/34318366/find-max-element-in-array-using-ppl", "title": "Find max element in array using PPL", "body": "<p>I need to implement a function that would find the largest element in the array of floats using <code>ppl.h</code>.</p>\n\n<p>I have this code, based on <a href=\"https://stackoverflow.com/a/22943575/4674270\">this answer</a>:</p>\n\n<pre><code>float find_largest_element_in_matrix_PPL(float* m, size_t dims)\n{\n    float max_element;\n    int row, col;\n    concurrency::combinable&lt;float&gt; locals([] { return INT_MIN + 0.f; });\n    concurrency::parallel_for_each(size_t(0), dims * dims, [&amp;locals](int curr)\n    {\n        float &amp; localMax = locals.local();\n        localMax = max&lt;float&gt;(localMax, curr);\n    });\n\n    max_element = locals.combine([](float left, float right) { return max&lt;float&gt;(left, right); });\n    cout &lt;&lt; max_element &lt;&lt; endl;\n    return max_element;\n}\n</code></pre>\n\n<p>However, there's an issue with this code:</p>\n\n<ul>\n<li>It throws the following exception before executing:</li>\n</ul>\n\n<blockquote>\n  <p>Error C2780   'void Concurrency::_Parallel_for_each_impl(const\n  _Random_iterator &amp;,const _Random_iterator &amp;,const _Function &amp;,_Partitioner &amp;&amp;,std::random_access_iterator_tag)': expects 5\n  arguments - 4 provided    parp    D:\\Microsoft Visual Studio\n  14.0\\VC\\include\\ppl.h 2987</p>\n  \n  <p>Error C2780 'void Concurrency::_Parallel_for_each_impl(_Forward_iterator,const\n  _Forward_iterator &amp;,const _Function &amp;,const Concurrency::auto_partitioner &amp;,std::forward_iterator_tag)': expects 5\n  arguments - 4 provided    parp    D:\\Microsoft Visual Studio\n  14.0\\VC\\include\\ppl.h 2987</p>\n  \n  <p>Error C2893 Failed to specialize function template 'iterator_traits&lt;_Iter>::iterator_category\n  std::_Iter_cat(const _Iter &amp;)'    parp    D:\\Microsoft Visual Studio\n  14.0\\VC\\include\\ppl.h 2987</p>\n</blockquote>\n\n<hr>\n\n<ol>\n<li><p>Could you please help me with resolving that issue?</p></li>\n<li><p>How can I rewrite the code to make use of <code>parallel_for</code>? (I cannot reference the array argument passed to the function in the <code>parallel_for</code> block)</p></li>\n</ol>\n"}, {"tags": ["c++", "fonts", "xlib", "truetype", "opentype"], "comments": [{"owner": {"reputation": 248, "user_id": 4702958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-VH8fLLqidoQ/AAAAAAAAAAI/AAAAAAAAABk/-UvPUpUp-nk/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/4702958/andrew-robinson"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1450367300, "post_id": 34318365, "comment_id": 56418611, "body": "I&#39;d simply like fonts. I&#39;ll take out the smoothing part"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1450375804, "post_id": 34318365, "comment_id": 56424234, "body": "when you say implement, do you mean &quot;create them from scratch&quot;, or just &quot;load fonts that you have on disk&quot;? Because if the latter, that is quite easily found with a websearch (e.g. second hit on google for me is <a href=\"https://tronche.com/gui/x/xlib/graphics/font-metrics/fonts.html\" rel=\"nofollow noreferrer\">tronche.com/gui/x/xlib/graphics/font-metrics/fonts.html</a>)"}, {"owner": {"reputation": 248, "user_id": 4702958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-VH8fLLqidoQ/AAAAAAAAAAI/AAAAAAAAABk/-UvPUpUp-nk/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/4702958/andrew-robinson"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1450383325, "post_id": 34318365, "comment_id": 56428472, "body": "I pretty much meant load from disk, and Nim pretty much hit that right on the head. Thank you for the link, I&#39;ll look into it."}], "answers": [{"tags": [], "owner": {"reputation": 2001, "user_id": 2502234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ca9cf38107858a2b49718da4b603fc?s=128&d=identicon&r=PG", "display_name": "nim", "link": "https://stackoverflow.com/users/2502234/nim"}, "is_accepted": true, "score": 2, "last_activity_date": 1451467384, "last_edit_date": 1451467384, "creation_date": 1450380245, "answer_id": 34342622, "question_id": 34318365, "link": "https://stackoverflow.com/questions/34318365/ttf-otf-fonts-on-xlib/34342622#34342622", "title": "TTF/OTF fonts on xlib", "body": "<p>Not really, opentype and unicode are tentacular specs, you need to use specialized libs such as (harfbuzz-ng + freebidi + fontconfig + freetype) to get something that works in anything but trivial cases.</p>\n\n<p>The font handling bits in Xlib are legacy leftovers of the time when XFree86 people thought modern fonts would be \"easy\". It proved a lot harder, and later versions of this code were spun out in separate projects that eventually became the libs I pointed to.</p>\n"}], "owner": {"reputation": 248, "user_id": 4702958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-VH8fLLqidoQ/AAAAAAAAAAI/AAAAAAAAABk/-UvPUpUp-nk/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/4702958/andrew-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 1, "accepted_answer_id": 34342622, "answer_count": 1, "score": 0, "last_activity_date": 1451467384, "creation_date": 1450286854, "last_edit_date": 1450367327, "question_id": 34318365, "link": "https://stackoverflow.com/questions/34318365/ttf-otf-fonts-on-xlib", "title": "TTF/OTF fonts on xlib", "body": "<p>I'm Doing some simple tests with XLIB and c++ on linux, and I was wondering, is there any (relatively easy) way to implement OTF and TTF fonts in Xlib. Can anybody help me out with this?</p>\n"}, {"tags": ["c++", "arrays", "visual-c++", "c++14"], "comments": [{"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1450287062, "post_id": 34318225, "comment_id": 56378524, "body": "The 3 in your outer code is at a different level of indirection than the 3 in <code>Engine::Engine</code>.  Either remove a level of indirection in the outer code or add one in <code>Engine::Engine</code>."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1450287203, "post_id": 34318225, "comment_id": 56378595, "body": "Do you really need all those pointers and c-style arrays? Can&#39;t you do with a standard container like <code>vector</code> and passing a <code>reference</code> instead?"}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3705920, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/23e1c4f0494f99e52c436b9ea72486ca?s=128&d=identicon&r=PG&f=1", "display_name": "PatrikD", "link": "https://stackoverflow.com/users/3705920/patrikd"}, "edited": false, "score": 0, "creation_date": 1450287645, "post_id": 34318505, "comment_id": 56378841, "body": "It show me error <code>ErrorC3867\t&#39;IObjekt::dajX&#39;: non-standard syntax; use &#39;&amp;&#39; to create a pointer to member</code> Whats wrong?"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 329, "user_id": 3705920, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/23e1c4f0494f99e52c436b9ea72486ca?s=128&d=identicon&r=PG&f=1", "display_name": "PatrikD", "link": "https://stackoverflow.com/users/3705920/patrikd"}, "edited": false, "score": 0, "creation_date": 1450287827, "post_id": 34318505, "comment_id": 56378949, "body": "How is dajX declared?  You used it as data.  That error might mean it is a member function."}], "tags": [], "owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "is_accepted": true, "score": 1, "last_activity_date": 1450287315, "creation_date": 1450287315, "answer_id": 34318505, "question_id": 34318225, "link": "https://stackoverflow.com/questions/34318225/sending-array-between-class-in-c/34318505#34318505", "title": "Sending array between class in C++", "body": "<p>I'm guessing that the relationship between <code>BMPObjekt</code> and <code>IObjekt</code> (which you did not show) prevents you from easily removing a level of indirection from the outer code.  So you need to add a level of indirection to the called code, removing a <code>*</code> from the call:</p>\n\n<pre><code>aHra = new Engine(aHraciaPlocha, store);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Engine::Engine(ISystem * plocha, IObjekt **objekty)\n    :aHraciaPlocha(plocha), aObjekty(objekty), aSkore(0)\n{\n\n    for (int i = 0; i &lt; 3; i++) {\n\n        IObjekt *objekt = objekty[i];\n        cout &lt;&lt; objekt-&gt;dajX &lt;&lt; endl; \n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3705920, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/23e1c4f0494f99e52c436b9ea72486ca?s=128&d=identicon&r=PG&f=1", "display_name": "PatrikD", "link": "https://stackoverflow.com/users/3705920/patrikd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 34318505, "answer_count": 1, "score": -3, "last_activity_date": 1450287315, "creation_date": 1450286476, "question_id": 34318225, "link": "https://stackoverflow.com/questions/34318225/sending-array-between-class-in-c", "title": "Sending array between class in C++", "body": "<p>i have a a problem. I wanna create new array of <code>IOBjekt</code>, I have filled array and now I would like to send array to another class (<code>Hra</code>). Can you help me with pointers. I dont know how to foreach this array and call method from object.</p>\n\n<p>Save to array</p>\n\n<pre><code>IObjekt **store = new IObjekt*[3];\nfor (int i = 0; i &lt; 3; i++)\n{\n    store[i] = new BMPObjekt(aHraciaPlocha, \"ball.bmp\");\n\n    cout &lt;&lt; store[i] &lt;&lt; endl;\n}\n\naHra = new Engine(aHraciaPlocha, *store);\n</code></pre>\n\n<p>Parse array</p>\n\n<pre><code>Engine::Engine(ISystem * plocha, IObjekt *objekty)\n    :aHraciaPlocha(plocha), aObjekty(objekty), aSkore(0)\n{\n\n    for (int i = 0; i &lt; 3; i++) {\n\n        IObjekt *objekt = &amp;objekty[i]; // This doesnt work\n        cout &lt;&lt; objekt-&gt;dajX &lt;&lt; endl; \n\n    }\n\n}\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1450286460, "post_id": 34318218, "comment_id": 56378155, "body": "Welcome to Stack Overflow! Please <b><a href=\"https://stackoverflow.com/posts/34318218/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 1, "creation_date": 1450286867, "post_id": 34318218, "comment_id": 56378413, "body": "<code>auto</code> is not a type, it asks the compiler to <i>guess</i> the type from context. What <i>exactly</i> is the <code>reads a JSON</code> part? Which header files and libraries are you using for JSON? Which compiler, which operating system, which compilation flags? Please <b>edit your question</b> to improve it <i>a lot</i> !"}], "answers": [{"comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1450287569, "post_id": 34318396, "comment_id": 56378789, "body": "Um, although it&#39;s not completely clear, I think the problem is with the stream insertion, not the <code>auto</code> itself."}, {"owner": {"reputation": 905, "user_id": 5170218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e746d5acb1323eea69830a11b4a12ef2?s=128&d=identicon&r=PG&f=1", "display_name": "SACHIN GOYAL", "link": "https://stackoverflow.com/users/5170218/sachin-goyal"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1450287858, "post_id": 34318396, "comment_id": 56378970, "body": "Agreed , same thing i have pointed .Either he is using old compiler or problem with fetching data .In either case problem is not clear enough"}], "tags": [], "owner": {"reputation": 905, "user_id": 5170218, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e746d5acb1323eea69830a11b4a12ef2?s=128&d=identicon&r=PG&f=1", "display_name": "SACHIN GOYAL", "link": "https://stackoverflow.com/users/5170218/sachin-goyal"}, "is_accepted": false, "score": 2, "last_activity_date": 1450286937, "creation_date": 1450286937, "answer_id": 34318396, "question_id": 34318218, "link": "https://stackoverflow.com/questions/34318218/how-to-use-auto-keyword-in-c/34318396#34318396", "title": "How to use auto keyword in C++", "body": "<p>With C++11, you can declare a variable or an object without specifying its speci\ufb01c type by using auto.1 For example:</p>\n\n<pre><code>   auto i = 42; // i has type int \n    double f(); \n    auto d = f(); // d has type double \n</code></pre>\n\n<p>The type of a variable declared with auto is deduced from its initializer. Thus, an initialization is required: </p>\n\n<p>auto i; // ERROR: can\u2019t dedulce the type of i </p>\n\n<p>Additional quali\ufb01ers are allowed. For example: </p>\n\n<p>static auto vat = 0.19; </p>\n\n<p>Using auto is especially useful where the type is a pretty long and/or complicated expression. For example: </p>\n\n<pre><code>vector&lt;string&gt; v; ... auto pos = v.begin(); // pos has type        vector&lt;string&gt;::iterator\nauto l = [] (int x) -&gt; bool { // l has the type of a lambda ..., // taking an int and returning a bool };\n</code></pre>\n\n<p>In short auto can deduce any type .Your program is not working because it is possible that it is not able to parse JSON or compiler is old (where auto is not supported .Can you specifically let me know the error you got ?</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 0, "last_activity_date": 1450286987, "creation_date": 1450286987, "answer_id": 34318412, "question_id": 34318218, "link": "https://stackoverflow.com/questions/34318218/how-to-use-auto-keyword-in-c/34318412#34318412", "title": "How to use auto keyword in C++", "body": "<p><code>auto</code> in C++ means \"set variable type for type of initialization expression\", in your case whatever that \"reads a JSON\" expression returns. You cannot output that type to <code>std::cout</code> because <code>operator&lt;&lt;</code> is not defined for such type, there could be many possible reasons as operator not provided, you suppose to use something else, missing header etc. Solution would depend on actual type.</p>\n"}, {"comments": [{"owner": {"reputation": 1395, "user_id": 5433221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0b3b417193a443daf0a54dba15b0537?s=128&d=identicon&r=PG&f=1", "display_name": "CppNITR", "link": "https://stackoverflow.com/users/5433221/cppnitr"}, "edited": false, "score": 0, "creation_date": 1450289456, "post_id": 34319130, "comment_id": 56379916, "body": "&quot;increase the generic ability of the functions without the use of templates.&quot; Could you explain that ?"}], "tags": [], "owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "is_accepted": false, "score": 0, "last_activity_date": 1450289261, "creation_date": 1450289261, "answer_id": 34319130, "question_id": 34318218, "link": "https://stackoverflow.com/questions/34318218/how-to-use-auto-keyword-in-c/34319130#34319130", "title": "How to use auto keyword in C++", "body": "<p>Ok ! Before telling you how to use <code>auto</code>, I must tell you it's one of the best features of <code>C++11</code> &amp; has made <code>C++</code> even more efficient by :-</p>\n\n<ol>\n<li><p>Reducing amount of code</p></li>\n<li><p>Enforcing initialization</p></li>\n<li><p>Increasing genericity (In C++17)</p></li>\n</ol>\n\n<p>Firstly <code>auto</code> has only 1 job. It will deduce the type of an object by the value passed to it. For ex :-</p>\n\n<pre><code>auto x = 5;\n</code></pre>\n\n<p>This means that <code>x</code> is an integer whose value is 5. Whenever you are using <code>auto</code> you must initialize the variable (which is a good thing) &amp; you cannot use auto on multiple types in a statement. For ex :-</p>\n\n<pre><code>auto x;  // illegal ! x isn't initialized so compiler cannot dduce it's type\nauto z=5, y=7;  // legal because z &amp; y are both integers\nauto a=8, ch= 'c';  // illegal ! an integer &amp; a character in a single statement, hence type deduction ambiguity\n</code></pre>\n\n<p>The cream of <code>auto</code> is not in intializing <code>int</code>, <code>char</code>, etc data types. It's more handy for <code>classes</code> like <code>iterators</code>. For ex :-</p>\n\n<pre><code>vector&lt;int&gt; v;\nvector&lt;int&gt;::iterator i1 = v.begin();\nauto i2 = v.begin();   // see how auto reduces the code length\n</code></pre>\n\n<p>This can be even more obvious in <code>for</code> loops :-</p>\n\n<pre><code>for (vector&lt;int&gt;::iterator i = v.begin(); i!=v.end(); ++i);\n</code></pre>\n\n<p>Can be reduced to :-</p>\n\n<pre><code>for (auto i = v.begin(), i!=v.end(); ++i);\n</code></pre>\n\n<p>If you are not happy with the above then this may inspire you to use <code>auto</code> :-</p>\n\n<pre><code>vector&lt; map &lt;int, vector&lt;string&gt; &gt; &gt;::iterator i1 = v.begin();  // where v is the vector of maps of ints &amp; vectors of strings !!!!\nauto i2 = v.begin();\n</code></pre>\n\n<p>The genericity I was talking about is in passing values to functions by <code>auto</code>. Like :-</p>\n\n<pre><code>void add (auto x, auto y)\n{\n    cout &lt;&lt; x+y &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>This is not possible in current standards &amp; has been proposed for C++17. This is likely to increase the generic ability of the functions without the use of <code>templates</code>. However this syntax is possible for <code>lambda functions</code> :-</p>\n\n<pre><code>auto l = [](auto x, auto y) { return x+y; }   // legal from C++14 onwards\n</code></pre>\n\n<p>However be careful when using braces with lambda because you may think that :-</p>\n\n<pre><code>auto x = {5};\n</code></pre>\n\n<p>Is an integer but it is actually an <code>intializer_list&lt;int&gt;</code> type object. I can explain a hell lot about <code>auto</code> but I guess for now this is more than enough.</p>\n"}], "owner": {"reputation": 1, "user_id": 5687745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e914527640d1c736860253c1ac5a7b61?s=128&d=identicon&r=PG&f=1", "display_name": "Chathurika Dilrukshi", "link": "https://stackoverflow.com/users/5687745/chathurika-dilrukshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "answer_count": 3, "score": -7, "last_activity_date": 1614791127, "creation_date": 1450286440, "last_edit_date": 1614791127, "question_id": 34318218, "link": "https://stackoverflow.com/questions/34318218/how-to-use-auto-keyword-in-c", "title": "How to use auto keyword in C++", "body": "<p>I have C++ code with a type <code>auto</code>:</p>\n<pre><code>auto T = reads a JSON\n</code></pre>\n<p>I need to print the content of the <code>T</code> using</p>\n<pre><code>cout &lt;&lt; T &lt;&lt; endl;\n</code></pre>\n<p>It is not working. Can you help me?</p>\n"}, {"tags": ["c++", "visual-studio-2012", "serial-communication"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1450287135, "post_id": 34317952, "comment_id": 56378561, "body": "Your DCB initialization is inadequate, the handshake configuration is important.  Works when another friendly program, like a terminal emulator sets it correctly.  Doesn&#39;t work the next day when you didn&#39;t ran such a program."}, {"owner": {"reputation": 682, "user_id": 2610712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbV5n.jpg?s=128&g=1", "display_name": "Oliver Heggelbacher", "link": "https://stackoverflow.com/users/2610712/oliver-heggelbacher"}, "edited": false, "score": 0, "creation_date": 1452276613, "post_id": 34317952, "comment_id": 57112930, "body": "besides the incomplete DCB initialization mentioned by Hans... This should work also if you open the COM port in the MyBehaviorModel() constructor. But are you sure you didn&#39;t accidentally close the port handle m_hFile within updatePosition(..) ? You need to keep the handle open."}, {"owner": {"reputation": 9, "user_id": 5190202, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204873213058633/picture?type=large", "display_name": "Mehdi Madani", "link": "https://stackoverflow.com/users/5190202/mehdi-madani"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1452520937, "post_id": 34317952, "comment_id": 57192556, "body": "first of all sorry for late response. secondly thank you so much @HansPassant your suggestion helped me a lot!"}, {"owner": {"reputation": 9, "user_id": 5190202, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204873213058633/picture?type=large", "display_name": "Mehdi Madani", "link": "https://stackoverflow.com/users/5190202/mehdi-madani"}, "reply_to_user": {"reputation": 682, "user_id": 2610712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbV5n.jpg?s=128&g=1", "display_name": "Oliver Heggelbacher", "link": "https://stackoverflow.com/users/2610712/oliver-heggelbacher"}, "edited": false, "score": 0, "creation_date": 1452520942, "post_id": 34317952, "comment_id": 57192560, "body": "thirdly Yes @OliverHeggelbacher I am sure I used the right definitions in the correct places but I still face the same problem. My ultimate solution was to keep on with opening and closing the port each time although I know it seems the worst solution. If anything new comes to your mind let me know please."}, {"owner": {"reputation": 682, "user_id": 2610712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DbV5n.jpg?s=128&g=1", "display_name": "Oliver Heggelbacher", "link": "https://stackoverflow.com/users/2610712/oliver-heggelbacher"}, "edited": false, "score": 0, "creation_date": 1452535597, "post_id": 34317952, "comment_id": 57202354, "body": "Your original post has the code for the variant that opens the port every time. Can you post the code that does NOT work for you, i.e. where you open the port in the constructor and try to read the data only in updatePosition()?"}, {"owner": {"reputation": 9, "user_id": 5190202, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204873213058633/picture?type=large", "display_name": "Mehdi Madani", "link": "https://stackoverflow.com/users/5190202/mehdi-madani"}, "edited": false, "score": 0, "creation_date": 1452543828, "post_id": 34317952, "comment_id": 57206915, "body": "Actually there are not much modifications in the other case.In that case            m_hFile=OpenComPort(3,CBR_9600);  will go in mybehaviourmodel and close handle(m_hfile)  will be commented.but it did not seem to work."}], "owner": {"reputation": 9, "user_id": 5190202, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204873213058633/picture?type=large", "display_name": "Mehdi Madani", "link": "https://stackoverflow.com/users/5190202/mehdi-madani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450285614, "creation_date": 1450285614, "question_id": 34317952, "link": "https://stackoverflow.com/questions/34317952/visual-studio-2012-c-keeping-serial-com-port-open-in-different-classes", "title": "Visual Studio 2012 C++ Keeping Serial COM port open in different classes", "body": "<p>I have my code in which in the first part (MyBehaviorModel();) I open a GUI window and as long as the window is open a loop is gonna update the position of an object by reading Serial COM port data after parsing the data and feeding it into the program. Currently the problem is that I open and close the handle using the following code on each loop which certainly is not the efficient and logical way and it causes delay in my program but that's the only way that it works.When I define the handle in the first class MyBehaviorModel(); and read the port in the second part (MyBehaviorModel::updatePosition(SReal dt)) it seems that the port is not known by (updatePosition(SReal dt)) and I don't get any data.</p>\n\n<pre><code>#include \"MyBehaviorModel.h\"\n#include &lt;sofa/core/ObjectFactory.h&gt;\n#include &lt;sofa/core/behavior/MechanicalState.h&gt;\n#include &lt;sofa/core/VecId.h&gt;\n#include &lt;sofa/defaulttype/VecTypes.h&gt;\n#include &lt;SofaUserInteraction/MechanicalStateController.h&gt;\n#include &lt;sofa/core/visual/VisualParams.h&gt;\n#include &lt;sofa/core/behavior/MechanicalState.h&gt;\n#include &lt;sofa/core/objectmodel/MouseEvent.h&gt;\n#include &lt;sofa/defaulttype/VecTypes.h&gt;\n#include &lt;sofa/defaulttype/RigidTypes.h&gt;\n#include &lt;sofa/defaulttype/Quat.h&gt;\n#include &lt;sofa/simulation/common/Node.h&gt;\n#include &lt;sofa/simulation/common/MechanicalVisitor.h&gt;\n#include &lt;sofa/simulation/common/UpdateMappingVisitor.h&gt;\n#include &lt;sofa/defaulttype/RigidTypes.h&gt;\n#include &lt;sofa/defaulttype/VecTypes.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;tchar.h&gt;\n#include &lt;string&gt;\n#include&lt;cstdlib&gt;\n#include&lt;iostream&gt;\n\nHANDLE m_hFile;\nbool error;\nchar line[256];\ndouble xscale;\ndouble yscale;\ndouble prxscale;\ndouble pryscale;\nDWORD numberOfBytesRead = 0; //variable recieves number of bytes read reported by ReadFile\n// Current Values\n\nchar * delim;\nchar * result;\nchar * result2;\nchar * result3;\nchar * pch;\nchar * pch2;\nchar * pch3;\nchar * pch4;\nchar * data;\nchar * data2;\ndouble x;\ndouble y;\n\nHANDLE OpenComPort(int nPortNo=3,int BaudRate = CBR_9600,int ByteSize = 8,int Parity = NOPARITY,int StopBits\n= ONESTOPBIT);\n\n\nHANDLE OpenComPort(int nPortNo,int BaudRate,int ByteSize,int Parity,int StopBits)\n{\nLPCSTR strPort=\"COM3\";\nBOOL fSuccess;\nCOMMTIMEOUTS timeout;\nDCB dcb;\n\n//Create the handle for read the COM port\nm_hFile = CreateFileA( strPort, GENERIC_READ,\n(DWORD)NULL, // exclusive access\nNULL, // no security\nOPEN_EXISTING,\nFILE_ATTRIBUTE_NORMAL,\nNULL // hTemplate\n);\nif (INVALID_HANDLE_VALUE == m_hFile)\n{//Check whether the handle is valid or not.\nprintf(\"Error: Could not open the RS232 port!\");\nreturn NULL;\n}\nSetupComm(m_hFile,(DWORD)2048, (DWORD)2048);// setup the com parameters now that we have a handle\n// Set up the DCB with our settings\nfSuccess = GetCommState(m_hFile,&amp;dcb);// Get it first so we fill all members\nif (!fSuccess)\n{// Handle the error.\nprintf(\"Error: Failed to Get the System Communication Settings.\");\nreturn NULL;\n}\ndcb.BaudRate = BaudRate; // baud rate\ndcb.ByteSize = ByteSize; // data size\ndcb.Parity = Parity; // No Parity Bit\ndcb.StopBits = StopBits; // stop bits\nfSuccess = SetCommState(m_hFile, &amp;dcb); // assign it\nif ( fSuccess == 0 )\n{//Now check the configuration of the communication device is valid or not     after assign the com parameters\nprintf(\"Error: In Control Setting for a Serial Communications Device.\");\nreturn (\"success!!!!\");\n}\n// Set up the timeouts to use, they are quite short, since we will loop anyway.\n// Do not make them zero, else we will have a CPU load problem. Too large a value,\n// and we have to wait for comms to time out when shutting down.\nGetCommTimeouts(m_hFile, &amp;timeout); // fill timeout structure\ntimeout.ReadIntervalTimeout = 0; // 500ms between incomming chars.\ntimeout.ReadTotalTimeoutConstant = 0;\ntimeout.ReadTotalTimeoutMultiplier = 0;\ntimeout.WriteTotalTimeoutConstant = 0;\ntimeout.WriteTotalTimeoutMultiplier = 0; // 60ms per char sent\nSetCommTimeouts(m_hFile, &amp;timeout);\nreturn m_hFile;\n}\n\nnamespace sofa\n\n{\n\nnamespace component\n{\n\nnamespace behaviormodel\n{\n\nMyBehaviorModel::MyBehaviorModel():\ncustomUnsignedData(initData(&amp;customUnsignedData, (unsigned)1,\"Custom     Unsigned Data\",\"Example of unsigned data with custom widget\")),\nregularUnsignedData(initData(&amp;regularUnsignedData, (unsigned)1,\"Unsigned     Data\",\"Example of unsigned data with standard widget\"))\n{\ncustomUnsignedData.setWidget(\"widget_myData\");\n\n\n\n}\n\n\nMyBehaviorModel::~MyBehaviorModel()\n{\n}\n\nvoid MyBehaviorModel::init()\n{\n\n}   \n\nvoid MyBehaviorModel::reinit()\n{\n\n}\n\n\nvoid MyBehaviorModel::updatePosition(SReal dt)\n{ \nm_hFile=OpenComPort(3,CBR_9600);\n\nif (m_hFile==NULL)\n{\nprintf(\"COM3 port failed. Check hardware, and make sure no other program is accessing.\");\n\nreturn;\n}\nelse{\nprintf(\"COM3 port is connected.\");\n\n}\n\nif( m_hFile!=NULL)\n{\n\nerror = ReadFile(m_hFile,LPVOID(line),255,&amp;numberOfBytesRead,NULL);\nline[numberOfBytesRead]=0;//terminate string here, so no random data is displayed.\ndelim=strtok(line,\"\\n\");\nif(delim!= NULL){\nsize_t size=strlen(delim);\n result= (char*)memchr (delim,',' , size );\n}\n\n if(result!= NULL){\nresult2= strtok (result,\";\"  );\n }\n\n if(result2!= NULL){\npch=strchr(result2,',');\n }\n\nif(pch!= NULL){\npch2=strtok(pch,\",\");\n}\n\nif(pch2!= NULL){\nresult3= strtok (result,\",\"  );\nx=atoi(pch2);\nxscale=(double)(x/100);\nif(  abs(xscale)&gt;0.3){\nprxscale=xscale;\n }\n}\nif(result== NULL){\nxscale=prxscale;\n}\nprintf(\"%f\\n\",xscale);\nCloseHandle(m_hFile);\n\n}   \n//********************************************************************* \ndy=0.00;\nusing core::behavior::MechanicalState;\nmState1 = dynamic_cast&lt;MechanicalState&lt;sofa::defaulttype::Rigid3dTypes&gt; *&gt;        (this-&gt;getContext()-&gt;getMechanicalState());\nhelper::WriteAccessor&lt;sofa::core::objectmodel::     Data&lt;sofa::defaulttype::Rigid3dTypes::VecCoord&gt; &gt; xp = *mState1-    &gt;write(core::VecCoordId::position());\nxp[0].getCenter()=sofa::defaulttype::Vec&lt;3,Real&gt;((Real)(xscale),(Real)dy,(Real)(0.00));\n\n\n}\n\n\nSOFA_DECL_CLASS(MyBehaviorModel)\n\nint MyBehaviorModelClass = core::RegisterObject(\"Dummy component with a     custom widget.\").add&lt; MyBehaviorModel &gt;();\n\n\n} // namespace behaviormodel\n\n} // namespace component\n\n} // namespace sofa\n</code></pre>\n\n<p>I will be glad to have any feedback.Thanks in advance!</p>\n"}, {"tags": ["c++", "windows", "qt", "visual-studio-2010"], "comments": [{"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "edited": false, "score": 0, "creation_date": 1450285447, "post_id": 34317797, "comment_id": 56377536, "body": "Have you looked into <a href=\"http://stackoverflow.com/questions/18417942/rdtsc-on-visualstudio-2010-express-c-does-not-support-default-int\">this</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 28011, "user_id": 417292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3520ad50fa42c9319830bd9f0900c5d?s=128&d=identicon&r=PG", "display_name": "jcoder", "link": "https://stackoverflow.com/users/417292/jcoder"}, "edited": false, "score": 0, "creation_date": 1450359103, "post_id": 34335573, "comment_id": 56412952, "body": "Did you include &lt;windows.h&gt; or similar? A lot of header files for subsystems assume you&#39;ve included that first."}, {"owner": {"reputation": 31, "user_id": 5585341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e061b77d5d3439c0ceae894d603b4815?s=128&d=identicon&r=PG&f=1", "display_name": "watsaig", "link": "https://stackoverflow.com/users/5585341/watsaig"}, "reply_to_user": {"reputation": 28011, "user_id": 417292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3520ad50fa42c9319830bd9f0900c5d?s=128&d=identicon&r=PG", "display_name": "jcoder", "link": "https://stackoverflow.com/users/417292/jcoder"}, "edited": false, "score": 0, "creation_date": 1450434536, "post_id": 34335573, "comment_id": 56448426, "body": "@JBB I tried including windows.h, but that didn&#39;t help. It is included elsewhere in the project though, so I suppose it&#39;s not getting included again in this file, causing these problems. I guess it could be good to include all Windows SDK headers in one place to avoid this kind of issues (I haven&#39;t had time to try this solution yet). Thanks!"}], "tags": [], "owner": {"reputation": 31, "user_id": 5585341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e061b77d5d3439c0ceae894d603b4815?s=128&d=identicon&r=PG&f=1", "display_name": "watsaig", "link": "https://stackoverflow.com/users/5585341/watsaig"}, "is_accepted": false, "score": 0, "last_activity_date": 1450358217, "creation_date": 1450358217, "answer_id": 34335573, "question_id": 34317797, "link": "https://stackoverflow.com/questions/34317797/multiple-errors-when-including-windows-media-sdk-libs/34335573#34335573", "title": "Multiple errors when including Windows Media SDK libs", "body": "<p>Well, it turns out that the lines causing errors in <code>wmsdkidl.h</code> and <code>wmsbuffer.h</code> all look like this:</p>\n\n<pre><code>typedef interface IWMMediaProps IWMMediaProps;\n</code></pre>\n\n<p>But the header which defines <code>interface</code> (<code>&lt;objbase.h&gt;</code>) doesn't seem to be included in <code>wmsbuffer.h</code> etc.</p>\n\n<p>Including <code>objbase.h</code> in my own header didn't help, so I've solved my problem with this duct-tape solution:</p>\n\n<pre><code>#define interface struct\n#include &lt;wmsdk.h&gt;\n</code></pre>\n\n<p>Which gets rid of the errors, but generates a lot of warnings due to redefining this keyword...</p>\n\n<p>I'm not entirely sure what is going on or why a library that uses <code>interface</code> doesn't include its definition, though, so if someone can offer a better explanation and/or solution, please feel free to!</p>\n"}], "owner": {"reputation": 31, "user_id": 5585341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e061b77d5d3439c0ceae894d603b4815?s=128&d=identicon&r=PG&f=1", "display_name": "watsaig", "link": "https://stackoverflow.com/users/5585341/watsaig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450358217, "creation_date": 1450285137, "question_id": 34317797, "link": "https://stackoverflow.com/questions/34317797/multiple-errors-when-including-windows-media-sdk-libs", "title": "Multiple errors when including Windows Media SDK libs", "body": "<p>I am trying to compile a Qt project with msvc2010 which uses the Windows Media SDK \nWhen I try to include the <code>wmsbuffer.h</code> or <code>wmsdkidl.h</code> files, I get errors like these: </p>\n\n<pre><code>C:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C2146: syntax error : missing ';' before identifier 'INSSBuffer'\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C2146: syntax error : missing ';' before identifier 'INSSBuffer'\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : error C2086: 'int INSSBuffer' : redefinition\n        C:\\Program Files\\Microsoft SDKs\\Windows\\v7.1\\Include\\wmsbuffer.h(48) : see declaration of 'INSSBuffer'\n</code></pre>\n\n<p>I assumed that the problem was that I didn't have the right include or library paths in my .pro file, but even adding this doesn't help:</p>\n\n<pre><code>win32 {\n\n    INCLUDEPATH += \"C:/Program Files/Microsoft SDKs/Windows/v7.1/Include\"\n    DEPENDPATH += \"C:/Program Files/Microsoft SDKs/Windows/v7.1/Include\"\n\n    LIBS += -L\"C:/Program Files/Microsoft SDKs/Windows/v7.1/lib\" -lMscvrtd\n    LIBS += -L\"C:/Program Files/Microsoft SDKs/Windows/v7.1/lib\" -lWmvcore\n}\n</code></pre>\n\n<p>The errors also look like something I'd get with circular inclusion, but I haven't found anything else to indicate that this might be the problem here.</p>\n\n<p>Have I forgotten something really obvious? </p>\n"}, {"tags": ["c++", "image-processing", "histogram"], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1450285949, "last_edit_date": 1450285949, "creation_date": 1450285623, "answer_id": 34317957, "question_id": 34317732, "link": "https://stackoverflow.com/questions/34317732/intensity-histogram/34317957#34317957", "title": "Intensity Histogram ++", "body": "<p>Your code strikes me as unnecessarily clumsy. There's no real need for the outer loop.</p>\n\n<p>To answer the question you asked, however, the usual way to do this would be to use linear interpolation--that is, find the proportional position of a value in the input range, then increment the same proportional position in the output range.</p>\n\n<pre><code>for (j =0; j&lt;height * width; j++) {\n    double input_pos = image[j] / 256.0;\n    int output_pos = int(input_pos * bin_count);\n    ++histogram[output_pos];\n}\n</code></pre>\n\n<p>Given that these are colors, you <em>could</em> (if you chose to) apply a gamma curve instead of doing linear interpolation. The reason to do that would be if you wanted to model how you see colors instead of just basing the histogram on the input numbers themselves. The difference between the two is based on the fact that vision is something like logarithmic instead of linear, so a linear histogram (especially if you're using relatively few bins compared to the number of possible input values) doesn't represent what we see very accurately.</p>\n"}], "owner": {"reputation": 13, "user_id": 5684203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c422c7d4f0a461e7ccdde92a63d284e8?s=128&d=identicon&r=PG&f=1", "display_name": "Randomuser12", "link": "https://stackoverflow.com/users/5684203/randomuser12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 34317957, "answer_count": 1, "score": 1, "last_activity_date": 1450285949, "creation_date": 1450284961, "question_id": 34317732, "link": "https://stackoverflow.com/questions/34317732/intensity-histogram", "title": "Intensity Histogram ++", "body": "<p>I'm writing my own Intensity histogram for greyscale images where the number of bins is passed into the function.\nThis is what i have so far:</p>\n\n<pre><code>std::vector&lt;unsigned int&gt; Image::histogram(const int bins)\n{\nstd::vector&lt;unsigned int&gt; histogram(bins ,0);\nfor (unsigned int i(0); i &lt; bins; i++)\n{\n    for (unsigned int j(0); j &lt; m_height * m_width; ++j)\n    {\n        if (i == m_p_image[j])\n        {\n            histogram[i]++;\n        }\n    }\n}\nreturn histogram;\n}\n</code></pre>\n\n<p>This works perfectly for 256 bins as each count is added to histogram, but for 128 bins its misses the second half of the image, I know I need to implement a way of grouping points together if the bin size is less than 256 but I'm unsure how to do this.</p>\n"}, {"tags": ["c++", "c++11", "gcc", "c++14", "sfinae"], "comments": [{"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 1, "creation_date": 1450285566, "post_id": 34317701, "comment_id": 56377610, "body": "For GCC &lt;= 4.9 use <a href=\"http://coliru.stacked-crooked.com/a/aafcc71f98311f93\" rel=\"nofollow noreferrer\">the following workaround</a>"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1450286732, "post_id": 34317701, "comment_id": 56378325, "body": "The <code>void_t</code>/CWG1558 problem is trivial to work around."}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1450288570, "post_id": 34317701, "comment_id": 56379390, "body": "@PiotrSkotnicki oh nice, I didn&#39;t realize that. Make that an answer below and I&#39;ll accept. Although I would kind of like to know <i>why</i> the void_t version doesn&#39;t have this problem. It still invokes the operator... is declval&#39;s return type for some reason not implicitly convertible?"}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1450288681, "post_id": 34317701, "comment_id": 56379449, "body": "@JosephGarvin it&#39;s explained <a href=\"http://stackoverflow.com/q/25833356/3953764\">here</a>"}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1450288934, "post_id": 34317701, "comment_id": 56379602, "body": "@PiotrSkotnicki That explains why the workaround for void_t makes it work in GCC 4.9, but I&#39;m asking why void_t doesn&#39;t error when implicit conversions make it ambiguous which overload to call while the original has_ostream_operator does.  In fact if it doesn&#39;t take into account implicit conversions that would imply that sometimes the trait will be wrong."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1450333140, "post_id": 34317701, "comment_id": 56397196, "body": "The <code>void_t</code> method checks &quot;does this expression compile&quot; (for some definition of &quot;compile&quot;). Your method checks &quot;is there an <code>operator&lt;&lt;</code> that matches better than my crappy one&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450287208, "post_id": 34318261, "comment_id": 56378597, "body": "This looks identical to the void_t part of my snippet, which does not work in Ubuntu&#39;s GCC 4.9. Like I said it does work on Fedora&#39;s, so Ubuntu must have patched it or something."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450287242, "post_id": 34318261, "comment_id": 56378615, "body": "@JosephGarvin Have you tested this? It&#39;s hardly believable that GCC 4.9 on any distro whatsoever doesn&#39;t support such basic SFINAE; The bug seems directly related to the usage of <code>void_t</code> itself."}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450287445, "post_id": 34318261, "comment_id": 56378729, "body": "yep, I tested it. I was dumbfounded myself. The error you get has to do with ostream overloads and ambiguity (but despite having that in common is <i>not</i> the same issue as in my post). So I don&#39;t think it&#39;s a void_t issue but some difference in iostream."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450287769, "post_id": 34318261, "comment_id": 56378924, "body": "@JosephGarvin Have you tested the exact code I posted via Wandbox? And it failed? (Also, you probably meant to say the error &quot;I&quot; (i.e. you) got, ...)"}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450288618, "post_id": 34318261, "comment_id": 56379422, "body": "testing with Wandbox doesn&#39;t help without knowing what distribution it&#39;s on."}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450289278, "post_id": 34318261, "comment_id": 56379810, "body": "it would have been relevant (had you been using void_t) because if you read my question you would see GCC 4.9&#39;s behavior across Ubuntu/Fedora is inconsistent (so if Wandbox was running on Fedora it working on Fedora wouldn&#39;t have been news to me). But it&#39;s moot now, Piotr&#39;s workaround fixes it."}, {"owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1450289370, "post_id": 34318261, "comment_id": 56379866, "body": "Just compiled the version in Wandbox in my Ubuntu with gcc4.9  (Ubuntu 4.9.3-8ubuntu2~14.04) . Works fine, +1 (I use Ubuntu 14.04 LTS)"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450293901, "post_id": 34318261, "comment_id": 56382520, "body": "@JosephGarvin Have you tested the <i>exact</i> code posted above?  What are your command line options?  <code>--version</code>?  <code>-v</code>?  Do they differ between boxes?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450294054, "post_id": 34318261, "comment_id": 56382635, "body": "@Yakk He hasn&#39;t tested anything, but he did delete the comment in which he apologizes for not noticing that I did in fact not use <code>void_t</code>. :-)"}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450296988, "post_id": 34318261, "comment_id": 56384198, "body": "@Yakk I didn&#39;t (intentionally) delete the comment, but it does seem to have disappeared :p I mistakenly thought his snippet was the same. That&#39;s why my comment about Ubuntu/Fedora says &#39;would have&#39; been relevant. I did test the void_t version, which shows the weird distro difference, but not not Columbo&#39;s version since it&#39;s now moot due to Piotr&#39;s workaround."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450297767, "post_id": 34318261, "comment_id": 56384625, "body": "@JosephGarvin Well, actually, Piotr&#39;s workaround is effectively mine but superfluously bloated."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450298965, "post_id": 34318261, "comment_id": 56385402, "body": "@Columbo It appears that the core of Piotr&#39;s workaround is to re-implement a gcc working <code>void_t</code>, no?  Everything else is dross?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450304216, "post_id": 34318261, "comment_id": 56388066, "body": "@Yakk Well yeah, but providing an own <code>void_t</code> implementation solely for this occasion instead of just writing <code>void</code> instead seems a bit... I dunno?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450311338, "post_id": 34318261, "comment_id": 56390846, "body": "Well, <code>decltype(void(</code> and <code>))</code> instead of <code>void_t&lt;</code> and <code>&gt;</code>."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1450311588, "post_id": 34318261, "comment_id": 56390926, "body": "@Yakk To be precise, <code>decltype(void( ... ))</code> instead of <code>void_t&lt;decltype( ... )&gt;</code>."}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1450717896, "post_id": 34318261, "comment_id": 56543187, "body": "I ended up using Piotr&#39;s workaround since just using void_t consistently is better code base wise, but I marked accepted since your answer is technically correct."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 4, "last_activity_date": 1450286573, "creation_date": 1450286573, "answer_id": 34318261, "question_id": 34317701, "link": "https://stackoverflow.com/questions/34317701/detect-operator-at-compile-time-without-implicit-conversions/34318261#34318261", "title": "Detect operator at compile time without implicit conversions", "body": "<p>Well, you don't have to use <code>void_t</code> (which is syntax sugar, anyway). Bog-standard expression SFINAE is supported by GCC 4.9:</p>\n\n<pre><code>template &lt;typename, typename = void&gt;\nstruct has_ostream_operator : std::false_type {};\n\ntemplate &lt;typename T&gt;\nstruct has_ostream_operator&lt;T, decltype(void(std::declval&lt;std::ostream&amp;&gt;() &lt;&lt; std::declval&lt;const T&amp;&gt;()))&gt;\n    : std::true_type {};\n</code></pre>\n\n<p>works fine on <a href=\"http://melpon.org/wandbox/permlink/e4sey15rUozFMKyf\" rel=\"nofollow\"><strong>Wandbox's GCC 4.9</strong></a>.</p>\n"}], "owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 34318261, "answer_count": 1, "score": 5, "last_activity_date": 1450286573, "creation_date": 1450284888, "last_edit_date": 1495539883, "question_id": 34317701, "link": "https://stackoverflow.com/questions/34317701/detect-operator-at-compile-time-without-implicit-conversions", "title": "Detect operator at compile time without implicit conversions", "body": "<p>I am using the <a href=\"https://stackoverflow.com/questions/8911897/detecting-a-function-in-c-at-compile-time\">C++03 method to detect the presence of a function at compile time</a>. I have to use this method rather than the void_t method even though I'm using C++14 because I have to support GCC 4.9, and it errors when using the void_t method (strangely only Ubuntu 14's GCC 4.9 has this problem, not Fedora's, but it's fixed across the board in GCC5+ AFAICT).</p>\n\n<p>Specifically I am checking for the presence of <code>operator&lt;&lt;(std::ostream&amp;, const T&amp;)</code> so that I can have a pretty print function that takes any type. When the function gets called, you get the regular ostream output if the type supports it, and you get a fallback message about there being no implementation when the operator is not defined. Code at the bottom.</p>\n\n<p>This has worked pretty well for me so far, until I ran into a type defined by a 3rd party library that I can't change. The type has implicit conversion operators to both bool and float. This means when the SFINAE check is done to see if <code>s &lt;&lt; t</code> is valid I get a compiler error because <code>s &lt;&lt; t</code> is ambiguous. In this case I'd prefer for it to just report there is no implementation like normal, rather than try to pick an implicit conversion. Is there a way to change the SFINAE check to make this possible? I have checked and the void_t method with GCC5 appears to do what I want (commented out in the code below), but I can't use it yet for the aforementioned reasons.</p>\n\n<p>Test case:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\n#include &lt;type_traits&gt;\n\nnamespace detail {\n\n    namespace has_ostream_operator_impl {\n        typedef char no;\n        typedef char yes[2];\n\n        struct any_t {\n            template&lt;typename T&gt; any_t( T const&amp; );\n        };\n\n        no operator&lt;&lt;( std::ostream const&amp;, any_t const&amp; );\n\n        yes&amp; test( std::ostream&amp; );\n        no test( no );\n\n        template&lt;typename T&gt;\n        struct has_ostream_operator {\n            static std::ostream &amp;s;\n            static T const &amp;t;\n            // compiler complains that test(s &lt;&lt; t) is ambiguous\n            // for Foo\n            static bool const value = sizeof( test(s &lt;&lt; T(t)) ) == sizeof( yes );\n        };\n    }\n\n    template&lt;typename T&gt;\n    struct has_ostream_operator :\n        has_ostream_operator_impl::has_ostream_operator&lt;T&gt; {\n    };\n\n    // template&lt;class, class = std::void_t&lt;&gt;&gt;\n    //     struct has_ostream_operator : std::false_type {};\n\n    // template&lt;class T&gt;\n    // struct has_ostream_operator&lt;\n    //     T,\n    //     std::void_t&lt;\n    //         decltype(std::declval&lt;std::ostream&amp;&gt;() &lt;&lt; std::declval&lt;const T&amp;&gt;())&gt;&gt;\n    //     : std::true_type {};\n\n}\n\ntemplate&lt;class X&gt;\nstd::enable_if_t&lt;\n    detail::has_ostream_operator&lt;X&gt;::value\n    &amp;&amp; !std::is_pointer&lt;X&gt;::value&gt;\nprettyPrint(std::ostream&amp; o, const X&amp; x)\n{\n    o &lt;&lt; x;\n}\n\ntemplate&lt;class X&gt;\nstd::enable_if_t&lt;\n    !detail::has_ostream_operator&lt;X&gt;::value\n    &amp;&amp; !std::is_pointer&lt;X&gt;::value&gt;\nprettyPrint(std::ostream&amp; o, const X&amp; x)\n{\n    o &lt;&lt; typeid(x).name()\n      &lt;&lt; \" (no ostream operator&lt;&lt; implementation)\";\n}\n\ntemplate&lt;class X&gt;\nvoid prettyPrint(std::ostream&amp; o, const X* x)\n{\n    o &lt;&lt; \"*{\";\n    if(x) {\n        prettyPrint(o, *x);\n    } else {\n        o &lt;&lt; \"NULL\";\n    }\n    o &lt;&lt; \"}\";\n}\n\nstruct Foo {\n    operator float() const {\n        return 0;\n    }\n\n    operator bool() const {\n        return false;\n    }\n};\n\nstruct Bar {};\n\nint main()\n{\n    Bar x;\n    Foo y;\n    prettyPrint(std::cout, 6); // works fine\n    std::cout &lt;&lt; std::endl;\n\n    prettyPrint(std::cout, Bar()); // works fine\n    std::cout &lt;&lt; std::endl;\n\n    prettyPrint(std::cout, x); // works fine\n    std::cout &lt;&lt; std::endl;\n\n    prettyPrint(std::cout, &amp;x); // works fine\n    std::cout &lt;&lt; std::endl;\n\n//    prettyPrint(std::cout, y); // compiler error\n    std::cout &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "boost-hana"], "answers": [{"tags": [], "owner": {"reputation": 2976, "user_id": 627587, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b7225df5b0728daa170646a5c5a4bfda?s=128&d=identicon&r=PG", "display_name": "Louis Dionne", "link": "https://stackoverflow.com/users/627587/louis-dionne"}, "is_accepted": true, "score": 4, "last_activity_date": 1450285749, "creation_date": 1450285749, "answer_id": 34318002, "question_id": 34317634, "link": "https://stackoverflow.com/questions/34317634/conversions-between-stl-and-hana-tuples/34318002#34318002", "title": "Conversions Between STL and Hana tuples", "body": "<p>To convert between a <code>hana::tuple</code> and a <code>std::tuple</code>, you need to make <code>std::tuple</code> a valid Hana sequence. Since <code>std::tuple</code> is supported out-of-the-box, you just need to include <code>&lt;boost/hana/ext/std/tuple.hpp&gt;</code>. Hence, the following code works:</p>\n\n<pre><code>#include &lt;boost/hana.hpp&gt;\n#include &lt;boost/hana/ext/std/tuple.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;tuple&gt;\nnamespace hana = boost::hana;\n\nint main() {\n    int x{7};\n    float y{3.14};\n    double z{2.7183};\n    auto t = hana::to&lt;hana::tuple_tag&gt;(std::tie(x, y, z));\n    hana::for_each(t, [](auto&amp; o) { std::cout &lt;&lt; o &lt;&lt; '\\n'; });\n}\n</code></pre>\n\n<p>Note that you can also use <code>hana::to_tuple</code> for less verbosity:</p>\n\n<pre><code>auto t = hana::to_tuple(std::tie(x, y, z));\n</code></pre>\n\n<p>That being said, since you're using <code>std::tie</code>, you probably want to create a <code>hana::tuple</code> containing references, right? That is not possible right now, see <a href=\"https://github.com/boostorg/hana/pull/179#issuecomment-139915710\" rel=\"nofollow\">this</a> for the reason. However, you can simply use <code>std::tuple</code> in <code>hana::for_each</code>, provided you include the adapter header above:</p>\n\n<pre><code>#include &lt;boost/hana.hpp&gt;\n#include &lt;boost/hana/ext/std/tuple.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;tuple&gt;\nnamespace hana = boost::hana;\n\nint main() {\n    int x{7};\n    float y{3.14};\n    double z{2.7183};\n    auto t = std::tie(x, y, z);\n    hana::for_each(t, [](auto&amp; o) { std::cout &lt;&lt; o &lt;&lt; '\\n'; });\n}\n</code></pre>\n"}], "owner": {"reputation": 3796, "user_id": 4859885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9HcTm.jpg?s=128&g=1", "display_name": "Brian Rodriguez", "link": "https://stackoverflow.com/users/4859885/brian-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "accepted_answer_id": 34318002, "answer_count": 1, "score": 1, "last_activity_date": 1450285749, "creation_date": 1450284693, "last_edit_date": 1450285203, "question_id": 34317634, "link": "https://stackoverflow.com/questions/34317634/conversions-between-stl-and-hana-tuples", "title": "Conversions Between STL and Hana tuples", "body": "<pre><code>#include &lt;boost/hana.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;tuple&gt;\n\nnamespace hana = boost::hana;\n\nint main()\n{\n    int x{7};\n    float y{3.14};\n    double z{2.7183};\n    auto t = hana::to&lt;hana::tuple_tag&gt;(std::tie(x, y, z));\n    hana::for_each(t, [](auto&amp; o) { std::cout &lt;&lt; o &lt;&lt; '\\n'; });\n}\n</code></pre>\n\n<p>What's the hana way of accomplishing this?  I realize I can use: <code>hana::make_tuple(std::ref(x), std::ref(y), std::ref(z))</code>, but this seems unnecessarily verbose.</p>\n"}, {"tags": ["android", "c++", "android-studio", "android-ndk", "gradle-experimental"], "answers": [{"tags": [], "owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "is_accepted": true, "score": 0, "last_activity_date": 1450289282, "creation_date": 1450289282, "answer_id": 34319133, "question_id": 34317537, "link": "https://stackoverflow.com/questions/34317537/gradle-experimental-ndk-build-only-subset-of-directory/34319133#34319133", "title": "gradle experimental ndk build only subset of directory", "body": "<p>For exclude, you can use wildcards, e.g</p>\n\n<pre><code>exclude \"**/*A2.cpp\"\n</code></pre>\n"}], "owner": {"reputation": 659, "user_id": 4970466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DdPPP.png?s=128&g=1", "display_name": "downstroy", "link": "https://stackoverflow.com/users/4970466/downstroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 34319133, "answer_count": 1, "score": 1, "last_activity_date": 1450289282, "creation_date": 1450284381, "question_id": 34317537, "link": "https://stackoverflow.com/questions/34317537/gradle-experimental-ndk-build-only-subset-of-directory", "title": "gradle experimental ndk build only subset of directory", "body": "<p>I am using gradle2.9 with the gradle-experimental-0.6.0-alpha3 plugin for android studio and I have a problem I cannot seem to solve.</p>\n\n<p>This is my directory structure:</p>\n\n<ul>\n<li>TopDir\n\n<ul>\n<li>fileA.cpp </li>\n<li>dirA\n\n<ul>\n<li>fileA1.cpp</li>\n<li>fileA2.cpp</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>I want to compile fileA.cpp, fileA1.cpp but not fileA2.cpp</p>\n\n<p>1\u00b0) I tried using selective dir includes:</p>\n\n<pre><code>android.sources {\n    main {\n        jni {\n            source {\n               srcDirs = [\"dirA\",\"dirA1/fileA1.cpp\"]\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but I got the error that dirA1/fileA1.cpp is not a directory, and I can't find a way to include a file.</p>\n\n<p>2\u00b0) I tried using selective dir excludes:</p>\n\n<pre><code>android.sources {\n    main {\n        jni {\n            source {\n               srcDirs = [\"TopDir\"]\n               exclude \"fileA2.cpp\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>but that didn't work either, because exclude waits for a directory. Even using wildcards (like \"exclude *A2*\") doesn't seems to work.</p>\n\n<p>Does anyone knows a way to do this (even if it requires including file one by one) using the new gradle experimental tools?</p>\n"}, {"tags": ["c++", "file-io", "initializer"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 1782779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410c4e1ea67aadd9fe53d3a116b1b44?s=128&d=identicon&r=PG", "display_name": "GORa", "link": "https://stackoverflow.com/users/1782779/gora"}, "is_accepted": false, "score": 0, "last_activity_date": 1451455810, "last_edit_date": 1495535300, "creation_date": 1451455810, "answer_id": 34523910, "question_id": 34317526, "link": "https://stackoverflow.com/questions/34317526/c-txt-file-passing-thru-command-line-stdifstream-infile-has-initializer-bu/34523910#34523910", "title": "C++ txt file passing thru command line ( std::ifstream inFile has initializer but incomplete type)", "body": "<p>Include header <code>&lt;fstream&gt;</code>.</p>\n\n<p>You can find similar posts here. Little googling is enough.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9816900/infile-incomplete-type-error\">Infile incomplete type error</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/15080231/c-variable-stdifstream-ifs-has-initializer-but-incomplete-type\">C++: variable 'std::ifstream ifs' has initializer but incomplete type</a></p>\n"}], "owner": {"reputation": 43, "user_id": 5120332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-pE9S3afr3qw/AAAAAAAAAAI/AAAAAAAAAKw/4C9pDt_Yxmc/photo.jpg?sz=128", "display_name": "vipin", "link": "https://stackoverflow.com/users/5120332/vipin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1451455810, "creation_date": 1450284354, "last_edit_date": 1451453785, "question_id": 34317526, "link": "https://stackoverflow.com/questions/34317526/c-txt-file-passing-thru-command-line-stdifstream-infile-has-initializer-bu", "title": "C++ txt file passing thru command line ( std::ifstream inFile has initializer but incomplete type)", "body": "<p>I am trying to read a <code>list.txt</code> file with multiple items (as below)</p>\n\n<pre><code>100/1 \n111/1\n115/2 \n116/3 \n120/1\n</code></pre>\n\n<p>through command prompt say <code>program.exe list.txt</code>  , so <code>argv[1]</code> will be the txt file <code>list.txt</code> (kept in cwd)\nThen i need to separate <code>100/1</code> into <code>partname</code>=<code>\"100\"</code> and <code>rev_id</code>=<code>\"1\"</code> and run <code>do_something()</code>; similarly with <code>111/1</code> into <code>partname</code>=<code>\"111\"</code> and <code>rev_id</code>=<code>\"1\"</code> (in a loop).</p>\n\n<p>The following is my code snippet. it gives a compilation error at <code>ifstream\nstd::ifstream</code>: \"<code>inFile</code> has initializer but incomplete type.\"</p>\n\n<p>Can someone tell me where i am going wrong here.</p>\n\n<p>Thanks a lot !</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\nusing namespace std;\n\nint main (int argc, char *argv[])\n{\n\n    ifstream inFile (argv[1]);\n    string partName;\n    while (inFile)\n   {\n      getline(inFile, partName);\n      cout &lt;&lt;endl&lt;&lt; partName &lt;&lt; endl;\n    std::string str = partName;\n    char *cstr = new char[str.length() + 1];\n    strcpy(cstr, str.c_str());\n\n char * partname=(strtok (cstr,\"/\"));\n    char * rev_id = (strtok (NULL,\"/\"));\n    //do something();\n     printf(\" \\n Partname is %s \\n\",partname);\n  printf(\" \\n Rev_id is %s \\n\",rev_id);\n   }\n\ninFile.close();\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "scanf", "sim900"], "comments": [{"owner": {"reputation": 3134, "user_id": 5475209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRBxV.jpg?s=128&g=1", "display_name": "terence hill", "link": "https://stackoverflow.com/users/5475209/terence-hill"}, "edited": false, "score": 1, "creation_date": 1450284542, "post_id": 34317500, "comment_id": 56377012, "body": "You should check the return value of sscanf to better understand what is going wrong. Can you please state more clearly what output are you getting now and what you would like to have."}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 2, "creation_date": 1450284618, "post_id": 34317500, "comment_id": 56377066, "body": "C11 draft standard, <code>7.21.6.7 The sscanf function, Section 2 [...] If copying takes place between objects that overlap, the behavior is undefined.</code>"}, {"owner": {"reputation": 13, "user_id": 5687560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db3b106f28a3237d0c44288b45588b2?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco S.", "link": "https://stackoverflow.com/users/5687560/francesco-s"}, "edited": false, "score": 0, "creation_date": 1450284725, "post_id": 34317500, "comment_id": 56377125, "body": "now i&#39;m getting &quot;&lt;CR&gt;&lt;LF&gt; &lt;CR&gt;&lt;LF&gt;&quot;, where &lt;CR&gt; and &lt;LF&gt; are \\r and \\n. I want to obtain only the whitespace beetween &lt;CR&gt;&lt;LF&gt;s."}, {"owner": {"reputation": 13, "user_id": 5687560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db3b106f28a3237d0c44288b45588b2?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco S.", "link": "https://stackoverflow.com/users/5687560/francesco-s"}, "reply_to_user": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 0, "creation_date": 1450284896, "post_id": 34317500, "comment_id": 56377219, "body": "@EOF i tried to use different buffers and i obtained the same result."}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 0, "creation_date": 1450284989, "post_id": 34317500, "comment_id": 56377280, "body": "What part of <i>undefined</i> do you not understand? Whether or not you &quot;obtained the same result&quot; is immaterial. You cannot reason about the program until it does not exhibit undefined behavior."}], "answers": [{"tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1450801239, "last_edit_date": 1495542670, "creation_date": 1450801239, "answer_id": 34420160, "question_id": 34317500, "link": "https://stackoverflow.com/questions/34317500/sscanf-parse-response-with-whitespaces/34420160#34420160", "title": "sscanf parse response with whitespaces", "body": "<p>Problems:</p>\n\n<ol>\n<li><p><code>sscanf(buffer, \"%[^OK]\", buffer);</code> attempts to read and write to the same buffer.  This is undefined behavior.  Use different buffers.   <a href=\"https://stackoverflow.com/questions/34317500/sscanf-parse-response-with-whitespaces#comment56377066_34317500\">@EOF</a></p></li>\n<li><p><code>\"%[^OK]\"</code> Looks for all <code>char</code> that is not <code>'O'</code> and is not <code>'K'</code>, so it stops at <code>\\r\\n+CIPRX ... DATA C</code></p></li>\n<li><p><code>\"%*s\"</code> in <code>sscanf(\"%*s,%d...\"</code> does 2 things 1) scan and not save all leading white-space characters.  2) scan and not save (because of <code>'*'</code>) all non-white-space characters.  There will never be a <code>','</code> following \"all non-white-space characters\", so <code>sccanf()</code> stops.</p></li>\n</ol>\n\n<p>When using <code>sscanf()</code> and having troubles, the first thing to code is a check of the return values of <code>sscanf()</code>.</p>\n\n<p>Unclear as to OP overall goal, but perhaps the following will help.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nchar *text = \n\"\\r\\n+CIPRXGET:1\\r\\n+CIPRXGET: 2,1,3\\r\\nDATA COMPOSED BY A WHITESPACE AND MAYBE OTHER\\r\\nOK\";\n\nint main(void) {\n  char data[256];\n  int bytesRead, bytesToRead;\n  if (sscanf(text, \"%*[^,],%d,%d %255[^\\r\\n]\", &amp;bytesRead, &amp;bytesToRead, data) == 3) {\n    printf(\"bytesRead:%d\\nbytesToRead:%d\\ndata:'%s'\\n\",bytesRead, bytesToRead, data);\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>bytesRead:1\nbytesToRead:3\ndata:'DATA COMPOSED BY A WHITESPACE AND MAYBE OTHER'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5687560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db3b106f28a3237d0c44288b45588b2?s=128&d=identicon&r=PG&f=1", "display_name": "Francesco S.", "link": "https://stackoverflow.com/users/5687560/francesco-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 34420160, "answer_count": 1, "score": -1, "last_activity_date": 1450801239, "creation_date": 1450284284, "last_edit_date": 1450284731, "question_id": 34317500, "link": "https://stackoverflow.com/questions/34317500/sscanf-parse-response-with-whitespaces", "title": "sscanf parse response with whitespaces", "body": "<p>I need to parse a response from a device (SIM900) like this:</p>\n\n<pre><code>\\r\\n+CIPRXGET:1\n\n+CIPRXGET: 2,1,3\nDATA COMPOSED BY A WHITESPACE AND MAYBE OTHER\nOK\n</code></pre>\n\n<p>so i use sscanf twice: first to remove the final string \"OK\" and second to parse data.</p>\n\n<pre><code>char buffer[256] = sim900.getResponse();\nchar data[256];\nint bytesRead, bytesToRead;\nsscanf(buffer, \"%[^OK]\", buffer);\nsscanf(buffer, \"%*s,%d,%d\\r\\n%[^\\\\0]\", &amp;bytesRead, &amp;bytesToRead, data);\n</code></pre>\n\n<p>my response start with a whitespace (character 0x20) and i got a dirty output, that is \"\\r\\n \\r\\n\" (or in hex representation \"0x0D 0x0A 0x20 0x0D 0x0A\").</p>\n\n<p>I tried everything but i can't parse correctly only the whitespace character into the output buffer.</p>\n"}, {"tags": ["javascript", "c++", "node.js", "memory-management", "memory-leaks"], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 1481080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8d2d8189db89136c1b47f874faa605a9?s=128&d=identicon&r=PG", "display_name": "Hurricane Hamilton", "link": "https://stackoverflow.com/users/1481080/hurricane-hamilton"}, "is_accepted": true, "score": 1, "last_activity_date": 1450293077, "creation_date": 1450293077, "answer_id": 34320179, "question_id": 34317432, "link": "https://stackoverflow.com/questions/34317432/how-do-i-manage-memory-when-using-native-abstractions-for-node-js/34320179#34320179", "title": "How do I manage memory when using Native Abstractions for Node.js?", "body": "<p>You need to hook into the GC in v8 to get a callback to your C++ code letting you know that no JavaScript object has a reference to the buffer you returned.</p>\n\n<p>In that C++ callback, you can <code>delete</code> the ArrayBuffer memory.</p>\n\n<p>I'm sure you've seen these docs, but pay attention to the Nan::FreeCallBack() section: <a href=\"https://github.com/nodejs/nan/blob/master/doc/buffers.md#api_nan_free_callback\" rel=\"nofollow\">https://github.com/nodejs/nan/blob/master/doc/buffers.md#api_nan_free_callback</a></p>\n\n<p>Here is a quick example:</p>\n\n<pre><code>//defined before hand:\nstatic void FreeCallback(char* data, void* message) {\n   free(message);\n}\n    //some where in a function:\n    Local&lt;Object&gt; buf_obj = NanNewBufferHandle((char*)zmq_msg_data(message), zmq_msg_size(message), FreeCallback, message);\n</code></pre>\n\n<p>For your buffer, there might be some differences, but I hope that gives you an idea of the direction to go.</p>\n"}], "owner": {"reputation": 1476, "user_id": 401660, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/14100/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/401660/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 34320179, "answer_count": 1, "score": 1, "last_activity_date": 1450293077, "creation_date": 1450284093, "question_id": 34317432, "link": "https://stackoverflow.com/questions/34317432/how-do-i-manage-memory-when-using-native-abstractions-for-node-js", "title": "How do I manage memory when using Native Abstractions for Node.js?", "body": "<p>I'm using Native Abstractions for Node.js (NAN) to call C++ functions from a node.js program.</p>\n\n<p>One C++ allocates a buffer using new char[] and returns it to my node.js program. </p>\n\n<p>My question is that I do not know who is responsible for freeing this memory. I'm using NanReturnValue in my C++ code to return a pointer to the buffer. If I delete[] it right after, the node.js code just gets garbage. But if I don't delete[] it at all, it appears there may be a memory leak (although its possible the leak is elsewhere). The documentation is very sparse and it isn't clear who (whether javascript or C++) is responsible for deallocating this memory.</p>\n"}, {"tags": ["c++", "unicode", "thrift"], "answers": [{"tags": [], "owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "is_accepted": false, "score": 1, "last_activity_date": 1450315542, "creation_date": 1450315542, "answer_id": 34325145, "question_id": 34317413, "link": "https://stackoverflow.com/questions/34317413/how-to-generate-thrift-classes-in-utf-16/34325145#34325145", "title": "How to generate thrift classes in UTF-16?", "body": "<p><a href=\"https://thrift.apache.org/docs/idl\" rel=\"nofollow\">There's a <code>cpp_type</code> annotation</a>, to be used like this:</p>\n\n<pre><code>struct wtf {\n    1: list&lt;string&gt;  cpp_type \"bar\" foo\n}\n</code></pre>\n\n<p>generates code that uses <code>bar</code> instead of the default type, in this case <code>vector&lt;std::string&gt;</code>.</p>\n\n<p>From what I know there was never an option named <code>cpp_string_type</code>, but even though I scanned the relevant commits I may still miss something.</p>\n"}], "owner": {"reputation": 33, "user_id": 5142167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa3cddba50a6928cc15bd8253ce519c?s=128&d=identicon&r=PG&f=1", "display_name": "mr.Force", "link": "https://stackoverflow.com/users/5142167/mr-force"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450315542, "creation_date": 1450284031, "question_id": 34317413, "link": "https://stackoverflow.com/questions/34317413/how-to-generate-thrift-classes-in-utf-16", "title": "How to generate thrift classes in UTF-16?", "body": "<p>Need to generate thrift classes to work with unicode strings. In old thrift versions there was option <code>cpp_string_type=utf16</code>, but last thrift version haven't such option. Is there any possibility to generate thrift with <code>wstring</code>?</p>\n"}, {"tags": ["c++", "templates", "pointers", "member-function-pointers"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1450284211, "post_id": 34317387, "comment_id": 56376807, "body": "The idea is <a href=\"http://ideone.com/fgtF5y\" rel=\"nofollow noreferrer\">sound in principle</a>. It may just be a matter of spelling the name of the particular function (the conversion function) correctly."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1450284297, "post_id": 34317387, "comment_id": 56376857, "body": "<a href=\"http://ideone.com/k1bCEJ\" rel=\"nofollow noreferrer\">There</a>, maybe remove the <code>const</code>?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1450286438, "post_id": 34317387, "comment_id": 56378144, "body": "<code>operator K const</code> (== <code>operator const K</code>) would be a conversion function to, well, <code>const K</code>."}], "answers": [{"comments": [{"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "edited": false, "score": 2, "creation_date": 1450284396, "post_id": 34317518, "comment_id": 56376923, "body": "Good point: the name of the member does <i>not</i> involve the qualifiers (or the arguments). If it is necessary to resolve an overload, that needs to be done via the conversion to a suitable member pointer (which is, conveniently, readily available in this case)."}, {"owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "edited": false, "score": 0, "creation_date": 1450284502, "post_id": 34317518, "comment_id": 56376991, "body": "Right, of course. Now it works except when I use pointer to T as argument. I guess specialization should help with that though."}, {"owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "edited": false, "score": 0, "creation_date": 1450294318, "post_id": 34317518, "comment_id": 56382787, "body": "And I figured it out for cases when T is a pointer as well. Added as edit to the OP."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": true, "score": 5, "last_activity_date": 1450284337, "creation_date": 1450284337, "answer_id": 34317518, "question_id": 34317387, "link": "https://stackoverflow.com/questions/34317387/template-with-default-value-of-method-pointer-argument/34317518#34317518", "title": "Template with default value of method pointer argument", "body": "<p>The name of the function is just <code>operator K</code>. Its qualification isn't part of the name. Try:</p>\n\n<pre><code>template &lt;typename K,\n          typename T,\n          K (T::*method)() const = &amp;T::operator K&gt;\n//                                 ^^^^^^^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 3452, "user_id": 2194193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WHD9t.gif?s=128&g=1", "display_name": "Resurrection", "link": "https://stackoverflow.com/users/2194193/resurrection"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 34317518, "answer_count": 1, "score": 8, "last_activity_date": 1450294250, "creation_date": 1450283951, "last_edit_date": 1450294250, "question_id": 34317387, "link": "https://stackoverflow.com/questions/34317387/template-with-default-value-of-method-pointer-argument", "title": "Template with default value of method pointer argument", "body": "<p>Consider this special container class that stores types that contain both key and value inside it, so</p>\n\n<pre><code>template&lt;typename K, typename T, K (T::*method)() const&gt;\nclass Container\n{\n//...\n};\n</code></pre>\n\n<p>K is the type of a key, T is a type of value and the method pointer is used to retreive the key from the value.</p>\n\n<p>It works fine but I would like to include a default for the method pointer so that when it was not specified by the caller it would be <code>operator K() const</code> like so:</p>\n\n<pre><code>template&lt;typename K, typename T, K (T::*method)() const = &amp;T::operator K const&gt;\n</code></pre>\n\n<p>but this does not compile stating there is <code>no member operator const K on A (&lt;- my class I test this with)</code> when I try to instantiate it (and there is such a method). Is it even possible to have default value of a method pointer template argument? If yes, what is the correct syntax?</p>\n\n<p>EDIT: In addition to the solution below there is a \"fix\" for the cases when T is a pointer that uses new C++11 feature <code>std::remove_pointer&lt;T&gt;::type</code>, so:</p>\n\n<pre><code>template&lt;typename K, typename T, K (std::remove_pointer&lt;T&gt;::type::*method)() const = &amp;std::remove_pointer&lt;T&gt;::type::operator K&gt;\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 4, "creation_date": 1450283501, "post_id": 34317205, "comment_id": 56376315, "body": "What happen if <code>que.size()</code> = 1? (hint - nothing good)"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1450283671, "post_id": 34317205, "comment_id": 56376435, "body": "they are not the same expression"}, {"owner": {"reputation": 167, "user_id": 5194977, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4989770df7d24325db7f575571588d8?s=128&d=identicon&r=PG&f=1", "display_name": "Lara Croft", "link": "https://stackoverflow.com/users/5194977/lara-croft"}, "edited": false, "score": 0, "creation_date": 1450283683, "post_id": 34317205, "comment_id": 56376444, "body": "In that case, it will not enter the loop, which is the right thing to do.@BoBTFish"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1450283743, "post_id": 34317205, "comment_id": 56376498, "body": "<code>que.size()-2</code> is an unsigned value, so it will be a very large positive number if <code>que.size() == 1</code>"}, {"owner": {"reputation": 167, "user_id": 5194977, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4989770df7d24325db7f575571588d8?s=128&d=identicon&r=PG&f=1", "display_name": "Lara Croft", "link": "https://stackoverflow.com/users/5194977/lara-croft"}, "edited": false, "score": 0, "creation_date": 1450283747, "post_id": 34317205, "comment_id": 56376500, "body": "Could you explain why they are not the same??@tobi303"}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 0, "creation_date": 1450283749, "post_id": 34317205, "comment_id": 56376504, "body": "@LinJing But <code>que.size()</code> returns you an <b>unsigned</b> integer type."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 1, "creation_date": 1450283793, "post_id": 34317205, "comment_id": 56376545, "body": "<code>unsigned</code> \u2013 anything = <code>unsigned</code>"}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 0, "creation_date": 1450283960, "post_id": 34317205, "comment_id": 56376654, "body": "@LinJing The two expressions are clearly different. You even say &quot;if I only change...&quot;. If you change one of them, the second is not the same. That <code>-1</code>-&gt;<code>-2</code> matters."}], "answers": [{"comments": [{"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 0, "creation_date": 1450283873, "post_id": 34317347, "comment_id": 56376599, "body": "It returns a <code>queue::size_type</code>, but I&#39;m just being pedantic."}], "tags": [], "owner": {"reputation": 2394, "user_id": 4952137, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c40d9f94080a45d91ee151dfe960cee3?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Sparber", "link": "https://stackoverflow.com/users/4952137/thomas-sparber"}, "is_accepted": false, "score": 5, "last_activity_date": 1450283819, "creation_date": 1450283819, "answer_id": 34317347, "question_id": 34317205, "link": "https://stackoverflow.com/questions/34317205/the-same-expression-but-different-result/34317347#34317347", "title": "The same expression but different result", "body": "<p><code>queue::size()</code> returns a size_t which is basically an unsigned number. and a <em>negative unsigned number</em> converts to a huge number.</p>\n\n<p>So <code>queue::size()-1</code> --> huge number (0xFFFFFFFF)</p>\n"}], "owner": {"reputation": 167, "user_id": 5194977, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4989770df7d24325db7f575571588d8?s=128&d=identicon&r=PG&f=1", "display_name": "Lara Croft", "link": "https://stackoverflow.com/users/5194977/lara-croft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1450283819, "creation_date": 1450283331, "last_edit_date": 1450283525, "question_id": 34317205, "link": "https://stackoverflow.com/questions/34317205/the-same-expression-but-different-result", "title": "The same expression but different result", "body": "<p>So I am doing a question in leetcode. It is Implement Stack using Queues.\nIf I submit this code below. It is accepted.</p>\n\n<pre><code>class Stack {\n    public:\n    queue&lt;int&gt; que;\n    // Push element x onto stack.\n    void push(int x) {\n        que.push(x);\n        for(int i=0;i&lt;que.size()-1;i++){\n            que.push(que.front());\n            que.pop();\n        }\n    }\n\n    // Removes the element on top of the stack.\n    void pop() {\n        que.pop();\n    }\n\n    // Get the top element.\n    int top() {\n        return que.front();\n    }\n\n    // Return whether the stack is empty.\n    bool empty() {\n        return que.empty();\n    }\n};\n</code></pre>\n\n<p>but if I only change <code>for(int i=0;i&lt;que.size()-1;++i)</code> to <code>for(int i=0;i&lt;=que.size()-2;i++)</code>, I got Time limitation exceeded. Last executed input: push(1),empty().Could somebody tell me why??? Thanks</p>\n"}, {"tags": ["c++", "arrays", "file"], "comments": [{"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1450283204, "post_id": 34317004, "comment_id": 56376097, "body": "I did not check whole code (hence comment and not answer), but <code>esq &lt;= dret</code> is suspicious. It can lead to attempt to access <code>taulaEstats[US_STATES]</code> which is out of array bounds."}, {"owner": {"reputation": 381, "user_id": 1462283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/432dc2e4ef6d5364c04dad4468080926?s=128&d=identicon&r=PG", "display_name": "prkist", "link": "https://stackoverflow.com/users/1462283/prkist"}, "edited": false, "score": 0, "creation_date": 1450283473, "post_id": 34317004, "comment_id": 56376296, "body": "Have you tried running the program with a memory tool, such as Valgrind or Dr. Memory (on Windows)?"}, {"owner": {"reputation": 41, "user_id": 5644877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2680689565b6643b0a6b65f907f25f?s=128&d=identicon&r=PG&f=1", "display_name": "maga", "link": "https://stackoverflow.com/users/5644877/maga"}, "reply_to_user": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1450283505, "post_id": 34317004, "comment_id": 56376319, "body": "@Revolver_Ocelot Well doing that would consider much more errors, but it doesn&#39;t crash. Even though the program won&#39;t be running as I want it to run, I want it to consider as dret as a posible value, or it wouldn&#39;t just work as I wanted to."}, {"owner": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 0, "creation_date": 1450283903, "post_id": 34317004, "comment_id": 56376622, "body": "@maga , set the initial value of dret to US_STATES - 1 then. Actually, most of the common implementation of binary serach threats <code>low&#47;high</code> pair as open interval, so you might consider this."}, {"owner": {"reputation": 41, "user_id": 5644877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2680689565b6643b0a6b65f907f25f?s=128&d=identicon&r=PG&f=1", "display_name": "maga", "link": "https://stackoverflow.com/users/5644877/maga"}, "reply_to_user": {"reputation": 7737, "user_id": 3410396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc26b280cedaa721d90828a80e39706?s=128&d=identicon&r=PG&f=1", "display_name": "Revolver_Ocelot", "link": "https://stackoverflow.com/users/3410396/revolver-ocelot"}, "edited": false, "score": 1, "creation_date": 1450284195, "post_id": 34317004, "comment_id": 56376799, "body": "@Revolver_Ocelot Oh crap, forgot it, now worked! Thank you so much bro, I&#39;m very new at the coding world! &lt;3"}], "owner": {"reputation": 41, "user_id": 5644877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2680689565b6643b0a6b65f907f25f?s=128&d=identicon&r=PG&f=1", "display_name": "maga", "link": "https://stackoverflow.com/users/5644877/maga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1017, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450288378, "creation_date": 1450282756, "last_edit_date": 1450288378, "question_id": 34317004, "link": "https://stackoverflow.com/questions/34317004/the-program-stops-running-with-an-error-code-of-255-0xff", "title": "The program stops running with an error code of 255 (0xFF)", "body": "<p>Having this as my heading code, with of course some includes up here:</p>\n\n<p>I found out that when running the program, it crashes and sends me an error saying \"Process returned 255 (0xFF)\". When debugging, I found out that my program crashes when it finds a not corresponding code in the array, but that's what it's supposed to do the <code>cercaCens</code>. What it does is search in the array if the code exists, and if it does, return the position of where it is. If it's not in the array, return me false and the position = -3.</p>\n\n<p>I'm not sure, but I think it crashes when the program interprets that the given code should be stored into an array when it shouldn't.\nThis is what I have stored into an array before I want to save other information when reading from the other file: </p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 0, "creation_date": 1450282608, "post_id": 34316928, "comment_id": 56375687, "body": "Have you tried debugging your code? Could you give an example of the input that you used to get this issue?"}, {"owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "edited": false, "score": 11, "creation_date": 1450282624, "post_id": 34316928, "comment_id": 56375698, "body": "What is <code>x % 0</code> ?"}, {"owner": {"reputation": 1364, "user_id": 4882052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b6f17495dcbf1f2bd2ed7e3dfa3cc46f?s=128&d=identicon&r=PG&f=1", "display_name": "Angelus Mortis", "link": "https://stackoverflow.com/users/4882052/angelus-mortis"}, "edited": false, "score": 3, "creation_date": 1450282704, "post_id": 34316928, "comment_id": 56375747, "body": "I wonder if code compiles since <code>int printDividers(int x)</code> doesn&#39;t returns anything"}, {"owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "reply_to_user": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 0, "creation_date": 1450282728, "post_id": 34316928, "comment_id": 56375764, "body": "@JohnOdom I am using CodeBlocks and it says there are no errors. It always crashes, no matter which number you enter. For example 5, or 53, or 7546... Nothing works."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1450282730, "post_id": 34316928, "comment_id": 56375768, "body": "You need to return something from your function or make it <code>void</code>."}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "reply_to_user": {"reputation": 1625, "user_id": 5482966, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/935981333139032/picture?type=large", "display_name": "Mathews Mathai", "link": "https://stackoverflow.com/users/5482966/mathews-mathai"}, "edited": false, "score": 0, "creation_date": 1450282811, "post_id": 34316928, "comment_id": 56375811, "body": "@MathewsMathai That is normal from <code>main</code>, indicating successful completion of the program."}, {"owner": {"reputation": 17597, "user_id": 2016408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVba8.jpg?s=128&g=1", "display_name": "Leeor", "link": "https://stackoverflow.com/users/2016408/leeor"}, "edited": false, "score": 0, "creation_date": 1450282838, "post_id": 34316928, "comment_id": 56375827, "body": "Some errors, like the one pointed out by CompuChip, are only exposed at runtime"}, {"owner": {"reputation": 5764, "user_id": 2003898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/j2hnV.jpg?s=128&g=1", "display_name": "dhein", "link": "https://stackoverflow.com/users/2003898/dhein"}, "edited": false, "score": 0, "creation_date": 1450282923, "post_id": 34316928, "comment_id": 56375895, "body": "Has it stoped working, or was it just never working at all? <i>philosophical</i>"}, {"owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1450282944, "post_id": 34316928, "comment_id": 56375912, "body": "@NathanOliver could you give me an example of what could I return in this function and how should I change the main program so it would work the same?"}, {"owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "reply_to_user": {"reputation": 5764, "user_id": 2003898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/j2hnV.jpg?s=128&g=1", "display_name": "dhein", "link": "https://stackoverflow.com/users/2003898/dhein"}, "edited": false, "score": 2, "creation_date": 1450283022, "post_id": 34316928, "comment_id": 56375953, "body": "@Zaibis it stopped working after I entered an integer."}, {"owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "reply_to_user": {"reputation": 4368, "user_id": 2352158, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/91cd5bff136b9c7608cf986ca729e19a?s=128&d=identicon&r=PG", "display_name": "coincoin", "link": "https://stackoverflow.com/users/2352158/coincoin"}, "edited": false, "score": 0, "creation_date": 1450283025, "post_id": 34316928, "comment_id": 56375956, "body": "@coincoin I am new to programming and that&#39;s why this my seem dumb..."}], "answers": [{"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1450282938, "post_id": 34317027, "comment_id": 56375906, "body": "<i>Might</i> crash. The behaviour is undefined."}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1450283053, "post_id": 34317027, "comment_id": 56375981, "body": "Thanks. I edited. I&#39;m using my mobile, so, I don&#39;t have the standard to reference"}, {"owner": {"reputation": 5764, "user_id": 2003898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/j2hnV.jpg?s=128&g=1", "display_name": "dhein", "link": "https://stackoverflow.com/users/2003898/dhein"}, "edited": false, "score": 0, "creation_date": 1450283130, "post_id": 34317027, "comment_id": 56376040, "body": "@Danh I changed the stil of your change. I hope thats what you tryed to achieve."}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1450283193, "post_id": 34317027, "comment_id": 56376083, "body": "Yes, exactly what I want to change"}], "tags": [], "owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "is_accepted": false, "score": 4, "last_activity_date": 1450283097, "last_edit_date": 1450283097, "creation_date": 1450282834, "answer_id": 34317027, "question_id": 34316928, "link": "https://stackoverflow.com/questions/34316928/why-simple-program-for-printing-out-dividers-of-the-input-number-stopped-working/34317027#34317027", "title": "Why simple program for printing out dividers of the input number stopped working?", "body": "<p>When <code>i==0</code>, we will run the test <code>if (x%0 == 0)</code> which isn't a valid statement because it attempt to divide by 0. Hence, your program <del>will</del> might crash. Its behavior is undefined</p>\n"}, {"comments": [{"owner": {"reputation": 5764, "user_id": 2003898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/j2hnV.jpg?s=128&g=1", "display_name": "dhein", "link": "https://stackoverflow.com/users/2003898/dhein"}, "edited": false, "score": 0, "creation_date": 1450283215, "post_id": 34317029, "comment_id": 56376111, "body": "To quote HACK3R&#39;s(?) comment who sadly is not registred here anymore: <a href=\"http://stackoverflow.com/a/18416748/2003898\">Standard quotation == automatic +1</a>"}, {"owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "edited": false, "score": 0, "creation_date": 1450283324, "post_id": 34317029, "comment_id": 56376199, "body": "So dividing by zero is a no-go. Thank you!"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1450283368, "post_id": 34317029, "comment_id": 56376226, "body": "Only for integral types. Floating point division by zero <i>is</i> defined. But I&#39;d still advise against it."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 4, "last_activity_date": 1450288577, "last_edit_date": 1450288577, "creation_date": 1450282841, "answer_id": 34317029, "question_id": 34316928, "link": "https://stackoverflow.com/questions/34316928/why-simple-program-for-printing-out-dividers-of-the-input-number-stopped-working/34317029#34317029", "title": "Why simple program for printing out dividers of the input number stopped working?", "body": "<p>You're out of luck, you are attempting to compute <code>% 0</code> in your <code>for</code> loop. Along with integral division by zero, the behaviour on doing this is <em>undefined</em>:</p>\n\n<p>The C++03 Standard states in \u00a75.6/4,</p>\n\n<blockquote>\n  <p>[...] If the second operand of / or % is zero the behavior is\n  undefined; [...]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 2, "last_activity_date": 1450283916, "last_edit_date": 1450283916, "creation_date": 1450282868, "answer_id": 34317040, "question_id": 34316928, "link": "https://stackoverflow.com/questions/34316928/why-simple-program-for-printing-out-dividers-of-the-input-number-stopped-working/34317040#34317040", "title": "Why simple program for printing out dividers of the input number stopped working?", "body": "<p>What is <code>x % 0</code>? (Answer: <em>Undefined Behaviour</em>) This is what causes your run-time error. </p>\n\n<p>Change to this:</p>\n\n<pre><code>for (int j=1; j&lt;x+1; j++)\n</code></pre>\n\n<p><a href=\"http://ideone.com/K5vSxt\" rel=\"nofollow\">http://ideone.com/K5vSxt</a></p>\n"}], "owner": {"reputation": 85, "user_id": 5591550, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hvJfN.png?s=128&g=1", "display_name": "Blank\u7a7a\u767d", "link": "https://stackoverflow.com/users/5591550/blank%e7%a9%ba%e7%99%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 34317040, "answer_count": 3, "score": 0, "last_activity_date": 1450288577, "creation_date": 1450282525, "last_edit_date": 1450283013, "question_id": 34316928, "link": "https://stackoverflow.com/questions/34316928/why-simple-program-for-printing-out-dividers-of-the-input-number-stopped-working", "title": "Why simple program for printing out dividers of the input number stopped working?", "body": "<p>here is the code I am having an issue with:</p>\n\n<pre><code>int printDividers(int x)\n{\n    for (int j=0; j&lt;x+1; j++)\n    {\n        if (x%j==0) cout &lt;&lt; j &lt;&lt; \", \";\n    }\n}\n\nint main()\n{\n    int z;\n    cout &lt;&lt; \"Enter a number and the program will print out it's dividors:\" &lt;&lt; endl;\n    cin &gt;&gt; z;\n    printDividers(z);\n\n    return 0;\n}\n</code></pre>\n\n<p>After entering your number it says main.exe stopped working. I haven't figured out why, I can't spot the error in the code.</p>\n"}, {"tags": ["c++", "visual-studio", "opencv", "opencv3.0"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1450283378, "post_id": 34316832, "comment_id": 56376235, "body": "You are simply moving in the video. When you move the slider at value <code>pos</code>, you&#39;ll move at the <code>pos</code>-th frame in the video."}, {"owner": {"reputation": 1, "user_id": 5687474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222a1131dce9cbb716823379136a12e6?s=128&d=identicon&r=PG&f=1", "display_name": "saadamiens", "link": "https://stackoverflow.com/users/5687474/saadamiens"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1450283711, "post_id": 34316832, "comment_id": 56376470, "body": "Yes exactly I am moving, I have tried changing the code for the function  below by moving int pos as the argument to the core of the function but it didn&#39;t work, do you have an idea why ? void onTrackSlide() {     int pos;     cvSetCaptureProperty(cap, CV_CAP_PROP_POS_FRAMES, pos); }"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1450284262, "post_id": 34316832, "comment_id": 56376836, "body": "Where will be &quot;pos&quot; initialized with correct value?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5687474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222a1131dce9cbb716823379136a12e6?s=128&d=identicon&r=PG&f=1", "display_name": "saadamiens", "link": "https://stackoverflow.com/users/5687474/saadamiens"}, "edited": false, "score": 0, "creation_date": 1450293058, "post_id": 34318203, "comment_id": 56382039, "body": "thanks for your answer, so when I move the cursor of the trackbar, the int pos is automatically filled in the argument of the onTrackSlide function, is that correct, thanks again for your help"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 1, "user_id": 5687474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222a1131dce9cbb716823379136a12e6?s=128&d=identicon&r=PG&f=1", "display_name": "saadamiens", "link": "https://stackoverflow.com/users/5687474/saadamiens"}, "edited": false, "score": 0, "creation_date": 1450293139, "post_id": 34318203, "comment_id": 56382082, "body": "Yes, correct. Please remember to mark as an answer / upvote"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 1, "last_activity_date": 1450288319, "last_edit_date": 1450288319, "creation_date": 1450286396, "answer_id": 34318203, "question_id": 34316832, "link": "https://stackoverflow.com/questions/34316832/opencv-understanding-cvsetcaptureproperty-function-and-argument/34318203#34318203", "title": "opencv: understanding cvsetcaptureproperty function and argument", "body": "<p><a href=\"http://docs.opencv.org/2.4/modules/highgui/doc/user_interface.html#createtrackbar\" rel=\"nofollow\">createTrackbar</a> is a function of OpenCV user interface (<code>Highgui</code>) that accepts a callback function <code>onChange</code>:</p>\n\n<blockquote>\n  <p><strong>C++:</strong> int createTrackbar(const string&amp; trackbarname, const string&amp; winname, int* value, int count, <strong>TrackbarCallback onChange=0</strong>, void* userdata=0)</p>\n  \n  <p><strong>C:</strong> int cvCreateTrackbar(const char* trackbar_name, const char* window_name, int* value, int count, <strong>CvTrackbarCallback on_change=NULL</strong> )</p>\n</blockquote>\n\n<p>where </p>\n\n<blockquote>\n  <p><strong>onChange</strong> \u2013 Pointer to the function to be called every time the slider changes position. This function should be prototyped as void <code>Foo(int,void*);</code> , where the <strong>first parameter is the trackbar position</strong></p>\n</blockquote>\n\n<p>You defined you callback <code>onChange</code> like:</p>\n\n<pre><code>void onTrackSlide(int pos)\n{ \n    // pos is the current trackbar position\n    ...\n}\n</code></pre>\n\n<p>which is called by <code>Highgui</code> internal callback system. Every time you move the trackbar, the callback will be called with the new <code>pos</code> value.</p>\n\n<hr>\n\n<p>From the comments, you defined a callback function like:</p>\n\n<pre><code>void onTrackSlide() \n{ \n    int pos; \n    cvSetCaptureProperty(cap, CV_CAP_PROP_POS_FRAMES, pos); \n}\n</code></pre>\n\n<p>and this <strong>won't</strong> work, since the variable <code>pos</code> will never be initialized.</p>\n\n<hr>\n\n<p>You can alternatively use <a href=\"http://docs.opencv.org/2.4/modules/highgui/doc/user_interface.html#gettrackbarpos\" rel=\"nofollow\">getTrackbarPos</a> to get the current value of the trackbar.</p>\n"}], "owner": {"reputation": 1, "user_id": 5687474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222a1131dce9cbb716823379136a12e6?s=128&d=identicon&r=PG&f=1", "display_name": "saadamiens", "link": "https://stackoverflow.com/users/5687474/saadamiens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 1, "accepted_answer_id": 34318203, "answer_count": 1, "score": -1, "last_activity_date": 1450288319, "creation_date": 1450282270, "question_id": 34316832, "link": "https://stackoverflow.com/questions/34316832/opencv-understanding-cvsetcaptureproperty-function-and-argument", "title": "opencv: understanding cvsetcaptureproperty function and argument", "body": "<p>I am starting to learn openCv but I have some difficulties understanding the last argument (double value) of this function</p>\n\n<pre><code>int cvSetCaptureProperty(CvCapture* capture, int property_id, double value)\n</code></pre>\n\n<p>I understand this is a propoerty used in c++ but how does it works in the code below ?</p>\n\n<pre><code>void onTrackSlide(int pos)\n{\n    cvSetCaptureProperty(cap, CV_CAP_PROP_POS_FRAMES, pos);\n}\n</code></pre>\n\n<p>it is then called in the main program like this:</p>\n\n<pre><code>cvCreateTrackbar(\"position\", \"example3\", &amp;slider, frames, onTrackSlide);\n</code></pre>\n\n<p>I don't understand why the pos is never filled or used in the argument of onTrackSlide function.</p>\n\n<p>here is the full program: </p>\n\n<pre><code>#include&lt;opencv\\cv.h&gt;\n#include&lt;opencv\\highgui.h&gt;\n#include \"opencv2/opencv.hpp\"\n//#include &lt;iostream&gt;\n\nusing namespace cv;\n\nint slider=0;\nCvCapture* cap = NULL;\n\nvoid onTrackSlide(int pos)\n{\n\n    cvSetCaptureProperty(cap, CV_CAP_PROP_POS_FRAMES, pos);\n}\n\n\nint main(int argc, char ** argv)\n{\n\n    cvNamedWindow(\"example3\", CV_WINDOW_AUTOSIZE);\n    cap = cvCreateFileCapture(argv[1]);\n    int frames = (int)cvGetCaptureProperty(cap, CV_CAP_PROP_FRAME_COUNT);\n\n    if (frames != 0)\n    {\n        cvCreateTrackbar(\"position\", \"example3\", &amp;slider, frames, onTrackSlide);\n\n    }\n\n    IplImage* frame;\n    while (1)\n\n    {\n        frame = cvQueryFrame(cap);\n        if (!frame)break;\n        cvShowImage(\"example3\", frame);\n        char c = cvWaitKey(33);\n        if (c == 27)  break;\n\n    }\n\n    cvReleaseCapture(&amp;cap);\n    cvDestroyWindow(\"example3\");\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "asynchronous"], "comments": [{"owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "edited": false, "score": 0, "creation_date": 1450282235, "post_id": 34316677, "comment_id": 56375419, "body": "Are you saying that when you run this your output is &quot;Function finished? Because I just ran this and got &quot;Function timedout&quot;."}, {"owner": {"reputation": 511, "user_id": 2679437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100002201062059/picture?type=large", "display_name": "Maciej Szpakowski", "link": "https://stackoverflow.com/users/2679437/maciej-szpakowski"}, "reply_to_user": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "edited": false, "score": 0, "creation_date": 1450282388, "post_id": 34316677, "comment_id": 56375529, "body": "No, depending on how long your wait is, it might timeout or finish. What I&#39;m asking is, if it times out, process still waits for it to finish. However, it seems that question posted by Jarod42 makes sense. Process waits because destructor of future object blocks."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450283811, "post_id": 34316677, "comment_id": 56376562, "body": "In your specific case, there&#39;s a direct answer to &quot;Why?&quot;, namely that a reference to <code>int a</code> is captured, and allowing <code>a</code> to be destroyed while the task is still using it would break the world (in C++ parlance, cause &quot;undefined behavior&quot;)."}, {"owner": {"reputation": 511, "user_id": 2679437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100002201062059/picture?type=large", "display_name": "Maciej Szpakowski", "link": "https://stackoverflow.com/users/2679437/maciej-szpakowski"}, "edited": false, "score": 0, "creation_date": 1450284541, "post_id": 34316677, "comment_id": 56377010, "body": "Isn&#39;t task being destroyed as well ?"}], "owner": {"reputation": 511, "user_id": 2679437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100002201062059/picture?type=large", "display_name": "Maciej Szpakowski", "link": "https://stackoverflow.com/users/2679437/maciej-szpakowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1450282032, "answer_count": 0, "score": 0, "last_activity_date": 1450281825, "creation_date": 1450281825, "question_id": 34316677, "link": "https://stackoverflow.com/questions/34316677/why-program-wont-exit-until-stdasync-finishes", "closed_reason": "Duplicate", "title": "Why program won&#39;t exit until std::async finishes?", "body": "<p>Consider this program:</p>\n\n<pre><code>#include &lt;future&gt;\n#include &lt;thread&gt;\n#include &lt;chrono&gt;\n\nint main()\n{\n    int a = 0;\n\n    auto f = std::async(std::launch::async,[&amp;]\n    {\n        a = 1;\n        std::this_thread::sleep_for(std::chrono::seconds(5));\n        a = 2;\n    });\n\n    auto result = f.wait_for(std::chrono::seconds(1));\n\n    if (result == std::future_status::timeout)\n    {\n        printf(\"Function timedout ! %d\\n\", a);\n    }\n    else if(result == std::future_status::ready)\n    {\n        printf(\"Function finished ! %d\\n\", a);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>It works as expected except that program won't exit until asynchronous task finishes. Why ?</p>\n"}, {"tags": ["c++", "mathematical-expressions"], "comments": [{"owner": {"reputation": 2985, "user_id": 3062311, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ac3f86b95cab3ef4d33850cbeb9db3e2?s=128&d=identicon&r=PG&f=1", "display_name": "sop", "link": "https://stackoverflow.com/users/3062311/sop"}, "edited": false, "score": 0, "creation_date": 1450282494, "post_id": 34316567, "comment_id": 56375604, "body": "Have you tried to debug step by step?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450282520, "post_id": 34316567, "comment_id": 56375619, "body": "Or at least with shorter/simpler inputs?"}, {"owner": {"reputation": 2985, "user_id": 3062311, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ac3f86b95cab3ef4d33850cbeb9db3e2?s=128&d=identicon&r=PG&f=1", "display_name": "sop", "link": "https://stackoverflow.com/users/3062311/sop"}, "edited": false, "score": 0, "creation_date": 1450348670, "post_id": 34316567, "comment_id": 56406234, "body": "Where are your <code>op</code> and <code>cp</code> defined? Are they global?"}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450282497, "post_id": 34316744, "comment_id": 56375606, "body": "It comes from <code>m</code> putting the <code>*</code> into the output string immediately, instead of parsing two operands and putting <code>*</code> between them."}, {"owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1450282660, "post_id": 34316744, "comment_id": 56375721, "body": "@BenVoigt yes, didn&#39;t i write the same thing?"}], "tags": [], "owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "is_accepted": false, "score": 1, "last_activity_date": 1450282397, "last_edit_date": 1450282397, "creation_date": 1450282035, "answer_id": 34316744, "question_id": 34316567, "link": "https://stackoverflow.com/questions/34316567/how-to-create-a-mathematical-expression-from-operators-and-operands-in-a-queue/34316744#34316744", "title": "How to create a mathematical expression from operators and operands in a queue", "body": "<p>The <code>**</code> comes from both <code>m</code> in the string and you explicitly writing <code>sin(pi*</code> in the code.</p>\n\n<p>In addition, the recursion into avg (when creating <code>s1</code> seems to index the entire expression so you are getting <code>yyx</code>). You must make sure it only reads 1 complete expression out of the stack, not the rest of the thing. This is tricky because you need to tell the difference between <code>avg(x,y)</code> and <code>avg(x+y,y*x)</code> for example.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 5463431, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bd08f24179a5a6b17e02d7e8a20db8d6?s=128&d=identicon&r=PG&f=1", "display_name": "elena.bdc", "link": "https://stackoverflow.com/users/5463431/elena-bdc"}, "edited": false, "score": 0, "creation_date": 1450282872, "post_id": 34316851, "comment_id": 56375853, "body": "So, in your opinion, which would be the best way to solve this problems? Maybe use recursion in all the function?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 69, "user_id": 5463431, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bd08f24179a5a6b17e02d7e8a20db8d6?s=128&d=identicon&r=PG&f=1", "display_name": "elena.bdc", "link": "https://stackoverflow.com/users/5463431/elena-bdc"}, "edited": false, "score": 0, "creation_date": 1450283584, "post_id": 34316851, "comment_id": 56376368, "body": "Yes, recursion, no loop, and I would pass the queue by reference so that the recursive calls control how many operands get removed."}, {"owner": {"reputation": 69, "user_id": 5463431, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bd08f24179a5a6b17e02d7e8a20db8d6?s=128&d=identicon&r=PG&f=1", "display_name": "elena.bdc", "link": "https://stackoverflow.com/users/5463431/elena-bdc"}, "edited": false, "score": 0, "creation_date": 1450286370, "post_id": 34316851, "comment_id": 56378094, "body": "And how could be this function?"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 3, "last_activity_date": 1450282329, "creation_date": 1450282329, "answer_id": 34316851, "question_id": 34316567, "link": "https://stackoverflow.com/questions/34316567/how-to-create-a-mathematical-expression-from-operators-and-operands-in-a-queue/34316851#34316851", "title": "How to create a mathematical expression from operators and operands in a queue", "body": "<p>This part of processing <code>avg(-,-)</code> is horribly broken:</p>\n\n<pre><code>s1 = createExp(q);\nq.pop();\ns2 = createExp(q);\nq.pop();\n</code></pre>\n\n<p>You're passing the queue by value, which creates a copy of it.  Then you can't find out how many times the recursion popped the queue.  But you magically assume that you should remove exactly one element.  What if one of the arguments had a function call or operator in it.</p>\n\n<p>To make matters worse, the recursion processes the entire rest of the queue, not just one expression.</p>\n"}, {"tags": [], "owner": {"reputation": 2985, "user_id": 3062311, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ac3f86b95cab3ef4d33850cbeb9db3e2?s=128&d=identicon&r=PG&f=1", "display_name": "sop", "link": "https://stackoverflow.com/users/3062311/sop"}, "is_accepted": false, "score": 0, "last_activity_date": 1450349753, "creation_date": 1450349753, "answer_id": 34332829, "question_id": 34316567, "link": "https://stackoverflow.com/questions/34316567/how-to-create-a-mathematical-expression-from-operators-and-operands-in-a-queue/34332829#34332829", "title": "How to create a mathematical expression from operators and operands in a queue", "body": "<p>I have done a small modification of your code and it works perfectly:</p>\n\n<pre><code>int cp = 0,  op = 0;\n\nstd::string createExp(std::queue&lt; char &gt;&amp; q)\n{\n    std::string s;\n    std::string s1, s2;\n    char c;\n\n    while (!q.empty())\n    {\n        c = q.front();\n\n        if (c == 'x')\n        {\n            s += \"x\";\n            q.pop();\n        }\n        else if (c == 'y')\n        {\n            s += \"y\";\n            q.pop();\n        }\n        else if (c == 'a')\n        {\n            s += \"avg(\";\n            q.pop();\n\n            s1 = q.front(); // here\n            q.pop();\n            s2 = q.front(); // and here\n            q.pop();\n            s += s1;\n            s += ',';\n            s += s2;\n            s += ')*';\n        }\n        else if (c == 's')\n        {\n            s += \"sin(pi*\";\n            q.pop();\n            op++;\n        }\n        else if (c == 'c')\n        {\n            s += \"cos(pi*\";\n            q.pop();\n            op++;\n        }\n        else\n        {\n//             s += \"*\";\n            q.pop();\n        }\n    }\n\n    while (op &gt; cp)\n    {\n        s += \")\";\n        cp++;\n    }\n\n    return (s);\n}\n</code></pre>\n\n<p>But this will work only if your operator is always <code>*</code>. If you need also the other operators, then you need a more complex thing.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 5463431, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bd08f24179a5a6b17e02d7e8a20db8d6?s=128&d=identicon&r=PG&f=1", "display_name": "elena.bdc", "link": "https://stackoverflow.com/users/5463431/elena-bdc"}, "is_accepted": true, "score": 0, "last_activity_date": 1450354234, "creation_date": 1450354234, "answer_id": 34334273, "question_id": 34316567, "link": "https://stackoverflow.com/questions/34316567/how-to-create-a-mathematical-expression-from-operators-and-operands-in-a-queue/34334273#34334273", "title": "How to create a mathematical expression from operators and operands in a queue", "body": "<p>Here is my final recursive solution:</p>\n\n<pre><code>int cp = 0,  op = 0;\n\nstring recursiveExp (queue&lt;char&gt;&amp; q) {\n    char e;\n\n    if (!q.empty()) {\n        e = q.front();\n        if (e == 'x' || e == 'y') {\n            q.pop();\n            s += e;\n        }\n\n        else if (e == 's') {\n            q.pop();\n            s += \"sin(pi*\";\n            op++;\n            recursiveExp(q);\n            s += \")\";\n            cp++;\n        }\n\n       else if (e == 'c') {\n            q.pop();\n            s += \"cos(pi*\";\n            op++;\n            recursiveExp(q);\n            s += \")\";\n            cp++;\n        }\n\n        else if (e == 'a') {\n            q.pop();\n            s += \"avg(\";\n            op++;\n            recursiveExp(q);\n            s += \",\";\n            recursiveExp(q);\n            s += \")\";\n            cp++;\n        }\n\n        else if (e == 'm'){\n            q.pop();\n            s += \"(\";\n            op++;\n            recursiveExp(q);\n            s += \"*\";\n            recursiveExp(q);\n            s += \")\";\n            cp++;\n        }\n    }\n    return s;\n}\n</code></pre>\n\n<p>Thanks to everyone :)</p>\n"}], "owner": {"reputation": 69, "user_id": 5463431, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bd08f24179a5a6b17e02d7e8a20db8d6?s=128&d=identicon&r=PG&f=1", "display_name": "elena.bdc", "link": "https://stackoverflow.com/users/5463431/elena-bdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 34334273, "answer_count": 4, "score": 0, "last_activity_date": 1450354234, "creation_date": 1450281557, "question_id": 34316567, "link": "https://stackoverflow.com/questions/34316567/how-to-create-a-mathematical-expression-from-operators-and-operands-in-a-queue", "title": "How to create a mathematical expression from operators and operands in a queue", "body": "<p>I'm trying to build a mathematical expression (including parenthesis) with the operators and operands included in a queue.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>string createExp (queue&lt;char&gt; q) {\n    string s;\n    string s1, s2;\n    char c;\n\n    while (!q.empty()) {\n\n        c = q.front();\n\n        if (c == 'x') {\n            s += \"x\";\n            q.pop();\n        }\n\n        else if (c == 'y') {\n            s += \"y\";\n            q.pop();\n        }\n\n        else if (c == 'a') {\n            s += \"avg(\";\n            q.pop();\n\n            s1 = createExp(q);\n            q.pop();\n            s2 = createExp(q);\n            q.pop();\n            s += s1;\n            s += ',';\n            s += s2;\n            s += ')';\n        }\n\n        else if (c == 's') {\n            s += \"sin(pi*\";\n            q.pop();\n            op++;\n        }\n        else if (c == 'c') {\n            s += \"cos(pi*\";\n            q.pop();\n            op++;\n        }\n        else {\n            s += \"*\";\n            q.pop();\n        }\n    }\n\n    while (op &gt; cp) {\n        s += \")\";\n        cp++;\n    }\n\n    return (s);\n}\n</code></pre>\n\n<p>As you can see, in the case of the average (avg), I'm trying to call recursively to the function to obtain the next sequence of values.</p>\n\n<p>For example, if my queue contains the next values: </p>\n\n<blockquote>\n  <p>s m a y x y</p>\n</blockquote>\n\n<p>The expression should be like this: </p>\n\n<blockquote>\n  <p>sin(pi*(avg(y,x)*y)</p>\n</blockquote>\n\n<p>But my code return this sequence:</p>\n\n<blockquote>\n  <p>sin(pi**avg(yyx)yyxyyx</p>\n</blockquote>\n\n<p>Could you help me with this?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["c++", "server", "client", "port"], "comments": [{"owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "edited": false, "score": 1, "creation_date": 1450281666, "post_id": 34316545, "comment_id": 56374979, "body": "I would&#39;ve thought that this has more to do with your network configuration. Are the machines on the same local network? If not, is your server visible over the internet?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1450281715, "post_id": 34316545, "comment_id": 56375004, "body": "Its probably the network that needs configuring. For example if the server is behind a router you will need to setup port forwarding."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450285590, "post_id": 34316545, "comment_id": 56377630, "body": "Well, if the server is reachable from your client box, and your name server config is OK, then, sure.  The IP lookup should suceed and the client connect up fine.  What errors do you get?"}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450285624, "post_id": 34316545, "comment_id": 56377651, "body": "Step 1 - can you ping the server from the client?"}, {"owner": {"reputation": 1039, "user_id": 4067575, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662bb566549f23c6f58ae5942efbbc27?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4067575/ben"}, "reply_to_user": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "edited": false, "score": 0, "creation_date": 1450286248, "post_id": 34316545, "comment_id": 56378036, "body": "@MohamadElghawi The client and server will be on the same network, but on two different machines."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450305648, "post_id": 34316545, "comment_id": 56388789, "body": "Can you ping the other box by name, eg. &#39;ping MyServerName&#39;"}, {"owner": {"reputation": 1039, "user_id": 4067575, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662bb566549f23c6f58ae5942efbbc27?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4067575/ben"}, "reply_to_user": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450309678, "post_id": 34316545, "comment_id": 56390351, "body": "@MartinJames Ping the server? How would I do that? Would I give the server a specific host name and then have the client use that same name as the first <code>getaddrinfo</code> parameter instead of <code>argv[1]</code>?"}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450314592, "post_id": 34316545, "comment_id": 56391769, "body": "lol, type it at your command line, eg. &#39;ping localhost&#39; should get you a reply from yourself:)  &#39;ping TheServerComputerName&#39; should get you a reply from the peer."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450314861, "post_id": 34316545, "comment_id": 56391840, "body": "A successful ping shows that the name resolution service is working, the other box is definitely reachable with the ICMP protocol, and, very likely, by TCP.  An error like &#39;Ping request could not find host&#39; means that the name resolution failed to provide an IP address. An attempted, but failed, ping means that it&#39;s very likely that the other box is not reachable."}, {"owner": {"reputation": 1039, "user_id": 4067575, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662bb566549f23c6f58ae5942efbbc27?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4067575/ben"}, "reply_to_user": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 0, "creation_date": 1450349655, "post_id": 34316545, "comment_id": 56406897, "body": "@MartinJames Okay, but how would I add the pinging functionality to the client&#39;s code so that it automatically attempts to connect to the server upon starting up? The server program name is &quot;MusicServer&quot;, by the way."}], "owner": {"reputation": 1039, "user_id": 4067575, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/662bb566549f23c6f58ae5942efbbc27?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4067575/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450281497, "creation_date": 1450281497, "question_id": 34316545, "link": "https://stackoverflow.com/questions/34316545/how-do-i-allow-a-server-and-client-to-run-on-separate-machines", "title": "How do I allow a server and client to run on separate machines?", "body": "<p>I have created a client and server in C++. They are able to run on the same computer, but I need them to run on separate machines as well. Can the current code be used to accomplish this or would I need to edit it in some way?</p>\n\n<p>Server code:</p>\n\n<pre><code>#define HOST_PORT \"27015\"\n\nWSADATA wsaData;\nint status;\nstruct addrinfo * data;\nstruct addrinfo hints;\n\nWSAStartup(MAKEWORD(WINSOCK_MAJOR_VERSION, WINSOCK_MINOR_VERSION), &amp;wsaData);\n\nZeroMemory(&amp;hints, sizeof(hints));\nhints.ai_family = AF_INET;\nhints.ai_socktype = SOCK_STREAM;\nhints.ai_protocol = IPPROTO_IP;\nhints.ai_flags = AI_PASSIVE;\n\nif (getaddrinfo(NULL, HOST_PORT, &amp;hints, &amp;data))\n{\n    std::cout &lt;&lt; \"Unable to translate host name to address\\n\";\n    WSACleanup();\n}\n</code></pre>\n\n<p>Client code:</p>\n\n<pre><code>#define DEFAULT_PORT \"27015\"\n\nstruct addrinfo hints;\n\nZeroMemory(&amp;hints, sizeof(hints));\nhints.ai_family = AF_UNSPEC;\nhints.ai_socktype = SOCK_STREAM;\nhints.ai_protocol = IPPROTO_TCP;\n\nstruct addrinfo *result = NULL;\nint iResult = getaddrinfo(argv[1], DEFAULT_PORT, &amp;hints, &amp;result);\n\nif (iResult != 0)\n{\n    std::cout &lt;&lt; (\"getaddrinfo failed with error: %d\\n\", iResult);\n    WSACleanup();\n}\n</code></pre>\n"}, {"tags": ["c++", "global-variables", "glfw"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1450281372, "post_id": 34316362, "comment_id": 56374746, "body": "What do you want <code>m</code> to be, then? Local? Member variable?"}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 2, "last_activity_date": 1534971040, "last_edit_date": 1534971040, "creation_date": 1450281869, "answer_id": 34316692, "question_id": 34316362, "link": "https://stackoverflow.com/questions/34316362/retrieving-data-from-callback-function/34316692#34316692", "title": "Retrieving data from callback function", "body": "<p>You can associate a user pointer to a <code>GLFWindow</code>. See <a href=\"http://www.glfw.org/docs/latest/group__window.html#ga3d2fc6026e690ab31a13f78bc9fd3651\" rel=\"nofollow noreferrer\"><code>glfwSetWindowUserPointer</code></a>.</p>\n\n<p>the pointer can be retrieved at an time form the <code>GLFWWindow</code> object by <a href=\"http://www.glfw.org/docs/latest/group__window.html#ga17807ce0f45ac3f8bb50d6dcc59a4e06\" rel=\"nofollow noreferrer\"><code>glfwGetWindowUserPointer</code></a> </p>\n\n<pre><code>struct MyWindowData\n{\n  GLdouble x;\n  GLdouble y;\n}\n</code></pre>\n\n<p>Associate a pointer to <code>windowData</code>, to the <code>window</code>: </p>\n\n<pre><code>MyWindowData windowData;\n\nglfwSetWindowUserPointer( window, &amp;windowData );\nglfwSetCursorPosCallback( window, mouse );\n</code></pre>\n\n<p>Get the pointer form the <code>window</code> and Cast the pointer of type <code>void*</code> to <code>MyWindowData *</code> (Sadly you have to do the cast).</p>\n\n<pre><code>void mouse(GLFWwindow* window, GLdouble x, GLdouble y)\n{\n   MyWindowData *dataPtr = (MyWindowData*)glfwGetWindowUserPointer( window ); \n   dataPtr-&gt;x = x;\n   dataPtr-&gt;y = y; \n}\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 4735474, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7063c5847992b75aacd4f33a6cecc122?s=128&d=identicon&r=PG&f=1", "display_name": "Ylfaue", "link": "https://stackoverflow.com/users/4735474/ylfaue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 34316692, "answer_count": 1, "score": 1, "last_activity_date": 1534971040, "creation_date": 1450281022, "question_id": 34316362, "link": "https://stackoverflow.com/questions/34316362/retrieving-data-from-callback-function", "title": "Retrieving data from callback function", "body": "<p>Were I to set a callback function in GLFW, let's say</p>\n\n<pre><code>glfwSetCursorPosCallback(window, mouse);\n</code></pre>\n\n<p>the most obvious way to retrieve the cursor position would be</p>\n\n<pre><code>vec2 m;\n\nvoid mouse (GLFWwindow* window, GLdouble x, GLdouble y)\n{\n    m = vec2 (x, y);\n}\n</code></pre>\n\n<p>However, I would prefer to do so without using a global variable. Can it be done?</p>\n"}, {"tags": ["c++", "oop", "constructor", "segmentation-fault", "decorator"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1450281151, "post_id": 34316358, "comment_id": 56374549, "body": "Are you doing <code>delete</code> on that pointer? Are you copying/moving the <code>Sub</code> object?"}, {"owner": {"reputation": 426, "user_id": 5135626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZnAIy.png?s=128&g=1", "display_name": "Byomeer", "link": "https://stackoverflow.com/users/5135626/byomeer"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1450281215, "post_id": 34316358, "comment_id": 56374603, "body": "i have to use <code>delete</code> somewhere, yes"}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 2, "creation_date": 1450281286, "post_id": 34316358, "comment_id": 56374670, "body": "I don&#39;t think there&#39;s <i>quite</i> enough code here for us to compile and see what&#39;s going on. You may not have shown the actual bug in your snippets."}, {"owner": {"reputation": 426, "user_id": 5135626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZnAIy.png?s=128&g=1", "display_name": "Byomeer", "link": "https://stackoverflow.com/users/5135626/byomeer"}, "edited": false, "score": 0, "creation_date": 1450281461, "post_id": 34316358, "comment_id": 56374829, "body": "Is it even possible to use <code>this</code> to initialize a base class in the way I do?"}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1450282329, "post_id": 34316358, "comment_id": 56375490, "body": "You can pass the pointer value, yes. The <code>Base</code> subobject should even be constructed by the time you pass it to the <code>Deco</code> constructor. However, since I can&#39;t see what you&#39;re <i>doing</i> with the pointer, that&#39;s as far as I can go."}, {"owner": {"reputation": 426, "user_id": 5135626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZnAIy.png?s=128&g=1", "display_name": "Byomeer", "link": "https://stackoverflow.com/users/5135626/byomeer"}, "edited": false, "score": 0, "creation_date": 1450283061, "post_id": 34316358, "comment_id": 56375983, "body": "Thats exactly my problem: I can&#39;t do anything with the pointer. If i have a method <code>Sub::toString()</code> that simply outputs a string, I am not able to call <code>this-&gt;toString()</code> in <code>Sub::Sub()</code>."}, {"owner": {"reputation": 8657, "user_id": 3042070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea2672d02faabcfdcc3400ce7e713a?s=128&d=identicon&r=PG", "display_name": "stj", "link": "https://stackoverflow.com/users/3042070/stj"}, "edited": false, "score": 0, "creation_date": 1450384971, "post_id": 34316358, "comment_id": 56429326, "body": "The above code snippets don&#39;t show the problem and class <code>Sub</code> is not even valid C++ code. Can you please update the question with a minimal example that compiles and produces the segmentation fault?"}], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 5135626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZnAIy.png?s=128&g=1", "display_name": "Byomeer", "link": "https://stackoverflow.com/users/5135626/byomeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1451421037, "creation_date": 1451421037, "answer_id": 34518603, "question_id": 34316358, "link": "https://stackoverflow.com/questions/34316358/decorator-pattern-with-complex-hierarchie-constructor-causing-core-dump/34518603#34518603", "title": "decorator pattern with complex hierarchie: constructor causing core dump?", "body": "<p>Found the answer: It was a good example of the diamond problem. No way to fix that construct.</p>\n\n<p>Had to replace the <code>Deco</code> class with a pointer in class <code>Base</code>.</p>\n"}], "owner": {"reputation": 426, "user_id": 5135626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZnAIy.png?s=128&g=1", "display_name": "Byomeer", "link": "https://stackoverflow.com/users/5135626/byomeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 34518603, "answer_count": 1, "score": -2, "last_activity_date": 1451421037, "creation_date": 1450281014, "question_id": 34316358, "link": "https://stackoverflow.com/questions/34316358/decorator-pattern-with-complex-hierarchie-constructor-causing-core-dump", "title": "decorator pattern with complex hierarchie: constructor causing core dump?", "body": "<p>I try to implement a complex decorator in C++. Basically the important part of my code would look like this:</p>\n\n<pre><code>class Main {};\nclass Base : virtual public Main {};\nclass Deco : virtual public Main {\n    Deco(Base* base);\n};\nclass Sub : public Base, public Deco {\n    Sub::Sub(Base* object) :\n        Deco{object} {}\n    Sub();\n};\n</code></pre>\n\n<p>There are other classes like Sub, just with other names.\nNow I want to be able to write something like this:</p>\n\n<pre><code>Main* object = new Sub1(new Sub2(new Sub1()));\n</code></pre>\n\n<p>I dont want to create a new Base in the inner scope, just Subs.\nThe following method will cause a segmentation fault:</p>\n\n<pre><code>Sub::Sub() :\n    Deco{this} {}\n</code></pre>\n\n<p>I don't know, why this happens. Is there a way to fix this or avoid initializing Deco here?</p>\n"}, {"tags": ["c++", "opencv", "computer-vision", "camera-calibration", "fisheye"], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450438058, "post_id": 34316531, "comment_id": 56450672, "body": "I tried that, and for regular images (using the images in the opencv samples folders) it gave the type of result I wanted, however when I use it on my fisheye images, it does not give the wanted result."}, {"owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450438687, "post_id": 34316531, "comment_id": 56451044, "body": "<a href=\"https://www.dropbox.com/sh/pkudy2acgqyyjc5/AAAWE5cMEiT6dGB0hwDnVm69a?dl=0\" rel=\"nofollow noreferrer\">Folder showing images of my results</a>"}, {"owner": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "reply_to_user": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450439428, "post_id": 34316531, "comment_id": 56451484, "body": "Your images seem to be from a very wide-angle camera (~180 degrees fov). If you want to include all pixels - you&#39;ll have make an infinite-sized image (since pixels with angle from main camera axis &gt;= 180 would be projected on infinity). So you&#39;ll have to discard some of then in order to get finite-sized image. By the way, what alpha have you used?"}, {"owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450443384, "post_id": 34316531, "comment_id": 56453746, "body": "Yes, as stated is is a fisheye lens camera with a very wide fov. I am using 1.0 as you suggested in your earlier comment."}, {"owner": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "reply_to_user": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450443554, "post_id": 34316531, "comment_id": 56453843, "body": "Hmm, then maybe you&#39;re better off constructing new calibration matrix yourself. Seems that opencv has some kind of limit on scale"}, {"owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450443585, "post_id": 34316531, "comment_id": 56453872, "body": "These are my inputs to the function <i>new_cam_matrix = getOptimalNewCameraMatrix(cam_matrix, dist_coeffs, image_size, alpha);</i>"}, {"owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "edited": false, "score": 0, "creation_date": 1450444321, "post_id": 34316531, "comment_id": 56454338, "body": "I think I should use <i>fisheye::estimateNewCameraMatrixForUndistortRectify</i>, as it is the function made for calibrating the new camera matrix for wide fov lens images, but I can&#39;t seem to figure out how to get the <b>R</b> matrix."}], "tags": [], "owner": {"reputation": 1595, "user_id": 3896254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3c7c0f135f09528315c41181779802?s=128&d=identicon&r=PG&f=1", "display_name": "alexisrozhkov", "link": "https://stackoverflow.com/users/3896254/alexisrozhkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1457650080, "last_edit_date": 1457650080, "creation_date": 1450281461, "answer_id": 34316531, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image/34316531#34316531", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>You are doing fine, you just have to use <code>getOptimalNewCameraMatrix()</code> to set <code>newCameraMatrix</code> in <code>undistort()</code>. In order to get all pixels visible, you have to set <code>alpha</code> to 1 in <code>getOptimalNewCameraMatrix()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1905, "user_id": 78025, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27e6cbd89fe8444b3d8030ccd50959e9?s=128&d=identicon&r=PG", "display_name": "HelloSam", "link": "https://stackoverflow.com/users/78025/hellosam"}, "is_accepted": false, "score": 4, "last_activity_date": 1494961323, "creation_date": 1494961323, "answer_id": 44009548, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image/44009548#44009548", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>I think I have ran into a similar issue, looking for the \"alpha\" knot in getOptimalNewCameraMatrix for fisheye.</p>\n\n<p>Original shot:\n<a href=\"https://i.stack.imgur.com/rhEyc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rhEyc.jpg\" alt=\"Original\"></a></p>\n\n<p>I calibrated it with cv2.fisheye.calibrate, got the K and D parameters</p>\n\n<pre><code>K = [[ 329.75951163    0.          422.36510555]\n [   0.          329.84897388  266.45855056]\n [   0.            0.            1.        ]]\n\nD = [[ 0.04004325]\n [ 0.00112638]\n [ 0.01004722]\n [-0.00593285]]\n</code></pre>\n\n<p>This is what I get with</p>\n\n<pre><code>map1, map2 = cv2.fisheye.initUndistortRectifyMap(K, d, np.eye(3), k, (800,600), cv2.CV_16SC2)\nnemImg = cv2.remap( img, map1, map2, interpolation=cv2.INTER_LINEAR, borderMode=cv2.BORDER_CONSTANT)\n</code></pre>\n\n<p>And I think it chops too much. I want to see the whole Rubik's cube</p>\n\n<p><a href=\"https://i.stack.imgur.com/H662G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H662G.jpg\" alt=\"initUndistortRectifyMap/remap with the K,D\"></a></p>\n\n<p>I fix it with</p>\n\n<pre><code>nk = k.copy()\nnk[0,0]=k[0,0]/2\nnk[1,1]=k[1,1]/2\n# Just by scaling the matrix coefficients!\n\nmap1, map2 = cv2.fisheye.initUndistortRectifyMap(k, d, np.eye(3), nk, (800,600), cv2.CV_16SC2)  # Pass k in 1st parameter, nk in 4th parameter\nnemImg = cv2.remap( img, map1, map2, interpolation=cv2.INTER_LINEAR, borderMode=cv2.BORDER_CONSTANT)\n</code></pre>\n\n<p>TADA!</p>\n\n<p><a href=\"https://i.stack.imgur.com/ywl9N.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ywl9N.jpg\" alt=\"This is what I want\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 4215, "user_id": 7347933, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/V8E3M.jpg?s=128&g=1", "display_name": "paper1111", "link": "https://stackoverflow.com/users/7347933/paper1111"}, "edited": false, "score": 0, "creation_date": 1519036721, "post_id": 48864262, "comment_id": 84731657, "body": "This does not provide an answer to the question. You can <a href=\"//stackoverflow.com/search\">search for similar questions</a>, or refer to the related and linked questions on the right-hand side of the page to find an answer. If you have a related but different question, <a href=\"//stackoverflow.com/questions/ask\">ask a new question</a>, and include a link to this one to help provide context. See: <a href=\"//stackoverflow.com/tour\">Ask questions, get answers, no distractions</a>"}], "tags": [], "owner": {"reputation": 478, "user_id": 9380191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c991dbbe2fbafb9f14ace066c675c8b?s=128&d=identicon&r=PG&f=1", "display_name": "VideoProcessingResearcher", "link": "https://stackoverflow.com/users/9380191/videoprocessingresearcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1521007868, "last_edit_date": 1521007868, "creation_date": 1519036673, "answer_id": 48864262, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image/48864262#48864262", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>I stacked the same problem. And if FOV of your camera ~ 180 degrees, I think you will not be able to undistort 100% of initial image surface. More detailed explanation I placed <a href=\"https://stackoverflow.com/questions/48990136/opencv-undistorts-only-a-central-part-of-fisheye-image?rq=1\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1214, "user_id": 645430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47796a85fe1ae4d634d3d2f5bdb5178?s=128&d=identicon&r=PG", "display_name": "guerrerocarlos", "link": "https://stackoverflow.com/users/645430/guerrerocarlos"}, "is_accepted": false, "score": 6, "last_activity_date": 1543323563, "creation_date": 1543323563, "answer_id": 53500300, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image/53500300#53500300", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>As mentioned by <a href=\"http://paulbourke.net\" rel=\"noreferrer\">Paul Bourke</a> <a href=\"http://paulbourke.net/dome/fish2/\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>a fisheye projection is not a \"distorted\" image, and the process isn't\n  a \"dewarping\". A fisheye like other projections is one of many ways of\n  mapping a 3D world onto a 2D plane, it is no more or less \"distorted\"\n  than other projections including a rectangular perspective projection</p>\n</blockquote>\n\n<p>To get a projection without image cropping, (and your camera has ~<strong>180</strong> degrees FOV) you can project the <strong>fisheye</strong> image in a square using something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FpzW7.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FpzW7.jpg\" alt=\"Fisheye to Rectangular\"></a></p>\n\n<p>Source code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;time.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/imgproc/imgproc.hpp&gt;\n#include &lt;opencv2/calib3d/calib3d.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n\n// - compile with:\n// g++ -ggdb `pkg-config --cflags --libs opencv` fist2rect.cpp -o fist2rect\n// - execute:\n// fist2rect input.jpg output.jpg\n\n using namespace std;\n using namespace cv;\n #define PI 3.1415926536\n\n Point2f getInputPoint(int x, int y,int srcwidth, int srcheight)\n {\n    Point2f pfish;\n    float theta,phi,r, r2;\n    Point3f psph;\n    float FOV =(float)PI/180 * 180;\n    float FOV2 = (float)PI/180 * 180;\n    float width = srcwidth;\n    float height = srcheight;\n\n    // Polar angles\n    theta = PI * (x / width - 0.5); // -pi/2 to pi/2\n    phi = PI * (y / height - 0.5);  // -pi/2 to pi/2\n\n    // Vector in 3D space\n    psph.x = cos(phi) * sin(theta);\n    psph.y = cos(phi) * cos(theta);\n    psph.z = sin(phi) * cos(theta);\n\n    // Calculate fisheye angle and radius\n    theta = atan2(psph.z,psph.x);\n    phi = atan2(sqrt(psph.x*psph.x+psph.z*psph.z),psph.y);\n\n    r = width * phi / FOV;\n    r2 = height * phi / FOV2;\n\n    // Pixel in fisheye space\n    pfish.x = 0.5 * width + r * cos(theta);\n    pfish.y = 0.5 * height + r2 * sin(theta);\n    return pfish;\n}\nint main(int argc, char **argv)\n{\n    if(argc&lt; 3)\n        return 0;\n    Mat orignalImage = imread(argv[1]);\n    if(orignalImage.empty())\n    {\n        cout&lt;&lt;\"Empty image\\n\";\n        return 0;\n    }\n    Mat outImage(orignalImage.rows,orignalImage.cols,CV_8UC3);\n\n    namedWindow(\"result\",CV_WINDOW_NORMAL);\n\n    for(int i=0; i&lt;outImage.cols; i++)\n    {\n        for(int j=0; j&lt;outImage.rows; j++)\n        {\n\n            Point2f inP =  getInputPoint(i,j,orignalImage.cols,orignalImage.rows);\n            Point inP2((int)inP.x,(int)inP.y);\n\n            if(inP2.x &gt;= orignalImage.cols || inP2.y &gt;= orignalImage.rows)\n                continue;\n\n            if(inP2.x &lt; 0 || inP2.y &lt; 0)\n                continue;\n            Vec3b color = orignalImage.at&lt;Vec3b&gt;(inP2);\n            outImage.at&lt;Vec3b&gt;(Point(i,j)) = color;\n\n        }\n    }\n\n    imwrite(argv[2],outImage);\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9131758, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E894U3TbBzI/AAAAAAAAAAI/AAAAAAAAVfY/cSkOlOrE9YQ/photo.jpg?sz=128", "display_name": "Elinor Medezinski", "link": "https://stackoverflow.com/users/9131758/elinor-medezinski"}, "is_accepted": false, "score": 0, "last_activity_date": 1583311374, "last_edit_date": 1583311374, "creation_date": 1583309700, "answer_id": 60521629, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image/60521629#60521629", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>You need to use <code>fisheye::estimateNewCameraMatrixForUndistortRectify</code> with <code>R=np.eye(3)</code> (unit matrix) and  <code>balance=1</code> to get all pixels:</p>\n\n<pre><code>new_K = cv2.fisheye.estimateNewCameraMatrixForUndistortRectify(K, D, dim, np.eye(3), balance=balance)\nmap1, map2 = cv2.fisheye.initUndistortRectifyMap(scaled_K, D, np.eye(3), new_K, dim, cv2.CV_32FC1)\n# and then remap:\nundistorted_img = cv2.remap(img, map1, map2, interpolation=cv2.INTER_LINEAR, borderMode=cv2.BORDER_CONSTANT)\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 5687295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3b966becd921e0da1838a73de28f55ab?s=128&d=identicon&r=PG&f=1", "display_name": "NoShadowKick", "link": "https://stackoverflow.com/users/5687295/noshadowkick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14982, "favorite_count": 3, "answer_count": 5, "score": 10, "last_activity_date": 1583311374, "creation_date": 1450280876, "last_edit_date": 1457649008, "question_id": 34316306, "link": "https://stackoverflow.com/questions/34316306/opencv-fisheye-calibration-cuts-too-much-of-the-resulting-image", "title": "OpenCV fisheye calibration cuts too much of the resulting image", "body": "<p>I am using OpenCV to calibrate images taken using cameras with fish-eye lenses.</p>\n\n<p>The functions I am using are:</p>\n\n<ul>\n<li><code>findChessboardCorners(...);</code> to find the corners of the calibration pattern.</li>\n<li><code>cornerSubPix(...);</code> to refine the found corners.</li>\n<li><code>fisheye::calibrate(...);</code> to calibrate the camera matrix and the distortion coefficients.</li>\n<li><code>fisheye::undistortImage(...);</code> to undistort the images using the camera info obtained from calibration.</li>\n</ul>\n\n<p>While the resulting image does appear to look good (straight lines and so on), my issue is that the function cut away too much of the image.</p>\n\n<p>This is a real problem, as I am using four cameras with 90 degrees between them, and when so much of the sides are cut off, there is no overlapping area between them which is needed as I am going to stitch the images.</p>\n\n<p>I looked into using <code>fisheye::estimateNewCameraMatrixForUndistortRectify(...)</code> but I could not get it to give good results, as I do not know what I should put in as the <code>R</code> input, as the rotation vector output of <code>fisheye::calibrate</code> is 3xN (where N is the number of calibration images) and <code>fisheye::estimateNewCameraMatrixForUndistortRectify</code> requires a 1x3 or 3x3.</p>\n\n<p>The images below show an image of my undistortion result, and an example of the kind of result I would ideally want.</p>\n\n<p>Undistortion:</p>\n\n<p><img src=\"https://i.stack.imgur.com/eY6jB.jpg\" alt=\"My undistortion\"></p>\n\n<p>Example of wanted result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/D0PHR.png\" alt=\"Example of wanted result\"></p>\n"}, {"tags": ["c++", "windows", "ftp", "wininet"], "comments": [{"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 1, "creation_date": 1450280812, "post_id": 34316272, "comment_id": 56374278, "body": "Do not attempt to modify string literals. Even if they were modifyable, <code>strcat(buf,&quot;.txt&quot;);</code> do cause out-of-bounds access."}, {"owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1450280882, "post_id": 34316272, "comment_id": 56374334, "body": "<code>cout &lt;&lt; GetLastError();&#47;&#47;this is never reached</code> why... because of the error?"}, {"owner": {"reputation": 526, "user_id": 2127267, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/SfORG.jpg?s=128&g=1", "display_name": "Skilo Skilo", "link": "https://stackoverflow.com/users/2127267/skilo-skilo"}, "reply_to_user": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "edited": false, "score": 0, "creation_date": 1450281025, "post_id": 34316272, "comment_id": 56374453, "body": "@MikeCAT yes the program crashed before it can print GetLastError(); to the console."}], "answers": [{"tags": [], "owner": {"reputation": 56828, "user_id": 4062354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xcV4d.png?s=128&g=1", "display_name": "MikeCAT", "link": "https://stackoverflow.com/users/4062354/mikecat"}, "is_accepted": true, "score": 0, "last_activity_date": 1450281628, "creation_date": 1450281628, "answer_id": 34316594, "question_id": 34316272, "link": "https://stackoverflow.com/questions/34316272/encountering-seg-fault-in-wininet-ftp-program/34316594#34316594", "title": "Encountering seg fault in wininet ftp program", "body": "<p>You must not modify string literals. Copy the string to a new buffer to edit the contents.</p>\n\n<p>Also, you should use <code>hogeA()</code> APIs to have the system use ANSI charset explicitly.</p>\n\n<p>Try this:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;wininet.h&gt;\n#pragma comment(lib, \"wininet\")\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string.h&gt;\n\nusing std::cout;\n\nint send(const char * ftp, const char * user, const char * pass, const char * pathondisk, const char * nameonftp)\n{\n\n    HINTERNET hInternet;\n    HINTERNET hFtpSession;\n    hInternet = InternetOpen(NULL, INTERNET_OPEN_TYPE_DIRECT, NULL, NULL, 0);\n    if(hInternet==NULL)\n    {\n        cout &lt;&lt; GetLastError();\n        //system(\"PAUSE\");\n        return 1;\n    }\n    hFtpSession = InternetConnectA(hInternet,\n        ftp, INTERNET_DEFAULT_FTP_PORT,\n        user, pass, INTERNET_SERVICE_FTP,\n        INTERNET_FLAG_PASSIVE, 0);\n    if(hFtpSession==NULL)\n    {\n        cout &lt;&lt; GetLastError();\n        //system(\"PAUSE\");\n        return 1;\n    }\n    Sleep(1000);\n    char * buf=new char[strlen(nameonftp) + 4 + 1];\n    strcpy(buf, nameonftp);\n    strcat(buf, \".txt\");\n    if (!FtpPutFileA(hFtpSession, pathondisk, buf, FTP_TRANSFER_TYPE_ASCII, 0)) {\n        cout &lt;&lt; GetLastError();\n        delete[] buf;\n        return 1;\n    }\n    delete[] buf;\n    Sleep(1000);\n    InternetCloseHandle(hFtpSession);\n    InternetCloseHandle(hInternet);\n    return 0;\n}\n\nint main() {\n    send(\"127.0.0.1\", \"testuser\", \"test\", \"file.pdf\", \"backup\");\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 526, "user_id": 2127267, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/SfORG.jpg?s=128&g=1", "display_name": "Skilo Skilo", "link": "https://stackoverflow.com/users/2127267/skilo-skilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 34316594, "answer_count": 1, "score": 0, "last_activity_date": 1450281628, "creation_date": 1450280758, "question_id": 34316272, "link": "https://stackoverflow.com/questions/34316272/encountering-seg-fault-in-wininet-ftp-program", "title": "Encountering seg fault in wininet ftp program", "body": "<p>So i found this c++ program and i thought i would use it to automate backing up my files to my desktop ftp server but it always runs into the same seg fault problem, After checking the ftp server logs i can see that is does actually connect to the ftp server and log in with the user name and password but it when it reaches the actual upload part it crashes.</p>\n\n<p>I ran it through the debugger in dev c++ and it says \"Access violation (Seg faut)\"</p>\n\n<p>Is this a bug in wininet? and if so is there some sort of workaround?</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;wininet.h&gt;\n#pragma comment(lib, \"wininet\")\n#include &lt;fstream&gt;\n#include &lt;string.h&gt;\n\nint send(const char * ftp, const char * user, const char * pass, const char * pathondisk, char * nameonftp)\n{\n\nHINTERNET hInternet;\nHINTERNET hFtpSession;\nhInternet = InternetOpen(NULL,INTERNET_OPEN_TYPE_DIRECT,NULL,NULL,0);\nif(hInternet==NULL)\n{\n    cout &lt;&lt; GetLastError();\n    //system(\"PAUSE\");\n    return 1;\n}\nhFtpSession = InternetConnect(hInternet,\n(LPTSTR)ftp, INTERNET_DEFAULT_FTP_PORT,\n(LPTSTR)user, (LPTSTR)pass, INTERNET_SERVICE_FTP,\nINTERNET_FLAG_PASSIVE, 0);\nif(hFtpSession==NULL)\n{\n    cout &lt;&lt; GetLastError();\n    //system(\"PAUSE\");\n    return 1;\n}\nSleep(1000);\nchar * buf=nameonftp;\nstrcat(buf,\".txt\");\nif (!FtpPutFile(hFtpSession, (LPTSTR)pathondisk, (LPTSTR)buf, FTP_TRANSFER_TYPE_ASCII, 0)) {\n    cout &lt;&lt; GetLastError();//this is never reached\n    return 1;\n}\nSleep(1000);\nInternetCloseHandle(hFtpSession);\nInternetCloseHandle(hInternet);\nreturn 0;\n}\n\nint main() {\nsend(\"127.0.0.1\",\"testuser\",\"test\",\"file.pdf\",\"backup\");\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "dynamic", "cmake", "rpath"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 1, "creation_date": 1450286034, "post_id": 34316264, "comment_id": 56377887, "body": "You mean <code>DLIB_LIBRARIES</code>, not a <code>dlib_LIBRARIES</code>, don&#39;t you?"}, {"owner": {"reputation": 178, "user_id": 3393723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7pLnG.jpg?s=128&g=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/3393723/edu"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1450286231, "post_id": 34316264, "comment_id": 56378025, "body": "No, the variable name is dlib_LIBRARIES with lowercase as stated in the dlibConfig.CMake file. I amb also running:      otool -l &lt;file&gt; | grep LC_RPATH -A2  to se the RPATHs as is recomended in <a href=\"https://cmake.org/Wiki/CMake_RPATH_handling\" rel=\"nofollow noreferrer\">cmake.org/Wiki/CMake_RPATH_handling</a>  But it seems the RPATH is not set since the output is nothing"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 2, "creation_date": 1450297088, "post_id": 34316264, "comment_id": 56384250, "body": "Wiki page you refer says about <a href=\"https://cmake.org/cmake/help/v3.0/prop_tgt/MACOSX_RPATH.html\" rel=\"nofollow noreferrer\">MACOSX_RPATH</a> property, which affects on using <code>@path</code> instead of directory portion of the library. Probably, this property is set for your target (it is set automatically since policy CMP0042 was introduced). As for lower/upper case selection for <code>dlyb</code> prefix of the variables&#39; names, it seems you need to use lowercase: <code>find_package(dlib)</code>, <code>dlib_INCLUDE_DIRS</code>, <code>dlib_LIBRARIES</code>."}, {"owner": {"reputation": 178, "user_id": 3393723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7pLnG.jpg?s=128&g=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/3393723/edu"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1450343269, "post_id": 34316264, "comment_id": 56402485, "body": "I changed the lower/upper case to dlib, dlib_INCLUDE_DIRS and dlib_LIBRARIES. I have also added the following lines of code to manage RPATH:       set( MACOSX_RPATH ON )      list( APPEND CMAKE_INSTALL_RPATH ${CMAKE_PREFIX_PATH}/lib )      set( CMAKE_BUILD_WITH_INSTALL_RPATH TRUE )  Now, when running this command:      otool -l executable | grep LC_RPATH -A2  It appears in RPATH the installation path of the dynamic libraries correctly:      path /Users/.../INSTALL/lib  But there must be something else because it isn&#39;t able to find the dylib yet"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1450354575, "post_id": 34316264, "comment_id": 56409908, "body": "Hmm, actual library&#39;s file is <code>libdlib.dylib</code>, but filename, embedded into executable, is <code>libdlib.18.18.0.dylib</code>, isn&#39;t it? I have seen several questions on SO releated to such difference."}], "owner": {"reputation": 178, "user_id": 3393723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7pLnG.jpg?s=128&g=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/3393723/edu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1450280737, "creation_date": 1450280737, "question_id": 34316264, "link": "https://stackoverflow.com/questions/34316264/incongruence-with-dynamic-library-directories-in-mac", "title": "Incongruence with dynamic library directories in MAC", "body": "<p>I am trying to include a dynamic library in my project and I am setting up the compilation using the following CMake script:</p>\n\n<pre><code>find_package( DLIB 18.18.0 REQUIRED )\ninclude_directories( ${DLIB_INCLUDE_DIRS} )\nadd_executable( executable executable.cxx )\ntarget_link_libraries( executable ${dlib_LIBRARIES} )\n</code></pre>\n\n<p>If I print the directories of the variable ${dlib_LIBRARIES} I get:</p>\n\n<pre><code>/Users/../INSTALL/lib/libdlib.dylib\n</code></pre>\n\n<p>Which is correct and compiles.\nThe problem comes when executing the executable and gives the following runtime error:</p>\n\n<pre><code>dyld: Library not loaded: libdlib.18.18.0.dylib\n  Referenced from: /Users/.../bin/executable\n  Reason: image not found\nTrace/BPT trap: 5\n</code></pre>\n\n<p>And this seem logic because if I run otool -L executable I get a relative path instead of an absolute path:</p>\n\n<pre><code>$otool -L executable\nlibdlib.18.18.0.dylib (compatibility version 0.0.0, current version 18.18.0)\n</code></pre>\n\n<p>Why the path shown by otool is not the same as the path added with target_link_libraries and how could I solve this issue with cmake?</p>\n"}, {"tags": ["c++", "multithreading", "c++11", "openmp", "hpc"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 4, "creation_date": 1450281866, "post_id": 34316191, "comment_id": 56375120, "body": "&quot;this should be faster than std::thread because then the thread managing is done by the operating system&quot; &lt;-- <code>std::thread</code> is also &quot;managed by the operating system&quot;. Ultimately, both OpenMP and <code>std::thread</code> are wrapping the OS native threading facilities. Nothing intrinsically makes either one of them more or less native."}, {"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1450337019, "post_id": 34316191, "comment_id": 56399066, "body": "What I meant is that the OS has more freedom how to execute the task with a call to <code>std::async</code> than with <code>std::thread</code>, if I remember correctly what Scott Meyers says in Effective Modern C++. Thus I thought that the OS looks itself whether thread creation, destruction, etc is needed or not and that in the end performance should be better. Isn&#39;t that correct?"}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1452890555, "post_id": 34316191, "comment_id": 57381301, "body": "Have you seen <a href=\"http://stackoverflow.com/questions/13837696/can-i-safely-use-openmp-with-c11\">this question</a>? On the topic of reconciliation, have you considered having your HPC code run in a separate process and then have the GUI talk to it via some sort of IPC? Also, OpenMP is not the only multiprocessing option - there are Intel TBB, Microsoft C++ AMP, etc."}, {"owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "reply_to_user": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1453135584, "post_id": 34316191, "comment_id": 57458985, "body": "@HristoIliev Thanks, your answer there is definitely helpful!"}], "owner": {"reputation": 3967, "user_id": 4184884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fVkAe.png?s=128&g=1", "display_name": "oLen", "link": "https://stackoverflow.com/users/4184884/olen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2209, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1450281650, "creation_date": 1450280546, "last_edit_date": 1495542763, "question_id": 34316191, "link": "https://stackoverflow.com/questions/34316191/openmp-and-c11-multithreading", "title": "OpenMP and C++11 multithreading", "body": "<p>I am currently working on a project that mixes high-performance computing (HPC) and interactivity.<br>\nAs such, the HPC part relies on OpenMP (mainly for-loops with lots of identical computations) but it is included in a larger framework with a GUI and multithreading, currently achieved with c++11 threads (<code>std::thread</code> and <code>std::async</code>). </p>\n\n<p>I have read <a href=\"http://openmp.org/forum/viewtopic.php?f=3&amp;t=1421\" rel=\"nofollow noreferrer\">Does OpenMP play nice with C++ promises and futures?</a> and <a href=\"https://stackoverflow.com/questions/13197510/why-do-c11-threads-become-unjoinable-when-using-nested-openmp-pragmas\">Why do c++11 threads become unjoinable when using nested OpenMP pragmas?</a> that it is no good idea to mix OpenMP and C++11 threads, but so far it has been working for me.<br>\nFor different reasons, I would like to improve on this, but I am not sure which strategy to adopt.</p>\n\n<p>At <a href=\"https://stackoverflow.com/questions/23258037/openmp-vs-c11-threads\">OpenMP vs C++11 threads</a>, I read that replacing OpenMP by <code>std::thread</code> has a considerable impact on performance due to creation and destruction of threads, but I couldn't find anything about replacing OpenMP acceleration by task-based parallelism with <code>std::async</code>. In my opinion, this should be faster than <code>std::thread</code> because then the thread managing is done by the operating system, but I am not convinced yet that this is applicable. I haven't tried it yet because it would involve loads of refactoring and I would have liked to hear other opinions first.</p>\n\n<p>Do you have any experience with reconciling HPC and interactivity? In your eyes, should <code>std::async</code> be comparably fast to OpenMP? </p>\n"}, {"tags": ["c++", "internet-explorer", "visual-c++", "service", "msdn"], "comments": [{"owner": {"reputation": 2667, "user_id": 1092498, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7e66561cda79b337b004dfc7f6ee79ae?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1092498/michael"}, "edited": false, "score": 0, "creation_date": 1450336240, "post_id": 34315922, "comment_id": 56398646, "body": "I think this might help you <a href=\"http://stackoverflow.com/questions/26913172/create-process-in-user-session-from-service\" title=\"create process in user session from service\">stackoverflow.com/questions/26913172/&hellip;</a>, if you create a user process from the service, this user process will allow to retrieve the URL, in future please write where it fails in case you say that it doesn&#39;t work."}], "owner": {"reputation": 594, "user_id": 1693118, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/497630cc45191af9190661f41378906e?s=128&d=identicon&r=PG&f=1", "display_name": "AK87", "link": "https://stackoverflow.com/users/1693118/ak87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450279778, "creation_date": 1450279778, "question_id": 34315922, "link": "https://stackoverflow.com/questions/34315922/get-url-of-current-internet-explorer-web-page-from-service", "title": "Get URL Of Current Internet Explorer Web Page from service", "body": "<p>I'm trying to extract the URLs Of Current Internet Explorer Web Pages from service.\nI tried using CLSID_ShellWindows with the following code:</p>\n\n<pre><code>CoCreateInstance(CLSID_ShellWindows, NULL, CLSCTX_ALL, IID_IShellWindows, (void **)&amp; pIShellWindows);\nlong count;\npIShellWindows-&gt;get_Count(&amp;count);\nfor (int i = 0; i &lt; count; i++)\n{\n    VARIANT vt;\n    VariantInit(&amp;vt);\n    vt.vt = VT_I4;\n    vt.lVal = i;\n    hr = pIShellWindows-&gt;Item(vt, &amp;pIDispatch);\n    if (SUCCEEDED(hr) &amp;&amp; (pIDispatch != NULL))\n    {\n        // \"Dispatch success\"         \n        IWebBrowser2 *tab = NULL;\n        hr = pIDispatch-&gt;QueryInterface(IID_IWebBrowser2, (void **)&amp;tab); \n        BSTR bstr;\n        tab-&gt;get_LocationURL(&amp;bstr);\n     }\n}\n</code></pre>\n\n<p>The code works from user app (Non-service). That's probably because that the service and the user apps runs in different sessions (LocalSystem).</p>\n\n<p>I tried to impersonate to the logged on user using ImpersonateLoggedOnUser but that didn't work.</p>\n\n<p>Any Ideas ?</p>\n"}, {"tags": ["python", "c++", "numpy", "swig", "stdint"], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 2321145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6447f6df923c9aaac74a3b47a1e81c?s=128&d=identicon&r=PG", "display_name": "hmaarrfk", "link": "https://stackoverflow.com/users/2321145/hmaarrfk"}, "edited": false, "score": 0, "creation_date": 1515719761, "post_id": 34316126, "comment_id": 83418391, "body": "Whoa +1.   I think the correct solution is to file a bug report, but I don&#39;t know if it will fall on deft ears.  I actually ended up using  ``` %apply (unsigned char *IN_ARRAY1, int DIM1) {(uint8_t * buff_ptr, int buff_size)} ```"}], "tags": [], "owner": {"reputation": 373, "user_id": 2745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d21117138f211c7a27edd53088d2a3?s=128&d=identicon&r=PG&f=1", "display_name": "jochen", "link": "https://stackoverflow.com/users/2745558/jochen"}, "is_accepted": true, "score": 1, "last_activity_date": 1450284254, "last_edit_date": 1450284254, "creation_date": 1450280340, "answer_id": 34316126, "question_id": 34315791, "link": "https://stackoverflow.com/questions/34315791/using-stdint-with-swig-and-numpy-i/34316126#34316126", "title": "using stdint with swig and numpy.i", "body": "<p>Haha, I found some \"solution\" just a few minutes after I gave up and posted this question.</p>\n\n<p>I edited the <code>numpy.i</code>to fit my cause:\nI substituted the old <code>C</code> types with <code>stdint.h</code> types in lines 3044 ff:</p>\n\n<pre><code>[..]\n/* Concrete instances of the %numpy_typemaps() macro: Each invocation\n * below applies all of the typemaps above to the specified data type.\n */\n%numpy_typemaps(int8_t       , NPY_BYTE     , int)\n%numpy_typemaps(uint8_t     , NPY_UBYTE    , int)\n%numpy_typemaps(int16_t             , NPY_SHORT    , int)\n%numpy_typemaps(uint16_t    , NPY_USHORT   , int)\n%numpy_typemaps(int32_t               , NPY_INT      , int)\n%numpy_typemaps(uint32_t      , NPY_UINT     , int)\n%numpy_typemaps(long              , NPY_LONG     , int)\n%numpy_typemaps(unsigned long     , NPY_ULONG    , int)\n%numpy_typemaps(int64_t         , NPY_LONGLONG , int)\n%numpy_typemaps(uint64_t, NPY_ULONGLONG, int)\n%numpy_typemaps(float             , NPY_FLOAT    , int)\n%numpy_typemaps(double            , NPY_DOUBLE   , int)\n[..]\n</code></pre>\n\n<p>I wonder if anyone has a better idea than editing the <code>numpy.i</code></p>\n\n<p>Cheers\nJochen</p>\n"}], "owner": {"reputation": 373, "user_id": 2745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66d21117138f211c7a27edd53088d2a3?s=128&d=identicon&r=PG&f=1", "display_name": "jochen", "link": "https://stackoverflow.com/users/2745558/jochen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 1, "accepted_answer_id": 34316126, "answer_count": 1, "score": 3, "last_activity_date": 1450284254, "creation_date": 1450279399, "last_edit_date": 1450280623, "question_id": 34315791, "link": "https://stackoverflow.com/questions/34315791/using-stdint-with-swig-and-numpy-i", "title": "using stdint with swig and numpy.i", "body": "<p>I'm developing a module for using <code>c inline</code> in Python code based on <code>swig</code>.\nFor that I would like to make <code>numpy</code> arrays accessible in <code>C</code>. Until now I used C types like <code>unsigned short</code> but I would like to use types like <code>uint16_t</code> from <code>stdint.h</code> to be save whatever compiler my module encounters.</p>\n\n<p>Unfortunately the <code>c++</code>-functions do not get wrapped correctly when using <code>stdint.h</code>types. The Error given is: <code>_setc() takes exactly 2 arguments (1 given)</code>. That means, the function is not wrapped to accept <code>numpy</code> arrays. The error does not occur, when I use e.g. <code>unsigned short</code>.</p>\n\n<p>Do you have any ideas, how I can make swig map <code>numpy</code> arrays into <code>stdint-types</code>?</p>\n\n<p><code>interface.i</code> NOT working:</p>\n\n<pre><code>/* interface.i */\nextern int __g();\n%}\n%include \"stdint.i\"\n%include \"numpy.i\"\n\n%init %{\nimport_array();\n%}\n%apply (uint16_t* INPLACE_ARRAY3, int DIM1) {(uint16_t* seq, int n1)};\nextern int __g();\n</code></pre>\n\n<p><code>c++</code> function NOT working:</p>\n\n<pre><code>#include \"Python.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\nextern uint16_t* c;\nextern int Dc;\nextern int Nc[4];\nvoid _setc(uint16_t *seq, int n1, int n2, int n3)\n{\n    c = seq;\n    Nc[0] = n1;\n    Nc[1] = n2;\n    Nc[2] = n3;\n}\n</code></pre>\n\n<p><code>interface.i</code> working: </p>\n\n<pre><code>/* interface.i */\nextern int __g();\n%}\n%include \"stdint.i\"\n%include \"numpy.i\"\n\n%init %{\nimport_array();\n%}\n%apply (unsigned short* INPLACE_ARRAY3, int DIM1) {(unsigned short* seq, int n1)};\nextern int __g();\n</code></pre>\n\n<p><code>c++</code> function working:</p>\n\n<pre><code>#include \"Python.h\"\n#include &lt;stdio.h&gt;\n#include &lt;stdint.h&gt;\nextern unsigned short* c;\nextern int Dc;\nextern int Nc[4];\nvoid _setc(unsigned short *seq, int n1, int n2, int n3)\n{\n    c = seq;\n    Nc[0] = n1;\n    Nc[1] = n2;\n    Nc[2] = n3;\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "g++", "windows-ce", "linker-errors"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 1, "creation_date": 1450279340, "post_id": 34315632, "comment_id": 56373157, "body": "Which error exactly?"}, {"owner": {"reputation": 1250, "user_id": 5190087, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/lMreJ.jpg?s=128&g=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/5190087/swapnil"}, "reply_to_user": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1450280515, "post_id": 34315632, "comment_id": 56374025, "body": "@Drop LNK2019 error, as error log is bigger and having lots of template argument, I cannot paste full error. But the route cause is definition for static function is not available still it compiles fine for Linux."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1450280613, "post_id": 34315632, "comment_id": 56374103, "body": "@swapnil Yes, we posses the telepathic powers of knowing, just knowing, what the error is saying, <b>exactly</b>, on your machine, without you pasting it."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1450280714, "post_id": 34315632, "comment_id": 56374192, "body": "@swapnil If you can&#39;t paste the exact error, manufacture <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that&#39;s functionally similar to your original code, but still reproduces the error, and paste that."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1450281156, "post_id": 34315632, "comment_id": 56374555, "body": "Can you paste one of the errors and the code fragment that the error message refers to?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1450281320, "post_id": 34315632, "comment_id": 56374698, "body": "Is there content for the 2nd <code>getData</code> function?  It looks like a static declaration, so the linker will not show any content (actually, the linker will be looking for the content, but won&#39;t find any and thus generate a warning or error message)."}], "owner": {"reputation": 1250, "user_id": 5190087, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/lMreJ.jpg?s=128&g=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/5190087/swapnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450278988, "creation_date": 1450278988, "question_id": 34315632, "link": "https://stackoverflow.com/questions/34315632/lnk2019-linking-error-on-windows-works-fine-on-linux", "title": "LNK2019 Linking error on Windows, works fine on Linux", "body": "<p>I am porting large project from Linux to WinCE. Currently facing problem of linking error LNK2019. \nAS I can see from the error it is because of the overloaded static function is not defined, only declaration. E.g:</p>\n\n<pre><code>template&lt;bool taValue&gt;\nstruct type\n{\n};\n\ntypedef type&lt;true&gt; MTrue;\ntypedef type&lt;false&gt; MFalse;\n\n    static int getData(int i, MTrue) { return 2; }\n    static int getData(int i, MFalse); \n</code></pre>\n\n<p>This is just a sample of code and not exact scenario.</p>\n\n<p>The compilation is working well for Linux but it is falling linking time for WinCE. If I comment out the overloaded undefined function in Linux, then I can see same set of linking error in Linux as well.</p>\n\n<p>I am not sure, why this is happening this case?\nIs there any compiler option which can avoid this linking error in case of Linux?\nNote: compiler gcc/g++ 4.2.2 and cmake version 3.2.2</p>\n"}, {"tags": ["c++", "visual-c++", "visual-studio-2015"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1450281425, "post_id": 34315628, "comment_id": 56374798, "body": "Possible duplicate:  <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined symbol and how to fix</a>"}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1450281717, "post_id": 34315628, "comment_id": 56375007, "body": "What do you have in the <code>Additional Include Directories</code> in the project&#39;s properties -&gt; C++ -&gt; General? This is for the &quot;Go To Definition&quot; issue. For the link error, in what module is this function supposed to be implemented? Is it a part of your project? If not - do you link to it?"}, {"owner": {"reputation": 510, "user_id": 858105, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e0d03b3e648b4d1614aa1ba27a106e71?s=128&d=identicon&r=PG", "display_name": "radi8", "link": "https://stackoverflow.com/users/858105/radi8"}, "edited": false, "score": 0, "creation_date": 1450282047, "post_id": 34315628, "comment_id": 56375283, "body": "The additional directories specified is blank. I am hoping that the link error is associated with this invalid reference. The correct file location and module is the x:\\rick\\poller\\poller.net\\ location. All modules are in my project (with one exception but that one does not reference this function). Also, thanks Mathew, I will review that possible duplicate link and see if it helps!"}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1450296133, "post_id": 34315628, "comment_id": 56383753, "body": "Are you using your old .sdf file? I would close the solution, delete this file ans re-open; your <code>Find Symbol</code> might get fixed."}, {"owner": {"reputation": 6920, "user_id": 4394169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aETL5.jpg?s=128&g=1", "display_name": "Vlad Feinstein", "link": "https://stackoverflow.com/users/4394169/vlad-feinstein"}, "edited": false, "score": 0, "creation_date": 1450296456, "post_id": 34315628, "comment_id": 56383918, "body": "Re: LINK error - your function openDbConn() is declared in dbUpdate.h, but where is it defined? dbUpdate.cpp, I assume? Is that file also included in your project?"}, {"owner": {"reputation": 510, "user_id": 858105, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e0d03b3e648b4d1614aa1ba27a106e71?s=128&d=identicon&r=PG", "display_name": "radi8", "link": "https://stackoverflow.com/users/858105/radi8"}, "edited": false, "score": 0, "creation_date": 1450359996, "post_id": 34315628, "comment_id": 56413546, "body": "Vlaf, yes the dbUpate is defined in the .cpp file.I will delete the .sdf file, I did n;t try this one yet, good call! Thank you so much."}], "owner": {"reputation": 510, "user_id": 858105, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e0d03b3e648b4d1614aa1ba27a106e71?s=128&d=identicon&r=PG", "display_name": "radi8", "link": "https://stackoverflow.com/users/858105/radi8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1450278971, "creation_date": 1450278971, "question_id": 34315628, "link": "https://stackoverflow.com/questions/34315628/ms-vs-2015-c-unresolved-external-invalid-symbol-reference", "title": "MS VS 2015 C++ - Unresolved External - Invalid Symbol reference", "body": "<p>First of all, I have not worked with C++ in quite awhile, but have a need to migrate an older program I wrote to the latest platform so that it works on newer hardware. </p>\n\n<p>First, the program is a windows application and works on VS 2005. I copied the files to a network share for this project and did the initial build and fixed all compile errors.</p>\n\n<p>During the LINK stage, I am getting the \"Unresolved External\" error message (LINK 2019 and LINK 2001) on a specific function.</p>\n\n<p>When I select the calling function and view the \"Go To Definition\", the Find Symbols panel opens with 2 entries for the function: the copy on the shared drive and the a pointer to the original file.</p>\n\n<p>I went into the project properties dialog and removed all inherited references to the original path, but the issue persists.</p>\n\n<p>I cannot find or determine where this reference to the old function (path to the original file) is coming from.</p>\n\n<p>Being a novice at this, I am stuck. I hope that I have supplied enough details to ask for help, but if you need additional details, please specify.</p>\n\n<p>Any help is greatly appreciated.<a href=\"https://i.stack.imgur.com/lFyYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFyYw.png\" alt=\"Find Symbol Results\"></a><a href=\"https://i.stack.imgur.com/1NN52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NN52.png\" alt=\"Function Hierarchy\"></a><a href=\"https://i.stack.imgur.com/r0dng.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r0dng.png\" alt=\"Linker Error messages\"></a><a href=\"https://i.stack.imgur.com/c86EE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c86EE.png\" alt=\"C++ Directory Properties\"></a></p>\n"}, {"tags": ["c++", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 39424, "user_id": 38971, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7f07010669c0baa7b4ca5198d96fd751?s=128&d=identicon&r=PG", "display_name": "cgp", "link": "https://stackoverflow.com/users/38971/cgp"}, "is_accepted": false, "score": 0, "last_activity_date": 1450363112, "creation_date": 1450363112, "answer_id": 34337200, "question_id": 34315542, "link": "https://stackoverflow.com/questions/34315542/compiling-nodejs-4-on-centos-5/34337200#34337200", "title": "Compiling NodeJS 4+ On CentOS 5", "body": "<p>Sigh, I made this a lot more complicated than need be.</p>\n\n<p><a href=\"https://nodejs.org/en/download/stable/\" rel=\"nofollow\">The binaries are freely available for download</a>, and I suppose I could have compiled on another machine and then just downloaded them from there but I was unconsciously concerned about linking problems (or even problems referencing the kernel?), but it seems to be working fine. I usually think of getting binaries from RPMs that require root. This does not appear to have needed to be the case.</p>\n"}], "owner": {"reputation": 39424, "user_id": 38971, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7f07010669c0baa7b4ca5198d96fd751?s=128&d=identicon&r=PG", "display_name": "cgp", "link": "https://stackoverflow.com/users/38971/cgp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450363112, "creation_date": 1450278707, "last_edit_date": 1495535240, "question_id": 34315542, "link": "https://stackoverflow.com/questions/34315542/compiling-nodejs-4-on-centos-5", "title": "Compiling NodeJS 4+ On CentOS 5", "body": "<p>I'm having an issue compiling NodeJS 4.2.3 (any version that requires c++ 4.8 and above) I've done the following:</p>\n\n<ul>\n<li>Compiled gcc4.8 (because gcc is 4.4 by default on CentOS 6</li>\n<li>Set the CXX option to point to the updated compiler</li>\n<li>Added the MPC, GMP and MPFR libraries via the LD_LIBRARY_PATH, </li>\n</ul>\n\n<p>But I'm still getting the following error:</p>\n\n<blockquote>\n  <p>gtest-test-part.cc:(.text.startup._GLOBAL__sub_I__ZN7testing14TestPartResult14ExtractSummaryEPKc+0xa):\n  undefined reference to <code>std::ios_base::Init::Init()'\n  gtest-test-part.cc:(.text.startup._GLOBAL__sub_I__ZN7testing14TestPartResult14ExtractSummaryEPKc+0x1a):\n  undefined reference to</code>std::ios_base::Init::~Init()' collect2: error:\n  ld returned 1 exit status</p>\n</blockquote>\n\n<p>So, I see the following <a href=\"https://stackoverflow.com/questions/18698059/gcc-undefined-reference-to-stdios-baseinitinit\">gcc undefined reference to `std::ios_base::Init::Init()&#39;</a>, but I'm not sure how to get that added, if it is at all possible, or if I'm supposed to add the library to the LD_LIBRARY_PATH? <a href=\"https://github.com/nodejs/node/issues/2773\" rel=\"nofollow noreferrer\">I also saw this, but I don't have root (legacy systems not part of our cloud) so I can't apply all the advice given.</a></p>\n\n<p>What is the correct way to get nodejs to compile with gcc4.8 compiled via source?</p>\n"}]