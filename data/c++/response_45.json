[{"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447891259, "post_id": 33792850, "comment_id": 55352531, "body": "How is <code>player_Graphics</code> declared?  What is its exact type.  You don&#39;t show it."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1447891779, "post_id": 33792850, "comment_id": 55352744, "body": "Why do you write <code>auto GameWorld::Setup_World() -&gt; void</code> when <code>void GameWorld::Setup_World()</code> is the desired form? Code, that looks more complicated doesn&#39;t execute faster. It doesn&#39;t make you smarter either."}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "edited": false, "score": 0, "creation_date": 1447891880, "post_id": 33792850, "comment_id": 55352786, "body": "Not answering your question, but passing <code>std::unique_ptr</code> by reference is kind of contradictory. I mean, <code>std::unique_ptr</code> is not to be shared, but by using references you are kind of sharing it."}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447891935, "post_id": 33792850, "comment_id": 55352801, "body": "It looks like you are calling <code>GameObject::Attach_Component</code> with the wrong type.  If you are going to use smart pointers, they should be of the same type."}, {"owner": {"reputation": 13, "user_id": 5578904, "user_type": "registered", "profile_image": "https://graph.facebook.com/1051460461551758/picture?type=large", "display_name": "Verdoner", "link": "https://stackoverflow.com/users/5578904/verdoner"}, "edited": false, "score": 0, "creation_date": 1447892042, "post_id": 33792850, "comment_id": 55352827, "body": "#Mateusz Grzejek - Not trying to make the code smarter, just playing around with the features of c++ 11/14, I know it won&#39;t make the code faster or anything."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5578904, "user_type": "registered", "profile_image": "https://graph.facebook.com/1051460461551758/picture?type=large", "display_name": "Verdoner", "link": "https://stackoverflow.com/users/5578904/verdoner"}, "edited": false, "score": 0, "creation_date": 1447892266, "post_id": 33793050, "comment_id": 55352911, "body": "PlayerGraphics is a derived class of PrimaryComponent"}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "edited": false, "score": 0, "creation_date": 1447893226, "post_id": 33793050, "comment_id": 55353229, "body": "Smart pointers, <code>std::unique_ptr</code> and <code>std::shared_ptr</code>, both allow cast to smart pointers of base classes, if used properly. As I say in my answer, the problem is not with the cast but with the reference, and that would happen also with raw pointers (imagine <code>Attach_Component(PrimaryComponent *&amp;component)</code>)."}], "tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 1, "last_activity_date": 1447892367, "last_edit_date": 1447892367, "creation_date": 1447892150, "answer_id": 33793050, "question_id": 33792850, "link": "https://stackoverflow.com/questions/33792850/c-error-a-reference-of-type-cannot-be-initialized-with-a-value-of-type/33793050#33793050", "title": "C++ error: A reference of type cannot be initialized with a value of type", "body": "<p>It looks like you are calling <code>GameObject::Attach_Component</code> with the wrong type.  It wants a <code>std::unique_ptr&lt;PrimaryComponent&gt;</code> but you are passing it a <code>std::unique_ptr&lt;PlayerGraphics&gt;</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It doesn't matter if <code>PlayerGraphics</code> derives from <code>PrimaryComponent</code>.  That won't work with smart pointers, only raw pointers.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5578904, "user_type": "registered", "profile_image": "https://graph.facebook.com/1051460461551758/picture?type=large", "display_name": "Verdoner", "link": "https://stackoverflow.com/users/5578904/verdoner"}, "edited": false, "score": 0, "creation_date": 1447893384, "post_id": 33793087, "comment_id": 55353286, "body": "Thank you for the respond. So when you make entity/component classes where the reference to the object is important, is raw pointers the way to go?"}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "reply_to_user": {"reputation": 13, "user_id": 5578904, "user_type": "registered", "profile_image": "https://graph.facebook.com/1051460461551758/picture?type=large", "display_name": "Verdoner", "link": "https://stackoverflow.com/users/5578904/verdoner"}, "edited": false, "score": 0, "creation_date": 1447893763, "post_id": 33793087, "comment_id": 55353414, "body": "@Verdoner: That&#39;s a broad question to answer in a comment! My advice is to decide on the ownership of the objects (ownership is more or less the responsibility to delete). If the ownership if unique then <code>std::unique_ptr</code> is fine (other references to the same object may be raw pointers). If the ownership is shared (the last one to drop the pointer deletes the object) then use <code>std::shared_ptr</code>. And if you decide a crazy scheme where ownership changes depending on some flags... well, then raw pointers, delete manually, and good luck with that ;-)"}], "tags": [], "owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "is_accepted": true, "score": 1, "last_activity_date": 1447893102, "last_edit_date": 1447893102, "creation_date": 1447892341, "answer_id": 33793087, "question_id": 33792850, "link": "https://stackoverflow.com/questions/33792850/c-error-a-reference-of-type-cannot-be-initialized-with-a-value-of-type/33793087#33793087", "title": "C++ error: A reference of type cannot be initialized with a value of type", "body": "<p>The problem is in the reference:</p>\n\n<p>The line:</p>\n\n<pre><code>void GameObject::Attach_Component(std::unique_ptr&lt;PrimaryComponent&gt; &amp;component)\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>void GameObject::Attach_Component(std::unique_ptr&lt;PrimaryComponent&gt; component)\n</code></pre>\n\n<p>And then, when you call it, instead of:</p>\n\n<pre><code>player-&gt;Attach_Component(player_Graphics);\n</code></pre>\n\n<p>you should do:</p>\n\n<pre><code>player-&gt;Attach_Component(std::move(player_Graphics));\n</code></pre>\n\n<p>That is, the function should take ownership of the pointer. Note that the original <code>player_Graphics</code> will be set to null (you moved it in, if you want to keep a reference ot that object then you are using the wrong tool).</p>\n\n<p>You may be wondering why in your code passing a <code>std::unique_ptr&lt;PrimaryComponent&gt;</code> directly works, but passing a <code>std::unique_ptr&lt;PlayerGraphics&gt;</code> does not. Well the explanation is that you are using a non-const reference, and non-const references can only bind to an object of the exact same time. However if you pass the argument by value, then the smart pointer will be moved and it all will just work.</p>\n\n<p>This all makes sense, <code>std::unique_ptr</code> is meant to be non-copyable, non-shareable, moveable smart pointers. You are expected to move the pointer around, not to pass it by reference.</p>\n\n<p>TL;DR: If <code>B</code> is a subclass of <code>A</code> you can move a <code>std::unique_ptr&lt;B&gt;</code> into a <code>std::unique_ptr&lt;A&gt;</code> but you cannot bind a <code>std::unique_ptr&lt;B&gt;</code> to a reference of type <code>std::unique_ptr&lt;a&gt;&amp;</code>.</p>\n\n<p>PS. The constructor to move&amp;cast is declared as follows:</p>\n\n<pre><code>template &lt;class T, class D = default_delete&lt;T&gt;&gt;\nclass unique_ptr\n{\n    template &lt;class U, class E&gt;\n    unique_ptr (unique_ptr&lt;U,E&gt;&amp;&amp; x) noexcept;\n};\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5578904, "user_type": "registered", "profile_image": "https://graph.facebook.com/1051460461551758/picture?type=large", "display_name": "Verdoner", "link": "https://stackoverflow.com/users/5578904/verdoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6897, "favorite_count": 0, "accepted_answer_id": 33793087, "answer_count": 2, "score": 1, "last_activity_date": 1447893102, "creation_date": 1447891109, "last_edit_date": 1447892199, "question_id": 33792850, "link": "https://stackoverflow.com/questions/33792850/c-error-a-reference-of-type-cannot-be-initialized-with-a-value-of-type", "title": "C++ error: A reference of type cannot be initialized with a value of type", "body": "<p>Hi I got a problem I can't find a solution to. I'm creating a entity - component system with smart pointers.</p>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p>a reference of type <code>std::unique_ptr&lt;PrimaryComponent, std::default_delete&lt;PrimaryComponent&gt;&gt; &amp;</code> (not const-qualified) cannot be initialized with a value of type <code>std::unique_ptr&lt;PlayerGraphics, std::default_delete&lt;PlayerGraphics&gt;&gt;</code></p>\n</blockquote>\n\n<p><strong>The gameworld class:</strong></p>\n\n<pre><code>auto GameWorld::Setup_World() -&gt; void\n{\n    player-&gt;Attach_Component(player_Graphics);\n    Add_GameObject(player);\n}\n</code></pre>\n\n<p><strong>The gameobject class attach component function:</strong></p>\n\n<pre><code>void GameObject::Attach_Component(std::unique_ptr&lt;PrimaryComponent&gt; &amp;component)\n{\n    if (component != nullptr)\n    {\n        component_container.push_back(component);\n    }\n}\n</code></pre>\n\n<p><strong>The declaration of player_Graphics and player:</strong></p>\n\n<pre><code>class GameWorld\n{\nprivate:\n    std::vector&lt;std::unique_ptr&lt;GameObject&gt;&gt; gameObject_List;\n    std::unique_ptr&lt;GameObject&gt; player;\n    std::unique_ptr&lt;PlayerGraphics&gt; player_Graphics\n</code></pre>\n\n<p><code>player</code> is a <code>GameObject</code>, <code>player_Graphics</code> is a Graphics Component which derives from <code>PrimaryComponent</code>.</p>\n\n<p><strong>The primary component class:</strong></p>\n\n<pre><code>class PrimaryComponent\n{\nprotected:\npublic:\n    PrimaryComponent();\n    virtual ~PrimaryComponent();\n    virtual void Render(GameObject &amp;gameObject) = 0;\n    virtual void Update(GameObject &amp;gameObject, GameWorld &amp;gameWorld, float gameTime) = 0;\n};\n</code></pre>\n\n<p><strong>The PlayerGraphics class:</strong></p>\n\n<pre><code>class PlayerGraphics :\n    public GraphicsComponent\n{\npublic:\n    PlayerGraphics();\n    virtual ~PlayerGraphics();\n    virtual void Render(GameObject &amp;gameObject);\n    virtual void Update(GameObject &amp;gameObject, GameWorld &amp;gameWorld, float gameTime);\n};\n</code></pre>\n\n<p>PlayerGraphics derives from GraphicsComponent which derives from PrimaryComponent.</p>\n"}, {"tags": ["c++", "arrays", "io"], "answers": [{"tags": [], "owner": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "is_accepted": true, "score": 2, "last_activity_date": 1447892723, "last_edit_date": 1447892723, "creation_date": 1447891185, "answer_id": 33792870, "question_id": 33792842, "link": "https://stackoverflow.com/questions/33792842/filling-an-array-with-data-from-a-txt-file-but-a-number-that-isnt-in-the-text/33792870#33792870", "title": "Filling an array with data from a .txt file, but a number that isn&#39;t in the text file is being added to the array", "body": "<p>You are looping too far in the final loop</p>\n\n<pre><code> for(int x = 0; x &lt;= amount; x++ )\n     cout &lt;&lt; list[x] &lt;&lt; endl;\n</code></pre>\n\n<p>reads one past the last element you write to. There are only <code>amount</code> items you have added. Change to</p>\n\n<pre><code> for(int x = 0; x &lt; amount; x++ )\n</code></pre>\n\n<p>to ensure you only print the values at the indices that you have actually written values to. It is quite clear from your output that your loop prints 11 values when actually you only insert 10 values.</p>\n"}], "owner": {"reputation": 37, "user_id": 3777650, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c486c148603bc3b327c932fb0c4c0943?s=128&d=identicon&r=PG&f=1", "display_name": "i32505", "link": "https://stackoverflow.com/users/3777650/i32505"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 33792870, "answer_count": 1, "score": 0, "last_activity_date": 1447892723, "creation_date": 1447891042, "question_id": 33792842, "link": "https://stackoverflow.com/questions/33792842/filling-an-array-with-data-from-a-txt-file-but-a-number-that-isnt-in-the-text", "title": "Filling an array with data from a .txt file, but a number that isn&#39;t in the text file is being added to the array", "body": "<p>I'm trying to fill an array with numbers from a text file. Everything is going fine except a number that isn't in the file is being added to the array. No matter what input file I use, the for-loop that I'm using to show what numbers are in the array returns <code>2.122e-314</code> or another extremely small number (depending on the input file) as the last element of the array. Is there an error in my <code>ifstream</code>, the <code>while(inFile &gt;&gt; list[i])</code>, or something else?</p>\n\n<pre><code> const int MAXSIZE = 20;     \n\n void get_data(ifstream &amp;inFile, int &amp;amount, double list[]){\n    char filename[256];\n    cin &gt;&gt; filename;\n    inFile.open(filename);\n    if(inFile.fail()){\n        cout &lt;&lt; \"The file failed to open.\\n\";\n        exit(1);\n    }\n    inFile &gt;&gt; amount; // gets the number of sales reports in the file\n    cout &lt;&lt; amount &lt;&lt; \" sales reports in the file.\" &lt;&lt; endl;\n    if(amount &gt; MAXSIZE){\n        cout &lt;&lt; \"There are too many different stores in the file.\\n\"\n             &lt;&lt; \"Must be less than or equal to 20.\\n\";\n    }\n    else{\n        double a;\n        int i=0;\n        while(inFile &gt;&gt; a){\n            list[i] = a;\n            i++;\n        }    \n        for(int x = 0; x &lt;= amount; x++ ){\n            cout &lt;&lt; list[x] &lt;&lt; endl;\n        }\n    }\n    inFile.close();\n}\n</code></pre>\n\n<p>This is the data in one of my test files:</p>\n\n<pre><code>10\n62458  81598   98745  53460  35678\n89920  78960  124569  43550  45679 \n</code></pre>\n\n<p>This is an example of the output I get from the for-loop that outputs the elements of the array:</p>\n\n<pre><code>62458\n81598\n98745\n53460\n35678\n89920\n78960\n124569\n43550\n45679\n2.122e-314\n</code></pre>\n"}, {"tags": ["c++", "arrays", "function", "multidimensional-array", "pass-by-reference"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1447891865, "post_id": 33792782, "comment_id": 55352784, "body": "If the issue is passing multidimension arrays, why did you need to write a full blown program to learn how to do this?  Just create a simple dummy function, and attempt to call it.  If you can&#39;t figure it out with a simple function, then ask.  Just posting your entire project code doesn&#39;t help..."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1447892412, "post_id": 33792782, "comment_id": 55352966, "body": "Example: <a href=\"http://ideone.com/qkMUDr\" rel=\"nofollow noreferrer\">ideone.com/qkMUDr</a>  That is what you start with, or at least have a simple project with a working example.  Then you take the working example and incorporate it into the larger program.  Now, do you see the difference between what works (the code at the link), and what you&#39;re doing?  Then you can take the simple example and change it to attempt to do what you&#39;re trying to do.  You keep working with the simple example until you get a clean compile.  <i>Then</i> you make those changes to the larger program -- that is how any developer approaches issues like this.  Start simple, work up"}, {"owner": {"reputation": 1, "user_id": 5527368, "user_type": "registered", "profile_image": "https://graph.facebook.com/921779024544238/picture?type=large", "display_name": "Abel Hernandez", "link": "https://stackoverflow.com/users/5527368/abel-hernandez"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1447922683, "post_id": 33792782, "comment_id": 55363807, "body": "thank you i used this technique to finish my project but it has an error building and running the program now. It says the name of the file has stopped working windows is looking for a solution. any ideas on what i should look for?"}], "owner": {"reputation": 1, "user_id": 5527368, "user_type": "registered", "profile_image": "https://graph.facebook.com/921779024544238/picture?type=large", "display_name": "Abel Hernandez", "link": "https://stackoverflow.com/users/5527368/abel-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447890775, "creation_date": 1447890775, "question_id": 33792782, "link": "https://stackoverflow.com/questions/33792782/passing-multidimensional-arrays-to-functions", "title": "passing multidimensional arrays to functions", "body": "<p><a href=\"http://i.stack.imgur.com/6T0xo.jpg\" rel=\"nofollow\">the 7 functions i need to make</a></p>\n\n<p>this file is using arrays to retrieve data from an input file and display the data onto an output file. I'm having trouble with the void input data function. The call function inputdata(inputFile,  nonNumerical, numeric1); is getting an error saying error: cannot convert 'int (<em>)[2]' to 'double (</em>)[2]' for argument '3' to 'void inputdata(std::ifstream&amp;, std::string(<em>)[9], double(</em>)[2])'</p>\n\n<pre><code>#include &lt;fstream&gt;\n  #include &lt;string&gt;\n #include &lt;iomanip&gt;\n #include &lt;iostream&gt;\n #include &lt;cmath&gt;\n using namespace std;\n\n\n const int courseSize = 3;\n const int examSize = 6;\n const int studsize =3;\n const int strSize =9;\n const int numSize = 2;\n void inputdata(ifstream &amp;, string  [][strSize],double [][numSize]);\n int main()\n {\n\n\nint n=0, x, y;\nint strLength =0;\ndouble scoreTotal =0;\nchar lettergrade;\n\nstring header, name, address, phone, social, course, studentID;\nconst int letterGrade_A = 90;\nconst int letterGrade_B = 80;\nconst int letterGrade_C = 70;\nconst int letterGrade_D = 60;\n\nint age, yearsAtTXST, numstudents;\ndouble testscore;\ndouble numGrade = 0;\nconst int minStrLength = 1;\nconst int maxStrLength = 100;\nconst int minint = 1;\nconst int maxint = 100;\nconst int minCourse = 1;\nconst int maxCourse = 3;\nconst int minTest = 1;\nconst int maxTest = 5;\nconst double test1 = 0.10;\nconst double test2 = 0.15;\nconst double test3 =0.15;\nconst double test4 = 0.20;\nconst double final_test = 0.40;\nconst double maxGrade = 100.0, minGrade = 1.0;\n\n//    initialize arrays\nstring nonNumerical[studsize][strSize];\nint numeric1[studsize][numSize];\ndouble numeric2[studsize][courseSize][examSize];\nchar lettergrades[studsize][courseSize];\n\ncout &lt;&lt; fixed &lt;&lt; showpoint &lt;&lt; setprecision(2);\n\n// opening files\nifstream inputFile;\ninputFile.open(\"Project5_A04314548_Input.txt\");\nofstream fout;\nfout.open  (\"Project5_A04314548_Output.txt\");\n\nif( !( inputFile &amp;&amp; fout))\n{\n    cout &lt;&lt; \"Error opening file.\\n\";\n }\n\n\n  cout &lt;&lt; \" Enter a number of students: \";\n cin &gt;&gt; numstudents;\n\n  while( !(numstudents ==3))\n {\n    cout &lt;&lt; \" error number of students must be 3. Enter again: \";\n    cin &gt;&gt; numstudents;\n }\n\n inputdata(inputFile,  nonNumerical, numeric1);\n\n // take in string data from input file\n for(int x =0; x&lt; studsize; x++)\n {\n    for(int y=0; y &lt; strSize; y++)\n    {\n       if(y &gt;= strSize)\n       break;\n\n       getline(inputFile, nonNumerical[x][y]);\n       strLength = nonNumerical[x][y].length();\n       if(strLength &lt; minStrLength || strLength &gt; maxStrLength)\n        {\n        fout &lt;&lt; \" The given string for nonNumerical [\" &lt;&lt; x &lt;&lt; \"][\" &lt;&lt; y &lt;&lt;  \n\"] is not within the proper range of 1-100 characters.\" &lt;&lt; endl;\n        fout &lt;&lt; \" Please fix the issue and rerun the program for a correct    \n output.\" &lt;&lt; endl &lt;&lt; endl;\n        continue;\n        }\n    }\n  }\n\n  //above put into input data function\n\n  // take in data from input file\n  for(int x=0; x&lt;studsize;x++)\n  {\n     for(int y=0; y &lt; numSize; y++)\n     {\n         if(y&gt;=numSize)\n            break;\n\n        inputFile &gt;&gt; numeric1[x][y];\n        if( numeric1[x][y] &lt; minint || numeric1[x][y] &gt; maxint)\n        {\n        fout &lt;&lt; \"The given integer for numerical1[\" &lt;&lt; x &lt;&lt; \"][\" &lt;&lt; y &lt;&lt;    \n  \"]is not within the proper range of 1-100.\" &lt;&lt; endl;\n        fout &lt;&lt; \" please fix the problem and rerun the program for a correct     \n output.\" &lt;&lt; endl &lt;&lt; endl;\n        break;\n        }\n\n     }\n    }\n\n   // above put into data function\n\n    // take in double data from input file\n  for( int x1=0; x1&lt;studsize; x1++)\n  {\n    for(int x2=0; x2 &lt; courseSize; x2++)\n    {\n        for(int x3=0; x3&lt;(examSize-1);x3++)\n        {\n            if(x3 &gt;=(examSize-1))\n                break;\n            inputFile &gt;&gt; numeric2[x1][x2][x3];\n            if( numeric2[x1][x2][x3] &lt; minGrade || numeric2[x1][x2][x3] &gt;   \n  maxGrade)\n            {\n                cout &lt;&lt; \"The given value fro numeric2[\" &lt;&lt; x1 &lt;&lt; \"][\" &lt;&lt; x2 \n  &lt;&lt; \"][\" &lt;&lt; x3 &lt;&lt; \"] is not within the proper range of 1-100\" &lt;&lt; endl\n                &lt;&lt; \"Please fix the issue and rerun the program for a correct   \n  output.\" &lt;&lt; endl;\n                break;\n            }\n\n            else if( x3 == 0)\n                scoreTotal += (numeric2[x1][x2][x3]* test1);\n            else if( x3== 1)\n                scoreTotal += (numeric2[x1][x2][x3]* test2);\n            else if( x3 == 2)\n                scoreTotal += (numeric2[x1][x2][x3]* test3);\n            else if( x3 == 3)\n                scoreTotal += (numeric2[x1][x2][x3]* test4);\n            else\n                scoreTotal += (numeric2[x1][x2][x3]* final_test);\n            }\n\n            numeric2[x1][x2][5] = scoreTotal; // final numeric grade\n            scoreTotal = 0;\n\n            if(x2 &gt;=courseSize)\n                break;\n            if((numeric2[x1][x2][5] &gt; maxGrade) || (numeric2[x1][x2][5] &lt; \n  minGrade) )\n            {\n                cout &lt;&lt; \"Error in calculating grade. Please fix the issue     \n   then rerun the program. ignore broken program!\";\n                cout &lt;&lt; endl &lt;&lt; endl;\n                continue;\n\n            }\n\n            else if(numeric2[x1][x2][5] &gt;= letterGrade_A)\n                lettergrades[x1][x2] = 'A';\n            else if(numeric2[x1][x2][5] &gt;= letterGrade_B)\n                lettergrades[x1][x2] = 'B';\n            else if(numeric2[x1][x2][5] &gt;= letterGrade_C)\n                lettergrades[x1][x2] = 'C';\n            else if(numeric2[x1][x2][5] &gt;= letterGrade_D)\n                lettergrades[x1][x2] = 'D';\n            else\n                lettergrades[x1][x2] = 'F';\n\n    }\n   }\n\n    for(int a1=0; a1&lt; studsize; a1++)\n    {   fout &lt;&lt; nonNumerical[a1][0]&lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Name of Student:\\t\";\n        fout &lt;&lt; nonNumerical[a1][1] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Student ID:\\t\";\n        fout &lt;&lt; nonNumerical[a1][2]&lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Address:\\t\" ;\n        fout &lt;&lt; nonNumerical[a1][3] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Telephone Number:\\t\";\n        fout &lt;&lt;  nonNumerical[a1][4] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Student Soc. Security:\\t\";\n        fout &lt;&lt; nonNumerical[a1][5] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Age:\\t\";\n        fout &lt;&lt; numeric1[a1][0] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Number of years at Texas State:\\t\";\n        fout &lt;&lt; numeric1 [a1][1] &lt;&lt; endl &lt;&lt; endl;\n\n\n\n\n    for(int b1=0; b1 &lt;courseSize; b1++)\n    {\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Course number:\\t\";\n            fout &lt;&lt; nonNumerical[a1][(b1+6)] &lt;&lt; endl;\n\n        for(int c1= 0; c1 &lt;(examSize-1); c1++)\n        {\n        fout &lt;&lt; right &lt;&lt; setw(32) &lt;&lt; \"Exam #\" &lt;&lt; (a1 +1) &lt;&lt; \":\\t\";\n            fout &lt;&lt; numeric2[a1][b1][c1] &lt;&lt; endl;\n        }\n\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Numerical grade:\\t\";\n        fout &lt;&lt; numeric2[a1][b1][5] &lt;&lt; endl;\n        fout &lt;&lt; right &lt;&lt; setw(35) &lt;&lt; \"Letter grade:\\t\";\n        fout &lt;&lt; lettergrades[a1][b1] &lt;&lt; endl;\n\n        if( numeric2[a1][b1][5] &lt; 70)\n        {\n        fout &lt;&lt; right &lt;&lt; setw(14) &lt;&lt; \" Warning Note: Your grade is too low \n and needs improvements!\" &lt;&lt; endl &lt;&lt; endl;\n        }\n        else if ( numeric2[a1][b1][5] &gt;= 95)\n        {\n        fout &lt;&lt; right &lt;&lt; setw(14) &lt;&lt; \" Appreciation Note: Congratulations,      \n Your performance is Excellent!\" &lt;&lt; endl &lt;&lt; endl;\n        }\n        else\n        fout &lt;&lt; endl;\n\n\n\n    }\n    fout &lt;&lt; endl;\n}\n\n\n inputFile.close();\n fout.close();\n\nreturn 0;\n}\n\n\n\n\n void inputdata(ifstream &amp; inputFile, string   array1[][strSize],double    \n array2[]    \n[numSize])\n{\n  for(int x =0; x&lt; studsize; x++)\n  {\n    for(int y=0; y &lt; strSize; y++)\n    {\n       if(y &gt;= strSize)\n       break;\n\n       getline(inputFile,  array1[x][y]);\n    }\n  }\n\n\n for(int a1=0; a1&lt;studsize;a1++)\n {\n     for(int a2=0; a2 &lt; numSize; a2++)\n     {\n         if(a2&gt;=numSize)\n            break;\n\n        inputFile &gt;&gt; array2[a1][a2];\n    }\n }\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "macos", "exception-handling", "lldb"], "answers": [{"tags": [], "owner": {"reputation": 20083, "user_id": 2465073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f7ba796598ce99fe9d17b66c119b00?s=128&d=identicon&r=PG", "display_name": "Jim Ingham", "link": "https://stackoverflow.com/users/2465073/jim-ingham"}, "is_accepted": false, "score": 1, "last_activity_date": 1447973718, "creation_date": 1447973718, "answer_id": 33815895, "question_id": 33792627, "link": "https://stackoverflow.com/questions/33792627/lldb-breaking-before-c-exception-thrown/33815895#33815895", "title": "lldb - breaking before C++ exception thrown", "body": "<p>I'm not entirely sure what you are asking. </p>\n\n<p>Exceptions throws in C++ do two things, create the exception object, and then directly call some runtime routine (__cxa_throw on most Unixen) to implement the unwinding.  The latter is the point where the exception breakpoint stops.  There isn't any more preliminary than this that you could hook onto.</p>\n\n<p>You could try breaking when the exception object is allocated.  On OS X &amp; Linux this is __cxa_allocate_exception, but I don't know if that will always get called or if there are alternate ways to make the exception...  I don't see how you would gain much from that, however, it's just a couple of instructions later that you'll see the call to the throw method.</p>\n\n<p>But maybe if you describe the problem you are actually trying to solve, we can answer more helpfully...</p>\n"}], "owner": {"reputation": 181, "user_id": 1139694, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1520205b88021a50c3ae13e769d4ddd4?s=128&d=identicon&r=PG", "display_name": "daybreak", "link": "https://stackoverflow.com/users/1139694/daybreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447973718, "creation_date": 1447889920, "question_id": 33792627, "link": "https://stackoverflow.com/questions/33792627/lldb-breaking-before-c-exception-thrown", "title": "lldb - breaking before C++ exception thrown", "body": "<p>In lldb I'd like to break before C++ throws the exception, on when the actual signal is generated. I'd like to do this for any type of exception. </p>\n\n<p>The following command will break on the C++ throw catcher\n    break set -E c++</p>\n\n<p>I'd like to break on the cause of the exception and ignore the C++ throw/catch as if the application was crashing. I'd also like to do this for applications without source.</p>\n\n<p>Is there any lldb voodoo I can use here?</p>\n"}, {"tags": ["java", "c++", "audio", "physics", "microphone"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 2, "creation_date": 1447890390, "post_id": 33792615, "comment_id": 55352231, "body": "Not with PCs and in software. The latency is too high and your inverse waves will be too late to cancel out anything. Noise cancelling headphones that use this exist but they do that afaik in hardware because it needs to be super fast."}, {"owner": {"reputation": 3443, "user_id": 718526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ec14840f3863d3916968a023f19028?s=128&d=identicon&r=PG", "display_name": "ajshort", "link": "https://stackoverflow.com/users/718526/ajshort"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1447890463, "post_id": 33792615, "comment_id": 55352252, "body": "As @zapl has said, latency is generally a key issue. You can do it in &quot;software&quot; though using something like an FPGA."}, {"owner": {"reputation": 668, "user_id": 4752740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dcd8baab8bc3b85eedef201584812bb9?s=128&d=identicon&r=PG", "display_name": "Jean Valjean", "link": "https://stackoverflow.com/users/4752740/jean-valjean"}, "edited": false, "score": 0, "creation_date": 1447890488, "post_id": 33792615, "comment_id": 55352263, "body": "yeah i thought that would be the case, i just wanted to be sure"}, {"owner": {"reputation": 601, "user_id": 5562621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5KTKBm0Brl4/AAAAAAAAAAI/AAAAAAAAABU/3lhB1oMTpN4/photo.jpg?sz=128", "display_name": "Harry Harrison", "link": "https://stackoverflow.com/users/5562621/harry-harrison"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 2, "creation_date": 1447892385, "post_id": 33792615, "comment_id": 55352952, "body": "@zapl - you also need to take into account the distance between the microphone and speakers, and their relative position with respect to the original sound. If the microphone is closer to the original sound than the speakers, you can use the speed of sound to your advantage, If (for example) you were able to process with a 20ms latency - you would need a 7m gap between the microphone and speakers - and it would be possible. (although the latency would have to be constant for this to be useful)"}], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 5182794, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Bxsiu.png?s=128&g=1", "display_name": "sunny-lan", "link": "https://stackoverflow.com/users/5182794/sunny-lan"}, "is_accepted": false, "score": 0, "last_activity_date": 1447890761, "creation_date": 1447890761, "answer_id": 33792779, "question_id": 33792615, "link": "https://stackoverflow.com/questions/33792615/noise-cancelling-program/33792779#33792779", "title": "Noise cancelling program", "body": "<p>You cannot do this in software, with c++, or even assembly - the latency of just mirroring the the output on the speakers would be more than 6 ms on most computers. Even if you had a latency of only 0.1 ms, the resulting sound (assuming it is perfectly mixed) would at best sound like it was sampled at 10kHz (not very good).</p>\n"}, {"comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1447893078, "post_id": 33793040, "comment_id": 55353177, "body": "you underestimate how far people go with java :) <a href=\"http://jtres2015.univ-mlv.fr/\" rel=\"nofollow noreferrer\">jtres2015.univ-mlv.fr</a> and <a href=\"http://www.jopdesign.com/perf.jsp\" rel=\"nofollow noreferrer\">jopdesign.com/perf.jsp</a>"}], "tags": [], "owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "is_accepted": true, "score": 7, "last_activity_date": 1447893190, "last_edit_date": 1447893190, "creation_date": 1447892069, "answer_id": 33793040, "question_id": 33792615, "link": "https://stackoverflow.com/questions/33792615/noise-cancelling-program/33793040#33793040", "title": "Noise cancelling program", "body": "<p>Yes it will cancel out sound. That's more or less how Surround Sound works: by subtracting the left/right channels, playing that in the 3rd speaker, and inverting the samples, playing those out of the 4th you get interesting spatial effects. </p>\n\n<p>Also you wouldn't simply want to toggle all bits, you'd get noise; instead you want to negate. </p>\n\n<p>With a small sample buffer you'd be fast enough to cancel out waves of certain frequencies. When these attack and decay, you'll be lagging, but as long as the wave sustains you can effectively cancel it out.</p>\n\n<p>With bigger sample buffers, obviously the delay increases, since it takes longer to fill the buffer with samples. The size of the buffer determines how often a device interrupt occurs where the program would copy the input samples to an output buffer while applying an operation to them.</p>\n\n<p>Typically recordings are made at 44.1kHz, meaning that many samples per second. If you set the buffer to say 256 samples, you would get notified 44100/256 times a second that there are 256 samples to be processed.</p>\n\n<p>At 256 samples you'd lag behind 256/44100 = 0.0058 seconds or 5.8 milliseconds. Sound travels at around 340 m/s, so the sound wave would have moved 1.97 meters (340 * 5.8ms). This wavelength corresponds with the frequency 172 Hz (44100/256). That means that you can only effectively cancel out frequencies that have a lower frequency than that, because those of a higher frequency 'move' more than once during 5.8ms and are thus above the maximum 'sample rate', if you will.</p>\n\n<p>For 64 samples, the frequency would be 44100/64 = 689 Hz. And, this is the maximum frequency! That means you could cancel out bass and the base frequency of the human voice, but not the harmonics.</p>\n\n<p>A typical OS has it's clock frequency set to either 500, 1000, or 2000 Hz, meaning at best you could use a sample buffer of around two to three samples, giving you a maximum frequency of 500, 1000, or 2000 Hz. Telephones usually have a maximum frequency of about 3500 Hz.</p>\n\n<p>You could get the system clock up to around 32kHz, and poll an ADC directly to reach such frequencies. However, you'd probably need to solder one to your LPT and run a custom OS, which means Java is out of the question, or use a pre-fab real-time embedded system that runs Java (see the comment by @zapl for links).</p>\n\n<p>One thing I forgot to mention, is that you will need to take into account the position of the sound source, the microphone, and the speaker. Ideally all 3 are in the same place, so there is no delay. But this is almost never the case, which means you'd get an interference pattern: there will be spots in the room where the sound is cancelled, inbetween spots where it is not.</p>\n"}], "owner": {"reputation": 668, "user_id": 4752740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dcd8baab8bc3b85eedef201584812bb9?s=128&d=identicon&r=PG", "display_name": "Jean Valjean", "link": "https://stackoverflow.com/users/4752740/jean-valjean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2482, "favorite_count": 5, "accepted_answer_id": 33793040, "answer_count": 2, "score": 4, "last_activity_date": 1461866043, "creation_date": 1447889835, "question_id": 33792615, "link": "https://stackoverflow.com/questions/33792615/noise-cancelling-program", "title": "Noise cancelling program", "body": "<p>If you were to write a program that takes microphone input, reverses it (sets it out of phase by making 1's 0's and 0's 1's), and plays it back out of the speakers, could that cancel out sound? Wave physics says if crests align with troughs, destructive interference occurs, so can that be utilized here to achieve a lessened noise if not canceled out \"completely.\" I can imagine that this wouldn't work due to either complication in reversing the audio, or even because it takes too long to reverse and play back, so that the sound wave has passed. If i had to associate a language to do this in it would have to be either c++ or java (I'm at least competent in both).</p>\n"}, {"tags": ["c++", "oop", "terminology"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2486888"}, "edited": false, "score": 1, "creation_date": 1447890375, "post_id": 33792631, "comment_id": 55352226, "body": "Could you also mention what header file is?"}], "tags": [], "owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "is_accepted": false, "score": 2, "last_activity_date": 1447891922, "last_edit_date": 1495542614, "creation_date": 1447889937, "answer_id": 33792631, "question_id": 33792586, "link": "https://stackoverflow.com/questions/33792586/libraries-vs-classes-in-c/33792631#33792631", "title": "Libraries vs classes in c++", "body": "<p>Please note that this is just a simplistic explanation so you can wrap your head around it, not a pedantic or an exact and complete definition of a library.</p>\n\n<hr>\n\n<p>A library is a collection of functions, classes and other stuff packaged together.</p>\n\n<p>For instance the C++ standard library is (conceptually) composed of many libraries, e.g.:</p>\n\n<ul>\n<li>string library</li>\n<li>algorithm library</li>\n<li>input/output library</li>\n<li>etc.</li>\n</ul>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/io\" rel=\"nofollow noreferrer\">The IO library</a> contains some classes like:</p>\n\n<ul>\n<li><a href=\"http://en.cppreference.com/w/cpp/io/basic_iostream\" rel=\"nofollow noreferrer\">std::iostream</a> (actually a typedef to <code>std::basic_iostream</code>)</li>\n<li><code>std::ios</code></li>\n<li><code>std::istream</code></li>\n<li><code>std::ostream</code></li>\n<li>etc.</li>\n</ul>\n\n<p>In order to use a library you basically need two things: the library headers in order to have access to the declarations and a library which needs to be linked to your project in order to have access to the symbols exported by such library. The OS comes with the C++ Standard Library preinstalled and the compiler -- when in C++ mode -- automatically links to it, so all you have to do is include the necessary headers.</p>\n\n<hr>\n\n<p>In order to understand what a header is and what's it's role you first need to understand the difference between declaration and definition. You can reefer to <a href=\"https://stackoverflow.com/questions/1410563/what-is-the-difference-between-a-definition-and-a-declaration\">What is the difference between a definition and a declaration?</a> or any other reading material.</p>\n\n<p>Then you need to understand the concept of compilation units. You can read <a href=\"https://stackoverflow.com/questions/1106149/what-is-a-translation-unit-in-c\">What is a \u201ctranslation unit\u201d in C++</a> or <a href=\"https://stackoverflow.com/questions/4992247/how-is-compilation-unit-defined-in-c\">How is compilation unit defined in c++</a>.</p>\n\n<p>Using all the above you should to be able to compile multiple source files into one executable and understand the basics mechanism involved. You can read <a href=\"https://stackoverflow.com/questions/6995572/using-multiple-cpp-files-in-c-program\">Using multiple .cpp files in c++ program</a> or <a href=\"https://stackoverflow.com/questions/6489627/how-to-use-multiple-source-files-to-create-a-single-object-file-with-gcc\">How to use multiple source files to create a single object file with gcc</a></p>\n\n<p>From here there is a small step to be able to create and use your own static library. You can start here: <a href=\"https://stackoverflow.com/questions/5947067/how-to-create-a-static-library-with-g\">How to create a static library with g++?</a></p>\n\n<p>Another important concept to understand is compilation/linking: <a href=\"https://stackoverflow.com/questions/6264249/how-does-the-compilation-linking-process-work\">How does the compilation/linking process work?</a></p>\n\n<hr>\n\n<p>...or alternatively all you need to know is that in order to use <code>std::iostream</code> you need to include <code>&lt;iostream&gt;</code>. Ultimately it's up to you how much you want to absorb as \"because that's how it's done\" and how much you want to understand. Progress can be made only if you chose one of the options (spoiler: it's the latter).</p>\n"}], "owner": {"reputation": 93, "user_id": 3491012, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/24920ed8a073739bcef6c15385307fcf?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulaziz Asiri", "link": "https://stackoverflow.com/users/3491012/abdulaziz-asiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1447891922, "creation_date": 1447889720, "question_id": 33792586, "link": "https://stackoverflow.com/questions/33792586/libraries-vs-classes-in-c", "title": "Libraries vs classes in c++", "body": "<p>I came across a terminology in C++ which is a library. The book I am reading states that iostream is a library , and it is a system library. Then After that it says in the book, \"later, you will create your own library with the extension .h\". Is a library the same as class because clearly, when I included my .h library, I actually had created a class. \nIf a library is the same as a class, what can we say about  in C language , is it a class ? \nThank you. </p>\n"}, {"tags": ["c++", "arrays", "increment"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 5, "creation_date": 1447888715, "post_id": 33792338, "comment_id": 55351650, "body": "Please post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1447888883, "post_id": 33792338, "comment_id": 55351704, "body": "By modifying the code in a way, that it would compile, I can&#39;t reproduce the problem. As Anon Mail suggested, please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 4, "creation_date": 1447888944, "post_id": 33792338, "comment_id": 55351724, "body": "<code>int currentPages[frameSize];</code> is illegal in ISO C++. If this compiles then you&#39;re relying on a compiler extension, which could do anything really.  But it seems likely that in the <code>...</code> you omit some invocation of undefined behaviour, e.g. <code>j</code> gets changed to be outside the loop bounds"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "edited": false, "score": 1, "creation_date": 1447889245, "post_id": 33792338, "comment_id": 55351819, "body": "The only part I print is where is before and after i do timer[j]++, and that is where the problem lies."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "edited": false, "score": 0, "creation_date": 1447889312, "post_id": 33792338, "comment_id": 55351841, "body": "Anon Mail, it was the most simple way I could put it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "edited": false, "score": 0, "creation_date": 1447889415, "post_id": 33792338, "comment_id": 55351881, "body": "I tried making it as simple as possible, but apparently I can&#39;t get any simpler. Ill just post the whole thing"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1447889435, "post_id": 33792338, "comment_id": 55351886, "body": "You seem to be using the wrong web site. This is not the web site where anyone can post a completely confusing, convoluted, and incomplete question, and then expect someone to figure out the answer without expecting you to provide additional information that clarifies your problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "edited": false, "score": 0, "creation_date": 1447889465, "post_id": 33792338, "comment_id": 55351900, "body": "how is int currentPages[frameSize] illegal?"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1447889478, "post_id": 33792338, "comment_id": 55351909, "body": "@M.M: You win a prize, I see <code>j = frameSize;</code> in two places followed by printing and <i>modifying</i> array elements. Post an answer."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1447889621, "post_id": 33792338, "comment_id": 55351960, "body": "@TannerJuby The array size should equate to being constant expression (i.e. value known at compile time), since the size of your arrays are a parameter passed to the function, they are definitely not known at compile time."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1447889710, "post_id": 33792338, "comment_id": 55351989, "body": "j=frameSize is a red herring. The first for-loop initializes the entire currentPages array to -1. Therefore, the if statement inside the second loop should end up incrementing the faults value, which the purported output does not show as have happened. But, yes, all the other problems with the question makes it impossible to figure out the answer. Not to mention that the shown output does not come even close to matching the expected output from the shown code. Voting to close it."}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 0, "creation_date": 1447889718, "post_id": 33792338, "comment_id": 55351993, "body": "Although <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Variable-Length.html\" rel=\"nofollow noreferrer\">gcc will allow it</a>"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1447889722, "post_id": 33792338, "comment_id": 55351994, "body": "@AlgirdasPreid\u017eius: gcc allows that as a language extension, many people use it without realizing it&#39;s not standard C++."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "edited": false, "score": 0, "creation_date": 1447889904, "post_id": 33792338, "comment_id": 55352070, "body": "ah shoot! I did that to exit the loop. I put that after the increment now and it works properly! Thanks guys"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 0, "creation_date": 1447889905, "post_id": 33792338, "comment_id": 55352071, "body": "@Blastfurnace Oh really? Didn&#39;t use it since university, so I can&#39;t remember what it supports. When using OPs code in MSVC it informed me straight away that it requires constant expression (and I expected it to complain on, at least, that place)."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1447890041, "post_id": 33792338, "comment_id": 55352121, "body": "@TannerJuby You can write <code>break</code> to exit the loop prematurely."}], "answers": [{"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1447891666, "creation_date": 1447891666, "answer_id": 33792964, "question_id": 33792338, "link": "https://stackoverflow.com/questions/33792338/why-does-incrementing-one-array-increment-another/33792964#33792964", "title": "Why does incrementing one array, increment another?", "body": "<p>Your code includes a possible path of execution:</p>\n\n<pre><code>j = frameSize;\n</code></pre>\n\n<p>followed by</p>\n\n<pre><code>timer[j]++;\n</code></pre>\n\n<p>This accesses out of bounds: for an array of dimension <code>frameSize</code>, the valid indices are <code>0</code> through <code>frameSize-1</code>.</p>\n\n<p>I guess you actually want to exit the loop; if so then replace <code>j = frameSize;</code> with <code>break;</code> .</p>\n\n<p>NB. <code>int timer[frameSize];</code> is not permitted in ISO C++; array bounds must be known at compile-time. Your code is relying on a compiler extension.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33792964, "answer_count": 1, "score": -2, "last_activity_date": 1536789429, "creation_date": 1447888437, "last_edit_date": 1536789429, "question_id": 33792338, "link": "https://stackoverflow.com/questions/33792338/why-does-incrementing-one-array-increment-another", "title": "Why does incrementing one array, increment another?", "body": "<p>I am having a problem with incrementing a single item in an array. It ends up incrementing another array.. How does it do this? this is what I have:</p>\n\n<pre><code>string simulateFIFO(darray&lt;int&gt; requests, int frameSize) {\n\nstring results;\n\nint currentPages[frameSize];\nint timer[frameSize];\n\nint hits = 0;\nint faults = 0;\n\ncout &lt;&lt; \"STARTING FIFO\" &lt;&lt; endl;\n\nfor (int i = 0; i &lt; requests.size(); i++) {\n    cout &lt;&lt; requests[i] &lt;&lt; \" \";\n}\ncout &lt;&lt; endl;\ncout &lt;&lt; endl;\n\nfor (int i = 0; i &lt; frameSize; i++) {\n    currentPages[i] = -1;\n    timer[i] = 0;\n}\n\n// Start Calculations\nfor (int i = 0; i &lt; requests.size(); i++) {\n\n    bool requestSet = false;\n\n    for (int j = 0; j &lt; frameSize; j++) {\n\n        if (currentPages[j] &lt; 0) {\n            // Current frame does not have a page\n            cout &lt;&lt; \"FRAME IS EMPTY\" &lt;&lt; endl;\n\n            currentPages[j] = requests[i];\n\n            requestSet = true;\n            faults++;\n\n            j = frameSize;\n        }\n        else if (currentPages[j] == requests[i]) {\n            cout &lt;&lt; \"FRAME IS SAME AS REQUEST\" &lt;&lt; endl;\n            // Current Frame is set the the page being requested\n\n            timer[j] = 0;\n\n            requestSet = true;\n            hits++;\n\n            j = frameSize;\n        }\n\n        cout &lt;&lt; currentPages[j] &lt;&lt; endl;\n\n        timer[j]++;\n\n        cout &lt;&lt; currentPages[j] &lt;&lt; endl;\n\n    }\n\n    // Check to see if a request was set or not\n    if (requestSet == false) {\n        cout &lt;&lt; \"FRAME NEEDS REPLACED\" &lt;&lt; endl;\n        // The request wasnt set. Determine which frame to replace with the new request\n        int lastUsed = 0;\n        int lastUsedIndex = 0;\n\n        for (int j = 0; j &lt; frameSize; j++) {\n\n            if (timer[j] &gt; lastUsed) {\n                lastUsed = timer[j];\n                lastUsedIndex = j;\n            }\n        }\n\n        currentPages[lastUsedIndex] = requests[i];\n        //timer[lastUsedIndex] = 0;\n\n        faults++;\n    }\n\n    cout &lt;&lt; \"HEY 3: \" &lt;&lt; currentPages[0] &lt;&lt; endl;\n\n    cout &lt;&lt; \"NEW FRAME: \";\n    for (int j = 0; j &lt; frameSize; j++) {\n        cout &lt;&lt; currentPages[j] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n    cout &lt;&lt; endl;\n\n}\n\ncout &lt;&lt; \"FIFO\" &lt;&lt; endl;\ncout &lt;&lt; faults &lt;&lt; endl;\ncout &lt;&lt; hits &lt;&lt; endl;\ncout &lt;&lt; endl;\n\nreturn results;\n</code></pre>\n\n<p>}</p>\n\n<p>My Output ends up being</p>\n\n<pre>\n0\n1\n</pre>\n\n<p>Why does increasing one array actually increase the other as well?</p>\n"}, {"tags": ["c++", "polymorphism"], "comments": [{"owner": {"reputation": 126, "user_id": 3900669, "user_type": "registered", "profile_image": "https://graph.facebook.com/64901364/picture?type=large", "display_name": "Graham Bass", "link": "https://stackoverflow.com/users/3900669/graham-bass"}, "edited": false, "score": 0, "creation_date": 1447888187, "post_id": 33792252, "comment_id": 55351432, "body": "It&#39;s c#, I know, but have you tried calling base.f1()?"}, {"owner": {"reputation": 126, "user_id": 3900669, "user_type": "registered", "profile_image": "https://graph.facebook.com/64901364/picture?type=large", "display_name": "Graham Bass", "link": "https://stackoverflow.com/users/3900669/graham-bass"}, "edited": false, "score": 0, "creation_date": 1447888413, "post_id": 33792252, "comment_id": 55351527, "body": "Duplicate? Actually, Is this not the droid you&#39;re looking for? <a href=\"http://stackoverflow.com/questions/357307/how-to-call-a-parent-class-function-from-derived-class-function\" title=\"how to call a parent class function from derived class function\">stackoverflow.com/questions/357307/&hellip;</a>"}, {"owner": {"reputation": 235784, "user_id": 673730, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d1e4893fe7a566e6e4b90876b642163?s=128&d=identicon&r=PG", "display_name": "Luchian Grigore", "link": "https://stackoverflow.com/users/673730/luchian-grigore"}, "reply_to_user": {"reputation": 126, "user_id": 3900669, "user_type": "registered", "profile_image": "https://graph.facebook.com/64901364/picture?type=large", "display_name": "Graham Bass", "link": "https://stackoverflow.com/users/3900669/graham-bass"}, "edited": false, "score": 0, "creation_date": 1447888562, "post_id": 33792252, "comment_id": 55351593, "body": "@GrahamBass from the question, he wants to call the derived version from the base method. So just a simple call would do it..."}, {"owner": {"reputation": 126, "user_id": 3900669, "user_type": "registered", "profile_image": "https://graph.facebook.com/64901364/picture?type=large", "display_name": "Graham Bass", "link": "https://stackoverflow.com/users/3900669/graham-bass"}, "edited": false, "score": 0, "creation_date": 1447888768, "post_id": 33792252, "comment_id": 55351667, "body": "That inversion of the numbers f was a little confusing, given the pattern established for class. Wouldn&#39;t this violate SOLID principles? Seems like a base class should not be aware of or dependent on derivatives?"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1447890372, "post_id": 33792252, "comment_id": 55352224, "body": "Why is there a question in this question?  It reads to me like a complicated way of asking nothing.  For the simple meaning of the question, you just call f1().  That is how virtual functions work.  But if you implied a third class derived from <code>c_derived</code> and you don&#39;t want the normal action of virtual, you can directly call <code>c_derived::f1()</code>"}, {"owner": {"reputation": 1615, "user_id": 1003419, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a5fc3f5d6f17cf2879c10806cab15268?s=128&d=identicon&r=PG", "display_name": "Stencil", "link": "https://stackoverflow.com/users/1003419/stencil"}, "reply_to_user": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1447922857, "post_id": 33792252, "comment_id": 55363912, "body": "@JSF it is a rigorous question to ask nothing for an OOP-trained programmer who frequently works with OOP, but to ask something relevant for a programmer which is not used to OOP who wants to get response to problems after showing thoughts and effort"}], "answers": [{"tags": [], "owner": {"reputation": 235784, "user_id": 673730, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d1e4893fe7a566e6e4b90876b642163?s=128&d=identicon&r=PG", "display_name": "Luchian Grigore", "link": "https://stackoverflow.com/users/673730/luchian-grigore"}, "is_accepted": false, "score": 3, "last_activity_date": 1447888156, "creation_date": 1447888156, "answer_id": 33792274, "question_id": 33792252, "link": "https://stackoverflow.com/questions/33792252/c-calling-overridden-method-in-derived-class-from-method-base-class/33792274#33792274", "title": "C++ - Calling overridden method in derived class from method base class", "body": "<p>This is tricky, but it can be done with some hacking:</p>\n\n<pre><code>void c::f2()\n{\n    f1();   // if f1 is overriden in a class deriving from c, \n            // the derived class version is called\n}\n</code></pre>\n\n<p>To call base class version (<code>c::f1</code>), you need to fully qualify the call - <code>c::fi()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": true, "score": 2, "last_activity_date": 1447889370, "creation_date": 1447889370, "answer_id": 33792531, "question_id": 33792252, "link": "https://stackoverflow.com/questions/33792252/c-calling-overridden-method-in-derived-class-from-method-base-class/33792531#33792531", "title": "C++ - Calling overridden method in derived class from method base class", "body": "<p>Despite the nice answer by Luchian Grigore, I'd like to point out that this idea is the one behind the <a href=\"https://en.m.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow\">template method pattern</a>.</p>\n\n<p>That pattern let the derived classes decide how to complete an algorithm implementation, either by offering a default solution in the form of a virtual method or no solution at all by using a pure virtual method.</p>\n\n<p>In both the cases above mentioned, the <code>f2</code> member invokes the right implementation of the <code>f1</code> member as it follows:</p>\n\n<pre><code>f1();\n</code></pre>\n\n<p>Knowing the name of the solution one is applying usually is helpful.</p>\n"}], "owner": {"reputation": 1615, "user_id": 1003419, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a5fc3f5d6f17cf2879c10806cab15268?s=128&d=identicon&r=PG", "display_name": "Stencil", "link": "https://stackoverflow.com/users/1003419/stencil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2217, "favorite_count": 0, "accepted_answer_id": 33792531, "answer_count": 2, "score": 0, "last_activity_date": 1447889370, "creation_date": 1447888052, "question_id": 33792252, "link": "https://stackoverflow.com/questions/33792252/c-calling-overridden-method-in-derived-class-from-method-base-class", "title": "C++ - Calling overridden method in derived class from method base class", "body": "<p>Let <code>f1</code> be a virtual, non-abstract method of the class <code>c</code> and <code>f2</code> be a method of the class <code>c</code>.<br>Let also <code>c_derived</code> be the derived class from the base class <code>c</code>.<br>Assume that <code>f1</code> is overridden in <code>c_derived</code>. How can I call the method <code>f1</code> (overridden) of <code>c_derived</code>- from the method <code>f2</code> in <code>c</code>? <br> <em>Possible work-around.</em> Adding a function pointer parameter to the <code>c::f2</code> parameter list, creating a wrapper <code>c_derived::w</code> of <code>c::f2</code>, and pass the function pointer of <code>c_derived::f1</code> to <code>c::f2</code> from the wrapper <code>c_derived::w</code>.<br>Is there, instead, a reasonable way to do it?</p>\n"}, {"tags": ["c++", "c++11", "curl", "libcurl"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1447888120, "post_id": 33792154, "comment_id": 55351408, "body": "One of your first steps in debugging an issue like this is to construct a <i>complete, minimal testcase</i> and, in fact, we require you to have done that because we cannot/will not help you without one being in the question!"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447888143, "post_id": 33792154, "comment_id": 55351414, "body": "Have you tried running it though a debbugger to see the arguments that get passed to your callback?  Also, if curl is a C library you can&#39;t pass it a C++ class member function.  I think it will require a static class function at the very least."}], "answers": [{"tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": true, "score": 2, "last_activity_date": 1447888194, "creation_date": 1447888194, "answer_id": 33792280, "question_id": 33792154, "link": "https://stackoverflow.com/questions/33792154/c-curl-not-retrieving-webpage-properly/33792280#33792280", "title": "C++ CURL not retrieving webpage properly", "body": "<p><code>WebCrawler::WiteCallback</code> is a non-static method, which means that the pointer to the object (<code>this</code>) needs to be passed. Depending on the ABI this can be an implicit parameter, a register that is not used for normal argument passing, or anything else. For your ABI it looks like the object is passed as the leftmost parameter (\"<code>(WebCrawler *this, char* buf, size_t size, size_t nmemb, void* up)</code>\").</p>\n\n<p>You must not do that. Either make <code>WebCrawler::WiteCallback</code> static or use a trampoline:</p>\n\n<pre><code>size_t WebCrawler::WriteCallbackTramp(char* buf, size_t size,\n                                      size_t nmemb, void* up)\n{\n    return ((WebCrawler*) up)-&gt;WriteCallback(buf, size, nmemb);\n}\n</code></pre>\n\n<p>where <code>WebCrawler</code> contains a member for the buffer.</p>\n\n<p>Making the method static is the better solution.</p>\n\n<p>C.f. <a href=\"https://en.wikipedia.org/w/index.php?title=Calling_convention&amp;oldid=688589686\" rel=\"nofollow\">Wikipedia: Calling convention</a></p>\n"}], "owner": {"reputation": 67, "user_id": 4489056, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ba86ce4cbbb0f6865f48eb6f0ea7ea3b?s=128&d=identicon&r=PG&f=1", "display_name": "kasandell", "link": "https://stackoverflow.com/users/4489056/kasandell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 33792280, "answer_count": 1, "score": 0, "last_activity_date": 1447888194, "creation_date": 1447887655, "question_id": 33792154, "link": "https://stackoverflow.com/questions/33792154/c-curl-not-retrieving-webpage-properly", "title": "C++ CURL not retrieving webpage properly", "body": "<p>I have the following three methods in my class -</p>\n\n<pre><code>void WebCrawler::crawl()\n{\n    urlQueue.push(\"http://www.google.com/\");\n    if(!urlQueue.empty())\n    {\n        std::string url = urlQueue.front();\n        urlQueue.pop();\n        pastURLs.push_back(url);\n        if(pastURLs.size()&gt;4000000)\n        {\n            pastURLs.erase(pastURLs.begin());\n        }\n        std::string data=getData(url);\n        auto newPair= std::pair&lt;std::string, std::string&gt;(url, data);\n        dataQueue.push(newPair);\n    }\n\n}\n\nstd::string WebCrawler::getData(std::string URL)\n{\n    std::string readBuffer = \"\";\n    CURL *curl = curl_easy_init();\n\n    if(curl)\n    {\n    CURLcode res;\n    curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, &amp;WebCrawler::WiteCallback);\n    curl_easy_setopt(curl, CURLOPT_WRITEDATA, &amp;readBuffer);\n    curl_easy_setopt(curl, CURLOPT_URL, URL.c_str());\n    res = curl_easy_perform(curl);\n    curl_easy_cleanup(curl);\n    }\n    return readBuffer;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>size_t WebCrawler::WiteCallback(char* buf, size_t size, size_t nmemb, void* up)\n{\n\n    ((std::string*)up)-&gt;append((char*)buf, size * nmemb);\n    return size * nmemb;\n}\n</code></pre>\n\n<p>When I take these methods out of my class and run them as functions, my code executes properly and returns the webpage contents. However, as soon as I put these methods into my class they begin to behave differently. When my WriteCallback is called, the program fails and says it could not allocate <strong>45457340335435776</strong> bytes of data. I'm a little baffled as to what is causing this change and any help would be much appreciated.</p>\n"}, {"tags": ["c++", "iostream", "iomanip"], "comments": [{"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 1, "creation_date": 1447887776, "post_id": 33792130, "comment_id": 55351277, "body": "You can&#39;t do that in a platform independent way, as there is no standard way of knowing how wide your console is."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1447887812, "post_id": 33792130, "comment_id": 55351297, "body": "My guess is that what you&#39;re asking would be OS depended, or you would need some kind of special library for this like ncurses."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1447887813, "post_id": 33792130, "comment_id": 55351299, "body": "It&#39;s worth mentioning, <code>cout</code> goes to the primary output, which is sometimes the screen, and sometimes a file.  Writing to the &quot;middle of a line in a file&quot; doesn&#39;t really make much sense, unless you make assumptions about how long each line is.  Are you ok with making such assumptions?"}, {"owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1447887945, "post_id": 33792130, "comment_id": 55351349, "body": "@Ben ok, I will make an update to the question showing what I am asking specifically."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447888262, "post_id": 33792130, "comment_id": 55351468, "body": "C++ doesn&#39;t know anything about your &quot;screen&quot;. In fact, neither do we!"}, {"owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447888317, "post_id": 33792130, "comment_id": 55351494, "body": "@LightnessRacesinOrbit Well by &quot;screen&quot; I mean the C++ output box. The black box from Visual Studio? Yeah, that one."}, {"owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "reply_to_user": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 0, "creation_date": 1447888498, "post_id": 33792130, "comment_id": 55351560, "body": "@roeland I&#39;m assuming that visual studio knows how wide the output box is though."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447888745, "post_id": 33792130, "comment_id": 55351659, "body": "There is no such thing as a &quot;C++ output box&quot;; your C++ program&#39;s output could go to pretty much any terminal, or into a file, or piped into another process, or into <code>&#47;dev&#47;null</code>, or printed onto tape .... it&#39;s a sequence of bytes. At least now that we know which one you are personally working with, we could suggest non-portable solutions dedicated to working with that particular output .... but none of them have anything to do with C++ the language! And while I recognise that to you this will all appear to be nitpicking, I assure you it&#39;s not. :)"}, {"owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447888875, "post_id": 33792130, "comment_id": 55351700, "body": "Yeah @LightnessRacesinOrbit I didn&#39;t mean C++ as a language. I have never worked with C++ on another program so I just generalized it as a C++ box lol."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447888965, "post_id": 33792130, "comment_id": 55351728, "body": "If you could now add the details of your terminal into the question that&#39;d make it complete - although you&#39;ll find that this has been asked and answered before..."}], "answers": [{"comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1447888715, "post_id": 33792251, "comment_id": 55351651, "body": "@Andrew Tew: One additional option is <a href=\"https://jdonaldmccarthy.wordpress.com/2014/09/05/how-to-set-up-pdcurses-in-visual-studio-2013-c/\" rel=\"nofollow noreferrer\">PDCurses</a>.  Like NCurses, it&#39;s also available on all platforms (including Windows)."}, {"owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "edited": false, "score": 0, "creation_date": 1447888732, "post_id": 33792251, "comment_id": 55351654, "body": "Could you show me the specific page that shows me how to output to the middle in ncurses at least. Or what it is in C++ lol."}], "tags": [], "owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "is_accepted": true, "score": 3, "last_activity_date": 1447888044, "creation_date": 1447888044, "answer_id": 33792251, "question_id": 33792130, "link": "https://stackoverflow.com/questions/33792130/how-to-set-output-to-middle/33792251#33792251", "title": "How to set output to middle?", "body": "<p>Q: Is it possible to write code to make my outputted text formatted to the middle of the screen? </p>\n\n<p>A: Yes.  Not with \"cout\" directly.  But certainly with something like ncurses:</p>\n\n<ul>\n<li><p><a href=\"http://tldp.org/HOWTO/NCURSES-Programming-HOWTO/\" rel=\"nofollow\">http://tldp.org/HOWTO/NCURSES-Programming-HOWTO/</a></p></li>\n<li><p><a href=\"http://invisible-island.net/ncurses/ncurses-intro.html\" rel=\"nofollow\">http://invisible-island.net/ncurses/ncurses-intro.html</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "is_accepted": false, "score": 1, "last_activity_date": 1447890521, "creation_date": 1447890521, "answer_id": 33792735, "question_id": 33792130, "link": "https://stackoverflow.com/questions/33792130/how-to-set-output-to-middle/33792735#33792735", "title": "How to set output to middle?", "body": "<p>For myself, I prefer curses.</p>\n\n<p>But depending on how complex your needs are, you might consider ansi terminal emulation ... most systems have them.  (On Ubuntu, it is called gnome-terminal\")</p>\n\n<p>Then you could use ansi terminal control for output.  For example, </p>\n\n<pre><code>void gotoxy(int col, int row)\n</code></pre>\n\n<p>could   output an esc char, \n      followed by \"[\" and the row (i.e. \"12\"),\n      followed by \";\" and the col number (\"40)\n      followed by \"H\".</p>\n\n<p>User input would be std::cin.  </p>\n\n<p>Not a wonderful solution, but with some functionality.</p>\n"}], "owner": {"reputation": 47, "user_id": 5429770, "user_type": "registered", "profile_image": "https://graph.facebook.com/828012407344780/picture?type=large", "display_name": "Andrew Tew", "link": "https://stackoverflow.com/users/5429770/andrew-tew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1763, "favorite_count": 0, "accepted_answer_id": 33792251, "answer_count": 2, "score": 1, "last_activity_date": 1447890521, "creation_date": 1447887544, "last_edit_date": 1447888071, "question_id": 33792130, "link": "https://stackoverflow.com/questions/33792130/how-to-set-output-to-middle", "title": "How to set output to middle?", "body": "<p>Is it possible to write code to make my outputted text formatted to the middle of the screen? I have tried a lot, but nothing has worked. Here is what I have thought of so far.</p>\n\n<pre><code>cout.setf (ios::middle);\n</code></pre>\n\n<p>That was an error.\nAlso I tried</p>\n\n<pre><code>setw(10);//etc.\n</code></pre>\n\n<p>But I'm kind of new to using the setw command so I don't know how to use it properly.</p>\n\n<p>UPDATE:</p>\n\n<pre><code>//The Game of 4 Seasons\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;iomanip&gt;\nusing namespace std;\n\nint main()\n{\ncout &lt;&lt; \"Welcome to this game\\n\\n\\n\";\n\nsystem (\"pause\");\nsystem (\"cls\");\n\ncout &lt;&lt; \"CAUTION!\\n\\n\";\ncout &lt;&lt; \"The adventure you are about to embark contains high levels of:\\n\";\ncout &lt;&lt; \"Fun\\n\";\ncout &lt;&lt; \"Adventure\\n\";\ncout &lt;&lt; \"Excitement\\n\\n\\n\";\ncout &lt;&lt; \"If you have a record of buzz killing or anything similar, \\nthen this game is NOT for you.\\n\\n\\n\\n\";\n\nsystem (\"pause\");\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 160, "user_id": 4184445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e594e56abc92b645c3487dcf576207e4?s=128&d=identicon&r=PG", "display_name": "Bug Hunter 219", "link": "https://stackoverflow.com/users/4184445/bug-hunter-219"}, "edited": false, "score": 0, "creation_date": 1447887543, "post_id": 33792058, "comment_id": 55351182, "body": "could you publish some snippet of your code ?"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447887729, "post_id": 33792058, "comment_id": 55351257, "body": "Please post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447912339, "post_id": 33792058, "comment_id": 55358801, "body": "you must check <code>iter != variableMap.end()</code> before using <code>-&gt;</code> on it"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5487052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4240fbea9b4cc61dea630d9277f9248?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/5487052/j-doe"}, "edited": false, "score": 0, "creation_date": 1447888240, "post_id": 33792117, "comment_id": 55351458, "body": "yea when i useif(iter != variableMap.end()) {   cout&lt;&lt; iter-&gt;second; } it doesn&#39;t print any thing. so i guess you are right. key may not contain at the map. I&#39;m checking if if string contain white space"}, {"owner": {"reputation": 3, "user_id": 5487052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4240fbea9b4cc61dea630d9277f9248?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/5487052/j-doe"}, "edited": false, "score": 0, "creation_date": 1447888819, "post_id": 33792117, "comment_id": 55351689, "body": "yup, it is the matter of white space, i splitString wrong. thank you soooooo much!!"}], "tags": [], "owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "is_accepted": true, "score": 1, "last_activity_date": 1447912249, "last_edit_date": 1495542190, "creation_date": 1447887516, "answer_id": 33792117, "question_id": 33792058, "link": "https://stackoverflow.com/questions/33792058/why-it-gave-random-value-from-map/33792117#33792117", "title": "why it gave random value from map", "body": "<p>You likely got the splitString wrong, so that the map does not really contain the key \"x\".  You should check the result of find for equality with variableMap.end() before use.</p>\n\n<pre><code>iter = variableMap.find(\"x\");\nif(iter == variableMap.end()) {\n  // not found ...\n}\n</code></pre>\n\n<p>Use a debuger, and verify that the pair has the right content, including white space for the string.</p>\n\n<p>You could also print it to check what it contains:</p>\n\n<pre><code>for(auto elem : variableMap) {\n   std::cout &lt;&lt; \"&gt;\"&lt;&lt;elem.first &lt;&lt; \"&lt; \" &lt;&lt; elem.second &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Edit: as your problem was indeed white space, consider not writing string string manipulations yourself, but instead look at the top answers at <a href=\"https://stackoverflow.com/questions/16749069/c-split-string-by-regex\">C++ - Split string by regex</a></p>\n"}], "owner": {"reputation": 3, "user_id": 5487052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4240fbea9b4cc61dea630d9277f9248?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/5487052/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 33792117, "answer_count": 1, "score": -2, "last_activity_date": 1447912249, "creation_date": 1447887271, "question_id": 33792058, "link": "https://stackoverflow.com/questions/33792058/why-it-gave-random-value-from-map", "title": "why it gave random value from map", "body": "<p>I have a string which is  x = 5  and i spliced it to x 5 then declare a map</p>\n\n<pre><code> map&lt;string, double&gt; variableMap;\n</code></pre>\n\n<p>i put them into a map use </p>\n\n<pre><code>variableMap.insert(make_pair(splitString.at(0), stod(splitString.at(1))));\n</code></pre>\n\n<p><code>splitString.at(0)</code> will be x and <code>stod(splitString.at(1))</code> will be 5</p>\n\n<p>but when i was trying to get the value from find key by using</p>\n\n<pre><code>                 map&lt;string, double&gt;::iterator iter;\n\n                 iter = variableMap.find(\"x\");\n\n                     cout &lt;&lt; iter-&gt;second&lt;&lt;endl;\n</code></pre>\n\n<p>it prints 6.95321e-310</p>\n\n<p>this is really weird</p>\n"}, {"tags": ["c++", "recycle-bin"], "comments": [{"owner": {"reputation": 910, "user_id": 2956315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YU7JI.jpg?s=128&g=1", "display_name": "Lukas Boersma", "link": "https://stackoverflow.com/users/2956315/lukas-boersma"}, "edited": false, "score": 1, "creation_date": 1447888415, "post_id": 33792034, "comment_id": 55351528, "body": "FO_DELETE does work on non-empty directories. Wild guess: Maybe you have no read permissions on the folder in question? Do other operations work on the directory?"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "reply_to_user": {"reputation": 910, "user_id": 2956315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YU7JI.jpg?s=128&g=1", "display_name": "Lukas Boersma", "link": "https://stackoverflow.com/users/2956315/lukas-boersma"}, "edited": false, "score": 0, "creation_date": 1447890239, "post_id": 33792034, "comment_id": 55352190, "body": "@LukasBoersma, I just checked. Doing right click on the directory and selecting &quot;Properties&quot; I see the option &quot;Read Only&quot; is in the 3rd state. OK, so how do I fix it?"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "reply_to_user": {"reputation": 910, "user_id": 2956315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YU7JI.jpg?s=128&g=1", "display_name": "Lukas Boersma", "link": "https://stackoverflow.com/users/2956315/lukas-boersma"}, "edited": false, "score": 0, "creation_date": 1447891791, "post_id": 33792034, "comment_id": 55352749, "body": "@ChristopherOicles it is UNICODE one. But removing the file does work OK. Directory is failing. Trying to remove it from Explorer is also fail."}], "answers": [{"tags": [], "owner": {"reputation": 27360, "user_id": 188414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b1b63800db11f27930af1301b2c62223?s=128&d=identicon&r=PG", "display_name": "the_mandrill", "link": "https://stackoverflow.com/users/188414/the-mandrill"}, "is_accepted": false, "score": 0, "last_activity_date": 1553600723, "creation_date": 1553600723, "answer_id": 55356361, "question_id": 33792034, "link": "https://stackoverflow.com/questions/33792034/move-the-directory-to-recycle-bin-trash/55356361#55356361", "title": "move the directory to Recycle Bin/Trash", "body": "<p>I have run into a similar problem where <code>SHFileOperation</code> returned 2 (<code>ERROR_FILE_NOT_FOUND</code>). </p>\n\n<p>After checking the documentation (see <a href=\"https://docs.microsoft.com/en-gb/windows/desktop/api/shellapi/ns-shellapi-_shfileopstructa\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-gb/windows/desktop/api/shellapi/ns-shellapi-_shfileopstructa</a> ) it seems the problem is that the <code>pFrom</code> parameter actually represents a list of filenames, each one is null-terminated, but the final filename is terminated with an extra null.  So I expect in your case you need to change this line: </p>\n\n<pre><code>wxString temp = fileName + '\\0' + '\\0'; // double terminated\n</code></pre>\n"}], "owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 986, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1553600723, "creation_date": 1447887194, "question_id": 33792034, "link": "https://stackoverflow.com/questions/33792034/move-the-directory-to-recycle-bin-trash", "title": "move the directory to Recycle Bin/Trash", "body": "<p>ALL,</p>\n\n<p>I'm trying to move either the file or a directory to a Recycle Bin/Trash.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>SHFILEOPSTRUCT fileOp;\nmemset( fileOp, 0, sizeof( SHFILEOPSTRUCT ) );\nfileOp.hwnd = NULL;\nfileOp.wFunc = FO_DELETE;\nwxString temp = fileName + '\\0';\nfileOp.pFrom = temp.c_str();\nfileOp.pTo = NULL;\nfileOp.fFlags = FOF_ALLOWUNDO | FOF_NOERRORUI | FOF_NOCONFIRMATION | FOF_SILENT;\nint res = SHFileOperation( &amp;fileOp );\nif( res != 0 )\n    printf( _ ( \"Failed to move file '%s' to Recycle Bin\" ), fileName.c_str() );\nelse\n    result = true;\n</code></pre>\n\n<p>The fileName variable has a value of \"C:\\temp\\testfolder\" and the \"testfolder\" has 1 file in it.</p>\n\n<p>Upon the execution the SHFileOperation() does not return 0, but gives 124, which according to the MSDN is \"The path in the source or destination or both was invalid.\".</p>\n\n<p>Now the question: does this mean I can't put the non-empty folder into the Recycle Bin/Trash? If the answer is yes - what would be the easiest way of modifying the code to account for it? Or maybe there is a different API call?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1447889706, "post_id": 33792002, "comment_id": 55351985, "body": "Maybe this will help... <a href=\"http://stackoverflow.com/a/12575882/2836621\">stackoverflow.com/a/12575882/2836621</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "edited": false, "score": 0, "creation_date": 1447894808, "post_id": 33792872, "comment_id": 55353707, "body": "Getting tons of errors.  main.cpp: In function \u2018int main()\u2019: main.cpp:11:27: warning: extended initializer lists only available with -std=c++11 or -std=gnu++11      vector&lt;Point&gt; vertices{Point(100, 100), Point(200, 200), Point(200, 100)};                            ^ main.cpp:11:77: error: in C++98 \u2018vertices\u2019 must be initialized by constructor, not by \u2018{...}\u2019      vector&lt;Point&gt; vertices{Point(100, 100), Point(200, 200), Point(200, 100)};"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "edited": false, "score": 0, "creation_date": 1447894903, "post_id": 33792872, "comment_id": 55353736, "body": "Oh, it seems you don&#39;t have C++11. Let me refactor the code to C++98"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "edited": false, "score": 0, "creation_date": 1447895594, "post_id": 33792872, "comment_id": 55353944, "body": "can&#39;t you just add <code>-std=c++11</code> to your compiler line?"}, {"owner": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "edited": false, "score": 0, "creation_date": 1447895676, "post_id": 33792872, "comment_id": 55353971, "body": "This is what I type to make it g++ -o test main.cpp <code>pkg-config opencv --cflags --libs</code>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "edited": false, "score": 0, "creation_date": 1447896396, "post_id": 33792872, "comment_id": 55354178, "body": "I really can&#39;t tell you how to configure that. Try the second snippet, it should work for C++98 @Funktiona"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1534408885, "post_id": 33792872, "comment_id": 90697287, "body": "hello. Can u help my topic. same with your drawing function : <a href=\"https://stackoverflow.com/questions/51872759/ios-opencv-can-not-fillconvexpoly-with-alpha\" title=\"ios opencv can not fillconvexpoly with alpha\">stackoverflow.com/questions/51872759/&hellip;</a>"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": false, "score": 3, "last_activity_date": 1447899030, "last_edit_date": 1447899030, "creation_date": 1447891199, "answer_id": 33792872, "question_id": 33792002, "link": "https://stackoverflow.com/questions/33792002/how-to-draw-transparent-polygon/33792872#33792872", "title": "How to draw transparent polygon?", "body": "<p>To use transparency, you need to work with <code>alpha</code> channel, in BGRA color space. <code>alpha = 0</code> means fully transparent, while <code>alpha = 255</code> means opaque colors.</p>\n\n<p>You need to create a <code>CV_8UC4</code> image (aka <code>Mat4b</code>), or convert a 3 channel image to 4 channel with <code>cvtColor(src, dst, COLOR_BGR2BGRA)</code>, and draw a transparent filled shape, with alpha channel equals to 0.</p>\n\n<p>If you load a 4 channel image, remember to use <code>imread(\"path_to_image\", IMREAD_UNCHANGED);</code></p>\n\n<p>Transparent triangle (the transparency is rendered as white here, you can see that the image is in fact transparent opening it with your preferred image viewer):</p>\n\n<p><a href=\"https://i.stack.imgur.com/cuviN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cuviN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\n#include &lt;vector&gt;\nusing namespace std;\nusing namespace cv;\n\nint main()\n{\n    // Create a BGRA green image \n    Mat4b image(300, 300, Vec4b(0,255,0,255));\n\n    vector&lt;Point&gt; vertices{Point(100, 100), Point(200, 200), Point(200, 100)};\n\n    vector&lt;vector&lt;Point&gt;&gt; pts{vertices};\n    fillPoly(image, pts, Scalar(0,0,0,0));\n    //                                ^ this is the alpha channel                              \n\n    imwrite(\"alpha.png\", image);\n    return 0;\n}\n</code></pre>\n\n<p><strong>NOTE</strong> </p>\n\n<p><code>imshow</code> won't show transparency correctly, since it just ignores the <code>alpha</code> channel.</p>\n\n<hr>\n\n<p>C++98 version</p>\n\n<pre><code>#include &lt;opencv2/opencv.hpp&gt;\nusing namespace cv;\n\nint main()\n{\n    // Create a BGRA green image \n    Mat4b image(300, 300, Vec4b(0, 255, 0, 255));\n\n    Point vertices[3];\n    vertices[0] = Point(100, 100);\n    vertices[1] = Point(200, 200);\n    vertices[2] = Point(200, 100);\n\n    const Point* ppt[1] = { &amp;vertices[0] };\n    int npt[] = { 3 };\n\n    fillPoly(image, ppt, npt, 1, Scalar(0, 0, 0, 0), 8);\n\n    imwrite(\"alpha.png\", image);\n\n    imshow(\"a\", image);\n    waitKey();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3225, "user_id": 5294258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5270296f9c4ec3fae89195328e9bc7?s=128&d=identicon&r=PG&f=1", "display_name": "sturkmen", "link": "https://stackoverflow.com/users/5294258/sturkmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1447893607, "creation_date": 1447893607, "answer_id": 33793280, "question_id": 33792002, "link": "https://stackoverflow.com/questions/33792002/how-to-draw-transparent-polygon/33793280#33793280", "title": "How to draw transparent polygon?", "body": "<p>as an addition to Miki's answer the sample code below maybe useful.</p>\n\n<p>for more information see <a href=\"http://answers.opencv.org/question/73114\" rel=\"nofollow\">http://answers.opencv.org/question/73114</a></p>\n\n<p>see also <a href=\"http://docs.opencv.org/master/d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce&amp;gsc.tab=0\" rel=\"nofollow\">sample code of OpenCV documentation</a> </p>\n\n<pre><code>#include \"opencv2/highgui/highgui.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n\nusing namespace cv;\n\nint main( int, char** argv )\n{\n    Mat image(400, 400, CV_8UC4, Scalar(0, 0, 200,0));\n    Mat bgra[4];\n    split(image,bgra);\n\n    rectangle(bgra[3],Rect(100,100,200,200),Scalar(255),-1);\n\n    merge(bgra,4,image);\n    imwrite(\"transparent1.png\",image);\n\n    rectangle(bgra[3],Rect(150,150,100,100),Scalar(127),-1);\n    merge(bgra,4,image);\n    imwrite(\"transparent2.png\",image);\n\n    bgra[3] = bgra[3] * 0.5; // here you can change transparency %50\n    // bgra[3] = bgra[3] + 50 // you can add some value\n    // bgra[3] = bgra[3] - 50 // you can subtract some value\n\n    merge(bgra,4,image);\n    imwrite(\"transparent3.png\",image);\n\n    waitKey(0);\n    return(0);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 6709725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/299b55da473cb9d1eceb4269cc78b415?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Frog", "link": "https://stackoverflow.com/users/6709725/mr-frog"}, "is_accepted": false, "score": 1, "last_activity_date": 1604305950, "creation_date": 1604305950, "answer_id": 64642153, "question_id": 33792002, "link": "https://stackoverflow.com/questions/33792002/how-to-draw-transparent-polygon/64642153#64642153", "title": "How to draw transparent polygon?", "body": "<p>This question has been really an old one. And I find some answers but they are not what I want. I want set a polygon roi transparent which overlaps that areas without help of alpha channel, ie. we can still observe the background through that transparent area without a 4 channels image:\n<a href=\"https://i.stack.imgur.com/8tz1R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tz1R.jpg\" alt=\"a quadrangle transparent area\" /></a></p>\n<p>Here is the code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>// img: input 3 channels image\n// roi : polygon represents by points\n// color: transparent base color\n// alpha: transparent ratio\n// out:   out image with transparent area\nvoid SetTransparentColor(cv::Mat &amp;img, vector&lt;vector&lt;cv::Point&gt; &gt; &amp;roi, cv::Scalar color, double alpha, cv::Mat &amp;out)\n{\n  cv::Mat layer = cv::Mat::zeros(img.size(), CV_8UC3);\n\n  cv::fillPoly(layer, roi, color);\n\n  cv::addWeighted(img, alpha, layer, 1-alpha, 0, out);\n}\n</code></pre>\n<p>I have also tried some other ways, and the core idea is the same, by merging two area pixels with alpha value which stands for transparent ratio. But they are time consuming. So I will not put these codes here.</p>\n"}], "owner": {"reputation": 95, "user_id": 2975026, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/708f8d120fe9da72f66d5ea87e211ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Funktiona", "link": "https://stackoverflow.com/users/2975026/funktiona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4274, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1604305950, "creation_date": 1447887078, "last_edit_date": 1531424245, "question_id": 33792002, "link": "https://stackoverflow.com/questions/33792002/how-to-draw-transparent-polygon", "title": "How to draw transparent polygon?", "body": "<p>I want to draw a transparent polygon (triangle in this case). But I'm unable to find any examples by searching the web. </p>\n\n<pre><code>// Create image\nMat image = Mat::zeros( 400, 400, CV_8UC3 );\n\n// Draw a circle \n/** Create some points */\nPoint Treangle_points[1][20];\nTreangle_points[0][0] = Point( 150, 100 );\nTreangle_points[0][1] = Point( 275, 350 );\nTreangle_points[0][2] = Point( 50, 20 );\n\nconst Point* ppt[1] = { Treangle_points[0] };\nint npt[] = { 3 };\n\nfillPoly( image, ppt, npt, 1, Scalar( 255, 255, 255 ), 8 );\nimshow(\"Image\",image);\n</code></pre>\n"}, {"tags": ["c++", "stringstream"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1447887417, "post_id": 33791988, "comment_id": 55351122, "body": "(off topic) Why are you mixing pointers, built-in arrays and <code>printf</code> with use standard library? Looks like C+ to me."}, {"owner": {"reputation": 788, "user_id": 5037458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a34a94f1f7f3ee63ad2be94de183d?s=128&d=identicon&r=PG&f=1", "display_name": "Nandu", "link": "https://stackoverflow.com/users/5037458/nandu"}, "edited": false, "score": 0, "creation_date": 1447887555, "post_id": 33791988, "comment_id": 55351188, "body": "initialize temp[] array within the parse1, parse2 methods"}, {"owner": {"reputation": 109, "user_id": 3689386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f839604cb006e4ea3a61abc358012f1f?s=128&d=identicon&r=PG&f=1", "display_name": "lcdavis13", "link": "https://stackoverflow.com/users/3689386/lcdavis13"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1447889377, "post_id": 33791988, "comment_id": 55351866, "body": "@LogicStuff: because this was just a piece of sample code, intended to illustrate the problem concisely while still being relevant to the context that I encountered the problem in."}], "answers": [{"tags": [], "owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "is_accepted": false, "score": 0, "last_activity_date": 1447888019, "creation_date": 1447888019, "answer_id": 33792241, "question_id": 33791988, "link": "https://stackoverflow.com/questions/33791988/c-stringstream-extracting-consistently-regardless-of-whether-the-string-ends/33792241#33792241", "title": "C++ stringstream: Extracting consistently, regardless of whether the string ends with whitespace?", "body": "<p>try this:</p>\n\n<pre><code> void parse3(const std::string&amp; text)\n {\n   std::vector&lt;std::string&gt; string_vec;\n   std::stringstream text_stream(text); \n   std::string temp;\n   while ( text_stream &gt;&gt; temp)\n   {\n     std::cout&lt;&lt;temp&lt;&lt;\" \";\n     string_vec.push_back(temp);\n   }\n   std::cout&lt;&lt;std::endl; \n } \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 3689386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f839604cb006e4ea3a61abc358012f1f?s=128&d=identicon&r=PG&f=1", "display_name": "lcdavis13", "link": "https://stackoverflow.com/users/3689386/lcdavis13"}, "edited": false, "score": 1, "creation_date": 1447889209, "post_id": 33792254, "comment_id": 55351811, "body": "Perfect, thanks! I figured there was a simple way to do this, I guess I just don&#39;t typically think of conditionals as a place for non-functional code."}], "tags": [], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "is_accepted": true, "score": 1, "last_activity_date": 1447888767, "last_edit_date": 1447888767, "creation_date": 1447888069, "answer_id": 33792254, "question_id": 33791988, "link": "https://stackoverflow.com/questions/33791988/c-stringstream-extracting-consistently-regardless-of-whether-the-string-ends/33792254#33792254", "title": "C++ stringstream: Extracting consistently, regardless of whether the string ends with whitespace?", "body": "<p>In your loop conditions, you are checking for errors in the stream, before you try to read anything:</p>\n\n<pre><code>while(text_stream.good())\n{\n    text_stream &gt;&gt; temp;\n    printf(\"%s \", temp);\n    string_vec.push_back(temp);\n}\n</code></pre>\n\n<p>It should be done in the reverse order. Idiomatically, like this:</p>\n\n<pre><code>// read to temp, then use operator bool() to get whether an error has occurred\nwhile(text_stream &gt;&gt; temp)\n{\n    printf(\"%s \", temp);\n    string_vec.push_back(temp);\n}\n</code></pre>\n\n<p>There's no need to talk about the second version, it's based on the same error.</p>\n"}], "owner": {"reputation": 109, "user_id": 3689386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f839604cb006e4ea3a61abc358012f1f?s=128&d=identicon&r=PG&f=1", "display_name": "lcdavis13", "link": "https://stackoverflow.com/users/3689386/lcdavis13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 33792254, "answer_count": 2, "score": 0, "last_activity_date": 1447888767, "creation_date": 1447887033, "last_edit_date": 1447888175, "question_id": 33791988, "link": "https://stackoverflow.com/questions/33791988/c-stringstream-extracting-consistently-regardless-of-whether-the-string-ends", "title": "C++ stringstream: Extracting consistently, regardless of whether the string ends with whitespace?", "body": "<p>What's the simplest way to extract an unknown number of items from a <code>std::stringstream</code>, that behaves consistently regardless of whether the string has whitespace at the end?</p>\n\n<p>Here's an example that tests two slightly different methods, to show what I mean:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nvoid parse1(const char* text)\n{\n    stringstream text_stream(text);\n    vector&lt;string&gt; string_vec;\n    char temp[10];\n\n    while (text_stream.good())\n    {\n        text_stream &gt;&gt; temp;\n        printf(\"%s \", temp);\n        string_vec.push_back(temp);\n    }\n    printf(\"\\n\");\n}\n\nvoid parse2(const char* text)\n{\n    stringstream text_stream(text);\n    vector&lt;string&gt; string_vec;\n    char temp[10];\n\n    while (text_stream.good())\n    {\n        text_stream &gt;&gt; temp;\n        if (text_stream.good()) \n        {\n            printf(\"%s \", temp);\n            string_vec.push_back(temp);\n        }\n    }\n    printf(\"\\n\");\n}\n\nint main()\n{\n    char text1[10] = \"1 2 3 \";\n    char text2[10] = \"1 2 3\";\n\n    printf(\"\\nMethod 1:\\n\");\n    parse1(text1);\n    parse1(text2);\n\n    printf(\"\\nMethod 2:\\n\");\n    parse2(text1);\n    parse2(text2);\n}\n</code></pre>\n\n<p>This code produces the following output. Notice that the each of them messes up in one of the two situations:</p>\n\n<pre><code>Method 1:\n1 2 3 3\n1 2 3\n\nMethod 2:\n1 2 3\n1 2\n</code></pre>\n"}, {"tags": ["c++", "public", "friend"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 3, "creation_date": 1447887032, "post_id": 33791952, "comment_id": 55350980, "body": "friend function != member (non-static) function"}, {"owner": {"reputation": 788, "user_id": 5037458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a34a94f1f7f3ee63ad2be94de183d?s=128&d=identicon&r=PG&f=1", "display_name": "Nandu", "link": "https://stackoverflow.com/users/5037458/nandu"}, "edited": false, "score": 1, "creation_date": 1447887156, "post_id": 33791952, "comment_id": 55351011, "body": "a simple google search will answer your question. read this: <a href=\"http://www.tutorialspoint.com/cplusplus/cpp_friend_functions.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/cplusplus/cpp_friend_functions.htm</a>"}, {"owner": {"reputation": 991, "user_id": 2012815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFdPO.jpg?s=128&g=1", "display_name": "Peter L.", "link": "https://stackoverflow.com/users/2012815/peter-l"}, "edited": false, "score": 2, "creation_date": 1447887207, "post_id": 33791952, "comment_id": 55351037, "body": "Use a friend function to allow access to private internal members from that external, non-member function."}], "answers": [{"tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 6, "last_activity_date": 1447887248, "creation_date": 1447887248, "answer_id": 33792049, "question_id": 33791952, "link": "https://stackoverflow.com/questions/33791952/c-friend-vs-public/33792049#33792049", "title": "C++ friend vs public", "body": "<p><code>public</code> refers to the access level of class <strong>member</strong> functions.  A <strong>member</strong> function can be <code>public, protected or private</code>.</p>\n\n<p><code>friend</code> refers to <strong>non-member</strong> functions.  Declaring a function <code>friend</code> allows the <strong>non-member</strong> function access to class' <code>private</code> data.</p>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 5578596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jyWCW.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/5578596/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1447887307, "creation_date": 1447887307, "answer_id": 33792064, "question_id": 33791952, "link": "https://stackoverflow.com/questions/33791952/c-friend-vs-public/33792064#33792064", "title": "C++ friend vs public", "body": "<p>A friend class in C++ can access the \"private\" and \"protected\" members of the class in which it is declared as a friend.</p>\n\n<p>public - Any class can refer to the field or call the method.</p>\n\n<p><strong>If this helped please voted up &amp; marked \u201caccepted\u201d</strong></p>\n"}, {"tags": [], "owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "is_accepted": false, "score": 2, "last_activity_date": 1447888356, "creation_date": 1447888356, "answer_id": 33792321, "question_id": 33791952, "link": "https://stackoverflow.com/questions/33791952/c-friend-vs-public/33792321#33792321", "title": "C++ friend vs public", "body": "<p>The difference is that a <code>public</code> member function is a member function with an implicit <code>this</code> argument, whereas a <code>friend</code> function is a non-member function that can use <code>private</code> and <code>protected</code> members of the class.</p>\n\n<p>You would typically write a <code>friend</code> function in order to work with a class object as the <em>second</em> argument: a constructor <code>foo::foo( const bar&amp; x )</code> that needs to see the internals of the new <code>foo</code> and its source <code>x</code> would be a <code>public</code> member of <code>foo</code> and a <code>friend</code> of bar.  Another common idiom is that, if you want to be able to add a <code>foo</code> to (for example) an <code>int</code>, programmers expect addition to be commutative and expressions such as <code>1 + foo() + 1</code> to work.  The version with the <code>foo</code> as the second argument would be declared <code>friend foo operator+( int, const foo&amp; );</code> so that it could use the internals of its second argument.</p>\n"}], "owner": {"reputation": 403, "user_id": 4432217, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1d043ea185a1f8aef691c0554d9ef562?s=128&d=identicon&r=PG&f=1", "display_name": "ReeSSult", "link": "https://stackoverflow.com/users/4432217/reessult"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2236, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1447888356, "creation_date": 1447886892, "question_id": 33791952, "link": "https://stackoverflow.com/questions/33791952/c-friend-vs-public", "title": "C++ friend vs public", "body": "<p>What's is the difference between friend and public functions declared in a class? What's the point of using a friend function when we can make it public and have the same access?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 1, "creation_date": 1447886790, "post_id": 33791899, "comment_id": 55350895, "body": "You can pass the existing <code>firstClass</code> object as an argument to the <code>secondFunction</code>."}, {"owner": {"reputation": 75, "user_id": 3998601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998ef571ad3d70014abe63835795f616?s=128&d=identicon&r=PG", "display_name": "user140345", "link": "https://stackoverflow.com/users/3998601/user140345"}, "edited": false, "score": 0, "creation_date": 1447888303, "post_id": 33791899, "comment_id": 55351489, "body": "Thanks Anon, it worked."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 4, "last_activity_date": 1447886931, "creation_date": 1447886931, "answer_id": 33791967, "question_id": 33791899, "link": "https://stackoverflow.com/questions/33791899/calling-class-member-in-another-class-without-defining-new-object/33791967#33791967", "title": "calling class member in another class without defining new object", "body": "<p>If the member function is not a <code>static</code> member function, you'll need an object to call the member function. There is no getting around that. How you get a valid object is up to you.</p>\n\n<p>If you want to be able to call the member function without an object, make the member function a <code>static</code> member function.</p>\n"}, {"tags": [], "owner": {"reputation": 688, "user_id": 1541968, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6c204f900bc98b6bc32649d29d6a65de?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Gansberg", "link": "https://stackoverflow.com/users/1541968/darren-gansberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1447887526, "creation_date": 1447887526, "answer_id": 33792122, "question_id": 33791899, "link": "https://stackoverflow.com/questions/33791899/calling-class-member-in-another-class-without-defining-new-object/33792122#33792122", "title": "calling class member in another class without defining new object", "body": "<p>As previously suggested make it static: </p>\n\n<pre><code>class firstClass\n{\n  public:\n  static void firstFunction();\n};\n\nvoid firstClass::firstFunction()\n{\n  //definition\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3998601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998ef571ad3d70014abe63835795f616?s=128&d=identicon&r=PG", "display_name": "user140345", "link": "https://stackoverflow.com/users/3998601/user140345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 33791967, "answer_count": 2, "score": 0, "last_activity_date": 1447887526, "creation_date": 1447886662, "question_id": 33791899, "link": "https://stackoverflow.com/questions/33791899/calling-class-member-in-another-class-without-defining-new-object", "title": "calling class member in another class without defining new object", "body": "<p>I have to call for a member of first class in second class without defining a new object name for first class.</p>\n\n<p>SO basically I have something like this:\nMAIN:</p>\n\n<pre><code>firstClass fClass;\nfClass.firstFuntion();\n</code></pre>\n\n<p>FIRST.HPP</p>\n\n<pre><code>class firstClass\n{\npublic:\nvoid firstFunction();\n};\n</code></pre>\n\n<p>SECOND.HPP</p>\n\n<pre><code>class secondClass\n{\npublic:\nvoid secondFunction();\n};\n</code></pre>\n\n<p>SECOND.CPP</p>\n\n<pre><code>void secondClass::secondFunction()\n{\n//first Function should be called without defining new firstClass object name\n}\n</code></pre>\n"}, {"tags": ["c++", "pointers", "dynamic", "multidimensional-array"], "comments": [{"owner": {"reputation": 14451, "user_id": 33499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c590aa4c56918b47c7ba5e39dba5d8?s=128&d=identicon&r=PG", "display_name": "wimh", "link": "https://stackoverflow.com/users/33499/wimh"}, "edited": false, "score": 0, "creation_date": 1447886640, "post_id": 33791851, "comment_id": 55350840, "body": "To get rid of the error, remove <code>int**</code>, but your function will not return the memory you allocate."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1447886773, "post_id": 33791851, "comment_id": 55350886, "body": "The &#39;formal parameter x&#39; has the same name as the automatic variable x in void function()...  the conflict the compiler is complaining about is two variables of the same name in the same scope."}, {"owner": {"reputation": 39, "user_id": 4355635, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ccffb77f7691e99bdfbfbc56b728456c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4355635/john"}, "edited": false, "score": 0, "creation_date": 1447886836, "post_id": 33791851, "comment_id": 55350915, "body": "Yeah I I took the x out of the parameter  and it fixed that error but it led me to another one in main that I put into the edit"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1447886950, "post_id": 33791851, "comment_id": 55350953, "body": "Save yourself the trouble and make a wrapper class for your 2D array that handles the allocation, re-sizing and destruction logic for you. The alternative is to manage the book-keeping on a case by case basis with a ton of duplicated code."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1447887078, "post_id": 33791851, "comment_id": 55350989, "body": "Having a parameter without a name (<code>(int **, </code>) is almost certainly a bad idea. You pass in array <code>y</code>, never use it in the function, and cannot expect it to be changed upon return."}, {"owner": {"reputation": 39, "user_id": 4355635, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ccffb77f7691e99bdfbfbc56b728456c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4355635/john"}, "edited": false, "score": 0, "creation_date": 1447887593, "post_id": 33791851, "comment_id": 55351199, "body": "Yeah that makes sense. Is there any reason even with using (int ** x, int length1, int length2) the main doesnt run properly. It just crashes after inputting the the s1 and s2 so I am guessing the array y is not passed into the function correctly."}], "answers": [{"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1447887044, "creation_date": 1447887044, "answer_id": 33791992, "question_id": 33791851, "link": "https://stackoverflow.com/questions/33791851/c-2d-array-alocation-parameter-error/33791992#33791992", "title": "C++ 2D Array Alocation/Parameter Error", "body": "<p>You're not allowed to have two different variables with the same name in the same scope.  But based on your description, you should not have two different variables anyway. You want to update the parameter <code>x</code>, not make a new unrelated variable.</p>\n\n<p>One way to fix this is:</p>\n\n<pre><code>void function (int** &amp; x, int length1, int length2)\n//                  ^^^ modify the variable in the calling function, instead of making a copy\n{     \n    x = new int*[length1]; \n    // rest the same\n</code></pre>\n\n<p>however this whole thing is extremely poor coding style; you should use container classes instead of a series of <code>new</code> calls.</p>\n"}], "owner": {"reputation": 39, "user_id": 4355635, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ccffb77f7691e99bdfbfbc56b728456c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4355635/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447887044, "creation_date": 1447886453, "last_edit_date": 1447886759, "question_id": 33791851, "link": "https://stackoverflow.com/questions/33791851/c-2d-array-alocation-parameter-error", "title": "C++ 2D Array Alocation/Parameter Error", "body": "<p>I am attempting to create a function that takes 3 parameters (one the transmits the array between this function and main, an integer for length of first index of array, and an integer for length of 2nd index of array). Then in main, the user can set the length of an array himself.</p>\n\n<pre><code>void function (int** x, int length1, int length2)\n{     \n    int** x = new int*[length1];    //error redefinition of formal parameter x\n    for (int i = 0; i &lt; length1; ++i){\n    x[i] = new int[length2];\n}   \n    // given loop to be used after 2d array is allocated\n    for (int i =0; i &lt;length1;i++)\n       for(int j =0; j&lt;length2; j++)\n       x[length1][length2] = i*j;\n}\n\nint main()\n{   \nint **y, s1, s2;\n\ncout &lt;&lt; \"Enter the rows and columns: \";\ncin &gt;&gt; s1 &gt;&gt; s2;\ncout &lt;&lt; endl;\n\nfunction(y, s1, s2);\nfor(int i =0; i&lt;s1; i++)\n    for(int j=0; j&lt;s2;j++)\n        cout&lt;&lt;\"i = \" &lt;&lt; i &lt;&lt; \" j = \" &lt;&lt; j &lt;&lt; \"y[i][j] = \" &lt;&lt;y[i][j] &lt;&lt; endl;\n\ndelete []y;\n}\n</code></pre>\n\n<p>I get the error about a redefinition of formal parameter x. Everything I have read seems to say that I have allocated the 2D array correctly so is it the parameters that are passed incorrectly? I have tried moving around a few things but it hasnt helped; any help or direction is appreciated. thanks</p>\n\n<p>edit: If I change the parameter to (int**, int length1, int length2) it fixes the problem I described above, but now tells me y in the main function is unidentified. Do I need allocate the new array in main? I thought if I called the foo function, that would take care of it.</p>\n"}, {"tags": ["c++", "qt", "events", "subclass", "qpixmap"], "answers": [{"comments": [{"owner": {"reputation": 3363, "user_id": 786238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2ad644dfd29b5e1705af19c770ff65d5?s=128&d=identicon&r=PG", "display_name": "Laurent Crivello", "link": "https://stackoverflow.com/users/786238/laurent-crivello"}, "edited": false, "score": 0, "creation_date": 1447955169, "post_id": 33795095, "comment_id": 55387093, "body": "Thanks; So concretely how to link my QPixmap to a QWidget ?"}, {"owner": {"reputation": 3363, "user_id": 786238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2ad644dfd29b5e1705af19c770ff65d5?s=128&d=identicon&r=PG", "display_name": "Laurent Crivello", "link": "https://stackoverflow.com/users/786238/laurent-crivello"}, "edited": false, "score": 0, "creation_date": 1447957479, "post_id": 33795095, "comment_id": 55388497, "body": "Adding the Pixmap to my QGraphicsScene gives me a QGraphicsPixmapItem. Is this the one on which I should intercept the mouse events ? If yes how,  thanks."}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "reply_to_user": {"reputation": 3363, "user_id": 786238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2ad644dfd29b5e1705af19c770ff65d5?s=128&d=identicon&r=PG", "display_name": "Laurent Crivello", "link": "https://stackoverflow.com/users/786238/laurent-crivello"}, "edited": false, "score": 0, "creation_date": 1448246188, "post_id": 33795095, "comment_id": 55490173, "body": "Override the QGraphicsItem::mousePressEvent(QGraphicsSceneMousePressEvent *) method.  <a href=\"http://doc.qt.io/qt-4.8/qgraphicsitem.html#mousePressEvent\" rel=\"nofollow noreferrer\">doc.qt.io/qt-4.8/qgraphicsitem.html#mousePressEvent</a>"}], "tags": [], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "is_accepted": false, "score": 3, "last_activity_date": 1447911208, "last_edit_date": 1447911208, "creation_date": 1447906084, "answer_id": 33795095, "question_id": 33791820, "link": "https://stackoverflow.com/questions/33791820/subclassing-qpixmap/33795095#33795095", "title": "Subclassing QPixmap", "body": "<p>It does not make sense to receive mouse events on a QPixmap, because a QPixmap is not a QWidget and therefore the QPixmap is never directly present in your Qt GUI.</p>\n\n<p>What <em>is</em> on screen is a QWidget of some sort that draws and displays the QPixmap.  This might be a QLabel or perhaps a QWidget whose paintEvent(QPaintEvent *) method has been overridden to call painter.drawPixmap() with your QPixmap as an argument.  The sensible place to override mousePressEvent() would be in a subclass of that widget, not by subclassing QPixmap.</p>\n"}, {"tags": [], "owner": {"reputation": 3363, "user_id": 786238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2ad644dfd29b5e1705af19c770ff65d5?s=128&d=identicon&r=PG", "display_name": "Laurent Crivello", "link": "https://stackoverflow.com/users/786238/laurent-crivello"}, "is_accepted": true, "score": 0, "last_activity_date": 1447964591, "creation_date": 1447964591, "answer_id": 33813687, "question_id": 33791820, "link": "https://stackoverflow.com/questions/33791820/subclassing-qpixmap/33813687#33813687", "title": "Subclassing QPixmap", "body": "<p>I finally ended up in using a QPushButton:</p>\n\n<pre><code>QPushButton *button = new QPushButton;\nbutton-&gt;setIcon(QIcon(myQPixmap));\nbuttonWidget=MySceneClass-&gt;scene()-&gt;addWidget(button);\nQObject::connect(button, SIGNAL(clicked()),this, SLOT(clickedSlot()));\n</code></pre>\n"}], "owner": {"reputation": 3363, "user_id": 786238, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2ad644dfd29b5e1705af19c770ff65d5?s=128&d=identicon&r=PG", "display_name": "Laurent Crivello", "link": "https://stackoverflow.com/users/786238/laurent-crivello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 33813687, "answer_count": 2, "score": 0, "last_activity_date": 1447964591, "creation_date": 1447886334, "question_id": 33791820, "link": "https://stackoverflow.com/questions/33791820/subclassing-qpixmap", "title": "Subclassing QPixmap", "body": "<p>I would like to get mouse press events on a QPixmap in Qt.\nI tried to subclass it using:</p>\n\n<pre><code>class CustomPixmap : public QPixmap\n{\n    Q_OBJECT\n\npublic:\n    CustomPixmap(QPaintDevice *parent = NULL);\n    ~CustomPixmap() {};\n\nprotected:\n    void mousePressEvent(QMouseEvent *event);\n\n};\n</code></pre>\n\n<p>But it does not compile because of the error</p>\n\n<pre><code>./moc_output/moc_customPixmap.cpp:52:8: error: no member named\n      'staticMetaObject' in 'QPixmap'; did you mean simply 'staticMetaObject'?\n</code></pre>\n\n<p>Taking the Q_OBJECT out compiles fine, but the mousePressEvent is not called. How can I properly subclass a QPixmap to get mouse press events ? </p>\n"}, {"tags": ["c++", "vector", "quicksort"], "comments": [{"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 3, "creation_date": 1447886143, "post_id": 33791758, "comment_id": 55350627, "body": "<code>quickSort</code> returns <code>void</code> (which is to say, nothing at all). What are you expecting that line to do?"}, {"owner": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "edited": false, "score": 0, "creation_date": 1447895169, "post_id": 33791758, "comment_id": 55353805, "body": "I see that now, bhut what do I need to be calling for instead? I figured to sort the first vector in the vector it would be quicksort(vectorList[0][0], but that does not seem to be the case"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "edited": false, "score": 0, "creation_date": 1447888677, "post_id": 33791977, "comment_id": 55351643, "body": "I get the same resolution with your answer, an error message saying &quot;error: no match for &#39;operator&lt;&lt;&#39; in &#39;std::cout &lt;&lt; quickSort((* &amp; vectorList.std::vector&lt;_Tp, _Alloc&gt;::operator[]&lt;std::vector&lt;int&gt;, std::allocator&lt;std::vector&lt;int&gt; &gt; &gt;(0u)), 0, ((int)((&amp; vectorList.std::vector&lt;_Tp, _Alloc&gt;::operator[]&lt;std::vector&lt;int&gt;, std::allocator&lt;std::vector&lt;int&gt; &gt; &gt;(0u))-&gt;std::vector&lt;_Tp, _Alloc&gt;::size&lt;int, std::allocator&lt;int&gt; &gt;() + 4294967295u)))&#39;|&quot;"}, {"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 1, "creation_date": 1447892698, "post_id": 33791977, "comment_id": 55353049, "body": "this fixes the problem with printing; see <a href=\"http://coliru.stacked-crooked.com/a/b48e6ad235fa7662\" rel=\"nofollow noreferrer\">here</a>, but there is another problem around here <code>if (left + 10 &lt;= right) {</code>, if this is false, no sorting is done at all"}, {"owner": {"reputation": 12666, "user_id": 49329, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd991227ac34793b8bae42972cbb03d6?s=128&d=identicon&r=PG", "display_name": "Don Reba", "link": "https://stackoverflow.com/users/49329/don-reba"}, "reply_to_user": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "edited": false, "score": 0, "creation_date": 1447896822, "post_id": 33791977, "comment_id": 55354284, "body": "@BondyeLwa, because you are still trying to output a <code>void</code> function. Use my code instead."}], "tags": [], "owner": {"reputation": 12666, "user_id": 49329, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cd991227ac34793b8bae42972cbb03d6?s=128&d=identicon&r=PG", "display_name": "Don Reba", "link": "https://stackoverflow.com/users/49329/don-reba"}, "is_accepted": false, "score": 0, "last_activity_date": 1447896787, "last_edit_date": 1447896787, "creation_date": 1447886972, "answer_id": 33791977, "question_id": 33791758, "link": "https://stackoverflow.com/questions/33791758/calling-for-quicksort-error-c/33791977#33791977", "title": "Calling for quickSort error c++", "body": "<p>You might want:</p>\n\n<pre><code>quickSort(vectorList[0], 0, vectorList[0].size()-1);\nstd::copy(vectorList[0].begin(), vectorList[0].end(), ostream_iterator&lt;int&gt;(cout, \", \"));\n</code></pre>\n\n<p>Also, as others pointed out, the condition<code>if (left + 10 &lt;= right)</code> is a mistake.</p>\n"}], "owner": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447896787, "creation_date": 1447886058, "last_edit_date": 1447891384, "question_id": 33791758, "link": "https://stackoverflow.com/questions/33791758/calling-for-quicksort-error-c", "title": "Calling for quickSort error c++", "body": "<p>So I believe that I have my quicksort method built correctly, but when I call for it in my main function, I get an error that I am stumped on what to do for. Here is my quicksort method:</p>\n\n<pre><code>void quickSort(vector&lt;int&gt; &amp; a, int left, int right) {\n    if (left + 10 &lt;= right) {\n        const int &amp; pivot = median3( a, left, right);\n\n        int i = left, j = right -1;\n        for ( ; ; ){\n            while(a [++i] &lt; pivot){}\n            while(pivot &lt; a[--j]){}\n            if(i &lt; j)\n                swap(a[i], a[j]);\n            else\n                break;\n        }\n        swap(a[i], a[right-1]);\n\n        quickSort(a,left,i-1);\n        quickSort(a,i+1,right);\n    }\n}\n</code></pre>\n\n<p>And here is my main function</p>\n\n<pre><code>int main() {\n    srand (time(NULL));\n    vector&lt;vector&lt;int&gt; &gt; vectorList;\n\n    for (unsigned int j = 0; j &lt; 8; j++) {\n        vector&lt;int&gt; tmp(100*pow(2,j));\n\n        for (unsigned int l = 0; l&lt;tmp.size(); l++)\n            tmp[l] = (rand() % 20000);\n\n        vectorList.push_back(tmp);\n    }\n    for (unsigned int y = 0; y != vectorList[0].size(); y++){\n        cout &lt;&lt; vectorList[0][y] &lt;&lt; endl;\n    }\n    cout &lt;&lt; vectorList[0].size() &lt;&lt; endl;\n    cout &lt;&lt; quickSort(vectorList[0], 0, vectorList[0].size()-1) &lt;&lt; endl;\n    return 0;\n\n}\n</code></pre>\n\n<p>I make the call for quicksort on the second line from the bottom, and i receive an error saying: <code>no match for 'operator&lt;&lt;' in std::cout &lt;&lt; quickSort((* &amp; vectorList.std\"\"vector&lt;blahblahblah</code></p>\n"}, {"tags": ["c++", "inline"], "comments": [{"owner": {"reputation": 1263, "user_id": 2325279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xkrmf.jpg?s=128&g=1", "display_name": "Petr Vep\u0159ek", "link": "https://stackoverflow.com/users/2325279/petr-vep%c5%99ek"}, "edited": false, "score": 0, "creation_date": 1448008583, "post_id": 33791621, "comment_id": 55409704, "body": "<code>inline</code> keyword is simply a hint, not a guarantee.  Good compiler/linker with the right options can optimize code regardless of the keyword.  (It will often optimize the code well beyond simple inlining.)"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 2228246, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/761a2a6ce55e3abc027332dc34f4d2b1?s=128&d=identicon&r=PG", "display_name": "elad", "link": "https://stackoverflow.com/users/2228246/elad"}, "edited": false, "score": 1, "creation_date": 1447886634, "post_id": 33791780, "comment_id": 55350832, "body": "I know that, and am familiar with most of what&#39;s writen in the link.. This was a side question regarding ommiting this &quot;suggestion&quot;, but the main question is about the ability of the compiler to inline when the definition is not above the call.."}, {"owner": {"reputation": 9347, "user_id": 2214693, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9O4uT.jpg?s=128&g=1", "display_name": "Claudio", "link": "https://stackoverflow.com/users/2214693/claudio"}, "reply_to_user": {"reputation": 307, "user_id": 2228246, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/761a2a6ce55e3abc027332dc34f4d2b1?s=128&d=identicon&r=PG", "display_name": "elad", "link": "https://stackoverflow.com/users/2228246/elad"}, "edited": false, "score": 0, "creation_date": 1447887554, "post_id": 33791780, "comment_id": 55351186, "body": "The compiler is even free to inline functions that you&#39;ve not declared as inline."}, {"owner": {"reputation": 307, "user_id": 2228246, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/761a2a6ce55e3abc027332dc34f4d2b1?s=128&d=identicon&r=PG", "display_name": "elad", "link": "https://stackoverflow.com/users/2228246/elad"}, "edited": false, "score": 1, "creation_date": 1447911052, "post_id": 33791780, "comment_id": 55358323, "body": "Again, I know that, that&#39;s not the question... =\\"}], "tags": [], "owner": {"reputation": 9347, "user_id": 2214693, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9O4uT.jpg?s=128&g=1", "display_name": "Claudio", "link": "https://stackoverflow.com/users/2214693/claudio"}, "is_accepted": false, "score": 0, "last_activity_date": 1447886146, "last_edit_date": 1495540760, "creation_date": 1447886146, "answer_id": 33791780, "question_id": 33791621, "link": "https://stackoverflow.com/questions/33791621/c-inline-function-definition-position-in-relation-to-call/33791780#33791780", "title": "c++ inline function definition position in relation to call", "body": "<p><code>inline</code> is a hint for the compiler, which can choose if actually inlining or not.\nYou may want to have a look at <a href=\"https://stackoverflow.com/q/145838/2214693\">this answer</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 2131, "user_id": 3726169, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ad0f33269912ab7a2fb9f30df6f2d392?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Chesterfield", "link": "https://stackoverflow.com/users/3726169/jon-chesterfield"}, "is_accepted": true, "score": 2, "last_activity_date": 1448007611, "last_edit_date": 1448007611, "creation_date": 1448007190, "answer_id": 33821870, "question_id": 33791621, "link": "https://stackoverflow.com/questions/33791621/c-inline-function-definition-position-in-relation-to-call/33821870#33821870", "title": "c++ inline function definition position in relation to call", "body": "<p>I think this is a reasonable question. There are several cases in C++ where order of text in the file does matter. This fortunately is not one of them - your two code samples are equivalent. As covered by Claudio, writing 'inline' in the source makes no difference either way.</p>\n\n<p>Questions of the variety of \"does this optimisation happen\" are usually compiler dependent, so can best be answered by asking the compiler, for example:</p>\n\n<pre><code># clang++ -c first.cpp -O3 -S -emit-llvm -o first.ll\n\n; ModuleID = 'first.cpp'\ntarget datalayout = \"e-m:e-i64:64-f80:128-n8:16:32:64-S128\"\ntarget triple = \"x86_64-pc-linux-gnu\"\n\n%class.B = type { %class.A }\n%class.A = type { i8 }\n\n@str = private unnamed_addr constant [12 x i8] c\"Func'ing A!\\00\"\n\n; Function Attrs: nounwind uwtable\ndefine void @_ZN1B1gEv(%class.B* nocapture readnone %this) #0 align 2 {\n  %puts.i = tail call i32 @puts(i8* getelementptr inbounds ([12 x i8]* @str, i64 0, i64 0)) #1\n  ret void\n}\n\n; Function Attrs: nounwind\ndeclare i32 @puts(i8* nocapture readonly) #1\n\nattributes #0 = { nounwind uwtable \"less-precise-fpmad\"=\"false\" \"no-frame-pointer-elim\"=\"false\" \"no-infs-fp-math\"=\"false\" \"no-nans-fp-math\"=\"false\" \"stack-protector-buffer-size\"=\"8\" \"unsafe-fp-math\"=\"false\" \"use-soft-float\"=\"false\" }\nattributes #1 = { nounwind }\n\n!llvm.ident = !{!0}\n\n!0 = metadata !{metadata !\"Debian clang version 3.5.0-10 (tags/RELEASE_350/final) (based on LLVM 3.5.0)\"}\n</code></pre>\n\n<p>Or, if you prefer x86-64, </p>\n\n<pre><code># clang++ -c first.cpp -O3 -S -o first.s\n    .text\n    .file   \"first.cpp\"\n    .globl  _ZN1B1gEv\n    .align  16, 0x90\n    .type   _ZN1B1gEv,@function\n_ZN1B1gEv:                              # @_ZN1B1gEv\n    .cfi_startproc\n# BB#0:\n    movl    $.Lstr, %edi\n    jmp puts                    # TAILCALL\n.Ltmp0:\n    .size   _ZN1B1gEv, .Ltmp0-_ZN1B1gEv\n    .cfi_endproc\n\n    .type   .Lstr,@object           # @str\n    .section    .rodata.str1.1,\"aMS\",@progbits,1\n.Lstr:\n    .asciz  \"Func'ing A!\"\n    .size   .Lstr, 12\n\n\n    .ident  \"Debian clang version 3.5.0-10 (tags/RELEASE_350/final) (based on LLVM 3.5.0)\"\n    .section    \".note.GNU-stack\",\"\",@progbits\n</code></pre>\n\n<p>Both snippets compile to exactly the same intermediate representation with clang 3.5 - most easily verified using a diff tool - so we can be confident that relative position in the source made no difference.</p>\n\n<p>This is actually the case without optimisation as well (using -O0), at least for the compiler I'm using.  </p>\n"}], "owner": {"reputation": 307, "user_id": 2228246, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/761a2a6ce55e3abc027332dc34f4d2b1?s=128&d=identicon&r=PG", "display_name": "elad", "link": "https://stackoverflow.com/users/2228246/elad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 33821870, "answer_count": 2, "score": 2, "last_activity_date": 1448007611, "creation_date": 1447885452, "last_edit_date": 1448005440, "question_id": 33791621, "link": "https://stackoverflow.com/questions/33791621/c-inline-function-definition-position-in-relation-to-call", "title": "c++ inline function definition position in relation to call", "body": "<p>In c++, considering a single compilation unit, does the definition of a function has to come above the call(s) to it in order to be inlined, or is it enought that the definition is somewhere in the compilation unit?</p>\n\n<p>In other words, is there any difference between :</p>\n\n<pre><code>class A {\npublic:\n    void f();\n};\n\nclass B {\n    A a;\npublic:\n    void g();\n};\n\ninline void A::f() {\n    printf(\"Func'ing A!\\n\");\n}\n\nvoid B::g() {\n    //...\n    a.f();\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class A {\npublic:\n    void f();\n};\n\nclass B {\n    A a;\npublic:\n    void g();\n};\n\nvoid B::g() {\n    //...\n    a.f();\n}\n\ninline void A::f() {\n    printf(\"Func'ing A!\\n\");\n}\n</code></pre>\n\n<p>regarding A::f() being inlined inside B::g() ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 788, "user_id": 5037458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a34a94f1f7f3ee63ad2be94de183d?s=128&d=identicon&r=PG&f=1", "display_name": "Nandu", "link": "https://stackoverflow.com/users/5037458/nandu"}, "edited": false, "score": 0, "creation_date": 1447885474, "post_id": 33791571, "comment_id": 55350342, "body": "where is the sub-menu in your example?"}, {"owner": {"reputation": 160, "user_id": 4184445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e594e56abc92b645c3487dcf576207e4?s=128&d=identicon&r=PG", "display_name": "Bug Hunter 219", "link": "https://stackoverflow.com/users/4184445/bug-hunter-219"}, "edited": false, "score": 1, "creation_date": 1447885495, "post_id": 33791571, "comment_id": 55350355, "body": "Shouldn&#39;t the while loop condition be reversed i.e while(processMenu())"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 160, "user_id": 4184445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e594e56abc92b645c3487dcf576207e4?s=128&d=identicon&r=PG", "display_name": "Bug Hunter 219", "link": "https://stackoverflow.com/users/4184445/bug-hunter-219"}, "edited": false, "score": 0, "creation_date": 1447885785, "post_id": 33791571, "comment_id": 55350472, "body": "@AnandPandey I assume it&#39;s to print the menu until the user enters a valid choice? Though that code should be in <code>processMenu</code> itself"}], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 5063263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b9dadb72e3e03e28dc7f64b43353f1e5?s=128&d=identicon&r=PG&f=1", "display_name": "ivan", "link": "https://stackoverflow.com/users/5063263/ivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1447885808, "creation_date": 1447885808, "answer_id": 33791700, "question_id": 33791571, "link": "https://stackoverflow.com/questions/33791571/c-help-in-returning-to-previous-menu/33791700#33791700", "title": "C++ Help in returning to previous menu", "body": "<p>Try this:</p>\n\n<pre><code>#include&lt;string.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;stdio.h&gt;\n#include\"stdafx.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nbool processMenu() {\n\n\n    cout &lt;&lt; \"Main Menu\" &lt;&lt; endl;\n    cout &lt;&lt; \"What would you like to read about?\" &lt;&lt; endl;\n    cout &lt;&lt; \"1. Programming Paradigms\" &lt;&lt; endl;\n    cout &lt;&lt; \"2. Different Programming languages, and their uses\" &lt;&lt; endl;\n    cout &lt;&lt; \"3. Different C++ Features and their uses\" &lt;&lt; endl;\n\n\n    char choice;\n    cin &gt;&gt; choice;\n\n\n    if (choice == '1') {\n        cout &lt;&lt; \"A programming paradigm is a fundamental style of computer programming, serving as a way of building the structure and elements of computer programs. Imperative Paradigm: The language provides statements, such as assignment statements , which explicitly change the state of the memory of the computer. Functional: In this paradigm we express computations as the evaluation of mathematical functions. Logic: In this paradigm we express computation in exclusively in terms of mathematical logic. Object-Oriented: In this paradigm we associate behaviour with data-structures called objects which belong to classes which are usually structured into a hierarchy. \" &lt;&lt; endl;\n    }\n    else if (choice == '2') {\n        cout &lt;&lt; \"Java: Considered the perfect language for developers and programmers to learn. Most utilised for mobile based apps and for creating desktop applications. Python: Considered the simplest language to learn, Python is an extremely useful 'all in one' launguage. Used for anything from web animations to use interfaces. C and C#: C is a general-purpose, high-level language first implemented in 1972. It's easy to learn and handles low level activities well. C# is a highly expressive language, similar in structure to C++, C and even Java. Utilises many features not avilible in the Java language.  \" &lt;&lt; endl;\n    }\n    else if (choice == '3') {\n        cout &lt;&lt; \"C++ can be used to develop new data types called 'classes'. By working with these 'classes', we can develop new libraries. Aswell as this, C++ provides templates and several templates and keywords not found in the C language, giving a wider range of useage. C++ has a huge function library and is a highly flexible language. Used for many, many things, including system software, operating systems, compilers, editors and data bases. \" &lt;&lt; endl;\n    }\n    else {\n\n        return false;\n    }\n    return true;\n}\n\nint main() {\n    int check = 0;\n    while (check == 0)\n    {\n\n    while (!processMenu()) \n    {\n    }\n\n        cout &lt;&lt; endl &lt;&lt; \"Thank you for Reading.\" &lt;&lt; endl;\n        cout &lt;&lt; endl &lt;&lt; \"0 for yes.\" &lt;&lt; endl;\n        cout &lt;&lt; endl &lt;&lt; \"Any other number for no.\" &lt;&lt; endl;\n        cout &lt;&lt; endl;\n        cin &gt;&gt; check;\n    }\n    cout &lt;&lt; endl &lt;&lt; \"Thank you for Reading.\" &lt;&lt; endl;\n    return 0;\n\n}\n</code></pre>\n\n<p>with this code the user will have an option to return to the main menu and read something else!</p>\n"}], "owner": {"reputation": 11, "user_id": 5578726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bda0d2460e558f5d991cabff936c818d?s=128&d=identicon&r=PG&f=1", "display_name": "MilitantAT", "link": "https://stackoverflow.com/users/5578726/militantat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1447885808, "creation_date": 1447885260, "last_edit_date": 1447885400, "question_id": 33791571, "link": "https://stackoverflow.com/questions/33791571/c-help-in-returning-to-previous-menu", "title": "C++ Help in returning to previous menu", "body": "<p>Just simply want to know how I can add an option to go back to the main menu after reading each sub-menu.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nbool processMenu() {\n\n\n    cout &lt;&lt; \"Main Menu\" &lt;&lt; endl;\n    cout &lt;&lt; \"What would you like to read about?\" &lt;&lt; endl;\n    cout &lt;&lt; \"1. Programming Paradigms\" &lt;&lt; endl;\n    cout &lt;&lt; \"2. Different Programming languages, and their uses\" &lt;&lt; endl;\n    cout &lt;&lt; \"3. Different C++ Features and their uses\" &lt;&lt; endl;\n\n\n    char choice;\n    cin &gt;&gt; choice;\n\n\n    if (choice=='1') {\n        cout &lt;&lt; \"A programming paradigm is a fundamental style of computer programming, serving as a way of building the structure and elements of computer programs. Imperative Paradigm: The language provides statements, such as assignment statements , which explicitly change the state of the memory of the computer. Functional: In this paradigm we express computations as the evaluation of mathematical functions. Logic: In this paradigm we express computation in exclusively in terms of mathematical logic. Object-Oriented: In this paradigm we associate behaviour with data-structures called objects which belong to classes which are usually structured into a hierarchy. \" &lt;&lt; endl;    \n    } else if (choice=='2') {\n        cout &lt;&lt; \"Java: Considered the perfect language for developers and programmers to learn. Most utilised for mobile based apps and for creating desktop applications. Python: Considered the simplest language to learn, Python is an extremely useful 'all in one' launguage. Used for anything from web animations to use interfaces. C and C#: C is a general-purpose, high-level language first implemented in 1972. It's easy to learn and handles low level activities well. C# is a highly expressive language, similar in structure to C++, C and even Java. Utilises many features not avilible in the Java language.  \" &lt;&lt; endl;\n    } else if (choice=='3') {\n        cout &lt;&lt; \"C++ can be used to develop new data types called 'classes'. By working with these 'classes', we can develop new libraries. Aswell as this, C++ provides templates and several templates and keywords not found in the C language, giving a wider range of useage. C++ has a huge function library and is a highly flexible language. Used for many, many things, including system software, operating systems, compilers, editors and data bases. \" &lt;&lt; endl;\n    } else {\n\n        return false;\n    }\n    return true;\n}\n\nint main () {\n\n\n    while (!processMenu()) {\n\n\n    }\n\n    cout &lt;&lt; endl &lt;&lt; \"Thank you for Reading.\" &lt;&lt; endl;\n\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "static", "initialization", "copy-constructor"], "comments": [{"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1447885917, "post_id": 33791556, "comment_id": 55350528, "body": "You need first to initialize the static variable with no parenthesis or with braces. And then assign  to it the object you want to copy in main. Sorry for the answer I didn&#39;t see the comments."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1447886022, "post_id": 33791556, "comment_id": 55350571, "body": "A very similar question: <a href=\"http://stackoverflow.com/questions/33572283/can-i-initialize-a-static-const-member-at-run-time-in-c\" title=\"can i initialize a static const member at run time in c\">stackoverflow.com/questions/33572283/&hellip;</a>."}, {"owner": {"reputation": 612, "user_id": 2851704, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4828d9efcac9d40fa6b820a3864f7c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ali250", "link": "https://stackoverflow.com/users/2851704/ali250"}, "edited": false, "score": 0, "creation_date": 1447886147, "post_id": 33791556, "comment_id": 55350628, "body": "As I said, I was initially using no parenthesis and got the aforementioned error. Using brace initialization gives the error <code>must be initialized by constructor, not by {...}</code> which is preceded by another error <code>extended initializer lists only available with std=c++11</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447886345, "post_id": 33791556, "comment_id": 55350709, "body": "@Ali250 is there a good reason you are not using C++11 ?"}, {"owner": {"reputation": 612, "user_id": 2851704, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4828d9efcac9d40fa6b820a3864f7c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ali250", "link": "https://stackoverflow.com/users/2851704/ali250"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447940362, "post_id": 33791556, "comment_id": 55376263, "body": "@M.M Long story short, I&#39;m using a build system called <code>catkin</code> which is for the Robot Operating System (ROS). Officially, ROS is still on C++03 and I&#39;m using many libraries written in C++03 and people on their forums usually say that mixing c++03 and c++11 code isn&#39;t a good idea."}], "answers": [{"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1447886302, "creation_date": 1447886302, "answer_id": 33791813, "question_id": 33791556, "link": "https://stackoverflow.com/questions/33791556/initializing-static-class-object-with-no-zero-argument-constructor-c/33791813#33791813", "title": "Initializing static class object with no zero argument constructor c++", "body": "<p>Of course, if <code>Class1</code> has methods that you can use later then an easy solution would be:</p>\n\n<pre><code>Class1 Foo::object1(some_rubbish);\n\n// in main\nobject1 = Class1(the_real_initializer);\n</code></pre>\n\n<hr>\n\n<p>If <code>Class1</code> does not have a working assignment operator, but it can safely be destroyed and re-created, you can write in main:</p>\n\n<pre><code>object1.~Class1();\nnew(&amp;object1) Class1(the_real_initializer);\n</code></pre>\n\n<p>although if this constructor throws then you have to abort the program.</p>\n\n<hr>\n\n<p>If it is not possible to destroy a <code>Class1</code> correctly before the end of the program then you will have to defer its initialization, e.g.:</p>\n\n<pre><code>static std::unique_ptr&lt;Class1&gt; p_object1;\n</code></pre>\n\n<p>and then in main, when you are ready,</p>\n\n<pre><code>p_object1.reset( new Class1(bla bla bla) );\n</code></pre>\n\n<p>This way you will have to change any other code that accesses <code>object1.</code> to use <code>p_object1-&gt;</code> instead.</p>\n"}], "owner": {"reputation": 612, "user_id": 2851704, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4828d9efcac9d40fa6b820a3864f7c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ali250", "link": "https://stackoverflow.com/users/2851704/ali250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447886302, "creation_date": 1447885185, "last_edit_date": 1447885779, "question_id": 33791556, "link": "https://stackoverflow.com/questions/33791556/initializing-static-class-object-with-no-zero-argument-constructor-c", "title": "Initializing static class object with no zero argument constructor c++", "body": "<p>The relevant part of my code is as follows:</p>\n\n<p>In foo.h:</p>\n\n<pre><code>namespace foo_ns {\nclass Foo\n{\n    static Class1 object1;\n};\n}\n</code></pre>\n\n<p>In foo.cpp</p>\n\n<pre><code>#include &lt;foo.h&gt;\nnamespace foo_ns {\n\nClass1 Foo::object1(/*another object. Need to call copy constructor*/)\n\n}\n</code></pre>\n\n<p>Here, \"another object\" is defined in <code>main()</code>. Furthermore, Class1 is part of a large library and has no zero argument constructors, so simply removing the parenthesis gives a <code>no matching function call</code> error during compilation. From what I understand, static initialization MUST be performed outside of any function.</p>\n\n<p>So ithere any workaround for this? </p>\n"}, {"tags": ["c++", "c", "visual-studio", "visual-studio-2010", "compilation"], "comments": [{"owner": {"reputation": 3477, "user_id": 5373104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7370abc4cc61836c6302fc38b73a75fb?s=128&d=identicon&r=PG", "display_name": "Jared Dykstra", "link": "https://stackoverflow.com/users/5373104/jared-dykstra"}, "edited": false, "score": 0, "creation_date": 1447885845, "post_id": 33791546, "comment_id": 55350498, "body": "Looks like C99&#39;s Variable length array support was never supported by Visual Studio; not even in VS 2010 - <a href=\"https://msdn.microsoft.com/library/zb1574zs(v=vs.100).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/library/zb1574zs(v=vs.100).aspx</a>  So you have to edit the code, or use a different compiler"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1447885847, "post_id": 33791546, "comment_id": 55350499, "body": "Sample: Line 145 <code>int maxima[numMax];</code> numMax is not a constant, making this not standard compliant C++. Visual Studio adheres to this part of the standard, so you are SOL, dude. Much re-writing of code will be required to make this work under Visual Studio (and a lot of other C++ compilers)"}, {"owner": {"reputation": 3477, "user_id": 5373104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7370abc4cc61836c6302fc38b73a75fb?s=128&d=identicon&r=PG", "display_name": "Jared Dykstra", "link": "https://stackoverflow.com/users/5373104/jared-dykstra"}, "edited": false, "score": 0, "creation_date": 1447886249, "post_id": 33791546, "comment_id": 55350661, "body": "Have you tried using CMake and selecting mingw as the compiler, since you went through the trouble of installing it?"}, {"owner": {"reputation": 3415, "user_id": 1198474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pUCYm.jpg?s=128&g=1", "display_name": "salocinx", "link": "https://stackoverflow.com/users/1198474/salocinx"}, "edited": false, "score": 0, "creation_date": 1447886344, "post_id": 33791546, "comment_id": 55350708, "body": "Thanks for the fast replies. I am basically not bound to Visual Studio. So let me try with the mingw compiler... I will be back right after the attempt."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1447886413, "post_id": 33791546, "comment_id": 55350735, "body": "You might consider using Visual Studio&#39;s C++ compiler, it&#39;s (mostly) backward compatible with C.  All you have to do is rename the files from .c to .cpp"}], "owner": {"reputation": 3415, "user_id": 1198474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pUCYm.jpg?s=128&g=1", "display_name": "salocinx", "link": "https://stackoverflow.com/users/1198474/salocinx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447886978, "creation_date": 1447885135, "last_edit_date": 1447886978, "question_id": 33791546, "link": "https://stackoverflow.com/questions/33791546/how-to-compile-a-c-program-with-visual-studio-on-windows", "title": "How to compile a C program with Visual Studio on Windows?", "body": "<p>I am trying to compile a library for 2D localization called <strong>libdots</strong> <a href=\"http://chili.epfl.ch/libdots\" rel=\"nofollow noreferrer\">which can be found on this website</a> with Visual Studio 2015 on Windows for x86 or x64.</p>\n\n<p>The following is stated in the readme file of the lib:</p>\n\n<blockquote>\n  <p>It is written in pure c and has no external library dependencies other\n  than 'libc'.</p>\n</blockquote>\n\n<p>What I have done so far:</p>\n\n<ul>\n<li>Installed <a href=\"http://opencv.org/downloads.html\" rel=\"nofollow noreferrer\">OpenCV 3.0.0</a> to C:/opencv</li>\n<li>Installed <a href=\"https://cmake.org/runningcmake/\" rel=\"nofollow noreferrer\">CMake for Windows</a></li>\n<li>Installed <a href=\"http://www.mingw.org/\" rel=\"nofollow noreferrer\">MinGW</a></li>\n</ul>\n\n<p>Set the following <code>System Environment Variable</code>:</p>\n\n<pre><code>OPENCV_DIR    C:\\opencv\\build\\x86\\vc12\n</code></pre>\n\n<p>Added the following to the <code>Path</code> variable in Windows settings:</p>\n\n<pre><code>%OPENCV_DIR%;\nC:\\opencv\\build\\x86\\vc12\\lib;\nC:\\opencv\\build\\include;\nC:\\opencv\\build\\include\\opencv;\nC:\\opencv\\build\\include\\opencv2\n</code></pre>\n\n<p>Then I configured and generated the Makefile with cmake-gui and selected <code>Visual Studio 14 2015</code> generator with \"Use default native compilers\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/VQBgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQBgI.png\" alt=\"enter image description here\"></a></p>\n\n<p>This produced a Visual Studio Solution file (*.sln). Opening this file shows me the complete C project in the IDE. But when trying to build the project, I get the following errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WfOay.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WfOay.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does somebody have a hint how to proceed and/or solve these issues?</p>\n"}, {"tags": ["c++", "vector", "sum"], "comments": [{"owner": {"reputation": 788, "user_id": 5037458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a34a94f1f7f3ee63ad2be94de183d?s=128&d=identicon&r=PG&f=1", "display_name": "Nandu", "link": "https://stackoverflow.com/users/5037458/nandu"}, "edited": false, "score": 0, "creation_date": 1447885616, "post_id": 33791530, "comment_id": 55350403, "body": "what do u mean by biggest sum of consecutive elements? isn&#39;t sum of all the elements (because elements from 1..n are consecutive) same as one you want??"}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "edited": false, "score": 0, "creation_date": 1447885899, "post_id": 33791530, "comment_id": 55350524, "body": "What would the input be to get that result?"}, {"owner": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447886790, "post_id": 33791530, "comment_id": 55350894, "body": "Nop, like in the list i put, there are negative numbers.. I forgot to put the list .. {-4,5,6,-9,24,-35,4,5,78} here it is, so i want the biggest sum of consecutive number of a list like that one"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447888530, "post_id": 33792238, "comment_id": 55351579, "body": "I tried it for the list I wrote, but it send me back -4  5 6 instead of 4 5 78   with : vector&lt;int&gt; tab ={-4,5,6,-9,24,-35,4,5,78};     sum(tab);     calculate_some(tab);"}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447888753, "post_id": 33792238, "comment_id": 55351661, "body": "Hmm. I ran it with the same data set and got the expected answer. Did you copy it exactly?"}, {"owner": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447889370, "post_id": 33792238, "comment_id": 55351863, "body": "To show your final vector, the one you want you just made a for loop on &quot;ret&quot; ?"}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447889886, "post_id": 33792238, "comment_id": 55352059, "body": "Yes. Ret should contain the largest sequence"}, {"owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "reply_to_user": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "edited": false, "score": 0, "creation_date": 1447893613, "post_id": 33792238, "comment_id": 55353362, "body": "You are right. I had changed it at the last minute and assumed it worked. I&#39;ve updated it.It should work now."}], "tags": [], "owner": {"reputation": 943, "user_id": 846993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/h6iIy.jpg?s=128&g=1", "display_name": "Derek Van Cuyk", "link": "https://stackoverflow.com/users/846993/derek-van-cuyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1447893579, "last_edit_date": 1447893579, "creation_date": 1447888013, "answer_id": 33792238, "question_id": 33791530, "link": "https://stackoverflow.com/questions/33791530/calculate-the-biggest-sum-of-consecutive-elements-in-a-list/33792238#33792238", "title": "calculate the biggest sum of consecutive Elements ( in a list)", "body": "<p>First off, you'll need to keep track of two vectors, one to hold the largest sequence of characters and one to hold the values that currently being calculated. </p>\n\n<p>From there, you just need to iterate through the elements in the source vector keeping track of the previous and current value in the vector. </p>\n\n<p>If the current value is greater than the previous value, you push the current value into the current vector and then assign the previous value to the current value.</p>\n\n<p>If it's less than (or I'm assuming equal), the consecutive sequence is completed and you should start with the next sequence. This means that you need to do the following:</p>\n\n<ol>\n<li>Determine if the current vector's size is greater than or equal the largest vector's size <strong>and</strong> the sum of the current vector is greater than the sum of the largest. If it is, assign largest = current;</li>\n<li>Clear the current list</li>\n<li>Assign previous to the current int value.</li>\n</ol>\n\n<p>Here is how I would write it:</p>\n\n<pre><code>int sum(const vector&lt;int&gt;&amp; tab) {\n    int sum = 0;\n    for (size_t i = 0; i &lt; tab.size(); i++) {\n        sum += tab[i];\n    }\n\n    return sum;\n}\n\nvector&lt;int&gt; calculate_some(const vector&lt;int&gt;&amp; tab) {\n    vector&lt;int&gt; ret, current;\n\n    int previous = tab[0];\n    current.push_back(previous);\n    for (size_t i = 1; i &lt; tab.size(); i++) {\n        current.push_back(tab[i]);\n\n        if (tab[i] &lt;= previous  || i == (tab.size() - 1)) {\n            if (current.size() &gt;= ret.size() &amp;&amp; sum(current) &gt; sum(ret))\n                ret = current;\n\n            current.clear();\n        }\n\n        previous = tab[i];\n    }\n\n    return ret;\n}\n</code></pre>\n\n<p>And here is how I am calling it:</p>\n\n<pre><code>int main() {\n\n    vector&lt;int&gt; tab = { -4,5,6,-9,24,-35,4,5,78 };\n    vector&lt;int&gt; results = calculate_some(tab);\n\n    for (size_t w(0); w&lt;results.size(); ++w) {\n        cout &lt;&lt; results[w] &lt;&lt; \" \";\n    }\n\n    system(\"pause\");\n\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "is_accepted": false, "score": 0, "last_activity_date": 1447890784, "creation_date": 1447890784, "answer_id": 33792786, "question_id": 33791530, "link": "https://stackoverflow.com/questions/33791530/calculate-the-biggest-sum-of-consecutive-elements-in-a-list/33792786#33792786", "title": "calculate the biggest sum of consecutive Elements ( in a list)", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\n\n\n\n\n\n\nint sum(const vector&lt;int&gt;&amp; tab) {\n    int sum = 0;\n    for (size_t i = 0; i &lt; tab.size(); i++) {\n        sum += tab[i];\n    }\n\n    return sum;\n}\n\nvector&lt;int&gt; calculate_sume(const vector&lt;int&gt;&amp; tab) {\n    vector&lt;int&gt; ret, current;\n\n    int previous = -32767;\n    for (size_t i = 0; i &lt; tab.size(); i++) {\n        if ((tab[i] &gt; previous) == false) {\n            if (current.size() &gt;= ret.size() &amp;&amp; sum(current) &gt; sum(ret))\n                ret = current;\n\n            current.clear();\n        }\n\n        current.push_back(tab[i]);\n        previous = tab[i];\n    }\n   for(size_t w(0);w&lt;ret.size();++w) {\n       cout &lt;&lt; ret[w]&lt;&lt; \" \";\n    }\n    return ret;\n}\n\n\nint main() {\n\n    vector&lt;int&gt; tab ={-4,5,6,-9,24,-35,4,5,78};\n    sum(tab);\n    calculate_sume(tab);\n\n\n\n\n\n    return 0;\n}\n</code></pre>\n\n<p>Tell me -4 5 6</p>\n"}, {"tags": [], "owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1449333148, "creation_date": 1449333148, "answer_id": 34107902, "question_id": 33791530, "link": "https://stackoverflow.com/questions/33791530/calculate-the-biggest-sum-of-consecutive-elements-in-a-list/34107902#34107902", "title": "calculate the biggest sum of consecutive Elements ( in a list)", "body": "<p>pseudocode:</p>\n\n<pre><code>Algorithm Biggest_Consecutive_Sum\nInput: Vector v\nOutput: Biggest_Sum\n\nbegin\n\n    index = 0, Biggest_Sum = 0\n\n    while(index &lt; v.size()){\n\n        Sum = 0\n\n        while (Sum + V[index] &gt; Sum){\n            Sum = Sum + V[index]\n            index = index + 1\n        }\n\n        if(Sum &gt; Biggest_Sum) Biggest_Sum = Sum\n\n        index = index + 1\n    }\n\n    return Biggest_Sum\n\nend \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5548464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f91b35c106ffb74ad589d13902007?s=128&d=identicon&r=PG&f=1", "display_name": "Courbesteak2723", "link": "https://stackoverflow.com/users/5548464/courbesteak2723"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1616696458, "creation_date": 1447885064, "last_edit_date": 1616696458, "question_id": 33791530, "link": "https://stackoverflow.com/questions/33791530/calculate-the-biggest-sum-of-consecutive-elements-in-a-list", "title": "calculate the biggest sum of consecutive Elements ( in a list)", "body": "<p>I'm trying to calculate the biggest sum of consecutive elements of a <code>vector&lt;int&gt;</code>, but I don't really know how to do:</p>\n<p>I started to code that:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nvoid calcule_somme(vector&lt;int&gt; tab);\n\nvoid calcule_somme(vector&lt;int&gt; tab) {\n    \n    int somme_partielle(0);\n    vector&lt;int&gt; element_les_plusgrand;\n    \n    for(size_t i(0);tab.size();++i) {\n        \n        for(size_t j(i+1);tab.size();++i) {\n                element_les_plusgrand.pushback(tab[i]);\n                \n                if (tab[i]+tab[j]&gt;compteur) {\n                    element_les_plusgrand.push_back(tab[j]);\n                    compteur = tab[i]+tab[j];\n                }\n}\n\nint main() {\n    return 0;\n}\n</code></pre>\n<p>The function has to return: the biggest sum of consecutive element is &quot;4,5,78&quot; which is equal to 87.</p>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "sdl", "sdl-2"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5134293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-y218QpfR97o/AAAAAAAAAAI/AAAAAAAAAHo/C_tymFD5f38/photo.jpg?sz=128", "display_name": "Nasir  Jones", "link": "https://stackoverflow.com/users/5134293/nasir-jones"}, "edited": false, "score": 0, "creation_date": 1447886879, "post_id": 33791549, "comment_id": 55350932, "body": "yea after reading the SDL wiki it looks like SDL 2 doesnt support VS 2015"}, {"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "reply_to_user": {"reputation": 61, "user_id": 5134293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-y218QpfR97o/AAAAAAAAAAI/AAAAAAAAAHo/C_tymFD5f38/photo.jpg?sz=128", "display_name": "Nasir  Jones", "link": "https://stackoverflow.com/users/5134293/nasir-jones"}, "edited": false, "score": 0, "creation_date": 1447887154, "post_id": 33791549, "comment_id": 55351010, "body": "I would still try downloading the source code + project files, since you can almost always compile a library yourself for VS2015 with minimal changes to the solution."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 0, "last_activity_date": 1447885151, "creation_date": 1447885151, "answer_id": 33791549, "question_id": 33791492, "link": "https://stackoverflow.com/questions/33791492/having-trouble-with-sdl-2-03-and-vs-2015/33791549#33791549", "title": "having trouble with SDL 2.03 and VS 2015", "body": "<p>It looks like SDL was compiled with a different version of Visual Studio (probably VS2013). You should either make sure that you're using the correct version of SDL's .lib file for your version of Visual Studio, or grab the Source Code from SDL and compile a library yourself.</p>\n\n<p>Also, error 1 can be safely ignored most of the time.</p>\n"}], "owner": {"reputation": 61, "user_id": 5134293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-y218QpfR97o/AAAAAAAAAAI/AAAAAAAAAHo/C_tymFD5f38/photo.jpg?sz=128", "display_name": "Nasir  Jones", "link": "https://stackoverflow.com/users/5134293/nasir-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 33791549, "answer_count": 1, "score": 0, "last_activity_date": 1447885151, "creation_date": 1447884883, "question_id": 33791492, "link": "https://stackoverflow.com/questions/33791492/having-trouble-with-sdl-2-03-and-vs-2015", "title": "having trouble with SDL 2.03 and VS 2015", "body": "<p>Ok so recently I'v made the jump from VS 2013 to VS 2015 and I wanted to start a new SDL project I followed the steps on <a href=\"http://lazyfoo.net/tutorials/SDL/01_hello_SDL/index.php\" rel=\"nofollow\">here</a> to the letter and for some reason I get these linker errors whenever I try to compile my code.</p>\n\n<p><strong>error 1:</strong></p>\n\n<p>Warning LNK4098 defaultlib 'msvcrt.lib' conflicts with use of other libs; use /NODEFAULTLIB:library SDLtutorial c:\\Users\\Nas\\documents\\visual studio 2015\\Projects\\SDLtutorial\\SDLtutorial\\MSVCRTD.lib(initializers.obj)    1</p>\n\n<p><strong>error 2:</strong></p>\n\n<p>Error   LNK2019 unresolved external symbol __imp__fprintf referenced in function _ShowError SDLtutorial c:\\Users\\Nas\\documents\\visual studio 2015\\Projects\\SDLtutorial\\SDLtutorial\\sdl2main.lib(SDL_windows_main.obj)   1</p>\n\n<p><strong>error 3:</strong></p>\n\n<p>Error   LNK2019 unresolved external symbol __imp____iob_func referenced in function _ShowError  SDLtutorial c:\\Users\\Nas\\documents\\visual studio 2015\\Projects\\SDLtutorial\\SDLtutorial\\sdl2main.lib(SDL_windows_main.obj)   1</p>\n"}, {"tags": ["c++", "neural-network", "backpropagation", "mnist"], "comments": [{"owner": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "edited": false, "score": 0, "creation_date": 1447885336, "post_id": 33791406, "comment_id": 55350276, "body": "You need to train it several times get good weighs values."}, {"owner": {"reputation": 33, "user_id": 2299577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7nOs.png?s=128&g=1", "display_name": "George Simeonidis", "link": "https://stackoverflow.com/users/2299577/george-simeonidis"}, "reply_to_user": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "edited": false, "score": 0, "creation_date": 1447885935, "post_id": 33791406, "comment_id": 55350539, "body": "no matter how many epochs I use the samples are always classified in one -seemingly random- class. The mean square error converges , it doesnt improve."}, {"owner": {"reputation": 23600, "user_id": 1695172, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6319d7eafca7852cf04c88598ca31e75?s=128&d=identicon&r=PG", "display_name": "Netwave", "link": "https://stackoverflow.com/users/1695172/netwave"}, "edited": false, "score": 0, "creation_date": 1447886088, "post_id": 33791406, "comment_id": 55350611, "body": "Your code is a bit messy and I cant really see if.you are backpropagating the error properly"}, {"owner": {"reputation": 1361, "user_id": 2556165, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fGy2y.jpg?s=128&g=1", "display_name": "wowofbob", "link": "https://stackoverflow.com/users/2556165/wowofbob"}, "edited": false, "score": 1, "creation_date": 1447886664, "post_id": 33791406, "comment_id": 55350850, "body": "One-layer network is a linear system. In your case it has 10 rows and 735 columns. It&#39;s not possible to solve it. You can use non linear approximation of your problem. Use more layers."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 1, "creation_date": 1447888764, "post_id": 33791406, "comment_id": 55351666, "body": "It is common practice for &quot;sigmoid derivative&quot; functions to expect the sigmoid-squashed output, rather than the sum before the transfer function.  This kind of function evaluates <code>x * (1.0 - x)</code>.  This saves computation time when <code>sigmoid(x)</code> is already available.  So, because your <code>result[]</code> values have not been passed through the sigmoid transfer function yet, make sure your <code>sigmoidDerivative</code> function was not made for this shortcut, and effectively evaluates <code>sigmoid(x) * (1.0 - sigmoid(x))</code>."}, {"owner": {"reputation": 33, "user_id": 2299577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7nOs.png?s=128&g=1", "display_name": "George Simeonidis", "link": "https://stackoverflow.com/users/2299577/george-simeonidis"}, "edited": false, "score": 0, "creation_date": 1447928594, "post_id": 33791406, "comment_id": 55367983, "body": "Indeed , the input sigmoid derivative function uses is sigmoid&#39;s function output. I added a hidden layer today with 40 neurons and the error seems to go down to almost 0 after &gt;50 epochs so the problem is solved. Thank you for your help."}], "owner": {"reputation": 33, "user_id": 2299577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7nOs.png?s=128&g=1", "display_name": "George Simeonidis", "link": "https://stackoverflow.com/users/2299577/george-simeonidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1447885049, "creation_date": 1447884534, "last_edit_date": 1447885049, "question_id": 33791406, "link": "https://stackoverflow.com/questions/33791406/neural-network-training-using-back-propagation-issue", "title": "neural network training using back propagation issue", "body": "<p>This is the code I used to classify the handwritten digits of MNist database using back-propagation algorithm on an one-layered perceptron with 10 neurons. The digits are saved in an expanded (<code>1</code>'s in last column) integer 2d matrix <code>images[60000][785]</code> and the labels in <code>int tlabels[60000][10]</code>. Every label contains a <code>1</code> in the position corresponding to the digits value and <code>0</code>'s in the rest (digits are <code>0</code>&ndash;<code>9</code>).</p>\n\n<pre><code>// weights1[785][10] has been initialized to random values on [-0.5,0.5] in the constructor. \n// bias of neurons have been taken into account as the last row of the matrix.\n// b is the learning rate , equal to 0.5.\n\nconst int Ninput=784;\nconst int Noutput=10;\nfloat result[Noutput];\nfor (int epoch =0 ; epoch &lt; 30 ; epoch ++) { \n    float error =0;\n    for (int sample=0 ; sample &lt; 1000 ; sample++) {\n\n        for (int output= 0 ; output&lt; Noutput; output++) {\n            float sum = 0;\n            for (int input = 0 ; input &lt; Ninput+1; input++)\n                sum += weights1[input][output]*images[sample][input];\n            result[output] = sum;\n        }\n        float delta[Noutput];\n        for (int output= 0 ; output&lt; Noutput;  output++) {\n            delta[output]=(tlabels[sample][output]-sigmoid(result[output]))*sigmoidDerivative(result[output]);\n            error+= pow((tlabels[sample][output]-sigmoid(result[output])),2.0);    \n        }\n        for (int output= 0 ; output&lt; Noutput; output++)\n            for (int input=0 ; input &lt; Ninput+1 ; input++)\n                weights1[input][output] = weights1[input][output] +b*delta[output]*images[sample][input];\n    }\n    cout &lt;&lt; error / 1000.0;\n}\n</code></pre>\n\n<p>The <code>error</code> variable converges to 0.9 , meaning this code classifies all the digits into one of the classes, even though the samples are equally distributed among the classes. Is there a logical error in the code, or should I try different sets of parameters until the results become acceptable?</p>\n"}, {"tags": ["c++", "data-structures", "heap", "priority-queue"], "comments": [{"owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1447885634, "post_id": 33791402, "comment_id": 55350412, "body": "What is <code>itemClass</code>?"}, {"owner": {"reputation": 265, "user_id": 5565810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e2b03003c323544494333f6b625b571?s=128&d=identicon&r=PG&f=1", "display_name": "CRod", "link": "https://stackoverflow.com/users/5565810/crod"}, "reply_to_user": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1447886027, "post_id": 33791402, "comment_id": 55350576, "body": "@templatetypedef the data i am inserting I didnt include it because I thought it would be too much code."}, {"owner": {"reputation": 870, "user_id": 2990008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415de9934a9ea720091b7961a2dbc3a?s=128&d=identicon&r=PG&f=1", "display_name": "m7mdbadawy", "link": "https://stackoverflow.com/users/2990008/m7mdbadawy"}, "edited": false, "score": 2, "creation_date": 1447886274, "post_id": 33791402, "comment_id": 55350678, "body": "you can use templates or constructor to initialize a heap with a comparator function and use that comparator in your code instead of &gt; which will make you code work for both cases"}, {"owner": {"reputation": 265, "user_id": 5565810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e2b03003c323544494333f6b625b571?s=128&d=identicon&r=PG&f=1", "display_name": "CRod", "link": "https://stackoverflow.com/users/5565810/crod"}, "reply_to_user": {"reputation": 870, "user_id": 2990008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415de9934a9ea720091b7961a2dbc3a?s=128&d=identicon&r=PG&f=1", "display_name": "m7mdbadawy", "link": "https://stackoverflow.com/users/2990008/m7mdbadawy"}, "edited": false, "score": 0, "creation_date": 1447886783, "post_id": 33791402, "comment_id": 55350890, "body": "@m7mdbadawy for example I have my comparators declared in my Data file."}, {"owner": {"reputation": 870, "user_id": 2990008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415de9934a9ea720091b7961a2dbc3a?s=128&d=identicon&r=PG&f=1", "display_name": "m7mdbadawy", "link": "https://stackoverflow.com/users/2990008/m7mdbadawy"}, "edited": false, "score": 0, "creation_date": 1447889503, "post_id": 33791402, "comment_id": 55351917, "body": "@Mikejones you need something like std::greater&lt;itemClass&gt;() and use it for each comparison and replace it with std::less to get min heap"}, {"owner": {"reputation": 265, "user_id": 5565810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e2b03003c323544494333f6b625b571?s=128&d=identicon&r=PG&f=1", "display_name": "CRod", "link": "https://stackoverflow.com/users/5565810/crod"}, "reply_to_user": {"reputation": 870, "user_id": 2990008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d415de9934a9ea720091b7961a2dbc3a?s=128&d=identicon&r=PG&f=1", "display_name": "m7mdbadawy", "link": "https://stackoverflow.com/users/2990008/m7mdbadawy"}, "edited": false, "score": 0, "creation_date": 1447891973, "post_id": 33791402, "comment_id": 55352812, "body": "@m7mdbadawy would that be used with a template? and would be added to my heap file? sorry I am not that familiar with the use of a template"}], "owner": {"reputation": 265, "user_id": 5565810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e2b03003c323544494333f6b625b571?s=128&d=identicon&r=PG&f=1", "display_name": "CRod", "link": "https://stackoverflow.com/users/5565810/crod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447886699, "creation_date": 1447884516, "last_edit_date": 1447886699, "question_id": 33791402, "link": "https://stackoverflow.com/questions/33791402/how-do-i-implement-a-min-heap-from-a-max-heap", "title": "How do I implement a min heap from a max heap?", "body": "<p>I have a heap sorted by max values, I want to have a function where I can use min values instead to on top. I can either convert the max heap to a min, or create a min heap altogether. Which one would be easier ? </p>\n\n<p>Here is my Heap.cpp</p>\n\n<pre><code>// *********************************************************\n// Implementation file Heap.cpp for the ADT heap.\n// *********************************************************\n#include \"Heap.h\"  // header file for heap\n\nheapClass::heapClass() : Size(0)\n{\n}  // end default constructor\n\nbool heapClass::HeapIsEmpty() const\n{\nreturn bool(Size == 0);\n}  // end HeapIsEmpty\n\nvoid heapClass::HeapInsert(const heapItemType&amp; NewItem,\n                       bool&amp; Success)\n// Method: Inserts the new item after the last item in the\n// heap and trickles it up to its proper position. The\n// heap is full when it contains MAX_HEAP items.\n{\nSuccess = bool(Size &lt; MAX_HEAP);\n\nif (Success)\n{  // place the new item at the end of the heap\n    Items[Size] = NewItem;\n\n    // trickle new item up to its proper position\n    int Place = Size;\n    int Parent = (Place - 1)/2;\n    while ( (Parent &gt;= 0) &amp;&amp;\n           (Items[Place].Key() &gt; Items[Parent].Key()) )\n    {  // swap Items[Place] and Items[Parent]\n        heapItemType Temp = Items[Parent];\n        Items[Parent] = Items[Place];\n        Items[Place] = Temp;\n\n        Place = Parent;\n        Parent = (Place -1 )/2;\n    }  // end while\n\n    ++Size;\n}  // end if\n}  // end HeapInsert\n\nvoid heapClass::HeapDelete(heapItemType&amp; RootItem,\n                       bool&amp; Success)\n// Method: Swaps the last item in the heap with the root\n// and trickles it down to its proper position.\n{\nSuccess = bool(!HeapIsEmpty());\n\nif (Success)\n{  RootItem = Items[0];\n    Items[0] = Items[--Size];\n    RebuildHeap(0);\n}  // end if\n}  // end HeapDelete\n\nvoid heapClass::RebuildHeap(int Root)\n{\n// if the root is not a leaf and the root's search key\n// is less than the larger of the search keys in the\n// root's children\nint Child = 2 * Root + 1;  // index of root's left\n// child, if any\nif ( Child &lt; Size )\n{  // root is not a leaf, so it has a left child at Child\n    int RightChild = Child + 1;  // index of right child,\n    // if any\n\n    // if root has a right child, find larger child\n    if ( (RightChild &lt; Size) &amp;&amp;\n        (Items[RightChild].Key() &gt; Items[Child].Key()) )\n        Child = RightChild;  // index of larger child\n\n    // if the root's value is smaller than the\n    // value in the larger child, swap values\n    if ( Items[Root].Key() &lt; Items[Child].Key() )\n    {  heapItemType Temp = Items[Root];\n        Items[Root] = Items[Child];\n        Items[Child] = Temp;\n\n        // transform the new subtree into a heap\n        RebuildHeap(Child);\n    }  // end if\n   }  // end if\n\n// if root is a leaf, do nothing\n}  // end RebuildHeap\n</code></pre>\n\n<p>Heap.h</p>\n\n<pre><code> // *********************************************************\n // Header file Heap.h for the ADT heap.\n// *********************************************************\n\n#include \"Data.h\"  // definition of itemClass\n#include \"PrecondViolatedExcep.h\"\n\n#pragma once\n\nconst int MAX_HEAP = 20;\ntypedef itemClass keyType;\n\ntypedef itemClass heapItemType;\n\nclass heapClass\n{\npublic:\nheapClass();  // default constructor\n// copy constructor and destructor are\n// supplied by the compiler\n\n// heap operations:\nvirtual bool HeapIsEmpty() const;\n// Determines whether a heap is empty.\n// Precondition: None.\n// Postcondition: Returns true if the heap is empty;\n// otherwise returns false.\n\nvirtual void HeapInsert(const heapItemType&amp; NewItem,\n                        bool&amp; Success);\n// Inserts an item into a heap.\n// Precondition: NewItem is the item to be inserted.\n// Postcondition: If the heap was not full, NewItem is\n// in its proper position and Success is true;\n// otherwise Success is false.\n\nvirtual void HeapDelete(heapItemType&amp; RootItem,\n                        bool&amp; Success);\n// Retrieves and deletes the item in the root of a heap.\n// This item has the largest search key in the heap.\n// Precondition: None.\n// Postcondition: If the heap was not empty, RootItem\n// is the retrieved item, the item is deleted from the\n// heap, and Success is true. However, if the heap was\n// empty, removal is impossible and Success is false.\n\nprotected:\nvoid RebuildHeap(int Root);\n// Converts the semiheap rooted at index Root\n// into a heap.\n\nprivate:\nheapItemType Items[MAX_HEAP];  // array of heap items\nint          Size;             // number of heap items\n};  // end class\n// End of header file.\n</code></pre>\n\n<p>Snippet containing itemClass</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#include \"Data.h\"\n\n/* Put in definitions of methods declared in Data.h\n - modify as you wish. */\n\n/*  ==================================================\n Default constructor\n ================================================== */\nitemClass::itemClass() : trackRequest(-100),\nserialNum(-1)\n{\n}\n\n/*  ==================================================\n Constructor\n ================================================== */\nitemClass::itemClass(int trkR, int srlNum, bool dir)\n: trackRequest(trkR),\n serialNum (srlNum),direction(dir)\n{\n}\n\n   /*  ==================================================\n  Key\n  ================================================== */\n/* This method returns the search key.\n Here we assume the key is the item itself. */\n\nitemClass itemClass::Key() const\n{\nreturn *this ;\n}\n\n/*  ==================================================\n Equality Test\n ================================================== */\nbool itemClass::operator== (const itemClass&amp; Rhs) const\n{\nreturn (trackRequest == Rhs.trackRequest)\n&amp;&amp; (serialNum == Rhs.serialNum) &amp;&amp; (direction== Rhs.direction);\n}\n\n/*  ==================================================\n non-Equality Test\n ================================================== */\nbool itemClass::operator!= (const itemClass&amp; Rhs) const\n{\nreturn !(*this==Rhs) ;\n}\n\n /*  ==================================================\n Less-Than Test\n ================================================== */\nbool itemClass::operator&lt; (const itemClass&amp; Rhs) const\n{\n\n   return(trackRequest &lt; Rhs.trackRequest) &amp;&amp; (direction      &lt;=Rhs.direction);\n//return true;\n }\n\n/*  ==================================================\n Less-Than-Or-Equal Test\n ================================================== */\nbool itemClass::operator&lt;= (const itemClass&amp; Rhs) const\n{\nreturn (*this&lt;Rhs) || (*this==Rhs) ;\n}\n\n /*  ==================================================\n Greater-Than Test\n ================================================== */\nbool itemClass::operator&gt; (const itemClass&amp; Rhs) const\n{\nreturn (!(*this&lt;Rhs) &amp;&amp; !(*this==Rhs)) ;\n/* OR return (Rhs&lt;*this); */\n}\n\n/*  ==================================================\n Greater-Than-Or-Equal Test\n ================================================== */\nbool itemClass::operator&gt;= (const itemClass&amp; Rhs) const\n{\nreturn ( !(*this&lt;Rhs) ) ;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "variadic", "data-member-pointers"], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447897414, "post_id": 33791800, "comment_id": 55354444, "body": "I&#39;ll point out that <code>arrow</code> is simply <code>return (obj -&gt;* ... -&gt;* mptrs);</code> in C++17."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 1, "last_activity_date": 1447888332, "last_edit_date": 1447888332, "creation_date": 1447886248, "answer_id": 33791800, "question_id": 33791376, "link": "https://stackoverflow.com/questions/33791376/variadic-list-of-pointers-to-data-members/33791800#33791800", "title": "Variadic list of pointers to data members", "body": "<p>You need a way to apply <code>operator -&gt;*</code> in succession:</p>\n\n<pre><code>template &lt;typename T, typename MPtr&gt;\nauto arrow(T* obj, MPtr mptr)\n{\n    return obj-&gt;*mptr;\n}\n\ntemplate &lt;typename T, typename MPtr, typename ... MPtrs&gt;\nauto arrow(T* obj, MPtr mptr, MPtrs... mptrs)\n{\n    return arrow(obj-&gt;*mptr, mptrs...);\n}\n</code></pre>\n\n<p>Then your search function is simple, something like: (I prefer to return iterator over value btw)</p>\n\n<pre><code>template &lt;typename Container, typename T, typename... DataPtrs&gt;\nauto searchByDataMember (const Container&amp; container, const T&amp; t, DataPtrs... ptrs)\n{\n    return std::find_if(std::begin(container), std::end(container),\n                [&amp;](const auto&amp;e) {\n                    return arrow(e, ptrs...) == t;\n                });\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/6XU8Mf\" rel=\"nofollow\">Demo</a></p>\n"}], "owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 33791800, "answer_count": 1, "score": 0, "last_activity_date": 1447888332, "creation_date": 1447884449, "last_edit_date": 1447884795, "question_id": 33791376, "link": "https://stackoverflow.com/questions/33791376/variadic-list-of-pointers-to-data-members", "title": "Variadic list of pointers to data members", "body": "<p>Consider this working code.  The function <code>searchByDataMember</code> uses a pointer to data member as argument to search a value among a container.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n#include &lt;string&gt;\n\ntemplate &lt;typename Container, typename T, typename DataPtr&gt;\ntypename Container::value_type searchByDataMember (const Container&amp; container, const T&amp; t,\n    DataPtr ptr) {\n    for (const typename Container::value_type&amp; x : container) {\n        if (x-&gt;*ptr == t)\n            return x;\n    }\n    return typename Container::value_type{};\n}\n\nstruct Object {\n    int ID, value;\n    std::string name;\n    Object (int i, int v, const std::string&amp; n) : ID(i), value(v), name(n) {}\n};\n\nstd::list&lt;Object*&gt; objects { new Object(5,6,\"Sam\"), new Object(11,7,\"Mark\"),\n    new Object(9,12,\"Rob\"), new Object(2,11,\"Tom\"), new Object(15,16,\"John\") };\n\nint main() {\n    const Object* object = searchByDataMember (objects, 11, &amp;Object::value);\n    std::cout &lt;&lt; object-&gt;name &lt;&lt; '\\n';  // Tom\n}\n</code></pre>\n\n<p>So how to extend the above to using a variadic list of pointers to data members as arguments, in the event that a data member pointed to itself has data members to search?  For example,</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n#include &lt;string&gt;\n\ntemplate &lt;typename Container, typename T, typename... DataPtrs&gt;\ntypename Container::value_type searchByDataMember (const Container&amp; container, const T&amp; t,\n    DataPtrs... ptrs) {\n        // What to put here???\n}\n\nstruct Thing {\n    int ID, value;\n    std::string name;\n    Thing (int i, int v, const std::string&amp; n) : ID(i), value(v), name(n) {}\n};\n\nstruct Object {\n    int rank;\n    Thing* thing;\n    Object (int r, Thing* t) : rank(r), thing(t) {}\n};\n\nstd::list&lt;Object*&gt; objects { new Object(8, new Thing(5,6,\"Sam\")), new Object(2, new Thing(11,7,\"Mark\")),\n    new Object(1, new Thing(9,12,\"Rob\")), new Object(9, new Thing(2,11,\"Tom\"))};\n\nint main() {\n    // The desired syntax.\n//  const Object* object = searchByDataMember (objects, 11, &amp;Object::thing, &amp;Thing::value);\n//  std::cout &lt;&lt; object-&gt;thing-&gt;name &lt;&lt; '\\n';  // Tom (the desired output)\n}\n</code></pre>\n\n<p>So here we wish to search among the container <code>objects</code> for the <code>Object*</code>  that has a <code>Thing*</code> data member whose <code>value</code> data member is 11, which is the <code>Object*</code> that has \"Tom\".  There is to be no limit on how big a chain of pointers to data members can be passed into <code>searchByDataMember</code>. </p>\n"}, {"tags": ["c#", "c++", "pinvoke", "marshalling", "wchar-t"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1447884354, "post_id": 33791288, "comment_id": 55349781, "body": "You declared the 2nd argument to be wchar_t**.  Delete <code>ref</code>."}, {"owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447886328, "post_id": 33791288, "comment_id": 55350701, "body": "I Removed the ref from the pinvoke call and the c# code, but the StringBuilder is still empty upon return."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447886789, "post_id": 33791288, "comment_id": 55350893, "body": "Next bug is <code>result = new wchar_t[lengthIn];</code>, delete that line."}, {"owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1447898112, "post_id": 33791288, "comment_id": 55354625, "body": "Hans, That was it. Those two changes made all the difference! Working like a charm now."}], "owner": {"reputation": 445, "user_id": 385499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/077fa4c26792fae18e2f9d9b49ef2a79?s=128&d=identicon&r=PG", "display_name": "John Ten Cate", "link": "https://stackoverflow.com/users/385499/john-ten-cate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447884117, "creation_date": 1447884117, "question_id": 33791288, "link": "https://stackoverflow.com/questions/33791288/marshalling-wchar-t-via-pinvoke-in-c-does-not-return-its-value-back-to-stringb", "title": "Marshalling wchar_*t via pinvoke in c# does not return its value back to StringBuilder", "body": "<p>First of all I want to say that I know enough about c++ and pinvoke to be frustrated.</p>\n\n<p>I am currently working on a c++ wrapper and pinvoke that is not returning the info I need.</p>\n\n<p>Below are the pieces of what I am doing:\nI have a c++ method with the signature of:</p>\n\n<pre><code>DllExport int LookupFamilyName(__in PCWSTR familyName,__out_opt wchar_t* result, int lengthIn)\n</code></pre>\n\n<p>With the internal code:</p>\n\n<pre><code>UINT32 count = 0;\nUINT32 length = 0;\n\nLONG rc = GetPackagesByPackageFamily(familyName, &amp;count, NULL, &amp;length, NULL);\nif (rc == ERROR_SUCCESS)\n{\n    return int(rc);\n}\nelse if (rc != ERROR_INSUFFICIENT_BUFFER)  //122\n{\n    return int(rc);\n}\n\nPWSTR *fullNames = (PWSTR *) malloc(count * sizeof(*fullNames));\n\nif (fullNames == NULL)\n{\n    return 700010; //faile to allocate memeory\n}\n\nPWSTR buffer = (PWSTR) malloc(length * sizeof(WCHAR));\nif (buffer == NULL)\n{\n    return 700011; //faile to allocate memeory\n}\n\nrc = GetPackagesByPackageFamily(familyName, &amp;count, fullNames, &amp;length, buffer);\n\n\nif (rc != ERROR_SUCCESS)\n{\n    return int(rc);\n}\nelse\n{\n    result = new wchar_t[lengthIn];\n    for (UINT32 i = 0; i &lt; count; ++i)\n    {\n        wcscpy_s(result,lengthIn,fullNames[i]);\n    }\n}\nfree(buffer);\nfree(fullNames);\n</code></pre>\n\n<p>I am then using the following to invoke:</p>\n\n<pre><code>    [DllImport(\"ClassLibrary1.dll\", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Unicode)]\n    public static extern int LookupFamilyName(string familyName, ref StringBuilder sbPackageFullName, int len);\n</code></pre>\n\n<p>And then I am calling it from C# with the following:</p>\n\n<pre><code>string packagename = \"Microsoft.MicrosoftEdge_8wekyb3d8bbwe\";\nStringBuilder showmethemoney = new StringBuilder(64);\nint x = LookupFamilyName(packagename, ref showmethemoney,showmethemoney.Capacity);\n</code></pre>\n\n<p>I'm passing in a StringBuilder for the wchar_t* and that value is filled in with what I want by the time we get to the end of the LookupFamilyName method but when we get back to the c# code, the StringBuilder does not have the value that the wchar_t* had in the c++ code.</p>\n\n<p>For those of you that know far more then I, what do I need to do to make sure that the the value in the wchar_t* result gets passed back to the StringBuilder?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1447884361, "post_id": 33791282, "comment_id": 55349785, "body": "You don&#39;t know them then... How do the parameter types confuse you?"}, {"owner": {"reputation": 523, "user_id": 3695826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd7a619b77104dbe9e79fea1dac5420?s=128&d=identicon&r=PG&f=1", "display_name": "&#199;a\u011fr\u0131 Can Bozkurt", "link": "https://stackoverflow.com/users/3695826/%c3%87a%c4%9fr%c4%b1-can-bozkurt"}, "edited": false, "score": 0, "creation_date": 1447884568, "post_id": 33791282, "comment_id": 55349908, "body": "Both functions doing exact same work. Right?"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1447884784, "post_id": 33791282, "comment_id": 55350013, "body": "Yes, that&#39;s right. <a href=\"http://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in\">More here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "is_accepted": true, "score": 1, "last_activity_date": 1447884622, "creation_date": 1447884622, "answer_id": 33791423, "question_id": 33791282, "link": "https://stackoverflow.com/questions/33791282/difference-between-pointers-and-references-in-c/33791423#33791423", "title": "Difference between pointers and references in c++", "body": "<p>In your first example, your function is given a copy of the address of x and y. </p>\n\n<p>In the second example, your function is given the same instance of x and y as the code that function call originates from. </p>\n\n<p>By default, functions receive a copy of the variable being passed to the function. Both of your examples allow you to access the original x and y by different methods. </p>\n\n<p>See 7.2-7.4 of <a href=\"http://www.learncpp.com/#Chapter7\" rel=\"nofollow\">this guide</a> for more details and examples. </p>\n"}], "owner": {"reputation": 523, "user_id": 3695826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd7a619b77104dbe9e79fea1dac5420?s=128&d=identicon&r=PG&f=1", "display_name": "&#199;a\u011fr\u0131 Can Bozkurt", "link": "https://stackoverflow.com/users/3695826/%c3%87a%c4%9fr%c4%b1-can-bozkurt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1447885753, "accepted_answer_id": 33791423, "answer_count": 1, "score": 0, "last_activity_date": 1447884622, "creation_date": 1447884105, "question_id": 33791282, "link": "https://stackoverflow.com/questions/33791282/difference-between-pointers-and-references-in-c", "closed_reason": "Duplicate", "title": "Difference between pointers and references in c++", "body": "<p>I so confused about parameter types in C++ I have two functions in following code:</p>\n\n<pre><code>void degistir2( int *x, int *y )\n{ \n   int gecici;\n   gecici = *x; *x = *y;\n   *y = gecici;\n}\nvoid degistir3( int &amp;x, int &amp;y )\n{ \n    int gecici;\n    gecici = x; x = y;\n    y = gecici;\n}\n</code></pre>\n\n<p>What is the difference of these functions? I know the pointers and references but I don't know how it works in above functions.</p>\n"}, {"tags": ["c++", "c++11", "for-loop", "syntax"], "comments": [{"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 2, "creation_date": 1447884177, "post_id": 33791276, "comment_id": 55349684, "body": "I think.. it is because you are getting <code>p</code> by value (so.. if <code>lowerY</code> is supposed to change something on the original Point.. it will not affect the original). Try using <code>Point&amp; p</code>."}, {"owner": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "reply_to_user": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447884411, "post_id": 33791276, "comment_id": 55349822, "body": "Yeah that fixed it, I see, so it made a copy of the original and changed that. @wendelbsilva"}], "answers": [{"comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 1, "creation_date": 1447884991, "post_id": 33791474, "comment_id": 55350118, "body": "As a further note, you can would have the same problem with <code>for (auto p : item) {...}</code> because that works out to be <code>for (Point p : item) {}</code>, so you would want to use <code>for (auto &amp;p : item) {...}</code> instead."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 1, "last_activity_date": 1447884807, "creation_date": 1447884807, "answer_id": 33791474, "question_id": 33791276, "link": "https://stackoverflow.com/questions/33791276/about-c11-range-for-loops-and-iterators/33791474#33791474", "title": "About c++11 range for loops and iterators", "body": "<p>In your former code, the line</p>\n\n<pre><code>for(Point p : item) {\n</code></pre>\n\n<p>creates copies of the point every time you access the next item. To make sure that your calling of method lowerY() works, you need to redefine it as</p>\n\n<pre><code>for(Point &amp; p : item) {\n</code></pre>\n"}], "owner": {"reputation": 4638, "user_id": 4279201, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/cff52351d37f559a2f8886ccf441cdb7?s=128&d=identicon&r=PG&f=1", "display_name": "shinzou", "link": "https://stackoverflow.com/users/4279201/shinzou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 33791474, "answer_count": 1, "score": 0, "last_activity_date": 1447884807, "creation_date": 1447884085, "question_id": 33791276, "link": "https://stackoverflow.com/questions/33791276/about-c11-range-for-loops-and-iterators", "title": "About c++11 range for loops and iterators", "body": "<p>What does the <code>c++11</code> range for loops do that cause this:</p>\n\n<pre><code>std::list&lt;Point&gt; item;\n....\n//fill the list somewhere else\n....\nfor(Point p : item) {\n    p.lowerY();\n}\n</code></pre>\n\n<p>To work only one time (that is <code>lowerY()</code> does what it's supposed to do only once but the next time this loop is reached, it doesn't do anything), but this:</p>\n\n<pre><code>list&lt;Point&gt;::iterator it;\nfor (it = item.begin();it != item.end();++it) {\n    it-&gt;lowerY();\n}\n</code></pre>\n\n<p>Works perfectly every time. What's the difference?</p>\n"}, {"tags": ["c++", "if-statement", "for-loop"], "comments": [{"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447883785, "post_id": 33791065, "comment_id": 55349478, "body": "You are using  differenceofsquares2 +=  as the first line in the for loop. So the differenceofsquares2 will never reduce itself as you are compounding  (+=) the variable. For finding the minimum, you will have to loop through the whole for loop and note the lowest differenceofsquares"}, {"owner": {"reputation": 1, "user_id": 5578622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af65911fe6c309cca0b9322d533f386?s=128&d=identicon&r=PG&f=1", "display_name": "user5578622", "link": "https://stackoverflow.com/users/5578622/user5578622"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447883907, "post_id": 33791065, "comment_id": 55349535, "body": "but can i not find the min using an if statement?"}, {"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447884018, "post_id": 33791065, "comment_id": 55349593, "body": "you can but you will need another variable. read the result of the equation in a temp variable. If that variable is less than differenceofsquares2 , then copy the temp value to differenceofsquares2"}, {"owner": {"reputation": 1, "user_id": 5578622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af65911fe6c309cca0b9322d533f386?s=128&d=identicon&r=PG&f=1", "display_name": "user5578622", "link": "https://stackoverflow.com/users/5578622/user5578622"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447884193, "post_id": 33791065, "comment_id": 55349692, "body": "thanks, could you explain where i put this in the code?"}, {"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447884369, "post_id": 33791065, "comment_id": 55349790, "body": "inside the for loop, declare float tempResult = [expression]; if (tempResult &lt; differenceofsquares2) differenceofsquares2  = tempResult; Also the else if outside for looks weird."}, {"owner": {"reputation": 1, "user_id": 5578622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af65911fe6c309cca0b9322d533f386?s=128&d=identicon&r=PG&f=1", "display_name": "user5578622", "link": "https://stackoverflow.com/users/5578622/user5578622"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447884674, "post_id": 33791065, "comment_id": 55349965, "body": "ok thanks. I have done this but it is just returning 0. Where should I have the condition to add 10000 to Ea for each future loop?"}, {"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447884831, "post_id": 33791065, "comment_id": 55350037, "body": "Put out print statements to understand what&#39;s happening in the code. I have to go but will check in a few hours..."}], "owner": {"reputation": 1, "user_id": 5578622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af65911fe6c309cca0b9322d533f386?s=128&d=identicon&r=PG&f=1", "display_name": "user5578622", "link": "https://stackoverflow.com/users/5578622/user5578622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1447883309, "creation_date": 1447883309, "question_id": 33791065, "link": "https://stackoverflow.com/questions/33791065/if-statements-inside-loop-to-find-min-value-c", "title": "if statements inside loop to find min value c++", "body": "<p>In my final for loop, I want to repeat the equations and adjust the value of Ea until I find the smallest value of 'difference of squares2' and its corresponding value of Ea. I'm not sure how the if statement would work so it will stop at the point rather than continuing in which case I wont find the minimum</p>\n\n<pre><code>int main()\n{\nint T[] = { 700,730,760,790,810,840,910,1000 };\ndouble k[] = { 0.011,0.035,0.105,0.343,0.789,2.17,20,145 };\nfloat Yhat[8] = {};\nint n = 0;\nfloat Ea = 150000; //kJ\nfloat A = (1.1)*10E12;\nfloat R = 8.3144598; //kj K mol-1\nfloat bestchisquared = 0;\nfloat BestEa = 0;\n\nfor (int i = 0; i &lt; 8; i++)\n{\ncout &lt;&lt; \"Temp (K): \" &lt;&lt;  T[i] &lt;&lt; endl;\n}\nfor (int i = 0; i &lt; 8; i++)\n{\n    cout &lt;&lt; \"Rate (L mol-1 s-1): \" &lt;&lt;  k[i] &lt;&lt; endl;\n\n}\nfloat differenceofsquares = 0.0;\n\nfor (int i = 0; i &lt; 8; i++)\n{\n    differenceofsquares += (k[i] - (A*exp(-Ea / (R*T[i]))))*(k[i] - (A*exp(-Ea / (R*T[i]))));\n}\n\n\ncout &lt;&lt; \"chi squared for 150kJ: \" &lt;&lt; differenceofsquares &lt;&lt; endl;\nfloat differenceofsquares2 = 0;\n\n\nfor (int i = 0; i &lt; 8; i++)\n{\n    differenceofsquares2 += (k[i] - (A*exp(-Ea / (R*T[i]))))*(k[i] - (A*exp(-Ea / (R*T[i]))));\n\n\n    if (differenceofsquares2 &lt; differenceofsquares)\n        Ea = Ea + 10000;\n}\nelse if  bestchisquared = differenceofsquares;\n}\n\ncout &lt;&lt;\"Pre-exponential coefficient = \"&lt;&lt; A &lt;&lt; endl;\ncout &lt;&lt; \"Best chi squared = \" &lt;&lt; bestchisquared &lt;&lt; endl;\ncout &lt;&lt; \"Best Activation Energy = \" &lt;&lt; BestEa &lt;&lt; endl;\nsystem(\"Pause\");\n\nreturn 0;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1447885864, "post_id": 33790989, "comment_id": 55350508, "body": "Your shaders are quite complex for a first attempt. Why not try it first with a really simple shader that will do no transformations or lighting and then add stuff to them?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4041166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ea413abdf4031ff15717d8f738142?s=128&d=identicon&r=PG&f=1", "display_name": "wachowski.1", "link": "https://stackoverflow.com/users/4041166/wachowski-1"}, "edited": false, "score": 0, "creation_date": 1447886256, "post_id": 33791710, "comment_id": 55350668, "body": "Thanks for alerting me to this. I didn&#39;t even realize that I had mixed up the two and now it works."}], "tags": [], "owner": {"reputation": 2033, "user_id": 5578644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4cff0d89f9814ec52fbb2854dea0ada?s=128&d=identicon&r=PG&f=1", "display_name": "TimVdG", "link": "https://stackoverflow.com/users/5578644/timvdg"}, "is_accepted": true, "score": 1, "last_activity_date": 1447885850, "creation_date": 1447885850, "answer_id": 33791710, "question_id": 33790989, "link": "https://stackoverflow.com/questions/33790989/introduced-shaders-and-no-longer-draws/33791710#33791710", "title": "Introduced Shaders and No Longer Draws", "body": "<p>You should use glGetAttribLocation for the \"position\", \"normal\" and \"color\" attributes in the vertex shader.</p>\n\n<pre><code>GLuint position_attrib = glGetAttribLocation(*shader, \"position\");\nGLuint normal_attrib = glGetAttribLocation(*shader, \"normal\");\nGLuint color_attrib = glGetAttribLocation(*shader, \"color\");\n</code></pre>\n\n<p>The transformation matrices should use glGetUniformLocation instead of glGetAttribLocation.</p>\n\n<pre><code>glUniformMatrix4fv(glGetUniformLocation(*shader, \"world2eye\"), 1, GL_FALSE, &amp;view[0][0]);\nglUniformMatrix4fv(glGetUniformLocation(*shader, \"local2eye\"), 1, GL_FALSE, &amp;model_view[0][0]);\nglUniformMatrix4fv(glGetUniformLocation(*shader, \"local2clip\"), 1, GL_FALSE, &amp;model_view_projection[0][0]);\nglUniformMatrix4fv(glGetUniformLocation(*shader, \"normal_matrix\"), 1, GL_FALSE, &amp;normal[0][0]);\n</code></pre>\n\n<p>They might be interchangeable, but i wouldn't rely on it.</p>\n"}], "owner": {"reputation": 23, "user_id": 4041166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ea413abdf4031ff15717d8f738142?s=128&d=identicon&r=PG&f=1", "display_name": "wachowski.1", "link": "https://stackoverflow.com/users/4041166/wachowski-1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 33791710, "answer_count": 1, "score": 0, "last_activity_date": 1447885850, "creation_date": 1447883013, "question_id": 33790989, "link": "https://stackoverflow.com/questions/33790989/introduced-shaders-and-no-longer-draws", "title": "Introduced Shaders and No Longer Draws", "body": "<p>I added shaders to my rendering logic and I can't seem to figure out what is wrong. Prior to this it drew fine, but now I don't draw anything. I checked to make sure that the shader was compiled and linked successfully.</p>\n\n<p>Here is my rendering code, Scene::Render():</p>\n\n<pre><code>// This block renders each object in the scene\nfor (auto it = objects_.begin(); it != objects_.end(); it++) {\n    Renderer* r = it-&gt;get_renderer();\n    GLuint* shader = r-&gt;get_material()-&gt;get_shader();\n\n    glUseProgram(*shader);\n\n    glBindBuffer(GL_ARRAY_BUFFER, *r-&gt;get_vertex_buffer());\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, *r-&gt;get_index_buffer());\n\n    GLuint position_attrib = glGetUniformLocation(*shader, \"position\");\n    GLuint normal_attrib = glGetUniformLocation(*shader, \"normal\");\n    GLuint color_attrib = glGetUniformLocation(*shader, \"color\");\n\n\n    glEnableVertexAttribArray(position_attrib);\n    glEnableVertexAttribArray(normal_attrib);\n    glEnableVertexAttribArray(color_attrib);\n\n    glVertexAttribPointer(position_attrib, 4, GL_FLOAT, GL_FALSE, sizeof(engine::Vertex), (char*)NULL);\n    glVertexAttribPointer(normal_attrib, 4, GL_FLOAT, GL_FALSE, sizeof(engine::Vertex), (char*)NULL + 16);\n    glVertexAttribPointer(color_attrib, 4, GL_FLOAT, GL_FALSE, sizeof(engine::Vertex), (char*)NULL + 32);\n\n    // Set up transformation matrices for shader\n    glm::mat4 model = (*it).get_transform();\n    glm::mat4 view = main_.get_view();\n    glm::mat4 model_view = view * model;\n    glm::mat4 model_view_projection = main_.get_projection() * model_view;\n    glm::mat4 normal = glm::transpose(glm::inverse(model_view));\n\n    // Send light to shader\n    auto ambient = light_.get_ambient();\n    glUniform4f(glGetUniformLocation(*shader, \"light_ambient\"), ambient[0], ambient[1], ambient[2], ambient[3]);\n    auto diffuse = light_.get_diffuse();\n    glUniform4f(glGetUniformLocation(*shader, \"light_diffuse\"), diffuse[0], diffuse[1], diffuse[2], diffuse[3]);\n    auto specular = light_.get_specular();\n    glUniform4f(glGetUniformLocation(*shader, \"light_specular\"), specular[0], specular[1], specular[2], specular[3]);\n    auto position = light_.get_position();\n    glUniform4f(glGetUniformLocation(*shader, \"light_position\"), position[0], position[1], position[2], position[3]);\n\n    // Send material to shader\n    ambient = r-&gt;get_material()-&gt;get_ambient();\n    glUniform4f(glGetUniformLocation(*shader, \"mat_ambient\"), ambient[0], ambient[1], ambient[2], ambient[3]);\n    diffuse = r-&gt;get_material()-&gt;get_diffuse();\n    glUniform4f(glGetUniformLocation(*shader, \"mat_diffuse\"), diffuse[0], diffuse[1], diffuse[2], diffuse[3]);\n    specular = r-&gt;get_material()-&gt;get_specular();\n    glUniform4f(glGetUniformLocation(*shader, \"mat_specular\"), specular[0], specular[1], specular[2], specular[3]);\n    auto shine = r-&gt;get_material()-&gt;get_shininess();\n    glUniform1f(glGetUniformLocation(*shader, \"mat_shine\"), shine[0]);\n\n    // Send transformation matrices\n    glUniformMatrix4fv(glGetAttribLocation(*shader, \"world2eye\"), 1, GL_FALSE, &amp;view[0][0]);\n    glUniformMatrix4fv(glGetAttribLocation(*shader, \"local2eye\"), 1, GL_FALSE, &amp;model_view[0][0]);\n    glUniformMatrix4fv(glGetAttribLocation(*shader, \"local2clip\"), 1, GL_FALSE, &amp;model_view_projection[0][0]);\n    glUniformMatrix4fv(glGetAttribLocation(*shader, \"normal_matrix\"), 1, GL_FALSE, &amp;normal[0][0]);\n\n    r-&gt;Draw();\n}\n</code></pre>\n\n<p>This is the main display function:</p>\n\n<pre><code>void display() {\n    glEnable(GL_DEPTH_TEST);\n    glClearColor(0.604f, 0.784f, 0.831f, 1);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);\n    glLightModelf(GL_LIGHT_MODEL_TWO_SIDE, GL_TRUE);\n\n    scene.Render();\n\n    glDisableClientState(GL_VERTEX_ARRAY);\n\n    glutSwapBuffers();\n}\n</code></pre>\n\n<p>and finally the vertex and fragment shaders:</p>\n\n<pre><code>// default.vert\nattribute vec4 position; \nattribute vec4 color;\nattribute vec4 normal; \n\nvarying vec4 pcolor;\n\nuniform mat4 local2clip;\nuniform mat4 local2eye;\nuniform mat4 normal_matrix;\nuniform mat4 world2eye; \n\nuniform vec4 light_ambient;\nuniform vec4 light_diffuse;\nuniform vec4 light_specular;\nuniform vec4 light_pos;\n\nuniform vec4 mat_ambient;\nuniform vec4 mat_diffuse;\nuniform vec4 mat_specular;\nuniform float mat_shine; \n\nvoid main(void) {\n\n    gl_Position = local2clip * position;\n\n    vec4 ambient = light_ambient * mat_ambient; \n    vec3 N = normalize(vec3(normal_matrix * normal)); \n    vec4 Lpos = world2eye * light_pos; \n    vec4 Vpos = local2eye * position; \n    vec3 L = normalize(vec3(Lpos - Vpos)); \n\n    float NdotL; \n    if (dot(N,L) &lt;0.0) NdotL = 0.0; \n    else NdotL = dot(N, L);\n\n    vec4 diffuse = light_diffuse * mat_diffuse * NdotL; \n\n    vec3 R = normalize(reflect(-L, N)); \n    vec3 V = normalize(vec3(-Vpos)); \n\n    float RdotV; \n    RdotV = dot(R, V); \n\n    if (NdotL == 0.0) RdotV = 0.0; \n    if (RdotV &lt; 0.0) RdotV = 0.0; \n\n    vec4 specular = light_specular * mat_specular * pow(RdotV,mat_shine);\n\n    pcolor = ambient + diffuse + specular; \n\n}\n\n// default.frag\nvarying vec4 pcolor;\n\nuniform vec4 light_ambient;\nuniform vec4 light_diffuse;\nuniform vec4 light_specular;\n\nuniform vec4 mat_ambient;\nuniform vec4 mat_diffuse;\nuniform vec4 mat_specular;\n\nuniform float mat_shine; \n\nvarying vec3 N;\nvarying vec3 L;\nvarying vec3 R;\nvarying vec3 V;\n\nvoid main() { \n\n    vec4 ambient = light_ambient * mat_ambient;\n\n    float NdotL; \n    if (dot(N,L) &lt;0.0) NdotL = 0.0; \n    else NdotL = dot(N, L);\n\n    float RdotV = dot(R, V);\n    if (NdotL == 0.0) RdotV = 0.0; \n    if (RdotV &lt; 0.0) RdotV = 0.0; \n\n    vec4 diffuse = light_diffuse * mat_diffuse * NdotL; \n    vec4 specular = light_specular * mat_specular * pow(RdotV,mat_shine); \n\n    gl_FragColor = pcolor + ambient + diffuse + specular; \n\n}\n</code></pre>\n\n<p>I'm most unsure about the shader implementation, as that's what I'm currently learning. Prior to this I was using <code>glVertexPointer</code>. The reference I'm using for my implementations of display and Render seems to work, but I may have made some error in assuming their methods were transferable to my implementation.</p>\n"}, {"tags": ["c++", "arrays", "initialization"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 3, "creation_date": 1447883142, "post_id": 33790971, "comment_id": 55349129, "body": "Raw arrays don&#39;t support assignment. But you can use e.g. <code>std::copy</code> to copy the data in. Better, you can use <code>std::array</code> and then you can assign."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1447883228, "creation_date": 1447883228, "answer_id": 33791047, "question_id": 33790971, "link": "https://stackoverflow.com/questions/33790971/array-refill-after-initialization/33791047#33791047", "title": "Array refill after initialization", "body": "<pre><code>foodDiffuse = { 0.3f, 0.3f, 5.3f, 1.0f };\n</code></pre>\n\n<p>is wrong because you cannot assign to an array like that. That syntax can be used only to initialize an array. After an array is initialized, you can only change the individual elements of the array.</p>\n\n<p>Replace that line with:</p>\n\n<pre><code>foodDiffuse[0] = 0.3f;\nfoodDiffuse[1] = 0.3f;\nfoodDiffuse[2] = 5.3f;\nfoodDiffuse[3] = 1.0f;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5562262, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4478029afb180c815b3bf5f16c11ebcc?s=128&d=identicon&r=PG&f=1", "display_name": "Psychosupreme", "link": "https://stackoverflow.com/users/5562262/psychosupreme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1447885068, "answer_count": 1, "score": 0, "last_activity_date": 1447883228, "creation_date": 1447882932, "question_id": 33790971, "link": "https://stackoverflow.com/questions/33790971/array-refill-after-initialization", "closed_reason": "Duplicate", "title": "Array refill after initialization", "body": "<p>Probably something minor someone can just correct in under a minute.</p>\n\n<p>But basically I'm trying to reset the values in an array if the type of object is different from the default type \"1\".  Getting errors atm, about initializer-list cannot be used</p>\n\n<pre><code>   GLfloat foodAmbient[] = { 0.3f, 0.6f, 1.0f, 1.0f };\n    GLfloat foodSpecular[] = { 0.3f, 0.6f, 1.0f, 1.0f };\n    GLfloat foodDiffuse[] = { 5.3f, 0.3f, 1.0f, 1.0f };\n    GLfloat foodShininess[] = { 50.0 };\n\n    if (type == 2)\n    {\n        foodDiffuse = { 0.3f, 0.3f, 5.3f, 1.0f };\n    }\n\n    glMaterialfv(GL_FRONT, GL_AMBIENT, foodAmbient);\n    glMaterialfv(GL_FRONT, GL_SPECULAR, foodSpecular);\n    glMaterialfv(GL_FRONT, GL_DIFFUSE, foodDiffuse);\n</code></pre>\n"}, {"tags": ["c++", "implicit-conversion", "constructor-overloading"], "answers": [{"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 2, "creation_date": 1447883040, "post_id": 33790979, "comment_id": 55349073, "body": "Yes, but if you have 2 equally good candidates, and one is <code>delete</code>d, I would have expected the compiler to choose the other one. Any reason why this doesn&#39;t happen?"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1447883199, "post_id": 33790979, "comment_id": 55349162, "body": "@vsoftco <code>delete</code> is more like saying  &quot;call on this will fail&quot;  it doesn&#39;t mean it doesn&#39;t exist."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447883253, "post_id": 33790979, "comment_id": 55349195, "body": "I was expected to have a behaviour similar to SFINAE, where the non-matching function is simply ignored if there is another match."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1447883390, "post_id": 33790979, "comment_id": 55349262, "body": "@vsoftco It seems like you&#39;re trying to use deleted functions in a way that differs quite fundamentally from how C++ defines them. What you&#39;re after makes perfect sense, it&#39;s just not how C++ works. Given e.g. <code>void f(long); void f(int) = delete;</code>, <code>f(1)</code> won&#39;t work, and the <code>void f(int) = delete;</code> may well be added <i>specifically</i> to make <code>f(1)</code> not work. There are such deleted overloads in the standard library. By the rules you would want, <code>f(1)</code> would work, it would simply pick the <code>void f(long)</code> overload."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447883397, "post_id": 33790979, "comment_id": 55349266, "body": "@T.C. Ahh ok, this makes sense, so the deleted one has a higher rank. Thanks."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1447886236, "post_id": 33790979, "comment_id": 55350655, "body": "That&#39;s crystal clear, thanks. Is there any way of removing a function from the overload candidate set? (that&#39;s what I first though <code>=delete</code> does)"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1447886847, "post_id": 33790979, "comment_id": 55350919, "body": "@vsoftco No there&#39;s no way to do this. My suggestion is to stick to the <code>static_cast</code> this way you also show your intentions to someone who reads the code."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447886985, "post_id": 33790979, "comment_id": 55350966, "body": "Thanks, you&#39;re right. I bumped into those issues when writing a class for matrix views (lazy evaluation), where I wanted to disable temporaries etc. But I guess I have to think about a change of design ;)"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447888535, "post_id": 33790979, "comment_id": 55351582, "body": "@M.M Yes but in that case it will bind to the default copy constructor."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1447888566, "post_id": 33790979, "comment_id": 55351596, "body": "@M.M Won&#39;t in this case the compiler define an implicit copy constructor for you?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447888583, "post_id": 33790979, "comment_id": 55351604, "body": "@101010 yes, I momentarily thought it was suppressed for some reason"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447888608, "post_id": 33790979, "comment_id": 55351609, "body": "@M.M I&#39;m curios what happens if I delete the move ctor, which will disable the compiler generated copy ctor..."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447888650, "post_id": 33790979, "comment_id": 55351629, "body": "@vsoftco If you delete the move ctor copy ctor is implicitly declared deleted as well."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1447888739, "post_id": 33790979, "comment_id": 55351658, "body": "I&#39;d suggest that what you want is impossible for a good reason:  initializing a <code>T</code> from an object of type <code>T</code> should always be a copy-construction.  You could of course write <code>Foo(const Foo&amp;f): Foo(static_cast&lt;Bar&gt;(f)) {}</code>"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447888749, "post_id": 33790979, "comment_id": 55351660, "body": "@101010 Yes, it&#39;s exactly the same effect as an explicit <code>=delete</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447888773, "post_id": 33790979, "comment_id": 55351670, "body": "@vsoftco according to cppreference there is no way to suppress all copy-constructors"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447888781, "post_id": 33790979, "comment_id": 55351674, "body": "@M.M Yes I agree, that&#39;s why I should change the design."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447888820, "post_id": 33790979, "comment_id": 55351690, "body": "@M.M What do you mean? deleting the move constructor deletes the copy ctor as well."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1447888849, "post_id": 33790979, "comment_id": 55351696, "body": "@vsoftco then it&#39;s defined as deleted (as opposed to not being defined at all), which makes a difference for overload resolution"}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": true, "score": 6, "last_activity_date": 1447885109, "last_edit_date": 1447885109, "creation_date": 1447882982, "answer_id": 33790979, "question_id": 33790947, "link": "https://stackoverflow.com/questions/33790947/why-is-deleted-copy-constructor-preferred-over-implicit-conversion/33790979#33790979", "title": "Why is (deleted) copy constructor preferred over implicit conversion?", "body": "<p>It is preferred because lookup and overload resolution occurs before the deleted definition is noted on a deleted member function.</p>\n\n<p>That is, the overload resolution will not take into account the <code>delete</code> specifier and in your call:</p>\n\n<pre><code>Foo f3(f1);\n</code></pre>\n\n<p>Due to the fact that <code>f1</code> is of type <code>Foo</code>, <code>Foo(const Foo&amp;)</code> is a direct parameter type match. Consequently, is of higher rank in overload resolution than <code>Foo(const Bar&amp;)</code>.</p>\n"}], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 33790979, "answer_count": 1, "score": 4, "last_activity_date": 1447885109, "creation_date": 1447882837, "question_id": 33790947, "link": "https://stackoverflow.com/questions/33790947/why-is-deleted-copy-constructor-preferred-over-implicit-conversion", "title": "Why is (deleted) copy constructor preferred over implicit conversion?", "body": "<p>Consider the code below:</p>\n\n<pre><code>struct Bar{};\n\nstruct Foo\n{\n    Foo() = default;\n    Foo(const Bar&amp;) {}\n    Foo(const Foo&amp;) = delete;\n\n    // IMPLICIT conversion to Bar\n    operator Bar(){return {};}\n};\n\nint main() \n{\n    Foo f1;\n    Foo f2(static_cast&lt;Bar&gt;(f1)); // this is OK\n    Foo f3(f1); // does not compile, why not implicit conversion to `Bar`?\n}\n</code></pre>\n\n<p>The class <code>Bar</code> has a user-defined conversion operator to <code>Foo</code>, which accepts <code>Bar&amp;</code>s. However, in the last line of <code>main</code>, I would have expected <code>Foo f1</code> to be converted to a <code>Bar</code> then passed to <code>Foo(const Bar&amp;)</code>. However, only the deleted constructor <code>Foo(const Foo&amp;) = delete;</code> is considered. I understand that this constructor is a better match, but why isn't the <code>Foo(const Bar&amp;)</code> also in the overload set and why doesn't the compiler perform an implicit conversion?</p>\n"}, {"tags": ["c++", "memory-management", "types", "memory-alignment"], "comments": [{"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1447883025, "post_id": 33790934, "comment_id": 55349065, "body": "So what is your question?  All you&#39;ve done is say what you want to do.  You need to specifiy what compiler are you using.  What have you tried to achieve your goal and what were the results.   etc."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "reply_to_user": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1447883096, "post_id": 33790934, "comment_id": 55349104, "body": "Fair enough. Editing."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1447883731, "post_id": 33790934, "comment_id": 55349450, "body": "What are you trying to achieve with this?"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447883936, "post_id": 33790934, "comment_id": 55349553, "body": "Well for one, I want to be able to specify variable to a specific size, so instead of int which is much too large usually, types that are multiples of the minimum size. (Which will be determined by machine type and padding sizes.)"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447883994, "post_id": 33790934, "comment_id": 55349580, "body": "I also want to create my own library to work with, which will allow my programs to minimize padding for program efficiency."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447884035, "post_id": 33790934, "comment_id": 55349605, "body": "On the object level, that is. So basically, &#39;auto object memory alignment&#39;"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1447887330, "post_id": 33790934, "comment_id": 55351081, "body": "Can you give an example or two of what you expect to be able to do? It&#39;s hard to understand your goal just from the description."}], "answers": [{"comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447889779, "post_id": 33792552, "comment_id": 55352014, "body": "Except for very special cases, this is probably not worth it. The space saved is typically small, and the amount of extra code more than fills the space saved in data space. Only meaningful in (some) hardware design, where accessing individual bits is done as individual bits anyway, so you don&#39;t need extra code to extract the bits you need."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447889814, "post_id": 33792552, "comment_id": 55352036, "body": "So are you saying that it&#39;s impossible to determine because of unknown compiler behavior (unless of course you fully understand the compiler)."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447889842, "post_id": 33792552, "comment_id": 55352043, "body": "Hmmm. I&#39;m not trying to actually /force/ the alignment, just assumed that if you handed the compiler already optimized aligned data, that it would be faster?"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447889915, "post_id": 33792552, "comment_id": 55352075, "body": "When you say the extra code, what do you mean specifically? What type of instructions take up RAM?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447889968, "post_id": 33792552, "comment_id": 55352095, "body": "Uh, that&#39;s why the compiler pads and aligns things in the first place, because, except for rather special cases, it knows what the &quot;best&quot; alignment is. Of course, this is a compromise - it may, sometimes, be faster to align one <code>int</code> to 16 or 32 bytes. But usually just 4 bytes alignment is fine."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890051, "post_id": 33792552, "comment_id": 55352123, "body": "I thought that padding was excess data? Doesn&#39;t excess imply that it&#39;s not optimal. (Not saying I know, I&#39;m just curious.)"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890134, "post_id": 33792552, "comment_id": 55352153, "body": "Unless you have separate RAM and ROM in your computer (such as very specific small embedded systems), instructions and data are both in RAM. Are you designing something that is going into a (not-smart) watch? Or maybe the controls for a microwave oven, washing machine, etc? If so, reducing padding so it fits in 8KB of RAM rather than 12KB may be useful, and assuming there is space in ROM, the extra instructions will live in ROM."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890255, "post_id": 33792552, "comment_id": 55352195, "body": "I&#39;m thinking more in terms of generating thousands of small objects. If each object needs to be padded a few bits, at what point (hundreds of thousands, millions?) will it be a perceived speed detriment?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890275, "post_id": 33792552, "comment_id": 55352199, "body": "So, the padding is &quot;excess&quot; data in the sense that you typically can&#39;t use it, because it is placed between two items in a data structure (<code>struct</code> or <code>class</code>). But it&#39;s there to improve the performance of the code [and in some cases, it&#39;s required for correct operation, for example my old 68000 machine would not read an 32-bit <code>int</code> unless it was aligned to 4 bytes - it would issue an &quot;odd address trap&quot;)."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890361, "post_id": 33792552, "comment_id": 55352221, "body": "If you have millions of objects that are &quot;badly aligned&quot;, the access to those elements of the objects will be slower [in most cases] than if they are &quot;well aligned&quot;. And it can make a pretty decent difference. But without understanding EXACTLY what you are doing, it&#39;s hard to give precise advice. I&#39;ll hack up a little example, to show what I mean. See edit in a little bit."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890489, "post_id": 33792552, "comment_id": 55352265, "body": "Well I&#39;m dealing with things like AI algorithms and collision detection/physics. So generally speaking: the less ram you use, the better. I just assume having each object perfectly aligned would be a good idea."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447890536, "post_id": 33792552, "comment_id": 55352283, "body": "I was thinking like, for example, you could push all the bits that exceed the padding limit, into a universal &#39;leftovers&#39; object... so as to improve the speed."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447892445, "post_id": 33792552, "comment_id": 55352975, "body": "It is very hard to do that without making the code noticeably slower, since you need extra code to &quot;dig out&quot; those parts in some way. Most likely not worth it."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447892698, "post_id": 33792552, "comment_id": 55353048, "body": "@bigcodeszzer: Example code showing the slowing down of data-access when it is unaligned."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447892827, "post_id": 33792552, "comment_id": 55353090, "body": "Digging it out may not be worth it but you could possibly have a child object for each polymorphic tree that gathers all the excess bits. Or there&#39;s something also to be said about design practice as far as knowing the padding limit."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447892987, "post_id": 33792552, "comment_id": 55353149, "body": "Interesting example but I&#39;d prolly say having that 7.5% difference is significant, especially when you add up a lot of aligned vs unaligned objects across a large program."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447893052, "post_id": 33792552, "comment_id": 55353172, "body": "Yes, the aligned version is 7.5% faster, which is definitely worth having in most programs. That&#39;s what I was saying in the first place - you don&#39;t want to &quot;mess&quot; with the alignment and padding."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447893645, "post_id": 33792552, "comment_id": 55353372, "body": "Right, but what I&#39;m suggesting is that the programs are aligned manually, with every object size being in multiples of the minimum length. For example, in Java, that min length is 8. So the program is designed so all objects fit multiples of 8&#39;s."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447893725, "post_id": 33792552, "comment_id": 55353402, "body": "What I&#39;m suggesting is, if the objects can&#39;t meet the 8bit requirement, that the excess data is cut off and then stuck into another object so that it /will/ fit in division of 8. This way there is no unused padding data."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447893971, "post_id": 33792552, "comment_id": 55353474, "body": "Are you talking about bitfields in structs? Yes, but then you need extra <code>and</code> and <code>shift</code> instructions to extract the data. It&#39;s NEARLY always worse than having 8-bit (or bigger) data items in the first place."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447894612, "post_id": 33792552, "comment_id": 55353652, "body": "Well, in the case of a data type, yeah, it would be harder. But I&#39;m also talking about object byte length. Objects are also padded. So all I&#39;m saying is, you remove the trailing data that exceeds the limit, and put all trailing data in a different object."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447894657, "post_id": 33792552, "comment_id": 55353657, "body": "In the case of data types, I suppose you could use boolean arrays instead of normal types, and compute the binary numbers. That&#39;s the only thing I can think of."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447894824, "post_id": 33792552, "comment_id": 55353711, "body": "But any such operation will require bit-shifts and and/or operations to separate out/combine elements. It&#39;s significantly slower, unless it is quite rare to use such data."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447895972, "post_id": 33792552, "comment_id": 55354067, "body": "Well everything is in binary ultimately. If you track indices,  theoretically you could manipulate different arrays mathematically. How does the cpu work with binary in terms of int, double etc. Is it different?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447896409, "post_id": 33792552, "comment_id": 55354182, "body": "Well, if it&#39;s nicely aligned and available as a 32-bit &quot;object&quot;, the CPU can just load it. It is not &quot;converted to binary&quot;, it is always binary (except when reading in text from the console or a file, where it is converted to binary as part of the read function). And of course, the reverse when printing it."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447896856, "post_id": 33792552, "comment_id": 55354291, "body": "Which would increase the speed, no? That is what I&#39;m after. I wonder if it could be constructed into a library to make it automatic."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1447896865, "post_id": 33792552, "comment_id": 55354294, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/95502/discussion-between-bigcodeszzer-and-mats-petersson\">continue this discussion in chat</a>."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1448073509, "post_id": 33792552, "comment_id": 55443390, "body": "<a href=\"http://stackoverflow.com/questions/33829894/memory-efficient-ai-objects-for-physics-game\" title=\"memory efficient ai objects for physics game\">stackoverflow.com/questions/33829894/&hellip;</a>"}], "tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": true, "score": 3, "last_activity_date": 1447892317, "last_edit_date": 1447892317, "creation_date": 1447889491, "answer_id": 33792552, "question_id": 33790934, "link": "https://stackoverflow.com/questions/33790934/custom-data-size-for-memory-alignment/33792552#33792552", "title": "Custom data size for memory alignment", "body": "<p>This is a lot more complex than what you are trying to describe, as there are requirements for alignment on objects and items within objects. For example, if the compiler decides that an integer item is 16 bytes into a <code>struct</code> or <code>class</code>, it may well decide that \"ah, I can use an aligned SSE instruction to load this data, because it is aligned at 16 bytes\" (or something similar in ARM, PowerPC, etc). So if you do not satisfy AT LEAST that alignment in your code, you will cause the program to go wrong (crash or misread the data, depending on the architecture).</p>\n\n<p>Typically, the alignment used and given by the compiler will be \"right\" for whatever architecture the compiler is targeting. Changing it will often lead to worse performance. Not always, of course, but you'd better know exactly what you are doing before you fiddle with it. And measure the performance before/after, and test thoroughly that nothing has been broken.</p>\n\n<p>The padding is typically just to the next \"minimum alignment for the largest type\" - e.g. if a <code>struct</code> contains only <code>int</code> and a couple of <code>char</code> variables, it will be padded to 4 bytes [inside the struct and at the end, as required]. For <code>double</code>, padding to 8 bytes is done to ensure, but three <code>double</code> will, typically, take up 8 * 3 bytes with no further padding.</p>\n\n<p>Also, determining what hardware you are executing on (or will execute on) is probably better done during compilation, than during runtime. At runtime, your code will have been generated, and the code is already loaded. You can't really change the offsets and alignments of things at this point.</p>\n\n<p>If you are using the gcc or clang compilers, you can use the <a href=\"https://gcc.gnu.org/onlinedocs/gcc-3.2/gcc/Variable-Attributes.html\" rel=\"nofollow\"><code>__attribute__((aligned(n)))</code></a>, e.g. <code>int x[4] __attribute__((aligned(32)));</code> would create a 16-byte array that is aligned to 32 bytes. This can be done inside structures or classes as well as for any variable you are using. But this is a compile-time option, can not be used at runtime.</p>\n\n<p>It is also possible, in C++11 onwards, to find out the alignment of a type or variable with <a href=\"http://en.cppreference.com/w/cpp/language/alignof\" rel=\"nofollow\"><code>alignof</code></a>. </p>\n\n<p>Note that it gives the alignment required for the type, so if you do something daft like:</p>\n\n<pre><code> int x;\n char buf[4 * sizeof(int)];\n int *p = (int *)buf + 7;\n std::cout &lt;&lt; alignof(*p) &lt;&lt; std::endl;\n</code></pre>\n\n<p>the code will print 4, although the alignment of <code>buf+7</code> is probably 3 (7 modulo 4).</p>\n\n<p>Types can not be chosen at runtime. C++ is a statically typed language: the type of something is determined at runtime - sure, classes that derive from a baseclass can be created at runtime, but for any given object, it has ONE TYPE, always and forever until it is no longer allocated. </p>\n\n<p>It is better to make such choices at compile-time, as it makes the code much more straight forward for the compiler, and will allow better optimisation than if the choices are made at runtime, since you then have to make a runtime decision to use branch A or branch B of some piece of code.</p>\n\n<p>As an example of aligned vs. unaligned access:</p>\n\n<pre><code>#include &lt;cstdio&gt;\n#include &lt;cstdlib&gt;\n#include &lt;vector&gt;\n\n#define LOOP_COUNT 1000\n\nunsigned long long rdtscl(void)\n{\n    unsigned int lo, hi;\n    __asm__ __volatile__ (\"rdtsc\" : \"=a\"(lo), \"=d\"(hi));\n    return ( (unsigned long long)lo)|( ((unsigned long long)hi)&lt;&lt;32 );\n}\n\nstruct A\n{\n    long a;\n    long b;\n    long d;\n    char c;\n};\n\nstruct B \n{\n    long a;\n    long b;\n    long d;\n    char c;\n} __attribute__((packed));\n\nstd::vector&lt;A&gt; arr1(LOOP_COUNT);\nstd::vector&lt;B&gt; arr2(LOOP_COUNT);\n\n\nint main()\n{\n    for (int i = 0; i &lt; LOOP_COUNT; i++)\n    {\n    arr1[i].a = arr2[i].a = rand();\n    arr1[i].b = arr2[i].b = rand();\n    arr1[i].c = arr2[i].c = rand();\n    arr1[i].d = arr2[i].d = rand();\n    }\n\n    printf(\"align A %zd, size %zd\\n\", alignof(A), sizeof(A));\n    printf(\"align B %zd, size %zd\\n\", alignof(B), sizeof(B));\n    for(int loops = 0; loops &lt; 10; loops++)\n    {\n    printf(\"Run %d\\n\", loops);\n    size_t sum = 0;\n    size_t sum2 = 0;\n    unsigned long long before = rdtscl();\n    for (int i = 0; i &lt; LOOP_COUNT; i++)\n        sum += arr1[i].a + arr1[i].b + arr1[i].c + arr1[i].d;\n    unsigned long long after = rdtscl();\n    printf(\"ARR1 %lld sum=%zd\\n\",(after - before),  sum);\n\n    before = rdtscl();\n    for (int i = 0; i &lt; LOOP_COUNT; i++)\n        sum2 += arr2[i].a + arr2[i].b + arr2[i].c + arr2[i].d;\n    after = rdtscl();\n    printf(\"ARR2 %lld sum=%zd\\n\",(after - before),  sum2);\n    }\n}\n</code></pre>\n\n<p>[Part of that code is taken from another project, so it's perhaps not the neatest C++ code ever written, but it saved me writing code from scratch, that isn't relevant to the project]</p>\n\n<p>Then the results:</p>\n\n<pre><code>$ ./a.out\nalign A 8, size 32\nalign B 1, size 25\nRun 0\nARR1 5091 sum=3218410893518\nARR2 5051 sum=3218410893518\nRun 1\nARR1 3922 sum=3218410893518\nARR2 4258 sum=3218410893518\nRun 2\nARR1 3898 sum=3218410893518\nARR2 4241 sum=3218410893518\nRun 3\nARR1 3876 sum=3218410893518\nARR2 4184 sum=3218410893518\nRun 4\nARR1 3875 sum=3218410893518\nARR2 4191 sum=3218410893518\nRun 5\nARR1 3876 sum=3218410893518\nARR2 4186 sum=3218410893518\nRun 6\nARR1 3875 sum=3218410893518\nARR2 4189 sum=3218410893518\nRun 7\nARR1 3925 sum=3218410893518\nARR2 4229 sum=3218410893518\nRun 8\nARR1 3884 sum=3218410893518\nARR2 4210 sum=3218410893518\nRun 9\nARR1 3876 sum=3218410893518\nARR2 4186 sum=3218410893518\n</code></pre>\n\n<p>As you can see, the code that is aligned, using <code>arr1</code> takes around 3900 clock-cycles, and the one using <code>arr2</code> takes around 4200 cycles. So 300 cycles in roughly 4000 cycles, some 7.5% if my \"menthol arithmetic\" is works correctly.</p>\n\n<p>Of course, like so many different things, it really depends on the exact situation, how the objects are used, what the cache-size is, exactly what processor it is, how much other code and data in other places around it also using cache-space. The only way to be certain is to experiment with YOUR code.</p>\n\n<p>[I ran the code several times, and although I didn't always get the same results, I always got similar proportional results]</p>\n"}], "owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 33792552, "answer_count": 1, "score": 0, "last_activity_date": 1447892317, "creation_date": 1447882781, "last_edit_date": 1447889524, "question_id": 33790934, "link": "https://stackoverflow.com/questions/33790934/custom-data-size-for-memory-alignment", "title": "Custom data size for memory alignment", "body": "<p>Each datatype has a certain range, based on the hardware. For example, on a 32bit machine an int has the range -2147483648 to 2147483647.</p>\n\n<p>C++ compilers 'pad' object memory to fit into certain sizes. I'm pretty sure it's 2, 4, 8, 16, 32, 64 etc. This also probably depends on the machine.</p>\n\n<p>I want to manually align my objects to meet padding requirements. Is there a way to:</p>\n\n<ul>\n<li>Determine what machine a program is running on</li>\n<li>Determine padding sizes</li>\n<li>Set custom data-type based on bitsize </li>\n</ul>\n\n<p>I've used bitsets before in Java, but I'm not familiar with C++. As for machine requirements, I know programs for different hardware sets are usually compiled differently in C++, so I'm wondering if its even possible at all.</p>\n\n<p>Example-></p>\n\n<pre><code>/*getHardwarePack size obviously doesn't exist, just here to explain. What I'm trying to get  \nhere would be the minimum alignment size for the machine the program is running on*/\n\n#define PACK_SIZE = getHardwarePackSize();\n#define MONTHS = 12;\n\nclass date{\n\n    private:\n\n           //Pseudo code that represents making a custom type\n           customType monthType = MONTH/PACK_SIZE; \n\n           monthType.remainder  = MONTH % PACK_SIZE;\n\n           monthType months = 12;\n};\n</code></pre>\n\n<p>The idea is to be able to fit every variable into the minimum bit size and track how many bits are left over.</p>\n\n<p>Theoretically, it would be possible to make use of every unused bit and improve memory efficiency. Obviously this would never work anything like this, but the example is just to explain the concept.</p>\n"}, {"tags": ["c++", "oop", "c++11", "operator-overloading", "sdl-2"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447882844, "post_id": 33790845, "comment_id": 55348966, "body": "If it&#39;s not too much trouble, could you add a relevant portion of your stdout logging to illustrate?"}, {"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447882886, "post_id": 33790845, "comment_id": 55348990, "body": "Ok, it will be here in approx. 5 minutes."}, {"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447883606, "post_id": 33790845, "comment_id": 55349387, "body": "Found  solution, so no need to examples. Thank you and others anyway."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447883812, "post_id": 33790845, "comment_id": 55349488, "body": "So you&#39;re saying that <code>for (auto p : particles)</code> creates a copy of <code>particles</code>, or rather, <code>p</code> is a copy? What&#39;s the syntax that fixes it? Or do you need to override an iteration operator to return a ref?"}, {"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447884094, "post_id": 33790845, "comment_id": 55349638, "body": "@Kenney are you asking for being curious or to test me? :) Anyway, first thing came to my mind is iterators. Then, indexed access is also an option. Then blablabla.. And some other bla bla is possible too."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1447884184, "post_id": 33790845, "comment_id": 55349686, "body": "No I&#39;m genuinely curious, and I also thought if you explained the problem and the solution, yours would make for a great question."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447883194, "post_id": 33790982, "comment_id": 55349161, "body": "Tried c=a+b. Gave error <code>error: ambiguous overload for \u2018operator+\u2019 (operand types are \u2018sim::Vector2\u2019 and \u2018sim::Vector2\u2019)   auto c = a + b;</code>"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "reply_to_user": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447883440, "post_id": 33790982, "comment_id": 55349296, "body": "@FatihYaz\u0131c\u0131 I updated the answer to include more changes that are needed."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1447883512, "post_id": 33790982, "comment_id": 55349334, "body": "@AnonMail You don&#39;t want to change those to by ref; he modifies a local copy and returns that. If you change the operator+ to take lhs by ref, then <code>a = b + c</code> will change <code>b</code>."}], "tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": -1, "last_activity_date": 1447883418, "last_edit_date": 1447883418, "creation_date": 1447882992, "answer_id": 33790982, "question_id": 33790845, "link": "https://stackoverflow.com/questions/33790845/c-member-function-cannot-change-private-field/33790982#33790982", "title": "C++ Member Function Cannot Change Private Field", "body": "<p>I can see that these two operators are taking their first args by value.  Change them so the take their args by reference.</p>\n\n<pre><code>Vector2 operator+(Vector2 lhs, const Vector2&amp; rhs) { // lhs should be a const reference\n    lhs += rhs;\n    cout &lt;&lt; \"op+\" &lt;&lt; endl;\n    return lhs;\n}\n\nVector2 operator*(Vector2 lhs, double k) { // lhs should be a const reference\n    lhs *= k;\n    cout &lt;&lt; \"op*\" &lt;&lt; endl;\n    return lhs;\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Also these functions should take their class args as <code>const</code> referenecs:</p>\n\n<pre><code>friend Vector2 operator+(Vector2 lhs, const Vector2&amp; rhs);\nfriend Vector2 operator-(Vector2 lhs, const Vector2&amp; rhs);\nfriend Vector2 operator*(Vector2 lhs, double k);\nfriend Vector2 operator*(double k, Vector2 rhs);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447883731, "post_id": 33791086, "comment_id": 55349451, "body": "True for + and - operators. But I planned to handle Vector2 * Double and Double * Vector2 at the very beginning."}, {"owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "reply_to_user": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447883827, "post_id": 33791086, "comment_id": 55349496, "body": "Exactly, that is why I didn&#39;t put this function <code>friend Vector2 operator*(double k, Vector2 rhs);</code> in my answer."}, {"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447883957, "post_id": 33791086, "comment_id": 55349565, "body": "Oh, i could not get the point for multiplication. You are saying that the 3rd line of your suggestion can handle both left- and right-multiplication, right?"}, {"owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "reply_to_user": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447884078, "post_id": 33791086, "comment_id": 55349628, "body": "Nope, Basically, if <code>Vector2</code> is the left operand you can make it a member function. So Vector2*double will be handled by <code>Vector2 operator*(const double k);</code> and double*Vector2 will be handled by <code>friend Vector2 operator*(double k, Vector2 rhs);</code>. I&#39;ll update the answer to make it more clear."}, {"owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "edited": false, "score": 0, "creation_date": 1447884276, "post_id": 33791086, "comment_id": 55349737, "body": "OK, thank you for suggestion."}], "tags": [], "owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1447884199, "last_edit_date": 1447884199, "creation_date": 1447883403, "answer_id": 33791086, "question_id": 33790845, "link": "https://stackoverflow.com/questions/33790845/c-member-function-cannot-change-private-field/33791086#33791086", "title": "C++ Member Function Cannot Change Private Field", "body": "<p>Some comments on your code,\nyou can just change these to be member functions</p>\n\n<pre><code>friend Vector2 operator+(Vector2 lhs, const Vector2&amp; rhs);\nfriend Vector2 operator-(Vector2 lhs, const Vector2&amp; rhs);\nfriend Vector2 operator*(Vector2 lhs, double k);\nfriend Vector2 operator*(double k, Vector2 lhs);\n</code></pre>\n\n<p>as in </p>\n\n<pre><code>Vector2 operator+(const Vector2&amp; rhs);\nVector2 operator-(const Vector2&amp; rhs);\nVector2 operator*(const double k);\nfriend Vector2 operator*(const double k, Vector2 lhs);\n</code></pre>\n\n<p>In them copy <code>this</code> to a new <code>Vector2</code> and then update the value and return. The fourth function is kept as friend so that you can have something like double*Vector2 while the third one takes care of Vector2*double</p>\n\n<p>Any operation that has Vector2 as the left operand can be done as a member function.</p>\n"}], "owner": {"reputation": 13, "user_id": 4911614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3548af1aa21f466a89f9c8eee10c2ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih Yaz\u0131c\u0131", "link": "https://stackoverflow.com/users/4911614/fatih-yaz%c4%b1c%c4%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "closed_date": 1447885033, "answer_count": 2, "score": 0, "last_activity_date": 1447884643, "creation_date": 1447882450, "last_edit_date": 1447884643, "question_id": 33790845, "link": "https://stackoverflow.com/questions/33790845/c-member-function-cannot-change-private-field", "closed_reason": "Duplicate", "title": "C++ Member Function Cannot Change Private Field", "body": "<p>OH! I found the problem. As I said at end, it was a simple problem.\nIn for loop, i iterated wiht copy of \"Particle\"s. I updated them but the operation does not affect the original values that stored in vector. </p>\n\n<p>For requests about solution one can access the particle objects using 3 major ways.\n<code>lvalue-ref</code> object way:</p>\n\n<pre><code>for (auto&amp; p: particles)\n    ...\n</code></pre>\n\n<p>Or by iterators:</p>\n\n<pre><code>for (auto it=particles.begin(); i&lt;particles.end();++it)\n    ...\n</code></pre>\n\n<p>Or by plain indexes:</p>\n\n<pre><code>for (size_t i=0; i&lt;particles.size(); ++i)\n    ...\n</code></pre>\n\n<p>For ones that curious about code, you may look below:</p>\n\n<hr>\n\n<p>If I am not missing something very obvious, I encountered with a really strange problem.</p>\n\n<p>To simplify the problem, I have a class named \"Particle\", which has a function called \"update\". Particle class has some private variables like position, velocity etc. And update function is supposed to make some calculations and add proper values to that private variables. But, that simply does not work.</p>\n\n<p>Actually, I am sceptical about the type of that variables which is a class written by me, \"Vector2\". </p>\n\n<p>To add values to variables, I've used the \"+=\" operator, and I think I implemented them correctly(?) in my Vector2 class.</p>\n\n<p>To clarify situation, IMHO, it is better to give some code:</p>\n\n<p>This is my Vector2.h :</p>\n\n<pre><code>namespace sim {\n\n#include &lt;ostream&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nstruct Vector2 {\n    double x, y;\n\n    Vector2&amp; operator+=(const Vector2&amp; rhs) {\n        this-&gt;x += rhs.x;\n        this-&gt;y += rhs.y;\n        cout &lt;&lt; \"op+=\" &lt;&lt; endl;\n        return *this;\n    }\n\n    Vector2&amp; operator*=(double k) {\n        x *= k;\n        y *= k;\n        cout &lt;&lt; \"op*=\" &lt;&lt; endl;\n        return *this;\n    }\n\n    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const Vector2&amp; v2);\n    friend Vector2 operator+(Vector2 lhs, const Vector2&amp; rhs);\n    friend Vector2 operator-(Vector2 lhs, const Vector2&amp; rhs);\n    friend Vector2 operator*(Vector2 lhs, double k);\n    friend Vector2 operator*(double k, Vector2 rhs);\n};\n\nostream&amp; operator&lt;&lt;(ostream&amp; os, const Vector2&amp; v2) {\n    os &lt;&lt; \"[ \" &lt;&lt; v2.x &lt;&lt; \"; \" &lt;&lt; v2.y &lt;&lt; \" ]\";\n    return os;\n}\n\nVector2 operator+(Vector2 lhs, const Vector2&amp; rhs) {\n    lhs += rhs;\n    cout &lt;&lt; \"op+\" &lt;&lt; endl;\n    return lhs;\n}\n\nVector2 operator*(Vector2 lhs, double k) {\n    lhs *= k;\n    cout &lt;&lt; \"op*\" &lt;&lt; endl;\n    return lhs;\n}\n</code></pre>\n\n<p>(removed some unrelated parts like constructor)</p>\n\n<p>And this is Particle class:</p>\n\n<pre><code>class Particle {\nprivate:\n    Vector2 pos;\n    Vector2 vel;\n    Vector2 acc;\n    double rad;\n    SDL_Color clr;\n\npublic:\n    Particle(\n            Vector2 _p,\n            Vector2 _v,\n            Vector2 _a,\n            double _r = 10.0,\n            SDL_Color _c = { 255, 255, 255, 255 }) {\n\n        pos = _p;\n        vel = _v;\n        acc = _a;\n\n        rad = _r;\n        clr = _c;\n    }\n\n    Vector2&amp; move_particle(Vector2 move_by) {\n        return (pos += move_by);\n    }\n\n    void update(double dt) {\n        this-&gt;vel += acc * dt;\n        this-&gt;pos += vel * dt;\n\n        cout &lt;&lt; \"update \" &lt;&lt; pos &lt;&lt; vel &lt;&lt; acc &lt;&lt; endl;\n    }\n\n    void render(SDL_Renderer* renderer) {\n        // TODO: this was supposed to be a circle, but, who cares? ;)\n        SDL_Rect r = { int(pos.x), int(pos.y), int(rad), int(rad) };\n        SDL_RenderFillRect(renderer, &amp;r);\n\n        cout &lt;&lt; \"render\" &lt;&lt; endl;\n    }\n};\n</code></pre>\n\n<p>And the result: update does not update.</p>\n\n<h2>How do I know (guess) my overloads DOES work?</h2>\n\n<p>For 3 <code>Vector2</code> objects, I can do any kind of operation I defined correctly.\nAnd the results are just what they supposed to be. (Or, maybe not?)</p>\n\n<p>But debugging update function roughly brings me to the point that actually += operator works for one time, and not again BUT this behaviour is showing itself only in update function.</p>\n\n<p>And I know, this will be such a simple mistake that I possibly feel ashamed (just kidding). </p>\n\n<p>Oh, and the main code of course:</p>\n\n<pre><code>int main() {\n    SDL_Init(SDL_INIT_EVERYTHING);\n    auto window = SDL_CreateWindow(\"My Very First Particle Simulation\", -1, -1,\n            1024, 768, SDL_WINDOW_SHOWN);\n    auto renderer = SDL_CreateRenderer(window, -1, SDL_RENDERER_ACCELERATED);\n\n    const Vector2 g(0.0, 9.8);\n    double dt = 0.1;\n\n    std::vector&lt;Particle&gt; particles;\n\n    bool quit = false;\n    while (!quit) {\n        SDL_Event event;\n        while (SDL_PollEvent(&amp;event)) {\n            switch (event.type) {\n            case SDL_QUIT:\n                quit = true;\n                break;\n            case SDL_MOUSEBUTTONUP:\n                particles.emplace_back(Vector2(event.button.x, event.button.y), Vector2(1.0, 0.0), g);\n                break;\n            default:\n                break;\n            }\n\n            SDL_RenderClear(renderer);\n\n            for (auto p : particles) {\n                p.update(dt);\n                p.render(renderer);\n            }\n\n            SDL_RenderPresent(renderer);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-c++", "copy-elision"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447883772, "post_id": 33790822, "comment_id": 55349474, "body": "Which GCC version are we talking about? (And N3690 is ancient.)"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1447898029, "post_id": 33790822, "comment_id": 55354599, "body": "Can&#39;t reproduce. I tried all 6 combinations on <a href=\"http://rextester.com/runcode\" rel=\"nofollow noreferrer\">rextester.com/runcode</a> (three compilers times two flavors of <code>operator+</code>), and all six print <code>1</code>."}, {"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447898152, "post_id": 33790822, "comment_id": 55354632, "body": "I&#39;ll get back later with exacting details of compiler."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1447898867, "post_id": 33790822, "comment_id": 55354832, "body": "What happens is that, rather than being copied, the passed-by-value parameter is moved into the result. <a href=\"http://rextester.com/OAEAXM23610\" rel=\"nofollow noreferrer\">Demo</a>. See also <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1148\" rel=\"nofollow noreferrer\">DR1148</a>"}, {"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447899159, "post_id": 33790822, "comment_id": 55354918, "body": "Your demo also gives &quot;1&quot;."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1447899922, "post_id": 33790822, "comment_id": 55355133, "body": "Yes. You asked whether VC is wrong when it supposedly elides copying of the formal parameter, in violation of the standard. I show that a) it is not in violation - the standard allows moving the formal parameter, and VC does just that, and b) other compilers do the same (<a href=\"http://rextester.com/EAHGA86690\" rel=\"nofollow noreferrer\">gcc demo</a>; <a href=\"http://rextester.com/ADF84018\" rel=\"nofollow noreferrer\">clang demo</a>)."}, {"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447905495, "post_id": 33790822, "comment_id": 55356646, "body": "&quot;the passed-by-value parameter is moved into the result&quot;  how&#39;s that not in contradiction of what I quoted, where the formal parameter is not allowed to be aliased with the return value?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1447910403, "post_id": 33790822, "comment_id": 55358130, "body": "How <i>is</i> it in contradiction, in your opinion? moved != aliased"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 2, "creation_date": 1447910736, "post_id": 33790822, "comment_id": 55358239, "body": "See also <b>12.8p32</b> (the very next paragraph) - this is what permits, and in fact requires, the return value to be move-constructed (as opposed to copy-constructed) from the parameter."}, {"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447965557, "post_id": 33790822, "comment_id": 55393344, "body": "Ah, so I (and the person who showed me this) should instrument the <code>move</code> constructor as well."}], "answers": [{"comments": [{"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447987644, "post_id": 33816636, "comment_id": 55402081, "body": "That is the calling convention and separate compilation preventing the NRVO from being practical. But that does not explain why there&#39;s a rule against it: for some calling convention mechanisms,  inlining, link-time-code-generation etc. there is no &quot;too late&quot;.  I wrote &quot;(I&#39;m not saying that the optimizer would figure things out depending on calling conventions and in light of separate compilation of caller and call-ee, but merely why it&#39;s not allowed.)&quot; and your answer says &quot;it&#39;s not a good opportunity&quot;."}], "tags": [], "owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "is_accepted": false, "score": 1, "last_activity_date": 1447977541, "creation_date": 1447977541, "answer_id": 33816636, "question_id": 33790822, "link": "https://stackoverflow.com/questions/33790822/why-does-copy-elision-make-an-exception-for-formal-parameters/33816636#33816636", "title": "Why does copy elision make an exception for formal parameters?", "body": "<p>First of all, understand that RVO and NRVO are opportunities offered by the writers of the standard to writers of compilers. A given compiler is free to ignore the possibility of RVO or NRVO if it can't make it work, if it doesn't know if it can make it work, if the moon is full, etc.</p>\n\n<p>In this case, though, it's easy. The way (N)RVO is fundamentally implemented, is by constructing the return value directly into the memory occupied by the return value, or even the memory occupied by the variable which will be set to that return value. </p>\n\n<p>That is, the potential savings from (N)RVO come not just from the ability to elide copy construction, but the ability to reduce copying in general.</p>\n\n<p>But when the source of the return value is a function parameter, it's too late for that. <code>left</code> is already somewhere in memory, and the return value has to go somewhere else. Short of some brute-force as-if-ruling from inlining, copying is already a given, because a second object has already been constructed. </p>\n"}, {"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447979432, "post_id": 33816894, "comment_id": 55399645, "body": "NB. If you want to test without copy elision, use <code>-fno-elide-constructors</code> in gcc.  To test with no move semantics, do not declare the move constructor at all, and add in <code>~Triple(){}</code> which suppresses implicit generation of the move-constructor. Also note that VS (before 2015) has a bug where move-constructors are not implicitly generated even without the user-declared destructor."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1447996427, "post_id": 33816894, "comment_id": 55404651, "body": "@JD\u0142ugosz Oh right. Yeah, my last paragraph is naff"}, {"owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1448002503, "post_id": 33816894, "comment_id": 55406953, "body": "Being difficult for the compiler - the compiler not caring to handle such a case - is not a reason to <i>prohibit</i> it."}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1447996436, "last_edit_date": 1447996436, "creation_date": 1447979044, "answer_id": 33816894, "question_id": 33790822, "link": "https://stackoverflow.com/questions/33790822/why-does-copy-elision-make-an-exception-for-formal-parameters/33816894#33816894", "title": "Why does copy elision make an exception for formal parameters?", "body": "<p>If copy elision is disabled, both cases consist of 1 copy followed by 3 moves. (Any output of <code>2</code> for your code would indicate a compiler bug).</p>\n\n<p>The copy is:</p>\n\n<ul>\n<li>initialization of <code>left</code></li>\n</ul>\n\n<p>and the moves are:</p>\n\n<ul>\n<li>initialization of <em>return value</em> from <code>left</code></li>\n<li>initialization of temporary object denoted by <code>a+b</code> from <em>return value</em></li>\n<li>initialization of <code>result</code> from <code>a+b</code></li>\n</ul>\n\n<p>It would be more illuminating to replace <code>count</code> with an output message saying <code>\"in copy constructor\"</code> and <code>\"in move constructor\"</code> . Currently you are not tracking moves at all.</p>\n\n<p>In the pass-by-reference case , all 3 moves can be elided. In the pass-by-value case, 2 of the moves can be elided. The move which cannot be elided is the move from <code>left</code> to the <em>return value</em>.</p>\n\n<p>I don't know the rationale for why this move can't be elided. Maybe it'd be difficult for a compiler to do something like <code>A a = foo( A() );</code> if <code>A()</code> were elidable all the way up to <code>a</code>. </p>\n"}], "owner": {"reputation": 3521, "user_id": 658087, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/hvS4q.png?s=128&g=1", "display_name": "JD\u0142ugosz", "link": "https://stackoverflow.com/users/658087/jd%c5%82ugosz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447996436, "creation_date": 1447882382, "last_edit_date": 1447953970, "question_id": 33790822, "link": "https://stackoverflow.com/questions/33790822/why-does-copy-elision-make-an-exception-for-formal-parameters", "title": "Why does copy elision make an exception for formal parameters?", "body": "<p>Here is a complete program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\nusing std::move;\n\nint count {0};  // global for monitoring\n\n\nclass Triple {\npublic:\n    Triple() = default;    // C++11 use default constructor despite other constructors being declared\n    Triple(Triple&amp;&amp;) = default;\n    Triple(const Triple&amp; t) :    // copy constructor\n        Triple(t.mX, t.mY, t.mZ) {\n        count++;\n    }\n\n    Triple(const int x, const int y, const int z) :\n        mX{ x }, mY{ y }, mZ{ z } {\n    }\n\n    const Triple&amp; operator +=(const Triple&amp; rhs) {\n        mX += rhs.mX;\n        mY += rhs.mY;\n        mZ += rhs.mZ;\n        return *this;\n    }\n\n    int x() const;\n    int y() const;\n    int z() const;\n\nprivate:\n    int mX{ 0 };    // c++11 member initialization\n    int mY{ 0 };\n    int mZ{ 0 };\n};\n\n\n#if 0\ninline Triple operator+(const Triple&amp; lhs, const Triple&amp; rhs) {\n    Triple left { lhs };\n    left += rhs;\n    return left;\n}\n#else\ninline Triple operator+(Triple left, const Triple&amp; rhs) {\n    left += rhs;\n    return left;\n}\n#endif\n\nint main()\n{\n    Triple a,b;\n\n    cout &lt;&lt; \"initial value of count is: \" &lt;&lt; count &lt;&lt; endl;\n\n    auto result { a+b };\n\n    cout &lt;&lt; \"final value of count is: \" &lt;&lt; count &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Of interest is the fact that the copy constructor has a side effect, and there are two versions of the <code>operator+</code> to contemplate.</p>\n\n<h3>Case 1</h3>\n\n<pre><code>inline Triple operator+(const Triple&amp; lhs, const Triple&amp; rhs) {\n    Triple left { lhs };\n    left += rhs;\n    return left;\n}\n</code></pre>\n\n<h3>Case 2</h3>\n\n<pre><code>inline Triple operator+(Triple left, const Triple&amp; rhs) {\n    left += rhs;\n    return left;\n}\n</code></pre>\n\n<p>Visual Studio 2015 gives the same result for either, printing a result of <code>1</code>.  However gcc 4.8.4 gives <code>2</code> for Case 1.</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/language/copy_elision\" rel=\"nofollow\">This summary of <em>copy elision</em></a><sup>\u203b</sup> states \u201c<em>which isn't the function parameter</em>\u201d which makes me suppose that VS is wrong.  Is that correct?</p>\n\n<p><strong>But, why are formal parameter names treated specially in this rule?  Why isn't it exactly like any other local variable?</strong></p>\n\n<p>(I'm not saying that the optimizer <em>would</em> figure things out depending on calling conventions and in light of separate compilation of caller and call-ee, but merely why it's not <em>allowed</em>.)</p>\n\n<p>Edit: if outputting <code>1</code> is correct, how does that fit with the elision rule?</p>\n\n<hr>\n\n<p>Note \u203b: I found this text is copied from \u00a712.8 paragraph 31 in the publicly available <a href=\"https://www.google.com/search?q=download+n3690.pdf\" rel=\"nofollow\">N3690</a>.</p>\n"}, {"tags": ["c++", "pointers", "dynamic", "vector", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447882650, "post_id": 33790852, "comment_id": 55348846, "body": "I will add that once you fix the argument to take a reference, you will be pointing your pointer var M to the internal memory of the vector. Any change in there is going to screw up the vector. Also, note that the vector might be carrying extra memory (it allocates more memory than required to grow dynamically)."}, {"owner": {"reputation": 7504, "user_id": 154744, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/acb0a7915c4da197560413a262d31b18?s=128&d=identicon&r=PG", "display_name": "bstamour", "link": "https://stackoverflow.com/users/154744/bstamour"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447882702, "post_id": 33790852, "comment_id": 55348870, "body": "All true. I don&#39;t want to overload the OP with too many details though. The essence of the issue is he/she is holding a pointer to something temporary."}, {"owner": {"reputation": 115, "user_id": 4089105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea19998b35b91be389af76be671ce018?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Coats", "link": "https://stackoverflow.com/users/4089105/alex-coats"}, "edited": false, "score": 0, "creation_date": 1447883404, "post_id": 33790852, "comment_id": 55349273, "body": "Thanks man, that was super quick! Unfortunately I have tried to do what you suggested already and std:copy has some safety issues. Not really sure enough about it&#39;s usage to determine what&#39;s wrong.  However, I will definitely look into these pointers (heh). Would you say using vector over arrays would represent a significant performance drop with a lot of matrices?"}, {"owner": {"reputation": 7504, "user_id": 154744, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/acb0a7915c4da197560413a262d31b18?s=128&d=identicon&r=PG", "display_name": "bstamour", "link": "https://stackoverflow.com/users/154744/bstamour"}, "edited": false, "score": 0, "creation_date": 1447941833, "post_id": 33790852, "comment_id": 55377387, "body": "There should be no performance drops with moving to vectors. Under the hood, vector is just a pointer and a size. It&#39;s only when you reallocate it (i.e. add new elements) that you might experience some slowdown, but once it&#39;s filled to the right size then it should be just as fast as a raw array."}], "tags": [], "owner": {"reputation": 7504, "user_id": 154744, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/acb0a7915c4da197560413a262d31b18?s=128&d=identicon&r=PG", "display_name": "bstamour", "link": "https://stackoverflow.com/users/154744/bstamour"}, "is_accepted": true, "score": 2, "last_activity_date": 1447883288, "last_edit_date": 1447883288, "creation_date": 1447882475, "answer_id": 33790852, "question_id": 33790795, "link": "https://stackoverflow.com/questions/33790795/using-a-vector-constructor-to-assign-dynamic-memory/33790852#33790852", "title": "Using a vector constructor to assign dynamic memory", "body": "<p>The vector you're passing in is a temporary object. Once the constructor finishes the temporary vector will cease to exist, and thus the address you stored (<code>&amp;values[0]</code>) will thus point to garbage. Your code may in fact work, but it also may in fact crash your computer, or make you coffee, or do any other undefined thing.</p>\n\n<p>If you want to keep the same interface (i.e. passing in a vector) you need to copy the data out. Something like this will get you started</p>\n\n<pre><code>Matrix(std::vector&lt;float&gt; values) : M(new float[values.size()])\n{\n    std::copy(values.begin(), values.end(), M);\n}\n</code></pre>\n\n<p>but now you have to free M in your destructor, and implement proper copy constructors and assignment operators. Also don't forget your move constructors and assignment operators too ;) Look into <code>std::unique_ptr</code> and <code>std::shared_ptr</code> (and of course <code>std::vector</code>) for better ways of managing memory.</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 4089105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea19998b35b91be389af76be671ce018?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Coats", "link": "https://stackoverflow.com/users/4089105/alex-coats"}, "edited": false, "score": 0, "creation_date": 1447883614, "post_id": 33790896, "comment_id": 55349393, "body": "Option 1 is certainly something I&#39;ve thought about. I was hoping to use the lightest weight data structure though, and I&#39;m not sure whether the performance differences would be significant."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 115, "user_id": 4089105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea19998b35b91be389af76be671ce018?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Coats", "link": "https://stackoverflow.com/users/4089105/alex-coats"}, "edited": false, "score": 0, "creation_date": 1447883684, "post_id": 33790896, "comment_id": 55349429, "body": "@AlexCoats, I&#39;ll be very surprised if use of  <code>std::vector</code> has any noticeable adverse impact on performance."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1447882616, "last_edit_date": 1495540313, "creation_date": 1447882616, "answer_id": 33790896, "question_id": 33790795, "link": "https://stackoverflow.com/questions/33790795/using-a-vector-constructor-to-assign-dynamic-memory/33790896#33790896", "title": "Using a vector constructor to assign dynamic memory", "body": "<p>With your current code, you are storing a dangling pointer. The vector and its data will be destructed after the call to the constructor of <code>Matrix</code>.</p>\n\n<p>You can solve the problem with one of the following options.</p>\n\n<p><strong>Option 1</strong></p>\n\n<p>Don't use raw pointers. Use <code>std::vector&lt;float&gt;</code> instead. Replace</p>\n\n<pre><code>float *M;\n</code></pre>\n\n<p>by</p>\n\n<pre><code>std::vector&lt;float&gt; M;\n</code></pre>\n\n<p>Then, you can update the constructor to be:</p>\n\n<pre><code>Matrix(std::vector&lt;float&gt; values) : M(values){}\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<p>Allocate memory for <code>M</code> and then copy the data from the input argument in the constructor.</p>\n\n<pre><code>Matrix(std::vector&lt;float&gt; values) : M(new float[values.size()])\n{\n   std::copy(values.begin(), values.end(), M);\n}\n</code></pre>\n\n<p>If you use this option, you'll need to implement a proper copy constructor, a copy assignment operator, and a destructor. Remember to read up on <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">The Rule of Three</a>.</p>\n"}], "owner": {"reputation": 115, "user_id": 4089105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea19998b35b91be389af76be671ce018?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Coats", "link": "https://stackoverflow.com/users/4089105/alex-coats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 33790852, "answer_count": 2, "score": 0, "last_activity_date": 1447883288, "creation_date": 1447882278, "question_id": 33790795, "link": "https://stackoverflow.com/questions/33790795/using-a-vector-constructor-to-assign-dynamic-memory", "title": "Using a vector constructor to assign dynamic memory", "body": "<p>It's likely that what I'm trying to do is terrible practice. If so please tell me so I can stop. Anyway, I'm working on some basic matrix math functions using dynamic memory to store the matrix data array. I'm trying to figure out how to convert a vector passed into a constructor to this array, but I get some odd results. Here's the simple version.</p>\n\n<p>Header:</p>\n\n<pre><code>class Matrix {\npublic:\n    unsigned int size = 4;\n    float *M;\n\n    Matrix(std::vector&lt;float&gt; values) : M(&amp;values[0]){}\n\n    ~Matrix() = default;\n};\n</code></pre>\n\n<p>And the test file:</p>\n\n<pre><code>int  main(){\n  Matrix m(std::vector&lt;float&gt;{ 0.0f, 0.0f, 0.0f, 1.0f,\n                               1.0f, 2.0f, 3.0f, 4.0f,\n                               5.0f, 6.0f, 7.0f, 8.0f,\n                               9.0f, 10.0f, 11.0f, 12.0f });\n  return 0;\n}\n</code></pre>\n\n<p>The result is...wrong. Everything seemingly works (from watching the values while debugging) until the return from the constructor. My guess is Visual Studio's debugger is lying to me though and it happens earlier than that.</p>\n\n<p>So aside from the fact that the size isn't being changed, what's going on? Is there a better way to do this? Also, is it possible to accept a std::initializer_list and give that data to the dynamic pointer?</p>\n"}, {"tags": ["c++", "c", "arrays"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1447882303, "post_id": 33790761, "comment_id": 55348654, "body": "The declaration &quot; int matrix[matrixDimension][matrixDimension]&quot; is not valid C++ (it&#39;s a C99 VLA). The indexing used is 1-based. C++ raw array indexing is 0-based. That said you should have debugged your code  yourself. True,, some people can just look at code and spot what&#39;s wrong with it, but  you&#39;ll never get anywhere if you offload all small problems to others."}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447882568, "post_id": 33790761, "comment_id": 55348799, "body": "<code>&amp;matrix[matrixDimension][matrixDimension]</code> delivers an address just behind the matrix."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "reply_to_user": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447882665, "post_id": 33790761, "comment_id": 55348855, "body": "@MartinZabel Is that&#39;s what&#39;s known as the red pill?"}, {"owner": {"reputation": 514, "user_id": 918454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPi0H.jpg?s=128&g=1", "display_name": "Elena Viter", "link": "https://stackoverflow.com/users/918454/elena-viter"}, "edited": false, "score": 0, "creation_date": 1447882891, "post_id": 33790761, "comment_id": 55348994, "body": "Take a look <a href=\"http://stackoverflow.com/questions/8767166/passing-a-2d-array-to-a-c-function\">here</a> to get idea how to pass the multidimensional array into the function"}], "answers": [{"comments": [{"owner": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447883419, "post_id": 33790999, "comment_id": 55349284, "body": "Thanks for the answer I think I see what you are saying and what I am doing wrong. I am trying to pass the array to the function ComputeMatrixMainDiagonal() so that it can compute the first main diagonal. Can you elaborate on  &quot;though why you would want to do so escapes me&quot;. If i needed to manipulate the array I would need to pass it by reference but since I am just getting the values out of the array to be computed pass-by-value should be fine right? Also how could this be changed to be a pass-by-reference.Thanks !"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447884474, "post_id": 33790999, "comment_id": 55349864, "body": "Passing an <i>array</i> by value implies passing all its elements, which in fact you cannot do at all.  You can, however, pass a pointer (by value), which is fine."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447884718, "post_id": 33790999, "comment_id": 55349976, "body": "@DougRay, note, too, that it is perversely appropriate that you have tagged the question with both [c] and [c++].  This is almost always the wrong thing to do, but your code uses features of each language that are not present in the other."}, {"owner": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447886083, "post_id": 33790999, "comment_id": 55350609, "body": "Thanks @JohnBollinger,  so I am calling my function like this     matrixMainDiagonal = ComputeMatrixMainDiagonal(matrixDimension,&amp;matrix[0][0]); Then receiving it in the function like this int ComputeMatrixMainDiagonal(int matrixDimensions, int* matrix). Which to me means pass the address of the 2d array and the function then should have a pointer to that array with the field matrix. Which then could be accessed via diagonalValue =+ matrix[i][rowIndent];. Is that logic correct ?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447886635, "post_id": 33790999, "comment_id": 55350834, "body": "The argument passing you describe sounds fine, but you cannot use a double subscript to dereference an <code>int *</code>.  The element you can access in <code>main()</code> as <code>matrix[row][col]</code> would need to be accessed in the function as <code>matrix[row * matrixDimensions + col]</code>."}, {"owner": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447891284, "post_id": 33790999, "comment_id": 55352539, "body": "Sorry for all the sub questions I am now getting my matrix values but I am noticing something strange for my for loop i get the correct values  for  diagonalValue but when I return it only returns the last value.  This is the line I am using in my for loop   diagonalValue =+  matrix[i * matrixDimensions + rowIndent];  but when I use cout &lt;&lt; diagonalValue  to see the value it  returns 11 5 -12 -12  when it should be 11+5-12=4. Thanks for all the help and sticking with the question :) !!!"}, {"owner": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "edited": false, "score": 0, "creation_date": 1447895921, "post_id": 33790999, "comment_id": 55354053, "body": "Never mind simple mistake i flipped the += sign to a =+ sign thanks for everything ! :)"}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1447883043, "creation_date": 1447883043, "answer_id": 33790999, "question_id": 33790761, "link": "https://stackoverflow.com/questions/33790761/c-passing-array-by-value-causing-segment-fault/33790999#33790999", "title": "C++ passing array by value causing segment fault", "body": "<p>Your segmentation fault likely occurs because <code>&amp;matrix[matrixDimension][matrixDimension]</code> does not mean what you think it means.  Your question title suggests that you think this is a way to pass the array by value (though why you would want to do so escapes me), but pass-by-value vs. pass-by-reference is a matter of how the function is <em>declared</em>, not of how it is called.</p>\n\n<p>The expression <code>&amp;matrix[matrixDimension][matrixDimension]</code> would be the address of the <code>matrixDimension</code>th element of the <code>matrixDimension</code>th row of the matrix.  This is outside the bounds of the matrix, as the maximum index for an array is one less than the array dimension.  Even if you wrote <code>&amp;matrix[matrixDimension - 1][matrixDimension - 1]</code>, however, it would not be what you want.  You want the address of the <em>first</em> element of the array, which is <code>&amp;matrix[0][0]</code> or simply <code>matrix</code>, though these are inequivalent on account of having different type (corresponding to different senses of what the elements of <code>matrix</code> are).</p>\n"}], "owner": {"reputation": 954, "user_id": 4935793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-D15klxQvVQM/AAAAAAAAAAI/AAAAAAAAADE/6q3j1nE_Ueo/photo.jpg?sz=128", "display_name": "Doug Ray", "link": "https://stackoverflow.com/users/4935793/doug-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 33790999, "answer_count": 1, "score": 0, "last_activity_date": 1447883418, "creation_date": 1447882160, "question_id": 33790761, "link": "https://stackoverflow.com/questions/33790761/c-passing-array-by-value-causing-segment-fault", "title": "C++ passing array by value causing segment fault", "body": "<p>Hey everyone I am relearning C++ by doing some hacker rank challenges and am getting a segment fault error. The program should take in the dimensions for the matrix and compute both diagonals, then add them together. I am pretty sure the error is in how the 2d array is passed to the computeMainDiagonal and computeSecondaryDiagonal functions. Thanks for the help !</p>\n\n<pre><code>int ComputeMatrixMainDiagonal(int matrixDimensions, int* matrix){\n    int rowIndent = 0;\n    int diagonalValue; \n\n    for(int i = 0;i &lt; matrixDimensions;i++){\n        diagonalValue =+ (&amp;matrix)[i][rowIndent];\n        rowIndent++;\n    }\n    return diagonalValue;\n}\n\nint ComputeMatrixSecondaryDiagonal(int matrixDimensions, int* matrix){\n    int rowIndent = matrixDimensions;\n    int diagonalValue;\n\n    for(int i = matrixDimensions;i &gt; 0;i--){\n        diagonalValue =+ (&amp;matrix)[i][rowIndent];\n        rowIndent--;\n    }\n    return diagonalValue;\n}\n\n\nint main() {\n    int matrixDimension;\n    int differenceAcrossSumsOfDiagonal;\n    int matrixMainDiagonal;\n    int matrixSecondaryDiagonal;\n\n    int * matrixPointer;\n\n    cin &gt;&gt; matrixDimension; //get matrix dimensions\n    int matrix[matrixDimension][matrixDimension]; //declare new matrix\n    for(int index = 0; index &lt; matrixDimension;index++ ){ //populate matrix\n        for(int i = 0; i &lt; matrixDimension;i++){\n            cin &gt;&gt; matrix[index][i];\n        }\n    }\n    matrixMainDiagonal = ComputeMatrixMainDiagonal(matrixDimension,&amp;matrix[matrixDimension][matrixDimension]);      \n    matrixSecondaryDiagonal = ComputeMatrixSecondaryDiagonal(matrixDimension,&amp;matrix[matrixDimension][matrixDimension]);\n\n    differenceAcrossSumsOfDiagonal = (matrixMainDiagonal + matrixSecondaryDiagonal);\n\n    cout &lt;&lt; differenceAcrossSumsOfDiagonal;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "makefile", "g++"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1447890381, "post_id": 33790687, "comment_id": 55352228, "body": "The wildcard for patterns in a makefile is <code>%</code> not <code>$</code>. So you want <code>%.cc</code> and <code>%.o</code> in the <code>$(patsubst)</code> call and in the <code>%.o: %.cc</code> target."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1447892726, "post_id": 33790687, "comment_id": 55353061, "body": "...And a non-pattern rule, something like <code>all: $(OBJS)</code>."}], "owner": {"reputation": 402, "user_id": 2566890, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/719312174/picture?type=large", "display_name": "dimlee", "link": "https://stackoverflow.com/users/2566890/dimlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447881877, "creation_date": 1447881877, "question_id": 33790687, "link": "https://stackoverflow.com/questions/33790687/makefile-compile-all-files-with-no-target-and-no-linking", "title": "Makefile compile all files with no target and no linking", "body": "<p>I would like to compile all .cc files in the current directory WITHOUT linking or having a target. All the examples I have seen assume you have an ACTUAL target file that you would like to output but I don't require anything other than having the resulting .o files sitting in the directory. I tried the code below with a fake target and got \"undefined reference to main\" and without a target I get the error \"No rule to make target cc, needed by  o\" - so far I have..</p>\n\n<pre><code> CC= g++\n SRCS = $(wildcard *.cc)\n OBJS = $(patsubst $.cc, $.o, $(SRCS))\n\n $.o: $.cc\n       $(CC) $(CPFLAGS) -c $&lt;\n</code></pre>\n"}, {"tags": ["java", "c++", "ascii"], "comments": [{"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 1, "creation_date": 1447881910, "post_id": 33790607, "comment_id": 55348415, "body": "With <code>byte[] b = { 0x4D, 0x79, 0x4E...};</code> or <code>byte[]b = { 077, 0121, 078...}</code>. Trap: Java chars are 16 bits Unicode encoded, while C++ chars commonly are 8 bits."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 2, "creation_date": 1447881947, "post_id": 33790607, "comment_id": 55348442, "body": "Where is the protocol description? The description itself makes no sense; what if the client&#39;s name is &quot;&#228;&#239;&#235;&#246;&#252;&quot;, where none of the characters can be encoded in ASCII?"}, {"owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "reply_to_user": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "edited": false, "score": 0, "creation_date": 1447881978, "post_id": 33790607, "comment_id": 55348459, "body": "@Jean-BaptisteYun&#232;s Very cool ... thank you so much, sir!"}, {"owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447882026, "post_id": 33790607, "comment_id": 55348481, "body": "@fge His documentation says we cannot use non-printable characters."}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 3, "creation_date": 1447882043, "post_id": 33790607, "comment_id": 55348493, "body": "I&#39;m voting to close this question as off-topic because this involves 3rd party code we do not have access to, so it is impossible to comment on"}, {"owner": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "edited": false, "score": 0, "creation_date": 1447882053, "post_id": 33790607, "comment_id": 55348501, "body": "I would suggest creating a map <code>map&lt;char,byte&gt;</code> that holds your java 16-bit char mapped to its ASCII counterpart. Build a string and then loop through your map to build a byte string. However, I am sure the JavaString class has something built into it to get you this data since 8-bit chars are so common."}, {"owner": {"reputation": 3331, "user_id": 2581593, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NtHku.jpg?s=128&g=1", "display_name": "zubergu", "link": "https://stackoverflow.com/users/2581593/zubergu"}, "edited": false, "score": 1, "creation_date": 1447882104, "post_id": 33790607, "comment_id": 55348535, "body": "Number is the same no matter if you use hexadecimal, decimal, binary, octal or whatever base to write that number down. When you decode the message you read byte by byte. Knowing that these bytes are meant to represent ASCII characters is just matter of interpretation. The same story when creating message, you write byte that you know means some character, for someone not knowing that, that&#39;s some meaningles stream of bits."}, {"owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "reply_to_user": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "edited": false, "score": 0, "creation_date": 1447882106, "post_id": 33790607, "comment_id": 55348537, "body": "@Freddy I will look into that as well. Thank you."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1447882106, "post_id": 33790607, "comment_id": 55348538, "body": "ASCII is well-defined. It&#39;s pretty restrictive but well-defined. On the other hand you need to know if the field should be null-terminated or padded with spaces or have a length prefixed or what."}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1447882108, "post_id": 33790607, "comment_id": 55348541, "body": "@Brian aren&#39;t the characters fge gave printable ?"}, {"owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1447882137, "post_id": 33790607, "comment_id": 55348557, "body": "@Cheersandhth.-Alf It is supposed to be 50 characters max, and padded with 0s."}, {"owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "reply_to_user": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 0, "creation_date": 1447882157, "post_id": 33790607, "comment_id": 55348565, "body": "@ControlAltDel So, where is a person supposed to go if he/she has questions like this?"}, {"owner": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "edited": false, "score": 2, "creation_date": 1447882261, "post_id": 33790607, "comment_id": 55348622, "body": "@Brian Ignore the elitist of SO. Your question is fine and it takes more then one oppressor to close your question. Remember the push people around crowd from the Sun Java developer forums needed somewhere to go and push people around w/ their superior intellect."}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "reply_to_user": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 2, "creation_date": 1447882298, "post_id": 33790607, "comment_id": 55348650, "body": "@ControlAltDel Why? His problem is clear, he has a protocol specification and want to know how to manage this in Java. Why would you need server code?"}, {"owner": {"reputation": 30540, "user_id": 719263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7feab598abfc27783641fe2b796a0155?s=128&d=identicon&r=PG", "display_name": "Jean-Baptiste Yun&#232;s", "link": "https://stackoverflow.com/users/719263/jean-baptiste-yun%c3%a8s"}, "reply_to_user": {"reputation": 2199, "user_id": 168802, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09943daec8ac8cc7a4801b12d709cad0?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/168802/freddy"}, "edited": false, "score": 0, "creation_date": 1447882489, "post_id": 33790607, "comment_id": 55348767, "body": "@Freddy @Brian <code>byte [] b = &quot;MyName&quot;.getBytes();</code> is generally sufficient (provided the default char encoding is adequate)."}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 0, "creation_date": 1447883032, "post_id": 33790607, "comment_id": 55349068, "body": "Look, if the answer is just the trivial String.getBytes(), that&#39;s excellent - problem solved. Brian&#39;s inclusion of a whole encoding table made me think that the binary needed to be encoded as either a decimal or a hexidecimal string (&quot;0771217897109101&quot; or &quot;0x4D0x790x4E0x610x6D0x65&quot;), and if that was the case, there&#39;s no way to comment on which of these is correct. But the SO closing system works well as even though I seem to have misinterpreted the question, others seem to be helping to solve it."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447883288, "post_id": 33790607, "comment_id": 55349211, "body": "Oh, so &quot;&#228;&quot; is not a printable character?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447883345, "post_id": 33790607, "comment_id": 55349240, "body": "@fge: <code>&#228;</code> is a printable character, but it is not an ASCII character."}, {"owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 0, "creation_date": 1447883839, "post_id": 33790607, "comment_id": 55349500, "body": "Do you have a complete character table?  Any documentation to tell you whether the 8-bit encoding is ISO Latin-1, Latin-15, Windows-1252, or UTF-8?  Can you transmit <code>\u20ac</code>, and if so, how is it encoded?"}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1447883843, "post_id": 33790607, "comment_id": 55349503, "body": "@RemyLebeau and? This is 2015; ASCII is long dead"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447891294, "post_id": 33790607, "comment_id": 55352546, "body": "@fge: I know that. YOU asked a question about <code>&#228;</code>, I answered it.  The OP&#39;s question asked about ASCII."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1447896335, "post_id": 33790607, "comment_id": 55354157, "body": "@RemyLebeau and you don&#39;t seem to understand the full extent of the problem at hand -- misdefinition. But I do."}, {"owner": {"reputation": 17024, "user_id": 1296707, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc4319dbdd4adbb6d25f1eb2309eec20?s=128&d=identicon&r=PG", "display_name": "Markus W Mahlberg", "link": "https://stackoverflow.com/users/1296707/markus-w-mahlberg"}, "edited": false, "score": 0, "creation_date": 1447926845, "post_id": 33790607, "comment_id": 55366667, "body": "How about <a href=\"https://en.m.wikipedia.org/wiki/Protocol_Buffers\" rel=\"nofollow noreferrer\">protocoll buffers</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1447882889, "post_id": 33790850, "comment_id": 55348993, "body": "Maybe with an added <code>&quot;\\r\\n&quot;</code> (CR+LF newline) or <code>&quot;\\u0000&quot;</code> (C string terminator)."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1447883150, "post_id": 33790850, "comment_id": 55349138, "body": "@JoopEggen: That statement does not apply to this discussion, or my answer. The question was about putting an ASCII string into a UDP message. How the UDP message delimits its fields depends on the particular UDP protocol being implemented."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447883964, "post_id": 33790850, "comment_id": 55349567, "body": "It should be noted that this method will only create a <code>CharsetEncoder</code> which will replace potential unmappable characters (see <code>CodingErrorAction</code>)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447891412, "post_id": 33790850, "comment_id": 55352593, "body": "@fge: That goes back to my statement about &quot;<i>Character values outside of the valid ASCII range (0-127) will be converted to <code>?</code> (hex 0x3F).</i>&quot;  The OP&#39;s spec mentions ASCII.  This is how to convert a <code>String</code> to ASCII in Java. If the server in question can support other 8bit charsets, then simply change the parameter value of <code>getBytes()</code> accordingly."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447893207, "post_id": 33790850, "comment_id": 55353221, "body": "@RemyLebeau &quot;That goes back to my statement about &quot;Character values outside of the valid ASCII range&quot; &lt;-- no it doesn&#39;t. Take EBCDIC as an example. It just happens that the Unicode standard defined code points so as to be backwards compatible with ASCII, and even some ISO charsets, where possible. The problem here is that the OP&#39;s specification is awfully misguided <i>and</i> misguiding."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447894027, "post_id": 33790850, "comment_id": 55353493, "body": "@fge: a Java <code>String</code> is implemented internally using Unicode codepoints in UTF-16 format (although that format may be changing in the next major Java release). EBCDIC is a character byte encoding, it does not apply to this situation. Calling <code>getBytes()</code> on a <code>String</code> converts its internal Unicode codepoint values to the specified byte encoding. When I said &quot;character values&quot;, I was referring to the codepoints that the <code>String</code> represents. So, <code>String</code> characters above U+007F are not supported by ASCII and will be encoded as byte 0x3F by <code>getBytes(US_ASCII)</code>."}, {"owner": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447894216, "post_id": 33790850, "comment_id": 55353553, "body": "@RemyLebeau it <i>does</i> apply. .getBytes() applies a <i>character encoding</i>. And with EBCDIC, well, your ASCII &#39;a&#39; is not EBCDIC&#39;s &#39;a&#39;, for instance."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 109504, "user_id": 1093528, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VjxwC.jpg?s=128&g=1", "display_name": "fge", "link": "https://stackoverflow.com/users/1093528/fge"}, "edited": false, "score": 0, "creation_date": 1447894681, "post_id": 33790850, "comment_id": 55353666, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/95501/discussion-between-remy-lebeau-and-fge\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 4, "last_activity_date": 1447883075, "last_edit_date": 1447883075, "creation_date": 1447882471, "answer_id": 33790850, "question_id": 33790607, "link": "https://stackoverflow.com/questions/33790607/how-do-encode-a-string-as-8-bit-ascii-characters/33790850#33790850", "title": "How do encode a string as 8-bit ASCII characters?", "body": "<p>You can do this in Java:</p>\n\n<pre><code>String name = ...; // \"MyName\", etc\nbyte[] arr = name.getBytes(StandardCharsets.US_ASCII);\n// append arr to UDP message as needed...\n</code></pre>\n\n<p>There is no such thing as <strong>8bit</strong> ASCII.  ASCII is only <strong>7bit</strong>.  Character values outside of the valid ASCII range (0-127) will be converted to <code>?</code> (hex 0x3F).  Characters in the 128-255 range are commonly referred to as ANSI or Extended ASCII.  These are locale-specific characters.  If the server actually expects <em>8bit</em> characters, then it is not expecting ASCII, it is expecting ANSI instead, which leads to language conflicts when using non-ASCII characters.  Most modern servers typically expect UTF-8 where 8bit character data is allowed.  You will have to refer to this server's documentation or source code to figure out what it actually expects.  It sounds like it might actually expect 7bit ASCII characters that are simply extended to 8bit bytes (so no characters > 127 allowed).</p>\n"}], "owner": {"reputation": 1540, "user_id": 319020, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/75ec9091cc5cc84d9d0ccd403f8bf5a3?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/319020/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "closed_date": 1447926881, "accepted_answer_id": 33790850, "answer_count": 1, "score": 1, "last_activity_date": 1447883075, "creation_date": 1447881565, "question_id": 33790607, "link": "https://stackoverflow.com/questions/33790607/how-do-encode-a-string-as-8-bit-ascii-characters", "closed_reason": "Not suitable for this site", "title": "How do encode a string as 8-bit ASCII characters?", "body": "<p>I am trying to connect to a server that another developer created. He is no longer available, so I am trying to interpret what he is meaning.</p>\n\n<p>I am creating a UDP message to send to the server, and in the description for one of the required fields for the message he has this:</p>\n\n<blockquote>A name for the Client, encoded using 8-bit ASCII characters</blockquote>\n\n<p>For example, if I wanted to use the name \"MyName\", the result would be (char, dec, hex):</p>\n\n<pre><code>| M |  77 | 0x4D |\n| y | 121 | 0x79 |\n| N |  78 | 0x4E |\n| a |  97 | 0x61 |\n| m | 109 | 0x6D |\n| e | 101 | 0x65 |\n</code></pre>\n\n<p>I am just a little confused as to what should be in the field. Should it be</p>\n\n<pre><code>0771217897109101\n</code></pre>\n\n<p>Or should it be</p>\n\n<pre><code>0x4D0x790x4E0x610x6D0x65\n</code></pre>\n\n<p>Or should it be something completely different?</p>\n\n<p>As an FYI, He wrote the server using C++ and I am using Java. I know that doesn't make a difference, I just thought I would add that bit of info.</p>\n"}, {"tags": ["c++", "linux", "gcc", "shared-libraries"], "comments": [{"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447882071, "post_id": 33790525, "comment_id": 55348510, "body": "Might be an optimization. classes A and B do not have any data members.  So their size is compiler dependent (atleast 1 byte to make them addressable).  The this pointer points to an address where there is actually nothing."}, {"owner": {"reputation": 51, "user_id": 5578518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6779c32421a4bc55dda5b2f5e302d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Cass&#233; Hugues", "link": "https://stackoverflow.com/users/5578518/cass%c3%a9-hugues"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447912323, "post_id": 33790525, "comment_id": 55358796, "body": "In the original code where the problem arises first, classes contain several  members, variables and functions."}], "owner": {"reputation": 51, "user_id": 5578518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6779c32421a4bc55dda5b2f5e302d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Cass&#233; Hugues", "link": "https://stackoverflow.com/users/5578518/cass%c3%a9-hugues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454704471, "creation_date": 1447881319, "last_edit_date": 1447882610, "question_id": 33790525, "link": "https://stackoverflow.com/questions/33790525/normal-or-anormal-behaviour-of-dynamic-libraries-with-c-static-objects", "title": "Normal or anormal behaviour of dynamic libraries with C++ static objects", "body": "<p>I'm developing a framework heavily based on plugin implemented as dynamic libraries (on Linux, .so files). All was working fine until I made a plugin depending on another plugin and, as the plugins were implemented as a static instance of a dedicated class, I found the following problem that I reduced to a the following small set of code:</p>\n\n<p>Source of liba.so is here:</p>\n\n<pre><code>class A {\npublic:\n  A(void) {\n    cerr &lt;&lt; \"A(\" &lt;&lt; this &lt;&lt; \")\\n\";\n  }\n};\n\nA x;\nint y;\n</code></pre>\n\n<p>Source of libb.so is below and depends on liba.so:\n    extern int y;</p>\n\n<pre><code>class B {\npublic:\n  B(void) {\n    cerr &lt;&lt; \"B(\" &lt;&lt; this &lt;&lt; \")\\n\";\n    y = 0;\n  }\n};\n\nB x;\nint z;\n</code></pre>\n\n<p>Notice that both classes provides the same symbol x with different type. This situation may happen when one library evolves and unexpectedly uses a new symbol that conflicts with an unknown library or code using it.</p>\n\n<p>Writing a small program using libb.so:</p>\n\n<pre><code>extern int z;\n\nint main(void) {\n  z = 0;\n  cerr &lt;&lt; \"main\\n\";\n  return 0;\n}\n</code></pre>\n\n<p>Executing it gives:</p>\n\n<pre><code>casse@ares ~/tmp/tso $ ./main \nA(0x7f689dfc605c)\nB(0x7f689dfc605c)\nmain\n</code></pre>\n\n<p>Both constructors of x in liba.so and libb.so are executed and display the \"this\" address and they display the same address! Is this normal behavior? It seems strange that the constructors of static objects are confused by two storage with the same name. Is it a bug? GCC or Linux?</p>\n\n<p>Thanks to whoever can help me.</p>\n"}, {"tags": ["c++", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 1192, "user_id": 5203926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIMga.png?s=128&g=1", "display_name": "kcraigie", "link": "https://stackoverflow.com/users/5203926/kcraigie"}, "reply_to_user": {"reputation": 120, "user_id": 5046524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19c19ef27006bdb9d78e789b64ad4a42?s=128&d=identicon&r=PG&f=1", "display_name": "Moved", "link": "https://stackoverflow.com/users/5046524/moved"}, "edited": false, "score": 0, "creation_date": 1447881706, "post_id": 33790588, "comment_id": 55348305, "body": "Are you trying to fix a compiler error?  If so, can you paste the error you&#39;re getting?."}, {"owner": {"reputation": 1192, "user_id": 5203926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIMga.png?s=128&g=1", "display_name": "kcraigie", "link": "https://stackoverflow.com/users/5203926/kcraigie"}, "reply_to_user": {"reputation": 120, "user_id": 5046524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19c19ef27006bdb9d78e789b64ad4a42?s=128&d=identicon&r=PG&f=1", "display_name": "Moved", "link": "https://stackoverflow.com/users/5046524/moved"}, "edited": false, "score": 0, "creation_date": 1447881883, "post_id": 33790588, "comment_id": 55348405, "body": "Nevermind, I see your problem.  I updated my answer."}, {"owner": {"reputation": 120, "user_id": 5046524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19c19ef27006bdb9d78e789b64ad4a42?s=128&d=identicon&r=PG&f=1", "display_name": "Moved", "link": "https://stackoverflow.com/users/5046524/moved"}, "edited": false, "score": 0, "creation_date": 1447882179, "post_id": 33790588, "comment_id": 55348574, "body": "Ok, but how would you put data in it?"}, {"owner": {"reputation": 1192, "user_id": 5203926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIMga.png?s=128&g=1", "display_name": "kcraigie", "link": "https://stackoverflow.com/users/5203926/kcraigie"}, "reply_to_user": {"reputation": 120, "user_id": 5046524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19c19ef27006bdb9d78e789b64ad4a42?s=128&d=identicon&r=PG&f=1", "display_name": "Moved", "link": "https://stackoverflow.com/users/5046524/moved"}, "edited": false, "score": 0, "creation_date": 1447882361, "post_id": 33790588, "comment_id": 55348694, "body": "Well without knowing what the rest of your program looks like, you could do something like this: <code>m_status.push_back(new EngineStatus());</code>  Of course, you&#39;d have to free the allocated objects later."}], "tags": [], "owner": {"reputation": 1192, "user_id": 5203926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIMga.png?s=128&g=1", "display_name": "kcraigie", "link": "https://stackoverflow.com/users/5203926/kcraigie"}, "is_accepted": true, "score": 0, "last_activity_date": 1447881866, "last_edit_date": 1447881866, "creation_date": 1447881509, "answer_id": 33790588, "question_id": 33790516, "link": "https://stackoverflow.com/questions/33790516/nested-abstract-class-and-returning-abstract-class/33790588#33790588", "title": "Nested Abstract class and returning abstract class", "body": "<p>I see your problem, the member m_status is of type <code>std::vector&lt;EngineStatus&gt;</code> but your method signature returns type <code>std::vector&lt;EngineStatus*&gt;</code>.  So you're going to have to change m_status to be of type <code>std::vector&lt;EngineStatus*&gt;</code> and then have it hold onto pointers.</p>\n"}], "owner": {"reputation": 120, "user_id": 5046524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19c19ef27006bdb9d78e789b64ad4a42?s=128&d=identicon&r=PG&f=1", "display_name": "Moved", "link": "https://stackoverflow.com/users/5046524/moved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 33790588, "answer_count": 1, "score": 0, "last_activity_date": 1447881941, "creation_date": 1447881301, "last_edit_date": 1447881941, "question_id": 33790516, "link": "https://stackoverflow.com/questions/33790516/nested-abstract-class-and-returning-abstract-class", "title": "Nested Abstract class and returning abstract class", "body": "<p>I'm working on creating an interface for my algorithms.</p>\n\n<p>I have one base abstract class and two derived classes.\nInside the base abstract class, it has the second abstract class.\nWithin base derived classes, each has second derived class.</p>\n\n<p>The structure would look like this:</p>\n\n<pre><code>class Engine {\npublic:\n  class EngineStatus {\n    // abstract class \n    ...\n  };\n  Engine(){};\n  virtual ~Engine();\n  virtual std::vector&lt;EngineStatus*&gt; getStatus() = 0;\nprivate:\n  std::vector&lt;EngineStatus&gt; m_status;\n};\n\n// Derived class\nclass OneEngine : public Engine {\n  public OneEngineStatus : public EngineStatus {\n    // Derived class\n    ...\n  };\n  ...\n\n  std::vector&lt;EngineStatus*&gt; getStatus()\n  {\n    return m_status;   // Compiler error...\n  }\n};\n\n// Derived class\nclass AnotherEngine : public Engine {\n  public AnotherEngineStatus : public EngineStatus {\n    // Derived class\n    ...\n  };\n  ...\n\n  std::vector&lt;EngineStatus*&gt; getStatus()\n  {\n    return m_status;   // Compiler error...\n  }\n};\n</code></pre>\n\n<p>In main,</p>\n\n<pre><code>Engine* myEngine;\nstd::vector&lt;Engine::EngineStatus*&gt; status = myEngine-&gt;getStatus();\n</code></pre>\n\n<p>How can I accomplish this, or is there any better way to do so?</p>\n"}, {"tags": ["c++", "string", "inheritance", "scope"], "answers": [{"comments": [{"owner": {"reputation": 12386, "user_id": 93802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/064b3943e97c2ad9616389bd6b2cfe62?s=128&d=identicon&r=PG", "display_name": "djcouchycouch", "link": "https://stackoverflow.com/users/93802/djcouchycouch"}, "edited": false, "score": 1, "creation_date": 1447882201, "post_id": 33790700, "comment_id": 55348590, "body": "Making it static would also ensure that there&#39;s only one instance of IMG_FILE_NAME. The way it is currently written, every instance of DerivedClass would have a copy of the string."}], "tags": [], "owner": {"reputation": 4669, "user_id": 63814, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/607eab54ab44ecd7ebefa443e1925596?s=128&d=identicon&r=PG", "display_name": "MahlerFive", "link": "https://stackoverflow.com/users/63814/mahlerfive"}, "is_accepted": true, "score": 4, "last_activity_date": 1447881923, "creation_date": 1447881923, "answer_id": 33790700, "question_id": 33790511, "link": "https://stackoverflow.com/questions/33790511/string-declared-in-header-file-of-derived-class-is-null-in-the-super-class/33790700#33790700", "title": "String declared in header file of derived class is null in the super class", "body": "<p>The base class will be constructed before the derived class. Because of this, <code>IMG_FILE_NAME</code> will not be instantiated in <code>DerivedClass</code> before it gets sent to the <code>BaseClass</code> constructor.</p>\n\n<p>A possible workaround is to make <code>IMG_FILE_NAME</code> static. It should get initialized before the constructor is called.</p>\n"}], "owner": {"reputation": 21, "user_id": 5578497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1e2270e578fc067cfaae59f6edb41fc?s=128&d=identicon&r=PG&f=1", "display_name": "Patrician", "link": "https://stackoverflow.com/users/5578497/patrician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "accepted_answer_id": 33790700, "answer_count": 1, "score": 1, "last_activity_date": 1447881923, "creation_date": 1447881273, "question_id": 33790511, "link": "https://stackoverflow.com/questions/33790511/string-declared-in-header-file-of-derived-class-is-null-in-the-super-class", "title": "String declared in header file of derived class is null in the super class", "body": "<p>So my header file looks something like this:</p>\n\n<pre><code>class DerivedClass : public BaseClass{\npublic:\n    const std::string IMG_FILE_NAME = \"picture.png\";\n};\n</code></pre>\n\n<p>and my cpp file looks like this:</p>\n\n<pre><code>#include \"DerivedClass.h\"\n\nDerivedClass::DerivedClass(int x, int y) : BaseClass(x, y, IMG_FILE_NAME){\n    //some code here.\n}\n</code></pre>\n\n<p>In the base class I'm using the string(IMG_FILE_NAME) to open a file but for some reason it's null there, which breaks the program. Can someone explain what's going on? </p>\n"}, {"tags": ["c++", "function", "greatest-common-divisor"], "comments": [{"owner": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 1, "creation_date": 1447881481, "post_id": 33790486, "comment_id": 55348169, "body": "well, n % 0 does not look like something computable, does it?"}, {"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447881514, "post_id": 33790486, "comment_id": 55348189, "body": "In the code, you are starting with int i = 0; and then using var mod 0. The result is undefined as it is a divide by zero error."}, {"owner": {"reputation": 25, "user_id": 3429874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dadd6f6434085b0c7d9f624f3a0342c6?s=128&d=identicon&r=PG&f=1", "display_name": "YorS", "link": "https://stackoverflow.com/users/3429874/yors"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1447882947, "post_id": 33790486, "comment_id": 55349023, "body": "@Mr.Llama cause I erased that part and the .exe works just fine"}, {"owner": {"reputation": 25, "user_id": 3429874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dadd6f6434085b0c7d9f624f3a0342c6?s=128&d=identicon&r=PG&f=1", "display_name": "YorS", "link": "https://stackoverflow.com/users/3429874/yors"}, "reply_to_user": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 0, "creation_date": 1447883021, "post_id": 33790486, "comment_id": 55349061, "body": "@Lao yes... I wonder why I didn&#39;t spot that mistake"}, {"owner": {"reputation": 25, "user_id": 3429874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dadd6f6434085b0c7d9f624f3a0342c6?s=128&d=identicon&r=PG&f=1", "display_name": "YorS", "link": "https://stackoverflow.com/users/3429874/yors"}, "reply_to_user": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447883024, "post_id": 33790486, "comment_id": 55349062, "body": "@ShyamalDesai yup, thx for the response. I was stupid for not realizing that haha"}, {"owner": {"reputation": 132, "user_id": 5339558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1740afc606f76a0a33ce457380b4ed59?s=128&d=identicon&r=PG&f=1", "display_name": "Shyamal Desai", "link": "https://stackoverflow.com/users/5339558/shyamal-desai"}, "edited": false, "score": 0, "creation_date": 1447883424, "post_id": 33790486, "comment_id": 55349288, "body": "@ user3429874: No need to beat yourself up. Programming humbles us all. Enjoy the journey"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3429874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dadd6f6434085b0c7d9f624f3a0342c6?s=128&d=identicon&r=PG&f=1", "display_name": "YorS", "link": "https://stackoverflow.com/users/3429874/yors"}, "edited": false, "score": 1, "creation_date": 1447882884, "post_id": 33790552, "comment_id": 55348988, "body": "ah... thx. now excuse me, while I gather my confidence back for not noticing that stupid mistake. But seriously, thx. I don&#39;t know why I didn&#39;t realize that haha"}], "tags": [], "owner": {"reputation": 1192, "user_id": 5203926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YIMga.png?s=128&g=1", "display_name": "kcraigie", "link": "https://stackoverflow.com/users/5203926/kcraigie"}, "is_accepted": true, "score": 2, "last_activity_date": 1447881380, "creation_date": 1447881380, "answer_id": 33790552, "question_id": 33790486, "link": "https://stackoverflow.com/questions/33790486/greatest-common-factor/33790552#33790552", "title": "Greatest Common Factor", "body": "<p>You can't % by 0 because it will generate a divide-by-zero exception.  You need to start i at 1 instead of 0 in the first loop.</p>\n"}], "owner": {"reputation": 25, "user_id": 3429874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dadd6f6434085b0c7d9f624f3a0342c6?s=128&d=identicon&r=PG&f=1", "display_name": "YorS", "link": "https://stackoverflow.com/users/3429874/yors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 33790552, "answer_count": 1, "score": 0, "last_activity_date": 1447881380, "creation_date": 1447881190, "question_id": 33790486, "link": "https://stackoverflow.com/questions/33790486/greatest-common-factor", "title": "Greatest Common Factor", "body": "<p>so I tried to make a function to find a GCD (Greatest Common Divisor) for my friend who just started learning C++ (I have some basic knowledge of C++). So here's my code:</p>\n\n<pre><code>int gcd(int var1, int var2){\n    int result;\n    if(var1&lt;1 || var2&lt;1){\n        return 0; //means error\n    } else {\n        for(int i=0; i&lt;=var1 &amp;&amp; i&lt;=var2; i++){\n            if((var1%i) == 0 &amp;&amp; (var2%i) == 0){\n                result = i;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>It compiled, but the problem is the .exe stopped working whenever it tries to use the operator '%'. In this case, at this line of code: <code>var1%i</code> and <code>var2%i</code>. So, I tried to tweak the code a little bit into this:</p>\n\n<pre><code>int gcd(int var1, int var2){\n    int result;\n    if(var1&lt;1 || var2&lt;1){\n        result = 0; //means error\n    } else {\n        for(int i=var1; i&gt;=1; i--){\n            if((var1%i) == 0 &amp;&amp; (var2%i) == 0){\n                result = i;\n                break;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>And it worked without any problem. So, I was wondering what is the problem with the first code?</p>\n"}, {"tags": ["c++", "split"], "comments": [{"owner": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 2, "creation_date": 1447881152, "post_id": 33790359, "comment_id": 55347986, "body": "<a href=\"http://stackoverflow.com/questions/236129/split-a-string-in-c\">stackoverflow.com/questions/236129/split-a-string-in-c</a> , <a href=\"http://stackoverflow.com/questions/53849/how-do-i-tokenize-a-string-in-c\" title=\"how do i tokenize a string in c\">stackoverflow.com/questions/53849/&hellip;</a> , and <a href=\"http://stackoverflow.com/questions/16286095/similar-function-to-javas-string-split-in-c\" title=\"similar function to javas string split in c\">stackoverflow.com/questions/16286095/&hellip;</a> would be questions that may be useful to consider as they are quite similar to what you&#39;re asking here."}, {"owner": {"reputation": 37, "user_id": 5554641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-doWOIGHc8OY/AAAAAAAAAAI/AAAAAAAAACI/y4nH1x-7q1Q/photo.jpg?sz=128", "display_name": "Widdin", "link": "https://stackoverflow.com/users/5554641/widdin"}, "reply_to_user": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447882238, "post_id": 33790359, "comment_id": 55348606, "body": "It&#39;s hard to understand those, i don&#39;t know how to get out the 2nd and 3rd word and use them either from the others, They only pick out the 1st word and use it"}, {"owner": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447884535, "post_id": 33790359, "comment_id": 55349893, "body": "<a href=\"http://www.cplusplus.com/reference/cstring/strtok/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/cstring/strtok</a> would seem to be what you need though this function is used slightly differently. If that doesn&#39;t work please state what part you are having problems with as &quot;hard to understand&quot; doesn&#39;t give anyone here something to use in helping you if that is really want you want."}, {"owner": {"reputation": 37, "user_id": 5554641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-doWOIGHc8OY/AAAAAAAAAAI/AAAAAAAAACI/y4nH1x-7q1Q/photo.jpg?sz=128", "display_name": "Widdin", "link": "https://stackoverflow.com/users/5554641/widdin"}, "reply_to_user": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447886945, "post_id": 33790359, "comment_id": 55350951, "body": "How do i use this correctly? <a href=\"http://stackoverflow.com/questions/236129/split-a-string-in-c/5208977#5208977\" title=\"split a string in c\">stackoverflow.com/questions/236129/split-a-string-in-c/&hellip;</a>"}, {"owner": {"reputation": 37, "user_id": 5554641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-doWOIGHc8OY/AAAAAAAAAAI/AAAAAAAAACI/y4nH1x-7q1Q/photo.jpg?sz=128", "display_name": "Widdin", "link": "https://stackoverflow.com/users/5554641/widdin"}, "reply_to_user": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447886962, "post_id": 33790359, "comment_id": 55350959, "body": "<code>while (ss &gt;&gt; buf) { \t\t\ttokens.push_back(buf); \t\t\tif (buf == &quot;add&quot;) { \t\t\t\tcout &lt;&lt; &quot;add was found&quot;; \t\t\t\tdosomething.add(tokens(1),tokens(2)); &lt;- How to do this also?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}  \t\t}</code>"}, {"owner": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447889637, "post_id": 33790359, "comment_id": 55351964, "body": "after the <code>while</code> loop finishes so that the tokens are there then you can use them. Otherwise you are trying to access stuff that isn&#39;t properly set up."}, {"owner": {"reputation": 37, "user_id": 5554641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-doWOIGHc8OY/AAAAAAAAAAI/AAAAAAAAACI/y4nH1x-7q1Q/photo.jpg?sz=128", "display_name": "Widdin", "link": "https://stackoverflow.com/users/5554641/widdin"}, "reply_to_user": {"reputation": 11882, "user_id": 8745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2f99dd64c734457165e8a584b4b281?s=128&d=identicon&r=PG", "display_name": "JB King", "link": "https://stackoverflow.com/users/8745/jb-king"}, "edited": false, "score": 0, "creation_date": 1447890527, "post_id": 33790359, "comment_id": 55352281, "body": "So the if( ) is supposed to be after the while-loop? :)"}], "owner": {"reputation": 37, "user_id": 5554641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-doWOIGHc8OY/AAAAAAAAAAI/AAAAAAAAACI/y4nH1x-7q1Q/photo.jpg?sz=128", "display_name": "Widdin", "link": "https://stackoverflow.com/users/5554641/widdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1447881564, "answer_count": 0, "score": 0, "last_activity_date": 1447880743, "creation_date": 1447880743, "question_id": 33790359, "link": "https://stackoverflow.com/questions/33790359/c-similar-function-to-split-from-python", "closed_reason": "Duplicate", "title": "C++ Similar function to split()[] from Python?", "body": "<pre><code>ans = raw_input(\"Input: \")\nif ans.split()[0] == \"hello\":\n    something.add(ans.split()[1],ans.split()[2])\nelse if ans.split()[0] == \"no\":\n    else.add(ans.split()[1],ans.split()[2])\n/*\nSo if i would input \"Hello peter pan\"\nThen it would send in &gt;&gt; something.add(\"peter\", \"pan\")\nor\nif i would input \"no test 123\"\nThen it would send in &gt;&gt; else.add(\"test\", \"123\")\n*/\n</code></pre>\n\n<p>So what i want to do is \"catch\" every word from the input but i can't seem to find any easy way to do this function in c++. I'm really new to C++, any tips?</p>\n"}, {"tags": ["c++", "openssl", "boost-asio"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1447880944, "post_id": 33790296, "comment_id": 55347865, "body": "That&#39;s a linker error and has been asked many times. Will find dupe"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1447881206, "post_id": 33790296, "comment_id": 55348029, "body": "Also check the order of the arguments (libraries go <i>after</i> your object files)!"}, {"owner": {"reputation": 91, "user_id": 5442264, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6da433338eb030698def67e6ccfd0525?s=128&d=identicon&r=PG&f=1", "display_name": "The Bluff", "link": "https://stackoverflow.com/users/5442264/the-bluff"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1447881565, "post_id": 33790296, "comment_id": 55348219, "body": "@sehe Hi, I set my code::block to compile as follow : <code>$compiler $includes -c $file -o $object $options</code>, and nothing changed"}], "owner": {"reputation": 91, "user_id": 5442264, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6da433338eb030698def67e6ccfd0525?s=128&d=identicon&r=PG&f=1", "display_name": "The Bluff", "link": "https://stackoverflow.com/users/5442264/the-bluff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1447881176, "answer_count": 0, "score": 0, "last_activity_date": 1447880524, "creation_date": 1447880524, "question_id": 33790296, "link": "https://stackoverflow.com/questions/33790296/openssl-and-boost-asio-compile-error", "closed_reason": "Duplicate", "title": "Openssl and Boost.Asio compile error", "body": "<p>I am trying to run the Boost.Asio SSL example but I got a lots of \nUndefined reference to ... :</p>\n\n<pre><code>undefined reference to `SSL_library_init'\nundefined reference to `SSL_load_error_strings'\n...\n</code></pre>\n\n<p>I've already link my libs (ssl and crypto) after the file name when compiling.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "c", "assembly"], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1447881093, "post_id": 33790445, "comment_id": 55347956, "body": "Good catch.  It should be <code>bl</code> instead of <code>ebx</code>."}, {"owner": {"reputation": 115, "user_id": 5518551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd8c4fe528b5da5d18c8f4e3faef672?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/5518551/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1447881668, "post_id": 33790445, "comment_id": 55348277, "body": "Whammm-o!!! Thank you so much. Since I am still new, it is a bit difficult remember the size of each register. To be clear, bl is 8 bit, bx is 16 bit, and ebx is 32 bit? Is every char[] index 8 bit worth of data? Thank you again!"}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 1, "creation_date": 1447882233, "post_id": 33790445, "comment_id": 55348600, "body": "Yes, the registers have these width. The size of one char is 8-bit."}, {"owner": {"reputation": 115, "user_id": 5518551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd8c4fe528b5da5d18c8f4e3faef672?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/5518551/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1447882286, "post_id": 33790445, "comment_id": 55348641, "body": "@MartinZabel Understood. Thanks again for the clarifications. Cheers!"}], "tags": [], "owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "is_accepted": true, "score": 6, "last_activity_date": 1451570685, "last_edit_date": 1451570685, "creation_date": 1447881034, "answer_id": 33790445, "question_id": 33790106, "link": "https://stackoverflow.com/questions/33790106/x86-intel-assembly-and-c-stack-around-array-corrupted/33790445#33790445", "title": "x86 Intel Assembly and C++ - Stack around array corrupted", "body": "<p>I have no assembler to compile your code, but you write 32-bit values into a <code>char[]</code> at this line:</p>\n\n<pre><code>mov [eax],ebx           ;Copy the 0's or 1's into the array location\n</code></pre>\n\n<p>So, the last write will update the memory locations <code>arr[SIZE-1]</code> to <code>arr[SIZE+2]</code>.</p>\n"}], "owner": {"reputation": 115, "user_id": 5518551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd8c4fe528b5da5d18c8f4e3faef672?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/5518551/andrew-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 33790445, "answer_count": 1, "score": 3, "last_activity_date": 1451570685, "creation_date": 1447879909, "last_edit_date": 1447954109, "question_id": 33790106, "link": "https://stackoverflow.com/questions/33790106/x86-intel-assembly-and-c-stack-around-array-corrupted", "title": "x86 Intel Assembly and C++ - Stack around array corrupted", "body": "<p><strong>Error:</strong></p>\n\n<pre><code>Run-Time Check Failure #2 - Stack around the variable 'arr' was corrupted.\n</code></pre>\n\n<p>This seems to be a common error on this forum; however, I was unable to find one that had assembly code mixed into it. Basically, my program is to convert decimal to binary (16-bit representation). After completing the coding, everything seems to compute correctly and convert the decimal to binary without an issue; however, after the <strong>\"Press any key to continue . . .\"</strong>, the error above pops up.</p>\n\n<p>I do not believe the C++ code is causing the issue as it is very basic, and is there only to invoke the assembly function.</p>\n\n<p>Again, the computation is correct as the program will produce the correct conversion (i.e: Decimal = 10, Binary Conversion: 0000000000001010), but just giving me the error at the end of the program.</p>\n\n<p><strong>C++ Code:</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nextern\"C\" void decToBin(char[], int, int);\n\nint main()\n{\n//Initialize array and variables\nconst int SIZE = 16;\nchar arr[SIZE] = { NULL };\nint dec = 0;\n\n//Ask user for integer that they want to convert\ncout &lt;&lt; \"Please enter integer you want to convert to binary: \";\ncin &gt;&gt; dec;\n\n//Assembly function to convert integer\ndecToBin(arr, dec, SIZE);\n\ncout &lt;&lt; \"The 16-bit binary representation of \" &lt;&lt; dec &lt;&lt; \" is: \";\n\n//Display the 16-bit binary conversion\nfor (int i = 0; i &lt; SIZE; i++)\n    cout &lt;&lt; arr[i];\n\ncout &lt;&lt; endl;\n\nsystem(\"PAUSE\");\nreturn 0;\n}\n</code></pre>\n\n<p><strong>Assembly Code:</strong></p>\n\n<pre><code>.686\n.model flat\n\n.code\n\n_decToBin PROC              ;Start of project\n\nstart:\npush ebp\nmov ebp,esp             ;Stack pointer to ebp\n\nmov eax,[ebp+8]         ;Address of first array element\nmov cx,[ebp+12]         ;Integer number being passed - Copying onto 16 bit register\nmov edx,[ebp+16]        ;Size of array\n\nloopme:                     ;Loop to fill in array\nmov ebx,0               ;Initializes ebx to store carry flag after shift\ncmp edx,0               ;Compare edx with 0 to see if we should continue\nje alldone              \n\nshl cx,1                ;Shift the value to the left\nadc ebx,0               ;Check carry flag and add 1 if CF(CY) is set to 1 and stay at 0 if CF(CY) is 0\nadd ebx,48              ;Since array is CHAR, adding 48 will give correct 0 or 1 instead of null\n\nmov [eax],ebx           ;Copy the 0's or 1's into the array location\n\ndec edx                 ;Decrement the counter\ninc eax                 ;Move the array up an index\n\njmp loopme\n\nalldone:    \npop ebp\nret\n\n_decToBin ENDP\n\nEND\n</code></pre>\n"}, {"tags": ["c++", "language-lawyer", "undefined-behavior", "temporary-objects"], "comments": [{"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447879910, "post_id": 33790065, "comment_id": 55347252, "body": "Since the variables in question are not accessed after its scope, there&#39;s no problem. Yes, both example will output &quot;good&quot;."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 3, "creation_date": 1447880004, "post_id": 33790065, "comment_id": 55347304, "body": "@wendelbsilva, knowing the history of the question, I can tell, you, OP will need something to substantitate your statement ;)"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 0, "creation_date": 1447880073, "post_id": 33790065, "comment_id": 55347358, "body": "My guess is that this is symmetrical with UB in pointers if you don&#39;t dereference them then there&#39;s no UB."}, {"owner": {"reputation": 17597, "user_id": 2016408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVba8.jpg?s=128&g=1", "display_name": "Leeor", "link": "https://stackoverflow.com/users/2016408/leeor"}, "edited": false, "score": 0, "creation_date": 1447880076, "post_id": 33790065, "comment_id": 55347361, "body": "The same examples with pointers instead of references would be well defined, won&#39;t they?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447880080, "post_id": 33790065, "comment_id": 55347363, "body": "I think, you might want another example, which would closer match the original question - something like <code>int&amp; ret = func()</code>"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447880146, "post_id": 33790065, "comment_id": 55347390, "body": "@SergeyA I added a third question. :)"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 17597, "user_id": 2016408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVba8.jpg?s=128&g=1", "display_name": "Leeor", "link": "https://stackoverflow.com/users/2016408/leeor"}, "edited": false, "score": 0, "creation_date": 1447880188, "post_id": 33790065, "comment_id": 55347418, "body": "@Leeor Clearly this is all perfectly fine with pointers. But references have restrictions that pointers don&#39;t have."}, {"owner": {"reputation": 17597, "user_id": 2016408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVba8.jpg?s=128&g=1", "display_name": "Leeor", "link": "https://stackoverflow.com/users/2016408/leeor"}, "edited": false, "score": 0, "creation_date": 1447880365, "post_id": 33790065, "comment_id": 55347522, "body": "@DavidSchwartz, yes, I was trying to refer to the same duality as 101010, but I agree it&#39;s not convincing. By the way, found this - <a href=\"http://stackoverflow.com/questions/14730534/dangling-references-and-undefined-behavior\" title=\"dangling references and undefined behavior\">stackoverflow.com/questions/14730534/&hellip;</a>"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1447880444, "post_id": 33790065, "comment_id": 55347571, "body": "1 and 2 should be OK - I know of no rule that they break, though it&#39;s hard to prove a negative. 3 is trickier owning to [dcl.ref]/5 (&quot;A reference shall be initialized to refer to a valid object or function.&quot;), but that language is clearly defective as written (it would require a diagnostic, which is obviously impossible), so what should happen is unclear."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1447880461, "post_id": 33790065, "comment_id": 55347581, "body": "@DavidSchwartz No, this is not all perfectly fine with pointers. The pointer equivalent of your third question has UB. (At least definitely so in C, and I highly suspect C++ did not change this.)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447880585, "post_id": 33790065, "comment_id": 55347643, "body": "@hvd Are you talking about the &quot;invalid pointer value&quot; rule? That&#39;s implementation-defined in C++."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1447880732, "post_id": 33790065, "comment_id": 55347728, "body": "This code does NOT return a reference to a temporary. It returns reference to object <code>i</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447880736, "post_id": 33790065, "comment_id": 55347731, "body": "@T.C. Yes. And right, with a footnote explaining that the implementation-defined behaviour may result in a crash (&quot;a system-generated runtime fault&quot;). Wow, C++ did change that to make it not UB, though it&#39;s still not fine."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447880848, "post_id": 33790065, "comment_id": 55347795, "body": "@hvd Even more fun, as currently written &quot;invalid pointer value&quot; doesn&#39;t apply to pointers to automatic storage at all. <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/p0137r0.html\" rel=\"nofollow noreferrer\">P0137R0</a> is trying to fix that (among a bunch of other things)."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447880906, "post_id": 33790065, "comment_id": 55347839, "body": "@T.C. I think it&#39;s clear that &quot;A reference shall be initialized to refer to a valid object or function&quot; is not supposed to be diagnosable, e.g. the <i>Note</i> following which gives an example and states that it is undefined behaviour"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1447880993, "post_id": 33790065, "comment_id": 55347899, "body": "I think 3.8(6) [basic.life] has part of the answer."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447881053, "post_id": 33790065, "comment_id": 55347923, "body": "@M.M Except it says neither &quot;no diagnostic is required&quot; nor &quot;the behavior is undefined&quot;, so by [intro.compliance] it must be diagnosed."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1447881065, "post_id": 33790065, "comment_id": 55347930, "body": "@NathanOliver that refers to &quot;before the storage which the object occupied is reused or released&quot;, however returning from the function releases the storage for <code>i</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1447881218, "post_id": 33790065, "comment_id": 55348036, "body": "@T.C. &quot;Invalid pointer value&quot; doesn&#39;t have a formal definition, it&#39;s not in italics in [basic.std.dynamic.deallocation]. There&#39;s definitely missing wording, but I&#39;m not sure it&#39;s right to conclude that for now, technically it only refers to dynamically allocated memory."}, {"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447881629, "post_id": 33790065, "comment_id": 55348254, "body": "I agree with the case 3 being trick. But isnt storing an invalid pointer  undefined behavior by omission?"}, {"owner": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 0, "creation_date": 1447882017, "post_id": 33790065, "comment_id": 55348477, "body": "Come on guys, reference can be seen as just a const pointer. What&#39;s the problem in having an invalid pointer around? Just don&#39;t try using it.  int&amp; i=*(static_cast&lt;int*&gt;(nullptr)); //still valid code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 1, "creation_date": 1447882224, "post_id": 33790065, "comment_id": 55348597, "body": "@Lao That depends on whether you mean &quot;valid code&quot; as &quot;code that doesn&#39;t crash on my system&quot; or as &quot;code that follows the rules defined by the C++ specification&quot;. The former is what you can answer by just trying it, as you pretty much suggest, but this question is about the latter."}, {"owner": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 0, "creation_date": 1447882747, "post_id": 33790065, "comment_id": 55348904, "body": "@hwd it is clearly stated in the question: &quot;is this program guaranteed to output &quot;good&quot;? Yes, it is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 222, "user_id": 5008129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e7d646362c5c2a5a31486ebb00e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Lao", "link": "https://stackoverflow.com/users/5008129/lao"}, "edited": false, "score": 1, "creation_date": 1447882894, "post_id": 33790065, "comment_id": 55348997, "body": "@Lao Yes, it is indeed clearly stated. The question doesn&#39;t ask &#39;will this program output &quot;good&quot;?&#39;, it asks &#39;is this program guaranteed to output &quot;good&quot;?&#39;. As in, guaranteed by the rules by which C++ is defined."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447928711, "post_id": 33790065, "comment_id": 55368063, "body": "@SergeyA if there is a compiler exploiting case 1 and 2 as UB then that is important information to add to the question. Especially because it would be surprising and documenting it would be helpful for projects like the <a href=\"http://blog.regehr.org/archives/1234\" rel=\"nofollow noreferrer\">UB Canaries</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": false, "score": 6, "last_activity_date": 1447882675, "last_edit_date": 1447882675, "creation_date": 1447881908, "answer_id": 33790696, "question_id": 33790065, "link": "https://stackoverflow.com/questions/33790065/undefined-behavior-and-temporaries/33790696#33790696", "title": "Undefined behavior and temporaries", "body": "<blockquote>\n  <p>2) Is it undefined behavior to simply have a reference to an object that no longer exists, even if that reference is not used?</p>\n</blockquote>\n\n<p>No. The rule that references must refer to a valid object applies when the reference is inintialised. The rule has already been quoted in the comments: \"A reference shall be initialized to refer to a valid object or function.\" This rule has not been violated in your program, and there are no other restrictions on references requiring them to refer to valid objects or functions after initialization.</p>\n\n<p>The standard has a few examples involving dangling references, such as [class.temporary]5.4:</p>\n\n<blockquote>\n<pre><code>struct S { int mi; const std::pair&lt;int,int&gt;&amp; mp; };\nS a { 1, {2,3} };\nS* p = new S{ 1, {2,3} };  // Creates dangling reference.\n</code></pre>\n</blockquote>\n\n<p>and doesn't say for any such example that the mere existence of a dangling reference is invalid. Although it's never explicitly stated as allowed, the absence of any rule prohibiting it is enough to allow it.</p>\n\n<blockquote>\n  <p>1) Is it undefined behavior to return a reference to a temporary, even if that reference is not used?</p>\n</blockquote>\n\n<p>No. The construction of the result (the initialisation of the reference) happens in the context of the called function. There can even be extra code in the called function that runs after the construction of the result: destructors for local objects run after the construction of the result has finished. Since the reference is initialized to a valid object, this is just like your second question, that same rule still hasn't been violated.</p>\n\n<blockquote>\n  <p>3) Is it undefined behavior to combine these?</p>\n</blockquote>\n\n<p>Yes. In your example, <code>p</code> is not initialised to refer to a valid object or function. As you can tell from the comments on your question, there are issues with the wording in the standard, but the intent of this rule pretty clearly is that if it is violated, the behaviour is undefined.</p>\n"}, {"comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1447887855, "post_id": 33791273, "comment_id": 55351318, "body": "@downvoter please explain what is the issue with my answer"}], "tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 5, "last_activity_date": 1448394966, "last_edit_date": 1448394966, "creation_date": 1447884072, "answer_id": 33791273, "question_id": 33790065, "link": "https://stackoverflow.com/questions/33790065/undefined-behavior-and-temporaries/33791273#33791273", "title": "Undefined behavior and temporaries", "body": "<p>I don't see any rules that forbid case 1 and 2 nor can I find a relevant defect report either.</p>\n\n<p>All we really have from the draft C++ standard is from section <code>8.3.2</code> <em>[dcl.ref]</em>:</p>\n\n<blockquote>\n  <p>[...]A reference shall be initialized to refer to a valid object or\n  function. [ Note: in particular, a null reference cannot exist in a well-defined program, because the only way\n  to create such a reference would be to bind it to the \u201cobject\u201d obtained by indirection through a null pointer,\n  which causes undefined behavior.[...]</p>\n</blockquote>\n\n<p>which does not apply to case 1 since we are not initialing a reference and neither case 2 since the object is <em>valid</em> when we initialize the reference. </p>\n\n<p>This does seem to apply to case 3. So what does <em>valid object</em> mean is subject of the following defect report. The defect report which covers this topic is still open and therefore we can only get a a feel for current thinking which is that this should be undefined behavior.</p>\n\n<p>If we look at <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#453\" rel=\"nofollow\">defect report 453: References may only bind to \u201cvalid\u201d objects </a>, which deals with what it means to bind a reference to an invalid object. The current proposed resolution says:</p>\n\n<blockquote>\n  <p>[...]If an lvalue to which a reference is directly bound designates neither an existing object or function of an appropriate type (8.5.3 [dcl.init.ref]), nor a region of storage of suitable size and alignment to contain an object of the reference's type (1.8 [intro.object], 3.8 [basic.life], 3.9 [basic.types]), the behavior is undefined. [...]</p>\n</blockquote>\n\n<p>So we can say the current thinking is that this should be undefined behavior but currently this is defect and so we can't say for sure until this defect report is resolved. I would err on the side of caution and assume it is undefined behavior.</p>\n"}], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 5, "accepted_answer_id": 33791273, "answer_count": 2, "score": 14, "last_activity_date": 1448394966, "creation_date": 1447879749, "last_edit_date": 1447880138, "question_id": 33790065, "link": "https://stackoverflow.com/questions/33790065/undefined-behavior-and-temporaries", "title": "Undefined behavior and temporaries", "body": "<p>1) Is it undefined behavior to return a reference to a temporary, even if that reference is not used? For example, is this program guaranteed to output \"good\":</p>\n\n<pre><code>int&amp; func()\n{\n    int i = 5;\n    return i;\n}\n\nint main()\n{\n    func();\n\n    cout &lt;&lt; \"good\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>2) Is it undefined behavior to simply have a reference to an object that no longer exists, even if that reference is not used? For example, is this program guaranteed to output \"good\":</p>\n\n<pre><code>int main()\n{\n    int *j = new int();\n    int &amp;k = *j;\n    delete j;\n\n    cout &lt;&lt; \"good\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>3) Is it undefined behavior to combine these?</p>\n\n<pre><code>int&amp; func()\n{\n    int i = 5;\n    return i;\n}\n\nint main()\n{\n    int&amp; p = func();\n\n    cout &lt;&lt; \"good\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "opencv", "ubuntu-14.04", "opencv3.0", "gcc4.8"], "comments": [{"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447879586, "post_id": 33789976, "comment_id": 55347074, "body": "try <code>make VERBOSE=0</code> to see the linking error. Btw, if you changed some stuff in the cmake after running make before.. try a <code>make clean;make</code>."}, {"owner": {"reputation": 361, "user_id": 5578293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FeS5w.jpg?s=128&g=1", "display_name": "Jan Hackenberg", "link": "https://stackoverflow.com/users/5578293/jan-hackenberg"}, "reply_to_user": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447879880, "post_id": 33789976, "comment_id": 55347233, "body": "with VERBOSE=0 on clean"}, {"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447880136, "post_id": 33789976, "comment_id": 55347384, "body": "Nope, VERBOSE=0 on the make (<code>make VERBOSE=0</code> instead of <code>make -j4</code>). This will make it <code>echo</code> the commands being evoke. In addition, if an error happens, you see a better description. The <code>make clean;make -j4</code> is another approach to force recompile all the files again. This second approach is good if you changed any information on the cmake.. that need to apply to already compile files (and make can figure it out itself)."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1447880221, "post_id": 33789976, "comment_id": 55347435, "body": "Check <a href=\"http://rodrigoberriel.com/2014/10/installing-opencv-3-0-0-on-ubuntu-14-04/\" rel=\"nofollow noreferrer\">this</a> tutorial by @berriel"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1447881178, "post_id": 33789976, "comment_id": 55348013, "body": "Check also <a href=\"http://stackoverflow.com/a/33603464/5008845\">this</a>"}, {"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 0, "creation_date": 1447881283, "post_id": 33789976, "comment_id": 55348066, "body": "Can you post more lines when you tried with verbose=0? I want to see what library it is trying to link with and it is failing, or if it is another error."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1447886321, "post_id": 33789976, "comment_id": 55350699, "body": "Glad you make it work, voting to close as a duplicate then"}], "owner": {"reputation": 361, "user_id": 5578293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FeS5w.jpg?s=128&g=1", "display_name": "Jan Hackenberg", "link": "https://stackoverflow.com/users/5578293/jan-hackenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "closed_date": 1447888073, "answer_count": 0, "score": 1, "last_activity_date": 1447881867, "creation_date": 1447879372, "last_edit_date": 1495539906, "question_id": 33789976, "link": "https://stackoverflow.com/questions/33789976/compiling-opencv-3-0-0-in-ubuntu-14-04-error-during-opencv-test-video", "closed_reason": "Duplicate", "title": "Compiling OpenCV 3.0.0 in Ubuntu 14.04 - Error during opencv_test_video", "body": "<p>I run gcc 4.8.4 under Ubuntu Linux 14.04. I tried to compile OpenCV 3.0.0 downloaded from the <a href=\"http://opencv.org/downloads.html\" rel=\"nofollow noreferrer\">official download page</a>.</p>\n\n<p>After the following processing chain on the extracted files:</p>\n\n<pre><code>cd opencv-3.0.0\nmkdir build\ncd build\ncmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -DWITH_QT=OFF -DWITH_OPENGL=ON -DWITH_VTK=OFF -DWITH_TBB=OFF -DWITH_GDAL=OFF -DWITH_XINE=OFF -DBUILD_EXAMPLES=OFF -DBUILT_TESTS=OFF -DBUILD_opencv_world=ON  ..\nmake -j4\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Linking CXX executable ../../bin/opencv_test_stitching \n[ 94%] Built target opencv_test_stitching\n[ 94%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir /__/video/test/ocl/test_optflow_tvl1flow.cpp.o\n[ 94%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir/__/video/test/test_accum.cpp.o\n[ 94%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir/__/video/test/test_main.cpp.o\n[ 94%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir/__/video/test/test_kalman.cpp.o\n[ 94%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir/__/video/test/test_camshift.cpp.o\n[ 95%] Building CXX object modules/world/CMakeFiles/opencv_test_video.dir/__/video/test/test_tvl1optflow.cpp.o\nLinking CXX executable ../../bin/opencv_test_video\n[ 95%] Built target opencv_test_video\nmake: *** [all] Error 2\n</code></pre>\n\n<p>With VERBOSE=0 on  make clean;</p>\n\n<pre><code>[ 95%] Building CXX object modules/world/CMakeFiles/opencv_test_imgproc.dir/__/imgproc/test/test_approxpoly.cpp.o\ncd /home/hackenberg/opencv/opencv-3.0.0/build/modules/world &amp;&amp; /home/hackenberg/bin/c++   -DHAVE_WEBP -DHIGHGUI_EXPORTS -DIMGCODECS_EXPORTS -DVIDEOIO_EXPORTS -D__OPENCV_BUILD=1 -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wno-narrowing -Wno-delete-non-virtual-dtor -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -msse -msse2 -mno-avx -msse3 -mno-ssse3 -mno-sse4.1 -mno-sse4.2 -ffunction-sections -fvisibility=hidden -fvisibility-inlines-hidden -Wno-deprecated-declarations -Wno-deprecated-declarations -Wno-deprecated-declarations -O3 -DNDEBUG  -DNDEBUG -I/home/hackenberg/opencv/opencv-3.0.0/3rdparty/include/opencl/1.2 -I/home/hackenberg/opencv/opencv-3.0.0/3rdparty/libjasper -I/home/hackenberg/opencv/opencv-3.0.0/3rdparty/libwebp -I/home/hackenberg/opencv/opencv-3.0.0/3rdparty/ippicv/unpack/ippicv_lnx/include -I/home/hackenberg/opencv/opencv-3.0.0/build -isystem /usr/include/eigen3 -I/home/hackenberg/opencv/opencv-3.0.0/modules/ts/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/imgproc/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/imgcodecs/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/videoio/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/hal/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/core/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/highgui/include -I/home/hackenberg/opencv/opencv-3.0.0/modules/imgproc/test -isystem /usr/include/x86_64-linux-gnu -isystem /home/hackenberg/opencv/opencv-3.0.0/3rdparty/openexr/Half -isystem /home/hackenberg/opencv/opencv-3.0.0/3rdparty/openexr/Iex -isystem /home/hackenberg/opencv/opencv-3.0.0/3rdparty/openexr/IlmThread -isystem /home/hackenberg/opencv/opencv-3.0.0/3rdparty/openexr/Imath -isystem /home/hackenberg/opencv/opencv-3.0.0/3rdparty/openexr/IlmImf    -o CMakeFiles/opencv_test_imgproc.dir/__/imgproc/test/test_approxpoly.cpp.o -c /home/hackenberg/opencv/opencv-3.0.0/modules/imgproc/test/test_approxpoly.cpp\nLinking CXX executable ../../bin/opencv_test_imgproc\ncd /home/hackenberg/opencv/opencv-3.0.0/build/modules/world &amp;&amp; /usr/bin/cmake -E cmake_link_script CMakeFiles/opencv_test_imgproc.dir/link.txt --verbose=0\nmake[2]: Leaving directory `/home/hackenberg/opencv/opencv-3.0.0/build'\n/usr/bin/cmake -E cmake_progress_report /home/hackenberg/opencv/opencv-3.0.0/build/CMakeFiles  35 36 37 38\n[ 95%] Built target opencv_test_imgproc\nmake[1]: Leaving directory `/home/hackenberg/opencv/opencv-3.0.0/build'\nmake: *** [all] Error 2\n</code></pre>\n\n<p>Seem to found the solution <a href=\"https://stackoverflow.com/questions/32996602/error-when-installing-opencv-on-ubuntu-14-04/33603464#33603464\">here</a>.</p>\n\n<p>I installed </p>\n\n<blockquote>\n  <p>sudo apt-get install libgstreamer-plugins-base1.0-dev</p>\n</blockquote>\n"}, {"tags": ["c++", "opengl", "access-violation"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1447879328, "post_id": 33789924, "comment_id": 55346937, "body": "Looks like your program is calling a function using a pointer, but the pointer is NULL."}, {"owner": {"reputation": 681, "user_id": 3645859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c63b3e50cbe65d9a7c5735da468c0a04?s=128&d=identicon&r=PG&f=1", "display_name": "Addi", "link": "https://stackoverflow.com/users/3645859/addi"}, "edited": false, "score": 0, "creation_date": 1447879647, "post_id": 33789924, "comment_id": 55347112, "body": "Shouldnt be the case, since glfw should initialize everything!"}, {"owner": {"reputation": 2059, "user_id": 2759368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03e2c110cced20e5bde6dc62146fcce?s=128&d=identicon&r=PG&f=1", "display_name": "nnn", "link": "https://stackoverflow.com/users/2759368/nnn"}, "edited": false, "score": 0, "creation_date": 1447879904, "post_id": 33789924, "comment_id": 55347247, "body": "<code>error_callback</code> is a function?"}, {"owner": {"reputation": 681, "user_id": 3645859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c63b3e50cbe65d9a7c5735da468c0a04?s=128&d=identicon&r=PG&f=1", "display_name": "Addi", "link": "https://stackoverflow.com/users/3645859/addi"}, "edited": false, "score": 0, "creation_date": 1447880063, "post_id": 33789924, "comment_id": 55347353, "body": "yes. I&#39;ll just add that to the code. This one shouldnt make problems though."}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 4, "creation_date": 1447880285, "post_id": 33789924, "comment_id": 55347465, "body": "@Addi: GLFW will <b>not</b> act as an extension loader for OpenGL. Calling any OpenGL function above GL 1.1 requires you to use the GL extension mechanism, if you want your program to be portable (depending on the platform and GL implementation, there might be different guarantees)."}], "answers": [{"tags": [], "owner": {"reputation": 149158, "user_id": 524368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oZ8Up.png?s=128&g=1", "display_name": "datenwolf", "link": "https://stackoverflow.com/users/524368/datenwolf"}, "is_accepted": true, "score": 3, "last_activity_date": 1447882782, "creation_date": 1447882782, "answer_id": 33790935, "question_id": 33789924, "link": "https://stackoverflow.com/questions/33789924/glcreateprogram-access-violation-executing-location-0x00000000/33790935#33790935", "title": "glCreateProgram Access violation executing location 0x00000000", "body": "<p>GLFW doesn't load extensions and modern functionality for you. Hence glCreateProgram is uninitialized.</p>\n\n<p>You need an actual extension loader. Also you have to check that glCreateProgram et al. are actually supported by your target system.</p>\n"}], "owner": {"reputation": 681, "user_id": 3645859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c63b3e50cbe65d9a7c5735da468c0a04?s=128&d=identicon&r=PG&f=1", "display_name": "Addi", "link": "https://stackoverflow.com/users/3645859/addi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1778, "favorite_count": 1, "accepted_answer_id": 33790935, "answer_count": 1, "score": -1, "last_activity_date": 1513333033, "creation_date": 1447879175, "last_edit_date": 1513333033, "question_id": 33789924, "link": "https://stackoverflow.com/questions/33789924/glcreateprogram-access-violation-executing-location-0x00000000", "title": "glCreateProgram Access violation executing location 0x00000000", "body": "<p>I have initialized GLFW and i can call other gl functions. It is possible to draw faces using the OpenGL pipeline. It, however gives me this error when executing <code>glCreateProgram()</code>.</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Exception thrown at 0x00000000 in Voxel.exe: 0xC0000005: Access\n  violation executing location 0x00000000.</p>\n</blockquote>\n\n<p>Simplified code:</p>\n\n<pre><code>void error_callback(int error, const char* description)\n{\n    cerr &lt;&lt; description &lt;&lt; endl;\n}\n[...]\nif (!glfwInit())\n    {\n        cout &lt;&lt; \"Failed to create GLFW3 / OpenGL context\";\n        system(\"PAUSE\");\n        exit(EXIT_FAILURE);\n    }\n    else\n        cout &lt;&lt; \"GLFW3 initialized!\" &lt;&lt; endl;\n\n    glfwSetErrorCallback(error_callback);\n\n    glFrontFace(GL_CW);\n    glCullFace(GL_BACK);\n    glEnable(GL_CULL_FACE);\n    glEnable(GL_DEPTH_TEST);\nwidth = 600;\n    height = 600;\n    this-&gt;window = glfwCreateWindow(width, height, \"voxel\", NULL, NULL);\n    glfwSetWindowSize(this-&gt;window, width, height);\n    glfwGetFramebufferSize(window, &amp;width, &amp;height);\n    glViewport(0, 0, width, height);\n    if (!this-&gt;window)\n    {\n        glfwTerminate();\n        exit(EXIT_FAILURE);\n    }\n    glfwMakeContextCurrent(this-&gt;window);\n    glfwSwapInterval(0);\n\n    cout &lt;&lt; \"OpenGL version: \" &lt;&lt; glGetString(GL_VERSION) &lt;&lt; endl;\nGLuint program = glCreateProgram();\n[...]\n</code></pre>\n\n<p>I do not see, why this is happening.</p>\n"}, {"tags": ["c++", "boost", "mpi"], "comments": [{"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1447881879, "post_id": 33789844, "comment_id": 55348402, "body": "Perhaps I&#39;m missing something, but if your slave processes are &quot;receiving&quot; the broadcasts in a while loop, then the master process must also be broadcasting the data in the same (or similar) while loop. Right now, it is clear that you have mismatched collective operations in some way and that is the first potential problem I see."}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1447924587, "post_id": 33789844, "comment_id": 55365021, "body": "It seems that you are calling <code>broadcast(mpi_world,kill_all_slave,0);</code> last in your worker functions and first in the master function. Unless there is another broadcast in the workers just before the <code>while</code> loop, this is not going to work as expected. The order of collective calls in all ranks <b>must</b> be the same."}, {"owner": {"reputation": 133, "user_id": 4844581, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0c56cc6361761b3d349758682723acb?s=128&d=identicon&r=PG&f=1", "display_name": "wasabi123", "link": "https://stackoverflow.com/users/4844581/wasabi123"}, "edited": false, "score": 0, "creation_date": 1448143852, "post_id": 33789844, "comment_id": 55462874, "body": "actually, the order is the same.... because if I produce 400 slaves, 399 works perfectly and sometimes just 1 slave does not catch the broadcast with 1% probability.... It is a total mysterious disaster...."}], "owner": {"reputation": 133, "user_id": 4844581, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0c56cc6361761b3d349758682723acb?s=128&d=identicon&r=PG&f=1", "display_name": "wasabi123", "link": "https://stackoverflow.com/users/4844581/wasabi123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447954865, "creation_date": 1447878867, "last_edit_date": 1447954865, "question_id": 33789844, "link": "https://stackoverflow.com/questions/33789844/boost-mpi-do-i-need-to-wait-for-multiple-broad-cast-c", "title": "boost mpi do I need to wait for multiple broad cast? c++", "body": "<p>In my master function, I broadcast multiple objects:</p>\n\n<pre><code>    bool kill_all_slave=false;\n    broadcast(mpi_world,kill_all_slave,0);\n\n    broadcast(mpi_world,periodicity_vector,0);\n\n    broadcast(mpi_world,J,0);\n\n    broadcast(mpi_world,x_range,0);\n\n    broadcast(mpi_world,y_range,0);\n\n    broadcast(mpi_world,z_range,0);\n\n    broadcast(mpi_world,component,0);\n\n    broadcast(mpi_world,min_bound,0);\n</code></pre>\n\n<p>In my slave function, I receive them :</p>\n\n<pre><code>    while (kill_all_slave==false) {\n\n\n        vector&lt;tuple&lt;int,int,int,int,int,int&gt; &gt; periodicity_vector;\n\n        std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I am waiting to receive periodicity vector\"&lt;&lt;endl;\n\n        broadcast(mpi_world,periodicity_vector,0);\n\n        std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I am waiting to J \"&lt;&lt;endl;\n\n\n        broadcast(mpi_world,J,0);\n\n        int x_range,y_range,z_range;\n        double min_bound;\n        map&lt;int,int&gt; component;\n\n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" received 3rd set of the global parameters\"&lt;&lt;endl;\n\n        broadcast(mpi_world,x_range,0);\n        broadcast(mpi_world,y_range,0);\n\n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" received 4th set of the global parameters\"&lt;&lt;endl;\n        broadcast(mpi_world,z_range,0);\n        broadcast(mpi_world,component,0);\n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" received 5th set of the global parameters\"&lt;&lt;endl;\n\n\n        broadcast(mpi_world,min_bound,0);\n\n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" received 6th set of the global parameters\"&lt;&lt;endl;\n\n        bool stop = false;\n        string status=\"initial\";\n        mpi_world.send(0, 0, status);\n//        \n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" I am going to send to root status\"&lt;&lt;endl;\n\n\n        mpi_world.recv(0, 0, stop);\n\n        cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" I am going to receive stop signal from root\"&lt;&lt;endl;\n\n\n        while(!stop) {\n\n            map&lt; tuple&lt;int,int,int,int,int,int&gt;, map&lt;set&lt;tuple&lt;int,int,int,int,int&gt; &gt;, double&gt; &gt; clustertype_periodic;\n\n            // Wait for new job\n\n            unsigned int job_id = 0;\n\n            cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" I am going to receive stop job id from root\"&lt;&lt;endl;\n\n            mpi_world.recv(0, 0, job_id);\n\n            cout&lt;&lt;\"\\n hello I am slave: \"&lt;&lt;mpi_world.rank()&lt;&lt;\" I am going to receive stop min bound from root\"&lt;&lt;endl;\n\n\n            mpi_world.recv(0, 1, min_bound);\n\n\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()\n\n            &lt;&lt; \"] Received job \" &lt;&lt; job_id &lt;&lt; \" from MASTER.\\n\"&lt;&lt;endl;\n\n            // Perform \"job\"\n\n            map&lt;tuple&lt;int,int,int,int&gt;,int&gt;  spin_tmp;\n            double energy_tmp=0;\n\n            tuple&lt;int,int,int,int,int,int&gt;  periodicity_now;\n            {\n                int i=job_id;\n                periodicity_now=periodicity_vector[i];\n                int a0=periodicity_now.get&lt;0&gt;();\n                int a1=periodicity_now.get&lt;1&gt;();\n                int a2=periodicity_now.get&lt;2&gt;();\n                int a3=periodicity_now.get&lt;3&gt;();\n                int a4=periodicity_now.get&lt;4&gt;();\n                int a5=periodicity_now.get&lt;5&gt;();\n\n                {\n                    if (pseudo_mode) {\n\n\n\n                        periodic(a0, a1, a2, a3, a4, a5,\n                                 J, x_range, y_range, z_range, component,\n                                 spin_tmp,\n                                 energy_tmp,\n                                 clustertype_periodic, min_bound, id,\n                                 true, false, false,\n                                 obscenely_verbose,global_parameters);\n\n                        //                    {\n                        //                        spin_periodic[make_tuple(a0,a1,a2,a3,a4,a5)]=spin_tmp;\n                        //                        energy_periodic[make_tuple(a0,a1,a2,a3,a4,a5)]=energy_tmp;\n                        //                    }\n                    }\n                    else if (basic_exact_mode){\n\n\n\n\n                        periodic(a0, a1, a2, a3, a4, a5,\n                                 J, x_range, y_range, z_range, component,\n                                 spin_tmp,\n                                 energy_tmp,\n                                 clustertype_periodic, min_bound, id,\n                                 false, true, false,\n                                 obscenely_verbose,global_parameters);\n\n                        //                    {\n                        //                        spin_periodic[make_tuple(a0,a1,a2,a3,a4,a5)]=spin_tmp;\n                        //                        energy_periodic[make_tuple(a0,a1,a2,a3,a4,a5)]=energy_tmp;\n                        //                    }\n\n\n                    }\n\n                }\n            }\n\n\n\n            // Notify master that the job is done\n\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()\n\n            &lt;&lt; \"] Done with job \" &lt;&lt; job_id &lt;&lt; \". Notifying MASTER.\\n\"&lt;&lt;endl;\n\n            status=\"finish\";\n\n            mpi_world.send(0, 0,status);\n//            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I have sent status back to master\"&lt;&lt;endl;\n\n            //note here, I deliberated exclude cluster_type_periodic which may be the culprit of a lot of bad computing performance for realistic system\n\n            //send periodicity, spin_tmp and energy_tmp\n\n            //        and remember to send more detail;\n\n\n            mpi_world.send(0, 1,spin_tmp);\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I have sent spin_tmp back to master\"&lt;&lt;endl;\n            mpi_world.send(0, 2,energy_tmp);\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I have sent energy_tmp back to master\"&lt;&lt;endl;\n            mpi_world.send(0, 3,periodicity_now);\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I have sent periodicity_now back to master\"&lt;&lt;endl;\n\n\n            // Check if a new job is coming\n\n            mpi_world.recv(0, 0, stop);\n            std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I have receive stop from master\"&lt;&lt;endl;\n\n\n        }\n\n\n        std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I am waiting for signal whether kill_all_slave\"&lt;&lt;endl;\n\n\n        broadcast(mpi_world,kill_all_slave,0);\n\n        std::cout &lt;&lt; \"[SLAVE: \" &lt;&lt; mpi_world.rank()&lt;&lt; \"] I receive kill_all_slave signal as \"&lt;&lt;kill_all_slave&lt;&lt;endl;\n\n\n    }\n</code></pre>\n\n<p>sometime segmentaiton fault would occur because one slave receives one broadcast but then cannot catch the next broadcast.... shall I add some usleep(1000) for the broadcast? </p>\n\n<p>how could I handle this?</p>\n\n<pre><code>[SLAVE: 56] I receive kill_all_slave signal as 0\n</code></pre>\n\n<p>but then it did not receive the next round of broadcasting while other slave does receive.</p>\n"}, {"tags": ["c++", "c", "ffi", "nim-lang"], "answers": [{"tags": [], "owner": {"reputation": 1713, "user_id": 1089957, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/KCJWw.jpg?s=128&g=1", "display_name": "JesseTG", "link": "https://stackoverflow.com/users/1089957/jessetg"}, "is_accepted": false, "score": 0, "last_activity_date": 1447888146, "creation_date": 1447888146, "answer_id": 33792272, "question_id": 33789764, "link": "https://stackoverflow.com/questions/33789764/nim-ffi-using-existing-type-to-wrap-a-c-type/33792272#33792272", "title": "Nim FFI: Using existing type to wrap a C++ type", "body": "<p>Actually, it doesn't look like I can do this, at least not between <code>basic2d.Vector2d</code> and <code>b2Vec2</code>.  The former is made of two 64-bit floats, and the latter is made of two 32-bit floats.</p>\n"}], "owner": {"reputation": 1713, "user_id": 1089957, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/KCJWw.jpg?s=128&g=1", "display_name": "JesseTG", "link": "https://stackoverflow.com/users/1089957/jessetg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565543684, "creation_date": 1447878552, "last_edit_date": 1565543684, "question_id": 33789764, "link": "https://stackoverflow.com/questions/33789764/nim-ffi-using-existing-type-to-wrap-a-c-type", "title": "Nim FFI: Using existing type to wrap a C++ type", "body": "<p>I'm putting together a Nim wrapper for <a href=\"http://box2d.org/\" rel=\"nofollow\">Box2D</a> using <a href=\"https://github.com/nim-lang/c2nim\" rel=\"nofollow\"><code>c2nim</code></a>.</p>\n\n<p>Box2D has its own mathematical vector class, <a href=\"https://github.com/erincatto/Box2D/blob/master/Box2D/Box2D/Common/b2Math.h#L53\" rel=\"nofollow\"><code>b2Vec2</code></a>.  If I were using Box2D in raw C++, I'd just use that class.  Simple.</p>\n\n<p>But Nim already has such functionality in the <a href=\"http://nim-lang.org/docs/basic2d.html\" rel=\"nofollow\"><code>basic2d</code></a> module's <a href=\"http://nim-lang.org/docs/basic2d.html#Vector2d\" rel=\"nofollow\"><code>Vector2d</code></a> type.</p>\n\n<p>I want my wrapper's interface to use the built-in <code>Vector2d</code> type so that users of this wrapper don't have to mentally juggle two different vector types.  This entails somehow using <code>Vector2d</code> as a Nim interface to <code>b2Vec2</code>.  <strong>How can I do this?</strong></p>\n\n<p><strong>Things of note:</strong></p>\n\n<ul>\n<li><s>Both <code>b2Vec2</code> and <code>Vector2d</code> are made of just two 32-bit <code>float</code>s.</s>  <strong>I'm wrong.  Nim <code>float</code>s are 64-bit.</strong></li>\n<li><code>Vector2d</code> is part of the Nim standard library, so I can't modify its definition.</li>\n<li>I'll create a wrapper for <code>b2Vec2</code> if I have to, but I'd like to avoid doing so, and I definitely don't want users to see it.</li>\n</ul>\n"}, {"tags": ["c#", "c++", "sql-server", "algorithm", "performance"], "comments": [{"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 1, "creation_date": 1447878736, "post_id": 33789672, "comment_id": 55346620, "body": "Can you rephrase your question?  I read it three times and am still unsure what you&#39;re asking."}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "reply_to_user": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 0, "creation_date": 1447878794, "post_id": 33789672, "comment_id": 55346654, "body": "@Stan, thanks, i have edited it(take a look), i will try harder"}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "edited": false, "score": 0, "creation_date": 1447879015, "post_id": 33789672, "comment_id": 55346765, "body": "now your question makes sense, but this forum isn&#39;t intended for people to provide you with code.  You&#39;re supposed to post what you&#39;ve tried and explain what you want to happen, explain what is happening, and ask for help.  This post can roughly be translated into &quot;Write code for me that connects to SQL server&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879470, "post_id": 33789918, "comment_id": 55347012, "body": "thank you for quickly posting an answer, my intention was going to the lower level part of the communication with SQL SERVER (2008/2012), and not via using SqlClinet as a whole, if there&#39;s any such way."}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "reply_to_user": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879742, "post_id": 33789918, "comment_id": 55347161, "body": "Ahhh, I see what you&#39;re trying to do, now.  I assume it&#39;s possible, although I don&#39;t know offhand and wasn&#39;t able to quickly find it with a Google search.  Why are you trying to avoid using SqlClient?"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447879852, "post_id": 33789918, "comment_id": 55347214, "body": "regarding your second comment on my question i am not asking for a code that will complete an ORM , i just wish to start a &quot;Hand Shake&quot; with the server, the base function of the reader to accomplish login and say give me some data from a table or call a stored procedure, how does the <code>DataReader</code> gets to say &quot;give me&quot; without all the other irrelevant to that minimal task members in the class"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447880023, "post_id": 33789918, "comment_id": 55347321, "body": "<i>Why are you trying to avoid using SqlClient</i> : i am trying to test my own way to query data , say i want to return a <code>bit</code> yes /no i want to use my own implementation for minimal interaction with SQL SERVER"}, {"owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447880739, "post_id": 33789918, "comment_id": 55347734, "body": "i think this is a start (: <a href=\"https://msdn.microsoft.com/en-us/library/ms811006.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms811006.aspx</a>"}, {"owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "reply_to_user": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "edited": false, "score": 0, "creation_date": 1447936438, "post_id": 33789918, "comment_id": 55373473, "body": "Yes, I forgot about the ODBC SQL connections.  However, I would suggest using the built-in SQL classes - the overhead of which is rendered negligible by modern processing power.  I can&#39;t think of an environment that has SQL server but lacks the necessary processing power to use these classes."}], "tags": [], "owner": {"reputation": 2884, "user_id": 3200592, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/839149db060ef342b17a143ed5673610?s=128&d=identicon&r=PG&f=1", "display_name": "Stan Shaw", "link": "https://stackoverflow.com/users/3200592/stan-shaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1447879160, "creation_date": 1447879160, "answer_id": 33789918, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation/33789918#33789918", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>Here is a link to the beginner's guide to connecting to SQL Server with C#:</p>\n\n<p><a href=\"http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C\" rel=\"nofollow\">http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C</a></p>\n\n<p>But you should make sure to properly separate code-responsibility so that you're not rewriting the same code all over the place.  Have a class that interfaces with the database (dataaccess layer) so you can just call it from all of your business objects and static classes.</p>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1448031123, "post_id": 33828240, "comment_id": 55424040, "body": "A link to the <a href=\"https://msdn.microsoft.com/en-us/library/dd304523.aspx\" rel=\"nofollow noreferrer\">TDS specification</a> in case the OP does want to go down the route of writing his own client."}], "tags": [], "owner": {"reputation": 34977, "user_id": 3711162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XKVx.png?s=128&g=1", "display_name": "Dan Guzman", "link": "https://stackoverflow.com/users/3711162/dan-guzman"}, "is_accepted": false, "score": 1, "last_activity_date": 1448027108, "creation_date": 1448027108, "answer_id": 33828240, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation/33828240#33828240", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>System.Data.SqlClient (.NET Provider for SQL Server) is a low-level \"DLL\".  It communicates with SQL Server using the low-level TDS protocol similarly to ODBC and OLEDB.  The difference is SqlClient is a managed provider whereas ODBC drivers and OLEDB providers are native (unmanaged).  The unmanaged driver/providers provide a call-level interface and COM interface respectively, which is intended to be used from native code like unmanaged C++.  </p>\n\n<p>All these providers/drivers communicate with SQL Server using the low-level TDS protocol.  The TDS protocol itself is not directly exposed.  System.Data.SqlClient.SqlDataReader is the lowest level data access from managed code and provides the highest performance for .NET applications.</p>\n"}], "owner": {"reputation": 625, "user_id": 5471706, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/904857529607067/picture?type=large", "display_name": "Raj Felix", "link": "https://stackoverflow.com/users/5471706/raj-felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1448027108, "creation_date": 1447878268, "last_edit_date": 1447878905, "question_id": 33789672, "link": "https://stackoverflow.com/questions/33789672/sql-data-reader-sql-server-core-implementation", "title": "SQL Data Reader SQL Server core implementation", "body": "<p>while i am learning core of <code>System.Data</code> i tried reading <a href=\"http://referencesource.microsoft.com/#System.Data/System/Data/SqlClient/SqlDataReader.cs\" rel=\"nofollow\">MSDN</a> Core implementation code.</p>\n\n<p>in the same way i could call some low level system dll (win32) to read hdd drive\ninfo i was trying to test and learn from system data SQL through the above MSDN link, as i am trying to break it down i couldn't find the entry point.\nmy question is:</p>\n\n<p><strong>what is the minimal code required to connect to SQL SERVER and return some data ?</strong> </p>\n\n<p>*either with <code>c#</code> <sub>preferred</sub> or <code>c++</code> (if there's noticeably less overhead) </p>\n\n<p><strong>Edit:</strong>\nusing only some parts From the <code>System.Data</code> <code>SqlDataReader</code> Rather than whole class.</p>\n"}, {"tags": ["c++", "templates", "c++11", "include"], "comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 1, "creation_date": 1447878099, "post_id": 33789582, "comment_id": 55346261, "body": "<code>f</code> is a member function so you need to have a templated class in order to get what you want here. Specifically I don&#39;t know of a way you can have a member function be shared between 2 classes like this. Perhaps if it were made as free function you get the result you want."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1447878106, "post_id": 33789582, "comment_id": 55346267, "body": "Is <code>X</code> a class template of which <code>f</code> is a member of?"}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447878153, "post_id": 33789582, "comment_id": 55346292, "body": "That is not the way to use templates. This tutorial gives a good introduction: <a href=\"http://www.codeproject.com/Articles/257589/An-Idiots-Guide-to-Cplusplus-Templates-Part\" rel=\"nofollow noreferrer\">codeproject.com/Articles/257589/&hellip;</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1447878415, "post_id": 33789582, "comment_id": 55346453, "body": "You have fundamental misconceptions about how to use templates. Your question seems to be unanswerable."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 2, "creation_date": 1447879266, "post_id": 33789582, "comment_id": 55346897, "body": "This looks like a job for CRTP, but your example falls too far short of what we must infer you actually want to do for that to be demonstrated.  But read about CRTP anyway.  It is a great way to inject common features into dissimilar classes."}], "answers": [{"comments": [{"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 1, "creation_date": 1447879288, "post_id": 33789792, "comment_id": 55346904, "body": "In the real world, class two has variables that class one does not. Class two has extra initialization in the constructor that class one does not."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "reply_to_user": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1447879593, "post_id": 33789792, "comment_id": 55347080, "body": "In that case you could make a base class that contains all the common functionality that is shared and make the <code>one</code> and <code>two</code> classes derived from that base class. The derived classes can then handle the differences."}], "tags": [], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": false, "score": 3, "last_activity_date": 1447878667, "creation_date": 1447878667, "answer_id": 33789792, "question_id": 33789582, "link": "https://stackoverflow.com/questions/33789582/convert-a-program-that-uses-includes-to-one-using-templates/33789792#33789792", "title": "Convert a program that uses includes to one using templates", "body": "<p>I believe the correct way to do what you want is to use a template to handle the different types present in the class:</p>\n\n<pre><code>#include &lt;iostream&gt;\ntemplate&lt;typename X&gt;\nclass foo {\npublic:\n   foo(X a1, X b1) : a(a1), b(b1) {}\n   X a,b;\n   void f();\n};\n\ntemplate&lt;typename X&gt;\nvoid foo&lt;X&gt;::f()\n{  \n    std::cout &lt;&lt; ( a + b ) &lt;&lt; std::endl;\n}  \n\nint main()\n{\n   foo&lt;int&gt; c1(1,2);\n   foo&lt;double&gt; c2(3.4,5.7);\n   c1.f();\n   c2.f();\n   return 0;\n}\n</code></pre>\n\n<p>Generally speaking you don't want to <code>#include</code> code directly into your class to remove code duplication, c++ gives you some better options.\nYou can see this run here: <a href=\"http://coliru.stacked-crooked.com/a/34d146d7feac8abd\" rel=\"nofollow\">http://coliru.stacked-crooked.com/a/34d146d7feac8abd</a></p>\n"}, {"comments": [{"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1447881879, "post_id": 33790344, "comment_id": 55348400, "body": "I don&#39;t totally understand it, but it works. It allows for classes to have different implementations other than the functions I care about."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1447881993, "post_id": 33790344, "comment_id": 55348465, "body": "@RobertJacobs CRTP lets you inject code into derived classes, and know the full type of the derived classes at the point of implementation.  It is a pattern that curiously reoccurs in a lot of code.  Note that at the point of inheritance, if you don&#39;t pass in the right <code>D</code>erived class, bad things happen."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 1, "last_activity_date": 1447881929, "last_edit_date": 1447881929, "creation_date": 1447880695, "answer_id": 33790344, "question_id": 33789582, "link": "https://stackoverflow.com/questions/33789582/convert-a-program-that-uses-includes-to-one-using-templates/33790344#33790344", "title": "Convert a program that uses includes to one using templates", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow\">CRTP</a> to the rescue:</p>\n\n<pre><code>template&lt;class D&gt;\nstruct f_support {\n  void f() {\n    // does not block all errors, but catches some:\n    static_assert( std::is_base_of&lt; f_support, D &gt;::value, \"CRTP failure\" );\n    auto* dis = static_cast&lt;D*&gt;(this);\n    std::cout &lt;&lt; ( dis-&gt;a + dis-&gt;b ) &lt;&lt; std::endl;\n  }\n};\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>class one: public f_support&lt;one&gt; {\n</code></pre>\n\n<p>...</p>\n\n<pre><code>class two: public f_support&lt;two&gt; {\n</code></pre>\n\n<p>...</p>\n\n<p>You could move the implementation of <code>f_support&lt;D&gt;</code> into a .cpp file, but that is a hassle.</p>\n"}, {"comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 1, "creation_date": 1448034745, "post_id": 33807038, "comment_id": 55426561, "body": "&quot;The problem with my solution below is that it requires all classes to have the same number of arguments in their constructor.&quot; I&#39;m assuming you don&#39;t mean something like this: <a href=\"http://coliru.stacked-crooked.com/a/73b228687a37ab25\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/73b228687a37ab25</a> ? There are some other ways of getting this type of thing done."}], "tags": [], "owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1448287148, "last_edit_date": 1448287148, "creation_date": 1447944367, "answer_id": 33807038, "question_id": 33789582, "link": "https://stackoverflow.com/questions/33789582/convert-a-program-that-uses-includes-to-one-using-templates/33807038#33807038", "title": "Convert a program that uses includes to one using templates", "body": "<p>I would like to thank @Yakk and @shuttle87 for their answers. I took the simplicity of shuttle87's answer and the flexibility of Yakk's answer to come up with this one. Without your help, I would still be using include files. <s>The problem with my solution below is that it requires all classes to have the same number of arguments in their constructor.</s></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass one {\npublic:\n   one(int a1,int b1) : a(a1), b(b1) {}\n   int a,b;\n   void g() { std::cout &lt;&lt; \"one\\t\"; }\n};\n\nclass two {\npublic:\n   two(double a1,double b1) : a(a1), b(b1) {}\n   double a,b;\n   void g() { std::cout &lt;&lt; \"two\\t\"; }\n};\n\ntemplate&lt;class X, typename Y&gt;\nclass three : public X {\npublic:\n    three(Y a, Y b) : X(a,b) {}    \n    void f()\n    {\n        X::g();\n        std::cout &lt;&lt; ( X::a + X::b ) &lt;&lt; std::endl;\n    }\n};\n\nint main()\n{\n   three&lt;one,int&gt; c1(1,2);\n   three&lt;two,double&gt; c2(3.4,5.7);\n   c1.f();\n   c2.f();\n   return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 33790344, "answer_count": 3, "score": -3, "last_activity_date": 1448287148, "creation_date": 1447877932, "question_id": 33789582, "link": "https://stackoverflow.com/questions/33789582/convert-a-program-that-uses-includes-to-one-using-templates", "title": "Convert a program that uses includes to one using templates", "body": "<p>I have created an example to show the language features I am using, the real case is not as simple. The include file is included twice, once for each class. Even though the text is the same, the underlying types are different. In the real case some variables have more initialization than others depending on the class.</p>\n\n<p>Working program</p>\n\n<p>ex1.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass one {\npublic:\n   one(int a1,int b1) : a(a1), b(b1) {}\n   int a,b;\n#include \"ex1.h\"\n};\n\nclass two {\npublic:\n   two(double a1,double b1) : a(a1), b(b1) {}\n   double a,b;\n#include \"ex1.h\"\n};\n\nint main()\n{\n   one c1(1,2);\n   two c2(3.4,5.7);\n   c1.f();\n   c2.f();\n   return 0;\n}\n</code></pre>\n\n<p>ex1.h</p>\n\n<pre><code>void f()\n{\n    std::cout &lt;&lt; ( a + b ) &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>I was hoping to change this to a program that uses templates as follows, but I get a compile error.</p>\n\n<p>ex2.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass one {\npublic:\n   one(int a1,int b1) : a(a1), b(b1) {}\n   int a,b;\n   void f();\n};\n\nclass two {\npublic:\n   two(double a1,double b1) : a(a1), b(b1) {}\n   double a,b;\n   void f();\n};\n\ntemplate&lt;typename X&gt;\nvoid X::f()\n{  \n    std::cout &lt;&lt; ( a + b ) &lt;&lt; std::endl;\n}  \n\nint main()\n{\n   one c1(1,2);\n   two c2(3.4,5.7);\n   c1.f();\n   c2.f();\n   return 0;\n}\n</code></pre>\n\n<p>The error message is error: invalid use of template type parameter 'X'</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 3, "creation_date": 1447878262, "post_id": 33789546, "comment_id": 55346364, "body": "If this is an assignment for a programming class, please give the exact text of the assignment.  Your interpretation of an assignment you don&#39;t understand is of limited usefulness.  If it is not an assignment for a programming class, please justify your restrictions (&quot;I have to do this without templates&quot;)."}, {"owner": {"reputation": 411, "user_id": 5546661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0831.png?s=128&g=1", "display_name": "AlexStepanov", "link": "https://stackoverflow.com/users/5546661/alexstepanov"}, "edited": false, "score": 0, "creation_date": 1447878471, "post_id": 33789546, "comment_id": 55346481, "body": "Wrong choise of programming language"}], "answers": [{"tags": [], "owner": {"reputation": 37736, "user_id": 2153571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d5573368e2aa8dd2039de1c545ce2b9c?s=128&d=identicon&r=PG", "display_name": "juzzlin", "link": "https://stackoverflow.com/users/2153571/juzzlin"}, "is_accepted": true, "score": 2, "last_activity_date": 1447878710, "creation_date": 1447878710, "answer_id": 33789809, "question_id": 33789546, "link": "https://stackoverflow.com/questions/33789546/a-container-for-holding-different-class-objects/33789809#33789809", "title": "A container for holding different class objects", "body": "<p>There are basically two ways to do this without templates:</p>\n\n<p>1) Implement a container object (like QVariant) that includes member variables for each possible class. Then simply store instances of these containers to your array. The container could have e.g. an enum that indicates which of the members is set.</p>\n\n<p>2) Inherit the classes from a same base class and store pointers to the base class to your array.</p>\n"}], "owner": {"reputation": 45, "user_id": 5258148, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/29b84a6652c4895153dc6f2e698f3d69?s=128&d=identicon&r=PG&f=1", "display_name": "The Cataylyst", "link": "https://stackoverflow.com/users/5258148/the-cataylyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1447880176, "accepted_answer_id": 33789809, "answer_count": 1, "score": 0, "last_activity_date": 1447878710, "creation_date": 1447877808, "last_edit_date": 1447877973, "question_id": 33789546, "link": "https://stackoverflow.com/questions/33789546/a-container-for-holding-different-class-objects", "closed_reason": "Needs details or clarity", "title": "A container for holding different class objects", "body": "<p>I have a code, which contains 4 different classes.\nI have to create method insert, which holds somewhere the objects. But I don't know how to achieve that. </p>\n\n<p>So I can create insert method for all types of object but how to store them?\nBecause I cannot create one type array for it. I have to do this without templates.</p>\n\n<pre><code>   int main ()\n    {\n       List all;\n       all.insert(new Number (30.1));\n      //\n       Number num1 (30.0);\n       all.insert(num1);\n      //\n       IntArray a_int (3);\n       all.insert(a_int);\n      //\n       FloatArray a_float (4);\n       all.insert(a_float);\n      //\n       all.PrintAll();\n    }\n    /*\n    Output for PrintAll:\n    Number: 30.1\n    Number: 30.0\n    IntArray: 3\n    FloatArray: 4\n    */\n</code></pre>\n"}, {"tags": ["c++", "ssh", "visual-studio-2015", "libssh"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5547935, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0unqQkFycI/AAAAAAAAAAI/AAAAAAAAAB0/V-tAKgd4SdU/photo.jpg?sz=128", "display_name": "mac johnsto", "link": "https://stackoverflow.com/users/5547935/mac-johnsto"}, "edited": false, "score": 0, "creation_date": 1448138085, "post_id": 33789780, "comment_id": 55461197, "body": "Thank you for your answer. Firstly I removed the line you mentioned but nothing happened. In my project I used the libssh 0.7.1. After your answer I tried the version 0.7.0 but I got an error that msvcr120d.dll is missing. After I downloaded and pasted it in my project path I got an error that the  application could not start properly."}, {"owner": {"reputation": 20508, "user_id": 2196426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8e8759ad9a50739704dca2e84fa9b50?s=128&d=identicon&r=PG", "display_name": "Jakuje", "link": "https://stackoverflow.com/users/2196426/jakuje"}, "reply_to_user": {"reputation": 113, "user_id": 5547935, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0unqQkFycI/AAAAAAAAAAI/AAAAAAAAAB0/V-tAKgd4SdU/photo.jpg?sz=128", "display_name": "mac johnsto", "link": "https://stackoverflow.com/users/5547935/mac-johnsto"}, "edited": false, "score": 0, "creation_date": 1448138351, "post_id": 33789780, "comment_id": 55461271, "body": "I found I used some Ubuntu-ancient <code>libssh-6.3</code>, so this will probably not be a problem. So the question is what is the server on the other side. Are you able to connect there with some recent openssh?"}], "tags": [], "owner": {"reputation": 20508, "user_id": 2196426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8e8759ad9a50739704dca2e84fa9b50?s=128&d=identicon&r=PG", "display_name": "Jakuje", "link": "https://stackoverflow.com/users/2196426/jakuje"}, "is_accepted": true, "score": 4, "last_activity_date": 1447878628, "creation_date": 1447878628, "answer_id": 33789780, "question_id": 33789213, "link": "https://stackoverflow.com/questions/33789213/how-to-establish-a-simple-ssh-connection-with-c/33789780#33789780", "title": "How to establish a simple ssh connection with c++", "body": "<p>Try to use different cipher. <code>3des-cbc</code> is broken and probably disabled on your server already.</p>\n\n<p>There is really <a href=\"http://api.libssh.org/master/libssh_tutor_guided_tour.html\" rel=\"nofollow\">nice tutorial</a> with simple session.</p>\n\n<p>Removing the line makes it working for me on Ubuntu (don't know where you found it):</p>\n\n<pre><code>ssh_options_set(my_ssh_session, SSH_OPTIONS_CIPHERS_C_S,\"aes128-ctr\");\n</code></pre>\n\n<p>If not, what version of <code>libssh</code> are you using? Isn't it some obsolete one?</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 5547935, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0unqQkFycI/AAAAAAAAAAI/AAAAAAAAAB0/V-tAKgd4SdU/photo.jpg?sz=128", "display_name": "mac johnsto", "link": "https://stackoverflow.com/users/5547935/mac-johnsto"}, "is_accepted": false, "score": 2, "last_activity_date": 1448212234, "creation_date": 1448212234, "answer_id": 33857616, "question_id": 33789213, "link": "https://stackoverflow.com/questions/33789213/how-to-establish-a-simple-ssh-connection-with-c/33857616#33857616", "title": "How to establish a simple ssh connection with c++", "body": "<p>Finally got it! I removed the line </p>\n\n<pre><code>ssh_options_set(my_ssh_session, SSH_OPTIONS_CIPHERS_C_S,\"aes128-ctr\");\n</code></pre>\n\n<p>Then I used the ssh.dll from libssh <strong>v0-7.2</strong> instead of the ssh.dll of <strong>v0-7.1</strong> I used before. The ssh.dll is located in <em>libssh-0.7.2\\bin</em>. If you take an error like the <strong>msvcr120d.dll</strong> is missing try to change from debug to release in visual studio.</p>\n"}], "owner": {"reputation": 113, "user_id": 5547935, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0unqQkFycI/AAAAAAAAAAI/AAAAAAAAAB0/V-tAKgd4SdU/photo.jpg?sz=128", "display_name": "mac johnsto", "link": "https://stackoverflow.com/users/5547935/mac-johnsto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27614, "favorite_count": 4, "accepted_answer_id": 33789780, "answer_count": 2, "score": 9, "last_activity_date": 1579878327, "creation_date": 1447876690, "last_edit_date": 1579878327, "question_id": 33789213, "link": "https://stackoverflow.com/questions/33789213/how-to-establish-a-simple-ssh-connection-with-c", "title": "How to establish a simple ssh connection with c++", "body": "<p>I am trying to make a c++ program which will connect to an ssh server (my laptop). The server is ok because I can get connected via putty. Although the program I wrote so far can not. In my code I am using the library libssh.h and for development I used visual studio 2015. The error I get is: <strong>crypt_set_algorithms2: no crypto algorithm function found for 3des-cbc</strong>\nI haven't found anything so far so I hope to your help. \nThe code I use: </p>\n\n<pre><code>#include &lt;libssh/libssh.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt; \nint main()\n{\n    ssh_session my_ssh_session;\n    int rc;\n    int port = 22;\n    int verbosity = SSH_LOG_PROTOCOL;\n    char *password;\n    // Open session and set options\n    my_ssh_session = ssh_new();\n    if (my_ssh_session == NULL)\n        exit(-1);\n    ssh_options_set(my_ssh_session, SSH_OPTIONS_HOST, \"192.168.1.6\");\n    ssh_options_set(my_ssh_session, SSH_OPTIONS_USER, \"john\");\n    ssh_options_set(my_ssh_session, SSH_OPTIONS_LOG_VERBOSITY, &amp;verbosity);\n    ssh_options_set(my_ssh_session, SSH_OPTIONS_CIPHERS_C_S,\"aes128-ctr\");\n\n    //ssh_options_set(my_ssh_session, SSH_OPTIONS_PORT, &amp;port);\n    // Connect to server\n    rc = ssh_connect(my_ssh_session);\n    if (rc != SSH_OK)  \n    {\n        fprintf(stderr, \"Error: %s\\n\", ssh_get_error(my_ssh_session)); //HERE IS WHERE I GET THE ERROR \n        ssh_free(my_ssh_session);\n        exit(-1);\n    }\n    // Verify the server's identity\n    // For the source code of verify_knowhost(), check previous example\n/*  if (verify_knownhost(my_ssh_session) &lt; 0)\n    {\n        ssh_disconnect(my_ssh_session);\n        ssh_free(my_ssh_session);\n        exit(-1);\n    }\n*/  \n    // Authenticate ourselves\n    password = \"pass\";\n    rc = ssh_userauth_password(my_ssh_session, NULL, password);\n    if (rc != SSH_AUTH_SUCCESS)\n    {\n        fprintf(stderr, \"Error authenticating with password: %s\\n\",\n            ssh_get_error(my_ssh_session));\n        ssh_disconnect(my_ssh_session);\n        ssh_free(my_ssh_session);\n        exit(-1);\n    }\n\n\n        ssh_disconnect(my_ssh_session);\n    ssh_free(my_ssh_session);\n}\n</code></pre>\n"}, {"tags": ["c++", "function", "variables", "constructor"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 2, "creation_date": 1447876801, "post_id": 33789201, "comment_id": 55345457, "body": "That code won&#39;t compile.  <code>example obj1</code> default constructs and example object but you have not defined a default constructor.  Also what does <code>example(x, y)</code> do?"}, {"owner": {"reputation": 287, "user_id": 4555823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd13e45e465731c9cff7d567a93e5752?s=128&d=identicon&r=PG&f=1", "display_name": "Sup", "link": "https://stackoverflow.com/users/4555823/sup"}, "reply_to_user": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447877014, "post_id": 33789201, "comment_id": 55345603, "body": "I want to pass the values of x, y to the private A &amp; B variables and then use them in functions if that makes any sense"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447877060, "post_id": 33789201, "comment_id": 55345633, "body": "Makes perfect sense.  Check out vsoftco&#39;s answer."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447894888, "post_id": 33789201, "comment_id": 55353733, "body": "you never set <code>obj2.A</code> anywhere, but <code>obj2.get</code> uses that"}], "answers": [{"comments": [{"owner": {"reputation": 287, "user_id": 4555823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd13e45e465731c9cff7d567a93e5752?s=128&d=identicon&r=PG&f=1", "display_name": "Sup", "link": "https://stackoverflow.com/users/4555823/sup"}, "edited": false, "score": 0, "creation_date": 1447877911, "post_id": 33789256, "comment_id": 55346141, "body": "I have added in a default constructor and edited the main, does this change anything and should this compile correctly now what you are seeing as i am still having issues. cheers"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 287, "user_id": 4555823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd13e45e465731c9cff7d567a93e5752?s=128&d=identicon&r=PG&f=1", "display_name": "Sup", "link": "https://stackoverflow.com/users/4555823/sup"}, "edited": false, "score": 0, "creation_date": 1447877989, "post_id": 33789256, "comment_id": 55346182, "body": "@Sup <code>example obj2;</code> again constructs a non-initialized object. Pass the values that you want to initialize it with, example <code>example obj2(10,20);</code>."}, {"owner": {"reputation": 287, "user_id": 4555823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd13e45e465731c9cff7d567a93e5752?s=128&d=identicon&r=PG&f=1", "display_name": "Sup", "link": "https://stackoverflow.com/users/4555823/sup"}, "edited": false, "score": 0, "creation_date": 1447879055, "post_id": 33789256, "comment_id": 55346789, "body": "Thanks I finally got my head around it!"}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 1, "last_activity_date": 1447894076, "last_edit_date": 1447894076, "creation_date": 1447876836, "answer_id": 33789256, "question_id": 33789201, "link": "https://stackoverflow.com/questions/33789201/getting-member-variables-values-set-and-then-passed-to-a-function-c/33789256#33789256", "title": "Getting member variables values set and then passed to a function c++", "body": "<pre><code>example(x, y);\n</code></pre>\n\n<p>does not do anything. It creates a temporary object that goes immediately out of scope. Then </p>\n\n<pre><code>example obj1;\n</code></pre>\n\n<p>should not compile, as you don't have a default constructor. If it compiles it means that you have provided a default constructor, which is invoked (and which probably doesn't do any initialization). However in your case you want to invoke the constructor <code>example::example(int, int)</code>. The correct way of doing it is to define</p>\n\n<pre><code>example obj1(x, y);\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 4555823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd13e45e465731c9cff7d567a93e5752?s=128&d=identicon&r=PG&f=1", "display_name": "Sup", "link": "https://stackoverflow.com/users/4555823/sup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 33789256, "answer_count": 1, "score": 2, "last_activity_date": 1447894076, "creation_date": 1447876633, "last_edit_date": 1447879170, "question_id": 33789201, "link": "https://stackoverflow.com/questions/33789201/getting-member-variables-values-set-and-then-passed-to-a-function-c", "title": "Getting member variables values set and then passed to a function c++", "body": "<p>Probably a dumb question, I want to be able to use the passed in A &amp; B values through the default constructor and use them in my functions like get(), but every time i do it gives the value of 0, how do i set the values of A &amp; B and then be able to use them in my other functions. I know i could just pass the value into the get function from the main but i dont want to do it that way.</p>\n\n<p>I have this in the .h, </p>\n\n<pre><code>class example\n{\nprivate:\n    int A, B;\n\npublic:\n    example();\n    example(int, int);\n    int get(int, int);\n};\n</code></pre>\n\n<p>then in the .cpp</p>\n\n<pre><code>example::example()\n{\n    cout &lt;&lt; hello;\n}\nexample::example(int x, int y)\n{\n    A = x;\n    B = y;\n}\n\nint example::get(int c, int d)\n{\n    int k = c + d / A;\n\n    return k;\n}\n</code></pre>\n\n<p>And in the main()</p>\n\n<pre><code>int c = 10;\nint d = 12;\nint x = 2;\nint y = 1;\n\nexample obj1(x, y);\n\nexample obj2;\nint k = obj2.get(c, d);\n\ncout &lt;&lt; k;\n</code></pre>\n\n<p>Im thinking i should see an answer of 10 + 12 / 2 however its 10 + 12 / 0, not sure where i am going wrong if anyone could help thanks!</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1447876246, "post_id": 33789035, "comment_id": 55345107, "body": "Not the problem but why are you using a unique pointer?"}, {"owner": {"reputation": 300, "user_id": 3414765, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ceb9cda3259dc4a3f1b7a3b8098081c4?s=128&d=identicon&r=PG&f=1", "display_name": "Dodzik", "link": "https://stackoverflow.com/users/3414765/dodzik"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1447876640, "post_id": 33789035, "comment_id": 55345346, "body": "Yeah, thats the good question. I still have to learn how to distinguish when should I use pointer or to use smart pointer."}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 6, "last_activity_date": 1447876707, "creation_date": 1447876707, "answer_id": 33789223, "question_id": 33789035, "link": "https://stackoverflow.com/questions/33789035/vector-m-range-check-exception/33789223#33789223", "title": "vector::_M_range_check exception", "body": "<p><code>result.at(it)</code> is going to display the element of the vector at the index of <code>it</code>.  If <code>it</code> is <code>&gt;=</code> to <code>size()</code> then <code>at()</code> will throw an exception.  To print out the contents of the vector you can just use</p>\n\n<pre><code>for(const auto &amp;it : result)\n{\n    std::cout &lt;&lt; it &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>This will output every element in the vector in the order they are in the vector.</p>\n\n<p>As mentioned in my comment you do not need to use a <code>std::unique_ptr</code> at all in your code.  You can simply use</p>\n\n<pre><code>//...\nInsertionSort is(std::move(vec));\n\nis.execute();\n\nauto result = is.save();\n//...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 5546661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0831.png?s=128&g=1", "display_name": "AlexStepanov", "link": "https://stackoverflow.com/users/5546661/alexstepanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1447877061, "last_edit_date": 1447877061, "creation_date": 1447876831, "answer_id": 33789253, "question_id": 33789035, "link": "https://stackoverflow.com/questions/33789035/vector-m-range-check-exception/33789253#33789253", "title": "vector::_M_range_check exception", "body": "<p>You're iterating the vector incorrectly.</p>\n\n<p>Two possible solutions:</p>\n\n<p>1.</p>\n\n<pre><code>for (size_t i = 0; i &lt; result.size(); ++i)\n{\n    std::cout &lt;&lt; result.at(i) &lt;&lt; \" \"; //i - is an index\n}\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>for(const auto &amp;value : result)\n{\n    std::cout &lt;&lt; value &lt;&lt; \" \";\n}\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 3414765, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ceb9cda3259dc4a3f1b7a3b8098081c4?s=128&d=identicon&r=PG&f=1", "display_name": "Dodzik", "link": "https://stackoverflow.com/users/3414765/dodzik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3686, "favorite_count": 0, "accepted_answer_id": 33789223, "answer_count": 2, "score": 2, "last_activity_date": 1447877061, "creation_date": 1447876078, "question_id": 33789035, "link": "https://stackoverflow.com/questions/33789035/vector-m-range-check-exception", "title": "vector::_M_range_check exception", "body": "<p>I wanted to implement some sorting algorithms to compare them, and I stuck on weird exception. </p>\n\n<p>Here's the code where Im sorting:</p>\n\n<pre><code>//InsertionSort.hpp\n#ifndef SORT_INSERTIONSORT_HPP\n#define SORT_INSERTIONSORT_HPP\n\n#include &lt;vector&gt;\n\nclass InsertionSort\n{\npublic:\n    explicit InsertionSort(std::vector&lt;int&gt; v) : m_vector(std::move(v)){};\n    ~InsertionSort() {};\n\n    std::vector&lt;int&gt; save() const;\n    void execute();\n\nprotected:\n    void sort();\n\nprivate:\n    std::vector&lt;int&gt; m_vector;\n};\n\n#endif //SORT_INSERTIONSORT_HPP\n\n\n\n//InsertionSort.cpp\n#include &lt;stddef.h&gt;\n#include \"InsertionSort.hpp\"\n\nstd::vector&lt;int&gt; InsertionSort::save() const\n{\n    return m_vector;\n}\n\nvoid InsertionSort::execute()\n{\n    sort();\n}\n\nvoid InsertionSort::sort()\n{\n    int x;\n    size_t j;\n    for (size_t i = 1; i &lt; m_vector.size(); ++i)\n    {\n        x = m_vector[i];\n        j = i;\n        while ((j &gt; 0) &amp;&amp; (m_vector[j - 1] &gt; x))\n        {\n            m_vector[j] = m_vector[j - 1];\n            --j;\n        }\n        m_vector[j] = x;\n    }\n}\n</code></pre>\n\n<p>And main function</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;vector&gt;\n#include &lt;chrono&gt;\n#include &lt;memory&gt;\n\n\n#include \"Sorting/InsertionSort.hpp\"\n\nint main()\n{\n    /* random numbers generation  */\n    std::mt19937_64 random(std::chrono::system_clock::now().time_since_epoch().count());\n    std::uniform_int_distribution&lt;int&gt; distribution(0, 1000);\n\n    std::vector&lt;int&gt; vec;\n    for(auto i = 0; i &lt; 100; ++i)\n    {\n        vec.push_back(distribution(random));\n    }\n\n    /* actual sorting */\n    std::unique_ptr&lt;InsertionSort&gt; is(new InsertionSort(std::move(vec)));\n\n    is-&gt;execute();\n\n    auto result = is-&gt;save();\n    for(const auto &amp;it : result)\n    {\n        try\n        {\n            std::cout &lt;&lt; result.at(it) &lt;&lt; \" \"; //here exception appears\n        } catch(std::out_of_range exc)\n        {\n            std::cout &lt;&lt; exc.what() &lt;&lt; std::endl;\n        }\n    }\n    std::cout &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Exception is thrown, when I try to show sorted vector. When I debug this code line by line, vector contains 100 elements until the loop where I want to print out vector contents. </p>\n"}, {"tags": ["c++", "class", "oop", "private", "member"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1447876193, "post_id": 33789020, "comment_id": 55345058, "body": "mistake 1: you should not call <code>srand(time(NULL));</code> inside your random function, because if you call it many times within a second you will always get the same random number. Instead you should set the seed only once."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447878088, "post_id": 33789020, "comment_id": 55346249, "body": "<code>pl = pl;</code> doesn&#39;t do what you think it does"}, {"owner": {"reputation": 3762, "user_id": 3276027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e2e43f741889c0d1c599747a318ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "Gian Paolo", "link": "https://stackoverflow.com/users/3276027/gian-paolo"}, "edited": false, "score": 1, "creation_date": 1447879998, "post_id": 33789020, "comment_id": 55347298, "body": "<code>pl = pl;</code> variable names comes for free in c++, don&#39;t recycle the <code>pl</code> name for a member variable and for a parameter; which <code>pl</code> is assigned to which <code>pl</code> in this instruction? I don&#39;t know, and don&#39;t want to know it: just use a different name!"}], "answers": [{"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1447876796, "post_id": 33789115, "comment_id": 55345453, "body": "&quot;This does actually nothing&quot;...what do you mean?"}, {"owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1447876929, "post_id": 33789115, "comment_id": 55345541, "body": "@tobi303 The &quot;name&quot; argument hides the &quot;name&quot; class member. The end result in this case is a no-op, see the 2nd paragraph."}, {"owner": {"reputation": 353, "user_id": 3297943, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/33de3f9c9f4461f77ea9735f15490858?s=128&d=identicon&r=PG&f=1", "display_name": "knowledge", "link": "https://stackoverflow.com/users/3297943/knowledge"}, "edited": false, "score": 0, "creation_date": 1447877965, "post_id": 33789115, "comment_id": 55346163, "body": "Thanks for help but I&#39;m still getting the error (does it work for you?)."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 2, "creation_date": 1447878001, "post_id": 33789115, "comment_id": 55346188, "body": "You have the same issue in <code>set_group</code>"}], "tags": [], "owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "is_accepted": false, "score": 3, "last_activity_date": 1447878289, "last_edit_date": 1447878289, "creation_date": 1447876346, "answer_id": 33789115, "question_id": 33789020, "link": "https://stackoverflow.com/questions/33789020/class-private-member-array-accessing-failed/33789115#33789115", "title": "Class private member - array accessing failed", "body": "<p>This does actually nothing.</p>\n\n<pre><code>void Rename(char name[]){\n    name = name;\n}\n</code></pre>\n\n<p>In fact, it is equivalent to</p>\n\n<pre><code>void Rename(char *p){\n    p = p;\n}\n</code></pre>\n\n<p>You want</p>\n\n<pre><code>void Rename(char name[]){\n    strcpy(this-&gt;name, name);\n}\n</code></pre>\n\n<p>but even better would be to use non-conflicting names and add some error checking.</p>\n\n<p><strong>[ EDIT ]</strong> The same issue exists with \"set_group(player pl[])\" - thanks @Kevin for catching that.</p>\n"}, {"comments": [{"owner": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1447878867, "post_id": 33789648, "comment_id": 55346703, "body": "This <code>void Rename(std::string name){name = name;}</code> is a no-op as well. Note that the only place where you can get off with something like this is the constructor initializing its sub-objects e.g. <code>player(std::string name) : name(name)</code> does indeed what you expect."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 14710, "user_id": 5538420, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oc81s.jpg?s=128&g=1", "display_name": "dxiv", "link": "https://stackoverflow.com/users/5538420/dxiv"}, "edited": false, "score": 0, "creation_date": 1447879148, "post_id": 33789648, "comment_id": 55346828, "body": "@dxiv hm I guess you are right. I got rid of my java habbit of writing <code>this-&gt;</code> all over the place but somehow I must have missed this point."}, {"owner": {"reputation": 353, "user_id": 3297943, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/33de3f9c9f4461f77ea9735f15490858?s=128&d=identicon&r=PG&f=1", "display_name": "knowledge", "link": "https://stackoverflow.com/users/3297943/knowledge"}, "edited": false, "score": 0, "creation_date": 1447879383, "post_id": 33789648, "comment_id": 55346966, "body": "I think you forgot to include <code>stdlib.h</code>, I included it but I&#39;m still getting 3 errors: Line 45: <code>[Error] &#39;vector&#39; in namespace &#39;std&#39; does not name a template type</code>, Line 28: <code>[Error] &#39;players&#39; was not declared in this scope</code>, Line 31: <code>[Error] &#39;players&#39; was not declared in this scope</code>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 353, "user_id": 3297943, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/33de3f9c9f4461f77ea9735f15490858?s=128&d=identicon&r=PG&f=1", "display_name": "knowledge", "link": "https://stackoverflow.com/users/3297943/knowledge"}, "edited": false, "score": 0, "creation_date": 1447879414, "post_id": 33789648, "comment_id": 55346983, "body": "@knowledge yes, some includes got lost while copy&amp;paste, I will fix it"}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": true, "score": 2, "last_activity_date": 1447880177, "last_edit_date": 1447880177, "creation_date": 1447878186, "answer_id": 33789648, "question_id": 33789020, "link": "https://stackoverflow.com/questions/33789020/class-private-member-array-accessing-failed/33789648#33789648", "title": "Class private member - array accessing failed", "body": "<p>There are several things I would suggest you to change:</p>\n\n<ul>\n<li>You should not set the seed each time you roll a new random number. Try to call your random function inside a loop many times and you will see that you get the same number each time.</li>\n<li>Use <code>std::vector</code> instead of c-style arrays</li>\n<li>Use <code>std::string</code> instead of chars</li>\n<li>If you use <code>std::cout</code> instead of <code>printf</code> you do not have to take care of formatting by yourself.</li>\n<li>Your <code>player</code> constructor does not set the name. As a result it is possible to create a player in an incomplete state (ie. without name)</li>\n<li>In the constructor it is more efficient to use a initializer list</li>\n<li>Does the player really have to know in what group he is? I would suggest to change it, because atm you are mixing what a single player is with how they interact with each other.  </li>\n<li>What if the player group has only a single player? Your code cannot handle this case.</li>\n<li>With your code a player can hit himself. Not sure if this is what you want ;)</li>\n</ul>\n\n<p>In total, it could look like this:</p>\n\n<pre><code>#include &lt;time.h&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdlib&gt; // for rand()\n\nvoid init_random(){srand(time(0));}\nint random(int max){return rand() % max;}\n\nclass player{\npublic:\n    player(std::string name) : liv(5),mun(3),name(name){}\n    void Rename(std::string newname){name = newname;}\n    bool live(){return liv;}\n    void hit(){liv -= 1;}\n    void fire(){mun -= 1;}\n    std::string get_name(){return name;}\nprivate:\n    int liv, mun;\n    std::string name;\n};\n\nclass player_group{\npublic:\n    void addPlayer(const player&amp; p){players.push_back(p);}\n    void fire(int i){\n        // avoid wrong input\n        if (i&gt;=0 &amp;&amp; i&lt;players.size() &amp;&amp; players.size()&gt;1){\n            players[i].fire();\n            int other = i;\n            // avoid player hitting himself\n            while (other == i){other = random(players.size());}\n            players[other].hit();\n            std::cout &lt;&lt; \"Player \" \n                      &lt;&lt; players[i].get_name() \n                      &lt;&lt; \" hits player \" \n                      &lt;&lt; players[other].get_name() \n                      &lt;&lt; std::endl;\n        }\n    }\nprivate:\n    std::vector&lt;player&gt; players;\n};\n\nint main() {\n    init_random();\n    player_group pg;\n    pg.addPlayer(player(\"Peter\"));\n    pg.addPlayer(player(\"Paul\"));\n    pg.fire(0);\n}\n</code></pre>\n\n<p>Since C++11 there are better random generators. If you need high-quality randomness you should use them instead of <code>rand()</code> which has <a href=\"https://channel9.msdn.com/Events/GoingNative/2013/rand-Considered-Harmful\" rel=\"nofollow\">some issues</a>. However, in this case imho <code>rand()</code> is just fine. </p>\n\n<p>Also note that in my code the player group \"owns\" the players. What I mean is that <code>addPlayer()</code> calls <code>push_back()</code> which adds a copy to the vector. If this is not what you want, you might consider to change the <code>player_group</code> to hold a <code>std::vector&lt;player*&gt;</code> to avoid the copying.</p>\n"}], "owner": {"reputation": 353, "user_id": 3297943, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/33de3f9c9f4461f77ea9735f15490858?s=128&d=identicon&r=PG&f=1", "display_name": "knowledge", "link": "https://stackoverflow.com/users/3297943/knowledge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 33789648, "answer_count": 2, "score": 0, "last_activity_date": 1447880177, "creation_date": 1447876027, "question_id": 33789020, "link": "https://stackoverflow.com/questions/33789020/class-private-member-array-accessing-failed", "title": "Class private member - array accessing failed", "body": "<p>So I have this code in C++ which is just exercise in learning C++:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\n\nint random(int max){\n    srand(time(NULL));\n    return rand() % max;\n}\n\n\nclass player{\n    public:\n        player(){\n            liv = 5;\n            mun = 3;\n        }\n        void Rename(char name[]){\n            name = name;\n        }\n        void set_group(player pl[]){\n            pl = pl;\n        }\n        void fire(){\n            if (liv &gt; 0 and mun){\n                mun -= 1;\n                int hit = random(10);\n                printf(\"%d: \", hit);\n                printf(\"%s\", pl[hit].get_name());\n                if (hit &lt; 5 and pl[hit].live()){\n                    pl[hit].hit();\n                    printf(\"Player %s hit player %s!\", name, pl[hit].get_name());\n                }\n            }\n        }\n        bool live(){\n            return liv;\n        }\n        void hit(){\n            liv -= 1;\n        }\n        char * get_name(){\n            return name;\n        }\n    private:\n        int liv, mun;\n        char name[100];\n        player *pl;\n};\n\n\nmain(){\n    player pl[5];\n    char str[100];\n    int x;\n    for (x=0;x&lt;5;x++){\n        sprintf(str, \"%d\", x + 1);\n        pl[x].Rename(str);\n        pl[x].set_group(pl);\n    }\n    pl[0].fire();\n}\n</code></pre>\n\n<p>Compiler (<code>TDM-GCC 4.9.2 32-bit</code>) compiles code and returns 0 warnings and 0 errors.<br>\nWhen I run the program I get message: <code>classes.exe has encountered a problem and needs to close.  We are sorry for the inconvenience.</code></p>\n\n<p>I debugged it and found that line <code>printf(\"%s\", pl[hit].get_name());</code> is a problem (actually it's a debug line and line after that was actually problem, but it's the same thing). I also <em>think</em> that accessing to pl is problem.</p>\n\n<p>I'm relatively new to C and C++ (especially to C+) and my main programming language is Python so don't laugh too much at my mistakes.</p>\n"}, {"tags": ["c++", "linux", "iterator"], "comments": [{"owner": {"reputation": 6093, "user_id": 4293020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352ea26cb808b26c421ab55184231322?s=128&d=identicon&r=PG", "display_name": "Simon Gibbons", "link": "https://stackoverflow.com/users/4293020/simon-gibbons"}, "edited": false, "score": 2, "creation_date": 1447876096, "post_id": 33788936, "comment_id": 55344995, "body": "You have undefined behaviour. The vector that  <code>matrixToVector</code> creates goes out of scope and the iterator that <code>begin</code> returns will be pointing to a destructed object."}, {"owner": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1447912416, "post_id": 33788936, "comment_id": 55358837, "body": "@lurker printing with the regular printing function that prints the matrix works great on linux as well."}, {"owner": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "reply_to_user": {"reputation": 6093, "user_id": 4293020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352ea26cb808b26c421ab55184231322?s=128&d=identicon&r=PG", "display_name": "Simon Gibbons", "link": "https://stackoverflow.com/users/4293020/simon-gibbons"}, "edited": false, "score": 0, "creation_date": 1447912520, "post_id": 33788936, "comment_id": 55358893, "body": "@SimonGibbons in this case, why I successfully print the whole matrix content except for the first two elements?"}], "answers": [{"comments": [{"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1447876806, "post_id": 33789050, "comment_id": 55345459, "body": "&quot;You return a reference to object on stack,&quot; &lt;- not exactly.  What is returned is indeed an iterator <i>by value</i>.  The problem isn&#39;t that a reference to temporary is returned, but that an invalid iterator is returned."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1447877018, "post_id": 33789050, "comment_id": 55345607, "body": "@CrazyEddie Same thing. The iterator is invalid because it&#39;s a reference to a temporary object that no longer exists."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1447878170, "post_id": 33789050, "comment_id": 55346307, "body": "@DavidSchwartz - I&#39;d say they&#39;re different in pretty important ways.  For example just having an invalid iterator sitting around is not itself going to cause UB.  Accessing it will unless you correct the problem by like reseating it, but just having it won&#39;t.  Returning a reference to temporary or to automatic data instantly causes UB and makes the program ill-formed."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1447878528, "post_id": 33789050, "comment_id": 55346508, "body": "Agree with @CrazyEddie. And this is important because compilers are allowed to do crazy stuff with ill-formed programms in regards to optimizations."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1447878667, "post_id": 33789050, "comment_id": 55346580, "body": "@CrazyEddie I don&#39;t think that&#39;s correct. And if it was, it would be very difficult to write correct programs. Do you have a reference for the claim that the mere existence of a reference to an object that is no longer valid is UB? Normally, we just make sure we don&#39;t access objects that no longer exist. Assuring that no references to them exist would be quite burdensome. I&#39;d settle for evidence that returning a reference to a temporary is UB. I couldn&#39;t find any."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447879241, "post_id": 33789050, "comment_id": 55346874, "body": "@SergeyA If this distinction is important, why is it that extensive google searching hasn&#39;t found anyone clarifying it anywhere? I couldn&#39;t find a single page anywhere discussing whether returning a reference to a temporary without accessing it was UB or not. (Do you even know for sure? I don&#39;t.)"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1447879819, "post_id": 33789050, "comment_id": 55347202, "body": "I have asked <a href=\"http://stackoverflow.com/questions/33790065/undefined-behavior-and-temporaries\">a question</a> to resolve this. :)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447879941, "post_id": 33789050, "comment_id": 55347265, "body": "Shouldn&#39;t have thrown myself into language lawer stuff. I am not the one."}, {"owner": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1447918012, "post_id": 33789050, "comment_id": 55361324, "body": "If it&#39;s destroyed after return from begin. how come the entire matrix is printed successfully except for the first 2 elements? If it&#39;s destroyed after a return from begin, i would expect it to print only the first element correctly. @DavidSchwartz"}, {"owner": {"reputation": 7560, "user_id": 1034749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2022f0caae119ed6232cf370bb9d9d3a?s=128&d=identicon&r=PG", "display_name": "fghj", "link": "https://stackoverflow.com/users/1034749/fghj"}, "reply_to_user": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "edited": false, "score": 0, "creation_date": 1447921654, "post_id": 33789050, "comment_id": 55363222, "body": "@COOKIE If we move to level bellow: <b>1)</b> <code>Destroyed</code> mean that memory whcih occupied by object is marked as free, it is not mean, that something disappear. <b>2)</b> In release mode of compilation iterator to vector become just pointer on popular <code>c++</code> compilers. And as result you have to pointers to memory that can be used at any time by somebody else, but it is not prevent you to print content of this memory. And you may even print all right values."}, {"owner": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "edited": false, "score": 0, "creation_date": 1447924571, "post_id": 33789050, "comment_id": 55365013, "body": "anyway, I still do not understand how to solve this issue."}, {"owner": {"reputation": 7560, "user_id": 1034749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2022f0caae119ed6232cf370bb9d9d3a?s=128&d=identicon&r=PG", "display_name": "fghj", "link": "https://stackoverflow.com/users/1034749/fghj"}, "reply_to_user": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "edited": false, "score": 0, "creation_date": 1447924887, "post_id": 33789050, "comment_id": 55365238, "body": "@COOKIE The simple way to make result of <code>matrixToVector</code> data member of class"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "edited": false, "score": 0, "creation_date": 1447954092, "post_id": 33789050, "comment_id": 55386454, "body": "@COOKIE You have no good reason to expect it to behave in any particular way. Undefined behavior is called &quot;undefined&quot; for a reason, and it almost never does what you expect."}], "tags": [], "owner": {"reputation": 7560, "user_id": 1034749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2022f0caae119ed6232cf370bb9d9d3a?s=128&d=identicon&r=PG", "display_name": "fghj", "link": "https://stackoverflow.com/users/1034749/fghj"}, "is_accepted": false, "score": 7, "last_activity_date": 1447876121, "creation_date": 1447876121, "answer_id": 33789050, "question_id": 33788936, "link": "https://stackoverflow.com/questions/33788936/iterator-that-runs-on-windows-but-not-on-linux/33789050#33789050", "title": "iterator that runs on windows but not on linux", "body": "<pre><code>const_iterator begin()\n    {\n        return matrixToVector().begin();\n    }\n</code></pre>\n\n<p>you return reference to object on stack, result of <code>matrixToVector()</code> create temporary object, that will be destroyed after return from <code>begin</code></p>\n"}], "owner": {"reputation": 47, "user_id": 4461775, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c125674296e8dd8334d997e717fb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "One_Curious_User", "link": "https://stackoverflow.com/users/4461775/one-curious-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447911146, "creation_date": 1447875752, "last_edit_date": 1447911146, "question_id": 33788936, "link": "https://stackoverflow.com/questions/33788936/iterator-that-runs-on-windows-but-not-on-linux", "title": "iterator that runs on windows but not on linux", "body": "<p>I am currently programming a template matrix.\nIt contains a <code>vector&lt;vector&lt;T&gt;&gt;</code> called mat and cols and rows vals that contain the number of rows and columns.\nI tried to build an iterator, and found out that I cannot build an iterator function for vector of vector. since the rest of my code was already written, i added a matrixToVector function which turn my <code>vector&lt;vector&lt;T&gt;&gt;</code> to <code>vector&lt;T&gt;</code> (I know it's not the best option, but it's just for a college exercise).\nOn my windows laptop in tuns great, but on the linux computer labs the first two number of the iterator are always a very large random number and then 0 and then the rest of the numbers are fine.\nHere is the code:</p>\n\n<pre><code>    /**\n     * turns the 2d mat vecor to 1d vector.\n     */\n    vector&lt;T&gt; matrixToVector()\n    {\n        vector&lt;T&gt; v;\n        for(unsigned int i = 0 ; i &lt; rowsNum; i++)\n        {\n            for(unsigned int j = 0; j &lt; colsNum; j++)\n            {\n                v.push_back(mat[i][j]);\n            }\n        }\n        return v;\n\n    }\n\n    /**\n     * iterator\n     */\n    typedef typename std::vector&lt;T&gt;::const_iterator const_iterator;\n\n\n    /**\n     * return the end of the iterator.\n     */\n    const_iterator end()\n    {\n        return matrixToVector().end();\n    }\n\n    /**\n     * return the begining of the iterator.\n     */\n    const_iterator begin()\n    {\n        return matrixToVector().begin();\n    }\n</code></pre>\n\n<p>I don't have a clue what's wrong.\nWhat should I do? </p>\n\n<p>EDIT:\nWhen I print the matrix with the regular printing function, it's works great on Linux and Windows. </p>\n"}, {"tags": ["c++", "macos"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1447876584, "post_id": 33788809, "comment_id": 55345312, "body": "Ummmmm <a href=\"http://web.mit.edu/netbsd/src/sys/compat/mach/mach_host.h\" rel=\"nofollow noreferrer\">Here</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1447879245, "post_id": 33788809, "comment_id": 55346877, "body": "<code>find &#47;usr -name mach_host.h</code>, maybe?"}], "answers": [{"tags": [], "owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1447880339, "creation_date": 1447880339, "answer_id": 33790244, "question_id": 33788809, "link": "https://stackoverflow.com/questions/33788809/where-can-i-find-mach-host-library-for-mac-os-x/33790244#33790244", "title": "Where can i find mach_host library for mac OS X?", "body": "<p>If you want to do software development under OSX, you need to go to the AppStore and install <code>Xcode</code> from Apple. That will have all the headers, libraries, compiler and linker and tools.</p>\n\n<p>If you want to find that header file, you can then use this command:</p>\n\n<pre><code>find /Applications -name mach_host.h\n</code></pre>\n\n<p>There will be several answers, some for WatchOS, some for iOS and some for OSX. You need this one:</p>\n\n<pre><code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include/mach/mach_host.h\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 5530995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651cf459ec05d0e5a7f3b781f040f968?s=128&d=identicon&r=PG&f=1", "display_name": "Ilmionome456", "link": "https://stackoverflow.com/users/5530995/ilmionome456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "closed_date": 1447892333, "accepted_answer_id": 33790244, "answer_count": 1, "score": 0, "last_activity_date": 1447880339, "creation_date": 1447875293, "last_edit_date": 1495540742, "question_id": 33788809, "link": "https://stackoverflow.com/questions/33788809/where-can-i-find-mach-host-library-for-mac-os-x", "closed_reason": "Not suitable for this site", "title": "Where can i find mach_host library for mac OS X?", "body": "<p>Where can I find <code>mach_host.h</code> library for mac OS X?\nBecause i can't find it on the web. \nI read the answer in <a href=\"https://stackoverflow.com/questions/63166/how-to-determine-cpu-and-memory-consumption-from-inside-a-process/1911863#1911863\">this thread</a> by Michael Taylor in which <code>mach_host.h</code> library is used. </p>\n"}, {"tags": ["c++", "floating-point", "pragma"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1447875434, "post_id": 33788782, "comment_id": 55344596, "body": "What compiler are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 3418, "user_id": 2835286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357f94482ec908e87bbc8055feaa88d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Popovic", "link": "https://stackoverflow.com/users/2835286/marko-popovic"}, "is_accepted": false, "score": 1, "last_activity_date": 1447880042, "creation_date": 1447880042, "answer_id": 33790144, "question_id": 33788782, "link": "https://stackoverflow.com/questions/33788782/pragma-for-fast-floating-point-arithmetic/33790144#33790144", "title": "Pragma for fast floating point arithmetic", "body": "<p>That does not work because the documentation clearly states that a value for a <code>float_control</code> pragma can be <code>precise</code> or <code>except</code>:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/45ec64h6.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/45ec64h6.aspx</a></p>\n\n<p>Btw, next time please specify what development environment for C++ you are using.</p>\n"}], "owner": {"reputation": 335, "user_id": 4974732, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f8bcf2c0597eb12d98c2879a3b701b0?s=128&d=identicon&r=PG&f=1", "display_name": "Deep Learner", "link": "https://stackoverflow.com/users/4974732/deep-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447880042, "creation_date": 1447875187, "question_id": 33788782, "link": "https://stackoverflow.com/questions/33788782/pragma-for-fast-floating-point-arithmetic", "title": "Pragma for fast floating point arithmetic", "body": "<p>I was looking for a setting that would let me do something similar to /fp:fast switch, but with pragma. Unfortunately, the below doesn't compile\n    #pragma float_control( fast, off )</p>\n"}, {"tags": ["c#", "c++", "cryptography", "wincrypt"], "comments": [{"owner": {"reputation": 927, "user_id": 5476263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8bho.jpg?s=128&g=1", "display_name": "Marco Fatica", "link": "https://stackoverflow.com/users/5476263/marco-fatica"}, "edited": false, "score": 2, "creation_date": 1447875396, "post_id": 33788687, "comment_id": 55344569, "body": "check this previous question it should have everything you need: <a href=\"http://stackoverflow.com/questions/935664/possible-to-call-c-code-from-c\" title=\"possible to call c code from c\">stackoverflow.com/questions/935664/&hellip;</a>"}, {"owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "reply_to_user": {"reputation": 927, "user_id": 5476263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8bho.jpg?s=128&g=1", "display_name": "Marco Fatica", "link": "https://stackoverflow.com/users/5476263/marco-fatica"}, "edited": false, "score": 0, "creation_date": 1447972926, "post_id": 33788687, "comment_id": 55397177, "body": "@MarcoFatica Thanks for the link, even thought doesn&#39;t seem that simple (deep down, I knew it wouldn&#39;t be), I&#39;ll study it and give it a shot."}], "owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1447874901, "creation_date": 1447874901, "question_id": 33788687, "link": "https://stackoverflow.com/questions/33788687/using-the-same-cryptography-approach-in-both-c-and-c", "title": "Using the same cryptography approach in both C++ and C#", "body": "<p><strong>CONTEXT:</strong> I'm developing an application that requires a licensing process to add some security to it. The application is major C#, but it has a small portion (an independent module, in fact) of it written in C++.</p>\n\n<p>The latter already has a licensing process implemented, which in summary consists of: when the app initializes, it looks for a license file containing encrypted info, generated by the developers based on some customer info (a <code>string</code>). If the file is valid, the app continues your execution, otherwise, it shuts down. The important part of it is that it uses the <code>wincrypt.h</code> library to add cryptography to strings.</p>\n\n<p><strong>DESIRE:</strong> Both parts (or modules) must have a license-based security and should share the same license file.</p>\n\n<p><strong>PROBLEM:</strong> I'm trying to adapt the security process described before to C# in order to use it on the other part of the app. I haven't found a way of using <code>wincrypt.h</code> functions to do so (maybe because my knownledge of C# is not that great, or maybe because I simply can't do that). I ended up using RSA, but I ended up with two different cryptograph methods.</p>\n\n<p><strong>QUESTION:</strong> Is there a way of using <code>wincrypt.h</code> in C#? If not, is there any other way of developing a (en|de)cription of a <code>string</code> process that can be used in both C++ and C#?</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["c++", "class", "methods", "polymorphism"], "comments": [{"owner": {"reputation": 852, "user_id": 2509929, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1095770d724fecd57dd8f65f0809e604?s=128&d=identicon&r=PG", "display_name": "Tomasz Kaminski", "link": "https://stackoverflow.com/users/2509929/tomasz-kaminski"}, "edited": false, "score": 1, "creation_date": 1447875005, "post_id": 33788610, "comment_id": 55344335, "body": "You need to have an Animal pointer, and dereference it to achieve polymorphic behaviour. Furthermore, you need to actually construct these before using."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1447875052, "post_id": 33788610, "comment_id": 55344373, "body": "You should use pointers to <code>Animal</code> if you want to benefit the polymorphism, otherwise the C++ compiler will link all method calls to the ones from <code>Animal</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3477, "user_id": 5373104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7370abc4cc61836c6302fc38b73a75fb?s=128&d=identicon&r=PG", "display_name": "Jared Dykstra", "link": "https://stackoverflow.com/users/5373104/jared-dykstra"}, "is_accepted": false, "score": 2, "last_activity_date": 1447876497, "last_edit_date": 1447876497, "creation_date": 1447875011, "answer_id": 33788718, "question_id": 33788610, "link": "https://stackoverflow.com/questions/33788610/c-polymorphism-methods/33788718#33788718", "title": "C++ polymorphism. Methods", "body": "<blockquote>\n  <p>If I create a virtual void \"set_id(int)\" for the class \"Animal\" then I get the error message that not all classes that inherit from animal contain that method.</p>\n</blockquote>\n\n<p>I suspect you defined Animal::set_id as a <strong>pure</strong> virtual, like this:</p>\n\n<pre><code>virtual void set_id(int) = 0;\n</code></pre>\n\n<p>What you really want is to define it in the <code>Animal</code> class as a virtual method, like this:             </p>\n\n<pre><code>virtual void set_id(int _id) {id = _id};\n</code></pre>\n\n<p>Also, the <code>id</code> member variable needs to be moved to the <code>Animal</code> class instead of <code>Turtle</code></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Expanding the answer to include the full code:</p>\n\n<pre><code>class Animal\n{\npublic:\n    Animal() : id(-1) {}\n    virtual ~Animal() {}\n\n    virtual void run() = 0;\n    virtual bool return_if_finished() = 0;\n    virtual float return_distance() = 0;\n\n    void set_id(int i) { id = i; }\n\nprivate: \n    int id;\n};\n\nclass Turtle :public Animal\n{\npublic:\n    void run() {};\n    bool return_if_finished() { return true; };\n    float return_distance() { return 2.0; };\n    void a_friend() {};\n};\n\nclass Snail :public Animal\n{\npublic:\n    void run() {};\n    bool return_if_finished() { return false; };\n    float return_distance() { return 1.0; };\n    void broken_leg() {};\n};\n\n\nint main()\n{\n    const int amount = 10;\n    Turtle turtles[amount];\n    Snail snails[amount];\n    for (int i = 0; i &lt; amount; i++) {\n        turtles[i].set_id(i);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447878665, "post_id": 33788940, "comment_id": 55346579, "body": "Better yet, use a unqiue_ptr."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1447879635, "post_id": 33788940, "comment_id": 55347106, "body": "This code can not compile, by the way. You can not assign shared_ptr to Turtle*."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": -2, "last_activity_date": 1447880419, "last_edit_date": 1447880419, "creation_date": 1447875761, "answer_id": 33788940, "question_id": 33788610, "link": "https://stackoverflow.com/questions/33788610/c-polymorphism-methods/33788940#33788940", "title": "C++ polymorphism. Methods", "body": "<p>First of all, using:</p>\n\n<pre><code>Animal* turtles = new Turtle[amount];\nAnimal* snails = new Snail[amount];\n</code></pre>\n\n<p>is a bad idea.</p>\n\n<p>The pointer arithmetic on <code>turtles</code> and <code>snails</code> will be based size of <code>Animal</code>. If you use <code>tutles[i]</code> for all <code>i</code> not equal to <code>0</code>, you'll run into undefined behavior. There is probably an SO question somewhere about that.</p>\n\n<p>Use a <code>vector</code> of pointers instead. It will be also easier to initialize them.</p>\n\n<pre><code>std::vector&lt;Animal*&gt; turtles(amount); = new Turtle[amount];\nfor(int i=0; i&lt;amount; i++)\n{\n    Turtle* tptr = new Turtle;\n    tptr-&gt;set_id(i);\n    turtles[i] = tptr;\n}\n</code></pre>\n\n<p>Better yet, use a smart pointer.</p>\n\n<pre><code>std::vector&lt;std::shared_ptr&lt;Animal&gt;&gt; turtles(amount); = new Turtle[amount];\nfor(int i=0; i&lt;amount; i++)\n{\n    Turtle* tptr = new Turtle;\n    tptr-&gt;set_id(i);\n    turtles[i] = std::shared_ptr&lt;Animal&gt;(tptr);\n    // Or \n    // turtles[i].reset(tptr);\n}\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 4759671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6683fcbd55f170fa5b9ceb460912013b?s=128&d=identicon&r=PG&f=1", "display_name": "Meph1k", "link": "https://stackoverflow.com/users/4759671/meph1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 33788940, "answer_count": 2, "score": 2, "last_activity_date": 1447880419, "creation_date": 1447874676, "last_edit_date": 1447875356, "question_id": 33788610, "link": "https://stackoverflow.com/questions/33788610/c-polymorphism-methods", "title": "C++ polymorphism. Methods", "body": "<p>I have a small problem which I can't handle.\nCurrently I'm working over a project about a marathon between animals.\nI'm obliged to use polymorphism even though it could be easier without.\nHere's a sample of my code:</p>\n\n<pre><code>class Animal \n{\npublic:\nvirtual void run()=0;\nvirtual bool return_if_finished()=0;\nvirtual float return_distance()=0;\n}\nclass Turtle :public Animal\n{\n int id;\n float distance; //etc.\n public:\n void run();\n bool return_if_finished();\n float return_distance();\n void set_id(int i);\n void a_friend();\n}\nclass Snail :public Animal\n{\n float distance; //etc.\n public:\n void run();\n bool return_if_finished();\n float return_distance();\n void broken_leg();\n}\n</code></pre>\n\n<p>So that's a sample. All classes that inherit from the main class \"Animal\" have only three mutual methods. They also have some that only they do need.</p>\n\n<p>If I want to write a code in a method where they \"run\" like that:</p>\n\n<pre><code>...\nAnimal* turtles = new Turtle[amount];\nAnimal* snails = new Snail[amount];\nfor(int i=0; i&lt;amount; i++)\n    turtles[i].set_id(i);\n</code></pre>\n\n<p>I can't compile it because \"class Animal has no member called \"set_id\"\".\nI could create all these methods for each class but that would be totally pointless. I bet there's a quick solution to that.\nIf I create a virtual void \"set_id(int)\" for the class \"Animal\" then I get the error message that not all classes that inherit from animal contain that method.\nSo any help would be very appreciated. Thank you</p>\n"}, {"tags": ["c++", "binary", "ieee-754", "exponent", "mantissa"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1447877993, "post_id": 33788556, "comment_id": 55346185, "body": "Rather than guessing with <code>int</code>, use <code>uint32_t</code>. Then union <code>double</code> with <code>uint64_t</code> to get the 64 bit version. On the whole, this is not a good idea. It wanders into undefined behaviour as you&#39;re simultaneously using different members of a union. C++ give no guarantees that this is going to work as expected or the same on all implementations. It would be safer to discard the union and <code>memcpy</code> <code>input</code> to <code>output</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5282219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec26975288b60973774d77b26d447b1?s=128&d=identicon&r=PG&f=1", "display_name": "Axel13fr", "link": "https://stackoverflow.com/users/5282219/axel13fr"}, "is_accepted": false, "score": 0, "last_activity_date": 1447878187, "last_edit_date": 1495542160, "creation_date": 1447878187, "answer_id": 33789649, "question_id": 33788556, "link": "https://stackoverflow.com/questions/33788556/how-do-i-convert-a-double-to-a-64bit-ieee754/33789649#33789649", "title": "How do I convert a double to a 64bit ieee754?", "body": "<p>First of all, although the union method is a popular one to do this, bear in mind that accessing a union member different from the last written member is <em>undefined</em> behavior in C++. So you better test the result on your compiler and forget about protability.</p>\n\n<p>That being said, assuming that your compiler uses the IEE754 (this can be checked as mentionned <a href=\"https://stackoverflow.com/questions/5777484/how-to-check-if-c-compiler-uses-ieee-754-floating-point-standard\">here</a> ), you will need to change your union to contain a double and a long long. The long long will be on both 32bits and 64bits machines represented on 64bits as a de facto standard on windows and Unix (although the C++ standard doesn't enforce anything on the size but only on the ranges and the ordering of size between char, int, long etc...).</p>\n\n<p>And of course adapt the bits variable with sizeof(double).</p>\n"}], "owner": {"reputation": 51, "user_id": 5578149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a7ea88cf79b232cae7e9bb0bc7236db?s=128&d=identicon&r=PG&f=1", "display_name": "yardening2", "link": "https://stackoverflow.com/users/5578149/yardening2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447878187, "creation_date": 1447874544, "last_edit_date": 1447875949, "question_id": 33788556, "link": "https://stackoverflow.com/questions/33788556/how-do-i-convert-a-double-to-a-64bit-ieee754", "title": "How do I convert a double to a 64bit ieee754?", "body": "<p>I have this code:</p>\n\n<pre><code>std::string GetBinary32( double value )\n{\nunion\n{\n     float input;   // assumes sizeof(float) == sizeof(int)\n     int   output;\n}    data;\n\ndata.input = value;\n\nstd::bitset&lt;sizeof(float) * CHAR_BIT&gt;   bits(data.output);\n\nstd::string mystring = bits.to_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;();\n\nreturn mystring;\n}\n</code></pre>\n\n<p>I want to get a 64 representation of the double.</p>\n\n<p>what do i need to change?</p>\n"}, {"tags": ["c++", "gcc"], "comments": [{"owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447874546, "post_id": 33788529, "comment_id": 55344044, "body": "I have to re-post the code."}, {"owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447874974, "post_id": 33788529, "comment_id": 55344316, "body": "Is there any way to make it compile in gcc buy just modifying class A?"}], "answers": [{"comments": [{"owner": {"reputation": 2640, "user_id": 5195699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f85291bb71f55981b1d412f1efcb7603?s=128&d=identicon&r=PG&f=1", "display_name": "R_Kapp", "link": "https://stackoverflow.com/users/5195699/r-kapp"}, "edited": false, "score": 0, "creation_date": 1447874722, "post_id": 33788595, "comment_id": 55344154, "body": "<code>A</code> has an implicit conversion constructor that takes a <code>shared_ptr</code> as input; it&#39;s not too surprising that VS compiles it."}, {"owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447874781, "post_id": 33788595, "comment_id": 55344191, "body": "I think  A(const boost::shared_ptr&lt;Isth&gt;&amp; obj)  works in Visual Studio."}, {"owner": {"reputation": 352, "user_id": 2882509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8b29c7250f8af22d1ae2effe57589b?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksei Fedotov", "link": "https://stackoverflow.com/users/2882509/aleksei-fedotov"}, "edited": false, "score": 0, "creation_date": 1447875994, "post_id": 33788595, "comment_id": 55344937, "body": "In addition, there also could be a problem with non-static data member of class A. According to <a href=\"http://en.cppreference.com/w/cpp/language/copy_constructor\" rel=\"nofollow noreferrer\">article in cppreference</a> if at least one A&#39;s member does not have copy constructor with parameter declared as const or const volatile, the copy constructor for A would also have signature without const modifier, i.e. A(A&amp;). As a result, temporary variable of class A created from myPtr cannot be used in a call for A(A&amp;) copy constructor."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 1, "last_activity_date": 1447875227, "last_edit_date": 1447875227, "creation_date": 1447874637, "answer_id": 33788595, "question_id": 33788529, "link": "https://stackoverflow.com/questions/33788529/why-the-implicit-conversion-doesnt-work-in-g/33788595#33788595", "title": "Why the implicit conversion doesn&#39;t work in g++", "body": "<p>I am surprised Visual Studio compiles it. How do you expect to return a shared_ptr instead of an actual object? There is no way <code>shared_ptr&lt;X&gt;</code> can be converted to X.</p>\n\n<p>OK, some clarifications are in order. That sort of conversion would have require to custom-conversion - one from <code>shared_ptr&lt;Isth2&gt;</code> to <code>shared_ptr&lt;Isth&gt;</code>, and another from <code>shared_ptr&lt;Isth&gt;</code> to A. Standard explicitly says that only one custom conversion is allowed. GCC is correct.</p>\n\n<p>As to why Visual Studio is converting it, I am not sure. It either eagerly performs double conversion or it does not treat shared_ptr conversions as a custom conversion. Both options are wrong in my view.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447876029, "post_id": 33788838, "comment_id": 55344959, "body": "return A&lt;Isth1&gt;(myPtr); works in gcc. But I don&#39;t want to change my code like this, because I have to modify many methods in many classes. I&#39;m expecting to just modify class A instead."}, {"owner": {"reputation": 411, "user_id": 5546661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0831.png?s=128&g=1", "display_name": "AlexStepanov", "link": "https://stackoverflow.com/users/5546661/alexstepanov"}, "reply_to_user": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447878197, "post_id": 33788838, "comment_id": 55346325, "body": "It&#39;s simple: instead of performing multiple implicit conversions, we&#39;re doing a single implicit conversion <code>boost::shared_ptr&lt;Isth1&gt;</code> -&gt; <code>A&lt;Isth2&gt;</code>. It is now allowed via a new constructor. A missing implicit conversion from <code>boost::shared_ptr&lt;Isth2&gt;</code> to <code>boost::shared_ptr&lt;Isth1&gt; </code> is performed inside <code>A</code>&#39;s constructor."}, {"owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "edited": false, "score": 0, "creation_date": 1447879282, "post_id": 33788838, "comment_id": 55346903, "body": "I seems understand this now. Thanks a lot!"}], "tags": [], "owner": {"reputation": 411, "user_id": 5546661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G0831.png?s=128&g=1", "display_name": "AlexStepanov", "link": "https://stackoverflow.com/users/5546661/alexstepanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1447876289, "last_edit_date": 1447876289, "creation_date": 1447875387, "answer_id": 33788838, "question_id": 33788529, "link": "https://stackoverflow.com/questions/33788529/why-the-implicit-conversion-doesnt-work-in-g/33788838#33788838", "title": "Why the implicit conversion doesn&#39;t work in g++", "body": "<p>You're trying to do here multiple implicit conversions:\n<code>boost::shared_ptr&lt;Isth2&gt;</code> -> <code>boost::shared_ptr&lt;Isth1&gt;</code> -> <code>A&lt;Isth1&gt;</code></p>\n\n<p>As C++ standard says in the chapter 12.3 Conversions:</p>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>At most one user-defined conversion (constructor or conversion\n  function) is implicitly applied to a single value.</li>\n  </ol>\n</blockquote>\n\n<p>This fixes the compilation:</p>\n\n<pre><code>A&lt;Isth1&gt; B::method1()\n{\n    boost::shared_ptr&lt;Isth2&gt; myPtr = boost::make_shared&lt;Isth2&gt;();\n  //Isth2 is derived from Isth1;\n    ...\n    return A&lt;Isth1&gt;(myPtr);\n}\n</code></pre>\n\n<p>Updated:</p>\n\n<p>If you dont want to modify the return value, you could modify the constructor in your <code>A</code> class:</p>\n\n<pre><code>template &lt;class Isth&gt;\nclass A\n{\n    ...\n    template &lt;class T&gt; A(const boost::shared_ptr&lt;T&gt;&amp;) { ... }\n    ...\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "is_accepted": false, "score": 5, "last_activity_date": 1447876266, "creation_date": 1447876266, "answer_id": 33789091, "question_id": 33788529, "link": "https://stackoverflow.com/questions/33788529/why-the-implicit-conversion-doesnt-work-in-g/33789091#33789091", "title": "Why the implicit conversion doesn&#39;t work in g++", "body": "<p>The problem was highlighted by others - <code>shared_ptr&lt;Isth2&gt;</code> can only be converted to the constructor parameter of <code>A&lt;Isth1&gt;</code> if it wouldn't require a user defined conversion. But since it does, that constructor cannot be used. </p>\n\n<p>Again uniform initialization helps to make this work</p>\n\n<pre><code>A&lt;Isth1&gt; B::method1()\n{\n    boost::shared_ptr&lt;Isth2&gt; myPtr = boost::make_shared&lt;Isth2&gt;();\n  //Isth2 is derived from Isth1;\n    ...\n    return { myPtr };\n}\n</code></pre>\n\n<p>For uniform initialization of a return value, user defined conversions for the constructor parameter is allowed. If you want to only change class <code>A</code>, you probably want to write some SFINAE </p>\n\n<pre><code>template&lt;typename T, typename std::enable_if&lt;\n   std::is_base_of&lt;Isth, T&gt;::value, bool&gt;::type = true&gt;\nA(const boost::shared_ptr&lt;T&gt;&amp; obj) {...} \n</code></pre>\n\n<p>You are basically stating <em>\"I am implicitly converting from any shared ptr that points at an object derived from <code>Isth</code>\"</em>.</p>\n"}], "owner": {"reputation": 39, "user_id": 5578081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3c6672d94b8e6a7db3a4e96bfcb8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Wqh", "link": "https://stackoverflow.com/users/5578081/wqh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1447876289, "creation_date": 1447874427, "last_edit_date": 1447874517, "question_id": 33788529, "link": "https://stackoverflow.com/questions/33788529/why-the-implicit-conversion-doesnt-work-in-g", "title": "Why the implicit conversion doesn&#39;t work in g++", "body": "<p>The code bellow can compile in Visual Studio, but is failed in gcc.</p>\n\n<pre><code>template&lt;typename Isth&gt;\nclass A\n{\npublic:\n    A(const boost::shared_ptr&lt;Isth&gt;&amp; obj) {...} \n...\n};\n</code></pre>\n\n<p>In class B's method:</p>\n\n<pre><code>A&lt;Isth1&gt; B::method1\n{\n    boost::shared_ptr&lt;Isth2&gt; myPtr = boost::make_shared&lt;Isth2&gt;();\n  //Isth2 is derived from Isth1;\n    ...\n    return myPtr;\n}\n</code></pre>\n\n<p>In gcc, I got an error \"could not convert 'myPtr' from 'boost::shared_ptr' to 'A'\"\nI think A's constructor should be called when B::method1 return.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "arrays", "string"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1447874102, "post_id": 33788367, "comment_id": 55343757, "body": "Give us <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1447874254, "post_id": 33788367, "comment_id": 55343866, "body": "See <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/find\" rel=\"nofollow noreferrer\">cppreference - std::basic_string::find</a>"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1447874263, "post_id": 33788367, "comment_id": 55343869, "body": "You should check the return value of <code>find</code> against <code>string::npos</code>."}, {"owner": {"reputation": 724, "user_id": 2540607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f40627c8c656db70d39b2fb244f865?s=128&d=identicon&r=PG", "display_name": "wendelbsilva", "link": "https://stackoverflow.com/users/2540607/wendelbsilva"}, "edited": false, "score": 1, "creation_date": 1447874340, "post_id": 33788367, "comment_id": 55343916, "body": "In addition to the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/npos\" rel=\"nofollow noreferrer\"><code>npos</code></a> commented above, if you want to <code>cout</code> all found nouns, you need to remove the <code>break</code> inside the <code>if</code>. With the <code>break</code> it will stop the <code>for</code> after finding the 1st one"}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "edited": false, "score": 0, "creation_date": 1447906297, "post_id": 33788367, "comment_id": 55356867, "body": "Please do not rewrite your question to ask a completely different question. Doing so invalidates the answers given. Instead, you should ask a new question, using the &quot;Ask Question&quot; button at the top of the page. You can link to this question if it helps provide context. I have rolled back your question to the way it was phrased when you accepted Angel Diaz&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4567297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e281bd66b61c5db479682fd51cbcb97a?s=128&d=identicon&r=PG&f=1", "display_name": "elastic-g", "link": "https://stackoverflow.com/users/4567297/elastic-g"}, "edited": false, "score": 0, "creation_date": 1447902358, "post_id": 33788464, "comment_id": 55355709, "body": "Thank you everyone! This definitely helped solve my problems!"}], "tags": [], "owner": {"reputation": 2384, "user_id": 4624683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39130cd702675dc4f741e62e64479eb6?s=128&d=identicon&r=PG&f=1", "display_name": "DBug", "link": "https://stackoverflow.com/users/4624683/dbug"}, "is_accepted": false, "score": 0, "last_activity_date": 1447874213, "creation_date": 1447874213, "answer_id": 33788464, "question_id": 33788367, "link": "https://stackoverflow.com/questions/33788367/how-to-print-an-array-element-that-is-found-in-a-string-c/33788464#33788464", "title": "How to print an array element that is found in a string C++", "body": "<p>Since you're searching for the nouns in order, if the input contains MAILBOX, it will return that, regardless of where it appears in the command.  If you want to print the first word in the command that matches one of the nouns, they you need to split the command into words, and iterate through those, seeing if the word in command is in the noun list.</p>\n"}, {"comments": [{"owner": {"reputation": 7560, "user_id": 1034749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2022f0caae119ed6232cf370bb9d9d3a?s=128&d=identicon&r=PG", "display_name": "fghj", "link": "https://stackoverflow.com/users/1034749/fghj"}, "edited": false, "score": 0, "creation_date": 1447904328, "post_id": 33788649, "comment_id": 55356297, "body": "@elastic-g if do not want to print duplicates, then use  <code>std::copy_if</code> with <code>insert_iteartor</code> and <code>std::set</code> , and after that output <code>std::set</code>"}, {"owner": {"reputation": 39, "user_id": 4567297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e281bd66b61c5db479682fd51cbcb97a?s=128&d=identicon&r=PG&f=1", "display_name": "elastic-g", "link": "https://stackoverflow.com/users/4567297/elastic-g"}, "edited": false, "score": 0, "creation_date": 1447904982, "post_id": 33788649, "comment_id": 55356485, "body": "I&#39;m sorry I don&#39;t really understand what you mean. I just learned this stuff yesterday and it is still very confusing to me"}], "tags": [], "owner": {"reputation": 7560, "user_id": 1034749, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2022f0caae119ed6232cf370bb9d9d3a?s=128&d=identicon&r=PG", "display_name": "fghj", "link": "https://stackoverflow.com/users/1034749/fghj"}, "is_accepted": false, "score": 0, "last_activity_date": 1447874796, "creation_date": 1447874796, "answer_id": 33788649, "question_id": 33788367, "link": "https://stackoverflow.com/questions/33788367/how-to-print-an-array-element-that-is-found-in-a-string-c/33788649#33788649", "title": "How to print an array element that is found in a string C++", "body": "<p><code>c++11</code> (not optimal of course, but small):</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;iterator&gt;\n#include &lt;string&gt;\nusing std::string;\n\nint main() {\n  string nouns[] = {\"MAILBOX\", \"KNIFE\", \"TROLL\", \"THIEF\", \"LETTER\", \"OPPONENT\"};\n  string command = \"THE LETTER IS IN THE MAILBOX.\";\n\n  std::copy_if(std::begin(nouns), std::end(nouns),\n               std::ostream_iterator&lt;string&gt;(std::cout, \"\\n\"),\n               [&amp;command](const std::string &amp;noun) {\n                 return command.find(noun) != std::string::npos;\n               });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 1512419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10208131194904024/picture?type=large", "display_name": "adiaz004", "link": "https://stackoverflow.com/users/1512419/adiaz004"}, "edited": false, "score": 0, "creation_date": 1447875205, "post_id": 33788735, "comment_id": 55344456, "body": "also, if you want to check for more than one match, remove the <code>break</code>, you don&#39;t want to exit the for loop after the first match."}], "tags": [], "owner": {"reputation": 137, "user_id": 1512419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10208131194904024/picture?type=large", "display_name": "adiaz004", "link": "https://stackoverflow.com/users/1512419/adiaz004"}, "is_accepted": true, "score": 2, "last_activity_date": 1447877155, "last_edit_date": 1447877155, "creation_date": 1447875054, "answer_id": 33788735, "question_id": 33788367, "link": "https://stackoverflow.com/questions/33788367/how-to-print-an-array-element-that-is-found-in-a-string-c/33788735#33788735", "title": "How to print an array element that is found in a string C++", "body": "<p>The problem is this line:</p>\n\n<p><code>if (command.find(nouns[j]))</code></p>\n\n<p>That says, as long as the return value of <code>find()</code> is not <code>0</code>, then execute the code inside the if statement. \nWhen no match is found, <code>find</code> returns the maximum value for size_t, which is not zero.</p>\n\n<p>Check out the reference for the <code>find</code> function.\n<a href=\"http://www.cplusplus.com/reference/string/string/find/\" rel=\"nofollow\">std::find</a></p>\n"}], "owner": {"reputation": 39, "user_id": 4567297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e281bd66b61c5db479682fd51cbcb97a?s=128&d=identicon&r=PG&f=1", "display_name": "elastic-g", "link": "https://stackoverflow.com/users/4567297/elastic-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 1, "closed_date": 1447899058, "accepted_answer_id": 33788735, "answer_count": 3, "score": -2, "last_activity_date": 1447945786, "creation_date": 1447873860, "last_edit_date": 1447945786, "question_id": 33788367, "link": "https://stackoverflow.com/questions/33788367/how-to-print-an-array-element-that-is-found-in-a-string-c", "closed_reason": "Not suitable for this site", "title": "How to print an array element that is found in a string C++", "body": "<p>So I am looking at a string, and seeing if it contains one of the elements that appears in an array. Then I want to output the element in the array that matches what is in the string. If the string contains two elements or more from the array, then it will output all elements from the array it contains. When I do the output part, it only outputs the first element in the array, regardless of which element in the array matches with something in the string. My code is below, would greatly appreciate it if you could help me understand what I am doing wrong!</p>\n\n<pre><code>string nouns[] = { \"MAILBOX\", \"KNIFE\", \"TROLL\", \"THIEF\", \"LETTER\", \"OPPONENT\" };\nstring command = \"THE LETTER IS IN THE MAILBOX.\";\n//check if each command has one of the nouns\n    for (int j = 0; j &lt; 6; j++){\n        if (command.find(nouns[j])){\n            string foundnound = nouns[j];\n            cout &lt;&lt; \"The noun is: \" &lt;&lt; foundnound &lt;&lt; endl;\n            break;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "wxwidgets", "xdebug"], "comments": [{"owner": {"reputation": 4873, "user_id": 709683, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f11fa.png?s=128&g=1", "display_name": "Stefano Mtangoo", "link": "https://stackoverflow.com/users/709683/stefano-mtangoo"}, "edited": false, "score": 0, "creation_date": 1447958737, "post_id": 33788354, "comment_id": 55389239, "body": "there was multiple spaces in command. Thanks to @derrickrethans in mailing list!"}], "answers": [{"tags": [], "owner": {"reputation": 29633, "user_id": 508057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wEXdr.jpg?s=128&g=1", "display_name": "Derick", "link": "https://stackoverflow.com/users/508057/derick"}, "is_accepted": true, "score": 2, "last_activity_date": 1447969587, "creation_date": 1447969587, "answer_id": 33814952, "question_id": 33788354, "link": "https://stackoverflow.com/questions/33788354/invalid-or-missing-options/33814952#33814952", "title": "invalid or missing options", "body": "<p>In all three cases, you seem to have an extra space before the <code>-i x</code>, and for the breakpoint_set, one after <code>-i 1</code> too. You shouldn't do that. If that doesn't fix it, you might have some other random characters, which I can't see from your post.</p>\n"}], "owner": {"reputation": 4873, "user_id": 709683, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f11fa.png?s=128&g=1", "display_name": "Stefano Mtangoo", "link": "https://stackoverflow.com/users/709683/stefano-mtangoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 33814952, "answer_count": 1, "score": 1, "last_activity_date": 1447973177, "creation_date": 1447873836, "last_edit_date": 1447973177, "question_id": 33788354, "link": "https://stackoverflow.com/questions/33788354/invalid-or-missing-options", "title": "invalid or missing options", "body": "<p>I am trying to create an XDebug UI for my editor and so far I cannot run any command successfully. Each time I run a command, I get <code>invalid or missing options</code>. After reading the docs multiple times, I cannot see what argument I am really missing. Here is the output of the XDebug I get:</p>\n\n<pre><code>22:06:52: RUN CALLED\n22:06:58: Got connection from 127.0.0.1:52005\n22:06:58: &lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&gt;\n&lt;init xmlns=\"urn:debugger_protocol_v1\" xmlns:xdebug=\"http://xdebug.org/dbgp/xdebug\" fileuri=\"file:///C:/wamp/www/index.php\" language=\"PHP\" protocol_version=\"1.0\" appid=\"4752\" idekey=\"studio\"&gt;\n    &lt;engine version=\"2.2.5\"&gt;&lt;![CDATA[Xdebug]]&gt;&lt;/engine&gt;\n    &lt;author&gt;&lt;![CDATA[Derick Rethans]]&gt;&lt;/author&gt;\n    &lt;url&gt;&lt;![CDATA[http://xdebug.org]]&gt;&lt;/url&gt;\n    &lt;copyright&gt;&lt;![CDATA[Copyright (c) 2002-2014 by Derick Rethans]]&gt;&lt;/copyright&gt;\n&lt;/init&gt;\n\n22:06:58: SENT COMMAND:breakpoint_set  -i 1  -f file:///C:/wamp/www/index.php -n 248 -t line\n22:06:58: SENT COMMAND:run  -i 2\n22:06:58: SENT COMMAND:breakpoint_list  -i 3\n\n22:06:58: &lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&gt;\n&lt;response xmlns=\"urn:debugger_protocol_v1\" xmlns:xdebug=\"http://xdebug.org/dbgp/xdebug\" command=\"breakpoint_set\"&gt;\n    &lt;error code=\"3\"&gt;\n        &lt;message&gt;&lt;![CDATA[invalid or missing options]]&gt;&lt;/message&gt;\n    &lt;/error&gt;\n&lt;/response&gt;\n\n22:06:58: &lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&gt;\n&lt;response xmlns=\"urn:debugger_protocol_v1\" xmlns:xdebug=\"http://xdebug.org/dbgp/xdebug\" command=\"run\"&gt;\n    &lt;error code=\"3\"&gt;\n        &lt;message&gt;&lt;![CDATA[invalid or missing options]]&gt;&lt;/message&gt;\n    &lt;/error&gt;\n&lt;/response&gt;\n\n22:06:58: &lt;?xml version=\"1.0\" encoding=\"iso-8859-1\"?&gt;\n&lt;response xmlns=\"urn:debugger_protocol_v1\" xmlns:xdebug=\"http://xdebug.org/dbgp/xdebug\" command=\"breakpoint_list\"&gt;\n    &lt;error code=\"3\"&gt;\n        &lt;message&gt;&lt;![CDATA[invalid or missing options]]&gt;&lt;/message&gt;\n    &lt;/error&gt;\n&lt;/response&gt;\n</code></pre>\n"}, {"tags": ["c++", "object", "constructor", "destructor", "c++17"], "comments": [{"owner": {"reputation": 27758, "user_id": 717732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YCxg1.png?s=128&g=1", "display_name": "quetzalcoatl", "link": "https://stackoverflow.com/users/717732/quetzalcoatl"}, "edited": false, "score": 2, "creation_date": 1447873887, "post_id": 33788300, "comment_id": 55343619, "body": "Being lazy, I often use <code>ctor</code> and <code>dtor</code> abbreviations, but I never considered how to group those into one term. I&#39;d probably end up with <code>xtor</code>. But you ask about the standard.. I think it considers them to be a special case of member functions. I dont remember any unique name for such group."}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1447878763, "post_id": 33788346, "comment_id": 55346636, "body": "<i>Special member function</i> doesn&#39;t include &quot;regular&quot; constructors."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1447878849, "post_id": 33788346, "comment_id": 55346692, "body": "@T.C. it does not, which is why I started with <i>I think the closest you are going to get</i>"}], "tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 9, "last_activity_date": 1447873812, "creation_date": 1447873812, "answer_id": 33788346, "question_id": 33788300, "link": "https://stackoverflow.com/questions/33788300/is-there-an-umbrella-term-for-constructor-destructor-methods/33788346#33788346", "title": "Is there an umbrella term for constructor/destructor methods?", "body": "<p>I think the closest you are going to get is <em>special member function</em> but this also includes copy/move constructor and assignment , section <code>12</code> <em>[special]</em> says:</p>\n\n<blockquote>\n  <p>The default constructor (12.1), copy constructor and copy assignment operator (12.8), move constructor\n  and move assignment operator (12.8), and destructor (12.4) are special member functions [...]</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1447874839, "post_id": 33788504, "comment_id": 55344231, "body": "This is exactly the term I was looking for.  Even though it&#39;s not a part of the language terminology, it fits my model for describing both a constructor and destructor."}, {"owner": {"reputation": 31, "user_id": 5577924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wEx0J8QKzyw/AAAAAAAAAAI/AAAAAAAABfg/4ro8TLdYj0M/photo.jpg?sz=128", "display_name": "Jimmy Rimmer", "link": "https://stackoverflow.com/users/5577924/jimmy-rimmer"}, "reply_to_user": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1447964974, "post_id": 33788504, "comment_id": 55393023, "body": "It&#39;s not part of the <i>language</i> terminology because it&#39;s more of the fundamental underpinnings of OO. It&#39;s part of the mathematical-theoretical underpinnings behind all object-oriented design, and is applicable to any OOP."}], "tags": [], "owner": {"reputation": 31, "user_id": 5577924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wEx0J8QKzyw/AAAAAAAAAAI/AAAAAAAABfg/4ro8TLdYj0M/photo.jpg?sz=128", "display_name": "Jimmy Rimmer", "link": "https://stackoverflow.com/users/5577924/jimmy-rimmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1447874331, "creation_date": 1447874331, "answer_id": 33788504, "question_id": 33788300, "link": "https://stackoverflow.com/questions/33788300/is-there-an-umbrella-term-for-constructor-destructor-methods/33788504#33788504", "title": "Is there an umbrella term for constructor/destructor methods?", "body": "<p>I've seen the term \"manager methods\" used (see Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Method_(computer_programming)#Accessor.2C_mutator_and_manager_methods\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Method_(computer_programming)#Accessor.2C_mutator_and_manager_methods</a>) as a general term for any function that manages an object.</p>\n"}], "owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 33788346, "answer_count": 2, "score": 4, "last_activity_date": 1447901910, "creation_date": 1447873581, "last_edit_date": 1447901910, "question_id": 33788300, "link": "https://stackoverflow.com/questions/33788300/is-there-an-umbrella-term-for-constructor-destructor-methods", "title": "Is there an umbrella term for constructor/destructor methods?", "body": "<p>Does the standard contain terminology for describing both a <code>constructor</code> and a <code>destructor</code>?</p>\n\n<p>Is there a technical term or phrase that can encompass the two, but exclude all other kinds of methods?  </p>\n\n<p>\"Lifetime\" methods?  </p>\n\n<hr>\n\n<p>I've seen constructors called <code>\"ctors\"</code> and destructors called <code>\"dtors\"</code> but I've never seen <code>\"tors\"</code> used to describe both.  Does such a phrase exist?</p>\n"}, {"tags": ["c++", "random", "copy-constructor", "dynamic-memory-allocation", "assignment-operator"], "comments": [{"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 1, "creation_date": 1447873472, "post_id": 33788239, "comment_id": 55343394, "body": "What do you mean by &quot;random values&quot;?"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "reply_to_user": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447873550, "post_id": 33788239, "comment_id": 55343440, "body": "Randomly generated numbers. Will edit."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1447873655, "post_id": 33788239, "comment_id": 55343501, "body": "What do you mean by &quot;random constrained arrays&quot;? Are you talking about arrays with randomly-determined length?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1447873678, "post_id": 33788239, "comment_id": 55343512, "body": "What do you mean by a  &quot;random constrained array&quot;: does the adjective &quot;random&quot; apply to the word &quot;constrained&quot;, or &quot;array&quot; or to the (unsaid) &quot;contents&quot;."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447873783, "post_id": 33788239, "comment_id": 55343570, "body": "@bigcodeszzer Orthogonal query. Randomly generated numbers are in no way coupled to dynamic memory allocation. Your question is completely unclear and pepperd with a serious misconception  probably."}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1447873819, "post_id": 33788239, "comment_id": 55343591, "body": "You&#39;ll have to be way more specific, perhaps provide a code sample. If you&#39;re talking about the result of something like <code>rand()</code>, this doesn&#39;t fit the description since this is an r-value and there are no permanent resources allocated in the process."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447875272, "post_id": 33788239, "comment_id": 55344494, "body": "see edit with code snippet"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447875732, "post_id": 33788239, "comment_id": 55344774, "body": "The text creates a strong link between dynamic members and user input. My question is: since &#39;random&#39; and &#39;user input&#39; are both unknowable, are they not equivalent in terms of &#39;dynamic&#39; and thus /both/ resources?"}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447875831, "post_id": 33788239, "comment_id": 55344825, "body": "It&#39;s a terminology question."}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1447873561, "last_edit_date": 1592644375, "creation_date": 1447873561, "answer_id": 33788296, "question_id": 33788239, "link": "https://stackoverflow.com/questions/33788239/c-are-random-constrained-arrays-considered-resources/33788296#33788296", "title": "C++ | Are random constrained arrays considered resources?", "body": "<blockquote>\n<p>Memory that an object <strong>allocates</strong> at run-time represents a resource of that object's class.</p>\n</blockquote>\n<p>The key word is &quot;to allocate&quot;. Random values are <em>generated</em> at runtime, but it's up to you how you store them (perhaps allocating memory, perhaps not).</p>\n<h3>Generation doesn't imply Allocation.</h3>\n"}, {"comments": [{"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447878557, "post_id": 33789688, "comment_id": 55346524, "body": "So then in the case of the random size array in my example, would the array be considered a resource? It is allocated dynamically."}, {"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447878605, "post_id": 33789688, "comment_id": 55346554, "body": "Comment repost ---&gt;The text creates a strong link between dynamic members and user input. My question is: since &#39;random&#39; and &#39;user input&#39; are both unknowable, are they not equivalent in terms of &#39;dynamic&#39; and thus /both/ resources?"}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1447879898, "post_id": 33789688, "comment_id": 55347243, "body": "Yes, so in my take of it, neither random bits nor user input are a &quot;resource&quot;. Typically, user input has a variable size, and has to be held in dynamic memory. But then that memory is the resource, not the user input itself. To make it concrete -- suppose I&#39;m making a struct that I use to hold command line arguments to my program. The struct might have a bunch of members of type <code>std::string</code>. The struct itself is not a resource, and does not need a dtor, even though it represents user input. But each string is a resource, and its implementation satisfies the rule of three."}], "tags": [], "owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "is_accepted": true, "score": 1, "last_activity_date": 1447878334, "creation_date": 1447878334, "answer_id": 33789688, "question_id": 33788239, "link": "https://stackoverflow.com/questions/33788239/c-are-random-constrained-arrays-considered-resources/33789688#33789688", "title": "C++ | Are random constrained arrays considered resources?", "body": "<p>In C++ the word 'resource' has a specific meaning, in relation to the idiom \"resource acquisition is initialization\", which I assume is what you are learning about and what the question is really asking.</p>\n\n<p>In simple terms, a resource is something that, after you acquire it, you have to clean it up / release it. Meaning, put it back where you found it, return it to the system, etc., and typically because, someone else (some other program) might want to use it soon. It could be a piece of hardware, like a device, maybe a printer. It could be, a software construct, like a lock used in threading. Or it could be simply memory.</p>\n\n<p>When you get random bits from a function like <code>rand</code>, you don't need to give them back to anyone or anything, and no one else is going to use them after you are done with them. You can just forget about them afterwards. So they should not be considered a resource for purposes of this idiom, or the rule of three, etc. If the random bits are passed around via heap-allocated memory, then that is a resource that might need to be freed. But I would say in that case that the random bits are not the resource, only the memory that contains them is.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5557171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddf58bb434ba2cf5f3b25759c6a98b33?s=128&d=identicon&r=PG&f=1", "display_name": "Orion", "link": "https://stackoverflow.com/users/5557171/orion"}, "is_accepted": false, "score": 0, "last_activity_date": 1447879991, "creation_date": 1447879991, "answer_id": 33790128, "question_id": 33788239, "link": "https://stackoverflow.com/questions/33788239/c-are-random-constrained-arrays-considered-resources/33790128#33790128", "title": "C++ | Are random constrained arrays considered resources?", "body": "<p>Yes, all memory used whether allocated dynamically or statically is a resource.  For your example above, you need to deallocate the memory allocated for your array.  And as for the copy constructor and assignment operator yes, unless you want the default behavior of those which would NOT handle the dynamic memory in the array, assuming it had been allocated before use of the copy constructor or assignment operator because you don't allocate it in a constructor.  </p>\n"}], "owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33789688, "answer_count": 3, "score": -2, "last_activity_date": 1447879991, "creation_date": 1447873387, "last_edit_date": 1447876012, "question_id": 33788239, "link": "https://stackoverflow.com/questions/33788239/c-are-random-constrained-arrays-considered-resources", "title": "C++ | Are random constrained arrays considered resources?", "body": "<p>I am taking a class on C++. In our text is says:</p>\n\n<blockquote>\n  <p>Memory that an object allocates at run-time represents a resource of that object's class. </p>\n</blockquote>\n\n<p>If an array has a random length, is it considered a resource and thus require a copy constructor/assignment operator?</p>\n\n<pre><code>class someclass{\n\n\n    public :\n        int length;\n        int* randomarray;\n\n};\n\nint main(){\n\n    someclass obj;\n\n    obj.length = rand() % 50 + 1;\n\n    obj.randomarray = new int[obj.length];\n\n    return 0;\n\n}\n</code></pre>\n\n<p>Edit>> \nThis is a <em>terminology</em> question.</p>\n"}, {"tags": ["c++", "exe", "turbo-c++"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 11, "creation_date": 1447872783, "post_id": 33788009, "comment_id": 55342953, "body": "Please don&#39;t use Turbo C++. C++ has changed dramatically since the release of that compiler, and you won&#39;t be learning any kind of modern C++."}, {"owner": {"reputation": 55767, "user_id": 219159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cxM6H.jpg?s=128&g=1", "display_name": "Seva Alekseyev", "link": "https://stackoverflow.com/users/219159/seva-alekseyev"}, "edited": false, "score": 3, "creation_date": 1447872856, "post_id": 33788009, "comment_id": 55343004, "body": "It&#39;s a DOS executable. Most modern versions of Windows don&#39;t support running those. Please consider a C++ compiler that&#39;s not 20 years old. Visual Studio Community Edition is free and quite good."}, {"owner": {"reputation": 15695, "user_id": 682404, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxO2o.png?s=128&g=1", "display_name": "xxbbcc", "link": "https://stackoverflow.com/users/682404/xxbbcc"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 2, "creation_date": 1447873142, "post_id": 33788009, "comment_id": 55343203, "body": "@crashmstr&#39;s advice is good and you should follow it. However, you can run this .exe under DosBox if you really want to. Use a more modern C++ compiler to learn, though."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 2, "creation_date": 1447874074, "post_id": 33788009, "comment_id": 55343747, "body": "I don&#39;t quite understand the downvotes on this one. The question is clear, answer is short, it&#39;s definitely on topic etc. Is it because some want to punish people who admit using Turbo C++ (usually because forced by their school or something like that)?"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447874384, "post_id": 33788009, "comment_id": 55343937, "body": "Btw, I wonder if someone knows how Turbo C++ itself runs the .exe. Does the whole thing run in DOSBOX or something? ag_dhruv, you might want to check the shortcut (or bat file or whatever) for the IDE, and see if you can <i>copy it</i>, and modify the copy to run your exe, if you want to be able to start the .exe from Windows directly."}, {"owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "reply_to_user": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447874537, "post_id": 33788009, "comment_id": 55344039, "body": "@hyde: It still can be executed in x86 OS."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "reply_to_user": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "edited": false, "score": 0, "creation_date": 1447874617, "post_id": 33788009, "comment_id": 55344075, "body": "@Mykola As I understand the question, the IDE itself, and the program running under the IDE, are being executed in the same machine, where directly running the program .exe doesn&#39;t work."}, {"owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "reply_to_user": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447874730, "post_id": 33788009, "comment_id": 55344158, "body": "@hyde: I think OP created executable on x86 OS or something like this.... Who knows?"}, {"owner": {"reputation": 485, "user_id": 5107216, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9928908b9e2a055fd25cf15a55ea6626?s=128&d=identicon&r=PG&f=1", "display_name": "agdhruv", "link": "https://stackoverflow.com/users/5107216/agdhruv"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1447874898, "post_id": 33788009, "comment_id": 55344271, "body": "@crashmstr Thank you so much for your suggestion. As has been correctly pointed out, I am forced to use Turbo C++ because that&#39;s what our school teaches us C++ in. Anyhow, I will sincerely consider your advice."}, {"owner": {"reputation": 485, "user_id": 5107216, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9928908b9e2a055fd25cf15a55ea6626?s=128&d=identicon&r=PG&f=1", "display_name": "agdhruv", "link": "https://stackoverflow.com/users/5107216/agdhruv"}, "reply_to_user": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447875018, "post_id": 33788009, "comment_id": 55344343, "body": "@hyde how do I modify the copy?"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447875097, "post_id": 33788009, "comment_id": 55344399, "body": "Shortcuts can be edited by right clicking for context menu, then selecting Properties from there. Bat files and such can be edited with text editor."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1447878583, "post_id": 33788009, "comment_id": 55346542, "body": "@ag_dhruv I learned C++ with Turbo C++, but that was close to 25 years ago. The standard has moved on but Turbo C++ has stood still. Plus, if your school <i>does</i> require it, then <i>they</i> should be where you go for support."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1447880214, "post_id": 33788009, "comment_id": 55347433, "body": "@ag_dhruv Turbo C++ is (arguably) fine for learning programming, and many programs written with it can be easily converted to compile on modern C++ compiler (except for screen manipulation or graphics). Just remember that &quot;good&quot; modern C++ is very different, and you can and should do many thing in a very different (shorter, safer, etc) way. You are being taught programming, not really C++."}], "answers": [{"tags": [], "owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "is_accepted": true, "score": 6, "last_activity_date": 1447873783, "last_edit_date": 1447873783, "creation_date": 1447873014, "answer_id": 33788131, "question_id": 33788009, "link": "https://stackoverflow.com/questions/33788009/how-to-run-exe-files-output-by-turbo-c/33788131#33788131", "title": "How to run .exe files output by Turbo C++?", "body": "<p>The OS on your PC probably is 64 bit. So the older 16 bit application would not run on it. I suggest you to use some virtual machine with installed OS DOS (or free <a href=\"http://www.dosbox.com/\" rel=\"nofollow\">DOSBOX</a> for example), or try to compile your program on more modern compiler. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11851519, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ba9959049fffe8245be2b43b1d22626a?s=128&d=identicon&r=PG", "display_name": "Kumar Gaurav", "link": "https://stackoverflow.com/users/11851519/kumar-gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1564393253, "creation_date": 1564393253, "answer_id": 57251076, "question_id": 33788009, "link": "https://stackoverflow.com/questions/33788009/how-to-run-exe-files-output-by-turbo-c/57251076#57251076", "title": "How to run .exe files output by Turbo C++?", "body": "<p>write \nsystem(\"PAUSE\");\nbefore return 0;</p>\n"}], "owner": {"reputation": 485, "user_id": 5107216, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9928908b9e2a055fd25cf15a55ea6626?s=128&d=identicon&r=PG&f=1", "display_name": "agdhruv", "link": "https://stackoverflow.com/users/5107216/agdhruv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4319, "favorite_count": 1, "accepted_answer_id": 33788131, "answer_count": 2, "score": 2, "last_activity_date": 1564393253, "creation_date": 1447872641, "question_id": 33788009, "link": "https://stackoverflow.com/questions/33788009/how-to-run-exe-files-output-by-turbo-c", "title": "How to run .exe files output by Turbo C++?", "body": "<p>I wrote a program in Turbo C++, and compiled it there. Everything was successful, and the program ran as expected. Now, I want to run the program as an exe file. I found the exe file in a separate folder named 'Source'. But whenever I try to run it, I get the error :<br><br>\"This app can't run on your PC. To find a version for your PC, check with the software publisher.\"<br><br> None of the exe files in that folder are working, although all the other softwares (like Photoshop) are opening fine.<br>\nCould someone help me please?</p>\n"}, {"tags": ["c++", "vector", "std"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1447872583, "post_id": 33787939, "comment_id": 55342808, "body": "use <code>std::end(entries)</code> instead of long expression calculating it"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 2, "creation_date": 1447873491, "post_id": 33787939, "comment_id": 55343399, "body": "this also works: <code>std::vector&lt;long&gt; vExample{0,1,2,10,11}</code>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1447873502, "post_id": 33787939, "comment_id": 55343408, "body": "If you can use Boost, <a href=\"http://www.boost.org/doc/libs/1_55_0/libs/range/doc/html/range/reference/adaptors/reference/strided.html\" rel=\"nofollow noreferrer\"><code>boost.strided</code></a> is all you need. That way you would not even have to actually reorder the vector, which might help performance."}], "answers": [{"comments": [{"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1447872743, "post_id": 33787965, "comment_id": 55342930, "body": "<code>stable_partition</code> works by doing swaps; would it become confused when the index of an element changes?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 2, "creation_date": 1447872871, "post_id": 33787965, "comment_id": 55343013, "body": "Can you give an example of this predicate?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1447873726, "post_id": 33787965, "comment_id": 55343536, "body": "This answer is quite incomplete, it is not at all clear how to do this with <code>stable_partition</code>."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1447877084, "post_id": 33787965, "comment_id": 55345650, "body": "Most important how to proof that <code>std::stable_partition</code> would work properly as just a test case or two is not enough. For example if it cannot allocate additional buffer behavior would change."}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1447922178, "post_id": 33787965, "comment_id": 55363493, "body": "@BenjaminLindley see my answer for the predicate. I am not proud of it but for the sake of the challenge I did it ..."}], "tags": [], "owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "is_accepted": false, "score": -1, "last_activity_date": 1447876904, "last_edit_date": 1447876904, "creation_date": 1447872458, "answer_id": 33787965, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c/33787965#33787965", "title": "Sort vector by even and odd indices. c++", "body": "<p>What you need is <a href=\"http://en.cppreference.com/w/cpp/algorithm/stable_partition\" rel=\"nofollow\">stable_partition</a>. Define a predicate which checks whether the index is even using modulo 2, and you are good to go.</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 4, "last_activity_date": 1447875180, "creation_date": 1447875180, "answer_id": 33788774, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c/33788774#33788774", "title": "Sort vector by even and odd indices. c++", "body": "<p>This is not one liner but pretty close:</p>\n\n<pre><code>long entries[] = {0,1,2,10,11}; // indices 0 1 2 3 4\nstd::vector&lt;long&gt; vExample;\nfor( bool flag : { true, false } ) {\n    auto cond = [&amp;flag]( long ) { flag = !flag; return !flag; };\n    std::copy_if( std::begin( entries ), std::end( entries ), std::back_inserter( vExample ), cond );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": false, "score": 2, "last_activity_date": 1447885217, "last_edit_date": 1447885217, "creation_date": 1447884814, "answer_id": 33791478, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c/33791478#33791478", "title": "Sort vector by even and odd indices. c++", "body": "<p>If you can use Boost, this is pretty concise:</p>\n\n<pre><code>#include &lt;boost/range/adaptor/strided.hpp&gt;\n#include &lt;boost/range/adaptor/sliced.hpp&gt;\n#include &lt;boost/range/algorithm_ext/push_back.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n    using namespace boost::adaptors;\n\n    std::vector&lt;int&gt; input {0,1,2,10,11};\n    std::vector&lt;int&gt; partitioned;\n\n    boost::push_back(partitioned, input | strided(2));\n    boost::push_back(partitioned, input | sliced(1, input.size()) | strided(2));\n\n    for (auto v : partitioned)\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>You can of course wrap that in a function to get a one liner in the calling code. <a href=\"http://coliru.stacked-crooked.com/a/36615708a4e180fa\" rel=\"nofollow\">Live</a></p>\n"}, {"tags": [], "owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "is_accepted": true, "score": 5, "last_activity_date": 1447924177, "last_edit_date": 1447924177, "creation_date": 1447922092, "answer_id": 33798767, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c/33798767#33798767", "title": "Sort vector by even and odd indices. c++", "body": "<p>I tried to do a real <em>one liner</em>:</p>\n\n<pre><code>  std::stable_partition(std::begin(input), std::end(input),\n                        [&amp;input](int const&amp; a){return 0==((&amp;a-&amp;input[0])%2);});\n</code></pre>\n\n<p>And here is the full program:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n  std::vector&lt;int&gt; input {0,1,2,10,11};\n\n  std::stable_partition(std::begin(input), std::end(input),\n                        [&amp;input](int const&amp; a){return 0==((&amp;a-&amp;input[0])%2);});\n\n  for (auto v : input)\n    std::cout &lt;&lt; v &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>Ok I know, it works for the sole reason that vector uses a contiguous array of items and the whole thing is dirty... But for that's a one liner as asked by the OP and it doesn't require anything extra like boost...</p>\n"}, {"comments": [{"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1542323445, "post_id": 53329061, "comment_id": 93538747, "body": "By the way, you can do <code>[flag = true]</code> and it will work with <code>mutable</code> AFAIK."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 1, "creation_date": 1542323531, "post_id": 53329061, "comment_id": 93538767, "body": "FWIW you could also omit the parameter name and just leave <code>(auto)</code> or the compiler might complain about an unused variable. Otherwise <code>[[maybe_unused]]</code> would work."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 1, "creation_date": 1542323868, "post_id": 53329061, "comment_id": 93538875, "body": "Last thing which is more of a preference, I&#39;d rather count and check for even-ness than setting a flag to it. This gives me this lambda function: <code>[index = 0](auto) mutable { return index++ % 2 == 0; }</code>"}], "tags": [], "owner": {"reputation": 5197, "user_id": 59775, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ef840b42249ae3f3ca8475a305599397?s=128&d=identicon&r=PG", "display_name": "celavek", "link": "https://stackoverflow.com/users/59775/celavek"}, "is_accepted": false, "score": 2, "last_activity_date": 1542322734, "creation_date": 1542322734, "answer_id": 53329061, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c/53329061#53329061", "title": "Sort vector by even and odd indices. c++", "body": "<p>I don't like the messy business of fiddling with the addresses that the accepted answer of @fjardon proposes. @Slava's suggestion is much better and combined with the OP's code gives something that works quite well:</p>\n\n<pre><code>int main() {\n   std::vector&lt;int&gt; vals {0,2,3,-3,8,-5,7,8};\n  bool flag = true;\n    std::stable_partition(begin(vals), end(vals), [&amp;flag] (auto el) mutable\n                          {\n                            // toggle flag, return previous value\n                            flag = !flag; return !flag;\n                          });\n    for (auto v : vals)\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n} \n\nOutput: 0 3 8 7 2 -3 -5 8\n</code></pre>\n"}], "owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1605, "favorite_count": 2, "accepted_answer_id": 33798767, "answer_count": 5, "score": 8, "last_activity_date": 1542322734, "creation_date": 1447872356, "question_id": 33787939, "link": "https://stackoverflow.com/questions/33787939/sort-vector-by-even-and-odd-indices-c", "title": "Sort vector by even and odd indices. c++", "body": "<p>Is there a one liner (or a simple loop-free) solution to sort a vector by its even and odd indices?\nExample:</p>\n\n<pre><code>long entries[] = {0,1,2,10,11}; // indices 0 1 2 3 4\nstd::vector&lt;long&gt; vExample(entries, entries + sizeof(entries) / sizeof(long) );\n\nvExample.sortEvenOdd(vExample.begin(),vExample.end()); // magic one liner I wish existed...\n\nfor (int i = 0; i &lt; vExample.size(); i++)\n{\n    std::cout &lt;&lt; vExample[i] &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>Now I'd like to have the following output:</p>\n\n<pre><code>0 2 11 1 10 // corresponding to indices 0 2 4 1 3\n</code></pre>\n"}, {"tags": ["c++", "opengl", "rotation"], "answers": [{"comments": [{"owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "edited": false, "score": 0, "creation_date": 1447875330, "post_id": 33787498, "comment_id": 55344531, "body": "Yeah, I also thought about it, but where I should add rotate and translate if I have only one push pop pair that&#39;s the question."}], "tags": [], "owner": {"reputation": 1, "user_id": 2044987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a598f01c282f7d343a3b25e86bc05ec6?s=128&d=identicon&r=PG", "display_name": "sisco_0", "link": "https://stackoverflow.com/users/2044987/sisco-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1447871017, "last_edit_date": 1495542190, "creation_date": 1447871017, "answer_id": 33787498, "question_id": 33787192, "link": "https://stackoverflow.com/questions/33787192/difficulty-with-orbiting-around-any-object-on-opengl-sceen/33787498#33787498", "title": "Difficulty with orbiting around any object on OpenGL sceen", "body": "<p><a href=\"https://stackoverflow.com/questions/287655/opengl-rotating-a-camera-around-a-point\">OpenGL rotating a camera around a point</a> Maybe that answer could help you. I think you have to: translate-rotate-translate.</p>\n"}, {"tags": [], "owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "is_accepted": false, "score": 1, "last_activity_date": 1447964825, "creation_date": 1447964825, "answer_id": 33813747, "question_id": 33787192, "link": "https://stackoverflow.com/questions/33787192/difficulty-with-orbiting-around-any-object-on-opengl-sceen/33813747#33813747", "title": "Difficulty with orbiting around any object on OpenGL sceen", "body": "<p>After many changes and ideas I've finally figured out the proper way to achieve what I was looking for. It turned out that I needed to switch order of translations:</p>\n\n<pre><code>glPushMatrix();\nglTranslatef(0, translate[1], translate[2]);\nglRotatef(rot, 0.0, 1.0, 0.0);\nglTranslatef(translate[0], 0,0);\nglColor3f(1.0,0.0,0.0);\nfig.DrawBox(5.0f,5.0f,-5.0f,-5.0f,5.0f,-5.0f);\nglPopMatrix();\n\nglPushMatrix();\nglTranslatef(0, translate[1], translate[2]);\nglRotatef(rot, 0.0, 1.0, 0.0);\nglTranslatef(translate[0],0,0);\n\n    glPushMatrix();\n        glPushMatrix();\n        glTranslatef(2,0,0);\n        glColor3f(0.0,1.0,1.0);\n        fig.DrawBox(1.5f,1.5f,-1.5f,-1.5f,1.5f,-1.5f);\n        glPopMatrix();\n\n        glPushMatrix();\n        glTranslatef(-4, 1.5, 0);\n        glColor3f(1.0,0.0,1.0);\n        fig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\n        glPopMatrix();\n\n        glPushMatrix();\n        glTranslatef(-1, -0.5, 0);\n        glColor3f(0.0,0.0,1.0);\n        fig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\n        glPopMatrix();\n    glPopMatrix();\nglPopMatrix();\n</code></pre>\n\n<p>Now the rotation point is exactly in front of me no matter where the camera is.</p>\n"}], "owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447964825, "creation_date": 1447870023, "last_edit_date": 1447886169, "question_id": 33787192, "link": "https://stackoverflow.com/questions/33787192/difficulty-with-orbiting-around-any-object-on-opengl-sceen", "title": "Difficulty with orbiting around any object on OpenGL sceen", "body": "<p>After reading a lot of guides about orbiting around camera and asking some additional question on SO I came up with <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> what I have so far. Maybe this way it will be easier for other to understand what I need and for me what is the answer.</p>\n\n<p>So far it looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uhrXT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhrXT.gif\" alt=\"animation\"></a></p>\n\n<p>the code for drawing objects:</p>\n\n<pre><code>glPushMatrix();\nglTranslatef(translate[0], translate[1], translate[2]);\nglRotatef(rot, 0.0, 1.0, 0.0);\nglTranslatef(0,0,0);\nglColor3f(1.0,0.0,0.0);\nfig.DrawBox(5.0f,5.0f,-5.0f,-5.0f,5.0f,-5.0f);\nglPopMatrix();\n\nglPushMatrix();\nglTranslatef(translate[0], translate[1], translate[2]);\n\nglTranslatef(2,0,0);\nglRotatef(rot, 0.0, 1.0, 0.0);\nglTranslatef(0,0,0);\nglColor3f(0.0,1.0,1.0);\nfig.DrawBox(1.5f,1.5f,-1.5f,-1.5f,1.5f,-1.5f);\n\nglTranslatef(-4, 1.5, 0);\nglColor3f(1.0,0.0,1.0);\nfig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\n\nglTranslatef(4-1, 1.5-0.5, 0);\nglColor3f(0.0,0.0,1.0);\nfig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\nglPopMatrix();\n</code></pre>\n\n<p><code>translate</code> is position updated during navigation and <code>rot</code> is rotation.</p>\n\n<p>The red box is a main container and everything is inside it. 'Camera' can go outside of it, but during rotation it should rotate as well. As for the small boxes I'd like to be able to orbit around each one of them. So far I can orbit around this green one, but when I move to purple then it doesn't work.</p>\n\n<p>In my final app I will have hundreds of objects so I am not sure if current method of using only one <code>glPushMatrix()</code> <code>glPopMatrix()</code> is the best idea (I am concerned about proper placing them), but when I am using push pop for every object then each one rotates by it's own pivot point.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I've been working on my code and I managed to achieve something more then before. Although it's still not exactly what I'm looking for.</p>\n\n<p>My code:</p>\n\n<pre><code>glPushMatrix();\nglTranslatef(translate[0], translate[1], translate[2]);\nglRotatef(rot, 0.0, 1.0, 0.0);\nglTranslatef(0,0,0);\nglColor3f(1.0,0.0,0.0);\nfig.DrawBox(5.0f,5.0f,-5.0f,-5.0f,5.0f,-5.0f);\nglPopMatrix();\n\nglPushMatrix();\nglTranslatef(translate[0], translate[1], translate[2]);\n    glRotatef(-rot, 0.0, 1.0, 0.0);\n    glTranslatef(4,0,0);\n    glPushMatrix();\n\n        glPushMatrix();\n        glTranslatef(2,0,0);\n        glColor3f(0.0,1.0,1.0);\n        fig.DrawBox(1.5f,1.5f,-1.5f,-1.5f,1.5f,-1.5f);\n        glPopMatrix();\n\n        glPushMatrix();\n        glTranslatef(-4, 1.5, 0);\n        glColor3f(1.0,0.0,1.0);\n        fig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\n        glPopMatrix();\n\n        glPushMatrix();\n        glTranslatef(-1, -0.5, 0);\n        glColor3f(0.0,0.0,1.0);\n        fig.DrawBox(0.5f,0.5f,-0.5f,-0.5f,0.5f,-0.5f);\n        glPopMatrix();\n\n    glPopMatrix();\nglPopMatrix();\n</code></pre>\n\n<p>And how it looks now:\n<a href=\"https://i.stack.imgur.com/waFVZ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/waFVZ.gif\" alt=\"enter image description here\"></a></p>\n\n<p>so as you can see, I was able to move rotation point, but at the same time I've moved whole group inside box. And I don't want to do that.</p>\n"}, {"tags": ["c++", "search", "dictionary", "stl"], "comments": [{"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 3, "creation_date": 1447870236, "post_id": 33787064, "comment_id": 55341402, "body": "That&#39;s what maps are for dude."}], "answers": [{"tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": false, "score": 0, "last_activity_date": 1447870388, "last_edit_date": 1495542190, "creation_date": 1447870388, "answer_id": 33787311, "question_id": 33787064, "link": "https://stackoverflow.com/questions/33787064/searching-an-element-by-a-key-value-in-stl-map/33787311#33787311", "title": "Searching an element by a key value in STL map", "body": "<p><code>std::map</code> is <a href=\"https://stackoverflow.com/questions/5288320/why-is-stdmap-implemented-as-a-red-black-tree\">implemented as a R-B Binary Tree</a>, so <code>find</code> is O(logN). There's no way to make this \"more efficient\". Searching by iteration is O(N) and incredibly inefficient, completely defeating the point of using a <code>std::map</code> in the first place.</p>\n\n<p>I recommend you look up what a <code>std::map</code> is and how it compares to something like a <code>std::vector</code>.</p>\n"}], "owner": {"reputation": 7, "user_id": 5082727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8129aaa5e2a1f9b8afb48b5afe1c88d?s=128&d=identicon&r=PG&f=1", "display_name": "kirtashek", "link": "https://stackoverflow.com/users/5082727/kirtashek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "closed_date": 1447870563, "answer_count": 1, "score": -2, "last_activity_date": 1447870388, "creation_date": 1447869601, "last_edit_date": 1447870000, "question_id": 33787064, "link": "https://stackoverflow.com/questions/33787064/searching-an-element-by-a-key-value-in-stl-map", "closed_reason": "Duplicate", "title": "Searching an element by a key value in STL map", "body": "<p>Is it necessary to do a loop (with the related iterators) to search an element in a STL map? Or does it work with .find(key_value) STL method?</p>\n\n<p>If I could do both ways I suppose that .find method it works more efficient, could you also confirm it? </p>\n\n<p>For example:</p>\n\n<p>1.Doing this by a loop:</p>\n\n<pre><code>map&lt;string,User&gt; mapUser;\nmap&lt;string,User&gt;::iterator it=mapUser.begin(); \nwhile(it != mapUser.end()){\n  if(it-&gt;first == ID){\n      //ID found\n  }\n  ++it;\n}\n</code></pre>\n\n<p>2.Doing this by .find(key_value):</p>\n\n<pre><code>map&lt;string,User&gt; mapUser;\nmap&lt;string,User&gt;::iterator it=mapUser.find(ID); \n    if(it != mapUser.end()){   \n          // ... ID found (there is a key value in STL map equal to ID)\n    }else\n          // ID not found\n</code></pre>\n"}, {"tags": ["c++", "function", "class"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1447869378, "post_id": 33786949, "comment_id": 55340906, "body": "Could you reduce this to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and be more specific what&#39;s actually going wrong please."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447869457, "post_id": 33787001, "comment_id": 55340955, "body": "const reference for unmodified objects."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447869586, "post_id": 33787001, "comment_id": 55341032, "body": "I didn&#39;t read the posted code carefully enough to see whether any of the passed objects were supposed to be never modified by the function.  Any that were never modified would work correctly when passed by value, but would be better passed by <code>const&amp;</code>"}], "tags": [], "owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "is_accepted": false, "score": 1, "last_activity_date": 1447870728, "last_edit_date": 1447870728, "creation_date": 1447869369, "answer_id": 33787001, "question_id": 33786949, "link": "https://stackoverflow.com/questions/33786949/c-function-setting-class-varaibles-not-keeping-the-new-set-value/33787001#33787001", "title": "c++ function setting class varaibles, not keeping the new set value.", "body": "<p>You passed objects by value into the function but you wanted to make lasting changes to those objects.  C++ doesn't work that way for pass by value.</p>\n\n<p>So you should have passed by reference:</p>\n\n<pre><code>void playerCombat(Hero&amp; hero, Enemy&amp; enemy, Item&amp; heroWeapon, Item&amp; enemyWeapon, Item&amp; heroArmor, Item&amp; enemyArmor)\n</code></pre>\n\n<p>Similarly for all of the other functions that are supposed to modify the objects passed to them.</p>\n\n<p>I showed suggested edits to the \"signature\" line of playerCombat.  Fix the signature lines of every function:</p>\n\n<p>If you pass an object that will be modified inside the function and you <strong>DON'T</strong> want those modifications to affect the original (you want the modifications to only last during the execution of the function) pass by value, such as <code>Hero hero</code></p>\n\n<p>If you pass an object that will be modified inside the function and you want those modifications to affect the original pass by reference, such as <code>Hero&amp; hero</code></p>\n\n<p>If you pass an object that will <strong>NOT</strong> be modified inside the function, it is usually best to pass by const reference, such as <code>Hero const&amp; hero</code></p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 5530717, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/917639021605927/picture?type=large", "display_name": "Hayden Gfeller", "link": "https://stackoverflow.com/users/5530717/hayden-gfeller"}, "edited": false, "score": 0, "creation_date": 1447870416, "post_id": 33787051, "comment_id": 55341502, "body": "So that means I&#39;ll have to go into my classes and overload the &amp; operator?"}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 1, "creation_date": 1447870640, "post_id": 33787051, "comment_id": 55341635, "body": "Unless you have a very bizarre meaning for your use of the word &quot;overload&quot;, the three (basically identical) answers you got <b>DO NOT</b> mean that.  Just look at where the <code>&amp;</code>s were added in the signature of those functions and add <code>&amp;</code>s in function signatures that way for every object for which you want modifications made inside the function to affect the original object."}], "tags": [], "owner": {"reputation": 656, "user_id": 5573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e322915baddd645b3ca4c9205f25ba?s=128&d=identicon&r=PG&f=1", "display_name": "Yuriy Orlov", "link": "https://stackoverflow.com/users/5573683/yuriy-orlov"}, "is_accepted": false, "score": 0, "last_activity_date": 1447869547, "creation_date": 1447869547, "answer_id": 33787051, "question_id": 33786949, "link": "https://stackoverflow.com/questions/33786949/c-function-setting-class-varaibles-not-keeping-the-new-set-value/33787051#33787051", "title": "c++ function setting class varaibles, not keeping the new set value.", "body": "<p>You pass variables to function by value, actually in function you work with copies of them. You need pass variables by reference, like</p>\n\n<pre><code>void playerCombat(Hero &amp;hero, Enemy &amp;enemy, Item &amp;heroWeapon, Item &amp;enemyWeapon, Item &amp;heroArmor, Item &amp;enemyArmor)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5530717, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/917639021605927/picture?type=large", "display_name": "Hayden Gfeller", "link": "https://stackoverflow.com/users/5530717/hayden-gfeller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1447870728, "creation_date": 1447869147, "question_id": 33786949, "link": "https://stackoverflow.com/questions/33786949/c-function-setting-class-varaibles-not-keeping-the-new-set-value", "title": "c++ function setting class varaibles, not keeping the new set value.", "body": "<p>I am making a game, and I am having a problem with making sure that the class value that is being set, stays set and does not return to what the constructor standard value is. I tried looking for something related to my problem, but I did not find one, so I apologize if this is a repeat. </p>\n\n<pre><code>void playerCombat(Hero hero, Enemy enemy, Item heroWeapon, Item enemyWeapon, Item heroArmor, Item enemyArmor)\n{\nint hp = 0;\n\nint damage = 0;\n\nif (heroWeapon.getType() == \"Slice\" &amp;&amp; enemyArmor.getType() == \"Light\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * 2);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \" missed.\" &lt;&lt; endl;\n    }\n}\nelse if (heroWeapon.getType() == \"Stab\" &amp;&amp; enemyArmor.getType() == \"Medium\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * 2);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \" missed.\" &lt;&lt; endl;\n    }\n}\nelse if (heroWeapon.getType() == \"Blunt\" &amp;&amp; enemyArmor.getType() == \"Heavy\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * 2);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \" missed.\" &lt;&lt; endl;\n    }\n}\nelse if (heroWeapon.getType() == \"Sword\" &amp;&amp; enemyArmor.getType() == \"Medium\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * .5);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \"'s weapon was ineffective.\" &lt;&lt; endl;\n    }\n}\nelse if (heroWeapon.getType() == \"Stab\" &amp;&amp; enemyArmor.getType() == \"Heavy\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * .5);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \"'s weapon was ineffective.\" &lt;&lt; endl;\n    }\n}\nelse if (heroWeapon.getType() == \"Blunt\" &amp;&amp; enemyArmor.getType() == \"Light\")\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack() * .5);\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \" missed.\" &lt;&lt; endl;\n    }\n}\nelse\n{\n    damage = -enemyArmor.getDefense() - enemy.getDefense() + (rand() % 20 + 1) + (hero.getAttack());\n\n    if (damage &gt; 0)\n    {\n        hp = (enemy.getHP() - damage);\n        enemy.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; hero.getName() &lt;&lt; \"'s weapon was ineffective.\" &lt;&lt; endl;\n    }\n}\ncout &lt;&lt; hero.getName() &lt;&lt; \" deals \" &lt;&lt; damage &lt;&lt; \" points of damage to \" &lt;&lt; enemy.getName() &lt;&lt; \".\" &lt;&lt; endl;\ncout &lt;&lt; enemy.getName() &lt;&lt; \" has \" &lt;&lt; enemy.getHP() &lt;&lt; \" out of \" &lt;&lt; enemy.getMaxHp() &lt;&lt; \".\" &lt;&lt; endl;\ncout &lt;&lt; hero.getName() &lt;&lt; \" has \" &lt;&lt; hero.getHP() &lt;&lt; \" out of \" &lt;&lt; hero.getMaxHp() &lt;&lt; \".\" &lt;&lt; endl;\nsystem(\"pause\");\n\n\n}\n\nvoid enemyCombat(Hero hero, Enemy enemy, Item heroWeapon, Item enemyWeapon, Item heroArmor, Item enemyArmor)\n{\nint hp = 0;\nint damage = 0;\n\n\nif (enemyWeapon.getType() == \"Slice\" &amp;&amp; heroArmor.getType() == \"Light\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * 2) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \" missed\" &lt;&lt; endl;\n    }\n}\nelse if (enemyWeapon.getType() == \"Stab\" &amp;&amp; heroArmor.getType() == \"Medium\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * 2) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \" missed\" &lt;&lt; endl;\n    }\n}\nelse if (enemyWeapon.getType() == \"Blunt\" &amp;&amp; heroArmor.getType() == \"Heavy\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * 2) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \" missed\" &lt;&lt; endl;\n    }\n}\nelse if (enemyWeapon.getType() == \"Sword\" &amp;&amp; heroArmor.getType() == \"Medium\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * .5) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \"'s attack was ineffective.\" &lt;&lt; endl;\n    }\n}\nelse if (enemyWeapon.getType() == \"Stab\" &amp;&amp; heroArmor.getType() == \"Heavy\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * .5) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \"'s attack was ineffective.\" &lt;&lt; endl;\n    }\n}\nelse if (enemyWeapon.getType() == \"Blunt\" &amp;&amp; heroArmor.getType() == \"Light\")\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack() * .5) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \"'s attack was ineffective.\" &lt;&lt; endl;\n    }\n}\nelse\n{\n    damage = (rand() % 20 + 1) + (enemy.getAttack()) - enemyArmor.getDefense() - enemy.getDefense();\n\n    if (damage &gt; 0)\n    {\n        hp = (hero.getHP() - damage);\n        hero.setHp(hp);\n    }\n    else\n    {\n        damage = 0;\n        cout &lt;&lt; enemy.getName() &lt;&lt; \"' missed.\" &lt;&lt; endl;\n    }\n}\ncout &lt;&lt; enemy.getName() &lt;&lt; \" deals \" &lt;&lt; damage &lt;&lt; \" points of damage to \" &lt;&lt; hero.getName() &lt;&lt; \".\" &lt;&lt; endl;\ncout &lt;&lt; enemy.getName() &lt;&lt; \" has \" &lt;&lt; enemy.getHP() &lt;&lt; \" out of \" &lt;&lt; enemy.getMaxHp() &lt;&lt; \".\" &lt;&lt; endl;\ncout &lt;&lt; hero.getName() &lt;&lt; \" has \" &lt;&lt; hero.getHP() &lt;&lt; \" out of \" &lt;&lt; hero.getMaxHp() &lt;&lt; \".\" &lt;&lt; endl;\nsystem(\"pause\");\n\n\n}\n\nvoid combat(Hero hero, Enemy enemy, Item heroWeapon, Item enemyWeapon, Item heroArmor, Item enemyArmor)\n {\n\n\n\nif (hero.getSpeed() &gt; enemy.getSpeed())\n{\n    playerCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n    enemyCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n}\nelse if (hero.getSpeed() &lt; enemy.getSpeed())\n{\n    playerCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n    enemyCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n}\nelse\n{\n    if ((rand() % 2 + 1) == 1)\n    {\n        playerCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n        enemyCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n    }\n    else\n    {\n        playerCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n\n        enemyCombat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n    }\n    cout &lt;&lt; hero.getHP() &lt;&lt; endl &lt;&lt; enemy.getHP() &lt;&lt; endl;\n}\nif (enemy.getHP() &lt; 0)\n{\n    cout &lt;&lt; \"You lose!\";\n}\nelse if (hero.getHP() &lt; 0)\n{\n    cout &lt;&lt; \"You win!\";\n}\nelse\n{\n    combat(hero, enemy, heroWeapon, enemyWeapon, heroArmor, enemyArmor);\n}\n}\n</code></pre>\n\n<p>For some reason after the functions for the specific character combat ends, it does not retain the new HP value, and simply resets it back their full hp (in this case 100)</p>\n"}, {"tags": ["c++", "nan", "pow"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1447869285, "post_id": 33786940, "comment_id": 55340860, "body": "That&#39;s NaN and fine. It&#39;s like division by zero. What result did you expect? :)"}, {"owner": {"reputation": 27758, "user_id": 717732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YCxg1.png?s=128&g=1", "display_name": "quetzalcoatl", "link": "https://stackoverflow.com/users/717732/quetzalcoatl"}, "edited": false, "score": 0, "creation_date": 1447869585, "post_id": 33786940, "comment_id": 55341033, "body": "That&#39;s pure math, see <a href=\"https://en.wikipedia.org/wiki/Exponentiation#Rational_exponents\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Exponentiation#Rational_exponents</a> and move along.. erm, I mean, check those -0.8 and 1.5 params, it&#39;s highly probable that one of them is wrong (out of your model&#39;s domain)"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1447869839, "post_id": 33786940, "comment_id": 55341179, "body": "Maybe you meant to use the <code>std::abs(.)</code> for the first argument?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5577830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5afaaa1eeb2ffaee85b7b78ab6a2cb10?s=128&d=identicon&r=PG&f=1", "display_name": "Dietmar", "link": "https://stackoverflow.com/users/5577830/dietmar"}, "edited": false, "score": 0, "creation_date": 1447869539, "post_id": 33786983, "comment_id": 55341014, "body": "oh okay thanks ... I was not aware of that! I&#39;m working with real numbers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user824425"}, "edited": false, "score": 0, "creation_date": 1447870183, "post_id": 33786983, "comment_id": 55341373, "body": "Though this is otherwise a good answer, I strongly oppose to equating <code>sqrt(-x) = i * sqrt(x)</code>. <a href=\"http://math.stackexchange.com/a/144404/44190\">I&#39;m not alone in this.</a>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1447870300, "post_id": 33786983, "comment_id": 55341441, "body": "@Rhymoid Yeah, I simplified for programmers. I added a remark, but the point stands."}], "tags": [], "owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": true, "score": 14, "last_activity_date": 1447870259, "last_edit_date": 1447870259, "creation_date": 1447869288, "answer_id": 33786983, "question_id": 33786940, "link": "https://stackoverflow.com/questions/33786940/pow-0-857487-1-5-returns-nan-alternatives/33786983#33786983", "title": "pow(-0.857487, 1.5) returns NaN - Alternatives?", "body": "<p>The problem at hand is not any kind of overflow, but that the result of <code>pow(-0.857487, 1.5) = -0.857487 ^ 3/2 = sqrt(-0.857487)^3 = -0.794038... i</code> (simplified demonstration math) is not a real number.</p>\n\n<p>In general, <code>pow(a,b)</code> does not exist in the real numbers for negative <code>a</code> and non-integer <code>b</code>. For positive <code>a</code> however, <code>pow(a,b)</code> always exists and is real, so if you work with real numbers only, you probably want something like <code>pow(abs(a),b)</code>.</p>\n\n<p>If complex arithmetic is actually what you want, you can use <code>std::complex</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;complex&gt;\n\nint main () {\n    std::complex&lt;double&gt; d = -0.857487;\n    std::cout &lt;&lt; std::pow(d, 1.5);\n}\n</code></pre>\n\n<p>Output: <code>(-1.45862e-16,-0.794038)</code>. See it <a href=\"http://coliru.stacked-crooked.com/a/997b80cb3d9a4439\" rel=\"noreferrer\">live</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 2, "creation_date": 1447870054, "post_id": 33787112, "comment_id": 55341302, "body": "That&#39;s a rather roundabout was to get <code>pow(abs(a),b)</code>.  If you want <code>pow(abs(a),b)</code> then code it in the more obvious way.  If you want <code>pow(a,b)</code> and not <code>pow(abs(a),b)</code> don&#39;t use tricks to pretend some wrong answer is right."}, {"owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "reply_to_user": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1447870646, "post_id": 33787112, "comment_id": 55341639, "body": "@JSF Agreed, I would certainly go for <code>pow(abs(a),b)</code> if I had to code this. I was not so much focusing on the code, but rather on the concept that such an operation is not defined because <code>3&#47;2</code> and <code>6&#47;4</code> should be the same number, but using the former or the latter leads to completely different results."}, {"owner": {"reputation": 5146, "user_id": 5089383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4d483ecc01086edbc775bd770c66b5e4?s=128&d=identicon&r=PG&f=1", "display_name": "JSF", "link": "https://stackoverflow.com/users/5089383/jsf"}, "edited": false, "score": 0, "creation_date": 1447871353, "post_id": 33787112, "comment_id": 55342039, "body": "I think 3/2 and 6/4 are the same for this.  <code>pow(x,3.&#47;2)</code> and <code>pow(x,6.&#47;4)</code> are the same and in algebra (but not exactly in floating point) <code>pow(pow(x,1.&#47;4),6)</code> is still the same (similar point to the earlier answer).  But you are implying <code>pow(pow(x,6),1.&#47;4)</code> should also be the same and that goes too far."}], "tags": [], "owner": {"reputation": 3761, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1447869733, "last_edit_date": 1495541871, "creation_date": 1447869733, "answer_id": 33787112, "question_id": 33786940, "link": "https://stackoverflow.com/questions/33786940/pow-0-857487-1-5-returns-nan-alternatives/33787112#33787112", "title": "pow(-0.857487, 1.5) returns NaN - Alternatives?", "body": "<p><a href=\"https://stackoverflow.com/a/33786983/3982001\">Baum mit Augen's answer</a> is excellent, I would just like to add that there is a sort of dirty trick to have the maths work.</p>\n\n<p>The problem is that you want to raise a negative number to the <code>1.5</code><sup>th</sup> power, that is <code>3/2</code>, and the negative sign will be kept when raising to the <code>3</code><sup>rd</sup> power, and then you have a square root of a negative number which is not real. A \"workaround\" is that you can write <code>1.5</code> not as <code>3/2</code> but as <code>6/4</code>. This way the exponent <code>6</code> is even (unlike <code>3</code>) and it will make your number positive, and then the root is real. This is, however, equivalent to making your number positive before you try to raise it to <code>1.5</code>.</p>\n\n<p>It might, or it might not, be useful. As I said, this is a dirty trick, and one of the reasons that this operation (non-integer power of a negative number) is not even defined.</p>\n"}], "owner": {"reputation": 13, "user_id": 5577830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5afaaa1eeb2ffaee85b7b78ab6a2cb10?s=128&d=identicon&r=PG&f=1", "display_name": "Dietmar", "link": "https://stackoverflow.com/users/5577830/dietmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 33786983, "answer_count": 2, "score": 1, "last_activity_date": 1447870259, "creation_date": 1447869101, "last_edit_date": 1447869499, "question_id": 33786940, "link": "https://stackoverflow.com/questions/33786940/pow-0-857487-1-5-returns-nan-alternatives", "title": "pow(-0.857487, 1.5) returns NaN - Alternatives?", "body": "<p>in C++, when I try <code>pow(-0.857487, 1.5)</code> it returns nan. I found out this is due to an overflow. </p>\n\n<p>Is there any alternative to math.pow() or any other way to calculate this value?</p>\n"}, {"tags": ["c++", "string", "templates", "stdstring", "policy-based-design"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1447869016, "post_id": 33786819, "comment_id": 55340708, "body": "You could use a <a href=\"http://en.cppreference.com/w/cpp/experimental/polymorphic_allocator\" rel=\"nofollow noreferrer\"><code>std::experimental::polymorphic_allocator</code></a> if you need runtime polymorphic allocator support."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1447869876, "post_id": 33786819, "comment_id": 55341195, "body": "You could avoid some problems and inevitably create some others. It&#39;s a trade off."}], "answers": [{"comments": [{"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "edited": false, "score": 0, "creation_date": 1447927383, "post_id": 33787197, "comment_id": 55367059, "body": "I see the drawback of a common base class. Then what about a common base class for the allocator, passed upon object construction when a different behaviour is wanted, so that the allocator is a polymorphic object owned by the instance in which is passed while the std::string is kept as it is? (P.S. I also would like to clarify that std::string is just an example, and that the question is more in general on policy based design, so if you like you can switch on talking about any container if you think it would made a better example)"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "edited": false, "score": 1, "creation_date": 1447937381, "post_id": 33787197, "comment_id": 55374156, "body": "Yes, that&#39;s exactly what <a href=\"http://en.cppreference.com/w/cpp/experimental/polymorphic_allocator\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/experimental/polymorphic_allocator</a> is (which you&#39;ve now been pointed to three times :-)"}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": true, "score": 6, "last_activity_date": 1447870491, "last_edit_date": 1447870491, "creation_date": 1447870037, "answer_id": 33787197, "question_id": 33786819, "link": "https://stackoverflow.com/questions/33786819/c-policy-based-design/33787197#33787197", "title": "C++ Policy Based Design", "body": "<blockquote>\n  <p>allocator are something very internal and, in my opinion, the code using that class shall not be aware of which allocator that class is using.</p>\n</blockquote>\n\n<p>Which is why usually you don't care, and just use <code>std::string</code>. Most code doesn't use custom allocators, so it simply isn't a problem.</p>\n\n<p>As Kerrek SB points out in a comment, you have the option of using <code>std::experimental::pmr::string</code> which uses a type-erased allocator, so the details of exactly what kind of allocator is used are hidden. That has some run-time cost, but also has some advantages.</p>\n\n<p>More generally, you're right that policy-based designs lead to an explosion of different types that don't interoperate. Sometimes that is a problem (and sometimes it isn't). One approach to dealing with that is to write generic code that doesn't care if it deals with <code>policy_base_ptr&lt;X, Y, Z&gt;</code> or <code>policy_based_ptr&lt;A, B, C&gt;</code>. Write generic code that uses \"some kind of smart pointer\" and you don't care about the exact type. That isn't always  an option though, for example when defining an interface, where you often need to use concrete types.</p>\n\n<blockquote>\n  <p>My question is: why there is not common parent for every <code>std::basic_string&lt;&gt;</code>, so that this problem could be avoided? Generally in my code when I have a <code>Whatever&lt;T&gt;</code>, I make it inherits from a <code>WhateverBase</code> of some sort, and when <code>T</code> is not shown on the public interface of that class, it works greatfully...</p>\n</blockquote>\n\n<p>That means your class is polymorphic, and code that only knows about the base class must pass it by reference. It cannot be passed by value because it will be sliced. That means you have to be careful about object ownership, and care about when the reference is still valid, and who is responsible for destroying the derived type.</p>\n\n<p>That is a perfectly reasonable choice for you to make in your own software, but is not suitable for a general purpose vocabulary type like <code>std::string</code>. It is essential that strings can be passed around by value and copied easily.</p>\n"}], "owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 33787197, "answer_count": 1, "score": 2, "last_activity_date": 1447870491, "creation_date": 1447868666, "last_edit_date": 1447869232, "question_id": 33786819, "link": "https://stackoverflow.com/questions/33786819/c-policy-based-design", "title": "C++ Policy Based Design", "body": "<p>What I do not understand in the Alexandrescu <strong>policy based design</strong> is the creation of new types without anything in common where, in my opinion, there is still a lot in common that should be represented somehow.</p>\n\n<p>For example, <code>std::string</code> and <code>std::basic_string&lt;&gt;</code>: allocator are something very internal and, in my opinion, the code using that class shall not be aware of which allocator that class is using.</p>\n\n<p>BUT since a new type has been created, let's say <code>std::basic_string_1</code>, all those methods which are passing around an <code>std::string&amp;</code> are basically broken, and I can't see a valid reason why an <code>std::basic_string&lt;&gt;</code> with a different allocator shall be considered totally different from an <code>std::basic_string&lt;&gt;</code> with another allocator.</p>\n\n<p>My question is: why there is not common parent for every <code>std::basic_string&lt;&gt;</code>, so that this problem could be avoided? Generally in my code when I have a <code>Whatever&lt;T&gt;</code>, I make it inherits from a <code>WhateverBase</code> of some sort, and when <code>T</code> is not shown on the public interface of that class, it works greatfully...</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1447868412, "post_id": 33786688, "comment_id": 55340365, "body": "You keep getting <i>what</i> error?"}, {"owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1447868761, "post_id": 33786688, "comment_id": 55340560, "body": "I did an edit sorry about that"}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 1, "creation_date": 1447868944, "post_id": 33786688, "comment_id": 55340665, "body": "why include <code>Recette.h</code> in itself?"}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 0, "creation_date": 1447869039, "post_id": 33786688, "comment_id": 55340723, "body": "and you included <code>ListeRecettes.h</code> but you have <code>Recettes.h</code>"}, {"owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "edited": false, "score": 0, "creation_date": 1447869088, "post_id": 33786688, "comment_id": 55340757, "body": "Actually it was netbean who did the import for this one. But Recette is not the same thing, Recette.h is an other Class"}, {"owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "edited": false, "score": 0, "creation_date": 1447869232, "post_id": 33786688, "comment_id": 55340828, "body": "Because i did not correct the comment file name, The right file name is ListeRecettes .h and ListeRecettes .cpp"}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 0, "creation_date": 1447869384, "post_id": 33786688, "comment_id": 55340911, "body": "you also have to edit the .cpp file for example <code>void ListeRecettes::ajouterRecette</code>"}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 0, "creation_date": 1447869674, "post_id": 33786688, "comment_id": 55341084, "body": "you should add the return type in both Recette.h and Recette.cpp file"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "edited": false, "score": 0, "creation_date": 1447868961, "post_id": 33786840, "comment_id": 55340676, "body": "It does the same thing :S"}, {"owner": {"reputation": 5316, "user_id": 139794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9710024f56d35631fb6260e13c76586?s=128&d=identicon&r=PG", "display_name": "Darryl", "link": "https://stackoverflow.com/users/139794/darryl"}, "edited": false, "score": 1, "creation_date": 1447869537, "post_id": 33786840, "comment_id": 55341013, "body": "Update the cpp accordingly.  Add &quot;void&quot; to the beginning of method implementations in the cpp."}, {"owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "edited": false, "score": 0, "creation_date": 1447869949, "post_id": 33786840, "comment_id": 55341237, "body": "Thank you I now have some bug to correct."}], "tags": [], "owner": {"reputation": 493, "user_id": 3238101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFmVN.png?s=128&g=1", "display_name": "sandor", "link": "https://stackoverflow.com/users/3238101/sandor"}, "is_accepted": true, "score": 1, "last_activity_date": 1447868785, "creation_date": 1447868785, "answer_id": 33786840, "question_id": 33786688, "link": "https://stackoverflow.com/questions/33786688/c-header-and-cpp-file-fpermisive/33786840#33786840", "title": "C++ header and cpp file fpermisive", "body": "<p>Your signatures are definitely wrong.</p>\n\n<p>You have to define the return type every except for the constructor and the destructor.</p>\n\n<p>so something like this:</p>\n\n<pre><code>void ajouterRecette(const Recette&amp; recette);\nvoid enleverRecette(const Recette&amp; recette);\nvoid afficher();\n</code></pre>\n\n<p>Then update the cpp accordingly.</p>\n\n<p>Then you can post the errors!</p>\n"}], "owner": {"reputation": 9, "user_id": 5370690, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kqbkWQU_seM/AAAAAAAAAAI/AAAAAAAAAGo/-LQR0Tlg2tA/photo.jpg?sz=128", "display_name": "Julien Green", "link": "https://stackoverflow.com/users/5370690/julien-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1447877896, "accepted_answer_id": 33786840, "answer_count": 1, "score": -3, "last_activity_date": 1447871370, "creation_date": 1447868211, "last_edit_date": 1447869515, "question_id": 33786688, "link": "https://stackoverflow.com/questions/33786688/c-header-and-cpp-file-fpermisive", "closed_reason": "Not suitable for this site", "title": "C++ header and cpp file fpermisive", "body": "<p>I am really short on time and i can't figure out what I am doing wrong here. </p>\n\n<p>I am trying to link 3 class object together but I keep getting error for everything and i can't find any answer on the internet.</p>\n\n<p>I would like to know how to correctly make the .h and .cpp files. </p>\n\n<p>Maybe some of you will see what I did wrong. I wish to separate the code by the way.</p>\n\n<p>Edit1: \nThis is the error i get, my bad: In file included from recette/ListeRecettes.cpp:8:0:\nrecette/ListeRecettes.h:23:42: erreur: ISO C++ forbids declaration of \u2018ajouterRecette\u2019 with no type [-fpermissive]</p>\n\n<p>Edit2:  ISO C++ forbids declaration of \u2018ajouterRecette\u2019 with no type [-fpermissive] \nSame thing\nEdit3: Sorry file name in comment where not right.</p>\n\n<p>Here the Header</p>\n\n<pre><code>/* \n * File:   ListeRecettes .h\n * Author: Necro\n *\n * Created on November 17, 2015, 1:51 PM\n */\n\n#ifndef LISTERECETTES_H\n#define LISTERECETTES_H\n\n#include &lt;vector&gt;  //for std::vector\n#include \"iostream\"\n#include \"Recette.h\"\n\n\nclass ListeRecettes {\nprivate:\n    std::vector&lt;Recette*&gt; recettes;\n\npublic:\n    ListeRecettes();\n    ListeRecettes(const ListeRecettes&amp; orig);\n    void ajouterRecette(const Recette&amp; recette);\n    void enleverRecette(const Recette&amp; recette);\n    void afficher();\n    virtual ~ListeRecettes();\n};\n\n#endif  /* RECETTES_H */\n</code></pre>\n\n<p>And here the .cpp</p>\n\n<pre><code>/* \n * File:   ListeRecettes .cpp\n * Author: Necro\n * \n * Created on November 17, 2015, 1:51 PM\n */\n\n#include \"ListeRecettes.h\"\n#include &lt;vector&gt;  //for std::vector\n#include \"iostream\"\n\nListeRecettes::ListeRecettes() {\n}\n\nListeRecettes::ListeRecettes(const ListeRecettes&amp; orig) {\n}\n\nListeRecettes::ajouterRecette(const Recette&amp; recette) {\n    this-&gt;recettes.push_back(recette);\n}\n\nListeRecettes::enleverRecette(const Recette&amp; recette) {\n    for (int i = 0; i &lt; recettes.size(); i++) {\n        if (recettes.at(i).getNom() == recette.getNom()) {\n            recettes.erase(i);\n        }\n    }\n}\n\nListeRecettes::afficher(){\n    for(int i = 0 ; i &lt; recettes.size(); i ++){\n        std::cout &lt;&lt; recettes.at(i).getNom();\n    }\n}\n\nListeRecettes::~ListeRecettes() {\n}\n</code></pre>\n\n<p>Edit4:\nRecette.h</p>\n\n<pre><code>/* \n * File:   Recette.h\n * Author: Necro\n *\n * Created on November 17, 2015, 3:14 PM\n */\n\n#ifndef RECETTE_H\n#define RECETTE_H\n\n#include &lt;vector&gt;  //for std::vector\n#include \"Ingredient.h\"\n#include \"iostream\"\n\nusing namespace std;\n\nclass Recette {\npublic:\n    Recette();\n    Recette(const Recette&amp; orig);\n    Recette(string&amp; , Ingredient&amp;);\n    string getNom();\n    Ingredient getIngredient();\n    virtual ~Recette();\nprivate:\n    string nom;\n    vector&lt;Ingredient*&gt; listeIngredients;\n};\n\n#endif  /* RECETTE_H */\n</code></pre>\n\n<p>Recette.cpp</p>\n\n<pre><code>/* \n * File:   Recette.cpp\n * Author: Necro\n * \n * Created on November 17, 2015, 3:14 PM\n */\n\n#include \"Recette.h\"\n#include \"iostream\"\n\nusing namespace std;\n\nRecette::Recette() {\n}\n\nRecette::Recette(string&amp; nom, Ingredient ingredient) {\n    this-&gt;nom = nom;\n    this-&gt;listeIngredients.push_back(ingredient);\n}\n\nRecette::Recette(const Recette&amp; orig) {\n}\n\nRecette::getNom(){\n    return this-&gt;nom;\n}\nRecette::getIngredient(){\n    return this-&gt;listeIngredients;\n}\n\nRecette::~Recette() {\n}\n</code></pre>\n\n<p>Ingredient.h</p>\n\n<pre><code>/* \n * File:   Ingredient.h\n * Author: Necro\n *\n * Created on November 17, 2015, 2:18 PM\n */\n\n#ifndef INGREDIENT_H\n#define INGREDIENT_H\n\n#include &lt;iostream&gt;\nusing namespace std;\n\nclass Ingredient {\n\n\npublic:\n    Ingredient();\n    Ingredient(string&amp;,int);\n    Ingredient(const Ingredient&amp; orig);\n    void addIngredient(int quantite);\n    void removeIngredient(int quantite);\n    virtual ~Ingredient();\n\nprivate:\n    string nom;\n    int quantite;\n};\n\n\n\n#endif  /* INGREDIENT_H */\n</code></pre>\n\n<p>Ingredient.cpp</p>\n\n<pre><code>/* \n * File:   Ingredient.cpp\n * Author: Necro\n * \n * Created on November 17, 2015, 2:18 PM\n */\n\n#include \"Ingredient.h\"\n\nIngredient::Ingredient() {\n}\n\nIngredient::Ingredient(string &amp;nom, int quantite) :\nnom(nom), quantite(quantite) {\n    this-&gt;nom = nom;\n    this-&gt;quantite = quantite;\n}\n\nIngredient::Ingredient(const Ingredient&amp; orig) {\n}\n\nIngredient::addIngredient(int quantite) {\n    this-&gt;quantite += quantite;\n}\nIngredient::removeIngredient(int quantite){\n    this-&gt;quantite -= quantite;\n}\n\nIngredient::~Ingredient() {\n}\n</code></pre>\n"}, {"tags": ["c++", "matrix", "eigen"], "answers": [{"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 1964, "user_id": 1780428, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fc96df599b93ae5ae542b06348d97f6a?s=128&d=identicon&r=PG", "display_name": "Xing Shi", "link": "https://stackoverflow.com/users/1780428/xing-shi"}, "edited": false, "score": 7, "creation_date": 1455842734, "post_id": 33786772, "comment_id": 58683092, "body": "@XingShi No, because <a href=\"http://en.cppreference.com/w/cpp/numeric/math/exp\" rel=\"nofollow noreferrer\"><code>std::exp</code></a> has overloads, and <code>unaryExpr</code> is unable to deduce the functor signature from <code>std::exp</code> alone (i.e., there are more than 1 candidates). If you &quot;help&quot; the compiler by specifying the functor type, like <code>m.unaryExpr&lt;double(*)(double)&gt;(&amp;std::exp)</code>, it will work."}, {"owner": {"reputation": 106, "user_id": 780865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63f2506b12241621a1172ffc992a9265?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/780865/alex"}, "edited": false, "score": 0, "creation_date": 1519055847, "post_id": 33786772, "comment_id": 84743230, "body": "According to the API reference std::ptr_func must be used to convert a pointer to a function in a functor, which is what is passed as argument to unaryExpr. m.unaryExp( std::ptr_func(&amp;Exp) );"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 106, "user_id": 780865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63f2506b12241621a1172ffc992a9265?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/780865/alex"}, "edited": false, "score": 1, "creation_date": 1519081453, "post_id": 33786772, "comment_id": 84754925, "body": "@Alex Thanks for the comment. However it&#39;s not a must, the API says that <i><code>std::ptr_fun</code> can be used...</i>, see e.g. <a href=\"https://eigen.tuxfamily.org/dox/classEigen_1_1MatrixBase.html#title108\" rel=\"nofollow noreferrer\">eigen.tuxfamily.org/dox/classEigen_1_1MatrixBase.html#title1&zwnj;&#8203;08</a> In this case, the function name decays to a pointer automatically by the rules of C++, and a function pointer behaves like a functor. Moreover, <code>std::ptr_fun</code> is deprecated in C++11, see <a href=\"http://en.cppreference.com/w/cpp/utility/functional/ptr_fun\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/functional/ptr_fun</a>."}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 27, "last_activity_date": 1447869267, "last_edit_date": 1447869267, "creation_date": 1447868525, "answer_id": 33786772, "question_id": 33786662, "link": "https://stackoverflow.com/questions/33786662/apply-function-to-all-eigen-matrix-element/33786772#33786772", "title": "Apply function to all Eigen matrix element", "body": "<p>Yes, use the <a href=\"http://eigen.tuxfamily.org/dox/classEigen_1_1MatrixBase.html#a23fc4bf97168dee2516f85edcfd4cfe7\"><code>Eigen::MatrixBase&lt;&gt;::unaryExpr()</code></a> member function. Example:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;iostream&gt;\n\n#include &lt;Eigen/Core&gt;\n\ndouble Exp(double x) // the functor we want to apply\n{\n    return std::exp(x);\n}\n\nint main()\n{\n    Eigen::MatrixXd m(2, 2);\n    m &lt;&lt; 0, 1, 2, 3;\n    std::cout &lt;&lt; m &lt;&lt; std::endl &lt;&lt; \"becomes: \";\n    std::cout &lt;&lt; std::endl &lt;&lt; m.unaryExpr(&amp;Exp) &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 4110980, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S_LcMj8qtLo/AAAAAAAAAAI/AAAAAAAASt4/xaOXFzsssKk/photo.jpg?sz=128", "display_name": "o.comp", "link": "https://stackoverflow.com/users/4110980/o-comp"}, "edited": false, "score": 0, "creation_date": 1577224445, "post_id": 33787412, "comment_id": 105125698, "body": "This is also of note as it would appear that this approach results in more efficient (read vectorised) machine code <a href=\"https://godbolt.org/z/YE_RJr\" rel=\"nofollow noreferrer\">godbolt.org/z/YE_RJr</a>"}], "tags": [], "owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "is_accepted": false, "score": 26, "last_activity_date": 1447870730, "last_edit_date": 1495535487, "creation_date": 1447870730, "answer_id": 33787412, "question_id": 33786662, "link": "https://stackoverflow.com/questions/33786662/apply-function-to-all-eigen-matrix-element/33787412#33787412", "title": "Apply function to all Eigen matrix element", "body": "<p><a href=\"https://stackoverflow.com/a/33786772/2899559\">vsoftco</a>'s answer is very general and is good for custom functions. However, there is a simpler way for many of the commonly used functions. Adapting his example we can use <code>array</code>s and it looks like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Eigen/Core&gt;\n\nint main()\n{\n    Eigen::MatrixXd m(2, 2);\n    m &lt;&lt; 0, 1, 2, 3;\n    std::cout &lt;&lt; m &lt;&lt; \"\\nbecomes:\\n\";\n    std::cout &lt;&lt; m.array().exp() &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 406, "user_id": 5838189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d833feaf4bcb27f85029427160797c?s=128&d=identicon&r=PG&f=1", "display_name": "KamKam", "link": "https://stackoverflow.com/users/5838189/kamkam"}, "is_accepted": false, "score": 0, "last_activity_date": 1540637092, "last_edit_date": 1540637092, "creation_date": 1540636404, "answer_id": 53021003, "question_id": 33786662, "link": "https://stackoverflow.com/questions/33786662/apply-function-to-all-eigen-matrix-element/53021003#53021003", "title": "Apply function to all Eigen matrix element", "body": "<p>@vsoftco's answer got me 99% of the way on this problem, but for some reason passing <code>&amp;Exp</code> to <code>.unaryExpr()</code> was giving me compilation errors (g++, c+11, Eigen 3.3.5 gave error relating to:  <code>base type \u2018double (*)(double)\u2019 fails to be a struct or class type</code>).</p>\n\n<p>However, I found that creating a <code>std::function</code> object and passing that instead fixed this. Copying @vsoftco's example:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;iostream&gt;\n\n#include &lt;Eigen/Core&gt;\n\ndouble Exp(double x) \n{\n    return std::exp(x);\n}\n\nint main()\n{\n    Eigen::MatrixXd m(2, 2);\n    m &lt;&lt; 0, 1, 2, 3;\n    std::function&lt;double(double)&gt; exp_wrap = Exp; //added to @vsoftco's answer\n    std::cout &lt;&lt; m &lt;&lt; std::endl &lt;&lt; \"becomes: \";\n    std::cout &lt;&lt; std::endl &lt;&lt; m.unaryExpr(exp_wrap) &lt;&lt; std::endl; //and used here\n}\n</code></pre>\n\n<p>I'm not sure how much overhead using a <code>std::function</code> object (or <code>std::ptr_fun</code>) gives compared to passing <code>&amp;Exp</code>, but I couldn't get it to work without these alternatives.</p>\n\n<p>Cheers</p>\n"}, {"tags": [], "owner": {"reputation": 5056, "user_id": 4276090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r87tb.jpg?s=128&g=1", "display_name": "Skam", "link": "https://stackoverflow.com/users/4276090/skam"}, "is_accepted": false, "score": 5, "last_activity_date": 1570747146, "creation_date": 1570747146, "answer_id": 58332001, "question_id": 33786662, "link": "https://stackoverflow.com/questions/33786662/apply-function-to-all-eigen-matrix-element/58332001#58332001", "title": "Apply function to all Eigen matrix element", "body": "<p>FWIW, in C++11 and beyond, this also works with lambda functions.</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;iostream&gt;\n\n#include &lt;Eigen/Core&gt;\n\nint main()\n{\n    Eigen::MatrixXd m(2, 2);\n    m &lt;&lt; 0, 1, 2, 3;\n    std::cout &lt;&lt; m &lt;&lt; std::endl &lt;&lt; \" -&gt;  \" \n    std::cout &lt;&lt; m.unaryExpr([](double x){return x + 1}) &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 9495, "user_id": 1395740, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/793c4377313587d742fad6f069d92d89?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1395740/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11017, "favorite_count": 2, "accepted_answer_id": 33786772, "answer_count": 4, "score": 23, "last_activity_date": 1570747146, "creation_date": 1447868122, "last_edit_date": 1447887395, "question_id": 33786662, "link": "https://stackoverflow.com/questions/33786662/apply-function-to-all-eigen-matrix-element", "title": "Apply function to all Eigen matrix element", "body": "<p>I have an <code>Eigen::MatrixXd</code> and I would like to modify all its elements by applying a function component-wise. For example:</p>\n\n<pre><code>MatrixXd m = ...;\n\nfor each m[i][j]:\n  m[i][j] = exp(m[i][j]);\n</code></pre>\n\n<p>Is there a way to achieve this result?</p>\n"}, {"tags": ["c++", "pointers", "doubly-linked-list"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1447868940, "post_id": 33786617, "comment_id": 55340662, "body": "It is not clear from the code whether the list supports also  the tail node or it has only the start node."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4283615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/wYGF0.jpg?s=128&g=1", "display_name": "Ahsan Asif", "link": "https://stackoverflow.com/users/4283615/ahsan-asif"}, "edited": false, "score": 0, "creation_date": 1447896780, "post_id": 33787007, "comment_id": 55354268, "body": "Yes it was a homework to make without vectors first."}], "tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 0, "last_activity_date": 1447869746, "last_edit_date": 1447869746, "creation_date": 1447869388, "answer_id": 33787007, "question_id": 33786617, "link": "https://stackoverflow.com/questions/33786617/deletion-in-doubly-linked-list/33787007#33787007", "title": "deletion in doubly linked list", "body": "<p>It seems that your problem could be:</p>\n\n<pre><code>if (start-&gt;info == value)\n{\n    tmp = start;\n    start = start-&gt;next;\n    start-&gt;prev = NULL;  // This line !!!!!\n    cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n    delete tmp;\n    return;\n}\n</code></pre>\n\n<p>You need to check four <code>nullptr</code> before using start.</p>\n\n<p>Maybe this can help:</p>\n\n<pre><code>void double_llist::delete_element(string value)\n{\n     if (start == NULL) return;  // New line\n\n     node *tmp, *q;\n     //first element\n     if (start-&gt;info == value)\n     {\n         tmp = start;\n         start = start-&gt;next;\n         if (start != NULL)  // New line\n         {\n             start-&gt;prev = NULL;\n         }\n         cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n         delete tmp;\n         return;\n     }\n\n     q = start;\n     while (q-&gt;next-&gt;next != NULL)\n     {\n         //nth element\n         if (q-&gt;next-&gt;info == value)\n         {\n             tmp = q-&gt;next;\n             q-&gt;next = tmp-&gt;next;\n             tmp-&gt;next-&gt;prev = q;\n             cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n             delete tmp;\n             return;\n         }\n         q = q-&gt;next;\n     }\n     //last element\n     if (q-&gt;next-&gt;info == value)\n     {\n         tmp = q-&gt;next;\n         delete tmp;\n         q-&gt;next = NULL;\n         cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n         return;\n     }\n     cout&lt;&lt;\"Element \"&lt;&lt;value&lt;&lt;\" not found\"&lt;&lt;endl;\n }\n</code></pre>\n\n<p>BTW: I assume this is some kind of homework. If it isn't then stop making your own linked list! Use one of the standard containers, e.g. vector, list, deque, instead.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4283615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/wYGF0.jpg?s=128&g=1", "display_name": "Ahsan Asif", "link": "https://stackoverflow.com/users/4283615/ahsan-asif"}, "edited": false, "score": 0, "creation_date": 1447896747, "post_id": 33787272, "comment_id": 55354259, "body": "Thankyou. It was simple mistake of not equating my start to NULL."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 31, "user_id": 4283615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/wYGF0.jpg?s=128&g=1", "display_name": "Ahsan Asif", "link": "https://stackoverflow.com/users/4283615/ahsan-asif"}, "edited": false, "score": 0, "creation_date": 1447926198, "post_id": 33787272, "comment_id": 55366153, "body": "@AhsanAsif No at all.:)"}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 0, "last_activity_date": 1447870989, "last_edit_date": 1447870989, "creation_date": 1447870287, "answer_id": 33787272, "question_id": 33786617, "link": "https://stackoverflow.com/questions/33786617/deletion-in-doubly-linked-list/33787272#33787272", "title": "deletion in doubly linked list", "body": "<p>Your function is too complicated and does not check whether a node is equal to NULL. </p>\n\n<p>For example in general <code>start</code> can be equal to NULL or <code>start-&gt;next</code> can be equal to NULL and so on.</p>\n\n<p>It is enough to consider this code snippet from your function</p>\n\n<pre><code> if (start-&gt;info == value)\n {\n     tmp = start;\n     start = start-&gt;next;\n     start-&gt;prev = NULL;\n     cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n     delete tmp;\n     return;\n }\n</code></pre>\n\n<p>First of all <code>start</code> can be equal to NULL. So this statement</p>\n\n<pre><code>if (start-&gt;info == value)\n</code></pre>\n\n<p>or this statement</p>\n\n<pre><code>start = start-&gt;next;\n</code></pre>\n\n<p>is already wrong.</p>\n\n<p>Or <code>start-&gt;next</code> can be equal to NULL. In this case the second statement in statements below</p>\n\n<pre><code>     start = start-&gt;next;\n     start-&gt;prev = NULL;\n</code></pre>\n\n<p>is also wrong.</p>\n\n<p>Take into account that usually double-linked lists support a pointer to the tail (or the end) node.</p>\n\n<p>The function can be written much simpler.</p>\n\n<p>For example</p>\n\n<pre><code>void double_llist::delete_element( std::string value )\n{\n    node *current = start;\n\n    while ( current &amp;&amp; current-&gt;info != value ) current = current-&gt;next;\n\n    if ( current )\n    {\n        if ( !current-&gt;prev )\n        {\n            start = current-&gt;next;\n        }\n        else\n        {\n            current-&gt;prev-&gt;next = current-&gt;next;\n        }\n\n        if ( !current-&gt;next )\n        {\n            // end = current-&gt;prev;\n        }\n        else\n        {\n            current-&gt;next-&gt;prev = current-&gt;prev;\n        }\n\n        delete current;\n    }\n    else\n    {\n        std::cout &lt;&lt; \"Element \" &lt;&lt; value &lt;&lt; \" not found\" &lt;&lt; std::endl;\n    }\n}                 \n</code></pre>\n\n<p>In this program I commented one statement that you should uncomment if your list supports a pointer to the last node of the list.</p>\n"}], "owner": {"reputation": 31, "user_id": 4283615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/wYGF0.jpg?s=128&g=1", "display_name": "Ahsan Asif", "link": "https://stackoverflow.com/users/4283615/ahsan-asif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "closed_date": 1447877141, "accepted_answer_id": 33787272, "answer_count": 2, "score": 0, "last_activity_date": 1448133333, "creation_date": 1447867990, "last_edit_date": 1448133333, "question_id": 33786617, "link": "https://stackoverflow.com/questions/33786617/deletion-in-doubly-linked-list", "closed_reason": "Needs details or clarity", "title": "deletion in doubly linked list", "body": "<p>Whenever i call this function my program crashes. I debugged it and it was because of the line of start=start->next; Still couldn't figure where i went wrong. My <strong>start</strong> is a global pointer of node.</p>\n\n<pre><code>void double_llist::delete_element(string value)\n{\n      node *tmp, *q;\n      //first element\n     if (start-&gt;info == value)\n     {\n         tmp = start;\n         start = start-&gt;next;\n         start-&gt;prev = NULL;\n         cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n         delete tmp;\n         return;\n     }\n\n     q = start;\n     while (q-&gt;next-&gt;next != NULL)\n     {\n         //nth element\n         if (q-&gt;next-&gt;info == value)\n         {\n             tmp = q-&gt;next;\n             q-&gt;next = tmp-&gt;next;\n             tmp-&gt;next-&gt;prev = q;\n             cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n             delete tmp;\n             return;\n         }\n         q = q-&gt;next;\n     }\n     //last element\n     if (q-&gt;next-&gt;info == value)\n     {\n         tmp = q-&gt;next;\n         delete tmp;\n         q-&gt;next = NULL;\n         cout&lt;&lt;\"Element Deleted\"&lt;&lt;endl;\n         return;\n     }\n     cout&lt;&lt;\"Element \"&lt;&lt;value&lt;&lt;\" not found\"&lt;&lt;endl;\n }\n</code></pre>\n"}, {"tags": ["c++", "sorting", "opengl"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1447867834, "post_id": 33786518, "comment_id": 55340011, "body": "Where does the assert come from? Have you ran it in GDB to get a backtrae? What is the exact error message?"}, {"owner": {"reputation": 3343, "user_id": 1983409, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T95Sg.jpg?s=128&g=1", "display_name": "zdf", "link": "https://stackoverflow.com/users/1983409/zdf"}, "edited": false, "score": 0, "creation_date": 1447868262, "post_id": 33786518, "comment_id": 55340269, "body": "You have, probably, corrupted the memory. Check recent code changes."}, {"owner": {"reputation": 105, "user_id": 5468447, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/451144978426495/picture?type=large", "display_name": "Pierluigi Serra", "link": "https://stackoverflow.com/users/5468447/pierluigi-serra"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1447868459, "post_id": 33786518, "comment_id": 55340390, "body": "@ColonelThirtyTwo I edited the question with a screenshot of the full erro message"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 2, "creation_date": 1447870233, "post_id": 33786518, "comment_id": 55341399, "body": "You normally get this assertion if your comparison function is found to not define a strict weak ordering, for example <code>[](int, int) { return rand() % 2 == 0; }</code>."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1447873306, "post_id": 33786518, "comment_id": 55343299, "body": "Can assert failure be expected?"}], "answers": [{"comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1447873659, "post_id": 33788156, "comment_id": 55343505, "body": "What happens if the list is modified while you&#39;re copying it? Sounds like your doing synchronization-less threading, which is a bad idea."}, {"owner": {"reputation": 105, "user_id": 5468447, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/451144978426495/picture?type=large", "display_name": "Pierluigi Serra", "link": "https://stackoverflow.com/users/5468447/pierluigi-serra"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1447873905, "post_id": 33788156, "comment_id": 55343639, "body": "@ColonelThirtyTwo Yes it is, but in this case is safe. The list of visible meshes (they are grass clusters) is updated right before the sorting and in the same thread"}], "tags": [], "owner": {"reputation": 105, "user_id": 5468447, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/451144978426495/picture?type=large", "display_name": "Pierluigi Serra", "link": "https://stackoverflow.com/users/5468447/pierluigi-serra"}, "is_accepted": false, "score": 0, "last_activity_date": 1447873080, "creation_date": 1447873080, "answer_id": 33788156, "question_id": 33786518, "link": "https://stackoverflow.com/questions/33786518/unexpected-assert-failure-error/33788156#33788156", "title": "Unexpected assert failure error", "body": "<p>I\u00b4ll answer myself because I found the issue and the solution could help someone else.\nI\u00b4m building a rendering engine and I\u00b4m using two threads to draw the scene and update it. The draw loop runs at 60 fps while the update loop runs at 500 fps.\nThe camera position is updated in the update loop (faster) and this sorting happens in the draw loop. Being the update loop much faster, sometimes (rarely) happens that the camera position changes in the middle of the vectort sort. This code fixes th issue</p>\n\n<pre><code>Vector3 CameraPosition(CamerasManager::ActiveCamera-&gt;Position); // Copy current camera position\n\nstd::sort(VisibleMeshes.begin(), VisibleMeshes.end(), [&amp;](const MeshBase* m1, const MeshBase* m2) -&gt; bool\n    {\n        float d1 = CameraPosition.Distance(m1-&gt;MeshPosition);\n        float d2 = CameraPosition.Distance(m2-&gt;MeshPosition);\n\n        return d1 &gt; d2;\n    }\n);\n</code></pre>\n\n<p>Basically I\u00b4m capturing a copy of the camera position into the lambda to be sure it does not change during the sort</p>\n"}], "owner": {"reputation": 105, "user_id": 5468447, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/451144978426495/picture?type=large", "display_name": "Pierluigi Serra", "link": "https://stackoverflow.com/users/5468447/pierluigi-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447873080, "creation_date": 1447867734, "last_edit_date": 1447868086, "question_id": 33786518, "link": "https://stackoverflow.com/questions/33786518/unexpected-assert-failure-error", "title": "Unexpected assert failure error", "body": "<p>I can not find a better title for this question because, to be honest, I have no idea why I\u00b4m getting this error.\nThe code is:</p>\n\n<pre><code>std::sort(VisibleMeshes.begin(), VisibleMeshes.end(), [](const MeshBase* m1, const MeshBase* m2) -&gt; bool\n{\n    float d1 = CamerasManager::ActiveCamera-&gt;Position.Distance(m1-&gt;MeshPosition);\n    float d2 = CamerasManager::ActiveCamera-&gt;Position.Distance(m2-&gt;MeshPosition);\n\n    return d1 &gt; d2;\n});\n</code></pre>\n\n<p>VisibleMeshes is a vector of MeshBase objects (pointers).\nThe purpose is to sort this objects by the distance from the camera, from the farthest to the nearest.\nThe code works almost always but, from time to time, I get an assert failure.\nThe error is</p>\n\n<pre><code>\"invalid operator &lt;\"\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>This is the full error I get:\n<a href=\"https://i.stack.imgur.com/qz1UH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qz1UH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 7490, "user_id": 4417613, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/leKlt.jpg?s=128&g=1", "display_name": "m0bi5", "link": "https://stackoverflow.com/users/4417613/m0bi5"}, "edited": false, "score": 1, "creation_date": 1447867363, "post_id": 33786345, "comment_id": 55339692, "body": "nothing is wrong with your code at all. Could you specify the errors"}, {"owner": {"reputation": 7490, "user_id": 4417613, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/leKlt.jpg?s=128&g=1", "display_name": "m0bi5", "link": "https://stackoverflow.com/users/4417613/m0bi5"}, "edited": false, "score": 1, "creation_date": 1447867456, "post_id": 33786345, "comment_id": 55339753, "body": "also, could you show us how you are calling the function"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447868669, "post_id": 33786345, "comment_id": 55340513, "body": "There&#39;s about a million duplicates to be found here, I don&#39;t see how this one adds any value for future research."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1447870535, "post_id": 33786345, "comment_id": 55341578, "body": "You may get rid of <code>-1</code> with loop from 0 to 3 instead of 1 to 4."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 5572782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0a68b6c0af715eddd4dc0790f84ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Wilkes", "link": "https://stackoverflow.com/users/5572782/michael-wilkes"}, "is_accepted": false, "score": 0, "last_activity_date": 1447970189, "last_edit_date": 1447970189, "creation_date": 1447867998, "answer_id": 33786621, "question_id": 33786345, "link": "https://stackoverflow.com/questions/33786345/c-pass-2d-array-as-argument-to-function/33786621#33786621", "title": "c++ pass 2D array as argument to function?", "body": "<p>This is the syntax for passing a multi array to argument. </p>\n\n<p>First, when creating your function, leave out the first number in the bracket. Ie</p>\n\n<pre><code>void printBoard(int board[][3]){}\n</code></pre>\n\n<p>And when calling your function do this.</p>\n\n<pre><code>printBoard(board);\n</code></pre>\n\n<p>Sorry if it's weird to answer your own question but it helped me a lot. \nCourtesy to <a href=\"http://www.geeksforgeeks.org/pass-2d-array-parameter-c/\" rel=\"nofollow\">http://www.geeksforgeeks.org/pass-2d-array-parameter-c/</a></p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1447874674, "post_id": 33786765, "comment_id": 55344125, "body": "Caveat: <code>int board[3][3]</code> does not decay into <code>int **</code>"}], "tags": [], "owner": {"reputation": 7173, "user_id": 52534, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/17d0d29fb3b7ff0dc1433e08bfe175fc?s=128&d=identicon&r=PG", "display_name": "patros", "link": "https://stackoverflow.com/users/52534/patros"}, "is_accepted": false, "score": 0, "last_activity_date": 1447868490, "creation_date": 1447868490, "answer_id": 33786765, "question_id": 33786345, "link": "https://stackoverflow.com/questions/33786345/c-pass-2d-array-as-argument-to-function/33786765#33786765", "title": "c++ pass 2D array as argument to function?", "body": "<p>I'd highly recommend using pointer style passing. For a 2D array it would look like:</p>\n\n<pre><code>void display(int **board, int width, int height) {\n  for (int i = 0; i &lt; width; i++) {\n     for (int j = 0; j &lt; height; j++) {\n       if (board[i][j] == ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1447870471, "creation_date": 1447870471, "answer_id": 33787338, "question_id": 33786345, "link": "https://stackoverflow.com/questions/33786345/c-pass-2d-array-as-argument-to-function/33787338#33787338", "title": "c++ pass 2D array as argument to function?", "body": "<p>Assuming</p>\n\n<pre><code>int board[3][3];\n//..\nprintBoard(board);\n</code></pre>\n\n<p>Following (and your method) is correct:</p>\n\n<pre><code>void printBoard(const int (&amp;board)[3][3]) {\n    for (const auto&amp; a : board) {\n        for (int e : a) {\n            switch (e) {\n                case 0: std::cout &lt;&lt; \"_  \"; break;\n                case 1: std::cout &lt;&lt; \"O  \"; break;\n                case 2: std::cout &lt;&lt; \"X  \"; break;\n            }\n        }\n        std::cout &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5572782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0a68b6c0af715eddd4dc0790f84ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Wilkes", "link": "https://stackoverflow.com/users/5572782/michael-wilkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "closed_date": 1447878044, "answer_count": 3, "score": 0, "last_activity_date": 1447970189, "creation_date": 1447867209, "last_edit_date": 1447870838, "question_id": 33786345, "link": "https://stackoverflow.com/questions/33786345/c-pass-2d-array-as-argument-to-function", "closed_reason": "Not suitable for this site", "title": "c++ pass 2D array as argument to function?", "body": "<p>I'm making a tic tac toe game.  I'm trying to pass a multi dimensional array into a function.</p>\n\n<p>This is my code:</p>\n\n<pre><code>void printBoard(int board[3][3]) {\n\n    for (int j = 1; j &lt; 4; j++) {\n        for (int i = 1; i &lt; 4; i++) {\n            if (board[j - 1][i - 1] == 0)\n                cout &lt;&lt; \"_  \";\n            if (board[j - 1][i - 1] == 1)\n                cout &lt;&lt; \"O \";\n            if (board[j - 1][i - 1] == 2)\n                cout &lt;&lt; \"X \";\n            if ((i % 3 == 0))\n                cout &lt;&lt; \"\\n\";\n        }\n    }//end 1st for\n}//end function\n</code></pre>\n\n<p>I keep getting errors.  I have done research and I have successfully passed a 1D array as an argument using pointers.</p>\n\n<p>Here is that code:</p>\n\n<pre><code>void display(int *p, int len){\n\n    for (int i = 0; i &lt; len; i ++){\n        std::cout &lt;&lt; \"\\n\" &lt;&lt; *(p + i);\n    }//end for\n}//end function\n</code></pre>\n\n<p>How can I do this with a multi array?</p>\n"}, {"tags": ["c++", "multithreading", "multidimensional-array", "atomic", "compare-and-swap"], "comments": [{"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1447867231, "post_id": 33786240, "comment_id": 55339608, "body": "I don&#39;t think that CAS functions support floating-point. Whether it&#39;s in a 2D or 1D array is irrelevant, as you only pass in a single element to the function."}, {"owner": {"reputation": 307, "user_id": 3321588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c320d6c2332874d88565a29b3157b9f9?s=128&d=identicon&r=PG&f=1", "display_name": "mas", "link": "https://stackoverflow.com/users/3321588/mas"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1447867597, "post_id": 33786240, "comment_id": 55339844, "body": "Actually it does support float, i tried a float* array and it worked."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1447867804, "post_id": 33786240, "comment_id": 55339990, "body": "Sorry, I don&#39;t believe you. The function doesn&#39;t know whether what you passed in is part of a 1D or 2D array."}, {"owner": {"reputation": 307, "user_id": 3321588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c320d6c2332874d88565a29b3157b9f9?s=128&d=identicon&r=PG&f=1", "display_name": "mas", "link": "https://stackoverflow.com/users/3321588/mas"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1447867873, "post_id": 33786240, "comment_id": 55340033, "body": "Hmm....maybe the machine i&#39;m using supports atomic floats?"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1447867966, "post_id": 33786240, "comment_id": 55340095, "body": "Again, the fact that this didn&#39;t compile shows that it doesn&#39;t. You may not have tried exactly what you think you tried in the 1D case."}], "answers": [{"tags": [], "owner": {"reputation": 1178, "user_id": 3967945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d671333d111810416ba4952f1da75c1?s=128&d=identicon&r=PG", "display_name": "mroman", "link": "https://stackoverflow.com/users/3967945/mroman"}, "is_accepted": true, "score": 4, "last_activity_date": 1447868742, "last_edit_date": 1447868742, "creation_date": 1447867738, "answer_id": 33786521, "question_id": 33786240, "link": "https://stackoverflow.com/questions/33786240/compare-and-swap-on-a-2d-array/33786521#33786521", "title": "Compare and Swap on a 2D Array", "body": "<pre><code>main() {\n  int* W = malloc(10);  \n  int uu = 1, i = 3;\n  __sync_val_compare_and_swap(&amp;W[uu], 1, 2);\n}\n</code></pre>\n\n<p>Compiles fine, however:</p>\n\n<pre><code>main() {\n  float* W = malloc(10);  \n  int uu = 1, i = 3;\n  __sync_val_compare_and_swap(&amp;W[uu], 1.0f, 2.0f);\n}\n</code></pre>\n\n<p>Does not compile giving me the exact same message you wrote. Which suggests that floats are not supported:</p>\n\n<blockquote>\n  <p>The definition given in the Intel documentation allows only for the\n  use of the types int, long, long long as well as their unsigned\n  counterparts. GCC will allow any integral scalar or pointer type that\n  is 1, 2, 4 or 8 bytes in length.</p>\n</blockquote>\n\n<p>and it looks like this confirms that. </p>\n\n<p>If you're not using itanium then maybe </p>\n\n<blockquote>\n  <p>The four non-arithmetic functions (load, store, exchange, and\n  compare_exchange) all have a generic version as well. This generic\n  version works on any data type.</p>\n</blockquote>\n\n<p>you might use <code>__atomic_compare_exchange*</code> because these should work on any types according to the docs. I haven't tried that yet though.</p>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>main() {\n  float* W = malloc(10);  \n  float target;\n  float val = 5.0f;\n  __atomic_exchange(&amp;W[4], &amp;val, &amp;target, __ATOMIC_RELAXED);\n}\n</code></pre>\n\n<p>^- this at least compiles.</p>\n"}], "owner": {"reputation": 307, "user_id": 3321588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c320d6c2332874d88565a29b3157b9f9?s=128&d=identicon&r=PG&f=1", "display_name": "mas", "link": "https://stackoverflow.com/users/3321588/mas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 33786521, "answer_count": 1, "score": 1, "last_activity_date": 1447868742, "creation_date": 1447866871, "question_id": 33786240, "link": "https://stackoverflow.com/questions/33786240/compare-and-swap-on-a-2d-array", "title": "Compare and Swap on a 2D Array", "body": "<p>I'm trying to write to a 2d array (float**W) atomically from different threads. However CAS always gives this error: incompatible type for argument 1 of __sync_bool_compare_and_swap</p>\n\n<p><code>c = __sync_bool_compare_and_swap(&amp;W[uu][i], a, b);</code></p>\n\n<p>It works fine as usual when I write atomcially to a 1d array.</p>\n\n<p>Any ideas on how to make this work? I can try making 1d arrays in each thread and then updating this 2d array after a barrier, but that would take up too much memory. I'm using Ubuntu/Linux.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "c++11", "vector", "insert", "iterator"], "comments": [{"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447867257, "post_id": 33786239, "comment_id": 55339623, "body": "Inserting into a vector while you are iterating over it doesn&#39;t make sense.  The insert will invalidate the iterator."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 4, "creation_date": 1447867316, "post_id": 33786239, "comment_id": 55339654, "body": "As well as saying &quot;here is what I tried to do, it didn&#39;t work&quot;, please describe what you are trying to do in something other than non-working code.  Describing the non-working code in English isn&#39;t (highly) useful either.  Describe what you are trying to do, <i>not</i> only how you are trying to do it.  My guess:  Do you want to turn a vector that contained <code>{1,1,1,1,1,1,1,1,1,1,1}</code> to <code>{2,1,2,1,2,1,2,1,2,1</code> or somesuch?"}], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1447867673, "creation_date": 1447867673, "answer_id": 33786503, "question_id": 33786239, "link": "https://stackoverflow.com/questions/33786239/how-to-change-elements-inside-a-vector-using-insert-function-and-iterators/33786503#33786503", "title": "How to change elements inside a vector using insert function and iterators?", "body": "<p>I am not quite sure why Visual Studio gives this confusing message. However, the actual problem here is that insert invalidates iterators - so you can not use it after you inserted anything. The right way to do this is something along following lines:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nint main() {\n    std::vector&lt;int&gt; vec(10, 1);\n\n    std::vector&lt;int&gt;::iterator it = vec.begin();\n    for (; it != vec.end(); ) {\n        it = vec.insert(it, 2);\n        it += 2;\n    }\n\n    for (it = vec.begin(); it != vec.end(); ++it)\n        std::cout &lt;&lt; \"!: \" &lt;&lt; *it &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5577446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cba0c6f3a70f81e217dabf17c0315e47?s=128&d=identicon&r=PG&f=1", "display_name": "Marcella Tincani", "link": "https://stackoverflow.com/users/5577446/marcella-tincani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447960271, "creation_date": 1447866868, "last_edit_date": 1447960271, "question_id": 33786239, "link": "https://stackoverflow.com/questions/33786239/how-to-change-elements-inside-a-vector-using-insert-function-and-iterators", "title": "How to change elements inside a vector using insert function and iterators?", "body": "<p>I would like to change values of a vector with a specified size, using the insert function and iterators.</p>\n\n<p>When I start debugging, Visual Studio shows me this message: </p>\n\n<pre><code>Vector iterator not incrementable\n</code></pre>\n\n<p>I have read this is part of the consequence of using <code>insert</code> on a vector. </p>\n\n<pre><code>vector&lt;int&gt; myvector(10,1);\nvector&lt;int&gt;::iterator it;\n\nfor (it = myvector.begin(); it != myvector.end(); it++)\n\n    myvector.insert(it, 2); \n</code></pre>\n\n<p>Is there an alternative method that allows to pursue the initial purpose?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 1, "creation_date": 1447866510, "post_id": 33786089, "comment_id": 55339149, "body": "Using uninitialized variable is undefined behavior. There are many duplicates of this, but they are relatively hard to find."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447866541, "post_id": 33786089, "comment_id": 55339171, "body": "I find it extremely difficult to believe that your book does not teach you to initialise your variables and explain to you why that&#39;s important."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1447866603, "post_id": 33786089, "comment_id": 55339212, "body": "I&#39;m voting to close this question as off-topic because  explaining the results of undefined behaviour is actually useless an unanswerable."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447866641, "post_id": 33786089, "comment_id": 55339238, "body": "OTOH it&#39;s a well-formatted question with an excellent MCVE, which might serve as a pretty good canonical dupe..."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447866754, "post_id": 33786089, "comment_id": 55339320, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 i actually disagree. Explaining results of undefined behaviour might be a useful excercise which allows one insights into how compilers actually operate, what kind of code is generated and why a certain rule is in place."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447866887, "post_id": 33786089, "comment_id": 55339404, "body": "@SergeyA <i>&quot;Explaining results of undefined behaviour ...&quot;</i> How can we actually explain the unpredictable?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1447866970, "post_id": 33786089, "comment_id": 55339443, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, compilers are determenistic state machines, and they produce the same code given the same input. Memory layout of a process is also determenistic. In this particular case, it is rather easy to explain results OP is seeing."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447867064, "post_id": 33786089, "comment_id": 55339505, "body": "@SergeyA Though results might be totally different for another compiler Implementation."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447867170, "post_id": 33786089, "comment_id": 55339573, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 of course. But in any given implementation they are likely to be the same, and I believe, it is worth understanding them. Also, in this particular case, I would assume the results would be the same in most widely-used implementations."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447867387, "post_id": 33786089, "comment_id": 55339706, "body": "@SergeyA Well, I&#39;ve hammer reopened the question now, let&#39;s see if we can use it as a canonical now in future (still have my doubts)."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447887965, "post_id": 33786089, "comment_id": 55351357, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 That&#39;s not <i>always</i> a bad thing. In the general case yes we avoid rationalising about UB at all because, at the level of the abstraction that C++ provides, it&#39;s by definition pointless. But we live in a physical reality and program physical machines and, sometimes, you want to know what&#39;s really going on. For an issue like this, at least, you can even give a general idea of the sort of symptoms you&#39;re likely to see and <i>why</i>. That is not inherently without value."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1447866574, "post_id": 33786128, "comment_id": 55339196, "body": "Do you really have a cat?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447866730, "post_id": 33786128, "comment_id": 55339301, "body": "@LightnessRacesinOrbit I&#39;d recommend you should get yourself a <i>Schr&#246;dinger&#39;s cat</i>."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447866832, "post_id": 33786128, "comment_id": 55339369, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 wanted to say same thing, than decided would be way too obvious :D"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 3, "creation_date": 1447867752, "post_id": 33786128, "comment_id": 55339956, "body": "/OT BTW I&#39;m owning (??) a little tomcat recently. Though that guy stresses my nerves every day and does all kinds of silly actions, I would don&#39;t even waste a thought to get him in the Schr&#246;dinger situation. @SergeyA"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447887872, "post_id": 33786128, "comment_id": 55351322, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6: Maybe I will. Maybe I won&#39;t. :)"}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1447866576, "last_edit_date": 1447866576, "creation_date": 1447866469, "answer_id": 33786128, "question_id": 33786089, "link": "https://stackoverflow.com/questions/33786089/two-different-double-values-after-adding-a-string-variable/33786128#33786128", "title": "Two different double values after adding a string variable", "body": "<p><strong>It's arbitrary.</strong></p>\n\n<p>You did not initialise your variable. It has an <em>unspecified value</em>.</p>\n\n<p>Therefore, reading its \"value\" has undefined behaviour. Anything can happen.</p>\n\n<p>Not only can you get any value (due to internal assumptions that you cannot rationalise about from outside of the black box of the compiler implementation), but you could also/instead open a black hole or kill my cat, and I would not be terribly happy about either of those outcomes.</p>\n"}, {"tags": [], "owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "is_accepted": false, "score": 0, "last_activity_date": 1447866491, "creation_date": 1447866491, "answer_id": 33786131, "question_id": 33786089, "link": "https://stackoverflow.com/questions/33786089/two-different-double-values-after-adding-a-string-variable/33786131#33786131", "title": "Two different double values after adding a string variable", "body": "<p>You are outputting an uninitialized variable.  So it's value can be anything.</p>\n"}, {"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 2, "last_activity_date": 1447867089, "last_edit_date": 1447867089, "creation_date": 1447866492, "answer_id": 33786132, "question_id": 33786089, "link": "https://stackoverflow.com/questions/33786089/two-different-double-values-after-adding-a-string-variable/33786132#33786132", "title": "Two different double values after adding a string variable", "body": "<p>Your code invokes undefined behaviour. Since automatic variables of built-in types are not deafult-initialized unless specifically aksed, value for variable res is undefined in your code. It can be anything.</p>\n\n<p>Why you have different value their based on different code structure is understandable - since no one is setting the value for the variable, you are left with whatever is left in the stack memory after previous calls. Pure random.</p>\n\n<p>In particular, in the former example, the stack memory is not used at all before you declare your res variable. As a result, you use untouched stack memory, which is 0 initialize. In the latter case, you have already defined string variable, and called it's constructor. Constructor used stack memory for it's own purpose, and left those values there. Now the res variable is constructed in used stack memory, and you see some random values there.</p>\n"}], "owner": {"reputation": 417, "user_id": 2817520, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ef653ea7bd0b63c0f2700addfbedd3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dante", "link": "https://stackoverflow.com/users/2817520/dante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1447867274, "creation_date": 1447866329, "question_id": 33786089, "link": "https://stackoverflow.com/questions/33786089/two-different-double-values-after-adding-a-string-variable", "title": "Two different double values after adding a string variable", "body": "<p>I compiled the following code using g++</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    double res;\n    std::cout &lt;&lt; res &lt;&lt; std::endl; \n    return 0;\n}\n</code></pre>\n\n<p>That gave the following result</p>\n\n<pre><code>g++ foo.c\n./a.out\n0\n</code></pre>\n\n<p>But after a small change</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    std::string input;\n    double res;\n    std::cout &lt;&lt; res &lt;&lt; std::endl; \n    return 0;\n}\n</code></pre>\n\n<p>It became</p>\n\n<pre><code>g++ foo.c\n./a.out\n2.0734e-317\n</code></pre>\n\n<p>Why are the results different and why the number <code>2.0734e-317</code>?</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 362978, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 0, "creation_date": 1447865840, "post_id": 33785868, "comment_id": 55338668, "body": "That is really not what I would expect something called <code>intertwine()</code> to do ... On the other hand I don&#39;t know a better name. :) And why not just write a loop and put it inside a function?"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1447865842, "post_id": 33785868, "comment_id": 55338671, "body": "Using stable sort algorithm with comparator doing something like <code>if (odd) return value; else return value*100000000</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4003, "user_id": 4331480, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oWiMU.jpg?s=128&g=1", "display_name": "therainmaker", "link": "https://stackoverflow.com/users/4331480/therainmaker"}, "edited": false, "score": 1, "creation_date": 1447865935, "post_id": 33785934, "comment_id": 55338735, "body": "I was writing an answer using a <code>for</code> loop along with moving the elements after looking at their indices, but this one takes the cake. One learns something everyday on SO. :)"}, {"owner": {"reputation": 7450, "user_id": 657700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb044bd9a9f6548b9a9bae44617c97c7?s=128&d=identicon&r=PG", "display_name": "fjardon", "link": "https://stackoverflow.com/users/657700/fjardon"}, "edited": false, "score": 0, "creation_date": 1447866060, "post_id": 33785934, "comment_id": 55338820, "body": "caveat: <code>Relative order of the elements is not preserved.</code>. It looks like the OP wants this order preserved."}], "tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 3, "last_activity_date": 1447865854, "creation_date": 1447865854, "answer_id": 33785934, "question_id": 33785868, "link": "https://stackoverflow.com/questions/33785868/deinterleave-odd-and-even-entries-of-vector-c/33785934#33785934", "title": "Deinterleave odd and even entries of vector c++", "body": "<pre><code>std::partition(std::begin(vExample), std::end(vExample), [](long l) { return !(l%2); });\n</code></pre>\n\n<p>Of course, <code>partition</code> has loop(s) in it.</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/algorithm/partition\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/algorithm/partition</a></p>\n"}, {"comments": [{"owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1447867723, "post_id": 33785937, "comment_id": 55339936, "body": "Why does it work with the example vector, but not with, for example, {0,1,2,10,11}? It that case I&#39;d expect {0,2,11,1,10}, but I get {0,2,10,1,11}."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1447867879, "post_id": 33785937, "comment_id": 55340037, "body": "@dpgomez I don&#39;t quite understand your new example. As I understood your question, you want to put all even numbers in the front and all odd numbers in the back, which is what this does. If that is not what you want, please clarify the question."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1447867888, "post_id": 33785937, "comment_id": 55340044, "body": "Why would you expect 10 to be partitioned as if odd?  You must not have given a clear description of the problem."}, {"owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1447868051, "post_id": 33785937, "comment_id": 55340134, "body": "I would like the odd and even vector indices to be resorted. In my example the entries are identical to the indices. Is it better to edit the question or ask a new one?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1447868262, "post_id": 33785937, "comment_id": 55340268, "body": "@dpgomez Aha. This is not at all how I (or anyone else afaics) understood this question. Maybe you should post a new question where you clearly ask how to partition a vector by indices. All the answers here solve the &quot;partition based on the <i>entries</i>&quot; problem."}], "tags": [], "owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": true, "score": 9, "last_activity_date": 1447868025, "last_edit_date": 1447868025, "creation_date": 1447865870, "answer_id": 33785937, "question_id": 33785868, "link": "https://stackoverflow.com/questions/33785868/deinterleave-odd-and-even-entries-of-vector-c/33785937#33785937", "title": "Deinterleave odd and even entries of vector c++", "body": "<p>It seems like you are looking for <a href=\"http://en.cppreference.com/w/cpp/algorithm/partition\" rel=\"nofollow\"><code>std::partition</code></a> or <a href=\"http://en.cppreference.com/w/cpp/algorithm/stable_partition\" rel=\"nofollow\"><code>std::stable_partition</code></a>, depending on whether you need the order of the elements preserved:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nint main () {\n    std::vector&lt;int&gt; vals {0,1,2,3,4,5,6,7};\n    std::stable_partition(begin(vals), end(vals), [](auto i){return !(i % 2);});\n    for (auto v : vals)\n        std::cout &lt;&lt; v &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>Output: <code>0 2 4 6 1 3 5 7</code>. See it <a href=\"http://coliru.stacked-crooked.com/a/466dfcfef802a40e\" rel=\"nofollow\">live</a>.</p>\n\n<p>You can of course partition by any other criterion by changing the predicate.</p>\n"}, {"tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 0, "last_activity_date": 1447866007, "creation_date": 1447866007, "answer_id": 33785985, "question_id": 33785868, "link": "https://stackoverflow.com/questions/33785868/deinterleave-odd-and-even-entries-of-vector-c/33785985#33785985", "title": "Deinterleave odd and even entries of vector c++", "body": "<pre><code>for(int i = 0; i &lt; vExample.size() * 2; i += 2) {\n    auto value = vExample[i%vExample.size()];\n    //Do whatever you want with value, print it out, etc.\n    if(i == vExample.size() - 2) i++;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1447866156, "creation_date": 1447866156, "answer_id": 33786027, "question_id": 33785868, "link": "https://stackoverflow.com/questions/33785868/deinterleave-odd-and-even-entries-of-vector-c/33786027#33786027", "title": "Deinterleave odd and even entries of vector c++", "body": "<p>You can use standard algorithm <code>std::stable_partition</code> declared in header <code>&lt;algorithm&gt;</code>. For example</p>\n\n<pre><code>#include &lt;algorithm&gt;\n\n//...\n\nlong entries[] = {0,1,2,3,4,5,6,7};\nstd::vector&lt;long&gt; vExample(entries, entries + sizeof(entries) / sizeof(long) );\n\nstd::stable_partition( vExample.begin(), vExample.end(), []( long x ) { return x % 2 == 0; } );\n\nfor ( long x : vExample ) std::cout &lt;&lt; x &lt;&lt; ' ';\nstd::cout &lt;&lt; std::endl;\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>0 2 4 6 1 3 5 7\n</code></pre>\n"}], "owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 1, "accepted_answer_id": 33785937, "answer_count": 4, "score": 1, "last_activity_date": 1447868025, "creation_date": 1447865621, "last_edit_date": 1447866829, "question_id": 33785868, "link": "https://stackoverflow.com/questions/33785868/deinterleave-odd-and-even-entries-of-vector-c", "title": "Deinterleave odd and even entries of vector c++", "body": "<p>Is there a one liner (or a simple loop-free) solution to de-interleave the odd and even entries of a vector?<br>\nExample:</p>\n\n<pre><code>long entries[] = {0,1,2,3,4,5,6,7};\nstd::vector&lt;long&gt; vExample(entries, entries + sizeof(entries) / sizeof(long) );\n\nvExample.intertwine(vExample.begin(),vExample.end()); // magic one liner I wish existed...\n\nfor (int i = 0; i &lt; vExample.size(); i++)\n{\n    std::cout &lt;&lt; vExample[i] &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>Now I'd like to have the following output:</p>\n\n<pre><code>0 2 4 6 1 3 5 7\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 2, "creation_date": 1447865929, "post_id": 33785800, "comment_id": 55338727, "body": "what does it even mean to move  a pointer? it has no meaning. it falls back to simple copying.. lose the move semantics"}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 0, "creation_date": 1447866057, "post_id": 33785800, "comment_id": 55338819, "body": "You can&#39;t use the address of a temporary.  It will be destructed once the constructor is finished."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1447866233, "post_id": 33785800, "comment_id": 55338939, "body": "It is unclear what you are trying to do.  What is the expected lifetime of the data pointed to by <code>_attr</code>?  In C++, you have to pay attention to data lifetime.  If you don&#39;t know, your code will only work by accident.  What you are seeing is the compiler saying &quot;you took a pointer to something with a nearly zero lifetime; you probably screwed up&quot;.  There are many ways to get it to <i>compile</i>, but to get it to <i>work</i> you need to fix your lifetime problem."}, {"owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "edited": false, "score": 0, "creation_date": 1447882605, "post_id": 33785800, "comment_id": 55348823, "body": "Side note: you don&#39;t need to specify the default constructor of base class in initializer list: <code>AttrDec(Attr*&amp;&amp; attr) :Attr() {}</code>, you can drop the <code>:Attr()</code>."}, {"owner": {"reputation": 75, "user_id": 2198304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c630b164c667242252917bda7bc635e9?s=128&d=identicon&r=PG", "display_name": "rich", "link": "https://stackoverflow.com/users/2198304/rich"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1447923947, "post_id": 33785800, "comment_id": 55364581, "body": "I just want to do a decorator. @Yakk  <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Decorator_pattern</a>"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1447866125, "post_id": 33785994, "comment_id": 55338872, "body": "So your advice is to leak resources to &quot;solve&quot; the OP&#39;s problem?"}, {"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1447866291, "post_id": 33785994, "comment_id": 55338987, "body": "And you have to make sure that the copy and move constructor/operator are disabled or correctly implemented..."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1447866801, "post_id": 33785994, "comment_id": 55339351, "body": "This question is not about whether the <code>AttrDec</code> class should store an object, a raw pointer, or a smart pointer. It&#39;s about how to store <code>name</code> wrapped in an <code>Attr</code> in <code>AttrDec</code>. Let&#39;s not confuse the issues and not downvote a correct answer."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1447867062, "last_edit_date": 1495541713, "creation_date": 1447866040, "answer_id": 33785994, "question_id": 33785800, "link": "https://stackoverflow.com/questions/33785800/how-to-turn-rvalue-to-lvalue-of-a-pointer/33785994#33785994", "title": "How to turn rvalue to lvalue of a pointer?", "body": "<p><code>AttrDec(&amp;Attr(name))</code> is trying to take the address of a temporary object.  The address-of operator can only be used on <code>lvalues</code>.</p>\n\n<p>What you could do is change <code>XAttr</code> to </p>\n\n<pre><code>class XAttr : public AttrDec\n{\npublic:\n   XAttr(const std::wstring&amp; name)\n      :AttrDec(new Attr(name)) // create a pointer here\n   {}\n};\n</code></pre>\n\n<p>And then get rid of the <code>rvalue</code> constructor in <code>AttrDec</code>.  You would then need to add a destructor to <code>AttrDec</code> and delete the pointer in it and add a copy constructor to properly copy the pointer otherwise there would be a memory leak.  For more on having a resource mannaging class see: <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">What is The Rule of Three?</a></p>\n"}, {"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1447866412, "post_id": 33786015, "comment_id": 55339078, "body": "This will be OK as long as there are no sub-types of <code>Attr</code>. It breaks down if <code>Attr</code> has sub-types: <code>struct IntAttr : public Attr { ... };</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "edited": false, "score": 0, "creation_date": 1447935342, "post_id": 33786015, "comment_id": 55372712, "body": "It&#39;s nonobvious that the OP actually wants dynamic polymorphism. And if he does, IMO it&#39;s cleaner to make a wrapper with value semantics that holds a pointer inside."}], "tags": [], "owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1447866122, "creation_date": 1447866122, "answer_id": 33786015, "question_id": 33785800, "link": "https://stackoverflow.com/questions/33785800/how-to-turn-rvalue-to-lvalue-of-a-pointer/33786015#33786015", "title": "How to turn rvalue to lvalue of a pointer?", "body": "<p>The right way to solve this is to store by value and then let move do its thing. Moving pointers won't move the underlying temporary value that will still <em>go away</em>, and you'll have a moved dangling pointer to nowhere:</p>\n\n<pre><code>class Attr\n{\npublic:\n   Attr();\n   /*explicit depending on needs*/ Attr(const std::wstring&amp; name)\n   {\n      ...\n   }\n}\n\nclass AttrDec : public Attr\n{\npublic:\n   AttrDec(Attr attr)\n      :Attr()\n      , attr_(attr)\n   {\n   }\n   AttrDec(Attr&amp;&amp; attr)\n      :Attr()\n      , attr_(std::move(attr))\n   {\n   }\n\nprivate:\n   Attr attr_;\n}\n\nclass XAttr : public AttrDec\n{\npublic:\n   XAttr(const std::wstring&amp; name)\n      : AttrDec(Attr(name)) //HERE!!!\n   {}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2741, "user_id": 2036161, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ba65c6994b3945d68ea848b7d8a27253?s=128&d=identicon&r=PG", "display_name": "ventsyv", "link": "https://stackoverflow.com/users/2036161/ventsyv"}, "is_accepted": false, "score": 0, "last_activity_date": 1447866464, "last_edit_date": 1447866464, "creation_date": 1447866125, "answer_id": 33786016, "question_id": 33785800, "link": "https://stackoverflow.com/questions/33785800/how-to-turn-rvalue-to-lvalue-of-a-pointer/33786016#33786016", "title": "How to turn rvalue to lvalue of a pointer?", "body": "<p>Rvalues were added to the language to prevent extensive copying of objects, the creation of temporaries etc, but pointers are in essence simple ints so you are not gaining anything by using them on an int.\nThe overhead of using rvalues will almost certainly be higher than just copying the pointer.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1447934843, "creation_date": 1447934843, "answer_id": 33803519, "question_id": 33785800, "link": "https://stackoverflow.com/questions/33785800/how-to-turn-rvalue-to-lvalue-of-a-pointer/33803519#33803519", "title": "How to turn rvalue to lvalue of a pointer?", "body": "<p>You need lifetime management.</p>\n\n<p>Aasuming non-view semantics on decoration (the decorator owns the decorated), and no need for value samantics (rare if your base class is abstract), this may work:</p>\n\n<pre><code>struct Attr {\n  Attr();\n  Attr(const std::wstring&amp; name)\n  {}\n};\n\nstruct AttrDec : Attr {\n  AttrDec(std::unique_ptr&lt;Attr&gt;&amp;&amp; attr){\n    _attr = std::move(attr);\n  }\nprivate:\n  std::unique_ptr&lt;Attr&gt; _attr;\n};\n\nstruct XAttr : AttrDec {\n  XAttr(const std::wstring&amp; name)\n   :AttrDec(std::make_unique&lt;Attr&gt;(name))\n  {}\n};\n</code></pre>\n\n<p>If your <code>std</code> lacks <code>make_unique</code> (C++14), here is an implementation:</p>\n\n<pre><code>namespace notstd{\n  template&lt;class T,class...Args&gt;\n  std::unique_ptr&lt;T&gt; make_unique(Args&amp;&amp;...args){\n    return std::unique_ptr&lt;T&gt;(new T(std::forward&lt;Args&gt;(args)...));\n  }\n}\n</code></pre>\n\n<p>Which is far cleaner than a raw call to <code>new</code>.</p>\n\n<p>The main difference is that the above makrs ownership explicit.</p>\n\n<p>Variations that use shared pointers, value semantics pointers with clone support, or even view pointers can work: the last option requires <code>XAttr</code> provide independent storage in a second base class for the attr.</p>\n"}], "owner": {"reputation": 75, "user_id": 2198304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c630b164c667242252917bda7bc635e9?s=128&d=identicon&r=PG", "display_name": "rich", "link": "https://stackoverflow.com/users/2198304/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1447934843, "creation_date": 1447865456, "last_edit_date": 1447866215, "question_id": 33785800, "link": "https://stackoverflow.com/questions/33785800/how-to-turn-rvalue-to-lvalue-of-a-pointer", "title": "How to turn rvalue to lvalue of a pointer?", "body": "<pre><code>class Attr\n{\npublic:\n   Attr();\n   Attr(const std::wstring&amp; name)\n   {\n      ...\n   }\n};\n\nclass AttrDec : public Attr\n{\npublic:\n   AttrDec(Attr* attr)\n      :Attr()\n   {\n      _attr = attr;\n   }\n   AttrDec(Attr*&amp;&amp; attr)\n      :Attr()\n   {\n      _attr = std::move(attr);\n   }\n\nprivate:\n   Attr* _attr;\n};\n\nclass XAttr : public AttrDec\n{\npublic:\n   XAttr(const std::wstring&amp; name)\n      :AttrDec(&amp;Attr(name)) //HERE!!!\n   {}\n}\n</code></pre>\n\n<p>at the marked position I got a warning:</p>\n\n<blockquote>\n  <p>nonstandard extension used: class rvalue used as lvalue.</p>\n</blockquote>\n\n<p>But I have defined move constructor in class <code>AttrDec</code>!</p>\n\n<p><strong>How can I solve this warning?</strong></p>\n"}, {"tags": ["c++", "file-io", "casting", "unsigned-char", "istringstream"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1447865503, "post_id": 33785739, "comment_id": 55338423, "body": "You may use unformatted input: <code>std::istream::get</code> for bytes."}, {"owner": {"reputation": 229, "user_id": 2600959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c19ce42b79f775524fd6032f8034d7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2600959", "link": "https://stackoverflow.com/users/2600959/user2600959"}, "edited": false, "score": 0, "creation_date": 1447865838, "post_id": 33785739, "comment_id": 55338666, "body": "The question isn&#39;t to fix the code, it&#39;s what type of casting/truncation is occurring?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1447866089, "post_id": 33785739, "comment_id": 55338843, "body": "Please be clearer as to your input data. At the moment we can only <i>guess</i> at its format, because &quot;read values from a file&quot; tells us effectively nothing! My guess is space-delimited numbers in the range 0&lt;=x&lt;=255 in human-readable decimal via ASCII."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1447866401, "post_id": 33785739, "comment_id": 55339069, "body": "/OT @LightnessRacesinOrbit Seems I&#39;m getting old and lame ;-) ..."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 2600959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c19ce42b79f775524fd6032f8034d7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2600959", "link": "https://stackoverflow.com/users/2600959/user2600959"}, "edited": false, "score": 0, "creation_date": 1447865957, "post_id": 33785954, "comment_id": 55338752, "body": "Thank you! This is the answer I was looking for!"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "reply_to_user": {"reputation": 229, "user_id": 2600959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c19ce42b79f775524fd6032f8034d7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2600959", "link": "https://stackoverflow.com/users/2600959/user2600959"}, "edited": false, "score": 2, "creation_date": 1447866159, "post_id": 33785954, "comment_id": 55338888, "body": "You might as well check whether the value is in the range of <code>unsigned char</code> before the cast."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1447878030, "post_id": 33785954, "comment_id": 55346215, "body": "Casting to <code>unsigned char</code> is well-defined so there&#39;s no need to do a check, unless you want to have special handling for unexpected values"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1447878193, "post_id": 33785954, "comment_id": 55346322, "body": "I meant you&#39;d want to handle the case that you read <code>257</code> for example, and end up with <code>1</code>."}], "tags": [], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "is_accepted": true, "score": 3, "last_activity_date": 1447936109, "last_edit_date": 1447936109, "creation_date": 1447865903, "answer_id": 33785954, "question_id": 33785739, "link": "https://stackoverflow.com/questions/33785739/c-reading-ints-as-unsigned-chars-using-istringstream/33785954#33785954", "title": "C++ Reading ints as unsigned chars using istringstream", "body": "<p>There's no casting, this behavior is due to overloading.</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt2\" rel=\"nofollow\"><code>std::basic_istream::operator&gt;&gt;</code></a> happens to be overloaded for <code>char</code> types, extracting only one character at a time - <code>1</code>, ASCII value of which is <code>49</code>. This is the behavior you want, when you're reading single characters and it's assumed, that you want exactly that, when you're extracting to a character type.</p>\n\n<p>To read the text as whitespace-delimited numbers, you have to use a larger type for the extraction e.g. <code>unsigned short</code> or <code>std::uint16_t</code> and then cast to <code>unsigned char</code>.</p>\n"}], "owner": {"reputation": 229, "user_id": 2600959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c19ce42b79f775524fd6032f8034d7e?s=128&d=identicon&r=PG&f=1", "display_name": "user2600959", "link": "https://stackoverflow.com/users/2600959/user2600959"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 33785954, "answer_count": 1, "score": 1, "last_activity_date": 1447936109, "creation_date": 1447865327, "last_edit_date": 1447868707, "question_id": 33785739, "link": "https://stackoverflow.com/questions/33785739/c-reading-ints-as-unsigned-chars-using-istringstream", "title": "C++ Reading ints as unsigned chars using istringstream", "body": "<p>When using <code>std::istringstream</code> to read gray pixel values from a file (0-255), I notice a strange behavior and I can't understand what is happening.</p>\n\n<p>To conserve memory, I want to read these values into unsigned chars (since they have the same 0-255 range). However, there appears to be some sort of casting/truncation going on. </p>\n\n<p>Input file:</p>\n\n<pre><code>194\n194\n155\n155\n124\n194\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>getline(fp, line); \nunsigned char temp;\nistringstream iss(line);\niss &gt;&gt; temp;\n</code></pre>\n\n<p>When the value in the file is <code>194</code>, for instance, the integer value for temp is <code>49</code>... </p>\n\n<p>What type of casting is going on?</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447866755, "post_id": 33785678, "comment_id": 55339321, "body": "The error indicates, that you have to include the header file of <code>CSubDlg</code>."}, {"owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "reply_to_user": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447867040, "post_id": 33785678, "comment_id": 55339484, "body": "@MartinZabel The header file is included :/"}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447867208, "post_id": 33785678, "comment_id": 55339595, "body": "Is the namespace right? Can you declare a variable like <code>CSubDlg *p</code> before."}, {"owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "reply_to_user": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447867511, "post_id": 33785678, "comment_id": 55339784, "body": "Looks like there is something wrong with the include. When I had it above all includes it was recognized as a class in RUNTIME_CLASS() but I could not declare a variable. When I moved it down I could declare one but I get 155 random errors"}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447867868, "post_id": 33785678, "comment_id": 55340029, "body": "Are the class and header files originally created by Visual Studio? Or maybe, do you copied one class/header file and missed to update the <code>#ifdef</code> protecting the multiple inclusion of a header."}, {"owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "reply_to_user": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "edited": false, "score": 0, "creation_date": 1447868257, "post_id": 33785678, "comment_id": 55340263, "body": "I&#39;ve created the files. But I have not added any <code>#ifdef</code> or <code>#ifndef</code>"}, {"owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "reply_to_user": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "edited": false, "score": 0, "creation_date": 1447868468, "post_id": 33785678, "comment_id": 55340394, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/95473/discussion-between-martin-zabel-and-johan-magnusson\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3448, "user_id": 5466118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5af41e2f2230c199ad274d363eda32?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zabel", "link": "https://stackoverflow.com/users/5466118/martin-zabel"}, "is_accepted": true, "score": 0, "last_activity_date": 1447866617, "creation_date": 1447866617, "answer_id": 33786167, "question_id": 33785678, "link": "https://stackoverflow.com/questions/33785678/determine-type-of-active-window/33786167#33786167", "title": "Determine type of active window", "body": "<p>The usage of <code>isKindOf</code> is described in the <a href=\"https://msdn.microsoft.com/de-de/library/b7tsah76.aspx\" rel=\"nofollow\">MSDN Library</a> (switch language if required).</p>\n\n<p>Assuming that <code>CWnd</code> implements the required interfaces you just have to pass <code>RUNTIME_CLASS(CSubDlg)</code> as the argument to <code>isKindOf</code>, e.g.:</p>\n\n<pre><code>CWnd* pWnd = ((CMainFrame *)AfxGetMainWnd())-&gt;GetActiveWindow();\nbool bIsSubclass = pWnd-&gt;IsKindOf(RUNTIME_CLASS(CSubDlg));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 0, "last_activity_date": 1447871911, "last_edit_date": 1447871911, "creation_date": 1447871152, "answer_id": 33787545, "question_id": 33785678, "link": "https://stackoverflow.com/questions/33785678/determine-type-of-active-window/33787545#33787545", "title": "Determine type of active window", "body": "<p>To allow getting run-time class info for a given object, you'll have to use  <code>DECLARE_DYNAMIC</code>/<code>IMPLEMENT_DYNAMIC</code> or <code>DECLARE_DYNCREATE</code>/<code>IMPLEMENT_DYNCREATE</code> macros. So you'll get </p>\n\n<ol>\n<li>the ability to access run-time information about an object's class,\ni.e. a <code>CRuntimeClass</code> type member and <code>GetRuntimeClass()</code> function. </li>\n<li>the ability to dynamically create at run-time, i.e. <code>CreateObject()</code>\nmember function.</li>\n</ol>\n\n<p>Here is the recipe:</p>\n\n<ol>\n<li>Specify <code>DECLARE_DYNCREATE(CSubDlg)</code> in your header file</li>\n<li>Specify <code>IMPLEMENT_DYNCREATE(CSubDlg, CDialog)</code> in your cpp file </li>\n</ol>\n\n<p>After that you should be able to use the following syntax:</p>\n\n<pre><code>BOOL bIsSubclass = pWnd-&gt;IsKindOf(RUNTIME_CLASS(CSubDlg));\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 33786167, "answer_count": 2, "score": 0, "last_activity_date": 1447871911, "creation_date": 1447865120, "last_edit_date": 1447866660, "question_id": 33785678, "link": "https://stackoverflow.com/questions/33785678/determine-type-of-active-window", "title": "Determine type of active window", "body": "<p>I have a dialog class and a class derived from the dialog class. Now I want to know if the active modal is the base class or the sub class.</p>\n\n<p><code>CBaseDlg</code> and <code>CSubDlg</code></p>\n\n<p>Can I use something like this?</p>\n\n<pre><code>bool bIsSubclass;\n\nCWnd* pWnd;\npWnd=((CMainFrame *)AfxGetMainWnd())-&gt;GetActiveWindow();\nbIsSubclass = pWnd-&gt;IsKindOf();\n</code></pre>\n\n<p>or this?</p>\n\n<pre><code>bool bIsSubclass;\n\nCWnd* pWnd;\nCRuntimeClass* pRuntimeClass = pWnd-&gt;GetRuntimeClass();\nbIsSubclass = pRuntimeClass-&gt;IsDerivedFrom(RUNTIME_CLASS());\n</code></pre>\n\n<p>If so, what do I pass into IsKindOf or Runtime_class? </p>\n\n<p>Or is there any other way to determine the class?</p>\n\n<p>Edit:</p>\n\n<p>I've tried this but I get an error:</p>\n\n<pre><code>bIsSubclass = pWnd-&gt;IsKindOf(RUNTIME_CLASS(CSubDlg));\n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>bIsSubclass = pRuntimeClass-&gt;IsDerivedFrom(RUNTIME_CLASS(CSubDlg));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iZ8yg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZ8yg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "hashtable", "chaining"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1447865088, "post_id": 33785565, "comment_id": 55338107, "body": "From the article I see that this is HashMap, which is used for getting values based on key. What you are looking for is, probably, HashSet."}, {"owner": {"reputation": 3343, "user_id": 1983409, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T95Sg.jpg?s=128&g=1", "display_name": "zdf", "link": "https://stackoverflow.com/users/1983409/zdf"}, "edited": false, "score": 2, "creation_date": 1447865140, "post_id": 33785565, "comment_id": 55338137, "body": "I guess you don&#39;t understand what a map is."}, {"owner": {"reputation": 391, "user_id": 2092844, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-agKJOpnrbP8/AAAAAAAAAAI/AAAAAAAAASw/8y_2dV0oqvE/photo.jpg?sz=128", "display_name": "nani", "link": "https://stackoverflow.com/users/2092844/nani"}, "edited": false, "score": 0, "creation_date": 1447866094, "post_id": 33785565, "comment_id": 55338847, "body": "Actually I want user to insert only value like this app <a href=\"https://www.cs.usfca.edu/~galles/visualization/OpenHash.html\" rel=\"nofollow noreferrer\">cs.usfca.edu/~galles/visualization/OpenHash.html</a> . Thanks for mention about the HashMap, I don&#39;t know about that before"}], "answers": [{"comments": [{"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1447865469, "post_id": 33785672, "comment_id": 55338400, "body": "In that case the site uses very bad wording. You don&#39;t store data &quot;at&quot; a key, you store it &quot;under&quot; a key. Basic English. In the phone book, my name is &quot;at&quot; page 73, but &quot;under&quot; the key &quot;gnasher&quot;."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "reply_to_user": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1447865678, "post_id": 33785672, "comment_id": 55338544, "body": "Don&#39;t shoot the messenger ;)"}], "tags": [], "owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "is_accepted": false, "score": 0, "last_activity_date": 1447865090, "creation_date": 1447865090, "answer_id": 33785672, "question_id": 33785565, "link": "https://stackoverflow.com/questions/33785565/why-must-user-input-key-in-c-code-of-hash-table-chaining/33785672#33785672", "title": "Why must user input key in c++ code of Hash Table Chaining", "body": "<p>In general, hashtables store <em>key-value pair</em>s.</p>\n\n<p>Perhaps in your mental model there's a simplified version of a hashtable where the key is calculated based on the value?</p>\n"}, {"comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1447865579, "post_id": 33785717, "comment_id": 55338474, "body": "&quot;you just make the hash table big enough and the hash function good enough to avoid collisions&quot; - this isn&#39;t realistic (=sane) at all.. where have you heard all this?"}], "tags": [], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": 0, "last_activity_date": 1447865266, "creation_date": 1447865266, "answer_id": 33785717, "question_id": 33785565, "link": "https://stackoverflow.com/questions/33785565/why-must-user-input-key-in-c-code-of-hash-table-chaining/33785717#33785717", "title": "Why must user input key in c++ code of Hash Table Chaining", "body": "<p>The usual method is that a hash value is calculated from the key, from the hash value we calculate the preferred index into the table, plus (hopefully rarely) a sequence of alternative indexes. The hash value should be calculated in a way that it is a close as possible to random looking. The preferred index is usually just hash value modulo table size. The alternative indexes are calculated using a more or less complicated algorithm - in the most trivial case just (hash value + i) modulo table size for the i-th alternative address. </p>\n\n<p>Never, ever have I seen a hash table implementation where the user or the software developer was asked to provide an alternative index. </p>\n\n<p>Actually, any storage of data outside the hash table, for example in a double linked list, has really gone out of fashion. You just make the hash table big enough and the hash function good enough to avoid collisions, and if the amount of data grows then you allocate a bigger table, automatically, behind the user's back </p>\n"}], "owner": {"reputation": 391, "user_id": 2092844, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-agKJOpnrbP8/AAAAAAAAAAI/AAAAAAAAASw/8y_2dV0oqvE/photo.jpg?sz=128", "display_name": "nani", "link": "https://stackoverflow.com/users/2092844/nani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447865266, "creation_date": 1447864787, "question_id": 33785565, "link": "https://stackoverflow.com/questions/33785565/why-must-user-input-key-in-c-code-of-hash-table-chaining", "title": "Why must user input key in c++ code of Hash Table Chaining", "body": "<p>I just need some clarification on c++ code. </p>\n\n<p>According to <a href=\"http://www.sanfoundry.com/cpp-program-hash-tables-doubly-linked-list/\" rel=\"nofollow\">http://www.sanfoundry.com/cpp-program-hash-tables-doubly-linked-list/</a> ,\nI found that user need to input <code>value</code> and <code>key</code>. I can understand on why user need to input the <code>value</code> but why in the world user need to input <code>key</code>?? </p>\n\n<p>1) We know that the element will be located into the hash table by using hash function(eg: modulo: <strong>element % TABLE_SIZE</strong>). But in this code, they ask user to input which number of position in hash table they want to put their value into:</p>\n\n<pre><code>\"Enter key at which element to be inserted: \";\n</code></pre>\n\n<p>From my understanding, user will never allowed to input their chosen position or key for their element because of an existent of hash function.</p>\n\n<p>I'm so lost in this so please help me, I know there are many expert here so that's why I'm looking for the answer here </p>\n"}, {"tags": ["c++", "c++11", "time", "chrono"], "comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1447864902, "post_id": 33785564, "comment_id": 55337993, "body": "You don&#39;t mention ntp in your question. How is it a relevant tag?"}, {"owner": {"reputation": 2179, "user_id": 2630666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VIN5F.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2630666/matt"}, "edited": false, "score": 0, "creation_date": 1447865660, "post_id": 33785564, "comment_id": 55338531, "body": "Did you try <code>double newTime = static_cast&lt;double&gt;(timepointoffset);</code> or something similar?"}, {"owner": {"reputation": 1094, "user_id": 5081265, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/989bdc7ec91fc4e2accea93f2d5bc78a?s=128&d=identicon&r=PG", "display_name": "ecain", "link": "https://stackoverflow.com/users/5081265/ecain"}, "edited": false, "score": 0, "creation_date": 1447872815, "post_id": 33785564, "comment_id": 55342972, "body": "Matt, I did try that and it does not work."}, {"owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 0, "creation_date": 1482014583, "post_id": 33785564, "comment_id": 69606839, "body": "long <a href=\"http://stackoverflow.com/questions/31255486/c-how-do-i-convert-a-stdchronotime-point-to-long-and-back\" title=\"c how do i convert a stdchronotime point to long and back\">stackoverflow.com/questions/31255486/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2647, "user_id": 2891462, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a27bd5b9762d5fad9cffc4f4f2812046?s=128&d=identicon&r=PG&f=1", "display_name": "user2891462", "link": "https://stackoverflow.com/users/2891462/user2891462"}, "is_accepted": false, "score": 0, "last_activity_date": 1447865578, "last_edit_date": 1495540426, "creation_date": 1447865578, "answer_id": 33785847, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point/33785847#33785847", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<p>You can cast <code>timepointoffset</code> to <code>std::time_t</code> and then cast it to double:</p>\n\n<pre><code>std::time_t offsetTimet = std::chrono::system_clock::to_time_t(timepointoffset);\ndouble offsetDouble = static_cast&lt;double&gt;(offsetTimet);\n</code></pre>\n\n<p>Be aware that while <code>std::time_t</code> is normally an integer type, <a href=\"https://stackoverflow.com/questions/2792551/what-primitive-data-type-is-time-t\">there is no guarantee</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1094, "user_id": 5081265, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/989bdc7ec91fc4e2accea93f2d5bc78a?s=128&d=identicon&r=PG", "display_name": "ecain", "link": "https://stackoverflow.com/users/5081265/ecain"}, "edited": false, "score": 0, "creation_date": 1447873520, "post_id": 33785946, "comment_id": 55343418, "body": "Thanks for the answer, I believe I did as you said, but I am still getting a warning that there is a possible loss of data. Am I doing it incorrectly?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 1094, "user_id": 5081265, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/989bdc7ec91fc4e2accea93f2d5bc78a?s=128&d=identicon&r=PG", "display_name": "ecain", "link": "https://stackoverflow.com/users/5081265/ecain"}, "edited": false, "score": 0, "creation_date": 1447886488, "post_id": 33785946, "comment_id": 55350770, "body": "@Elijah maybe you are, or maybe there is something else wrong with your code. The exact warning message and the line that it points to should reveal what&#39;s wrong."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 2, "last_activity_date": 1447865892, "creation_date": 1447865892, "answer_id": 33785946, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point/33785946#33785946", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<p>The <code>time_point</code> template has a member function <code>time_point::time_since_epoch</code> that returns the time since epoch as a <code>duration</code> object. <code>duration</code> is a template type and the exact duration type returned by the function is the same as the <code>Duration</code> template parameter of the <code>time_point</code>. The type of <code>time_point</code> returned by <code>system_clock::now()</code> on the other hand is implementation defined.</p>\n\n<p>You want the time in a specific representation. To achieve that, you must have the duration of the desired type. In this case, you want <code>std::duration&lt;double, std::ratio&lt;1&gt;&gt;</code>. To get the duration returned by <code>time_since_epoch</code>  in correct type, you can cast it using <code>std::chrono::duration_cast</code>. When you have  the duration of the correct representation, you can use the <code>count</code> member function of <code>duration</code> to get the value in the desired representation.</p>\n"}, {"tags": [], "owner": {"reputation": 3667, "user_id": 3288910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2b8044eca80b9a707c716c530d9f5?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/3288910/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1447875805, "last_edit_date": 1447875805, "creation_date": 1447875406, "answer_id": 33788847, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point/33788847#33788847", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<blockquote>\n  <p>So I need to add that the problem is that I need to do it without a risk of losing data. I have this code:</p>\n</blockquote>\n\n<p>There is no way to do this in general.  When you convert from an integer type to a floating point type, you will typically lose precision.  Using <a href=\"https://en.wikipedia.org/wiki/IEEE_floating_point\" rel=\"nofollow\">floating point</a>, the bits are split into a mantissa and an exponent.  Since an integer has no bits allocated for an exponent, there are generally fewer bits of precision to represent the value.</p>\n\n<p>For example, converting from <code>int64_t</code> to <code>double</code>.  An <code>int64_t</code> has 1 sign bit, and 63 value bits.  A double has 1 sign bit, 11 exponent bits, and 52 mantissa bits.  So converting from <code>int64_t</code> (63) to <code>double</code> (52), you can lose up to 11 bits of information.</p>\n"}, {"tags": [], "owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "is_accepted": false, "score": 1, "last_activity_date": 1482017166, "creation_date": 1482017166, "answer_id": 41204033, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point/41204033#41204033", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<pre><code>std::cout &lt;&lt; std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(\n  std::chrono::system_clock::now().time_since_epoch()).count() &lt;&lt; std::endl;\n</code></pre>\n\n<p>appears to be the correct way to get a long: <a href=\"http://en.cppreference.com/w/cpp/chrono/time_point/time_since_epoch\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/chrono/time_point/time_since_epoch</a> which you can then convert to double.</p>\n"}, {"tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": false, "score": 5, "last_activity_date": 1482083453, "last_edit_date": 1482083453, "creation_date": 1482081470, "answer_id": 41210880, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point/41210880#41210880", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<p>This program:</p>\n\n<pre><code>#include &lt;chrono&gt;\n#include &lt;cmath&gt;\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n    using namespace std::chrono;\n    auto tp = system_clock::now() + 0ns;\n    double t1 = tp.time_since_epoch().count();\n    double t2 = std::nextafter(t1, INFINITY);\n    std::cout &lt;&lt; t2-t1 &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>currently outputs:</p>\n\n<pre><code>256\n</code></pre>\n\n<p>This means that currently a double can not exactly represent the number of nanoseconds since 1970-01-01 00:00:00 UTC.  A double can represent a unit equal to 256ns (about a quarter of a microsecond).</p>\n\n<p>This has been true since 2006-07-14 23:58:24.606847232.  Before then (for a while), a double could represent with a precision of 128ns.</p>\n\n<p>At 2043-01-25 23:56:49.213694464 UTC a double will start being able to represent a precision of only 512ns.</p>\n\n<p>A double can store a <code>system_clock::time_point</code> with nanosecond precision only in the approximate range of 1969-09-18 18:00:01 to 1970-04-15 05:59:59.</p>\n\n<p>This analysis of course assumes an IEEE 64 bit double.</p>\n"}], "owner": {"reputation": 1094, "user_id": 5081265, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/989bdc7ec91fc4e2accea93f2d5bc78a?s=128&d=identicon&r=PG", "display_name": "ecain", "link": "https://stackoverflow.com/users/5081265/ecain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5272, "favorite_count": 1, "accepted_answer_id": 33785946, "answer_count": 5, "score": 2, "last_activity_date": 1482083453, "creation_date": 1447864785, "last_edit_date": 1482081724, "question_id": 33785564, "link": "https://stackoverflow.com/questions/33785564/how-do-i-get-seconds-since-epoch-as-a-double-given-a-time-point", "title": "How do I get seconds since epoch as a double, given a time point?", "body": "<p>I have a function from a library i'm using that requires a double as a parameter. It needs to be passed an offset of type nanoseconds plus the sytem_clock::now(). I have this code so far: </p>\n\n<pre><code>system_clock::time_point now = std::chrono::system_clock::now(); \n    auto timepointoffset = (now + desiredOffset);\n</code></pre>\n\n<p>How can I make this a double?</p>\n\n<p>Edit: So I need to add that the problem is that I need to do it without a risk of losing data. I have this code: </p>\n\n<pre><code>    system_clock::time_point now = std::chrono::system_clock::now(); \n    auto timepointoffset =  std::chrono::time_point_cast&lt;std::chrono::nanoseconds&gt;(now + desiredOffset);\n    double value = timepointoffset.time_since_epoch().count();\n</code></pre>\n\n<p>The problem is that the compiler says that there is a possible loss of data. </p>\n"}, {"tags": ["c++", "class", "object", "header"], "comments": [{"owner": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 1, "creation_date": 1447864875, "post_id": 33785424, "comment_id": 55337966, "body": "Your question is kinda unsolvable because C++ is <b>case-sensitive</b>. There is no <code>Class</code> keyword and <code>shader.h</code> is not <code>Shader.h</code>."}, {"owner": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "reply_to_user": {"reputation": 14429, "user_id": 3494013, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ff6b6de2f59471e271413f74921e054a?s=128&d=identicon&r=PG&f=1", "display_name": "cadaniluk", "link": "https://stackoverflow.com/users/3494013/cadaniluk"}, "edited": false, "score": 0, "creation_date": 1447865217, "post_id": 33785424, "comment_id": 55338200, "body": "Apparently my IDE/compiler is not case-sensitive for includes. Didn&#39;t change anything."}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 3, "last_activity_date": 1447864690, "creation_date": 1447864690, "answer_id": 33785533, "question_id": 33785424, "link": "https://stackoverflow.com/questions/33785424/declare-object-in-header/33785533#33785533", "title": "Declare object in header", "body": "<p>Initialise the member variable in the constructors member initializer list like so:</p>\n\n<pre><code>Renderer::Renderer() : m_terrainShader(\"vertex.txt\", \"fragment.txt\") {\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447865068, "post_id": 33785543, "comment_id": 55338093, "body": "Thank you, but is there no way that I can initialize Shader in the Renderer constructor? This solution is fine atm, but in the future I would like to initialize it in the constructor for several reasons."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447865284, "post_id": 33785543, "comment_id": 55338248, "body": "Not if <code>Shader</code> is not default constructable.  It is the preferred and sometimes only way to construct an object.  <a href=\"http://stackoverflow.com/questions/926752/why-should-i-prefer-to-use-member-initialization-list\" title=\"why should i prefer to use member initialization list\">stackoverflow.com/questions/926752/&hellip;</a>"}, {"owner": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447865709, "post_id": 33785543, "comment_id": 55338563, "body": "Is the only solution the to re-initialize it?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447865882, "post_id": 33785543, "comment_id": 55338696, "body": "@KaareZ Why would you need to re-initialize it?  You can construct the members directly in the initialization list.  can you show me an example of what you are trying to do and why list initialization does not work for you?"}, {"owner": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447866162, "post_id": 33785543, "comment_id": 55338891, "body": "I want to be able to choose which &quot;vertex.txt&quot; and &quot;fragment.txt&quot; to use. For example by loading a settings file in the Renderer constructor. Also I&#39;m not a fan of the style, but that is of course second priority."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447923181, "post_id": 33785543, "comment_id": 55364108, "body": "@KaareZ The only way is to use a pointer (<code>std::unique_ptr</code> ideally) for the <code>m_terrainShader</code> then."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "edited": false, "score": 0, "creation_date": 1447937406, "post_id": 33785543, "comment_id": 55374169, "body": "@KaareZ It could also be possible to use a function to create the object that you want and call that function in the initializer list.   <code>m_terrainShader(create_shader(some_values))</code>"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1447864731, "creation_date": 1447864731, "answer_id": 33785543, "question_id": 33785424, "link": "https://stackoverflow.com/questions/33785424/declare-object-in-header/33785543#33785543", "title": "Declare object in header", "body": "<p>You will need to initialize <code>m_terrainShader</code> in the class <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow\">initializer list</a> since it is not default constructable.</p>\n\n<pre><code>Renderer::Renderer() : m_terrainShader(\"vertex.txt\", \"fragment.txt\"){}\n</code></pre>\n\n<p>The reason you have to do this is that when you enter the body of the constructor all of the class members are already initialized.  Since <code>m_terrainShader</code> cannot be default initialized you have to explicitly initialize it.</p>\n"}], "owner": {"reputation": 535, "user_id": 3409611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/642325a78c8d33faf69883c6c4323140?s=128&d=identicon&r=PG&f=1", "display_name": "KaareZ", "link": "https://stackoverflow.com/users/3409611/kaarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2778, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447864731, "creation_date": 1447864459, "question_id": 33785424, "link": "https://stackoverflow.com/questions/33785424/declare-object-in-header", "title": "Declare object in header", "body": "<p>How can I declare an object without initializing it?</p>\n\n<p>This is my header file</p>\n\n<pre><code>    #include \"shader.h\"\n\n    Class Renderer {\n        private:\n        kaarez::graphics::Shader m_terrainShader;\n    };\n</code></pre>\n\n<p>And my source file</p>\n\n<pre><code>    #include \"Renderer.h\"\n    #include \"Shader.h\"\n\n    Renderer::Renderer() {\n        //Load terrain shader\n        m_terrainShader =  kaarez::graphics::Shader(\"vertex.txt\", \"fragment.txt\");\n    }\n</code></pre>\n\n<p>I get the error that theres no appropriate default constructor available for Shader.</p>\n\n<p>Shader is header-only, and it works when I declare it in the main method by <code>kaarez::graphics::Shader terrainShader(\"vertex.txt\", \"fragment.txt\");</code></p>\n\n<p>What is wrong?</p>\n"}, {"tags": ["c++", "c++11", "visual-c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1447864342, "post_id": 33785348, "comment_id": 55337586, "body": "<i>&quot;... without writing the parameter types explicitly a second time?&quot;</i> May be a typedef?"}, {"owner": {"reputation": 14898, "user_id": 1133179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e3a760e170dcbd539461a86a397f1abe?s=128&d=identicon&r=PG", "display_name": "luk32", "link": "https://stackoverflow.com/users/1133179/luk32"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1447864597, "post_id": 33785348, "comment_id": 55337769, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 <a href=\"http://en.cppreference.com/w/cpp/language/type_alias\" rel=\"nofollow noreferrer\"><code>using</code> type alias ftw</a>."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 14898, "user_id": 1133179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e3a760e170dcbd539461a86a397f1abe?s=128&d=identicon&r=PG", "display_name": "luk32", "link": "https://stackoverflow.com/users/1133179/luk32"}, "edited": false, "score": 0, "creation_date": 1447864749, "post_id": 33785348, "comment_id": 55337868, "body": "@luk32 Should work equally well."}, {"owner": {"reputation": 394, "user_id": 2964487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9f82b2101d2727ef36b0c5301ea2fe?s=128&d=identicon&r=PG&f=1", "display_name": "Banan", "link": "https://stackoverflow.com/users/2964487/banan"}, "edited": false, "score": 1, "creation_date": 1447865686, "post_id": 33785348, "comment_id": 55338551, "body": "You could also do an &#39;evil&#39; macro: <code>#define member_creator(a,b) decltype(b) a = b</code> (or the like). Usage: <code>member_creator(mybitvector, CreateBitVector(&quot;Item1&quot;, int(1), &quot;Item2&quot;, std::string(&quot;defval&quot;)...));</code> would create a member named <code>mybitvector</code>of the same type as returned by <code>CreateBitVector</code>. Maybe not the prettiest solution."}, {"owner": {"reputation": 611, "user_id": 4003134, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8c6129c1b2c7851c62d6152fe4572d0a?s=128&d=identicon&r=PG&f=1", "display_name": "x y", "link": "https://stackoverflow.com/users/4003134/x-y"}, "reply_to_user": {"reputation": 394, "user_id": 2964487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9f82b2101d2727ef36b0c5301ea2fe?s=128&d=identicon&r=PG&f=1", "display_name": "Banan", "link": "https://stackoverflow.com/users/2964487/banan"}, "edited": false, "score": 0, "creation_date": 1447944481, "post_id": 33785348, "comment_id": 55379406, "body": "@Banan it is pretty in a sense that the definition / declaration is self-contained (i.e. all at one location)"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1447865059, "creation_date": 1447865059, "answer_id": 33785660, "question_id": 33785348, "link": "https://stackoverflow.com/questions/33785348/how-to-declare-the-type-of-a-variadic-templated-class-in-a-simple-way/33785660#33785660", "title": "How to declare the type of a variadic templated class in a simple way", "body": "<p>Create a type alias with all the template parameters.</p>\n\n<pre><code>using MyBitVector_t = std::shared_ptr&lt;BitVector&lt;char const*, int, std::string&gt;&gt;;\n</code></pre>\n\n<p>Use the type alias to declare a member.</p>\n\n<pre><code>MyBitVector_t mMyBitVector;\n</code></pre>\n\n<p>The type alias can be used to define the return types of functions and types of arguments of functions too.</p>\n"}, {"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1447928958, "last_edit_date": 1447928958, "creation_date": 1447873605, "answer_id": 33788304, "question_id": 33785348, "link": "https://stackoverflow.com/questions/33785348/how-to-declare-the-type-of-a-variadic-templated-class-in-a-simple-way/33788304#33788304", "title": "How to declare the type of a variadic templated class in a simple way", "body": "<p>As suggested in comment, <code>decltype</code> may help:</p>\n\n<pre><code>#define AUTO_MEMBER(memberName, init) decltype(init) memberName = (init)\n\nclass C\n{\npublic:    \n    //...\nprivate:\n    AUTO_MEMBER(mMyBitVector, CreateBitVector(\"Item1\", 1, \"Item2\", std::string(\"defval\")));\n};\n</code></pre>\n\n<p><a href=\"https://ideone.com/HYdqEs\" rel=\"nofollow\">Demo</a></p>\n\n<p>but I would prefer be explicit on member type (and may be using some <code>typedef</code>).</p>\n"}], "owner": {"reputation": 611, "user_id": 4003134, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8c6129c1b2c7851c62d6152fe4572d0a?s=128&d=identicon&r=PG&f=1", "display_name": "x y", "link": "https://stackoverflow.com/users/4003134/x-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 33788304, "answer_count": 2, "score": 0, "last_activity_date": 1447928958, "creation_date": 1447864205, "question_id": 33785348, "link": "https://stackoverflow.com/questions/33785348/how-to-declare-the-type-of-a-variadic-templated-class-in-a-simple-way", "title": "How to declare the type of a variadic templated class in a simple way", "body": "<p>I have a variadic templated struct in VS2013 that uses a templated function to allow automatic type deduction. </p>\n\n<pre><code>template&lt;typename... T&gt; struct BitVector {\n   BitVector(T... args){...}\n}\nusing BitVector_t = struct BitVector&lt;T...&gt;;\n\ntemplate&lt;typename... T&gt;\nstd::shared_ptr&lt;BitVector_t&lt;T...&gt;&gt;\nCreateBitVector(T... args) {\n   auto v = new BitVector_t&lt;T...&gt;(args...);\n   return std::shared_ptr&lt;BitVector_t&lt;T...&gt;(v);\n}\n</code></pre>\n\n<p>With this, I can define the items and defaultvalues of my bitvector in one single line. Furthermore I can easily create a BitVector by calling</p>\n\n<pre><code>auto mybitvector = CreateBitVector(\"Item1\", int(1), \"Item2\", std::string(\"defval\")...);\n</code></pre>\n\n<p>where the types are deduced from the function parameters.\nThis works great with <strong><em>auto</em></strong>, \nbut if I need a certain BitVector as a class member, where no <em>auto</em> is allowed, all efforts to have a clean and simple API, where types and default values are just specified at a <strong><em>single</em></strong> location, seem to be gone, as a class member would require an additional declaration like</p>\n\n<pre><code>std::shared_ptr&lt;\nBitVector&lt;char const*, int, \nchar const*, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt;&gt;&gt;&gt; \nmMyBitVector;\n</code></pre>\n\n<p>Can anyone imagine a simple workaround, to get the member declaration, without writing the parameter types explicitly a second time?</p>\n"}, {"tags": ["c++", "qt", "dll", "cmake", "static-libraries"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1447865729, "post_id": 33785197, "comment_id": 55338581, "body": "<code>I am not able to copy the executables to another computer, since the DLL-files are not included.</code> - which DLL-files you mean? QT ones? Also, you copy executables from one Windows machine to another Windows machine <i>of same architecture</i>, don&#39;t you?"}, {"owner": {"reputation": 2652, "user_id": 1085291, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a637f0938b1d4466e99b9df92d0ee6a7?s=128&d=identicon&r=PG&f=1", "display_name": "casparjespersen", "link": "https://stackoverflow.com/users/1085291/casparjespersen"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1447872486, "post_id": 33785197, "comment_id": 55342740, "body": "@Tsyvarev I mean the Qt DLL-files. Mainly. There are also some other required (appear to be related to Visual Studio, I think). I copy from a Windows 7 x32 machine to Windows 10 x64. Is that a problem?"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 1, "creation_date": 1447873339, "post_id": 33785197, "comment_id": 55343311, "body": "Yes, using executable compiled on x32 platform to x64 one could be a problem. For make this executable work, you have at least to install 32-bit Qt on x64 machine. If you want just to copy QT files to target machine, you probably need to copy them into directory with executable itself. Windows has no notion about RPATH, so placing DLLs at the same place as on host doesn&#39;t make them searchable (until this place is searched on target machine by default)."}, {"owner": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "edited": false, "score": 1, "creation_date": 1447879186, "post_id": 33785197, "comment_id": 55346842, "body": "Consider using windeployqt/macdeployqt as Felix suggests, or CPack."}], "answers": [{"tags": [], "owner": {"reputation": 6147, "user_id": 3767076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64707b213de57fb785081ba23aaea2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3767076/felix"}, "is_accepted": true, "score": 2, "last_activity_date": 1447871761, "creation_date": 1447871761, "answer_id": 33787749, "question_id": 33785197, "link": "https://stackoverflow.com/questions/33785197/library-linking-in-c-qt-distribution/33787749#33787749", "title": "Library linking in C++/Qt distribution", "body": "<p>Have you tried <a href=\"http://doc.qt.io/qt-5/windows-deployment.html#the-windows-deployment-tool\" rel=\"nofollow\">windeployqt</a>? It will automatically copy all dependencies for you application. You can find it in the bin-folder of your Qt-Kit</p>\n\n<p>For Mac, there is a similar tool, called <a href=\"http://doc.qt.io/qt-4.8/deployment-mac.html#the-mac-deployment-tool\" rel=\"nofollow\">macdeployqt</a>.</p>\n"}], "owner": {"reputation": 2652, "user_id": 1085291, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a637f0938b1d4466e99b9df92d0ee6a7?s=128&d=identicon&r=PG&f=1", "display_name": "casparjespersen", "link": "https://stackoverflow.com/users/1085291/casparjespersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 33787749, "answer_count": 1, "score": 0, "last_activity_date": 1448439474, "creation_date": 1447863791, "last_edit_date": 1448439474, "question_id": 33785197, "link": "https://stackoverflow.com/questions/33785197/library-linking-in-c-qt-distribution", "title": "Library linking in C++/Qt distribution", "body": "<p>I am developing a project in C++11, and am not the biggest expert in distrubition, compiling, packaging, etc. I use </p>\n\n<ul>\n<li>CMake 3.1.0</li>\n<li>Qt 5.4 (community edition)</li>\n</ul>\n\n<p>Moreover, I want the program to work on both OS X and Windows. Therefore, my IDEs include:</p>\n\n<ul>\n<li>Apple Xcode 7</li>\n<li>Microsoft Visual Studio 2013</li>\n</ul>\n\n<p>I am having troubles with the Windows build. As of now, I am not able to copy the executables to another computer, since the DLL-files are not included. If I copy all the DLL-files that I receive errors from, it simply says the program was not able to run. I have read a bit about static library linking, but am unsure whether this is what I need.</p>\n\n<p>My CMakeLists.txt looks like this:</p>\n\n<pre><code>set(libsources file1.cpp file2.cpp)\nset(exec1sources file3.cpp file4.cpp)\nset(exec2sources file5.cpp file6.cpp)\n\n# some qt commands\n\nset(CMAKE_RUNTIME_OUTPUT_DIRECTORY ..)\nadd_library(sharedlib ${libsources])\ngenerate_export_header(sharedlib)\nadd_executable(exec1 ${exec1sources})\nadd_executable(exec2 ${exec2sources})\n\ntarget_link_libraries(sharedlib Qt5::A Qt5::B)\ntarget_link_libraries(exec1 Qt5::A Qt5::B sharedlib)\ntarget_link_libraries(exec2 Qt5::A Qt5::C sharedlib)\n\ninstall(TARGETS exec1 RUNTIME DESTINATION bin)\ninstall(TARGETS exec2 RUNTIME DESTINATION bin)\n</code></pre>\n\n<p>As you can probably see, I want 2 executables, that each use some functionality from a shared library. And I want them working stand-alone.</p>\n\n<p>I am likely not the first in the world to have this issue, but I was unable to find a similar thread on StackOverflow.</p>\n"}, {"tags": ["c++", "arrays", "function", "average"], "comments": [{"owner": {"reputation": 38592, "user_id": 3049628, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/671455515/picture?type=large", "display_name": "Tim B", "link": "https://stackoverflow.com/users/3049628/tim-b"}, "edited": false, "score": 1, "creation_date": 1447864008, "post_id": 33785155, "comment_id": 55337335, "body": "What is the actual question?"}, {"owner": {"reputation": 6915, "user_id": 2985377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ai3wA.jpg?s=128&g=1", "display_name": "Jason D", "link": "https://stackoverflow.com/users/2985377/jason-d"}, "edited": false, "score": 0, "creation_date": 1447864230, "post_id": 33785155, "comment_id": 55337498, "body": "Please read <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> on how to ask this kind of question properly."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1447864310, "post_id": 33785155, "comment_id": 55337557, "body": "In general, average requires a sum divided by a quantity.  The sum is usually calculated using a <code>for</code> loop.  Your function doesn&#39;t loop.  You will need to sum up each element in the column."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1447864558, "creation_date": 1447864558, "answer_id": 33785471, "question_id": 33785155, "link": "https://stackoverflow.com/questions/33785155/i-have-a-c-2d-array-i-have-to-call-functions-it-only-averages-every-5-locati/33785471#33785471", "title": "I have a C++ 2d array i have to call functions . it only averages every 5 locations ex [0][0] + [5][0] does thi look right or is there a better way", "body": "<p>You will need to calculate the sum, by adding elements of the matrix (array).  </p>\n\n<p>For example, summing a column:  </p>\n\n<pre><code>unsigned int sum = 0;\nfor (unsigned int row = 0; row &lt; MAXIMUM_ROWS; ++row)\n{\n  sum = sum + matrix[row][column];\n}\n</code></pre>\n\n<p>The standard C++ language does not have vector or matrix math functions; you'll have to use a library or write your own.  </p>\n\n<p><strong>Edit 1:  The Average</strong><br>\nThe average is calculated by dividing the sum (as calculated above) by the quantity:</p>\n\n<pre><code>  double average = (double) sum / (double) MAXIMUM_ROWS;  \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5534014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1542294652728178/picture?type=large", "display_name": "Pat St", "link": "https://stackoverflow.com/users/5534014/pat-st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1447878525, "creation_date": 1447863670, "last_edit_date": 1447878525, "question_id": 33785155, "link": "https://stackoverflow.com/questions/33785155/i-have-a-c-2d-array-i-have-to-call-functions-it-only-averages-every-5-locati", "title": "I have a C++ 2d array i have to call functions . it only averages every 5 locations ex [0][0] + [5][0] does thi look right or is there a better way", "body": "<p>I have a C++ 2d array i have to call functions . it only averages every 5 locations ex [0][0] + [5][0] does this look right or is there a better way\n    //\n    //  main.cpp\n    //  homework 8\n    //\n    //  Created by Patrick Stark on 11/17/15.\n    //  Copyright \u00a9 2015 Patrick Stark. All rights reserved.\n    //</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int ROW_SIZE = 10;\n\nconst int COLUMN_SIZE = 1;\n\ndouble avgAtt(const int a[][COLUMN_SIZE], int rowSize)\n{\ndouble attTotal = 0;\ndouble attAvg = 0;\n\nattTotal = a[0][0] + a[5][0];\n\nattAvg = attTotal / 2;\n\nreturn  attAvg;\n\n}\n\ndouble avgHomework(const int a[][COLUMN_SIZE], int rowSize)\n{\ndouble homeworkTotal = 0;\n\ndouble homeworkAverage = 0;\n\nhomeworkTotal = a[1][0] + a[6][0];\n\nhomeworkAverage = homeworkTotal / 2;\n\nreturn homeworkAverage;\n\n}\n\nint main ()\n{\nint aryData[ROW_SIZE][COLUMN_SIZE] =\n{{10},\n{20},\n{10},\n{10},\n{20},\n{5},\n{15},\n{8},\n{8},\n{18}};\n\ncout &lt;&lt; avgAtt(aryData, 10)&lt;&lt;endl;\n\ncout &lt;&lt; avgHomework(aryData, 10)&lt;&lt;endl;\n\nreturn 0;\n}\n</code></pre>\n\n<p><strong>I dont have to average all the cells just every 5th one. Here is the assignment</strong></p>\n\n<p>This chapter's program asks you to utilize a multi-dimensional array. </p>\n\n<p>Read in from input, where every 6th row represents a new student's grades. </p>\n\n<p>Row 1 is attendance, which is out of 10 points, Row 2 is homework, which is out of 30 points.\nRow 3 is quizzes, which is out of 20 points, Row 4 is midterm which is out of 15 points.\nRow 5 is Final, which is out of 25 points. </p>\n\n<p>So, the first position in the array, aryData[0][0] will hold the value out of 10 points, \naryData[0][1] will be the value out of 30 points, etc..</p>\n\n<p>First, read in all of the data into a multidimensional array. Then, call a function that you send the array to and calculate the average of each grade type, such as attendance average is 8, homework average is 27, etc... and output it to the screen.</p>\n\n<p>Next, call a function that you send the array to and calculate the average grade for the entire class. \nOutput what the average is for the entire class. \nSo as an example...</p>\n\n<p>10\n20\n10\n10\n20\n5\n15\n8\n8\n18</p>\n\n<p>70 + 54</p>\n\n<p>Attendance Avg: 7.5\nHomework Avg: 17.5\nQuizzes Avg: 9\nMidterm Avg: 9\nFinal Avg: 19</p>\n\n<p>Student Average: 62</p>\n\n<p>At least 5 comments\nIt should compile\nIt should give the correct output as defined</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 3, "creation_date": 1447863391, "post_id": 33785034, "comment_id": 55336917, "body": "define &quot;most efficient&quot;?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1447863407, "post_id": 33785034, "comment_id": 55336932, "body": "If you string has spaces in it then you will need to use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\"><code>std::getline</code></a>"}, {"owner": {"reputation": 405, "user_id": 4788487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-0Px8PKHs_jo/AAAAAAAAAAI/AAAAAAAAAD4/yJ0bkrocyFc/photo.jpg?sz=128", "display_name": "trollpidor", "link": "https://stackoverflow.com/users/4788487/trollpidor"}, "edited": false, "score": 0, "creation_date": 1447863571, "post_id": 33785034, "comment_id": 55337044, "body": "by the most efficient I mean an already null-terminated input. Is a string-object gonna be null-terminated if I ask for a user&#39;s input, or I will have to add &#39;\\0&#39; manually?"}, {"owner": {"reputation": 2293, "user_id": 526189, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bccb4c5ba735fd1a1c1c4908a058ad43?s=128&d=identicon&r=PG", "display_name": "rendon", "link": "https://stackoverflow.com/users/526189/rendon"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1447863684, "post_id": 33785034, "comment_id": 55337121, "body": "As @NathanOliver says, use <code>std::getline</code> and then use <code>str.c_str()</code> to obtain a NULL-terminated string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4842163"}, "edited": false, "score": 0, "creation_date": 1447864019, "post_id": 33785034, "comment_id": 55337343, "body": "@trollpidor Why do you care about null-termination? Functions working with <code>string</code> operate on the length of the string instead of a delimiter at the end (and that can sometimes improve efficiency, and almost always improves safety). Are you working with a C API afterwards? If so, the <code>c_str()</code> method as pointed out should do the trick."}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 4788487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-0Px8PKHs_jo/AAAAAAAAAAI/AAAAAAAAAD4/yJ0bkrocyFc/photo.jpg?sz=128", "display_name": "trollpidor", "link": "https://stackoverflow.com/users/4788487/trollpidor"}, "edited": false, "score": 0, "creation_date": 1447864070, "post_id": 33785243, "comment_id": 55337389, "body": "got it, I was kinda confused because I though for some reason that c++ string is also null-terminated, like a c string. But it&#39;s basically a vector with a bit different functionality. Thanks"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 405, "user_id": 4788487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-0Px8PKHs_jo/AAAAAAAAAAI/AAAAAAAAAD4/yJ0bkrocyFc/photo.jpg?sz=128", "display_name": "trollpidor", "link": "https://stackoverflow.com/users/4788487/trollpidor"}, "edited": false, "score": 0, "creation_date": 1447864136, "post_id": 33785243, "comment_id": 55337429, "body": "@trollpidor Basically.  If you just deal with <code>std::string</code>s you don&#39;t need to worry about a NULL terminator."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 3, "last_activity_date": 1447864085, "last_edit_date": 1447864085, "creation_date": 1447863906, "answer_id": 33785243, "question_id": 33785034, "link": "https://stackoverflow.com/questions/33785034/users-null-terminated-input/33785243#33785243", "title": "User&#39;s null-terminated input", "body": "<p>A <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow\"><code>std::string</code></a> will manage itself and grow to accommodate the input that is given to the program.  If you have</p>\n\n<pre><code>std::string input;\nstd::getline(std::cin, input);\n</code></pre>\n\n<p>This will get input from the user that includes spaces that can be as big as the input stream can hold.  Now that you have the string if you need to pass it to some function that needs an old null terminated c-style string then you would use the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/c_str\" rel=\"nofollow\"><code>c_str()</code></a> function.  <code>c_str()</code> does return a <code>const char *</code> so you will not be able to modify the string data with it.</p>\n\n<p>If you really need a modifyable c-style string then you can make one with</p>\n\n<pre><code>char * old_style_string = new char[input.size() + 1];\nstd::strcpy(old_style_string, input.c_str());\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4788487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-0Px8PKHs_jo/AAAAAAAAAAI/AAAAAAAAAD4/yJ0bkrocyFc/photo.jpg?sz=128", "display_name": "trollpidor", "link": "https://stackoverflow.com/users/4788487/trollpidor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 33785243, "answer_count": 1, "score": 0, "last_activity_date": 1447864085, "creation_date": 1447863333, "question_id": 33785034, "link": "https://stackoverflow.com/questions/33785034/users-null-terminated-input", "title": "User&#39;s null-terminated input", "body": "<p>just a quick question. I'm looking for the most efficient and clear way to get the user's input of any length and store it, so then I can retrieve it and compare to another input. I also need the user's input to be null-terminated. Can I write something like </p>\n\n<pre><code>string inp;\ncin &gt;&gt; inp;\n</code></pre>\n"}, {"tags": ["c++", "c++11", "vector"], "comments": [{"owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "edited": false, "score": 3, "creation_date": 1447863082, "post_id": 33784926, "comment_id": 55336721, "body": "Did you mean <code>temp[l]</code>, i.e. with square brackets?"}, {"owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "edited": false, "score": 0, "creation_date": 1447863392, "post_id": 33784926, "comment_id": 55336918, "body": "It&#39;d to be <code>temp[l] = ... </code> (square &quot;[]&quot;, not round &quot;()&quot; )  And if <code>vectorList.push_back(temp);</code> is meant to succeed than it&#39;s got to be <code>vector&lt;vector&lt;int&gt;&gt; vectorList</code>. And that is, btw, a not-so-mild design catastrophe."}, {"owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "reply_to_user": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "edited": false, "score": 0, "creation_date": 1447863651, "post_id": 33784926, "comment_id": 55337092, "body": "@decltype_auto I was going to agree with you but on second thought... is it? I mean, resizing the outer vector moves the inner vectors around on the heap, but <i>their</i> elements (the integers) won&#39;t be re-allocated, will they?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1447864096, "post_id": 33784926, "comment_id": 55337406, "body": "Hmmm..  <code>pow(2,i)</code> -- <code>i</code> is not initialized."}, {"owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1447864357, "post_id": 33784926, "comment_id": 55337603, "body": "@PaulMcKenzie not to mention overkill for this situation. It suffices to set <code>int i = 100</code> and do <code>i *= 2</code> inside the <code>j</code>-loop. The code is shaky in many respects, I suggest OP post it to Code Review for some helpful tips."}, {"owner": {"reputation": 2801, "user_id": 3500191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6kwij.jpg?s=128&g=1", "display_name": "Ethan Bierlein", "link": "https://stackoverflow.com/users/3500191/ethan-bierlein"}, "reply_to_user": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "edited": false, "score": 0, "creation_date": 1447864420, "post_id": 33784926, "comment_id": 55337643, "body": "@CompuChip Once the code is working, then it&#39;s a viable question for Code Review, but as it stands, it&#39;d be closed as off-topic there."}, {"owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "reply_to_user": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "edited": false, "score": 0, "creation_date": 1447864966, "post_id": 33784926, "comment_id": 55338035, "body": "@CompuChip It&#39;s not just about relocation, given he ever initializes i (what he should do), that just produces the non-contiguous version of what a flat 1D vector used with sliced access would do more efficiently. And also - the flatter, the more easier it will be to interface with usual math libs which can use a flat field to construct a ND-Array from that."}, {"owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "reply_to_user": {"reputation": 2801, "user_id": 3500191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6kwij.jpg?s=128&g=1", "display_name": "Ethan Bierlein", "link": "https://stackoverflow.com/users/3500191/ethan-bierlein"}, "edited": false, "score": 0, "creation_date": 1447866495, "post_id": 33784926, "comment_id": 55339134, "body": "@EthanBierlein: This is too trivial for a dedicated code review, but as you mention it - we&#39;d imo really need a reviewed reference implementation of a C++11-version of an ND-array; esp for 2D, because of the frequency of C++ &quot;array[][]&quot;-type questions."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "edited": false, "score": 0, "creation_date": 1447863753, "post_id": 33784992, "comment_id": 55337164, "body": "All I will be having it do is print out."}], "tags": [], "owner": {"reputation": 8178, "user_id": 2920343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dbfe32738597d61775971cab5efebb67?s=128&d=identicon&r=PG&f=1", "display_name": "CompuChip", "link": "https://stackoverflow.com/users/2920343/compuchip"}, "is_accepted": true, "score": 5, "last_activity_date": 1447863202, "creation_date": 1447863202, "answer_id": 33784992, "question_id": 33784926, "link": "https://stackoverflow.com/questions/33784926/filling-multiple-vector-with-random-numbers/33784992#33784992", "title": "Filling multiple vector with random numbers", "body": "<p>First of all, an element of a vector is accessed using array-notation, i.e. with square brackets. That means</p>\n\n<pre><code>temp(l) = (rand() % 20000);\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>temp[l] = (rand() % 20000);\n</code></pre>\n\n<p>Moreover, you say you want a vector of vectors, so you should declare <code>vectorList</code> as one:</p>\n\n<pre><code>vector&lt;int&gt; vectorList;\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>vector&lt;vector&lt;int&gt;&gt; vectorList;\n</code></pre>\n\n<p>The compiler is telling you this: you said that <code>vectorList</code> is a vector of <code>int</code>s, but if you read the error message carefully it says you are trying to call <code>push_back</code> with a <code>std::vector&amp;</code>.</p>\n\n<p>Finally, you don't seem to be doing anything with the result... did you mean for your function to return a value?</p>\n"}], "owner": {"reputation": 27, "user_id": 3765347, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1668543325/picture?type=large", "display_name": "BondyeLwa", "link": "https://stackoverflow.com/users/3765347/bondyelwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 33784992, "answer_count": 1, "score": 0, "last_activity_date": 1448016797, "creation_date": 1447863003, "last_edit_date": 1448016797, "question_id": 33784926, "link": "https://stackoverflow.com/questions/33784926/filling-multiple-vector-with-random-numbers", "title": "Filling multiple vector with random numbers", "body": "<p>The goal here is to create a vector of vectors, each holding a different sized vector, those being 100, 200, 400, 800, 1600 , 3200, 6400, and 12800. Here is my code for that: </p>\n\n<pre><code>void vectorGenerator() {\n    int i;\n    vector&lt;int&gt; vectorList;\n\n    for (unsigned int j = 0; j &lt; 8; j++) {\n        vector&lt;int&gt; temp(100*pow(2,i));\n        for (unsigned int l = 0; l&lt;temp.size(); l++)\n            temp(l) = (rand() % 20000);\n        vectorList.push_back(temp);\n    }\n</code></pre>\n\n<p>The error I am getting is coming from the line: </p>\n\n<pre><code>temp(l) = (rand() % 20000);\n</code></pre>\n\n<p>The error message I am getting for it says </p>\n\n<blockquote>\n  <p>error: no match for call to '(std::vector)(unsigned int&amp;)'</p>\n</blockquote>\n\n<p>Also getting an error on the next line down that says </p>\n\n<blockquote>\n  <p>error: no matching function for call to 'std::vector::push_back(std::vector&amp;)'</p>\n</blockquote>\n\n<p>I just need some help trying to figure out how to fix these errors. I've googled the error messages to no real avail.</p>\n"}, {"tags": ["c++", "algorithm", "opencv", "template-matching"], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 4010683, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7d3b9b9c38dabd75b118b67551ff4cea?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Jones", "link": "https://stackoverflow.com/users/4010683/robert-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1448443866, "creation_date": 1448443866, "answer_id": 33912842, "question_id": 33784913, "link": "https://stackoverflow.com/questions/33784913/opencv-fast-template-matching-algorithm/33912842#33912842", "title": "OpenCV : Fast Template matching algorithm", "body": "<p>For those who maybe have the same issue, I just had to manage the return value differently.</p>\n\n<p>Instead of </p>\n\n<pre><code>if( !((matchLoc.x == 0) &amp;&amp; (matchLoc.y == 0)) || maxVal &gt;= 0.8)\n        return TRUE;\n</code></pre>\n\n<p>Which returns true as soon as potential match (80% match) has been found. </p>\n\n<p>Now I return true only if the maxVal is superior than 0.99 which means very high match.</p>\n\n<pre><code>if( maxVal &gt;= 0.99)\n        return TRUE;\n</code></pre>\n\n<p>Second element I've changed is the threshold value which is used to classify the pixel values. I've decreased this value to 0.82 instead of 0.94 to get more possible matches and then filter with the maxVal value.</p>\n"}], "owner": {"reputation": 375, "user_id": 4010683, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7d3b9b9c38dabd75b118b67551ff4cea?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Jones", "link": "https://stackoverflow.com/users/4010683/robert-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458560309, "creation_date": 1447862979, "last_edit_date": 1454483011, "question_id": 33784913, "link": "https://stackoverflow.com/questions/33784913/opencv-fast-template-matching-algorithm", "title": "OpenCV : Fast Template matching algorithm", "body": "<p>I am currently trying to look for an image inside a video. The main goal is to follow some actions on the video like a pressed button or a pop-up window displayed on the screen.</p>\n\n<p>The code I'm using uses OpenCV Template Matching function:</p>\n\n<pre><code>    // For SQDIFF and SQDIFF_NORMED, the best matches are lower values. For all the other methods, the higher the better\n    if( matchingMethod  == CV_TM_SQDIFF || matchingMethod == CV_TM_SQDIFF_NORMED )\n        matchLoc = minLoc;\n    else\n        matchLoc = maxLoc;\n\n    if( !((matchLoc.x == 0) &amp;&amp; (matchLoc.y == 0)) || maxVal &gt;= 0.8)\n        return TRUE;\n\n    return FALSE;\n}\n</code></pre>\n\n<p>The test is done with these two templates : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Hj5e8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hj5e8.png\" alt=\"Template n\u00b01\"></a>\n<a href=\"https://i.stack.imgur.com/idpD4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/idpD4.png\" alt=\"Template n\u00b02\"></a></p>\n\n<p>And the full image is a 3840x2160 image (i can't but the whole image since it is too big in bmp):</p>\n\n<p>1) The question is how is it possible that for two templates with very few pixels of difference the algorithm can detect the first one but completely skip the second one ?\n2) Is it possible that color depth could cause problems in the detection ? </p>\n\n<ul>\n<li>Both templates are loaded as BMP files in 24 bits depth. The source image is converted in 24 bits depth.</li>\n<li>Threshold is set to 0.92 for good accuracy</li>\n<li>MaxLevels is set to 1 for a very good accuracy since 2 does not find any matches</li>\n</ul>\n\n<p>Thank your for your help and advices</p>\n"}]