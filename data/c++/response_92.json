[{"tags": ["c++", "multithreading", "macos", "boost", "mutex"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 2, "creation_date": 1476317306, "post_id": 40010174, "comment_id": 67298572, "body": "You may want to search for <i>condition variables</i> and learn how to use them"}], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 5217239, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87aa1f2ec9cac94fed9255bdda1a8ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky", "link": "https://stackoverflow.com/users/5217239/ricky"}, "edited": false, "score": 0, "creation_date": 1476320031, "post_id": 40010244, "comment_id": 67299180, "body": "should I use detach() instead?"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 1, "last_activity_date": 1476317067, "creation_date": 1476317067, "answer_id": 40010244, "question_id": 40010174, "link": "https://stackoverflow.com/questions/40010174/multi-threaded-event-checker-does-not-print-anything/40010244#40010244", "title": "Multi-threaded event checker does not print anything", "body": "<p>Your threads never finish, and you <code>join()</code> them (that is, wait for them to finish) before the printing loop in the main thread.</p>\n\n<pre><code>t1.join(); // the main thread never gets past this point\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "is_accepted": true, "score": 1, "last_activity_date": 1476317574, "creation_date": 1476317574, "answer_id": 40010329, "question_id": 40010174, "link": "https://stackoverflow.com/questions/40010174/multi-threaded-event-checker-does-not-print-anything/40010329#40010329", "title": "Multi-threaded event checker does not print anything", "body": "<p>As already mentioned by @krzaq your main loop does not print anything because <code>join</code> waits for the termination of the thread, which will never happen due to the endless loops in <code>t_1</code> and <code>t_2</code>.</p>\n\n<p>As for your <code>t_1</code> output: You have no newline in your output. Typically the output buffer is flushed only on a newline, which means that you will not see the output flushed to your terminal until you either print a newline or the buffer is filled up.</p>\n\n<p>Try this:</p>\n\n<pre><code>std::cout &lt;&lt; ev.front() &lt;&lt; \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 5217239, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87aa1f2ec9cac94fed9255bdda1a8ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky", "link": "https://stackoverflow.com/users/5217239/ricky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40010329, "answer_count": 2, "score": 0, "last_activity_date": 1476317574, "creation_date": 1476316589, "question_id": 40010174, "link": "https://stackoverflow.com/questions/40010174/multi-threaded-event-checker-does-not-print-anything", "title": "Multi-threaded event checker does not print anything", "body": "<p>Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;future&gt;\n#include &lt;queue&gt;\n#include &lt;boost/thread/thread.hpp&gt;\n\nboost::mutex mtx;\n\nstd::queue&lt;std::string&gt;ev;\n\nvoid t_1(){\n    while(true){\n        mtx.lock();\n        if(ev.size() &gt; 0){\n            std::cout &lt;&lt; ev.front();\n            ev.pop();\n        }\n        mtx.unlock();\n        boost::this_thread::sleep_for(boost::chrono::milliseconds(500));\n    }\n}\n\nvoid t_2(){\n    int x = 0;\n    while(true){\n        x++;\n        mtx.lock();\n        ev.push(\"new event\");\n        mtx.unlock();\n        boost::this_thread::sleep_for(boost::chrono::milliseconds(1000));\n    }\n}\n\nvoid t_3(){\n    while(true){\n    std::cout &lt;&lt; 3;\n    }\n}\n\nint main(int argc, const char * argv[]) {\n    // insert code here...\n    boost::thread t1(t_1);\n    boost::thread t2(t_2);\n    //boost::thread t3(t_3);\n    t1.join();\n    t2.join();\n    while(true){\n        std::cout &lt;&lt; \"anyone there\";\n    }\n    //t3.join();\n    return 0;\n}\n</code></pre>\n\n<p>I was messing around with the boost library, and wanted to make an event checker using threads and mutexes. For some reason there is no output, even on the main thread when it should print \"anyone there.\" I am using Mac OSX and Xcode. THe program compiles and runs just fine.</p>\n"}, {"tags": ["c++", "templates", "constexpr", "non-type"], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "edited": false, "score": 0, "creation_date": 1476317098, "post_id": 40010223, "comment_id": 67298505, "body": "Does that mean I have to expose the template implementation anyway if I would like to use non-type as template argument?"}, {"owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "edited": false, "score": 0, "creation_date": 1476317495, "post_id": 40010223, "comment_id": 67298616, "body": "I still want to separate the implementation. Is there another way to pass constexpr as parameter to constructor in this case?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "edited": false, "score": 0, "creation_date": 1476374980, "post_id": 40010223, "comment_id": 67329248, "body": "@yc2986 Perhaps look into making the class and/or its constructor(s) <code>constexpr</code>?  I&#39;m not sure if it would actually do what you want, but it&#39;s the only thing I can think of that might."}], "tags": [], "owner": {"reputation": 1494, "user_id": 4608341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a999fbef69237425f8537ea518f97be4?s=128&d=identicon&r=PG&f=1", "display_name": "grigor", "link": "https://stackoverflow.com/users/4608341/grigor"}, "is_accepted": false, "score": 0, "last_activity_date": 1476316906, "creation_date": 1476316906, "answer_id": 40010223, "question_id": 40010130, "link": "https://stackoverflow.com/questions/40010130/non-type-template-arguments-explicit-instantiation-in-source-file/40010223#40010223", "title": "Non-type template arguments explicit instantiation in source file", "body": "<p>I wouldn't recommend separating the implementation of a template class into a source file. If I understand your situation correctly then I don't think it's possible to do that unless you instantiate all possible values of the template parameter, which is impossible for an <code>unsigned</code>.</p>\n"}], "owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1476316906, "creation_date": 1476316271, "last_edit_date": 1495541969, "question_id": 40010130, "link": "https://stackoverflow.com/questions/40010130/non-type-template-arguments-explicit-instantiation-in-source-file", "title": "Non-type template arguments explicit instantiation in source file", "body": "<p>I am wrapping a library into my class design. I would like to call a template method with unsigned int non-type parameter provided in the library in my class constructor. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;bar.h&gt;  // template header in here\nclass foo {\n    foo(unsigned num) {\n        BAR&lt;num&gt;();  // a template method BAR inside \"bar.h\"\n    }\n};\n</code></pre>\n\n<p>When I tries to play around with this it seems that the non-type parameter is a constexpr. So the above code will generate error indicating that there is const error inside the function call.</p>\n\n<p>So I decide to make the foo class a class template and pass this unsigned non-type parameter in foo's template argument parameter.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;bar.h&gt;  // template header in here\ntemplate &lt;unsigned num&gt;\nclass foo {\n    foo() {\n        BAR&lt;num&gt;();  // a template method BAR inside \"bar.h\"\n    }\n};\n</code></pre>\n\n<p>This seems to be working well. However, I would like to separate the header and source file into separate .hpp/.cpp files. According to <a href=\"https://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">this thread</a>, if I want to place template implementation inside .cpp source file, I have to explicitly instantiate all possible template argument at the end of .cpp file. For non-type parameter like unsigned integer, does that mean I have to instantiate thousands of possible unsigned int number to make the template available to all unsigned number object? Thanks for the help.</p>\n"}, {"tags": ["c++", "opencv", "triangulation"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476376511, "post_id": 40013085, "comment_id": 67330250, "body": "I still get an exception: <i>...opencv\\opencv-2.4.0\\opencv\\modules\\calib3d\\src\\triangulat&zwnj;&#8203;e.cpp:75: error: (-209) Number of proj points coordinates must be == 2</i> Maybe that error depends on something else. I will write all code from my method soon, maybe someone can help"}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "reply_to_user": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476413734, "post_id": 40013085, "comment_id": 67345226, "body": "My intuition says the problem is in the line <code>cv::Point pt1 = m_history.getPoint(0);</code> . But I am not sure please post the whole code."}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "reply_to_user": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476415083, "post_id": 40013085, "comment_id": 67345495, "body": "One more method would be to use a 2 channel matrix of N elements  something like this <code>Mat c_pts1(1,N,CV_64FC2);</code> ans shouldn&#39;t be pnt3D be some thing like this <code>cv::Mat pnt3D(1,**N**, CV_64FC4); </code>"}, {"owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476530601, "post_id": 40013085, "comment_id": 67391292, "body": "Certainly problem is not in the line with &#39;cv::Point pt1 = m_history.getPoint(0);&#39; because I get exception only when line &#39;cv::triangulatePoints(cam0, cam1, pt1Vec, pt2Vec, pnt3D);&#39; is uncommented."}, {"owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476530728, "post_id": 40013085, "comment_id": 67391329, "body": "If &quot;N&quot; could be equal to 1?"}, {"owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476532683, "post_id": 40013085, "comment_id": 67391880, "body": "if I do like you wrote and ` c_pts(1, 1, CV_64FC2, projPtsArray) ` I get <i>error: (-209) Number of proj points coordinates must be == 2</i>"}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "reply_to_user": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476536601, "post_id": 40013085, "comment_id": 67393001, "body": "it should work can you please post whole code of yours"}, {"owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "edited": false, "score": 0, "creation_date": 1476537750, "post_id": 40013085, "comment_id": 67393325, "body": "Now it works, there was second problem in other part of my code."}], "tags": [], "owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "is_accepted": false, "score": 0, "last_activity_date": 1476337141, "creation_date": 1476337141, "answer_id": 40013085, "question_id": 40009945, "link": "https://stackoverflow.com/questions/40009945/how-to-properly-define-arguments-to-use-in-triangulatepoints-opencv/40013085#40013085", "title": "How to properly define arguments to use in triangulatePoints (opencv)?", "body": "<p>I think the correct way is two form a vector of 2-D points like this</p>\n\n<pre><code>vector&lt;Point2f&gt; pt1;\nvector&lt;Point2f&gt; pt2; \n</code></pre>\n\n<p>and then You can insert points in this vector like</p>\n\n<pre><code>Point p;\np.x = x;\np.y = y;\npt1.push_back(p);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "is_accepted": true, "score": 0, "last_activity_date": 1480588578, "creation_date": 1480588578, "answer_id": 40908384, "question_id": 40009945, "link": "https://stackoverflow.com/questions/40009945/how-to-properly-define-arguments-to-use-in-triangulatepoints-opencv/40908384#40908384", "title": "How to properly define arguments to use in triangulatePoints (opencv)?", "body": "<p>Finally this works:</p>\n\n<pre><code>cv::Mat pointsMat1(2, 1, CV_64F);\ncv::Mat pointsMat2(2, 1, CV_64F);\n\nint size0 = m_history.getHistorySize();\n\nfor(int i = 0; i &lt; size0; i++)\n{\n  cv::Point pt1 = m_history.getOriginalPoint(0, i);\n  cv::Point pt2 = m_history.getOriginalPoint(1, i);\n\n  pointsMat1.at&lt;double&gt;(0,0) = pt1.x;\n  pointsMat1.at&lt;double&gt;(1,0) = pt1.y;\n  pointsMat2.at&lt;double&gt;(0,0) = pt2.x;\n  pointsMat2.at&lt;double&gt;(1,0) = pt2.y;\n\n  cv::Mat pnts3D(4, 1, CV_64F);\n\n  cv::triangulatePoints(m_projectionMat1, m_projectionMat2, pointsMat1, pointsMat2, pnts3D);\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 3290512, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eb24793d580a6b210e94ac3c3f06166a?s=128&d=identicon&r=PG&f=1", "display_name": "never_ever", "link": "https://stackoverflow.com/users/3290512/never-ever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 40908384, "answer_count": 2, "score": 1, "last_activity_date": 1480588578, "creation_date": 1476314852, "last_edit_date": 1476381178, "question_id": 40009945, "link": "https://stackoverflow.com/questions/40009945/how-to-properly-define-arguments-to-use-in-triangulatepoints-opencv", "title": "How to properly define arguments to use in triangulatePoints (opencv)?", "body": "<p><br>\nI try to use triangulatePoints from opencv but I think I do something wrong (I read one of the question about triangulatePoints on stackoverflow but not everything I understand). Assume that I have one point coords - pt1 and pt2 that correspond to coordinates of one point in left and right camera. Pt1 and pt2 is cv::Point. </p>\n\n<p>So I have:</p>\n\n<pre><code>cv::Mat cam0(3, 4, CV_64F, k_data1)   //k_data1 is [R|t] 3x4 matrix for left camera\ncv::Mat cam1(3, 4, CV_64F, k_data2)   //k_data2 is [R|t] 3x4 matrix for right camera\ncv::Point pt1;                        //for left camera\ncv::Point pt2                         //for right camera\n</code></pre>\n\n<p>I also define  </p>\n\n<pre><code>cv::Mat pnt3D(1, 1, CV_64FC4).\n</code></pre>\n\n<p>And my question is how to properly define this two points (cv::Point)? <br>\nI have tried to do this:</p>\n\n<pre><code>cv::Mat_&lt;cv::Point&gt; cam0pnts;\ncam0pnts.at&lt;cv::Point&gt;(0) = pt1;\ncv::Mat_&lt;cv::Point&gt; cam1pnts;\ncam1pnts.at&lt;cv::Point&gt;(0) = pt2;\n</code></pre>\n\n<p>But app throws some exceptions, so maybe I do something wrong.</p>\n\n<h2><strong>EDIT:</strong></h2>\n\n<p>Ok, with some help from @Optimus 1072 I corrected some lines of code and I get something like this:</p>\n\n<pre><code>double pCam0[16], pCam1[16];\n\ncv::Point pt1 = m_history.getPoint(0);\ncv::Point pt2 = m_history.getPoint(1);\nm_cam1.GetOpenglProjectionMatrix(pCam0, 640, 480);\nm_cam2.GetOpenglProjectionMatrix(pCam1, 640, 480);\ncv::Mat cam0(3, 4, CV_64F, pCam0); \ncv::Mat cam1(3, 4, CV_64F, pCam1); \n\nvector&lt;cv::Point2f&gt; pt1Vec;\nvector&lt;cv::Point2f&gt; pt2Vec;\npt1Vec.push_back(pt1);\npt2Vec.push_back(pt2);\n\ncv::Mat pnt3D(1,1, CV_64FC4);\n\ncv::triangulatePoints(cam0, cam1, pt1Vec, pt2Vec, pnt3D);\n</code></pre>\n\n<p>But still I get an exception: </p>\n\n<blockquote>\n  <p>...opencv\\opencv-2.4.0\\opencv\\modules\\calib3d\\src\\triangulate.cpp:75: error: (-209) Number of proj points coordinates must be == 2</p>\n</blockquote>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1476315357, "post_id": 40009930, "comment_id": 67297997, "body": "do you have to use rfind? is it permissible to extract all messages into a vector and then just reverse the vector?"}, {"owner": {"reputation": 11, "user_id": 5327073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c356673e433d47d7de5980f10be89bd?s=128&d=identicon&r=PG&f=1", "display_name": "ChillbroSwaggins", "link": "https://stackoverflow.com/users/5327073/chillbroswaggins"}, "reply_to_user": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "edited": false, "score": 0, "creation_date": 1476315495, "post_id": 40009930, "comment_id": 67298041, "body": "nope can&#39;t use a vector to store the messages, it has to be a string (sucks, I know). And, I&#39;m only using rfind() so I print out the most recent messages first. Couldn&#39;t think of another way to do it..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5327073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c356673e433d47d7de5980f10be89bd?s=128&d=identicon&r=PG&f=1", "display_name": "ChillbroSwaggins", "link": "https://stackoverflow.com/users/5327073/chillbroswaggins"}, "edited": false, "score": 0, "creation_date": 1476323824, "post_id": 40010334, "comment_id": 67300075, "body": "Thank you, Richard! I&#39;m going to look into this further and try to implement it in my program. I appreciate you taking the time to respond!"}], "tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 0, "last_activity_date": 1476318642, "last_edit_date": 1476318642, "creation_date": 1476317604, "answer_id": 40010334, "question_id": 40009930, "link": "https://stackoverflow.com/questions/40009930/how-to-use-rfind-to-separate-and-print-string-according-to-username/40010334#40010334", "title": "How to use rfind() to separate and print string according to username?", "body": "<p>This should provide some insight.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\ntemplate&lt;class Func&gt;\nvoid reverse_iterate_messages(std::string const&amp; buffer, Func&amp;&amp; f)\n{\n    auto current = buffer.size();\n\n    while (current)\n    {\n        auto pos = buffer.rfind(\"%(\", current - 1);\n        auto end_name = buffer.find(\")%\", pos + 2);\n        if (end_name &lt; current)\n        {\n            auto name = buffer.substr(pos + 2, end_name - pos - 2);\n            auto message = buffer.substr(end_name + 2, current - end_name - 2);\n            f(name, message);\n            current = pos;\n        }\n        else {\n            break;   // incorrectly formatted string\n        }\n    }\n\n}\n\nvoid show(std::string const&amp; name, std::string message)\n{\n    if (name == \"Jane\")\n    {\n        for (std::size_t pos = 0 ; pos &lt; message.size() ; )\n        {\n            auto i = message.find(\"$^\", pos);\n            if (i == std::string::npos)\n                break;\n            message.replace(i, 2, \"\\n\");\n            pos = i + 1;\n        }\n        std::cout &lt;&lt; message;\n    }\n}\n\nint main()\n{\n    auto test_string = \"%(Jane)%Hey$^How are you?$^%(Jane)%How was your summer?$^\";\n    reverse_iterate_messages(test_string, show);\n\n}\n</code></pre>\n\n<p>expected output:</p>\n\n<pre><code>How was your summer?\nHey\nHow are you?\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5327073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c356673e433d47d7de5980f10be89bd?s=128&d=identicon&r=PG&f=1", "display_name": "ChillbroSwaggins", "link": "https://stackoverflow.com/users/5327073/chillbroswaggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476318642, "creation_date": 1476314749, "question_id": 40009930, "link": "https://stackoverflow.com/questions/40009930/how-to-use-rfind-to-separate-and-print-string-according-to-username", "title": "How to use rfind() to separate and print string according to username?", "body": "<p>I don't ask many questions here, so I hope this is specific enough to be answered. </p>\n\n<p>I'm working on a project for a Software Construction class I am in, and am having trouble with part of the assignment. Basically we are writing a program that allows new users to be created, and then those users can post messages. </p>\n\n<p>Every time a message is posted, it is appended to a string (which I'm calling message_buffer). So, even if multiple users post, all their messages just get added to this string. The user names are enclosed in \"%(\" and \")%\" and then their message is appended after that.</p>\n\n<p>Now, one of the options that the user(s) have is to print their \"wall page.\" When they choose to print their wall page, only the messages posted by that user are to be printed in reverse chronological order. So for instance, if message_buffer contains \"%(Jane)%Hey$^How are you?$^%(Jane)%How was your summer?$^\" (the \"$^\" string just indicates that the user input a multi-line message, and is later replaced by \"\\n\" escape sequence) then when the user chooses to print out their wall page, it should print:</p>\n\n<p>How was your summer?</p>\n\n<p>Hey</p>\n\n<p>How are you?</p>\n\n<p><strong>Why the professor wants the most recent messages to be at the top, I don't know, but c'est la vie.</strong></p>\n\n<p>So, my approach to this problem was to use rfind() to search for \"%(\" and then to determine the name enclosed by using rfind() to search for \")%\". I then compare the name enclosed to the current user (since only their messages should be posted, and there can be multiple user messages in message_buffer) and if it does <em>not</em> match the current user's name, I erase everything starting at \"%(\" to the end, and then keep searching. If the name <em>does</em> match, then I print out everything, starting at \"%(\" until the end (I have a function which deleted the \"$^\" and replaces it with \"\\n\", and also deletes the \"%(name)%\" part, since the users name isn't supposed to be included in the wall page). I continue to search until i reach the beginning of message_buffer.</p>\n\n<p>So, this works fine if there is only one message, for example: \"%(Jane)%Hey$^How was your summer?$^ would print out correctly. But, if there is more than one name in message_buffer (like the example I gave in the beginning), then it doesn't correctly find the name, thus not correctly printing out all the messages. </p>\n\n<p>I suppose that is enough explaining, so here is the function I created to try and handle this:</p>\n\n<pre><code>void parseMessages(string bufferIn)\n{\n    string message;\n    string bCopy = bufferIn;\n    string name;\n    int index1;\n    do  \n    {\n        index1 = bCopy.rfind(\"%(\");\n        name = bCopy.substr(index1 + 2, bCopy.rfind(\")%\") - 2);\n        if (name != username)\n        {\n        bCopy.erase(index1, bCopy.length());\n        }\n        else if (name == username)\n        {\n            message = bCopy.substr(index1, bCopy.length());\n            bCopy.erase(index1, bCopy.length());\n        }\n        message = format(message);\n        cout &lt;&lt; message &lt;&lt; endl;\n        if (index1 == 0)\n        {\n            index1 = -1;\n        }\n    } while (index1 &gt;= 0);\n}\n</code></pre>\n\n<p>So, if you were to input the first example I gave where there are two \"%(Jane)%\" messages, for some reason the variable name is set to \"Jane)%How was your summer?$^\" and I cannot for the life of me figure out why. If there is only one \"%(Jane)%\" string, then it works find; Variable name is set to \"Jane\" and the message prints out fine. </p>\n\n<p>What am I doing wrong here? Any help is <strong>greatly</strong> appreciated!</p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1476314780, "post_id": 40009908, "comment_id": 67297855, "body": "<a href=\"http://en.cppreference.com/w/cpp/container/map/operator_at\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/map/operator_at</a>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1476316349, "post_id": 40009908, "comment_id": 67298303, "body": "They are both the same case. writing <code>X = Y</code> first evaluates <code>X</code> and <code>Y</code> before performing the assignment, and <code>X</code> is evaluated the same way regardless of context."}], "answers": [{"comments": [{"owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 0, "creation_date": 1476314799, "post_id": 40009922, "comment_id": 67297858, "body": "But in this case how would actual value be inserted against that key?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 0, "creation_date": 1476314849, "post_id": 40009922, "comment_id": 67297875, "body": "As I explained to you: the actual value is constructed using the object&#39;s default constructor, and inserted. For simple types, the default constructor is zero-initialization."}, {"owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 0, "creation_date": 1476315271, "post_id": 40009922, "comment_id": 67297977, "body": "Sorry, but I am still not getting it. If I call mymap[2]=3 (assume key doesn&#39;t exists for now, then 1. overloaded operator for [] is called 2. Key 2 is inserted with some default value assume it is NULL for now. But in this whole process how is 5 inserted?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "reply_to_user": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 3, "creation_date": 1476315442, "post_id": 40009922, "comment_id": 67298028, "body": "The default value is 0. And where did 5 come from? There&#39;s no 5 here. Key 2 is inserted with the value of 0, <code>operator[]</code> then returns a reference to this value, and the <code>=</code> operator assigns 3 to it."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476315508, "post_id": 40009922, "comment_id": 67298047, "body": "Not sure why you&#39;re getting downvoted. It&#39;s a valid answer."}], "tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": true, "score": 4, "last_activity_date": 1476314737, "creation_date": 1476314737, "answer_id": 40009922, "question_id": 40009908, "link": "https://stackoverflow.com/questions/40009908/operator-in-stdmap-implementation/40009922#40009922", "title": "Operator[] in std::map implementation", "body": "<p>When the key does not exist, <code>std::map</code> constructs a new value using the value class's default constructor, and returns a reference to the newly-inserted value.</p>\n"}, {"comments": [{"owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 0, "creation_date": 1476314952, "post_id": 40009937, "comment_id": 67297894, "body": "So you mean intializer_list would be called to copy the actual value against the key in map?"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "edited": false, "score": 0, "creation_date": 1476315006, "post_id": 40009937, "comment_id": 67297908, "body": "No, there&#39;s no <code>initializer_list</code> anywhere in this code."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 3, "last_activity_date": 1476315443, "last_edit_date": 1476315443, "creation_date": 1476314800, "answer_id": 40009937, "question_id": 40009908, "link": "https://stackoverflow.com/questions/40009908/operator-in-stdmap-implementation/40009937#40009937", "title": "Operator[] in std::map implementation", "body": "<p>It would be value-initialized - as if with <code>{}</code>, here's some pseudocode:</p>\n\n<pre><code>Mapped_T &amp; operator[](const Key_T &amp;k) {\n    if(!has_key(k))\n        insert(k, Mapped_T{});\n    return at(k);\n}\n</code></pre>\n\n<p>The important part for your question is <code>Mapped_T{}</code>. For aggregates it means zero-initialization, for classes with default constructor it means using that constructor.</p>\n"}], "owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1609, "favorite_count": 0, "accepted_answer_id": 40009922, "answer_count": 2, "score": 1, "last_activity_date": 1476315443, "creation_date": 1476314672, "question_id": 40009908, "link": "https://stackoverflow.com/questions/40009908/operator-in-stdmap-implementation", "title": "Operator[] in std::map implementation", "body": "<p>I am trying to implement a container like <a href=\"http://en.cppreference.com/w/cpp/container/map\" rel=\"nofollow\">std::map</a> in C++. I have a small query while overloading operator []. I see that this operator works in two ways:</p>\n\n<ol>\n<li><code>mymap[2]</code> - For this case it looks for key 2 in map and return the value against this key.</li>\n<li><code>mymap[2]=3</code> - For this case it looks for key 2 in map and if key is not found than 3 is inserted in map.</li>\n</ol>\n\n<p>I see that declaration for this operator looks like: <code>Mapped_T &amp;operator[](const Key_T &amp;);</code> but what I am not getting is that in case the key is not found I will have to insert a new element in Map but in declaration of operator[] function I don't see value being passed anywhere. So how would overloaded operator know what is value against key to be inserted?</p>\n"}, {"tags": ["c++", "qt", "char", "qstring"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1476314685, "post_id": 40009892, "comment_id": 67297832, "body": "Reread your constructors definition carefully, you have a typo."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1476314723, "post_id": 40009892, "comment_id": 67297842, "body": "Also, <code>_ReturnObject</code> is an implementation reserved identifier, don&#39;t use that."}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1476315060, "post_id": 40009892, "comment_id": 67297920, "body": "@BaummitAugen I am sorry, I do not follow. Are you possibly refering to the possiblity that I forgot to add the <code>*</code> to <code>const char* data</code>, if yes then I did not forget, I was made aware of its existance and meaning a moment ago from an answer given (hence I am still new to C++), if no then please assist me in shedding some light onto the error. Thanks"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1476315208, "post_id": 40009892, "comment_id": 67297960, "body": "Yes, that&#39;s what I was talking about. If you left that out on purpose, what is your question?"}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1476315924, "post_id": 40009892, "comment_id": 67298177, "body": "@BaummitAugen I have found my answers, thank you for the assistance, even though I have a -2 on the question, there is bound to be someone who will find this question a great deal helpful. Thanks once again!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 0, "creation_date": 1476331880, "post_id": 40009892, "comment_id": 67302061, "body": "After your edit: It would be better to make a new question for that, because it is not related to the string issue and might be more complicated. Does it happen for <code>std::string</code> and <code>QString</code> too? I highly recommend not using <code>const char*</code> for strings. It results in many many more complications that will be extremely hard to detect and confusing for beginners. Also include the content of <code>enums.h</code> in the new question."}], "answers": [{"comments": [{"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1476314889, "post_id": 40009936, "comment_id": 67297881, "body": "so char (from e.g. java) refers to a single character, then what does char* mean? char[] ?"}, {"owner": {"reputation": 1, "user_id": 7001498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccabea69923436b645624afc469fdd0?s=128&d=identicon&r=PG&f=1", "display_name": "mhajnal", "link": "https://stackoverflow.com/users/7001498/mhajnal"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 1, "creation_date": 1476315107, "post_id": 40009936, "comment_id": 67297937, "body": "char* refers to a memory portion as every pointer in c/c++ does. I assume you&#39;ve just started to work in c++ after java, so what i can recommend is you should learn about pointers in c++ (as it&#39;s one of the biggest differences between the two languages). And maybe you could also read about smart pointers, which were introduced in c++11 and provides more safely memory management"}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1476315328, "post_id": 40009936, "comment_id": 67297990, "body": "apologies but I need a little more than that. How does <code>char</code> refer to <code>&#39;&#39;</code> or a single char but <code>char*</code> refers to <code>&quot;&quot;</code> or &quot;a string message&quot;?"}, {"owner": {"reputation": 1, "user_id": 7001498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccabea69923436b645624afc469fdd0?s=128&d=identicon&r=PG&f=1", "display_name": "mhajnal", "link": "https://stackoverflow.com/users/7001498/mhajnal"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 2, "creation_date": 1476315435, "post_id": 40009936, "comment_id": 67298027, "body": "I&#39;ve edited my previous comment before, so maybe you&#39;ve already got a kind of &quot;abstract&quot; answer for that. Basically the &quot;char&quot; refers to a 1 byte size already allocated variable, what already can use. The &quot;char*&quot; refers to a memory address/portion what contains multiple &quot;char&quot; elements. Therefore a &quot;char&quot; can mean only a simple character, but a &quot;char*&quot; means multiple chars. And as you&#39;ve asked before, you can handle char arrays (char[]) as &quot;char*&quot;, but this is not true backwards, so you shouldn&#39;t handle a char* as a char[], because noone can guarantee it will work (correctly)."}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1476315750, "post_id": 40009936, "comment_id": 67298111, "body": "thank you for the insight, I understand now. Thank you!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 1, "creation_date": 1476316629, "post_id": 40009936, "comment_id": 67298370, "body": "&quot;&quot;char*&quot; means multiple chars&quot; Is a bit off. Better wording would be &quot;<code>char*</code> means a reference to a space in memory that could contain 0 or more <code>char</code>s, and it has no idea how many.&quot; @KGCybeX many things you learned in Java you will have to unlearn for C++. It doesn&#39;t hold your hand and it doesn&#39;t pick up after you. It does exactly what you tell it to do when you tell it to do it. It does nothing more, nothing less. Java will throw nice little exceptions when you reach past the end of a memory allocation. If you are lucky, C++ will crash. If you&#39;ve asked for something silly, it does it."}, {"owner": {"reputation": 1, "user_id": 7001498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccabea69923436b645624afc469fdd0?s=128&d=identicon&r=PG&f=1", "display_name": "mhajnal", "link": "https://stackoverflow.com/users/7001498/mhajnal"}, "edited": false, "score": 0, "creation_date": 1476318442, "post_id": 40009936, "comment_id": 67298826, "body": "Yes, I didn&#39;t write a 100% precise definition for it. My purpose was to give a simple explanation about it to make him understand the situation on a basic level and I seemed to reach it."}], "tags": [], "owner": {"reputation": 1, "user_id": 7001498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccabea69923436b645624afc469fdd0?s=128&d=identicon&r=PG&f=1", "display_name": "mhajnal", "link": "https://stackoverflow.com/users/7001498/mhajnal"}, "is_accepted": false, "score": 0, "last_activity_date": 1476314799, "creation_date": 1476314799, "answer_id": 40009936, "question_id": 40009892, "link": "https://stackoverflow.com/questions/40009892/type-required-passing-string-as-parameter-to-function/40009936#40009936", "title": "type required : Passing String as parameter to function", "body": "<p>You can load a simple character into a char type (e.g. 'a'). If you want a string you must use char* or std::string.\ne.g.\nchar* data_string = \"WARN\";</p>\n"}, {"comments": [{"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1476315643, "post_id": 40010017, "comment_id": 67298072, "body": "Where do I begin, thank you for the explanation. This has helped me a great deal. In C# and Java, we were taught to use <code>new</code> but never really understood what it meant up until now. Thank you!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 1, "creation_date": 1476315941, "post_id": 40010017, "comment_id": 67298181, "body": "@KGCybeX C++ is different, the meaning of <code>new</code> is quite different here. In Java an object is destroyed in the background at some point after it isn&#39;t used anymore (garbage collection). In C++ object are destroyed deterministically (when you leave their scope) or if you explicitly ask for it (&#39;delete&#39;). This means that you have to make sure that objects you are trying to use actually still exist. References for example work quite differently for this reason, too."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "reply_to_user": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 1, "creation_date": 1476316748, "post_id": 40010017, "comment_id": 67298408, "body": "@KGCybeX I addded some information to my answer since you are using the QT library."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "is_accepted": true, "score": 2, "last_activity_date": 1476316698, "last_edit_date": 1476316698, "creation_date": 1476315372, "answer_id": 40010017, "question_id": 40009892, "link": "https://stackoverflow.com/questions/40009892/type-required-passing-string-as-parameter-to-function/40010017#40010017", "title": "type required : Passing String as parameter to function", "body": "<p>You say that you are not familiar with pointers yet, so I advise you against using <code>char*</code> for strings (that is the C-style of doing it), because it is heavily based on the concept of pointers.</p>\n\n<p>Instead use <code>std::string</code> for which you have to <code>#include&lt;string&gt;</code> first. It is a class type which behaves much more friendly:</p>\n\n<pre><code>std::string data_string;\n\nReturnObject::ReturnObject(ReturnCode enum_code, std::string data)\n\nstd::string ReturnObject::getData()\n</code></pre>\n\n<p>and your code will compile.</p>\n\n<p><code>const char</code> is simply <em>one</em> single character and a constant one (unmutable) too. This is probably not what you wanted.</p>\n\n<p>There is also no reason for you to use dynamic allocation (<code>new</code>) yet if you are not familiar with pointers. Instead just drop it to get static allocation:</p>\n\n<pre><code>_ReturnObject = ReturnObject(ReturnCode::LoginDialog_EmptyLoginPass, \"\");\n</code></pre>\n\n<p><code>new</code> indicates that you want the created instance to stay alive until you call <code>delete</code> on a pointer to it, which can be anywhere in the program.</p>\n\n<p>Without <code>new</code> the instance will be destructed as soon as the scope of the declaration of <code>_ReturnObject</code> is left (i.e. if the enclosing class instance is destroyed).</p>\n\n<p>In your case the line will trigger a new error anyway because <code>new</code> returns not the object itself but a pointer to it and you are trying to assign that pointer to a non-pointer (<code>_ReturnObject</code>).</p>\n\n<p>Also since you are using the Qt library, which I am not very familiar with, it may be better to use its string implementation <code>QString</code>. From looking at the documentation it seems to me that you should be able to use it directly inplace of <code>std::string</code>. <code>std::string</code> however is the standard library type that is always available with every C++ compiler and platform.</p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476316889, "post_id": 40010145, "comment_id": 67298448, "body": "&quot;an array of char, namely a &quot;char *&quot;&quot; Untrue. It is a <code>const char *</code>. String Literals may reside in memory that may not be writable, thus constant. You clearly get that later in the question, but you know... TL;DR.. best to put this distinction out upfront."}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "edited": false, "score": 0, "creation_date": 1476320688, "post_id": 40010145, "comment_id": 67299324, "body": "thanks, with the other answers I understand my problem, with your solution I have found what I was looking for. Thank you, if you have a moment, and this will fork my question, but after applying the proposed <code>const char * data</code> solution, I have run into an issue, searching for a solution has proved fruitless. You opinion would be greatly valued, if you care to assist. Also I am aware this is against SO policy, but creating a new question for this seems illogical since I presume it is a small error"}], "tags": [], "owner": {"reputation": 31, "user_id": 1273807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6586c9fa6a8d4ec735104096337be8e?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1273807/bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1476316377, "creation_date": 1476316377, "answer_id": 40010145, "question_id": 40009892, "link": "https://stackoverflow.com/questions/40009892/type-required-passing-string-as-parameter-to-function/40010145#40010145", "title": "type required : Passing String as parameter to function", "body": "<p>This error comes from the type of object that you give as an argument. The second parameter of the constructor of <code>ReturnObject</code> is a char, but you give a <code>\"\"</code>, which is an empty string (an array of char, namely a \"char *\").</p>\n\n<p>If you write <code>''</code> instead of <code>\"\"</code>, your program will compile as <code>''</code> is used to indicate an empty char. But I'm not sure this is what you need to implement...</p>\n\n<p>If you want the second argument of <code>ReturnObject</code> constructor to be a string, then you should replace the prototype</p>\n\n<pre><code>ReturnObject(ReturnCode enum_code, const char data);\n</code></pre>\n\n<p>by</p>\n\n<pre><code>ReturnObject(ReturnCode enum_code, const char * data);\n</code></pre>\n\n<p>or better by</p>\n\n<pre><code>ReturnObject(ReturnCode enum_code, const QString data);\n</code></pre>\n\n<p>If you do that, don't forget to change the type of <code>const char data_string</code> by <code>const char * data_string</code> or <code>QString data_string</code> in the header according to your choice. In the same way, <code>const char getData();</code> should also by replaced in the header and the implementation by <code>const char * getData();</code> or <code>const QString getData();</code> respectively.</p>\n"}], "owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 40010017, "answer_count": 3, "score": -2, "last_activity_date": 1476317130, "creation_date": 1476314526, "last_edit_date": 1476317130, "question_id": 40009892, "link": "https://stackoverflow.com/questions/40009892/type-required-passing-string-as-parameter-to-function", "title": "type required : Passing String as parameter to function", "body": "<p>Good day all</p>\n\n<p><em>note: I am a begginer at c++, teaching myself as I go along, also apologies if this is a duplicate, but I have not found an example/answer/tutorial to answer question, possibly I just do not understand it yet.</em></p>\n\n<p>I have a function with header and implementation defined below:</p>\n\n<p><strong>Header</strong></p>\n\n<pre><code>#ifndef RETURNOBJECT_H\n#define RETURNOBJECT_H\n\n#include &lt;QtCore&gt;\n#include \"enums.h\"\n\nclass ReturnObject\n{\npublic:\n    ReturnObject();\n    ReturnObject(ReturnCode enum_code, const char data);\n\n    const char getData();\n    ReturnCode getCode();\n\nprivate:\n    ReturnCode e_code;\n    const char data_string;\n\n};\n\n#endif // RETURNOBJECT_H\n</code></pre>\n\n<p><strong>Implementation</strong></p>\n\n<pre><code>#include \"returnobject.h\"\n\nReturnObject::ReturnObject(){\n    data_string=\"WARN\";\n}\n\nReturnObject::ReturnObject(ReturnCode enum_code, const  char data)\n    : e_code(enum_code)\n    , data_string(data)\n{}\n\nResultCode ReturnCode::getCode()\n{\n    return e_code;\n}\n\nconst char ReturnObject::getData()\n{\n    return data_string;\n}\n</code></pre>\n\n<p><em>Please note, I am not as familiar with pointers,etc as I should be but I have a fair understanding of each concept.</em></p>\n\n<p><strong>Purpose:</strong></p>\n\n<p>This object is created by a custom class function, stored within the class and returned to the parent class. The object contains a custom <code>exec()</code> return value and possible output message/data from the class ( I created this, due to the limited restrictions on e.g. <code>QDialog.setResult()</code> allowing only a <code>exec()</code> return result of 1 or 0).</p>\n\n<p><strong>Issue/Problem/Question</strong></p>\n\n<p>calling the class with:</p>\n\n<pre><code>Private\n    ReturnObject _ReturnObject;\n\n_ReturnObject = new ReturnObject(ReturnCode::LoginDialog_EmptyLoginPass, \"\");\n</code></pre>\n\n<p>provides the following error:</p>\n\n<pre><code>/home/cx/qt-projects/project-i/loginstatusdialog.cpp:21: error: invalid conversion from 'const char*' to 'char' [-fpermissive]\n         _ReturnObject = new ReturnObject(ReturnCode::LoginDialog_EmptyLoginPass, \"\");\n                                                                                    ^\n</code></pre>\n\n<p>Thus, I conclude from the error that the second parameter -> <code>\"\"</code> or <code>data</code> is the issue as I, most probably, do not properly define this datatype in the constructor.</p>\n\n<p><strong>How should I define this in the constructor?</strong>, rather which data type does <code>\"\"</code> use? As I understand, it does take on a <code>const</code> property.</p>\n\n<p><strong>What I have tried:</strong></p>\n\n<p>I have attempted using <code>char</code>, <code>const char</code>, <code>QString</code> both which give a similar error.</p>\n\n<p>Any suggestions?</p>\n\n<p><strong>Compiler output</strong> </p>\n\n<p>after solution of <code>const char * data</code></p>\n\n<pre><code>../project-i/loginstatusdialog.cpp: In constructor 'LoginStatusDialog::LoginStatusDialog(QString, QString, QString*, QWidget*)':\n../project-i/loginstatusdialog.cpp:21:44: error: use of deleted function 'ReturnObject&amp; ReturnObject::operator=(ReturnObject&amp;&amp;)'\n         _Return_Object = ReturnObject(1, \"\");\n                                            ^\nIn file included from ../project-i/loginstatusdialog.h:10:0,\n                 from ../project-i/loginstatusdialog.cpp:1:\n../project-i/returnobject.h:7:7: note: 'ReturnObject&amp; ReturnObject::operator=(ReturnObject&amp;&amp;)' is implicitly deleted because the default definition would be ill-formed:\n class ReturnObject\n       ^~~~~~~~~~~~\n</code></pre>\n"}, {"tags": ["c#", "c++", ".net", "wpf", "mfc"], "comments": [{"owner": {"reputation": 586, "user_id": 527155, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IBZNi.png?s=128&g=1", "display_name": "sbrett", "link": "https://stackoverflow.com/users/527155/sbrett"}, "edited": false, "score": 0, "creation_date": 1476377053, "post_id": 40009806, "comment_id": 67330556, "body": "I have just written a test that shows you can 100% bind to a MarshalByRefObject that was proxied over from another AppDomain."}, {"owner": {"reputation": 586, "user_id": 527155, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IBZNi.png?s=128&g=1", "display_name": "sbrett", "link": "https://stackoverflow.com/users/527155/sbrett"}, "edited": false, "score": 1, "creation_date": 1476380558, "post_id": 40009806, "comment_id": 67332481, "body": "A bit more information. It seems the culprit is two way binding in one fashion or another. Specifically two way binding set on the SelectedValue property of a TabControl (though i&#39;m sure isn&#39;t limited to TabControl)."}], "answers": [{"tags": [], "owner": {"reputation": 1125, "user_id": 230294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ce031ffd3c4034ee780e896d1eb30f?s=128&d=identicon&r=PG", "display_name": "Jonathan Mitchell", "link": "https://stackoverflow.com/users/230294/jonathan-mitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1541462240, "creation_date": 1541462240, "answer_id": 53163994, "question_id": 40009806, "link": "https://stackoverflow.com/questions/40009806/ms-internal-namedobject-is-not-marked-as-serializable/53163994#53163994", "title": "MS.Internal.NamedObject is not marked as serializable", "body": "<p>I encountered precisely this issue when binding a collection of .NET remoting proxies to a WPF <code>ItemsControl</code>. Again, a comparison operation featured at the root of the exception stack trace. <code>DataTemplate</code> binding and control binding within the <code>DataTemplate</code> actually worked for the first couple of calls (the <code>ItemsControl.DataContext</code> was being taken from a list selected item) but then the exception was raised. </p>\n\n<p>The fact that the proxy bindings worked initially made me suspect that the issue lay with how the <code>ItemsControl</code> was handling its internal <code>ItemsSource</code> binding state. </p>\n\n<p>My workaround is to not use the <code>ItemsSource</code> binding but to manually create the <code>ContentControl</code> and add to the <code>Items</code> collection. The <code>ContentControl</code> will query the <code>UserControl.Resources</code> for a matching <code>DataTemplate</code>:</p>\n\n<pre><code>var contentControl = new ContentControl { Content = input };\n_inputsItemsControl.Items.Add(contentControl);\n</code></pre>\n\n<p>The OP was binding a <code>TabControl</code>, which is an <code>ItemsControl</code> subclass, so the same approach should work.</p>\n"}], "owner": {"reputation": 586, "user_id": 527155, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IBZNi.png?s=128&g=1", "display_name": "sbrett", "link": "https://stackoverflow.com/users/527155/sbrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541462240, "creation_date": 1476313862, "question_id": 40009806, "link": "https://stackoverflow.com/questions/40009806/ms-internal-namedobject-is-not-marked-as-serializable", "title": "MS.Internal.NamedObject is not marked as serializable", "body": "<p>I am having an issue almost exactly like the one listed in this link.\n<a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/3d0eae67-2cd8-4c06-888a-650a811f1fcf/type-msinternalnamedobject-in-assembly-windowsbase-is-not-marked-as-serializable?forum=wpf\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/vstudio/en-US/3d0eae67-2cd8-4c06-888a-650a811f1fcf/type-msinternalnamedobject-in-assembly-windowsbase-is-not-marked-as-serializable?forum=wpf</a></p>\n\n<p>My problem is like the original author's, having a .NET remoting proxy as the binding source for a control. In my case the control in question is a TabControl, the itemsource property of which I am binding to a property on an interface type whos realization was in native code. </p>\n\n<p>The series of links threaded to by the one above make mention that there are workarounds. Microsoft claims a fix, but it seems reserved for .net 4.5 which I am unable to move to (i'm stuck in 4.0). In regards to the workarounds, unfortunately I cannot for the life of me figure out where to apply any of the workarounds discussed as they seem to be not detailed.</p>\n\n<p>What I have found on my own at least is that Object.Equals() is being called on a TransparentProxy object, which is binding source interface instance, and the instance of object stored in the contents of the BindingExpressionBase's EffectiveTargetNullValue property. This instance of object stored at this property happens to be of type MS.Internal.NamedObject.</p>\n\n<p>My guess is that when a object represented by a .Net remoting proxy is part of a comparison operation, both objects in the comparison are attempted to be serialized or referenced depending on whether or not the object inherits from MarshalByRefObj. In my case, the MS.Internal.NamedObject type is not marked as such, and when the comparison its made, causes me a Serialization exception.</p>\n\n<p>I can make an attempt to provide code that boils this down, however my project is part of a large MFC/WPF application. It'd take me a long time.\nThe MFC application loads plugins, one of which, when activated is to provide a child WPF window accessible to the MFC native c++ plugin via COM interop. The WPF window and its service are launched in an appdomain separate from the one automatically created when doing native to managed COM interop. The two app domains communicate through a combination of WCF and COM Event sinks. The data source for the WPF window is passed from the original MFC appdomain (via com interop) to the other, then a signal is sent to notify the application in the other domain to read data, and update its views. The .NET remoting comes into play as i use the AppDomain.SetData method to make the data available to the WPF appdomain from the MFC one. The data is intrinsically a ComObj at this point, served up to the WPF window by a TransparentProxy. </p>\n\n<p>Ultimately i need to know if a WPF Tab control can bind its item source to a COM object served up by a transparent proxy that crosses appdomains. If this is possible, then is my Serialization exception due to the bug in .net 4.0 as stated by the link, and if so, is there workaround?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1476314246, "post_id": 40009777, "comment_id": 67297733, "body": "You don&#39;t need the prototypes if you are including the class declaration in a header file.  The class declaration contains the prototypes."}, {"owner": {"reputation": 11, "user_id": 1804549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9823af140d30311ad3414e387bb093c2?s=128&d=identicon&r=PG", "display_name": "Sean S", "link": "https://stackoverflow.com/users/1804549/sean-s"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476315828, "post_id": 40009777, "comment_id": 67298143, "body": "@ThomasMatthews Ah, I see! Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1804549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9823af140d30311ad3414e387bb093c2?s=128&d=identicon&r=PG", "display_name": "Sean S", "link": "https://stackoverflow.com/users/1804549/sean-s"}, "edited": false, "score": 0, "creation_date": 1476315795, "post_id": 40009964, "comment_id": 67298133, "body": "You are a godsend!! Thanks for the explanation. I clearly need to read up more."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 4, "last_activity_date": 1476315000, "creation_date": 1476315000, "answer_id": 40009964, "question_id": 40009777, "link": "https://stackoverflow.com/questions/40009777/classname-does-not-name-a-type-even-after-including-h-file/40009964#40009964", "title": "&quot;[Classname] does not name a type&quot; even after including .h file", "body": "<p>The problem is these lines in the <code>.cpp</code> file:</p>\n\n<pre><code>#ifndef MOVIETREE_HPP\n#define MOVIETREE_HPP\n...\n#endif\n</code></pre>\n\n<p>These lines should only be put in the header file, not the program file -- they're used by the header to detect if it's included twice so it doesn't try to redefine everything. By setting it yourself before the <code>#include &lt;movietree.hpp&gt;</code> line, you fool it into thinking that it has already been included, so it doesn't do anything.</p>\n"}], "owner": {"reputation": 11, "user_id": 1804549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9823af140d30311ad3414e387bb093c2?s=128&d=identicon&r=PG", "display_name": "Sean S", "link": "https://stackoverflow.com/users/1804549/sean-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 40009964, "answer_count": 1, "score": -1, "last_activity_date": 1496302811, "creation_date": 1476313690, "last_edit_date": 1496302811, "question_id": 40009777, "link": "https://stackoverflow.com/questions/40009777/classname-does-not-name-a-type-even-after-including-h-file", "title": "&quot;[Classname] does not name a type&quot; even after including .h file", "body": "<p>I get this compiler error(\"CLASSNAME does not name a type\") on every function prototype and fucntion in my .cpp file</p>\n\n<p>.h file:</p>\n\n<pre><code>#ifndef MOVIETREE_HPP\n#define MOVIETREE_HPP\n\nstruct MovieNode\n{\n    ...//members and such\n};\n\nclass MovieTree\n{\n    public:\n        MovieTree();\n        ~MovieTree();\n        void printMovieInventory();\n        ...//more functions\n\n    protected:\n    private:\n        void printMovieInventory(MovieNode * node);\n        MovieNode* search(std::string title);\n        MovieNode *root;\n\n};\n#endif // MOVIETREE_HPP\n</code></pre>\n\n<p>.cpp file:</p>\n\n<pre><code>#ifndef MOVIETREE_HPP\n#define MOVIETREE_HPP\n\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;cstdlib&gt;\n\n#include \"MovieTree.hpp\"\n\nusing namespace std;\n\nMovieTree::MovieTree(); //error code here and all prototypes and functions below\nMovieTree::~MovieTree();\nvoid MovieTree::printMovieInventory();\n...//more function prototypes\n\nMovieTree::MovieTree(){\n}\nMovieTree::~MovieTree(){\n}\n\nvoid MovieTree::printMovieInventory(){\n    ...//body\n}\n...//more function bodies\n\n#endif \n</code></pre>\n\n<p>All other forums and questions I've encountered regarding this has the simple solution of including the header file. I've already included that in my code.</p>\n\n<p>I've triple checked and am pretty I spelled everything right. What have I done wrong?</p>\n"}, {"tags": ["c++", "scripting"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476314367, "post_id": 40009776, "comment_id": 67297763, "body": "Really, write your own scripting language?  This is not for the faint of heart.  Search the internet for &quot;Compiler design theory&quot; and also &quot;computer language theory&quot;.  You need to write a Lexer, Parser and interpreter.  In schools, this can be a year long course.  Good luck!"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476314463, "post_id": 40009776, "comment_id": 67297790, "body": "Voting to close - too broad.  Instructions for writing languages cannot fit in the answer section for one question.  There are 1000 page books already written on this topic, search for &quot;Compiler Design book Aho&quot;, often nicknamed &quot;the dragon book&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476315904, "post_id": 40009974, "comment_id": 67298169, "body": "37 elapsed years and counting for C++. I&#39;d hate to see what that is in person-years."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 3, "last_activity_date": 1476315038, "creation_date": 1476315038, "answer_id": 40009974, "question_id": 40009776, "link": "https://stackoverflow.com/questions/40009776/writing-a-scripting-language/40009974#40009974", "title": "Writing a scripting language?", "body": "<p>In a nutshell:  </p>\n\n<p><strong>Define Your Language</strong><br>\nYou will need to define all the commands and their syntaxes.<br>\nAfter defining them, you can group them by syntax patterns.</p>\n\n<p><strong>Design the Lexer</strong><br>\nThe Lexer is the part that scans the input for language elements and converts them to <em>tokens</em>.  The tokens are then fed to the Parser.  </p>\n\n<p><strong>Design the Parser</strong><br>\nThe Parser is the part that evaluates the tokens, such as their order and number of parameters.  </p>\n\n<p><strong>Design the Interpreter</strong><br>\nThe Interpreter is the part that executes the output from the Parser.<br>\nYou should think of it as a very high level model of a computer.  For example, will you be needing variables, registers, input, output, math instructions, etc.  </p>\n\n<p>A complex interpreter is a BASIC language interpreter (or Visual BASIC).  Java has a JVM which interprets byte-codes.  There are also LISP interpreters.  </p>\n\n<p>You may want to review the Python interpreter source code if you can get it.  </p>\n\n<p>Also, review the source code for the GNU and CLanguage compilers.  </p>\n\n<p>Compilers and interpreters are usually written by teams of people (to reduce the development time).  Be prepared to spend a long time with this project.</p>\n"}], "owner": {"reputation": 313, "user_id": 6569165, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/inqQK.jpg?s=128&g=1", "display_name": "PavelF", "link": "https://stackoverflow.com/users/6569165/pavelf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 0, "accepted_answer_id": 40009974, "answer_count": 1, "score": 1, "last_activity_date": 1484248890, "creation_date": 1476313662, "last_edit_date": 1484248890, "question_id": 40009776, "link": "https://stackoverflow.com/questions/40009776/writing-a-scripting-language", "title": "Writing a scripting language?", "body": "<p>I am expanding my knowledge in C++ and would like to write my own scripting language as a means to challenge myself and also as a project to use for casual scripts etc. I saw some old posts on stackoverflow on this but they're pretty dated and was wondering if anybody could give any newer sources examples etc...?</p>\n"}, {"tags": ["c++", "templates", "mingw", "c++14", "template-argument-deduction"], "comments": [{"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "edited": false, "score": 0, "creation_date": 1476314534, "post_id": 40009712, "comment_id": 67297802, "body": "Interesting... no need of <code>class A</code> to show this; you can use <code>std::array</code> with <code>template &lt;std::size_t S&gt; void testA0 (std::array&lt;int, S&gt; const &amp;) { }</code> and <code>template &lt;std::size_t S&gt; void testA1 (typename std::array&lt;int, S&gt;::iterator const &amp;) { }</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1476314757, "post_id": 40009712, "comment_id": 67297851, "body": "This is a non-deduced context: it&#39;s not going to go through all possible <code>vector&lt;A&lt;X&gt;&gt;</code> and check if they have an <code>iterator</code> member matching your argument.  This is not even possible in general, e.g. imagine if <code>vector::iterator</code> is implemented as a raw pointer"}], "owner": {"reputation": 773, "user_id": 5627734, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ecb940b4218ff250f966e1d25e8aa7bf?s=128&d=identicon&r=PG&f=1", "display_name": "SergeantPenguin", "link": "https://stackoverflow.com/users/5627734/sergeantpenguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1476315459, "answer_count": 0, "score": 2, "last_activity_date": 1476314614, "creation_date": 1476313200, "last_edit_date": 1476314614, "question_id": 40009712, "link": "https://stackoverflow.com/questions/40009712/template-function-with-a-vectoraxiterator-parameter-fails-template-argumen", "closed_reason": "Duplicate", "title": "Template function with a vector&lt;A&lt;X&gt;&gt;::iterator parameter fails template argument deduction", "body": "<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\ntemplate &lt;unsigned X&gt; class A{};\n\ntemplate &lt;unsigned X&gt; void testfunc(std::vector&lt;A&lt;X&gt;&gt; f) { std::cout &lt;&lt; \"Hello one\" &lt;&lt; std::endl;}\ntemplate &lt;unsigned X&gt; void testfunctwo(typename std::vector&lt;A&lt;X&gt;&gt;::iterator f) { std::cout &lt;&lt; \"Hello two\" &lt;&lt; std::endl;}\n\n\nint main(){\n\n    std::vector&lt;A&lt;2&gt;&gt; f;\n    f.push_back(A&lt;2&gt;());\n\n    testfunc(f);\n    testfunctwo&lt;2&gt;(f.begin());\n    testfunctwo(f.begin());\n\n\n}\n</code></pre>\n\n<p>You can see in the first case the compiler can deduce the value of <code>X</code> as expected. In the second case the function takes a vector iterator an explicit template parameter is used, the function of course runs normally. In the third case there is template argument deduction failure:</p>\n\n<pre><code>error: no matching function for call to 'testfunctwo(std::vector&lt;A&lt;2u&gt; &gt;::iterator)'|\nnote: candidate: template&lt;unsigned int X&gt; void testfunctwo(typename std::vector&lt;A&lt;X&gt; &gt;::iterator)|\nnote:   template argument deduction/substitution failed:|\nnote:   couldn't deduce template parameter 'X'|\n</code></pre>\n\n<p>The compiler notes that the template function <code>testfunctwo</code> is a candidate but cannot deduce the template parameter <code>X</code>. The only difference between it and <code>testfunc</code> is that it takes an iterator instead. How come the introduction of a typename causes template argument deduction to fail? <code>f.begin()</code> has type <code>std::vector&lt;A&lt;2&gt;&gt;::iterator</code>, personally looking at it, it should be very clear what the template parameter should be. </p>\n\n<p>Compiler is MinGW g++ 6.1.0</p>\n"}, {"tags": ["c++", "templates", "generics", "specialization"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476313211, "post_id": 40009694, "comment_id": 67297483, "body": "What is your question?  Only classes can be specialized, but a static member function of a specialized class is just as good as a specialized non-member function."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476313250, "post_id": 40009694, "comment_id": 67297495, "body": "Or do you mean you want to partially specialize <code>C</code> to match function types?  (or function pointer types)"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476313292, "post_id": 40009694, "comment_id": 67297503, "body": "Try... <code>template &lt;typename... Args, typename ReturnType&gt; class C&lt;ReturnType (Args...)&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 1, "last_activity_date": 1476313752, "creation_date": 1476313752, "answer_id": 40009788, "question_id": 40009694, "link": "https://stackoverflow.com/questions/40009694/partial-specializations-for-pointers-and-functions/40009788#40009788", "title": "Partial specializations for pointers and functions", "body": "<p>You don't have partial specialization for functions; what you have instead is overloads and <code>std::enable_if&lt;c, T&gt;</code>. Hint: you can have <code>std::enable_if&lt;c, T&gt;::type</code> for a function that returns T given <code>c</code> holds.</p>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 2, "last_activity_date": 1476313917, "creation_date": 1476313917, "answer_id": 40009815, "question_id": 40009694, "link": "https://stackoverflow.com/questions/40009694/partial-specializations-for-pointers-and-functions/40009815#40009815", "title": "Partial specializations for pointers and functions", "body": "<p>I think you want something more or less like the following:</p>\n\n<pre><code>template &lt;typename R, typename... Args&gt;\nclass C&lt;R(*)(Args...)&gt; {\n    using func_ptr = R(*)(Args...);\n    public: bool isLess(func_ptr l, func_ptr r) { return std::less&lt;&gt;{}(l, r); }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": false, "score": 0, "last_activity_date": 1476318901, "creation_date": 1476318901, "answer_id": 40010495, "question_id": 40009694, "link": "https://stackoverflow.com/questions/40009694/partial-specializations-for-pointers-and-functions/40010495#40010495", "title": "Partial specializations for pointers and functions", "body": "<p>You don't need to partially specialize function templates, because unlike with class templates you can have multiple functions with the same number, i.e. overloading.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\ntemplate &lt;class T&gt; bool isLess(const T &amp;v1, const T &amp;v2) {\n  std::cerr &lt;&lt; \"general\\n\";\n  return v1 &lt; v2;\n}\n\nbool isLess(const char *v1, const char *v2) {\n  std::cerr &lt;&lt; \"str\\n\";\n  return strcmp(v1, v2) &lt; 0;\n}\n\ntemplate &lt;typename T&gt; bool isLess(T *v1, T *v2) {\n  std::cerr &lt;&lt; \"pointer\\n\";\n\n  return *v1 &lt; *v2;\n}\n\nint main() {\n  int x = 0;\n  int y = 1;\n  auto s1 = \"hey\";\n  auto s2 = \"there\";\n  std::cerr &lt;&lt; isLess(x, y) &lt;&lt; \"\\n\";\n  std::cerr &lt;&lt; isLess(s1, s2) &lt;&lt; \"\\n\";\n  std::cerr &lt;&lt; isLess(&amp;x, &amp;y) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>general\n1\nstr\n1\npointer\n1\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6753972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee939b35647f51e7454c14886a5cac?s=128&d=identicon&r=PG&f=1", "display_name": "Khayrullo Rustamov", "link": "https://stackoverflow.com/users/6753972/khayrullo-rustamov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1476318901, "creation_date": 1476313035, "last_edit_date": 1476313846, "question_id": 40009694, "link": "https://stackoverflow.com/questions/40009694/partial-specializations-for-pointers-and-functions", "title": "Partial specializations for pointers and functions", "body": "<p>These are template snippets for a method less which takes as input two generic arguments and returns bool result</p>\n\n<ul>\n<li>First template is generic  </li>\n<li><p>Second is explicit specialization type of    const char*</p></li>\n<li><p>Third partial specialization for pointers</p></li>\n</ul>\n\n<h2>How to implement partial specialization for functions?</h2>\n\n<pre><code>template&lt;typename T&gt; //general form\nclass C{\n    public: bool isLess(const T&amp; v1, const T&amp; v2){\n        return v1&lt;v2;\n    }\n};\n\ntemplate&lt;&gt; //explicit specialization for char*\nclass C&lt;const char*&gt;{\npublic: bool isLess(const char* v1, const char* v2){\n    return strcmp(v1,v2) &lt; 0;}\n};\n\ntemplate &lt;typename T&gt; //partial specialization for pointers\nclass C&lt;T*&gt; {\npublic: bool isLess(T* v1, T* v2){return *v1 &lt; *v2;}\n};\n//partial specialization for functions?\n</code></pre>\n"}, {"tags": ["c++", "performance", "loops"], "comments": [{"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 6, "creation_date": 1476313050, "post_id": 40009679, "comment_id": 67297429, "body": "Define your variables in the innermost scope possible. That way they are available only when they are needed. Enough said. Your compiler will deal with such trivial optimizations."}, {"owner": {"reputation": 1523, "user_id": 2034903, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71a8b0afe69576a48d19f1923a538561?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/2034903/manuel"}, "reply_to_user": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1476313131, "post_id": 40009679, "comment_id": 67297448, "body": "Even if this means a significant dip on performance compared to defining variables outside the loop?"}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 4, "creation_date": 1476313189, "post_id": 40009679, "comment_id": 67297472, "body": "<i>Your compiler will deal with such trivial optimizations.</i>"}, {"owner": {"reputation": 9690, "user_id": 1707560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8VK4M.jpg?s=128&g=1", "display_name": "imreal", "link": "https://stackoverflow.com/users/1707560/imreal"}, "edited": false, "score": 1, "creation_date": 1476313363, "post_id": 40009679, "comment_id": 67297523, "body": "Is it a primitive type variable? Is it an object that holds a resource? Will the variable have the same value on each iteration? Your question is too general if you don&#39;t provide an example of what you&#39;re dealing with."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1476313380, "post_id": 40009679, "comment_id": 67297528, "body": "If you can <i>measure</i> (!, with optimization enabled!) a significant difference in performance, go with the faster one. Otherwise, innermost scope it is."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1476314252, "post_id": 40009679, "comment_id": 67297735, "body": "@Manuel: How did you determine there is a significant performance dip?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1476314362, "post_id": 40009679, "comment_id": 67297762, "body": "If the loop is so large that it matters, then you need to make the loop smaller."}, {"owner": {"reputation": 1523, "user_id": 2034903, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71a8b0afe69576a48d19f1923a538561?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/2034903/manuel"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1476314550, "post_id": 40009679, "comment_id": 67297804, "body": "@GManNickG I saw a case example of this in <a href=\"http://stackoverflow.com/questions/13957237/should-we-use-temporary-variables-for-the-returned-values-of-functions\" title=\"should we use temporary variables for the returned values of functions\">stackoverflow.com/questions/13957237/&hellip;</a>. But even if I hadn&#39;t seen that post, in theory the constant allocation and deallocation of resources required for a variable declared within its loop surely must add to the overhead of the overall program, right? At least that&#39;s what I thought but it seems it isn&#39;t as big an issue as I had thought it was."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 3, "creation_date": 1476315668, "post_id": 40009679, "comment_id": 67298085, "body": "@Manuel: You&#39;re compiler is <i>a lot</i> smarter than you&#39;re giving it credit for. :)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 3, "creation_date": 1476315673, "post_id": 40009679, "comment_id": 67298089, "body": "To reword DeiDei&#39;s comment above, if a modern compiler thinks the variable construction will impact performance inside the loop, it will hoist the construction out of the loop for you. This is why it&#39;s not seen as a problem."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476316054, "post_id": 40009679, "comment_id": 67298220, "body": "How expensive is the type&#39;s constructor and/or destructor to call?  If it&#39;s cheap or no-cost, then it doesn&#39;t really matter where you define &amp; initialise.  If it&#39;s expensive, that&#39;s when you should look into optimisation.  Also, if you&#39;re worried, try telling your compiler to optimise for speed before you try any manual optimisation, you may be surprised at the results."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1476323443, "post_id": 40009679, "comment_id": 67299975, "body": "@Manuel There is no such overhead. If you&#39;re referring to <a href=\"http://stackoverflow.com/a/13958126/207421\">this answer</a>, it&#39;s wrong."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 6929029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5782321631a92ef50d417221377e7f46?s=128&d=identicon&r=PG&f=1", "display_name": "brianplace", "link": "https://stackoverflow.com/users/6929029/brianplace"}, "is_accepted": false, "score": 1, "last_activity_date": 1476314155, "creation_date": 1476314155, "answer_id": 40009842, "question_id": 40009679, "link": "https://stackoverflow.com/questions/40009679/is-it-good-practice-to-define-a-variable-at-the-top-of-a-large-loop/40009842#40009842", "title": "Is it good practice to define a variable at the top of a large loop?", "body": "<p>I would think that it would also depend on the context of your environment.  Are you talking about turning in an assignment for a class?  Turning in a project at work?  Personal preference?\nIf this is a case of turning in a program to someone else, if there is an expected way to do it, that's how I would do it.<br>\nThe other side is that you can always create the variable outside of the loop, and just not initialize it until you get in the loop.  That way, if you need it outside of the loop, it's available.</p>\n"}], "owner": {"reputation": 1523, "user_id": 2034903, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71a8b0afe69576a48d19f1923a538561?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/2034903/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476314155, "creation_date": 1476312958, "last_edit_date": 1495535269, "question_id": 40009679, "link": "https://stackoverflow.com/questions/40009679/is-it-good-practice-to-define-a-variable-at-the-top-of-a-large-loop", "title": "Is it good practice to define a variable at the top of a large loop?", "body": "<p>I've been wondering about this. For a variable that is used in a very large loop, is it better to initialize it first with a dummy value on top of the loop (outside) or should it be declared and initialized as locally as possible, at the moment it's used inside the loop?</p>\n\n<p>I'm asking because these two posts related to my question seem to give contradictory answers:\n<a href=\"https://stackoverflow.com/questions/3773396/declare-variables-at-top-of-function-or-in-separate-scopes\">Declare variables at top of function or in separate scopes?</a><br>\n<a href=\"https://stackoverflow.com/questions/13957237/should-we-use-temporary-variables-for-the-returned-values-of-functions\">Should we use temporary variables for the returned values of functions?</a></p>\n\n<p>One says that it should be declared as locally as possible - I'm assuming this means variables should be declared within loops. The other seems to suggest that local declarations in large loops yield poor performance unless some other special technique is used (I'm not familiar with the example provided by the best answer in this case).</p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476312762, "post_id": 40009621, "comment_id": 67297358, "body": "Included as in supported by the toolchain or included as in somewhere in the project someone is using a std container?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1476312841, "post_id": 40009621, "comment_id": 67297383, "body": "Sorry, but I have to ask: Why?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 3, "creation_date": 1476316825, "post_id": 40009621, "comment_id": 67298427, "body": "<code>#include &lt;vector&gt;</code> followed by <code>#if 1</code> should do the trick"}, {"owner": {"reputation": 1136, "user_id": 723918, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6837b2e216b542a8a2675dde2c89da20?s=128&d=identicon&r=PG", "display_name": "maccard", "link": "https://stackoverflow.com/users/723918/maccard"}, "edited": false, "score": 0, "creation_date": 1476344917, "post_id": 40009621, "comment_id": 67307536, "body": "Hi MM - clever! If you post this as an answer I&#39;ll accept!"}], "answers": [{"tags": [], "owner": {"reputation": 13563, "user_id": 992490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac727873c5724326c84ed245faa9fe6c?s=128&d=identicon&r=PG", "display_name": "Marshall Clow", "link": "https://stackoverflow.com/users/992490/marshall-clow"}, "is_accepted": false, "score": -1, "last_activity_date": 1476319661, "creation_date": 1476319661, "answer_id": 40010573, "question_id": 40009621, "link": "https://stackoverflow.com/questions/40009621/detect-if-standard-library-containers-are-included/40010573#40010573", "title": "Detect if standard library containers are included", "body": "<p>Seriously, just include what you need.  If they've already been included, then it's not a problem.</p>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 839932, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a487a879a978ecef2a3991c266e3b648?s=128&d=identicon&r=PG", "display_name": "0x5f3759df", "link": "https://stackoverflow.com/users/839932/0x5f3759df"}, "is_accepted": false, "score": 0, "last_activity_date": 1476319725, "creation_date": 1476319725, "answer_id": 40010581, "question_id": 40009621, "link": "https://stackoverflow.com/questions/40009621/detect-if-standard-library-containers-are-included/40010581#40010581", "title": "Detect if standard library containers are included", "body": "<p>If you want to know the headers are available to be included:</p>\n\n<p>If you're using what the standard calls a <em>freestanding implementation</em> (limited library support) then you can check that with the macro <code>__STDC_HOSTED__</code>. If <code>__STDC_HOSTED__</code> is defined to <code>1</code> then any standard-conforming compiler will provide a proper standard library. A conforming hosted implementation cannot pick and choose which container headers to provide so there are not individual macros for each container. Clang provides the non-standard <a href=\"http://clang.llvm.org/docs/LanguageExtensions.html\" rel=\"nofollow\"><code>__has_include</code></a> feature to test for a header file in a <code>#if</code> but this is not portable.</p>\n\n<p>If you want to know if the headers have already been included in this translation unit:</p>\n\n<p>You cannot detect this unless you manually defined your own macro every time you include the given header. Nothing bad will happen if you include a standard library header multiple times.</p>\n"}], "owner": {"reputation": 1136, "user_id": 723918, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6837b2e216b542a8a2675dde2c89da20?s=128&d=identicon&r=PG", "display_name": "maccard", "link": "https://stackoverflow.com/users/723918/maccard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476319725, "creation_date": 1476312670, "question_id": 40009621, "link": "https://stackoverflow.com/questions/40009621/detect-if-standard-library-containers-are-included", "title": "Detect if standard library containers are included", "body": "<p>I'm looking for a cross platform way at compile time,  to determine whether or not the Standard library containers are included (vector, map, set, list)\ne.g. \n    #ifdef HAS_VECTOR\n        // do something with std vector here\n    #endif</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1476312509, "post_id": 40009563, "comment_id": 67297296, "body": "Please make sure you paste in your code correctly. You&#39;re missing the starts and end, along with the indentation for formatting."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1476312572, "post_id": 40009563, "comment_id": 67297316, "body": "Does <code>string denominator = firstFraction.substr(pos); </code> really make sense to you? If so, could you explain what you think it does?"}, {"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 1, "creation_date": 1476312612, "post_id": 40009563, "comment_id": 67297325, "body": "^ You&#39;re missing a declaration of <code>firstFraction</code>. You can <a href=\"https://stackoverflow.com/posts/40009563/edit\">edit</a> your question to include additional information. Also, we have to assume that <code>string</code> is indeed a <code>std::string</code>"}, {"owner": {"reputation": 27, "user_id": 6013351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328792767136456/picture?type=large", "display_name": "Jj Hagen", "link": "https://stackoverflow.com/users/6013351/jj-hagen"}, "edited": false, "score": 0, "creation_date": 1476312805, "post_id": 40009563, "comment_id": 67297372, "body": "i&#39;m very new to c++ and this site as well. i apologize for any incorrect formatting. I&#39;ve tried a bunch of stuff but this is just what gives me the closest result to what I&#39;m looking for but not quite right. all i want is to set the top and bottom numbers of the fraction to two separate variable."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476312922, "post_id": 40009563, "comment_id": 67297394, "body": "Take a look at <a href=\"http://en.cppreference.com/w/cpp/io/basic_stringstream\" rel=\"nofollow noreferrer\"><code>std::stringstream</code></a> and <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\"><code>std::getline(stream, variable, &#39;&#47;&#39;)</code></a>"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "reply_to_user": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 0, "creation_date": 1476312982, "post_id": 40009563, "comment_id": 67297412, "body": "@Tas Obviously namespaces are useless :P I guess that&#39;s why it seems that the first thing they teach people is how to avoid them. | @jj <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">Avoid <code>using namespace std;</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "is_accepted": false, "score": 0, "last_activity_date": 1476313747, "creation_date": 1476313747, "answer_id": 40009787, "question_id": 40009563, "link": "https://stackoverflow.com/questions/40009563/how-to-split-a-fraction-into-two-integers-c/40009787#40009787", "title": "How to split a fraction into two integers c++", "body": "<pre><code>firstFraction = cin.get();\n</code></pre>\n\n<p>Print <code>firstFraction</code> after this line and see whether it contains what you thought it contains. Looking in <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/get\" rel=\"nofollow\">the reference</a> (something you should be doing!) ...</p>\n\n<blockquote>\n  <p>[..] Reads one character and returns it if available. [..]</p>\n</blockquote>\n\n<p>... we learn that you're only reading a <em>single</em> character (of unformatted input). How do you intend to split the resulting (single character) string?</p>\n\n<p>There are multiple ways of doing it correctly, which one to choose depends a lot on your needs. A short, non-complete list:</p>\n\n<ul>\n<li><code>std::getline</code> the whole line, and then searching for <code>/</code> within it</li>\n<li><code>std::getline</code> until the next <code>/</code>, <code>std::getline</code> until end of line. (I don't really recommend this)</li>\n<li><p>Formatted input, <a href=\"http://ideone.com/VlcpcK\" rel=\"nofollow\">for example</a> :</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    unsigned int nominator, denominator;\n    char sep;\n    cin &gt;&gt; nominator &gt;&gt; sep &gt;&gt; denominator;\n\n    if (!cin || sep != '/') {\n        cerr &lt;&lt; \"Well... you know, that failed somehow.\" &lt;&lt; endl;\n        return 1;\n    }\n    cout &lt;&lt; \"Fraction: \" &lt;&lt; nominator &lt;&lt; \"/\" &lt;&lt; denominator &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>Though this also allows input like</p>\n\n<pre><code>3   / 4\n</code></pre>\n\n<p>and</p>\n\n<pre><code>3\n/\n4\n</code></pre></li>\n</ul>\n\n<p>And of course, you should abstract this, e.g. make a <code>fraction</code> class, and write a (member) function <code>read_fraction</code> (and also provide a suitable <code>operator&gt;&gt;</code> if you want).</p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476314051, "post_id": 40009805, "comment_id": 67297690, "body": "One possible tweak (in case abstract values are not desired): An <code>isdigit</code> test to make sure numerator and denominator are indeed numbers."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476314120, "post_id": 40009805, "comment_id": 67297708, "body": "@user4581301: using <code>operator&gt;&gt;</code> and failure tests is a better way to handle that."}, {"owner": {"reputation": 27, "user_id": 6013351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328792767136456/picture?type=large", "display_name": "Jj Hagen", "link": "https://stackoverflow.com/users/6013351/jj-hagen"}, "edited": false, "score": 0, "creation_date": 1476314253, "post_id": 40009805, "comment_id": 67297736, "body": "I was able to figure it out differently but this was very helpful thank you"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1476313855, "creation_date": 1476313855, "answer_id": 40009805, "question_id": 40009563, "link": "https://stackoverflow.com/questions/40009563/how-to-split-a-fraction-into-two-integers-c/40009805#40009805", "title": "How to split a fraction into two integers c++", "body": "<p>Try something like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n\nusing namespace std;\n\nint main() {\n    string fraction;\n\n    cout &lt;&lt; \"Enter your first real Fraction: \" &lt;&lt; endl;\n    getline(cin, fraction);\n\n    istringstream iss(fraction);\n\n    string numerator, denominator;\n    getline(iss, numerator, '/');\n    getline(iss, denominator);\n\n    cout &lt;&lt; numerator &lt;&lt; \" / \" &lt;&lt; denominator &lt;&lt; endl;\n\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1476313870, "creation_date": 1476313870, "answer_id": 40009808, "question_id": 40009563, "link": "https://stackoverflow.com/questions/40009563/how-to-split-a-fraction-into-two-integers-c/40009808#40009808", "title": "How to split a fraction into two integers c++", "body": "<p>This could be as simple as</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n//using namespace std; dangerous! Use with caution\n\nint main()\n{\n    int num; // want a number as numerator\n    int denom; // and a number as denomenator\n    char divsign; // and a character to hold the / \n\n    std::cout &lt;&lt; \"Enter your first real Fraction: \" &lt;&lt; std::endl;\n    // user input contains at least a numerator a / and a denominator\n    // anything less fails. anything more will slip through. If this is a\n    // problem, add another &gt;&gt; to see if there is more in the stream\n    if (std::cin &gt;&gt; num &gt;&gt; divsign &gt;&gt; denom &amp;&amp; // all input read successfully\n        divsign == '/') // and the division operator was present\n    { // got what we need. Print it.\n        std::cout &lt;&lt; num &lt;&lt; \" / \" &lt;&lt; denom &lt;&lt; std::endl;\n    }\n    else\n    { // bad input. insult user.\n        std::cout &lt;&lt; \"Bogus user input. No fraction for you\" &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>It has a number of potential failure cases, such as:</p>\n\n<pre><code>999999999999 / 2\nBogus user input. No fraction for you\n</code></pre>\n\n<p>Integer overflow. The input was too big. And</p>\n\n<pre><code>1/1dfjklghaljkgadlfhjgklahd\n1 / 1\n</code></pre>\n\n<p>Crap after the last character</p>\n"}], "owner": {"reputation": 27, "user_id": 6013351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328792767136456/picture?type=large", "display_name": "Jj Hagen", "link": "https://stackoverflow.com/users/6013351/jj-hagen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 1, "accepted_answer_id": 40009805, "answer_count": 3, "score": 1, "last_activity_date": 1476313870, "creation_date": 1476312346, "last_edit_date": 1476313503, "question_id": 40009563, "link": "https://stackoverflow.com/questions/40009563/how-to-split-a-fraction-into-two-integers-c", "title": "How to split a fraction into two integers c++", "body": "<p>I'm working on an assignment.  I need to have the user input a fraction in <code>#/#</code> format . How can I set the top and bottom to two separate variables?</p>\n\n<p>Here's a chunk of code I've tried, but I keep getting nothing for the second variable:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include &lt;cstdio&gt;\n#include &lt;regex&gt;\n\nusing namespace std;\n\nint main() {\n    string firstFraction;\n\n    cout &lt;&lt; \"Enter your first real Fraction: \" &lt;&lt; endl;\n    firstFraction = cin.get();\n\n    string delimiter = \"/\";\n\n    string numerator = firstFraction.substr(0,firstFraction.find(delimiter));\n\n    size_t pos = firstFraction.find(\"/\");\n    string denominator = firstFraction.substr(pos); \n\n    cout &lt;&lt; numerator &lt;&lt; \" / \" &lt;&lt; denominator &lt;&lt; endl;\n    _getch();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "overloading"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 3, "creation_date": 1476311720, "post_id": 40009438, "comment_id": 67297071, "body": "&quot;it should return a integer although the data type of the function is unsigned char. Is it possible?&quot;.  Ummm... No. If the function returns an <code>unsigned char</code>, that&#39;s what it returns."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476315590, "post_id": 40009438, "comment_id": 67298064, "body": "Why should the function return a value of a type other than its return type?  Assuming the usual sizes, where both <code>long long</code> types are 64 bits, &quot;the sum of the digits of the binary representation of an <code>unsigned long long</code>&quot; will be in the range of <code>0..64</code>, which easily fits in any of the <code>char</code> types.  Is there some other reason that you specifically need its return type to be <code>int</code>?  Is it part of a set of overloads for various types, for example?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476315787, "post_id": 40009438, "comment_id": 67298128, "body": "Also, note that the <code>char</code> types are considered integral types, which means that they are treated as 1-byte integers which may or may not represent a single character.  <code>uint8_t</code> is usually a typedef of <code>unsigned char</code>, and <code>int8_t</code> is usually a typedef of <code>signed char</code>, for example."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1476316674, "post_id": 40009438, "comment_id": 67298385, "body": "<code>unsigned char</code> is an integer type, your code already does what you are requesting."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "reply_to_user": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476366646, "post_id": 40009438, "comment_id": 67322771, "body": "@JustinTime, it&#39;s what I am asked to do. E.g. if the function is called for 11, the sumBinaryFigure is 3 (1+0+1+1) and it should return to main the 3 as a number, not as the third character in ASCII without changing the data type of the function and I do not control the call of the function from the main. So, how do I do it to get a 3 (as a number), not as the 3rd character in ASCII?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476375866, "post_id": 40009438, "comment_id": 67329826, "body": "Ah.  Just use <code>unsigned char</code>, then.  <code>char</code> is an integer type that can be read as either a number or a character, and pulls triple duty as &quot;ASCII character for current code page&quot;, &quot;UTF-8 Unicode code unit&quot;, and &quot;single-byte integer&quot;; what any value stored in it is interpreted as depends on the context.  For example, assuming <code>char c = &#39;A&#39;;</code>, and assuming either ASCII or Unicode, <code>c</code> will actually contain the number <code>65</code>.  Then, <code>std::cout &lt;&lt; c;</code> will output <code>A</code>, while <code>int i = 2 * c;</code> will assign <code>130</code> to <code>i</code>.  See <a href=\"http://ideone.com/lwkNoy\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476312086, "post_id": 40009463, "comment_id": 67297169, "body": "You didn&#39;t get the idea. From main somebody asks for sumBinaryFigure(1023). Whatever I would do in the <code>sumBinaryFigure</code> when it returns the value to the main function, it will be a <code>char</code>because of the function data type."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 2, "creation_date": 1476312189, "post_id": 40009463, "comment_id": 67297195, "body": "<code>unsigned char</code> is an arithmetic data type and it converts implicitly to <code>int</code>. You can return <code>unsigned char</code> from <code>sumBinaryFigure</code> and assign the result to <code>int</code>."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 1, "creation_date": 1476312291, "post_id": 40009463, "comment_id": 67297227, "body": "@Skyp89 maybe I don&#39;t understand your question, but here&#39;s a <a href=\"http://melpon.org/wandbox/permlink/s4v5MmaNkHe0e29b\" rel=\"nofollow noreferrer\">live demo</a>."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476312522, "post_id": 40009463, "comment_id": 67297302, "body": "i have no control on the main function. Just on the <code>sumBinaryFigure</code> or I could try to create another function to help me acomplish this."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 1, "creation_date": 1476312649, "post_id": 40009463, "comment_id": 67297330, "body": "Okay, then what do you have control over? <code>unsigned char</code> is a numeric data type (although it gets special handling for iostreams) so you&#39;re already returning something fitting your description. If you can change <code>sumBinaryFigure</code> just declare it to return an <code>int</code>."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476312751, "post_id": 40009463, "comment_id": 67297356, "body": "I&#39;m not allowed :)"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476312803, "post_id": 40009463, "comment_id": 67297370, "body": "Okay, let me get the facts straight: You can&#39;t change <code>main</code>, which calls <code>sumBinaryFigure</code>. And you can&#39;t change <code>sumBinaryFigure</code>?"}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476313523, "post_id": 40009463, "comment_id": 67297566, "body": "Nothing in the main and I can not change the data type of the function. You can do things inside of it."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476313576, "post_id": 40009463, "comment_id": 67297586, "body": "But the inside is already correct. Unless you mean the parameter type. Then change the return type. But I still posit that everything is correct."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 1, "last_activity_date": 1476311635, "creation_date": 1476311635, "answer_id": 40009463, "question_id": 40009438, "link": "https://stackoverflow.com/questions/40009438/is-it-possible-to-return-an-integer-to-the-main-function-from-a-unsigned-char-da/40009463#40009463", "title": "Is it possible to return an integer to the main function from a unsigned char data type function?", "body": "<p><code>unsigned char</code> can be converted to <code>int</code> without narrowing on all platforms that I can think of. You don't need to overload anything, just assign the result of the function to an <code>int</code> variable:</p>\n\n<pre><code>int popcnt = sumBinaryFigure(1023);\n</code></pre>\n\n<p>In fact, taking the function semantics into account, there's no way the result value will not fit into an <code>int</code>, which is guaranteed to be at least 16-bit, which means the minimal <code>numeric_limits&lt;int&gt;::max()</code> value is 32767. You'd have to have a datatype capable of storing over 32767 binary digits for this to be even remotely possible (<code>int</code> on most platforms is 32-bit)</p>\n"}, {"comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 2, "creation_date": 1476315569, "post_id": 40009959, "comment_id": 67298058, "body": "nit-pick - <code>&#39;A&#39;</code> isn&#39;t guaranteed to equal <code>65</code>."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476366350, "post_id": 40009959, "comment_id": 67322476, "body": "@QuestionC, then if the BinaryFigure for 11 is 1011 (<code>sumBinaryFigure</code> is =3), how can I make it return to the main function the 3 as number 3, not the 3rd character in ASCII?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476376142, "post_id": 40009959, "comment_id": 67330006, "body": "@Skyp89 It <i>is</i> returned as  the number <code>3</code>.  <code>char</code> types just have the distinction that the number stored in them can be interpreted as either a raw number or a character&#39;s ASCII/UTF-8 code, depending on the context."}, {"owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "edited": false, "score": 0, "creation_date": 1476383560, "post_id": 40009959, "comment_id": 67334041, "body": "@QuestionC, but when I call the function sumBinaryFigure(11) I would like to have a 3 printed on the screen, not the 3rd simbol in ASCII"}, {"owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "edited": false, "score": 0, "creation_date": 1476397912, "post_id": 40009959, "comment_id": 67341418, "body": "The value printed is determined by how you print the value.  It&#39;s not a property of the data type.  The only difference between a <code>char</code> and <code>int</code> is how much memory they use."}], "tags": [], "owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "is_accepted": true, "score": 3, "last_activity_date": 1476397716, "last_edit_date": 1592644375, "creation_date": 1476314985, "answer_id": 40009959, "question_id": 40009438, "link": "https://stackoverflow.com/questions/40009438/is-it-possible-to-return-an-integer-to-the-main-function-from-a-unsigned-char-da/40009959#40009959", "title": "Is it possible to return an integer to the main function from a unsigned char data type function?", "body": "<blockquote>\n<p>When I call this function from the main function, for an unsigned long long it should return a integer although the data type of the function is unsigned char. Is it possible?</p>\n</blockquote>\n<p>Yes.  The question is not absurd, C types are just confusing.  <code>unsigned char</code> and <code>int</code> both represent integers.</p>\n<p><em>Your code is correct.</em></p>\n<hr />\n<p><code>unsigned char</code> is a 1-byte datatype.  It can be used to represent a letter, or it can be used to represent a number.</p>\n<p>The following statements are equivalent.</p>\n<pre><code>unsigned char ch = 'A';\nunsigned char ch = 65;\n</code></pre>\n<p>Whether you use <code>unsigned char</code> as a character or integer, the machine does not care.</p>\n<p><strong><code>char</code> does not necessarily contain a character.  It also represents  small numbers</strong></p>\n<p>The posted implementation of <code>sumBinaryFigure</code> returns a number in the range of 0-255, nothing wrong with that.  Because a <code>long long</code> is almost certainly less than 256 bits, you don't need to worry about <code>unsigned char</code> not being large enough.</p>\n<hr />\n<p>If I can suggest one change to your program in order to make it less confusing, change this line</p>\n<pre><code>unsigned int S = 0;  \n</code></pre>\n<p>to this...</p>\n<pre><code>unsigned char S = 0;\n</code></pre>\n<hr />\n<h3>Addendum</h3>\n<p>Just to be clear, consider the following code.</p>\n<pre><code>int main (void) {\n  char ch_num = 65;   // ch_num  is the byte 0100 0001\n  char ch_char = 'A'; // ch_char is the byte 0100 0001\n\n  printf (&quot;%d\\n&quot;, ch_num);  // Prints 65\n  printf (&quot;%d\\n&quot;, ch_char); // Prints 65\n\n  printf (&quot;%c\\n&quot;, ch_num);  // Prints A\n  printf (&quot;%c\\n&quot;, ch_char); // Prints A\n}\n</code></pre>\n<p>A <code>char</code> is a byte.  It's a sequence of bits with no meaning except what we impose on it.</p>\n<p>That byte can be <em>interpreted</em> as either a number or character, but that decision is up to the programmer.  The <code>%c</code> format specifier says &quot;interpret this as a character.  The <code>%d</code> format specifier says &quot;interpret this as a number&quot;.</p>\n<p>Whether it's an integer or character is decided by the output function, not the data type.</p>\n"}], "owner": {"reputation": 161, "user_id": 5845734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1JD90.jpg?s=128&g=1", "display_name": "CCBet", "link": "https://stackoverflow.com/users/5845734/ccbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 40009959, "answer_count": 2, "score": 0, "last_activity_date": 1476397716, "creation_date": 1476311508, "last_edit_date": 1476312289, "question_id": 40009438, "link": "https://stackoverflow.com/questions/40009438/is-it-possible-to-return-an-integer-to-the-main-function-from-a-unsigned-char-da", "title": "Is it possible to return an integer to the main function from a unsigned char data type function?", "body": "<p>I have this <code>unsigned char</code> <em>sumBinaryFigure</em> function that calculates the sum of the digits of the binary representation of an <code>unsigned long long</code> number. When I call this function from the main function, for an <code>unsigned long long</code> it should return a integer(or another numeric data type) although the data type of the function is <code>unsigned char</code>. Is it possible? I tried a function overloading and it didn't work. If it sounds absurd, it's not my fault.</p>\n\n<pre><code>unsigned char sumBinaryFigure(unsigned long long number)\n{\n  unsigned int S = 0;   \n\n  while (number)\n  {\n    S += number % 2;\n    number /= 2;\n  }\n\nreturn S;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qt-creator", "qdebug"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476311740, "post_id": 40009375, "comment_id": 67297076, "body": "Forget the debug messages for now and see if you can <a href=\"http://doc.qt.io/qtcreator/creator-debugger-engines.html\" rel=\"nofollow noreferrer\">get the debugger set up</a>. With the debugger you can step through your code line by line (maybe even step backward) and see exactly what&#39;s going on. Much more efficient than playing games with debug statements."}, {"owner": {"reputation": 155, "user_id": 4896176, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/UZdIW.png?s=128&g=1", "display_name": "GemmaB89", "link": "https://stackoverflow.com/users/4896176/gemmab89"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476312059, "post_id": 40009375, "comment_id": 67297162, "body": "I have that working actually, it seems that a pointer is being set to zero somewhere, when it&#39;s actually needed later. I just have no idea where, and I suspect when it happens one of the debug messages will probably say why"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476312423, "post_id": 40009375, "comment_id": 67297275, "body": "Possibly, but you should also be able to set a breakpoint that will halt the program when the pointer is changed. <a href=\"http://stackoverflow.com/questions/6511560/can-i-have-gdb-break-on-read-write-from-an-address\">Link to command line GDB watchpoint setup</a>, but QT creator will likely have a GUI that makes this easier to set up."}, {"owner": {"reputation": 155, "user_id": 4896176, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/UZdIW.png?s=128&g=1", "display_name": "GemmaB89", "link": "https://stackoverflow.com/users/4896176/gemmab89"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476313110, "post_id": 40009375, "comment_id": 67297444, "body": "Do you mean adding data breakpoint? Didn&#39;t know you could do that, had a play with it and it seems to kick in at the very end of a function that&#39;s requesting an auth to access google drive. Just going out of scope maybe? I think it&#39;s just failing to get the auth, but I&#39;m struggling to see why. Stepping backwards would be handy but I can&#39;t see an option to do that?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476314248, "post_id": 40009375, "comment_id": 67297734, "body": "Data breakpoint sounds right. Stepping backwards is kind of rare. Some gdb implementations have it and some don&#39;t. Ant the very end of a function, though... Is your pointer scoped inside the function and becoming lost? Are you possibly overrunning the stack and making the return go haywire? Need code to tell."}], "answers": [{"comments": [{"owner": {"reputation": 2119, "user_id": 5879778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ELi77pnET0A/AAAAAAAAAAI/AAAAAAAAAEQ/7gEOlIOZ6ow/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5879778/chris"}, "edited": false, "score": 0, "creation_date": 1560378367, "post_id": 40030086, "comment_id": 99721058, "body": "So glad I found this post because I just started a new position at a company and started working on a fairly large Qt project; however the previous devs left the company.. Trying to do some simple debugging and <i>could not</i> get qDebug to work was driving me insane. This is was my issue."}], "tags": [], "owner": {"reputation": 753, "user_id": 6229173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c8a9b53939417106f864f2d347038?s=128&d=identicon&r=PG&f=1", "display_name": "markus-nm", "link": "https://stackoverflow.com/users/6229173/markus-nm"}, "is_accepted": false, "score": 3, "last_activity_date": 1476389480, "creation_date": 1476389480, "answer_id": 40030086, "question_id": 40009375, "link": "https://stackoverflow.com/questions/40009375/not-seeing-the-output-from-qinfo/40030086#40030086", "title": "Not seeing the output from qInfo()", "body": "<p>qInfo() qDebug() etc all fall back to a function that can be overriden. Make sure that this isnt done anywhere inside the project, (global search for \"qInstallMessageHandler\"). If its not implemented, define it yourself like this:</p>\n\n<pre><code>void debugmessagehandler(QtMsgType Type, \n    const QMessageLogContext&amp; Context, \n    const QString &amp;Message) \n{\n#ifdef WIN32\n    OutputDebugString(reinterpret_cast&lt;const wchar_t *&gt;(m.utf16()));\n#endif\n}\n</code></pre>\n\n<p>and register it in your QApplication-object-constructor (or shortly after) like this</p>\n\n<pre><code>this-&gt;qInstallMessageHandler(debugmessagehandler);\n</code></pre>\n\n<p>Now all you need to do is to make sure you debugger is actually attached. You could call</p>\n\n<pre><code>isDebuggerPresent(void);\n</code></pre>\n\n<p>from winbase.h inside your code to check, or use an external program to verify.</p>\n"}], "owner": {"reputation": 155, "user_id": 4896176, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/UZdIW.png?s=128&g=1", "display_name": "GemmaB89", "link": "https://stackoverflow.com/users/4896176/gemmab89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1594, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476389480, "creation_date": 1476311125, "last_edit_date": 1476311492, "question_id": 40009375, "link": "https://stackoverflow.com/questions/40009375/not-seeing-the-output-from-qinfo", "title": "Not seeing the output from qInfo()", "body": "<p>New to QT, I've imported a project someone else made, and it compiles and runs on the MinGW version of QT Creator. But there's a small problem with it, that would be much easier to diagnose if I could see the debug output.</p>\n\n<p>There are lines all over the place like \"qInfo() &lt;&lt; \"debug message\";\", but I'm not seeing any output from them in the application output window when I run the project in debug mode, which is when I understand it is supposed to be. All I can see after running the program is:</p>\n\n<blockquote>\n  <p>Debugging starts \n  Debugging has finished</p>\n</blockquote>\n\n<p>What I've tried:</p>\n\n<ul>\n<li><p>Made sure the kit used is the QT debugger and mingw that came with the install</p></li>\n<li><p>Put an ifdef, with \"#undef QT_NO_INFO_OUTPUT\" at the top of main.cpp</p></li>\n<li><p>Added include QtDebug to all the header files</p></li>\n</ul>\n\n<p>Still nothing.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Keep in mind I am new to Qt, maybe one of the things I'm saying I've tried I haven't implemented properly :S</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "c++", "makefile", "compilation", "hardlink"], "comments": [{"owner": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1476311259, "post_id": 40009293, "comment_id": 67296895, "body": "Does <code>cat test.cpp</code> work in the <code>standalone</code> folder?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1476311278, "post_id": 40009293, "comment_id": 67296907, "body": "Check the timestamp on <code>&#47;home&#47;user&#47;dev&#47;javajni&#47;test.cpp</code>, and check your system clock, and see if something looks strange to you. Remember, if you create the hard link, and the <code>.o</code> file is newer, it won&#39;t get recompiled."}, {"owner": {"reputation": 786, "user_id": 3079259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3280f1ce29fdc3e04b91ba27e68ae90d?s=128&d=identicon&r=PG&f=1", "display_name": "danglingPointer", "link": "https://stackoverflow.com/users/3079259/danglingpointer"}, "edited": false, "score": 0, "creation_date": 1476312603, "post_id": 40009293, "comment_id": 67297324, "body": "Thanks for the quick reply guys. Elliott: some weird behavior, at first it told me that the file was not found. However something I did change that and now cat does output the file&#39;s contents in the <code>standalone</code> folder via the hardlink. I did change on line in the file in the <code>javajni</code> location, so perhaps that was it? In any case the make program still doesn&#39;t see it. Sam: Since this is a single .cpp made into an executable there is no <code>.o</code> file, right? Or am I missing some basic information on how compiling works?"}, {"owner": {"reputation": 8293, "user_id": 3460805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c7Zi7.jpg?s=128&g=1", "display_name": "Chnossos", "link": "https://stackoverflow.com/users/3460805/chnossos"}, "edited": false, "score": 0, "creation_date": 1476355431, "post_id": 40009293, "comment_id": 67314374, "body": "Is there a requierement for the hard link ? Why not use a soft one ?"}, {"owner": {"reputation": 786, "user_id": 3079259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3280f1ce29fdc3e04b91ba27e68ae90d?s=128&d=identicon&r=PG&f=1", "display_name": "danglingPointer", "link": "https://stackoverflow.com/users/3079259/danglingpointer"}, "edited": false, "score": 0, "creation_date": 1476425616, "post_id": 40009293, "comment_id": 67348664, "body": "Softlink didn&#39;t work either."}], "owner": {"reputation": 786, "user_id": 3079259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3280f1ce29fdc3e04b91ba27e68ae90d?s=128&d=identicon&r=PG&f=1", "display_name": "danglingPointer", "link": "https://stackoverflow.com/users/3079259/danglingpointer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476311595, "creation_date": 1476310697, "last_edit_date": 1476311595, "question_id": 40009293, "link": "https://stackoverflow.com/questions/40009293/why-wont-my-makefile-use-the-hardlink-to-the-file-i-want-compiled", "title": "Why won&#39;t my Makefile use the hardlink to the file I want compiled?", "body": "<p>So this is a little bit messy, however I have a single .cpp file that I want to be used in two different ways; as a c class called by a java class using JNI, and as a c program standalone. The reason for this is because this code moves around between machines and sometimes I want to just run and compile the c++ code directly as opposed to running java and having java run it. (The c++ code has a main method that is only ever ran in the standalone version).</p>\n\n<p>So anyways I have the file (test.cpp) and the java source code that goes with it (test.java) in /home/user/dev/javajni/. However, I also want to be able to compile it as a standalone in /home/user/dev/standalone/. In the standalone directory I have a make file that only compiles the c program.</p>\n\n<p>Anyways, when I make a hardlink to the file in javajni inside the standalone directory the makefile doesn't see it, or refuses to see the hardlink.</p>\n\n<pre><code>make: *** No rule to make target `test.cpp', needed by `test'.  Stop.\n</code></pre>\n\n<p>And while in the standalone directory I use:</p>\n\n<pre><code>ln /home/user/dev/javajni/test.cpp test.cpp\n</code></pre>\n\n<p>But when I copy the entire file over it works fine.</p>\n\n<p>What's the big deal? Isn't the original file in the original location technically just a hardlink to the inode as well? I just want to be able to alter the file in one location without having to copy and paste it back and forth.</p>\n\n<p>If at all useful this is what my makefile looks like:</p>\n\n<pre><code>EX=test\n\nall: $(EX)\n\n.cpp.o:\n    g++ -c -O3 -Wall $&lt;\n\nclean:\n    rm -f $(EX) *.o *.a\n\n\ntest:test.cpp;           g++ -Wall -o $@ $^\n</code></pre>\n\n<p>(Fyi I did change the name of the file and the directories in this post for simplification)</p>\n"}, {"tags": ["c++", "debugging", "visual-studio-2015"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476309573, "post_id": 40008883, "comment_id": 67296270, "body": "That&#39;s a good one. Which version of Windows are you using? Please don&#39;t say ME. Next suggestion is that you check to be sure that your antivirus isn&#39;t blocking something. Sysinternals&#39;s Process monitor might also be helpful."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476309790, "post_id": 40008883, "comment_id": 67296346, "body": "Does it also lock over a hello world program?"}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476311768, "post_id": 40008883, "comment_id": 67297085, "body": "1.I am using Windows 10 Pro. 2. I am using Bit Defender free and it didn&#39;t block anything according to the logs. 3. I didn&#39;t test it with a hello world program. But it happened on other projects too. The projects i am working on are pretty small with max 25-30 header/source files."}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 1, "creation_date": 1476324841, "post_id": 40008883, "comment_id": 67300348, "body": "If you just run your app using &quot;start without debugging&quot;, how about the result? Do you debug it in other VS machine? Which dll file was loaded slowly during debugging? Maybe you could disable the Microsoft symbols Server, debug it again. If a simple app still has this issue, we would think about the VS IDE setup or the Windows Configuration. Check your task manager, whether the windows has the performance issue? Or you could repair your VS with the latest update 3."}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "edited": false, "score": 0, "creation_date": 1476456938, "post_id": 40008883, "comment_id": 67368235, "body": "I already have update 3 installed. Also i cannot look at the task manager or any other application while it is happening because all my applications and whole windows just freeze. It only happens on a rebuild after i changed something."}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "edited": false, "score": 0, "creation_date": 1476457543, "post_id": 40008883, "comment_id": 67368634, "body": "I found out that sometimes it doesn&#39;t even load dlls; it just crashes (doesn&#39;t respond) and if it does that windows doesn&#39;t respond too. It happens totally random when i rebuild my project."}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1476789607, "post_id": 40008883, "comment_id": 67484906, "body": "Just to make this issue clearly, whether it has the crashed issue in debugging or just rebuild the project? Do you run your VS as the admin or test it in other VS machine? The dll files would be recompiled during rebuild, whether there are any third party library in your project&#39;s reference or the output folder? Maybe you forget to set the specific dll reference property &quot;copy local=True&quot;, so it met certain issue when it try to find and load this dll file."}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1477373075, "post_id": 40008883, "comment_id": 67726511, "body": "@ttgg1, any update? What about this issue?"}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "edited": false, "score": 0, "creation_date": 1477510052, "post_id": 40008883, "comment_id": 67801213, "body": "It happens only on rebuilding. I always run it on my machine. If it happens VS is loading some standard dll."}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "reply_to_user": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1477510830, "post_id": 40008883, "comment_id": 67801653, "body": "@JackZhai, Just got an bluescreen of it and it froze when it completed gathering info data. I usually have other programs running when it happens if that helps (Spotify,Firefox)."}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "edited": false, "score": 0, "creation_date": 1477511208, "post_id": 40008883, "comment_id": 67801828, "body": "In the logs i just fount the error code: <code>0x0000001a (0x0000000000061941, 0x0000000044f23000, 0x000000000000000d, 0xffff9b01b101ab00)</code>"}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1477882510, "post_id": 40008883, "comment_id": 67927169, "body": "@ttgg1, how about running your VS in safe mode using command line? Devenv/safemode. You&#39;d better to check that whether all apps have the same issue, if a simple hello word app still has this issue, we would think about the VS setup or the Windows configuration."}, {"owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "reply_to_user": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 1, "creation_date": 1478290069, "post_id": 40008883, "comment_id": 68110299, "body": "@JackZhai, thanks for your help! i think i have figured it out: i have confused symbol loading and dll loading ... sorry ... the problem was that it froze on symbol loading from the Microsoft servers. I thought that it was normal that it takes like a minute to rebuild a project/file but it only took this long because it was loding the symbols. So i clicked on Tools-&gt;Options-&gt;Debugging-&gt;Symbols and disabled Microsoft Symbol Servers everything works fine now and recompiling only takes a few seconds."}, {"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1478411055, "post_id": 40008883, "comment_id": 68139029, "body": "@ttgg1, Glad to know that it has been resolved, if so, would you please post your comment as the solution(answer), and mark it as the answer. So it would help other members who meet the same issue as yours. Have a nice day:)"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "is_accepted": true, "score": 1, "last_activity_date": 1479062538, "creation_date": 1479062538, "answer_id": 40577433, "question_id": 40008883, "link": "https://stackoverflow.com/questions/40008883/visual-studio-2015-freezes-whole-pc-on-build-repetendly/40577433#40577433", "title": "Visual Studio 2015 freezes whole PC on build repetendly", "body": "<p>Fixed it myself: i clicked on <strong>Tools->Options->Debugging->Symbols</strong> and disabled Microsoft Symbol Servers everything works fine now.</p>\n"}], "owner": {"reputation": 21, "user_id": 7010365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a8709e9b2598f0b0e8acdd5962fbf9?s=128&d=identicon&r=PG&f=1", "display_name": "ttgg1", "link": "https://stackoverflow.com/users/7010365/ttgg1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 40577433, "answer_count": 1, "score": 1, "last_activity_date": 1479062538, "creation_date": 1476308676, "question_id": 40008883, "link": "https://stackoverflow.com/questions/40008883/visual-studio-2015-freezes-whole-pc-on-build-repetendly", "title": "Visual Studio 2015 freezes whole PC on build repetendly", "body": "<p>Sometimes if i Debug a C++ program in Visual Studio 2015 it freezes my whole PC so i have to restart it. Windows doesn't respond to anything even not to commands like CRL+ALT+DEL. Even other programms i have open dont respond anymore and everything freezes.</p>\n\n<p>When this happens Visual Studio is loading a DLL as seen in the bottom left corner and then everything just freezes and only the Windows loading cursor still spins.</p>\n"}, {"tags": ["c++", "templates", "variadic-templates", "stdarray"], "answers": [{"comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476309248, "post_id": 40008852, "comment_id": 67296130, "body": "@T.C. You are right, they were not <i>relaxed</i>. Thanks."}], "tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": false, "score": 3, "last_activity_date": 1506707779, "last_edit_date": 1506707779, "creation_date": 1476308558, "answer_id": 40008852, "question_id": 40008816, "link": "https://stackoverflow.com/questions/40008816/multiplication-of-template-arguments/40008852#40008852", "title": "Multiplication of Template Arguments", "body": "<p>In C++14 you can do this:</p>\n\n<pre><code>size_t v = 1;\nsize_t _[] = { (v = v*N_i)... };\n</code></pre>\n\n<p>As a minimal, working example:</p>\n\n<pre><code>#include&lt;cstddef&gt;\n\ntemplate&lt;std::size_t... I&gt;\nconstexpr auto f() {\n    std::size_t v = 1;\n    std::size_t _[] = { (v = v*I)... };\n    (void)_;  // silent a warning and nothing more\n    return v;\n}\n\nint main() {\n    static_assert(f&lt;2,3,4&gt;() == 24,\"!\");\n}\n</code></pre>\n\n<p>Your class can be defined as it follows:</p>\n\n<pre><code>template&lt; size_t... N_i &gt;\nclass A {\n    // ...\n    std::array&lt; float, f&lt;N_i...&gt;()&gt; arr;\n};\n</code></pre>\n\n<p>In C++17 <code>fold-expressions</code> will simplify it.</p>\n"}, {"comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 2, "creation_date": 1476346922, "post_id": 40008893, "comment_id": 67308707, "body": "... and here, on the top answer you can see the evolution of <code>C++</code>."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 13, "last_activity_date": 1476309397, "last_edit_date": 1476309397, "creation_date": 1476308726, "answer_id": 40008893, "question_id": 40008816, "link": "https://stackoverflow.com/questions/40008816/multiplication-of-template-arguments/40008893#40008893", "title": "Multiplication of Template Arguments", "body": "<p>In C++17:</p>\n\n<pre><code>std::array &lt; float, (... * N_i)&gt; arr;\n</code></pre>\n\n<p>In C++14:</p>\n\n<pre><code>// outside the class\ntemplate&lt;size_t... Ns&gt;\nconstexpr size_t product(){\n    size_t p = 1;\n    for(auto n : { Ns... }) p *= n;\n    return p;\n}\n\n// then\nstd::array&lt; float, product&lt;N_i...&gt;()&gt; arr;\n</code></pre>\n\n<p>In C++11:</p>\n\n<pre><code>template&lt;size_t... N_i&gt;\nstruct product { \n    static const size_t value = 1; \n};\n\ntemplate&lt;size_t N_1, size_t... N_i&gt;\nstruct product&lt;N_1, N_i...&gt; {\n    static const size_t value = N_1 * product&lt;N_i...&gt;::value;\n};\n\nstd::array&lt; float, product&lt;N_i...&gt;::value&gt; arr;\n</code></pre>\n\n<p>Alternatively, you can use a recursive <code>constexpr</code> function.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1476309196, "post_id": 40008937, "comment_id": 67296105, "body": "...just plug the fold expression in if you have it. Why an extra function?"}, {"owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476309389, "post_id": 40008937, "comment_id": 67296192, "body": "sure, that&#39;s much shorter ... by about 95% :-)  Still I have the feeling that it&#39;s <i>slightly</i> better to understand and extend."}], "tags": [], "owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "is_accepted": false, "score": 1, "last_activity_date": 1476308945, "creation_date": 1476308945, "answer_id": 40008937, "question_id": 40008816, "link": "https://stackoverflow.com/questions/40008816/multiplication-of-template-arguments/40008937#40008937", "title": "Multiplication of Template Arguments", "body": "<p>You can use this function in your array declaration:</p>\n\n<pre><code>template&lt;typename ...Args&gt;\nconstexpr int multiply(Args&amp;&amp;... args)\n{\n    return (args * ... );\n}\n</code></pre>\n\n<p>It uses C++17 fold expressions, and can be included like</p>\n\n<pre><code>template&lt; size_t... N_i &gt;\nclass A\n{\n  // ...\n  std::array&lt; float, multiply(N_i ...) &gt; arr;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14144, "user_id": 6579744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4ohI.png?s=128&g=1", "display_name": "rahnema1", "link": "https://stackoverflow.com/users/6579744/rahnema1"}, "is_accepted": false, "score": 2, "last_activity_date": 1476358636, "last_edit_date": 1476358636, "creation_date": 1476344217, "answer_id": 40014979, "question_id": 40008816, "link": "https://stackoverflow.com/questions/40008816/multiplication-of-template-arguments/40014979#40014979", "title": "Multiplication of Template Arguments", "body": "<p>This can be done with recursive definition of constexpr function. </p>\n\n<p>And in c++14 using <a href=\"http://en.cppreference.com/w/cpp/language/variable_template\" rel=\"nofollow\">variable template</a> this can have cleaner look :</p>\n\n<pre><code>template &lt;typename ...Ts&gt; \nconstexpr size_t product()\n{\n    return  1;\n}\ntemplate &lt;size_t I,size_t... Is&gt; \nconstexpr size_t product()\n{\n    return   I * product&lt;Is...&gt;();\n}\n\ntemplate &lt;size_t I, size_t... Is&gt; \nconstexpr size_t prod = product&lt;I, Is...&gt;();\n\n\ntemplate&lt; size_t... N_i &gt;\nclass A\n{\n    std::array&lt; float, prod&lt;N_i...&gt; &gt; arr;\n};\n</code></pre>\n"}], "owner": {"reputation": 2091, "user_id": 7006673, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f6993a5041a63d1922494d0dab74a048?s=128&d=identicon&r=PG&f=1", "display_name": "abraham_hilbert", "link": "https://stackoverflow.com/users/7006673/abraham-hilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1421, "favorite_count": 2, "accepted_answer_id": 40008893, "answer_count": 4, "score": 4, "last_activity_date": 1506707779, "creation_date": 1476308386, "last_edit_date": 1476338539, "question_id": 40008816, "link": "https://stackoverflow.com/questions/40008816/multiplication-of-template-arguments", "title": "Multiplication of Template Arguments", "body": "<p>I have the following problem:</p>\n\n<pre><code>template&lt; size_t... N_i &gt;\nclass A\n{\n  // ...\n  std::array&lt; float, /* product of the unpacked elements of N_i */ &gt; arr;\n};\n</code></pre>\n\n<p>As you can see above, I try to declare an <code>std::array</code> named <code>arr</code> as a member of a class <code>A</code>. Here, I want <code>arr</code> to have the size <em>product of the unpacked elements of <code>N_i</code></em>, e.g., in case of <code>A&lt;2,3,4&gt;</code>, \"arr\" should have the size <code>2*3*4=24</code>.<br>\nDoes anyone know how this can be implemented?</p>\n"}, {"tags": ["c++", "search", "sql-server-2008-r2", "ado"], "owner": {"reputation": 11, "user_id": 7010388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99cb50a87f702efa0487c52e2efb54c5?s=128&d=identicon&r=PG&f=1", "display_name": "user7010388", "link": "https://stackoverflow.com/users/7010388/user7010388"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476379311, "creation_date": 1476308324, "last_edit_date": 1476379311, "question_id": 40008797, "link": "https://stackoverflow.com/questions/40008797/is-it-possible-to-perform-a-search-on-a-dbgrid-without-altering-the-dataset-or-q", "title": "Is it possible to perform a search on a DBGrid without altering the DataSet or query the base?", "body": "<p>I am using Embarcadero C++ builder and ADO OLEDB, connected to SQL Server 2008 R2. I fetch the data in a DBGrid, from that DBGrid I want some of the rows that match my search parameters copied on a SGrid.</p>\n\n<p>Is it possible to perform a search on the DBGrid without altering its content or querying the DB?</p>\n"}, {"tags": ["c++", "arrays", "text", "character"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1476308540, "post_id": 40008792, "comment_id": 67295836, "body": "It might be simpler to create your own <code>string</code> class with a dynamically resizing character array, and then use one of the solns that uses a <code>string</code>"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1476309143, "post_id": 40008792, "comment_id": 67296076, "body": "where did you get keymount = 1?"}, {"owner": {"reputation": 35, "user_id": 6832052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ffe44af823d412e33b81eb3b665d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Johhny B", "link": "https://stackoverflow.com/users/6832052/johhny-b"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1476309150, "post_id": 40008792, "comment_id": 67296082, "body": "@AndyG So would I create a dynamic resizing character array for every time I am reading in the words?"}, {"owner": {"reputation": 35, "user_id": 6832052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ffe44af823d412e33b81eb3b665d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Johhny B", "link": "https://stackoverflow.com/users/6832052/johhny-b"}, "reply_to_user": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1476309300, "post_id": 40008792, "comment_id": 67296145, "body": "@Raindrop7 If I change that number to anything else it just keeps printing out numbers and not even a character."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1476309316, "post_id": 40008792, "comment_id": 67296155, "body": "do you want to store words in an array and numbers in another one?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1476309494, "post_id": 40008792, "comment_id": 67296234, "body": "@JohnnyB: You want to create <code>string</code>, plain and simple. It should have a default character buffer size (which you can make pretty small in your case, say 16) and it should track this size. It should support the <code>&gt;&gt;</code> and <code>&lt;&lt;</code> operators which will read and write to a filesystem. When reading from a filesystream, get characters from the stream and discard whitespace (like spaces, tabs, carriage returns and newlines), and then append characters to the buffer until you read whitespace or end of the stream. The buffer should resize itself when an insertion happens but there&#39;s no more space."}, {"owner": {"reputation": 35, "user_id": 6832052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ffe44af823d412e33b81eb3b665d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Johhny B", "link": "https://stackoverflow.com/users/6832052/johhny-b"}, "reply_to_user": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1476309712, "post_id": 40008792, "comment_id": 67296322, "body": "@Raindrop7 Yes! I need to use the bottom numbers separately as a key to decipher some files."}], "answers": [{"tags": [], "owner": {"reputation": 790, "user_id": 6061721, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-McuUUypxZX8/AAAAAAAAAAI/AAAAAAAAABk/GgDkjrgVm0k/photo.jpg?sz=128", "display_name": "Libby", "link": "https://stackoverflow.com/users/6061721/libby"}, "is_accepted": true, "score": 0, "last_activity_date": 1476309407, "creation_date": 1476309407, "answer_id": 40009039, "question_id": 40008792, "link": "https://stackoverflow.com/questions/40008792/reading-in-characters-followed-by-numbers-c/40009039#40009039", "title": "Reading in characters followed by numbers c++", "body": "<p>Your reading code is working correctly, but the for loop that prints out the contents of <code>cypher</code> is not correct. Change it to this to see everything from the file:</p>\n\n<pre><code>for ( int i = 0; i &lt; wordAmount; ++i){\n    cout &lt;&lt; cypher[i].word &lt;&lt; \" \";\n    cout &lt;&lt; cypher[i].jump &lt;&lt; \" \";\n\n}\n</code></pre>\n\n<p>Do a similar <code>for loop</code> of 2 iterations to see contents of <code>wordCount</code> and  <code>keyCount</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6590212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4156739f49411c90f4515d07a06092?s=128&d=identicon&r=PG&f=1", "display_name": "user6590212", "link": "https://stackoverflow.com/users/6590212/user6590212"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310623, "creation_date": 1476310623, "answer_id": 40009279, "question_id": 40008792, "link": "https://stackoverflow.com/questions/40008792/reading-in-characters-followed-by-numbers-c/40009279#40009279", "title": "Reading in characters followed by numbers c++", "body": "<p>I don't know what is your goal but if you just want to stream your text into your console window and print it as it is written and formated in a file you can use stdio.h and c functions. </p>\n\n<p>Try to use fgetc(); to read symbols into char variable followed by printf(); and then check when fgetc() is ' ', then check a 2nd symbol to see if it is a letter or a digit. if it is either of these increment your counter by one and wait for another ' '. </p>\n\n<p>so. wait for ' '. check next symbol. if a digit d++; if a symbol c++; wait for the next ' '; if it is ' ' again wait again. if it is a digit add 1 to d if it is a symbol add another one to c. but it is for actual words only. if your file contains words written in l33t and a word starts with a digit like 1amth3b3st. your counter will fail.</p>\n"}], "owner": {"reputation": 35, "user_id": 6832052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ffe44af823d412e33b81eb3b665d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Johhny B", "link": "https://stackoverflow.com/users/6832052/johhny-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 40009039, "answer_count": 2, "score": 1, "last_activity_date": 1476310623, "creation_date": 1476308313, "question_id": 40008792, "link": "https://stackoverflow.com/questions/40008792/reading-in-characters-followed-by-numbers-c", "title": "Reading in characters followed by numbers c++", "body": "<p>So I have been looking online for a way to read in characters followed by numbers and so far everyone has been using string functions. However, I am only allowed to use C-Style character arrays and I have been having trouble on my program when I read in the file.</p>\n\n<p>my text file is this:</p>\n\n<pre><code>23\n11\n\nJava 2 linux 3 fear 0 pool 2 do 0 red 1 lock. 1 I 0 random 2 computers, 0 not 0 the 0 open 2 car! 2 C, 0 lack 0 of 0 dog 1 green 2 C++ 0 bottle 2 wrong, 2 them. 0\n\n5 1 10 21 9 6 21 11 13 16 20\n</code></pre>\n\n<p>So far my program printed out:</p>\n\n<pre><code>11 23\nJava 2\n</code></pre>\n\n<p>However, I want it to print out everything. Any advice? Here is my code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nstruct pieces {\n\nchar word[5];\nint jump;\n} ;\n\n // Main Function\nint main ()\n{\n// declare variables\nint wordCount[2];\nint keyCount[2];\nint numKeys;\nint numWords;\nint keyAmount = 1;\nint wordAmount = 23;\npieces cypher[wordAmount];\nchar filename[10];\nifstream inData;\n\n  //prompt user for input file\n\ncout &lt;&lt; \" Enter file name: \";\ncin &gt;&gt; filename;\n\ninData.open(filename);\n\nif(inData.is_open());\n{\n\n    // read list of names into array\n\n    for ( numKeys = numWords = 0; numKeys &lt; keyAmount; numKeys++){\n\n        inData &gt;&gt; wordCount[numKeys] &gt;&gt; keyCount[numKeys];\n\n        for( numWords = 0; numWords &lt; wordAmount; numWords++){\n\n        inData &gt;&gt; cypher[numWords].word &gt;&gt; cypher[numWords].jump;\n\n        }\n    }\n\n\n\n    // print out unsorted onto console\n\n        for ( int i = 0; i &lt; numKeys; ++i){\n    cout &lt;&lt; wordCount[i] &lt;&lt; \" \";\n    cout &lt;&lt; keyCount[i] &lt;&lt; \"\\n\";\n    cout &lt;&lt; cypher[i].word &lt;&lt; \" \";\n    cout &lt;&lt; cypher[i].jump &lt;&lt; \" \";\n\n\n\n    }\n\n}\ninData.close();\n\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "function", "portaudio", "isr"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1476309149, "post_id": 40008714, "comment_id": 67296080, "body": "I&#39;d venture a guess and say that the problem might be that you could get a lot of ISRs before each individual callback ends, meaning you&#39;d be allocating stack space for all of them which could cause a stack overflow"}], "answers": [{"tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1476310003, "last_edit_date": 1476310003, "creation_date": 1476309694, "answer_id": 40009101, "question_id": 40008714, "link": "https://stackoverflow.com/questions/40008714/does-each-function-and-isr-get-allocated-its-own-stack-size/40009101#40009101", "title": "Does each function and ISR get allocated its own stack size", "body": "<blockquote>\n  <p>If this callback is actually called from an ISR, is calling more functions from the ISR a problem?</p>\n</blockquote>\n\n<p>It could be.  There are many flavors of ISR, used in many contexts, and some combinations afford fairly limited stack space to the ISR.  Stack space is used by (at least) the ISR's own parameters and local variables and those of every function it calls, directly or indirectly, with some overhead for function calls.  That space gets reused for sequential function calls, but it is cumulative when one function calls another.</p>\n\n<blockquote>\n  <p>As I call each function, will this allow me extra stack space because each function has its own maximum stack size?</p>\n</blockquote>\n\n<p>No, generally not.  An ISR will quite possibly be called with its own stack space, separate from that of any program with which it is associated, but that's a special case.  Functions ordinarily use the same stack as their callers, but ISRs do not <em>have</em> callers in the conventional sense.</p>\n\n<blockquote>\n  <p>I always thought that functions and ISRs can use as much stack stack space as they like up to the complete allocated stack. Does it mean the main function has a larger portion of the stack than others[?]</p>\n</blockquote>\n\n<p>An ISR can use as much as it likes <em>of the stack space provided to it</em>.  That space often is separate from the associated program's main stack, which can be useful for avoiding interfering with the main program's state when the ISR is triggered, and is essential when the ISR is asynchronous.  When separate, the ISR's stack is often much smaller.</p>\n\n<p>The size of a process's (main) stack depends on the system and sometimes the executable; it is shared among <code>main</code> and all the functions called directly or indirectly from <code>main</code>.  In single-threaded programs, <code>main</code> <em>does</em> have access to more stack than any other function <code>f</code>, but the primary reason for that is <code>main</code> and (generally) every function in the call chain from <code>main</code> to <code>f</code> occupies stack space that <code>f</code> cannot use.</p>\n"}, {"comments": [{"owner": {"reputation": 3037, "user_id": 4768946, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dca1cd14f29e197b1547ac5127218d95?s=128&d=identicon&r=PG&f=1", "display_name": "Engineer999", "link": "https://stackoverflow.com/users/4768946/engineer999"}, "edited": false, "score": 0, "creation_date": 1476348288, "post_id": 40010481, "comment_id": 67309609, "body": "Thanks. Does the ISR always execute with interrupts blocked though?"}], "tags": [], "owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "is_accepted": false, "score": 0, "last_activity_date": 1476318810, "creation_date": 1476318810, "answer_id": 40010481, "question_id": 40008714, "link": "https://stackoverflow.com/questions/40008714/does-each-function-and-isr-get-allocated-its-own-stack-size/40010481#40010481", "title": "Does each function and ISR get allocated its own stack size", "body": "<p>Honestly I wouldn't trust \"another forum\".</p>\n\n<p>The documentation says nothing about using too much <em>stack space</em>. It talks about too much <em>code</em>, and in context of an ISR callbacks it means spending too much <em>time</em> in the ISR.</p>\n\n<p>The ISR (including callbacks) executes with interrupts blocked. Now interrupts do not accumulate; a controller may only say if the interrupt is pending. If the ISR takes too long to execute, interrupts raised during its execution are lost.</p>\n\n<p>Stack space might be an issue as well, but first and foremost, make your callback fast.</p>\n"}, {"comments": [{"owner": {"reputation": 3037, "user_id": 4768946, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dca1cd14f29e197b1547ac5127218d95?s=128&d=identicon&r=PG&f=1", "display_name": "Engineer999", "link": "https://stackoverflow.com/users/4768946/engineer999"}, "edited": false, "score": 0, "creation_date": 1476347925, "post_id": 40011049, "comment_id": 67309378, "body": "Thanks for that. In the case of a micro controller with just one thread and no OS, what determines the stack size for each ISR ?"}, {"owner": {"reputation": 16850, "user_id": 172642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2a18a04255beea3beff827eecedd64?s=128&d=identicon&r=PG", "display_name": "gavinb", "link": "https://stackoverflow.com/users/172642/gavinb"}, "reply_to_user": {"reputation": 3037, "user_id": 4768946, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dca1cd14f29e197b1547ac5127218d95?s=128&d=identicon&r=PG&f=1", "display_name": "Engineer999", "link": "https://stackoverflow.com/users/4768946/engineer999"}, "edited": false, "score": 0, "creation_date": 1476355409, "post_id": 40011049, "comment_id": 67314358, "body": "Simply put - the available RAM, minus the program text (static data) and data (application binary) segments, and the heap. It does depend on the language and compiler, but usually the heap grows up from the bottom and the stack grows down. This article has a good diagram: <a href=\"https://www.quora.com/What-is-the-logical-explanation-for-stacks-typically-growing-downward-and-heaps-growing-upward\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 16850, "user_id": 172642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2a18a04255beea3beff827eecedd64?s=128&d=identicon&r=PG", "display_name": "gavinb", "link": "https://stackoverflow.com/users/172642/gavinb"}, "is_accepted": false, "score": 1, "last_activity_date": 1476323772, "creation_date": 1476323772, "answer_id": 40011049, "question_id": 40008714, "link": "https://stackoverflow.com/questions/40008714/does-each-function-and-isr-get-allocated-its-own-stack-size/40011049#40011049", "title": "Does each function and ISR get allocated its own stack size", "body": "<blockquote>\n  <p>I was wondering why would there be an issue with stack space if more code is wrote in an ISR than in the main function.</p>\n</blockquote>\n\n<p>Stack space is probably not the primary concern for an ISR. An ISR should be as simple and fast as possible in order to minimise latency, so it shouldn't <em>need</em> a large stack anyway.  If you have to do any non-trivial processing, your ISR should enqueue a task to run on a regular thread later to complete the job (sometimes called top-half and bottom-half). This could be achieved with a condition variable, semaphore, or message queue (to name a few IPC mechanisms). So if an ISR is using a lot of stack, it may be an indication that it's trying to do too much processing during a timing-critical scheduling period.</p>\n\n<p>Also, many systems (e.g. RTOS) require you to declare the stack size for threads and ISRs.</p>\n\n<blockquote>\n  <p>I wish to call a few different functions from the callback. If this callback is actually called from an ISR, is calling more functions from the ISR a problem?</p>\n</blockquote>\n\n<p>Only in so far as calling other functions from an ISR should be minimised as discussed above. You <em>can</em> call other functions, but you <em>should</em> defer as much as possible to run <em>after</em> the ISR has returned to the kernel scheduler (and unmasked interrupts!).</p>\n\n<p>Also - beware of race conditions! Careful use of mutexes is necessary to protect shared state.</p>\n\n<blockquote>\n  <p>As I call each function, will this allow me extra stack space because each function has its own maximum stack size? This I find a bit confusing.</p>\n</blockquote>\n\n<p>No - a function doesn't have its own stack size - threads do.  For ISRs, it depends on the OS.  Calling each function will <em>consume</em> more stack space though (based on the call nesting level).</p>\n\n<blockquote>\n  <p>I always thought that functions and ISRs can use as much stack stack space as they like up to the complete allocated stack.</p>\n</blockquote>\n\n<p>Yes, but the stack is per-thread, not per-process like the heap. Using a large amount of stack space could be a sign of a design issue: allocating large objects on the stack rather than the heap, too many nested function calls, etc.</p>\n\n<blockquote>\n  <p>Does it mean the main function has a larger portion of the stack than others.</p>\n</blockquote>\n\n<p>No, since the stack is per <em>thread</em>. A <code>main</code> function will be at the bottom of the application's call stack, but it may consume a small or a large amount of stack, depending only on its local variables.</p>\n\n<p>Some good reading:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Call_stack\" rel=\"nofollow\">Call Stack</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 11070547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5743d2e237f97a1dafa51f383f9d1f20?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/11070547/erik"}, "is_accepted": false, "score": 0, "last_activity_date": 1550302567, "creation_date": 1550302567, "answer_id": 54720921, "question_id": 40008714, "link": "https://stackoverflow.com/questions/40008714/does-each-function-and-isr-get-allocated-its-own-stack-size/54720921#54720921", "title": "Does each function and ISR get allocated its own stack size", "body": "<blockquote>\n  <p>It came about as I was writing C++ code on Windows using the port audio libraries.</p>\n</blockquote>\n\n<p>Please do as little as possible in the ISR and queue a DPC to call all of your functions.  Even DPCs are or should be resource constrained so consider a design where a worker thread services the DPC.  Whatever you do, don't even think about acquiring any mutexes in an ISR.  EOR. </p>\n"}], "owner": {"reputation": 3037, "user_id": 4768946, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dca1cd14f29e197b1547ac5127218d95?s=128&d=identicon&r=PG&f=1", "display_name": "Engineer999", "link": "https://stackoverflow.com/users/4768946/engineer999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1550302567, "creation_date": 1476307963, "question_id": 40008714, "link": "https://stackoverflow.com/questions/40008714/does-each-function-and-isr-get-allocated-its-own-stack-size", "title": "Does each function and ISR get allocated its own stack size", "body": "<p>I'd assume this question is Operating System or platform dependant. </p>\n\n<p>It came about as I was writing C++ code on Windows using the port audio libraries.</p>\n\n<p>It stated in the documentation not to write too much code in my callback function that will be passed to the port audio engine, because depending on the system, it could be called from an ISR and from reading on another forum, stating that it can cause a stack overflow.</p>\n\n<p>I'm not here to ask about anything port audio specific, but I was wondering why would there be an issue with stack space if more code is wrote in an ISR than in the main function. </p>\n\n<p>I wish to call a few different functions from the callback. If this callback is actually called from an ISR, is calling more functions from the ISR a problem? </p>\n\n<p>As I call each function, will this allow me extra stack space because each function has its own maximum stack size? This I find a bit confusing.</p>\n\n<p>I always thought that functions and ISRs can use as much stack stack space as they like up to the complete allocated stack. Does it mean the main function has a larger portion of the stack than others.</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["c++", "algorithm", "boost", "constructor", "functor"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "is_accepted": false, "score": 7, "last_activity_date": 1476310603, "creation_date": 1476310603, "answer_id": 40009274, "question_id": 40008674, "link": "https://stackoverflow.com/questions/40008674/how-do-i-construct-a-functor-for-use-with-an-algorithm-like-boosts-brent-find-m/40009274#40009274", "title": "How do I construct a functor for use with an algorithm like boost&#39;s brent_find_minima?", "body": "<p>The problem becomes clear if I try </p>\n\n<pre><code>solver_test test_root_finder(\"(x + 3)(x - 1)^2\", \"x\");\nsolver_test copy_test = test_root_finder;\n</code></pre>\n\n<p>Because the functor has no copy constructor it cannot be passed to the algorithm like this:</p>\n\n<pre><code>std::pair&lt;double, double&gt; r = boost::math::tools::brent_find_minima(test_root_finder, -4., 4. / 3, bits);\n</code></pre>\n\n<p>Adding </p>\n\n<pre><code>solver_test::solver_test(const solver_test &amp;obj) {};\n</code></pre>\n\n<p>Makes everything OK.</p>\n"}], "owner": {"reputation": 181, "user_id": 4205534, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11919387c919e49a56df9db6d218db9b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4205534/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1476310603, "creation_date": 1476307768, "last_edit_date": 1476309952, "question_id": 40008674, "link": "https://stackoverflow.com/questions/40008674/how-do-i-construct-a-functor-for-use-with-an-algorithm-like-boosts-brent-find-m", "title": "How do I construct a functor for use with an algorithm like boost&#39;s brent_find_minima?", "body": "<p>I am trying to understand why a functor with a constructor cannot be passed to an algorithm, while a functor without a constructor can be.</p>\n\n<p>For the algorithm boost-brent_minima.\nThe example code works fine, when the functor has no constructor:</p>\n\n<pre><code>#include &lt;boost/math/tools/minima.hpp&gt;\n\nstruct funcdouble\n{\n  double operator()(double const&amp; x)\n  { //\n    return (x + 3) * (x - 1) * (x - 1); // (x + 3)(x - 1)^2\n  }\n};\n\nint bits = std::numeric_limits&lt;double&gt;::digits;\n\nstd::pair&lt;double, double&gt; r = brent_find_minima(funcdouble(), -4., 4. / 3, bits);\n\nstd::cout.precision(std::numeric_limits&lt;double&gt;::digits10);\nstd::cout &lt;&lt; \"x at minimum = \" &lt;&lt; r.first &lt;&lt; \", f(\" &lt;&lt; r.first &lt;&lt; \") = \" &lt;&lt; r.second &lt;&lt; std::endl;\n</code></pre>\n\n<p>However, when I use a constructor to generate a custom functor like this:</p>\n\n<pre><code>struct solver_test{\n\n    solver_test::solver_test(std::string expression_string, std::string x_name_) : x_name(x_name_){\n        symbol_table.add_constants();       \n        symbol_table.create_variable(x_name);\n        expression.register_symbol_table(symbol_table);     \n        parser.compile(expression_string, expression);\n    };\n\n    double operator()(double x) {\n        symbol_table.get_variable(x_name)-&gt;ref() = x;\n        double value = expression.value();\n        return value;\n    };\n\n    std::string x_name;\n    exprtk::symbol_table&lt;double&gt; symbol_table;\n    exprtk::expression&lt;double&gt; expression;\n    exprtk::parser&lt;double&gt; parser;\n\n};\n\nint bits = std::numeric_limits&lt;double&gt;::digits;\n\nsolver_test test_root_finder(\"(x + 3)(x - 1)^2\", \"x\");\nstd::pair&lt;double, double&gt; r = boost::math::tools::brent_find_minima(test_root_finder, -4., 4. / 3, bits);\n\nstd::cout.precision(std::numeric_limits&lt;double&gt;::digits10);\nstd::cout &lt;&lt; \"x at minimum = \" &lt;&lt; r.first &lt;&lt; \", f(\" &lt;&lt; r.first &lt;&lt; \") = \" &lt;&lt; r.second &lt;&lt; std::endl;\n</code></pre>\n\n<p>I get Compiler Error C2280 - reference deleted function on the line with brent_find_minima.  This error also occurs when trying:</p>\n\n<pre><code>std::pair&lt;double, double&gt; r = boost::math::tools::brent_find_minima(solver_test(\"(x + 3)(x - 1)^2\", \"x\"), -4., 4. / 3, bits);\n</code></pre>\n\n<p>How can I pass a functor with a constructor, without instantiating it beforehand?</p>\n\n<p>If I look at previous posts</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6756532/how-do-c-functor-constructors-get-called-when-used-with-for-each-or-stdtrans\">How do C++ functor constructors get called when used with for_each or std::transform</a></p>\n\n<p>The answers provided don't seem to to be applicable to this case.</p>\n"}, {"tags": ["c++", "math", "const-reference", "pass-by-const-reference"], "comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1476307781, "post_id": 40008601, "comment_id": 67295499, "body": "They could not be <i>simple numeric types</i>. They could be <i>types that behave like numbers</i>. You could want not to copy them after all. Moreover, a const reference binds to a temporary and sometimes it&#39;s useful."}, {"owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1476308406, "post_id": 40008601, "comment_id": 67295773, "body": "<code>std::complex</code> might be an actual example of type in C++ standard for which <code>const T&amp;</code> would be better than just <code>T</code>."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1476308680, "post_id": 40008601, "comment_id": 67295898, "body": "@Zereges: Again, why? Wouldn&#39;t the compiler optimize the difference away?"}, {"owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1476310242, "post_id": 40008601, "comment_id": 67296522, "body": "@einpoklum It could of course as with any other type for your given function"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "edited": false, "score": 0, "creation_date": 1476347247, "post_id": 40008601, "comment_id": 67308904, "body": "@Zereges: Not with types having data on the heap I&#39;d guess."}], "answers": [{"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1476307920, "post_id": 40008695, "comment_id": 67295565, "body": "But is there really a penalty, with trivial compiler optimization? See my first note."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1476307958, "post_id": 40008695, "comment_id": 67295592, "body": "I was updating the answer while you were writing the comment."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1476307858, "creation_date": 1476307858, "answer_id": 40008695, "question_id": 40008601, "link": "https://stackoverflow.com/questions/40008601/should-templated-math-functions-take-values-or-const-references/40008695#40008695", "title": "Should templated math functions take values or const references?", "body": "<blockquote>\n  <p>Is there any benefit to taking a const reference, for <code>T</code>'s which are simple numeric types?</p>\n</blockquote>\n\n<p>No, I don't think so but there are no penalties either.</p>\n\n<blockquote>\n  <p>Ditto, for types which are some abstract thing wrapping a single number as a data member (e.g. a <code>std::chrono duration</code>)?</p>\n</blockquote>\n\n<p>Ditto.</p>\n\n<blockquote>\n  <p>Why is it (and is it at all) a better idea to take a <code>const&amp;</code> then a value in the general case?</p>\n</blockquote>\n\n<p>The standard library algorithms are designed not just for fundamental types but also for user defined types, which may not be cheap to copy. For those types, using a <code>const&amp;</code> avoids the penalties of copying while not hurting the usages for fundamental types.</p>\n"}, {"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 3, "last_activity_date": 1476308293, "creation_date": 1476308293, "answer_id": 40008787, "question_id": 40008601, "link": "https://stackoverflow.com/questions/40008601/should-templated-math-functions-take-values-or-const-references/40008787#40008787", "title": "Should templated math functions take values or const references?", "body": "<blockquote>\n  <ul>\n  <li>Is there any benefit to taking a const reference, for <code>T</code>'s which are simple numeric types?</li>\n  </ul>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <ul>\n  <li>Ditto, for types which are some abstract thing wrapping a single number as a data member (e.g. a <code>std::chrono</code> duration)?</li>\n  </ul>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <ul>\n  <li>Why is it (and is it at all) a better idea to take a <code>const&amp;</code> than a value in the general case of any relatively-simple, (constexpr?), side-effect-free math-ish function?</li>\n  </ul>\n</blockquote>\n\n<p>Imagine a bigint type that uses dynamic allocation; copying such a type is expensive.</p>\n\n<blockquote>\n  <ul>\n  <li>Wouldn't a compiler optimize the copying away?</li>\n  </ul>\n</blockquote>\n\n<p>Only if it can prove that copying the value have no side effect, which is hard to do unless all the code involved is visible to the compiler. (So, if your bigint uses, say, GMP, you are out of luck.)</p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 40008787, "answer_count": 2, "score": 1, "last_activity_date": 1476308293, "creation_date": 1476307474, "last_edit_date": 1476307888, "question_id": 40008601, "link": "https://stackoverflow.com/questions/40008601/should-templated-math-functions-take-values-or-const-references", "title": "Should templated math functions take values or const references?", "body": "<p>Suppose I want to implement some simple mathematical function; for example suppose it's a reimplementation of (C++17's) <code>std::clamp</code>: This function takes a number, a lower bound and an upper bound, and sets the number to one of those bounds if its out of the range they define. If it's a concrete numeric type, say <code>int</code>, I would write:</p>\n\n<pre><code>constexpr int clamp(int x, int lower_bound, int upper_bound)\n{\n    return x &lt; lower_bound ? lower_bound : ( upper_bound &lt; x ? upper_bound : x );\n}\n</code></pre>\n\n<p>but if it's a template, I see that the <a href=\"http://en.cppreference.com/w/cpp/algorithm/clamp\" rel=\"nofollow\">sample implementation</a> which is probably what the standard is going to have uses <code>const&amp;</code>'s rather than values. So, making things simpler for quoting, something like:</p>\n\n<pre><code>template &lt;typename T&gt;\nconstexpr T clip(const T&amp; x, const T&amp; lower_bound, const T&amp; upper_bound)\n{\n    return x &lt; lower_bound ? lower_bound : ( upper_bound &lt; x ? upper_bound : x );\n}\n</code></pre>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Is there any benefit to taking a const reference, for <code>T</code>'s which are simple numeric types?</li>\n<li>Ditto, for types which are some abstract thing wrapping a single number as a data member (e.g. a <code>std::chrono</code> duration)?</li>\n<li>Why is it (and is it at all) a better idea to take a <code>const&amp;</code> then a value in the general case of any relatively-simple, (constexpr?), side-effect-free math-ish function?</li>\n</ul>\n\n<p><strong>Notes:</strong> </p>\n\n<ul>\n<li>I realize taking a <code>const&amp;</code> might start making sense when you have, say, some kind of k-dimensional vector type, or <code>boost::rational</code>s and other numeric-like types; but even then, wouldn't a compiler optimize the copying away?</li>\n<li>I'm <em>not</em> asking about any arbitrary C++ function and whether it should just take its parameters by value, that would be a bad idea obviously.</li>\n</ul>\n"}, {"tags": ["java", "c++"], "comments": [{"owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "edited": false, "score": 0, "creation_date": 1476307794, "post_id": 40008572, "comment_id": 67295503, "body": "Thanks.  I do believe that somehow I missed that question, and it is definitely the same question.  That said, I disagree with that answer that making little classes rather than semantics-hiding pair or other tuples is a good thing. Still, thank you very much and it does totally and correctly answer my question."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1476312971, "post_id": 40008572, "comment_id": 67297407, "body": "Java very deliberately leaves this out.  The point is for you to make a proper class with usefully named fields."}, {"owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1476318561, "post_id": 40008572, "comment_id": 67298854, "body": "I understand the intention of the Java designers to force me to make a class with two named fields, and that when in Rome, one should do as the Romans do.  I just wanted to ensure that I was in fact doing as the Romans do.   I disagree with that deliberate forcing and if it were to be correct, one must agree that those from outside Rome, for instance C++, Go, Scheme, Scala, Haskell, and Python programmers, much be following a poor language design decision when utilizing pairs or tuples.  Given that Java has now lambdas, I won&#39;t be surprised to see tuples one day."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1476318611, "post_id": 40008572, "comment_id": 67298866, "body": "No, that doesn&#39;t follow. What&#39;s a good choice for one language doesn&#39;t have to be a good choice for others. Pairs may be appropriate for one language but not another.  (And the Java leadership still seems <i>actively</i> opposed to pairs.)"}, {"owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1476318931, "post_id": 40008572, "comment_id": 67298918, "body": "@LouisWasserman Really?  I miss how unnamed structures are reasonable in one but not another.  Maybe it&#39;s the Rome thing, really.  When in C++, I -feel- as though the std::pair&lt;T1,T2&gt; works just fine in localized use, just as it feels okay in Python.  I&#39;m not being coy, even if it sounded a bit, I just don&#39;t see that unnamed structures are inherently less valid than named ones.  Of course, it&#39;s moot, because that&#39;s not what Java does.  Anyway, it looks as though I&#39;m causing a slightly inappropriate discussion, so I&#39;ll sign off.  Thanks for the comments very much."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "edited": false, "score": 0, "creation_date": 1476307984, "post_id": 40008613, "comment_id": 67295607, "body": "Thanks very much as well.  This is a viable thing as well as simply implementing a simple pair class myself, but I&#39;ll just be doing the standard Java &quot;make a little class&quot; instead of having a dependency."}], "tags": [], "owner": {"reputation": 141, "user_id": 6938136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ec809b6aa5dd55a7c042a20ce9a525?s=128&d=identicon&r=PG&f=1", "display_name": "Todd Dunlap", "link": "https://stackoverflow.com/users/6938136/todd-dunlap"}, "is_accepted": false, "score": 1, "last_activity_date": 1476307520, "creation_date": 1476307520, "answer_id": 40008613, "question_id": 40008572, "link": "https://stackoverflow.com/questions/40008572/java-pair-equivalent-to-c/40008613#40008613", "title": "java pair equivalent to c++", "body": "<p>There's nothing in the standard Java API, but various third-party libraries have pair implementations.  For example. <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow\">this one</a> in Apache Commons Lang.</p>\n"}], "owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "closed_date": 1476307650, "answer_count": 1, "score": 0, "last_activity_date": 1476307520, "creation_date": 1476307353, "question_id": 40008572, "link": "https://stackoverflow.com/questions/40008572/java-pair-equivalent-to-c", "closed_reason": "Duplicate", "title": "java pair equivalent to c++", "body": "<p>I'm translating some code from standard C++ to Java.  Several places utilize</p>\n\n<pre><code>std::pair&lt;T1,T2&gt; \n</code></pre>\n\n<p>more specifically</p>\n\n<pre><code>std::pair&lt;Date,double&gt;\n</code></pre>\n\n<p>Is there a standard idiomatic way to express a parameterized pair type in Java?  As one example, I'm having to use a custom type</p>\n\n<pre><code>class Observation {\n   LocalDate date;\n   double value;\n}\n</code></pre>\n\n<p>I have other cases as well where two or three things need to be returned from a function. In other languages, I would likely use pairs, triples, and other tuple entities.</p>\n\n<p>I do not really mind making the needed little classes, but would like to know if I'm somewhere missing out on a Java feature.</p>\n\n<p>Thanks in advance for your comments.</p>\n\n<p>(P.S. I'm pretty sure that this is my first question ever posed on S.O.)</p>\n"}, {"tags": ["c++", "c++11", "c++14", "template-meta-programming", "constexpr"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476318272, "post_id": 40008554, "comment_id": 67298789, "body": "Considering that the committee is going to ban the whole counter thing, I don&#39;t see the point in spending time on this."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476318542, "post_id": 40008554, "comment_id": 67298848, "body": "In any event, ADL (and this has nothing to do with ODR) only looks into associated classes, and <code>writer</code> isn&#39;t one. (That&#39;s why <code>adl_flag</code> is declared in <code>flag</code> - so that ADL could find it.)"}, {"owner": {"reputation": 2826, "user_id": 1575632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SPw2f.jpg?s=128&g=1", "display_name": "amin", "link": "https://stackoverflow.com/users/1575632/amin"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1476356902, "post_id": 40008554, "comment_id": 67315363, "body": "@T.C. <code>the committee is going to ban the whole counter thing</code> Can please give a reference that indicate that&#39;s their intention? The ADL rules that meta-counter uses are old. How committee is going to change the rules without possibly breaking millions of code lines!"}, {"owner": {"reputation": 2826, "user_id": 1575632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SPw2f.jpg?s=128&g=1", "display_name": "amin", "link": "https://stackoverflow.com/users/1575632/amin"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476357032, "post_id": 40008554, "comment_id": 67315457, "body": "@T.C. Fixed the <code>ODR</code> mistake in the last line of question, i meant <code>ADL</code> :-)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476373151, "post_id": 40008554, "comment_id": 67327982, "body": "<a href=\"http://wg21.link/CWG2118\" rel=\"nofollow noreferrer\">CWG issue 2118</a>."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476380069, "post_id": 40008554, "comment_id": 67332216, "body": "They can&#39;t change the ADL rules, but the counter doesn&#39;t just depend on ADL."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1476676975, "post_id": 40008554, "comment_id": 67429427, "body": "@amin If you give me a complete example in a web compiler like coliru, I could check what&#39;s possible. It would be easier to test things with a code that reproduce the error from the start."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1476718322, "post_id": 40008554, "comment_id": 67453277, "body": "&quot;YES! it works!!!&quot; not in any compiler I&#39;ve tried. The <code>noexcept</code> stuff you added differs from the original post."}, {"owner": {"reputation": 2826, "user_id": 1575632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SPw2f.jpg?s=128&g=1", "display_name": "amin", "link": "https://stackoverflow.com/users/1575632/amin"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1476728486, "post_id": 40008554, "comment_id": 67459017, "body": "@Barry That&#39;s great news :-) I&#39;m so exited to see your solution."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1477165882, "post_id": 40008554, "comment_id": 67658618, "body": "@Barry That version with <code>noexcept</code> is actually the &quot;Workaround for VC++&quot;, listed at the end of the linked page.  Try it with <a href=\"http://webcompiler.cloudapp.net/\" rel=\"nofollow noreferrer\">the Visual C++ online compiler</a>, and it works.  Basically, it compensates for MSVC&#39;s spotty implementation of: SFINAE, aggregate initialisation in constant expressions, and re-evaluation of expressions used as both template parameters &amp; function parameter default values in the same function."}], "answers": [{"tags": [], "owner": {"reputation": 1295, "user_id": 1887915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43a2e328dbd73309c94f0c2a4434f1b?s=128&d=identicon&r=PG", "display_name": "user1887915", "link": "https://stackoverflow.com/users/1887915/user1887915"}, "is_accepted": true, "score": 3, "last_activity_date": 1477150244, "last_edit_date": 1477150244, "creation_date": 1477146964, "answer_id": 40193366, "question_id": 40008554, "link": "https://stackoverflow.com/questions/40008554/how-to-make-c-adl-to-look-into-all-instances-of-a-template/40193366#40193366", "title": "How to make C++ ADL to look into all instances of a template?", "body": "<p>Add <code>field_type</code> declaration to flag template, with return type <code>auto</code> (only available after C++14)</p>\n\n<p>Only works in gcc 4.9:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\ntemplate&lt;int N&gt;\nstruct flag {\n    friend constexpr int adl_flag (flag&lt;N&gt;);\n    friend constexpr auto field_type(flag&lt;N&gt;);\n};\n\ntemplate&lt;typename T, int N&gt;\nstruct writer {\n    friend constexpr int adl_flag (flag&lt;N&gt;) { return N; }\n    friend constexpr auto field_type(flag&lt;N&gt;) { return (T&amp;&amp;)(*(T*)0); }  // remove default constructable restriction\n    static constexpr int value = N;\n};\n\ntemplate&lt;int N, class = char[noexcept(adl_flag(flag&lt;N&gt; ()))?+1:-1]&gt;\nint constexpr reader (int, flag&lt;N&gt;) { return N; }\n\ntemplate&lt;int N&gt;\nint constexpr reader (float, flag&lt;N&gt;, int R = reader (0, flag&lt;N-1&gt;())) { return R; }\n\nint constexpr reader (float, flag&lt;0&gt;) { return 0; }\n\ntemplate&lt;typename T, int N = 1, int C = reader (0, flag&lt;32&gt; ())&gt;\nint constexpr next (int R = writer&lt;T, C + N&gt;::value) { return R; }\n\nint main () {\n    constexpr int a = next&lt;int&gt; ();\n    constexpr int b = next&lt;double&gt; ();\n    constexpr int c = next&lt;long&gt; ();\n\n    // YES! it works!!!\n    static_assert (a == 1 &amp;&amp; b == a+1 &amp;&amp; c == b+1, \"try again\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;1&gt;{})), int&gt;{}, \"first is int\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;2&gt;{})), double&gt;{}, \"second is double\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;3&gt;{})), long&gt;{}, \"third is long\");\n\n}\n</code></pre>\n\n<p>Use decltype of auto functions instead of noexcept, works after gcc 5.2, clang 3.5.1 - 3.7.1:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n\ntemplate &lt;int N&gt;\nstruct flag {\n    constexpr friend auto adl_flag(flag&lt;N&gt;);\n    friend auto field_type(flag&lt;N&gt;);\n};\n\ntemplate&lt;typename T, int N&gt;\nstruct writer {\n    friend constexpr auto adl_flag(flag&lt;N&gt;) { return 0; }\n    friend auto field_type(flag&lt;N&gt;) { return (T&amp;&amp;)(*(T*)0); }\n    static constexpr int value = N;\n};\n\ntemplate&lt;int N, class = decltype(adl_flag(flag&lt;N&gt;{}))&gt;\nint constexpr reader (int, flag&lt;N&gt;) { return N; }\n\ntemplate&lt;int N&gt;\nint constexpr reader (float, flag&lt;N&gt;, int R = reader (0, flag&lt;N-1&gt;())) { return R; }\n\nint constexpr reader (float, flag&lt;0&gt;) { return 0; }\n\ntemplate&lt;typename T, int N = 1, int C = reader (0, flag&lt;32&gt; ())&gt;\nint constexpr next (int R = writer&lt;T, C + N&gt;::value) { return R; }\n\nint main () {\n    constexpr int a = next&lt;int&gt; ();\n    constexpr int b = next&lt;double&gt; ();\n    constexpr int c = next&lt;long&gt; ();\n\n    // YES! it works!!!\n    static_assert (a == 1 &amp;&amp; b == a+1 &amp;&amp; c == b+1, \"try again\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;1&gt;{})), int&gt;{}, \"first is int\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;2&gt;{})), double&gt;{}, \"second is double\");\n    static_assert(std::is_same&lt;decltype(field_type(flag&lt;3&gt;{})), long&gt;{}, \"third is long\");\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2826, "user_id": 1575632, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SPw2f.jpg?s=128&g=1", "display_name": "amin", "link": "https://stackoverflow.com/users/1575632/amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 5, "accepted_answer_id": 40193366, "answer_count": 1, "score": 23, "last_activity_date": 1477150244, "creation_date": 1476307278, "last_edit_date": 1476620332, "question_id": 40008554, "link": "https://stackoverflow.com/questions/40008554/how-to-make-c-adl-to-look-into-all-instances-of-a-template", "title": "How to make C++ ADL to look into all instances of a template?", "body": "<p>I'm following <a href=\"http://b.atch.se/posts/constexpr-counter/\">How to implement a constant-expression counter in C++</a> tutorial And I'm trying to fix <a href=\"https://www.youtube.com/watch?v=abdeAew3gmQ\">C++14 Reflections Without Macros, Markup nor External Tooling..</a> talk limitations.</p>\n\n<p>The basic idea of the tutorial is this:</p>\n\n<pre><code>template&lt;int N&gt;\nstruct flag {\n  friend constexpr int adl_flag (flag&lt;N&gt;);\n};\n\ntemplate&lt;int N&gt;\nstruct writer {\n   friend constexpr int adl_flag (flag&lt;N&gt;) { return N; }\n   static constexpr int value = N;\n};\n\ntemplate&lt;int N, class = char[noexcept(adl_flag(flag&lt;N&gt; ()))?+1:-1]&gt;\nint constexpr reader (int, flag&lt;N&gt;) { return N; }\n\ntemplate&lt;int N&gt;\nint constexpr reader (float, flag&lt;N&gt;, int R = reader (0, flag&lt;N-1&gt;())) { return R; }\n\nint constexpr reader (float, flag&lt;0&gt;) { return 0; }\n\ntemplate&lt;int N = 1, int C = reader (0, flag&lt;32&gt; ())&gt;\nint constexpr next (int R = writer&lt;C + N&gt;::value) { return R; }\n\nint main () {\n  constexpr int a = next ();\n  constexpr int b = next ();\n  constexpr int c = next ();\n\n  // YES! it works!!!\n  static_assert (a == 1 &amp;&amp; b == a+1 &amp;&amp; c == b+1, \"try again\");\n}\n</code></pre>\n\n<p>Note: If you are not interested by now, it's a good time to stop reading :-)</p>\n\n<p>And the talk explains how to extract number of fields and fields types for POD types using aggregate initialization and implicit conversion operator, but the major limitation is that only primitive types are supported.</p>\n\n<p>I've provided the above background to justify my motivations!</p>\n\n<p>When I combined these two approaches I came to this:</p>\n\n<pre><code>template&lt;int N&gt;\nstruct flag {\n  friend constexpr int adl_flag (flag&lt;N&gt;);\n};\n\ntemplate&lt;typename T, int N&gt;\nstruct writer {\n  friend constexpr int adl_flag (flag&lt;N&gt;) {\n    return N;\n  }\n  friend constexpr T field_type(flag&lt;N&gt;) { return T{}; }\n  static constexpr int value = N;\n};\n</code></pre>\n\n<p>The <code>field_type(flag&lt;N&gt;)</code> will give me the type of <code>N</code>th field.\nNote that it's a friend function and for the <code>N</code>th field of a <code>POD</code> type exactly one <code>field_type(flag&lt;N&gt;)</code> will be defined by the compiler.</p>\n\n<p><code>g++</code> gives me <code>no matching function for call to 'field_type(flag&lt;1&gt;)</code> for <code>decltype(field_type(flag&lt;1&gt;))</code>.  </p>\n\n<p>I need to somehow force <code>ADL</code> to search in all instances of <code>writer&lt;T,N&gt;</code>.\nHow can I do that?</p>\n\n<p><strong>Update</strong></p>\n\n<p>As @T.C.mentioned ADL only looks into associated classes, and <code>writer</code> isn't one. (That's why <code>adl_flag</code> is declared in <code>flag</code> - so that <code>ADL</code> could find it.)</p>\n\n<p>The whole question is how to make <code>writer</code> an associated class without knowing the <code>T</code> value so that <code>ADL</code> can find it? </p>\n"}, {"tags": ["c++", "templates", "iterator"], "answers": [{"comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "edited": false, "score": 0, "creation_date": 1476319569, "post_id": 40008805, "comment_id": 67299074, "body": "@sancho.s Please post a complete, self-contained, minimal example. Remove all code not necessary to reproduce the error."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "edited": false, "score": 0, "creation_date": 1476328126, "post_id": 40008805, "comment_id": 67301151, "body": "@sancho.s If you do <code>os &lt;&lt; iterator</code> inside your <code>operator&lt;&lt;</code> then it recursively calls itself until a stack overflow happens. If you do <code>os &lt;&lt; *iterator</code> then it doesn&#39;t compile because there is no overload that prints a pair. You would have to write one."}, {"owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "edited": false, "score": 0, "creation_date": 1476330501, "post_id": 40008805, "comment_id": 67301729, "body": "You are right. In the frenzy of putting together a minimalistic version I removed the original template for printing a pair. I have reinstated it, but there remain ambiguities at  <code>cout &lt;&lt; &quot;string&quot;</code> in two lines (indicated in the code). If I comment both the declaration and definition of the function you suggested, the ambiguity is gone. I do not know what I am missing."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "edited": false, "score": 0, "creation_date": 1476333083, "post_id": 40008805, "comment_id": 67302389, "body": "@sancho.s Ah, that&#39;s because <code>operator&lt;&lt;</code> for a string literal could either be the standard one you get from <code>#include &lt;iostream&gt;</code> or it could be the custom <code>operator&lt;&lt;</code> for iterators here (since <code>const char*</code> is a valid iterator type). You&#39;d probably want to use SFINAE to disable the latter for <code>char*</code> and <code>const char*</code>."}, {"owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "edited": false, "score": 0, "creation_date": 1476335643, "post_id": 40008805, "comment_id": 67303144, "body": "I suspected this, and I was checking <a href=\"http://stackoverflow.com/questions/17192694/templatized-ostream-overload-ambiguity-error-basic-ostreamchar-vs-const-char\" title=\"templatized ostream overload ambiguity error basic ostreamchar vs const char\">stackoverflow.com/questions/17192694/&hellip;</a> but I am not familiar with that. In the meantime, and given you probably know that, could you please show me the syntax?"}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 1, "last_activity_date": 1476308349, "creation_date": 1476308349, "answer_id": 40008805, "question_id": 40008535, "link": "https://stackoverflow.com/questions/40008535/cannot-overload-operator-for-an-iterator-with-a-templated-function/40008805#40008805", "title": "Cannot overload operator&lt;&lt; for an iterator with a templated function", "body": "<p>The <code>T</code> in <code>typename T::iterator</code> is a non-deduced context, so the compiler cannot figure out what <code>T</code> is supposed to be when you try to invoke <code>operator&lt;&lt;</code> for an iterator type.</p>\n\n<p>One way of writing an overload that works for iterators is using SFINAE to detect whether a given type is an iterator or not:</p>\n\n<pre><code>template &lt;class T, class = typename std::iterator_traits&lt;T&gt;::value_type&gt;\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, T iterator);\n//                                         ^ This T can be deduced\n</code></pre>\n"}], "owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1476330362, "creation_date": 1476307190, "last_edit_date": 1476330362, "question_id": 40008535, "link": "https://stackoverflow.com/questions/40008535/cannot-overload-operator-for-an-iterator-with-a-templated-function", "title": "Cannot overload operator&lt;&lt; for an iterator with a templated function", "body": "<p>I have overloaded <code>operator&lt;&lt;</code> for several templated classes, e.g. <code>map</code>, <code>pair</code> (see below), <code>list</code>.\nThey work nicely and are quite versatile. Whenever I need something more specific, I define other <code>operator&lt;&lt;</code> which take precedence.</p>\n\n<p>But I could not do the same for iterators. I get compile errors. I guess the fact of dealing with <code>operator&lt;&lt;</code> is irrelvant, but the point is templating with iterators.</p>\n\n<p>Am I doing something wrong, or what I want to do is not possible?</p>\n\n<p>The code that I have now (after the answer by Brian) is shown below. Note that the errors are briefly noted in each line in the definition of the functiov, and in more detail below the code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\nusing namespace std;\n\ntypedef pair&lt;string, char&gt; pair_t;\ntypedef map&lt;pair_t::first_type, pair_t::second_type&gt; map_t;\ntypedef pair&lt;map_t::iterator, bool&gt; retval_insert_t;\n\n// Templated form of overloading &lt;&lt; for a pair\ntemplate&lt;typename first_class, class second_class&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, const pair&lt;first_class, second_class&gt;&amp; p);\n// Templated form of overloading &lt;&lt; for an iterator ... does not work\ntemplate &lt;class T, class = typename iterator_traits&lt;T&gt;::value_type&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, T iterator);\n\nint main(void) {\n    pair_t p2;\n    p2 = make_pair(string(\"Fer\"), 'C');\n\n    map_t grade_list;\n    retval_insert_t retval = grade_list.insert(p2);\n    cout &lt;&lt; retval.first &lt;&lt; endl;  // Does not work with a templated &lt;&lt;\n\n    return 0;\n}\n\n//**********************   Overloaded &lt;&lt; functions   ***************************************\n\n// ***** pair\n// Templated form of overloading &lt;&lt; for a pair\ntemplate&lt;class first_class, class second_class&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, const pair&lt;first_class, second_class&gt;&amp; p)\n{\n    os &lt;&lt; \"(\" &lt;&lt; p.first &lt;&lt; \", \" &lt;&lt; p.second &lt;&lt; \")\";  // Compilation error: Ambiguous overload for the first &lt;&lt;\n    return os;\n}\n\ntemplate &lt;class T, class = typename iterator_traits&lt;T&gt;::value_type&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, T iterator)\n{\n    os &lt;&lt; iterator;  // No compilation error, but segmentation fault\n    os &lt;&lt; *iterator;  // Compilation error if uncommenting: Cannot bind\n    //cout &lt;&lt; \"Testing\" &lt;&lt; endl;  // Compilation error if uncommenting: Ambiguous overload for the first &lt;&lt;\n    cout &lt;&lt; 1 &lt;&lt; endl;\n    return os;\n}\n</code></pre>\n\n<p><code>*Cannot bind*</code> error:</p>\n\n<pre><code>g++ -Wall -Wunused -Wuninitialized -Wextra -std=gnu++11 -g -g3 -std=gnu++11 -c -o test_iters.o test_iters.cpp\ntest_iters.cpp: In instantiation of \u2018std::ostream&amp; operator&lt;&lt;(std::ostream&amp;, T) [with T = std::_Rb_tree_iterator&lt;std::pair&lt;const std::basic_string&lt;char&gt;, char&gt; &gt;; &lt;template-parameter-1-2&gt; = std::pair&lt;const std::basic_string&lt;char&gt;, char&gt;; std::ostream = std::basic_ostream&lt;char&gt;]\u2019:\ntest_iters.cpp:20:17:   required from here\ntest_iters.cpp:31:8: error: cannot bind \u2018std::ostream {aka std::basic_ostream&lt;char&gt;}\u2019 lvalue to \u2018std::basic_ostream&lt;char&gt;&amp;&amp;\u2019\n     os &lt;&lt; *iterator;  // Compilation error if uncommenting: Cannot bind\n        ^\nIn file included from /usr/include/c++/4.8/iostream:39:0,\n                 from test_iters.cpp:1:\n/usr/include/c++/4.8/ostream:602:5: error:   initializing argument 1 of \u2018std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::operator&lt;&lt;(std::basic_ostream&lt;_CharT, _Traits&gt;&amp;&amp;, const _Tp&amp;) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; _Tp = std::pair&lt;const std::basic_string&lt;char&gt;, char&gt;]\u2019\n     operator&lt;&lt;(basic_ostream&lt;_CharT, _Traits&gt;&amp;&amp; __os, const _Tp&amp; __x)\n     ^\nmake: *** [test_iters.o] Error 1\n</code></pre>\n\n<p><code>*Ambiguous override*</code> error:</p>\n\n<pre><code>g++ -Wall -Wunused -Wuninitialized -Wextra -std=gnu++11 -g -g3 -std=gnu++11 -c -o test_iters.o test_iters.cpp  \ntest_iters.cpp: In function \u2018std::ostream&amp; operator&lt;&lt;(std::ostream&amp;, T)\u2019:\ntest_iters.cpp:32:7: error: ambiguous overload for \u2018operator&lt;&lt;\u2019 (operand types are \u2018std::ostream {aka std::basic_ostream&lt;char&gt;}\u2019 and \u2018const char [8]\u2019)\n  cout &lt;&lt; \"Testing\" &lt;&lt; endl;  // Compilation error if uncommenting: Ambiguous overload for the first &lt;&lt;\n       ^\ntest_iters.cpp:32:7: note: candidates are:\nIn file included from /usr/include/c++/4.8/iostream:39:0,\n                 from test_iters.cpp:1:\n/usr/include/c++/4.8/ostream:174:7: note: std::basic_ostream&lt;_CharT, _Traits&gt;::__ostream_type&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(bool) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::basic_ostream&lt;_CharT, _Traits&gt;::__ostream_type = std::basic_ostream&lt;char&gt;]\n       operator&lt;&lt;(bool __n)\n       ^\n/usr/include/c++/4.8/ostream:245:7: note: std::basic_ostream&lt;_CharT, _Traits&gt;::__ostream_type&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(const void*) [with _CharT = char; _Traits = std::char_traits&lt;char&gt;; std::basic_ostream&lt;_CharT, _Traits&gt;::__ostream_type = std::basic_ostream&lt;char&gt;]\n       operator&lt;&lt;(const void* __p)\n       ^\ntest_iters.cpp:28:10: note: std::ostream&amp; operator&lt;&lt;(std::ostream&amp;, T) [with T = const char*; &lt;template-parameter-1-2&gt; = char; std::ostream = std::basic_ostream&lt;char&gt;]\n ostream&amp; operator&lt;&lt;(ostream&amp; os, T iterator)\n          ^\n...\n</code></pre>\n\n<hr>\n\n<p><strong>Old code</strong> is (only for documentation purposes):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;list&gt;\n#include &lt;string&gt;\nusing namespace std;\n\ntypedef pair&lt;string, char&gt; pair_t;\ntypedef map&lt;pair_t::first_type, pair_t::second_type&gt; map_t;\ntypedef pair&lt;map_t::iterator, bool&gt; retval_insert_t;\n\n// ***** pair\n// Templated form of overloading &lt;&lt; for a pair\ntemplate&lt;typename first_class, class second_class&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, const pair&lt;first_class, second_class&gt;&amp; p);\n// ***** iterator\n// Templated form of overloading &lt;&lt; for a const_iterator\ntemplate&lt;class T&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, typename T::const_iterator it);\n// Templated form of overloading &lt;&lt; for an iterator ... does not work\ntemplate&lt;class T&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, typename T::iterator it);\n// Explicit form of overloading &lt;&lt; for an iterator\nostream&amp; operator&lt;&lt;(ostream&amp; os, map_t::iterator it);  // Compile error if commenting this line\n// ***** return value of insert (a map)\n// Explicit form of overloading &lt;&lt; for the return value of insert\nostream&amp; operator&lt;&lt;(ostream&amp; os, const retval_insert_t&amp; retval);\n\n\nint main(void) {\n    pair_t p2;\n    p2 = make_pair(string(\"Fer\"), 'C');\n\n    map_t grade_list;\n    retval_insert_t retval = grade_list.insert(p2);\n    cout &lt;&lt; retval.first &lt;&lt; endl;  // Does not work with a templated operator&lt;&lt;\n\n    return 0;\n}\n\n//**********************   Overloaded &lt;&lt; functions   ***************************************\n//************************  Explicit and templated  ****************************************\n\n// ***** pair\n// Templated form of overloading &lt;&lt; for a pair\ntemplate&lt;class first_class, class second_class&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, const pair&lt;first_class, second_class&gt;&amp; p)\n{\n    os &lt;&lt; \"(\" &lt;&lt; p.first &lt;&lt; \", \" &lt;&lt; p.second &lt;&lt; \")\";\n    return os;\n}\n\n// ***** iterator\n// Templated form of overloading &lt;&lt; for a const_iterator\ntemplate&lt;class T&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, typename T::const_iterator it)\n{\n    os &lt;&lt; *it;\n    return os;\n}\n// Templated form of overloading &lt;&lt; for an iterator ... does not work\ntemplate&lt;class T&gt;\nostream&amp; operator&lt;&lt;(ostream&amp; os, typename T::iterator it)\n{\n    os &lt;&lt; *it;\n    return os;\n}\n// Explicit form of overloading &lt;&lt; for an iterator\nostream&amp; operator&lt;&lt;(ostream&amp; os, map_t::iterator it)\n{\n    os &lt;&lt; *it;\n    return os;\n}\n\n// ***** return value of insert (a map)\n// Explicit form of overloading &lt;&lt; for the return value of insert\nostream&amp; operator&lt;&lt;(ostream&amp; os, const retval_insert_t&amp; retval)\n{\n    os &lt;&lt; \"retval : &lt;\" &lt;&lt; retval.first &lt;&lt; \", \" &lt;&lt; retval.second &lt;&lt; \"&gt;\";\n    return os;\n}\n</code></pre>\n"}, {"tags": ["c++", "c++14", "compiler-warnings", "implicit-conversion", "narrowing"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1476306879, "post_id": 40008429, "comment_id": 67295054, "body": "Where is the narrowing?  You are copying initializing from the same type in 7, 8, and 9."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476307210, "post_id": 40008429, "comment_id": 67295241, "body": "Interestingly, there&#39;s <code>-Wnarrowing</code>, but it doesn&#39;t seem to do anything. Making narrowing into errors seems much easier in this case."}, {"owner": {"reputation": 49861, "user_id": 882932, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/KdHtK.png?s=128&g=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/882932/vincent"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476307280, "post_id": 40008429, "comment_id": 67295268, "body": "@NathanOliver Thanks, problem corrected."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476307306, "post_id": 40008429, "comment_id": 67295279, "body": "@Vincent No problem.  Would you okay be having an error instead of a warning?"}, {"owner": {"reputation": 49861, "user_id": 882932, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/KdHtK.png?s=128&g=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/882932/vincent"}, "edited": false, "score": 0, "creation_date": 1476307328, "post_id": 40008429, "comment_id": 67295292, "body": "Yes, that would be even better actually..."}], "answers": [{"tags": [], "owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "is_accepted": true, "score": 5, "last_activity_date": 1476366667, "last_edit_date": 1476366667, "creation_date": 1476307415, "answer_id": 40008586, "question_id": 40008429, "link": "https://stackoverflow.com/questions/40008429/force-narrowing-conversion-warning/40008586#40008586", "title": "Force narrowing conversion warning", "body": "<p>You can trigger a narrowing conversion warning with uniform initialization syntax:</p>\n\n<pre><code>class wrapper \n{   \n    template &lt;class&gt; friend class wrapper;\n    public:\n        constexpr wrapper(T value)\n        : _data{value}\n        {}\n        template &lt;class U&gt;\n        constexpr wrapper(wrapper&lt;U&gt; other)\n        : _data{other._data} // note the curly brackets here\n        {}\n        wrapper&amp; operator=(T value)\n        {_data = value; return *this;}\n        template &lt;class U&gt;\n        wrapper&amp; operator=(wrapper&lt;U&gt; other)\n        {_data = {other._data}; return *this;} // and here\n    private:\n        T _data;\n};\n</code></pre>\n\n<p>with </p>\n\n<pre><code>wrapper&lt;unsigned int&gt; wrapper1 = 5U;\nwrapper&lt;unsigned char&gt; wrapper2 = wrapper1;  // Narrowing\nwrapper&lt;unsigned char&gt; wrapper3(wrapper1);  // Narrowing\nwrapper&lt;unsigned char&gt; wrapper4{wrapper1};  // Narrowing\nwrapper2 = wrapper1;  // Narrowing\n</code></pre>\n\n<p>any of the four last lines <a href=\"http://coliru.stacked-crooked.com/a/31182b8264e279dd\" rel=\"nofollow\">will produce a narrowing conversion warning in g++, and compilation errors from the narrowing conversions in clang.</a></p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476308105, "post_id": 40008637, "comment_id": 67295663, "body": "Part of the problem is OP&#39;s template partially short-circuits the warning."}], "tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1476307633, "creation_date": 1476307633, "answer_id": 40008637, "question_id": 40008429, "link": "https://stackoverflow.com/questions/40008429/force-narrowing-conversion-warning/40008637#40008637", "title": "Force narrowing conversion warning", "body": "<p>I'd recommend a different way. You don't need to muck with your code. When you compile using g++, add the -Wconversion flag.</p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1476308270, "last_edit_date": 1476308270, "creation_date": 1476307645, "answer_id": 40008644, "question_id": 40008429, "link": "https://stackoverflow.com/questions/40008429/force-narrowing-conversion-warning/40008644#40008644", "title": "Force narrowing conversion warning", "body": "<p>To stop compilation in a narrowing call you can use SFINAE on </p>\n\n<pre><code>template &lt;class U&gt;\nconstexpr wrapper(wrapper&lt;U&gt; other)\n: _data(other._data) \n{}\n</code></pre>\n\n<p>And change it to</p>\n\n<pre><code>template &lt;class U, typename std::enable_if&lt;sizeof(T) &gt;= sizeof(U)&gt;::type* = nullptr&gt;\nconstexpr wrapper(wrapper&lt;U&gt; other)\n: _data(other._data) \n{}\n</code></pre>\n\n<p><kbd><a href=\"http://coliru.stacked-crooked.com/a/a0b0924017a31933\" rel=\"nofollow\">Live Example</a></kbd></p>\n\n<p>This will stop compilation if the size of the underlying type you are copying from is greater than the underlying type of the object you are initializing.</p>\n"}], "owner": {"reputation": 49861, "user_id": 882932, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/KdHtK.png?s=128&g=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/882932/vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 1, "accepted_answer_id": 40008586, "answer_count": 3, "score": 3, "last_activity_date": 1476366667, "creation_date": 1476306702, "last_edit_date": 1476307240, "question_id": 40008429, "link": "https://stackoverflow.com/questions/40008429/force-narrowing-conversion-warning", "title": "Force narrowing conversion warning", "body": "<p>Consider the following code that illustrates some narrowing conversions:</p>\n\n<pre><code>template &lt;class T&gt;\nclass wrapper \n{   \n    template &lt;class&gt; friend class wrapper;\n    public:\n        constexpr wrapper(T value)\n        : _data(value)\n        {}\n        template &lt;class U&gt;\n        constexpr wrapper(wrapper&lt;U&gt; other)\n        : _data(other._data) \n        {}\n        wrapper&amp; operator=(T value)\n        {_data = value; return *this;}\n        template &lt;class U&gt;\n        wrapper&amp; operator=(wrapper&lt;U&gt; other)\n        {_data = other._data; return *this;}\n    private:\n        T _data;\n};\n\nint main(int argc, char* argv[]) \n{\n    wrapper&lt;unsigned char&gt; wrapper1 = 5U;\n    wrapper&lt;unsigned char&gt; wrapper2{5U};\n    wrapper&lt;unsigned char&gt; wrapper3(5U);\n    wrapper&lt;unsigned int&gt; wrapper4 = 5U;\n    wrapper&lt;unsigned int&gt; wrapper5{5U};\n    wrapper&lt;unsigned int&gt; wrapper6(5U);\n    wrapper&lt;unsigned char&gt; wrapper7 = wrapper4;  // Narrowing\n    wrapper&lt;unsigned char&gt; wrapper8{wrapper5};  // Narrowing\n    wrapper&lt;unsigned char&gt; wrapper9(wrapper6);  // Narrowing\n    wrapper7 = wrapper4;  // Narrowing\n    wrapper8 = wrapper5;  // Narrowing\n    wrapper9 = wrapper6;  // Narrowing\n    return 0;\n}\n</code></pre>\n\n<p>How to change the body of the <code>wrapper</code> members, so that it triggers the compiler warning for narrowing conversion? My goal is to make the user aware that something is potentially wrong with their code.</p>\n"}, {"tags": ["c++", "eigen"], "comments": [{"owner": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 0, "creation_date": 1476306177, "post_id": 40008166, "comment_id": 67294632, "body": "Why don&#39;t you try it?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 0, "creation_date": 1476306202, "post_id": 40008166, "comment_id": 67294647, "body": "As I said I tried, but if there is some quirky UB trying is not gonna make you certain the code is OK."}, {"owner": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 0, "creation_date": 1476309409, "post_id": 40008166, "comment_id": 67296198, "body": "Sorry, I misunderstood. By your wording, it made it sound like you compiled but didn&#39;t run it."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 0, "creation_date": 1476310372, "post_id": 40008166, "comment_id": 67296570, "body": "@mascoj No worries."}], "answers": [{"tags": [], "owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "is_accepted": true, "score": 4, "last_activity_date": 1476342955, "creation_date": 1476342955, "answer_id": 40014588, "question_id": 40008166, "link": "https://stackoverflow.com/questions/40008166/is-it-safe-to-use-zero-as-second-index-in-accessing-eigenvectorxd/40014588#40014588", "title": "Is it safe to use zero as second index in accessing Eigen::VectorXd?", "body": "<p>It is safe as long as <code>v</code> is a column vector, whereas using <code>v(i)</code> works for both column and row vectors, e.g.:</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid foo(const T &amp;v) {\n  v(2);   // OK\n  v(2,0); // -&gt; out of bounds runtime assertion\n}\nMatrixXd mat(10,10);\nfoo(mat.row(5));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1476374198, "post_id": 40014781, "comment_id": 67328688, "body": "Thanks for the code snippet, it&#39;s indeed reassuring."}], "tags": [], "owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "is_accepted": false, "score": 2, "last_activity_date": 1476343590, "last_edit_date": 1495541970, "creation_date": 1476343590, "answer_id": 40014781, "question_id": 40008166, "link": "https://stackoverflow.com/questions/40008166/is-it-safe-to-use-zero-as-second-index-in-accessing-eigenvectorxd/40014781#40014781", "title": "Is it safe to use zero as second index in accessing Eigen::VectorXd?", "body": "<p>I'll expound upon @ggaels <a href=\"https://stackoverflow.com/a/40014588/2899559\">answer</a>. If you look at the <code>operator()</code> definitions in DenseCoeffsBase.h (I'm quoting 3.2.10) you'll see that they both call <code>coeff</code> (or <code>coeffRef</code>)</p>\n\n<pre><code>EIGEN_STRONG_INLINE CoeffReturnType operator()(Index row, Index col) const\n{\n  eigen_assert(row &gt;= 0 &amp;&amp; row &lt; rows()\n      &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; cols());\n  return derived().coeff(row, col);\n}\n\nEIGEN_STRONG_INLINE CoeffReturnType\noperator()(Index index) const\n{\n  eigen_assert(index &gt;= 0 &amp;&amp; index &lt; size());\n  return derived().coeff(index);\n}\n</code></pre>\n\n<p>Looking at the definitions of coeffRef in PlainObjectBase.h we see that the offset is calculated simply:</p>\n\n<pre><code>EIGEN_STRONG_INLINE Scalar&amp; coeffRef(Index rowId, Index colId)\n{\n  if(Flags &amp; RowMajorBit)\n    return m_storage.data()[colId + rowId * m_storage.cols()];\n  else // column-major\n    return m_storage.data()[rowId + colId * m_storage.rows()];\n}\n\nEIGEN_STRONG_INLINE Scalar&amp; coeffRef(Index index)\n{\n  return m_storage.data()[index];\n}\n</code></pre>\n\n<p>So in the case of a row vector, you would have to write <code>v(0,2)</code> to avoid possible assertions failures/out of bounds errors.</p>\n"}], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40014588, "answer_count": 2, "score": 4, "last_activity_date": 1476343590, "creation_date": 1476305589, "last_edit_date": 1476319590, "question_id": 40008166, "link": "https://stackoverflow.com/questions/40008166/is-it-safe-to-use-zero-as-second-index-in-accessing-eigenvectorxd", "title": "Is it safe to use zero as second index in accessing Eigen::VectorXd?", "body": "<p><code>Eigen::VectorXd</code> has an <code>Scalar operator()(Index i)</code> which returns the coefficient at the index <code>i</code> in the vector. However, since <code>Eigen::VectorXd</code> is a special type of an <code>Eigen::Matrix</code>, i.e. of type <code>Eigen::Matrix&lt;Scalar, Eigen::Dynamic, 1&gt;;</code>, there is also an <code>Scalar operator()(Index i, Index j)</code>. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>Can I assume that it is safe (i.e. no undefined behaviour) to use the second version if I set <code>j</code> to zero? In other words, is the code below OK?</p>\n\n<pre><code>Eigen::VectorXd v(4);\nv &lt;&lt; 1, 2, 3, 4;\nstd::cout &lt;&lt; v(2, 0); // displays 3\n</code></pre>\n\n<p>It looks like it's OK, there are no failed assertions or warnings when compiled in debug mode with all warnings on, but I am not 100% sure.</p>\n"}, {"tags": ["c++", "scanf"], "comments": [{"owner": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "edited": false, "score": 0, "creation_date": 1476306086, "post_id": 40008143, "comment_id": 67294592, "body": "Read this for more information on how to use it correctly. <a href=\"https://msdn.microsoft.com/en-us/library/t6z7bya3.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/t6z7bya3.aspx</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476308628, "post_id": 40008143, "comment_id": 67295877, "body": "<code>sprintf_s</code> gave me a bit of a surprise when it crashed the program on overflow rather than truncate the way <code>snprintf</code> does. <code>sscanf_s </code> looks to have the same behaviour. Give <a href=\"https://msdn.microsoft.com/en-us/library/ksazx244.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ksazx244.aspx</a> a read if you find the program dying unexpectedly."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476307091, "post_id": 40008185, "comment_id": 67295182, "body": "I wonder why the OP is using <code>sscanf_s</code> instead of <code>sscanf</code> if he doesn&#39;t understand the difference?"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476307254, "post_id": 40008185, "comment_id": 67295258, "body": "IIRC, MSVC actively discourages the unsafe (no buffer size) versions of those functions. You have to reenable them with a particular define."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 3, "last_activity_date": 1476305671, "creation_date": 1476305671, "answer_id": 40008185, "question_id": 40008143, "link": "https://stackoverflow.com/questions/40008143/sscanf-s-access-violation-when-seperate-string-and-integer/40008185#40008185", "title": "sscanf_s access violation when seperate string and integer", "body": "<p><a href=\"http://en.cppreference.com/w/c/io/fscanf\" rel=\"nofollow\"><code>sscanf_s</code></a> expects two arguments for <code>%c</code>, <code>%s</code> and <code>%[</code>, the second being the size of the buffer passed. The following should work:</p>\n\n<pre><code>sscanf_s(tst, \"%s %d\", a, sizeof(a), &amp;i);\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 6768541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5412d4220677afded7b375bb5323522b?s=128&d=identicon&r=PG&f=1", "display_name": "firstaccount", "link": "https://stackoverflow.com/users/6768541/firstaccount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 40008185, "answer_count": 1, "score": 0, "last_activity_date": 1476307054, "creation_date": 1476305501, "last_edit_date": 1476307054, "question_id": 40008143, "link": "https://stackoverflow.com/questions/40008143/sscanf-s-access-violation-when-seperate-string-and-integer", "title": "sscanf_s access violation when seperate string and integer", "body": "<pre><code>    char a[200] = { 0 };\n\nchar tst[20] = \"aaaa 123\\n\";\nint i;\nsscanf_s(tst, \"%s %d\",a, &amp;i);\nprintf(\"reasult:%s %d\", a,i);\n</code></pre>\n\n<p>No matter I use <code>char tst[20] = \"aaaa 123\\n\";</code> or <code>char* tst = \"aaaa 123\\n\";</code>,\nit always shows access violation.\nI need to seperate a string an integer from a string. But why this happens ?</p>\n"}, {"tags": ["c++", "arrays", "performance", "structure"], "comments": [{"owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "edited": false, "score": 2, "creation_date": 1476305742, "post_id": 40008087, "comment_id": 67294399, "body": "One chooses a data structure not only to store data but also to support queries. Your question described what data you want to store. But it did not tell what kind of queries you want to run on top of the data. So there is no way I can tell you which structure is the most efficient."}, {"owner": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "edited": false, "score": 0, "creation_date": 1476305822, "post_id": 40008087, "comment_id": 67294438, "body": "Oh, you forgot to mention about B+ trees and Dynamic Hash Tables..."}, {"owner": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "edited": false, "score": 0, "creation_date": 1476305875, "post_id": 40008087, "comment_id": 67294475, "body": "&quot;how to choose an efficient data structure.&quot; how do you define efficiency? Seems like the performance of the app is not an issue - collection times being minutes apart. Memory foot-print? Coding style/cost of source maintenance?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7010121"}, "reply_to_user": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "edited": false, "score": 0, "creation_date": 1476306131, "post_id": 40008087, "comment_id": 67294614, "body": "@DonghuiZhang, thanks a lot for your comment, I&#39;ve updated the question in the EDIT section to include the query format -- display a list of tasks and its time elapsed/left."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7010121"}, "reply_to_user": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "edited": false, "score": 0, "creation_date": 1476306653, "post_id": 40008087, "comment_id": 67294935, "body": "@AdrianColomitchi I made some update to the post based on your comment; briefly, the memory footprint is a consideration, and the collections can be 10 minutes apart, for example. Thanks a lot for asking."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7010121"}, "edited": false, "score": 0, "creation_date": 1476308571, "post_id": 40008531, "comment_id": 67295853, "body": "Thanks a lot for your answer!  btw, I&#39;ve updated my post again, to ask for different time and space requirement. I&#39;d really like to hear your answer."}], "tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1476307153, "creation_date": 1476307153, "answer_id": 40008531, "question_id": 40008087, "link": "https://stackoverflow.com/questions/40008087/how-to-design-or-choose-data-structures-based-on-different-performance-requireme/40008531#40008531", "title": "how to design or choose data structures based on different performance requirement for a C++ project", "body": "<p>Ok so the problem is that you have a collection of triples {task_name, time_limit, time_elapsed}. You frequently need to find a triple given its task_name, so as to update time_elapsed. You need to insert new triples. And when a task expires (time_elapsed >= time_limt) you should remove it from the collection (and possibly add to another collection), so as to be able to print the non-expired tasks.</p>\n\n<p>You could do something like this:</p>\n\n<pre><code>#include &lt;set&gt;\n#include &lt;string&gt;\n\nstruct Task {\n  std::string task_name;\n  size_t time_limit;\n  size_t time_elapsed;\n};\n\nstruct TaskLess {\n  bool operator()(const Task&amp; task1, const Task&amp; task2) {\n    return task1.task_name &lt; task2.task_name;\n  }\n};\n\nstd::set&lt;Task, TaskLess&gt; tasks;\n</code></pre>\n\n<p>To find/update/insert/delete a task given its task_name is a logarithmic search. To print non-expired tasks you iterate through the set.</p>\n\n<p>You could also consider further optimizations: (a) use an std::unordered_map instead of a set; (b) use an integer as a task key instead of a string.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7010121"}, "edited": false, "score": 0, "creation_date": 1476308546, "post_id": 40008688, "comment_id": 67295840, "body": "Thanks a lot for your answer, especially for the links!  btw, I&#39;ve updated my post again, to ask for different time and space requirement. I&#39;d really like to hear your answer."}, {"owner": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "edited": false, "score": 0, "creation_date": 1476309022, "post_id": 40008688, "comment_id": 67296026, "body": "@kaka0512 - &quot; to ask for different time and space requirement&quot; whoaaa! Don&#39;t do that, please. It invalidates the answers already provided - &quot;hitting a moving target&quot; and all that. Better open a new question referencing the old one."}, {"owner": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "edited": false, "score": 0, "creation_date": 1476310184, "post_id": 40008688, "comment_id": 67296495, "body": "@kaka0512 - updated my answer and discounted your second and third use cases. I mean ... you really want to consider those cases?"}], "tags": [], "owner": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310615, "last_edit_date": 1476310615, "creation_date": 1476307831, "answer_id": 40008688, "question_id": 40008087, "link": "https://stackoverflow.com/questions/40008087/how-to-design-or-choose-data-structures-based-on-different-performance-requireme/40008688#40008688", "title": "how to design or choose data structures based on different performance requirement for a C++ project", "body": "<p>[\"Hitting a moving target\" edit]</p>\n\n<p>The answer below is offered for the scenario 1 - samples in the thousands or so.</p>\n\n<p>Samples in the <strong>10^100</strong> or <strong>100!</strong> ranges - unless you have a <a href=\"https://en.wikipedia.org/wiki/Observable_universe#Matter_content_.E2.80.93_number_of_atoms\" rel=\"nofollow\">multiverse-sized computer</a> better forget about it (number of atoms in the our observable universe is something around 10^80 - 10^81). Besides, I don't think you'd have time to accumulate such a high number of samples, given that the age of our universe is 13.8 billion years (which gives a magnitude order of 10^20 milliseconds count since the BigBang).</p>\n\n<p>As of 2015, the entire CERN data size is a meagre <a href=\"http://www.computerworld.com/article/2960642/cloud-storage/cerns-data-stores-soar-to-530m-gigabytes.html\" rel=\"nofollow\">25 petabytes</a> - that's less than 10^16.</p>\n\n<hr>\n\n<p>Based on the scenario of usage (collection time at minutes apart, query for incomplete tasks), I'd go with your fourth solution, storing these structs in a <code>std:vector</code> - the number of entries to be stored/processed can't be that big so no need for special containers or a database (20 experiments running a month with 10 mins collection period will result in a bit over 3600 entries).</p>\n\n<p>The query side, C++11 style, artificially blown up code (i.e. not the most compact form) to make evident what is happening:</p>\n\n<pre><code>std::vector&lt;MyStruct&gt; allSamples;\n\n// assuming a code that fills allSamples up\n\n// this is a lambda function, used as a predicate\nauto unfinishedTest=[](const MyStruct&amp; s) { \n  return s.time_elapsed &lt; s.time_limit; \n}\n\nauto unfinishedIterator=std::find_if(\n  allSamples.begin(), allSamples.end(), // range of lookup\n  unfinishedTest // filtering predicate\n);\n\n// now you have an iterator which only gives you unfinished tests\nwhile(unfinishedIterator != allSamples.end()) {\n  const MySample&amp; unfinishedJobAtHand = *unfinishedIterator;\n  // do what you please \n}\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><p><a href=\"http://en.cppreference.com/w/cpp/container\" rel=\"nofollow\">std:: containers</a> with <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow\">std::vector</a> in particular</p></li>\n<li><p><a href=\"http://en.cppreference.com/w/cpp/algorithm/find\" rel=\"nofollow\">find_if specification</a></p></li>\n<li><p><a href=\"http://en.cppreference.com/w/cpp/language/lambda\" rel=\"nofollow\">lamda functions syntax</a></p></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7010121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476310615, "creation_date": 1476305296, "last_edit_date": 1476308315, "question_id": 40008087, "link": "https://stackoverflow.com/questions/40008087/how-to-design-or-choose-data-structures-based-on-different-performance-requireme", "title": "how to design or choose data structures based on different performance requirement for a C++ project", "body": "<p>I am learning C++ on my own and I would like to work a tiny project to improve my C++ skills.</p>\n\n<p>I am implementing a program to have the capability of recording a number of different experiment tasks, each of which has a pre-defined time limit represented by integer numbers in time unit. </p>\n\n<ol>\n<li><p>Different kinds of tasks can start at the same time or sequentially. </p></li>\n<li><p>One kind of task can only run one at a time.</p></li>\n<li><p>The tasks run normally with a duration of 24 hours at max.</p></li>\n<li><p>The computer running the program have to suffer rebooting during the tasks within one day, for some reason. (so have to write data to disk)</p></li>\n<li><p>One task can start and stop multiple times, so the time_elapsed is accumulated.</p></li>\n</ol>\n\n<p>For example:</p>\n\n<p>tasks,     time_limit(time unit),     time_elapsed(time unit).</p>\n\n<p>t0,        500,                    0</p>\n\n<p>t1,        1000,                   700</p>\n\n<p>t2,        700,                    700</p>\n\n<p>As you see, the project is just a timer. But I am not sure how to store the three parameters to my program; I have </p>\n\n<ol>\n<li>string: task names;</li>\n<li>integer: time limit, and</li>\n<li>integer: time elapsed.</li>\n</ol>\n\n<p>Basically there are <strong>three variants</strong> for the project asking for different ways (your suggestions) to store the above data:</p>\n\n<ol>\n<li><p>total task numbers <strong>are 10-100</strong>; start-stop cycle AND query interval can be <strong>minutes apart</strong>, and no memory requirement;</p></li>\n<li><p>total task numbers <strong>are 10^100</strong>; start-stop cycle AND query interval can be <strong>millisecond scale</strong>, and no memory requirement;</p></li>\n<li><p>total task numbers <strong>are 100!;</strong> start-stop cycle AND query interval can be <strong>milisecond scale</strong>, and with as minimum mem as possible.</p></li>\n</ol>\n\n<p>I have several solutions:</p>\n\n<p>zeroth, I just have all the three variables in three primitive [] arrays, read / write files whenever updating it via array position-based indexing.</p>\n\n<p>first, using vectors instead of arrays in the above case.</p>\n\n<p>second, with unordered_map, set task-name as key and set time_limit, time_elapsed <code>pair&lt;int, int&gt;</code> as the value. whenever updating the record, input a task name(string) to update the corresponding integer value in the pair (C++ STL).</p>\n\n<p>third, using a tuple <code>&lt;string, int, int&gt;</code> to store <code>&lt;task_name, time_limit, time_elapsed&gt;</code> respectively.</p>\n\n<p>fourth, using C struct arrays, to have something like </p>\n\n<pre><code>struct {\n         string task name;\n         int time_limit\n         int time_elapsed;};\n</code></pre>\n\n<p>Or any other types of data structure.</p>\n\n<p>EDIT:</p>\n\n<p>To query the data structure, current status at any time need to be transmitted to some other class objects of the program to trigger corresponding events(which is omitted in this post), thus a list of each unfinished (time_elapsed is less then time_limit) tasks' task_name, elapsed time and time left are read as input for the other class objects. </p>\n\n<p>To think this way, it will help me learn a lot.</p>\n\n<p>I would like to hear comments / suggests how to choose an efficient data structures based on different requirement listed above.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476304975, "post_id": 40007930, "comment_id": 67293960, "body": "Most of all you call 3 times counter incrementation. That is 2 too many. Your array is just 3 times too small for that."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1476305149, "creation_date": 1476305149, "answer_id": 40008050, "question_id": 40007930, "link": "https://stackoverflow.com/questions/40007930/exception-thrown-when-creating-an-array-c/40008050#40008050", "title": "exception thrown when creating an array c++", "body": "<p>You're accessing outside the array in your loop. Your loop has as one iteration for each element in <code>planeVertices</code>. But you're incrementing <code>counter</code> 3 times each time through the loop. So about 1/3 of the way through all the loops <code>counter</code> will reach the end of the array, then you'll start writing outside the array, which causes undefined behavior.</p>\n\n<p>I'm not sure what you're trying to do. Why are you writing 3 different elements of the array each time through the loop? So it's not clear how to fix it. You could simply declare it 3 times as large:</p>\n\n<pre><code>GLfloat planeVertices[verticesCount * 3];\n</code></pre>\n\n<p>Or you could declare it as a 2-dimensional array:</p>\n\n<pre><code>GLfloat planeVertices[verticesCount][3];\n</code></pre>\n\n<p>Then your loop would do:</p>\n\n<pre><code>planeVertices[counter][0] = length - half;\nplaneVertices[counter][1] = 0.0f;\nplaneVertices[counter][2] = width - half;\ncounter++;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6192791, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31822bcd085ffb51e9505d9263a1fdbe?s=128&d=identicon&r=PG&f=1", "display_name": "SSLukeY", "link": "https://stackoverflow.com/users/6192791/sslukey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 40008050, "answer_count": 1, "score": -2, "last_activity_date": 1476305149, "creation_date": 1476304658, "last_edit_date": 1476304921, "question_id": 40007930, "link": "https://stackoverflow.com/questions/40007930/exception-thrown-when-creating-an-array-c", "title": "exception thrown when creating an array c++", "body": "<p>Im basically generating a array for a flat plane in my game using this algorithm, but I couldn't get it to work as there is a exception when I run the program. (GLuint is just unsigned int in opengl)</p>\n\n<pre><code>const GLuint planeDimension = 30.0f;\nconst GLuint half = planeDimension / 2;\nconst GLuint verticesCount = planeDimension * planeDimension;\nint counter = 0;\nGLfloat planeVertices[verticesCount];\n\nfor (GLuint length = 0; length &lt; planeDimension; length++) {\n    for (GLuint width = 0; width &lt; planeDimension; width++) {\n        planeVertices[counter++] = length - half;\n        planeVertices[counter++] = 0.0f;\n        planeVertices[counter++] = width - half;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2013", "visual-studio-2015", "static", "inline"], "comments": [{"owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476306481, "post_id": 40007882, "comment_id": 67294832, "body": "I am not sure this is doable (Minimal, Complete, and Verifiable example) - this code is part of a giant solution. I am looking to understand the theoretical issue that could have caused it, not necessarily to solve the problem that this code is trying to achieve. It is possible that it isn&#39;t reproducible with any consistency."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1476306812, "post_id": 40007882, "comment_id": 67295016, "body": "We need to see the context in which this function is getting called. It would also help to know what the constructor of <code>Data</code> actually does. There&#39;s nothing in the posted code that would give us any clue what the issue is."}, {"owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "edited": false, "score": 4, "creation_date": 1476306855, "post_id": 40007882, "comment_id": 67295037, "body": "Hard to say for sure without seeing the rest of code, but looks like <i>static initialization order fiasco</i> (<a href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/ctors#static-init-order</a>)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476306881, "post_id": 40007882, "comment_id": 67295056, "body": "The odds of anyone being able to help you find a solution with three lines of code is extremely low. There are some god-level programmers stalking the fields here, but even they have limits."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1476306942, "post_id": 40007882, "comment_id": 67295095, "body": "Why is this code being called while the DLL is loading?"}, {"owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "edited": false, "score": 0, "creation_date": 1476307002, "post_id": 40007882, "comment_id": 67295129, "body": "Thanks for the comments. Let me see if I can come up with a better context. But judging from your input, it is not a obvious, smack-your-head issue, so, that&#39;s already very helpful!"}, {"owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "edited": false, "score": 1, "creation_date": 1476307685, "post_id": 40007882, "comment_id": 67295459, "body": "The reason the code is being called is that the DLL has a bunch of static objects that use the class A. So, the suggestion that it is static initialization fiasco seems likely."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1476308119, "post_id": 40007882, "comment_id": 67295667, "body": "@PeterD Probably due to some detail of how the <code>Data</code> constructor works."}, {"owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1476308561, "post_id": 40007882, "comment_id": 67295846, "body": "@DavidSchwartz Huh, how did it escape me! The constructor of Data indeed is to blame - Data itself has a member variable of type A! Completely missed that. I feel embarrassed for asking the question and not investigating enough. Now I am just not sure how on earth it ever managed to work when compiled by VS2013..."}], "answers": [{"tags": [], "owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "is_accepted": true, "score": 0, "last_activity_date": 1476369655, "creation_date": 1476369655, "answer_id": 40024114, "question_id": 40007882, "link": "https://stackoverflow.com/questions/40007882/static-local-variable-in-inline-function-causes-hang-in-vs2015-compiled-code/40024114#40024114", "title": "static local variable in inline function causes hang in VS2015-compiled code", "body": "<p>Thanks for David Schwartz for suggesting the solution in the comments to the original question.\nThe issue was not due to any interaction of <code>static</code> local variable and <code>inline</code> hint in the constructor, as I assumed. Instead the issue was invocation of the constructor of <code>Data</code>, since <code>Data</code> has a member variable of type <code>A</code>. This causes circularity (<code>A</code>, to be created, needs <code>Data</code>, which needs <code>A</code>)\nThe issue is resolved by using <a href=\"https://isocpp.org/wiki/faq/ctors#named-ctor-idiom\" rel=\"nofollow\">Named Constructor Idiom</a> thus:</p>\n\n<pre><code>class A{\n  public:       \n    static A createDefault()\n    {\n       static boost::shared_ptr&lt;Data&gt; data(new Data(\"\"));\n        A a;\n        a.data_ = data;\n        return a;\n    }\n\n  protected: \n    //Make the c'tor protected so that nobody uses it by mistake (except for derived classes) \n    A(){}\n\n    //Struct Data can access A::A():\n    struct Data{\n       A a_;\n       Data(string str) \n       {\n           //...\n       }\n       //...\n    };\n};\n</code></pre>\n\n<p>Anywhere else:</p>\n\n<pre><code>//...\nA a(A::createDefault());//or similar\n//...\n</code></pre>\n\n<p>The one mystery that remains is how VS2013 managed to build it so that the code was running fine. </p>\n"}], "owner": {"reputation": 623, "user_id": 1959008, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0ae95a3f46219d9aff5140d94087539?s=128&d=identicon&r=PG", "display_name": "PeterD", "link": "https://stackoverflow.com/users/1959008/peterd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 40024114, "answer_count": 1, "score": 0, "last_activity_date": 1476369655, "creation_date": 1476304474, "last_edit_date": 1476307975, "question_id": 40007882, "link": "https://stackoverflow.com/questions/40007882/static-local-variable-in-inline-function-causes-hang-in-vs2015-compiled-code", "title": "static local variable in inline function causes hang in VS2015-compiled code", "body": "<p>I have a legacy code along these lines:</p>\n\n<pre><code>inline A::A() {\n    static boost::shared_ptr&lt;Data&gt; data(new Data(\"\"));\n    data_ = data;\n}\n</code></pre>\n\n<p><code>Data</code> is some class and <code>data_</code> is a non-static member variable of <code>class A</code>.  I am not sure what was the idea of the original coder here, but the interesting thing is that this code works fine when built with Visual Studio 2013 but when it is built with Visual Studio 2015, the code hangs (on the line where the static variable <code>data</code> is initialized) at the time of the DLL loading.\nThe reason the code is being called at the time of DLL loading is that there are static objects of <code>class A</code>, e.g,</p>\n\n<pre><code>class B\n{\n static A a_;\n}\n</code></pre>\n\n<p>I realize that VS2015 may build the code differently, for example, by not honoring the inline hint etc. But what would be the reason for it to hang? Is it some memory corruption? \nNot trying to make this code work - rather trying to understand the potential issue that this code could have caused.</p>\n"}, {"tags": ["c++", "variables", "console", "title"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3104667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UfY6m.jpg?s=128&g=1", "display_name": "user3104667", "link": "https://stackoverflow.com/users/3104667/user3104667"}, "edited": false, "score": 0, "creation_date": 1476306328, "post_id": 40008009, "comment_id": 67294735, "body": "Thanks that worked! But can you also add words before the integer? So it would look like &quot;Counting to <i>integer goes here</i>&quot;"}, {"owner": {"reputation": 11, "user_id": 3104667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UfY6m.jpg?s=128&g=1", "display_name": "user3104667", "link": "https://stackoverflow.com/users/3104667/user3104667"}, "edited": false, "score": 0, "creation_date": 1476306358, "post_id": 40008009, "comment_id": 67294763, "body": "I tried SetConsoleTitle(to_wstring(&quot;Counting to &quot; limit).c_str());"}, {"owner": {"reputation": 1603, "user_id": 243053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ee209448dd54689d26e21d98be00a8?s=128&d=identicon&r=PG", "display_name": "Alex Bakulin", "link": "https://stackoverflow.com/users/243053/alex-bakulin"}, "reply_to_user": {"reputation": 11, "user_id": 3104667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UfY6m.jpg?s=128&g=1", "display_name": "user3104667", "link": "https://stackoverflow.com/users/3104667/user3104667"}, "edited": false, "score": 0, "creation_date": 1476307334, "post_id": 40008009, "comment_id": 67295297, "body": "Updated the answer."}, {"owner": {"reputation": 11, "user_id": 3104667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UfY6m.jpg?s=128&g=1", "display_name": "user3104667", "link": "https://stackoverflow.com/users/3104667/user3104667"}, "edited": false, "score": 0, "creation_date": 1476309471, "post_id": 40008009, "comment_id": 67296225, "body": "Great! Thank you so much!"}], "tags": [], "owner": {"reputation": 1603, "user_id": 243053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ee209448dd54689d26e21d98be00a8?s=128&d=identicon&r=PG", "display_name": "Alex Bakulin", "link": "https://stackoverflow.com/users/243053/alex-bakulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1476307318, "last_edit_date": 1476307318, "creation_date": 1476304950, "answer_id": 40008009, "question_id": 40007847, "link": "https://stackoverflow.com/questions/40007847/make-console-title-bar-display-the-value-of-a-variable/40008009#40008009", "title": "Make console title bar display the value of a variable", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686050%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">SetConsoleTitle()</a> function expects a string as its argument, but you're giving it an integer. One possible solution would be to use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/to_wstring\" rel=\"nofollow\">std::to_wstring()</a> to convert an integer to a wide-character string. C++ string that you get as a result has a different format from the null-terminated wide-character string that <em>SetConsoleTitle()</em> expects, so we need to make the necessary conversion using the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/c_str\" rel=\"nofollow\">c_str()</a> method. So, instead of</p>\n\n<pre><code>SetConsoleTitle(limit);\n</code></pre>\n\n<p>you should have</p>\n\n<pre><code>SetConsoleTitle(to_wstring(limit).c_str());\n</code></pre>\n\n<p>Don't forget to <code>#include &lt;string&gt;</code> for <em>to_wstring()</em> to work.</p>\n\n<p>If you want a title that includes more than just a number, you'll need to use a string stream (a <a href=\"http://www.cplusplus.com/reference/sstream/wstringstream/\" rel=\"nofollow\">wide character string stream</a> in this case):</p>\n\n<pre><code>wstringstream titleStream;\ntitleStream &lt;&lt; \"Counting to \" &lt;&lt; limit &lt;&lt; \" goes here\";\nSetConsoleTitle(titleStream.str().c_str());\n</code></pre>\n\n<p>For string streams to work, <code>#include &lt;sstream&gt;</code>. Here's the full code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;windows.h&gt;    \n#include &lt;stdlib.h&gt;     \nusing namespace std;\n\nint main()\n{\nbegin:\n    int limit;\n    cout &lt;&lt; \"Enter a number you would like to count up to and press any key to start\" &lt;&lt; endl;\n    cin &gt;&gt; limit;\n\n    wstringstream titleStream;\n    titleStream &lt;&lt; \"Counting to \" &lt;&lt; limit &lt;&lt; \" goes here\";\n    SetConsoleTitle(titleStream.str().c_str());\n    int x = 0;\n    while (x &gt;= 0)\n    {\n        cout &lt;&lt; x &lt;&lt; endl;\n        x++;\n\n        if (x == limit)\n        {\n            cout &lt;&lt; \"Reached limit of \" &lt;&lt; limit &lt;&lt; endl;\n            system(\"pause\");\n            system(\"cls\");\n            goto begin;\n        }\n    }\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3104667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UfY6m.jpg?s=128&g=1", "display_name": "user3104667", "link": "https://stackoverflow.com/users/3104667/user3104667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1043, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476308486, "creation_date": 1476304362, "last_edit_date": 1476308486, "question_id": 40007847, "link": "https://stackoverflow.com/questions/40007847/make-console-title-bar-display-the-value-of-a-variable", "title": "Make console title bar display the value of a variable", "body": "<p>I'm working on a small program that counts up to a number given by the user. The number they enter is stored in the variable <code>limit</code>. I want the number in that variable to be displayed in the title kind of like this: \"Counting up to 3000\" or \"Limit set to 3000\" or something like that. I've tried using <code>SetConsoleTitle(limit);</code> and other things but they just don't work. With the code that I have posted bellow, I get the following error:</p>\n\n<blockquote>\n  <p>argument of type \"int\" is incompatible with parameter of type \"LPCWSTR\"</p>\n</blockquote>\n\n<p>I'm currently using Visual Studio 2015 if that's important in any way.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;windows.h&gt;    \n#include &lt;stdlib.h&gt;        \nusing namespace std;\n\nint main()\n{\n    begin:                            \n    int limit;\n    cout &lt;&lt; \"Enter a number you would like to count up to and press any key to start\" &lt;&lt; endl;\n    cin &gt;&gt; limit;\n\n    SetConsoleTitle(limit); // This is my problem\n    int x = 0;\n    while (x &gt;= 0)\n    {\n        cout &lt;&lt; x &lt;&lt; endl;\n        x++;\n\n        if (x == limit) \n        {\n            cout &lt;&lt; \"Reached limit of \" &lt;&lt; limit &lt;&lt; endl;\n            system(\"pause\");\n            system(\"cls\");\n            goto begin;\n        }\n    }\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "loops"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1476304051, "post_id": 40007720, "comment_id": 67293511, "body": "And what have you tried so far?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1476304154, "post_id": 40007720, "comment_id": 67293560, "body": "It is a strange <b>Compression</b> BTW in your example as you don&#39;t skip background."}, {"owner": {"reputation": 139, "user_id": 7010109, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85dfb106e44827443e6659832d056945?s=128&d=identicon&r=PG&f=1", "display_name": "Slite", "link": "https://stackoverflow.com/users/7010109/slite"}, "edited": false, "score": 0, "creation_date": 1476304456, "post_id": 40007720, "comment_id": 67293704, "body": "i didn&#39;t tried that much i only have a loop that go through the 2D array"}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1476304487, "post_id": 40007720, "comment_id": 67293717, "body": "@EdoYouss - then show the loop and the 2D array"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1476304934, "post_id": 40007720, "comment_id": 67293941, "body": "<code>else</code> with no body is going to give the compiler fits."}, {"owner": {"reputation": 139, "user_id": 7010109, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85dfb106e44827443e6659832d056945?s=128&d=identicon&r=PG&f=1", "display_name": "Slite", "link": "https://stackoverflow.com/users/7010109/slite"}, "edited": false, "score": 0, "creation_date": 1476305165, "post_id": 40007720, "comment_id": 67294082, "body": "i&#39;m new to c++ so i still don&#39;t know how to use std::vector :("}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 1, "creation_date": 1476305244, "post_id": 40007720, "comment_id": 67294129, "body": "@EdoYouss - If you are new to C++ then forget all about C-style arrays and start learning about the containers. They were invented to make life simple."}, {"owner": {"reputation": 3864, "user_id": 620908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abd643ecb33f1a18a7a4f976cef0dbe?s=128&d=identicon&r=PG", "display_name": "Adrian Colomitchi", "link": "https://stackoverflow.com/users/620908/adrian-colomitchi"}, "edited": false, "score": 0, "creation_date": 1476305390, "post_id": 40007720, "comment_id": 67294202, "body": "@EdoYouss <a href=\"http://www.cplusplus.com/reference/stl/\" rel=\"nofollow noreferrer\">c++ containers</a> - <a href=\"http://www.cplusplus.com/reference/vector/vector/\" rel=\"nofollow noreferrer\">std::vector</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 0, "last_activity_date": 1476306190, "last_edit_date": 1476306190, "creation_date": 1476305446, "answer_id": 40008125, "question_id": 40007720, "link": "https://stackoverflow.com/questions/40007720/compress-a-2d-array-into-a-1d-array/40008125#40008125", "title": "Compress a 2D array into a 1D Array", "body": "<p>A simple approach using <code>std::vector</code></p>\n\n<pre><code>std::vector&lt;int&gt; result;\nfor (int i = 0; i&lt;MAXL;i++)\n{\n    for (int j=0; j&lt;MAXC;j++)\n    {\n        if (image1[i][j] != BackColor)  // Notice !=\n        {\n            result.push_back(i+1);\n            result.push_back(j+1);\n            result.push_back(image1[i][j]);\n        }\n    }\n}\n\n\nfor (auto x : result)\n{\n    std::cout &lt;&lt; x &lt;&lt; \" \";\n}\nstd::cout &lt;&lt; endl;\n</code></pre>\n\n<blockquote>\n  <p>Output:</p>\n  \n  <p>1 2 3 3 2 255 4 1 255 5 2 255 </p>\n</blockquote>\n\n<p><a href=\"http://ideone.com/yJawu5\" rel=\"nofollow\">http://ideone.com/yJawu5</a></p>\n"}], "owner": {"reputation": 139, "user_id": 7010109, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85dfb106e44827443e6659832d056945?s=128&d=identicon&r=PG&f=1", "display_name": "Slite", "link": "https://stackoverflow.com/users/7010109/slite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476306190, "creation_date": 1476303929, "last_edit_date": 1476305511, "question_id": 40007720, "link": "https://stackoverflow.com/questions/40007720/compress-a-2d-array-into-a-1d-array", "title": "Compress a 2D array into a 1D Array", "body": "<p>i have a quad (2D array) which is composed of numbers which ranges from 0 to 255 \nand the most frequent value of the array ( in my case 2) is the background value</p>\n\n<p>i have to put all the values of the array except the background value ( i have to ignore all cases that contains a 2) in a 1D array with this arrangement </p>\n\n<p>the line,the column,the value,the line,the next column,the next value</p>\n\n<p>for example i have </p>\n\n<pre><code>{2,3,2,2},\n{2,2,2,2},\n</code></pre>\n\n<p>in the 1D array it will be like <code>{ 1,2,3,}</code></p>\n\n<p>i added spaces to make it more readable </p>\n\n<p>here is my array </p>\n\n<pre><code>int image1[MAXL][MAXC]=\n{\n    {2,3,2,2},\n    {2,2,2,2},\n    {2,255,2,2},\n    {255,2,2,2},\n    {2,255,2,2}\n};\n</code></pre>\n\n<p>and the loop </p>\n\n<pre><code> for (int i = 0; i&lt;nbc;i++)\n{\n    for (int j=0; j&lt;nbl;j++)\n    {\n        if (image1[j][i]==BackColor)\n        {\n\n        }\n        else \n    }\n}\n</code></pre>\n\n<p>nbc and nbl are respectively the number of columns and lines</p>\n\n<p>thanks you for your help</p>\n\n<p>EDIT : i completely failed my example i didn't ignored the 2, should be fine now  </p>\n"}, {"tags": ["c++", "windows", "visual-studio-2012", "openssl", "nasm"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1476384934, "post_id": 40007633, "comment_id": 67334790, "body": "You need to open a 32-bit <a href=\"https://msdn.microsoft.com/en-us/library/ms229859(v=vs.90).aspx\" rel=\"nofollow noreferrer\">Developer Command Prompt for Visual Studio</a>. You also need to ensure NASM is on-path. The reference to <code>ml.exe</code> indicates MASM is being used, and not NASM. The <i><code>sha1-586.asm:1: error: parser: instruction expected</code></i> messages seem to indicate a problem with Perl. I believe there&#39;s an OpenSSL script run during Configure that fixes up the ASM for the Assembler. Can you try the latest Active Perl (5.24) or Strawberry Perl (5.24)? After the changes, you need to Clean and re-Configure."}], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 456906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/833d4d6084f2823cf6f3c0a4642600d5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/456906/alex"}, "edited": false, "score": 0, "creation_date": 1476305290, "post_id": 40007671, "comment_id": 67294148, "body": "Following those instructions (changing the VS version to 11 to match my own), I was able to compile the 64-bit version, but I still unable to compile the 32-bit version (other libraries that I need to use are 32-bit, and I&#39;ll need for OpenSSL to be 32-bit to compile nicely with other things)"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 557, "user_id": 456906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/833d4d6084f2823cf6f3c0a4642600d5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/456906/alex"}, "edited": false, "score": 2, "creation_date": 1476306081, "post_id": 40007671, "comment_id": 67294585, "body": "Have you tried <code>perl Configure VC-WIN32 no-asm --prefix=c:&#47;some&#47;openssl&#47;dir</code> to build without either asm?"}], "tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 2, "last_activity_date": 1476303777, "creation_date": 1476303777, "answer_id": 40007671, "question_id": 40007633, "link": "https://stackoverflow.com/questions/40007633/how-to-compile-openssl-on-windows/40007671#40007671", "title": "How to compile OpenSSL on Windows?", "body": "<p>I built the library from a regular command prompt on Windows 10 with VS 2015 with the following commands (debug build shown):</p>\n\n<pre><code>\"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\bin\\amd64\\vcvars64.bat\"\nperl Configure debug-VC-WIN64A --prefix=C:\\Path\\to\\target\\folder\nms\\do_win64a\nnmake -f ms\\ntdll.mak\ncd out32dll.dbg\n..\\ms\\test\ncd ..\nnmake -f ms\\ntdll.mak install\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 214, "user_id": 5093432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161bdc83d66bee0c86a62b1003583a33?s=128&d=identicon&r=PG&f=1", "display_name": "HostageBrain", "link": "https://stackoverflow.com/users/5093432/hostagebrain"}, "is_accepted": false, "score": 4, "last_activity_date": 1485788293, "creation_date": 1485788293, "answer_id": 41938970, "question_id": 40007633, "link": "https://stackoverflow.com/questions/40007633/how-to-compile-openssl-on-windows/41938970#41938970", "title": "How to compile OpenSSL on Windows?", "body": "<p>On the same my blog page which you refer I also describe 'no-asm' case - this case is simpler for compiling (it won't require nasm at all), but drawback is - some algorithms performance will be 2x-4x slower than assembler versions.\nIf your case can accept this performance - try to compile 'no-asm' case.</p>\n\n<pre><code>perl Configure VC-WIN32 no-asm --prefix=C:\\Build-OpenSSL-VC-32\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8346816, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/13ca38db38f3a87350429ec6c2567d8b?s=128&d=identicon&r=PG", "display_name": "JoeB", "link": "https://stackoverflow.com/users/8346816/joeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1500673967, "creation_date": 1500673967, "answer_id": 45247211, "question_id": 40007633, "link": "https://stackoverflow.com/questions/40007633/how-to-compile-openssl-on-windows/45247211#45247211", "title": "How to compile OpenSSL on Windows?", "body": "<p>I know this is an old post, but for others having the problem with NASM parsing errors, here's the solution:</p>\n\n<p>Once you run either ms\\do_ms.bat (to use masm) or ms\\do_nasm.bat (to use nasm), you can't just switch to the other one without first clearing out the tmp32 directory, otherwise perl will never regenerate the .asm files correctly. The parser errors you're getting are from nasm trying to assemble a masm-formatted file.</p>\n\n<p>The easiest way to clean out tmp32 is to run \"nmake -f ms\\nt.mak clean\".</p>\n"}, {"comments": [{"owner": {"reputation": 387, "user_id": 5004766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CEjn4.jpg?s=128&g=1", "display_name": "guitarpicva", "link": "https://stackoverflow.com/users/5004766/guitarpicva"}, "edited": false, "score": 0, "creation_date": 1591878852, "post_id": 50486211, "comment_id": 110226629, "body": "Thank you for the tip.  Can you offer suggestions other than base-devel for pacman packages to install to get this working?  I am looking at compiling openssl&#39;s fips-2.0.14.  I have added libcrypt-devel, but still fails on :  make[1]: gcc: No such file or directory     make[1]: *** [&lt;builtin&gt;: cryptlib.o] Error 127     make[1]: Leaving directory &#39;/c/users/mitch/openssl-OpenSSL-fips-2_0_14/crypto&#39;     make: *** [Makefile:367: build_crypto] Error 1"}, {"owner": {"reputation": 387, "user_id": 5004766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CEjn4.jpg?s=128&g=1", "display_name": "guitarpicva", "link": "https://stackoverflow.com/users/5004766/guitarpicva"}, "edited": false, "score": 0, "creation_date": 1591888168, "post_id": 50486211, "comment_id": 110232082, "body": "perhaps my MYSY2 environment is just not complete. ;)"}], "tags": [], "owner": {"reputation": 11, "user_id": 2421127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca248ecd6e5f7131cd46bcc63aace121?s=128&d=identicon&r=PG", "display_name": "Sreejith. D. Menon", "link": "https://stackoverflow.com/users/2421127/sreejith-d-menon"}, "is_accepted": false, "score": 1, "last_activity_date": 1527767714, "last_edit_date": 1527767714, "creation_date": 1527071855, "answer_id": 50486211, "question_id": 40007633, "link": "https://stackoverflow.com/questions/40007633/how-to-compile-openssl-on-windows/50486211#50486211", "title": "How to compile OpenSSL on Windows?", "body": "<p>Answering to this very old question. There are a couple of problems associated with building it under x64 that way including hitting \"assemblers not found\", downloading NASM and adding to path etc. There is a very good and simple solution using MSYS2.</p>\n\n<p>Install MSYS2. Ensure you get the toolchain needed (see the guide for pacman). Then follow below steps\n$Launch msys2_shell.cmd -mingw64</p>\n\n<p>$wget -c <a href=\"ftp://ftp.pca.dfn.de/pub/tools/net/openssl/source/openssl-1.0.2o.tar.gz\" rel=\"nofollow noreferrer\">ftp://ftp.pca.dfn.de/pub/tools/net/openssl/source/openssl-1.0.2o.tar.gz</a></p>\n\n<p>$tar -xzvf openssl-1.0.2o.tar.gz openssl-1.0.2o/</p>\n\n<p>$cd openssl-1.0.2o/</p>\n\n<p>$./configure shared mingw64</p>\n\n<p>$make</p>\n\n<p>That's it. In apps directory you will get openssl executable along with the libraries.</p>\n\n<p>-Sreejith. D. Menon</p>\n"}], "owner": {"reputation": 557, "user_id": 456906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/833d4d6084f2823cf6f3c0a4642600d5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/456906/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8198, "favorite_count": 2, "answer_count": 4, "score": 6, "last_activity_date": 1527767714, "creation_date": 1476303556, "last_edit_date": 1476396443, "question_id": 40007633, "link": "https://stackoverflow.com/questions/40007633/how-to-compile-openssl-on-windows", "title": "How to compile OpenSSL on Windows?", "body": "<p>I have been following the instructions in the <a href=\"https://wiki.openssl.org/index.php/Compilation_and_Installation#Windows\" rel=\"noreferrer\">OpenSSL User Guide</a>, which links to <a href=\"http://developer.covenanteyes.com/building-openssl-for-visual-studio/\" rel=\"noreferrer\">a guide by 3noch</a> for compiling OpenSSL. Here are the tools/versions I am using:</p>\n\n<ul>\n<li>ActiveState Perl v5.20.2</li>\n<li>Microsoft Visual Studio 2012</li>\n<li>Netwide Assembler (NASM) v2.12.02</li>\n<li>OpenSSL 1.0.2j (source tarball)</li>\n</ul>\n\n<p>Following the instructions, I am able to execute the following commands without issue:</p>\n\n<pre><code>perl Configure VC-WIN32 --prefix=C:\\Build-OpenSSL-VC-32\nms\\do_ms\n</code></pre>\n\n<p>Then, when I go on to execute</p>\n\n<pre><code>nmake -f ms\\nt.mak\n</code></pre>\n\n<p>I receive the following</p>\n\n<pre><code> Assembling: tmp32\\sha1-586.asm\ntmp32\\sha1-586.asm(1432) : error A2070:invalid instruction operands\ntmp32\\sha1-586.asm(1576) : error A2070:invalid instruction operands\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 11.0\n\\VC\\BIN\\ml.EXE\"' : return code '0x1'\nStop.\n</code></pre>\n\n<p>After looking into that issue, I found a <a href=\"https://hostagebrain.blogspot.com/2015/04/build-openssl-on-windows.html\" rel=\"noreferrer\">blog post by HostageBrain</a> that mentions that exact error, stating to use nasm to perform the compiling. So, I switched to this command sequence:</p>\n\n<pre><code>perl Configure VC-WIN32 --prefix=C:\\Build-OpenSSL-VC-32\nms\\do_nasm\nnmake -f ms\\nt.mak\n</code></pre>\n\n<p>However, once switching to the NASM variation, I receive the following errors:</p>\n\n<pre><code>tmp32\\sha1-586.asm:1: error: parser: instruction expected\ntmp32\\sha1-586.asm:2: error: parser: instruction expected\ntmp32\\sha1-586.asm:3: error: parser: instruction expected\ntmp32\\sha1-586.asm:4: warning: label alone on a line without a colon might be in error\ntmp32\\sha1-586.asm:5: warning: label alone on a line without a colon might be in error\ntmp32\\sha1-586.asm:6: warning: label alone on a line without a colon might be in error\ntmp32\\sha1-586.asm:7: error: symbol `IF' redefined\ntmp32\\sha1-586.asm:7: error: parser: instruction expected\ntmp32\\sha1-586.asm:8: error: parser: instruction expected\ntmp32\\sha1-586.asm:9: error: comma expected after operand 1\n</code></pre>\n\n<p>What I am looking for is to be able to compile OpenSSL into .lib files that I can then link to from other C++ projects, such as when compiling FreeTDS.</p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1476303551, "post_id": 40007603, "comment_id": 67293231, "body": "Please post your code as text; screenshots are not particularly useful."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476303586, "post_id": 40007603, "comment_id": 67293251, "body": "first, post as text, then a screenshot <i>without</i> the file extensions is misleading."}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "is_accepted": true, "score": 2, "last_activity_date": 1476303585, "creation_date": 1476303585, "answer_id": 40007637, "question_id": 40007603, "link": "https://stackoverflow.com/questions/40007603/why-does-include-with-brackets-not-find-the-header-file/40007637#40007637", "title": "Why does include with brackets not find the header file?", "body": "<p>Angle brackets are used to indicate the inclusion of system headers. Use quotation marks to include a non-system header.</p>\n\n<p><code>#include &lt;system_header.h&gt;</code></p>\n\n<p><code>#include \"personal_header.h\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7003587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2679841c1762344fee2ddc0467515f90?s=128&d=identicon&r=PG&f=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/7003587/aks"}, "is_accepted": false, "score": 1, "last_activity_date": 1476303678, "creation_date": 1476303678, "answer_id": 40007653, "question_id": 40007603, "link": "https://stackoverflow.com/questions/40007603/why-does-include-with-brackets-not-find-the-header-file/40007653#40007653", "title": "Why does include with brackets not find the header file?", "body": "<p>Try #include \"DCM_Types.hh\"\n&lt;> if for system headers\n\"\" is your headers in your program/searches in the current directory </p>\n"}], "owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "closed_date": 1476304184, "accepted_answer_id": 40007637, "answer_count": 2, "score": 0, "last_activity_date": 1476303678, "creation_date": 1476303444, "question_id": 40007603, "link": "https://stackoverflow.com/questions/40007603/why-does-include-with-brackets-not-find-the-header-file", "closed_reason": "Duplicate", "title": "Why does include with brackets not find the header file?", "body": "<p>I have a header file <code>DCM_Types.hh</code> which is in fact located in the project directory. Why cannot find the source file?</p>\n\n<p><a href=\"https://i.stack.imgur.com/mI7kF.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/mI7kF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "header", "click", "mouse"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6820571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1ccdbfbc5aa306f1a13617372ab44274?s=128&d=identicon&r=PG&f=1", "display_name": "vulcanicrook", "link": "https://stackoverflow.com/users/6820571/vulcanicrook"}, "edited": false, "score": 0, "creation_date": 1476309427, "post_id": 40007821, "comment_id": 67296210, "body": "Unhandled exception thrown: read access violation.  pThread was nullptr. is the new error i get in vc++"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1485959307, "post_id": 40007821, "comment_id": 71142107, "body": "That&#39;s an MFC header file. MFC ships with Visual Studio. It&#39;s not part of  Dev-C++. Developing MFC code with Dev-C++ is not a supported scenario."}], "tags": [], "owner": {"reputation": 46, "user_id": 6141737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jHFlh.jpg?s=128&g=1", "display_name": "Frank Landgraf", "link": "https://stackoverflow.com/users/6141737/frank-landgraf"}, "is_accepted": false, "score": -1, "last_activity_date": 1476304279, "creation_date": 1476304279, "answer_id": 40007821, "question_id": 40007533, "link": "https://stackoverflow.com/questions/40007533/how-to-get-header-files-in-c/40007821#40007821", "title": "How to get header files in c++", "body": "<p>You should do:</p>\n\n<pre><code>#include &lt;afxwin.h&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "is_accepted": true, "score": 0, "last_activity_date": 1485968033, "creation_date": 1485968033, "answer_id": 41985297, "question_id": 40007533, "link": "https://stackoverflow.com/questions/40007533/how-to-get-header-files-in-c/41985297#41985297", "title": "How to get header files in c++", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/as6se7cb.aspx\" rel=\"nofollow noreferrer\">AfxMessageBox</a> is part of MFC that ships with Visual Studio. You cannot use MFC with Dev-C++. You can use the Windows API call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms645505.aspx\" rel=\"nofollow noreferrer\">MessageBox</a> instead.</p>\n"}], "owner": {"reputation": 53, "user_id": 6820571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1ccdbfbc5aa306f1a13617372ab44274?s=128&d=identicon&r=PG&f=1", "display_name": "vulcanicrook", "link": "https://stackoverflow.com/users/6820571/vulcanicrook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 41985297, "answer_count": 2, "score": -2, "last_activity_date": 1485968033, "creation_date": 1476303221, "last_edit_date": 1592644375, "question_id": 40007533, "link": "https://stackoverflow.com/questions/40007533/how-to-get-header-files-in-c", "title": "How to get header files in c++", "body": "<p>I am trying to run this piece of code in dev c++</p>\n<pre><code>void CheckMouseButtonStatus()\n {\n   //Check the mouse left button is pressed or not\n   if ((GetKeyState(VK_LBUTTON) &amp; 0x80) != 0)\n   {\n        AfxMessageBox(_T(&quot;LButton pressed&quot;));\n   }\n      //Check the mouse right button is pressed or not\n   if ((GetKeyState(VK_RBUTTON) &amp; 0x80) != 0)\n  {\n       AfxMessageBox(_T(&quot;RButton pressed&quot;));\n  }\n\n  }\n</code></pre>\n<p>But when I compile I get this error</p>\n<blockquote>\n<p>[Error] '_T' was not declared in this scope</p>\n<p>[Error] 'AfxMessageBox' was not declared in this scope</p>\n</blockquote>\n<p>I am using <code>#include &lt;windows.h&gt;</code> as header.</p>\n<p>I got the code from <a href=\"https://vcpptips.wordpress.com/tag/check-if-mouse-is-pressed/\" rel=\"nofollow noreferrer\">https://vcpptips.wordpress.com/tag/check-if-mouse-is-pressed/</a></p>\n"}, {"tags": ["c++", "arrays", "count", "multiplication", "zero"], "comments": [{"owner": {"reputation": 704, "user_id": 2012895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc39548d59c8c0ca58108ac8f3b143ce?s=128&d=identicon&r=PG", "display_name": "allen1", "link": "https://stackoverflow.com/users/2012895/allen1"}, "edited": false, "score": 0, "creation_date": 1476303095, "post_id": 40007445, "comment_id": 67293008, "body": "This looks like the most efficient possible way to me. Shifts are faster than divides, but I don&#39;t see way to exploit that here. I think you nailed it, personally, and I look forward to seeing what other people say. Nice question!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user719662"}, "edited": false, "score": 1, "creation_date": 1476303724, "post_id": 40007445, "comment_id": 67293334, "body": "FWIW, if you&#39;re <i>really</i> concerned with efficiency, <a href=\"http://stackoverflow.com/questions/12356442/binary-divisibility-by-10\" title=\"binary divisibility by 10\">stackoverflow.com/questions/12356442/binary-divisibility-by-&zwnj;&#8203;10</a> ; also see here: <a href=\"http://stackoverflow.com/questions/7070346/c-best-way-to-get-integer-division-and-remainder\" title=\"c best way to get integer division and remainder\">stackoverflow.com/questions/7070346/&hellip;</a> BTW, is that indentation the same you use in your actual code?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476303901, "post_id": 40007445, "comment_id": 67293431, "body": "@vaxquis Won&#39;t this method be long? Converting a long long to binary and then those bit manipulations and then  calculating no of zeroes. ? I&#39;m no good but it seems a lengthy way."}, {"owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "edited": false, "score": 2, "creation_date": 1476303932, "post_id": 40007445, "comment_id": 67293454, "body": "The code has serious problems. First of all, if any of your a[i] is 0, your code will enter an infinite loop. Secondly, multiplying so many integers guarantees to overflow. I&#39;d say before seeking advice, you should make an effort to improve the qualify of the question."}, {"owner": {"reputation": 1716, "user_id": 190164, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ec8f4af4362c75937ca248f5a74e67c0?s=128&d=identicon&r=PG", "display_name": "zacaj", "link": "https://stackoverflow.com/users/190164/zacaj"}, "edited": false, "score": 1, "creation_date": 1476303942, "post_id": 40007445, "comment_id": 67293459, "body": "std::div will do the modulo and the division at once"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "edited": false, "score": 0, "creation_date": 1476304057, "post_id": 40007445, "comment_id": 67293515, "body": "@DonghuiZhang  0 &lt;A[i] &lt; 10^9"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 1716, "user_id": 190164, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/ec8f4af4362c75937ca248f5a74e67c0?s=128&d=identicon&r=PG", "display_name": "zacaj", "link": "https://stackoverflow.com/users/190164/zacaj"}, "edited": false, "score": 0, "creation_date": 1476304308, "post_id": 40007445, "comment_id": 67293633, "body": "@zacaj I looked up the div function just now but I don&#39;t think it&#39;s faster or if it is then please correct me. I don&#39;t mean any offense."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476304534, "post_id": 40007445, "comment_id": 67293747, "body": "Sam, result will still overflow, unless you have a lot of values in array that are equal to one, since n can be enormous. Consider if every value is 2, and n=10^5. Result would be 2^(10^5), which is 10^5 bit number, will definitely blow away a long long int."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476305286, "post_id": 40007445, "comment_id": 67294147, "body": "@Joellee I know and that&#39;s why I am checking every time for 10&#39;s and removing them. I don&#39;t know how to do it otherwise."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476305577, "post_id": 40007445, "comment_id": 67294319, "body": "Problem is, there may be no trailing zeros in the result, and you won&#39;t remove anything.  See my answer if all you want is the number of trailing zeros. If you also want the actual result, you will have to take a completely different approach to representing it. But I don&#39;t think that is what you are after."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476309892, "post_id": 40007445, "comment_id": 67296384, "body": "What are L &amp; R?  Also, why <code>ans +=...</code>?  What are you adding to here? This should be <code>ans =...</code>."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476310460, "post_id": 40007445, "comment_id": 67296605, "body": "L is lower bound of array for eg 0 and R is upper bound for the array . I am given some range to do this multiplication. And <code>ans +=</code> because I want to add number of zeroes whenever i multiply the elements of array. I may multiply my array multiple times and I need to keep on adding the nunber of trailing zeroes."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476312179, "post_id": 40007445, "comment_id": 67297187, "body": "I feel like something is missing from your problem statement.  Your original problem: calculate the number of trailing zeros in the product of all elements in an array.   If you need to do this multiple times, put it in a function and call it whenever you need to get the product. of elements in an array."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476364210, "post_id": 40007445, "comment_id": 67320758, "body": "Yeah, I have did like that exceot that instead of function it&#39;s choice based. Whenever I have to run this query it switches to this case and performs the action."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476383366, "post_id": 40007445, "comment_id": 67333930, "body": "Can you give an example where my answer (essentially what you have shown in last part of your question) gives wrong result? The number theory is solid."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476513049, "post_id": 40007445, "comment_id": 67386782, "body": "@JoelLee I don&#39;t know exactly the case where it goes wrong. I had done exactly the way you are proposing now . But I think it goes wrong somewhere between when I replace the array elements by <code>(i+1)*N where N can be as large as 10^9 and I is the index of element</code>. This is a different query to be run on the array multiple times. Even though I update the nunber of 2&#39;s and 5&#39;s after updating each element. I am getting a wrong answer."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476901465, "post_id": 40007445, "comment_id": 67547503, "body": "Are you still working on this? I haven&#39;t been on StackOverflow for a while."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477068264, "post_id": 40007445, "comment_id": 67630686, "body": "@JoelLee yeah I was. But had to stop since I hit a dead end. Plus due to my exams I didn&#39;t get much time to fiddle with it."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477075834, "post_id": 40007445, "comment_id": 67634572, "body": "So are you still interested in solving?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477236270, "post_id": 40007445, "comment_id": 67673616, "body": "@JoelLee yeah, of course I am. I was thinking of applying segment tree but I don&#39;t know if it will solve the problem."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477272194, "post_id": 40007445, "comment_id": 67683359, "body": "Sam, I&#39;m looking at your comment:  &quot;But I think it goes wrong somewhere between when I replace the array elements by (i+1)*N where N can be as large as 10^9 and I is the index of element.&quot;  Does this mean you are using as test data an array where <code>A[i] = (i+1)*N</code>.   If so, are you getting incorrect result, and how do you know it is incorrect?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477381923, "post_id": 40007445, "comment_id": 67730918, "body": "@JoelLee yeah but this is a query which can be performed very large times and I think this is the problem. Suppose I want to replace all elements (10^5) and suppose I&#39;m doing this query (10^9) times. It will be very time consuming. So I have to reduce time on this query."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477513350, "post_id": 40007445, "comment_id": 67802893, "body": "Is the goal here to (a) compute a huge product efficiently (PROD( a[i], i=1..N), or (b) to figure out the number of trailing zeros? Or both? It isn&#39;t clear from your problem statement. It sounds like maybe what you are really trying to do is (a), but you are using (b) to help you do that faster. If you are really trying to solve (a), I would use a completely different approach."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1477591737, "post_id": 40007445, "comment_id": 67841200, "body": "@JoelLee I have to do both of them many times. So that&#39;s why it takes so much time."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476305525, "post_id": 40008067, "comment_id": 67294296, "body": "I exactly did this in the beginning. But for long numbers the answer came wrong. Though some elements are updated in array before this final multiplication but I did update number of 2&#39;s and 5&#39;s every time a update was made in the array. That&#39;s why I had to do division but with this I get time limit exceeded."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "reply_to_user": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476306033, "post_id": 40008067, "comment_id": 67294560, "body": "Can you give me an example where my algorithm gives incorrect result. I&#39;m confident it is correct. Not meaning to be arrogant, but each trailing zero has to be due to a factor of 10 = 2*5, so number of trailing zeros is equal to the number of 2 factors that &quot;match&quot; a 5 factor."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "reply_to_user": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476306229, "post_id": 40008067, "comment_id": 67294666, "body": "Can you post your algorithm that counts factors of 2&#39;s and 5&#39;s?, so I can see what you were doing?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476307121, "post_id": 40008067, "comment_id": 67295195, "body": "I have included it in the original post. Please rectify if there are mistakes or if it could be made efficiently."}, {"owner": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "reply_to_user": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 2, "creation_date": 1476307287, "post_id": 40008067, "comment_id": 67295273, "body": "@samthornton You are counting twos correctly. The question is how do you <i>use the result</i>. Please show the complete code."}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "reply_to_user": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "edited": false, "score": 1, "creation_date": 1476307378, "post_id": 40008067, "comment_id": 67295325, "body": "@user58697 is correct about counting factors of 2 (or 5).  Must be some other issue."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 6882, "user_id": 3403834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpA5S.jpg?s=128&g=1", "display_name": "user58697", "link": "https://stackoverflow.com/users/3403834/user58697"}, "edited": false, "score": 0, "creation_date": 1476308978, "post_id": 40008067, "comment_id": 67296013, "body": "@user58697 I first calculate the number of 2 and nunber of 5 and then take the min of them and add it to ans"}, {"owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "edited": false, "score": 0, "creation_date": 1476309317, "post_id": 40008067, "comment_id": 67296156, "body": "Wait, you are taking the min of the two&#39;s and five&#39;s counts INSIDE your loop? If that is what you are doing, it is incorrect. Consider the sequence: <code>3, 2, 5</code>.  Product is 30, so one trailing zero. If you are doing min inside the loop, you will get none."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476310342, "post_id": 40008067, "comment_id": 67296560, "body": "@JoelLee no I&#39;m not taking min inside loop. I&#39;m just adding the number of 2&#39;s and 5&#39;s using the loop and then min of them. And L and R are just the bounds on that loop for eg L=0 and R=size of array -1"}], "tags": [], "owner": {"reputation": 3478, "user_id": 651744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/20e9812e96dfbdf60f71f1576cdb01a2?s=128&d=identicon&r=PG", "display_name": "Joel Lee", "link": "https://stackoverflow.com/users/651744/joel-lee"}, "is_accepted": false, "score": 2, "last_activity_date": 1476305927, "last_edit_date": 1476305927, "creation_date": 1476305237, "answer_id": 40008067, "question_id": 40007445, "link": "https://stackoverflow.com/questions/40007445/c-trailing-zeroes-in-array-multiplication/40008067#40008067", "title": "C++ : Trailing zeroes in array multiplication", "body": "<p>This is more about number theory than it is about details of division. Here's what I would do</p>\n\n<pre><code>int fives = 0;\nint twos = 0;\n\nfor (int i=0; i&lt;n; i++) {\n    fives += countFives(a[i]);\n    twos += countTwos(a[i]);\n}\n\nint trailingZeros = fives &gt; twos ?  twos : fives; \n</code></pre>\n\n<p>The two functions <code>countTwos</code> and <code>countFives</code> are pretty straightforward, and would count the number of factors of 2 and 5, respectively, of a given input value. </p>\n\n<p>The line that calculates the number of trailing zeros is based on that fact that each trailing zero must be due to exactly one factor of 2 and one factor of 5. If you have more 2's than 5's they will not contribute any additional zeros, and vice versa. So the number of trailing zeros is equal to the smaller of the two counts. </p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476364037, "post_id": 40009572, "comment_id": 67320623, "body": "No , I just need the nunber of trailing zeroes."}, {"owner": {"reputation": 1, "user_id": 6590212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4156739f49411c90f4515d07a06092?s=128&d=identicon&r=PG&f=1", "display_name": "user6590212", "link": "https://stackoverflow.com/users/6590212/user6590212"}, "reply_to_user": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476393720, "post_id": 40009572, "comment_id": 67339646, "body": "Convert the number into a string and count starting from the end of it. or print the result into a file. and then count them when you have it stored in a file."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476602573, "post_id": 40009572, "comment_id": 67409308, "body": "the answer will have more than 18 number of digits so storing this big answer each time and doing this multiple times will be very hectic and slow. So that&#39;s why I am trying to use number of 2&#39;s and 5&#39;s."}], "tags": [], "owner": {"reputation": 1, "user_id": 6590212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4156739f49411c90f4515d07a06092?s=128&d=identicon&r=PG&f=1", "display_name": "user6590212", "link": "https://stackoverflow.com/users/6590212/user6590212"}, "is_accepted": false, "score": 0, "last_activity_date": 1476312394, "creation_date": 1476312394, "answer_id": 40009572, "question_id": 40007445, "link": "https://stackoverflow.com/questions/40007445/c-trailing-zeroes-in-array-multiplication/40009572#40009572", "title": "C++ : Trailing zeroes in array multiplication", "body": "<p>isn't it what scientific notation is for when you deal with really large number?</p>\n\n<p>No idea why you need trailing zeros, but std::scientific might help you with expression of really large numbers.</p>\n"}], "owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476312394, "creation_date": 1476302885, "last_edit_date": 1476308857, "question_id": 40007445, "link": "https://stackoverflow.com/questions/40007445/c-trailing-zeroes-in-array-multiplication", "title": "C++ : Trailing zeroes in array multiplication", "body": "<p>Given an array A, I have to multiply all the elements of array. Since the numbers can go upto 10^9 , I have to find the trailing zeroes of the product. I did the following : </p>\n\n<pre><code>int ans= 0; // to count no of trailing zeroes \n for(long int i =0; i&lt;n ; i++) // n can be very large(upto 10^5)\n { \n    long long int p=1;\n   p=p*a[i];\n  while (p2\u210510 ==0)\n   { ans++;\n     p=p/10;\n    }\n }\n</code></pre>\n\n<p>Function to calculate number of 2's is as follows. I replaced 2 with 5 to calculate nunber of 5's. </p>\n\n<pre><code>Int nm2(long long a)\n{\n  Int b=0;\n  while(a\u21052==0){\n    a=a/2;\n     b++;\n    }\n  return b;\n  }\n\nInt p2=0,p5=0;\nFor(long long i=L;i&lt;R;i++)\n { \n   p2 += nm2(a[i]);\n   p5 += nm5 (a[i]);\n  }\n Int ans += min(p2,p5); // storing no of zeroes every time I multiply elements of array from Index L to Index R of array a[].\n</code></pre>\n\n<p>How can I improve it ? Or is there any other different way to calculate it with faster efficiency. Please help me out.</p>\n"}, {"tags": ["c++", "boolean-logic"], "comments": [{"owner": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "edited": false, "score": 0, "creation_date": 1476303148, "post_id": 40007435, "comment_id": 67293027, "body": "BTW, why are you putting <code>;</code> after each function definition? I guess your compiler also gives warning like a <code>warning: extra &#39;;&#39;</code>"}, {"owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "reply_to_user": {"reputation": 1459, "user_id": 3552478, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8qyHC.png?s=128&g=1", "display_name": "Narek Atayan", "link": "https://stackoverflow.com/users/3552478/narek-atayan"}, "edited": false, "score": 0, "creation_date": 1476303462, "post_id": 40007435, "comment_id": 67293189, "body": "No message like your. Are you talking about the line <code>return (!(iA&amp;&amp;iB));</code> ?"}, {"owner": {"reputation": 1383, "user_id": 1658810, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DlcF2.png?s=128&g=1", "display_name": "Chris Britt", "link": "https://stackoverflow.com/users/1658810/chris-britt"}, "edited": false, "score": 0, "creation_date": 1476303489, "post_id": 40007435, "comment_id": 67293207, "body": "What issues are you having and what specifically are you trying to ask?"}, {"owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "edited": false, "score": 0, "creation_date": 1476303701, "post_id": 40007435, "comment_id": 67293322, "body": "The issue I have is the first way is not easy to use if I want to template Nand class. Because I have no parameter for s(). I ask how to use the second way, with the abality to read the value the parameters s has. In the second way, input parameters will be output parameters of instance n-1. I&#39;m not clear in English, I apologize a lot.  Say, I need to uncomment the two first std::cout with the abilty to ask parameters of s(). Say, iA, iB."}, {"owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "edited": false, "score": 0, "creation_date": 1502871207, "post_id": 40007435, "comment_id": 78379122, "body": "Moved to C without OOP since a while. Each NAND function call subfunction to export what I need. Closed unanswered."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "edited": false, "score": 0, "creation_date": 1502871146, "post_id": 45219882, "comment_id": 78374615, "body": "Thank you Jordan. I clearly need OOP. Because I really do not need the result to be good. The Nand operator, once schematized correctly with a rapid calculus has to show when it is called, by which mother functions etc ... I&#39;m not trying to create a function, I need to monitor a non-classic way how functions are interconnected."}, {"owner": {"reputation": 111, "user_id": 1226929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6aa6fde084c4c4637799ccfbb46b20c?s=128&d=identicon&r=PG", "display_name": "Jordan Jelinek", "link": "https://stackoverflow.com/users/1226929/jordan-jelinek"}, "reply_to_user": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "edited": false, "score": 0, "creation_date": 1504502081, "post_id": 45219882, "comment_id": 79021051, "body": "I&#39;m glad to help despite the ludicrous downvote from someone."}, {"owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "edited": false, "score": 0, "creation_date": 1545638127, "post_id": 45219882, "comment_id": 94665435, "body": "Program done and working. Once defined, I implemented the next() -pythonnic equivalent in C. Now, able to &quot;clock&quot; the function, hence, detect and show where and when it&#39;s activated. Ideas taken form HDL synths."}], "tags": [], "owner": {"reputation": 111, "user_id": 1226929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6aa6fde084c4c4637799ccfbb46b20c?s=128&d=identicon&r=PG", "display_name": "Jordan Jelinek", "link": "https://stackoverflow.com/users/1226929/jordan-jelinek"}, "is_accepted": false, "score": 0, "last_activity_date": 1500566566, "creation_date": 1500566566, "answer_id": 45219882, "question_id": 40007435, "link": "https://stackoverflow.com/questions/40007435/how-to-write-correct-a-2-input-oopd-nand-object-in-c/45219882#45219882", "title": "How to write correct a 2-input OOP&#39;d NAND object in C++?", "body": "<p>OOP is entirely unnecessary for this task. You can use <strong>bitwise operators</strong>, which already do what you are asking to do. And, to store complicated bits you can use hexidecimals with integer types.</p>\n\n<pre><code>unsigned short int a = 0xa; // 00001010b\nunsigned short int b = 0xd; // 00001101b\n// unsigned short int c,d,e,...\n\nstd::cout &lt;&lt; std::hex &lt;&lt; (a &amp; b) &lt;&lt; std::endl; // AND\nstd::cout &lt;&lt; std::hex &lt;&lt; (a | b) &lt;&lt; std::endl; // OR\nstd::cout &lt;&lt; std::hex &lt;&lt; (a ^ b) &lt;&lt; std::endl; // XOR\n\nstd::cout &lt;&lt; std::hex &lt;&lt; (~a) &lt;&lt; std::endl; // NOT\nstd::cout &lt;&lt; std::hex &lt;&lt; (~b) &lt;&lt; std::endl; // NOT\nstd::cout &lt;&lt; std::hex &lt;&lt; ~(a &amp; b) &lt;&lt; std::endl; // XAND\n\n//std::cout &lt;&lt; std::hex &lt;&lt; ~(c &amp; d &amp; e/* &amp; ..*/) &lt;&lt; std::endl; // complicated XAND\n</code></pre>\n\n<p>You can use as many variables in the gate as you want, because the compiler returns it as an expression to be evaluated in the next expression. For details on what these operators do, and expressions look at the man pages for your specific compiler.</p>\n\n<p>If you need more bits, look into how to implement 64-bits on your system (if possible), because systems are not any higher than 64-bit. You can use arrays if you require more.</p>\n\n<pre><code>unsigned long long int x[2] = {0xffff,0xffff}; // this assignment depends on your compiler\n\n#include &lt;stdint.h&gt;\n\nint64_t x[2] = {0xffff,0xffff}; // guaranteed 64-bit as of C99\n</code></pre>\n\n<p><a href=\"https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.pdf\" rel=\"nofollow noreferrer\">GNU C Compiler Specifications</a></p>\n"}], "owner": {"reputation": 117, "user_id": 1469161, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d66db6c8a6444c056f8243a1016ec4fc?s=128&d=identicon&r=PG", "display_name": "mat.viguier", "link": "https://stackoverflow.com/users/1469161/mat-viguier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502871207, "creation_date": 1476302853, "last_edit_date": 1476303847, "question_id": 40007435, "link": "https://stackoverflow.com/questions/40007435/how-to-write-correct-a-2-input-oopd-nand-object-in-c", "title": "How to write correct a 2-input OOP&#39;d NAND object in C++?", "body": "<p>Say the following stuff pass</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass Nand{\n  public :\n  bool A;\n  bool B;\n  bool s() const;\n};\n\nbool Nand::s() const {\n  return (!(A&amp;&amp;B));\n};\n\nint main()\n{\n  std::cout &lt;&lt; std::boolalpha;\n\n  Nand Nand_1;\n  Nand_1.A = true;\n  Nand_1.B=false;\n  bool Y = Nand_1.s();\n\n  std::cout &lt;&lt; \"Input A of Nand_1 is equivalent to  : \" &lt;&lt; Nand_1.A &lt;&lt; std::endl;\n  std::cout &lt;&lt; \"Input B of Nand_1 is equivalent to  : \" &lt;&lt; Nand_1.B &lt;&lt; std::endl;\n  std::cout &lt;&lt; \"Output Y of Nand_1 is equivalent to  : \" &lt;&lt; Y &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>and this one too</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass Nand{\n  public :\n  bool s(bool iA, bool iB) const;\n};\n\nbool Nand::s(bool iA, bool iB) const {\n  return (!(iA&amp;&amp;iB));\n};\n\nint main()\n{\n  std::cout &lt;&lt; std::boolalpha;\n\n  Nand Nand_1;\n  bool Y = Nand_1.s(true, false);\n\n  //std::cout &lt;&lt; \"Input A of Nand_1 is equivalent to  : \" &lt;&lt; Nand_1.A &lt;&lt; std::endl;\n  //std::cout &lt;&lt; \"Input B of Nand_1 is equivalent to  : \" &lt;&lt; Nand_1.B &lt;&lt; std::endl;\n  std::cout &lt;&lt; \"Output Y of Nand_1 is equivalent to  : \" &lt;&lt; Y &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>Sboxes are made by simple 2-input Nand connected together.\nI want to template the <em>Nand</em> class in order to generate complex Sboxes.\nIn fact the () function is showed with two inputs in this snippet.\nI manage arrays input of at least 128 bits.</p>\n\n<p>Fisrt stuff is not well written.\nThe second one permits linking in between, but doesn't permirt to show inputs of s !</p>\n\n<p>How can I read s parameters in the second stuff ?\nI can with the first snipppet, but I think it is not well written (in order to template later).</p>\n\n<p>That rocks me :(</p>\n"}, {"tags": ["c++", "qt", "shadow", "qpainter"], "answers": [{"tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": false, "score": 1, "last_activity_date": 1476358691, "creation_date": 1476358691, "answer_id": 40019919, "question_id": 40007228, "link": "https://stackoverflow.com/questions/40007228/drawing-text-with-shadow-on-pixmap-with-qpainter/40019919#40019919", "title": "Drawing text with shadow on pixmap with QPainter", "body": "<p>I don't think it is directly possible to \"draw text with shadow\", it is only possible to apply a shadow to something already drawn that would take in an element and use say its alpha channel to calculate the shadow.</p>\n\n<p>You should use composition, either of the final products or during drawing. It should work if you use it on a text element. The other option would be to draw your text in black, apply Gaussian blur and then again draw the text on top of it with the desired offset.</p>\n"}, {"tags": [], "owner": {"reputation": 503, "user_id": 2327027, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ULQSV.png?s=128&g=1", "display_name": "&#201;mile Perron", "link": "https://stackoverflow.com/users/2327027/%c3%89mile-perron"}, "is_accepted": false, "score": 1, "last_activity_date": 1476362794, "last_edit_date": 1476362794, "creation_date": 1476361796, "answer_id": 40021028, "question_id": 40007228, "link": "https://stackoverflow.com/questions/40007228/drawing-text-with-shadow-on-pixmap-with-qpainter/40021028#40021028", "title": "Drawing text with shadow on pixmap with QPainter", "body": "<p>Thanks for your answer ddriver, it made me search with some new keywords, which lead me to find a suiting solution for my project.</p>\n\n<p>What I figured out is that you can simply create a QLabel with the text and effects you want (QGraphicsDropShadowEffect, in my case), and render it into a QPixmap using <a href=\"http://doc.qt.io/qt-5/qwidget.html#grab\" rel=\"nofollow\">QWidget::grab()</a>. You can then draw this new pixmap with QPainter as you would any other image, by converting your pixmap to a QImage and using QPainter's drawImage().</p>\n"}], "owner": {"reputation": 503, "user_id": 2327027, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ULQSV.png?s=128&g=1", "display_name": "&#201;mile Perron", "link": "https://stackoverflow.com/users/2327027/%c3%89mile-perron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476362794, "creation_date": 1476302104, "question_id": 40007228, "link": "https://stackoverflow.com/questions/40007228/drawing-text-with-shadow-on-pixmap-with-qpainter", "title": "Drawing text with shadow on pixmap with QPainter", "body": "<p>I am working on a project in C++ with Qt, and I am trying to find a way to apply a text shadow when drawing text on a QPixmap using QPainter. </p>\n\n<p>I understand that <a href=\"https://doc.qt.io/qt-5/qgraphicsdropshadoweffect.html\" rel=\"nofollow\">QGraphicsDropShadowEffect</a> is a thing, and I am using in other parts of my project, but I can't for the life of me find a way to apply a QGraphicsEffect when drawing with QPainter on a pixmap. Drawing the same text multiple times with different offsets and opacities doesn't quite cut it.</p>\n\n<p>Are there any ways to do this? \nIf not, how could I go about making a function that does it, given a QGraphicsEffect to get the radius and color from?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "dithering"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476310924, "post_id": 40009034, "comment_id": 67296773, "body": "My teacher just told us to use a 4 * 4 ordered dither matrix. Also they did not teach us jack about color dithering, instead they showed us that we could dither by 1 or 0 in greyscale images. I&#39;m literally working from nothing so I appreciate your help."}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476312587, "post_id": 40009034, "comment_id": 67297320, "body": "See <a href=\"https://en.wikipedia.org/wiki/Ordered_dithering\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Ordered_dithering</a> for some details of what the method does. There&#39;s a mistake in their psuedocode algorithm though, so don&#39;t use it. You&#39;ll want to make your buf array size 512x512x3 to hold each rgb triplet. Apply your dithering first, and then convert to 3bpp (which you&#39;ll need a palette or color map for). Please post your assignment verbatim so I know exactly what your teacher is asking for."}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476312770, "post_id": 40009034, "comment_id": 67297362, "body": "I&#39;m guessing that what your teacher means by 3bpp is one bit each for red, green, and blue. Otherwise it would suggest a palette with 8 colors. Knowing what he&#39;s asking for will help immensely."}, {"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476312800, "post_id": 40009034, "comment_id": 67297369, "body": "You need to quantize an 24-bit color image into just a 3 bit color image without Look Up Table. Transform a given 24 bit RGB Lena to 3bit per pixel without completely losing intensity (bit depth) of each color. Use 4X4 ordered dither matrix for this. Using an ordered 4x4 dither matrix, transform each 256 intensity of R,G, B of the 512 x 512 Lena color image in lena.data (given in the class webpage) to (16 + 1) differentintensity using 1 bit per channel 1 bit for R 1 bit for G 1 bit for B"}, {"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476312906, "post_id": 40009034, "comment_id": 67297392, "body": "Also that is not my wording thats verbatim my teachers wording"}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 1, "creation_date": 1476313709, "post_id": 40009034, "comment_id": 67297616, "body": "I think I know what he&#39;s asking. There&#39;s a very similar question on SO here : <a href=\"http://stackoverflow.com/questions/36087038/how-to-implement-24bit-to-3bit-ordered-dither-algorithm\" title=\"how to implement 24bit to 3bit ordered dither algorithm\">stackoverflow.com/questions/36087038/&hellip;</a> . To convert 888 RGB to 111 RGB you need to test whether the R, G, or B value is greater than or equal to 128. If so, set a 1 in the corresponding bit. I&#39;m not sure how he wants you to store the corresponding 3 bits though. You should ask your teacher to clarify the assignment for you. He&#39;s left out some crucial details."}, {"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476318559, "post_id": 40009034, "comment_id": 67298852, "body": "So now I&#39;ve used my teachers example code to get each stream, they use a 3 dimensional buffer [512][512][3] and loop through putting each in the r, g, b buffers at once by doing fputc[512][512][0]..... all in the same execution loop. So now I have 3 different arrays 512x512. However when I use the pseudocode on wiki (with my own color comparison function assinging 1 and 0 respectively) and then i write the r 512x512 into file however I literally have the same 512x170 block but now its all black. Im so beyond confused still."}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476319655, "post_id": 40009034, "comment_id": 67299097, "body": "To test what your output looks like, assign 255 or 0 to each RGB component."}, {"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476322423, "post_id": 40009034, "comment_id": 67299710, "body": "The file output is .data aka just raw file data. I open that with gimp"}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476322602, "post_id": 40009034, "comment_id": 67299754, "body": "Yes but gimp is interpreting that as 24bpp RGB data. That&#39;s why you need to know what output file format your teacher wants."}, {"owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476325677, "post_id": 40009034, "comment_id": 67300558, "body": "All we were told was to open our raw post-dithered data file with gimp. Here&#39;s a link to the specific assignment: <a href=\"http://eecs.csuohio.edu/~sschung/CIS465/LabAssignment3CIS465.pdf\" rel=\"nofollow noreferrer\">eecs.csuohio.edu/~sschung/CIS465/LabAssignment3CIS465.pdf</a>"}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476326108, "post_id": 40009034, "comment_id": 67300661, "body": "He hasn&#39;t given you enough information to properly complete the assignment. Right now it entirely depends on what gimp can read for an input data file."}, {"owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "reply_to_user": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "edited": false, "score": 0, "creation_date": 1476326240, "post_id": 40009034, "comment_id": 67300688, "body": "You should email your instructor and ask for clarification on what kind of output file he is expecting."}], "tags": [], "owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "is_accepted": false, "score": 1, "last_activity_date": 1476309373, "creation_date": 1476309373, "answer_id": 40009034, "question_id": 40007137, "link": "https://stackoverflow.com/questions/40007137/ordered-color-dither/40009034#40009034", "title": "Ordered color dither", "body": "<p>Your source image is 24bpp. This is three bytes per pixel. If you're only reading 512 bytes wide and 512 bytes tall, this exactly represents 512x170 (512/3) of your image. You need to read 3 bytes per pixel in the beginning.</p>\n\n<p>Also, you're converting to 32bpp with <code>int newPixel</code>, not 3bpp but storing it in a char, which will overflow (truncate) the value.</p>\n\n<p>Further, why is your dither pattern 4bpp? (2^4 = 16 values).</p>\n\n<p>It seems your teacher didn't explain things well.</p>\n"}], "owner": {"reputation": 141, "user_id": 5870497, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/UVDZd.jpg?s=128&g=1", "display_name": "s.gang", "link": "https://stackoverflow.com/users/5870497/s-gang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476309373, "creation_date": 1476301801, "last_edit_date": 1476303962, "question_id": 40007137, "link": "https://stackoverflow.com/questions/40007137/ordered-color-dither", "title": "Ordered color dither", "body": "<p>I am currently doing a project where I have to reduce a 24bpp picture to a 3bpp image using a 4x4 ordered dither matrix. However, after doing my dithering processing, my image is only showing up about 1/3 of the way. Does anyone know what I'm doing wrong?</p>\n\n<p>Source:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;fstream&gt;\n\n/*24 bit per pixel - 3 bit per pixel dither*/\n/*Use the 4x4 Ordered Dither Matrix:\n\n    [1 9 3 11]\n    [13 5 15 7]\n    [4 12 2 10]\n    [16 8 14 6]\n\n*/\nint checkColor(int a, int b);\n\nunsigned char buf[512][512];\nunsigned char out[512][512];\nfloat ratio = 1.0 / 17;\n\n\nint main(){\n\n    FILE *fp, *output;\n    int i, j, k, l;\n\n    /*dither matrix*/\n    unsigned int dith[4][4] = {{1, 9, 3, 11}, {13, 5, 15, 7}, {4, 12, 2, 10}, {16, 8, 14, 6}};\n\n\n    if((fp = fopen(\"LennaRGB512.data\", \"rb\")) == NULL){\n        printf(\"error opening file\\n\");\n    }\n\n    for (i = 0; i &lt; 512; i++) {\n        for (j = 0; j &lt; 512; j++) {\n            buf[i][j] = fgetc(fp); /*Put data in buffer*/\n        }\n    }\n\n    i = 0;\n    j = 0;\n\n    int x, y;\n    int bd = 64;\n    for (k = 0; k &lt; 512; k++){\n        for (l = 0; l &lt; 512; l++){\n            int oldPixel = buf[k][l];\n            int value = (oldPixel + (ratio * dith[k%4][l%4]));\n\n            int r = ((oldPixel &gt;&gt; 16) &amp; 0xff) + value;\n            int g = ((oldPixel &gt;&gt; 8) &amp; 0xff) + value;\n            int b = (oldPixel &amp; 0xff) + value;\n\n            int newPixel = 0x000000 | checkColor(r, bd) &lt;&lt; 16 | checkColor(g, bd) &lt;&lt; 8 | checkColor(b, bd);\n            out[k][l] = newPixel;\n        }\n    }\n\n\n    output = fopen(\"converted_img.data\", \"wb\");\n\n    for (i = 0; i &lt; 512; i++){\n        for (j = 0; j &lt; 512; j++){\n            fputc(out[i][j], output);\n        }\n    }\n\n    fclose(output);\n    fclose(fp);\n\n    return 0;\n}\n\nint checkColor(int a, int b){\n    return a / b * b;\n}\n</code></pre>\n\n<p>My before image is a 512x512 image, however my output image which is dithered is only a portion of the image (512x170)</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1476301855, "post_id": 40007125, "comment_id": 67292364, "body": "Look up <i>pointers</i> in your course book."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1476301910, "post_id": 40007125, "comment_id": 67292399, "body": "Your&#39;e assigning to a pointer to <code>Node</code>, but the map contains <code>Node</code>s. This is no different from <code>Node a; Node* b = a;</code>."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476301936, "post_id": 40007125, "comment_id": 67292409, "body": "Did you mean <code>u_ptr = &amp;G[3];</code>"}, {"owner": {"reputation": 317, "user_id": 3261485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfcb5a06bd86a3592f38233b30dc744a?s=128&d=identicon&r=PG&f=1", "display_name": "RJTK", "link": "https://stackoverflow.com/users/3261485/rjtk"}, "edited": false, "score": 0, "creation_date": 1476302613, "post_id": 40007125, "comment_id": 67292762, "body": "I have been reading &quot;reference&quot; as a synonym for &quot;pointer&quot;... :S  Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1476302354, "post_id": 40007207, "comment_id": 67292610, "body": "Also worth mentioning <code>auto&amp; u_ptr = G[3];</code>"}, {"owner": {"reputation": 317, "user_id": 3261485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfcb5a06bd86a3592f38233b30dc744a?s=128&d=identicon&r=PG&f=1", "display_name": "RJTK", "link": "https://stackoverflow.com/users/3261485/rjtk"}, "edited": false, "score": 0, "creation_date": 1476302485, "post_id": 40007207, "comment_id": 67292685, "body": "Ahh, very dumb mistake...  I have been reading &quot;reference&quot; as a synonym for &quot;pointer&quot;."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 317, "user_id": 3261485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfcb5a06bd86a3592f38233b30dc744a?s=128&d=identicon&r=PG&f=1", "display_name": "RJTK", "link": "https://stackoverflow.com/users/3261485/rjtk"}, "edited": false, "score": 1, "creation_date": 1476309448, "post_id": 40007207, "comment_id": 67296215, "body": "@RJTK: In the compiled machine code, a reference and a pointer will usually generate the same code. But semantically, they are treated as different types in the language."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 5, "last_activity_date": 1476302033, "creation_date": 1476302033, "answer_id": 40007207, "question_id": 40007125, "link": "https://stackoverflow.com/questions/40007125/why-is-my-use-of-operator-on-stdmap-invalid/40007207#40007207", "title": "Why is my use of Operator[] on std::map invalid?", "body": "<p><code>std::map&lt;Key, T&gt;::operator[]</code> returns a <code>T&amp;</code> reference.</p>\n\n<p>In this case, <code>T</code> is <code>Node</code>, so <code>G[3]</code> returns a <code>Node&amp;</code> reference, which you are then trying to assign to a <code>Node*</code> pointer.  That is why you are getting a compiler error.</p>\n\n<p>So, you can either:</p>\n\n<ol>\n<li><p>change <code>u_ptr</code> to a reference:</p>\n\n<pre><code>Node&amp; u_ptr = G[3];\n</code></pre></li>\n<li><p>use the <code>&amp;</code> address operator to convert the reference into a pointer:</p>\n\n<pre><code>Node* u_ptr;\nu_ptr = &amp;G[3];\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 317, "user_id": 3261485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dfcb5a06bd86a3592f38233b30dc744a?s=128&d=identicon&r=PG&f=1", "display_name": "RJTK", "link": "https://stackoverflow.com/users/3261485/rjtk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 40007207, "answer_count": 1, "score": 0, "last_activity_date": 1476302033, "creation_date": 1476301769, "last_edit_date": 1476301934, "question_id": 40007125, "link": "https://stackoverflow.com/questions/40007125/why-is-my-use-of-operator-on-stdmap-invalid", "title": "Why is my use of Operator[] on std::map invalid?", "body": "<p>Suppose I have a map with type</p>\n\n<pre><code>std::map&lt;int, Node&gt; G;\n</code></pre>\n\n<p>Node is as follows</p>\n\n<pre><code>struct Node{\n  Node(){};\n  int data;\n};\n</code></pre>\n\n<p>I want to use operator[] to return a reference to a Node if it is in the map, or create a new one and return a reference if it is not.  That is my understanding of what the documentation says:</p>\n\n<blockquote>\n  <p>If k matches the key of an element in the container, the function returns a reference to its mapped value.</p>\n  \n  <p>If k does not match the key of any element in the container, the function inserts a new element with that key and returns a reference to its mapped value. Notice that this always increases the container size by one, even if no mapped value is assigned to the element (the element is constructed using its default constructor).</p>\n</blockquote>\n\n<p>However, the following code throws an error (g++ 5, std=gnu++11):</p>\n\n<blockquote>\n  <p>error: cannot convert \u2018std::map::mapped_type {aka Node}\u2019 to \u2018Node*\u2019 in assignment u_ptr = G[3];</p>\n</blockquote>\n\n<pre><code>Node* u_ptr;\nu_ptr = G[3];\n</code></pre>\n\n<p>In all the examples I've seen, <code>G[k]</code> appears on the lhs.  Is <code>G[k]</code> not allowed on a rhs?  If not, why?</p>\n"}, {"tags": ["c++", "c++11", "stl"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1476301575, "post_id": 40007055, "comment_id": 67292202, "body": "The containers were not designed to contain <code>const</code> elements. <a href=\"http://stackoverflow.com/questions/6954906/does-c11-allow-vectorconst-t\">See this thread</a>"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1476301689, "post_id": 40007055, "comment_id": 67292272, "body": "I don&#39;t understand your confusion. You&#39;re attempting an assignment and are complaining that you are not able to assign to constants."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1476301812, "post_id": 40007055, "comment_id": 67292336, "body": "@S.K.: <code>vector[0] = std::make_pair(3, 5);</code> won&#39;t work either."}, {"owner": {"reputation": 413, "user_id": 5839073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b9c2cb0cada850f2b259ba14f22821?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/5839073/s-k"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476301855, "post_id": 40007055, "comment_id": 67292366, "body": "@KerrekSB I am not complaining, I just want to understand why different containers behave differently and whether this is an expected behavior or not."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1476301941, "post_id": 40007055, "comment_id": 67292411, "body": "The containers were written for non-const contents and the behaviour you get is mostly coincidental based on what the library writers did to implement the non-const variants"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476301949, "post_id": 40007055, "comment_id": 67292416, "body": "That has nothing to do with containers. You&#39;re simply attempting to assign to a constant."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1476308150, "post_id": 40007055, "comment_id": 67295680, "body": "<i>&quot;Shouldn&#39;t std::map and std::set have the same behavior ...&quot;</i>: to test this you need to make the pair&lt;&gt; the key of the map."}], "answers": [{"tags": [], "owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "is_accepted": false, "score": 1, "last_activity_date": 1476304382, "last_edit_date": 1476304382, "creation_date": 1476301932, "answer_id": 40007183, "question_id": 40007055, "link": "https://stackoverflow.com/questions/40007055/why-stdpairconst-int-int-does-not-work-with-some-stl-containers/40007183#40007183", "title": "Why std::pair&lt;const int, int&gt; does not work with some STL containers?", "body": "<h2>Problem</h2>\n\n<p>Let's look at your error more deeply:</p>\n\n<blockquote>\n  <p><strong>error: assignment of read-only member \u2018std::pair::first\u2019</strong></p>\n</blockquote>\n\n<h2>Solution</h2>\n\n<p>There is no solution to this! As you can see here, there is a member that is only in read mode. </p>\n\n<pre><code> std::priority_queue&lt;std::pair&lt;const int, int&gt;&gt; pq;\n</code></pre>\n\n<p>Here you can see <code>const int</code>. Well, the <code>const</code> modifier makes it so that the variable can be only in read mode and <strong>can't</strong> be changed! That's your problem here. If you try to assign a constant, well this results in an error because your attempting to change a constant while it is in <strong>only</strong> READ mode.</p>\n\n<h2>References</h2>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/language/cv\" rel=\"nofollow\"><strong>cpprefrence</strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476302564, "post_id": 40007269, "comment_id": 67292739, "body": "<code>vector::push_back</code> actually requires to move elements around."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476302609, "post_id": 40007269, "comment_id": 67292760, "body": "@Slava It&#39;s copy/move construction on reallocation, not assignment."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476302765, "post_id": 40007269, "comment_id": 67292850, "body": "@Slava It does. Where did I say it doesn&#39;t?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476302856, "post_id": 40007269, "comment_id": 67292897, "body": "Then I do not understand why for <code>std::vector</code> to move elements it does not require assignments, but for <code>std::push_heap</code> it does."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476302992, "post_id": 40007269, "comment_id": 67292959, "body": "@Slava <code>vector</code> is moving everything to a new location. <code>push_heap</code> reorders elements within the sequence, for which assignment is more efficient."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1476303238, "post_id": 40007269, "comment_id": 67293083, "body": "Erasing elements from a vector or deque also requires assignment."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476303992, "post_id": 40007269, "comment_id": 67293484, "body": "@KerrekSB I think for a deque, <code>pop_front</code> and <code>pop_back</code> do not require assignment."}, {"owner": {"reputation": 413, "user_id": 5839073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b9c2cb0cada850f2b259ba14f22821?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/5839073/s-k"}, "edited": false, "score": 0, "creation_date": 1476304693, "post_id": 40007269, "comment_id": 67293826, "body": "@T.C. Thanks for the answer. I really think that container should not copy the data inside using the assignment operator because this is not a behavior intended by the user and therefore should not limit the use of the container. One solution is to use in-place copy-constructors. For example this is a simple container that does this and can be used with non-copy-assignable types: <code>template&lt;typename Data&gt; class MyContainer { \tData data[10]; \tint cpt = 0; public: \tvoid set(int i, Data const &amp; d) { \t\tnew (&amp;data[i]) Data(d); \t}  \tData const &amp; get(int i) const { \t\treturn data[i]; \t} };</code>"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 413, "user_id": 5839073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b9c2cb0cada850f2b259ba14f22821?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/5839073/s-k"}, "edited": false, "score": 0, "creation_date": 1476305121, "post_id": 40007269, "comment_id": 67294048, "body": "@S.K. You have to destroy first or you just leaked whatever <code>Data</code> owned. Regardless, destroy + reconstruct can be considerably more expensive than assignment. The designers sensibly decided not to pessimize everyone else&#39;s code for some pathological corner cases."}, {"owner": {"reputation": 413, "user_id": 5839073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b9c2cb0cada850f2b259ba14f22821?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/5839073/s-k"}, "edited": false, "score": 0, "creation_date": 1476308503, "post_id": 40007269, "comment_id": 67295814, "body": "@T.C. You are right about the need for destruction. I understand the performance issue, but I still think that, for example, being unable to use std::priority_queue on non-copy-assignable data because it internally tries to copy the data (something that does not concern me as a user and does not fall under my control) is either bad implementation or a design flaw."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 8, "last_activity_date": 1476302616, "last_edit_date": 1476302616, "creation_date": 1476302255, "answer_id": 40007269, "question_id": 40007055, "link": "https://stackoverflow.com/questions/40007055/why-stdpairconst-int-int-does-not-work-with-some-stl-containers/40007269#40007269", "title": "Why std::pair&lt;const int, int&gt; does not work with some STL containers?", "body": "<p>Anything that requires assignment will break.</p>\n\n<ul>\n<li><code>vector::push_back</code> doesn't require assignment, only copy/move construction.</li>\n<li>ditto for <code>set::insert</code>.</li>\n<li>ditto for <code>list::push_back</code>.</li>\n<li><code>priority_queue::push</code> needs to move around the existing elements to maintain the heap property (via <code>std::push_heap</code>), which requires assignment.</li>\n<li><code>map[2] = stuff;</code> is literally an assignment. Use <code>map::insert</code> or <code>map::emplace</code> if you want it to work.</li>\n</ul>\n"}], "owner": {"reputation": 413, "user_id": 5839073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b9c2cb0cada850f2b259ba14f22821?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/5839073/s-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 40007269, "answer_count": 2, "score": 2, "last_activity_date": 1476304382, "creation_date": 1476301439, "last_edit_date": 1476304222, "question_id": 40007055, "link": "https://stackoverflow.com/questions/40007055/why-stdpairconst-int-int-does-not-work-with-some-stl-containers", "title": "Why std::pair&lt;const int, int&gt; does not work with some STL containers?", "body": "<p>It seems that some containers accept <code>std::pair&lt;const int, int&gt;</code> as a value type, but some do not. The problem is of course in the <code>const</code> part.</p>\n\n<p>I did some googling and found that only <code>std::vector</code> requires copy-assignable data. However, <code>std::pair&lt;const int, int&gt;</code> works just fine with <code>std::vector</code>, <code>std::set</code> and <code>std::list</code> (and perhaps other containers), but not with <code>std::map</code> and <code>std::priority_queue</code> (the latter really bugs me). </p>\n\n<p>The following compiles without problems (gcc 6.1.0)</p>\n\n<pre><code>std::vector&lt;std::pair&lt;const int, int&gt;&gt; vector;\nvector.push_back(std::make_pair(3, 5));\nstd::set&lt;std::pair&lt;const int, int&gt;&gt; set;\nset.insert(std::make_pair(3, 5));\nstd::list&lt;std::pair&lt;const int, int&gt;&gt; list;\nlist.push_back(std::make_pair(3, 5));\n</code></pre>\n\n<p>But this results in compilation errors:</p>\n\n<pre><code>std::priority_queue&lt;std::pair&lt;const int, int&gt;&gt; pq;\npq.push(std::make_pair(3, 5));\nstd::map&lt;int, std::pair&lt;const int, int&gt;&gt; map;\nmap[2] = std::make_pair(3, 5);\n</code></pre>\n\n<blockquote>\n<pre><code>error: assignment of read-only member \u2018std::pair&lt;const int, int&gt;::first\u2019\n</code></pre>\n</blockquote>\n\n<p>What is the reason behind this? Shouldn't <code>std::map</code> and <code>std::set</code> have the same behavior given that they have the same underlying implementation? Why does it work with <code>std::vector</code> although it requires to move data?</p>\n"}, {"tags": ["c++", "certificate", "rdp"], "owner": {"reputation": 11, "user_id": 6846385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b2a88347c9ae88291add19d74228fc?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/6846385/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476301083, "creation_date": 1476301083, "question_id": 40006974, "link": "https://stackoverflow.com/questions/40006974/imstscax-remote-desktop-certificate-info-in-c", "title": "IMsTscAx Remote Desktop Certificate Info in C++", "body": "<p>I'm trying to get certificate information from my C++ Rdp program when it fires OnAuthenticationWarningDisplayed(). Usually when i connect through mstsc.exe the remote desktop shows a certificate but when i connect through c++ it doesn't show it. My code looks like this:</p>\n\n<pre><code>lpUnk-&gt;QueryInterface(IID_IMsRdpClientNonScriptable5, (void**)&amp;pns);\nm_pMsTsc-&gt;get_SecuredSettings2(&amp;pss);\nm_pMsTsc-&gt;get_AdvancedSettings2(&amp;padv);\nm_pMsTsc-&gt;put_Server(L\"192.168.248.131\");\npadv-&gt;put_RDPPort(3389);\nm_pMsTsc-&gt;put_Domain(L\"Workgroup\");\nm_pMsTsc-&gt;put_UserName(L\"home\");\npns-&gt;put_ClearTextPassword(L\"qwe123oke\");\npns-&gt;put_EnableCredSspSupport(TRUE);\n</code></pre>\n\n<p>So i get the warning on:</p>\n\n<pre><code>void CMainFrame::OnAuthenticationWarningDisplayed()\n{\nAfxMessageBox(L\"OnAuthenticationWarningDisplayed\");\n}\n</code></pre>\n\n<p>My question is: how can i display or get certificate information that appear when i connect through mstsc.exe ? Unfortunately msdn has no documentation on this subject. Any idea is very much appreciated!</p>\n"}, {"tags": ["c++", "directory"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476301405, "post_id": 40006953, "comment_id": 67292115, "body": "The problem is that not all platforms have filesystems.  There is no requirement for them to support filesystems.  Many embedded systems have no filesystems.  Also, there are filesystems that don&#39;t use the &quot;../&quot; notation and use other notations to separate files from folders."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1476301444, "post_id": 40006953, "comment_id": 67292129, "body": "What are you going to do with the directory? Storing data files in the program directory might not be allowed on all systems. Also, to be totally cross platform you cannot even assume the OS has directories."}, {"owner": {"reputation": 119, "user_id": 6290505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c6a4106b038f6bffbc1b06a5eebc7c1?s=128&d=identicon&r=PG&f=1", "display_name": "T.F.", "link": "https://stackoverflow.com/users/6290505/t-f"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476301626, "post_id": 40006953, "comment_id": 67292235, "body": "@ThomasMatthews ah, sorry, I didn&#39;t mean embedded system. Actually I just want to ask an implementation in both linux and win32 platform."}, {"owner": {"reputation": 119, "user_id": 6290505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c6a4106b038f6bffbc1b06a5eebc7c1?s=128&d=identicon&r=PG&f=1", "display_name": "T.F.", "link": "https://stackoverflow.com/users/6290505/t-f"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1476301740, "post_id": 40006953, "comment_id": 67292301, "body": "@BoPersson hi bo, I want to create codes with codes and I need to designate the working directory &quot;./&quot;.  Or at least I should know where it is at run time."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1476301746, "post_id": 40006953, "comment_id": 67292302, "body": "Search the internet for &quot;c++ cross platform framework&quot;.  Usually the frameworks have support for files and directories.  See also &quot;c++ boost filesystem&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 6290505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c6a4106b038f6bffbc1b06a5eebc7c1?s=128&d=identicon&r=PG&f=1", "display_name": "T.F.", "link": "https://stackoverflow.com/users/6290505/t-f"}, "edited": false, "score": 0, "creation_date": 1476306610, "post_id": 40008310, "comment_id": 67294917, "body": "O.o c++17? thnx, it looks much cleaner than the solution I found."}], "tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": false, "score": 0, "last_activity_date": 1476306234, "creation_date": 1476306234, "answer_id": 40008310, "question_id": 40006953, "link": "https://stackoverflow.com/questions/40006953/how-to-designate-the-working-directory-at-run-time-in-c-in-basis-of-cross-plat/40008310#40008310", "title": "how to designate the working directory at run time in C++ in basis of cross platform?", "body": "<p>If you have a compiler that supports the <a href=\"http://en.cppreference.com/w/cpp/filesystem\" rel=\"nofollow\">filesystem</a> Technical Specification or a <code>C++17</code> compiler you can use the new <em>soon-to-be</em> standard filesystem library</p>\n\n<p>However I don't know of a catch-all way to discover the executable directory. One way that I think should work on <code>Windows</code> and <code>Linux</code> is to use <code>argv[0]</code> which contains the launch command and find its <em>canonical path</em>:</p>\n\n<pre><code>    std::error_code ec;\n\n    // find the executable directory\n    auto exe_folder = fs::canonical(fs::path(argv[0]), ec).parent_path();\n\n    // set the current directory to the executable directory\n    fs::current_path(exe_folder);\n</code></pre>\n\n<p>Currently <code>GCC v6</code> has <em>filesystem</em> as the Technical Specification otherwise you can also use <code>boost::filesystem</code> on-which it is based.</p>\n\n<p>Typically programs don't have write permissions to the directory that contains the executable.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 6290505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c6a4106b038f6bffbc1b06a5eebc7c1?s=128&d=identicon&r=PG&f=1", "display_name": "T.F.", "link": "https://stackoverflow.com/users/6290505/t-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1476306467, "creation_date": 1476306467, "answer_id": 40008373, "question_id": 40006953, "link": "https://stackoverflow.com/questions/40006953/how-to-designate-the-working-directory-at-run-time-in-c-in-basis-of-cross-plat/40008373#40008373", "title": "how to designate the working directory at run time in C++ in basis of cross platform?", "body": "<p>myself found a solution if anyone else is interested. you have to have Qt on your computer at first.\nyou can change the working directory at run time with:\n    QDir::setCurrent(qApp->applicationDirPath());</p>\n\n<p>This will change the working directory at run time to that of the executable.</p>\n\n<p>But it does not look very neat cause you have to have Qt.</p>\n"}, {"tags": [], "owner": {"reputation": 1433, "user_id": 13115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/j6Qgs.png?s=128&g=1", "display_name": "Game_Overture", "link": "https://stackoverflow.com/users/13115/game-overture"}, "is_accepted": false, "score": 0, "last_activity_date": 1501957912, "creation_date": 1501957912, "answer_id": 45525215, "question_id": 40006953, "link": "https://stackoverflow.com/questions/40006953/how-to-designate-the-working-directory-at-run-time-in-c-in-basis-of-cross-plat/45525215#45525215", "title": "how to designate the working directory at run time in C++ in basis of cross platform?", "body": "<p>The best solution I've come up with (without requiring a C++17 compiler) is if you can guarantee a data-driven file is going to reside next to your executable, you can place a similarly named file in your project directory.</p>\n\n<p>\"./[your file].txt\" is always going to exist, and you can use the content of these files as an indicator of where your current working directory is.</p>\n"}], "owner": {"reputation": 119, "user_id": 6290505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c6a4106b038f6bffbc1b06a5eebc7c1?s=128&d=identicon&r=PG&f=1", "display_name": "T.F.", "link": "https://stackoverflow.com/users/6290505/t-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1501957912, "creation_date": 1476301011, "question_id": 40006953, "link": "https://stackoverflow.com/questions/40006953/how-to-designate-the-working-directory-at-run-time-in-c-in-basis-of-cross-plat", "title": "how to designate the working directory at run time in C++ in basis of cross platform?", "body": "<p>I am confused how I can designate the working directory of \"./\" at run time.\nSo sometimes it will be the directory of the project file, sometimes it is the directory of the executable. All dependents how you execute the program. </p>\n\n<p>How should I designate this working directory \"./\" as I want it always be? I mean I want to keep it always the directory of the executable for example.\nAnd this implementation should be platform independent.(I think it will be rather big hard, so you can ignore this if it's not possible).</p>\n"}, {"tags": ["c++", "initialization", "type-conversion", "language-lawyer", "conversion-operator"], "comments": [{"owner": {"reputation": 4338, "user_id": 3240681, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4sQMO.jpg?s=128&g=1", "display_name": "\u03b1\u03bb\u03b5\u03c7\u03bf\u03bb\u03c5\u03c4", "link": "https://stackoverflow.com/users/3240681/%ce%b1%ce%bb%ce%b5%cf%87%ce%bf%ce%bb%cf%85%cf%84"}, "edited": false, "score": 0, "creation_date": 1476301448, "post_id": 40006925, "comment_id": 67292130, "body": "Also you can make <code>Y(const Y&amp;&amp;);</code>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1476319826, "post_id": 40006925, "comment_id": 67299132, "body": "It&#39;d be good to show what the rejection message is"}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476303401, "post_id": 40007311, "comment_id": 67293161, "body": "I think Richard&#39;s analysis is correct. Whether an implicit conversion sequence can be formed is different from whether the resulting conversion will compile, and here [over.ics.ref]/2 appears to say that such a conversion sequence can be formed. (This is now CWG 2077.)"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476304211, "post_id": 40007311, "comment_id": 67293586, "body": "@T.C. Want to write a better answer and then I&#39;ll delete this one?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476319019, "post_id": 40007311, "comment_id": 67298939, "body": "@T.C. Anyway, PTAL."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1476302724, "last_edit_date": 1476302724, "creation_date": 1476302392, "answer_id": 40007311, "question_id": 40006925, "link": "https://stackoverflow.com/questions/40006925/clang-and-gcc-disagree-on-legality-of-direct-initialization-with-conversion-oper/40007311#40007311", "title": "Clang and GCC disagree on legality of direct initialization with conversion operator", "body": "<p>I think this is a clang bug. </p>\n\n<p>We start with [over.match.ctor]:</p>\n\n<blockquote>\n  <p>When objects of class type are direct-initialized (8.6), copy-initialized from an expression of the same or a\n  derived class type (8.6), or default-initialized (8.6), overload resolution selects the constructor. For direct-initialization\n  or default-initialization that is not in the context of copy-initialization, the candidate functions\n  are all the constructors of the class of the object being initialized.</p>\n</blockquote>\n\n<p>So we consider, for instance, the copy constructor. Is the copy constructor viable? </p>\n\n<p>From [dcl.init.ref]:</p>\n\n<blockquote>\n  <p>\u2014 If the initializer expression [...] has a class type (i.e., T2 is a class type), where T1 is not reference-related to T2, and can be\n  converted to an rvalue of type \u201ccv3 T3\u201d, where \u201ccv1 T1\u201d is reference-compatible with \u201ccv3\n  T3\u201d (see 13.3.1.6) then the reference is bound to the value of the initializer expression in the first case and to\n  the result of the conversion in the second case.</p>\n</blockquote>\n\n<p>Those candidate functions in [over.match.ref] are:</p>\n\n<blockquote>\n  <p>For direct-initialization, those explicit conversion functions that\n  are not hidden within S and yield type \u201clvalue reference to cv2 T2\u201d or \u201ccv2 T2\u201d or \u201crvalue reference to\n  cv2 T2\u201d, respectively, where T2 is the same type as T or can be converted to type T with a qualification\n  conversion (4.5), are also candidate functions.</p>\n</blockquote>\n\n<p>Which includes our <code>operator const Y()</code>. Hence the copy constructor <em>is</em> viable. The move constructor is not (since you can't bind a non-<code>const</code> rvalue reference to a <code>const</code> rvalue), so we have exactly one viable candidate, which makes the program well-formed. </p>\n\n<hr />\n\n<p>Er, as a followup, this is <a href=\"https://llvm.org/bugs/show_bug.cgi?id=16682\" rel=\"nofollow\">LLVM bug 16682</a>, which makes it seem much more complicated than what I've initially laid out. </p>\n"}, {"comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1476318258, "post_id": 40010380, "comment_id": 67298784, "body": "The &quot;not part of overload resolution&quot; I deduced from the fact that cwg 2077 says the move constructor is rightfully &quot;selected&quot; by overload resolution, and only then the program fails. Seems a bit odd... in particular because the second bullet of that requirement does make a difference (see [over.match.viable]/3)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476319107, "post_id": 40010380, "comment_id": 67298957, "body": "Copy-init uses a different set of candidates (see [over.match.copy]). That results in the conversion function being selected directly by overload resolution, and its result being used to direct-initialize <code>y</code>."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476346904, "post_id": 40010380, "comment_id": 67308701, "body": "@T.C. I didn&#39;t really investigate that any further, naively assuming it made no difference.. thanks."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 4, "last_activity_date": 1476350672, "last_edit_date": 1476350672, "creation_date": 1476318098, "answer_id": 40010380, "question_id": 40006925, "link": "https://stackoverflow.com/questions/40006925/clang-and-gcc-disagree-on-legality-of-direct-initialization-with-conversion-oper/40010380#40010380", "title": "Clang and GCC disagree on legality of direct initialization with conversion operator", "body": "<p>When we're enumerating the constructors and check their viability - i.e. whether there is an implicit conversion sequence - for the move constructor, <a href=\"http://eel.is/c++draft/dcl.init.ref#5\" rel=\"nofollow\">[dcl.init.ref]/5</a> falls through to the last bullet point (5.2.2), which was modified by core issues <a href=\"http://wg21.link/cwg1604\" rel=\"nofollow\">1604</a> and <a href=\"http://wg21.link/cwg1571\" rel=\"nofollow\">1571</a> (in that order).</p>\n\n<p>The bottom line of these resolutions is that</p>\n\n<blockquote>\n  <p>If <code>T1</code> or <code>T2</code> is a class type and <code>T1</code> is not reference-related to <code>T2</code>, user-defined conversions are\n  considered using the rules for copy-initialization of an object of type \u201c<em>cv1</em> <code>T1</code>\u201d by user-defined conversion (8.6, 13.3.1.4, 13.3.1.5); the program is ill-formed if the corresponding non-reference copy-initialization would be ill-formed. <strong>The result of the call to the conversion function, as described for the non-reference copy-initialization, is then used to direct-initialize the reference.</strong></p>\n</blockquote>\n\n<p>The first part just causes the conversion operator to be selected. So, according to the boldfaced part, we use <code>const Y</code> to direct-initialize <code>Y&amp;&amp;</code>. Again, we fall through until the last bullet point, which fails due to (5.2.2.3): </p>\n\n<blockquote>\n  <p>If <code>T1</code> is reference-related to <code>T2</code>:<br> \u2014 <em>cv1</em> shall be the same\n  cv-qualification as, or greater cv-qualification than, <em>cv2</em> ; and</p>\n</blockquote>\n\n<p>However, this does not appertain to our original overload resolution anymore, which only sees that the conversion operator shall be used to direct-initialize the reference. In your example, overload resolution selects the move constructor because <a href=\"http://eel.is/c++draft/over.ics.rank#3\" rel=\"nofollow\">[over.ics.rank]/(3.2.5)</a>, and then the above paragraph makes the program ill-formed. This is a defect and has been filed as <a href=\"http://wg21.link/cwg2077\" rel=\"nofollow\">core issue 2077</a>. A sensible solution would discard the move constructor during overload resolution.</p>\n\n<p>All this makes sense wrt to your fixes: removing <code>const</code> would prevent the fall-through since the types are now reference-compatible, and removing the move constructor leaves the copy constructor, which has a const reference (i.e. works as well). Finally, when we write <code>Y y = x;</code>, instead of [dcl.init]/(17.6.2), (17.6.3) applies;</p>\n\n<blockquote>\n  <p>Otherwise (i.e., for the remaining copy-initialization cases), user-defined conversion sequences that can convert from the source type to the destination type or (when a conversion function is used) to a derived class thereof are enumerated as described in 13.3.1.4, and the best one is chosen through overload resolution (13.3). [...]. <strong>The call is used to direct-initialize, according to the rules above, the object that is the destination of the copy-initialization.</strong></p>\n</blockquote>\n\n<p>I.e. the initialization is effectively the same as <code>Y y(x.operator const Y());</code>, which succeeds, because the move constructor is not viable (<code>Y&amp;&amp; y = const Y</code> fails shallowly enough) and the copy constructor is selected.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476352685, "post_id": 40015888, "comment_id": 67312474, "body": "I don&#39;t disagree with the sentiment in general, but it seems misplaced; the code example in the OP doesn&#39;t use any exotic features: A class with copy/move constructors is nothing special, nor is a class with an implicit conversion to another class. Moreover, the expected outcome is perfectly clear and fairly intuitive; the problem only arose because there is a defect in the standard (caused by some unforeseen interactions between the rules) and a compiler that implemented that defect to the letter."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476358436, "post_id": 40015888, "comment_id": 67316393, "body": "@T.C. To be fair, making the non-reference return type of a conversion operator <code>const</code> makes little sense to me, so this is arguably a niche case. However, I agree that disagreement between implementations is not necessarily caused by complicated code."}], "tags": [], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": -1, "last_activity_date": 1476347202, "creation_date": 1476347202, "answer_id": 40015888, "question_id": 40006925, "link": "https://stackoverflow.com/questions/40006925/clang-and-gcc-disagree-on-legality-of-direct-initialization-with-conversion-oper/40015888#40015888", "title": "Clang and GCC disagree on legality of direct initialization with conversion operator", "body": "<p>When you write code where two decent compilers disagree whether it is legal or not, you are programming too close to the edge. Let's say I'm a maintenance programmer supporting that code. How do you expect me to know whether this is legal, and what exactly the semantics of this code are, if even gcc and clang cannot agree? </p>\n\n<p>Change your code. Make it simpler so that both less \"clever\" programmers and compilers understand it without problems. There are no prizes for being the most \"clever\" programmer around. </p>\n\n<p>Look at Columbo's answer: I have no doubt that his analysis of the situation is perfectly fine and correct. But I wouldn't want to support code that requires a very clever 50 line analysis to demonstrate that it is correct. If you are writing C++ compilers, you should carefully study his answer. If you are writing application code, you should never write code that requires looking at his answer. </p>\n"}], "owner": {"reputation": 2289, "user_id": 839932, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a487a879a978ecef2a3991c266e3b648?s=128&d=identicon&r=PG", "display_name": "0x5f3759df", "link": "https://stackoverflow.com/users/839932/0x5f3759df"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 2, "accepted_answer_id": 40010380, "answer_count": 3, "score": 12, "last_activity_date": 1476350672, "creation_date": 1476300888, "question_id": 40006925, "link": "https://stackoverflow.com/questions/40006925/clang-and-gcc-disagree-on-legality-of-direct-initialization-with-conversion-oper", "title": "Clang and GCC disagree on legality of direct initialization with conversion operator", "body": "<p>The latest version of clang (3.9) rejects this code on the second line of <code>f</code>; the latest version of gcc (6.2) accepts it:</p>\n\n<pre><code>struct Y {\n    Y();\n    Y(const Y&amp;);\n    Y(Y&amp;&amp;);\n};\n\nstruct X {\n    operator const Y();\n};\n\nvoid f() {\n    X x;\n    Y y(x);\n}\n</code></pre>\n\n<p>If any of these changes are made, clang will then accept the code:</p>\n\n<ul>\n<li>Remove <code>Y</code>'s move constructor</li>\n<li>Remove <code>const</code> from the conversion operator</li>\n<li>Replace <code>Y y(x)</code> with <code>Y y = x</code></li>\n</ul>\n\n<p>Is the original example legal? Which compiler is wrong? After checking the sections about conversion functions and overload resolution in the standard I have not been able to find a clear answer.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 5, "creation_date": 1476300441, "post_id": 40006804, "comment_id": 67291610, "body": "Whats the question?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 5, "creation_date": 1476300441, "post_id": 40006804, "comment_id": 67291611, "body": "Do you have a question?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 5, "creation_date": 1476300526, "post_id": 40006804, "comment_id": 67291668, "body": "Do you add the -std=c++11 flag as suggested ?"}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "edited": false, "score": 0, "creation_date": 1476300887, "post_id": 40006804, "comment_id": 67291860, "body": "Your exact command line?"}, {"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476300906, "post_id": 40006804, "comment_id": 67291871, "body": "oh?? ok but does that flag extends the compiler possibilities or something? I never really understood these kind of options"}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1476300936, "post_id": 40006804, "comment_id": 67291884, "body": "Do you have an issue with using c++11? Do you want to know what extended initializer lists are and how they differ from c++03 initializer lists? Do you want to know the <i>difference</i> between the two suggested flags? Please, give us a question to answer. We&#39;re not psychic."}, {"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476300950, "post_id": 40006804, "comment_id": 67291892, "body": "yes, with the flag it works, I thought it was a bit weird to need this"}, {"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476301015, "post_id": 40006804, "comment_id": 67291921, "body": "sorry if my problem is a bit vague, but yes what are these flags and why are they required to do so ... and whhat are extended initializers, sorry I come from java world :-)"}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1476301026, "post_id": 40006804, "comment_id": 67291932, "body": "@fdsfdsfdsfds by default it compiles with c++03. You need the flag to make it compile using c++11 rules. There&#39;s also c++14 and c++1z (soon to be c++17) flags."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1476301061, "post_id": 40006804, "comment_id": 67291948, "body": "Related, if not a duplicate: <a href=\"http://stackoverflow.com/q/11666718/10077\">stackoverflow.com/q/11666718/10077</a>"}, {"owner": {"reputation": 12300, "user_id": 249618, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/81060fe344980bc9a3273a48b8f3e31c?s=128&d=identicon&r=PG", "display_name": "SF.", "link": "https://stackoverflow.com/users/249618/sf"}, "edited": false, "score": 1, "creation_date": 1496307133, "post_id": 40006804, "comment_id": 75610844, "body": "No need to switch language standard over whole project for one syntax quirk. <code>const pthread_mutex_t mutex_dummy = PTHREAD_MUTEX_INITIALIZER; mutex = mutex_dummy;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476301141, "post_id": 40006954, "comment_id": 67291984, "body": "oh ok, initializers relate to class members initialisation, stupid of me, just that the MUTEX tread macro was not clear and geany is not a great ide to find the declaration of macros, sometimes it works, sometimes it does not"}, {"owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476301198, "post_id": 40006954, "comment_id": 67292015, "body": "I&#39;ll know from now I have to engage that option for more features, thanks"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "edited": false, "score": 0, "creation_date": 1476301283, "post_id": 40006954, "comment_id": 67292063, "body": "@fdsfdsfdsfds this is not the end. There are also many versions such as C++14 , and the new C++17!"}], "tags": [], "owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "is_accepted": true, "score": 3, "last_activity_date": 1476304173, "last_edit_date": 1476304173, "creation_date": 1476301018, "answer_id": 40006954, "question_id": 40006804, "link": "https://stackoverflow.com/questions/40006804/extended-initializer-lists-only-available-with-std-c11-or-std-gnu11/40006954#40006954", "title": "extended initializer lists only available with -std=c++11 or -std=gnu++11", "body": "<h2>Problem</h2>\n\n<blockquote>\n<pre><code>src/common/atom.cpp:19:8: warning: extended initializer lists only available with -std=c++11 or -std=gnu++11\n</code></pre>\n</blockquote>\n\n<h2>Solution</h2>\n\n<p>As you can see in the error, it tells you to have the flags:</p>\n\n<blockquote>\n  <p><code>std=c++11</code> or <code>-std=gnu++11</code></p>\n</blockquote>\n\n<p>This is so you have version C++11. <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow\"><strong>Initalizer lists</strong></a> require C++11 .</p>\n\n<p>With the version of C++11, you have many additional features like Lambda Expressions, Automatic Type Deduction and decltype, Uniform Initialization Syntax, Deleted and Defaulted Functions, nullptr, Rvalue References, New Smart Pointer Classes (<code>shared_ptr</code>, <code>unique_ptr</code>), C++11 Standard Library, More C++ Algorithms, and much more!</p>\n\n<h2>References</h2>\n\n<p><a href=\"http://www.stroustrup.com/C++11FAQ.html\" rel=\"nofollow\"><strong>C++11 FAQ - Bjarne Stroustrup</strong></a></p>\n"}], "owner": {"reputation": 674, "user_id": 3455897, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100006270726124/picture?type=large", "display_name": "fdsfdsfdsfds", "link": "https://stackoverflow.com/users/3455897/fdsfdsfdsfds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7825, "favorite_count": 0, "closed_date": 1477145449, "accepted_answer_id": 40006954, "answer_count": 1, "score": -2, "last_activity_date": 1476304261, "creation_date": 1476300376, "last_edit_date": 1476304261, "question_id": 40006804, "link": "https://stackoverflow.com/questions/40006804/extended-initializer-lists-only-available-with-std-c11-or-std-gnu11", "closed_reason": "Not suitable for this site", "title": "extended initializer lists only available with -std=c++11 or -std=gnu++11", "body": "<p>I get this error, porting code from C to C++:</p>\n\n<blockquote>\n  <p><strong>src/common/atom.cpp:19:8: warning: extended initializer lists only available with -std=c++11 or -std=gnu++11</strong></p>\n</blockquote>\n\n<pre><code>void Atom::Run(ThreadFunction threadFunction)\n{\n    mutex = PTHREAD_MUTEX_INITIALIZER;\n    if(threadFunction!=NULL)\n    {\n        pthread_create(&amp;threadID, NULL, threadFunction, this);\n        this-&gt;running=true;\n    }\n}\n</code></pre>\n\n<p>Why do I need this flag in C++ but not in C, and what are initializers?</p>\n"}, {"tags": ["c++", "oop"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1476299738, "post_id": 40006618, "comment_id": 67291242, "body": "I don&#39;t think this is answerable without a crystal ball to tell me what <code>InventoryVector</code> is."}, {"owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476299836, "post_id": 40006618, "comment_id": 67291291, "body": "That is the name of the function, all i want to do is skip the first 2 values of the set function, I will add the function handeling this to the question incase  thanks"}, {"owner": {"reputation": 418, "user_id": 2597190, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/bae53161f7d4ffa8300295f7e962c59e?s=128&d=identicon&r=PG", "display_name": "Du\u0161an Tich&#253;", "link": "https://stackoverflow.com/users/2597190/du%c5%a1an-tich%c3%bd"}, "edited": false, "score": 0, "creation_date": 1476299964, "post_id": 40006618, "comment_id": 67291357, "body": "well then pass it and dont change it :D"}, {"owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "edited": false, "score": 0, "creation_date": 1476299972, "post_id": 40006618, "comment_id": 67291360, "body": "@krazaq Added, thanks"}, {"owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "edited": false, "score": 0, "creation_date": 1476299997, "post_id": 40006618, "comment_id": 67291371, "body": "InventoryVector[i].setInventory( , ,test);"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476300003, "post_id": 40006618, "comment_id": 67291375, "body": "The class your working with does have any other access modifiers to change a single thing?"}, {"owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "edited": false, "score": 0, "creation_date": 1476300020, "post_id": 40006618, "comment_id": 67291384, "body": "Ive tried this, guessing its incorrect"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1476300119, "post_id": 40006618, "comment_id": 67291429, "body": "<code>InventoryVector[i].setInventory(InventoryVector[i].getName()&zwnj;&#8203;, InventoryVector[i].getPrice(), test);</code> ? But a quantitySetter seems more appropriate."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476300235, "post_id": 40006618, "comment_id": 67291495, "body": "It would be a nice way to use <code>std::ignore</code>, I think."}, {"owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "edited": false, "score": 0, "creation_date": 1476300278, "post_id": 40006618, "comment_id": 67291520, "body": "Thankyou Jarod, Working"}], "answers": [{"tags": [], "owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "is_accepted": false, "score": 0, "last_activity_date": 1476300074, "creation_date": 1476300074, "answer_id": 40006722, "question_id": 40006618, "link": "https://stackoverflow.com/questions/40006618/c-class-set-skip-first-2-values/40006722#40006722", "title": "C++ Class Set, skip first 2 values", "body": "<p>When I understood it correctly then this should solve your problem:</p>\n\n<pre><code>void setInventory(int z) {\n    iQuantity = z;\n}\n</code></pre>\n\n<p>The other members remain untouched.</p>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 1, "last_activity_date": 1476300335, "creation_date": 1476300335, "answer_id": 40006792, "question_id": 40006618, "link": "https://stackoverflow.com/questions/40006618/c-class-set-skip-first-2-values/40006792#40006792", "title": "C++ Class Set, skip first 2 values", "body": "<p>If your class does not have a single property setter and you can't change it, you probably have to use something like </p>\n\n<pre><code>auto&amp; ref = InventoryVector[i]; // for brevity\nref.setInventory(ref.getProductName(), ref.getProductprice(), test);\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6726053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5aa331f1f287cb4767c0b06f77bffaf?s=128&d=identicon&r=PG&f=1", "display_name": "Bradley", "link": "https://stackoverflow.com/users/6726053/bradley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 40006792, "answer_count": 2, "score": 2, "last_activity_date": 1476300335, "creation_date": 1476299648, "last_edit_date": 1476299881, "question_id": 40006618, "link": "https://stackoverflow.com/questions/40006618/c-class-set-skip-first-2-values", "title": "C++ Class Set, skip first 2 values", "body": "<p>I have a class set up at the top of my program called InventoryVector, this stores all items in the program, product name, price and quantity. </p>\n\n<p>Through the admin section of the program the product name, price and quantity have allready been defined, my question is when the user picks a item to purchse then i need to lower the available quantity of that item. </p>\n\n<p>This is what i have come up with: </p>\n\n<pre><code>InventoryVector[i].setInventory(VOID,VOID,test);\n</code></pre>\n\n<p>I need to skip the VOID part and leave these unedited, I only want to replace the 3rd variable in the class with (test) </p>\n\n<p>Simply put, my question is just, how to i skip the first 2, leave them untouched and only edit the 3rd. \nThankyou </p>\n\n<p>EDIT : \nHere is the function storing the information : </p>\n\n<pre><code>void setInventory(string x, double y, int z) {\n    sProductName = x;\n    dProductPrice = y;\n    iQuantity = z;\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance", "boost", "containers", "boost-multi-index"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476299688, "post_id": 40006449, "comment_id": 67291200, "body": "Don&#39;t know enough of your specific case, but I&#39;ll drop this here anyway: <a href=\"http://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\">Prefer composition over inheritance?</a>"}, {"owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476300467, "post_id": 40006449, "comment_id": 67291629, "body": "I don&#39;t think composition would work? I am trying to create many various containers with different multi index key structures. And I want all of the containers to have access to base functions, rather than putting the functions in each of the containers. And I want each container to be a boost multi index container."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476304684, "post_id": 40006449, "comment_id": 67293822, "body": "That&#39;s just a &quot;Consider your alternatives&quot; comment. There isn&#39;t enough in the question to make a good call one way or the other. Sometimes inheritance from a container is appropriate, but usually it isn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "edited": false, "score": 0, "creation_date": 1476299854, "post_id": 40006472, "comment_id": 67291298, "body": "Still doesn&#39;t compile with the additional template argument. I get this error:"}, {"owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "edited": false, "score": 0, "creation_date": 1476299870, "post_id": 40006472, "comment_id": 67291303, "body": "D:\\Code\\boost\\boost_1_62_0\\boost/mpl/aux_/has_begin.hpp(20): error C2988: unrecognizable template declaration/definition"}, {"owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "edited": false, "score": 0, "creation_date": 1476362794, "post_id": 40006472, "comment_id": 67319489, "body": "Thanks the problem ended up being elsewhere in the code!"}], "tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": false, "score": 2, "last_activity_date": 1476299157, "creation_date": 1476299157, "answer_id": 40006472, "question_id": 40006449, "link": "https://stackoverflow.com/questions/40006449/is-there-a-way-to-inherit-from-boost-multi-index-container-in-c/40006472#40006472", "title": "Is there a way to inherit from Boost multi index container in C++?", "body": "<p>You're passing two template arguments but your template only takes one.</p>\n\n<pre><code>template &lt; class D, class E &gt;\nclass BoostModelContainer : public boost::multi_index_container&lt;D, E&gt;\n{\npublic:\n    D* AddItem( const D&amp; item)\n    {\n        //code here\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "edited": false, "score": 0, "creation_date": 1476362786, "post_id": 40008337, "comment_id": 67319478, "body": "Thanks the problem ended up being elsewhere in the code!"}], "tags": [], "owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "is_accepted": false, "score": 2, "last_activity_date": 1476306343, "creation_date": 1476306343, "answer_id": 40008337, "question_id": 40006449, "link": "https://stackoverflow.com/questions/40006449/is-there-a-way-to-inherit-from-boost-multi-index-container-in-c/40008337#40008337", "title": "Is there a way to inherit from Boost multi index container in C++?", "body": "<p>It's a bit hard to figure out exactly what <em>your</em> problem is without a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a>.  But rightfold's answer definitely points out the <em>main</em> problem with the code you posted. Essentially you are missing a <code>class</code> keyword in your <code>template</code> declaration:</p>\n\n<pre><code>template &lt; class D, class E &gt;\n// missing ---------^^^^^\nclass BoostModelContainer : public boost::multi_index_container&lt;D, E&gt;\n{ /* ... */ };\n</code></pre>\n\n<p>Apart from that, it should work just fine, as the following <em>complete</em> code example shows (<a href=\"http://coliru.stacked-crooked.com/a/0e041616a4f1219f\" rel=\"nofollow\">compiles fine, see live demo</a>):</p>\n\n<pre><code>#include &lt;boost/multi_index_container.hpp&gt;\n#include &lt;boost/multi_index/member.hpp&gt;\n#include &lt;boost/multi_index/ordered_index.hpp&gt;\n#include &lt;string&gt;\n\ntemplate &lt;class D, class E&gt;\nclass BoostModelContainer : public boost::multi_index_container&lt;D, E&gt;\n{\npublic:\n  D* AddItem( const D&amp; item)\n  {\n    //code here\n  }\n};\n\nstruct Foo\n{\n  int id;\n  std::string name;\n};\n\nstruct id_tag { };\nstruct name_tag { };\n\n// Requires -std=c++11    \nusing ExampleContainer = BoostModelContainer&lt;\n  Foo,\n  boost::multi_index::indexed_by&lt;\n    boost::multi_index::ordered_unique&lt;\n      boost::multi_index::tag&lt;id_tag&gt;, boost::multi_index::member&lt;Foo, int, &amp;Foo::id&gt; &gt;,\n    boost::multi_index::ordered_unique&lt;\n      boost::multi_index::tag&lt;name_tag&gt;, boost::multi_index::member&lt;Foo, std::string, &amp;Foo::name&gt; &gt;\n    &gt;\n  &gt;;\n\n// works with c++03 as well\nstruct ExampleContainer2 : public BoostModelContainer&lt;\n  Foo,\n  boost::multi_index::indexed_by&lt;\n    boost::multi_index::ordered_unique&lt;\n      boost::multi_index::tag&lt;id_tag&gt;, boost::multi_index::member&lt;Foo, int, &amp;Foo::id&gt; &gt;,\n    boost::multi_index::ordered_unique&lt;\n      boost::multi_index::tag&lt;name_tag&gt;, boost::multi_index::member&lt;Foo, std::string, &amp;Foo::name&gt; &gt;\n    &gt;\n  &gt;\n{ };\n\nint main()\n{\n  ExampleContainer ec1;\n  ExampleContainer2 ec2;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7009690, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207624884601284/picture?type=large", "display_name": "Trevor Davis", "link": "https://stackoverflow.com/users/7009690/trevor-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1476306343, "creation_date": 1476299050, "last_edit_date": 1476300549, "question_id": 40006449, "link": "https://stackoverflow.com/questions/40006449/is-there-a-way-to-inherit-from-boost-multi-index-container-in-c", "title": "Is there a way to inherit from Boost multi index container in C++?", "body": "<p>I'm looking for a way to create a base container class that inherits the functionality of the boost multi index container. I want to be able to add other functions to this base class and create other classes that can use this base class's functions and utilize boost's multi index container. </p>\n\n<p>I tried something like:</p>\n\n<pre><code>template &lt; class D, E &gt;\nclass BoostModelContainer : public boost::multi_index_container&lt;D, E&gt;\n{\npublic:\n    D* AddItem( const D&amp; item)\n    {\n        //code here\n    }\n};\n</code></pre>\n\n<p>and then created other classes inheriting the base class like:</p>\n\n<pre><code>class ExampleContainer : public BoostModelContainer&lt; CItem,\nboost::multi_index::indexed_by&lt;\n  boost::multi_index::ordered_unique&lt; \n     boost::multi_index::tag&lt;id_tag&gt;, boost::multi_index::member&lt; CItem, ItemId, &amp;CItem::m_id &gt; &gt;,\n  boost::multi_index::ordered_unique&lt; \n     boost::multi_index::tag&lt;name_tag&gt;, boost::multi_index::member&lt; CItem, String, &amp;CItem::m_name &gt; &gt;\n  &gt;\n&gt;\n</code></pre>\n\n<p>But this wouldn't compile. Does anyone have any other ideas or know how to get this to work? </p>\n\n<p>Thank you!!</p>\n"}, {"tags": ["c++", "c++11", "vxworks", "wind-river-workbench"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "edited": false, "score": 0, "creation_date": 1476727272, "post_id": 40066102, "comment_id": 67458356, "body": "Thank you Cliff for your answer. Would you know by any chance how to add compiler flag in Work bench? I just want to see a possibility of adding a directive \u201c-std=c++11\u201d so WR might be able to build? I really appreciate your help. --Justin"}, {"owner": {"reputation": 199, "user_id": 1204259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXTne.jpg?s=128&g=1", "display_name": "Cliff Bilbrey", "link": "https://stackoverflow.com/users/1204259/cliff-bilbrey"}, "reply_to_user": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "edited": false, "score": 0, "creation_date": 1476730862, "post_id": 40066102, "comment_id": 67460232, "body": "I don&#39;t have WorkBench installed at the moment. But, this answer to another question describes how to find and modify compiler flags in the active build spec: <a href=\"http://stackoverflow.com/a/8593028/1204259\">stackoverflow.com/a/8593028/1204259</a>"}, {"owner": {"reputation": 199, "user_id": 1204259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXTne.jpg?s=128&g=1", "display_name": "Cliff Bilbrey", "link": "https://stackoverflow.com/users/1204259/cliff-bilbrey"}, "reply_to_user": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "edited": false, "score": 0, "creation_date": 1476731093, "post_id": 40066102, "comment_id": 67460356, "body": "Weird. That didn&#39;t link as I would&#39;ve expected. I was trying to link to other answer, which describes the active build spec settings that can be found here: Properties-&gt;Build Properties-&gt;Build Support and Specs. Anyway, you should be able to find the active compiler and experiment with flags inside that spec. Good luck!"}, {"owner": {"reputation": 2532, "user_id": 2139094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7b7f096622f36595ba50f9d65a39508a?s=128&d=identicon&r=PG", "display_name": "mjs", "link": "https://stackoverflow.com/users/2139094/mjs"}, "reply_to_user": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "edited": false, "score": 2, "creation_date": 1477472337, "post_id": 40066102, "comment_id": 67776999, "body": "@Justin Workbench 3.3 ships with gcc 4.3.3 (I believe, certainly WB 3.3.6 only has 4.3.3, so WB 3.3 will be 4.3.3 <b>or lower</b>. C++11 was not added to GCC untill 4.7, and even then only experimental support. If you specifiy -std=c++11 you will just get a compiler error."}, {"owner": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "reply_to_user": {"reputation": 2532, "user_id": 2139094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7b7f096622f36595ba50f9d65a39508a?s=128&d=identicon&r=PG", "display_name": "mjs", "link": "https://stackoverflow.com/users/2139094/mjs"}, "edited": false, "score": 0, "creation_date": 1477581848, "post_id": 40066102, "comment_id": 67835183, "body": "@mjs thanks for your comment. Can you think of any way to associate datatype with enumeration? Thanks."}, {"owner": {"reputation": 2532, "user_id": 2139094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7b7f096622f36595ba50f9d65a39508a?s=128&d=identicon&r=PG", "display_name": "mjs", "link": "https://stackoverflow.com/users/2139094/mjs"}, "reply_to_user": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "edited": false, "score": 0, "creation_date": 1477653560, "post_id": 40066102, "comment_id": 67864942, "body": "@Justin - Im afraid not, in a language that doesn&#39;t support it. I think the solution provided is about the best you will get - and so i got my upvote."}, {"owner": {"reputation": 199, "user_id": 1204259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXTne.jpg?s=128&g=1", "display_name": "Cliff Bilbrey", "link": "https://stackoverflow.com/users/1204259/cliff-bilbrey"}, "edited": false, "score": 0, "creation_date": 1477844253, "post_id": 40066102, "comment_id": 67916977, "body": "After a bit more digging, I thought that I might have been onto something with boost scoped_enum (<a href=\"http://www.boost.org/doc/libs/1_62_0/libs/core/doc/html/core/scoped_enum.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_62_0/libs/core/doc/html/core/&hellip;</a>), using underlying types. But, that&#39;s going to make use of C++03 strongly-typed enums, which you won&#39;t have either (<a href=\"https://gcc.gnu.org/gcc-4.3/cxx0x_status.html\" rel=\"nofollow noreferrer\">gcc.gnu.org/gcc-4.3/cxx0x_status.html</a>). Unfortunately, I think any good solution to your problem is going to require a more modern compiler."}], "tags": [], "owner": {"reputation": 199, "user_id": 1204259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXTne.jpg?s=128&g=1", "display_name": "Cliff Bilbrey", "link": "https://stackoverflow.com/users/1204259/cliff-bilbrey"}, "is_accepted": true, "score": 2, "last_activity_date": 1476583406, "last_edit_date": 1495535248, "creation_date": 1476583406, "answer_id": 40066102, "question_id": 40006435, "link": "https://stackoverflow.com/questions/40006435/enum-with-datatype-in-windriver-workbench-3-3/40066102#40066102", "title": "Enum with datatype in WindRiver Workbench 3.3", "body": "<p>The short answer to your question is no.</p>\n\n<p>The ability to define a base type for enumerations is a language feature that was not added until C++11 (<a href=\"http://en.cppreference.com/w/cpp/language/enum\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/enum</a>). Unfortunately, WindRiver has been slow to support compilers that comply with modern C++ standards (<a href=\"https://stackoverflow.com/questions/36309858/c-11-in-vxworks\">C++ 11 in vxworks</a>). There is mention of support for C++11 in commercial versions of g++ for VxWorks 7.0+ (<a href=\"https://stackoverflow.com/a/36311473\">https://stackoverflow.com/a/36311473</a>). But, your WorkBench version (&lt;4.0) implies that this won't be helpful to you.</p>\n\n<p>In your situation, I might cobble together a work-around, such as this:</p>\n\n<pre><code>namespace FRUIT_E\n{\n    static const UINT16 APPLE = 0;\n    static const UINT16 LEMON = 1;\n    static const UINT16 GRAPE = 2;\n}\n\ntypedef FRUIT_T UINT16;\n\n...\n\nFRUIT_T fruit = FRUIT_E::APPLE;\n</code></pre>\n\n<p>However, this won't provide type safety, as FRUIT_T is just an alias for UINT16. So, it's far from ideal. I've added tags to your question. There may be better work-arounds, emulating the desired behavior more closely. But, the addition of a new language feature would seem to indicate that existing methods were inadequate.</p>\n"}], "owner": {"reputation": 45, "user_id": 3171185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe9328e92c958bcb6611dfb3561fddaa?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3171185/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 40066102, "answer_count": 1, "score": 1, "last_activity_date": 1477710973, "creation_date": 1476298991, "last_edit_date": 1477710973, "question_id": 40006435, "link": "https://stackoverflow.com/questions/40006435/enum-with-datatype-in-windriver-workbench-3-3", "title": "Enum with datatype in WindRiver Workbench 3.3", "body": "<p>In Visual Studio 2010, I was able to build enumeration with datatype just fine.</p>\n\n<pre><code>enum FRUIT_E : UINT16\n{\n    APPLE = 0,\n    LEMON = 1,\n    GRAPE = 2,\n};\n</code></pre>\n\n<p>However, when I tried to compile in WR Workbench, I get the following error:</p>\n\n<blockquote>\n  <p>: error: use of enum 'FRUIT_E' without previous declaration</p>\n</blockquote>\n\n<p>I really need to specify the datatype of enum as fields are bitpacked. Is there any way I could explicitly specify the type of enumeration?</p>\n"}, {"tags": ["c++", "inheritance", "compiler-errors"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 2, "creation_date": 1476298926, "post_id": 40006391, "comment_id": 67290786, "body": "You need to use include guards."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 6, "creation_date": 1476298935, "post_id": 40006391, "comment_id": 67290790, "body": "One should almost never include a cpp file.  You need to move your code into header files or split the interface from the implementation."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476299317, "post_id": 40006391, "comment_id": 67290998, "body": "<a href=\"http://stackoverflow.com/a/36983180/4342498\">This</a> basically answers the question but I would not call it a dupe"}, {"owner": {"reputation": 1, "user_id": 7009773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7b23d0db41b0b094fb0812aa23e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Perron", "link": "https://stackoverflow.com/users/7009773/jon-perron"}, "edited": false, "score": 0, "creation_date": 1476299437, "post_id": 40006391, "comment_id": 67291063, "body": "Interesting, I quickly read up on header files. Now my question is how do I show inheritance syntax in header files? Rather, what is the proper way to have this same setup but include header files?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1476306411, "post_id": 40006391, "comment_id": 67294797, "body": "The key is to: <b><i>split the interface from the implementation</i></b> The interface goes in the header files with the implementation in the source files."}], "answers": [{"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1477437619, "creation_date": 1477437619, "answer_id": 40251261, "question_id": 40006391, "link": "https://stackoverflow.com/questions/40006391/error-c2011-class-type-redefinition-basic-inheritance/40251261#40251261", "title": "error C2011: &#39;class type redefinition - Basic Inheritance", "body": "<p>You should put your base array in a header:  </p>\n\n<p><strong><em>BaseArray.h</em></strong></p>\n\n<pre><code>#ifndef BASEARRAY_H_GUARD       // include guard\n#define BASEARRAY_H_GUARD       // include guard  \n\n                                // no using namespace !! \n                                // only includes needed for what's in the header\nclass BaseArray {\n    public:\n        BaseArray(); \n};\n\n#endif                      // include guard\n</code></pre>\n\n<p>And then leave in the cpp only the implementation part of your class: </p>\n\n<p><strong><em>BaseArray.cpp</em></strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"BaseArray.h\"\n\nusing namespace std;\n\nBaseArray::BaseArray() {     // no need class enclosing: the BaseArray:: prefix is sufficient\n}\n</code></pre>\n\n<p>The you can apply the same principle to the derived classes:  </p>\n\n<p><strong>OrderedArray.h</strong></p>\n\n<pre><code>#ifndef BASEARRAY_H_GUARD       // include guard\n#define BASEARRAY_H_GUARD       // include guard  \n\n#include \"BaseArray.h\"         // include only those that you need but all those that you need \n\nclass OrderedArray : public BaseArray {   // requires BaseArray \n    OrderedArray(); \n};\n\n#endif\n</code></pre>\n\n<p><strong>OrderedArray.cpp</strong></p>\n\n<pre><code>#include &lt;iostream&gt;         // include headers that are needed for class implementation   \n#include \"OrderedArray.h\"   // this should be self contained and provide\n                            // evertyhing that is needed for the class itself\n\nusing namespace std;\n\nOrderedArray::OrderedArray() {\n}\n</code></pre>\n\n<p>You then have to do the same for UnorderedArray and finally, you have to adapt your main.cpp to include .h instead of .cpp.  And you're done.  </p>\n\n<p>A final remark:  your cpp source code files are now ready for separate compilation.  This means that you can no longer compile only main.cpp,  hoping that it includes all the code: you have now to compile the 4 cpp files and link them together.  </p>\n"}], "owner": {"reputation": 1, "user_id": 7009773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7b23d0db41b0b094fb0812aa23e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Perron", "link": "https://stackoverflow.com/users/7009773/jon-perron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477437619, "creation_date": 1476298850, "question_id": 40006391, "link": "https://stackoverflow.com/questions/40006391/error-c2011-class-type-redefinition-basic-inheritance", "title": "error C2011: &#39;class type redefinition - Basic Inheritance", "body": "<p>Below are by 4 classes, I'm learning about basic c++ syntax and boy is it much harder and less forgiving than other languages I have used. I have a main class, base class \"BaseArray\" and two sub classes \"OrderedArray\" and \"UnorderedArray\".</p>\n\n<p>Main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"OrderedArray.cpp\"\n#include \"UnorderedArray.cpp\"\n\nusing namespace std;\n\nint main() {\n\n\n    system(\"PAUSE\");\n    return 0;\n}\n</code></pre>\n\n<p>BaseArray.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass BaseArray {\n    public:\n        BaseArray::BaseArray() {\n\n        }\n};\n</code></pre>\n\n<p>OrderedArray.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"BaseArray.cpp\"\n\nusing namespace std;\n\nclass OrderedArray : public BaseArray {\n    OrderedArray::OrderedArray() {\n\n    }\n};\n</code></pre>\n\n<p>UnorderedArray.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"BaseArray.cpp\"\n\nusing namespace std;\n\nclass UnorderedArray : public BaseArray {\n    UnorderedArray::UnorderedArray() {\n\n    }\n};\n</code></pre>\n\n<p>The errors I receive are as followed, from scouting other threads online. I think it might have to do with duplicate calling of classes. To be honest, I have no clue. If someone could point me in the right direction that would be nice, thanks in advance!</p>\n\n<pre><code>error C2011: 'BaseArray':'class' type redefinition\nerror C2504: 'BaseArray':base class undefined\n</code></pre>\n\n<p>To fix this error I can remove one of the includes at the top of main.cpp, but I need those to create objects and call functions from the subclasses later on.</p>\n"}, {"tags": ["c++", "ruby", "qt", "type-conversion"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1476300913, "post_id": 40006334, "comment_id": 67291873, "body": "Perhaps <code>Base_Initialize</code> needs to be <code>extern &quot;C&quot;</code>?"}, {"owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1476342423, "post_id": 40006334, "comment_id": 67306141, "body": "<code>extern &quot;C&quot;</code>, as i know, needed in c++ extension, not embeded ruby. By the way, i tried this."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "is_accepted": true, "score": 1, "last_activity_date": 1476359842, "creation_date": 1476359842, "answer_id": 40020363, "question_id": 40006334, "link": "https://stackoverflow.com/questions/40006334/ruby-rb-define-method-invalid-conversion/40020363#40020363", "title": "Ruby rb_define_method - invalid conversion", "body": "<p>I add <code>reinterpret_cast&lt; VALUE ( * ) ( ... ) &gt;(BaseItem_Initialize)</code> and it`s worked.</p>\n\n<pre><code>VALUE Base = rb_define_class(\"Base\", NULL);\nVALUE Base_Initialize(VALUE self);\nrb_define_method(Base, \"initialize\", reinterpret_cast&lt; VALUE ( * ) ( ... ) &gt;(BaseItem_Initialize), 0);\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5202096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cj-g4-8M82g/AAAAAAAAAAI/AAAAAAAAAEI/uZarQlx71kU/photo.jpg?sz=128", "display_name": "Strelokhalfer", "link": "https://stackoverflow.com/users/5202096/strelokhalfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 40020363, "answer_count": 1, "score": 1, "last_activity_date": 1476359842, "creation_date": 1476298627, "question_id": 40006334, "link": "https://stackoverflow.com/questions/40006334/ruby-rb-define-method-invalid-conversion", "title": "Ruby rb_define_method - invalid conversion", "body": "<p>I embed Ruby in QT app and try to create class and add him new method</p>\n\n<pre><code>VALUE Base = rb_define_class(\"Base\", NULL);\nVALUE Base_Initialize(VALUE self);\nrb_define_method(Base, \"initialize\", Base_Initialize, 0);\n</code></pre>\n\n<p>But i get error while compile</p>\n\n<pre><code>invalid conversion from 'VALUE (*)(VALUE) {aka long unsigned int (*)(long unsigned int)}' to 'VALUE (*)(...) {aka long unsigned int (*)(...)}' [-fpermissive]\n</code></pre>\n\n<p>In c extension worked fine.</p>\n"}, {"tags": ["c++", "opencv", "streaming", "gstreamer"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1476298616, "post_id": 40006284, "comment_id": 67290583, "body": "<i>&quot;Can I have a way to improve it?&quot;</i> You&#39;re probably better off asking at <a href=\"http://codereview.stackexchange.com/\">SE Code Review</a> to improve working code."}, {"owner": {"reputation": 5425, "user_id": 1932557, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/51KPf.jpg?s=128&g=1", "display_name": "Bahramdun Adil", "link": "https://stackoverflow.com/users/1932557/bahramdun-adil"}, "edited": false, "score": 0, "creation_date": 1509513971, "post_id": 40006284, "comment_id": 81044436, "body": "Hi sir! How did you solve the problem? I also have the same question. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7358303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0b92c00970c2667cd6800a8a939130?s=128&d=identicon&r=PG&f=1", "display_name": "Wopke", "link": "https://stackoverflow.com/users/7358303/wopke"}, "is_accepted": false, "score": 1, "last_activity_date": 1485514627, "creation_date": 1485514627, "answer_id": 41892337, "question_id": 40006284, "link": "https://stackoverflow.com/questions/40006284/stream-video-using-opencv-gstreamer/41892337#41892337", "title": "Stream video using OpenCV, GStreamer", "body": "<p>You might benefit from using a udp stream instead of tcp. Check out <a href=\"http://www.wumpus-cave.net/2015/11/06/low-latency-fpv-streaming-with-the-raspberry-pi/\" rel=\"nofollow noreferrer\">this link</a> for an example where a video was streamed from rpi to pc with only 100 ms lag.</p>\n"}], "owner": {"reputation": 1, "user_id": 6092203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6971ec7633788ee0e52e89c87605c4af?s=128&d=identicon&r=PG&f=1", "display_name": "Hello", "link": "https://stackoverflow.com/users/6092203/hello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1774, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485514627, "creation_date": 1476298475, "question_id": 40006284, "link": "https://stackoverflow.com/questions/40006284/stream-video-using-opencv-gstreamer", "title": "Stream video using OpenCV, GStreamer", "body": "<p>I am developing a program that is capturing raspicam and streaming with GStreamer. The first course, capturing raspicam doesn't have problem. But, the next course is have a big problem. I was created a total of 2 of sources code (server, client). Streaming data is very slow. Can I have a way to improve it? </p>\n\n<p>Please, help me.</p>\n\n<p>Thank you.</p>\n\n<p>----------- Server.cpp (Raspberry Pi, Raspbian) -----------</p>\n\n<pre><code>cap.set(CAP_PROP_FPS, 30);\ncap.open(0);\n//  Movie Frame Setup\n\nfps         =   cap.get(CAP_PROP_FPS);\nwidth       =   cap.get(CAP_PROP_FRAME_WIDTH);\nheight      =   cap.get(CAP_PROP_FRAME_HEIGHT);\ncout &lt;&lt; \"Capture camera with \" &lt;&lt; fps &lt;&lt; \" fps, \" &lt;&lt; width &lt;&lt; \"x\" &lt;&lt; height &lt;&lt; \" px\" &lt;&lt; \n\nwriter.open(\"appsrc ! gdppay ! tcpserversink host=192.168.0.29 port=5000\", 0, fps, cv::Size(width, height), true);\n\nwhile(1){\n        printf(\"AA\");\n        cap &gt;&gt; frame;\n        writer &lt;&lt; frame;\n\n\n}\n</code></pre>\n\n<p>----------- Client.cpp (PC, Ubuntu) -----------</p>\n\n<pre><code>Mat test;\nString captureString = \"tcpclientsrc host=192.168.0.29 port=5000 ! gdpdepay ! appsink\";\n\nVideoCapture cap(captureString);//0); \n\nnamedWindow(\"t\");\nwhile(1)\n{\n\n\n    cap &gt;&gt; test;\n\n    imshow(\"t\", test);\n\n    if( waitKey(10) &gt; 0)\n        break;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["php", "c++", "ajax", "backend"], "comments": [{"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1476298204, "post_id": 40006144, "comment_id": 67290343, "body": "If you learn a bit more about the technology you are using (for example the http server), then you will learn that the question you ask does not really make too much sense... Obviously a &quot;compiled .exe&quot; (I shudder writing that expression...) can &quot;be called&quot; via internet (a, http server does nothing else and most of them <i>are</i> &quot;compiled&quot;. The fact if it was linked to a certain library is irrelevant in that."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1476298376, "post_id": 40006144, "comment_id": 67290461, "body": "You can call an .exe from PHP and get a result from it, yes.  (<a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.exec.php</a>)  Or your .exe itself can be the HTTP server which handles the AJAX call.  I guess it&#39;s not really clear to me which you&#39;re asking (or something else?), or where you&#39;re stuck."}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1476298535, "post_id": 40006144, "comment_id": 67290544, "body": "@David: I&#39;d say what the OP is looking for is how to use a &quot;compiled program&quot; as a CGI executable or as a http server module."}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1476298610, "post_id": 40006144, "comment_id": 67290582, "body": "Your question reads as though the motivation for you to ask about a &quot;compiled&quot; solution is &quot;protection of your intellectual property&quot;... If that is the case, then please take a look around you and learn how the business works. Your code won&#39;t be stolen <i>if</i> you provide a good service and good code quality, simply because it is more effective for others to pay you. Things are different obviously if you deliver bad quality, then you <i>should</i> fear that you will not make good business when people can see that bad quality. But the answer to that is not secrecy. It is learning to code better."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6301980"}, "edited": false, "score": 0, "creation_date": 1476299543, "post_id": 40006144, "comment_id": 67291118, "body": "thx for the answers. I want that i call the exe via the ajax-call and the exe should return a string or json. Is this now compiled program as a CGI executable or is this a server module?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6301980"}, "edited": false, "score": 0, "creation_date": 1476300315, "post_id": 40006144, "comment_id": 67291542, "body": "Can i just put my exe in a folder on my server and make an ajax-call to it and receive the return-value of the exe in the ajax-response?"}], "owner": {"user_type": "does_not_exist", "display_name": "user6301980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476297923, "creation_date": 1476297923, "question_id": 40006144, "link": "https://stackoverflow.com/questions/40006144/is-it-possible-to-call-a-exe-compiled-in-qt-with-an-ajax-call-and-return-a-va", "title": "Is it possible to call a .exe (compiled in qt) with an ajax-call and return a value from it to the response of that ajax-call?", "body": "<p>Is it possible to call a .exe (compiled in qt) with an ajax-call and return a value from it to the response of that ajax-call?</p>\n\n<p>At the moment i use Php. But the problem is if I want to give my programm to end-users that they can install/upload it on there server, everything is visible to them, cause php is not compiled. I need something compiled, thats why i think about the question above. </p>\n\n<p>Hope somebody can help me </p>\n"}, {"tags": ["c++", "visual-studio", "cmake", "googletest"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 3, "creation_date": 1476298204, "post_id": 40006143, "comment_id": 67290345, "body": "I am not sure you can hide targets but you can do is group targets."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1476314977, "post_id": 40006143, "comment_id": 67297898, "body": "As far as I can tell, there&#39;s no way to hide projects in Visual Studio itself, so it&#39;s unlikely CMake would help you there. Why is it a problem anyway?  I suppose you can always split it up into several solutions, but it seems to me that would just be hassle for no benefit."}, {"owner": {"reputation": 1101, "user_id": 221801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb1e98402fc251dcd74dd7488f0615c1?s=128&d=identicon&r=PG", "display_name": "Lockyer", "link": "https://stackoverflow.com/users/221801/lockyer"}, "edited": false, "score": 0, "creation_date": 1503760171, "post_id": 40006143, "comment_id": 78752398, "body": "It&#39;s a problem because some projects include a lot of build targets. GLFW for example includes around 50 build targets, the list in visual studio is not really meant for this many entries as it has no search functionality and scrolling is awkward. It also makes it much more difficult for new users of your project to find the target they actually care about."}, {"owner": {"reputation": 1101, "user_id": 221801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb1e98402fc251dcd74dd7488f0615c1?s=128&d=identicon&r=PG", "display_name": "Lockyer", "link": "https://stackoverflow.com/users/221801/lockyer"}, "edited": false, "score": 0, "creation_date": 1503761032, "post_id": 40006143, "comment_id": 78752629, "body": "Oh, actually my concern is more the <code>CMake &gt; Build Only</code> menu in VS2017 which is much more difficult to navigate. However, I suspect that list does draw from whatever is in the solution explorer, so if you could split that up it would probably clean up both."}], "answers": [{"tags": [], "owner": {"reputation": 8053, "user_id": 4094678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9cbde609375e8b2ee26a0b6602c81b?s=128&d=identicon&r=PG", "display_name": "cantSleepNow", "link": "https://stackoverflow.com/users/4094678/cantsleepnow"}, "is_accepted": false, "score": 7, "last_activity_date": 1503926514, "last_edit_date": 1503926514, "creation_date": 1503920628, "answer_id": 45918184, "question_id": 40006143, "link": "https://stackoverflow.com/questions/40006143/how-to-hide-targets-in-visual-studio-from-cmake/45918184#45918184", "title": "How to hide targets in Visual Studio from CMake", "body": "<p>You can't do it explicitly <strong>only</strong> in cmake (ATM), but here is one way on how  can hide multiple targets more efficiently: Simply put them on in the same \"folder\" (in cmake) and then hide the folder (in visual studio).</p>\n\n<p>Suppose you have cmake targets called Mm,Nn and Pp that you want to hide in Visual Studio. You need to say to cmake to allow \"folders\" and Simply <a href=\"https://cmake.org/cmake/help/v3.9/command/set_target_properties.html\" rel=\"noreferrer\">set the property</a> called <a href=\"https://cmake.org/cmake/help/v3.9/prop_tgt/FOLDER.html\" rel=\"noreferrer\">FOLDER</a> like so</p>\n\n<pre><code>set_property(GLOBAL PROPERTY USE_FOLDERS ON)\nset_target_properties(Mm Nn Pp PROPERTIES FOLDER nameOfTheFolder)\n</code></pre>\n\n<p>and then right click on the folder <code>nameOfTheFolder</code>in solution and on <em>hide folder</em>.</p>\n\n<p>If you want to see the hidden folders again, right click on the solution and then <em>Unhide folders</em> (this is at least how it is in visual studio 2010)</p>\n"}], "owner": {"reputation": 732, "user_id": 4979620, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-DEUxr1BQqKQ/AAAAAAAAAAI/AAAAAAAAG98/T2aDvXbz9vU/photo.jpg?sz=128", "display_name": "Thibaut Mattio", "link": "https://stackoverflow.com/users/4979620/thibaut-mattio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2067, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1503926514, "creation_date": 1476297918, "question_id": 40006143, "link": "https://stackoverflow.com/questions/40006143/how-to-hide-targets-in-visual-studio-from-cmake", "title": "How to hide targets in Visual Studio from CMake", "body": "<p>I am generating a .sln with CMake.\nI want to use Google Test and use that kind of code for adding a new tests:</p>\n\n<pre><code>add_executable(my_test test/my_test.cpp)\ntarget_link_libraries(my_test gtest gmock_main)\nadd_test(NAME my_test COMMAND my_test)\n</code></pre>\n\n<p>It works fine, but when I open my .sln, I have all the targets appearing in the solution explorer: the libraries, the unit tests, etc.</p>\n\n<p>Is there a way to hide these target?</p>\n"}, {"tags": ["c++", "xml", "arduino"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1476298086, "post_id": 40006112, "comment_id": 67290266, "body": "There are various libraries for XML parsing built just for Arduino, but library recommendations are off topic."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476298476, "post_id": 40006112, "comment_id": 67290507, "body": "That said, <a href=\"http://softwarerecs.stackexchange.com/\">softwarerecs.stackexchange.com</a> was build for asking for recommendations. Just read their rules before posting to make sure you comply."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1476298758, "post_id": 40006112, "comment_id": 67290679, "body": "And THAT said, if your XML document is simple and predictable, and all you need is that one field, you can read the file into a <code>std::string</code>, do a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/find\" rel=\"nofollow noreferrer\"><code>std::string::find</code></a> for &quot;active_power_TOT=\\&quot;&quot; and parse what follows into a <code>double</code> with <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/stof\" rel=\"nofollow noreferrer\"><code>std::stod</code></a>"}], "owner": {"reputation": 25, "user_id": 6932883, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0VZTthfzzys/AAAAAAAAAAI/AAAAAAAADRQ/TqAj6uDkKrg/photo.jpg?sz=128", "display_name": "Ludovico Comito", "link": "https://stackoverflow.com/users/6932883/ludovico-comito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476300459, "creation_date": 1476297825, "last_edit_date": 1476300459, "question_id": 40006112, "link": "https://stackoverflow.com/questions/40006112/read-attribute-from-xml-file-c", "title": "Read attribute from xml file C++", "body": "<p>i have an XML file that looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;energy_data \nactive_power_TOT=\"68.41\" /&gt;&lt;/root&gt;\n</code></pre>\n\n<p>I want to read that <code>68.41</code> inside <code>active_power_TOT</code>, how can I do it? I'm using <code>Arduino</code>.</p>\n"}, {"tags": ["c++", "wireless", "ioctl", "ifconfig", "iwconfig"], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 5380027, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gMfFN.jpg?s=128&g=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/5380027/mateusz"}, "edited": false, "score": 0, "creation_date": 1491468381, "post_id": 43229287, "comment_id": 73569248, "body": "could you explain a bit more what is what?"}], "tags": [], "owner": {"reputation": 2193, "user_id": 1733955, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BmbmP.png?s=128&g=1", "display_name": "Th. Thielemann", "link": "https://stackoverflow.com/users/1733955/th-thielemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1491488529, "last_edit_date": 1491488529, "creation_date": 1491390077, "answer_id": 43229287, "question_id": 40006063, "link": "https://stackoverflow.com/questions/40006063/libnl-nl80211-equivalent-of-iw-set-ext/43229287#43229287", "title": "libnl/nl80211 equivalent of iw_set_ext", "body": "<p>I scan with netlink using the following steps</p>\n\n<ol>\n<li>Prepare and execute NL80211_CMD_TRIGGER_SCAN</li>\n<li><p>Prepare and execute NL80211_CMD_GET_SCAN</p>\n\n<p>Together with NL80211_CMD_GET_SCAN a callback is registered. \nIn the callback the raw data are parsed as BSS. The IE's are parsed to. See enums with NL80211_BSS_MAX, NL80211_ATTR_MAX from nl80211.h.</p></li>\n</ol>\n\n<p>Check the return values of every netlink call before process the next step.</p>\n\n<p>Code snippets:</p>\n\n<pre><code>nl_sock* socket = nl_socket_alloc();\ngenl_connect(socket);\nstruct nl_msg* msg = nlmsg_alloc();\nint driverId = genl_ctrl_resolve(socket, \"nl80211\"); \ngenlmsg_put(msg, 0, 0, driverId, 0, 0, NL80211_CMD_TRIGGER_SCAN, 0);\n</code></pre>\n\n<p>and fetch with:</p>\n\n<pre><code>genlmsg_put(msg, 0, 0, driverId, 0, NLM_F_DUMP, NL80211_CMD_GET_SCAN, 0);\nnl_socket_modify_cb(socket, NL_CB_VALID, NL_CB_CUSTOM, onScanResult, null);\n</code></pre>\n\n<p>My callback starts with:</p>\n\n<pre><code>struct genlmsghdr* msgHeader = (genlmsghdr*)nlmsg_data(nlmsg_hdr(msg));\nstruct nlattr* attributes[NL80211_ATTR_MAX + 1];\nstruct nlattr* bss[NL80211_BSS_MAX + 1];\nif(nla_parse(attributes, NL80211_ATTR_MAX, genlmsg_attrdata(msgHeader, 0), genlmsg_attrlen(msgHeader, 0), NULL) == 0)\n{\n    // Read the attributes\n    // and check for NL80211_ATTR_BSS != 0\n}\n</code></pre>\n\n<p>Most of the scanning results did I found in NL80211_BSS_INFORMATION_ELEMENTS.</p>\n\n<pre><code>if (nla_parse_nested(bss, NL80211_BSS_MAX, attributes[NL80211_ATTR_BSS], bss_policy) == 0)\n{ /* read the bss attributes */ }\n</code></pre>\n\n<p>See <strong>NL80211_BSS_INFORMATION_ELEMENTS</strong> from <strong>nl80211.h</strong> and</p>\n\n<p>But I failed to check for WEP privacy. \nTo check for WPA or WPA2 is easy, because there is an extra IE element with ID 48 (\u015aee IEEE Std 802.11 2012, chapter 8.4.2, free download form ieee side)</p>\n"}], "owner": {"reputation": 545, "user_id": 5380027, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gMfFN.jpg?s=128&g=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/5380027/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1491488529, "creation_date": 1476297619, "last_edit_date": 1477137712, "question_id": 40006063, "link": "https://stackoverflow.com/questions/40006063/libnl-nl80211-equivalent-of-iw-set-ext", "title": "libnl/nl80211 equivalent of iw_set_ext", "body": "<p>I started writing a code to handle wifi card using iwconfig/ioctl when I realised that it is depricated and most of applications uses nl80211.\nI started reading its source code but there is no docs and code is a bit complicated.\nHow can I do simple things like scanning, turning off/on, setting card mode using nl80211 or libnl?\nThis is what I started with iw:</p>\n\n<pre><code>void set_card_mode(MODE mode, std::string ifname)\n{\n    int skfd = iw_sockets_open();\n    struct iwreq wrq;\n    wrq.u.mode = static_cast&lt;unsigned int&gt;(mode);\n    power_interface(ifname, false);\n    if(iw_set_ext(skfd, ifname.c_str(), SIOCSIWMODE, &amp;wrq) &lt; 0)\n        throw std::runtime_error(\"Can set card mode\");\n}\n\n\nMODE get_card_mode(std::string ifname)\n{\n    int skfd = iw_sockets_open();\n    struct iwreq wrq;\n    if (iw_get_ext (skfd, ifname.c_str(), SIOCGIWMODE, &amp;wrq) &gt;= 0)\n    {\n        return static_cast&lt;MODE&gt;(wrq.u.mode);\n    }\n}\n</code></pre>\n\n<p>Is there any equivalent of iw_get_ext to set/get wifi interface or any api with simple functions like \"set_mode\" or \"power_off\"?</p>\n"}, {"tags": ["c++", "vector", "char", "int", "bitset"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 3, "creation_date": 1476297648, "post_id": 40006043, "comment_id": 67290016, "body": "What are you expecting this to do? Why do you think this should work?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476297655, "post_id": 40006043, "comment_id": 67290020, "body": "What are you trying to do with <code>alp = bitset&lt;8&gt;(alpha[i]);</code>?"}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "edited": false, "score": 0, "creation_date": 1476297767, "post_id": 40006043, "comment_id": 67290087, "body": "putting the output of bitset in alp"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476297822, "post_id": 40006043, "comment_id": 67290118, "body": "So you are trying to convert the <code>char</code> into a <code>int</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1476297835, "post_id": 40006043, "comment_id": 67290130, "body": "<code>bitset&lt;8&gt;</code> is not a function, it&#39;s a type. It doesn&#39;t make sense to talk about its output."}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476297984, "post_id": 40006043, "comment_id": 67290206, "body": "yes @NathanOliver that&#39;s why i am using bitset"}, {"owner": {"reputation": 6654, "user_id": 111143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhf9U.jpg?s=128&g=1", "display_name": "Tommy Andersen", "link": "https://stackoverflow.com/users/111143/tommy-andersen"}, "edited": false, "score": 1, "creation_date": 1476297995, "post_id": 40006043, "comment_id": 67290214, "body": "The way you have attempted to write it, it almost looks like you are looking for the <code>to_ulong</code> method of <code>bitset</code>, but then again why not just assign <code>alpha[i]</code> to <code>alp</code> directly?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476298037, "post_id": 40006043, "comment_id": 67290233, "body": "@DewangGupta You are going way overboard trying to use a <code>std::bitset</code> for this.  see: <a href=\"http://stackoverflow.com/questions/5029840/convert-char-to-int-in-c-and-c\" title=\"convert char to int in c and c\">stackoverflow.com/questions/5029840/&hellip;</a>"}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476298988, "post_id": 40006043, "comment_id": 67290819, "body": "@NathanOliver read the question carefully . I also stated the same error occur even if I change int alp to char alp"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476299049, "post_id": 40006043, "comment_id": 67290845, "body": "@DewangGupta I did.  I&#39;m saying get rid of the <code>bitset</code> entirely as it is not needed and use the method that I linked to.  That is you need to completely change the way you are doing the conversion.  Not just one part of it."}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476299424, "post_id": 40006043, "comment_id": 67291055, "body": "@NathanOliver If I remove the bitset then I have to write a code for conversion into binary.I Guess I have to write separate code for it."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476299572, "post_id": 40006043, "comment_id": 67291136, "body": "@DewangGupta What do you mean you need to convert to binary?  You said you need to convert characters into integers.  Where does binary come in?  What are you actually try to do?  What problem are you trying to solve."}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476300354, "post_id": 40006043, "comment_id": 67291559, "body": "@NathanOliver I never said I want to convert characters to integers. I just wanted the solution to error."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1476300524, "post_id": 40006043, "comment_id": 67291664, "body": "@DewangGupta I asked <i>So you are trying to convert the char into a int?</i> and you said <i>yes @NathanOliver that&#39;s why i am using bitset</i>.  Your problem cannot be fixed because you cannot assign a <code>bitset</code> to a <code>int</code>.  You can try using the <code>to_ulong</code> member function like <code>bitset&lt;8&gt;(alpha[i]).to_ulong()</code> but I doubt that is really what you want."}, {"owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476300694, "post_id": 40006043, "comment_id": 67291744, "body": "@NathanOliver oh sorry I forgot I  said that.Okay I can try this but I think I have found my solution. Thanks for the help."}], "owner": {"reputation": 37, "user_id": 4708313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/822855571085410/picture?type=large", "display_name": "Dewang Gupta", "link": "https://stackoverflow.com/users/4708313/dewang-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555604722, "creation_date": 1476297564, "last_edit_date": 1476297889, "question_id": 40006043, "link": "https://stackoverflow.com/questions/40006043/how-do-i-store-the-output-of-bitset-in-another-variable-cannot-convert-bitset", "title": "how do i store the output of bitset in another variable ? (cannot convert bitset&lt;8ull&gt; to &#39;int&#39; assignment)", "body": "<p>here it is </p>\n\n<p>it shows the following error :</p>\n\n<p>[Error] cannot convert 'std::bitset&lt;8ull>' to 'int' in assignment</p>\n\n<p>if i change [int alp] to [char alp], it shows the same error with \n\"to 'char' in assignment\" instead of int</p>\n\n<pre><code>string input;\ncout &lt;&lt; \"enter your message : \";\ngetline(cin, input);\nint alp;\n\nvector&lt;char&gt; alpha(input.begin(), input.end());\nfor(int  i = 0; i &lt; alpha.size(); i++){\n\n    alp = bitset&lt;8&gt;(alpha[i]);\n}\n</code></pre>\n\n<p>how do i store the output of bitset in another variable ?</p>\n"}, {"tags": ["c++", "arrays", "encryption", "dynamic", "decode"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1476298727, "post_id": 40005986, "comment_id": 67290653, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1476301821, "post_id": 40005986, "comment_id": 67292341, "body": "I recommend using <code>char</code> for <i>single</i> characters and <code>std::string</code> for multiple characters (like words, sentences and <i>text lines</i>)."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 0, "last_activity_date": 1476302296, "creation_date": 1476302296, "answer_id": 40007284, "question_id": 40005986, "link": "https://stackoverflow.com/questions/40005986/customer-decipher-program-c-trouble-reading-in/40007284#40007284", "title": "Customer Decipher program c++ Trouble reading in", "body": "<p>IMHO, your project would be simpler if you used <code>std::string</code> and overloaded the formatted input operator <code>&gt;&gt;</code>:  </p>\n\n<pre><code>struct Word_Jump\n{\n  std::string word; // Using std::string because it has space for more than one character.\n  int jump;\n  friend std::istream&amp; operator&gt;&gt;(std::istream&amp; input, Word_Jump&amp; wj);\n};\n\nstd::istream&amp;\noperator&gt;&gt;(std::istream&amp; input, Word_Jump&amp; wj)\n{\n  input &gt;&gt; wj.word;\n  input &gt;&gt; jump;\n  return input;\n}\n</code></pre>\n\n<p>Your input could look something like this:</p>\n\n<pre><code>std::vector&lt;Word_Jump&gt; database;\nfor (unsigned int i = 0; i &lt; number_of_words; ++i)\n{\n  Word_Jump wj;\n  my_data_file &gt;&gt; wj;\n  database.push_back(wj);\n}\n</code></pre>\n\n<p>Similarly, you input for reading keys:</p>\n\n<pre><code>std::vector&lt;int&gt; key_database;\nfor (unsigned int j = 0; j &lt; number_of_keys; ++j)\n{\n  int k = 0;\n  my_data_file &gt;&gt; k;\n  key_database.push_back(k);\n}\n</code></pre>\n\n<p>So the above are two possible methods for reading in the word &amp; jump pairs and also the keys.  </p>\n"}], "owner": {"reputation": 35, "user_id": 6832052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ffe44af823d412e33b81eb3b665d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Johhny B", "link": "https://stackoverflow.com/users/6832052/johhny-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 40007284, "answer_count": 1, "score": -1, "last_activity_date": 1476302296, "creation_date": 1476297390, "question_id": 40005986, "link": "https://stackoverflow.com/questions/40005986/customer-decipher-program-c-trouble-reading-in", "title": "Customer Decipher program c++ Trouble reading in", "body": "<p>So I have a custom decipher program that reads in an input file and deciphers it based on the keys that are input.\nText file:</p>\n\n<pre><code>23\n11\n\nJava 2 linux 3 fear 0 pool 2 do 0 red 1 lock. 1 I 0 random 2 computers, 0 not 0 the 0 open 2 car! 2 C, 0 lack 0 of 0 dog 1 green 2 C++ 0 bottle 2 wrong, 2 them. 0\n\n5 1 10 21 9 6 21 11 13 16 20\n</code></pre>\n\n<p>This file is represented as:</p>\n\n<pre><code>[Number of Words]\n[Number of Keys]\n\n[Word] [Jump] [Word] [Jump] ... [Word] [Jump]   \n\n[Key] [Key] ... [Key] \n</code></pre>\n\n<p>I have managed for the program to read in the number of keys and amount of words, however I have having trouble reading in the words and the numbers next to them as well as the last numbers and registering those as keys. This is what I have so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nstruct pieces {\n\nchar word;\nint jump;\n\n} ;\n\n // Main Function\nint main ()\n{\n// declare variables\nint keyCount = 1;\nint wordCount = 8;\nint wordAmount[8];\nint keyAmount[8];\npieces cipher[5];\nchar decoded[20][20];\nchar filename[10];\nint keys[keyCount];\nchar tArray[20][20];\nifstream inData;\n\n  //prompt user for input file\n\ncout &lt;&lt; \" Enter file name: \";\ncin &gt;&gt; filename;\n\ninData.open(filename);\n\nif(inData.is_open());\n{\n\n    // read list of names into array\n\n    for ( int i = 0; i &lt; keyCount; ++i){           \n\n    inData &gt;&gt; wordAmount[i] &gt;&gt; keyAmount[i];\n\n        for(int j = 0; j &lt; wordCount; j++){\n\n        inData &gt;&gt; cipher[j].word &gt;&gt; cipher[j].jump;\n\n        }\n\n    }\n\ncout &lt;&lt; \" Key Count: \" &lt;&lt; keyCount &lt;&lt; \"\\n\";\n\n    // print out \n\n        for ( int i = 0; i &lt; keyCount; ++i){\n\n    cout &lt;&lt; \" KeyAmount: \";\n    cout &lt;&lt; keyAmount[i] &lt;&lt; \"\\n\";\n    cout &lt;&lt; \" WordAmount: \";\n    cout &lt;&lt; wordAmount[i] &lt;&lt; \"\\n\";\n\n        for(int j = 0; j &lt; wordCount; j++){\n\n        cout &lt;&lt; cipher[j].word &lt;&lt; \" \" &lt;&lt; cipher[j].jump;\n\n            }\n\n            }\n\n    }\n\ninData.close();\n\n  return 0;\n}\n</code></pre>\n\n<p>I did try putting the char word as an array but then I got a segmentation file. Any advice would be appreciated!</p>\n"}, {"tags": ["c++", "arrays", "dynamic", "allocation", "environ"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476297207, "post_id": 40005849, "comment_id": 67289748, "body": "maybe you could post some <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ? On a modern computer I&#39;m surprised you cannot copy some env. variables."}, {"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476297940, "post_id": 40005849, "comment_id": 67290178, "body": "I have added the core code I currently have to initialize an object using environ variables."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476299263, "post_id": 40005849, "comment_id": 67290965, "body": "What are the symptoms of the error, would it by chance be an infinite loop? (and assuming a memory error would be wrong)"}, {"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476299469, "post_id": 40005849, "comment_id": 67291078, "body": "Actually, the error occurs when I try to dynamically allocate the array with the calculated size. Whenever I ask the user to input the amount of environ variables to store, the program executes well. Perhaps it is simply too much for my current memory to store every single environ variable."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476299810, "post_id": 40006544, "comment_id": 67291281, "body": "Thanks for your reply!"}, {"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476299871, "post_id": 40006544, "comment_id": 67291306, "body": "Thanks for your reply! The cast is actually a type.  Do you have any other suggestions to store all the strings of environ in an array?"}, {"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476300249, "post_id": 40006544, "comment_id": 67291502, "body": "First of all, I appreciate the effort! However, my course clearly states I am no supposed to use any tools not covered yet by the lectures. Sadly, I cannot use vector as of yet.  I will however remember this solution for any future programs. Do you happen to know a solution with the class as I provided (i.e. with the d_str array). I am not allowed to add any other data members or modify these."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476300703, "post_id": 40006544, "comment_id": 67291754, "body": "not a problem, see my edit, just not &quot;real&quot; C++. What pedagogy is it? You cannot use <code>vector</code>, so maybe you could be punished for using <code>string</code>. Both are part of the C++ library now. Tell your teacher &quot;come on it&#39;s 2016 now&quot;."}, {"owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476300940, "post_id": 40006544, "comment_id": 67291885, "body": "Perfect, thanks a lot! Why do we need to copy to count the amount of elements? Every teacher has his or her own style I guess ;)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "edited": false, "score": 0, "creation_date": 1476301546, "post_id": 40006544, "comment_id": 67292183, "body": "If you don&#39;t make a copy of <code>envp</code> you reach <code>nullptr</code> and you cannot copy the elements because you&#39;ve lost the original pointer."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1476301590, "last_edit_date": 1476301590, "creation_date": 1476299408, "answer_id": 40006544, "question_id": 40005849, "link": "https://stackoverflow.com/questions/40005849/storing-environ-variables-in-a-dynamically-allocated-array/40006544#40006544", "title": "Storing environ variables in a dynamically allocated array", "body": "<p>This loop you use to count how many env. vars you receive is an infinite loop. <code>envp</code> does not change from one iteration to another.</p>\n\n<pre><code>for (char** env = envp; *envp != nullptr; ++env)\n        ++d_size;\n</code></pre>\n\n<p>Since <code>envp</code> is not <code>nullptr</code> at the start, you never reach the exit condition which makes you believe that you're running out memory but no: you're running out of CPU :)</p>\n\n<p>Another error: in the main you should build an object not try to \"cast\" to <code>Stringstore</code>:</p>\n\n<pre><code>int main(int argc, char **argv, char **envp)\n{\n    Stringstore the_string_store(envp);    \n}\n</code></pre>\n\n<p>Note that using a vector (auto-realloc, no <code>new</code>, trivial copy-constructor for your class) would maybe have avoided that error. Let me propose a fixed code (which prints the env in the end to prove it works)</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Stringstore\n{\nstd::vector&lt;string&gt; d_str;\npublic:\n    Stringstore(int argc, char **argv1);\n    Stringstore(char **envp);\n};\nStringstore::Stringstore(char ** envp)\n{  \n    // store each env. string\n    for (; *envp != nullptr; ++envp)\n        d_str.push_back(*envp);\n\n   // debug: print the contents of the vector\n   for (auto it : d_str)\n   {\n      cout &lt;&lt; it &lt;&lt; endl;\n   }\n} \n\n\nint main(int argc, char **argv, char **envp)\n{\n    Stringstore s(envp);    \n}\n</code></pre>\n\n<p>Running this I get this:</p>\n\n<pre><code>ALLUSERSPROFILE=C:\\ProgramData\nAPPDATA=D:\\Users\\xxxxxxx\\AppData\\Roaming\nCommonProgramFiles=C:\\Program Files (x86)\\Common Files\nCommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\nCommonProgramW6432=C:\\Program Files\\Common Files\nCOMPUTERNAME=xxxxxx\n...\n</code></pre>\n\n<p>Last edit: if you're not allowed to use <code>vector</code>, well that's a bummer, however this fixed version of your method works fine:</p>\n\n<pre><code>Stringstore::Stringstore(char ** envp)\n{  \n    // make a copy so we can count and preserve the original pointer\n    // for the second pass: the string copy\n    char **envp_copy = envp;  \n    d_size = 0;  // you forgot to initialize it too :)\n\n    for (; *envp_copy != nullptr; ++envp_copy)\n        d_size++;  // count\n\n    // the rest is your code, unchanged\n    d_str = new string[d_size];\n    for (int index=0; index != d_size; ++index)\n        d_str[index] = envp[index];\n\n    // debug: print env\n    for (int index=0; index != d_size; ++index)\n    {\n        cout &lt;&lt; d_str[index] &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6941202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a3570ea24e758b2eeb3fc034d7ea13?s=128&d=identicon&r=PG&f=1", "display_name": "Blackjaguar", "link": "https://stackoverflow.com/users/6941202/blackjaguar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476301590, "creation_date": 1476296891, "last_edit_date": 1476297908, "question_id": 40005849, "link": "https://stackoverflow.com/questions/40005849/storing-environ-variables-in-a-dynamically-allocated-array", "title": "Storing environ variables in a dynamically allocated array", "body": "<p>I am currently working on a class that stores strings. It is supposed to have two seperate constructors, one allowing the user to initialize the object with argv type of arguments, while the other initializes the object with environ type of arguments.</p>\n\n<p>Everything works perfectly when I am using argv, the object is correctly initialized and stores every string I added in the command line.\nHowever, for the environ variables I run into trouble. \nStoring every environ string into my object seems to ambitious, as it exceeds the memory I have access to.</p>\n\n<p>Are there any ways to reduce the size of the environ variable, or control the amount of variables main takes as an argument?</p>\n\n<p>Fyi, the class containt two data members: one storing the amount of strings stored, while the other is the actual array of strings.\nI tried using a dynamically allocated array, using the amount of environ variables as an argument (counted using a for loop). However, there appear to be too many variables hence I end up with a bad_alloc error.</p>\n\n<pre><code>Stringstore::Stringstore(char ** envp)\n{  \n    for (char** env = envp; *envp != nullptr; ++env)\n        ++d_size;\n    d_str = new string[d_size];\n    for (int index=0; index != d_size; ++index)\n        d_str[index] = envp[index];\n} \n\nclass Stringstore\n{\nstring *d_str;\nint d_size;\npublic:\n    Stringstore(int argc, char **argv1);\n    Stringstore(char **envp);\n};\n\n\nint main(int argc, char **argv, char **envp)\n{\n    Stringstore(envp);    \n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476296553, "post_id": 40005746, "comment_id": 67289369, "body": "<code>&quot;&quot;</code> also look in the current directory"}, {"owner": {"reputation": 279, "user_id": 5407986, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/44a5f0cfe31645448e3589f4667cf930?s=128&d=identicon&r=PG", "display_name": "Lupe", "link": "https://stackoverflow.com/users/5407986/lupe"}, "edited": false, "score": 1, "creation_date": 1476296800, "post_id": 40005746, "comment_id": 67289520, "body": "&quot;also&quot; is misleading."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476296842, "post_id": 40005746, "comment_id": 67289546, "body": "@krzaq - that is not required."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476296990, "post_id": 40005746, "comment_id": 67289630, "body": "What? <i>If this search is not supported, or if the search fails, the directive is reprocessed as if it read # include &lt; h-char-sequence&gt; new-line</i>"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476297016, "post_id": 40005746, "comment_id": 67289646, "body": "<a href=\"http://eel.is/c++draft/cpp.include\" rel=\"nofollow noreferrer\">eel.is/c++draft/cpp.include</a>"}], "owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1476296612, "answer_count": 0, "score": 2, "last_activity_date": 1476296534, "creation_date": 1476296534, "question_id": 40005746, "link": "https://stackoverflow.com/questions/40005746/what-is-the-difference-between-quotes-and-brackets-for-pre-processor-directives", "closed_reason": "Duplicate", "title": "What is the difference between quotes and brackets for pre-processor directives in C++?", "body": "<p>I am looking at a code example and notice some pre-processor directives using quotes and the others using brackets? What is the difference?</p>\n\n<pre><code>#ifdef WIN32\n#include &lt;windows.h&gt;\n#else // Redhat Linux Version 6.0\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#endif\n#include &lt;iostream.h&gt;\n#include &lt;string.h&gt;\n#include \"CamCoStr.hh\"\n</code></pre>\n"}, {"tags": ["c++", "c++11", "shared-ptr", "make-shared"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476296713, "post_id": 40005718, "comment_id": 67289461, "body": "There&#39;s no such guarantee. That&#39;s just a recommendation."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476296783, "post_id": 40005718, "comment_id": 67289509, "body": "What&#39;s the question? Someone internally will call <code>::operator new</code> to allocate memory."}, {"owner": {"reputation": 297, "user_id": 2717079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6d8d6375ef952cee901215e5d4b2ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user2717079", "link": "https://stackoverflow.com/users/2717079/user2717079"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476297034, "post_id": 40005718, "comment_id": 67289650, "body": "I agree , but doing new for manager object and again new for controller will allocate memory at different locations in heap . It will not be a single memory allocation ."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1476297116, "post_id": 40005718, "comment_id": 67289687, "body": "It can just allocate raw memory for <code>sizeof(controller)</code> + <code>sizeof(object)</code> + padding and then use placement <code>new</code> to initialize"}], "answers": [{"comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1476300107, "post_id": 40006571, "comment_id": 67291424, "body": "Isn&#39;t it possible to create a <code>struct</code> that contains both the control block and pointed object, rather than using a raw block of memory?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1476300895, "post_id": 40006571, "comment_id": 67291866, "body": "@MarkRansom perhaps. I&#39;m not confident enough to deny feasibility of such approach. It would certainly make the implementation simpler. If I were to implement the standard library, I would investigate that option first."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1476301556, "post_id": 40006571, "comment_id": 67292190, "body": "The object passed to <code>make_shared</code> will need to be copied either way."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1476301719, "post_id": 40006571, "comment_id": 67292288, "body": "@MarkRansom when user allocates the object separately, they would be calling <code>shared_ptr::shared_ptr(Y*)</code> rather than <code>make_shared</code>, wouldn&#39;t they? That said, I removed my previous rambling. I really don&#39;t know if a struct is an option."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1476302389, "post_id": 40006571, "comment_id": 67292630, "body": "I found an attempt at implementing <code>make_shared</code> <a href=\"http://stackoverflow.com/questions/27377868/make-shared-own-implementation\">here on stackoverflow</a> with a fine answer by Jonathan Wakely that fixes many problems of the original. That approach does use a struct."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 2, "last_activity_date": 1476300908, "last_edit_date": 1476300908, "creation_date": 1476299518, "answer_id": 40006571, "question_id": 40005718, "link": "https://stackoverflow.com/questions/40005718/how-does-make-shared-allocate-single-dynamic-memory-for-manager-object-and-manag/40006571#40006571", "title": "How does make_shared allocate single dynamic memory for manager object and managed object", "body": "<blockquote>\n  <p>make_shared will make a single memory allocation dynamically</p>\n</blockquote>\n\n<p>Note that this is not required by the standard. It is possible, and good implementations do that.</p>\n\n<p>How could it be done?</p>\n\n<p>For example, it could be implemented by allocating an uninitialized block of memory that is large enough to contain both the control block and the pointed object taking their alignment requirement into account, then construct each of the two objects using <a href=\"http://en.cppreference.com/w/cpp/language/new\" rel=\"nofollow\">placement new</a>. <a href=\"http://en.cppreference.com/w/cpp/memory/c/malloc\" rel=\"nofollow\"><code>std::malloc</code></a> may be used to allocate the memory. This is somewhat similar to how <code>std::vector::reserve</code> can allocate a block of memory where multiple objects can later be constructed.</p>\n"}], "owner": {"reputation": 297, "user_id": 2717079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d6d8d6375ef952cee901215e5d4b2ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user2717079", "link": "https://stackoverflow.com/users/2717079/user2717079"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 40006571, "answer_count": 1, "score": 0, "last_activity_date": 1476300908, "creation_date": 1476296447, "last_edit_date": 1476296698, "question_id": 40005718, "link": "https://stackoverflow.com/questions/40005718/how-does-make-shared-allocate-single-dynamic-memory-for-manager-object-and-manag", "title": "How does make_shared allocate single dynamic memory for manager object and managed object", "body": "<p>make_shared will make a single memory allocation dynamically and hence improves the performance . But how does it make a single memory allocation using new for both managed object and control block .I wanted to know how memory allocation actually happens internally .</p>\n"}, {"tags": ["c++", "class", "vector", "std"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1476296398, "post_id": 40005586, "comment_id": 67289276, "body": "<code>std::copy</code> expects iterator, not container (Your may look at <code>std::back_inserter</code>). <code>Cart::Cart(std::initializer_list&lt;Item&gt; lst) : customer_cart(lst){}</code> would do the job."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1476296446, "post_id": 40005586, "comment_id": 67289303, "body": "Unrelated, think <i>seriously</i> about what is called with <code>*this = i;</code> being in your assignment operator overload (spoiler: the very same overloaded operator you&#39;re defining)."}, {"owner": {"reputation": 123, "user_id": 6900730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54701951dd0a75674459451592838b95?s=128&d=identicon&r=PG&f=1", "display_name": "Piero Marini", "link": "https://stackoverflow.com/users/6900730/piero-marini"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476296750, "post_id": 40005586, "comment_id": 67289487, "body": "@Jarod42 Thanks, that worked. Didnt think of that."}, {"owner": {"reputation": 123, "user_id": 6900730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54701951dd0a75674459451592838b95?s=128&d=identicon&r=PG&f=1", "display_name": "Piero Marini", "link": "https://stackoverflow.com/users/6900730/piero-marini"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476297033, "post_id": 40005586, "comment_id": 67289649, "body": "@WhozCraig I noticed that but it just worked. I know is bad, was just going to google some info on that. Could you give me a hand with it please?"}, {"owner": {"reputation": 123, "user_id": 6900730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54701951dd0a75674459451592838b95?s=128&d=identicon&r=PG&f=1", "display_name": "Piero Marini", "link": "https://stackoverflow.com/users/6900730/piero-marini"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476297220, "post_id": 40005586, "comment_id": 67289758, "body": "@Jarod42 Also, I read in the c++ docs that .begin()/.end() return an iterator, not a container. What did you mean then?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476297349, "post_id": 40005586, "comment_id": 67289832, "body": "I mean <code>std::copy(lst.begin(), lst.end(), std::back_inserter(customer_cart))</code>, as <code>customer_cart</code> is a container, not an iterator."}, {"owner": {"reputation": 123, "user_id": 6900730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54701951dd0a75674459451592838b95?s=128&d=identicon&r=PG&f=1", "display_name": "Piero Marini", "link": "https://stackoverflow.com/users/6900730/piero-marini"}, "edited": false, "score": 0, "creation_date": 1476297982, "post_id": 40005586, "comment_id": 67290204, "body": "Oh. Got confused, thanks."}], "owner": {"reputation": 123, "user_id": 6900730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54701951dd0a75674459451592838b95?s=128&d=identicon&r=PG&f=1", "display_name": "Piero Marini", "link": "https://stackoverflow.com/users/6900730/piero-marini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476296039, "creation_date": 1476296039, "question_id": 40005586, "link": "https://stackoverflow.com/questions/40005586/c-iniatializer-list-on-vector-with-custom-object", "title": "C++ Iniatializer list on vector with custom object?", "body": "<p>Im trying to implement initializer_list for the vector containing my custom-class objects but im getting the error:</p>\n\n<pre><code>no type named 'value_type' in 'struct std::iterator_traits&lt;std::vector&lt;Item&gt;&gt;'\ntypedef typename iterator_traits&lt;_OI&gt;::value_type _ValueTypeO;\n</code></pre>\n\n<h1>Here is my custom class object</h1>\n\n<pre><code>class Item{\n    private:\n        int id;\n        std::string item_name;\n        double item_price;\n        bool item_available;\n        int stock;\n        ItemCategory item_category;\n\n\n        Item* arrayData;\n        int size;\n\n    public:\n        static int id_ref;\n        Item(){}\n        Item(std::string _name, double _price, ItemCategory _category);\n        Item(std::string _name, double _price, int _stock, ItemCategory _category);\n        Item&amp; operator=(const Item&amp; i);\n        //Getters\n        const int getId(){return id;}\n        const std::string getName(){return item_name;}\n        const double getPrice(){return item_price;}\n        const bool getAvailable(){return item_available;}\n        const int getStock(){return stock;}\n        const ItemCategory getCategory(){return item_category;}\n        const std::string getCategoryString();\n        //Setters\n        void setName(std::string n){item_name = n;}\n        void setPrice(double p){item_price = p;}\n        void setAvaiable(bool b){item_available = b;}\n        void setStock(int s){stock = s;}\n        void setCategory(ItemCategory ic){item_category = ic;}\n\n};\n\n//Copy operator\nItem&amp; Item::operator=(const Item&amp; i){\n    *this = i;\n    return *this;\n}\n\n//Keep track of all Items created to index them.\nint Item::id_ref = 0; \nconst std::string Item::getCategoryString(){\n    switch(item_category){\n        case (ItemCategory::FOOD):\n            return \"Food\";\n        case (ItemCategory::CLOTHES):\n            return \"Clothes\";\n    }\n}\n\n\nItem::Item(std::string _name, double _price, ItemCategory _category):\n        id{Item::id_ref++}, item_name{_name}, item_price{_price}, \n        item_available{true}, stock{1}, item_category{_category}{}\n\nItem::Item(std::string _name, double _price, int _stock, ItemCategory _category):\n    id{Item::id_ref++}, item_name{_name}, item_price{_price}, \n    item_available{true}, stock{_stock}, item_category{_category}{}\n</code></pre>\n\n<h1>This is how im trying to use the class</h1>\n\n<pre><code>class Cart{\n    private:\n        std::vector&lt;Item&gt; customer_cart;\n\n    public:\n        Cart(){}\n        Cart(std::initializer_list&lt;Item&gt;);\n        void push(Item i){customer_cart.push_back(i);}\n        void printAllItems();\n        Item&amp; operator[](int i){return customer_cart[i];}\n\n\n};\n\nCart::Cart(std::initializer_list&lt;Item&gt; lst){\n    copy(lst.begin(), lst.end(), customer_cart);\n\n}\n\nvoid Cart::printAllItems(){\n    std::cout &lt;&lt; \"Id   Name      Category     Price    Stock\" &lt;&lt; std::endl; \n    for(auto i:customer_cart){\n        std::cout &lt;&lt; i.getId() &lt;&lt; \"   \" &lt;&lt; i.getName() &lt;&lt; \"      \" &lt;&lt; i.getCategoryString()                &lt;&lt; \"         \" &lt;&lt; i.getPrice() &lt;&lt; \"      \" &lt;&lt; i.getStock() &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>I know that I can do this for the initializer list:</p>\n\n<pre><code>for(auto l: lst)\n        customer_cart.push_back(l);\n</code></pre>\n\n<p>But Im only 2 days into C++ and I want to learn more stuff that will be useful in the future.</p>\n\n<p>Thanks to anyone in advance for helping to fix my problem. Also any comment regarding my code (how to make it better/more efficient) is welcome. I'm coming from python so many things are kinda new for me in c++.</p>\n"}, {"tags": ["c++", "c++11"], "answers": [{"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 4, "last_activity_date": 1476296003, "creation_date": 1476296003, "answer_id": 40005577, "question_id": 40005555, "link": "https://stackoverflow.com/questions/40005555/parameter-type-mismatch-with-pointer-reference/40005577#40005577", "title": "parameter type mismatch with pointer/reference", "body": "<p>You're passing a pointer where a reference is expected. Dereference it:</p>\n\n<pre><code>this-&gt;player = new Player(20,100, config, *window);\n                                          ^\n</code></pre>\n\n<p>By the way, consider using smart pointers, like <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"nofollow\"><code>unique_ptr</code></a> to manage your memory. This way you'll be able to employ <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow\">rule of zero/three/five</a> instead of breaking of rule of three/five part of it.</p>\n"}], "owner": {"reputation": 97, "user_id": 6183878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ced77e1a0aa739ae1fa6ce289c8e249?s=128&d=identicon&r=PG&f=1", "display_name": "ebk", "link": "https://stackoverflow.com/users/6183878/ebk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 40005577, "answer_count": 1, "score": 0, "last_activity_date": 1476296003, "creation_date": 1476295936, "question_id": 40005555, "link": "https://stackoverflow.com/questions/40005555/parameter-type-mismatch-with-pointer-reference", "title": "parameter type mismatch with pointer/reference", "body": "<p>I\u00b4m trying to add a player to a game I\u00b4m creating, but during this process I keep getting an error on the window parameter when I\u00b4m creating a new player in mainGame.cpp</p>\n\n<p>The issue is a pointer/reference issue, but I can\u00b4t figure out how to fix it.</p>\n\n<p>This is the error message:</p>\n\n<blockquote>\n  <p>Parameter type mismatch: Incompatible types 'sf::RenderWindow &amp;' and 'sf::RenderWindow *'</p>\n</blockquote>\n\n<p>my mainGame.cpp look like this:</p>\n\n<pre><code>void mainGame::Initialize(sf::RenderWindow* window){\n    this-&gt;player = new Player(20,100, config, window);\n}\n\nvoid mainGame::Destroy(sf::RenderWindow* window){\n    delete this-&gt;player;\n}\n</code></pre>\n\n<p>my mainGame.h file:</p>\n\n<pre><code>class mainGame : public tiny_state{\npublic:\n    void Initialize(sf::RenderWindow* window);\n    void Destroy(sf::RenderWindow* window);\n\nprotected:\n    Player&amp; player;\n    Config config;\n    sf::RenderWindow window;\n};\n</code></pre>\n\n<p>my Plyer.cpp file:</p>\n\n<pre><code>Player::Player(float x, float y, const Config&amp; config, sf::RenderWindow&amp; )\n    : x(x), y(y),\n    config(config),\n    window(window)\n{\n    rectangle.setSize(sf::Vector2f(sizeWidth, sizeHeight));\n    rectangle.setFillColor(sf::Color::White);\n}\n\nvoid Player::move(float delta){\n    if (sf::Keyboard::isKeyPressed(sf::Keyboard::Up))\n        y -= speed * delta;\n    if (sf::Keyboard::isKeyPressed(sf::Keyboard::Down))\n        y += speed * delta;\n\n    y = std::max(y, 0.f);\n    y = std::min(y, (float)(config.screenheight - sizeHeight));\n}\n\nvoid Player::draw(){\n    rectangle.setPosition(x, y);\n    window.draw(rectangle);\n}\n</code></pre>\n\n<p>my player.h file:</p>\n\n<pre><code>struct Player{\n    Player(float x, float y, const Config&amp; config, sf::RenderWindow&amp; window);\n\n    void move(float delta);\n    void draw();\n\n    const int sizeHeight = 100;\n    const int sizeWidth = 10;\n    const float speed = 5;\n    float x, y;\n\n    sf::RectangleShape rectangle;\n    const Config&amp; config;\n    sf::RenderWindow&amp; window;\n};\n</code></pre>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1476295871, "post_id": 40005515, "comment_id": 67288984, "body": "You can have files in a project but that doesn&#39;t mean they&#39;re also in the same folder. Are those 2 files in the same folder as the .cpp you&#39;re compiling?"}, {"owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1476295960, "post_id": 40005515, "comment_id": 67289033, "body": "@GillBates No, the files are not in the same folder as the solution or project. If I open the directory of the project they are not there. In solution explorer it looks like they are there. Also I don&#39;t see the <code>Header</code> folder either though."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1476296030, "post_id": 40005515, "comment_id": 67289071, "body": "Then that&#39;s the issue, there&#39;s a link in your project to the files, but the files aren&#39;t actually there, copy them to your project folder."}, {"owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1476296130, "post_id": 40005515, "comment_id": 67289133, "body": "I don&#39;t see the Header Files or Source Files folder either"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1476296177, "post_id": 40005515, "comment_id": 67289158, "body": "Because the project filters aren&#39;t folders, they&#39;re just visually there to help you sort your files."}, {"owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1476296285, "post_id": 40005515, "comment_id": 67289210, "body": "@GillBates Yes, I see now when I add existing item after moving the files to the project folder, they show in the correct folder, either header or source files in the solution explorer."}], "answers": [{"tags": [], "owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "is_accepted": false, "score": 1, "last_activity_date": 1476296046, "creation_date": 1476296046, "answer_id": 40005590, "question_id": 40005515, "link": "https://stackoverflow.com/questions/40005515/c-header-files-not-found-in-visual-studio/40005590#40005590", "title": "C++ header files not found in Visual Studio", "body": "<p>Dragging/droping a file doesn't add it to your current project, they're only opened and showed in the editor.<br>\nTo add an existing file to your project you just have to right click it and choose </p>\n\n<blockquote>\n  <p>add -> existing file</p>\n</blockquote>\n\n<p>This may not be the exact words, i'm using the french version of it</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 6945934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V0LN1.png?s=128&g=1", "display_name": "TobiasCage", "link": "https://stackoverflow.com/users/6945934/tobiascage"}, "is_accepted": false, "score": 3, "last_activity_date": 1476296309, "creation_date": 1476296309, "answer_id": 40005682, "question_id": 40005515, "link": "https://stackoverflow.com/questions/40005515/c-header-files-not-found-in-visual-studio/40005682#40005682", "title": "C++ header files not found in Visual Studio", "body": "<p>If you just type <code>#include \"myclass.hh\"</code> its expected to be in the same folder as the file you are writing in.\ncheck if they are in the same folder, if not you can write the full path or the path from your current folder.</p>\n\n<pre><code>\"../other_folder/myclass.hh\"\n</code></pre>\n\n<p>would be if you have a structure like this:<br>\nYour .cpp file is in cur_folder, which is in the same folder as other_folder and inside this is your myclass.hh</p>\n\n<p>hope you get my point^^</p>\n"}], "owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3023, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476296324, "creation_date": 1476295739, "last_edit_date": 1476296155, "question_id": 40005515, "link": "https://stackoverflow.com/questions/40005515/c-header-files-not-found-in-visual-studio", "title": "C++ header files not found in Visual Studio", "body": "<p>I dragged and dropped two header files from File Explorer to the Solution Explorer and the solution will not compile because it does not have a path to the files. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZB2hQ.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/ZB2hQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zkEUU.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/zkEUU.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/g6ur5.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/g6ur5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "loops", "while-loop", "decrement"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1476295624, "post_id": 40005446, "comment_id": 67288850, "body": "Because <code>0</code> evaluates to <code>false</code> in boolean contexts"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1476295629, "post_id": 40005446, "comment_id": 67288855, "body": "Because 0 is &quot;falsey&quot;?"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476295649, "post_id": 40005446, "comment_id": 67288869, "body": "For compatiblity with C, <code>0</code> is implicitly convertible to <code>false</code>, and non-zero is implicitly convertible to <code>true</code>."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1476295930, "post_id": 40005446, "comment_id": 67289017, "body": "<code>i</code> is the same as <code>i != 0</code> in a boolean expression."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476296094, "post_id": 40005446, "comment_id": 67289108, "body": "Use <code>for (int i = 3; &#47;*Empty*&#47;; --i)</code> to have infinite loop."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1476296463, "post_id": 40005446, "comment_id": 67289314, "body": "or <code>while(true) cout &lt;&lt; i-- &lt;&lt; &quot; &quot;;</code> if you want to keep the while loop"}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1476295633, "creation_date": 1476295633, "answer_id": 40005478, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while/40005478#40005478", "title": "Why this code is not looping (while)?", "body": "<p>As soon as <code>i</code> decrements to zero, <code>i--</code> is false, so the <code>while</code> stops.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1476295648, "creation_date": 1476295648, "answer_id": 40005481, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while/40005481#40005481", "title": "Why this code is not looping (while)?", "body": "<blockquote>\n  <p>Why not: 2 1 0 -1 -2 -3 ...(loop)?</p>\n</blockquote>\n\n<p>The loop breaks when the expression in the conditional evaluates to false. That happens when the value of <code>i</code> is zero.</p>\n"}, {"tags": [], "owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "is_accepted": false, "score": 1, "last_activity_date": 1476295660, "creation_date": 1476295660, "answer_id": 40005487, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while/40005487#40005487", "title": "Why this code is not looping (while)?", "body": "<p>The reason it's not outputting what you're expecting is because of that magic 0.</p>\n\n<p>0, in C++ and most other languages, evaluates to boolean false. All other numbers are true. In this case, you're using the value of <code>i</code> as your loop condition, so, when <code>i == 0</code>, the loop stops and the program moves on.</p>\n"}, {"tags": [], "owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "is_accepted": false, "score": 0, "last_activity_date": 1476295663, "creation_date": 1476295663, "answer_id": 40005488, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while/40005488#40005488", "title": "Why this code is not looping (while)?", "body": "<pre><code>int main()\n{\n    int i=3;\n    while(i--)\n        cout &lt;&lt; i &lt;&lt; \" \";\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>Once <code>i</code> hits 0 it's not true anymore therefore it'll end the loop.</p>\n\n<pre><code>while( true )\n{\n    --i;\n}\n</code></pre>\n\n<p>would be better here.</p>\n"}, {"tags": [], "owner": {"reputation": 180, "user_id": 6947884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7d064ebc213773d868bda37b94fd5d?s=128&d=identicon&r=PG&f=1", "display_name": "MegaColorBoy", "link": "https://stackoverflow.com/users/6947884/megacolorboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1476297286, "creation_date": 1476297286, "answer_id": 40005952, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while/40005952#40005952", "title": "Why this code is not looping (while)?", "body": "<p>When using a while loop, <code>1</code> means <code>true</code> and <code>0</code> means <code>false</code>.</p>\n\n<p>So in your case, as <code>i</code> is being decremented at every iteration in the loop, at some point, <code>i</code> becomes <code>0</code>,\nwhich is <code>false</code> and the loop comes to an end.</p>\n"}], "owner": {"reputation": 11, "user_id": 4465623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570173e9efcf8523d337f94e6f8f2f75?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u043b\u0430\u0434 \u041c\u0430\u0440\u0442", "link": "https://stackoverflow.com/users/4465623/%d0%92%d0%bb%d0%b0%d0%b4-%d0%9c%d0%b0%d1%80%d1%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 5, "score": -9, "last_activity_date": 1476297286, "creation_date": 1476295518, "last_edit_date": 1476295591, "question_id": 40005446, "link": "https://stackoverflow.com/questions/40005446/why-this-code-is-not-looping-while", "title": "Why this code is not looping (while)?", "body": "<pre><code>int main()\n{\n    int i=3;\n    while(i--)\n        cout &lt;&lt; i &lt;&lt; \" \";\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>Result:\n2 1 0</p>\n\n<p>Why not: 2 1 0 -1 -2 -3 ...(loop)?</p>\n"}, {"tags": ["c++", "header", "multiple-inclusions"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476295684, "post_id": 40005393, "comment_id": 67288887, "body": "Cannot reproduce with given code <a href=\"http://coliru.stacked-crooked.com/a/0929932b46458c1e\" rel=\"nofollow noreferrer\">Demo</a>. Problem might be in <code>#include &quot;Support.h&quot;</code>"}], "owner": {"reputation": 11, "user_id": 7009468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0624eb19a24548190548dd3e7fe3600?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/7009468/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476295331, "creation_date": 1476295331, "question_id": 40005393, "link": "https://stackoverflow.com/questions/40005393/two-classes-referencing-each-other-unknown-override-specifier-error", "title": "Two classes referencing each other: unknown override specifier error", "body": "<p>I'm writing a program to schedule nurses in a hospital. I'm stuck with an inclusion loop between two classes, but I don't know where I made an error. \nThere's a nurse class that has an instance of a Preference Profile. This preference profile has a pointer to the Nurse object. </p>\n\n<p>Header of the Nurse class:</p>\n\n<pre><code> //Include guards\n#ifndef NURSEDEF\n#define NURSEDEF\n\n#pragma once\n//Forward declared dependencies\nclass Department;\n\n//Included dependencies\n#include \"PrefProfile.h\"\n\n//Actual class\nclass Nurse\n{\npublic:\n    Nurse();\n    ~Nurse();\n    Nurse(string id, Department *dept);\n    Nurse(int type, double emplRate, Department *dept);\n\n    Department* getDept();\n    string getID();\n\n    bool setType(int type);\n    void setEmplRate(double emplRate);\n    bool setPrefProfile(int day, int shift, int value);\n\nprivate:\n    string ID;\n    double emplRate;\n    int type;\n    Department *dept;\n    PrefProfile pref;\n};\n\n#endif\n</code></pre>\n\n<p>Header of the PrefProfile class:</p>\n\n<pre><code>//Include guards\n#ifndef PREFPROFILEDEF\n#define PREFPROFILEDEF\n\n#pragma once\n//Forward declared dependencies\nclass Nurse;\n\n//Included dependencies\n#include \"Support.h\"\n\n//Actual class\nclass PrefProfile\n{\n\npublic:\n    PrefProfile();\n    ~PrefProfile();\n    PrefProfile(Nurse *nurse);\n\n    bool addPref(int day, int shift, int pref);\n    int readPref(int day, int shift);\n\nprivate:\n    Nurse *nurse;\n    int profile[maxDays][maxShifts];\n};\n\n#endif\n</code></pre>\n\n<p>As PrefProfile only contains a pointer to a nurse object I forward declared it instead of including the header file. The Nurse class includes the header of PrefProfile. I encounter the following error at the object pref in the Nurse class: C3646 'pref':unknown override specifier.</p>\n\n<p>I'm pretty new to C++ and I read that this approach to reference should be used. Is there an easy way to avoid this kind of inclusion loops? Or am I missing something in my code?</p>\n"}, {"tags": ["c++", "sfinae", "partial-specialization"], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 4567934, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u9d5p.png?s=128&g=1", "display_name": "Stoatman", "link": "https://stackoverflow.com/users/4567934/stoatman"}, "edited": false, "score": 0, "creation_date": 1476295673, "post_id": 40005346, "comment_id": 67288882, "body": "Your solution works. However, when I copy the code that does not compile in my question from Sublime Text 3 to VS 2015, it works and I have no idea why."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 660, "user_id": 4567934, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u9d5p.png?s=128&g=1", "display_name": "Stoatman", "link": "https://stackoverflow.com/users/4567934/stoatman"}, "edited": false, "score": 2, "creation_date": 1476295932, "post_id": 40005346, "comment_id": 67289018, "body": "@Rickie: <code>msvc</code> is not standard-compliant for some stuff with template (and mainly with non-dependency). I think it would give you the error once you instantiate <code>A&lt;T&gt;</code>."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 3, "last_activity_date": 1476295178, "creation_date": 1476295178, "answer_id": 40005346, "question_id": 40005260, "link": "https://stackoverflow.com/questions/40005260/sfinae-does-not-work-as-expected/40005346#40005346", "title": "SFINAE does not work as expected", "body": "<p>SFINAE occurs in immediate context, here your condition doesn't depend of <code>T</code> so it is a hard failure, your code should be something like:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass A&lt;T, typename enable_if&lt;condition&lt;T&gt;::value&gt;::type&gt;\n{\n};\n</code></pre>\n"}], "owner": {"reputation": 660, "user_id": 4567934, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u9d5p.png?s=128&g=1", "display_name": "Stoatman", "link": "https://stackoverflow.com/users/4567934/stoatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 40005346, "answer_count": 1, "score": 0, "last_activity_date": 1476295178, "creation_date": 1476294903, "last_edit_date": 1476295046, "question_id": 40005260, "link": "https://stackoverflow.com/questions/40005260/sfinae-does-not-work-as-expected", "title": "SFINAE does not work as expected", "body": "<p>I am reading <a href=\"http://baptiste-wicht.com/posts/2015/03/named-optional-template-parameters-compile-time.html\" rel=\"nofollow\">this article</a> and find this piece of code using <code>SFINAE</code> very interesting:</p>\n\n<pre><code>template&lt;typename D, typename T2, typename... Args&gt;\nstruct get_value_int&lt;D, T2, Args...&gt; {\n    template&lt;typename D2, typename T22, typename Enable = void&gt;\n    struct impl\n        : std::integral_constant&lt;int, get_value_int&lt;D, Args...&gt;::value&gt; {};\n\n    template&lt;typename D2, typename T22&gt;\n    struct impl &lt;D2, T22, std::enable_if_t&lt;std::is_same&lt;typename D2::type_id, typename T22::type_id&gt;::value&gt;&gt;\n        : std::integral_constant&lt;int, T22::value&gt; {};\n\n    static constexpr const int value = impl&lt;D, T2&gt;::value;\n};\n</code></pre>\n\n<p>As I understand, if the template class <code>std::enable_if_t</code> could not be instaniated, the first version of <code>impl</code> would be.</p>\n\n<p>However, when I try to write a simpler piece of code, which I think pretty much the same as the one above, it gets compile errors. Do I misunderstand something here?</p>\n\n<pre><code> template&lt;typename T,typename N = void&gt;\n class A\n {\n\n };\n\n template &lt;typename T&gt;\n class A&lt;T, typename enable_if&lt;false&gt;::type&gt;\n {\n\n };\n</code></pre>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1476295284, "post_id": 40005240, "comment_id": 67288644, "body": "If you have access rights, one way is with a global CBT Hook proc.  Further reading <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644977(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>   see HCBT_DESTROYWND"}, {"owner": {"reputation": 59, "user_id": 3937145, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1450370259/picture?type=large", "display_name": "Kalos92", "link": "https://stackoverflow.com/users/3937145/kalos92"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1476295439, "post_id": 40005240, "comment_id": 67288724, "body": "so when a user press a X on a windows my program can &quot;listen&quot; via this CBT hook?"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1476295644, "post_id": 40005240, "comment_id": 67288865, "body": "Start here: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644990(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> and make sure you read about what thread your callback is called on."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1476296748, "post_id": 40005240, "comment_id": 67289484, "body": "You need to register for <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd373889.aspx\" rel=\"nofollow noreferrer\">WinEvents</a> and handle the <code>EVENT_OBJECT_DESTROY</code> event. You need to register <b>before</b> running your <code>EnumWindows</code> loop. Otherwise you&#39;ll potentially miss window destructions."}], "answers": [{"tags": [], "owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "is_accepted": false, "score": 2, "last_activity_date": 1476298703, "creation_date": 1476298703, "answer_id": 40006352, "question_id": 40005240, "link": "https://stackoverflow.com/questions/40005240/checking-if-another-window-is-closed-c/40006352#40006352", "title": "Checking if another window is closed c++", "body": "<p>The easiest solution is to use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd373889.aspx\" rel=\"nofollow\">WinEvents</a>, by registering for <code>EVENT_OBJECT_DESTROY</code> events. The code is fairly straight forward:</p>\n\n<pre><code>#include &lt;windows.h&gt;\n\nnamespace {\n    HWINEVENTHOOK g_WindowDestructionHook = NULL;\n}\n\ninline void CALLBACK WinEventProc( HWINEVENTHOOK hWinEventHook,\n                                   DWORD         event,\n                                   HWND          hwnd,\n                                   LONG          idObject,\n                                   LONG          idChild,\n                                   DWORD         dwEventThread,\n                                   DWORD         dwmsEventTime ) {\n    // Filter interesting events only:\n    if ( idObject == OBJID_WINDOW &amp;&amp; idChild == CHILDID_SELF ) {\n        wprintf( L\"Window destroyed: HWND = %08X\\n\", hwnd );\n    }\n}\n\ninline void RegisterWindowDestructionHook() {\n    g_WindowDestructionHook = ::SetWinEventHook( EVENT_OBJECT_DESTROY,\n                                                 EVENT_OBJECT_DESTROY,\n                                                 NULL,\n                                                 WinEventProc,\n                                                 0, 0,\n                                                 WINEVENT_OUTOFCONTEXT );\n}\n\ninline void UnregisterHook() {\n    ::UnhookWinEvent( g_WindowDestructionHook );\n}\n</code></pre>\n\n<p>Using this is equally simple:</p>\n\n<pre><code>::CoInitialize( NULL );\nRegisterWindowDestructionHook();\n\nMSG msg = {};\nwhile ( ::GetMessageW( &amp;msg, nullptr, 0, 0 ) &gt; 0 ) {\n    ::TranslateMessage( &amp;msg );\n    ::DispatchMessageW( &amp;msg );\n}\n\nUnregisterHook();\n::CoUninitialize();\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 3937145, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1450370259/picture?type=large", "display_name": "Kalos92", "link": "https://stackoverflow.com/users/3937145/kalos92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1476298703, "creation_date": 1476294829, "question_id": 40005240, "link": "https://stackoverflow.com/questions/40005240/checking-if-another-window-is-closed-c", "title": "Checking if another window is closed c++", "body": "<p>I'm developing an application that checks open windows on a user computer on Windows (just like the Task Manager)</p>\n\n<p>I used <strong>EnumWindows</strong> to list all the active window and it works, now i want to create a function that write a message on the console when a windows has been closed. Is possible or i have to check an <strong>array of WindowHandler</strong> in a separate thread and how do I check their status?</p>\n\n<p>Thank for the help.</p>\n"}, {"tags": ["c++", "macros", "c-preprocessor", "variadic-macros"], "comments": [{"owner": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 2, "creation_date": 1476294907, "post_id": 40005189, "comment_id": 67288414, "body": "log is a macro expecting (at least) 4 arguments."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 0, "creation_date": 1476295230, "post_id": 40005189, "comment_id": 67288611, "body": "I&#39;m getting <code>_snprintf_s(nullptr, 0,0,4, );</code> which makes sense. Are you sure the output of the preprocessor  was copy/pasted correctly?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1476295457, "post_id": 40005189, "comment_id": 67288740, "body": "That&#39;s not C, but C++."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 1, "creation_date": 1476296369, "post_id": 40005189, "comment_id": 67289255, "body": "@ArifBurhan While a variadic macro with an empty variadic list is forbidden by the standard, it&#39;s supported as an extension by most compilers (where an empty variadic list is treated as a list with zero tokens).  <a href=\"https://en.wikipedia.org/wiki/Variadic_macro#Trailing_comma\" rel=\"nofollow noreferrer\"><i>However</i>, there&#39;s no consensus on how to support this</a>.  Visual Studio is surprisingly polite, and swallows the comma without requiring special syntax.  GCC uses the syntax <code>##__VA_ARGS__</code>, instead of the standard <code>__VA_ARGS__</code>, to indicate that the comma should be swallowed in case of zero-token variadic lists."}, {"owner": {"reputation": 337, "user_id": 2864098, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0610aacd7b8fd638de2ef405bf65dd99?s=128&d=identicon&r=PG&f=1", "display_name": "Roozbeh G", "link": "https://stackoverflow.com/users/2864098/roozbeh-g"}, "edited": false, "score": 0, "creation_date": 1476296579, "post_id": 40005189, "comment_id": 67289390, "body": "I am actually getting   <code>_snprintf_s(nullptr, 0, 0, 4  ) </code> but I am guessing I should get <code>_snprintf_s(nullptr, 0, 0, &quot;testing $d&quot;,4  )</code>, right?"}], "answers": [{"tags": [], "owner": {"reputation": 34922, "user_id": 586873, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/11ba1f932f0af556969448ffba230d9a?s=128&d=identicon&r=PG", "display_name": "Grzegorz Szpetkowski", "link": "https://stackoverflow.com/users/586873/grzegorz-szpetkowski"}, "is_accepted": false, "score": 4, "last_activity_date": 1476301825, "creation_date": 1476301825, "answer_id": 40007142, "question_id": 40005189, "link": "https://stackoverflow.com/questions/40005189/comma-in-c-c-macro-passed-to-another-macro/40007142#40007142", "title": "Comma in C/C++ macro passed to another macro", "body": "<p>The following invocation:</p>\n\n<pre><code>log(log_params, \"testing %d\", 4)\n</code></pre>\n\n<p>calls function-like macro <code>log</code> with three <em>actual</em> arguments. Their replacements are not resolved before arguments are \"passed\" to the macro. In other words, even if <code>log_params</code> contains comma by itself, this comma is not taken into account during function-like macro call resolution.</p>\n\n<p>Thus, you are effectively passing arguments as:</p>\n\n<pre><code>file    ---&gt; __FILE__, __LINE__\nline    ---&gt; \"testing %d\"\nmessage ---&gt; 4\n</code></pre>\n\n<p>First two parameters are ignored by the replacement, and eventually you obtain:</p>\n\n<pre><code>_snprintf_s(nullptr, 0, 0, 4,  __VA_ARGS__)\n</code></pre>\n\n<p>which in turns become (as MSVC is happy to ignore requirement for at least one variadic argument):</p>\n\n<pre><code>_snprintf_s(nullptr, 0, 0, 4)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 337, "user_id": 2864098, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0610aacd7b8fd638de2ef405bf65dd99?s=128&d=identicon&r=PG&f=1", "display_name": "Roozbeh G", "link": "https://stackoverflow.com/users/2864098/roozbeh-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1476303528, "last_edit_date": 1495535247, "creation_date": 1476303528, "answer_id": 40007620, "question_id": 40005189, "link": "https://stackoverflow.com/questions/40005189/comma-in-c-c-macro-passed-to-another-macro/40007620#40007620", "title": "Comma in C/C++ macro passed to another macro", "body": "<p>This solved my problem</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32399191/va-args-expansion-using-msvc\">__VA_ARGS__ expansion using MSVC</a></p>\n\n<p>so now I am using </p>\n\n<pre><code> #define EXPAND( x ) x\n #define Log_printf( file_name,line, message,...)  _snprintf_s(nullptr, 0,0,message, __VA_ARGS__)\n #define Log(...) EXPAND (Log_printf(__VA_ARGS__))\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2864098, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0610aacd7b8fd638de2ef405bf65dd99?s=128&d=identicon&r=PG&f=1", "display_name": "Roozbeh G", "link": "https://stackoverflow.com/users/2864098/roozbeh-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 40007620, "answer_count": 2, "score": 2, "last_activity_date": 1476303528, "creation_date": 1476294674, "last_edit_date": 1476297503, "question_id": 40005189, "link": "https://stackoverflow.com/questions/40005189/comma-in-c-c-macro-passed-to-another-macro", "title": "Comma in C/C++ macro passed to another macro", "body": "<p>I have these macros which generate error in Visual Studio 2015.</p>\n\n<pre><code>#define log_params  __FILE__, __LINE__\n#define log(file, line, message, ...) _snprintf_s(nullptr, 0, 0, message,  __VA_ARGS__)\n</code></pre>\n\n<p>Now calling this never works</p>\n\n<pre><code> log(log_params, \"testing %d\", 4)\n</code></pre>\n\n<p>Any thoughts?\nI also checked output of preprocessor and it is:</p>\n\n<pre><code>_snprintf_s(nullptr, 0, 0, 4 );\n</code></pre>\n\n<p><strong>EDIT 1</strong>\nIntresting finding</p>\n\n<pre><code>#define log(file, line, message, ...) file line\n</code></pre>\n\n<p>will produce this :</p>\n\n<pre><code>\"service.cpp\", 164 \"testing %d\"\n</code></pre>\n\n<p>Is it normal?</p>\n"}, {"tags": ["c++", "pointers", "vector", "reference"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 3, "creation_date": 1476294617, "post_id": 40005148, "comment_id": 67288237, "body": "You don&#39;t have a <code>vector</code> of references in your code. You have a memory leak, otoh."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1476295891, "post_id": 40005148, "comment_id": 67288995, "body": "Since the quote says, in part, &quot;std::vector works with pointers to its elements&quot;, which is nonsense, I wouldn&#39;t pay any attention to anything else that it says."}], "answers": [{"comments": [{"owner": {"reputation": 3772, "user_id": 638734, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/xyl62.png?s=128&g=1", "display_name": "Zugdud", "link": "https://stackoverflow.com/users/638734/zugdud"}, "edited": false, "score": 0, "creation_date": 1476295122, "post_id": 40005208, "comment_id": 67288540, "body": "Thanks! Your first sentence clears things up for me. Just to be sure I understand correctly, in my above code I would have 3 TestClass objects on the heap and copies of those same 3 TestClass objects also within objVec on the stack, is that correct?"}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 3772, "user_id": 638734, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/xyl62.png?s=128&g=1", "display_name": "Zugdud", "link": "https://stackoverflow.com/users/638734/zugdud"}, "edited": false, "score": 0, "creation_date": 1476295512, "post_id": 40005208, "comment_id": 67288774, "body": "Three leaked on the heap, and three safely stored in std::vector."}], "tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": true, "score": 1, "last_activity_date": 1476294733, "creation_date": 1476294733, "answer_id": 40005208, "question_id": 40005148, "link": "https://stackoverflow.com/questions/40005148/storing-references-with-std-containers-gnu-c98/40005208#40005208", "title": "Storing references with std:: containers , gnu c++98", "body": "<p>When you write code like this:</p>\n\n<blockquote>\n<pre><code>objVec.push_back(*new TestClass(10, 100));\n</code></pre>\n</blockquote>\n\n<p>you are creating a <code>new</code> instance of <code>TestClass</code> on the heap, then you are dereferencing it using <code>*</code>, and then this is copied inside the vector when you call <code>push_back</code>.</p>\n\n<p>But you are <em>leaking</em> the original <code>TestClass</code> object allocated using <code>new</code> on the heap.</p>\n\n<p>You may want to use a <code>vector&lt;shared_ptr&lt;TestClass&gt;&gt;</code> or <code>vector&lt;unique_ptr&lt;TestClass&gt;&gt;</code> instead if you want to store pointers (<em>smart</em> pointers) instead of <code>TestClass</code> instances (are you sure?).</p>\n\n<p>Note that a vector of references would be <code>vector&lt;TestClass&amp;&gt;</code>, which is wrong.</p>\n\n<p><strong>P.S.</strong> As you cited C++98\" in the title, you can't have <code>unique_ptr</code> as it requires C++11 move semantics. <code>shared_ptr</code> became standard with C++11; you can still use <code>boost::shared_ptr</code> in C++98.</p>\n"}], "owner": {"reputation": 3772, "user_id": 638734, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/xyl62.png?s=128&g=1", "display_name": "Zugdud", "link": "https://stackoverflow.com/users/638734/zugdud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 40005208, "answer_count": 1, "score": 1, "last_activity_date": 1476294959, "creation_date": 1476294530, "last_edit_date": 1495540840, "question_id": 40005148, "link": "https://stackoverflow.com/questions/40005148/storing-references-with-std-containers-gnu-c98", "title": "Storing references with std:: containers , gnu c++98", "body": "<p>I came across this comment in another SO post, regarding storing references in a std container:</p>\n\n<blockquote>\n  <p>It's a flaw in the C++ language. You can't take the address of a\n  reference, since attempting to do so would result in the address of\n  the object being referred to, and thus you can never get a pointer to\n  a reference.  std::vector works with pointers to its elements, so the\n  values being stored need to be able to be pointed to. You'll have to\n  use pointers instead.</p>\n</blockquote>\n\n<p>The post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/922360/why-cant-i-make-a-vector-of-references\">Why can&#39;t I make a vector of references?</a></p>\n\n<p>Assuming this is correct, can someone explain why my below code works? I'm  not trying to imply the person is wrong, I'm just trying to make sure I understand what's possible and what's not.</p>\n\n<p>My code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include \"stdio.h\"\n\nstruct TestStruct\n{\n    int x;\n    int y;\n};\n\nclass TestClass {\npublic:\nTestClass(int x, int y);\nint getX();\nint getY();\nprivate:\nint mX;\nint mY;\n};\n\nTestClass::TestClass(int x, int y)\n{\n    mX = x;\n    mY = y;\n}\n\nint TestClass::getX()\n{\n    return mX;\n}\n\nint TestClass::getY()\n{\n    return mY;\n}\n\n\nint main()\n{\n    // test struct\n    std::vector&lt;TestStruct&gt; structVec;\n\n    TestStruct testStruct;\n    testStruct.x = 10;\n    testStruct.y = 100;\n    structVec.push_back(testStruct);\n    testStruct.x = 2;\n    testStruct.y = 200;\n    structVec.push_back(testStruct);\n    testStruct.x = 3;\n    testStruct.y = 300;\n    structVec.push_back(testStruct);\n\n    for (int i = 0; i &lt; structVec.size(); i++)\n    {\n        printf(\"testStruct [%d] - [x: %d, y: %d] \\n\", i, structVec[i].x, structVec[i].y);\n    }\n\n    // test object\n    std::vector&lt;TestClass&gt; objVec;\n\n    objVec.push_back(*new TestClass(10, 100));\n    objVec.push_back(*new TestClass(20, 200));\n    objVec.push_back(*new TestClass(30, 300));\n    for (int i = 0; i &lt; objVec.size(); i++)\n    {\n        printf(\"objVec [%d] - [x: %d, y: %d] \\n\", i, objVec[i].getX(), objVec[i].getY());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>testStruct [0] - [x: 10, y: 100] \ntestStruct [1] - [x: 2, y: 200] \ntestStruct [2] - [x: 3, y: 300] \nobjVec [0] - [x: 10, y: 100] \nobjVec [1] - [x: 20, y: 200] \nobjVec [2] - [x: 30, y: 300] \n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1476294621, "post_id": 40005146, "comment_id": 67288238, "body": "Welcome to Stack Overflow! It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1476294638, "post_id": 40005146, "comment_id": 67288246, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7009435"}, "edited": false, "score": 0, "creation_date": 1476295782, "post_id": 40005146, "comment_id": 67288948, "body": "Had no idea you should to do that. Thanks."}, {"owner": {"reputation": 279, "user_id": 5407986, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/44a5f0cfe31645448e3589f4667cf930?s=128&d=identicon&r=PG", "display_name": "Lupe", "link": "https://stackoverflow.com/users/5407986/lupe"}, "edited": false, "score": 1, "creation_date": 1476296488, "post_id": 40005146, "comment_id": 67289330, "body": "From a glance it looks like you don&#39;t pass references with some of them (e.g. hours). That is probably the main problem."}, {"owner": {"reputation": 2756, "user_id": 5114342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725caa4188def46b8c6cf9b09eff7e85?s=128&d=identicon&r=PG&f=1", "display_name": "Aziuth", "link": "https://stackoverflow.com/users/5114342/aziuth"}, "edited": false, "score": 0, "creation_date": 1476437454, "post_id": 40005146, "comment_id": 67355198, "body": "In addition to the debugger, also learn to listen to compiler warnings. Usually, they warn you about some basic mistakes like while(jobNo = false) instead of == false."}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 6858122, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/28eeeca6dc3c94dde341d775e739c2a8?s=128&d=identicon&r=PG&f=1", "display_name": "nishant kumar", "link": "https://stackoverflow.com/users/6858122/nishant-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476295063, "creation_date": 1476295063, "answer_id": 40005308, "question_id": 40005146, "link": "https://stackoverflow.com/questions/40005146/my-very-basic-c-program-broke-and-i-have-no-idea-why/40005308#40005308", "title": "My Very Basic C++ Program Broke and I Have No Idea Why", "body": "<p>all of your functions are returning values. where you are storing it?. multiple return is not possible as you are using. try the concept of pointers(references)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7009435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476433482, "creation_date": 1476294523, "last_edit_date": 1476433482, "question_id": 40005146, "link": "https://stackoverflow.com/questions/40005146/my-very-basic-c-program-broke-and-i-have-no-idea-why", "title": "My Very Basic C++ Program Broke and I Have No Idea Why", "body": "<p>This is a program I am doing for programming class that that is supposed calculate people's pay depending on overtime and time and a half, but it broke and I have no idea why. </p>\n\n<p>The thing will output \"\" \"\" has job 6942646 and worked 6923592 hours\" or something like that.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nusing namespace std;\n\nstring getName(string, string);\nint getJob(int&amp;);\nint hoursWorked(int);\ndouble jobCalc(int&amp;, int&amp;, double&amp;);\nvoid display(string, string, int, int, double);\n\nint main()\n{\nint job;\nint hours;\ndouble pay;\nstring firstname, lastname;\n\ngetName(firstname, lastname);\ngetJob(job);\nhoursWorked(hours);\njobCalc(job, hours, pay);\ndisplay(firstname, lastname, job, hours, pay);\n\nreturn 0;\n}\n\nstring getName(string firstname, string lastname)\n{\ncout &lt;&lt; \"Enter your name (First): \";\ncin &gt;&gt; firstname;\ncout &lt;&lt; \"Enter your name (Last): \";\ncin &gt;&gt; lastname;    \nreturn firstname, lastname;\n}\n\nint getJob(int job&amp;)\n{\ncout &lt;&lt; \"Yo What motha duckin job number is you? Ya' dig? (10, 20, or 30): \";\ncin &gt;&gt; job;\n\nbool jobNo = false;\nwhile (jobNo = false)\n{\n    if (job == 10)\n    {\n        jobNo = true;\n    }\n    else if (job == 20)\n    {\n        jobNo = true;\n    }\n    else if (job == 30)\n    {\n        jobNo = true;\n    }\n    else if (job &lt; 9 || job &gt; 11 || job &lt; 19 || job &gt; 21 || job &lt; 29 || job &gt; 31)\n    {\n        cout &lt;&lt; \"Yo! Please re-enter a correct value. What it is, mostly, Mama! Don't make me shank ya!\" &lt;&lt; endl;\n        cout &lt;&lt; \"Yo What motha' duckin' job number is you? Ya' dig? (10, 20,   or 30): \";\n        cin &gt;&gt; job;\n    }\n}\n\nreturn job;\n}\n\n\nint hoursWorked(int hours)\n{\ncout &lt;&lt; \"Yo! How geezery hours dahd ya work?: \";\ncin &gt;&gt; hours;\nreturn hours;\n}\n\ndouble jobCalc(int&amp; job, int&amp; hours, double&amp; pay)\n{\n\nif (job == 10)\n{\n    if (hours &lt; 40)\n    {\n        pay = hours * 8.75;\n    }\n    else if (hours &lt; 60)\n    {\n        pay = 8.75 * 40;\n        hours = hours - 40;\n        pay = pay + (hours * 13.125);\n    }\n    else\n    {\n        pay = 8.75 * 40;\n        pay = pay + (13.125 * 20);\n        hours = hours - 60;\n        pay = pay + (17.5 * hours);\n    }\n}\nelse if (job == 20)\n{\n    if (hours &lt; 40)\n    {\n        pay = hours * 12.25;\n    }\n    else if (hours &lt; 60)\n    {\n        pay = 12.25 * 40;\n        hours = hours - 40;\n        pay = pay + (hours * 18.375);\n    }\n    else\n    {\n        pay = 12.25 * 40;\n        pay = pay + (18.375 * 20);\n        hours = hours - 60;\n        pay = pay + (24.5 * hours);\n    }\n}\nelse if (job == 30)\n{\n    if (hours &lt; 40)\n    {\n        pay = hours * 13.75;\n    }\n    else if (hours &lt; 60)\n    {\n        pay = 13.75 * 40;\n        hours = hours - 40;\n        pay = pay + (hours * 20.625);\n    }\n    else\n    {\n        pay = 13.75 * 40;\n        pay = pay + (20.625 * 20);\n        hours = hours - 60;\n        pay = pay + (27.5 * hours);\n    }\n}\n\nreturn pay;\n}\n\nvoid display(string firstname, string lastname, int job, int hours, double pay)\n{\nstd::cout &lt;&lt; std::fixed;\nstd::cout &lt;&lt; std::setprecision(2);\ncout &lt;&lt; firstname &lt;&lt; \" \" &lt;&lt; lastname &lt;&lt; \" has job \" &lt;&lt; job &lt;&lt; \" and worked \"          &lt;&lt; hours &lt;&lt; \" hours, thus earning them $\" &lt;&lt; setprecision(2) &lt;&lt; pay &lt;&lt; \".\" &lt;&lt; endl;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "string", "vector", "character"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1476293793, "post_id": 40004881, "comment_id": 67287741, "body": "Are you sure it is the input that is slowing you down and not you algorithm?"}, {"owner": {"reputation": 1600, "user_id": 4562156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WuCmq.jpg?s=128&g=1", "display_name": "Sean Pianka", "link": "https://stackoverflow.com/users/4562156/sean-pianka"}, "edited": false, "score": 0, "creation_date": 1476293943, "post_id": 40004881, "comment_id": 67287841, "body": "I doubt that it&#39;s <code>cin</code> being too slow, it&#39;s most likely the current method you have for reading in the strings.   Is/are the string(s) L2*N space separated, or is/are it/they concatenated together (so technically just one long string)?  The answer to how you should store them is entirely dependent on what you want to use the strings for afterwards."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476293946, "post_id": 40004881, "comment_id": 67287845, "body": "Yeah, I think so because all I did in my rest of the code was to iterate the string I.e. <code>(l1+l2*n+l3)</code> in 2 separate <code>for loop</code> which would run for the worst case 1000 times."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 2, "creation_date": 1476294025, "post_id": 40004881, "comment_id": 67287881, "body": "How about if you show us a concrete example of the input format, and the relevant parts of your current code for reading it?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 1600, "user_id": 4562156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WuCmq.jpg?s=128&g=1", "display_name": "Sean Pianka", "link": "https://stackoverflow.com/users/4562156/sean-pianka"}, "edited": false, "score": 0, "creation_date": 1476294184, "post_id": 40004881, "comment_id": 67287967, "body": "@SeanPianka the string is one long concatenated string consisting of <code>l1 then l2 concatenated n times and then l3 without any spaces</code> and all I need to do is to iterate through them to count frequency of 1 specific character after another specific character from end of the string."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476294683, "post_id": 40004881, "comment_id": 67288275, "body": "Can you please post real code?  This will not compile."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476294947, "post_id": 40004881, "comment_id": 67288441, "body": "@NathanOliver It should compile now."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1476294970, "post_id": 40004881, "comment_id": 67288450, "body": "@JerryCoffin I have included the code."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1476295084, "post_id": 40004881, "comment_id": 67288518, "body": "<code>for (int i=0; i&lt;n;i++)  r +=l2;</code> is going to do a lot of work.  especially if you are doing this in some nested for loops up to 1,000,000 times."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476295181, "post_id": 40004881, "comment_id": 67288579, "body": "@NathanOliver I see. Thanks. But how do I concatenate the <code>string l2 n times</code> in a  faster way ?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1476295379, "post_id": 40004881, "comment_id": 67288697, "body": "@samthornton <a href=\"http://coliru.stacked-crooked.com/a/43957d1fa624cdce\" rel=\"nofollow noreferrer\">Zero output</a>"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476295775, "post_id": 40004881, "comment_id": 67288944, "body": "I&#39;m compiling it with C++14. Please try it with that compiler. It is compiling on my system."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476295892, "post_id": 40005462, "comment_id": 67288996, "body": "Thanks for the help. And for the searching part , suppose if I have this input <code>aabba bbba aaaa 2</code> now I want to calculate no of a&#39;s after the first b from right side. Can it be done without using concatenation of l2 n times ?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476296265, "post_id": 40005462, "comment_id": 67289200, "body": "@samthornton: What does &quot;after the first B from right side&quot; mean?"}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476296609, "post_id": 40005462, "comment_id": 67289413, "body": "I mean I want to calculate no of a&#39;s from right side but only after encountering at least 1 b or else the count will be zero. For eg <code>ba ab aa 4</code> is the input then it becomes <code>ba abababab aa</code> (ignore whitespace) now I want to calculate number of a&#39;s from right side I.e. <code>index = string.size() -1</code> but only after I encounter one b. That is I will.iterare from right side and after seeing one b I will count the nunber of a&#39;s. Here number of a&#39;s after first b from right side are <code>5</code>."}, {"owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "edited": false, "score": 0, "creation_date": 1476303500, "post_id": 40005462, "comment_id": 67293210, "body": "I also developed the same scheme. I realised how stupid it was to ask it. Thanks for your time and effort."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1476300810, "last_edit_date": 1476300810, "creation_date": 1476295587, "answer_id": 40005462, "question_id": 40004881, "link": "https://stackoverflow.com/questions/40004881/c-string-input-in-a-specific-way/40005462#40005462", "title": "C++ - string Input in a specific way", "body": "<p>Okay. So let's start by isolating the actual reading from the other code:</p>\n\n<pre><code>struct foo { \n    std::string l1, l2, l3; \n    int n;\n\n    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;is, foo &amp;f) { \n       return is &gt;&gt; f.l1, &gt;&gt; f.l2 &gt;&gt; f.l3 &gt;&gt; n;\n    }\n};\n</code></pre>\n\n<p>With that we can read in a file full of these records into a vector with something like this:</p>\n\n<pre><code>std::vector&lt;foo&gt; data { std::istream_iterator&lt;foo&gt;(infile), {} };\n</code></pre>\n\n<p>I'd guess that (by itself) won't be a bottleneck. There are probably faster ways to do the job if truly necessary, but I doubt it's really needed.</p>\n\n<p>Based on the comments on how the searching needs to be done, we can do the searching without ever expanding the second string out to <code>n</code> occurrences of <code>l2</code>.</p>\n\n<p>The searching is for one character from the beginning of the string up until the last (right-most) occurrence of some other character.</p>\n\n<p>Since that \"end\" pattern is a single character, we can do this pretty easily without expanding the middle string (<code>L2</code>) at all. The logic is basically:</p>\n\n<pre><code>if L3 contains end_pattern\n   total = count(L1) + count(L2) * n + count(L3.substr(0, pattern_pos))\nelse if L2 contains end_pattern\n    total = count(L1) + count(L2) * (n-1) + count(L2.substr(0, pattern_pos))\nelse if L1 contains end_pattern\n    total = count(L1.substr(0, pattern_pos))\nelse\n    total = 0; // pattern isn't present anywhere\n</code></pre>\n\n<p>At least as described in the comments, there doesn't seem to be any need for the O(N<sup>2</sup>) algorithm described in the comments.</p>\n"}], "owner": {"reputation": 25, "user_id": 6947380, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb21e1f551480c0afc53fe75f10a78b2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam_Buck", "link": "https://stackoverflow.com/users/6947380/sam-buck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 40005462, "answer_count": 1, "score": 0, "last_activity_date": 1476300810, "creation_date": 1476293622, "last_edit_date": 1476294917, "question_id": 40004881, "link": "https://stackoverflow.com/questions/40004881/c-string-input-in-a-specific-way", "title": "C++ - string Input in a specific way", "body": "<p>I want to take input from user in a specific way like in the following manner :</p>\n\n<pre><code>L1 L2 L3 N \n</code></pre>\n\n<p>L1,L2,L3 are strings separated by whitespace. And N is a integer. I tried using <code>cin</code> but it was slow. I need to get the input fast. Also the string L2 in repeated N times. So I have to store  <code>l1 + l2*N + l3</code>. I tried string but it's becoming too slow. I'm getting TLE. </p>\n\n<p>Here's how I stored them :</p>\n\n<pre><code> #include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main (){\n string l1,l2,l3;\n  int n;\n  cin&gt;&gt;l1&gt;&gt;l2&gt;&gt;l3&gt;&gt;n;\n  string r;\n r.reserve(l1.size()+n * l2.size()+l3.size());\nr += l1;\n for (int i=0; i&lt;n;i++)\n  r +=l2;\n\n r += l3;\n cout&lt;&lt;r&lt;&lt;endl;\nreturn 0;\n }\n\nAnd then iterated it in 2 separate for loops with maximum 1000 iterations in each loop.\n</code></pre>\n\n<p>How can I efficiently store them ? I know about vectors but I'm not good at them. So if anyone knows how to store them in this sequence in vector please help me out. Or if they could be stored on character array, then how to do that  way ?  </p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 1600, "user_id": 4562156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WuCmq.jpg?s=128&g=1", "display_name": "Sean Pianka", "link": "https://stackoverflow.com/users/4562156/sean-pianka"}, "edited": false, "score": 0, "creation_date": 1476293580, "post_id": 40004813, "comment_id": 67287616, "body": "What have your attempts at creating such an algorithm been?"}, {"owner": {"reputation": 7, "user_id": 6909012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Os-yhDPlEWo/AAAAAAAAAAI/AAAAAAAABTg/Sk_oPTKZxw4/photo.jpg?sz=128", "display_name": "BlackOHAWK", "link": "https://stackoverflow.com/users/6909012/blackohawk"}, "reply_to_user": {"reputation": 1600, "user_id": 4562156, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WuCmq.jpg?s=128&g=1", "display_name": "Sean Pianka", "link": "https://stackoverflow.com/users/4562156/sean-pianka"}, "edited": false, "score": 0, "creation_date": 1476294063, "post_id": 40004813, "comment_id": 67287900, "body": "I don&#39;t know how to make an SMOOTH movement, I know the &quot;fixed&quot; movement (identifier.move(x,y))."}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1476356856, "post_id": 40004813, "comment_id": 67315335, "body": "There&#39; s NO &quot;smooth&quot; or &quot;fixed&quot; movement, just use smallers values"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6909012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Os-yhDPlEWo/AAAAAAAAAAI/AAAAAAAABTg/Sk_oPTKZxw4/photo.jpg?sz=128", "display_name": "BlackOHAWK", "link": "https://stackoverflow.com/users/6909012/blackohawk"}, "edited": false, "score": 0, "creation_date": 1476313722, "post_id": 40007063, "comment_id": 67297619, "body": "Error when doing this: <b>movement</b> * (float)tickRate.asMilliseconds() <b>/</b> 1000"}], "tags": [], "owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "is_accepted": false, "score": 1, "last_activity_date": 1476338127, "last_edit_date": 1476338127, "creation_date": 1476301464, "answer_id": 40007063, "question_id": 40004813, "link": "https://stackoverflow.com/questions/40004813/how-to-make-an-smooth-movement-in-c-sfml/40007063#40007063", "title": "How to make an Smooth Movement in C++, SFML", "body": "<p>Because many other programmers might want to know that, here it is, but next time ask a more precise question<br>\nHere's <strong>my</strong> way to make a smooth movement:</p>\n\n<p>Take your initial movement, lets say <code>25, 15</code> per second<br>\nMake a loop like this:</p>\n\n<pre><code>void GameEngine::GameLoop()\n{\n    sf::Clock timer;\n    sf::Time tickRate;\n\n    sf::Vector2f movement(25.0,15.0); // Your movement vector\n\n    while(/* wahtever */){\n        tickRate = timer.restart();\n        yourShape.move(movement * ((float)tickRate.asMilliseconds() / 1000)); //Move your shape depending on the time elapsed between two frame\n\n        yourWindow.clear();\n        yourWindow.draw(yourShape);\n        yourWindow.display();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 6909012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Os-yhDPlEWo/AAAAAAAAAAI/AAAAAAAABTg/Sk_oPTKZxw4/photo.jpg?sz=128", "display_name": "BlackOHAWK", "link": "https://stackoverflow.com/users/6909012/blackohawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1981, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1476338127, "creation_date": 1476293353, "question_id": 40004813, "link": "https://stackoverflow.com/questions/40004813/how-to-make-an-smooth-movement-in-c-sfml", "title": "How to make an Smooth Movement in C++, SFML", "body": "<p>I have a problem doing an smooth movement in c++ w/ sfml.\nSomeone can make an algorithm to smooth move a shape / sprite by 15 px (the sprite / shape is 15 px) by pressing a button? Thanks.</p>\n"}, {"tags": ["c++", "insert", "stdmap", "std-pair"], "comments": [{"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 3, "creation_date": 1476293415, "post_id": 40004796, "comment_id": 67287508, "body": "Do you mean that the second form doesn&#39;t work when the first one is enabled too? In other words, if you comment out the first form, does the second form work?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476293458, "post_id": 40004796, "comment_id": 67287536, "body": "The latter can&#39;t insert because the former already did. <code>&quot;Fer&quot;</code> is already keyed in the map after the prior <code>make_pair</code> insertion. Are you expecting the behavior of a <code>std::multimap</code> ?"}, {"owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "reply_to_user": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1476304573, "post_id": 40004796, "comment_id": 67293766, "body": "@Leon - Bingo, that was it. At one point I was checking behavior the right way (with no two attempts at inserting the same key), and there was something wrong. I do not have that code though, so I wouldn&#39;t know what the problem was. Later, I obviously fixed it, but I introduced the &quot;multiple attempts&quot;. Thanks. You may post this as an answer."}], "owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476293274, "creation_date": 1476293274, "question_id": 40004796, "link": "https://stackoverflow.com/questions/40004796/how-to-insert-single-existing-pair-into-a-map", "title": "How to insert single existing pair into a map", "body": "<p>I have an already defined <code>pair</code>, and I want to <code>insert</code> it into a <code>map</code>. What are the correct way/s of doing that?</p>\n\n<p>I tried two. One works. The other (which I mean to use, since it is more compact and clear) does not. There are no runtime errors, but it simply does not work (I checked this with the return value of <code>insert</code>, whose second member is <code>False</code>).\nI guess the way to fix the second form is simple, but I could not find it.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>using namespace std;\ntypedef pair&lt;string, char&gt; pair_t;\ntypedef map&lt;pair_t::first_type, pair_t::second_type&gt; map_t;\ntypedef pair&lt;map_t::iterator,bool&gt; retval_insert_t;\n\nint main(void) {\n    pair_t p2;\n    p2 = make_pair(\"Fer\", 'C');\n\n    map_t grade_list;\n    grade_list[ \"Jorge\" ] = 'A';\n    grade_list.insert(make_pair(\"Alba\", 'D'));\n    grade_list.insert(pair_t(\"Susi\", 'C'));\n    grade_list.insert(make_pair(p2.first, p2.second));  //  This works\n    grade_list.insert(p2);                              //  This does not work\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1476293332, "post_id": 40004793, "comment_id": 67287462, "body": "Depends entirely on where that declaration resides. If it&#39;s at namespace scope then the object has static storage duration, which is neither stack nor heap. By the way, please don&#39;t post fantasy code: post real code."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1476293475, "post_id": 40004793, "comment_id": 67287549, "body": "There aren&#39;t things like <i>stack</i> or <i>heap</i> defined in the c++ standard."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1476293514, "post_id": 40004793, "comment_id": 67287573, "body": "It depends on the system you are using.  That is why C++ has no notion of stack and heap and instead uses automatic and dynamic storage."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476293569, "post_id": 40004793, "comment_id": 67287606, "body": "<i>Generally</i> if you&#39;re declaring that inside a function it&#39;s on the stack. If it&#39;s inside a heap-allocated object, that&#39;s on the heap as well. It depends highly on the context of where that statement appears."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1476293908, "post_id": 40004793, "comment_id": 67287815, "body": "So your real question is: <i>Is it safe to return a local object by value?</i>, yes?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1476293912, "post_id": 40004793, "comment_id": 67287819, "body": "@CaptainJacksparrow Since you&#39;re using the wrong terms, your question is still unclear, sorry."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1476294147, "post_id": 40004793, "comment_id": 67287940, "body": "@CaptainJacksparrow it looks like you&#39;re just confused about reference semantics vs value semantics. Unlike, say, Java or C#, writing <code>Foo f</code> creates a <code>Foo</code> object, not a <code>Foo</code> pointer/reference. Returning a <code>Foo</code> object doesn&#39;t mean returning a reference to one that is allocated somewhere, it returns the whole structure by value. This is how Java handles primitive types like <code>int</code>."}, {"owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "reply_to_user": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1476294293, "post_id": 40004793, "comment_id": 67288038, "body": "@RyanHaining I think you just cleared my confusion. But what happens if there are nested objects inside the objects. Are all of them retruned by value?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476294846, "post_id": 40004793, "comment_id": 67288380, "body": "@CaptainJacksparrow Some good reading on the topic: <a href=\"https://isocpp.org/wiki/faq/value-vs-ref-semantics\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/value-vs-ref-semantics</a>"}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1476295319, "post_id": 40004793, "comment_id": 67288666, "body": "@CaptainJacksparrow same logic applies, the nested object isn&#39;t a reference or pointer, it&#39;s actually part of the thing that contains it, returning an object by value means returning all of its members by value"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476298192, "post_id": 40004793, "comment_id": 67290332, "body": "Generally, if something is returned by value, it&#39;s safe to assume that the variable it&#39;s returned to will actually be copy or move constructed/assigned from the returned value, meaning that the caller will get its own copy, in its own memory space.  And technically, in most compilers, I believe the return value will actually be allocated at an address specified by the caller, due to a form of copy elision (special optimisation where copying is optimised out by just directly constructing the object at the address it would be copied to) known as RVO (return value optimisation)."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1476322607, "post_id": 40004793, "comment_id": 67299757, "body": "@CaptainJacksparrow: You can ignore the comments about terminology. They&#39;re not constructive. But nothing is allocated anywhere until you can get your code to compile. And SO readers (in particular myself) may be wary of answering a question that (1) has changed fundamentally, and (2) asks about the effect of code that won&#39;t compile. So start with that: post real code."}], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "edited": false, "score": 0, "creation_date": 1476294382, "post_id": 40005008, "comment_id": 67288089, "body": "From @Ryan Haining&#39;s comment, I understand that c++ returns the actual object. Would returning vector&lt;vector&lt;int&gt;&gt; return a vector of references to vector&lt;int&gt; allocated on stack or vector of objects of the type vector&lt;int&gt; that would not go out of scope."}, {"owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "reply_to_user": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "edited": false, "score": 0, "creation_date": 1476294531, "post_id": 40005008, "comment_id": 67288184, "body": "vector&lt;vector&lt;int&gt;&gt; is made by nested vectors. The inner vectors are vector&lt;int&gt;, and they allocate a contiguous block of ints from the heap with the default allocator. The outer vector is a vector of &quot;vector&lt;int&gt;&quot;, so in this case the memory layout is more complex. But the bottom line is that returning vector&lt;vector&lt;int&gt;&gt; from functions is just fine, thanks to proper implementation details of std::vector."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "edited": false, "score": 0, "creation_date": 1476298558, "post_id": 40005008, "comment_id": 67290553, "body": "@CaptainJacksparrow Basically, a <code>vector</code> wraps and manages a dynamically allocated array; it&#39;s safe to assume that the array will be created on the heap (or equivalent), with the management part (which includes the array&#39;s address) on the stack (or equivalent); the management part is the only thing that needs to be returned, because the array won&#39;t be deallocated.  [Note that this applies to systems with a stack and a heap.  More esoteric systems may handle <code>std::vector</code> differently.  Also note that it may work differently than this in practice; this is just a simple description.]"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476298621, "post_id": 40005008, "comment_id": 67290587, "body": "Imagine it like this: You have a TV in your living room, and you &amp; your friend are watching it.  You have the remote control.  If you want to let your friend be in charge of the TV, do you drop the TV itself in his lap, or just give him the remote?"}], "tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": true, "score": 1, "last_activity_date": 1476294387, "last_edit_date": 1476294387, "creation_date": 1476294040, "answer_id": 40005008, "question_id": 40004793, "link": "https://stackoverflow.com/questions/40004793/are-objects-allocated-without-using-new-allocated-on-stack-or-heap/40005008#40005008", "title": "are objects allocated without using &quot;new&quot; allocated on stack or heap", "body": "<p>You're probably overthinking.</p>\n\n<p>In your case, you're safe in code like this:</p>\n\n<pre><code>Foo f = Bar::GetFoo();\n</code></pre>\n\n<p>When you return objects from functions, in general, there may occur various optimizations (e.g. RVO, NRVO, etc.), but the bottom line is that your <code>f</code> object is safe to use.</p>\n\n<p>Even if inside Foo you have a data member like <code>std::vector</code> which usually allocates its memory from the heap (you can customize this behavior using custom allocators), thanks to copy constructors, move constructors, destructor, etc. you are totally safe in returning it from functions, or copying Foo instances around.</p>\n\n<p><strong>EDIT</strong> I noted that you changed your code after I wrote my answer, returning a <code>vector&lt;vector&lt;int&gt;&gt;</code> instead of <code>Foo</code>. Again, what I wrote still applies.</p>\n"}], "owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 40005008, "answer_count": 1, "score": 2, "last_activity_date": 1476294387, "creation_date": 1476293265, "last_edit_date": 1476294221, "question_id": 40004793, "link": "https://stackoverflow.com/questions/40004793/are-objects-allocated-without-using-new-allocated-on-stack-or-heap", "title": "are objects allocated without using &quot;new&quot; allocated on stack or heap", "body": "<p>I am new to c++ so question would be elementary.</p>\n\n<p>Lets say I have defined a class Foo and I create a vector of vectors in the following code:</p>\n\n<pre><code>  namespace testme {\n        class Foo {\n           public:\n            Foo(int x): x_(x) { };\n            static vector&lt;vector&lt;int&gt;&gt; ReturnVecOfInts(int num) {\n               vector&lt;vector&lt;int&gt;&gt; ret(num);\n               for (int i = 0; i &lt; num; i++) {\n                 vector&lt;int&gt; tmp;\n                 ret.push_back(tmp);\n                }\n                return ret;\n           }\n  }\n</code></pre>\n\n<p>When i call:</p>\n\n<pre><code>    Foo::ReturnVecOfInts(5)\n</code></pre>\n\n<p>Is the vector of vectors created on heap or the stack. The reference is on the stack but I want to know whether it points to the heap since i want to return this object from a function.</p>\n\n<p>This is important to me because clearly if these are allocated on the stack the vector of vectors would go out of scope and not usable outside the called function.</p>\n"}, {"tags": ["c++", "class", "enums"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1476293447, "post_id": 40004775, "comment_id": 67287529, "body": "So you want to write your own <a href=\"http://en.cppreference.com/w/cpp/chrono/c/tm\" rel=\"nofollow noreferrer\"><code>struct tm</code></a> because reasons? I&#39;m not sure what your goal is here."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1476293572, "post_id": 40004775, "comment_id": 67287609, "body": "Yeah I&#39;m having trouble figuring out what your goal is here, the first part seems like you want to implicitly convert from <code>int</code> to <code>Month</code>, I&#39;m not sure what you&#39;re getting at after that."}, {"owner": {"reputation": 1026, "user_id": 3951057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef3f346fcd1bd1c8a929481f4975994?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Sassi", "link": "https://stackoverflow.com/users/3951057/andr%c3%a9-sassi"}, "edited": false, "score": 0, "creation_date": 1476294771, "post_id": 40004775, "comment_id": 67288334, "body": "Why not both? Make an <code>enum class Month</code> and something like <code>class MonthInfo</code> such that you could write <code>Month::jan</code> instead of <code>1</code> and <code>MonthInfo(Month::jan)</code> to create an object representing January with all the month-related member functions you want. Are you looking for a suggestion like this?"}], "answers": [{"tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": false, "score": 0, "last_activity_date": 1476304388, "creation_date": 1476304388, "answer_id": 40007855, "question_id": 40004775, "link": "https://stackoverflow.com/questions/40004775/representation-of-month-enum-class-vs-class/40007855#40007855", "title": "Representation of Month: enum class vs. class", "body": "<p>Fwiw, here is how I did it:</p>\n\n<p><a href=\"https://github.com/HowardHinnant/date/blob/master/date.h#L1671-L1682\" rel=\"nofollow\">https://github.com/HowardHinnant/date/blob/master/date.h#L1671-L1682</a></p>\n\n<p><code>CONSTDATA</code> is just a backwards compatibility macro for <code>constexpr</code>.  In case the link goes dead:</p>\n\n<pre><code>constexpr date::month jan{1};\nconstexpr date::month feb{2};\nconstexpr date::month mar{3};\nconstexpr date::month apr{4};\nconstexpr date::month may{5};\nconstexpr date::month jun{6};\nconstexpr date::month jul{7};\nconstexpr date::month aug{8};\nconstexpr date::month sep{9};\nconstexpr date::month oct{10};\nconstexpr date::month nov{11};\nconstexpr date::month dec{12};\n</code></pre>\n\n<p>If you don't have <code>constexpr</code> in your toolbox (requires C++11), you can use <code>extern const</code> and put the definition in a source.</p>\n"}], "owner": {"reputation": 51, "user_id": 4092747, "user_type": "registered", "profile_image": "https://graph.facebook.com/227303836/picture?type=large", "display_name": "Adam Milner", "link": "https://stackoverflow.com/users/4092747/adam-milner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476304388, "creation_date": 1476293183, "question_id": 40004775, "link": "https://stackoverflow.com/questions/40004775/representation-of-month-enum-class-vs-class", "title": "Representation of Month: enum class vs. class", "body": "<p>I'm fairly new to C++, currently working through Stroustrup's Programming: Principles &amp; Practice Using C++. I've read about 2/3rd of the book but because of lack of access to a PC for a while, am only just getting caught up on exercises. I'm currently working on the exercises in Chapter 9 where the reader is asked to create a Date class. </p>\n\n<p>My simple Date class originally contained an enum class Month with the three letter abbreviation representing each month, so that the code I can write things like:</p>\n\n<pre><code>Month::jan\n</code></pre>\n\n<p>Which is much more descriptive than writing the integer 1, for example. This, as I understand it, is the primary purpose/advantage of using enum classes. </p>\n\n<p>Now that I'm expanding the Date class to do things such as calculate the number of days from a given date, or the week number of a given date, I'm finding myself wanting to replace the enum class Month, with a class or struct that holds information about each month (e.g. name, abbreviated name, month number, and days in the month) and a container (vector is really the only one I'm comfortable using at this point) containing the 12 months. This would also allow me to write member functions that, from an organization perspective, would be better off within the scope of the Month class than the Date class. </p>\n\n<p>If I change to this representation, however, I lose the convenience that the enum class provided when referring to months within the code, and instead have to write something like:</p>\n\n<pre><code>Month.Months(1) // where Months is the Month class member vector&lt;Month&gt;\n</code></pre>\n\n<p>So my question is, is there a way I can design my class that give me the best of both worlds? Thanks!</p>\n"}, {"tags": ["c++", "windows", "visual-c++", "windows-console"], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476315994, "post_id": 40007911, "comment_id": 67298199, "body": "There&#39;s no title bar inside client area."}, {"owner": {"reputation": 47, "user_id": 6929691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/032edb484c2464c52e0a97f2dad263d7?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/6929691/rachel"}, "edited": false, "score": 0, "creation_date": 1476323937, "post_id": 40007911, "comment_id": 67300097, "body": "It works! I write this because I  would like to write a PlaneWar and use the mouse to move the plane. I was wondering how to get the coordinate without waiting an input &quot;_getch()&quot;. Thanks a lot."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 1, "creation_date": 1476333756, "post_id": 40007911, "comment_id": 67302603, "body": "I recommend a regular windows program for developing games. You need real time message handling for mouse/keyboard, drawing hi-resolution images, this can&#39;t be done in console."}], "tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 1, "last_activity_date": 1531372832, "last_edit_date": 1531372832, "creation_date": 1476304606, "answer_id": 40007911, "question_id": 40004772, "link": "https://stackoverflow.com/questions/40004772/how-to-print-sentence-in-the-position-of-the-mouse-cursor-in-vc-win32-applicat/40007911#40007911", "title": "How to print sentence in the position of the mouse cursor in VC++ Win32 application?", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683171(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>GetConsoleScreenBufferInfo</code></a> to find the cursor position in console window. See this <a href=\"https://stackoverflow.com/a/35800317/4603670\">example</a></p>\n\n<p>Tracking mouse position in a console program may not be useful. If you really need the position of mouse pointer, you have to convert from desktop coordinates to to console window coordinates.</p>\n\n<p>Get the console window's handle <code>GetConsoleWindow()</code>\nUse <code>ScreenToClient</code> to convert mouse pointer position from screen to client. Map the coordinates to <code>CONSOLE_SCREEN_BUFFER_INFO::srWindow</code></p>\n\n<pre><code>COORD getxy()\n{\n    POINT pt; \n    GetCursorPos(&amp;pt);\n    HWND hwnd = GetConsoleWindow();\n\n    RECT rc;\n    GetClientRect(hwnd, &amp;rc);\n    ScreenToClient(hwnd, &amp;pt);\n\n    HANDLE hout = GetStdHandle(STD_OUTPUT_HANDLE);\n    CONSOLE_SCREEN_BUFFER_INFO inf;\n    GetConsoleScreenBufferInfo(hout, &amp;inf);\n\n    COORD coord = { 0, 0 };\n    coord.X = MulDiv(pt.x, inf.srWindow.Right, rc.right);\n    coord.Y = MulDiv(pt.y, inf.srWindow.Bottom, rc.bottom);\n    return coord;\n}\n\n\nint main() \n{\n    HANDLE hout = GetStdHandle(STD_OUTPUT_HANDLE);\n    while (1)\n    {\n        system(\"pause\");\n        COORD coord = getxy();\n        SetConsoleCursorPosition(hout, coord);\n        cout &lt;&lt; \"(\" &lt;&lt; coord.X &lt;&lt; \",\" &lt;&lt; coord.Y &lt;&lt; \")\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6929691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/032edb484c2464c52e0a97f2dad263d7?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/6929691/rachel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 40007911, "answer_count": 1, "score": -1, "last_activity_date": 1586707710, "creation_date": 1476293179, "question_id": 40004772, "link": "https://stackoverflow.com/questions/40004772/how-to-print-sentence-in-the-position-of-the-mouse-cursor-in-vc-win32-applicat", "title": "How to print sentence in the position of the mouse cursor in VC++ Win32 application?", "body": "<p>I want to print something in the position where the mouse cursor is, so I use <code>POINT cursorPos; GetCursorPos(&amp;cursorPos);</code>\nto get the position of mouse cursor.</p>\n\n<p>Then I set the console cursor to the position, and print the mouse coordinates. However the result is not correct.</p>\n\n<p>Here's the code:</p>\n\n<pre><code> #include&lt;iostream&gt;\n #include&lt;Windows.h&gt;\n #include &lt;conio.h&gt;\n #include &lt;stdio.h&gt;\n using namespace std;\n\n void gotoxy(int column, int line){\n     COORD coord;\n     coord.X = column;\n     coord.Y = line;\n     SetConsoleCursorPosition(\n         GetStdHandle(STD_OUTPUT_HANDLE),\n         coord\n     );\n }\n\nint main(){\n   while (1){\n       POINT cursorPos;\n       GetCursorPos(&amp;cursorPos);\n       system(\"pause\");\n       gotoxy(cursorPos.x, cursorPos.y);\n       cout &lt;&lt; cursorPos.x &lt;&lt; \" \" &lt;&lt; cursorPos.y;\n   }\n}\n</code></pre>\n\n<p>Thank U~</p>\n"}, {"tags": ["c++", "encoding", "utf-8", "qstring"], "answers": [{"comments": [{"owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 0, "creation_date": 1476443425, "post_id": 40033865, "comment_id": 67359038, "body": "Even if is there no Unicode escape sequences? So, a pure-ASCII unprefixed literal string like <code>&quot;hello&quot;</code> could be UTF-16 encoded?"}, {"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "reply_to_user": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 1, "creation_date": 1476444062, "post_id": 40033865, "comment_id": 67359381, "body": "@Peregring-lk no, UTF-16 is not permitted as the multibyte encoding of the  execution character set. It may be used as the wide: that weird compiler (Visual Studio) where wchar_t is 16 bit might use it as the encoding of <code>L&quot;hello&quot;</code>"}, {"owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 0, "creation_date": 1476449346, "post_id": 40033865, "comment_id": 67362856, "body": "Ok, so, the encoding of a unprefixed string literal could depend of their contents, isn&#39;t it? If a string contains only the execution character set, it is ASCII encoded (= UTF-8, = ISO-8859-1, etc), but if it contains other characters, the encoding of these particular string is implementation-defined. Isn&#39;t it?"}, {"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "reply_to_user": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 0, "creation_date": 1476449712, "post_id": 40033865, "comment_id": 67363129, "body": "@Peregring-lk no, it doesn&#39;t depend on content, it&#39;s one commandline option for all string literals."}, {"owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 0, "creation_date": 1476450065, "post_id": 40033865, "comment_id": 67363371, "body": "Ok, but, then, I deduced that, although implementation-defined, it must be an ASCII-compatible encoding, isn&#39;t it?"}, {"owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "reply_to_user": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 1, "creation_date": 1476450767, "post_id": 40033865, "comment_id": 67363909, "body": "@Peregring-lk not sure what you mean by &quot;ASCII-based&quot;, but the two restrictions are: all 96 characters of the basic charset have single&#39;byte representations and &#39;0&#39;-&#39;9&#39; appear in that order, so you can <code>c-&#39;0&#39;</code>"}], "tags": [], "owner": {"reputation": 43188, "user_id": 273767, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/363e49843e26763a496164190940ece4?s=128&d=identicon&r=PG", "display_name": "Cubbi", "link": "https://stackoverflow.com/users/273767/cubbi"}, "is_accepted": true, "score": 1, "last_activity_date": 1476411383, "creation_date": 1476411383, "answer_id": 40033865, "question_id": 40004634, "link": "https://stackoverflow.com/questions/40004634/qstringfromutf8str-and-u-encoded-character-sequences/40033865#40033865", "title": "QString::fromUtf8(str) and \\u encoded character sequences", "body": "<p>The encoding of the unprefixed string literal <code>\"...\"</code> is implementation-defined. On many non-Windows compilers it defaults to UTF-8, although it may sometimes be changed; for GCC this switch is <code>-fexec-charset</code> (<a href=\"https://gcc.gnu.org/onlinedocs/cpp/Invocation.html\" rel=\"nofollow\">docs</a>). </p>\n\n<p>To get UTF-8 encoding of a string literal independent of the execution character set, C++11 introduced <code>u8\"...\"</code> (<a href=\"http://en.cppreference.com/w/cpp/language/string_literal\" rel=\"nofollow\">cppreference</a>)</p>\n"}], "owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 0, "accepted_answer_id": 40033865, "answer_count": 1, "score": 0, "last_activity_date": 1476411383, "creation_date": 1476292749, "last_edit_date": 1476293082, "question_id": 40004634, "link": "https://stackoverflow.com/questions/40004634/qstringfromutf8str-and-u-encoded-character-sequences", "title": "QString::fromUtf8(str) and \\u encoded character sequences", "body": "<p>I was using string literals with <code>\\u</code> encoded sequences, for passing them to <code>QString::fromUtf8</code>, like in <code>QString::fromUtf8(\"Precio (\\u20AC/k)\");</code>, with success, but, struggling my mind a bit, and reading cppreference and other sources, I have not clear how is the <code>\\u20AC</code> sequence translated in binary.</p>\n\n<p>In other words, what is <code>QString::fromUtf8</code> receaving in substitution of the <code>\\u20AC</code> sequence? The UTF-8 representation of the <code>20AC</code> codepoint? Its UTF-16 representation? Or what?</p>\n\n<p>The most majority of the sources I've read says it is translated to its UTF-16 representation, which means that I'm doing wrong when passing that string to <code>fromUtf8</code>, however, it has always worked fine.</p>\n\n<p>Am I doing to right thing or not?</p>\n"}, {"tags": ["c++", "pointers", "object", "gdb"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1476292431, "post_id": 40004500, "comment_id": 67286901, "body": "Ehhrm, why are you using <code>delete</code> where you never used <code>new</code>?? I&#39;d seriously recommend you read about <a href=\"http://en.cppreference.com/w/cpp/memory\" rel=\"nofollow noreferrer\">dynamic memory management</a>."}, {"owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "edited": false, "score": 0, "creation_date": 1476328146, "post_id": 40004500, "comment_id": 67301156, "body": "Also it makes <i>no sense</i> for <code>Cylinder</code> to be derived from <code>Circle</code>, because a cylinder is <i>not</i> a (special kind of) circle. You are doing it wrong(TM). You should get a decent book on object-oriented programming and read about <code>isa</code> relationship."}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 6446925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/002a024a3b131e11d71666a47875cc2f?s=128&d=identicon&r=PG&f=1", "display_name": "MarcD", "link": "https://stackoverflow.com/users/6446925/marcd"}, "is_accepted": true, "score": 2, "last_activity_date": 1476308561, "creation_date": 1476308561, "answer_id": 40008855, "question_id": 40004500, "link": "https://stackoverflow.com/questions/40004500/error-double-free-or-corruption-out-0x00007fffffffddf0/40008855#40008855", "title": "Error: double free or corruption (out): 0x00007fffffffddf0 ***", "body": "<p>You're allocating your cylinder and sphere on the stack, then calling delete on pointers to them. This will destroy your objects twice. Once when you call delete, and once when they go out of scope (main ends).</p>\n\n<p>Don't call delete on objects that you didn't create with new. Especially don't call delete on the address of stack objects.</p>\n"}], "owner": {"reputation": 241, "user_id": 4722904, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KL3KK.gif?s=128&g=1", "display_name": "Ross Satchell", "link": "https://stackoverflow.com/users/4722904/ross-satchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2874, "favorite_count": 0, "accepted_answer_id": 40008855, "answer_count": 1, "score": 0, "last_activity_date": 1476308561, "creation_date": 1476292247, "question_id": 40004500, "link": "https://stackoverflow.com/questions/40004500/error-double-free-or-corruption-out-0x00007fffffffddf0", "title": "Error: double free or corruption (out): 0x00007fffffffddf0 ***", "body": "<p>I am playing around with hierarchical objects and pointers and have written a base class Circle, then two classes Cylinder and Sphere that both derive from Circle.\nWhen I run the program I get the error: double free or corruption (out): 0x00007fffffffddf0 ***</p>\n\n<p>So I tried running the code through GDB. I found that the error occurs when I call the Cylinder destructor, which calls the virtual destructor for Circle. However I don't understand why this is happening.\nFrom my research it seems this kind of error occurs when the code tries to deallocate memory that is not available to it.</p>\n\n<p>I thought perhaps the destructor for Cylinder was causing the problem, since it is called first, so I commented out all of the Sphere and Circle object lines in main() and just used the Cylinder code. \nWhen the destructor for the Cylinder pointer was called it resulted in a Segmentation Fault, so I am trying to access memory out of range. </p>\n\n<p>Now I'm thoroughly confused.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;    // used for square\nstatic constexpr float PI = 3.14159;\n\nusing namespace std;\n\nclass Circle{\nprotected:\n    float radius;\npublic:\n    float getRadius(){\n        return radius;\n    }\n    void setRadius(float r){\n        radius = r;\n    }\n    float calcCircleArea(){\n        return PI * pow(radius, 2);\n    }\n    float calcCircumference(){\n        return 2 * PI * radius;\n    }\n    Circle(){\n        // default constructor\n    }\n    Circle(float rad){\n        radius = rad;   // overloaded constructor \n    }\n    virtual ~Circle(){  // virtual destructor\n        cout &lt;&lt; \"Destroying Circle Constructor\" &lt;&lt; endl;\n    }\n};\n\nclass Cylinder: public Circle{\nprivate:\n    float height;\npublic:\n    float getHeight(){\n        return height;\n    }\n    void setHeight(float h){\n        height = h;\n    }\n    float calcVol(){\n        float circleArea = calcCircleArea();\n        float vol = circleArea * height;\n    }\n    float calcSurfaceArea(){\n        float circum = calcCircumference();\n        float circleArea = calcCircleArea();\n        float cylSurfArea = (circleArea *2) + (circum * height);\n    }\n    Cylinder(){}    // default constructor\n\n    Cylinder(float r, float h){ // overloaded constructor\n        radius = r;\n        height = h;\n    }\n    ~Cylinder(){    // destructor\n        cout &lt;&lt; \"Destroying Cylinder Constructor\" &lt;&lt;endl; \n    }\n};\n\nclass Sphere : public Circle {\npublic:\n    float calcSurfaceArea(){\n        float r = getRadius();\n        return 4* PI * pow(r,2);\n    }\n    float calcVol(){\n        float r = getRadius();\n        return (4.0/3.0) * PI * pow(r,3);\n    }\n    Sphere(){}  // default constructor\n\n    Sphere(float r){\n        radius = r;\n    }\n    ~Sphere(){  // destructor\n        cout &lt;&lt; \"Destroying Sphere Constructor\" &lt;&lt; endl;\n    }\n};\n\nint main(){\n    cout &lt;&lt; \"Enter radius of circle and height of cyl:\" &lt;&lt; endl;\n    float r;\n    float h;\n    cin &gt;&gt; r &gt;&gt; h;\n    Sphere s1(r);\n    Cylinder cyl1(r,h);\n    Circle cir1(r);\n\n //****************************\n //     Set up pointers\n //****************************\n    Circle *circPtr;\n    circPtr = &amp;cir1;\n    Sphere *sPtr;\n    sPtr = &amp;s1;\n    Cylinder *cylPtr;\n    cylPtr = &amp;cyl1;\n\n    cout &lt;&lt; \"Sphere vol : \" &lt;&lt; sPtr-&gt;calcVol() &lt;&lt; endl;\n    cout &lt;&lt; \"Sphere SA : \" &lt;&lt; sPtr-&gt;calcSurfaceArea() &lt;&lt; endl;\n\n    cout &lt;&lt; \"Cyl vol : \" &lt;&lt; cylPtr-&gt;calcVol() &lt;&lt; endl;\n    cout &lt;&lt; \"Cyl SA : \" &lt;&lt; cylPtr-&gt;calcSurfaceArea() &lt;&lt; endl;\n\n    cout &lt;&lt; \"Circle area : \" &lt;&lt; circPtr-&gt;calcCircleArea() &lt;&lt; endl;\n    cout &lt;&lt; \"Circle circum : \" &lt;&lt; circPtr-&gt;calcCircumference() &lt;&lt; endl;\n\n    cout &lt;&lt; \"sphere RADIUS : \" &lt;&lt; sPtr-&gt;getRadius() &lt;&lt; endl;\n    cout &lt;&lt; \"cyl pointer VOLUME : \" &lt;&lt; cylPtr-&gt;calcVol() &lt;&lt; endl;\n    cout &lt;&lt; \"circ pointer AREA: \" &lt;&lt; circPtr-&gt;calcCircleArea() &lt;&lt; endl;\n\n    delete cylPtr;\n    delete sPtr;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "corba", "iiop"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1476293515, "post_id": 40004432, "comment_id": 67287574, "body": "if you can choose I strongly suggest to use ICE instead - www.zeroc.com"}, {"owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476294616, "post_id": 40004432, "comment_id": 67288235, "body": "@Slava This looks like a great alternative to IIOP!"}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1476530971, "post_id": 40004432, "comment_id": 67391417, "body": "@JonathanKittell Why not use the IDL to C++11 language mapping, that is much easier than the C++ one. ICE will not work because the server is using CORBA, so the client also has to use CORBA"}, {"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 1, "creation_date": 1476566086, "post_id": 40004432, "comment_id": 67402555, "body": "We have a free CORBA programmers guide at www.remedy.nl that will give you some help"}], "answers": [{"tags": [], "owner": {"reputation": 84, "user_id": 5741350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e166827b740e7f45d4016ab477e03ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Starling", "link": "https://stackoverflow.com/users/5741350/chris-starling"}, "is_accepted": true, "score": 2, "last_activity_date": 1479664820, "creation_date": 1479664820, "answer_id": 40707447, "question_id": 40004432, "link": "https://stackoverflow.com/questions/40004432/how-to-make-remote-calls-using-iiop-and-omniorb/40707447#40707447", "title": "how to make remote calls using IIOP and omniORB", "body": "<p>I would put this as a comment but I don't have enough rep.  If you are working with a cisco DCM (or any cisco product) I would recommend reaching out to cisco.</p>\n\n<p>Just recently I have made a python implementation of CORBA (omniORBpy) with a cisco DCM.  I reached out to cisco and they gave me code that made the connection with some examples of method calls as well.</p>\n\n<p>Alternatively omniORB does have some examples showing how to connect a client and server and pass information to each other.  See <a href=\"http://omniorb.sourceforge.net/omni42/omniORB.pdf\" rel=\"nofollow noreferrer\">the omniorb documentation.</a> Under chapter 2 \"The Basics\" they have a few walk throughs. </p>\n\n<p>Hopefully this helps in some way.</p>\n"}], "owner": {"reputation": 5793, "user_id": 3131062, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/36fcccb0442a8b38c3acf90b6cdb56db?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Kittell", "link": "https://stackoverflow.com/users/3131062/jonathan-kittell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 40707447, "answer_count": 1, "score": 2, "last_activity_date": 1479664820, "creation_date": 1476292014, "last_edit_date": 1476542252, "question_id": 40004432, "link": "https://stackoverflow.com/questions/40004432/how-to-make-remote-calls-using-iiop-and-omniorb", "title": "how to make remote calls using IIOP and omniORB", "body": "<p>I have installed omniORB successfully on Windows Server 2012. I have two IDL files which I compiled using the <code>omniidl</code> compiler and now have a header file and source file for the two IDL files. </p>\n\n<p><a href=\"https://i.stack.imgur.com/BShph.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/BShph.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do you go about writing a client that can connect remotely and make the fuction calls in C++? How does this process work?</p>\n\n<p>I ordered the book <code>\"Advanced CORBA Programming with C++\"</code> which should be here soon, however, if anyone has experience with writing IIOP clients in C++ if you could explain how the connection is made and making a simple call. I am only making the client as the device already has the iiop server.</p>\n"}, {"tags": ["c++", "c++11", "language-lawyer"], "comments": [{"owner": {"reputation": 1026, "user_id": 3951057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef3f346fcd1bd1c8a929481f4975994?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Sassi", "link": "https://stackoverflow.com/users/3951057/andr%c3%a9-sassi"}, "edited": false, "score": 0, "creation_date": 1476293600, "post_id": 40004424, "comment_id": 67287632, "body": "Another workaround is: <code>foo_class&lt;int&gt; y(X, &amp;stringfy&lt;int&gt;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1476459792, "post_id": 40004965, "comment_id": 67370196, "body": "Or use <code>Converter = std::string(const T&amp;)</code> and <code>Converter const&amp;</code> in the <code>result_of</code> clause?"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1476293881, "creation_date": 1476293881, "answer_id": 40004965, "question_id": 40004424, "link": "https://stackoverflow.com/questions/40004424/c-function-reference-template-substitution-error-with-default-type/40004965#40004965", "title": "C++ function reference template substitution error with default type", "body": "<p>In your second snippet, you have</p>\n\n<pre><code>Converter = std::string(const T&amp;) // without reference\n</code></pre>\n\n<p>2 possibles fixes/workarounds:</p>\n\n<p>Use <code>std::decay_t</code></p>\n\n<pre><code>template&lt;typename T&gt;\nclass foo_class\n{\npublic:\n    template&lt;typename Converter = std::string(&amp;)(const T&amp;),\n             std::enable_if_t&lt;\n                 std::is_convertible&lt;\n                     std::result_of_t&lt;std::decay_t&lt;Converter&gt;(const T&amp;)&gt;,\n                     std::string&gt;::value&gt;* = nullptr&gt;\n    foo_class(const T &amp;value, const Converter &amp;converter = stringify&lt;T&gt;) {}\n};\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/45231b84128ac411\" rel=\"nofollow\">Demo</a></p>\n\n<p>or use</p>\n\n<pre><code>foo_class&lt;int&gt; y(X, &amp;stringfy&lt;int&gt;);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1476304289, "last_edit_date": 1476304289, "creation_date": 1476303948, "answer_id": 40007725, "question_id": 40004424, "link": "https://stackoverflow.com/questions/40004424/c-function-reference-template-substitution-error-with-default-type/40007725#40007725", "title": "C++ function reference template substitution error with default type", "body": "<p>That's not how you are supposed to use <code>result_of</code>.</p>\n\n<p>It should always be used with references, where the kind of the reference designates the value category of the corresponding expression in the call whose result you want to know.</p>\n\n<p>So if you are calling <code>converter</code> as a <code>const</code> lvalue, then you'd do <code>result_of&lt;const Converter &amp;(const T&amp;)&gt;</code>. A few more examples:</p>\n\n<pre><code>// forward the value category of the function object\ntemplate&lt;class F&gt; \nauto f(F&amp;&amp; f) -&gt; std::result_of_t&lt;F&amp;&amp;()&gt; { return std::forward&lt;F&gt;(f)(); }\n\n// always call as an lvalue, accept both lvalue and rvalue function object\ntemplate&lt;class F&gt; \nauto f(F&amp;&amp; f) -&gt; std::result_of_t&lt;F&amp;()&gt; { return f(); }\n\n// Accept everything by value, but call with all lvalues\ntemplate&lt;class F, class... Args&gt; \nauto f(F f, Args... args) -&gt; std::result_of_t&lt;F&amp;(Args&amp;...)&gt; { return f(args...); }\n\n// Accept everything by value, and move them all\ntemplate&lt;class F, class... Args&gt; \nauto f(F f, Args... args) -&gt; std::result_of_t&lt;F&amp;&amp;(Args&amp;&amp;...)&gt; { return std::move(f)(std::move(args)...); }\n</code></pre>\n"}], "owner": {"reputation": 924, "user_id": 2267742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0caddb15f038adccd80c198832c3680a?s=128&d=identicon&r=PG", "display_name": "Marandil", "link": "https://stackoverflow.com/users/2267742/marandil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 40007725, "answer_count": 2, "score": 0, "last_activity_date": 1476304289, "creation_date": 1476291981, "question_id": 40004424, "link": "https://stackoverflow.com/questions/40004424/c-function-reference-template-substitution-error-with-default-type", "title": "C++ function reference template substitution error with default type", "body": "<p>Consider the following snippet:</p>\n\n<pre><code>#include &lt;type_traits&gt;\n#include &lt;string&gt;\n\ntemplate&lt;typename T&gt;\nstd::string stringify (const T&amp; value)\n{ return \"dummy\"; }\n\ntemplate&lt;typename T&gt;\nclass foo_class\n{\npublic:\n    template&lt;typename Converter = std::string(&amp;)(const T&amp;),\n            class = typename std::enable_if&lt;std::is_convertible&lt;\n                                                    typename std::result_of&lt;Converter(const T&amp;)&gt;::type,\n                                                    std::string&gt;\n                                            ::value&gt;::type&gt;\n    foo_class(const T &amp;value, const Converter &amp;converter = stringify&lt;T&gt;) {}\n};\n\nint main(int,const char*[])\n{\n    int X = 7;\n    foo_class&lt;int&gt; x(X);\n    foo_class&lt;int&gt; y(X, stringify&lt;int&gt;);\n}\n</code></pre>\n\n<p>The first constructor compiles just fine, however the second one fails with the following error under Clang 3.6.2:</p>\n\n<pre><code>candidate template ignored: substitution failure [with Converter = std::__cxx11::basic_string&lt;char&gt; (const int &amp;)]: function cannot return function type 'std::__cxx11::basic_string&lt;char&gt; (const int &amp;)'\n    foo_class(const T &amp;value, const Converter &amp;converter = stringify&lt;T&gt;) {}\n</code></pre>\n\n<p>I dug down and found one way to fix it, by changing <code>const Converter &amp;</code> to just <code>Converter</code> in the parameter list, although this might not be the desired behavior in some cases.</p>\n\n<p>The error is caused by something in the std::enable_if&lt;..> clause. I can remove it and the code compiles (and runs) just fine.</p>\n\n<p>I am primarily interested in the question \"why\" - why does it work in the first case (when the function is selected as a default parameter), but not in the second case, when it is selected explicitly. </p>\n\n<p>As a secondary question, what would be considered the best way to deal with the issue? I mean, I have one workaround, but would prefer to stick to the \"const reference by default\" policy for arguments that are not functions.</p>\n"}, {"tags": ["c++", "perl", "wxwidgets"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3089170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69782426f694cdbfa66316c4aa3670a?s=128&d=identicon&r=PG&f=1", "display_name": "Jdun", "link": "https://stackoverflow.com/users/3089170/jdun"}, "edited": false, "score": 0, "creation_date": 1476745894, "post_id": 40061776, "comment_id": 67466786, "body": "Thanks for the reply VZ.  I may revisit this and give your suggestion a try.  I had to move on and worked around the sizing issue by locking down the form to prevent resizing and then accounted for the vertical scrollbar when it was in play."}], "tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": false, "score": 1, "last_activity_date": 1476550568, "creation_date": 1476550568, "answer_id": 40061776, "question_id": 40004369, "link": "https://stackoverflow.com/questions/40004369/wxwidgets-wx-perl-grid-sizing-issues/40061776#40061776", "title": "Wxwidgets / Wx Perl grid sizing issues", "body": "<p>There is too much code here to read it all carefully, but one thing that immediately seems suspicious to me is that you don't call <code>$event-&gt;Skip()</code> on the event in your <code>on_size</code> handler. The <code>EVT_SIZE</code> handler should almost invariably call <code>Skip()</code> to allow the default handling of the size event to take place, so while it might not explain all of your problems, I'd be surprised if it didn't explain at least some of them.</p>\n"}], "owner": {"reputation": 63, "user_id": 3089170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69782426f694cdbfa66316c4aa3670a?s=128&d=identicon&r=PG&f=1", "display_name": "Jdun", "link": "https://stackoverflow.com/users/3089170/jdun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476550568, "creation_date": 1476291808, "last_edit_date": 1476390881, "question_id": 40004369, "link": "https://stackoverflow.com/questions/40004369/wxwidgets-wx-perl-grid-sizing-issues", "title": "Wxwidgets / Wx Perl grid sizing issues", "body": "<p>Ok.  I've been stuck on this for several days now and I'm at wits end here.  I'm by no means an expert in Perl.</p>\n\n<p>I'm writing a GUI app using WxPerl.  To cut down on the noise, I've recreated a portion of the app where I'm having issues.  I designed the layout in FormBuilder, then used the resulting XRC file.  The XRC data is included below, save it in a file called noname.xrc.</p>\n\n<p>In a nutshell, the GUI has two grids (left and right), with two buttons in the middle.  For testing, there's an \"add row\" button at the top of the main frame, which adds a row to the left grid.  I wrote an EVT_SIZE function to adjust the last column of the grid on the left to fill the remaining space, which then modifies the grid on the right in the same way to keep them equal proportions.</p>\n\n<p>Issues:</p>\n\n<p>1) Click the add button 20 times, then adjust the size of the main frame window.  Notice how the grid all of a sudden expands and eats up the entire bottom of the frame.  Click the add button a few more times and it continues eating up the bottom... I can't seem to get the height to adjust to prevent it from eating up the bottom portion.  Maybe there's an obvious form setting I'm missing?  Even removing the growablecols flag from the wxGridBagSizer doesn't stop this from happening.</p>\n\n<p>2) An annoying visual issue, which is probably related to the proportional sizing.  Basically, there's border padding on each side of the grid (5x2), which is 10.  So I've subtracted 11 from the width before it is set, but ideally it should be 10.  However, if it's set to 10, when resizing occurs the last column keeps growing forever...</p>\n\n<p>3) If you click the \"Maximize\" button in the top right corner of the main frame, then click it again (it's called \"Restore Down\" then), to revert it back to the previous size, you'll see that the right grid never adjusts obviously, since the left grid hasn't changed size which never triggers the EVT_SIZE event... I've been brainstorming how to fix this, maybe the on size event can check the position of the right grid and determine if it's beyond the width of the main frame?  Is there an easier way to get this to size properly?</p>\n\n<p>Ideally, I'd like to set minimum sizes for certain grid columns, but have all the columns grow as the main window is resized.  But that's probably a pipe-dream at this point.</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage wxToplevelFrame;\n use strict;\n use warnings;\n use Wx qw(:everything);\n use Wx::Grid;\n use Wx::XRC;\n use base 'Wx::Frame';\n use Data::Dumper;\n use diagnostics;\n\n# import event registration function\nuse Wx::Event qw(:everything);\n\nuse base qw(Wx::Panel Class::Accessor::Fast);\n__PACKAGE__-&gt;mk_ro_accessors( qw(xrc) );\n\n$| = 1;\n\n### GUI CODE BEGINS ###\n\n# create specialized constructor for new subclass\nsub new {\n    my $class = shift;\n    my $self = $class-&gt;SUPER::new();\n\n    $self-&gt;initialize();    \n    return $self;\n}\n\n\nsub initialize {\n    my ($self) = @_;\n\n    my $xrc_path = 'noname.xrc';\n\n    Wx::InitAllImageHandlers();\n\n    $self-&gt;{ xrc } = Wx::XmlResource-&gt;new();\n    $self-&gt;xrc-&gt;InitAllHandlers();\n    $self-&gt;xrc-&gt;Load($xrc_path);\n    $self-&gt;xrc-&gt;LoadFrame($self, undef, 'MyFrame1',);\n\n    # main frame close\n    EVT_CLOSE( $self, \n        sub {\n            my ($self) = @_;\n            $self-&gt;Destroy();\n        }\n    );\n\n\n    # LEFT GRID\n    my $grid_left = $self-&gt;{ grid_left } = $self-&gt;FindWindow('m_grid4');\n    $grid_left-&gt;CreateGrid(0, 3);\n\n    $grid_left-&gt;SetColLabelSize(25); # label height\n    $grid_left-&gt;SetRowLabelSize(25); # row width (far left, the numbers column basically)\n\n    $grid_left-&gt;SetColLabelValue(0, 'col_1');\n    $grid_left-&gt;SetColLabelValue(1, 'col_2');\n    $grid_left-&gt;SetColLabelValue(2, 'col_3');\n\n    $grid_left-&gt;EnableDragColSize(0);\n    $grid_left-&gt;EnableDragRowSize(0);\n    $grid_left-&gt;EnableEditing(0);\n\n    $grid_left-&gt;SetDefaultRowSize(20);\n\n    $grid_left-&gt;SetColSize( 0, 190 ); # col 1\n    $grid_left-&gt;SetColSize( 1, 50 );  # col 2\n    $grid_left-&gt;SetColSize( 2, 179 ); # col 3\n\n\n    # RIGHT GRID\n    my $grid_right = $self-&gt;{ grid_right } = $self-&gt;FindWindow('m_grid5');\n\n    $grid_right-&gt;CreateGrid(0, 3);\n\n    $grid_right-&gt;SetColLabelSize(25); # label height\n    $grid_right-&gt;SetRowLabelSize(25); # row width (far left, the numbers column basically)\n\n    $grid_right-&gt;SetColLabelValue(0, 'col_');\n    $grid_right-&gt;SetColLabelValue(1, 'col_2');\n    $grid_right-&gt;SetColLabelValue(2, 'col_3');\n\n    $grid_right-&gt;EnableDragColSize(0);\n    $grid_right-&gt;EnableDragRowSize(0);\n    $grid_right-&gt;EnableEditing(0);\n\n    $grid_right-&gt;SetDefaultRowSize(20);\n\n    $grid_right-&gt;SetColSize( 0, 190 ); # col 1\n    $grid_right-&gt;SetColSize( 1, 50 );  # col 2\n    $grid_right-&gt;SetColSize( 2, 179 ); # col 3\n\n    #EVT_SIZE( $grid_left, \\&amp;on_size ); # adjust grid when size changes\n    #EVT_SIZE( $grid_right, \\&amp;on_size ); # adjust grid when size changes\n\n    my $on_size = \\&amp;on_size;\n    EVT_SIZE($grid_left, callback($on_size, $self, $grid_left) );\n\n\n    my $button = $self-&gt;{ button } = $self-&gt;FindWindow('m_button3');\n\n    EVT_BUTTON(\n        $button,\n        $button-&gt;GetId(),\n        callback(my $button_sub = \\&amp;add_row, $self, $button),\n    );\n\n    my $gui_actions_text_ctrl = $self-&gt;FindWindow('m_textCtrl1');\n    my $gui_log = Wx::LogTextCtrl-&gt;new( $gui_actions_text_ctrl );\n    $self-&gt;{ gui_log_text_ctrl } = Wx::Log::SetActiveTarget( $gui_log );\n\n    $self-&gt;SetStatusBarPane(-1);\n    return;\n}\n\nsub callback { \n    my $coderef = shift; \n    my @args = @_;\n\n    #print \"what is args\\n\";\n    #print Dumper \\@args;\n\n    sub { $coderef-&gt;(@args) } \n\n    # callback function.  when we want to pass addition args to a method call, such as an event (EVT_*), we can use this\n    # example:\n    # my $on_size_test = \\&amp;on_size_test;\n    # EVT_SIZE($grid_left, callback($on_size, $grid_left, $self) );\n} \n\nsub on_close {\n    my ($self) = @_;\n    $self-&gt;Destroy();\n}\n\nsub on_size {\n    my ($self, $grid) = @_;\n    print \"in on_size sub\\n\";\n\n    # get the number of columns and the initial width which includes the far left number column (gutter column, with row indicators 1, 2, 3 ...)\n    my $num_cols   = $grid-&gt;GetNumberCols();\n    my $width      = $grid-&gt;GetRowLabelSize();\n    my $gutter_col = $width;\n\n    print \"num_cols: $num_cols\\n\";\n    print \"initial width: $width\\n\";\n\n    my $col_0;\n    my $col_1;\n    my $col_2;\n\n    # iterate over each column, get size and add it to our width\n    for (my $col = 0; $col &lt; $num_cols; $col++) {\n\n        # conditionals of no importance currently, but used during testing\n        if ($col == 0) {\n            $col_0 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_0: $col_0\\n\";\n\n        } elsif ($col == 1) {\n            $col_1 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_1: $col_1\\n\";\n\n        } elsif ($col == 2) {\n            $col_2 = $grid-&gt;GetColSize($col);\n            print \"col: $col, width col_2: $col_2\\n\";\n        }\n        $width += $grid-&gt;GetColSize($col);\n    }\n\n    print \"width after iterating over each column: $width\\n\";\n\n    # get sizer that grid is contained in\n    # get width of sizer and subtract it from the total width\n    # the difference will be the size we set for our last column\n    if ($num_cols &gt; 0) {\n\n        my $static_box_sizer = $grid-&gt;GetContainingSizer();\n        my $sizer            = $static_box_sizer-&gt;GetSize();\n        my $sizer_width      = $sizer-&gt;GetWidth();\n\n        print \"sizer_width: $sizer_width\\n\";\n        print \"we are setting width for the last column.  sizer_width: $sizer_width minus the total width: $width (gutter_col: $gutter_col, col_0, col_1, col_2)\\n\";\n\n        my $width_diff = $sizer_width - $width + $col_2 - 11;   # ideally this should be 10 for padding (5x2) on each side of sizer\n                                                                # but setting it at 10 causes the col to keep expanding...\n\n        print \"width_diff result of above calc: $width_diff\\n\";\n\n        $grid-&gt;SetColSize($num_cols - 1, $width_diff); # last column\n\n        # adjust grid right to reflect same proportions\n        $self-&gt;{ grid_right }-&gt;SetColSize($num_cols - 1, $width_diff); # last column        \n    }\n\n    return;\n}\n\nsub add_row {\n    my ($self, $button) = @_;\n\n    $self-&gt;{ grid_left }-&gt;AppendRows(1);\n\n    my $col = 0;\n    foreach my $value ('testing', 100, 'Sat Aug 20 20:52:20 2016') {\n        my $row;    \n        if ($col == 3) {\n            $self-&gt;{ grid_left }-&gt;AppendRows(1);\n            $row = $self-&gt;{ grid_left }-&gt;GetNumberRows() - 1; # minus one from total rows\n            print \"col == 2\\n\";\n            print \"reset\\n\";\n            print \"what is row: $row\\n\";\n            $col = 0;\n        } else {\n            $row = $self-&gt;{ grid_left }-&gt;GetNumberRows() - 1;\n        }\n        print \"value: $value\\n\";\n\n        $self-&gt;{ grid_left }-&gt;SetCellValue(\n            $row,\n            $col,\n            $value,\n        );\n\n        if ($col == 1) {\n            $self-&gt;{ grid_left }-&gt;SetCellAlignment(\n                $row,\n                $col,\n                wxALIGN_RIGHT,\n                wxALIGN_CENTRE,\n            );\n\n        } elsif ($col == 2) {\n            $self-&gt;{ grid_left }-&gt;SetCellAlignment(\n                $row,\n                $col,\n                wxALIGN_CENTRE,\n                wxALIGN_CENTRE,\n            );\n        }\n        $col++;\n\n    }\n}\n### GUI CODE ENDS ###\n\n# END: wxToplevelFrame package\n\n\n# create an app object\npackage MyApp;\n use strict;\n use warnings;\n use base 'Wx::App';\n\n# OnInit is called automatically when an app object is first constructed\nsub OnInit {\n    my $self = shift;\n    my $toplevel_frame = wxToplevelFrame-&gt;new();\n    $self-&gt;SetTopWindow($toplevel_frame);   \n    $toplevel_frame-&gt;Show(1);\n}\n# END: MyApp package\n\n\npackage main;\n use strict;\n use warnings;\n use Data::Dumper;\n\n$| = 1;\n\nmy $app = MyApp-&gt;new(); # instantiate our app first\n$app-&gt;MainLoop();\n\nexit;\n</code></pre>\n\n<p><strong>XRC file</strong>: noname.xrc</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?&gt;\n&lt;resource xmlns=\"http://www.wxwindows.org/wxxrc\" version=\"2.3.0.1\"&gt;\n    &lt;object class=\"wxFrame\" name=\"MyFrame1\"&gt;\n        &lt;style&gt;wxCAPTION|wxCLOSE_BOX|wxMAXIMIZE_BOX|wxMINIMIZE_BOX|wxRESIZE_BORDER|wxSYSTEM_MENU|wxFULL_REPAINT_ON_RESIZE|wxTAB_TRAVERSAL&lt;/style&gt;\n        &lt;size&gt;998,700&lt;/size&gt;\n        &lt;title&gt;Grid Issues&lt;/title&gt;\n        &lt;centered&gt;1&lt;/centered&gt;\n        &lt;aui_managed&gt;0&lt;/aui_managed&gt;\n        &lt;object class=\"wxPanel\" name=\"m_panel6\"&gt;\n            &lt;style&gt;wxTAB_TRAVERSAL&lt;/style&gt;\n            &lt;object class=\"wxBoxSizer\"&gt;\n                &lt;orient&gt;wxVERTICAL&lt;/orient&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;1&lt;/option&gt;\n                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxFlexGridSizer\"&gt;\n                        &lt;rows&gt;0&lt;/rows&gt;\n                        &lt;cols&gt;6&lt;/cols&gt;\n                        &lt;vgap&gt;0&lt;/vgap&gt;\n                        &lt;hgap&gt;0&lt;/hgap&gt;\n                        &lt;growablecols&gt;&lt;/growablecols&gt;\n                        &lt;growablerows&gt;&lt;/growablerows&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;option&gt;0&lt;/option&gt;\n                            &lt;flag&gt;wxALL&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxButton\" name=\"m_button3\"&gt;\n                                &lt;label&gt;add row&lt;/label&gt;\n                                &lt;default&gt;0&lt;/default&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;3&lt;/option&gt;\n                    &lt;flag&gt;wxEXPAND|wxLEFT|wxRIGHT&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxGridBagSizer\"&gt;\n                        &lt;vgap&gt;0&lt;/vgap&gt;\n                        &lt;hgap&gt;0&lt;/hgap&gt;\n                        &lt;growablecols&gt;0,2&lt;/growablecols&gt;\n                        &lt;growablerows&gt;0&lt;/growablerows&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,0&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxStaticBoxSizer\"&gt;\n                                &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                &lt;label&gt;left&lt;/label&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;1&lt;/option&gt;\n                                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxGrid\" name=\"m_grid4\" /&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,1&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALIGN_CENTER_HORIZONTAL|wxALIGN_CENTER_VERTICAL&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxBoxSizer\"&gt;\n                                &lt;orient&gt;wxVERTICAL&lt;/orient&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;0&lt;/option&gt;\n                                    &lt;flag&gt;wxALL&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxButton\" name=\"m_button4\"&gt;\n                                        &lt;style&gt;wxBU_EXACTFIT&lt;/style&gt;\n                                        &lt;label&gt;&amp;gt;&lt;/label&gt;\n                                        &lt;default&gt;0&lt;/default&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;0&lt;/option&gt;\n                                    &lt;flag&gt;wxALL&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxButton\" name=\"m_button5\"&gt;\n                                        &lt;style&gt;wxBU_EXACTFIT&lt;/style&gt;\n                                        &lt;label&gt;&amp;lt;&lt;/label&gt;\n                                        &lt;default&gt;0&lt;/default&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                        &lt;object class=\"sizeritem\"&gt;\n                            &lt;cellpos&gt;0,2&lt;/cellpos&gt;\n                            &lt;cellspan&gt;1,1&lt;/cellspan&gt;\n                            &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                            &lt;border&gt;5&lt;/border&gt;\n                            &lt;object class=\"wxStaticBoxSizer\"&gt;\n                                &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                &lt;label&gt;right&lt;/label&gt;\n                                &lt;object class=\"sizeritem\"&gt;\n                                    &lt;option&gt;1&lt;/option&gt;\n                                    &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                    &lt;border&gt;5&lt;/border&gt;\n                                    &lt;object class=\"wxGrid\" name=\"m_grid5\" /&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n                &lt;object class=\"sizeritem\"&gt;\n                    &lt;option&gt;2&lt;/option&gt;\n                    &lt;flag&gt;wxEXPAND | wxALL&lt;/flag&gt;\n                    &lt;border&gt;5&lt;/border&gt;\n                    &lt;object class=\"wxNotebook\" name=\"m_notebook2\"&gt;\n                        &lt;object class=\"notebookpage\"&gt;\n                            &lt;label&gt;a page&lt;/label&gt;\n                            &lt;selected&gt;0&lt;/selected&gt;\n                            &lt;object class=\"wxPanel\" name=\"m_panel2\"&gt;\n                                &lt;style&gt;wxTAB_TRAVERSAL&lt;/style&gt;\n                                &lt;object class=\"wxBoxSizer\"&gt;\n                                    &lt;orient&gt;wxHORIZONTAL&lt;/orient&gt;\n                                    &lt;object class=\"sizeritem\"&gt;\n                                        &lt;option&gt;1&lt;/option&gt;\n                                        &lt;flag&gt;wxALL|wxEXPAND&lt;/flag&gt;\n                                        &lt;border&gt;5&lt;/border&gt;\n                                        &lt;object class=\"wxTextCtrl\" name=\"m_textCtrl1\"&gt;\n                                            &lt;value&gt;&lt;/value&gt;\n                                        &lt;/object&gt;\n                                    &lt;/object&gt;\n                                &lt;/object&gt;\n                            &lt;/object&gt;\n                        &lt;/object&gt;\n                    &lt;/object&gt;\n                &lt;/object&gt;\n            &lt;/object&gt;\n        &lt;/object&gt;\n        &lt;object class=\"wxStatusBar\" name=\"m_statusBar1\"&gt;\n            &lt;style&gt;wxST_SIZEGRIP&lt;/style&gt;\n            &lt;fields&gt;2&lt;/fields&gt;\n        &lt;/object&gt;\n    &lt;/object&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>Any help greatly appreciated,</p>\n\n<p>Thanks,</p>\n\n<p>-Jdun</p>\n"}, {"tags": ["c++", "ocaml", "pass-by-reference"], "comments": [{"owner": {"reputation": 4223, "user_id": 597517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fd636db960bba6027154d81ef106e?s=128&d=identicon&r=PG", "display_name": "Martin Jambon", "link": "https://stackoverflow.com/users/597517/martin-jambon"}, "edited": false, "score": 1, "creation_date": 1476294480, "post_id": 40004245, "comment_id": 67288149, "body": "The OCaml language is such that passing around any value always results in sharing the mutable parts. It is useful to learn about the internal representation of OCaml values, in the &quot;Interfacing C with OCaml&quot; section of the manual <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/intfc.html\" rel=\"nofollow noreferrer\">caml.inria.fr/pub/docs/manual-ocaml/intfc.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 339851, "user_id": 149392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a561ec0875fcbbe3066ea8fe288ec77?s=128&d=identicon&r=PG", "display_name": "sepp2k", "link": "https://stackoverflow.com/users/149392/sepp2k"}, "is_accepted": true, "score": 9, "last_activity_date": 1476306170, "last_edit_date": 1476306170, "creation_date": 1476291672, "answer_id": 40004328, "question_id": 40004245, "link": "https://stackoverflow.com/questions/40004245/does-ocaml-have-the-ability-to-pass-by-reference/40004328#40004328", "title": "Does OCaml have the ability to pass by reference?", "body": "<p>No, there is no strict equivalent.</p>\n\n<p>There are <code>ref</code>s, which are like pointers to new-allocated memory, and there are records, arrays, objects and values of other compound data types, that are passed \"by object reference\", which again means they act like pointer to new-allocated memory.</p>\n\n<p>However there's no equivalent to a pointer to a variable or a C++ reference.</p>\n"}, {"tags": [], "owner": {"reputation": 1541, "user_id": 5374489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83871d811321a9729d2afa5cd7d17b8f?s=128&d=identicon&r=PG&f=1", "display_name": "V. Michel", "link": "https://stackoverflow.com/users/5374489/v-michel"}, "is_accepted": false, "score": 0, "last_activity_date": 1476295299, "last_edit_date": 1476295299, "creation_date": 1476294894, "answer_id": 40005255, "question_id": 40004245, "link": "https://stackoverflow.com/questions/40004245/does-ocaml-have-the-ability-to-pass-by-reference/40005255#40005255", "title": "Does OCaml have the ability to pass by reference?", "body": "<p>The closest, could be:</p>\n\n<pre><code>let x=ref 3;;        \nlet incrementInt x = \n  x := !x+1;;\n\nincrementInt x;;\n# !x;;\n- : int = 4\n</code></pre>\n\n<p>As said sepp2k, it is not the same.</p>\n"}, {"tags": [], "owner": {"reputation": 28350, "user_id": 2625442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a48a497d3aae41354bc1189d57db2c3?s=128&d=identicon&r=PG", "display_name": "ivg", "link": "https://stackoverflow.com/users/2625442/ivg"}, "is_accepted": false, "score": 2, "last_activity_date": 1476306724, "last_edit_date": 1476306724, "creation_date": 1476305638, "answer_id": 40008179, "question_id": 40004245, "link": "https://stackoverflow.com/questions/40004245/does-ocaml-have-the-ability-to-pass-by-reference/40008179#40008179", "title": "Does OCaml have the ability to pass by reference?", "body": "<p>In OCaml, parameters are passed by value. A value by itself can be mutable, or immutable. The former can be modified by a callee, and it will be seen by the caller. Immutable value, obviously, can't be modified. The mutability of a value is defined by its type. Most of the value types in OCaml are immutable. The notable exceptions are arrays and strings (in the newer version of OCaml stings became immutable, but let's skip this topic). For example, values of type <code>int</code> are immutable. This is quite natural -- if you have the number <code>5</code> it is always the number <code>5</code>, you can't mutate it. However, you can put this number into a mutable cell and pass this cell to a function. So that the function, can change the contents of the cell. Note, we are not changing the number itself, we are just putting another number into the same cell, e.g.,</p>\n\n<pre><code>type cell = {\n  mutable value : int;\n}\n\nlet incr x = \n   x.value &lt;- x.value + 1\n</code></pre>\n\n<p>The <code>incr</code> function takes a value from a cell, creates a new value by incrementing it, and then puts the <em>new</em> value into the cell. </p>\n\n<p>We can parametrize type <code>cell</code>, so that it can contain a value of any type, e.g.,</p>\n\n<pre><code>type 'a cell = {\n    mutable value : 'a;\n}\n</code></pre>\n\n<p>In fact, the <code>ref</code> type actually looks the same (modulo name). It is defined in the standard library as follows;</p>\n\n<pre><code>type 'a ref = {\n  mutable contents : 'a;\n}\n</code></pre>\n\n<p>The notion of passing by a reference was created by languages that leaked their own abstractions and made it necessary to a programmer to understand how parameters are passed to a function. In OCaml, you can forget this as a nightmare. Every parameter in OCaml takes only one machine word and is passed via a register, or via the stack if there are too many parameters. From a C programmer perspective, every value is a scalar or a pointer. Integers and unary constructors (variants) are passed as scalars, where compound data types, are always passed by a pointer. </p>\n"}, {"tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 4, "last_activity_date": 1476315877, "creation_date": 1476315877, "answer_id": 40010084, "question_id": 40004245, "link": "https://stackoverflow.com/questions/40004245/does-ocaml-have-the-ability-to-pass-by-reference/40010084#40010084", "title": "Does OCaml have the ability to pass by reference?", "body": "<p>There would be no distinguishable difference between pass-by-value and pass-by-reference in OCaml, because it's impossible to assign to a variable in OCaml. For example, your <code>++x</code> is impossible in OCaml.</p>\n\n<p>The difference between pass-by-value and pass-by-reference is in what happens when a parameter is assigned to inside the called function -- in pass-by-value, it has no effect on the passed variable (if a variable was passed); in pass-by-reference, it has the same effect as assignment to the passed variable in the calling scope. In OCaml, you cannot assign to a variable, so this distinction does not exist. If OCaml were \"pass-by-reference\", it would work the exact same way as if it were \"pass-by-value\".</p>\n\n<p>You can pass around references to mutable data structures, and use this to share state between functions, but this has nothing to do with pass-by-reference, as you can do this in pass-by-value-only languages like C and Java.</p>\n"}], "owner": {"reputation": 266, "user_id": 691459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wY8qC.png?s=128&g=1", "display_name": "Chuck Norrris", "link": "https://stackoverflow.com/users/691459/chuck-norrris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2259, "favorite_count": 0, "accepted_answer_id": 40004328, "answer_count": 4, "score": 4, "last_activity_date": 1476324024, "creation_date": 1476291435, "last_edit_date": 1476324024, "question_id": 40004245, "link": "https://stackoverflow.com/questions/40004245/does-ocaml-have-the-ability-to-pass-by-reference", "title": "Does OCaml have the ability to pass by reference?", "body": "<p>In C++ a program can pass a reference, not value to a function.</p>\n\n<pre><code>void incrementInt(int &amp;x) \n{\n  ++x;\n}\n</code></pre>\n\n<p>Does OCaml offer this same functionality?</p>\n"}, {"tags": ["c++", "qt", "redhat"], "comments": [{"owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 1, "creation_date": 1476290980, "post_id": 40003995, "comment_id": 67286009, "body": "That format string <i>should</i> be correct. What&#39;s the output of <code>date &#39;+%d %B %Y&#39;</code> when you run it on the command line?"}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "reply_to_user": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 0, "creation_date": 1476291051, "post_id": 40003995, "comment_id": 67286058, "body": "I agree from the command line it works, but nothing when used in the project file."}, {"owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 0, "creation_date": 1476291174, "post_id": 40003995, "comment_id": 67286130, "body": "Also just out of curiosity does it work without spaces (I&#39;m not in a place where I can try it right this moment) e.g. <code>+%d_%B_%Y</code>? Btw you could also consider <code>date +%s</code> then format it to the current locale and timezone at runtime."}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "reply_to_user": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 0, "creation_date": 1476291318, "post_id": 40003995, "comment_id": 67286216, "body": "Yes, using &#39;_&#39; instead of spaces works...I&#39;ll try using the +%s"}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "reply_to_user": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 0, "creation_date": 1476291423, "post_id": 40003995, "comment_id": 67286267, "body": "Would it recognise %20 instead of a space.....No :("}, {"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1476291530, "post_id": 40003995, "comment_id": 67286331, "body": "I&#39;m confused.  <code>system</code> does not return a string.  It returns a status code.  Does Qt capture the output of the spawned process and return it as a string for you?"}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "edited": false, "score": 0, "creation_date": 1476291590, "post_id": 40003995, "comment_id": 67286385, "body": "I found the original suggestion for this when doing a search for how to get the build date and time into your build....it does work, but not in the using the format I would like."}, {"owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "edited": false, "score": 1, "creation_date": 1476291705, "post_id": 40003995, "comment_id": 67286449, "body": "I am certain that it&#39;s an issue with the spaces (I opened up the laptop and am testing with Qt now but I&#39;m on Windows so can&#39;t get your test exactly). I&#39;m able to reproduce the issue, and I&#39;m trying all sorts of combinations of quotes around things. So far I have not found a solution. I recommend using <code>+%s</code> for the time being and formatting internally with a <code>QDateTime</code>. I&#39;ll post an answer when I figure it out I&#39;m sure it&#39;s documented somewhere or exists as a question here already. When you build the application, in the compile output tab, what is the compiler command it generates?"}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "edited": false, "score": 0, "creation_date": 1476291765, "post_id": 40003995, "comment_id": 67286499, "body": "Thank you, going with the +%s solution."}], "answers": [{"tags": [], "owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "is_accepted": false, "score": 1, "last_activity_date": 1476300945, "last_edit_date": 1495535415, "creation_date": 1476292403, "answer_id": 40004551, "question_id": 40003995, "link": "https://stackoverflow.com/questions/40003995/getting-build-date-and-time-in-redhat-7-2/40004551#40004551", "title": "Getting build date and time in RedHat 7.2", "body": "<p>Solution for RedHat:</p>\n\n<pre><code>DEFINES += BUILDDATE=\\\\\\\"$$system(date '+%s')\\\\\\\"\n</code></pre>\n\n<p>In code:</p>\n\n<pre><code>QString strBuildDT = QString::fromLocal8Bit(BUILDDATE);\nQDateTime qDT = QDateTime::fromMSecsSinceEpoch(strBuildDT.toLong() * 1000);\nstrBuildDT = qDT.toString(\"dd MMMM yyyy, HH:mm\");\n</code></pre>\n\n<p>This works well, thank you to <a href=\"https://stackoverflow.com/users/616460/jason-c\">https://stackoverflow.com/users/616460/jason-c</a> for the suggestion to try +s</p>\n"}, {"tags": [], "owner": {"reputation": 34061, "user_id": 616460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Yiloe.png?s=128&g=1", "display_name": "Jason C", "link": "https://stackoverflow.com/users/616460/jason-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1476292451, "last_edit_date": 1495535415, "creation_date": 1476292451, "answer_id": 40004560, "question_id": 40003995, "link": "https://stackoverflow.com/questions/40003995/getting-build-date-and-time-in-redhat-7-2/40004560#40004560", "title": "Getting build date and time in RedHat 7.2", "body": "<p>I found a <a href=\"http://lists.qt-project.org/pipermail/interest/2015-November/019784.html\" rel=\"nofollow noreferrer\">mailing list thread about this</a>. This works (the purpose of <code>$$quote</code> is to prevent Qt from munging spaces, it actually should still produce a non-empty string without <code>$$quote</code>, the real key is the outer <code>\\\"</code>s)</p>\n\n<pre><code>DEFINES += \\\"BUILDDATE=\\\\\\\"$$quote($$system(date /T))\\\\\\\"\\\"\n</code></pre>\n\n<p>That works on Windows. I can't test on Linux right now but should be something like:</p>\n\n<pre><code>DEFINES += \\\"BUILDDATE=\\\\\\\"$$quote($$system(date '+%d %B %Y'))\\\\\\\"\\\"\n</code></pre>\n\n<p>This essentially puts quotes around the whole thing on the compiler command line and lets it work with spaces in the string. Example (Windows, mingw, Qt 4.8.1):</p>\n\n<pre><code>g++ ... -D\"BUILDDATE=\\\"Wed 10/12/2016\\\"\" ...\n</code></pre>\n\n<p>That said you still may want to just use <code>date '+%s'</code> to get epoch time then format on display with a <code>QDateTime</code> to use the current locale and timezone. Unfortunately, though, I do not know the command to get epoch time on Windows (cursory research <a href=\"https://stackoverflow.com/a/14290557/616460\">does not bode well</a>).</p>\n"}], "owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 40004560, "answer_count": 2, "score": 1, "last_activity_date": 1476300945, "creation_date": 1476290640, "question_id": 40003995, "link": "https://stackoverflow.com/questions/40003995/getting-build-date-and-time-in-redhat-7-2", "title": "Getting build date and time in RedHat 7.2", "body": "<p>I'm trying to add the build date and time to my Qt 5.6 project file, so far I have added:</p>\n\n<pre><code>    win32 {\n    DEFINES += BUILDTIME=\\\\\\\"$$system('echo %time%')\\\\\\\"\n    DEFINES += BUILDDATE=\\\\\\\"$$system('echo %date%')\\\\\\\"\n    } else {\n    DEFINES += BUILDTIME=\\\\\\\"$$system(date '+%H:%M')\\\\\\\"\n    DEFINES += BUILDDATE=\\\\\\\"$$system(date '+%d/%m/%y')\\\\\\\"\n    }\n</code></pre>\n\n<p>And in the source code:</p>\n\n<pre><code>    QString strBuildDT = QString::fromLocal8Bit(BUILDDATE)\n                + \", \" + QString::fromLocal8Bit(BUILDTIME);\n</code></pre>\n\n<p>Using this as an example I would get:</p>\n\n<pre><code>    12/10/16, 17:39\n</code></pre>\n\n<p>I would like to reformat the date to display:</p>\n\n<pre><code>    12 October 2016, 17:39\n</code></pre>\n\n<p>From research it looks like the correct date format to use would be:</p>\n\n<pre><code>    DEFINES += BUILDDATE=\\\\\\\"$$system(date '+%d %B %Y')\\\\\\\"\n</code></pre>\n\n<p>But this doesn't work and returns and empty string for BUILDDATE.</p>\n"}, {"tags": ["c++", "pointers", "data-structures", "linked-list"], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 3944479, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d154cf09db40bece3483619c4fbff?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/3944479/khan"}, "edited": false, "score": 0, "creation_date": 1476292842, "post_id": 40004062, "comment_id": 67287160, "body": "This seems to the problem, yes!"}, {"owner": {"reputation": 440, "user_id": 3944479, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d154cf09db40bece3483619c4fbff?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/3944479/khan"}, "edited": false, "score": 0, "creation_date": 1476293073, "post_id": 40004062, "comment_id": 67287315, "body": "Could you explain the working of the code as it is shown above? Why was I getting a value of 20 every time? Like, if I set the counter to 20, it was full with value if 20 (except the first element). And do you have an efficient algorithm/code for this problem?"}, {"owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "reply_to_user": {"reputation": 440, "user_id": 3944479, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d154cf09db40bece3483619c4fbff?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/3944479/khan"}, "edited": false, "score": 0, "creation_date": 1476294825, "post_id": 40004062, "comment_id": 67288371, "body": "Your ShowStack() is supposed to set temp=start outside the loop, then repeat count_1 times of {print what temp points to; move temp to the next node;}. But if you set temp=start inside the loop, you are going to print the stack head count_1 times."}], "tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1476290844, "creation_date": 1476290844, "answer_id": 40004062, "question_id": 40003935, "link": "https://stackoverflow.com/questions/40003935/inserting-pop-functionality-using-link-lists/40004062#40004062", "title": "Inserting Pop Functionality using link lists", "body": "<p>In your ShowStack() function, move \"node *temp = start;\" outside the loop.</p>\n"}], "owner": {"reputation": 440, "user_id": 3944479, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d154cf09db40bece3483619c4fbff?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/3944479/khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 40004062, "answer_count": 1, "score": 0, "last_activity_date": 1476290844, "creation_date": 1476290418, "question_id": 40003935, "link": "https://stackoverflow.com/questions/40003935/inserting-pop-functionality-using-link-lists", "title": "Inserting Pop Functionality using link lists", "body": "<p>I'm new to data structures and started using C++ after a long time. After going through a few diagrams, I decided to create my own linked list (implementing a simple pop function).</p>\n\n<p>Here is the code I came up with:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n\ntypedef struct node\n{\n    int data;\n    node *next;\n}node;\n\n\nnode *start;\nint count_1 = 0;\n\n\nvoid push(int x)\n{\n    node *n = new node;\n    node *temp;\n    temp = n;\n    temp-&gt;data = x;\n    temp-&gt;next = start;\n    start = temp;\n    count_1++;\n}\n\nvoid ShowStack()\n{\n    for (int i=0; i&lt;count_1; i++)\n    {\n        node *temp = start;\n        cout&lt;&lt;temp-&gt;data&lt;&lt;endl;\n        temp = temp-&gt;next;\n    }\n}\n\n\n\nint main()\n{\n    node *n = new node;\n    start = n;\n\n\n    n-&gt;data = 6;\n    n-&gt;next = NULL;\n    count_1++;\n\n    ShowStack();\n\n    push(7);\n    push(8);\n    push(9);\n    push(20);\n\n    //count_1=20;\n    ShowStack();\n    return 0;\n\n}\n</code></pre>\n\n<p>It's very basic but I seem to be facing a problem; when I run the program the first output is '6' which is correct but after that, all the values are 20 (even if I hard-set the counter to some hard-coded value like 20 (see code). I'd appreciate if someone can explain what's wrong with this implementation (besides the fact that the program is very messy). Also, what steps would/should I take to get the correct 'pop' functionality.</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1476290556, "post_id": 40003931, "comment_id": 67285764, "body": "you can use <code>std::copy_if</code>, but I doubt it will make it more efficient"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1476290561, "post_id": 40003931, "comment_id": 67285768, "body": "Read about <code>std::reverse_copy</code>."}, {"owner": {"reputation": 3820, "user_id": 4735801, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/199d8cc1517265fe55f0ebeee0566d18?s=128&d=identicon&r=PG&f=1", "display_name": "Exagon", "link": "https://stackoverflow.com/users/4735801/exagon"}, "edited": false, "score": 0, "creation_date": 1476290574, "post_id": 40003931, "comment_id": 67285774, "body": "do you need to move, or to copy them?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1476290642, "post_id": 40003931, "comment_id": 67285817, "body": "I bet you can achieve your actual goal by skipping the copy/move/whatever and just iterating backwards at point of use (and skipping when duplicates are found)."}], "answers": [{"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1476291410, "last_edit_date": 1476291410, "creation_date": 1476290960, "answer_id": 40004101, "question_id": 40003931, "link": "https://stackoverflow.com/questions/40003931/move-element-from-vector-a-to-vector-b-not-empty-in-reverse-order/40004101#40004101", "title": "Move element from vector A to vector B (not empty) in reverse order", "body": "<blockquote>\n  <p>But I think is not so efficient.. </p>\n</blockquote>\n\n<p>You should not \"think\" about that. Use profiler instead. Optimization by guessing almost never works.</p>\n\n<blockquote>\n  <p>Can you suggest to me a better solution?</p>\n</blockquote>\n\n<p>You can reserve size of <code>forward_segment</code> to <code>backward_segment</code>'s size if you expect not too many duplicates would be skipped. Better optimization could be done on algorithm level, for example skipping whole copy at all, but you do not provide enough information for that.</p>\n\n<p>You can use <code>std::unique_copy</code>:</p>\n\n<pre><code>std::unique_copy( backward_segment.rbegin(), backward_segment.rend(),\n                  std::back_inserter( forward_segment ),\n                  []( const auto &amp;s1, const auto &amp;s2 ) {\n                       return s1.x == s2.x &amp;&amp; s1.y == s2.y;\n                  } );\n</code></pre>\n\n<p>it would make it more readable (in my opinion), but compexity would be pretty much the same.</p>\n"}, {"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476291757, "post_id": 40004292, "comment_id": 67286493, "body": "There is <code>if</code> condition there"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1476291810, "post_id": 40004292, "comment_id": 67286524, "body": "Neither is there a need for one in the question: <i>I need to push all elements from vector <code>bacward_segment</code> in reverse order into <code>forward_segment</code></i>"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1476291862, "post_id": 40004292, "comment_id": 67286554, "body": "He also says that he need to &quot;move&quot; elements, why you ignored that then?"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 4, "last_activity_date": 1476292107, "last_edit_date": 1476292107, "creation_date": 1476291575, "answer_id": 40004292, "question_id": 40003931, "link": "https://stackoverflow.com/questions/40003931/move-element-from-vector-a-to-vector-b-not-empty-in-reverse-order/40004292#40004292", "title": "Move element from vector A to vector B (not empty) in reverse order", "body": "<h1>If copy is enough</h1>\n\n<p>If you're initializing <code>forward_segment</code> it's as simple as</p>\n\n<pre><code>vector&lt;T&gt; forward_segment(backward_segment.crbegin(), backward_segment.crend());\n</code></pre>\n\n<p>otherwise:</p>\n\n<pre><code>forward_segment.resize(backward_segment.size());\ncopy(backward_segment.crbegin(), backward_segment.crend(), forward_segment.begin());\n</code></pre>\n\n<h1>If you actually need to move elements</h1>\n\n<p>Use <a href=\"http://en.cppreference.com/w/cpp/iterator/move_iterator\" rel=\"nofollow\"><code>make_move_iterator</code></a> (note that I'm not using const iterators for this).</p>\n\n<p>Initialization:</p>\n\n<pre><code>vector&lt;T&gt; forward_segment(\n    make_move_iterator(backward_segment.rbegin()),\n    make_move_iterator(backward_segment.rend())\n);\n</code></pre>\n\n<p>otherwise:</p>\n\n<pre><code>forward_segment.resize(backward_segment.size());\ncopy(\n    make_move_iterator(backward_segment.rbegin()),\n    make_move_iterator(backward_segment.rend()),\n    forward_segment.begin()\n);\n</code></pre>\n"}], "owner": {"reputation": 1567, "user_id": 5018474, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/185bc768130e5bbbc618d135e848f251?s=128&d=identicon&r=PG&f=1", "display_name": "Droide", "link": "https://stackoverflow.com/users/5018474/droide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476384311, "creation_date": 1476290407, "last_edit_date": 1476384311, "question_id": 40003931, "link": "https://stackoverflow.com/questions/40003931/move-element-from-vector-a-to-vector-b-not-empty-in-reverse-order", "title": "Move element from vector A to vector B (not empty) in reverse order", "body": "<p>I need to push all elements from vector <code>bacward_segment</code> in reverse order into <code>forward_segment</code>.</p>\n\n<p>This is my code:</p>\n\n<pre><code>for(int q = backward_segment.size()-1; q &gt;= 0; q--){\n                forward_segment.push_back(backward_segment[q]);\n        }\n</code></pre>\n\n<p>But I think is not so efficient.. Can you suggest to me a better solution?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476290341, "post_id": 40003861, "comment_id": 67285638, "body": "Before anything else, I&#39;d start with this question/answers: <a href=\"https://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">Why can templates only be implemented in header files</a>."}, {"owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476291511, "post_id": 40003861, "comment_id": 67286319, "body": "adding the template line for each function and their types to the end of the .cpp linkedlist file does nothing and has the same errors as before..."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476292227, "post_id": 40003861, "comment_id": 67286772, "body": "You said, &quot; it errors out even though as far as I know I am using it correctly. &quot; - obviously that isn&#39;t the case in some form. When asking questions about specific errors, <b>always</b> include the exact, <i>verbatim</i> error text you&#39;re receiving <i>as part of your question</i>. The link I provided (and Nathan apparently used for closing this post) is a problem you <i>will</i> run into and <i>should</i> fix. I made no claims it is the &quot;answer&quot; to your problem. Obviously this: <code>while (cShape-&gt;shapeComponents.isNext)</code> is wrong. <code>isNext</code> is a <i>member function</i>, not a member variable. You&#39;re missing <code>()</code>."}, {"owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476292576, "post_id": 40003861, "comment_id": 67286992, "body": "you&#39;re right. I edited the question as I think I am following the other post answer correctly but it is still not working. The errors that I am getting is just simple syntax errors on declaring a new LinkedList and using the drawWorld."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476292756, "post_id": 40003861, "comment_id": 67287106, "body": "And again, put the <b>exact</b> error messages you&#39;re receiving, completely and verbatim, <b>in your question</b>. That should <i>always</i> be done when asking questions on Stack Overflow about about error messages. It is <i>highly</i> likely an answer will not be forthcoming regardless, as you&#39;ve not provided a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> that reproduces your problem, however. So prepare for that as well."}, {"owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476293393, "post_id": 40003861, "comment_id": 67287494, "body": "I put the error code, file and line which I think satisfies your complaint. hopefully this can help solve the problem. thanks"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476293762, "post_id": 40003861, "comment_id": 67287715, "body": "Those are <i>not</i> the <i>exact</i> error messages <i>verbatim</i>. After announcing the line numbers the <i>reason</i> for the error at that line is given. Btw, neither <code>Shape.h</code> nor <code>CustomShape.h</code> should be included in <code>LinkedList.h</code> You have a circular reference. that will ultimately break compilation."}, {"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1476294050, "post_id": 40003861, "comment_id": 67287890, "body": "This looks like part of the error-list in visual-studio. You need to change the tab to the compiler-output tab to see the full messages."}, {"owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "edited": false, "score": 0, "creation_date": 1476294221, "post_id": 40003861, "comment_id": 67287991, "body": "The update is the output from the compiler in VS2015. hopefully that has everything that is needed. As for not including the shape and customshape that works well but then it generates a bunch of linker errors."}, {"owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "edited": false, "score": 0, "creation_date": 1476294475, "post_id": 40003861, "comment_id": 67288145, "body": "k so i got it to work. getting rid of the includes and using the solution from the duplicate it now works great. thanks for the help and moving forward I will make sure to include exact errors."}], "owner": {"reputation": 141, "user_id": 6483284, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/20d77dfb6c761d97a46a555bcfef8e67?s=128&d=identicon&r=PG&f=1", "display_name": "matt2405", "link": "https://stackoverflow.com/users/6483284/matt2405"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1476290271, "answer_count": 0, "score": 0, "last_activity_date": 1476294133, "creation_date": 1476290219, "last_edit_date": 1476294133, "question_id": 40003861, "link": "https://stackoverflow.com/questions/40003861/template-errors-c", "closed_reason": "Duplicate", "title": "Template errors c++", "body": "<p>I am having some trouble with templates. for some reason my template itself seems to be fine but when I try to use it for some reason it errors out even though as far as I know I am using it correctly. The template is for a simple linked list that is meant to hold a child Shape classes and a CustomShape class. This code is for school so if you could only comment on the errors related to the template that would be great. I have read other posts on this subject but none seem to help/solve whatever my issue is.</p>\n\n<p>Errors using Visual Studio 2015:</p>\n\n<pre><code>1&gt;------ Build started: Project: a2_warn1700, Configuration: Debug Win32 ------\n1&gt;  LinkedList.cpp\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2143: syntax error: missing ';' before '&lt;'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2238: unexpected token(s) preceding ';'\n1&gt;  Generating Code...\n1&gt;  Compiling...\n1&gt;  CustomShape.cpp\n1&gt;  Generating Code...\n1&gt;  Compiling...\n1&gt;  main.cpp\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2143: syntax error: missing ';' before '&lt;'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2238: unexpected token(s) preceding ';'\n1&gt;  World.cpp\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2143: syntax error: missing ';' before '&lt;'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(14): error C2238: unexpected token(s) preceding ';'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(17): error C2039: 'shapeComponents': is not a member of 'CustomShape'\n1&gt;  c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(9): note: see declaration of 'CustomShape'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(17): error C2228: left of '.isNext' must have class/struct/union\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(18): error C2039: 'shapeComponents': is not a member of 'CustomShape'\n1&gt;  c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\customshape.h(9): note: see declaration of 'CustomShape'\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(18): error C2228: left of '.next' must have class/struct/union\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(19): error C3536: 'shape': cannot be used before it is initialized\n1&gt;c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(19): error C2227: left of '-&gt;draw' must point to class/struct/union/generic type\n1&gt;  c:\\users\\user\\documents\\laurier\\fall 2016\\cp411\\a2_warn1700\\a2_warn1700\\world.cpp(19): note: type is 'int'\n1&gt;  Generating Code...\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>LinkedList.cpp</p>\n\n<pre><code>#include \"LinkedList.h\"\n\ntemplate &lt;class T&gt; void LinkedList&lt;T&gt;::insert(T* newObject) {\n    if (size == 0) {\n        size++;\n        root = new LinkedList::Node();\n        root-&gt;obj = newObject;\n        lastNode = root;\n        currentNode = root;\n    }\n    else {\n        LinkedList::Node *nextNode = root;\n        while (nextNode-&gt;next != nullptr) {\n            nextNode = nextNode-&gt;next;\n        }\n        LinkedList::Node *prevNode = nextNode;\n        nextNode-&gt;next = new LinkedList::Node();\n        nextNode = nextNode-&gt;next;\n        nextNode-&gt;prev = prevNode;\n        nextNode-&gt;obj = newObject;\n        lastNode = nextNode;\n    }\n}\n\ntemplate &lt;class T&gt; typename T* LinkedList&lt;T&gt;::next() {\n    T* object;\n    if (currentNode != nullptr) {\n        object = currentNode-&gt;obj;\n        currentNode = currentNode-&gt;next;\n    }\n    return object;\n}\n\ntemplate &lt;class T&gt; bool LinkedList&lt;T&gt;::isNext() {\n    bool moreVal = false;\n    // check if there are more values\n    if (currentNode != nullptr) {\n        moreVal = true;\n    }\n    else {\n        currentNode = root;\n    }\n    return moreVal;\n}\n\ntemplate &lt;class T&gt; void LinkedList&lt;T&gt;::destroy() {\n    Node *nextNode = root;\n    while (nextNode-&gt;next != nullptr) {\n        Node *temp = nextNode;\n        nextNode = nextNode-&gt;next;\n        delete temp;\n    }\n    delete root;\n    delete currentNode;\n    delete lastNode;\n    size = 0;\n    root = new Node();\n    currentNode = root;\n    lastNode = root;\n}\n\ntemplate &lt;class T&gt; typename T* LinkedList&lt;T&gt;::getRoot() {\n    T* object = this-&gt;root-&gt;obj;\n    return object;\n}\n\ntemplate class LinkedList&lt;Shape&gt;;\ntemplate class LinkedList&lt;CustomShape&gt;;\n</code></pre>\n\n<p>LinkedList.h</p>\n\n<pre><code>#pragma once\n#include \"Shape.h\"\n#include \"CustomShape.h\"\n\ntemplate &lt;class T&gt;\nclass LinkedList\n{\npublic:\n    LinkedList&lt;T&gt;::LinkedList() {};\n    LinkedList&lt;T&gt;::~LinkedList() {};\n    void insert(T* newObject);\n    T* next();\n    bool isNext();\n    void destroy();\n    T* getRoot();\nprivate:\n    struct Node {\n        T* obj;\n        Node* next = nullptr;\n        Node* prev = nullptr;\n    };\n    int size = 0;\n    Node *root = nullptr;\n    Node *lastNode = nullptr;\n    Node *currentNode = nullptr;\n};\n</code></pre>\n\n<p>World.h</p>\n\n<pre><code>#pragma once\n#include \"LinkedList.h\"\n#include \"Shape.h\"\n#include \"Cube.h\"\n#include \"CustomShape.h\"\n#include &lt;iostream&gt;\n\nclass World\n{\npublic:\n    World();\n    ~World();\n    void drawWorld();\nprivate:\n    LinkedList&lt;CustomShape&gt; worldObjects;\n};\n</code></pre>\n\n<p>World.cpp</p>\n\n<pre><code>    #include \"World.h\"\n\n\n    World::World() {\n        CustomShape* cShape = new CustomShape();\n        cShape-&gt;insertShape(new Cube);\n        worldObjects.insert(cShape);\n    }\n\n    World::~World() {\n        this-&gt;worldObjects.destroy();\n    }\n\n    void World::drawWorld() {\n        while (worldObjects.isNext()) {\n            auto cShape = worldObjects.next();\n            while (cShape-&gt;shapeComponents.isNext()) {\n                auto shape = cShape-&gt;shapeComponents.next();\n                shape-&gt;draw();\n            }\n        }\n    }\n</code></pre>\n\n<p>CustomShape.h</p>\n\n<pre><code>#pragma once\n\n#include \"GL\\glut.h\"\n#include \"LinkedList.h\"\n#include \"Point.h\"\n#include \"Shape.h\"\n\nclass CustomShape\n{\npublic:\n    CustomShape();\n    ~CustomShape();\n    void insertShape(Shape* shape);\n    LinkedList&lt;Shape&gt; shapeComponents;\n    void drawSelected();\n    Point originPoint;\n};\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "constructor", "variadic-functions"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1476290199, "post_id": 40003796, "comment_id": 67285565, "body": "Related, have you tried used C++ variadic template arguments instead of old-school va_stuff ?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1476291625, "post_id": 40003796, "comment_id": 67286402, "body": "For C-ellipsis, you have a variant to pass <code>va_list</code>, as <code>printf</code> has is counterpart <code>vprintf</code>. For C++, just use variadic template."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3384414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e013963a38709d8bd48b55d2c91b63?s=128&d=identicon&r=PG&f=1", "display_name": "user3384414", "link": "https://stackoverflow.com/users/3384414/user3384414"}, "edited": false, "score": 0, "creation_date": 1476365141, "post_id": 40003854, "comment_id": 67321531, "body": "I was asking for variable arguments lists, as I want to use printf. I know it is possible to implement a printf like function (with typesafety) in C++ using variadic templates, but I haven&#39;t found one ..."}, {"owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "reply_to_user": {"reputation": 53, "user_id": 3384414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e013963a38709d8bd48b55d2c91b63?s=128&d=identicon&r=PG&f=1", "display_name": "user3384414", "link": "https://stackoverflow.com/users/3384414/user3384414"}, "edited": false, "score": 1, "creation_date": 1476375202, "post_id": 40003854, "comment_id": 67329413, "body": "sorry, I should have added that ... I&#39;m doing it right now ... done :-)"}], "tags": [], "owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "is_accepted": true, "score": 10, "last_activity_date": 1476375424, "last_edit_date": 1476375424, "creation_date": 1476290194, "answer_id": 40003854, "question_id": 40003796, "link": "https://stackoverflow.com/questions/40003796/pass-variable-argument-list-to-base-constructor-in-c/40003854#40003854", "title": "Pass variable argument list to base constructor in C++", "body": "<p>Just use variadic templates (and drop this C-style stuff):</p>\n\n<pre><code>struct A {\n     template&lt;typename ... Args&gt;\n     A(const char * fmt, Args&amp;&amp; ... args) {\n          printf(fmt,std::forward&lt;Args&gt;(args) ...);\n     };\n};\n\nstruct B: public A {\n  template&lt;typename ... Args&gt;\n  B(const char * fmt, Args&amp;&amp; ... args) : A(fmt, std::forward&lt;Args&gt;(args) ...) {}\n};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>B(\"Print %d and %s\",1,\"hello\");  //prints \"Print 1 and hello\"\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/5c6d97892440963f\" rel=\"noreferrer\">DEMO</a></p>\n"}], "owner": {"reputation": 53, "user_id": 3384414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e013963a38709d8bd48b55d2c91b63?s=128&d=identicon&r=PG&f=1", "display_name": "user3384414", "link": "https://stackoverflow.com/users/3384414/user3384414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4278, "favorite_count": 0, "accepted_answer_id": 40003854, "answer_count": 1, "score": 1, "last_activity_date": 1476375424, "creation_date": 1476289958, "question_id": 40003796, "link": "https://stackoverflow.com/questions/40003796/pass-variable-argument-list-to-base-constructor-in-c", "title": "Pass variable argument list to base constructor in C++", "body": "<p>Is it possible in C++ to pass a variable argument lists to a base constructor?</p>\n\n<p>I could just copy the code of the base constructor to the derived class, an handle the variable argument list there, but that would lead to unwanted code duplication.</p>\n\n<p>This is what I tried so far:</p>\n\n<pre><code>class A{\npublic:\n  A(const char * fmt,...){\n    va_list ap;\n    va_start( ap, fmt );\n    vprintf(fmt,ap);\n    va_end(ap);\n  };\n};\n\nclass B: public A{\npublic:\n  B(const char * fmt,...):A(fmt){;};\n};\n\nint main(){\n  B(\"%d\\n\",42);\n}\n</code></pre>\n\n<p>But the constructor doesn't pass the variable arguments to the base class constructor.</p>\n"}, {"tags": ["c++", "opencv", "computer-vision", "digitization"], "answers": [{"tags": [], "owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "is_accepted": false, "score": 1, "last_activity_date": 1476290582, "creation_date": 1476290582, "answer_id": 40003975, "question_id": 40003500, "link": "https://stackoverflow.com/questions/40003500/detecting-the-locations-of-circles-and-crosses-in-an-image/40003975#40003975", "title": "Detecting the locations of circles and crosses in an image", "body": "<p>Not an easy task.</p>\n\n<p>For the colored case, you should start by separating the color planes. There is some chance that you can get the markers apart.</p>\n\n<p>But for the b&amp;w case, there is no escape, you must go deeper.</p>\n\n<p>I would try to detect the grid lines first, for example using a Hough line detector, as accurately as possible. Then erase those lines.</p>\n\n<p>Then try to find the crosses, which are short oblique line segments (most of the time broken by the previous operations).</p>\n\n<p>The circles might be detected by a Hough circle detector, using a small range of radii.</p>\n\n<p>Alternatively, a rige or edge detector can be used to get short segments and short curved arcs. You may have to add some filtering criteria to avoid the joining lines.</p>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 7007134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e86c9d87473ea0dabec9b6e65f7959a5?s=128&d=identicon&r=PG&f=1", "display_name": "P1t_", "link": "https://stackoverflow.com/users/7007134/p1t"}, "is_accepted": false, "score": 0, "last_activity_date": 1476350657, "creation_date": 1476350657, "answer_id": 40017095, "question_id": 40003500, "link": "https://stackoverflow.com/questions/40003500/detecting-the-locations-of-circles-and-crosses-in-an-image/40017095#40017095", "title": "Detecting the locations of circles and crosses in an image", "body": "<p>Like said, it's not a easy task.\nOne of possible way could be machine learning. I think of cascade classifier (aka Viola Jones method) that pretty nice for detection of object. It's pretty easy to implement with openCV but it need to understand how it works and a large amount of sample.</p>\n"}, {"tags": [], "owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "is_accepted": false, "score": 0, "last_activity_date": 1476438483, "creation_date": 1476438483, "answer_id": 40040099, "question_id": 40003500, "link": "https://stackoverflow.com/questions/40003500/detecting-the-locations-of-circles-and-crosses-in-an-image/40040099#40040099", "title": "Detecting the locations of circles and crosses in an image", "body": "<p>You can try to use couple of ideas:</p>\n\n<p>1) FFT can help to remove grid. Something like <a href=\"http://crm2.univ-lorraine.fr/pages_perso/Aubert/FTenglish/grille/grille.html\" rel=\"nofollow\">this</a>.</p>\n\n<p>2) Markers (crosses and circles) are the objects with angle of gradient, that differs from right angles. It may help to localize them.</p>\n"}], "owner": {"reputation": 13848, "user_id": 276193, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3d9b60ead1b0c8420c03b203832e8d5f?s=128&d=identicon&r=PG", "display_name": "learnvst", "link": "https://stackoverflow.com/users/276193/learnvst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1476438483, "creation_date": 1476289026, "question_id": 40003500, "link": "https://stackoverflow.com/questions/40003500/detecting-the-locations-of-circles-and-crosses-in-an-image", "title": "Detecting the locations of circles and crosses in an image", "body": "<p>I'm new to OpenCV and was wondering if anybody could direct me to the most suitable algorithm(s) to tackle the challenge of identifying the locations of circles and crosses in images that look like the following . . </p>\n\n<p>[<img src=\"https://i.stack.imgur.com/TY1hJ.png\" alt=\"enter image description here\"></p>\n\n<p>Sometimes there are lines connecting . . </p>\n\n<p>[<img src=\"https://i.stack.imgur.com/a3pHB.png\" alt=\"enter image description here\">\n<a href=\"https://i.stack.imgur.com/AtvLB.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/AtvLB.png\" alt=\"enter image description here\"></a></p>\n\n<p>They might even be hand drawn like this one . . </p>\n\n<p><a href=\"https://i.stack.imgur.com/NLUnR.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/NLUnR.png\" alt=\"enter image description here\"></a></p>\n\n<p>So far I have looked at the template matching example, but it is probably not the correct approach, and it doesn't scale the sizes of the templates to the images. </p>\n\n<p>So given the following observations . . . </p>\n\n<ul>\n<li>The crosses and circles may overlap.  </li>\n<li>If the diagram is in colour,\nthe colours will be identical for crosses and identical for circles. </li>\n<li>Sometimes they will be joined by lines, sometimes not. </li>\n<li>There may be other shape symbols in the plots </li>\n<li>They symbols will be of similar size and shape, but might not be computer generated, so will not necessarily be identical.</li>\n</ul>\n\n<p>Where should I begin my adventure?</p>\n"}, {"tags": ["c++", "rest", "cas"], "answers": [{"tags": [], "owner": {"reputation": 1232, "user_id": 2608572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fNEd6.jpg?s=128&g=1", "display_name": "yemerra", "link": "https://stackoverflow.com/users/2608572/yemerra"}, "is_accepted": true, "score": 0, "last_activity_date": 1477484112, "creation_date": 1477484112, "answer_id": 40262024, "question_id": 40003469, "link": "https://stackoverflow.com/questions/40003469/cas-service-ticket-cas-server-reply-is-empty/40262024#40262024", "title": "CAS: Service Ticket/CAS-Server reply is empty", "body": "<p>It turned out that this is a bug from CAS 4.2.6. Go to <code>WEB-INF\\lib\\cas-server-webapp-support-4.2.6.jar\\META-INF\\spring\\web-ctx-config.xml</code> in your war and change this:</p>\n\n<pre><code>&lt;bean id=\"urlPathHelperWeb\" class=\"org.springframework.web.util.UrlPathHelper\"\n          p:alwaysUseFullPath=\"true\" /&gt;\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>&lt;bean id=\"urlPathHelperWeb\" class=\"org.springframework.web.util.UrlPathHelper\"\n          p:alwaysUseFullPath=\"false\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1232, "user_id": 2608572, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fNEd6.jpg?s=128&g=1", "display_name": "yemerra", "link": "https://stackoverflow.com/users/2608572/yemerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 40262024, "answer_count": 1, "score": 0, "last_activity_date": 1477484112, "creation_date": 1476288951, "last_edit_date": 1476349300, "question_id": 40003469, "link": "https://stackoverflow.com/questions/40003469/cas-service-ticket-cas-server-reply-is-empty", "title": "CAS: Service Ticket/CAS-Server reply is empty", "body": "<p>I use the RESTful API and when I take the TGT to request an ST at <code>https://www.mysite.de/cas/v1/tickets/\" + tgt</code> my CAS server throws this:</p>\n\n<pre><code>2016-10-12 18:07:39,168 DEBUG [org.springframework.webflow.mvc.servlet.FlowHandlerMapping] - &lt;No flow mapping found for request with URI '/cas/v1/tickets/TGT-**********************************************6rXJ4WKxmo-cas01.example.org'&gt;\n2016-10-12 18:07:39,168 DEBUG [org.springframework.webflow.mvc.servlet.FlowHandlerMapping] - &lt;No flow mapping found for request with URI '/cas/v1/tickets/TGT-**********************************************6rXJ4WKxmo-cas01.example.org'&gt;\n2016-10-12 18:07:39,168 WARN [org.springframework.web.servlet.PageNotFound] - &lt;No mapping found for HTTP request with URI [/cas/v1/tickets/TGT-**********************************************6rXJ4WKxmo-cas01.example.org] in DispatcherServlet with name 'cas'&gt;\n</code></pre>\n\n<p>When I print out my response in my console I just get:</p>\n\n<p><code>Service Ticket: 0\u2660</code></p>\n\n<p>The <code>0\u2660</code> is what is in the response that I get by doing this:</p>\n\n<pre><code>QByteArray replyData = reply-&gt;readAll();\nQString serviceTicket = QString::fromAscii(replyData.data());\nfprintf(stderr, \"Service Ticket: %s\\n\", QString::fromAscii(replyData.data()));\n</code></pre>\n\n<p>I guess I have a misunderstanding here. I just suppose that the reply is a <code>QString</code>or at least will be converted the right way. Is it possible that the reply has a format that simply cannot be converted like that? If yes, what do I need to do?</p>\n\n<p>If this is not the reason and the reply is simply an emptry reply or something, the above mentioned <code>DEBUG</code> info might indicate what my problem is. </p>\n\n<p>Do I maybe have to make any other changes to the <code>web.xml</code> in order to get REST working here? Everything I did was just from <a href=\"https://apereo.github.io/cas/4.2.x/protocol/REST-Protocol.html\" rel=\"nofollow\">this source</a>. </p>\n\n<p><strong>EDIT:</strong> Seems like a bug from CAS 4.2.6. I downgraded to 4.2.5 and now I get a NullPointerException on teh CAS Server when i send the encrypted TGT over the RESTful APi</p>\n"}, {"tags": ["c++", "sonarqube"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1476289002, "post_id": 40003370, "comment_id": 67284829, "body": "Static code analysis tools are prone to such errors (false negatives). Just choose a better one."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 1, "creation_date": 1476289185, "post_id": 40003370, "comment_id": 67284944, "body": "Does it find it if you just do <code>int f = 10 &#47; 0</code>?"}, {"owner": {"reputation": 1167, "user_id": 5339807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5db3c9fa9b80760fc44ae03008f7a1?s=128&d=identicon&r=PG&f=1", "display_name": "mascoj", "link": "https://stackoverflow.com/users/5339807/mascoj"}, "edited": false, "score": 1, "creation_date": 1476289865, "post_id": 40003370, "comment_id": 67285373, "body": "Is test being called anywhere in your software?"}, {"owner": {"reputation": 11, "user_id": 7009002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b769c7c5bb8fe0499d9f2f84d39788e8?s=128&d=identicon&r=PG&f=1", "display_name": "subra", "link": "https://stackoverflow.com/users/7009002/subra"}, "edited": false, "score": 0, "creation_date": 1476812559, "post_id": 40003370, "comment_id": 67500877, "body": "yes this is within the project and it is getting called as per the log that sonar is showing"}], "owner": {"reputation": 11, "user_id": 7009002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b769c7c5bb8fe0499d9f2f84d39788e8?s=128&d=identicon&r=PG&f=1", "display_name": "subra", "link": "https://stackoverflow.com/users/7009002/subra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476289809, "creation_date": 1476288661, "last_edit_date": 1476289809, "question_id": 40003370, "link": "https://stackoverflow.com/questions/40003370/sonar-c-community-plugin-not-finding-all-issues", "title": "sonar c++ community plugin not finding all issues", "body": "<p>I am trying to run my project with the sonar C++ community plugin<br>\nTo test it, I included a division by 0 but the plugin doesn't catch it</p>\n\n<p>Here is the code :</p>\n\n<pre><code>int test() {\n    int i = 0;\n    int f = 10 / i;\n}\n</code></pre>\n\n<p>This should show that the division by 0 is incorrect, but it does not identify this issue and shows other minor issues. I have seen in logs that this file is getting scanned.</p>\n\n<p><strong>Is there anything I am missing?</strong></p>\n"}, {"tags": ["c++", "functional-programming", "monads", "c++17"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1476288339, "post_id": 40003214, "comment_id": 67284410, "body": "C++ is not Haskell."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1476288362, "post_id": 40003214, "comment_id": 67284421, "body": "What if -1 is a valid return value already?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1476288387, "post_id": 40003214, "comment_id": 67284438, "body": "If you return a <code>int</code> and return <code>-1</code> as failure that means <code>-1</code> cold never be a valid output for the input.  Most of the time you cannot do that.  As far as usage goes you shoud consult a <a href=\"http://en.cppreference.com/w/cpp/utility/optional\" rel=\"nofollow noreferrer\">reference</a>"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1476288491, "post_id": 40003214, "comment_id": 67284506, "body": "You cannot return <code>nullptr</code> from a function whose return type is <code>int</code>."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1476288669, "post_id": 40003214, "comment_id": 67284616, "body": "The reference you linked has examples on how to use it."}, {"owner": {"reputation": 3820, "user_id": 4735801, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/199d8cc1517265fe55f0ebeee0566d18?s=128&d=identicon&r=PG&f=1", "display_name": "Exagon", "link": "https://stackoverflow.com/users/4735801/exagon"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1476288777, "post_id": 40003214, "comment_id": 67284685, "body": "@KerrekSB I understand the point of &quot;C++ is not Haskell&quot; but the optional type clearly comes from functional programming, so one could say, &quot;returning a optional is not C++, just throw an exception&quot;"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 4, "creation_date": 1476288835, "post_id": 40003214, "comment_id": 67284721, "body": "&quot;<i>but the optional type clearly comes from functional programming</i>&quot; That may be the source of your confusion."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1476288971, "post_id": 40003214, "comment_id": 67284805, "body": "@Exagon: The <code>std::optional</code> is in direct lineage from Barton and Nackman&#39;s <code>Fallible</code> class. As far as I know their inspiration was not functional programming."}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 1, "creation_date": 1476355275, "post_id": 40003214, "comment_id": 67314285, "body": "See also <a href=\"http://www.boost.org/doc/libs/1_61_0/libs/optional/doc/html/optional/tutorial.html\" rel=\"nofollow noreferrer\"><code>boost::optional</code></a> (this page and the next one)"}], "answers": [{"comments": [{"owner": {"reputation": 2223, "user_id": 1027857, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eafd8f11220851675483c051a132c570?s=128&d=identicon&r=PG", "display_name": "toth", "link": "https://stackoverflow.com/users/1027857/toth"}, "edited": false, "score": 4, "creation_date": 1476289644, "post_id": 40003525, "comment_id": 67285240, "body": "I&#39;d say that C++ does have monads in it (optional&lt;T&gt; and vector&lt;T&gt; for instance). What it lacks is nice syntax for doing monadic operations on them, but it can still be useful to think of them as monads."}], "tags": [], "owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "is_accepted": true, "score": 6, "last_activity_date": 1476289083, "creation_date": 1476289083, "answer_id": 40003525, "question_id": 40003214, "link": "https://stackoverflow.com/questions/40003214/how-to-use-stdoptional-in-c/40003525#40003525", "title": "How to use std::optional in C++", "body": "<blockquote>\n  <p>How am I supposed to use std::optional, whithout functions like map and flatMap/bind</p>\n</blockquote>\n\n<p><code>Maybe</code> in Haskell is perfectly usable without <code>fmap</code>, it represents a value that may or may not be there. It also brings to the type system the distinction so you need to handle both cases.</p>\n\n<blockquote>\n  <p>whats the advantage using a std::optional vs for example returning -1, or a nullptr from a function if it fails to compute a result?</p>\n</blockquote>\n\n<p>How do you know what the error condition is? Is it <code>0</code>, <code>-1</code>, <code>MAX_INT</code>, <code>nullptr</code> or something else? If I have both a <code>unsigned int</code> and <code>int</code> return value and the <code>int</code> version previously returned <code>-1</code> should you change them both to <code>MAX_INT</code> or make them return different values? <code>std::optional</code> avoids the problem.</p>\n\n<blockquote>\n  <p>And more important for me, why wasn't std::optional designed to be a monad, is there a reason?</p>\n</blockquote>\n\n<p>Does C++ have monads at the moment? Until a different abstraction than the container one there isn't really a way to add that functionality.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 4, "creation_date": 1476302491, "post_id": 40003594, "comment_id": 67292691, "body": "This won&#39;t work. You want something along the lines of <code>template&lt;typename T1, typename F&gt; auto bind(std::optional&lt;T1&gt; a, F f) -&gt; std::optional&lt;std::decay_t&lt;decltype(f(*a))&gt;&gt;;</code>"}, {"owner": {"reputation": 2223, "user_id": 1027857, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eafd8f11220851675483c051a132c570?s=128&d=identicon&r=PG", "display_name": "toth", "link": "https://stackoverflow.com/users/1027857/toth"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476304401, "post_id": 40003594, "comment_id": 67293679, "body": "@T.C., it is true that in my version the compiler cannot deduce T2, so you have to specify it whenever you invoke bind, but I&#39;d say that still counts as working. I agree than in practice your version is superior since it does type deduction and is more efficient (no need to use std::function if you don&#39;t want to), but at least to me it&#39;s harder to tell what the type of <code>f</code> is supposed to be from looking at the declaration."}, {"owner": {"reputation": 2223, "user_id": 1027857, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eafd8f11220851675483c051a132c570?s=128&d=identicon&r=PG", "display_name": "toth", "link": "https://stackoverflow.com/users/1027857/toth"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476304547, "post_id": 40003594, "comment_id": 67293753, "body": "@T.C., also I believe you don&#39;t want the <code>std::optional</code> on your trailing return type. The <code>f</code> in bind should return a <code>std::optional</code>, your type signature would be the right one for <code>fmap</code>."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1476304621, "post_id": 40003594, "comment_id": 67293794, "body": "Good point on the second. That&#39;s a mistype. (If you want explicitly specified parameters, at least swap your template parameter order and wrap the second function parameter&#39;s type in a non-deduced context so that <code>T1</code> can still be deduced.)"}], "tags": [], "owner": {"reputation": 2223, "user_id": 1027857, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eafd8f11220851675483c051a132c570?s=128&d=identicon&r=PG", "display_name": "toth", "link": "https://stackoverflow.com/users/1027857/toth"}, "is_accepted": false, "score": 3, "last_activity_date": 1476289289, "creation_date": 1476289289, "answer_id": 40003594, "question_id": 40003214, "link": "https://stackoverflow.com/questions/40003214/how-to-use-stdoptional-in-c/40003594#40003594", "title": "How to use std::optional in C++", "body": "<p>You <em>can</em> define <code>bind</code> and <code>return</code> over <code>std::optional</code>, so in that sense it is still a Monad.</p>\n\n<p>For instance, a possible <code>bind</code></p>\n\n<pre><code>template&lt;typename T1, typename T2&gt;\nstd::optional&lt;T2&gt; bind(std::optional&lt;T1&gt; a, std::function&lt; std::optional&lt;T2&gt;(T1)&gt; f) {\n   if(a.has_value()) return f(a.value());\n   return std::optional&lt;T2&gt;{};\n }\n</code></pre>\n\n<p>It is actually probably useful to define this. </p>\n\n<p>As to why the standard library does not ship with this, or something like this, I think the answer is one of preferred style in the language. </p>\n"}, {"tags": [], "owner": {"reputation": 1831, "user_id": 295231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e550a5afb26d3e9de9484250e5cbdd8?s=128&d=identicon&r=PG", "display_name": "kert", "link": "https://stackoverflow.com/users/295231/kert"}, "is_accepted": false, "score": 6, "last_activity_date": 1525985576, "creation_date": 1525985576, "answer_id": 50281344, "question_id": 40003214, "link": "https://stackoverflow.com/questions/40003214/how-to-use-stdoptional-in-c/50281344#50281344", "title": "How to use std::optional in C++", "body": "<p>There is <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0798r0.html\" rel=\"noreferrer\">P0798r0</a> proposal with exactly this, and the associated implementation <a href=\"https://github.com/TartanLlama/optional\" rel=\"noreferrer\">here on Github</a>. The proposal also refers to general monadic interface proposal, and similarly usable std::expected. Implementations of those are also available.</p>\n"}], "owner": {"reputation": 3820, "user_id": 4735801, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/199d8cc1517265fe55f0ebeee0566d18?s=128&d=identicon&r=PG&f=1", "display_name": "Exagon", "link": "https://stackoverflow.com/users/4735801/exagon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3161, "favorite_count": 1, "accepted_answer_id": 40003525, "answer_count": 3, "score": 9, "last_activity_date": 1525985576, "creation_date": 1476288187, "last_edit_date": 1476288457, "question_id": 40003214, "link": "https://stackoverflow.com/questions/40003214/how-to-use-stdoptional-in-c", "title": "How to use std::optional in C++", "body": "<p>In C++17 <code>std::optional</code> is introduced, I was happy about this decision, until I looked at the <a href=\"http://en.cppreference.com/w/cpp/utility/optional\" rel=\"noreferrer\">ref</a>. I know <code>Optional</code>/<code>Maybe</code> from Scala, Haskell and Java 8, where optional is a monad and follows monadic laws. This is not the case in the C++17 implementation. How am I supposed to use <code>std::optional</code>, whithout functions like <code>map</code> and <code>flatMap</code>/<code>bind</code>, whats the advantage using a <code>std::optional</code> vs for example returning <code>-1</code>, or a <code>nullptr</code> from a function if it fails to compute a result?\nAnd more important for me, why wasn't <code>std::optional</code> designed to be a monad, is there a reason?</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": true, "score": 1, "last_activity_date": 1476290141, "last_edit_date": 1476290141, "creation_date": 1476289691, "answer_id": 40003720, "question_id": 40003202, "link": "https://stackoverflow.com/questions/40003202/how-to-create-a-uni-parameter-template-from-a-dual-parameter-template-to-use-as/40003720#40003720", "title": "How to create a uni-parameter template from a dual-parameter template to use as a base class template template parameter", "body": "<p>You can use a struct and an using declaration to do that.<br>\nIt follows a minimal, working example:</p>\n\n<pre><code>template &lt;int STEP, bool SIDE&gt;\nclass Stepper {};\n\ntemplate&lt;int S&gt;\nstruct Type {\n    template&lt;bool b&gt;\n    using TStepper = Stepper&lt;S, b&gt;;\n};\n\ntemplate&lt;template&lt;bool&gt; class C&gt;\nvoid f() {}\n\nint main() {\n    f&lt;Type&lt;0&gt;::TStepper&gt;();\n}\n</code></pre>\n\n<p>In your case, it would be:</p>\n\n<pre><code>template &lt;template &lt;bool&gt; class STEPPER&gt;\nclass DualStepper {\n    // ....\n};\n\n\ntemplate &lt;int STEP&gt;\nclass FixedDualStepper\n    : public DualStepper&lt;Type&lt;STEP&gt;::template TStepper&gt; {\n    // ...\n};\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 901826, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc53e88722245709ec4cd7458cffa7b6?s=128&d=identicon&r=PG", "display_name": "Aelian", "link": "https://stackoverflow.com/users/901826/aelian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 40003720, "answer_count": 1, "score": 3, "last_activity_date": 1476375309, "creation_date": 1476288158, "last_edit_date": 1476375309, "question_id": 40003202, "link": "https://stackoverflow.com/questions/40003202/how-to-create-a-uni-parameter-template-from-a-dual-parameter-template-to-use-as", "title": "How to create a uni-parameter template from a dual-parameter template to use as a base class template template parameter", "body": "<p>Below is an example of what I am trying to do. I am just using it to illustrate the problem.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;int STEP, bool SIDE&gt; class Stepper {\n    int step( int x ) {\n        return SIDE ? x + STEP : x - STEP;\n    }\n};\n\ntemplate &lt;template &lt;bool&gt; typename STEPPER&gt; class DualStepper {\n    STEPPER&lt;true&gt; upStepper;\n    STEPPER&lt;false&gt; downStepper;\n\n    pair&lt;int , int&gt; step( int x ) {\n        return pair&lt;int , int&gt;( upStepper.step( x ), downStepper.step( x ) );\n    }\n};\n\n\ntemplate &lt;int STEP&gt; class FixedDualStepper : public DualStepper&lt;template &lt;bool SIDE&gt; using FT = Stepper&lt;STEP, SIDE&gt;&gt; {\n\n};\n\n\nint main() {\n\n    FixedDualStepper&lt;5&gt; stepper;\n    pair&lt;int, int&gt; x = stepper.step( 10 );\n    cout &lt;&lt; x.first &lt;&lt; '\\t' &lt;&lt; x.second &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>For this I get the error:</p>\n\n<pre><code>/Work/Learn/04PartialTemplate/main.cpp:23:115: error: template argument 1 is invalid\ntemplate &lt;int STEP&gt; class FixedDualStepper : public DualStepper&lt;template &lt;bool SIDE&gt; using FT = Stepper&lt;STEP, SIDE&gt;&gt; {\n                                                                                                               ^\n/Work/Learn/04PartialTemplate/main.cpp: In function \u2018int main()\u2019:\n/Work/Learn/04PartialTemplate/main.cpp:31:29: error: \u2018class FixedDualStepper&lt;5&gt;\u2019 has no member named \u2018step\u2019\n   pair&lt;int, int&gt; x = stepper.step( 10 );\n</code></pre>\n\n<p>Is there a syntax I could use in </p>\n\n<pre><code>... : public DualStepper&lt; ??? &gt;\n</code></pre>\n\n<p>to get the desired effect. I.e. set the first parameter of <code>Stepper</code> to <code>STEP</code> and get a single parameter class template to use as a template template parameter for <code>DualStepper</code>?</p>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "buffer", "cin"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1476288299, "post_id": 40003190, "comment_id": 67284389, "body": "Why don&#39;t you ask a question to get the correct way to do this working?  <a href=\"http://stackoverflow.com/questions/21567291/why-does-stdgetline-skip-input-after-a-formatted-extraction\">This</a> is the correct way to handle the situation."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1476288685, "post_id": 40003190, "comment_id": 67284628, "body": "Can you make your question clearer (e.g. providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). I can&#39;t spot what shouldn&#39;t work with your code. I can&#39;t get it even to <a href=\"http://ideone.com/Syb32Q\" rel=\"nofollow noreferrer\">compile</a>"}, {"owner": {"reputation": 150, "user_id": 5253487, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2fwmW.jpg?s=128&g=1", "display_name": "Nix", "link": "https://stackoverflow.com/users/5253487/nix"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476393060, "post_id": 40003190, "comment_id": 67339340, "body": "@NathanOliver This gives me error <code>numeric_limits&lt;streamsize&gt;::max()</code> the max() function gives me error <code>#define max(a,b) (((a) &gt; (b))) ? (a) : (b))</code> even if I define this statement in my file.   @\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 I will try to upload a video I think that might be more clear."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476393829, "post_id": 40003190, "comment_id": 67339712, "body": "Do you have in your code <code>#define max(a,b) (((a) &gt; (b))) ? (a) : (b))</code> or do you include a header that has that in it?"}], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 5253487, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2fwmW.jpg?s=128&g=1", "display_name": "Nix", "link": "https://stackoverflow.com/users/5253487/nix"}, "is_accepted": false, "score": 1, "last_activity_date": 1476396076, "creation_date": 1476396076, "answer_id": 40031749, "question_id": 40003190, "link": "https://stackoverflow.com/questions/40003190/how-to-clear-cin-buffer-in-c/40031749#40031749", "title": "How to clear cin Buffer in c++", "body": "<p>the max() function needs to be defined in the beginning of the file. <code>cin.ignore()</code> works very well to clear the buffer, however you need the numeric limits function max(), which in my case was giving error.</p>\n\n<p>Solution:</p>\n\n<pre><code>#ifdef max\n#define max\n#endif\n</code></pre>\n\n<p>add these lines on the top, and a function such as following will work fine.</p>\n\n<pre><code>int id;\nbool b;\ndo {\n    cout &lt;&lt; \"Enter id: \";\n    cin &gt;&gt; id;\n    b = cin.fail();\n    cin.clear();\n    cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\\n');\n} while ( b == true);\n</code></pre>\n\n<p>P.S: Thanks @Nathan</p>\n"}], "owner": {"reputation": 150, "user_id": 5253487, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2fwmW.jpg?s=128&g=1", "display_name": "Nix", "link": "https://stackoverflow.com/users/5253487/nix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3336, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1476396076, "creation_date": 1476288127, "question_id": 40003190, "link": "https://stackoverflow.com/questions/40003190/how-to-clear-cin-buffer-in-c", "title": "How to clear cin Buffer in c++", "body": "<p>I have gone through many existing answers here StackOverflow, but I am still stuck.</p>\n\n<p>code:</p>\n\n<pre><code>int c;\ncin &gt;&gt; c;\n\nif(cin.fail()) {\n   cout &lt;&lt; \"Wrong Input\";\n   cin.clear();\n   cin.ignore(INT_MAX, '\\n');\n}\nelse\n{\n   cout &lt;&lt; c*2;   \n}\n</code></pre>\n\n<p>If I enter wring input e.g <code>s</code> instead of an integer, it outputs <code>Wrong Input</code>. However, if I enter an integer, and then I enter a string, it ignores the string and keep outputting the previous integer result, hence it does not clears the cin buffer, and the old value of <code>c</code> keeps on executing.\nCan anyone please suggest the best way other than <code>cin.ignore()</code> as it does not seem to work. \nand yeah for me, the max() in <code>cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');</code> gives error. So this does not work either.</p>\n"}, {"tags": ["c++", "sockets", "network-programming"], "answers": [{"comments": [{"owner": {"reputation": 3420, "user_id": 1547399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/695ba9e5f57752495d02d32190e15e38?s=128&d=identicon&r=PG", "display_name": "Joey.Z", "link": "https://stackoverflow.com/users/1547399/joey-z"}, "edited": false, "score": 0, "creation_date": 1476289587, "post_id": 40003218, "comment_id": 67285203, "body": "Sorry, I&#39;ve updated the question. The <code>TryAccept</code> will be called else where in a tick function, and first connected address is <code>0.0.0.0:32772</code> like always."}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 3420, "user_id": 1547399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/695ba9e5f57752495d02d32190e15e38?s=128&d=identicon&r=PG", "display_name": "Joey.Z", "link": "https://stackoverflow.com/users/1547399/joey-z"}, "edited": false, "score": 0, "creation_date": 1476295987, "post_id": 40003218, "comment_id": 67289046, "body": "There is probably something wrong with <code>PISocket::Accept</code> (or in how it&#39;s being used), but you haven&#39;t included that in your sample code, so I can&#39;t debug that."}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 2, "last_activity_date": 1476288208, "creation_date": 1476288208, "answer_id": 40003218, "question_id": 40003047, "link": "https://stackoverflow.com/questions/40003047/unexpected-socket-connection-from-0-0-0-032772/40003218#40003218", "title": "Unexpected socket connection from 0.0.0.0:32772", "body": "<p>I can't see how this code would have ever worked anywhere. So long as <code>m_gui_socket</code> is not equal to <code>INVALID_SOCKET</code>, <code>SocketDebugger::TryAccept</code> will unconditionally print \"profiler connected\", and display the contents of an uninitialized <code>sockaddr_in</code>. There's nothing in there that actually performs an accept operation!</p>\n"}], "owner": {"reputation": 3420, "user_id": 1547399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/695ba9e5f57752495d02d32190e15e38?s=128&d=identicon&r=PG", "display_name": "Joey.Z", "link": "https://stackoverflow.com/users/1547399/joey-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476290361, "creation_date": 1476287666, "last_edit_date": 1476290361, "question_id": 40003047, "link": "https://stackoverflow.com/questions/40003047/unexpected-socket-connection-from-0-0-0-032772", "title": "Unexpected socket connection from 0.0.0.0:32772", "body": "<pre><code>int SocketDebugger::Init(unsigned short p)\n{\n    if (m_state != dsDisconnect)\n    {\n        return 0;\n    }\n\n    if (PISocket::Startup()) \n    {\n        return -1;\n    }\n\n    m_port = p;\n    m_debug_socket = PISocket::Socket(PF_INET, SOCK_STREAM, IPPROTO_IP);\n    if (m_debug_socket == INVALID_SOCKET) \n    {\n        Log(LEVEL_PYDEBUGGER, \"GetLastError: %d\", PISocket::Errno());\n        return -2;\n    }\n\n    sockaddr_in local;\n    memset(&amp;local, 0, sizeof(local));\n    local.sin_family = PF_INET;\n    local.sin_port = htons(m_port);\n\n    int ret = PISocket::Bind(m_debug_socket, (sockaddr*)&amp;local);\n    if (ret == SOCKET_ERROR)\n    {\n        PISocket::Close(m_debug_socket);\n        m_debug_socket = INVALID_SOCKET;\n        return -3;\n    }\n\n    ret = PISocket::Listen(m_debug_socket, 0);\n    if (ret == SOCKET_ERROR)\n    {\n        PISocket::Close(m_debug_socket);\n        m_debug_socket = INVALID_SOCKET;\n        return -4;\n    }\n\n    unsigned long nonblocking = 1;\n    ret = PISocket::Ioctl(m_debug_socket, FIONBIO, &amp;nonblocking);\n    if (ret == SOCKET_ERROR)\n    {\n        PISocket::Close(m_debug_socket);\n        m_debug_socket = INVALID_SOCKET;\n        return -5;\n    }\n\n    m_state = dsListen;\n\n\n    unsigned long t = (unsigned long)PITime() + 2000;\n\n    do \n    {\n        TryAccept();\n    }\n\n    while ((unsigned long)PITime() &lt; t &amp;&amp; m_state == dsListen);\n    LogInfo(\"profiler socket init port: %d\", port)\n    return 0;\n}\n\nbool SocketDebugger::TryAccept()\n{\n    sockaddr_in local;\n    //int len = sizeof(local);\n    // set non blocking...  \n\n    m_gui_socket = PISocket::Accept(m_debug_socket, (sockaddr*)&amp;local);\n\n    if (m_gui_socket == INVALID_SOCKET) \n    {       \n        if (PISocket::Errno() == EWOULDBLOCK)\n        {   \n            return false;\n        }\n    }\n\n    LogInfo(\"profiler connected! %s:%d\", inet_ntoa(local.sin_addr), local.sin_port);\n    m_state = dsConnect;\n    m_send_stream.clear();\n    m_recv_stream.clear();\n    return true;\n}\n</code></pre>\n\n<p>I use a remote profiler to connect to my program. I can run this code well in my pc, but somehow in ios, the <code>TryAccept</code> is always recieve a connection from <code>0.0.0.0:32772</code>. The log is:</p>\n\n<pre><code>5   [23:43:04.368]   [UTILS] [INFO] profiler connected! 0.0.0.0:32772\n6   [23:43:04.368]   [UTILS] [INFO] profiler socket init port: 7776, 0\n</code></pre>\n\n<p>Why? ps: TryAccept will also be called elsewhere after init</p>\n"}, {"tags": ["c++", "qt", "qwidget"], "answers": [{"tags": [], "owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "is_accepted": false, "score": 1, "last_activity_date": 1476469783, "last_edit_date": 1476469783, "creation_date": 1476287453, "answer_id": 40002971, "question_id": 40002970, "link": "https://stackoverflow.com/questions/40002970/how-to-determine-if-a-qpushbuttons-released-signal-is-the-result-of-auto-repeat/40002971#40002971", "title": "How to determine if a QPushButton&#39;s released signal is the result of auto repeat or an actual mouse release", "body": "<p>I found that taking the following steps provided a relatively simple solution that did not require any additional event handling:</p>\n\n<ol>\n<li>Create a class member <code>isHeld</code> of type bool that defaults to false.</li>\n<li>Within the pressed slot, check <code>isHeld</code>. If if is false, set <code>isHeld</code> to true and call <code>startHeldAction()</code>.</li>\n<li>Within the released slot, check the <a href=\"http://doc.qt.io/qt-5/qabstractbutton.html#down-prop\" rel=\"nofollow\">down property</a> of the button. If it is false, set isHeld to false and call <code>stopHeldAction()</code>.</li>\n</ol>\n\n<p>Making these changes produces the following code:</p>\n\n<pre><code>void MyClass::on_button_pressed()\n{\n    if( !isHeld )\n    {\n        isHeld = true;\n        startHeldAction();\n    }\n    doRepeatedAction();\n}\n\nvoid MyClass::on_button_released()\n{\n    if( !ui-&gt;button-&gt;isDown() )\n    {\n        isHeld = false;\n        stopHeldAction();\n    }\n}\n</code></pre>\n\n<p>This works because <code>isDown()</code> will return true in the released slot unless the User has actually released the mouse button.</p>\n"}], "owner": {"reputation": 2062, "user_id": 1895097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KvTJR.png?s=128&g=1", "display_name": "MildWolfie", "link": "https://stackoverflow.com/users/1895097/mildwolfie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1476469783, "creation_date": 1476287453, "last_edit_date": 1476469645, "question_id": 40002970, "link": "https://stackoverflow.com/questions/40002970/how-to-determine-if-a-qpushbuttons-released-signal-is-the-result-of-auto-repeat", "title": "How to determine if a QPushButton&#39;s released signal is the result of auto repeat or an actual mouse release", "body": "<p>I have a QPushButton that performs two actions. One action should occur every time the button's pressed slot is called, including calls through autoRepeat. The second action should be performed starting when the button is first pressed, and ending only when it is no longer held by the User. </p>\n\n<p>The problem is that autoRepeat triggers the button's pressed, released, and clicked signals. This results in the second action ending and starting again on every repeat rather then persisting for the duration the button is held. How can I determine if the button was actually released by the User using only the existing pressed and released slots?</p>\n\n<p>Example code:</p>\n\n<pre><code>void MyClass::on_button_pressed()\n{\n    startHeldAction();\n    doRepeatedAction();\n}\n\nvoid MyClass::on_button_released()\n{\n    stopHeldAction();\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qsqldatabase"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1476287345, "post_id": 40002894, "comment_id": 67283713, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1476287428, "post_id": 40002894, "comment_id": 67283781, "body": "Only SIGABRT no other errors ? what are you getting from those qDebug()"}, {"owner": {"reputation": 61, "user_id": 5716271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dseaz.jpg?s=128&g=1", "display_name": "Dmitriy Klimov", "link": "https://stackoverflow.com/users/5716271/dmitriy-klimov"}, "reply_to_user": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1476287579, "post_id": 40002894, "comment_id": 67283887, "body": "@Marco  only. log qt - <a href=\"http://ru-ms.ru/log.txt\" rel=\"nofollow noreferrer\">link</a>"}], "owner": {"reputation": 61, "user_id": 5716271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dseaz.jpg?s=128&g=1", "display_name": "Dmitriy Klimov", "link": "https://stackoverflow.com/users/5716271/dmitriy-klimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476287185, "creation_date": 1476287185, "question_id": 40002894, "link": "https://stackoverflow.com/questions/40002894/error-sigabrt-signal-meaning-aborted-when-trying-to-connect-to-the-database", "title": "Error: SIGABRT Signal meaning : Aborted&quot; when trying to connect to the database by QT", "body": "<p>Error:</p>\n\n<p>The inferior stopped because it received a signal from the Operating System.</p>\n\n<p>Signal name : SIGABRT Signal meaning : Aborted</p>\n\n<p>Code Snippet:</p>\n\n<pre><code>#include \"postgresql.h\"\n#include &lt;QtSql&gt;\nQString config_host,config_dbname,config_dbuser,config_dbpassword, config_dbport;\nPostgreSQL::PostgreSQL()\n{\n\n}\nvoid PostgreSQL::config(QString dbHost, QString dbName, QString dbUser, QString dbPassword, QString dbPort){\n config_host = dbHost;\n config_dbname = dbName;\n config_dbuser = dbUser;\n config_dbpassword = dbPassword;\n config_dbport = dbPort;\n}\nvoid PostgreSQL::connect(QSqlDatabase db){\n db.setHostName(config_host);\n db.setDatabaseName(config_dbname);\n db.setUserName(config_dbuser);\n db.setPassword(config_dbpassword);\n db.setPort(config_dbport.toInt());\n}\n\nQSqlQuery* PostgreSQL::query(QString sql, int con){\n QString connect = QString::number(con);\n QSqlDatabase db;\n if(QSqlDatabase::contains(connect)){\n db = QSqlDatabase::database(connect);\n qDebug() \u00ab db.connectionName();\n }else{\n db = QSqlDatabase::addDatabase(\"QPSQL\", connect);\n this-&gt;connect(db);\n qDebug() \u00ab db.connectionNames();\n qDebug() \u00ab \"PostgreSQL connect ?: \" \u00ab (db.open() ? \"YES\" : \"NO\");\n }\n\n QSqlQuery *query;\n query = new QSqlQuery(db);\n query-&gt;exec(sql);\n return query;\n}\n</code></pre>\n\n<p>38 line... \n<strong>query->exec(sql);</strong></p>\n"}, {"tags": ["c++", "opencv", "matrix", "printing", "initialization"], "comments": [{"owner": {"reputation": 696, "user_id": 3967585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a870c8c88c4aa792cbdfdccb00a79d85?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/3967585/thomas"}, "edited": false, "score": 1, "creation_date": 1476287624, "post_id": 40002849, "comment_id": 67283914, "body": "Isn&#39;t a CV_32FC1 a floating point format (not double) ?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1476288183, "post_id": 40002849, "comment_id": 67284319, "body": "I would guess the &quot;32&quot; means 32 bits. Which in practice would mean <code>float</code>, not <code>double</code>. OpenCV is not a very type safe library."}], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 2, "last_activity_date": 1476288398, "last_edit_date": 1476288398, "creation_date": 1476287752, "answer_id": 40003074, "question_id": 40002849, "link": "https://stackoverflow.com/questions/40002849/why-are-the-matrices-not-initialized-printed-correctly/40003074#40003074", "title": "Why are the matrices not initialized/printed correctly?", "body": "<p>Since you're working with <code>double</code>, the OpenCV matrix type should be <code>CV_64FC1</code>:</p>\n\n<pre><code>cv::Mat matRot(2, 2, CV_64FC1, dataRot);\ncv::Mat matTrans(2, 1, CV_64FC1, dataTrans);\n</code></pre>\n\n<p>For simplicity, you can also use:</p>\n\n<pre><code>cv::Matx22d matRot(cos(Psi), -sin(Psi), sin(Psi), cos(Psi));\ncv::Matx21d matTrans(X, Y);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>cv::Mat1d matRot = (cv::Mat1d(2,2) &lt;&lt; cos(Psi), -sin(Psi), sin(Psi), cos(Psi));\ncv::Mat1d matTrans = (cv::Mat1d(2,1) &lt;&lt; X, Y);\n</code></pre>\n\n<p>and access values like:</p>\n\n<pre><code>std::cout &lt;&lt; matRot(row, col);\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 6478830, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/79af886b7e721e0adc76d388effb2cd6?s=128&d=identicon&r=PG&f=1", "display_name": "EE-Student", "link": "https://stackoverflow.com/users/6478830/ee-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 40003074, "answer_count": 1, "score": 0, "last_activity_date": 1476288398, "creation_date": 1476287048, "last_edit_date": 1495535268, "question_id": 40002849, "link": "https://stackoverflow.com/questions/40002849/why-are-the-matrices-not-initialized-printed-correctly", "title": "Why are the matrices not initialized/printed correctly?", "body": "<p>I am playing around with cv::Mat and think my code really behaves weird, although I follow the syntax described in <a href=\"https://stackoverflow.com/questions/22739320/how-can-i-initialize-a-cvmat-with-data-from-a-float-array\">here</a>.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>std::cout &lt;&lt; \"parameter for matrices: \" &lt;&lt; \"x = \" &lt;&lt; X &lt;&lt; \" y = \" &lt;&lt; Y &lt;&lt; \" psi = \" &lt;&lt; Psi &lt;&lt; std::endl;\ndouble dataRot[] = { cos(Psi), -sin(Psi), sin(Psi), cos(Psi) };\ndouble dataTrans[] = { X, Y };\ncv::Mat matRot(2, 2, CV_32FC1, dataRot);\ncv::Mat matTrans(2, 1, CV_32FC1, dataTrans);\nstd::cout &lt;&lt; \"matRot = \" &lt;&lt; matRot.at&lt;double&gt;(0,0) &lt;&lt; \",\" &lt;&lt; matRot.at&lt;double&gt;(0,1) &lt;&lt; \";\" &lt;&lt; matRot.at&lt;double&gt;(1,0) &lt;&lt; \",\" &lt;&lt; matRot.at&lt;double&gt;(1,1) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"matRot = \" &lt;&lt; matRot &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"matTrans = \" &lt;&lt; matTrans.at&lt;double&gt;(0,0) &lt;&lt; \",\" &lt;&lt; matTrans.at&lt;double&gt;(0,1) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"matTrans = \" &lt;&lt; matTrans &lt;&lt; std::endl;\nmatOut = matRot*matIn + matTrans*cv::Mat::ones(1, matIn.cols, CV_32FC1);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>parameter for matrices: x = 20.5 y = 20 psi = 0\nmatRot = 1,-0;-0,0\nmatRot = [0, 1.875;\n  0, -0]\nmatTrans = 20.5,20\nmatTrans = [0; 2.8203125]\n</code></pre>\n\n<p>Why is the identity matrix not initalized correctly?\nAnd why does the second way of printing a matrix deliver wrong results?\nAny help is appreciated.</p>\n"}]