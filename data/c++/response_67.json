[{"tags": ["c++", "initialization", "derived-class"], "comments": [{"owner": {"reputation": 5171, "user_id": 2718186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ca44ca18bf615e74f930d28a89d01508?s=128&d=identicon&r=PG", "display_name": "MicroVirus", "link": "https://stackoverflow.com/users/2718186/microvirus"}, "edited": false, "score": 0, "creation_date": 1461196984, "post_id": 36757276, "comment_id": 61094380, "body": "The order of initialisation is determined by the order that the members appear, and base classes appear before members. With that out of the way, what is it you are actually trying to accomplish? The <code>message</code> in the <code>Child</code> class shadows the message in the <code>Parent</code> class."}, {"owner": {"reputation": 89, "user_id": 4168715, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fb5ba831ca2337838c66ddc70800b77b?s=128&d=identicon&r=PG&f=1", "display_name": "user4168715", "link": "https://stackoverflow.com/users/4168715/user4168715"}, "reply_to_user": {"reputation": 5171, "user_id": 2718186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ca44ca18bf615e74f930d28a89d01508?s=128&d=identicon&r=PG", "display_name": "MicroVirus", "link": "https://stackoverflow.com/users/2718186/microvirus"}, "edited": false, "score": 0, "creation_date": 1461197268, "post_id": 36757276, "comment_id": 61094455, "body": "I was trying to construct an object in the derived class and pass it by reference to the base. Anyway, I will rethink the design."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461197892, "post_id": 36757276, "comment_id": 61094609, "body": "Rather than passing stuff to the base, have the base define a function that gets the stuff from it&#39;s inheritors and force the inheritors to implement it by making the function pure virtual. <code>virtual Stuff &amp; getStuff() = 0;</code> There are a couple potential performance considerations here, but most of the time this is a simple and safe way to get what you want."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4168715, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fb5ba831ca2337838c66ddc70800b77b?s=128&d=identicon&r=PG&f=1", "display_name": "user4168715", "link": "https://stackoverflow.com/users/4168715/user4168715"}, "edited": false, "score": 0, "creation_date": 1461196956, "post_id": 36757295, "comment_id": 61094371, "body": "But what if I want to construct an object in the derived class and then pass it by reference to the base?"}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "reply_to_user": {"reputation": 89, "user_id": 4168715, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fb5ba831ca2337838c66ddc70800b77b?s=128&d=identicon&r=PG&f=1", "display_name": "user4168715", "link": "https://stackoverflow.com/users/4168715/user4168715"}, "edited": false, "score": 0, "creation_date": 1461196980, "post_id": 36757295, "comment_id": 61094378, "body": "@user4168715 That&#39;s not possible, see edit. You&#39;ll have to pass it after the base is initialized."}], "tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 0, "last_activity_date": 1461196961, "last_edit_date": 1461196961, "creation_date": 1461196874, "answer_id": 36757295, "question_id": 36757276, "link": "https://stackoverflow.com/questions/36757276/order-of-initialization-in-derived-classes/36757295#36757295", "title": "Order of initialization in derived classes", "body": "<p>The base class constructor is called before any member constructors in the derived class. This should work fine:</p>\n\n<pre><code>Child(string messg_arg) : Parent(messg_arg), message(messg_arg)\n{}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4168715, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/fb5ba831ca2337838c66ddc70800b77b?s=128&d=identicon&r=PG&f=1", "display_name": "user4168715", "link": "https://stackoverflow.com/users/4168715/user4168715"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 36757295, "answer_count": 1, "score": 0, "last_activity_date": 1461196961, "creation_date": 1461196735, "question_id": 36757276, "link": "https://stackoverflow.com/questions/36757276/order-of-initialization-in-derived-classes", "title": "Order of initialization in derived classes", "body": "<p>I am trying to initialize some members of the base class through its constructor but I fail. In the following code it seems that derived class member <code>message</code> is not initialized before calling the base constructor. \nA workaround would be to have <code>Child(string messg_arg) : message(messg_arg), Parent(messg_arg)</code>, but is there any way to avoid this?</p>\n\n<pre><code>class Parent\n{\nprotected:\n    string something;\n    Parent(string something_arg) : something(something_arg)\n    {}   \n\n}\n\nclass Child : public Parent\n{\npublic:\n    string message;\n    Child(string messg_arg) : message(messg_arg), Parent(message)\n    {}\n}\n</code></pre>\n"}, {"tags": ["c++", "erlang"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3531196"}, "edited": false, "score": 1, "creation_date": 1461218672, "post_id": 36759828, "comment_id": 61100525, "body": "Thanks @rorra, term.value refers to an union that will hold either of float, char, atom, pid, port. If in case, I give a tuple of form, {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, [&quot;d&quot;,&quot;e&quot;,&quot;f&quot;], {&quot;g&quot;,&quot;h&quot;}}, that doesnt seem to be an approach using ei_decode_ei_term. I would like a generic solution to decode any erlang terms and recurse if that is infact any other composite term. any pointers? Thanks for the detailed answer"}], "tags": [], "owner": {"reputation": 9165, "user_id": 655769, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ylFlJ.jpg?s=128&g=1", "display_name": "rorra", "link": "https://stackoverflow.com/users/655769/rorra"}, "is_accepted": false, "score": 0, "last_activity_date": 1461213713, "creation_date": 1461213713, "answer_id": 36759828, "question_id": 36757254, "link": "https://stackoverflow.com/questions/36757254/how-to-use-ei-decode-term-to-decode/36759828#36759828", "title": "how to use ei_decode_term to decode.", "body": "<p>Have you tried with <a href=\"https://github.com/blackberry/Erlang-OTP/blob/master/lib/erl_interface/src/misc/ei_decode_term.c\" rel=\"nofollow\">ei_decode_ei_term</a>, something like:</p>\n\n<pre><code>void decode_tuple(char *buff) {\n  int index = 0;\n  int size;\n  int type;\n  int res = ei_decode_tuple_header(buff, &amp;index, &amp;size);\n\n  if(res == 0) {\n    cout &lt;&lt; \"Success\" &lt;&lt; endl;\n  } else {\n    cout &lt;&lt; \"Fail\" &lt;&lt; endl;\n  }\n\n  for(int i = 0; i &lt; size; ++i) {\n    ei_term term;\n    int res = ei_decode_ei_term(buff, &amp;index, &amp;term);\n    if (res == 0) {\n      cout &lt;&lt; \"Success\" &lt;&lt; endl;\n    } else {\n      cout &lt;&lt; \"Fail\" &lt;&lt; endl;\n    }\n    cout &lt;&lt; \"The decoded data is \" &lt;&lt; term.value &lt;&lt; endl;\n  }\n}\n</code></pre>\n\n<p>The ei_term is defined like:</p>\n\n<pre><code>typedef struct {\n    char ei_type;\n    int arity;\n    int size;\n    union {\n        long i_val;\n        double d_val;\n        char atom_name[MAXATOMLEN_UTF8];\n        erlang_pid pid;\n        erlang_port port;\n        erlang_ref ref;\n    } value;\n} ei_term;\n</code></pre>\n\n<p>So you may need to check <code>term.ei_type</code> for better parsing</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3531196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461213713, "creation_date": 1461196621, "question_id": 36757254, "link": "https://stackoverflow.com/questions/36757254/how-to-use-ei-decode-term-to-decode", "title": "how to use ei_decode_term to decode.", "body": "<p>I have a c++ code which receives data from an erlang process. I get a tuple and using ei_decode_tuple_header/4, I got the arity of the list and then using a for-loop to traverse through the elements of the tuple and decode each one of them like this:</p>\n\n<pre><code>void decode_tuple(char *buff) {\n   int index = 0;\n   int size;\n   int type;\n   int res = ei_decode_tuple_header(buff, &amp;index, &amp;size);\n   if(res == 0) {\n     cout&lt;&lt;\"Success\"&lt;&lt;endl;\n   } else {\n     cout&lt;&lt;\"Fail\"&lt;&lt;endl;\n   }\n\n  for(int i = 0; i &lt; size; ++i) {\n    char *p = (char*)malloc(sizeof(char) * 1000);\n    int res = ei_decode_string(buff, &amp;index, p);\n    if(res == 0) {\n        cout&lt;&lt;\"Success\"&lt;&lt;endl;\n    } else {\n        cout&lt;&lt;\"Fail\"&lt;&lt;endl;\n    }\n    cout&lt;&lt;\"The decoded string is \"&lt;&lt;p&lt;&lt;endl;\n    }\n  }\n</code></pre>\n\n<p>However, this works only fine when all of the elements in the tuple/list are of the same type. I would like to decode no matter what the term is. I know that there is ei_decode_term but the documentation is so bad that I could not get an idea as to how to do it? </p>\n\n<p>Can some one help! thanks@ </p>\n"}, {"tags": ["c++", "curl"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1461196702, "post_id": 36757217, "comment_id": 61094315, "body": "Please <a href=\"https://stackoverflow.com/posts/36757217/edit\">edit</a> your question title to something more meaningful. You can remove C++ and curl (because they&#39;re both in the tags), which leaves your title as <i>extra data</i>, and that has zero value. Your title should describe the actual question you&#39;re asking or problem you&#39;re experiencing in a way that will have relevance to future readers who see it in a search result. Thanks."}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1461200838, "post_id": 36757217, "comment_id": 61095380, "body": "That callback doesn&#39;t look write. How can you pass it <code>string</code> (by value) as the last parameter when it asks for <code>void*</code> as the last parameter. You need to then cast that <code>void*</code> to an <code>string*</code> and call <code>str-&gt;append(ptr)</code>. At the very least, the last parameter should be <code>string* pContent</code>."}, {"owner": {"reputation": 140, "user_id": 5328986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BveFU.jpg?s=128&g=1", "display_name": "Neox", "link": "https://stackoverflow.com/users/5328986/neox"}, "reply_to_user": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1461206490, "post_id": 36757217, "comment_id": 61096734, "body": "KenWhite : done, thanks. @Brandon : I have tried a few things, even if it compiled and worked, the result was the same. Are you sure that the problem comes from there ?"}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1461285020, "post_id": 36757217, "comment_id": 61141536, "body": "Can you post the URL? The easiest way to debug this is to put: <code>std::cout.write(static_cast&lt;char *&gt;(ptr), size * nmemb)</code> in your callback function <code>writefunc</code>. If it prints the entire source of the webpage, then yes the <code>pContent</code> is the issue."}, {"owner": {"reputation": 140, "user_id": 5328986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BveFU.jpg?s=128&g=1", "display_name": "Neox", "link": "https://stackoverflow.com/users/5328986/neox"}, "edited": false, "score": 0, "creation_date": 1461286055, "post_id": 36757217, "comment_id": 61141771, "body": "The problem is here with any website, I just tested it with <a href=\"http://www.website.com/\" rel=\"nofollow noreferrer\">website.com</a> and it still happened. But not in the console (it printed the entire source without extra data), so yes the problem comes from the parameter I&#39;m giving... as I already have tried a few things but still can&#39;t seem to make it work correctly, may you please tell me exactly what I need to write ?"}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1461286661, "post_id": 36757217, "comment_id": 61141905, "body": "I see the problem. You are setting: <code>CURLOPT_POST</code> to <code>true</code>. You should NOT do that if you are trying to do a <code>GET</code> request which is what a browser does to <code>get</code> the webpage&#39;s source code. <code>POST</code> is usually for logging in or sending data. Some servers let you <code>POST</code> with parameters and they send back data. But that&#39;s not the case when you are trying to get a webpage&#39;s source."}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 5328986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BveFU.jpg?s=128&g=1", "display_name": "Neox", "link": "https://stackoverflow.com/users/5328986/neox"}, "edited": false, "score": 0, "creation_date": 1461286873, "post_id": 36782849, "comment_id": 61141964, "body": "Thanks for your answer. I also need to make post requests sometimes, but yeah maybe I should switch the default to get. Anyway I will try your code. :)"}, {"owner": {"reputation": 140, "user_id": 5328986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BveFU.jpg?s=128&g=1", "display_name": "Neox", "link": "https://stackoverflow.com/users/5328986/neox"}, "edited": false, "score": 0, "creation_date": 1461287532, "post_id": 36782849, "comment_id": 61142125, "body": "Thanks again, this works. I didn&#39;t change the post request to a get request tho, I think it was only coming from the callback function. Even if you told me what to do, I guess I didn&#39;t write it correctly."}], "tags": [], "owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "is_accepted": true, "score": 1, "last_activity_date": 1461286896, "last_edit_date": 1461286896, "creation_date": 1461286279, "answer_id": 36782849, "question_id": 36757217, "link": "https://stackoverflow.com/questions/36757217/data-gets-added-to-curls-retrieved-content/36782849#36782849", "title": "Data gets added to curl&#39;s retrieved content", "body": "<p>Tested on OSX El-Capitan 10.11.4 - Xcode 7.3. Works. </p>\n\n<p>--</p>\n\n<p><strong>Note:</strong>\nIf you need SSL connection, just add <code>#define USE_SSL</code> and change the verification (<code>CURLOPT_SSL_VERIFYPEER</code> and <code>CURLOPT_SSL_VERIFYHOST</code>) if you need to guarantee that the peer or host has proper certificates.</p>\n\n<p>You also do not NEED a lot of the options I have specified in the code below..</p>\n\n<p><strong>EDIT:</strong> I see the problem in your code. You are doing a <code>POST</code> request. What you really want is a <code>GET</code> request since you want to get the source of the web page.</p>\n\n<pre><code>//\n//  main.cpp\n//  TestCurl\n//\n//  Created by Brandon T on 2016-04-21.\n//  Copyright \u00a9 2016 XIO. All rights reserved.\n//\n\n#include &lt;iostream&gt;\n#include &lt;curl/curl.h&gt;\n\n\nsize_t writefunc(void *contents, size_t size, size_t nmemb, void *userp)\n{\n    std::string *page_source = static_cast&lt;std::string *&gt;(userp);\n\n    if (page_source)\n    {\n        page_source-&gt;append(static_cast&lt;char *&gt;(contents), size * nmemb);\n    }\n\n    return size * nmemb;\n}\n\nint main(int argc, const char * argv[])\n{\n\n    std::string page_url = \"http://stackoverflow.com/questions/36757217/data-gets-added-to-curls-retrieved-content?noredirect=1#comment61096734_36757217\";\n\n    std::string user_agent = \"Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1667.0 Safari/537.36\";\n\n    std::string page_source;\n\n\n    CURL *curl_handle = curl_easy_init();\n    if (curl_handle)\n    {\n        curl_easy_setopt(curl_handle, CURLOPT_FAILONERROR, 1L);\n        curl_easy_setopt(curl_handle, CURLOPT_USERAGENT, user_agent.c_str());\n        curl_easy_setopt(curl_handle, CURLOPT_WRITEFUNCTION, writefunc);\n        curl_easy_setopt(curl_handle, CURLOPT_WRITEDATA, &amp;page_source);\n        curl_easy_setopt(curl_handle, CURLOPT_AUTOREFERER, 1L);\n\n        #ifdef USE_SSL\n        curl_easy_setopt(curl_handle, CURLOPT_USE_SSL, CURLUSESSL_TRY);\n        curl_easy_setopt(curl_handle, CURLOPT_SSL_VERIFYPEER, 0L);  //2L\n        curl_easy_setopt(curl_handle, CURLOPT_SSL_VERIFYHOST, 0L);  //2L\n        #endif\n\n        curl_easy_setopt(curl_handle, CURLOPT_COOKIEJAR, \"cookies.txt\");\n        curl_easy_setopt(curl_handle, CURLOPT_COOKIEFILE, \"cookies.txt\");\n\n        curl_easy_setopt(curl_handle, CURLOPT_VERBOSE, 1L);\n        curl_easy_setopt(curl_handle, CURLOPT_URL, page_url.c_str());\n        curl_easy_setopt(curl_handle, CURLOPT_UPLOAD, 0L);\n        curl_easy_setopt(curl_handle, CURLOPT_POST, 0L);\n\n        CURLcode res = curl_easy_perform(curl_handle);\n\n        if (res != CURLE_OK)\n        {\n            std::string error_message = curl_easy_strerror(res);\n            curl_easy_cleanup(curl_handle);\n\n            std::cerr &lt;&lt; error_message;\n            return 0;\n        }\n\n        curl_easy_cleanup(curl_handle);\n\n        std::cout &lt;&lt; page_source;\n    }\n\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>*   Trying 104.16.35.249...\n* Connected to stackoverflow.com (104.16.35.249) port 80 (#0)\n&gt; GET /questions/36757217/data-gets-added-to-curls-retrieved-content?noredirect=1 HTTP/1.1\nHost: stackoverflow.com\nUser-Agent: Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1667.0 Safari/537.36\nAccept: */*\nCookie: __cfduid=ddbf5d3e848c27dcbc1fded421106e2311461286187; prov=b57e8199-4ea1-4ad3-a9bb-cad71f707835\n\n&lt; HTTP/1.1 200 OK\n&lt; Date: Fri, 22 Apr 2016 00:59:16 GMT\n&lt; Content-Type: text/html; charset=utf-8\n&lt; Transfer-Encoding: chunked\n&lt; Connection: keep-alive\n&lt; Cache-Control: public, max-age=60\n&lt; Expires: Fri, 22 Apr 2016 01:00:16 GMT\n&lt; Last-Modified: Fri, 22 Apr 2016 00:59:16 GMT\n&lt; Vary: *\n&lt; X-Frame-Options: SAMEORIGIN\n&lt; X-Request-Guid: 36d372e7-2da8-4c7f-ab22-ecd8cb96fa39\n&lt; Server: cloudflare-nginx\n&lt; CF-RAY: 297521d23dac016a-ORD\n&lt; \n* Connection #0 to host stackoverflow.com left intact\n&lt;!DOCTYPE html&gt;\n&lt;html itemscope itemtype=\"http://schema.org/QAPage\"&gt;\n&lt;head&gt;\n</code></pre>\n\n<p>plus the source code for this page.</p>\n"}], "owner": {"reputation": 140, "user_id": 5328986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BveFU.jpg?s=128&g=1", "display_name": "Neox", "link": "https://stackoverflow.com/users/5328986/neox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36782849, "answer_count": 1, "score": 0, "last_activity_date": 1461286896, "creation_date": 1461196393, "last_edit_date": 1461205676, "question_id": 36757217, "link": "https://stackoverflow.com/questions/36757217/data-gets-added-to-curls-retrieved-content", "title": "Data gets added to curl&#39;s retrieved content", "body": "<p>I am using CURL with C++ to get the source code of websites, I am putting the content in a string with a function, but I get extra data (a 0 and a few new lines)</p>\n\n<p>Here's my code (this isn't the whole code as the project is a bit big)</p>\n\n<p>This is the function to get the content/put it into a string</p>\n\n<pre><code>size_t writefunc(void *ptr, size_t size, size_t nmemb, string pContent)\n{\n    pContent += (char *)ptr;\n    return size*nmemb;\n}\n</code></pre>\n\n<p>And here is how I initialize the CURL object</p>\n\n<pre><code>string Content;\nCURL *pCURL = curl_easy_init();\nif(!pCURL)\n{\n    cout &lt;&lt; \"Couldn't create a curl object\" &lt;&lt; endl;\n    return 0;\n}\ncurl_easy_setopt(pCURL, CURLOPT_WRITEFUNCTION, writefunc);\ncurl_easy_setopt(pCURL, CURLOPT_FOLLOWLOCATION, true);\ncurl_easy_setopt(pCURL, CURLOPT_COOKIEJAR, \"cookie_file.txt\");\ncurl_easy_setopt(pCURL, CURLOPT_WRITEDATA, &amp;Content);\ncurl_easy_setopt(pCURL, CURLOPT_POST, true);\n</code></pre>\n"}, {"tags": ["c++", "windows", "winapi", "wininet"], "answers": [{"comments": [{"owner": {"reputation": 17964, "user_id": 843732, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e7b3eb1f6bb311c47610a9d230485f0?s=128&d=identicon&r=PG", "display_name": "c00000fd", "link": "https://stackoverflow.com/users/843732/c00000fd"}, "edited": false, "score": 1, "creation_date": 1461196752, "post_id": 36757246, "comment_id": 61094322, "body": "Oh. Because it can display (blocking) UI. That is why they also mention that it can&#39;t be used in a service. Makes sense now. Thanks."}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 17964, "user_id": 843732, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e7b3eb1f6bb311c47610a9d230485f0?s=128&d=identicon&r=PG", "display_name": "c00000fd", "link": "https://stackoverflow.com/users/843732/c00000fd"}, "edited": false, "score": 1, "creation_date": 1461196804, "post_id": 36757246, "comment_id": 61094334, "body": "Well, the issue is more that all of the functions in WinINet are all about <b>making</b> requests. There&#39;s nothing that could be used to receive and respond to an HTTP request (e.g, from a web browser)."}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 3, "last_activity_date": 1461196574, "creation_date": 1461196574, "answer_id": 36757246, "question_id": 36757212, "link": "https://stackoverflow.com/questions/36757212/can-wininet-apis-be-used-on-windows-server-oss/36757246#36757246", "title": "Can WinINet APIs be used on Windows Server OS&#39;s?", "body": "<p>That note means that WinINet cannot be used to implement web servers -- it can only operate as an HTTP client. It has nothing to do with the edition of Windows in use.</p>\n"}], "owner": {"reputation": 17964, "user_id": 843732, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e7b3eb1f6bb311c47610a9d230485f0?s=128&d=identicon&r=PG", "display_name": "c00000fd", "link": "https://stackoverflow.com/users/843732/c00000fd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 36757246, "answer_count": 1, "score": 3, "last_activity_date": 1461196574, "creation_date": 1461196354, "question_id": 36757212, "link": "https://stackoverflow.com/questions/36757212/can-wininet-apis-be-used-on-windows-server-oss", "title": "Can WinINet APIs be used on Windows Server OS&#39;s?", "body": "<p>I've been looking for a quick way to download an HTML markup for a web page in my C++ code. I came across <code>WinINet</code> APIs that seem to be pretty easy to use. But then I noticed this message at the bottom of their MSDN page, say for <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa385096(v=vs.85).aspx\" rel=\"nofollow\">InternetOpen</a>:</p>\n\n<blockquote>\n  <p>Note:  WinINet does not support server implementations...</p>\n</blockquote>\n\n<p>Does this mean that I can't use it if my GUI app runs on Windows Server 2008/R2/2012/R2, etc.? Can someone clarify what they meant?</p>\n"}, {"tags": ["c++", "memory-management", "pass-by-reference", "stdvector", "temporary-objects"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1461196619, "post_id": 36757124, "comment_id": 61094296, "body": "&quot;how can I declare a temporary object that will store the function that returns by reference&quot; - you can&#39;t store a function in an object."}], "answers": [{"comments": [{"owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1461196003, "post_id": 36757145, "comment_id": 61094131, "body": "What happens when the reference goes out of scope?"}, {"owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "reply_to_user": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "edited": false, "score": 0, "creation_date": 1461196088, "post_id": 36757145, "comment_id": 61094158, "body": "@bigcodeszzer: nothing, a reference doesn&#39;t own an object nor it can cause a leak, it&#39;s just an alias for an existing object."}], "tags": [], "owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1461196129, "last_edit_date": 1461196129, "creation_date": 1461195925, "answer_id": 36757145, "question_id": 36757124, "link": "https://stackoverflow.com/questions/36757124/c-return-a-stdvector-member-by-reference-to-a-temporary-object/36757145#36757145", "title": "C++: return a std::vector&lt;&gt; member, by reference, to a temporary object", "body": "<p>It's perfectly fine to store the result as a reference:</p>\n\n<pre><code>ClassName &amp; temp_obj = function1(function2);\ntemp_obj.method1();\ntemp_obj.method2();\n</code></pre>\n\n<p>Your other question here:</p>\n\n<blockquote>\n  <p>The other problem is, temp_obj is contained in a vector, and I'm concerned about conflicts there and memory leakage.</p>\n</blockquote>\n\n<p>It's okay to return <code>jobs[i]</code> as a reference.  The <code>operator[]</code> on a vector returns a reference itself.  Provided you don't modify the vector in such a way as to change what that reference points at, and you are not storing a reference to an object that has been destroyed, you'll be fine to use it.</p>\n\n<p>When your temporary reference goes out of scope, nothing happens.  It's just a reference.</p>\n"}, {"tags": [], "owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "is_accepted": false, "score": 2, "last_activity_date": 1461196055, "creation_date": 1461196055, "answer_id": 36757162, "question_id": 36757124, "link": "https://stackoverflow.com/questions/36757124/c-return-a-stdvector-member-by-reference-to-a-temporary-object/36757162#36757162", "title": "C++: return a std::vector&lt;&gt; member, by reference, to a temporary object", "body": "<p>You need a temporary variable, but that temporary variable could be a reference so no copy is done and you are safe to use it.</p>\n\n<p>But still better, you could use <code>&lt;algorithm&gt;</code> functions to do what you need without having to reinvent the wheel:</p>\n\n<pre><code>std::string name = ...;\nauto it = std::find_if(begin(jobs), end(jobs), [&amp;name] (const Job&amp; job) { return job.is_job(name); });\n\nif (it != jobs.end())\n{\n  it-&gt;method1();\n  it-&gt;method2();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 3247011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6466b0c43ec242d03954fc3b478e771?s=128&d=identicon&r=PG&f=1", "display_name": "TimDev", "link": "https://stackoverflow.com/users/3247011/timdev"}, "is_accepted": false, "score": -1, "last_activity_date": 1461196267, "creation_date": 1461196267, "answer_id": 36757192, "question_id": 36757124, "link": "https://stackoverflow.com/questions/36757124/c-return-a-stdvector-member-by-reference-to-a-temporary-object/36757192#36757192", "title": "C++: return a std::vector&lt;&gt; member, by reference, to a temporary object", "body": "<p>Your question is unclear. But if you want to make a pointer to a function or member function there is a FAQ about such variables here.</p>\n\n<p><a href=\"https://isocpp.org/wiki/faq/pointers-to-members#fnptr-vs-memfnptr-types\" rel=\"nofollow\">https://isocpp.org/wiki/faq/pointers-to-members#fnptr-vs-memfnptr-types</a></p>\n"}, {"tags": [], "owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1461206673, "last_edit_date": 1461206673, "creation_date": 1461197212, "answer_id": 36757358, "question_id": 36757124, "link": "https://stackoverflow.com/questions/36757124/c-return-a-stdvector-member-by-reference-to-a-temporary-object/36757358#36757358", "title": "C++: return a std::vector&lt;&gt; member, by reference, to a temporary object", "body": "<p>Assuming it is <code>function1()</code> that returns a reference (your question is unclear on that), simply use a reference</p>\n\n<pre><code> ClassName &amp;temp_obj = function1(function2);\n\n temp_obj.method1();\n temp_obj.method2();\n</code></pre>\n\n<p>If <code>function1()</code> returns a <code>const</code> reference, than <code>temp</code> also needs to be <code>const</code>.</p>\n\n<p>The limitation of this is that, once created, a reference cannot be reseated (made to refer to a different object).  For example, in ;</p>\n\n<pre><code> ClassName &amp;temp_obj = function1(function2);    // initialisation\n\n temp_obj = function1(some_other_function);     // reassignment\n temp_obj.method1();\n temp_obj.method2();\n</code></pre>\n\n<p>the reassignment will not reseat <code>temp</code>, even if <code>function1()</code> returns a different reference on the second call.   Instead, the object being referred to will be assigned (assuming it has a working assignment operator).     If you want a variable that can refer to different objects over time, you need a pointer.</p>\n\n<pre><code> ClassName *temp_obj = &amp;function1(function2);    // assumes function1() returns a reference\n\n temp_obj = &amp;function1(some_other_function);      //  reassigns the pointer\n\n temp_obj-&gt;method1();\n temp_obj-&gt;method2();\n</code></pre>\n"}], "owner": {"reputation": 854, "user_id": 5171360, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdd1b0d8d8eadd4461800a04ef24a640?s=128&d=identicon&r=PG&f=1", "display_name": "bigcodeszzer", "link": "https://stackoverflow.com/users/5171360/bigcodeszzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 36757145, "answer_count": 4, "score": 0, "last_activity_date": 1461206673, "creation_date": 1461195725, "last_edit_date": 1461200171, "question_id": 36757124, "link": "https://stackoverflow.com/questions/36757124/c-return-a-stdvector-member-by-reference-to-a-temporary-object", "title": "C++: return a std::vector&lt;&gt; member, by reference, to a temporary object", "body": "<p>I have two functions.</p>\n\n<p>function1 calls function2, which returns a reference to an object, that I then use to call a public function.</p>\n\n<pre><code>function1(function2).returned_object.mymethod();\n</code></pre>\n\n<p>This is a fairly unwieldy way to do things, but it works.</p>\n\n<p>Now I have a problem where I need to call one method, then another method, so I need a temporary object.</p>\n\n<pre><code>ClassName temp_obj = function1(function2);\n\ntemp_obj.method1();\ntemp_obj.method2();\n</code></pre>\n\n<p>My question is, how can I declare a temporary object that will store the object that returns by reference. I'm guessing I need a pointer.</p>\n\n<p>The other problem is, temp_obj is contained in a vector, and I'm concerned about conflicts there and memory leakage. If I use a pointer, will I then have to use a destructor also?</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>bool Machine::perform_function(std::vector&lt;Job&gt;&amp; jobs) {\n    bool add = true;\n\n    if (can_fail) {\n        add = coin_toss();\n\n    }\n\n    for (int i = 0; i &lt; my_jobs.size(); i++) {\n\n        if (add) {\n            find_job(my_jobs[i], jobs).toggle(name, item_name, true);\n\n        }\n        if (!add) {\n            find_job(my_jobs[i], jobs).toggle(name, item_name, false);\n\n        }\n    }\n\n    return add;\n}\n\n\nJob&amp; Machine::find_job(std::string jobname, std::vector&lt;Job&gt;&amp; jobs) {\n\n    for (int i = 0; i &lt; jobs.size(); i++) {\n\n        if (jobs[i].is_job(jobname)) {\n            return jobs[i];\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qdialog", "qt-signals", "slot"], "comments": [{"owner": {"reputation": 2418, "user_id": 1144539, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/babed14d18f0888997cadb8fc1a89b18?s=128&d=identicon&r=PG", "display_name": "JKSH", "link": "https://stackoverflow.com/users/1144539/jksh"}, "edited": false, "score": 0, "creation_date": 1461216397, "post_id": 36756923, "comment_id": 61099616, "body": "Please clarify: What doesn&#39;t work? The push button doesn&#39;t launch the dialog? The checkbox doesn&#39;t change the text? Something else?"}, {"owner": {"reputation": 47, "user_id": 5424687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f5d448a52114f9ff525da03f070020?s=128&d=identicon&r=PG&f=1", "display_name": "madde", "link": "https://stackoverflow.com/users/5424687/madde"}, "reply_to_user": {"reputation": 2418, "user_id": 1144539, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/babed14d18f0888997cadb8fc1a89b18?s=128&d=identicon&r=PG", "display_name": "JKSH", "link": "https://stackoverflow.com/users/1144539/jksh"}, "edited": false, "score": 0, "creation_date": 1461275472, "post_id": 36756923, "comment_id": 61138587, "body": "emitting / receiving the signal back to the mainwindow didn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5424687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f5d448a52114f9ff525da03f070020?s=128&d=identicon&r=PG&f=1", "display_name": "madde", "link": "https://stackoverflow.com/users/5424687/madde"}, "edited": false, "score": 0, "creation_date": 1461275542, "post_id": 36763108, "comment_id": 61138621, "body": "you are very certainly right and the code you provided was well written and worked just fine. Thank you so much - I wish I could buy you a beer for that."}], "tags": [], "owner": {"reputation": 366, "user_id": 6219719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1faa4196a2b58a5beac5dfc1ccde9b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Medvidov", "link": "https://stackoverflow.com/users/6219719/alexander-medvidov"}, "is_accepted": true, "score": 3, "last_activity_date": 1461229886, "last_edit_date": 1461229886, "creation_date": 1461224875, "answer_id": 36763108, "question_id": 36756923, "link": "https://stackoverflow.com/questions/36756923/qt-connect-signal-from-qdialog-with-main-window/36763108#36763108", "title": "QT connect Signal from QDialog with Main Window", "body": "<p>One problem is here:</p>\n\n<pre><code> connect(checkbox, SIGNAL(clicked()), this, SLOT(Page_Main3::checkboxClicked() ) );\n</code></pre>\n\n<p>The third argument - receiver - must be object whose slot called. In your case this must be Page_Main3, but you pass \"this\" - FindDialog.</p>\n\n<p>You must pass signal from QcheckBox through FindDialog and connect to signal from FindDialog. Example:</p>\n\n<pre><code>class Page_Main3 : public QWizardPage\n{\n  ...\nprivate slots:\n    ...\n    void OnCheckBoxClicked();\n    ...\n};\n\nclass FindDialog : public QDialog\n{\n   ...\nsignals:\n    void checkboxClicked();\n   ...\n};\n\nFindDialog::FindDialog(QWidget *parent)\n{\n     checkbox = new QCheckBox(tr(\"Advanced Options\"));\n     connect(checkbox, &amp;QCheckBox::clicked, this, &amp;FindDialog::checkboxClicked);\n     ...\n}\n\nvoid Page_Main3::btnOptionsbuttonsClicked(QString mode)\n{\n    FindDialog *dialog = new FindDialog(this);\n    connect(dialog, &amp;FindDialog::checkboxClicked, this, &amp;Page_Main3::OnCheckBoxClicked);\n    ...\n}\n\nvoid Page_Main3::OnCheckBoxClicked()\n{\n    receiver-&gt;setText(\"Checkbox clicked!\");\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5424687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f5d448a52114f9ff525da03f070020?s=128&d=identicon&r=PG&f=1", "display_name": "madde", "link": "https://stackoverflow.com/users/5424687/madde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3644, "favorite_count": 1, "accepted_answer_id": 36763108, "answer_count": 1, "score": 1, "last_activity_date": 1514265110, "creation_date": 1461194424, "last_edit_date": 1514265110, "question_id": 36756923, "link": "https://stackoverflow.com/questions/36756923/qt-connect-signal-from-qdialog-with-main-window", "title": "QT connect Signal from QDialog with Main Window", "body": "<p>I'm probably missing something so basic, that I'll be ashamed once you point it out to me, but right now I've been working on this matter for nearly 3 days, so I think it might be time to get some help.</p>\n\n<p>I have a QWizardProject on qt5 and for one of these pages I want a QPushButton, that launches a new Dialog, where I have a QCheckbox (among others). Signals from the QCheckbox should change the QLineEdit on the QWizardPage.\nSounds simple enough, I just can't get it to work - at all. I've tried out so many different versions of that (most of them failed building). The most recent version just does nothing. Thanks for any help in advance!</p>\n\n<p>main.h</p>\n\n<pre><code>#ifndef main_H\n#define main_H\n\n#include &lt;QWizard&gt;\n#include &lt;QtWidgets&gt;\n\nclass QCheckBox;\nclass QLabel;\nclass QLineEdit;\nclass QRadioButton;\n\nclass OMVGguiWizard : public QWizard\n{\n    Q_OBJECT\n\npublic:\n    enum { Page_Main1, Page_Main2, Page_Main3};\n\n    OMVGguiWizard(QWidget *parent = 0);\n};\n\nclass Page_Main3 : public QWizardPage\n{\n    Q_OBJECT;\n\npublic:\n    Mainpage_3(QWidget *parent = 0);\n\nprivate slots:\n    void btnOptionsbuttonsClicked(QString mode);\nprivate:\n    QPushButton *OptionsButton;\n    QLineEdit *receiver;\n};\n\nclass FindDialog : public QDialog\n{\n     Q_OBJECT\n\npublic:\n     FindDialog(QWidget *parent = 0);\n\nprivate:\n     QCheckBox *checkbox;\n     QGridLayout *mainLayout;\n};\n\n#endif\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>Page_Main3::Page_Main3(QWidget *parent)\n    : QWizardPage(parent)\n{\n    // ...\n\n    DensifyOptionsButton = new QPushButton(tr(\"Densify Settings\"));\n    receiver = new QLineEdit(tr(\"empty\"));\n\n    connect(OptionsButton, &amp;QPushButton::clicked, [this]() { btnOptionsbuttonsClicked(\"field1\"); });\n\n    // ...\n}\n\nvoid Page_Main3::btnOptionsbuttonsClicked(QString mode)\n{\n     FindDialog *dialog = new FindDialog;\n     dialog-&gt;show();\n}\n\nvoid Page_Main3::checkboxClicked()\n{\nreceiver-&gt;setText(\"test\");\n}\n\nFindDialog::FindDialog(QWidget *parent)\n      : QDialog(parent)\n{\n     checkbox = new QCheckBox(tr(\"Advanced Options\"));\n     mainLayout = new QGridLayout;\n     mainLayout-&gt;addWidget(checkbox);\n     setLayout(mainLayout);\n     connect(checkbox, SIGNAL(clicked()), this, SLOT(Page_Main3::checkboxClicked() ) );\n}\n</code></pre>\n"}, {"tags": ["c++", "printf", "cin"], "comments": [{"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1461194993, "post_id": 36756910, "comment_id": 61093861, "body": "Yea @M.M They said to display a pointer --&gt; <a href=\"http://stackoverflow.com/questions/36756336/no-instance-of-overloaded-function-strcpy-s-matches-the-argument-list\" title=\"no instance of overloaded function strcpy s matches the argument list\">stackoverflow.com/questions/36756336/&hellip;</a>     .. And How do i fix? I Need help!! Btw im learning here: <a href=\"https://www.youtube.com/watch?v=aOVputhO2Ow&amp;index=21&amp;list=PLS1QulWo1RIYSyC6w2-rDssprPrEsgtVK\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1461195039, "post_id": 36756910, "comment_id": 61093871, "body": "Why are you mixing <code>printf</code> and <code>cout</code>?"}, {"owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 0, "creation_date": 1461195120, "post_id": 36756910, "comment_id": 61093895, "body": "Would it have killed you to trim off some of that graphic, which is 90 percent a sea of black?"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1461195139, "post_id": 36756910, "comment_id": 61093906, "body": "Isnt it the same thing? @Bob__ .. By same i mean doesnt it do the same thing?"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1461195163, "post_id": 36756910, "comment_id": 61093914, "body": "First of all, char is storing a single character. Secondly, why mix cout and printf?"}], "answers": [{"comments": [{"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 0, "creation_date": 1461195227, "post_id": 36757020, "comment_id": 61093937, "body": "cant i just do using namespace string; so i dont do std:: every time?"}, {"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 1, "creation_date": 1461195291, "post_id": 36757020, "comment_id": 61093956, "body": "You mean <code>using namespace std;</code>. also <code>cin&gt;&gt;book1.name;</code> will save the copy."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 3, "creation_date": 1461195338, "post_id": 36757020, "comment_id": 61093966, "body": "@AmanuelBogale you should learn from a book, C++ is not well suited to trial and error"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "edited": false, "score": 0, "creation_date": 1461195531, "post_id": 36757020, "comment_id": 61094017, "body": "Lol Yes @SHR ... Wow... M.M Any Books you would reccomend me? I was planning on first learning by viedo then book? Im not sure if its a good way lol"}, {"owner": {"reputation": 1611, "user_id": 2557235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/02veH.jpg?s=128&g=1", "display_name": "nathanesau", "link": "https://stackoverflow.com/users/2557235/nathanesau"}, "edited": false, "score": 0, "creation_date": 1461196850, "post_id": 36757020, "comment_id": 61094348, "body": "Maybe start with <code>The C Programming Language</code> (up to you) then for C++ try <code>C++ primer</code>, <code>A Tour of C++</code> or <code>Accelerated C++</code>. These are <b>generally</b> considered good books."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1461197006, "post_id": 36757020, "comment_id": 61094386, "body": "NOooooooooooo! Don&#39;t do <code>using namespace std;</code> <code>using std::string</code> is OK, but <code>using namespace std</code> pulls the entire c++ standard library into the global namespace. Before you know it your nice little <code>reverse</code> function is fighting it out with <code>std::reverse</code> for ownership of the name and completely insane, nigh unreadable error messages result. That way lies madness. MADNESS! Read more here: <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-in-c-considered-bad-practice\">Why is \u201cusing namespace std\u201d in C++ considered bad practice?</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461222747, "post_id": 36757020, "comment_id": 61102902, "body": "On which books to learn from, here&#39;s the official list: <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a>. If you are on a budget and can&#39;t afford Stroustrup&#39;s book, the first in the list and pretty much the gold standard if you have zero experience, he posts an abridged version here: <a href=\"https://isocpp.org/tour\" rel=\"nofollow noreferrer\">isocpp.org/tour</a> . Trying to learn C++ from the C Programming Language (a  great book for learning C) is not recommended. While the syntax of the two languages is very similar, they differ greatly at points and the ideologies of C and C++ are frequently at odds."}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 4, "last_activity_date": 1461195050, "creation_date": 1461195050, "answer_id": 36757020, "question_id": 36756910, "link": "https://stackoverflow.com/questions/36756910/unexpected-output-of-c-code/36757020#36757020", "title": "Unexpected Output of C++ Code", "body": "<p><code>char</code> means one single character. <code>bookName</code> is a single character.  <code>cin &gt;&gt; bookName;</code> stores the first character you type, and only that first character. </p>\n\n<p>Then <code>strcpy_s(book1.name, &amp;bookName);</code> causes undefined behaviour because the last argument is supposed to point to a string, but you supplied pointer to a single character instead. </p>\n\n<p>Also you used the wrong number of arguments to <code>strcpy_s</code>, the compiler should warn you about this. Always fix all compiler warnings/errors before running the program. There should also be a <code>#include</code> for <code>printf</code>.</p>\n\n<p><code>bookAuthor</code> has similar problems. To fix these problems, stop using chars and char arrays. Use <code>#include &lt;string&gt;</code> and then <code>std::string</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 5488, "user_id": 142039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/97d68220fba530e5c972a39f80bb95d2?s=128&d=identicon&r=PG", "display_name": "Arpegius", "link": "https://stackoverflow.com/users/142039/arpegius"}, "is_accepted": false, "score": 1, "last_activity_date": 1461195664, "creation_date": 1461195664, "answer_id": 36757118, "question_id": 36756910, "link": "https://stackoverflow.com/questions/36756910/unexpected-output-of-c-code/36757118#36757118", "title": "Unexpected Output of C++ Code", "body": "<p>You define <code>bookName</code> and <code>bookAuthor</code> as a single letter, a char.\nBy using: </p>\n\n<pre><code>cin &gt;&gt; bookName; \n</code></pre>\n\n<p>You read only one character, the rest of the line are still in buffer and will be read by next input operation.\nYou should define those variables with type <code>std::string</code>, which is defined in <code>string</code> header (<code>#include &lt;string&gt;</code>).</p>\n\n<pre><code>struct Book {\n    string name;\n    string author;\n    int id;\n    DATE date;\n};\n</code></pre>\n\n<p>and</p>\n\n<pre><code>string bookName, bookAuthor;\n</code></pre>\n\n<p>But you still will be reading only one word, without a leading space or any white space character, to read to the end of line you need to use <code>std::getline</code>:</p>\n\n<pre><code>getline( cin, bookName ); // read to the end of line, without new line char\nbook1.name = bookName; //simply copy string by assing\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 0, "creation_date": 1461197025, "post_id": 36757272, "comment_id": 61094391, "body": "you should try ... using namespace; but thanks a lot!!"}, {"owner": {"reputation": 1611, "user_id": 2557235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/02veH.jpg?s=128&g=1", "display_name": "nathanesau", "link": "https://stackoverflow.com/users/2557235/nathanesau"}, "reply_to_user": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 0, "creation_date": 1461197271, "post_id": 36757272, "comment_id": 61094457, "body": "For this example you&#39;re right! But sometimes that isn&#39;t a good practice"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 0, "creation_date": 1461198470, "post_id": 36757272, "comment_id": 61094788, "body": "Updated Code Nathan... Spot any problems with the author printing?"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "edited": false, "score": 0, "creation_date": 1461199407, "post_id": 36757272, "comment_id": 61095046, "body": "Guess what... the problem was with using std:: i had to use it... it was calling the wrong functions i think... gosh the 7th comment of first anwser was right..."}], "tags": [], "owner": {"reputation": 1611, "user_id": 2557235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/02veH.jpg?s=128&g=1", "display_name": "nathanesau", "link": "https://stackoverflow.com/users/2557235/nathanesau"}, "is_accepted": false, "score": 1, "last_activity_date": 1461196728, "creation_date": 1461196728, "answer_id": 36757272, "question_id": 36756910, "link": "https://stackoverflow.com/questions/36756910/unexpected-output-of-c-code/36757272#36757272", "title": "Unexpected Output of C++ Code", "body": "<p>Just for reference!</p>\n\n<p>Generally prefer <code>cout</code> and <code>cin</code> to <code>printf</code> in C++. Also, you don't need to worry about <code>std::string</code> here - just read directly to the struct.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nstruct DATE \n{\n   int Year;\n   int Month;\n   int Date;\n};\n\nstruct Book \n{\n   char  Name   [50];\n   char  Author [50];\n};\n\n\nint main() \n{\n   Book Book1;\n   DATE Date1;\n\n   std::cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; std::endl;\n   std::cin &gt;&gt; Date1.Date;\n   std::cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; std::endl;\n   std::cin &gt;&gt; Date1.Month;\n   std::cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; std::endl;\n   std::cin &gt;&gt; Date1.Year;\n\n   std::cout &lt;&lt; \"Book Name ? \" &lt;&lt; std::endl;\n   std::cin &gt;&gt; Book1.Name;\n\n   std::cout &lt;&lt; \"********** \\n\";\n\n   std::cout &lt;&lt; \"Book Author ? \" &lt;&lt; std::endl;\n   std::cin &gt;&gt; Book1.Author;\n\n   std::cout &lt;&lt; \"Book Name \\n\" &lt;&lt; Book1.Name &lt;&lt; std::endl;\n   std::cout &lt;&lt; \"Book Author \\n\" &lt;&lt; Book1.Author &lt;&lt; std::endl;\n   return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 36757020, "answer_count": 3, "score": 0, "last_activity_date": 1461200070, "creation_date": 1461194336, "last_edit_date": 1461200070, "question_id": 36756910, "link": "https://stackoverflow.com/questions/36756910/unexpected-output-of-c-code", "title": "Unexpected Output of C++ Code", "body": "<p>Ok Guys... Im Just trying to practice structs here and i made this C++ Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nstruct DATE {\n    int year;\n    int month;\n    int date;\n};\nstruct Book {\n    char name[50];\n    char author[50];\n    int id;\n    DATE date;\n};\n\nint main() {\n     Book book1;\n     DATE date1;\n     char bookName, bookAuthor,*bookNamePointer = \"\", *bookAuthorPointer = \"\";\n     int date, year, month;\n\n     cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; endl;\n     cin &gt;&gt; date;\n     cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; month;\n     cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; year;\n     date1.year = year;\n     date1.month = month;\n     date1.date = date;\n\n     cout &lt;&lt; \"Book Name ? \" &lt;&lt; endl;\n     cin &gt;&gt; bookName;\n\n     printf(\"********** \\n\");\n\n     cout &lt;&lt; \"Book Author ? \" &lt;&lt; endl;\n     cin &gt;&gt; bookAuthor;\n\n\n\n     strcpy_s(book1.name, &amp;bookName);\n     strcpy_s(book1.author, &amp;bookAuthor);\n     printf(\"Book Name %s \\n\", book1.name);\n     printf(\"Book Author %s \\n\", book1.author);\n    return 0;\n}\n</code></pre>\n\n<p>Well Obviously here the user just enters the name of book,author,and so on... Well it did that but it stopped me when i reached inputing the Book Author... Meaning the I couldnt get the book author, and gave me the most wierdest anwser for my printf(); i havent seen anything wierd like this yet. I Think i will need to demonstrate an image(btw no warnings or error):\n<a href=\"https://i.stack.imgur.com/7PRG8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7PRG8.png\" alt=\"enter image description here\"></a></p>\n\n<h2>EDIT</h2>\n\n<p>After i use std::string....</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstruct DATE {\n    int year;\n    int month;\n    int date;\n};\nstruct Book {\n    char name[50];\n    char author[50];\n    int id;\n    DATE date;\n};\n\nint main() {\n     Book book1;\n     DATE date1;\n     std::string bookName, bookAuthor;\n     int date, year, month;\n\n     cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; endl;\n     cin &gt;&gt; date;\n     cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; month;\n     cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; year;\n     date1.year = year;\n     date1.month = month;\n     date1.date = date;\n\n     cout &lt;&lt; \"Book Name ? \" &lt;&lt; endl;\n     cin &gt;&gt; bookName;\n\n     printf(\"********** \\n\");\n\n     cout &lt;&lt; \"Book Author ? \" &lt;&lt; endl;\n     cin &gt;&gt; bookAuthor;\n\n\n\n    /* strcpy_s(book1.name, &amp;bookName);\n     strcpy_s(book1.author, &amp;bookAuthor);\n     printf(\"Book Name %s \\n\", book1.name);\n     printf(\"Book Author %s \\n\", book1.author);*/\n    return 0;\n}\n</code></pre>\n\n<p>I Actually dont get to type for Book Author.. It Just stops. and say press a key to continue... Please Help!</p>\n\n<h2>EDIT2</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nstruct DATE {\n    int year;\n    int month;\n    int date;\n};\nstruct Book {\n    char name[50];\n    char author[50];\n    int id;\n    DATE date;\n};\n\nint main() {\n     Book book1;\n     DATE date1;\n     int date, year, month;\n\n     cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; endl;\n     cin &gt;&gt; date;\n     cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; month;\n     cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; year;\n     date1.year = year;\n     date1.month = month;\n     date1.date = date;\n\n     cout &lt;&lt; \"Book Name ? \" &lt;&lt; endl;\n     cin &gt;&gt; book1.name;\n\n     cout &lt;&lt; \"Book Author ? \" &lt;&lt; endl;\n     cin &gt;&gt; book1.author;\n\n     cout &lt;&lt; \"Book Author: \" &lt;&lt;book1.author &lt;&lt; endl;\n     cout &lt;&lt; \"Book Name: \" &lt;&lt; book1.name &lt;&lt; endl;\n     cout &lt;&lt; \"Date : \" &lt;&lt; book1.date.month &lt;&lt; \"/\" &lt;&lt; book1.date.date &lt;&lt; \"/\" &lt;&lt; book1.date.year;\n\n    return 0;\n}\n</code></pre>\n\n<p>Im Solid for almost everything but it dosent let me type for the author!!! Look at the image to be more descriptive:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cQMe1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQMe1.png\" alt=\"enter image description here\"></a></p>\n\n<h2>SOLUTION</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\n\n\nstruct DATE {\n    int year;\n    int month;\n    int date;\n};\nstruct Book {\n    char name[50];\n    char author[50];\n    int id;\n    DATE date;\n};\n\nint main() {\n     Book book1;\n     DATE date1;\n\n     std::cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; std::endl;\n     std::cin &gt;&gt; book1.date.date;\n     std::cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; std::endl;\n     std::cin &gt;&gt; book1.date.month;\n     std::cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; std::endl;\n     std::cin &gt;&gt; book1.date.year;\n\n\n     std::cout &lt;&lt; \"Book Name ? \" &lt;&lt; std::endl;\n     std::cin &gt;&gt; book1.name;\n\n     std::cout &lt;&lt; \"Book Author ? \" &lt;&lt; std::endl;\n     std::cin &gt;&gt; book1.author;\n\n     std::cout &lt;&lt; \"Book Author: \" &lt;&lt;book1.author &lt;&lt; std::endl;\n     std::cout &lt;&lt; \"Book Name: \" &lt;&lt; book1.name &lt;&lt; std::endl;\n     std::cout &lt;&lt; \"Date : \" &lt;&lt; book1.date.month &lt;&lt; \"/\" &lt;&lt; book1.date.date &lt;&lt; \"/\" &lt;&lt; book1.date.year &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["java", "android", "c++"], "comments": [{"owner": {"reputation": 256, "user_id": 2589844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDmHn.jpg?s=128&g=1", "display_name": "fetherolfjd", "link": "https://stackoverflow.com/users/2589844/fetherolfjd"}, "edited": false, "score": 0, "creation_date": 1461207729, "post_id": 36756863, "comment_id": 61097076, "body": "Sooooo, what you&#39;re saying is you would like help to either a) translate this Java code to C++ or b) cross compile it?"}], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 132296, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0ec63faaf9bdf72cb610f23f7579ef46?s=128&d=identicon&r=PG", "display_name": "HX_unbanned", "link": "https://stackoverflow.com/users/132296/hx-unbanned"}, "edited": false, "score": 0, "creation_date": 1566891531, "post_id": 36817354, "comment_id": 101787174, "body": "Please mark this as solved by yourself, @Chrometobia"}], "tags": [], "owner": {"reputation": 405, "user_id": 6107030, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ba5c431c4e434eb54a453a9ca7b6f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Chrometobia", "link": "https://stackoverflow.com/users/6107030/chrometobia"}, "is_accepted": false, "score": 0, "last_activity_date": 1461451995, "creation_date": 1461451995, "answer_id": 36817354, "question_id": 36756863, "link": "https://stackoverflow.com/questions/36756863/generating-c-header-file-android/36817354#36817354", "title": "Generating C++ header file android", "body": "<p>I finally found out the reason why my code was not generating any <code>header</code> or <code>.so</code> files, firstly it seems sometimes <code>ndk</code> can be a bit off, like mine, it was simply not working, no errors nothing. I managed to generate the header files manually, I navigated to my <code>java</code> directory through <code>cmd</code> as <code>admin</code> to avoid any errors that might need administrative rights then entered the command <code>javah -d jni -classpath c/path/to/android/sdk/compileplatform/android.jar; c/path/to/app/build/intermediates/classes/debug -force com.package.containing.my.class.andtheclassitself</code>\nthis generated the header file, then I went on and navigated to the <code>ndk</code> root directory and entered the command <code>ndk-build NDK_PROJECT_PATH=c/path/to/my/app/src/main APP_BUID_SCRIPT=c/path/to/my/project/Android.mk</code> this compiled my <code>.so</code> files.</p>\n"}], "owner": {"reputation": 405, "user_id": 6107030, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ba5c431c4e434eb54a453a9ca7b6f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Chrometobia", "link": "https://stackoverflow.com/users/6107030/chrometobia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461451995, "creation_date": 1461194069, "question_id": 36756863, "link": "https://stackoverflow.com/questions/36756863/generating-c-header-file-android", "title": "Generating C++ header file android", "body": "<p>I have been trying to create a <code>C++ header</code> file for 3 days now, I downloaded a project on Github that uses <code>C++</code>, the issue is I want to modify the project as it only runs on <code>armeabi-v7a</code> architecture. I want to generate <code>.so</code> files for both <code>armeabi-v7a</code> and <code>x86</code>, below is the java class:</p>\n\n<pre><code>package me.myname.scanner.scanlibrary\n/**\n* Created by jhansi on 28/03/15.\n */\n\npublic class ScanActivity extends Activity implements IScanner {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.scan_layout);\n    init();\n}\n\nprivate void init() {\n    PickImageFragment fragment = new PickImageFragment();\n    Bundle bundle = new Bundle();\n    bundle.putInt(ScanConstants.OPEN_INTENT_PREFERENCE, getPreferenceContent());\n    fragment.setArguments(bundle);\n    android.app.FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.add(R.id.content, fragment);\n    fragmentTransaction.commit();\n}\n\nprotected int getPreferenceContent() {\n    return getIntent().getIntExtra(ScanConstants.OPEN_INTENT_PREFERENCE, 0);\n}\n\n@Override\npublic void onBitmapSelect(Uri uri) {\n    ScanFragment fragment = new ScanFragment();\n    Bundle bundle = new Bundle();\n    bundle.putParcelable(ScanConstants.SELECTED_BITMAP, uri);\n    fragment.setArguments(bundle);\n    android.app.FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.add(R.id.content, fragment);\n    fragmentTransaction.addToBackStack(ScanFragment.class.toString());\n    fragmentTransaction.commit();\n}\n\n@Override\npublic void onScanFinish(Uri uri) {\n    ResultFragment fragment = new ResultFragment();\n    Bundle bundle = new Bundle();\n    bundle.putParcelable(ScanConstants.SCANNED_RESULT, uri);\n    fragment.setArguments(bundle);\n    android.app.FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.add(R.id.content, fragment);\n    fragmentTransaction.addToBackStack(ResultFragment.class.toString());\n    fragmentTransaction.commit();\n}\n\npublic native Bitmap getScannedBitmap(Bitmap bitmap, float x1, float y1, float x2, float y2, float x3, float y3, float x4, float y4);\n\npublic native Bitmap getGrayBitmap(Bitmap bitmap);\n\npublic native Bitmap getMagicColorBitmap(Bitmap bitmap);\n\npublic native Bitmap getBWBitmap(Bitmap bitmap);\n\npublic native float[] getPoints(Bitmap bitmap);\n\nstatic {\n    System.loadLibrary(\"opencv_java\");\n    System.loadLibrary(\"Scanner\");\n}\n</code></pre>\n\n<p>The Android.mk file:</p>\n\n<pre><code>LOCAL_PATH := $(call my-dir)\n//point of mofication\nAPP_ABI := x86 armeabi\ninclude $(CLEAR_VARS)\nOPENCV_INSTALL_MODULES:=on\ninclude sdk/native/jni/OpenCV.mk\n\nLOCAL_MODULE    := Scanner\nLOCAL_SRC_FILES := scan.cpp\nLOCAL_LDLIBS    += -lm -llog -landroid\nLOCAL_LDFLAGS += -ljnigraphics\ninclude $(BUILD_SHARED_LIBRARY)\n</code></pre>\n\n<p>Application.mk </p>\n\n<pre><code>APP_STL := stlport_static\nAPP_CPPFLAGS := -frtti -fexceptions\nAPP_ABI :=  x86 armeabi\nAPP_PLATFORM := android-14\n</code></pre>\n\n<p>Top level gradle.build</p>\n\n<pre><code>android {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.1\"\ndefaultConfig {\n    applicationId \"me.myname.scanner\"\n    minSdkVersion 15\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n    multiDexEnabled false\n    ndk\n            {\n                moduleName \"Scanner\"\n            }\n}\n\n\nsourceSets.main\n        {\n            jni.srcDirs = []\n            jniLibs.srcDir 'src/main/libs'\n        }\n\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\nproductFlavors {\n}\n</code></pre>\n\n<p>}</p>\n\n<p>gradle.properties</p>\n\n<pre><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your \n  build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\n# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -  XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n#   \n\n http://www.gradle.org/docs/current/userguide/\n multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n\nandroid.useDeprecatedNdk=true\n</code></pre>\n\n<p>But even after all this I cannot generate both the <code>Header</code> file and <code>.so</code>, my project structure is as shown in the image </p>\n\n<p><a href=\"https://i.stack.imgur.com/LfIKJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfIKJ.jpg\" alt=\"Project Structure\"></a></p>\n\n<p>This is my first time dealing with <code>JNI</code>, I have read and watched a bunch of videos, its not working for me. All help will be highly appreciated.</p>\n"}, {"tags": ["c++", "oop", "polymorphism", "late-binding"], "comments": [{"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1461194264, "post_id": 36756856, "comment_id": 61093671, "body": "Commenting in your code would help."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1461194323, "post_id": 36756856, "comment_id": 61093684, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 0, "creation_date": 1461194360, "post_id": 36756856, "comment_id": 61093692, "body": "<a href=\"https://isocpp.org/wiki/faq/proper-inheritance#array-derived-vs-base\" rel=\"nofollow noreferrer\">isocpp.org/wiki/faq/proper-inheritance#array-derived-vs-base</a>"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1461205593, "post_id": 36756856, "comment_id": 61096518, "body": "<code>void main</code> is not valid in either C or C++. This makes it less easy for people to try your code, and it misleads newbies into an ungood habit. Please don&#39;t post code with <code>void main</code>. Fixed that for you. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1611, "user_id": 2557235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/02veH.jpg?s=128&g=1", "display_name": "nathanesau", "link": "https://stackoverflow.com/users/2557235/nathanesau"}, "edited": false, "score": 1, "creation_date": 1461210185, "post_id": 36758538, "comment_id": 61097691, "body": "Sorry you&#39;re correct - my answer was wrong. I deleted it and upvoted yours!"}], "tags": [], "owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": true, "score": 2, "last_activity_date": 1461206320, "last_edit_date": 1461206320, "creation_date": 1461205813, "answer_id": 36758538, "question_id": 36756856, "link": "https://stackoverflow.com/questions/36756856/latebinding-with-dynamic-memory/36758538#36758538", "title": "LateBinding with dynamic memory", "body": "<p>An array of <code>Base</code> is not an array of <code>Derived</code>. A <code>Derived</code> instance can be larger than a <code>Base</code>, and then address calculations go haywire when the array is treated as array of <code>Base</code>. For this reason the standard specifies <strong>Undefined Behavior</strong> in this case.</p>\n\n<p>Instead you can use an array of pointers to <code>Base</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 5457646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f1bde5b58381ed2acb8714f99c604e19?s=128&d=identicon&r=PG&f=1", "display_name": "Bun", "link": "https://stackoverflow.com/users/5457646/bun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 36758538, "answer_count": 1, "score": 1, "last_activity_date": 1461206320, "creation_date": 1461194042, "last_edit_date": 1461205528, "question_id": 36756856, "link": "https://stackoverflow.com/questions/36756856/latebinding-with-dynamic-memory", "title": "LateBinding with dynamic memory", "body": "<p>I have Base and Derive class at the below which related to polymorphism (Latebinding) :</p>\n\n<pre><code> class Base\n{\n....\n};\n\nclass Derive:public Base\n{\n....\n};\n\nint main()\n{\n  int n;\n  cin&gt;&gt;n;\n  Base *pt;\n  pt=new Derive[n];\n\n  for(int i=0;i&lt;n;i++)\n     pt[i].Input(); \n}\n</code></pre>\n\n<p>While i was inputting the first index of pt[0] it's fine, but in index[1] the program is forced to close. Any idea ?? Thank in advanced.</p>\n"}, {"tags": ["c++", "multithreading", "c++11"], "comments": [{"owner": {"reputation": 2969, "user_id": 4683600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcf47e6c220e1d2bf49575565b46da5?s=128&d=identicon&r=PG&f=1", "display_name": "bku_drytt", "link": "https://stackoverflow.com/users/4683600/bku-drytt"}, "edited": false, "score": 1, "creation_date": 1461193848, "post_id": 36756797, "comment_id": 61093561, "body": "Did you mean <code>map&lt;string, ReadersWritersLock*&gt;</code>?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461193860, "post_id": 36756797, "comment_id": 61093562, "body": "<code>map&lt;string, *ReadersWritersLock&gt;</code> Don&#39;t think you want the <code>*</code> there. Maybe after <code>ReadersWritersLock</code>, but that&#39;s iffy, too. Probably don&#39;t want a pointer at all."}, {"owner": {"reputation": 535, "user_id": 3436782, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f093780098a4a163b287fe4f89be462?s=128&d=identicon&r=PG&f=1", "display_name": "jason adams", "link": "https://stackoverflow.com/users/3436782/jason-adams"}, "edited": false, "score": 0, "creation_date": 1461193916, "post_id": 36756797, "comment_id": 61093574, "body": "wow, yeah, that makes a world of difference, so stupid"}, {"owner": {"reputation": 52186, "user_id": 1553090, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wj4s1.png?s=128&g=1", "display_name": "paddy", "link": "https://stackoverflow.com/users/1553090/paddy"}, "edited": false, "score": 1, "creation_date": 1461195748, "post_id": 36756797, "comment_id": 61094068, "body": "If not using pointers, you will need to use <code>std::map::emplace</code> to assign, and possibly define a move-constructor for your class.  You might also want to define some interfaces to make the read and write locks meet the requirements of <i>BasicLockable</i>.  That way you can use it with <code>std::unique_lock</code> and others."}], "owner": {"reputation": 535, "user_id": 3436782, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f093780098a4a163b287fe4f89be462?s=128&d=identicon&r=PG&f=1", "display_name": "jason adams", "link": "https://stackoverflow.com/users/3436782/jason-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461193750, "creation_date": 1461193750, "question_id": 36756797, "link": "https://stackoverflow.com/questions/36756797/how-to-declare-and-insert-into-a-map-of-locks", "title": "how to declare and insert into a map of locks", "body": "<p>I have this very simple reader writer lock class. I am trying to create a map of strings and pointers to this readers writers lock. I am aware that there are pthread reader writer locks but this is for a class and I need to implement one on my own. I'm using c++11 threads.</p>\n\n<pre><code>    class ReadersWritersLock{\n        private:\n        mutex mtx;\n        condition_variable_any readers_wait;\n        condition_variable_any writers_wait;\n        int writers;\n        int readers;\n\n        public:\n        ReadersWritersLock(){\n            writers = 0;\n            readers = 0;\n        }\n        void r_lock(){\n            mtx.lock();\n            while(writers){\n                readers_wait.wait(mtx);\n            }\n            readers++;\n            mtx.unlock();\n        }\n        void r_unlock(){\n            mtx.lock();\n            readers--;\n            if (!readers)\n                writers_wait.notify_one();\n            mtx.unlock();\n        }\n        void w_lock(){\n             mtx.lock();\n             while (readers + writers &gt; 0){\n                 writers_wait.wait(mtx);\n             }\n             writers++;\n             mtx.unlock();\n         }\n         void w_unlock(){\n             mtx.lock();\n             writers--;\n             if (!readers){\n                 writers_wait.notify_one();\n             }\n             if (readers){\n                 readers_wait.notify_all();}\n             mtx.unlock();\n          }\n};\n</code></pre>\n\n<p>What I'd like to do is to declare right after the class is:</p>\n\n<pre><code>map&lt;string, *ReadersWritersLock&gt; myMap // this doesn't compile\n</code></pre>\n\n<p>But I'm getting: template argument 2 is invalid</p>\n\n<p>and then when I try to insert a lock:</p>\n\n<pre><code>ReadersWritersLock *rwlock = new ReadersWritersLock;\npathnameToLocks[\"abc\"] = rwlock; // this is an doesn't compile\n</code></pre>\n\n<p>I'm getting: assignment of read-only location \u2018\"abc\"[myMap]\u2019\nIf the above operations are illegal because I'm dealing with locks, is there a workaround?</p>\n"}, {"tags": ["c++", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "is_accepted": true, "score": 3, "last_activity_date": 1461192968, "creation_date": 1461192968, "answer_id": 36756648, "question_id": 36756531, "link": "https://stackoverflow.com/questions/36756531/how-can-i-write-a-template-to-check-if-a-given-value-is-in-an-array/36756648#36756648", "title": "How can I write a template to check if a given value is in an array", "body": "<p>The type for <code>Contains</code> is wrong so that <code>container</code> was deduced to be <code>const int *&amp;</code>, which have no override for <code>std:begin</code></p>\n\n<p>Error message from g++ is more clear:</p>\n\n<blockquote>\n  <p>main.cpp: In instantiation of \u2018bool Contains(const Type*, const Type&amp;)\n  [with Type = int]\u2019: main.cpp:18:34:   required from here</p>\n  \n  <p>main.cpp:9:17: error: no matching function for call to \u2018begin(const\n  int*&amp;)\u2019</p>\n</blockquote>\n\n<p>This is fixed code. You need to pass the array as array type (<code>int[3]</code>) in order for <code>std::end</code> to figure out the length of array from the type.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\ntemplate &lt;typename Type, std::size_t N&gt;\nbool Contains(Type (&amp;container)[N], const Type&amp; value) {\n  return std::any_of(\n      std::begin(container), std::end(container),\n      [&amp;value](const Type&amp; contained_value) { return value == contained_value; });\n}\n\nint main()\n{\n    int a[] = {1,2,3};\n    int val = 1;\n    int val2 = 4;\n    bool result = Contains(a, val);\n    bool result2 = Contains(a, val2);\n    std::cout &lt;&lt; result &lt;&lt; std::endl;\n    std::cout &lt;&lt; result2 &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 2607, "user_id": 2592962, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6vDLz.jpg?s=128&g=1", "display_name": "Will Beason", "link": "https://stackoverflow.com/users/2592962/will-beason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 36756648, "answer_count": 1, "score": 1, "last_activity_date": 1461192968, "creation_date": 1461192266, "last_edit_date": 1495535636, "question_id": 36756531, "link": "https://stackoverflow.com/questions/36756531/how-can-i-write-a-template-to-check-if-a-given-value-is-in-an-array", "title": "How can I write a template to check if a given value is in an array", "body": "<p>Per an answer to <a href=\"https://stackoverflow.com/questions/19299508/how-can-i-check-if-given-int-exists-in-array\">this previous question</a>, I wrote the template below which should return true if the array contains the passed value, and false otherwise.</p>\n\n<pre><code>template &lt;typename Type&gt;\nbool Contains(const Type container[], const Type&amp; value) {\n  return std::any_of(\n      std::begin(container), std::end(container),\n      [&amp;value](const Type&amp; contained_value) { return value == contained_value; });\n}\n</code></pre>\n\n<p>When I try to compile, I get the following error:</p>\n\n<pre><code>error: no matching function for call to 'begin'\n      std::begin(container), std::end(container),\n</code></pre>\n\n<p>What is causing <code>std::begin</code> to fail? The <a href=\"http://en.cppreference.com/w/cpp/iterator/begin\" rel=\"nofollow noreferrer\">std::begin documentation</a> shows it works with arrays. In this specific instance, I am instantiating the template on an enum (not an enum class).</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1461192164, "post_id": 36756462, "comment_id": 61092985, "body": "<code>std::numeric_limits&lt;int&gt;::infinity</code> is not useful anyways, integers have no inf. Use max instead."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1461192233, "post_id": 36756462, "comment_id": 61093013, "body": "<code>std::numeric_limits&lt;int&gt;::infinity()</code> returns <code>0</code> (according to <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/infinity\" rel=\"nofollow noreferrer\">cppreference</a>)."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1461192552, "post_id": 36756462, "comment_id": 61093125, "body": "What is the actual line that the compiler complains about? Line 44 is not useful to us."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1461192562, "post_id": 36756462, "comment_id": 61093128, "body": "It would also be nice if you posted a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or at least told us which line in your example the error occurs in. Probably some <code>using namespace std;</code> related nonsense though, like the compiler picking up <code>std::max</code> where you try to use the variable <code>max</code> or what not. LPT: Forget about  <code>using namespace std;</code>, it does more harm than good."}, {"owner": {"reputation": 589, "user_id": 3942940, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/43f4f9480740f15a0107f93d710e54d4?s=128&d=identicon&r=PG&f=1", "display_name": "P.A", "link": "https://stackoverflow.com/users/3942940/p-a"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1461192711, "post_id": 36756462, "comment_id": 61093185, "body": "@BaummitAugen: I changed it by std::numeric_limits&lt;int&gt;::max() and I got the same errors.I added -std=c++11 and same errors"}, {"owner": {"reputation": 589, "user_id": 3942940, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/43f4f9480740f15a0107f93d710e54d4?s=128&d=identicon&r=PG&f=1", "display_name": "P.A", "link": "https://stackoverflow.com/users/3942940/p-a"}, "reply_to_user": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1461192759, "post_id": 36756462, "comment_id": 61093204, "body": "@callyalater: line 44 refers to this:const auto infinity = std::numeric_limits&lt;int&gt;::infinity();"}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 1, "creation_date": 1461192812, "post_id": 36756462, "comment_id": 61093227, "body": "Then something is wrong with your installation, or your code differs from your description.   Assuming the <code>#include &lt;limits&gt;</code> occurs in the same source file, and BEFORE your offending code, I get no problems with gcc.   In short:  error cannot be reproduced."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1461192893, "post_id": 36756462, "comment_id": 61093261, "body": "That first comment of mine just pointed out an unrelated error, it was not supposed to be an answer. Anyways, the code you show looks fine, so please post an MCVE."}, {"owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "edited": false, "score": 0, "creation_date": 1461193302, "post_id": 36756462, "comment_id": 61093387, "body": "Can you show us more of your class code?"}], "answers": [{"comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1461194093, "post_id": 36756705, "comment_id": 61093631, "body": "Btw, <i>&quot;using infinity is probably not a great way of checking things&quot;</i> is somewhat of an understatement, it is flat out nonsense (when used with integers, for floating point numbers it&#39;s the way to go). May be worth to change that to avoid confusing beginners/people too lazy to read your links."}], "tags": [], "owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "is_accepted": true, "score": 1, "last_activity_date": 1461195042, "last_edit_date": 1461195042, "creation_date": 1461193228, "answer_id": 36756705, "question_id": 36756462, "link": "https://stackoverflow.com/questions/36756462/error-infinity-does-not-name-a-type/36756705#36756705", "title": "error: \u2018infinity\u2019 does not name a type", "body": "<p>It seems likely that you are not compiling with C++11 or higher, since your compiler is complaining about the following line:</p>\n\n<pre><code>const auto infinity = std::numeric_limits&lt;int&gt;::infinity();\n</code></pre>\n\n<p>Assuming you have indeed included <a href=\"http://en.cppreference.com/w/cpp/header/limits\" rel=\"nofollow\"><code>#include &lt;limits&gt;</code></a>, there is nothing wrong with that line except the use of <code>auto</code>. Without C++11, the compiler doesn't know what <code>auto</code> is. Compile with C++11 or higher, or change <code>auto</code> to <code>int</code>.</p>\n\n<p>Unrelated, and this was pointed out in the comments, but using <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/infinity\" rel=\"nofollow\"><code>numeric_limits&lt;int&gt;::infinity</code></a> is an awful, awful way of checking things. It doesn't make any sense to make an <code>int</code> comparison in regards to infinity. Prefer to use <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/max\" rel=\"nofollow\"><code>numeric_limits&lt;int&gt;::max</code></a> instead (or whatever else suits your purposes).</p>\n"}], "owner": {"reputation": 589, "user_id": 3942940, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/43f4f9480740f15a0107f93d710e54d4?s=128&d=identicon&r=PG&f=1", "display_name": "P.A", "link": "https://stackoverflow.com/users/3942940/p-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 1, "accepted_answer_id": 36756705, "answer_count": 1, "score": 2, "last_activity_date": 1461195042, "creation_date": 1461191911, "question_id": 36756462, "link": "https://stackoverflow.com/questions/36756462/error-infinity-does-not-name-a-type", "title": "error: \u2018infinity\u2019 does not name a type", "body": "<p>I have a program which contain many cpp files,I try to create a makefile but when I run it I got some errors related to this function:</p>\n\n<pre><code>void replace_infinites(cv::Mat_&lt;int&gt;&amp; matrix) {\nconst unsigned int rows = matrix.rows,columns = matrix.cols;\n//  assert( rows &gt; 0 &amp;&amp; columns &gt; 0 );\nif(rows==0 || columns==0)\n    return;\ndouble max = matrix(0, 0);\nconst auto infinity = std::numeric_limits&lt;int&gt;::infinity();\n\n// Find the greatest value in the matrix that isn't infinity.\nfor ( unsigned int row = 0 ; row &lt; rows ; row++ ) {\n    for ( unsigned int col = 0 ; col &lt; columns ; col++ ) {\n        if ( matrix(row, col) != infinity ) {\n            if ( max == infinity ) {\n                max = matrix(row, col);\n            } else {\n                max = std::max&lt;int&gt;(max, matrix(row, col));\n            }\n        }\n    }\n}\n\n// a value higher than the maximum value present in the matrix.\nif ( max == infinity ) {\n    // This case only occurs when all values are infinite.\n    max = 0;\n} else {\n    max++;\n}\n\nfor ( unsigned int row = 0 ; row &lt; rows ; row++ ) {\n    for ( unsigned int col = 0 ; col &lt; columns ; col++ ) {\n        if ( matrix(row, col) == infinity ) {\n            matrix(row, col) = max;\n        }\n    }\n}\n</code></pre>\n\n<p>}\nI tried to include  :</p>\n\n<pre><code>#include &lt;limits&gt; \n\nusing namespace std;\n</code></pre>\n\n<p>But when I compile my program I get these errors:</p>\n\n<pre><code>munkres.cpp: In function \u2018void replace_infinites(cv::Mat_&lt;int&gt;&amp;)\u2019:\nmunkres.cpp:44:16: error: \u2018infinity\u2019 does not name a type\nmunkres.cpp:49:38: error: \u2018infinity\u2019 was not declared in this scope\nmunkres.cpp:60:17: error: \u2018infinity\u2019 was not declared in this scope\nmunkres.cpp:69:38: error: \u2018infinity\u2019 was not declared in this scope\n</code></pre>\n\n<p>I make a lot of research on the net but I didn't get any solution to fix my problem.</p>\n"}, {"tags": ["c++", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1461238538, "post_id": 36756458, "comment_id": 61114200, "body": "Just a couple of remarks, 1) <code>templ = imread( &quot;Template.jpg&quot;, 1 );</code> should be outside the loop, there is no need to load them on every frame. 2) Try displaying the <code>frame</code> directly, to see if you are grabbing correctly from the camera... Also change the <code>waitKey(0)</code> to <code>waitKey(30)</code> this way it will continue in the loop.... and remove the <code>return 0;</code> of the loop, it could be that the first frame is black.....(maybe the camera takes a frame to initialize or something) Also, since it is continuos frames, try not to use matching method as the method, just change the matching method with it"}, {"owner": {"reputation": 23, "user_id": 6232402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U3YA1DDDzA4/AAAAAAAAAAI/AAAAAAAAAng/DswgrXEc03Q/photo.jpg?sz=128", "display_name": "Manuel Alejandro Diaz Zapata", "link": "https://stackoverflow.com/users/6232402/manuel-alejandro-diaz-zapata"}, "reply_to_user": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1461372993, "post_id": 36756458, "comment_id": 61184529, "body": "Thank you very much!! I think that the <code>Return(0)</code> was the line responsible for the black frame. I&#39;ll see what other methods are that I can use to track better what I want."}], "answers": [{"comments": [{"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1461397279, "post_id": 36805442, "comment_id": 61189392, "body": "For tracking a robot, you can try different things... such as the trackers in the contrib module of opencv, or camshift, or some opticalflow tracker."}], "tags": [], "owner": {"reputation": 23, "user_id": 6232402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U3YA1DDDzA4/AAAAAAAAAAI/AAAAAAAAAng/DswgrXEc03Q/photo.jpg?sz=128", "display_name": "Manuel Alejandro Diaz Zapata", "link": "https://stackoverflow.com/users/6232402/manuel-alejandro-diaz-zapata"}, "is_accepted": true, "score": 0, "last_activity_date": 1461373571, "last_edit_date": 1495541772, "creation_date": 1461373571, "answer_id": 36805442, "question_id": 36756458, "link": "https://stackoverflow.com/questions/36756458/live-camera-template-matching-using-opencv/36805442#36805442", "title": "Live camera template matching using opencv", "body": "<p>Thanks to the user <a href=\"https://stackoverflow.com/users/888688/api55\">api55</a> I was able to do the live matching, but after consulting I found out that this isn't the best method to track a robot, but at least is a small step towards the final solution. I'll be posting updates on the code so it will be helpful to anyone who needs it.</p>\n\n<pre><code>#include \"opencv2/highgui/highgui.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\nusing namespace cv;\n\n/// Global Variables\nMat img;\nMat templ;\nMat result;\nchar* image_window = \"Source Image\";\nchar* result_window = \"Result window\";\n\nint match_method;\nint i=0;\nint max_Trackbar = 5;\n\n/// Function Headers\nvoid MatchingMethod( int, void* );\nvoid delay();\n\n/** @function main */\nint main( int argc, char** argv )\n{\n    VideoCapture cap(0); // open the default camera\nif(!cap.isOpened())  // check if we succeeded\n{\n    return -1;\n}\ntempl = imread( \"template3.jpg\", 1 );\nfor(;;)\n{\n    Mat frame;\n    cap &gt;&gt; frame; // get a new frame from camera\n    if(waitKey(30) &gt;= 0) break;\n    while(frame.empty())\n    {\n        std::cout&lt;&lt;\"Frame Vacio\"&lt;&lt;std::endl;\n    }\n    // do any processing\n    /// Load image and template\n    img=frame.clone();\n    //frame.clone();\n\n    /// Create windows\n    namedWindow( image_window, CV_WINDOW_AUTOSIZE );\n    namedWindow( result_window, CV_WINDOW_AUTOSIZE );\n\n    /// Create Trackbar\n    //char* trackbar_label = \"Method: \\n 0: SQDIFF \\n 1: SQDIFF NORMED \\n 2: TM CCORR \\n 3: TM CCORR NORMED \\n 4: TM COEFF \\n 5: TM COEFF NORMED\";\n    //createTrackbar( trackbar_label, image_window, &amp;match_method, max_Trackbar, MatchingMethod );\n\n\n    MatchingMethod( 0, 0 );\n\n    waitKey(30);\n\n}\nreturn 0;\n}\n\n/**\n * @function MatchingMethod\n * @brief Trackbar callback\n */\nvoid MatchingMethod( int, void* )\n{\n/// Source image to display\nMat img_display;\nimg.copyTo( img_display );\n\n/// Create the result matrix\nint result_cols =  img.cols - templ.cols + 1;\nint result_rows = img.rows - templ.rows + 1;\n\nresult.create( result_rows, result_cols, CV_32FC1 );\n\n/// Do the Matching and Normalize\nmatchTemplate( img, templ, result, match_method );\nnormalize( result, result, 0, 1, NORM_MINMAX, -1, Mat() );\n\n/// Localizing the best match with minMaxLoc\ndouble minVal;\ndouble maxVal;\nPoint minLoc;\nPoint maxLoc;\nPoint matchLoc;\n\nminMaxLoc( result, &amp;minVal, &amp;maxVal, &amp;minLoc, &amp;maxLoc, Mat() );\n\n/// For SQDIFF and SQDIFF_NORMED, the best matches are lower values. For all the other methods, the higher the better\nif( match_method  == CV_TM_SQDIFF || match_method == CV_TM_SQDIFF_NORMED )\n{\n    matchLoc = minLoc;\n}\nelse\n{\n    matchLoc = maxLoc;\n}\n\n/// Show me what you got\nrectangle( img_display, matchLoc, Point( matchLoc.x + templ.cols, matchLoc.y + templ.rows ), Scalar::all(0), 2, 8, 0 );\nrectangle( result, matchLoc, Point( matchLoc.x + templ.cols, matchLoc.y + templ.rows ), Scalar::all(0), 2, 8, 0 );\n\nimshow( image_window, img_display );\nimshow( result_window, result );\n\nreturn;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6232402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U3YA1DDDzA4/AAAAAAAAAAI/AAAAAAAAAng/DswgrXEc03Q/photo.jpg?sz=128", "display_name": "Manuel Alejandro Diaz Zapata", "link": "https://stackoverflow.com/users/6232402/manuel-alejandro-diaz-zapata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "accepted_answer_id": 36805442, "answer_count": 1, "score": 0, "last_activity_date": 1461373571, "creation_date": 1461191900, "question_id": 36756458, "link": "https://stackoverflow.com/questions/36756458/live-camera-template-matching-using-opencv", "title": "Live camera template matching using opencv", "body": "<p>I'm having some trouble identifying an image (Template) using the code provided on the <a href=\"http://docs.opencv.org/2.4/doc/tutorials/imgproc/histograms/template_matching/template_matching.html/\" rel=\"nofollow\">OpenCV website</a>. I've been using it with some images captured using the Camera application on my PC (Win10 64bit) and it works really good, but when I try to get the image to compare from the camera, it just shows me a black window with the Track bars:</p>\n\n<pre><code>#include \"opencv2/highgui/highgui.hpp\"\n#include \"opencv2/imgproc/imgproc.hpp\"\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\nusing namespace cv;\n\n/// Global Variables\nMat img;\nMat templ;\nMat result;\nchar* image_window = \"Source Image\";\nchar* result_window = \"Result window\";\n\nint match_method;\nint i=0;\nint max_Trackbar = 5;\n\n/// Function Headers\nvoid MatchingMethod( int, void* );\n\n/** @function main enter code heren */\nint main( int argc, char** argv )\n{\nVideoCapture cap(0); // open the default camera\nif(!cap.isOpened()) // check if we succeeded\n    return -1;\nfor(;;)\n{\n    Mat frame;\n    cap &gt;&gt; frame;\n    /// Load image and template\n    img=frame.clone();\n    templ = imread( \"Template.jpg\", 1 );\n\n    /// Create windows\n    namedWindow( image_window, CV_WINDOW_AUTOSIZE );\n    namedWindow( result_window, CV_WINDOW_AUTOSIZE );\n\n    /// Create Trackbar\n    char* trackbar_label = \"Method: \\n 0: SQDIFF \\n 1: SQDIFF NORMED \\n 2: TM CCORR \\n 3: TM CCORR NORMED \\n 4: TM COEFF \\n 5: TM COEFF NORMED\";\n    createTrackbar( trackbar_label, image_window, &amp;match_method, max_Trackbar, MatchingMethod );\n\n    MatchingMethod( 0, 0 );\n\n    waitKey(0);\n    return 0;\n}\n}\n\n/**\n * @function MatchingMethod\n * @brief Trackbar callback\n */\nvoid MatchingMethod( int, void* )\n{\n/// Source image to display\nMat img_display;\nimg.copyTo( img_display );\n\n/// Create the result matrix\nint result_cols =  img.cols - templ.cols + 1;\nint result_rows = img.rows - templ.rows + 1;\n\nresult.create( result_rows, result_cols, CV_32FC1 );\n\n/// Do the Matching and Normalize\nmatchTemplate( img, templ, result, match_method );\nnormalize( result, result, 0, 1, NORM_MINMAX, -1, Mat() );\n\n/// Localizing the best match with minMaxLoc\ndouble minVal;\ndouble maxVal;\nPoint minLoc;\nPoint maxLoc;\nPoint matchLoc;\n\nminMaxLoc( result, &amp;minVal, &amp;maxVal, &amp;minLoc, &amp;maxLoc, Mat() );\n\n/// For SQDIFF and SQDIFF_NORMED, the best matches are lower values. For all the other methods, the higher the better\nif( match_method  == CV_TM_SQDIFF || match_method == CV_TM_SQDIFF_NORMED )\n{\n    matchLoc = minLoc;\n}\nelse\n{\n    matchLoc = maxLoc;\n}\n\n/// Show me what you got\nrectangle( img_display, matchLoc, Point( matchLoc.x + templ.cols, matchLoc.y + templ.rows ), Scalar::all(0), 2, 8, 0 );\nrectangle( result, matchLoc, Point( matchLoc.x + templ.cols, matchLoc.y + templ.rows ), Scalar::all(0), 2, 8, 0 );\n\nimshow( image_window, img_display );\nimshow( result_window, result );\n\nreturn;\n}\n</code></pre>\n\n<p>The way I think it should work is taking the frame captured on\n    <code>cap&gt;&gt;frame;</code>\nand copying it on the variable img\n    <code>img=frame.clone();</code>.\nThen, it sends it to do the processing each time on the <code>MatchingMethod</code> until any key is pressed.</p>\n\n<p>Me and my project mates would really appreciate anything that makes us solve this problem. </p>\n\n<p>PS: <br/>\nIf there's any doubt about the IDE I'm using, I'm working with Codeblocks. <br/>Also, I'll attach some links with the results I'm getting: <a href=\"http://imgur.com/a/yM57E\" rel=\"nofollow\">Link to Imgur</a></p>\n"}, {"tags": ["c++", "qt", "dynamic-programming"], "comments": [{"owner": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "edited": false, "score": 1, "creation_date": 1461191806, "post_id": 36756341, "comment_id": 61092862, "body": "Put the wigets in a map using the name as the key. Then you can do something like this. mymap [widgername]-&gt;...."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "reply_to_user": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "edited": false, "score": 0, "creation_date": 1461206110, "post_id": 36756341, "comment_id": 61096640, "body": "I&#39;m having trouble trying to see the code for that. Would you mind explaining your answer in further detail?"}, {"owner": {"reputation": 480, "user_id": 5395762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcDfi.jpg?s=128&g=1", "display_name": "Devopia", "link": "https://stackoverflow.com/users/5395762/devopia"}, "edited": false, "score": 0, "creation_date": 1461208352, "post_id": 36756341, "comment_id": 61097230, "body": "Alternatively,  to minimized your effort: QString styleString = QString(&quot;QPushButton#locker%1{background-color: rgb(75, 150, 255); border-color: rgb(50, 0, 128);}&quot;).arg(input); this-&gt;setStyleSheet(styleString);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "reply_to_user": {"reputation": 480, "user_id": 5395762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UcDfi.jpg?s=128&g=1", "display_name": "Devopia", "link": "https://stackoverflow.com/users/5395762/devopia"}, "edited": false, "score": 0, "creation_date": 1461255963, "post_id": 36756341, "comment_id": 61127664, "body": "@Devopia This is really close to what im trying to accomplish and is super easy to implement! The only qualm I have with it so far is that it seems to reset all my other styles on the form. Other than that, this concept works like a charm. instead of using an int though I just added two strings together. here is the code: <b>QString input = &quot;1&quot;;     QString styleString = QString(&quot;#locker&quot;+input+&quot;{background-color: rgb(0, 150, 255); border-color: rgb(50, 0, 128);}&quot;);     this-&gt;setStyleSheet(styleString);</b> Thoughts on what im doing to cause all the styles to reset?"}, {"owner": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "edited": false, "score": 0, "creation_date": 1461256905, "post_id": 36756341, "comment_id": 61128284, "body": "I wouldn&#39;t expect that code to do anything &quot;#locker&quot; +input is an incomplete  qualifier.  I am not sure how the stylesheet interprets  that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "edited": false, "score": 0, "creation_date": 1461257362, "post_id": 36756341, "comment_id": 61128566, "body": "It actually works. I put it into my code and does what I want it to do.I think your right though Pemdas, its incomplete as the code does reset my other styles. If I can get it to stop reseting my styles I will be in good shape. Any ideas how to do this."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "edited": false, "score": 0, "creation_date": 1461211948, "post_id": 36758635, "comment_id": 61098148, "body": "Thats not a bad idea for storing data and buttons. I know that QHash has some similarities to QMap. Judging by the code given to me by pemdas though, I think I&#39;m still going to run into the same issue. The code compiles, the program runs, but the pushbutton does not change color. I&#39;m missing something."}, {"owner": {"reputation": 3754, "user_id": 4732082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781cea048e688814961606ddf35c5881?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4732082/anonymous"}, "edited": false, "score": 0, "creation_date": 1461243566, "post_id": 36758635, "comment_id": 61118081, "body": "That&#39;s a different question. :-/ Sounds like you need to inherit <code>QPushButton</code> and reimplement <code>paintEvent</code>."}, {"owner": {"reputation": 3754, "user_id": 4732082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781cea048e688814961606ddf35c5881?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4732082/anonymous"}, "reply_to_user": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "edited": false, "score": 0, "creation_date": 1461245675, "post_id": 36758635, "comment_id": 61119789, "body": "Alternatively, you could set icons for the state of the button, and have the icon the appropriate color. It wouldn&#39;t set the entire background, but it will communicate the button state to the user. Using @Pemdas example: <code>buttonMap.value(button)-&gt;setIcon(iconForSomeState);</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "edited": false, "score": 0, "creation_date": 1461247808, "post_id": 36758635, "comment_id": 61121505, "body": "hmmm, now there&#39;s a thought. I never considered using an image/icon to convey the state of my button. I&#39;ll give that a shot. If it works, I&#39;ll post a working piece of code and instructions for others like me struggling with this type of issue... that is, unless someone beats me to it lol. The one possible issue I can see cropping up with this approach is that the icon could obscure the button&#39;s label. All things considered though, I&#39;d rather tackle a problem like that instead lol. Thanks for the idea!"}], "tags": [], "owner": {"reputation": 3754, "user_id": 4732082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781cea048e688814961606ddf35c5881?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4732082/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1461206441, "creation_date": 1461206441, "answer_id": 36758635, "question_id": 36756341, "link": "https://stackoverflow.com/questions/36756341/converting-strings-to-widget-names-qt-5-6/36758635#36758635", "title": "Converting strings to widget names QT 5.6", "body": "<p>With the warning that you'll have to use the preprocessor:</p>\n\n<p><code>#define GET_BUTTON(id) ui-&gt;locker##id</code></p>\n\n<p>The better answer:</p>\n\n<ul>\n<li>You're defining 152 buttons in a header somewhere, e.g. <code>QPushbutton *locker1;</code>. Don't do that.</li>\n<li>Use constant values as keys, such as an <code>enum</code>, store your data in <code>QHash&lt;SomeEnum, bool&gt;</code>, and the buttons in a <code>QHash&lt;SomeEnum, QPushButton *&gt;</code>.</li>\n<li>Using constants to access the <code>bool</code>s and buttons is more flexible and less breakable. It also leaves out the preprocessor, which is always a good idea.</li>\n</ul>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "edited": false, "score": 0, "creation_date": 1461211460, "post_id": 36758788, "comment_id": 61098031, "body": "Thanks for your explanation Pemdas. So I copied the code into a new QT widgets application to test it out, making sure that there was a QPushButton called input100 and that the setStyleSheet(...) was filled with the proper values. The result was that the code compiled however the pushbutton didn&#39;t change color. But I think your on the right track Pemdas. Penny for your thoughts?"}, {"owner": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "edited": false, "score": 0, "creation_date": 1461251723, "post_id": 36758788, "comment_id": 61124534, "body": "I think you have re-polish the widget for it pick up property changes."}], "tags": [], "owner": {"reputation": 543, "user_id": 556628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86591c7a1268eb1efa30390c5b0f7bbd?s=128&d=identicon&r=PG", "display_name": "Pemdas", "link": "https://stackoverflow.com/users/556628/pemdas"}, "is_accepted": true, "score": 2, "last_activity_date": 1461207407, "creation_date": 1461207407, "answer_id": 36758788, "question_id": 36756341, "link": "https://stackoverflow.com/questions/36756341/converting-strings-to-widget-names-qt-5-6/36758788#36758788", "title": "Converting strings to widget names QT 5.6", "body": "<p>I see what you are trying to do, but you can't create identifiers by simply constructing a string that happens to be the name that you assigned the identifier. The result is still a QString and you are trying to call the method setStyleSheet() on a QString, which doesn't exist. This tells me that your understanding identifiers, types and objects in general could use some freshening up. </p>\n\n<p>I believe the following code does what you are looking for though.   </p>\n\n<pre><code>//Create a map of QPushButtons with a QString key.\nQMap&lt;QString, QPushButton*&gt; buttonMap;\n\n//As an example I create and add a QPushButton to the map\nQPushButton * input100 = new QPushButton();\nbuttonMap.insert(\"input100\", input100);\n\n//Construct the key\nQString button = \"input100\";\n\n// In this map  .value(key) returns a QPushButton * so\n// we can call what ever public functions a QPushButton\n// supports like this:\nbuttonMap.value(button)-&gt;setStyleSheet(...);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6232607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 36758788, "answer_count": 2, "score": 2, "last_activity_date": 1461259983, "creation_date": 1461191310, "question_id": 36756341, "link": "https://stackoverflow.com/questions/36756341/converting-strings-to-widget-names-qt-5-6", "title": "Converting strings to widget names QT 5.6", "body": "<p>I am currently working on a Qt C++ program with over 152 QPushButtons. What I would like the program to do is recolor a specific QPushButton when a specific condition is met (I have four colors for four conditions). I have arrays that keep track of each condition for each QPushButton but so far the only thing I have managed to get working is this:</p>\n\n<pre><code>ui-&gt;locker100-&gt;setStyleSheet(\"background-color: rgb(75, 150, 255); border-color: rgb(50, 0, 128);\");\n</code></pre>\n\n<p>Where locker100 is a specific QPushButton. What I would like to do is concatenate a QString with an array resulting in the QPushButton's name. It would look something like this:</p>\n\n<pre><code>bool key[152];\nstd::fill(key, key + 152, true);\nQstring widgetName = \"locker\";\nint input = 100;\n\nif (key[input] == true)\n{\n    ui-&gt;widgetName + input-&gt;setStyleSheet(\"background-color: rgb(75, 150, 255); border-color: rgb(50, 0, 128);\");\n}\n</code></pre>\n\n<p>However concatenating creates errors. Any feedback and specific code would be very much appreciated. Thanks!</p>\n"}, {"tags": ["c++", "windows", "strcpy"], "comments": [{"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1461191390, "post_id": 36756336, "comment_id": 61092691, "body": "just a typo: <code>bookName</code> is <code>char</code> instead of <code>char *</code>"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1461191533, "post_id": 36756336, "comment_id": 61092748, "body": "Huh @fukanchik ? I Learned about pointers but?? How is that the problem here?"}, {"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 2, "creation_date": 1461191739, "post_id": 36756336, "comment_id": 61092837, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/td1esda9.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/td1esda9.aspx</a>  <code>strcpy_s(   char *,  size_t, const char *);</code> the last one is <code>const char *</code> while you are calling: <code>char bookName, bookAuthor; ... strcpy_s(book1.name, bookName);</code>"}, {"owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "reply_to_user": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1461191845, "post_id": 36756336, "comment_id": 61092873, "body": "Thanks a lot @fukanchik.... im still a begginer so i didnt know about it.... although it makes complete sense.. since you need to pass the pointer to actually change the value! Thanks a lot!!"}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1461195293, "post_id": 36756440, "comment_id": 61093957, "body": "I like how he accepts the answer but <a href=\"http://stackoverflow.com/questions/36756910/unexpected-output-of-c-code/\">completely ignores it in his next post</a>"}], "tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": true, "score": 3, "last_activity_date": 1461191830, "creation_date": 1461191830, "answer_id": 36756440, "question_id": 36756336, "link": "https://stackoverflow.com/questions/36756336/no-instance-of-overloaded-function-strcpy-s-matches-the-argument-list/36756440#36756440", "title": "No instance of overloaded function &quot;strcpy_s&quot; matches the argument list", "body": "<p>Correct. <code>strcpy</code> and its family take <code>char*</code>, not <code>char</code>. They work on C strings. And you can't generally put a <code>bookName</code> into a single character anyway.</p>\n\n<p>That said, welcome to the 21st century. We use <code>std::string</code> now, far easier.</p>\n"}], "owner": {"reputation": 4268, "user_id": 5768335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FVCGA.jpg?s=128&g=1", "display_name": "amanuel2", "link": "https://stackoverflow.com/users/5768335/amanuel2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3714, "favorite_count": 0, "accepted_answer_id": 36756440, "answer_count": 1, "score": 0, "last_activity_date": 1461191830, "creation_date": 1461191284, "last_edit_date": 1461191555, "question_id": 36756336, "link": "https://stackoverflow.com/questions/36756336/no-instance-of-overloaded-function-strcpy-s-matches-the-argument-list", "title": "No instance of overloaded function &quot;strcpy_s&quot; matches the argument list", "body": "<p>For some reason a char cant go in strcopy_s();...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nstruct DATE {\n    int year;\n    int month;\n    int date;\n};\nstruct Book {\n    char name[50];\n    char author[50];\n    int id;\n    DATE date;\n};\n\nint main() {\n     Book book1;\n     DATE date1;\n     char bookName, bookAuthor;\n     int date, year, month;\n\n     cout &lt;&lt; \"Date Of Publishing? \" &lt;&lt; endl;\n     cin &gt;&gt; date;\n     cout &lt;&lt; \"Month Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; month;\n     cout &lt;&lt; \"Year Of Publishing?\" &lt;&lt; endl;\n     cin &gt;&gt; year;\n     date1.year = year;\n     date1.month = month;\n     date1.date = date;\n\n     cout &lt;&lt; \"Book Name ? \" &lt;&lt; endl;\n     cin &gt;&gt; bookName;\n     cout &lt;&lt; \"Book Author\" &lt;&lt; endl;\n     cin &gt;&gt; bookAuthor;\n     strcpy_s(book1.name, bookName);\n     strcpy_s(book1.author, bookAuthor);\n    return 0;\n}\n</code></pre>\n\n<p>Gives me the error:</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError (active)      no instance of overloaded function \"strcpy_s\" matches the argument list Struct  c:\\Users\\Amanuel\\Documents\\Visual Studio 2015\\Projects\\Struct\\Struct\\Source.cpp 38  \n\nSeverity    Code    Description Project File    Line    Suppression State\nError (active)      no instance of overloaded function \"strcpy_s\" matches the argument list Struct  c:\\Users\\Amanuel\\Documents\\Visual Studio 2015\\Projects\\Struct\\Struct\\Source.cpp 39  \n\nSeverity    Code    Description Project File    Line    Suppression State\nError   C2665   'strcpy_s': none of the 2 overloads could convert all the argument types    Struct  c:\\users\\amanuel\\documents\\visual studio 2015\\projects\\struct\\struct\\source.cpp 38  \n\n\n\nSeverity    Code    Description Project File    Line    Suppression State\nError   C2665   'strcpy_s': none of the 2 overloads could convert all the argument types    Struct  c:\\users\\amanuel\\documents\\visual studio 2015\\projects\\struct\\struct\\source.cpp 39  \n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461191399, "post_id": 36756302, "comment_id": 61092695, "body": "off topic: <code>exit</code> is a very dangerous thing to use in a C++ program. The program exits immediately and doesn&#39;t clean everything up. Here you probably won&#39;t have a problem, but you can easily jam resources and leave them open and locked."}, {"owner": {"reputation": 9, "user_id": 5995001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c923570df639b17715734334ef74a588?s=128&d=identicon&r=PG", "display_name": "J_Ray93", "link": "https://stackoverflow.com/users/5995001/j-ray93"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461191528, "post_id": 36756302, "comment_id": 61092745, "body": "I will take note of that in future programs that I write. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5995001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c923570df639b17715734334ef74a588?s=128&d=identicon&r=PG", "display_name": "J_Ray93", "link": "https://stackoverflow.com/users/5995001/j-ray93"}, "edited": false, "score": 0, "creation_date": 1461192347, "post_id": 36756395, "comment_id": 61093050, "body": "I did this, but its still not writing the proper output. it just shows the initial input file copied over. I am missing something, and cant quite seem to place it."}], "tags": [], "owner": {"reputation": 160, "user_id": 3147629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ba08438b94cde0ff7ffed3a6866a63?s=128&d=identicon&r=PG&f=1", "display_name": "maxlazar", "link": "https://stackoverflow.com/users/3147629/maxlazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1461192474, "last_edit_date": 1461192474, "creation_date": 1461191637, "answer_id": 36756395, "question_id": 36756302, "link": "https://stackoverflow.com/questions/36756302/issue-with-saving-an-edited-infile-to-an-outfile-in-c/36756395#36756395", "title": "Issue with saving an edited infile to an outfile in c++", "body": "<p>You need to write to <code>outFile</code> inside the <code>while(getline(inFile, line))</code> loop.</p>\n\n<p>[edit] see user4581301's answer for a more thorough treatment.</p>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1461192113, "creation_date": 1461192113, "answer_id": 36756502, "question_id": 36756302, "link": "https://stackoverflow.com/questions/36756302/issue-with-saving-an-edited-infile-to-an-outfile-in-c/36756502#36756502", "title": "Issue with saving an edited infile to an outfile in c++", "body": "<p>Here we can see that <code>outFile</code> is only written to outside of the while loop:</p>\n\n<pre><code>while (getline(inFile, line))\n{\n    cout &lt;&lt; \"The input number :\" &lt;&lt; line &lt;&lt; endl;\n    for (i = 0; i &lt; 8; i++)\n    {\n        cout &lt;&lt; \"The number \" &lt;&lt; i + 1 &lt;&lt; \":\";\n        cout &lt;&lt; line.at(i);\n        cout &lt;&lt; endl;\n    }\n}\noutFile &lt;&lt; line &lt;&lt; endl;\n</code></pre>\n\n<p>It has no chance of containing the same output as the console</p>\n\n<p>Solution:  Write inside the loop the same stuff that was written to the console:</p>\n\n<pre><code>while (getline(inFile, line))\n{\n    cout &lt;&lt; \"The input number :\" &lt;&lt; line &lt;&lt; endl;\n    outFile &lt;&lt; \"The input number :\" &lt;&lt; line &lt;&lt; endl;\n    blah blah blah\n}\n</code></pre>\n\n<p>But this looks like crap and a function makes like a better solution by eliminating duplication and upping re-usability.</p>\n\n<pre><code>void output(std::ostream &amp; out,\n            const std::string &amp; line)\n{\n    out &lt;&lt; \"The input number :\" &lt;&lt; line &lt;&lt; endl;\n    for (int i = 0; i &lt; 8; i++)\n    {\n        out &lt;&lt; \"The number \" &lt;&lt; i + 1 &lt;&lt; \":\";\n        out &lt;&lt; line.at(i);\n        out &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>and called:</p>\n\n<pre><code>while (getline(inFile, line))\n{\n    output(cout, line);\n    output(outFile, line);\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5995001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c923570df639b17715734334ef74a588?s=128&d=identicon&r=PG", "display_name": "J_Ray93", "link": "https://stackoverflow.com/users/5995001/j-ray93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461192474, "creation_date": 1461191099, "last_edit_date": 1461192272, "question_id": 36756302, "link": "https://stackoverflow.com/questions/36756302/issue-with-saving-an-edited-infile-to-an-outfile-in-c", "title": "Issue with saving an edited infile to an outfile in c++", "body": "<p>Im having an issue with the last section of coding on here. The // Copy files from infile to outfile. The program transfers my infile which is simply a an 8 digit number , 20392207,splits it up into individual digits using the .at method; and is supposed to save that output to an outfile. I cant figure out how to save the output to the outfile. Any advice?</p>\n\n<p>infile looks as follows</p>\n\n<pre><code>20392207\n</code></pre>\n\n<p>program output looks like this</p>\n\n<pre><code>The input number :20392207\nThe number 1:2\nThe number 2:0\nThe number 3:3\nThe number 4:9\nThe number 5:2\nThe number 6:2\nThe number 7:0\nThe number 8:7\n</code></pre>\n\n<p>outfile is supposed to look like the program out put, but instead just looks like an exact copy of the infile.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;cstdlib&gt;\n#include&lt;string&gt;\n#include&lt;cmath&gt;\nusing namespace std;\nint main()\n{\n    string ifilename, ofilename, line, line2;\n    ifstream inFile, checkOutFile;\n    ofstream outFile;\n    char response;\n    int i;\n\n\n    // Input file\n    cout &lt;&lt; \"Please enter the name of the file you wish to open : \";\n    cin &gt;&gt; ifilename;\n    inFile.open(ifilename.c_str());\n    if (inFile.fail())\n    {\n        cout &lt;&lt; \"The file \" &lt;&lt; ifilename &lt;&lt; \" was not successfully opened.\" &lt;&lt; endl;\n        cout &lt;&lt; \"Please check the path and name of the file. \" &lt;&lt; endl;\n        exit(1);\n    }\n    else\n    {\n        cout &lt;&lt; \"The file is successfully opened.\" &lt;&lt; endl;\n    }\n\n\n    // Output file\n    cout &lt;&lt; \"Please enter the name of the file you wish to write : \";\n    cin &gt;&gt; ofilename;\n    checkOutFile.open(ofilename.c_str());\n    if (!checkOutFile.fail())\n    {\n        cout &lt;&lt; \"A file \" &lt;&lt; ofilename &lt;&lt; \" exists.\\nDo you want to continue and overwrite it? (y/n) : \";\n        cin &gt;&gt; response;\n        if (tolower(response) == 'n')\n        {\n            cout &lt;&lt; \"The existing file will not be overwritten. \" &lt;&lt; endl;\n            exit(1);\n        }\n    }\n    outFile.open(ofilename.c_str());\n    if (outFile.fail())\n    {\n        cout &lt;&lt; \"The file \" &lt;&lt; ofilename &lt;&lt; \" was not successfully opened.\" &lt;&lt; endl;\n        cout &lt;&lt; \"Please check the path and name of the file. \" &lt;&lt; endl;\n        exit(1);\n    }\n    else\n    {\n        cout &lt;&lt; \"The file is successfully opened.\" &lt;&lt; endl;\n    }\n\n\n\n    // Copy file contents from inFile to outFile\n    while (getline(inFile, line))\n    {\n    cout &lt;&lt; \"The input number :\" &lt;&lt; line &lt;&lt; endl;\n        for (i = 0; i &lt; 8; i++)\n        {\n            cout &lt;&lt; \"The number \" &lt;&lt; i + 1 &lt;&lt; \":\";\n            cout &lt;&lt; line.at(i);\n            cout &lt;&lt; endl;\n        }\n\n    outFile &lt;&lt; line &lt;&lt; endl;    \n    }\n\n\n\n    // Close files\n    inFile.close();\n    outFile.close();\n} // main\n</code></pre>\n"}, {"tags": ["c++", "graphviz", "boost-graph", "dynamic-properties"], "comments": [{"owner": {"reputation": 1229, "user_id": 2912901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d7bd80db091aca9f627a7f102963ec?s=128&d=identicon&r=PG&f=1", "display_name": "pbible", "link": "https://stackoverflow.com/users/2912901/pbible"}, "edited": false, "score": 0, "creation_date": 1461906385, "post_id": 36756184, "comment_id": 61420005, "body": "It might help to give more information about what specifically isn&#39;t working with your program that you are trying. The question isn&#39;t exactly clear to me."}], "owner": {"reputation": 31, "user_id": 6190625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb153f23be5bc4bc99a4d810f1d5e8d9?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/6190625/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1461190466, "creation_date": 1461190466, "question_id": 36756184, "link": "https://stackoverflow.com/questions/36756184/boost-graph-library-read-unkonwn-graph", "title": "boost graph library read unkonwn graph", "body": "<p>I write several graphs with n vertex, m edges and S attributes into file. \nnow I need to read these unknown number of graphs from Graphviz DOT file by Boost graph library. How to read these unknown number of graphs with unknown number of vertex, egdes and properties? This is the file which saves the graphs.Thank you in advance!</p>\n\n<pre><code>digraph G {\n0[Attribute0=0, Attribute1=1, Attribute2=0, ]\n;\n1[Attribute0=2, Attribute1=1, Attribute2=1, ]\n;\n2[Attribute0=1, Attribute1=2, Attribute2=2, ]\n;\n3[Attribute0=2, Attribute1=0, Attribute2=2, ]\n;\n4[Attribute0=2, Attribute1=1, Attribute2=0, ]\n;\n5[Attribute0=0, Attribute1=0, Attribute2=1, ]\n;\n6[Attribute0=0, Attribute1=0, Attribute2=2, ]\n;\n7[Attribute0=1, Attribute1=0, Attribute2=0, ]\n;\n8[Attribute0=0, Attribute1=1, Attribute2=1, ]\n;\n9[Attribute0=1, Attribute1=1, Attribute2=1, ]\n;\n0-&gt;4  [label=\"(0,4)\"]\n;\n3-&gt;7  [label=\"(3,7)\"]\n;\n5-&gt;6  [label=\"(5,6)\"]\n;\n6-&gt;1  [label=\"(6,1)\"]\n;\n9-&gt;5  [label=\"(9,5)\"]\n;\n}\n\ndigraph G {\n0[Attribute0=0, Attribute1=1, Attribute2=1, ]\n;\n1[Attribute0=1, Attribute1=0, Attribute2=1, ]\n;\n2[Attribute0=2, Attribute1=2, Attribute2=1, ]\n;\n3[Attribute0=0, Attribute1=2, Attribute2=2, ]\n;\n4[Attribute0=2, Attribute1=2, Attribute2=1, ]\n;\n5[Attribute0=0, Attribute1=1, Attribute2=0, ]\n;\n6[Attribute0=2, Attribute1=0, Attribute2=2, ]\n;\n7[Attribute0=2, Attribute1=2, Attribute2=2, ]\n;\n8[Attribute0=1, Attribute1=1, Attribute2=0, ]\n;\n9[Attribute0=0, Attribute1=2, Attribute2=0, ]\n;\n0-&gt;4  [label=\"(0,4)\"]\n;\n3-&gt;6  [label=\"(3,6)\"]\n;\n6-&gt;9  [label=\"(6,9)\"]\n;\n9-&gt;1  [label=\"(9,1)\"]\n;\n9-&gt;1  [label=\"(9,1)\"]\n;\n}\n\ndigraph G {\n0[Attribute0=1, Attribute1=0, Attribute2=2, ]\n;\n1[Attribute0=0, Attribute1=0, Attribute2=2, ]\n;\n2[Attribute0=0, Attribute1=0, Attribute2=1, ]\n;\n3[Attribute0=2, Attribute1=2, Attribute2=2, ]\n;\n4[Attribute0=1, Attribute1=0, Attribute2=2, ]\n;\n5[Attribute0=1, Attribute1=1, Attribute2=2, ]\n;\n6[Attribute0=2, Attribute1=0, Attribute2=1, ]\n;\n7[Attribute0=1, Attribute1=2, Attribute2=1, ]\n;\n8[Attribute0=1, Attribute1=1, Attribute2=0, ]\n;\n9[Attribute0=0, Attribute1=1, Attribute2=2, ]\n;\n1-&gt;1  [label=\"(1,1)\"]\n;\n4-&gt;8  [label=\"(4,8)\"]\n;\n5-&gt;8  [label=\"(5,8)\"]\n;\n5-&gt;1  [label=\"(5,1)\"]\n;\n8-&gt;1  [label=\"(8,1)\"]\n;\n}\n</code></pre>\n\n<p>This is the programme to write several graphs with n vertex, m edges and S attributes into file:</p>\n\n<pre><code>    int const S=3; // number of attributes for each graph\n    int const N=10;// number of vertex\n    int const m=5;//number of edges\n    int const SIZE=3;// number of graphs\n    struct Attributes\n     {\n\n      int Attribute0[S];\n\n    };\n\n    struct EdgeAttributes\n    {\n      string name;\n      double miles;\n      int speed_limit;\n      int lanes;\n      bool divided;\n    };\n\n    typedef boost::adjacency_list&lt;boost::vecS, boost::vecS, boost::directedS,\n    Attributes, EdgeAttributes&gt; Map;\n\n    void outputgraph(Map&amp;);\n      Map * ggg= new Map[SIZE] ;\n    int main()\n    {\n        Map map; // load the map\n        bool inserted;\n\n        Map::vertex_descriptor v ;\n\n        for(int k=0; k&lt;SIZE; k++)\n        {\n     for(int j=0; j&lt;N; j++)\n     {\n         v= add_vertex(ggg[k]);\n         for(int i=0; i&lt;S; i++)\n  { \n\n      ggg[k][v].Attribute0[i]=0 + (int)3 * rand() / (RAND_MAX + 1);\n\n\n  }\n\n     }\n        }\n         Map::edge_descriptor e;\n\n\n\n\n\n         for(int k=0; k&lt;SIZE; k++)\n        {\n         for(int i=0;i&lt;m;i++)\n      {\n        tie(e,inserted) = add_edge(N * rand() / (RAND_MAX + 1), N * rand()     /     (RAND_MAX + 1), ggg[k]);\n      }\n\n         }\n\n\n        std::cout &lt;&lt; std::endl;\n\n        outputgraph(map);\n        int d;\n        std::cin&gt;&gt;d;\n    }\n\n    struct my_node_writer {\n        // my_node_writer() {}\n        my_node_writer(Map&amp; g_) : g (g_) {};\n        template &lt;class Vertex&gt;\n        void operator()(std::ostream&amp; out, Vertex v) {\n            out &lt;&lt; \"[\";\n             for(int i=0; i&lt;S; i++)\n                out &lt;&lt;\"Attribute\"&lt;&lt;i&lt;&lt;\"=\"&lt;&lt;g[v].Attribute0[i]&lt;&lt;\", \";\n             out&lt;&lt;\"]\" &lt;&lt; std::endl;\n        };\n\n        Map g;\n    };\n\n    struct my_edge_writer {\n        my_edge_writer(Map&amp; g_) : g (g_) {};\n        template &lt;class Edge&gt;\n        void operator()(std::ostream&amp; out, Edge e) {\n                // just an example, showing that local options override     global\n\n                out &lt;&lt; \" [label=\\\"\" &lt;&lt; e  &lt;&lt; \"\\\"]\" &lt;&lt; std::endl;\n        };\n        Map g;\n    };\n\n    struct my_graph_writer {\n        void operator()(std::ostream&amp; out) const {\n\n        }\n    } myGraphWrite;\n\n    void outputgraph(Map&amp; map){\n        std::ofstream gout;\n        gout.open(\"graphname.dot\");\n        for(int i=0; i&lt;S; i++)\n        {\n            write_graphviz(gout,ggg[i],my_node_writer(ggg[i]),my_edge_writer(ggg[i]),myGraphWrite);\n        }\n        // std::cout() &lt;&lt; \"done writing graph\" &lt;&lt; std::endl;\n        gout.close();\n    }\n</code></pre>\n"}, {"tags": ["c++", "arrays", "file-io", "struct"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6115274, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e9e829197d7b5702b35c3f430c25137b?s=128&d=identicon&r=PG&f=1", "display_name": "H.C", "link": "https://stackoverflow.com/users/6115274/h-c"}, "edited": false, "score": 0, "creation_date": 1461190638, "post_id": 36756164, "comment_id": 61092437, "body": "Thank you! I fixed the program by changing that line."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 9, "user_id": 6115274, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e9e829197d7b5702b35c3f430c25137b?s=128&d=identicon&r=PG&f=1", "display_name": "H.C", "link": "https://stackoverflow.com/users/6115274/h-c"}, "edited": false, "score": 0, "creation_date": 1461191197, "post_id": 36756164, "comment_id": 61092618, "body": "@H.C When you get the opportunity, mark this as the answer. David gets points and future readers can easily see that this truly was the answer."}], "tags": [], "owner": {"reputation": 1450, "user_id": 6216811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c3f4852b869530a7fcca4d2f1d615e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6216811/david"}, "is_accepted": true, "score": 3, "last_activity_date": 1461190393, "creation_date": 1461190393, "answer_id": 36756164, "question_id": 36756056, "link": "https://stackoverflow.com/questions/36756056/inserting-info-from-a-file-into-a-struct/36756164#36756164", "title": "Inserting info from a file into a struct", "body": "<p>I think your loop is running, its just waiting for user input here :</p>\n\n<pre><code>getline (cin, myWorld.countries[i].name);\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6115274, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e9e829197d7b5702b35c3f430c25137b?s=128&d=identicon&r=PG&f=1", "display_name": "H.C", "link": "https://stackoverflow.com/users/6115274/h-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 36756164, "answer_count": 1, "score": 0, "last_activity_date": 1461190393, "creation_date": 1461189846, "question_id": 36756056, "link": "https://stackoverflow.com/questions/36756056/inserting-info-from-a-file-into-a-struct", "title": "Inserting info from a file into a struct", "body": "<p>I want to extract data from a file and store them into the myWorld but my for loop doesn't work, the program doesn't loop one time once it gets to the for loop. I'm not sure what the problem is. This is my code so far.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt; \n#include &lt;string&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nstruct Country \n {\n  double pop1950;\n  double pop1970;\n  double pop1990;\n  double pop2010;\n  double pop2015;\n  string name;\n };\n\nconst int MAXCOUNTRIES = 300;\n\nstruct World \n {\n  int     numCountries;\n  Country countries[MAXCOUNTRIES];\n } myWorld;\n\nvoid printPop ();\n\nint main ()\n{\n printPop();\n return 0;\n}\n\nvoid printPop()\n{\n ifstream inFile(\"population.csv\");\n\n if (!inFile.fail())\n {\n    cout &lt;&lt; \"File has opened successfully.\";\n }\n\n if (inFile.fail())\n {\n  cout &lt;&lt; \"File has failed to open.\";\n  exit(1);\n }\n\n for (int i = 0; i &lt; MAXCOUNTRIES; i++)\n {\n    inFile &gt;&gt; myWorld.countries[i].pop1950 &gt;&gt; myWorld.countries[i].pop1970 &gt;&gt; myWorld.countries[i].pop1990\n           &gt;&gt; myWorld.countries[i].pop2010 &gt;&gt; myWorld.countries[i].pop2015;\n    getline (cin, myWorld.countries[i].name);\n    cout &lt;&lt; \"loop is running\" &lt;&lt; endl;\n }\n\n  inFile.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "string", "loops", "for-loop"], "comments": [{"owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "edited": false, "score": 2, "creation_date": 1461189675, "post_id": 36755988, "comment_id": 61092064, "body": "What is the problem? Being as explicit and descriptive in your question will help us help you."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461190767, "post_id": 36755988, "comment_id": 61092489, "body": "Three jump right out at me: <code>for (int i = 0; i &lt; 20; i++)</code> there may not be 20 items on that line. <code>for (string line; getline(inFile, line); )</code> the first line read in 20 items. So will the second, third, and onward lines in the file. <code>return fileNames[20];</code> will return the non-existent 21st item in a 20 element array, not the array."}], "answers": [{"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1461191426, "last_edit_date": 1461191426, "creation_date": 1461190611, "answer_id": 36756214, "question_id": 36755988, "link": "https://stackoverflow.com/questions/36755988/c-reading-multiple-txt-files-into-string-array/36756214#36756214", "title": "C++ reading multiple .txt files into string array", "body": "<p><strong>Problem 1:</strong>  <code>dir /b</code> should put one file per line in your file.  Your nested loops causes you to read each line, but for each line, you read line content in the nested loop, restarting everytimes with <code>i=0</code>.  So you overwrite every time the same and unique <code>fileNames[0]</code>.  </p>\n\n<p><strong>Problem 2:</strong> if one of your filename would contain a space,  your code <code>in&gt;&gt; fileNames[i];</code> would process it as if it were several filenames (the space acts as separator). </p>\n\n<p><strong>Problem 3:</strong> You can't return an array by value. <code>return fileNames[20];</code> doesn't return an array with 20 elements int it, but returns the 21st element of the array.  Unfortunately, you go out of bounds which is undefined behavior. </p>\n\n<hr>\n\n<p><strong>Solution to 1 and 2:</strong>  </p>\n\n<p>If you assume 1 filename per line, you could simply do:  </p>\n\n<pre><code>for (int i; i&lt;20 &amp;&amp; getline(inFile, fileNames[i]); i++)\n    ;\n</code></pre>\n\n<p>If you want to read several filenames per line: </p>\n\n<pre><code>string line; \nint i=0; \nwhile (getline(inFile, line) )\n{\n    istringstream in(line);\n    for ( ; i &lt; 20; i++)   // don't reset the counter\n        in &gt;&gt; fileNames[i];\n}\n</code></pre>\n\n<p><strong>Solution to 3:</strong> </p>\n\n<p>There is an easy way to solve it, if you're allowed to use vectors. Then just replace the array with a vector, and <code>push_back()</code> the strings into it (no logner need to keep track of the i counter).  </p>\n\n<p>If you're not allowed to do so, I'd suggest to pass the address of the array :  </p>\n\n<pre><code>int find_files(string fileNames[], int maxfiles)\n{\n    ...  // replace 20 by maxfiles \n    return i;  // return the number of elements read. \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1471, "user_id": 4161406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jmkcSCy65Dc/AAAAAAAAAAI/AAAAAAAAACA/3IMYGIYfw28/photo.jpg?sz=128", "display_name": "BJovke", "link": "https://stackoverflow.com/users/4161406/bjovke"}, "is_accepted": false, "score": 0, "last_activity_date": 1461191228, "creation_date": 1461191228, "answer_id": 36756326, "question_id": 36755988, "link": "https://stackoverflow.com/questions/36755988/c-reading-multiple-txt-files-into-string-array/36756326#36756326", "title": "C++ reading multiple .txt files into string array", "body": "<p>Did you check if your file has 21 lines of text at all? If not 21th string of <code>fileNames</code> array will be empty. 21th string is the one with index 20: <code>fileNames[20]</code>.</p>\n\n<p>And: <code>for (int i = 0; i &lt; 20; i++)</code>\nYou are iterating <code>i</code> from 0 to 19, it will never reach index 20 and you are returning value <code>fileNames[20]</code> from your function.</p>\n\n<p>There is also a huge error in code. You defined <code>string fileNames[20];</code> which creates an array of 20 strings, indexed <strong>from 0 to 19</strong>. So it is only valid to use values from <code>fileNames[0]</code> to <code>fileNames[19]</code>. Using <code>fileNames[20]</code> can cause unpredictable results, crash your program, it is simply <strong>wrong</strong>.</p>\n"}], "owner": {"reputation": 13, "user_id": 6232611, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/K4exl.png?s=128&g=1", "display_name": "filcitheking", "link": "https://stackoverflow.com/users/6232611/filcitheking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 823, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461191426, "creation_date": 1461189514, "question_id": 36755988, "link": "https://stackoverflow.com/questions/36755988/c-reading-multiple-txt-files-into-string-array", "title": "C++ reading multiple .txt files into string array", "body": "<p>So I have a folder with different .txt files and I want to read the file names from generated test.txt file into string array:</p>\n\n<pre><code>string find_files()\n{\nstring fileNames[20];\nsystem(\"dir /b &gt; test.txt\");\n\nifstream inFile(\"test.txt\");\nif (!inFile)\n{\n    cout &lt;&lt; \"File cannot be opened.\" \"\\n\";\n    return;\n}\n\nfor (string line; getline(inFile, line); )\n{\n    istringstream in(line);\n    for (int i = 0; i &lt; 20; i++)\n        in &gt;&gt; fileNames[i];\n}\nreturn fileNames[20];\n}\n</code></pre>\n\n<p>that is the function to find the file names but actually it has some problem. Please help me.     </p>\n"}, {"tags": ["android", "c++", "android-ndk", "android-studio-2.0"], "comments": [{"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1461189670, "post_id": 36755946, "comment_id": 61092062, "body": "If you&#39;re trying to use exceptions or STL capabilities from the C++ library, they aren&#39;t supported by the default NDK compiler toolchain. You may find some help here: <a href=\"http://developer.android.com/ndk/guides/cpp-support.html\" rel=\"nofollow noreferrer\">developer.android.com/ndk/guides/cpp-support.html</a>"}, {"owner": {"reputation": 976, "user_id": 4386547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-TwUZs2vvLKc/AAAAAAAAAAI/AAAAAAAAlsM/bhW91Yyr_pg/photo.jpg?sz=128", "display_name": "Kishore Tulsiani", "link": "https://stackoverflow.com/users/4386547/kishore-tulsiani"}, "reply_to_user": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1461191678, "post_id": 36755946, "comment_id": 61092811, "body": "just trying to run simple helloworld example java calling c++"}], "answers": [{"tags": [], "owner": {"reputation": 976, "user_id": 4386547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-TwUZs2vvLKc/AAAAAAAAAAI/AAAAAAAAlsM/bhW91Yyr_pg/photo.jpg?sz=128", "display_name": "Kishore Tulsiani", "link": "https://stackoverflow.com/users/4386547/kishore-tulsiani"}, "is_accepted": true, "score": 0, "last_activity_date": 1461773051, "creation_date": 1461773051, "answer_id": 36895144, "question_id": 36755946, "link": "https://stackoverflow.com/questions/36755946/ndk-in-android-studio-not-working-for-c-files/36895144#36895144", "title": "NDK in Android Studio not working for C++ files", "body": "<p>As i was very new to NDK it took some time to figure out the approach and options.</p>\n\n<p>here are two very nice pages i have found which helped solve almost all the issues. and understand how the latest Android studio works with NDK.</p>\n\n<p><a href=\"http://ph0b.com/android-studio-gradle-and-ndk-integration/\" rel=\"nofollow\">link 1</a>\n<a href=\"http://ph0b.com/new-android-studio-ndk-support/\" rel=\"nofollow\">link 2</a></p>\n\n<p>even though i referred the above pages but I tried the NDK on Android studio 2.0 and it is working fine. so wanted to share the same</p>\n"}], "owner": {"reputation": 976, "user_id": 4386547, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-TwUZs2vvLKc/AAAAAAAAAAI/AAAAAAAAlsM/bhW91Yyr_pg/photo.jpg?sz=128", "display_name": "Kishore Tulsiani", "link": "https://stackoverflow.com/users/4386547/kishore-tulsiani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1890, "favorite_count": 0, "accepted_answer_id": 36895144, "answer_count": 1, "score": 0, "last_activity_date": 1461773138, "creation_date": 1461189324, "last_edit_date": 1461773138, "question_id": 36755946, "link": "https://stackoverflow.com/questions/36755946/ndk-in-android-studio-not-working-for-c-files", "title": "NDK in Android Studio not working for C++ files", "body": "<p>In latest Android Studio 2.0 I am trying to run the ndk example, but build is breaking with the following error:</p>\n\n<pre><code>/Users/ktulsia/AndroidStudioProjects/example/app/src/main/jni/hello-jni.cpp\nError:(18, 18) string: No such file or directory\ncompilation terminated.\nError:Execution failed for task ':app:compileArm64-v8aDebugHello-jniSharedLibraryHello-jniMainCpp'.\n&gt; A build operation failed.\n  C++ compiler failed while compiling hello-jni.cpp.\nSee the complete log at: file:///Users/ktulsia/AndroidStudioProjects/example/app/build/tmp/compileArm64-v8aDebugHello-jniSharedLibraryHello-jniMainCpp/output.txt\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2012", "dll"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4651084, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-tkiAnccHTFM/AAAAAAAAAAI/AAAAAAAAAIs/ip5q4d41Szk/photo.jpg?sz=128", "display_name": "Saintycer", "link": "https://stackoverflow.com/users/4651084/saintycer"}, "edited": false, "score": 0, "creation_date": 1461190743, "post_id": 36756138, "comment_id": 61092475, "body": "Thank you so much for the answer. I&#39;ll take a look at both!"}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1461197405, "post_id": 36756138, "comment_id": 61094485, "body": "Static libraries are ideal when you just want to organize your code, particularly if you want to share them with others. That said, keep in mind that linker performance depends on the total size of the DLL or EXE being linked, so using DLLs can improve link time. Also, you have a defined &quot;ABI&quot; with a DLL so you can change just the DLL without having to rebuild the EXE--which for some apps is actually a security risk! Also remember that a static library .lib file itself is specific to the compiler version that created it (i.e. VS 2012 built-libs should not be used with VS 2015)."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 1, "last_activity_date": 1461190253, "creation_date": 1461190253, "answer_id": 36756138, "question_id": 36755882, "link": "https://stackoverflow.com/questions/36755882/entry-point-required-when-building-dll-release-on-visual-studio-2012/36756138#36756138", "title": "entry point required when building dll release on visual studio 2012", "body": "<p>Just like a program requires <code>main</code>, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682583(v=vs.85).aspx\" rel=\"nofollow\">DLLs require <code>DllMain</code></a>, a place to start and handle loading and unloading of the DLL. </p>\n\n<p>Rather than a DLL <a href=\"https://msdn.microsoft.com/en-us/library/ms235627.aspx\" rel=\"nofollow\">consider a static library</a>. There is far less overhead, no <code>DllMain</code> and supporting loaders and unloaders, and they are built directly into the compiled executable so you don't have to carry an extra file around and run the risk of clients with out of date DLLs or some malicious tool replacing your DLL with theirs. If you don't need the ability to swap out the the library with a replacement, a DLL is probably overkill. </p>\n"}], "owner": {"reputation": 37, "user_id": 4651084, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-tkiAnccHTFM/AAAAAAAAAAI/AAAAAAAAAIs/ip5q4d41Szk/photo.jpg?sz=128", "display_name": "Saintycer", "link": "https://stackoverflow.com/users/4651084/saintycer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "accepted_answer_id": 36756138, "answer_count": 1, "score": 0, "last_activity_date": 1461190253, "creation_date": 1461189085, "question_id": 36755882, "link": "https://stackoverflow.com/questions/36755882/entry-point-required-when-building-dll-release-on-visual-studio-2012", "title": "entry point required when building dll release on visual studio 2012", "body": "<p>I am new to DLL development and appreciated for any help.</p>\n\n<p>I have an existing c++ project and am trying to build it into dll using visual studio 2012. I changed the target extension and configuration type to be dll. I also excluded my main function. When I rebuilt it, the compiler complains:</p>\n\n<p><em>LINK : fatal error LNK1561: entry point must be defined</em></p>\n\n<p>When I moved the main function back, I could build the project successfully.</p>\n\n<p>I want to make a dll only because there are functions and objects I need to use for another project, so i don't think I need a main function for the dll. Is having a main function the only solution for this error? Thank you in advance.</p>\n"}, {"tags": ["javascript", "c++", "node.js", "v8", "node.js-nan"], "comments": [{"owner": {"reputation": 6118, "user_id": 106769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qsZek.png?s=128&g=1", "display_name": "Conspicuous Compiler", "link": "https://stackoverflow.com/users/106769/conspicuous-compiler"}, "edited": false, "score": 0, "creation_date": 1461189701, "post_id": 36755788, "comment_id": 61092074, "body": "What have you written that attempted to do that conversion?  Please provide some code in place of your comment.  How is this code not working as expected?"}, {"owner": {"reputation": 846, "user_id": 2391685, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fca5621cdafc7a44b79e8cb4690a7d0e?s=128&d=identicon&r=PG", "display_name": "user2391685", "link": "https://stackoverflow.com/users/2391685/user2391685"}, "reply_to_user": {"reputation": 6118, "user_id": 106769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qsZek.png?s=128&g=1", "display_name": "Conspicuous Compiler", "link": "https://stackoverflow.com/users/106769/conspicuous-compiler"}, "edited": false, "score": 0, "creation_date": 1461190746, "post_id": 36755788, "comment_id": 61092481, "body": "@ConspicuousCompiler I&#39;ve added an example. Basically, I need to call a function that takes boost date."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 6113329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZEvy9.jpg?s=128&g=1", "display_name": "Ross Meikleham", "link": "https://stackoverflow.com/users/6113329/ross-meikleham"}, "is_accepted": true, "score": 1, "last_activity_date": 1461193993, "last_edit_date": 1461193993, "creation_date": 1461192356, "answer_id": 36756554, "question_id": 36755788, "link": "https://stackoverflow.com/questions/36755788/conversion-between-v8value-to-date/36756554#36756554", "title": "Conversion between v8::value to date", "body": "<p>You can cast a v8 Value to a Date object with the <a href=\"http://bespin.cz/~ondras/html/classv8_1_1Date.html\" rel=\"nofollow\">v8::Date::Cast</a> function.</p>\n\n<p>From there you can extract the number of milliseconds since the Unix epoch (1st January 1970) with the <code>NumberValue</code> function.</p>\n\n<p>Then convert this number to a <a href=\"http://en.cppreference.com/w/cpp/chrono/c/time_t\" rel=\"nofollow\">std::time_t</a> object by casting the number of seconds <code>static_cast&lt;time_t&gt;(millisSinceEpoch/1000)</code></p>\n\n<p>From the <code>time_t</code> get a <a href=\"http://www.cplusplus.com/reference/ctime/tm/\" rel=\"nofollow\">struct *tm</a> with the <a href=\"http://www.cplusplus.com/reference/ctime/localtime/\" rel=\"nofollow\">localtime</a> function.</p>\n\n<p>Then finally extracting the day/month/year values:</p>\n\n<pre><code>void NodeObject::New(const Nan::FunctionCallbackInfo&lt;v8::Value&gt;&amp; info) {\n  if(info[0]-&gt;IsDate()) {\n    double millisSinceEpoch = v8::Date::Cast(*info[0])-&gt;NumberValue(); \n    std::time_t t = static_cast&lt;time_t&gt;(millisSinceEpoch/1000);\n\n    struct tm* ltime = localtime(&amp;t);\n    int year = ltime-&gt;tm_year + 1900;\n    int month = ltime-&gt;tm_mon + 1;\n    int day = ltime-&gt;tm_mday;\n\n    boost::gregorian::date d(year, month, day);  \n    double price = getPrice(date);         \n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 2391685, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fca5621cdafc7a44b79e8cb4690a7d0e?s=128&d=identicon&r=PG", "display_name": "user2391685", "link": "https://stackoverflow.com/users/2391685/user2391685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 36756554, "answer_count": 1, "score": 1, "last_activity_date": 1461193993, "creation_date": 1461188742, "last_edit_date": 1461190676, "question_id": 36755788, "link": "https://stackoverflow.com/questions/36755788/conversion-between-v8value-to-date", "title": "Conversion between v8::value to date", "body": "<p>I am writing C++ addon on v8 using nan. One of the arguments to constructor is of Date type. IsDate returns true, but I don't know how to convert it to C++ Date object to get Year, Month and Day and etc..</p>\n\n<pre><code>void NodeObject::New(const Nan::FunctionCallbackInfo&lt;v8::Value&gt;&amp; info) {\n    if(info[0]-&gt;IsDate()) {\n        //convert and get year, month and day\n        boost::gregorian::date d(2016 , 1 ,1);\n        double price = getPrice(date);\n    }\n}\n</code></pre>\n\n<p>Thanks for your helping!</p>\n"}, {"tags": ["c++", "qt", "stack", "match", "operator-keyword"], "comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 1, "creation_date": 1461188643, "post_id": 36755692, "comment_id": 61091680, "body": "But code is not the same and currently you&#39;re adding a double with...QCharRef...which result you expect?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6232538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae19d510dd7bc7746af8d229fe8248a8?s=128&d=identicon&r=PG&f=1", "display_name": "AshleyJWhitehouse", "link": "https://stackoverflow.com/users/6232538/ashleyjwhitehouse"}, "edited": false, "score": 0, "creation_date": 1461230734, "post_id": 36764454, "comment_id": 61108614, "body": "Ah thank you very much! Sorry for any of the confusing or sloppy code, I&#39;ve only been using c++ for a couple of months. Thank you very much for the help!"}], "tags": [], "owner": {"reputation": 70, "user_id": 5835888, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-RmTgbA2vwtY/AAAAAAAAAAI/AAAAAAAAEAc/daAaWWLIoYs/photo.jpg?sz=128", "display_name": "Gleb Belyaev", "link": "https://stackoverflow.com/users/5835888/gleb-belyaev"}, "is_accepted": true, "score": 3, "last_activity_date": 1461236193, "last_edit_date": 1461236193, "creation_date": 1461228615, "answer_id": 36764454, "question_id": 36755692, "link": "https://stackoverflow.com/questions/36755692/qt-creator-error-no-match-for-operator/36764454#36764454", "title": "QT Creator Error (no match for operator+)", "body": "<blockquote>\n  <p>operand = operand + (correctPostfix[i]);</p>\n</blockquote>\n\n<p>make like this</p>\n\n<pre><code>QString currentPostfixStr(correctPostfix[i]);\noperand = operand + currentPostfixStr.toDouble();\n</code></pre>\n\n<p>And this make QString</p>\n\n<blockquote>\n  <p>double calculate(string correctPostfix)</p>\n</blockquote>\n\n<p>what does you mean thih code:</p>\n\n<blockquote>\n  <p>correctPostfix[i] - '0'</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 6232538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae19d510dd7bc7746af8d229fe8248a8?s=128&d=identicon&r=PG&f=1", "display_name": "AshleyJWhitehouse", "link": "https://stackoverflow.com/users/6232538/ashleyjwhitehouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 36764454, "answer_count": 1, "score": 1, "last_activity_date": 1461236193, "creation_date": 1461188300, "question_id": 36755692, "link": "https://stackoverflow.com/questions/36755692/qt-creator-error-no-match-for-operator", "title": "QT Creator Error (no match for operator+)", "body": "<p>I'm attempting to build a Reverse Polish Notation calculator in QT Creator 5.6.0. However, every time I build my code I receive the following error:</p>\n\n<blockquote>\n  <p>no match for 'operator+' (operand types are 'double' and 'QCharRef')</p>\n</blockquote>\n\n<p>Below is the snippet of the code where the problem is happening. (I've used the 4 asterisks to mark the line where the error is happening)</p>\n\n<pre><code>double MainWindow::runCalculation(QString correctPostfix)\n{\nQStack&lt;double&gt; postfixStack;\n\nfor(int i = 0;i&lt; correctPostfix.length();i++) {\n\n    if(correctPostfix[i] == ' ' || correctPostfix[i] == ',') continue;\n\n    else if(isOperator(correctPostfix[i])) {\n        double val2 = postfixStack.top(); postfixStack.pop();\n        double val1 = postfixStack.top(); postfixStack.pop();\n        double result = performOp(correctPostfix[i], val1, val2);\n        postfixStack.push(result);\n    }\n    else if(isOperand(correctPostfix[i])){\n        double operand = 0;\n        while(i&lt;correctPostfix.length() &amp;&amp; isOperand(correctPostfix[i])) {\n ****          operand = operand + (correctPostfix[i]);\n            i++;\n        }\n        i--;\n\n        postfixStack.push(operand);\n    }\n}\n</code></pre>\n\n<p>The code was working perfectly fine before I tried moving it into QT. Below is the code I was using for this function when it was run in the console.</p>\n\n<pre><code>double calculate(string correctPostfix)\n{\n            stack&lt;double&gt; postfixStack;\n\nfor(int i = 0;i&lt; correctPostfix.length();i++) {\n\n    if(correctPostfix[i] == ' ' || correctPostfix[i] == ',') continue; \n\n    else if(isOperator(correctPostfix[i])) {\n        double val2 = postfixStack.top(); postfixStack.pop();\n        double val1 = postfixStack.top(); postfixStack.pop();\n        double result = performOp(correctPostfix[i], val1, val2);\n        postfixStack.push(result);\n    }\n    else if(isOperand(correctPostfix[i])){\n        double operand = 0; \n        while(i&lt;correctPostfix.length() &amp;&amp; isOperand(correctPostfix[i])) {\n            operand = (operand*10) + (correctPostfix[i] - '0'); \n            i++;\n        }\n        i--;\n\n        postfixStack.push(operand);\n    }\n}\n\nreturn postfixStack.top();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1461188866, "post_id": 36755658, "comment_id": 61091750, "body": "Why are you dereferencing your pointer before calling the <code>getDrinkXXX</code> methods? For that matter, why don&#39;t you actually call the methods (ie. use <code>getDrinkXXX()</code>)? You probably want to do <code>Cola-&gt;getDrinkName()</code> instead of <code>*Cola-&gt;getDrinkName</code>."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 1, "creation_date": 1461189205, "post_id": 36755658, "comment_id": 61091889, "body": "It is vitally important that you learn to start with simple exercises and work up to complex ones. If you type in a program this big, at a level of complexity this far beyond your familiar range, it&#39;ll probably have bugs-- and even if you copied it perfectly from a perfectly correct source, you&#39;ll learn nothing."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461189352, "post_id": 36755658, "comment_id": 61091952, "body": "Compared to <code>SYNTAX ERR</code>, Visual Studio&#39;s error messages are a godsend. Could be better, but the problem is the error message has to deal in generalities, so very often they can&#39;t explain exactly what you got wrong. Anyway, your syntax is pretty messed up and the compiler probably doesn&#39;t understand enough of what you are telling it to give you a good error message. Recommendation: write less code before trying to build and test."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461189664, "post_id": 36755658, "comment_id": 61092056, "body": "And while I&#39;m ranting like an old man, get rid of all those damn pointers! You don&#39;t need them and you aren&#39;t cleaning up after them. Only use a pointer if you have no other sane alternative."}], "answers": [{"tags": [], "owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "is_accepted": true, "score": 3, "last_activity_date": 1461188989, "creation_date": 1461188989, "answer_id": 36755855, "question_id": 36755658, "link": "https://stackoverflow.com/questions/36755658/left-of-getdrinkprice-must-have-class-struct-union/36755855#36755855", "title": "Left of &#39;.getDrinkPrice&#39; must have class/struct/union", "body": "<p><code>*Cola->getDrinkName</code> is not correct.<br><br>\nUse either <code>Cola->getDrinkName()</code> or <code>(*Cola).getDrinkName()</code> instead; same for all other calls of the same kind in your code.</p>\n"}], "owner": {"reputation": 27, "user_id": 4555797, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a1e2f25c8e25a2b1b0e16ef9ec309dc1?s=128&d=identicon&r=PG&f=1", "display_name": "amingst", "link": "https://stackoverflow.com/users/4555797/amingst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "accepted_answer_id": 36755855, "answer_count": 1, "score": -1, "last_activity_date": 1461205190, "creation_date": 1461188219, "last_edit_date": 1461205190, "question_id": 36755658, "link": "https://stackoverflow.com/questions/36755658/left-of-getdrinkprice-must-have-class-struct-union", "title": "Left of &#39;.getDrinkPrice&#39; must have class/struct/union", "body": "<p>This is a project from a c++ book I'm learning from. </p>\n\n<p>I keep getting the error </p>\n\n<pre><code>\"left of '.getDrinkPrice' must have class/struct/union\"\n</code></pre>\n\n<p>I have tried fixing it but I just keep messing it up further. The visual studio error lists aren't too friendly for new users and this is really bothering me. I obviously don't want the code to be reposted fixed but I do want to be pointed in the right direction.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;Windows.h&gt;\n\nusing namespace std;\n\ndouble wallet = 10.00;\nint change;\nbool isRunning;\nbool isChoosing;\nint userChoice;\ndouble pricePaid;\n\nclass Soda {\nprivate:\n    string drinkName;\n    double drinkPrice;\n    int drinkAmt;\n\npublic:\n    Soda() {\n        drinkName;\n        drinkPrice = .75;\n        drinkAmt = 20;\n    }\n\n    void setDrinkName(string name) {\n        drinkName = name;\n    }\n\n    string getDrinkName() {\n        return drinkName;\n    }\n\n    void setDrinkPrice(double price) {\n        drinkPrice = price;\n    }\n\n    double getDrinkPrice() {\n        return drinkPrice;\n    }\n\n    void setDrinkAmt(int amt) {\n        drinkAmt = amt;\n    }\n\n    void setNewDrinkAmount(int amt, int i) {\n        drinkAmt = amt - i;\n    }\n\n    int getDrinkAmt() {\n        return drinkAmt;\n    }\n\n};\n\n// Declares classes\nSoda * Cola = new Soda;\nSoda * RootBeer = new Soda;\nSoda * LemonLime = new Soda;\nSoda * Grape = new Soda;\nSoda * Cream = new Soda;\nSoda *soda = new Soda;\n\nstatic void init() {\n\n// Pushes the Vending Machine data to the screen\n    cout &lt;&lt; \"Drink Name: \" &lt;&lt; \" \" &lt;&lt; \"Drink Cost: \" &lt;&lt; \" \" &lt;&lt; \"Number in machine: \\n\";\n\n    cout &lt;&lt; *Cola-&gt;getDrinkName &lt;&lt; \" \" &lt;&lt; *Cola-&gt;getDrinkPrice &lt;&lt; \" \" &lt;&lt; *Cola-&gt;getDrinkAmt &lt;&lt;endl;\n\n    cout &lt;&lt; *RootBeer-&gt;getDrinkName &lt;&lt; \" \" &lt;&lt; *RootBeer-&gt;getDrinkPrice &lt;&lt; \" \" &lt;&lt; *RootBeer-&gt;getDrinkAmt &lt;&lt; endl;\n\n    cout &lt;&lt; *LemonLime-&gt;getDrinkName &lt;&lt; \" \" &lt;&lt; *LemonLime-&gt;getDrinkPrice &lt;&lt; \" \" &lt;&lt; *LemonLime-&gt;getDrinkAmt &lt;&lt; endl;\n\n    cout &lt;&lt; *Grape-&gt;getDrinkName &lt;&lt; \" \" &lt;&lt; *Grape-&gt;getDrinkPrice &lt;&lt; \" \" &lt;&lt; *Grape-&gt;getDrinkAmt &lt;&lt; endl;\n\n    cout &lt;&lt; *Cream-&gt;getDrinkName &lt;&lt; \" \" &lt;&lt; *Cream-&gt;getDrinkPrice &lt;&lt; \" \" &lt;&lt; *Cream-&gt;getDrinkAmt &lt;&lt; endl;\n\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"You have $\" &lt;&lt; wallet &lt;&lt; endl;\n    cout &lt;&lt; endl;\n}\n\nvoid checkValidPurchase(Soda soda, double w, double p) {\n    double priceOfDrink = soda.getDrinkPrice();\n    int amountOfDrink = soda.getDrinkAmt;\n\n    // If there are enough drinks are in the machine\n    if (amountOfDrink &gt; 0) {\n\n        // If user has enough money\n        if (w &gt;= priceOfDrink) {\n\n            // If amount paid is greater than drink price\n            if (p &gt; priceOfDrink) {\n\n                // Calculate price and change\n                w = w - p;\n                double getChange = p - priceOfDrink;\n\n                // Return Change\n                cout &lt;&lt; \"Paid \" &lt;&lt; p &lt;&lt; \" returning \" &lt;&lt; getChange &lt;&lt; endl;\n\n                // Update amounts\n                int j = soda.getDrinkAmt;\n                soda.setNewDrinkAmount(j, 1);\n                w = w + getChange;\n            }\n\n            // If amount paid is equal to drink price\n            else if (p == priceOfDrink) {\n\n                // Calculate price\n                w = w - p;\n                cout &lt;&lt; \"Paid \" &lt;&lt; p &lt;&lt; endl;\n\n                // Update amounts\n                int j = soda.getDrinkAmt;\n                soda.setNewDrinkAmount(j, 1);\n            }\n\n            // If amount paid is less than drink price\n            else if (p &lt; priceOfDrink) {\n\n                // Prompt error and return to drink select\n                cout &lt;&lt; \"You did not enter enough money, returning to drink select. \\n\";\n                Sleep(3000);\n            }\n        }\n\n        // If user does not have enough money\n        else {\n            cout &lt;&lt; \"Not enough money in wallet. \\n\";\n            double amtNeeded = w + (w - priceOfDrink);\n            cout &lt;&lt; \"You have: \" &lt;&lt; w &lt;&lt; \" Needed for purchase: \" &lt;&lt; amtNeeded &lt;&lt; endl;\n            Sleep(3000);\n        }\n    }\n\n    // If there are not enough drinks in machine\n    else {\n        cout &lt;&lt; \"Not enough of \" &lt;&lt; soda.getDrinkName &lt;&lt; \" in machine. \\n\";\n        Sleep(3000);\n    }\n\n}\n\nvoid sodaMachine() {\n\n    // Starts the drink select loop\n    isChoosing = true;\n\n    while (isChoosing) {\n\n        // gets user input\n        cout &lt;&lt; \"Enter the number of the soda you would like: \\n\";\n        cout &lt;&lt; \"Or to quit, press escape \\n\";\n\n        switch (userChoice) {\n        case 1:\n            cout &lt;&lt; \"Dispensing Cola \\n\";\n            cout &lt;&lt; \"Cost is .75 \\n\";\n            cin &gt;&gt; pricePaid;\n\n            checkValidPurchase(*Cola, wallet, pricePaid);\n            isChoosing = false;\n            break;\n\n        case 2:\n            cout &lt;&lt; \"Dispensing Root Beer \\n\";\n            cout &lt;&lt; \"Cost is .75 \\n\";\n            cin &gt;&gt; pricePaid;\n\n            checkValidPurchase(*RootBeer, wallet, pricePaid);\n            isChoosing = false;\n            break;\n\n        case 3:\n            cout &lt;&lt; \"Dispensing Lemon Lime \\n\";\n            cout &lt;&lt; \"Cost is .75 \\n\";\n            cin &gt;&gt; pricePaid;\n\n            checkValidPurchase(*LemonLime, wallet, pricePaid);\n            isChoosing = false;\n            break;\n\n        case 4:\n            cout &lt;&lt; \"Dispensing Grape \\n\";\n            cout &lt;&lt; \"Cost is .80 \\n\";\n            cin &gt;&gt; pricePaid;\n\n            checkValidPurchase(*Grape, wallet, pricePaid);\n            isChoosing = false;\n            break;\n\n        case 5:\n            cout &lt;&lt; \"Dispensing Cream \\n\";\n            cout &lt;&lt; \"Cost is .80 \\n\";\n            cin &gt;&gt; pricePaid;\n\n            checkValidPurchase(*Cream, wallet, pricePaid);\n            isChoosing = false;\n            break;\n\n        case WM_CHAR:\n\n            if (GetAsyncKeyState(VK_ESCAPE)) {\n                cout &lt;&lt; \"Exiting program \\n\";\n                isRunning = false;\n                break;\n            }\n\n        default:\n            isChoosing = false;\n            break;\n        }\n\n    }\n}\n\nint main() {\n\n    // Sets class values\n    Cola-&gt;setDrinkName(\"1. Cola\");\n    RootBeer-&gt;setDrinkName(\"2. RootBeer\");\n    LemonLime-&gt;setDrinkName(\"3. LemonLime\");\n    Grape-&gt;setDrinkName(\"4. Grape\");\n    Grape-&gt;setDrinkPrice(.80);\n    Cream-&gt;setDrinkName(\"5. Cream\");\n    Cream-&gt;setDrinkPrice(.80);\n\n    isRunning = true;\n\n    while (isRunning) {\n\n        // Run Program\n        init();\n        sodaMachine();\n        system(\"cls\");\n\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qdialog"], "comments": [{"owner": {"reputation": 13479, "user_id": 1830736, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/gwUf7.jpg?s=128&g=1", "display_name": "George Hilliard", "link": "https://stackoverflow.com/users/1830736/george-hilliard"}, "edited": false, "score": 1, "creation_date": 1461199341, "post_id": 36755628, "comment_id": 61095028, "body": "It would be great if you could post an <a href=\"https://stackoverflow.com/help/mcve\">MVCE</a> so that those of us who have Qt installed can just paste and start helping immediately."}, {"owner": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 0, "creation_date": 1461234130, "post_id": 36755628, "comment_id": 61111080, "body": "Unless you are setting a fixed size to your dialog, the size of the dialog is not calculated until it is shown."}], "answers": [{"tags": [], "owner": {"reputation": 3754, "user_id": 4732082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781cea048e688814961606ddf35c5881?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4732082/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1461207731, "last_edit_date": 1461207731, "creation_date": 1461207000, "answer_id": 36758716, "question_id": 36755628, "link": "https://stackoverflow.com/questions/36755628/how-to-center-qdialog/36758716#36758716", "title": "How to center QDialog?", "body": "<pre><code>QRect screenGeometry = QApplication::desktop()-&gt;screenGeometry();\nQRect windowRect = rect();\n</code></pre>\n\n<p>First get a copy of your own window rect.</p>\n\n<pre><code>windowRect.moveCenter(screenGeometry.center());\n</code></pre>\n\n<p>Move the copy to the center of the screen's rect.</p>\n\n<pre><code>move(windowRect.topLeft());\n</code></pre>\n\n<p>Perform the actual move: set your windows top left point to the calculated top left point. No resize is necessary.</p>\n"}], "owner": {"reputation": 693, "user_id": 5622896, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iOzJT.jpg?s=128&g=1", "display_name": "Przemys\u0142aw Tamo\u0144", "link": "https://stackoverflow.com/users/5622896/przemys%c5%82aw-tamo%c5%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 36758716, "answer_count": 1, "score": 2, "last_activity_date": 1581424434, "creation_date": 1461188087, "last_edit_date": 1581424434, "question_id": 36755628, "link": "https://stackoverflow.com/questions/36755628/how-to-center-qdialog", "title": "How to center QDialog?", "body": "<p>I'm trying to center my QDialog.</p>\n\n<p>Here's a code I used:</p>\n\n<pre><code>QRect screenGeometry = QApplication::desktop()-&gt;screenGeometry();\nint x = (screenGeometry.width() - this-&gt;width()) / 2;\nint y = (screenGeometry.height() - this-&gt;height()) / 2;\nthis-&gt;move(x, y);\n</code></pre>\n\n<p>But I didn't get my dialog at an appropriate posistion. When I printed values of a dialog's width and height I noticed that they were much smaller than a real ones. To check if something was working in a wrong way I changed it's geometry:</p>\n\n<pre><code>this-&gt;setGeometry(100,100,this-&gt;width(),this-&gt;height());\n</code></pre>\n\n<p>And my dialog shrank...</p>\n\n<p>Can someone tell me what's going on? </p>\n"}, {"tags": ["c++", "ios", "opencv", "video-capture"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5115539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9c3dd803818e0d8798f99704b288ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Carpenter", "link": "https://stackoverflow.com/users/5115539/ben-carpenter"}, "is_accepted": true, "score": 0, "last_activity_date": 1463005808, "last_edit_date": 1495540357, "creation_date": 1463005808, "answer_id": 37174335, "question_id": 36755514, "link": "https://stackoverflow.com/questions/36755514/opencv-videocapture-gives-bad-properties-for-file-in-ios-app-documents-directory/37174335#37174335", "title": "OpenCV videoCapture gives bad properties for file in iOS app documents directory", "body": "<p>It appears that this has been an issue for at least the last 2 years (<a href=\"https://stackoverflow.com/questions/22006052/opencv-on-ios-videocapture-properties-always-return-1\">OpenCV on iOS - VideoCapture properties always return 1</a>) and that the iOS version of videocapture simply doesn't work for opening files.  </p>\n\n<p>I found an alternate way to do this (opening the video with apple apis then converting each frame to an opencv Mat) but in general it seems that the iOS port of opencv is far from complete and nearly completely undocumented. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11543366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c8b9e3d4169893ae491c78a6e8d84f?s=128&d=identicon&r=PG&f=1", "display_name": "farazBhatti", "link": "https://stackoverflow.com/users/11543366/farazbhatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1617529252, "last_edit_date": 1617529252, "creation_date": 1582617135, "answer_id": 60389804, "question_id": 36755514, "link": "https://stackoverflow.com/questions/36755514/opencv-videocapture-gives-bad-properties-for-file-in-ios-app-documents-directory/60389804#60389804", "title": "OpenCV videoCapture gives bad properties for file in iOS app documents directory", "body": "<p>First, get the URL of video file from UIImagePickerController object</p>\n<pre class=\"lang-swift prettyprint-override\"><code>func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) {\n    picker.dismiss(animated: true, completion: nil)\n    \n    let url = info[UIImagePickerController.InfoKey.mediaURL] as? NSURL\n    let asset   = AVURLAsset.init(url: url! as URL)\n    \n    \n    let mainstoryBoard = UIStoryboard(name:&quot;Main&quot;, bundle: nil)\n    let viewcontroller = mainstoryBoard.instantiateViewController(withIdentifier:&quot;ViewController&quot;) as! ViewController\n    viewcontroller.url = url\n    viewcontroller.asset = asset\n    self.navigationController?.pushViewController(viewcontroller, animated: true) \n}\n</code></pre>\n<p>After that, use this url to send to cvwrapper.mm file as shown in openVideoFile function</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>- (void)openVideoFile:(NSURL *)fileName {\n    \n    NSString *filename = fileName.path;\n    std::string filePath = [filename UTF8String];\n    \n    cv::VideoCapture capture(filePath);\n    \n    if (!capture.isOpened()) {\n        printf(&quot;@Error Opening video file&quot;);\n        // failed, print error message\n    }\n    else {\n        printf(&quot;File Opened&quot;);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5115539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9c3dd803818e0d8798f99704b288ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Carpenter", "link": "https://stackoverflow.com/users/5115539/ben-carpenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 37174335, "answer_count": 2, "score": 1, "last_activity_date": 1617529252, "creation_date": 1461187599, "question_id": 36755514, "link": "https://stackoverflow.com/questions/36755514/opencv-videocapture-gives-bad-properties-for-file-in-ios-app-documents-directory", "title": "OpenCV videoCapture gives bad properties for file in iOS app documents directory", "body": "<p>I am working on an iOS app that records video then does some processing on that video to create another video file.  I'm getting really odd behavior from videoCapture though.  It acts like the file has been opened but get() calls seem to return 1 for all the properties I care about (and I know they are not 1).  My code looks like this:</p>\n\n<pre><code>VideoCapture cap(fileIn); // open the video file for reading\n\nif ( !cap.isOpened() )  // if not success, exit program\n  {\n    cout &lt;&lt; \"Cannot open the video file\" &lt;&lt; endl;\n    return -1;\n  }\n  else{\n    cout &lt;&lt; \"File Open \" &lt;&lt; fileIn &lt;&lt; endl;\n  }\n\n  double dFps = cap.get(CV_CAP_PROP_FPS); //get the frames per seconds of the video\n  cout &lt;&lt; \"Frames per second = \" &lt;&lt; dFps &lt;&lt; endl;\n\n  double dWidth = cap.get(CV_CAP_PROP_FRAME_WIDTH); //get the width of frames of the video\n  double dHeight = cap.get(CV_CAP_PROP_FRAME_HEIGHT); //get the height of frames of the video\n  cout &lt;&lt; \"Frame Size = \" &lt;&lt; dWidth &lt;&lt; \"x\" &lt;&lt; dHeight &lt;&lt; endl;\n\n  Size frameSize(static_cast&lt;int&gt;(dWidth), static_cast&lt;int&gt;(dHeight));\n\n  double dFrameCount = cap.get(CV_CAP_PROP_FRAME_COUNT);\n  cout &lt;&lt; \"Frame count = \" &lt;&lt; dFrameCount &lt;&lt; endl;\n\n  VideoWriter oVideoWriter (fileOut, CV_FOURCC('m','p', '4', 'v'), dFps, frameSize, true); //initialize the VideoWriter object\n\n  if ( !oVideoWriter.isOpened() ) //if not initialize the VideoWriter successfully, exit the program\n  {\n    cout &lt;&lt; \"ERROR: Failed to write the video\" &lt;&lt; endl;\n    return -1;\n  }\n  else{\n    cout &lt;&lt; \"Output file open.\" &lt;&lt; endl;\n  }\n</code></pre>\n\n<p>and the console output is:</p>\n\n<pre><code>File Open /var/mobile/Containers/Data/Application/7CEE8B87-BD50-4172-8F62-A74AD7F3C45A/Documents/15318B74-07D9-43EE-932F-224EDCA9CDA7.mov\nFrames per second = 1\nFrame Size = 1x1\nFrame count = 1\nOutput file open.\n</code></pre>\n\n<p>I tried changing the file path to an invalid file in case it wasn't finding the file at all but that gave me \"Cannot open the video file\".  Any ideas would be appreciated.  I'm thinking it could possibly be a permissions issue because I saw similar behavior when I tried to access a video in the camera roll with this code but this file is in my app's documents directory so I should have full access to it.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1461187362, "post_id": 36755387, "comment_id": 61091100, "body": "You could easily walk off the end of the string there. <code>i &lt; content.size()</code> means <code>i+2</code> is too large."}], "answers": [{"tags": [], "owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "is_accepted": true, "score": 0, "last_activity_date": 1461187848, "creation_date": 1461187848, "answer_id": 36755578, "question_id": 36755387, "link": "https://stackoverflow.com/questions/36755387/printing-out-an-unswapped-array/36755578#36755578", "title": "Printing out an unswapped array", "body": "<p>Your loop indexing is not correct. As @tadman pointed out, you will walk off the string. </p>\n\n<p>The first loop would have to terminate 2 indices shorter than the size, so that when you add 2, it would be 1 less than content.size(). Remember C/C++ is 0 indexed, therefore if size is 10, element 9 is the last index of the string.</p>\n\n<pre><code>for (i = 0; i &lt; content.size()-2; i+=2) {\n            doSwap(content[i], content[i+2]);\n    }\n</code></pre>\n\n<p>Similarly the second loop should start 1 short of the size and terminate at 2, so when you index into <code>i-2</code>, you are indexing no less than 0.</p>\n\n<pre><code> for (i = after.size()-1; i &gt;= 2; i -=2) {\n        doSwap(after[i], after[i-2]);\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6232358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff0e171e4a962370cd1d1483befaa121?s=128&d=identicon&r=PG&f=1", "display_name": "WeAreTeam14", "link": "https://stackoverflow.com/users/6232358/weareteam14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36755578, "answer_count": 1, "score": 0, "last_activity_date": 1461187848, "creation_date": 1461187090, "question_id": 36755387, "link": "https://stackoverflow.com/questions/36755387/printing-out-an-unswapped-array", "title": "Printing out an unswapped array", "body": "<p>I'm learning how to make myself a simple XOR encryption. However, to make things more difficult for a person to decipher the message I want to try to swap characters and then swap them back (after the user enters the key for the decryption).</p>\n\n<p>This is my output:</p>\n\n<p><code>yet ih ssia t se!t !</code></p>\n\n<p><code>ey this is a test!!</code></p>\n\n<p>Does anyone know why it is cutting off the <code>h</code> in the second printout? I'm still fairly new to programming and spent a good hour trying to figure it out.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;cstring&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid doSwap (char &amp;string1, char &amp;string2) {\n    char temp;\n    temp = string1;\n    string1 = string2;\n    string2 = temp;\n}\n\n\nint main() {\n\n    string content = \"hey this is a test!!\";\n    string after, after2;\n    int i;\n\n        for (i = 0; i &lt; content.size(); i+=2) {\n            doSwap(content[i], content[i+2]);\n        }\n    after = content;\n\ncout &lt;&lt; after &lt;&lt; \"\\n\";\n\n    for (i = after.size(); i &gt; 0; i -=2) {\n        doSwap(after[i], after[i-2]);\n    }\n    after2 = after;\n\ncout &lt;&lt; after2 &lt;&lt; \"\\n\";\n\n }\n</code></pre>\n"}, {"tags": ["c++", "list"], "comments": [{"owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "edited": false, "score": 3, "creation_date": 1461187158, "post_id": 36755311, "comment_id": 61090993, "body": "There are a couple of problems with your code: (i) Where are you initializing tail? (ii) In the AddNode why not use tail directly rather than iterating till the end, (iii) In the PrintReverse function, you already have tail nodePtr in your class, why not start there?"}, {"owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "edited": false, "score": 1, "creation_date": 1461187321, "post_id": 36755311, "comment_id": 61091078, "body": "Implementing a doubly linked list can be slightly tricky, depending on how much programming experience you have. Why not use the list container from STL?"}, {"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 3, "creation_date": 1461187373, "post_id": 36755311, "comment_id": 61091105, "body": "@AmmarHussain I think 99% of linked-list questions are homework assignments."}, {"owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "reply_to_user": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1461187956, "post_id": 36755311, "comment_id": 61091373, "body": "@NicolasHolthaus: True that!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461188029, "post_id": 36755311, "comment_id": 61091407, "body": "Off topic: recommend moving the four lines after allocating the <code>new node</code> in <code>AddNode</code> to a <code>node</code> constructor. Makes for cleaner code. <code>node</code> should look after <code>node</code> and <code>PLAYER</code> should look after <code>PLAYER</code>. And of course Ape shall not kill Ape."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461188199, "post_id": 36755311, "comment_id": 61091492, "body": "Also off topic: <code>typedef struct</code> is a left-over from the 70&#39;s. You can safely jettison <code>nodePtr</code> in favour of <code>node *</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461188625, "post_id": 36755311, "comment_id": 61091662, "body": "Recommend against having a head and tail be anything other than pointers to the first and last <code>node</code>s respectively. <code>n-&gt;next = tail</code> suggests that <code>tail</code> is a placeholder, and this will complicate things. For example, you can&#39;t use <code>tail</code> to get the end of the list, but if <code>tail</code> points to the last <code>node</code> and the last <code>node</code>&#39;s <code>next</code> points to <code>nullptr</code>, then you can add a new <code>node</code> by <code>tail-&gt;next = n; n-&gt;prev = tail; tail = n;</code> with far less effort."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1461190400, "post_id": 36755478, "comment_id": 61092335, "body": "In <code>PrintReverse()</code>, you should check if <code>tail</code> is NULL before looping, in case the list is empty."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1461192723, "post_id": 36755478, "comment_id": 61093189, "body": "<code>PrintReverse()</code> is also skipping the first node in the list. You should be using <code>while(curr != NULL)</code> instead of <code>while(curr-&gt;prev != NULL)</code>"}, {"owner": {"reputation": 21, "user_id": 6111591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996c04290359f2349cd4f3586e90928e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Boomer", "link": "https://stackoverflow.com/users/6111591/chris-boomer"}, "edited": false, "score": 1, "creation_date": 1461192749, "post_id": 36755478, "comment_id": 61093199, "body": "Thank you very much for the assistance!"}], "tags": [], "owner": {"reputation": 2868, "user_id": 6184684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f535fc95ebb88dada1ace7c012ba32e8?s=128&d=identicon&r=PG&f=1", "display_name": "qwertyman", "link": "https://stackoverflow.com/users/6184684/qwertyman"}, "is_accepted": false, "score": 1, "last_activity_date": 1461193474, "last_edit_date": 1461193474, "creation_date": 1461187467, "answer_id": 36755478, "question_id": 36755311, "link": "https://stackoverflow.com/questions/36755311/c-double-linked-list-reverse-print/36755478#36755478", "title": "C++ Double Linked List Reverse Print", "body": "<p>The following changes would need to be considered.</p>\n\n<p>The <code>PrintReverse</code> function would not need the forward pass to obtain the <code>tail</code>.</p>\n\n<pre><code>void PLAYER::PrintReverse()\n{\n    curr = tail; \n    while(curr != NULL)    //Work backward and print out the contents\n    {\n        std::cout &lt;&lt; curr-&gt;ID &lt;&lt; \" \" &lt;&lt; curr-&gt;name &lt;&lt; endl;\n        curr = curr-&gt;prev;\n    }\n}\n</code></pre>\n\n<p>There is a problem in how tail is handled in the <code>AddNode</code> function. See the lines where the comments contain <code>[CHANGED]</code> and <code>[ADDED]</code>:</p>\n\n<pre><code>if(head != NULL){  // This checks to see if a list is set up.\n    curr = head;    // Make this point to the head.\n    while(curr-&gt;next != NULL){ // Loops through until the NULL is found\n        curr = curr-&gt;next;\n    }\n    curr-&gt;next = n; //Make the currnet node point to N\n    n-&gt;prev = curr; //Make the previous node connect to curr\n    n-&gt;next = NULL; // [CHANGED]: we want the last node not to have a successor.\n}\nelse{\n    head = n;   //If there is no list, this makes N the first node.\n}\n\ntail = n;       // [ADDED]: the last node added is the new tail. \n</code></pre>\n\n<p>However, a simpler solution is to avoid again the forward pass, and start from tail.</p>\n\n<pre><code>if(tail != NULL){  // This checks to see if a list is set up.\n    tail-&gt;next = n; //Make the old tail node point to N\n    n-&gt;prev = tail; \n    n-&gt;next = NULL; \n}\nelse{\n    head = n;   //If there is no list, this makes N the first node.\n}\n\ntail = n;       // The last node added is the new tail. \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6111591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996c04290359f2349cd4f3586e90928e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Boomer", "link": "https://stackoverflow.com/users/6111591/chris-boomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1461193474, "creation_date": 1461186840, "last_edit_date": 1461190161, "question_id": 36755311, "link": "https://stackoverflow.com/questions/36755311/c-double-linked-list-reverse-print", "title": "C++ Double Linked List Reverse Print", "body": "<p>I am trying to write a reverse print function as part of a doubly linked list.  Here are the relevant functions that I have written:</p>\n\n<pre><code>void PLAYER::AddNode(int addID, std::string addName){\n\nnodePtr n = new node; //creates a new node pointer\nn-&gt;next = NULL;       //Make next null\nn-&gt;prev = NULL;      // this will set this to be the ending node\nn-&gt;ID = addID;      //These two lines pass the information into the node\nn-&gt;name = addName;  // ID# and Name Information\n\nif(head != NULL){  // This checks to see if a list is set up.\n    curr = head;    // Make this point to the head.\n    while(curr-&gt;next != NULL){ // Loops through until the NULL is found\n        curr = curr-&gt;next;\n    }\n    curr-&gt;next = n; //Make the currnet node point to N\n    n-&gt;prev = curr; //Make the previous node connect to curr\n    n-&gt;next = tail; // connect new node to the tail.\n\n}\nelse{\n    head = n;   //If there is no list, this makes N the first node.\n\n}\n</code></pre>\n\n<p>Here is the class that prototypes the functions to be used.  </p>\n\n<pre><code>class PLAYER\n{\npublic:  // Functions go inside PUBLIC\n    PLAYER();\n    void AddNode(int addID, std::string addName);\n    void DeleteNode(int delPlayer);\n    void SortNode();\n    void PrintList();\n    void InsertHead(int AddID, std::string addName);\n    void PrintReverse();\n\nprivate:  //Variables go into here\n   typedef struct node{\n            // ...\n            std::string name;\n            int ID;\n            node* next;\n            node* prev;\n    }* nodePtr;\n\n\n    nodePtr head, curr, temp, prev, test, tail;\n\n\n};\n</code></pre>\n\n<p>And finally my attempt to create a reverse traversing function to print backwards.</p>\n\n<pre><code>void PLAYER::PrintReverse()\n{\n    curr = head; \n    while(curr-&gt;next != NULL) //Get to the end of the list\n    {\n        curr = curr-&gt;next;\n    }\n    while(curr-&gt;prev != NULL)    //Work backward and print out the contents\n    {\n        std::cout &lt;&lt; curr-&gt;ID &lt;&lt; \" \" &lt;&lt; curr-&gt;name &lt;&lt; endl;\n        curr = curr-&gt;prev;\n    }\n}\n</code></pre>\n\n<p>What I would like to do is inside the PrintReverse() function have it initialize via the tail pointer, however I can not figure out the functions to add to PrintReverse() and to AddNode() in order to have the new nodes pointed to by tail.</p>\n\n<p>This is my first question posting here, I hope I covered all my bases.  Thank you for any help I can find. </p>\n\n<p>EDIT:</p>\n\n<p>Thank you for all your input.  I am relearning data structures and yes this is some self imposed homework on my part to begin to get the logic flowing again.  </p>\n\n<p>I will make the changes when I get home tonight.</p>\n"}, {"tags": ["c++", "syntax", "namespaces"], "comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1461186868, "post_id": 36755242, "comment_id": 61090846, "body": "in <code>foo.cpp</code> you write <code>using namespace foo</code> while you should actually write: <code>namespace foo { &lt;your code&gt; }</code>. Using namespace is not the same as defining a namespace. And also you need the <code>extern &quot;C&quot;</code> stuff inside foo.cpp else your linker will cry."}, {"owner": {"reputation": 121, "user_id": 4298075, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CkumP.jpg?s=128&g=1", "display_name": "mdavidjohnson", "link": "https://stackoverflow.com/users/4298075/mdavidjohnson"}, "reply_to_user": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1461189174, "post_id": 36755242, "comment_id": 61091872, "body": "Thank you, BitTickler, but that would seem to be covered by the #include foo.h statement in foo.cpp. As I said, the code runs perfectly without the namespace specification."}, {"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1461191078, "post_id": 36755242, "comment_id": 61092588, "body": "You cannot declare code to be member of a namespace in a header and then not add the code to the namespace. <code>namespace foo { void foofunc(); } ... namespace foo { void foofunc() {} }</code> is what you need."}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 4298075, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CkumP.jpg?s=128&g=1", "display_name": "mdavidjohnson", "link": "https://stackoverflow.com/users/4298075/mdavidjohnson"}, "edited": false, "score": 0, "creation_date": 1461189425, "post_id": 36755336, "comment_id": 61091984, "body": "Interesting (no pun intended). I thought all I was doing by using the extern &quot;C&quot; linkage was eliminating the name mangling. I&#39;m still compiling with g++, not gcc. Since my ultimate plan is to rewrite foo.s and use it without the .cpp file, I need the C linkage because the assembler doesn&#39;t recognize anything else. Is there any other way to obviate (or at least minimize) potential name collisions?"}, {"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1461191272, "post_id": 36755336, "comment_id": 61092655, "body": "Yes, with <code>extern &quot;C&quot;</code> you define the linkage (and name mangling). You can perfectly well have c-linkage functions inside a namespace. Does not often make sense, but is legal. You cannot &quot;cheat&quot; a C-api to suddenly be inside a c++ namespace, though (which I feel the author of the question is attempting)."}], "tags": [], "owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "is_accepted": false, "score": 0, "last_activity_date": 1461186920, "creation_date": 1461186920, "answer_id": 36755336, "question_id": 36755242, "link": "https://stackoverflow.com/questions/36755242/c-namespace-errors/36755336#36755336", "title": "C++ namespace errors", "body": "<p>You are asking for C linkage. But C has no namespace concept. That seems like a conflict of interest to me.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 4298075, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CkumP.jpg?s=128&g=1", "display_name": "mdavidjohnson", "link": "https://stackoverflow.com/users/4298075/mdavidjohnson"}, "edited": false, "score": 0, "creation_date": 1461245708, "post_id": 36755949, "comment_id": 61119818, "body": "Okay, now I&#39;m really confused. fooPtr appears within the bracketed namespace joke in foo.h. It follows the using namespace joke; statement in both foo.cpp and in bar.cpp - where is it appearing in an unnamed namespace?"}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "reply_to_user": {"reputation": 121, "user_id": 4298075, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CkumP.jpg?s=128&g=1", "display_name": "mdavidjohnson", "link": "https://stackoverflow.com/users/4298075/mdavidjohnson"}, "edited": false, "score": 0, "creation_date": 1461275382, "post_id": 36755949, "comment_id": 61138555, "body": "The declaration of <code>fooPtr</code> in foo.h is within namespace <code>joke</code>.   The declaration in foo.cpp is at file scope, not within any namespace, so is in the unnamed namespace.   The preceding <code>using namespace joke</code> in foo.cpp does not associate the subsequent declaration/definition <code>int *fooPtr</code> with namespace <code>joke</code>."}], "tags": [], "owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1461189338, "creation_date": 1461189338, "answer_id": 36755949, "question_id": 36755242, "link": "https://stackoverflow.com/questions/36755242/c-namespace-errors/36755949#36755949", "title": "C++ namespace errors", "body": "<p><code>fooPtr</code> is declared both globally (in the unnamed <code>namespace</code>) and in <code>namespace joke</code>.   They are different entities.</p>\n\n<p>The <code>using namespace joke</code> then tells the compiler to use names from within <code>joke</code> as candidates to match identifiers</p>\n\n<p>The names <code>::fooPtr</code> and <code>joke::fooPtr</code> are both visible to the compiler when the code has a statement <code>fooPtr = &amp;fooStack[0] + 9</code>.    The <code>using namespace joke</code> means that both <code>::fooPtr</code> and <code>joke::fooPtr</code> are valid matches.    There is no basis to to prefer one over the other, so the compiler rejects the code due to ambiguity.</p>\n"}], "owner": {"reputation": 121, "user_id": 4298075, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/CkumP.jpg?s=128&g=1", "display_name": "mdavidjohnson", "link": "https://stackoverflow.com/users/4298075/mdavidjohnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461189338, "creation_date": 1461186590, "question_id": 36755242, "link": "https://stackoverflow.com/questions/36755242/c-namespace-errors", "title": "C++ namespace errors", "body": "<p>I'm running mingw-w64 on Windows 7 Pro 64-bit.</p>\n\n<p>I'm getting errors when I try the code in a namespace, but it works fine without the namespace. The code is:</p>\n\n<pre><code>//foo.h\n\n#ifndef FOO_H\n#define FOO_H\n\nnamespace joke {\n\n    extern \"C\" int fooStack[10];\n    extern \"C\" int *fooPtr;\n    extern \"C\" void fooInit();\n    extern \"C\" void fooPush(int iVar);\n    extern \"C\" int fooPop();\n\n}\n\n#endif // FOO_H\n</code></pre>\n\n<hr>\n\n<pre><code>// foo.cpp\n\n#include \"foo.h\"\n\nusing namespace joke;\n\nint fooStack[10];\nint *fooPtr;\n\nvoid fooInit() {\n    fooPtr = &amp;fooStack[0] + 9;\n}\n\nvoid fooPush(int iVar) {\n    *fooPtr = iVar;\n    fooPtr -= 1;\n}\n\nint fooPop() {\n    int oVar;\n    fooPtr += 1;\n    oVar = *fooPtr;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>// bar.cpp\n\n#include &lt;iostream&gt;\n#include \"foo.h\"\n\nusing namespace std;\nusing namespace joke;\n\nint inVar = 0;\nint outVar = 0;\n\nvoid Report() {\n    int i;\n    cout &lt;&lt; \"Pointer:   \" &lt;&lt; fooPtr &lt;&lt; endl;\n    cout &lt;&lt; \"Stack:     \";\n    for (i = 0; i &lt; 10; i++) {\n        cout &lt;&lt; fooStack[i] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"inVar:     \" &lt;&lt; inVar &lt;&lt; endl;\n    cout &lt;&lt; \"outVar:    \" &lt;&lt; outVar &lt;&lt; endl &lt;&lt; endl;\n}\n\nint main() {\n    int i;\n    fooInit();\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"Initializing\" &lt;&lt; endl;\n    Report();\n    for (i = 0; i &lt; 8; i++) {\n        inVar = (i * 34) + 34;\n        cout &lt;&lt; \"set inVar\" &lt;&lt; endl;\n        Report();\n        fooPush(inVar);\n        cout &lt;&lt; \"Push inVar\" &lt;&lt; endl;\n        Report();\n    }\n    for (i = 0; i &lt; 8; i++) {\n        outVar = fooPop();\n        cout &lt;&lt; \"Pop outVar\" &lt;&lt; endl;\n        Report();\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The makefile:</p>\n\n<pre><code>all:\n\n    g++ -S foo.cpp\n\n    g++ -S bar.cpp\n\n    g++ -c foo.s\n\n    g++ -c bar.s\n\n    g++ -o FB foo.o bar.o\n</code></pre>\n\n<p>As I said, this all works fine if the namespace specifications are removed or commented-out. With the namespace specifications in place, the results are:</p>\n\n<pre><code>c:\\work\\gccWork\\FooTest&gt;make\ng++ -S foo.cpp\nfoo.cpp: In function 'void fooInit()':\nfoo.cpp:11:2: error: reference to 'fooPtr' is ambiguous\n  fooPtr = &amp;fooStack[0] + 9;\n  ^\nfoo.cpp:8:6: note: candidates are: int* fooPtr\n  int *fooPtr;\n       ^\nIn file included from foo.cpp:3:0:\nfoo.h:9:18: note:                 int* joke::fooPtr\n  extern \"C\" int *fooPtr;\n                  ^\nfoo.cpp:11:12: error: reference to 'fooStack' is ambiguous\n  fooPtr = &amp;fooStack[0] + 9;\n            ^\nfoo.cpp:7:5: note: candidates are: int fooStack [10]\n int fooStack[10];\n     ^\nIn file included from foo.cpp:3:0:\nfoo.h:8:17: note:                 int joke::fooStack [10]\n  extern \"C\" int fooStack[10];\n                 ^\nfoo.cpp: In function 'void fooPush(int)':\nfoo.cpp:15:3: error: reference to 'fooPtr' is ambiguous\n  *fooPtr = iVar;\n   ^\nfoo.cpp:8:6: note: candidates are: int* fooPtr\n int *fooPtr;\n      ^\nIn file included from foo.cpp:3:0:\nfoo.h:9:18: note:                 int* joke::fooPtr\n  extern \"C\" int *fooPtr;\n                  ^\nfoo.cpp:16:2: error: reference to 'fooPtr' is ambiguous\n  fooPtr -= 1;\n  ^\nfoo.cpp:8:6: note: candidates are: int* fooPtr\n int *fooPtr;\n      ^\nIn file included from foo.cpp:3:0:\nfoo.h:9:18: note:                 int* joke::fooPtr\n  extern \"C\" int *fooPtr;\n                  ^\nfoo.cpp: In function 'int fooPop()':\nfoo.cpp:21:2: error: reference to 'fooPtr' is ambiguous\n  fooPtr += 1;\n  ^\nfoo.cpp:8:6: note: candidates are: int* fooPtr\n int *fooPtr;\n      ^\nIn file included from foo.cpp:3:0:\nfoo.h:9:18: note:                 int* joke::fooPtr\n  extern \"C\" int *fooPtr;\n                  ^\nfoo.cpp:22:10: error: reference to 'fooPtr' is ambiguous\n  oVar = *fooPtr;\n          ^\nfoo.cpp:8:6: note: candidates are: int* fooPtr\n int *fooPtr;\n      ^\nIn file included from foo.cpp:3:0:\nfoo.h:9:18: note:                 int* joke::fooPtr\n  extern \"C\" int *fooPtr;\n                  ^\nmake: *** [all] Error 1\n</code></pre>\n\n<p>I've looked through various c++ textbooks and references, as well as several references and forums here online. I don't see any problems with the syntax. </p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c++", "object"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 2, "creation_date": 1461186263, "post_id": 36755092, "comment_id": 61090490, "body": "<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please. I think your code is small enough for it all to fit here."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1461186379, "post_id": 36755092, "comment_id": 61090557, "body": "It sounds like you may want to rethink your design. When you need objects in <code>main</code>, you usually pass them to another function. However, it sounds like these objects are sort of &#39;global&#39;. Perhaps consider an object-oriented approach where <code>Joe</code> and <code>Sid</code> are member variables of some larger object. Then you pass that object (instead of all the variables separately) to functions."}, {"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1461186393, "post_id": 36755092, "comment_id": 61090564, "body": "It would help to see your declaration of the calculations function. I suspect you need to use a pointer to the player object as an argument instead of passing the player object itself."}, {"owner": {"reputation": 13, "user_id": 6231115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LrSPh.jpg?s=128&g=1", "display_name": "Expozzia", "link": "https://stackoverflow.com/users/6231115/expozzia"}, "edited": false, "score": 0, "creation_date": 1461189910, "post_id": 36755092, "comment_id": 61092163, "body": "I have added in the declarations for every function to try and help out."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6231115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LrSPh.jpg?s=128&g=1", "display_name": "Expozzia", "link": "https://stackoverflow.com/users/6231115/expozzia"}, "edited": false, "score": 0, "creation_date": 1461187305, "post_id": 36755171, "comment_id": 61091073, "body": "Thanks for the suggestion, but I have an issue with this. I already have <code>Player&amp; player</code> passing into that function, if I add <code>Joe</code> and <code>Sid</code> it conflicts with other functions that rely on calling the <code>calculateTotal</code> function as I&#39;m not sure what else to pass in with <code>calculateTotal(player)</code>."}], "tags": [], "owner": {"reputation": 2469, "user_id": 778117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cw2EQ.jpg?s=128&g=1", "display_name": "Fatih BAKIR", "link": "https://stackoverflow.com/users/778117/fatih-bakir"}, "is_accepted": false, "score": 0, "last_activity_date": 1461186332, "creation_date": 1461186332, "answer_id": 36755171, "question_id": 36755092, "link": "https://stackoverflow.com/questions/36755092/passing-an-object-into-a-function-object-defined-in-main/36755171#36755171", "title": "Passing an object into a function (Object defined in Main)", "body": "<p><strong>Pass a Reference</strong></p>\n\n<p>If you create your objects in the main and don't want copies of the objects (which appear to be the case), pass a <em>reference</em> to the objects in your <code>main</code> to your <code>calculations</code> function:</p>\n\n<pre><code>void calculations(Player&amp; Joe, Player&amp; Sid)\n{\n    //...\n    else if (potentialTotal &lt; 2 &amp;&amp; potentialTotal != 0)\n    {\n        potentialTotal = total; // Total remains the same\n        player.setThrows(0); // Resets their throws\n\n        // Switch player's turn\n        if (player.getPlayerName() == \"Joe\")\n        {\n            turn(Sid);\n        }\n        else if (player.getPlayerName() == \"Sid\")\n        {\n            turn(Joe);\n        }\n    }\n    //...\n}\n</code></pre>\n\n<p>If you are not familiar, a reference is simply another name for an object, it will not copy your <code>Player</code> objects, instead, <code>calculations</code> function will refer to the objects in the <code>main</code> function.</p>\n"}], "owner": {"reputation": 13, "user_id": 6231115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LrSPh.jpg?s=128&g=1", "display_name": "Expozzia", "link": "https://stackoverflow.com/users/6231115/expozzia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526845269, "creation_date": 1461186061, "last_edit_date": 1526845269, "question_id": 36755092, "link": "https://stackoverflow.com/questions/36755092/passing-an-object-into-a-function-object-defined-in-main", "title": "Passing an object into a function (Object defined in Main)", "body": "<p>How do I pass an object, defined in Main, into a function?</p>\n\n<p>My <code>main</code> function looks like this:</p>\n\n<pre><code>// Initialising the players\nPlayer Joe;\nPlayer Sid;\n\nJoe.setPlayerName(\"Joe\");\nSid.setPlayerName(\"Sid\");\n\nJoe.setPercentage(71);\nSid.setPercentage(73);\n\nJoe.setTotal(501);\nSid.setTotal(501);\n\nJoe.setThrows(0);\nSid.setThrows(0);\n\n\n// Starts Joe's turn (and the game)\nturn(Joe);\n</code></pre>\n\n<p>Within another function called <code>calculateTotal</code>, I have the following section of code:</p>\n\n<pre><code>else if (potentialTotal &lt; 2 &amp;&amp; potentialTotal != 0)\n{\n    potentialTotal = total; // Total remains the same\n    player.setThrows(0); // Resets their throws\n\n    // Switch player's turn\n    if (player.getPlayerName() == \"Joe\")\n    {\n        turn(Sid);\n    }\n    else if (player.getPlayerName() == \"Sid\")\n    {\n        turn(Joe);\n    }\n}\n</code></pre>\n\n<p>The problem is the <code>Sid</code> in <code>turn(Sid)</code> as well as <code>Joe</code> in <code>turn(Joe)</code> do not work, this is because they are declared in the <code>main</code> and not the <code>calculateTotal</code> function.</p>\n\n<p>I have passed the <code>Player</code> object through as seen in <code>calculateTotal</code> function - <code>player.getPlayerName()</code> for example, but if I put <code>turn(player)</code>, this would call <code>turn(Joe)</code> as he goes first which is not what I need, I need it to switch to <code>Sid</code>.</p>\n\n<p>The functions in the program.</p>\n\n<pre><code>void turn(Player&amp; player);\n\nvoid bullseye(Player&amp; player);\n\nvoid singleThrow(int requiredValue, Player&amp; player);\nvoid doubleThrow(int dartThrow, Player&amp; player);\nvoid trebleThrow(int dartThrow, Player&amp; player);\n\nvoid calculateTotal(Player&amp; player);\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>1&gt;f:\\abertay\\programming\\coursework\\coursework\\source.cpp(149): error C2065:    'Sid' : undeclared identifier\n1&gt;f:\\abertay\\programming\\coursework\\coursework\\source.cpp(153): error C2065: 'Joe' : undeclared identifier\n1&gt;f:\\abertay\\programming\\coursework\\coursework\\source.cpp(169): error C2065: 'Sid' : undeclared identifier\n1&gt;f:\\abertay\\programming\\coursework\\coursework\\source.cpp(173): error C2065: 'Joe' : undeclared identifier\n</code></pre>\n"}, {"tags": ["c++", "gcc", "cmake"], "comments": [{"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 1, "creation_date": 1461186209, "post_id": 36755057, "comment_id": 61090456, "body": "Can&#39;t offer much specific advice, but your observation is expected: the ordering is usually important, as TUs/libraries are evaluated from left-to-right, undefined references recorded, and subsequent units searched for the undefined references. So, dependents should come first (leftmost), then the things on which they depend."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "is_accepted": false, "score": 2, "last_activity_date": 1461186399, "creation_date": 1461186399, "answer_id": 36755183, "question_id": 36755057, "link": "https://stackoverflow.com/questions/36755057/cmake-ordering-of-shared-and-static-libraries-important/36755183#36755183", "title": "cmake: ordering of shared and static libraries important?", "body": "<p>The short answer to your question is: Yes. Link order matters.</p>\n\n<p>Slightly longer answer; depending on your tool-chain it matters more or less. Some linkers will only search later listed libraries for symbols they have already seen and won't search for an unknown symbol encountered in a library in libraries listed earlier (although some will).\nSo it all depends on your tools. But regardless of your tools in question, if you always take care to lists depending libraries before the ones they depend on, then you will be linking happily with any tool-chain (as long as you don't have circular dependencies that is - a few tools can deal with that but most can't).</p>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 2037446, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e5ec51f2cab11499c35b78fbbd85aea?s=128&d=identicon&r=PG", "display_name": "Ammar Husain", "link": "https://stackoverflow.com/users/2037446/ammar-husain"}, "is_accepted": true, "score": 2, "last_activity_date": 1461188684, "last_edit_date": 1461188684, "creation_date": 1461186445, "answer_id": 36755197, "question_id": 36755057, "link": "https://stackoverflow.com/questions/36755057/cmake-ordering-of-shared-and-static-libraries-important/36755197#36755197", "title": "cmake: ordering of shared and static libraries important?", "body": "<p>You can specify the start-group &amp; end-group in cmake as well:</p>\n\n<pre><code>target_link_libraries(${NAME} -Wl, --start-group \n  ${LIBS} optimized tcmalloc_minimal.a general pthread \n  -Wl, --end-group)\n</code></pre>\n\n<p><strong>Note</strong>: This is an expensive operation though, so ideally you should figure out the circular dependencies and order them correctly. If thats not always possible, use the start &amp; end group on the smallest possible subset of linked libraries.</p>\n"}], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1282, "favorite_count": 0, "accepted_answer_id": 36755197, "answer_count": 2, "score": 2, "last_activity_date": 1461188684, "creation_date": 1461185871, "last_edit_date": 1592644375, "question_id": 36755057, "link": "https://stackoverflow.com/questions/36755057/cmake-ordering-of-shared-and-static-libraries-important", "title": "cmake: ordering of shared and static libraries important?", "body": "<p>I am creating a binary and linking in dependencies.</p>\n<p>All binaries will link against <code>libpthread.so</code><br />\nRelease mode binaries will link against <code>libtcmalloc.a</code></p>\n<p>I have found that the ordering of libraries is important.</p>\n<p>If I specify the call to <code>target_link_libraries</code> as follows, the binary fails to link.</p>\n<pre><code>target_link_libraries(\n    ${NAME} \n         ${LIBS} pthread \n    optimized\n         tcmalloc_minimal.a)\n</code></pre>\n<p><strong>Error:</strong></p>\n<blockquote>\n<pre><code>[ 59%] Linking CXX executable app\n.../libtcmalloc_minimal.a(libtcmalloc_minimal_internal_la-static_vars.o): \nIn function `SetupAtForkLocksHandler':\n    /tmp/gperftools-2.4/src/static_vars.cc:119: \nundefined reference to `pthread_atfork'\n\ncollect2: error: ld returned 1 exit status\n</code></pre>\n</blockquote>\n<p>If, however, I change the ordering of libraries so that <code>pthread</code> appears <strong>after</strong> <code>tcmalloc</code>, then link works fine:</p>\n<pre><code>target_link_libraries(\n    ${NAME} \n         ${LIBS} \n    optimized\n         tcmalloc_minimal.a\n    general\n         pthread)\n</code></pre>\n<p><strong>Question:</strong></p>\n<ul>\n<li>Is there a way for cmake to work out the dependencies and create the correct link order automatically?</li>\n<li>gcc has <code>-Wl,--start-group</code> / <code>-Wl,--end-group</code> which solves this problem. Is there a way to make cmake use this feature?</li>\n</ul>\n"}, {"tags": ["c++", "port", "readfile"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1461186269, "post_id": 36755027, "comment_id": 61090497, "body": "You assign a value to <code>hSerial</code>, then 1) You never checked for NULL and 2) your code disappears and reappears again in a <code>ReadFile</code> function, losing any track of what happened to <code>hSerial</code>."}, {"owner": {"reputation": 267, "user_id": 4801962, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4d6cd6701b12d8a2d5eccf6e63959e1?s=128&d=identicon&r=PG", "display_name": "dziadek1990", "link": "https://stackoverflow.com/users/4801962/dziadek1990"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1461186711, "post_id": 36755027, "comment_id": 61090759, "body": "@Paul I checked <code>hSerial</code> immediately after creation - not NULL. And the <code>ReadFile</code> occurs immediately after creating <code>hSerial</code>. Still 87."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1461186925, "post_id": 36755027, "comment_id": 61090877, "body": "<code>LPCTSTR portName = &quot;COM3&quot; ;</code>  You may want to change this, as <code>LPCTSTR</code> is a pointer to a wide string if a Unicode build is being done.  <code>LPCTSTR portName = _T(&quot;COM3&quot;);</code>"}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1461187171, "post_id": 36755027, "comment_id": 61091000, "body": "I suppose it is compiled with mingw and no UNICODE, for example: <code>DWORD n = 512 ; char szBuff[n] = {0};</code> is a variable length array use, CreateFileW would not accept <code>char</code> array."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 1, "creation_date": 1461268748, "post_id": 36755027, "comment_id": 61134913, "body": "@MarcinJ\u0119drzejewski Yes, but &quot;officially&quot;, initializing an LPCTSTR  to a non-wide string literal is not really 100% correct.  If the app is going to use <code>LPCTSTR</code>, then it should be using the Microsoft-ism if using <code>_T()</code> macro or <code>TEXT</code> macro."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1461272044, "post_id": 36755027, "comment_id": 61136814, "body": "@PaulMcKenzie I agree, OP should use <code>LPCTSTR portName = _T(&quot;COM3&quot;) ;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9459, "user_id": 958051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KHi3g.png?s=128&g=1", "display_name": "Serdalis", "link": "https://stackoverflow.com/users/958051/serdalis"}, "is_accepted": false, "score": 1, "last_activity_date": 1461188667, "last_edit_date": 1461188667, "creation_date": 1461186858, "answer_id": 36755312, "question_id": 36755027, "link": "https://stackoverflow.com/questions/36755027/which-readfile-parameter-in-this-code-is-incorrect-error-code-87/36755312#36755312", "title": "Which ReadFile parameter in this code is incorrect? (Error code 87)", "body": "<p>Marcin J\u0119drzejewski's answer is correct about the mismatch between the overlapped IO Flag and the <code>ReadFile</code> function, but I will leave this up just to be helpful.<br>\nYou are missing a lot of initialisation which may be helpful to you when operating a COM port.</p>\n\n<p>This code is used to open, configure, and read from a COM port on windows using C++.</p>\n\n<h2>FOR REFERENCE</h2>\n\n<pre><code>READ_BUFFER_SIZE = 1024;\nWRITE_BUFFER_SIZE = 1024;\nCOM_READ_BUFFER_SIZE = 1024;\nCOM_WRITE_BUFFER_SIZE = 1024;\nREAD_TIMEOUT = 50;\nWRITE_TIMEOUT = 100;\n\nport = \"\\\\.\\COM6\"\nportFormat = \"9600,N,8,1\" /* for information on this, google the MODE command for windows. */\n\nHANDLE hComPort;\nDCB dcbComConfig;\n</code></pre>\n\n<h2>OPENING COM PORT</h2>\n\n<pre><code>DWORD dwStoredFlags = EV_BREAK | EV_ERR | EV_RXCHAR;\nCOMMTIMEOUTS timeouts;\n\nFillMemory(&amp;dcbComConfig, sizeof(dcbComConfig), 0);\ndcbComConfig.DCBlength = sizeof(dcbComConfig);\n\n/* assign a COM format to the COM Port. */\nif(!BuildCommDCB(portFormat, &amp;dcbComConfig))\n{\n    printf(\"Failed to build comm format data %s\\n\", portFormat);\n}\n\n/* Open the COM port with overlapped IO. */\nhComPort = CreateFile(port, GENERIC_READ | GENERIC_WRITE, 0, 0, \n                OPEN_EXISTING, FILE_FLAG_OVERLAPPED, 0);\n\nif (hComPort == INVALID_HANDLE_VALUE)\n{\n    printf(\"Error opening port %s\\n\", port);\n}\n\n/* Set the COM Ports internal Read and Write buffer sizes. */\nif(!SetupComm(hComPort, COM_READ_BUFFER_SIZE, COM_WRITE_BUFFER_SIZE))\n{\n    printf(\"Could not set COM buffers\\n\");\n}\n\n/* assign the previously created COM Format to the COM Port. */\nif(!SetCommState(hComPort, &amp;dcbComConfig))\n{\n    printf(\"Error setting com to format data.\\n\");\n}\n\n/* Mask what events you want to look for in the COM Port. */\nif (!SetCommMask(hComPort, dwStoredFlags))\n{\n    printf(\"Error setting communications mask\\n\");\n}\n\n/*-- Read Timeouts set like this so we can use the event based reading. --*/\ntimeouts.ReadIntervalTimeout = MAXDWORD; \ntimeouts.ReadTotalTimeoutMultiplier = 0;\ntimeouts.ReadTotalTimeoutConstant = 0;\ntimeouts.WriteTotalTimeoutMultiplier = 10;\ntimeouts.WriteTotalTimeoutConstant = 100;\n\nif (!SetCommTimeouts(hComPort, &amp;timeouts))\n{\n    printf(\"Error setting time-outs.\\n\");\n}\n</code></pre>\n\n<h2>READING COM PORT</h2>\n\n<pre><code>DWORD dwRead = 0;\nDWORD dwComEvent = EV_RXCHAR;\nDWORD lpErrors = 0;\nchar readBuffer[READ_BUFFER_SIZE];\n\n/* Create the Overlapped IO Read Event. */\nOVERLAPPED osRead = {0};\nosRead.hEvent = CreateEvent(NULL, TRUE, FALSE, NULL);\n\n/* Used to monitor the COM Port State. */\nCOMSTAT ComStatus;\n\n/* Loop at 20Hz to read the COM Port until a Kill event has been set. */\nwhile(WaitForSingleObject(hKillEvent, 50) == WAIT_TIMEOUT)\n{\n    /* Wait for a COM Event to occur ( Read Event in this Case ). */\n    if (WaitCommEvent(hComPort, &amp;dwComEvent , NULL))\n    {\n        /* If the COM Port had an error Clear it. */\n        ClearCommError(hComPort, &amp;lpErrors, &amp;ComStatus);\n        /*-- Reset read operation's OVERLAPPED structure's hEvent --*/\n        ResetEvent(osRead.hEvent);\n\n        if (ReadFile(hComPort, readBuffer, ComStatus.cbInQue, &amp;dwRead, &amp;osRead))\n        {\n            /*-- bytes have been read; process it --*/\n            USE_DATA(readBuffer, dwRead);\n        }\n        else\n        {\n            /*-- An error occurred in the ReadFile call --*/\n            printf(\"ReadFile encountered an error.\\n\");\n            break;\n        }\n    }\n    else \n    {\n        /*-- Error in WaitCommEvent --*/\n        printf(\"WaitCommEvent encountered an error.\\n\");\n        break;\n    }\n}\n\n/* Close the Overlapped IO Read Event. */\nCloseHandle(osRead.hEvent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": true, "score": 5, "last_activity_date": 1461186860, "creation_date": 1461186860, "answer_id": 36755313, "question_id": 36755027, "link": "https://stackoverflow.com/questions/36755027/which-readfile-parameter-in-this-code-is-incorrect-error-code-87/36755313#36755313", "title": "Which ReadFile parameter in this code is incorrect? (Error code 87)", "body": "<p>In <a href=\"https://msdn.microsoft.com/pl-pl/library/windows/desktop/aa365467%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\">ReadFile</a> documentation you can read:</p>\n\n<blockquote>\n  <p>lpOverlapped [in, out, optional]\n  A pointer to an OVERLAPPED structure is required if the hFile parameter was opened with FILE_FLAG_OVERLAPPED, otherwise it can be NULL.</p>\n</blockquote>\n\n<p>so since you specified <code>FILE_FLAG_OVERLAPPED</code> in CreateFile you should provide <code>OVERLAPPED</code> in ReadFile.</p>\n\n<p>In <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\">CreateFile</a> you can read on parameters for <code>Communications Resources</code>:</p>\n\n<blockquote>\n  <p>... and the handle <strong>can</strong> be opened for overlapped I/O.</p>\n</blockquote>\n\n<p>so you can skip <code>FILE_FLAG_OVERLAPPED</code> in CreateFile</p>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 1864738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OdNhm.jpg?s=128&g=1", "display_name": "kundrata", "link": "https://stackoverflow.com/users/1864738/kundrata"}, "is_accepted": false, "score": 0, "last_activity_date": 1549298064, "creation_date": 1549298064, "answer_id": 54520478, "question_id": 36755027, "link": "https://stackoverflow.com/questions/36755027/which-readfile-parameter-in-this-code-is-incorrect-error-code-87/54520478#54520478", "title": "Which ReadFile parameter in this code is incorrect? (Error code 87)", "body": "<p>The top answer is correct. In this case, opening with <code>FILE_FLAG_OVERLAPPED</code>, ReadFile expects an <code>OVERLAPPED</code> structure as last argument.</p>\n\n<p>Would like to add that you can also get 'parameter is incorrect' error if you do supply an <code>OVERLAPPED</code> struct, but forget to <code>ZeroMemory</code> it.</p>\n\n<p>From the <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/minwinbase/ns-minwinbase-_overlapped\" rel=\"nofollow noreferrer\">documentation</a>: </p>\n\n<blockquote>\n  <p>Any unused members of this structure should always be initialized to zero before the structure is used in a function call. Otherwise, the function may fail and return ERROR_INVALID_PARAMETER.</p>\n</blockquote>\n\n<p>So don't forget to:</p>\n\n<pre><code>OVERLAPPED ovl;\nZeroMemory(&amp;ovl, sizeof(ovl));\n...\nReadFile(hSerial, szBuff, n, &amp;dwBytesRead, &amp;ovl);\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 4801962, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b4d6cd6701b12d8a2d5eccf6e63959e1?s=128&d=identicon&r=PG", "display_name": "dziadek1990", "link": "https://stackoverflow.com/users/4801962/dziadek1990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2396, "favorite_count": 0, "accepted_answer_id": 36755313, "answer_count": 3, "score": 0, "last_activity_date": 1549298064, "creation_date": 1461185770, "last_edit_date": 1461187424, "question_id": 36755027, "link": "https://stackoverflow.com/questions/36755027/which-readfile-parameter-in-this-code-is-incorrect-error-code-87", "title": "Which ReadFile parameter in this code is incorrect? (Error code 87)", "body": "<p>(<strong>Edit:</strong> I didn't exclude any code except the headers and the main() function's brackets. Nothing is written between lines of code listed here.)</p>\n\n<p>.</p>\n\n<p>I used the ReadFile function to read this COM3 port (which returned no INVALID_HANDLE_VALUE or ERROR_FILE_NOT_FOUND):</p>\n\n<pre><code>LPCTSTR portName = \"COM3\" ;\n\nHANDLE hSerial;\nhSerial = CreateFile(portName,\n                     GENERIC_READ | GENERIC_WRITE,\n                     0,    // exclusive access\n                     NULL, // default security attributes\n                     OPEN_EXISTING,\n                     FILE_FLAG_OVERLAPPED,\n                     NULL);\n</code></pre>\n\n<p>And the ReadFile function in question uses following parameters:</p>\n\n<pre><code>DWORD n = 512 ;\nchar szBuff[n] = {0};\nDWORD dwBytesRead = 0;\n\nif(!ReadFile(hSerial, szBuff, n, &amp;dwBytesRead, NULL))\n{\n    cout &lt;&lt; \"ReadFile error. Error code: \" &lt;&lt; GetLastError() &lt;&lt; endl ;\n    cin.get() ;\n    return 0 ;\n}\n</code></pre>\n\n<p>What changes should I introduce to cause the read to succeed?</p>\n\n<p>(I searched through the function's documentation and other StackOverflow questions, tested lots of things, but couldn't find an answer.)</p>\n"}, {"tags": ["c++", "memory-management", "boost"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461222300, "post_id": 36754893, "comment_id": 61102610, "body": "Show us where you are stuck. We need to have the code that compiles except for what you are trying to change. Because we sure are not going to read all the docs, create a sample application, fix it so it does what we understood you want, only to find out that your question was actually slightly different. <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461251109, "post_id": 36754893, "comment_id": 61124106, "body": "I object to moderator taking points from my reputation. I am not stuck, I came across a known limitation of boost object pools and was asking if experts knew of a workaround. If one googles, he would find multiple links confirming my assertions (including some on stack overflow). I did not want to distract readers attention by referencing them. Any small program that allocates several million objects from boost::object_pool and then tries to free a few hundred thousand would demonstrate a severe performance  problem. I expect it to be a fact known to experts in this field."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461252374, "post_id": 36754893, "comment_id": 61125014, "body": "1. we are not moderators, just peers trying to answer :) 2. I was the one asking for code. 3. I didn&#39;t &quot;take points&quot; (downvote). I might, if the question cannot be improved :)"}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461253827, "post_id": 36754893, "comment_id": 61126138, "body": "I think the question is clear for people familiar with boost pools. I edited the original post to bold it. Instead of threatening, please explain what is not clear."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461254776, "post_id": 36754893, "comment_id": 61126808, "body": "Note that i left my constructive comment hours  before your defensive rant"}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461255963, "post_id": 36754893, "comment_id": 61127665, "body": "There is nothing constructive in your comment. I am not trying to change boost pools, just trying to use them and looking for a workaround for a known issue.  If you aren&#39;t qualified to answer my question then just stop wasting my time."}, {"owner": {"reputation": 208848, "user_id": 46642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wjb79.jpg?s=128&g=1", "display_name": "R. Martinho Fernandes", "link": "https://stackoverflow.com/users/46642/r-martinho-fernandes"}, "edited": false, "score": 2, "creation_date": 1461256905, "post_id": 36754893, "comment_id": 61128285, "body": "Good job driving away someone who tried to help (and from what I know is also qualified to help)."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461257060, "post_id": 36754893, "comment_id": 61128373, "body": "Trying to charm your helpers into helpfulness? I happen to be aware of Boost Pool. I find the various pools &amp; allocators slightly confusing (prefer Interprocess). I&#39;m simply not inclined to try and check whether I can arrive at a sample that unambiguously matches your prose description. Aside from that, I think I know a solution that should be fast, but it&#39;s pretty prominent in the docs, so I fear you already know it and will dismiss it for some valid reason. I&#39;ll bow out and hope someone from your apparent <a href=\"http://stackoverflow.com/tags/boost/topusers\">target audience</a>  to pick up. Good Luck!"}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1461341324, "post_id": 36754893, "comment_id": 61171327, "body": "I edited the original question to include sample program that illustrates the issue."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1461417993, "post_id": 36754893, "comment_id": 61195722, "body": "Downvoting purely for your abhorrent attitude above. Treating this community&#39;s experts in such a way is <i>not</i> the way to get them to solve <i>your</i> problems for you for free."}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1461502647, "post_id": 36754893, "comment_id": 61218121, "body": "I posted a reasonable question but receive an immediate downvote accompanied by a comment that is not truly applicable. The comment also suggested something that looked like a busywork to me. When I objected to a downvote being unreasonable I got additional downvotes from the brotherhood of the regulars. Then I  amend the post with a complete code to reproduce the issue and got rewarded by an additional downvote and a name-calling. Still not a single response related to the essence of the question. Interesting pattern."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461538907, "post_id": 36754893, "comment_id": 61230858, "body": "That&#39;s an excellent sample. I&#39;m miffed by the performance characteristics. Looking at it closer now."}, {"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1461542205, "post_id": 36754893, "comment_id": 61231659, "body": "Thanks. BTW, my original post/question is probably imprecise. The way I understand things now pool_allocator and fast_pool_allocations are classes that stand on their own and are not related to arguments/options of singleton_pool."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1461546375, "post_id": 36754893, "comment_id": 61232400, "body": "Okay. Answered. Remember when I said I find the Boost Pool offering not so nice (and I prefer Boost Interprocess&#39;s take on allocators)? The answer re-confirms this. Stateful allocators are a good match here and pretty well supported in c++11 onwards. Not all standard library implementations have good <code>scoped_allocator</code> adaptors yet, but boost does."}], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 1, "creation_date": 1461599072, "post_id": 36830643, "comment_id": 61259864, "body": "Thanks for the effort and detailed recipe.  I didn&#39;t really expect anyone to go through troubles of implementing alternative pools. The answer goes well beyond a short verbal response that I expected. It is much appreciated."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "edited": false, "score": 0, "creation_date": 1462983483, "post_id": 36830643, "comment_id": 61871414, "body": "Oh look: It seems I&#39;m forgetful, I had already <a href=\"http://stackoverflow.com/questions/28925143/is-there-a-boost-pool-fixed-sized-allocator/28933392#comment46140912_28933392\">discovered most of this in March 2015</a>..."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 5, "last_activity_date": 1461546008, "creation_date": 1461546008, "answer_id": 36830643, "question_id": 36754893, "link": "https://stackoverflow.com/questions/36754893/is-there-some-way-to-use-boostobect-pool-with-faster-free-operations/36830643#36830643", "title": "Is there some way to use boost::obect_pool with faster free operations", "body": "<p>The free call hits <code>ordered_free</code> on the underlying allocator. Indeed, <code>ordered_malloc_need_resize()</code> <a href=\"http://i.stack.imgur.com/9iVc9.png\" rel=\"noreferrer\">takes basically all the execution time</a>.</p>\n\n<blockquote>\n  <p>Do I understand correctly that I have a choice between pool_allocator and fast_pool_allocator only in conjunction with boost::singleton_pool but not with boost::object_pool?</p>\n</blockquote>\n\n<p>Yes. The <code>object_pool</code> manifestly uses the <code>ordered_free</code> function on the underlying <code>simple_segregated_storage</code>. This is clearly by design (although the rationale escapes me for the moment. Apparently in the intended usage it makes sense for <code>object_pool</code> to always optimize for array allocations/de-allocations).</p>\n\n<blockquote>\n  <p>The way I understand things now pool_allocator and fast_pool_allocations are classes that stand on their own and are not related to arguments/options of singleton_pool.</p>\n</blockquote>\n\n<p>Yes. They are hardwired to use the singleton pools instances. Boost Pool clearly predates standard library support for stateful allocators. You could copy the implementation of <code>fast_pool_allocator</code> out to use a runtime instance of pool instead of the singleton pool.</p>\n\n<p>The following sample makes <code>non_boost::fast_pool_allocator</code> a <em>stateful</em> allocator on top of a specific \"Object Use\" pool instance. That makes tha allocator stateful. The state is mainly a pointer to the pool.</p>\n\n<p><code>_alloc.destroy</code> is used to destruct the <code>foo</code> instance and free the memory. Any unfreed elements will still be freed upon destruction of the <code>_pool</code> (<strong>Note</strong> since we don't use <code>object_pool</code>, no destructors for <code>foo</code> will be run in such a case. In your sample, <code>foo</code> is POS and therefore trivially destructible. If not, you can of course use a <code>std::unique_ptr</code> or similar, or indeed write a version of <code>object_pool</code> that doesn't insist on ordered allocation).</p>\n\n<h2>DEMO</h2>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/24314d8ec155a622\" rel=\"noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/pool/pool.hpp&gt;\n#include &lt;boost/pool/object_pool.hpp&gt;\n#include &lt;boost/pool/pool_alloc.hpp&gt;\n#include \"time.h\"\n#include &lt;vector&gt;\n#include &lt;random&gt;\n\nstruct foo {\n    int data[10];\n};\n\nnamespace non_boost {\n    template &lt;typename T, typename UserAllocator = boost::default_user_allocator_new_delete&gt;\n    class fast_pool_allocator\n    {\n      public:\n        typedef T value_type;\n        typedef UserAllocator user_allocator;\n\n        typedef value_type * pointer;\n        typedef const value_type * const_pointer;\n        typedef value_type &amp; reference;\n        typedef const value_type &amp; const_reference;\n        typedef boost::pool&lt;UserAllocator&gt; pool_type;\n        typedef typename pool_type::size_type       size_type;\n        typedef typename pool_type::difference_type difference_type;\n\n        template &lt;typename U&gt;\n        struct rebind {\n            typedef fast_pool_allocator&lt;U, UserAllocator&gt; other;\n        };\n\n        pool_type* _ref;\n      public:\n        fast_pool_allocator(pool_type&amp; ref) : _ref(&amp;ref) { }\n\n        fast_pool_allocator(fast_pool_allocator const&amp;) = default;\n        fast_pool_allocator&amp; operator=(fast_pool_allocator const&amp;) = default;\n\n        // Not explicit, mimicking std::allocator [20.4.1]\n        template &lt;typename U&gt;\n        fast_pool_allocator(const fast_pool_allocator&lt;U, UserAllocator&gt; &amp; other) : _ref(other._ref)\n        { }\n\n        // Default destructor used.\n        static pointer address(reference r)                     { return &amp;r;                                      } \n        static const_pointer address(const_reference s)         { return &amp;s;                                      } \n        static size_type max_size()                             { return (std::numeric_limits&lt;size_type&gt;::max)(); } \n        void construct(const pointer ptr, const value_type &amp; t) { new (ptr) T(t);                                 } \n        void destroy(const pointer ptr)                         { ptr-&gt;~T();                                      } \n\n        bool operator==(fast_pool_allocator const&amp; rhs) const { return _ref == rhs._ref; }\n        bool operator!=(fast_pool_allocator const&amp; rhs) const { return _ref != rhs._ref; }\n\n        pointer allocate(const size_type n)\n        {\n            const pointer ret = (n == 1) \n                ? static_cast&lt;pointer&gt;( (_ref-&gt;malloc)() ) \n                : static_cast&lt;pointer&gt;( _ref-&gt;ordered_malloc(n) );\n            if (ret == 0)\n                boost::throw_exception(std::bad_alloc());\n            return ret;\n        }\n\n        pointer allocate(const size_type n, const void * const) { return allocate(n); }\n        pointer allocate()\n        {\n            const pointer ret = static_cast&lt;pointer&gt;( (_ref-&gt;malloc)() );\n            if (ret == 0)\n                boost::throw_exception(std::bad_alloc());\n            return ret;\n        }\n        void deallocate(const pointer ptr, const size_type n)\n        {\n\n#ifdef BOOST_NO_PROPER_STL_DEALLOCATE\n            if (ptr == 0 || n == 0)\n                return;\n#endif\n            if (n == 1)\n                (_ref-&gt;free)(ptr);\n            else\n                (_ref-&gt;free)(ptr, n);\n        }\n        void deallocate(const pointer ptr) { (_ref-&gt;free)(ptr); }\n    };\n\n    //Specialization of fast_pool_allocator&lt;void&gt; required to make the allocator standard-conforming.\n    template&lt;typename UserAllocator&gt;\n    class fast_pool_allocator&lt;void, UserAllocator&gt; {\n    public:\n        typedef void*       pointer;\n        typedef const void* const_pointer;\n        typedef void        value_type;\n\n        template &lt;class U&gt; struct rebind {\n            typedef fast_pool_allocator&lt;U, UserAllocator&gt; other;\n        };\n    };\n\n}\n\nstruct test {\n    test(unsigned n) : size{ n } {}\n    void run();\n    float elapsedSec(clock_t&amp; watch);\n    unsigned size;\n\n    boost::pool&lt;boost::default_user_allocator_malloc_free&gt; _pool { sizeof(foo) };\n    non_boost::fast_pool_allocator&lt;foo, boost::default_user_allocator_malloc_free&gt; _alloc { _pool };\n\n    float mallocSec;\n    float freeSec;\n};\n\nvoid test::run() {\n    std::vector&lt;foo *&gt; foos(size, nullptr);\n    std::default_random_engine generator;\n    std::uniform_int_distribution&lt;int&gt; distribution(0, size - 1);\n\n    auto dice = std::bind(distribution, generator);\n    clock_t watch = clock();\n\n    for (unsigned i = 0; i &lt; size; ++i)\n         foos[i] = _alloc.allocate();\n\n    mallocSec = elapsedSec(watch);\n\n    for (unsigned i = 0; i &lt; size / 10;) {\n        auto idx = dice();\n        if (foos[idx] != nullptr)\n        {\n            _alloc.destroy(foos[idx]);\n            foos[idx] = nullptr;\n        }\n        i += 1;\n    }\n\n    freeSec = elapsedSec(watch);\n}\n\nfloat test::elapsedSec(clock_t&amp; watch) {    \n    clock_t start = watch;\n    watch = clock();\n    return (watch - start) / static_cast&lt;float&gt;(CLOCKS_PER_SEC);   \n}\n\nint main() {\n    test t(10u &lt;&lt; 20);\n    t.run();\n\n    std::cout &lt;&lt; t.mallocSec &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; t.freeSec   &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>Prints (on my system):</p>\n\n<pre><code>0.135127\n0.050991\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 483756, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b0233f71d74f7d0314de24aa65b7b5c?s=128&d=identicon&r=PG", "display_name": "LRaiz", "link": "https://stackoverflow.com/users/483756/lraiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 1, "accepted_answer_id": 36830643, "answer_count": 1, "score": -2, "last_activity_date": 1461546008, "creation_date": 1461185299, "last_edit_date": 1461417890, "question_id": 36754893, "link": "https://stackoverflow.com/questions/36754893/is-there-some-way-to-use-boostobect-pool-with-faster-free-operations", "title": "Is there some way to use boost::obect_pool with faster free operations", "body": "<p>I have been using boost object_pool for some time and was generally happy with the results. Previously I was mostly allocating individual objects but rarely freed them individually, just freed entire pool at once. Recently when I came across the need to free many objects from the pool I discovered that it is VERY slow. </p>\n\n<p>Apparently pool is searching through the list of already released chunks to link the newly released object. The documentation talks about ordered and unordered pools and mentions pool_allocator as well as fast_pool_allocator. Unordered pool (using fast_memory_allocator) presumably would be much faster in releasing memory chunks. However, I can't see how I can make use of it. </p>\n\n<p><strong>Do I understand correctly that I have a choice between pool_allocator and fast_pool_allocator only in conjunction with boost::singleton_pool but not with boost::object_pool?</strong></p>\n\n<p>Below is a small test program illustrating the problem. It was built with VS2013 and boost 1_57_0. Test allocates n objects in object pool and then randomly releases 10%. It has some crude timing instrumentation which shows that for n == 100,000 allocation takes 0.004 sec while release takes 0.4 sec. Meanwhile for n == 1,000,000 it takes 0.022 sec to allocate and 42 sec to release on my machine. </p>\n\n<pre><code>#include &lt;boost/pool/object_pool.hpp&gt;\n#include \"time.h\"\n#include &lt;vector&gt;\n#include &lt;random&gt;\n\nstruct foo {\n    int data[10];\n};\n\nstruct test {\n    test(unsigned n) : size{ n } {}\n    void run();\n    float elapsedSec(clock_t&amp; watch);\n    unsigned size;\n    boost::object_pool&lt;foo&gt; _pool;\n    float mallocSec;\n    float freeSec;\n};\n\nvoid test::run() {\n    std::vector&lt;foo *&gt; foos(size, nullptr);\n    std::default_random_engine generator;\n    std::uniform_int_distribution&lt;int&gt; distribution(0, size - 1);\n    auto dice = std::bind(distribution, generator);\n    clock_t watch = clock();\n    for (int i = 0; i &lt; size; ++i)\n        foos[i] = _pool.malloc();\n    mallocSec = elapsedSec(watch);\n    for (int i = 0; i &lt; size / 10;) {\n        auto idx = dice();\n        if (foos[idx] == nullptr)\n            continue;\n        _pool.free(foos[idx]);\n        foos[idx] = nullptr;\n        i += 1;\n    }\n    freeSec = elapsedSec(watch);\n}\n\nfloat test::elapsedSec(clock_t&amp; watch) {    \n    clock_t start = watch;\n    watch = clock();\n    return (watch - start) / static_cast&lt;float&gt;(CLOCKS_PER_SEC);   \n}\n</code></pre>\n"}, {"tags": ["c++", "camera", "intel", "realsense"], "answers": [{"tags": [], "owner": {"reputation": 1720, "user_id": 3772873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d9825c72e23ccad5a340170a79dbe39?s=128&d=identicon&r=PG&f=1", "display_name": "codecats", "link": "https://stackoverflow.com/users/3772873/codecats"}, "is_accepted": true, "score": 0, "last_activity_date": 1461186777, "creation_date": 1461186777, "answer_id": 36755291, "question_id": 36754521, "link": "https://stackoverflow.com/questions/36754521/getting-pixel-values-from-pxcimage-into-2d-array/36755291#36755291", "title": "Getting Pixel Values from PXCImage into 2D array", "body": "<p>Read through the docs (in SDK and online at <a href=\"https://software.intel.com/sites/landingpage/realsense/camera-sdk/v1.1/documentation/html/index.html?acquireaccess_pxcimage.html\" rel=\"nofollow\">https://software.intel.com/sites/landingpage/realsense/camera-sdk/v1.1/documentation/html/index.html?acquireaccess_pxcimage.html</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4352526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08a9ae44e8ad443d77b61942c452fe8?s=128&d=identicon&r=PG&f=1", "display_name": "zippzom", "link": "https://stackoverflow.com/users/4352526/zippzom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 1, "accepted_answer_id": 36755291, "answer_count": 1, "score": 1, "last_activity_date": 1461186777, "creation_date": 1461184099, "question_id": 36754521, "link": "https://stackoverflow.com/questions/36754521/getting-pixel-values-from-pxcimage-into-2d-array", "title": "Getting Pixel Values from PXCImage into 2D array", "body": "<p>I'm trying to pull raw depth values (in order to generate a point cloud) from an Intel Real Sense camera. I have the PXCImage of the depth data but I don't know how to get the pixel values from this image into an array. It seems like I can acquire image data via</p>\n\n<pre><code>PXCImage::ImageData data;\nimage-&gt;AcquireAccess(PXCImage::ACCESS_READ,&amp;data);\n</code></pre>\n\n<p>and then the pixels are available in data.planes[0-3]. But how do I pull the pixel values from data.planes[0] to my own array?</p>\n"}, {"tags": ["c++", "linux", "fork", "exec", "wait"], "comments": [{"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1461184717, "post_id": 36754510, "comment_id": 61089693, "body": "<code>man fork</code> even has code samples. It is appreciated you provide your attempt. Code is easier and more precise to suggest improvements to than your question about <i>best way to</i>."}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 3314921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Lm4yu.jpg?s=128&g=1", "display_name": "iceflow19", "link": "https://stackoverflow.com/users/3314921/iceflow19"}, "is_accepted": true, "score": 5, "last_activity_date": 1461188063, "last_edit_date": 1461188063, "creation_date": 1461187277, "answer_id": 36755424, "question_id": 36754510, "link": "https://stackoverflow.com/questions/36754510/understanding-fork-exec-and-wait-in-c-linux/36755424#36755424", "title": "Understanding fork, exec, and wait in C++ (Linux)", "body": "<p>A general breakdown of what each of those system calls do:</p>\n\n<p><strong>fork</strong>:  Forks the current process.  Literally when fork is called, execution is paused at the call to fork, and the entire program is copied into a new process space that is a child of the original.  Then both processes continue execution from right after the fork call in parallel.  You'll need to get the PID in order to tell if the program that is currently being executed is the child or parent.</p>\n\n<p><strong>exec</strong>:  Pauses execution of current process, wipes over the current process in memory with the designated new program to run.  It then runs the new program instead.</p>\n\n<p><strong>wait</strong>:  Suspends the current process until at least one child process terminates.  It is a wrapper around waitpid() which allows you to pause the current process's execution and wait for a change in the state of a child process of the current process (which may be a clone of itself or a new program swapped in by <em>exec</em>)</p>\n\n<p>Here is some code demoing waiting and forking (but no exec) from a class I took at University:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;semaphore.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;sys/wait.h&gt;\nconst int BUFFER_SIZE = 1000;\n\nvoid copySegment(int i, int segmentSize, FILE * fin, FILE * fout) {\n    // Does not need to be shown to prove point\n}\n\nint main(int argc, char * argv[]) {\n    int i;\n    sem_t * sem;\n    pid_t pid;\n    FILE * fin, * fout;\n    struct stat sbuf;\n    int fileSize, fileDescriptor, segmentSize;\n    fin = fopen(argv[1], \"r\");\n    fout = fopen(\"forkcopy.txt\", \"w\");\n    fileDescriptor = fileno(fin);\n    fstat(fileDescriptor, &amp;sbuf);\n    fileSize = sbuf.st_size;\n    segmentSize = fileSize / 4;\n    sem = sem_open(\"sem\", O_CREAT | O_EXCL, 0644, 4);\n    sem_unlink(\"sem\");\n    for (i = 0; i &lt; 4; i++) {\n        pid = fork();\n        if (pid &lt; 0)\n            printf(\"Fork error.\\n\");\n        else if (pid == 0)\n            break;\n    }\n    if (pid != 0) {\n        while (pid = waitpid(-1, NULL, 0)) {\n            if (errno == ECHILD)\n                break;\n        }\n        sem_destroy(sem);\n        fclose(fin);\n        fclose(fout);\n        exit(0);\n    } else {\n        sem_wait(sem);\n        copySegment(i, segmentSize, fin, fout);\n        sem_post(sem);\n        exit(0);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 5916424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0f44a40a566ab23a8284751c38b984c7?s=128&d=identicon&r=PG&f=1", "display_name": "kenny10009 ", "link": "https://stackoverflow.com/users/5916424/kenny10009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4847, "favorite_count": 1, "accepted_answer_id": 36755424, "answer_count": 1, "score": 2, "last_activity_date": 1461188610, "creation_date": 1461184049, "last_edit_date": 1461188610, "question_id": 36754510, "link": "https://stackoverflow.com/questions/36754510/understanding-fork-exec-and-wait-in-c-linux", "title": "Understanding fork, exec, and wait in C++ (Linux)", "body": "<p>I'm very new to using these different types of system calls in linux, Which led me to much confusion. With this, I am only asking for a push in the right direction/a start, not for a completion.\nUsing <code>fork</code>, <code>exec</code>, and <code>wait</code>, I have read up on them, but that still hasn't really helped me in my situation.\nWhat I have to do is the following,</p>\n\n<p>Print a promt and wait for the user to enter a command with up to four arguments or options. \"exit\" will stop the program. </p>\n\n<p>Some examples, <code>mkdir blah</code>, creates the directory and then prompts for a new command, <code>touch blah/this blah/that blah/there</code>.</p>\n\n<p>I have to call <code>fork</code> to create a child process to execute the command entered, then call <code>exec</code> in the child process to make the child become the program that is to be executed (this part confuses me even more), and finally call <code>wait</code> in the parent process so that the interpreter doesn't print next prompt until command is finished.</p>\n\n<p>What would be the best way to accomplish this? As in, what's the best way to read in the command/arguments/options and then have them executed?\nI would assume it would be better to do this is a <code>do..while</code> with the <code>while</code> condition being what checks for \"exit\"</p>\n\n<p>What little I have done, which isn't much, I know.</p>\n\n<pre><code>int main()\n{\nchar command[25];\npid_t  pid;\nint rs;\ncout &lt;&lt; \"Enter command: \";\ncin &gt;&gt; command;\n\nwhile(strcmp(command, \"exit\") != 0) {\n    pid = fork();\n\n    if (pid == 0) { //child process\n    rs = execl(\"echo\", command);\n            }\n else { // parent process\n    cout &lt;&lt; \"Enter a command: \";\n    cin &gt;&gt; command; \n}\n\n}\n\n\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "cmake", "mingw", "msys"], "comments": [{"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1461228763, "post_id": 36754463, "comment_id": 61107172, "body": "Have you deleted your <code>CMakeCache.txt</code>?"}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1461246863, "post_id": 36754463, "comment_id": 61120799, "body": "Yes; and had no effect! But I finally was able to make it work using <code>-DLAPACK_LIBRARIES=&#47;path&#47;to&#47;liblapack.a -DBLAS_LIBRARIES=&#47;path&#47;to&#47;libblas.a </code>"}, {"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1461248692, "post_id": 36754463, "comment_id": 61122254, "body": "Use <code>CMAKE_PREFIX_PATH</code> and add the paths there. That&#39;s the preferred way."}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1461312673, "post_id": 36754463, "comment_id": 61151790, "body": "@usr1234567: I tried that too and it didn&#39;t worked!!!"}, {"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1461314984, "post_id": 36754463, "comment_id": 61153200, "body": "Then you have to prune the path. Probably not including the <code>liblapack.a</code>, maybe even one more folder."}], "owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461183914, "creation_date": 1461183914, "question_id": 36754463, "link": "https://stackoverflow.com/questions/36754463/compiling-it-with-mingw-blas-lapack-cannot-be-found", "title": "compiling it++ with MingW blas &amp; lapack cannot be found", "body": "<p>I'm trying to compile <a href=\"http://itpp.sourceforge.net/4.3.1/\" rel=\"nofollow\">IT++</a> library using MinGW/MSYS<br>\nI compiled <code>fftw</code> and <code>lapack</code> successfully and their lib files (<code>libfftw3.a</code>, <code>libfftw3.la</code>, <code>libblas.a</code>, <code>liblapack.a</code>) exists in <code>/mingw/lib</code><br>\nBut When I try to use cmake like this:  </p>\n\n<pre><code>cmake -G \"MSYS Makefiles\" ..\n</code></pre>\n\n<p>I get:  </p>\n\n<pre><code>CMake Warning at CMakeLists.txt:192 (message):\n  BLAS library not found.\n\n\nCMake Warning at CMakeLists.txt:196 (message):\n  LAPACK library not found.\n\n\nCMake Warning at CMakeLists.txt:204 (message):\n  You can still compile IT++ but the functionality will be reduced.\n</code></pre>\n\n<p>Why it cannot find the libraries?<br>\nHow can I fix this?  </p>\n\n<p>Thanks</p>\n\n<p><strong>Note:</strong><br>\nI have  </p>\n\n<pre><code>%MINGW_HOME%\\msys\\1.0\\bin;%MINGW_HOME%\\bin;C:\\dev\\cmake-3.5.2-win32-x86\\bin;%MINGW_HOME%\\lib\n</code></pre>\n\n<p>in my <code>PATH</code> variable (where <code>%MINGW_HOME%</code> is <code>C:\\dev\\MinGW</code>)</p>\n"}, {"tags": ["c++", "macos", "matlab", "qt", "mat"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461183481, "post_id": 36754189, "comment_id": 61088902, "body": "Do you have MATLAB on your system PATH?"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461184596, "post_id": 36754189, "comment_id": 61089624, "body": "What do you mean system PATH? I am newbie, really sorry."}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461184769, "post_id": 36754189, "comment_id": 61089732, "body": "Options here <a href=\"https://www.mathworks.com/matlabcentral/newsreader/view_thread/27326\" rel=\"nofollow noreferrer\">mathworks.com/matlabcentral/newsreader/view_thread/27326</a>"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461185626, "post_id": 36754189, "comment_id": 61090188, "body": "If my understanding is right I add to .pro like below  <code>INCLUDEPATH +=&#47;Applications&#47;Matlab&#47;MATLAB_R2016a.app&#47;extern&#47;include\\           &#47;Applications&#47;Matlab&#47;MATLAB_R2016a.app&#47;bin&#47;matlab\\           &#47;Applications&#47;Matlab&#47;MATLAB_R2016a.app&#47;bin&#47;mex</code>"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461185703, "post_id": 36754189, "comment_id": 61090214, "body": "It&#39;s not an issue with your .pro file. It&#39;s something that you have to configure on your system. Try running <code>export PATH=&#47;Applications&#47;Matlab&#47;MATLAB_R2016a.app&#47;bin:$PATH</code> in the terminal before launching your app"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461185947, "post_id": 36754189, "comment_id": 61090345, "body": "I tried,  command not found, again. but still thanks"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186013, "post_id": 36754189, "comment_id": 61090370, "body": "How are you launching your app?"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186093, "post_id": 36754189, "comment_id": 61090408, "body": "Just click the alias in my application"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186279, "post_id": 36754189, "comment_id": 61090501, "body": "Ok what about running the following line in a terminal: <code>launchctl setenv PATH &#47;Applications&#47;Matlab&#47;MATLAB_R2016a.app&#47;bin:$PATH</code>"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186319, "post_id": 36754189, "comment_id": 61090522, "body": "Then you may have to run <code>osascript -e &#39;tell app &quot;Dock&quot; to quit&#39;</code> <a href=\"http://apple.stackexchange.com/questions/51677/how-to-set-path-for-finder-launched-applications\" title=\"how to set path for finder launched applications\">apple.stackexchange.com/questions/51677/&hellip;</a>"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186465, "post_id": 36754189, "comment_id": 61090606, "body": "Still the same. Thanks a lot"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461186491, "post_id": 36754189, "comment_id": 61090616, "body": "If you open a terminal, what happens when you type <code>matlab</code>?"}, {"owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1461192344, "post_id": 36754189, "comment_id": 61093049, "body": "It shows &quot;-bash: matlab: command not found&quot;."}], "owner": {"reputation": 107, "user_id": 6227636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9183e0e381557b9ab3768705cef4c46?s=128&d=identicon&r=PG&f=1", "display_name": "lun zhang", "link": "https://stackoverflow.com/users/6227636/lun-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461243937, "creation_date": 1461183027, "last_edit_date": 1461243937, "question_id": 36754189, "link": "https://stackoverflow.com/questions/36754189/command-not-found-when-connect-qt-with-matlab", "title": "&quot;command not found&quot; when connect qt with matlab", "body": "<p>I got </p>\n\n<blockquote>\n  <p>matlab: Command not found.</p>\n</blockquote>\n\n<p>when I try to use qt to call matlab to plot by using the following standard command  </p>\n\n<pre><code> { \n double z[num];\n ...\n Engine* eg;\n eg = engOpen(NULL);\n mxArray* z_array = mxCreateDoubleMatrix_700(num,1,mxREAL);\n double *pz = mxGetPr(z_array);\n\n for(int i =0;i&lt;num; i++)\n {\n pz[i] = z[i];\n }\n\n engPutVariable(eg,\"z\",z_array);\n engEvalString(eg,\"testPlot\");\n engClose(eg);   \n }\n</code></pre>\n\n<p>and I have already created the testPlot.m file</p>\n\n<pre><code>plot(z);\ngrid on;\n</code></pre>\n\n<p>For connection between qt and matlab, I just include the followings in the .pro file (by some tutorials I do not understand too well)</p>\n\n<blockquote>\n  <p>INCLUDEPATH +=/Applications/Matlab/MATLAB_R2016a.app/extern/include</p>\n  \n  <p>LIBS += -L/Applications/Matlab/MATLAB_R2016a.app/bin/maci64 -lmx -leng -lmex</p>\n</blockquote>\n\n<p>Do I miss something to include? Can anyone tell me how to solve this problem, really thanks.</p>\n"}, {"tags": ["c++", "windows", "winapi"], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1461191198, "post_id": 36754462, "comment_id": 61092619, "body": "Since the code is compiling with <code>LPSTR</code>, then <code>UNICODE</code> is clearly not defined, and the Ansi version of <code>CreateProcess()</code> does not modify the command buffer, only the Unicode version does.  Also, running <code>start</code> as the command will not work anyway."}], "tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": false, "score": 3, "last_activity_date": 1461183914, "creation_date": 1461183914, "answer_id": 36754462, "question_id": 36754174, "link": "https://stackoverflow.com/questions/36754174/using-the-createprocess-function/36754462#36754462", "title": "using the CreateProcess function", "body": "<p>First thing is that:</p>\n\n<pre><code>LPSTR s = const_cast&lt;char *&gt;(l.parameter.c_str());\n</code></pre>\n\n<p>is bad idea, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682425%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow\">CreateFile</a> accepts for <code>lpCommandLine</code> non const buffer for a reason - it might modify it:</p>\n\n<blockquote>\n  <p>The system adds a terminating null character to the command-line string to separate the file name from the arguments. This divides the original string into two strings for internal processing.</p>\n</blockquote>\n\n<p>so you should pass an array, for example:</p>\n\n<pre><code>TCHAR szCmd[MAX_PATH] = {0};\n</code></pre>\n\n<p>then to your question, if \"start skype.exe\" works for you and you want to enter only skype.exe at the command line - then why not concatenate strings? for example:</p>\n\n<pre><code>_tcscat(szCmd, _T(\"start \"));\n_tcscat(szCmd, parameter.c_str());\n</code></pre>\n\n<p>and pass szCmd to CreateProcess</p>\n\n<p>the question is whether you use UNICODE build, if yes then make sure parameter is std::wstring, otherwise if you use non-UNICODE build (and it looks like thats true) then std::string is fine.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 3, "last_activity_date": 1461192565, "last_edit_date": 1461192565, "creation_date": 1461191418, "answer_id": 36756361, "question_id": 36754174, "link": "https://stackoverflow.com/questions/36754174/using-the-createprocess-function/36756361#36756361", "title": "using the CreateProcess function", "body": "<p><code>start</code> is not an executable, it is a feature of <code>cmd.exe</code>, so to invoke <code>start skype.exe</code> via <code>CreateProcess()</code>, you would have to specify <code>cmd.exe</code> as the command and <code>/C start skype.exe</code> as its parameter.</p>\n\n<pre><code>Line l;\nline.parameter = \"cmd.exe /C start skype.exe\";\nexecute(l);\n</code></pre>\n\n<p>But that is overkill in this situation, as <code>start</code> is not actually needed, despite what you claim. It is perfectly valid and preferable to invoke <code>skype.exe</code> directly as the command.</p>\n\n<p>However, you have to provide the <em>full path</em> to <code>skype.exe</code> (same if you were to invoke <code>start</code>), otherwise <code>CreateProcess()</code> won't be able to find it, as Skype does not register its .exe file path in the <code>App Paths</code> key of the Registry, or the path to its <code>Phone</code> subfolder (where <code>skype.exe</code> resides) on the system's <code>%PATH%</code> environment variable.</p>\n\n<p>For example:</p>\n\n<pre><code>Line l;\nline.parameter = \"C:\\\\Program Files (x86)\\\\Skype\\\\Phone\\\\Skype.exe\";\nexecute(l);\n</code></pre>\n\n<p>Fortunately, Skype does store the full path to <code>skype.exe</code> in the Registry, specifically in the following key:</p>\n\n<pre><code>HKEY_CURRENT_USER\\Software\\Skype\\Phone\n</code></pre>\n\n<p>It is stored in a <code>REG_SZ</code> value named <code>\"SkypePath\"</code>.</p>\n\n<pre><code>std::string GetSkypePath()\n{\n    std::string sPath;\n\n    HKEY hKey;\n    if (RegOpenKeyExA(HKEY_CURRENT_USER, \"Software\\\\Skype\\\\Phone\", 0, KEY_QUERY_VALUE, &amp;hKey) == 0)\n    { \n        char szPath[MAX_PATH+1] = {0};\n        DWORD dwPathLen = MAX_PATH;\n\n        if (RegQueryValueExA(hKey, \"SkypePath\", NULL, NULL, (LPBYTE)szPath, &amp;dwPathLen) == 0)\n            sPath = szPath;            \n\n        RegCloseKey(hKey);\n    }\n\n    return sPath;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6232209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903cb0ad860f6a0ff0c3fc2f6cdbef79?s=128&d=identicon&r=PG&f=1", "display_name": "O. Feldman", "link": "https://stackoverflow.com/users/6232209/o-feldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2733, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1461192565, "creation_date": 1461182978, "last_edit_date": 1461183215, "question_id": 36754174, "link": "https://stackoverflow.com/questions/36754174/using-the-createprocess-function", "title": "using the CreateProcess function", "body": "<p>I'm trying to create something similar to a cmd with Microsoft Visual Studio Express 2013 for Windows Desktop in c++ and one of my function should start a process like open skype by typing \"skype.exe\". I searched in the internet and found the CreateProcess function that should do the work for me. when I created a function that receives a class value that I created called Line (the name of the class but it doesn't really metter) and used the CreateProcess function in the way that is shown bellow I have to type in my cmd \"start skype.exe\" but I want it to work like in the regular cmd by writing only \"skype.exe\", how can I do it? \n(the l.parameter is just a string that contains the word skype)</p>\n\n<pre><code>void execute(Line l){\n\nSTARTUPINFO si;\nPROCESS_INFORMATION pi;\n\nZeroMemory(&amp;si, sizeof(si));\nsi.cb = sizeof(si);\nZeroMemory(&amp;pi, sizeof(pi));\nLPSTR s = const_cast&lt;char *&gt;(l.parameter.c_str());\nif (!CreateProcess(NULL, s, NULL, NULL, FALSE, 0, NULL, NULL, &amp;si, &amp;pi))\n{\n    printf(\"CreateProcess failed (%d).\\n\", GetLastError());\n    return;\n}\n\n// Wait until child process exits.\nWaitForSingleObject(pi.hProcess, INFINITE);\n\n// Close process and thread handles. \nCloseHandle(pi.hProcess);\nCloseHandle(pi.hThread);}\n</code></pre>\n"}, {"tags": ["c++", "linux", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 2, "creation_date": 1461184245, "post_id": 36754465, "comment_id": 61089400, "body": "That didn&#39;t work - I did just what you suggested, and it still links against the shared lib. According to the <a href=\"https://cmake.org/cmake/help/v3.0/variable/CMAKE_FIND_LIBRARY_SUFFIXES.html\" rel=\"nofollow noreferrer\">docs</a> that setting is only for <code>find_library</code> not for <code>target_link_libraries</code>"}, {"owner": {"reputation": 568, "user_id": 2847010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fYr5h.jpg?s=128&g=1", "display_name": "Francesco Argese", "link": "https://stackoverflow.com/users/2847010/francesco-argese"}, "reply_to_user": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 0, "creation_date": 1461184646, "post_id": 36754465, "comment_id": 61089652, "body": "Yes, it requires using find_library. Usually I use find_library to find external libraries and store them in CMake variables; then I add them to target libraries using variables."}, {"owner": {"reputation": 568, "user_id": 2847010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fYr5h.jpg?s=128&g=1", "display_name": "Francesco Argese", "link": "https://stackoverflow.com/users/2847010/francesco-argese"}, "reply_to_user": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 1, "creation_date": 1461185444, "post_id": 36754465, "comment_id": 61090095, "body": "Something like this: <a href=\"http://stackoverflow.com/questions/14243524/cmake-find-library-matching-behavior\" title=\"cmake find library matching behavior\">stackoverflow.com/questions/14243524/&hellip;</a>. Then you need to add the library var to TARGET_LINK_LIBRARIES with ${VAR_LIBRARY_NAME}.If you have problems try to print variable obtained through find_library with message(STATUS ...) to understand if it has found the right library."}], "tags": [], "owner": {"reputation": 568, "user_id": 2847010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fYr5h.jpg?s=128&g=1", "display_name": "Francesco Argese", "link": "https://stackoverflow.com/users/2847010/francesco-argese"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183920, "last_edit_date": 1495541892, "creation_date": 1461183920, "answer_id": 36754465, "question_id": 36754160, "link": "https://stackoverflow.com/questions/36754160/cmake-target-link-libraries-use-static-library-not-shared/36754465#36754465", "title": "cmake: target_link_libraries use static library not shared", "body": "<p>You have to set your CMAKE_FIND_LIBRARY_SUFFIXES variable in this manner:</p>\n\n<pre><code>set(CMAKE_FIND_LIBRARY_SUFFIXES .a)\n</code></pre>\n\n<p>because in default CMAKE_FIND_LIBRARY_SUFFIXES there is also .so suffix (and it seems not searching in order of insertion). In order to allow portability other suffixes should be added (see <a href=\"https://stackoverflow.com/questions/28194215/default-values-for-cmake-find-library-prefixes-cmake-find-library-suffixes\">here</a> for default values of CMAKE_FIND_LIBRARY_SUFFIXES on different platforms).</p>\n"}, {"comments": [{"owner": {"reputation": 1244, "user_id": 884893, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7ec5546d329b3f2c371561a7cc08f2b8?s=128&d=identicon&r=PG", "display_name": "over_optimistic", "link": "https://stackoverflow.com/users/884893/over-optimistic"}, "edited": false, "score": 1, "creation_date": 1471123882, "post_id": 36754678, "comment_id": 65230248, "body": "you need to add `    unset(FOUND CACHE)` before the find_library call or else the second find_static_library won&#39;t work."}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 1244, "user_id": 884893, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7ec5546d329b3f2c371561a7cc08f2b8?s=128&d=identicon&r=PG", "display_name": "over_optimistic", "link": "https://stackoverflow.com/users/884893/over-optimistic"}, "edited": false, "score": 1, "creation_date": 1567522089, "post_id": 36754678, "comment_id": 101983335, "body": "@over_optimistic very late reply, but I updated the answer to undo the need for the <code>unset</code>"}], "tags": [], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "is_accepted": true, "score": 3, "last_activity_date": 1498832070, "last_edit_date": 1498832070, "creation_date": 1461184617, "answer_id": 36754678, "question_id": 36754160, "link": "https://stackoverflow.com/questions/36754160/cmake-target-link-libraries-use-static-library-not-shared/36754678#36754678", "title": "cmake: target_link_libraries use static library not shared", "body": "<p>You can create a helper function which sets <code>CMAKE_FIND_LIBRARY_SUFFIXES</code> at function scope (<a href=\"https://cmake.org/cmake/help/v3.0/command/function.html\" rel=\"nofollow noreferrer\">so therefore doesn't affect the parent scope</a>) which searches for the library in question and sets an output variable with the result</p>\n\n<pre><code>function(find_static_library LIB_NAME OUT)\n\n    if (WIN32 OR MSVC)\n        set(CMAKE_FIND_LIBRARY_SUFFIXES \".lib\")\n    elseif (UNIX)\n        set(CMAKE_FIND_LIBRARY_SUFFIXES \".a\")\n    endif()      \n\n    find_library(\n        FOUND_${LIB_NAME}_STATIC\n        ${LIB_NAME}\n        )\n\n    if (FOUND_${LIB_NAME}_STATIC)\n        get_filename_component(ABS_FILE ${FOUND_${LIB_NAME}_STATIC} ABSOLUTE)\n    else()\n        message(SEND_ERROR \"Unable to find library ${LIB_NAME}\")\n    endif()\n\n    set(${OUT} ${ABS_FILE} PARENT_SCOPE)\n\nendfunction()\n</code></pre>\n\n<p>You can then call this function from somewhere in your <code>CMakeLists.txt</code> to populate a variable with the location of the library.</p>\n\n<p>Failure to find it results in a hard failure</p>\n\n<pre><code>find_static_library(tcmalloc_minimal TCMALLOC)\n</code></pre>\n\n<p>You can then use this variable in your call to <code>target_link_libraries</code> and be sure you're linking against the static version</p>\n\n<pre><code>target_link_libraries(${BIN_NAME} optimized ${TCMALLOC})\n</code></pre>\n\n<p>Here you can see the result:</p>\n\n<pre><code>$ make VERBOSE=1 | grep tcmalloc\n</code></pre>\n\n<blockquote>\n<pre><code>/usr/bin/c++ ... /usr/local/lib/libtcmalloc_minimal.a ...\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 7193, "user_id": 1938798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/196507edbb408bad2f2a08e33222bac7?s=128&d=identicon&r=PG", "display_name": "Craig Scott", "link": "https://stackoverflow.com/users/1938798/craig-scott"}, "is_accepted": false, "score": 3, "last_activity_date": 1461273216, "creation_date": 1461273216, "answer_id": 36780592, "question_id": 36754160, "link": "https://stackoverflow.com/questions/36754160/cmake-target-link-libraries-use-static-library-not-shared/36780592#36780592", "title": "cmake: target_link_libraries use static library not shared", "body": "<p>If you only need to support non-Windows platforms, then <a href=\"https://cmake.org/pipermail/cmake/2010-December/041326.html\" rel=\"nofollow\">this old email</a> from the CMake mailing list from one of the Kitware developers gives the simplest method. In essence, use <code>find_library()</code> to find the location of the actual library, favouring static libraries over shared ones by listing them first in the names to look for. i.e.</p>\n\n<pre><code>find_library(TCMALLOC_LIB NAMES libtcmalloc_minimal.a tcmalloc_minimal)\n</code></pre>\n\n<p>You would then link to the library found in the usual way:</p>\n\n<pre><code>target_link_libraries(${BIN_NAME} ${TCMALLOC_LIB})\n</code></pre>\n\n<p>You could get smarter about how you define the static library name if you need to support platforms where a static library is named something other than <code>lib???.a</code>. You would use CMAKE_STATIC_LIBRARY_PREFIX and CMAKE_STATIC_LIBRARY_SUFFIX variables for that.</p>\n\n<p>On Windows, the problem is that you cannot distinguish between a static library and the import library for a DLL, as discussed in <a href=\"https://cmake.org/Bug/view.php?id=1643\" rel=\"nofollow\">this old issue</a> in the Kitware bug tracker. Both have the file extension <code>.lib</code>, so you can't use the extension to work out if a particular file is a static library or not, unlike Unix-based platforms where you can.</p>\n"}], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22780, "favorite_count": 5, "accepted_answer_id": 36754678, "answer_count": 3, "score": 21, "last_activity_date": 1498832070, "creation_date": 1461182940, "question_id": 36754160, "link": "https://stackoverflow.com/questions/36754160/cmake-target-link-libraries-use-static-library-not-shared", "title": "cmake: target_link_libraries use static library not shared", "body": "<p>Is it possible to tell cmake to link against a <strong>static library</strong> instead of <strong>shared</strong>?</p>\n\n<p>At the top of my <code>CMakeLists.txt</code> I have the following configured:</p>\n\n<pre><code>set(CMAKE_FIND_LIBRARY_SUFFIXES .a ${CMAKE_FIND_LIBRARY_SUFFIXES})\n</code></pre>\n\n<p>Later, I add a binary, and tell it to link against <code>tcmalloc</code> in release mode:</p>\n\n<pre><code>target_link_libraries(${BIN_NAME} optimized tcmalloc_minimal)\n</code></pre>\n\n<p>The resulting makefile links aginst the shared version of <code>tcmalloc</code>:</p>\n\n<pre><code>$ make VERBOSE=1 | grep tcmalloc\n/usr/bin/c++ ... -Wl,-Bdynamic ltcmalloc_minimal \n</code></pre>\n\n<p>Further proof:</p>\n\n<pre><code>$ ldd app \n    ...\n    libtcmalloc_minimal.so.4 =&gt; /usr/local/lib/libtcmalloc_minimal.so.4 (0x00007eff89733000)\n    ...\n</code></pre>\n\n<p>Both static and shared versions of tcmalloc exist:</p>\n\n<pre><code>$ ls -1 /usr/local/lib/libtcmalloc_minimal*\n/usr/local/lib/libtcmalloc_minimal.a\n/usr/local/lib/libtcmalloc_minimal_debug.a\n/usr/local/lib/libtcmalloc_minimal_debug.la\n/usr/local/lib/libtcmalloc_minimal_debug.so\n/usr/local/lib/libtcmalloc_minimal_debug.so.4\n/usr/local/lib/libtcmalloc_minimal_debug.so.4.2.6\n/usr/local/lib/libtcmalloc_minimal.la\n/usr/local/lib/libtcmalloc_minimal.so\n/usr/local/lib/libtcmalloc_minimal.so.4\n/usr/local/lib/libtcmalloc_minimal.so.4.2.6\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>How can I configure cmake to link against the static version of <code>tcmalloc</code>?</p>\n"}, {"tags": ["c++", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6232262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fad857162fe1a9823acc5213b66426c?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/6232262/michal"}, "edited": false, "score": 1, "creation_date": 1461526084, "post_id": 36754411, "comment_id": 61226688, "body": "It was really caused by overtrain of classifier. I trained 224 000 samples, now I am training 12 800 samples and with increasing amount of iteration are results better. Thank you for your help."}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": true, "score": 1, "last_activity_date": 1461183748, "creation_date": 1461183748, "answer_id": 36754411, "question_id": 36754133, "link": "https://stackoverflow.com/questions/36754133/mlp-relation-between-number-of-iteration-and-accuracy/36754411#36754411", "title": "MLP: Relation between number of iteration and accuracy", "body": "<blockquote>\n  <p>It is possible that problem is in data model and programming part is\n  correct?</p>\n</blockquote>\n\n<p>Yes, the number of iterations, like the number of neurons and the number of layers, is one of the parameters that has great impact on the overall performance of the MLP classifier. The more iterations you apply to the MLP training the more the MLP NN adapts/fits to its training data. This leads to high performance on training data but can eventually lead to poor performance on test data. In this case you have <a href=\"https://en.wikipedia.org/wiki/Overfitting\" rel=\"nofollow\"><strong>over-train/over-fit</strong></a> your MLP NN.</p>\n\n<p>There are however <a href=\"https://en.wikipedia.org/wiki/Hyperparameter_optimization\" rel=\"nofollow\">methods</a> (e.g., grid-search) for the optimization of the parameters of a classifier.</p>\n"}], "owner": {"reputation": 85, "user_id": 6232262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fad857162fe1a9823acc5213b66426c?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/6232262/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 36754411, "answer_count": 1, "score": 1, "last_activity_date": 1461183748, "creation_date": 1461182864, "question_id": 36754133, "link": "https://stackoverflow.com/questions/36754133/mlp-relation-between-number-of-iteration-and-accuracy", "title": "MLP: Relation between number of iteration and accuracy", "body": "<p>I would like to ask somebody for advice. I created programme in C++ where I am using OpenCV library (v2.4.11), especially MLP classifier.</p>\n\n<p>I have had accuracy on 2 000 testing screens about 92% but only when I set number of iterations on <strong>1</strong>. With bigger numbers like 100, 1000 it is getting worse (on 100 it is 78%, on 1000 77%).</p>\n\n<p>It is possible that problem is in data model and programming part is correct? Or it has to be my fault?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1461181722, "post_id": 36753750, "comment_id": 61087714, "body": "depends on exactly what you&#39;re doing with that data. ..."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1461181870, "post_id": 36753750, "comment_id": 61087808, "body": "The question seems unclear. The language standard guarantees that <code>long</code> is at least 32 bits; you can&#39;t portably count on more than that."}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 1, "creation_date": 1461182755, "post_id": 36753750, "comment_id": 61088404, "body": "<i>&quot;is it necessary to take care&quot;</i>, <i>&quot;how to consider&quot;</i> -- Could you be less vague please?"}, {"owner": {"reputation": 657, "user_id": 5905343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QN8Kw.jpg?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/5905343/adib"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1461185852, "post_id": 36753750, "comment_id": 61090296, "body": "@Keith Thompson , read comments in Answer , may it will help you to understand question"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1461186338, "post_id": 36753750, "comment_id": 61090533, "body": "No, the question itself needs to be clearer."}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 5905343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QN8Kw.jpg?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/5905343/adib"}, "edited": false, "score": 0, "creation_date": 1461182047, "post_id": 36753833, "comment_id": 61087913, "body": "Im not talking about C , here consider your program is pure C++"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461182233, "post_id": 36753833, "comment_id": 61088050, "body": "@tobi303 Didn&#39;t notice the C++ tag at first, answer updated."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1461182378, "post_id": 36753833, "comment_id": 61088157, "body": "We should <a href=\"http://en.cppreference.com/w/cpp/header/cstdint\" rel=\"nofollow noreferrer\">prefer</a> <code>&lt;cstdint&gt;</code> to <code>&lt;stdint.h&gt;</code>."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1461182475, "post_id": 36753833, "comment_id": 61088223, "body": "If it&#39;s C++, you should use <code>#include &lt;cstdint&gt;</code>"}, {"owner": {"reputation": 877, "user_id": 2548319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thw8X.jpg?s=128&g=1", "display_name": "Paulo1205", "link": "https://stackoverflow.com/users/2548319/paulo1205"}, "edited": false, "score": 0, "creation_date": 1461182712, "post_id": 36753833, "comment_id": 61088377, "body": "Whenever arithmetic and value range limits can be a issue, than you should care about size.  There are portable ways (e.g. &lt;cstdint&gt;) to ensure exact or minimally-required precision for your data, so you should not be ashamed of using them when you think you need to."}, {"owner": {"reputation": 657, "user_id": 5905343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QN8Kw.jpg?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/5905343/adib"}, "edited": false, "score": 0, "creation_date": 1461182814, "post_id": 36753833, "comment_id": 61088441, "body": "then why  Fixed-width integers are introduced in  C++ 11"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1461183263, "post_id": 36753833, "comment_id": 61088749, "body": "@NathanOliver: No, that&#39;s what <code>int_least32_t</code> is for. <code>int32_t</code> is guaranteed to be 32 bits, and if the platform doesn&#39;t support a 32 bit type, then <code>int32_t</code> doesn&#39;t exist."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1461183557, "post_id": 36753833, "comment_id": 61088941, "body": "@BenjaminLindley dang it.  confused myself there."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 657, "user_id": 5905343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QN8Kw.jpg?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/5905343/adib"}, "edited": false, "score": 0, "creation_date": 1461183579, "post_id": 36753833, "comment_id": 61088953, "body": "@user5905343 the fixed width types are <a href=\"http://en.cppreference.com/w/cpp/types/integer\" rel=\"nofollow noreferrer\">provided only if the implementation directly supports the type</a>. This doesnt sound very portable, thus the argument that portable code should ignore the exact size of a type is still valid."}], "tags": [], "owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "is_accepted": true, "score": 4, "last_activity_date": 1461182569, "last_edit_date": 1461182569, "creation_date": 1461181913, "answer_id": 36753833, "question_id": 36753750, "link": "https://stackoverflow.com/questions/36753750/is-it-necessary-to-take-care-of-long-data-type-in-program-that-is-written-for-wi/36753833#36753833", "title": "Is it necessary to take care of long data type in program that is written for Windows and Linux?", "body": "<ol>\n<li>In C and C++, in portable code, you never know the exact size of a type like <code>int</code> or <code>long int</code>.  If you move your code to a different compiler (or a different machine, or a different OS), the sizes of some of your types may change.  This needn't be a problem; in fact it's only a problem if you want to make it a problem.  (All of this has always been the case, and has nothing to do with someone's definitions of \"LLP64\" and \"LP64\" architecture families.)</li>\n<li>On those (hopefully rare) occasions when you need a type of an exact size, one good way is to use types like <code>int32_t</code> and <code>uint64_t</code> from <code>&lt;cstdint&gt;</code> (or <code>&lt;stdint.h&gt;</code> in C).</li>\n<li>But you really, really shouldn't need to specify the exact size of a type, most of the time.  (There are those who say you need to specify the exact size of every type, but my advice is to ignore those people.)</li>\n<li>Pretty much the only time you need to specify exact sizes is when trying to define a structure which you can read and write in \"binary\" fashion to conform to some externally-imposed storage layout.  But there, specifying the exact sizes of data types isn't generally sufficient, because of issues like alignment, padding, and byte order.  So you're better off writing explicit serialization and deserialization code anyway (or using \"text\" data formats instead, if you can get away with it).</li>\n<li>My bottom line is that I rarely worry about the exact sizes of types.</li>\n</ol>\n"}], "owner": {"reputation": 657, "user_id": 5905343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QN8Kw.jpg?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/5905343/adib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 36753833, "answer_count": 1, "score": 1, "last_activity_date": 1461182569, "creation_date": 1461181618, "last_edit_date": 1461182130, "question_id": 36753750, "link": "https://stackoverflow.com/questions/36753750/is-it-necessary-to-take-care-of-long-data-type-in-program-that-is-written-for-wi", "title": "Is it necessary to take care of long data type in program that is written for Windows and Linux?", "body": "<p>According to cpp reference in 64 bit systems:</p>\n\n<pre><code>    LLP64 or 4/4/8 (int and long are 32-bit, pointer is 64-bit)\n        Win64 API \n    LP64 or 4/8/8 (int is 32-bit, long and pointer are 64-bit) \n        Unix and Unix-like systems (Linux, Mac OS X) \n</code></pre>\n\n<p>Then how to consider long data type for codes which is written for Linux and Windows? </p>\n"}, {"tags": ["c++", "c", "linux", "intel-pin"], "comments": [{"owner": {"reputation": 17054, "user_id": 5636775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9DT.gif?s=128&g=1", "display_name": "Ctx", "link": "https://stackoverflow.com/users/5636775/ctx"}, "edited": false, "score": 2, "creation_date": 1461182285, "post_id": 36753661, "comment_id": 61088081, "body": "getpid is syscall nr 39 with 64-bit, maybe that&#39;s the reason you can&#39;t find it?"}, {"owner": {"reputation": 308, "user_id": 3241663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2772bd82c001755ef52c69494e219a2a?s=128&d=identicon&r=PG&f=1", "display_name": "TypeKazt", "link": "https://stackoverflow.com/users/3241663/typekazt"}, "reply_to_user": {"reputation": 17054, "user_id": 5636775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9DT.gif?s=128&g=1", "display_name": "Ctx", "link": "https://stackoverflow.com/users/5636775/ctx"}, "edited": false, "score": 0, "creation_date": 1461182441, "post_id": 36753661, "comment_id": 61088203, "body": "@Ctx I am running on a 64-bit machine, so yes that would be it. Thank you."}], "owner": {"reputation": 308, "user_id": 3241663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2772bd82c001755ef52c69494e219a2a?s=128&d=identicon&r=PG&f=1", "display_name": "TypeKazt", "link": "https://stackoverflow.com/users/3241663/typekazt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1461182382, "creation_date": 1461181355, "last_edit_date": 1461182382, "question_id": 36753661, "link": "https://stackoverflow.com/questions/36753661/pin-not-capturing-getpid-system-call", "title": "PIN not capturing getpid() system call", "body": "<p>Using a code example provided in the PIN API titled <a href=\"https://svn.mcs.anl.gov/repos/performance/Gwalp/gwalpsite/pin/source/tools/ManualExamples/strace.cpp\" rel=\"nofollow\">strace.cpp</a> on a binary should provide an output file containing all the system calls used, as well as some other information. The binary I use as a test is a simple C binary that contains a <code>getpid()</code> system call, which is the 20th system call. The source looks like this: </p>\n\n<pre><code>struct {\n  unsigned int pid;\n  char data [16];\n}test;\n\nvoid foo(){\n  printf(\"In Foo!\\n\");\n  char *p = \"hello world\";\n  test.pid = getpid();\n  strcpy(test.data,p);  \n}\n\nint main()\n{\n  printf(\"Hello World!\\n\");\n  foo();\n  return 0;\n}\n</code></pre>\n\n<p>After the PIN tool completes there is an output file in the working directory titled <a href=\"http://www.pastebucket.com/303418\" rel=\"nofollow\">strace.out</a>, which contains all of the system call information. The file contains about 28 different system calls, but none of them are labeled 20, or the <code>getpid()</code> system call. The system call number is the first number following the colon on each line. </p>\n"}, {"tags": ["c++", "sqlite"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 1, "creation_date": 1461182600, "post_id": 36753595, "comment_id": 61088309, "body": "No it&#39;s not ok. You must have a prepared statement to bind the values to. If you don&#39;t have a prepared statement it will not work."}, {"owner": {"reputation": 444, "user_id": 5007100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6In.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5007100/adam"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1461184291, "post_id": 36753595, "comment_id": 61089431, "body": "I have checked that and it works. I prepared the &quot;insert into TABLE values(1, 2, ?)&quot; and call Prepare(), then bind_text.  Numbers and were added to table."}], "answers": [{"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": true, "score": 2, "last_activity_date": 1461230033, "creation_date": 1461230033, "answer_id": 36765042, "question_id": 36753595, "link": "https://stackoverflow.com/questions/36753595/should-i-use-sqlite3-bind-int-function/36765042#36765042", "title": "Should I use SQLite3 bind_int function?", "body": "<p>Binding parameters avoids formatting problems or SQL injection attacks.</p>\n\n<p>However, neither is a problem for plain integers.\nSo you don't really <em>need</em> to use <code>sqlite3_bind_int</code>, if the other code is easier for you.</p>\n\n<p>On the other hand, you definitely want to use binding for float/text/blob values, so it's likely that avoiding <code>sqlite3_bind_int</code> just makes the code inconsistent.</p>\n"}], "owner": {"reputation": 444, "user_id": 5007100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6In.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5007100/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 36765042, "answer_count": 1, "score": 1, "last_activity_date": 1461230033, "creation_date": 1461181197, "last_edit_date": 1461181841, "question_id": 36753595, "link": "https://stackoverflow.com/questions/36753595/should-i-use-sqlite3-bind-int-function", "title": "Should I use SQLite3 bind_int function?", "body": "<p>is there any reason that I should use sqlite3_bind_int() function? Is it ok to pass integer variables before Prepare function execution?</p>\n\n<p>Example A (pseudocode):</p>\n\n<pre><code>// prepare statement\nsstream s;\ns &lt;&lt; \"insert into TABLE values(\" &lt;&lt; 1 &lt;&lt; \",\" &lt;&lt; 2 &lt;&lt; \",?)\";\n//...\nconst char *sql = ... // sql is equal to \"insert into TABLE values(1, 2, ?)\";\nPrepare(..., sql, ...);\nsqlite3_bind_text(3, \"text\")\n</code></pre>\n\n<p>Example B (pseudocode):</p>\n\n<pre><code>const char *sql = \"insert into TABLE values(?, ?, ?)\";\nPrepare(..., sql, ...);\nsqlite3_bind_int(1, 1);\nsqlite3_bind_int(2, 2);\nsqlite3_bind_text(3, \"text\")\n</code></pre>\n\n<p>I understand that text variables can contain SQL Injection string, so I should use bind_text function, but integers?</p>\n"}, {"tags": ["c++", "frequency", "find-occurrences"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1461181190, "post_id": 36753558, "comment_id": 61087363, "body": "Any observations when stepping through your code with the debugger?"}, {"owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461181531, "post_id": 36753558, "comment_id": 61087587, "body": "nothing that I can see, looked a few times now."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461182229, "post_id": 36753558, "comment_id": 61088047, "body": "I am voting to close this as asking general debugging help AND not doing it yourself, instead asking on SO then deleting the Q to ask the next Q till you get it done (assignment?)."}, {"owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "edited": false, "score": 0, "creation_date": 1461182232, "post_id": 36753558, "comment_id": 61088049, "body": "Ah, I think I need to organise the array first."}, {"owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "edited": false, "score": 0, "creation_date": 1461182316, "post_id": 36753558, "comment_id": 61088102, "body": "tbh, I removed those questions myself because I worked out the issue -- I got one piece of beneficial advice about the percentage, but nothing else."}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461182713, "post_id": 36753558, "comment_id": 61088379, "body": "Which was the answer I posted to your question. Then you deleted that question to post this question which has no effort shown except pasting that &quot;beneficial advice&quot;. This is not proper on SO and now here you ONLY have to debug it line by line"}, {"owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "edited": false, "score": 0, "creation_date": 1461182989, "post_id": 36753558, "comment_id": 61088549, "body": "I just figured out the issue, I need to organise it, just no idea how to organise a tuple array."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "edited": false, "score": 0, "creation_date": 1461185663, "post_id": 36754171, "comment_id": 61090200, "body": "I used a bubble sort to sort the array, then I used my binary search and it worked. I&#39;ll take maps into consideraiton next time though."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 1, "last_activity_date": 1461183318, "last_edit_date": 1461183318, "creation_date": 1461182974, "answer_id": 36754171, "question_id": 36753558, "link": "https://stackoverflow.com/questions/36753558/not-finding-occurrences-as-intended/36754171#36754171", "title": "Not finding occurrences as intended", "body": "<p>You cannot run a binary search on an unsorted container.  A binary search relies on the fact that if the midpoint is not the element you want then the element you want will be in the top half if it is more than the midpoint and the bottom half if it is less.  You cannot guarantee that with an unsorted container.</p>\n\n<p>Now instead of writing your own functions to get the number of each occurrence you can use a <code>std::map</code> to do that for you like </p>\n\n<pre><code>std::vector&lt;std::tuple&lt;int, int&gt;&gt; list = { make_tuple(2, 3), make_tuple(0, 8), make_tuple(2, 3), make_tuple(8, 9), make_tuple(9, 5), make_tuple(9, 5), make_tuple(2, 3) };\nstd::map&lt;std::tuple&lt;int, int&gt;, int&gt; occurrences;\nfor (const auto&amp; e : list) // go though the vector and add to the map.  increment the value on duplication\n    ++occurrences[e];\n\nfor (const auto&amp; e : occurrences)\n{\n    double percentage = e.second * 100 / list.size();\n    cout &lt;&lt; \"Value: \" &lt;&lt; get&lt;0&gt;(e.first) &lt;&lt; \":\" &lt;&lt; get&lt;1&gt;(e.first) &lt;&lt; \" Occurs: \" &lt;&lt; e.second &lt;&lt; \" Time(s)\" &lt;&lt; \" %\" &lt;&lt; percentage &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>Value: 0:8 Occurs: 1 Time(s) %14\nValue: 2:3 Occurs: 3 Time(s) %42\nValue: 8:9 Occurs: 1 Time(s) %14\nValue: 9:5 Occurs: 2 Time(s) %28\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5844132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/885014c39ba3da7fb28a5374e15a09a6?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch89", "link": "https://stackoverflow.com/users/5844132/mitch89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 36754171, "answer_count": 1, "score": -2, "last_activity_date": 1562741516, "creation_date": 1461181078, "last_edit_date": 1562741516, "question_id": 36753558, "link": "https://stackoverflow.com/questions/36753558/not-finding-occurrences-as-intended", "title": "Not finding occurrences as intended", "body": "<p>I have the following program, the programs purpose is to display how many times each value in the list vector occurred.</p>\n\n<p>if the tuple 2:3 occurs 3 times in the vector, then the program displays this to the user.</p>\n\n<p><strong>Expected output</strong></p>\n\n<ul>\n<li>0:8 occurred 1 time %x</li>\n<li>2:3 occurred 3 time %x</li>\n<li>9:5 occurred 2 time %x</li>\n<li>8:9 occurred 1 time %x</li>\n</ul>\n\n<p><strong>Actual Output:</strong></p>\n\n<ul>\n<li>2:3 occurred 3 time %42</li>\n<li>8:9 occurred 1 time %14</li>\n<li>9:5 occurred 3 time %42</li>\n</ul>\n\n<p>Any idea what I'm doing incorrectly? Here's a complete and verifiable working version of the code I'm using</p>\n\n<pre><code>#include &lt;vector&gt;\n    #include &lt;iostream&gt;\n    #include &lt;tuple&gt;\n\n    using namespace std;\n    int counter = 0;\n    double percentage;\n    int val = 0;\n    vector&lt;tuple&lt;int, int&gt;&gt; list = { make_tuple(2, 3), make_tuple(0, 8), make_tuple(2, 3), make_tuple(8, 9), make_tuple(9, 5), make_tuple(9, 5), make_tuple(2, 3) };\n\n\n         int binarysearch(vector&lt;tuple&lt;int, int&gt;&gt; list, int low, int high, tuple&lt;int, int&gt; number)\n         {\n            int index = low;\n            int mid = 0;\n            // loop till the condition is true\n            while (low &lt;= high) {\n                // divide the array for search\n                mid = (low + high) / 2;\n\n                if (list.at(mid) &gt; number) {\n                    high = mid - 1;\n\n                }\n                else {\n                    low = mid + 1;\n                }\n\n            }return (high - index + 1);\n\n        }\n\n         int main()\n         {\n\n             while (counter &lt;= list.size() - 1) {\n\n                 val = binarysearch(list, counter, list.size() - 1, list.at(counter));\n                 percentage = val * 100 / list.size();\n                 cout &lt;&lt; \"Value: \" &lt;&lt; get&lt;0&gt;(list.at(counter)) &lt;&lt; \":\" &lt;&lt; get&lt;1&gt;(list.at(counter)) &lt;&lt; \" Occurs: \" &lt;&lt; val &lt;&lt; \" Time(s)\" &lt;&lt; \" %\" &lt;&lt; percentage &lt;&lt; endl;\n                 counter += val;\n             }\n\n             return 0;\n         }\n</code></pre>\n"}, {"tags": ["c++", "c", "macros"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1461180724, "post_id": 36753431, "comment_id": 61087106, "body": "<a href=\"http://stackoverflow.com/questions/351733/can-you-write-object-oriented-code-in-c\" title=\"can you write object oriented code in c\">stackoverflow.com/questions/351733/&hellip;</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461180875, "post_id": 36753431, "comment_id": 61087190, "body": "If you want to convert any valid C++ program into a C program then that is going to be a big challenge.  I do not know if you would be able to replicate move semantics in C."}, {"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1461180953, "post_id": 36753431, "comment_id": 61087236, "body": "Try doing this and tell us what you have come up with."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1461181007, "post_id": 36753431, "comment_id": 61087263, "body": "I&#39;m curious why anyone would <i>want</i> to do that. In any case, I doubt that it could be done with macros. But I don&#39;t think that not doing it would rigorously prove that it can&#39;t be done."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1461181037, "post_id": 36753431, "comment_id": 61087279, "body": "I dont really agree that the question is a duplicate. Writing oo code in c might be doable, while transforming c++ to c is much more challenging"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1461181089, "post_id": 36753431, "comment_id": 61087307, "body": "As apparently basically everything, including <code>mov</code>, is turing complete, one can probably proof that it is possible (not a CS guy though). However, in the real world, no one cares. Maybe try your luck on CS.SE if you have enough academic interest, but read their rules first."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 2, "creation_date": 1461181157, "post_id": 36753431, "comment_id": 61087342, "body": "No. Not by simple text substitution (which is what macros are). You won&#39;t get past the first template."}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1461181326, "post_id": 36753431, "comment_id": 61087453, "body": "Actually, I&#39;m curious why anyone would use <b>C</b> when <b>C++</b> exists? There aren&#39;t many situations in which a C program can do something a C++ program can&#39;t."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 4, "creation_date": 1461181445, "post_id": 36753431, "comment_id": 61087534, "body": "@Logicrat 1) Legacy code 2) Not every platform has a decent C++ compiler, esp. in the embedded world 3) If you are Torwalds, you want to keep the CS-C++ noobs from screwing up your project 4) You believe that C is faster, and probably many more."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1461181613, "post_id": 36753431, "comment_id": 61087632, "body": "Perhaps this applies here in some tangential fashion.  C++ compilers were <i>initially</i> code translators, converting C++ syntax to C. and then compiling with a C compiler.  So BITD, <i>all</i> C++ programs could theoretically be translated into C code."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1461181740, "post_id": 36753431, "comment_id": 61087729, "body": "@chux, while what you are saying is true in general, it doesn&#39;t mean program can translate itself."}, {"owner": {"reputation": 877, "user_id": 2548319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thw8X.jpg?s=128&g=1", "display_name": "Paulo1205", "link": "https://stackoverflow.com/users/2548319/paulo1205"}, "edited": false, "score": 0, "creation_date": 1461181982, "post_id": 36753431, "comment_id": 61087869, "body": "There are OO libraries in C that extensively use macros for implementing their OO functionality, but the final product don&#39;t look like C++ code would.  One example is <i>GObject</i>."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1461182260, "post_id": 36753431, "comment_id": 61088071, "body": "If it were possible, we wouldn&#39;t have needed Cfront."}, {"owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "edited": false, "score": 4, "creation_date": 1461182294, "post_id": 36753431, "comment_id": 61088088, "body": "I&#39;m voting to close this question as off-topic because it is about a theoretical issue (language equivalency), and not a practical programming problem."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1461183234, "post_id": 36753431, "comment_id": 61088731, "body": "Keep in mind that the first C++ implementation, cfront, parsed C++ (or a subset of it) and produced C code as its output.  Here is some info on <a href=\"https://en.wikipedia.org/wiki/Cfront\" rel=\"nofollow noreferrer\">cfront</a>."}, {"owner": {"reputation": 4888, "user_id": 5785362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a786fd81952576dc07942023bf8830b?s=128&d=identicon&r=PG", "display_name": "tofro", "link": "https://stackoverflow.com/users/5785362/tofro"}, "edited": false, "score": 0, "creation_date": 1461184673, "post_id": 36753431, "comment_id": 61089669, "body": "Let&#39;s say <i>it was possible</i> - <code>cfront</code>used to be not much more than a preprocessor. Modern C++ has probably migrated away too much from C to make this still possible."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461181771, "post_id": 36753777, "comment_id": 61087741, "body": "Apparently you never looked at Boost.Preprocessor :)"}, {"owner": {"reputation": 14766, "user_id": 483486, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fcf225aa724d9bb05f6693dc8cf8c459?s=128&d=identicon&r=PG", "display_name": "OmnipotentEntity", "link": "https://stackoverflow.com/users/483486/omnipotententity"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461182057, "post_id": 36753777, "comment_id": 61087920, "body": "Boost.Preprocessor has an iteration limit of 256 for exactly this reason.  They unroll the loop."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1461182363, "post_id": 36753777, "comment_id": 61088144, "body": "cpp recursive template instantiation also has it&#39;s limits, and it is not much higher on modern compilers (and indeed was lower not so long ago)."}], "tags": [], "owner": {"reputation": 14766, "user_id": 483486, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fcf225aa724d9bb05f6693dc8cf8c459?s=128&d=identicon&r=PG", "display_name": "OmnipotentEntity", "link": "https://stackoverflow.com/users/483486/omnipotententity"}, "is_accepted": false, "score": 2, "last_activity_date": 1461182292, "last_edit_date": 1461182292, "creation_date": 1461181730, "answer_id": 36753777, "question_id": 36753431, "link": "https://stackoverflow.com/questions/36753431/is-it-possible-to-implement-c-as-a-c-library-with-macros/36753777#36753777", "title": "Is it possible to implement C++ as a C library with macros?", "body": "<p>No.</p>\n\n<p>For a specific proof, consider this template.</p>\n\n<pre><code>template&lt;size_t n&gt;\nstruct fact {\n  static const int value = n * fact&lt;n-1&gt;::value;\n};\n\ntemplate&lt;&gt;\nstruct fact&lt;0&gt; {\n  static const int value = 1;\n};\n</code></pre>\n\n<p>Even if you could write an extremely sophisticated preprocessing macro to translate this into C, the preprocessor only runs once.  It does not loop or run recursively (which this template definition requires to function correctly.)  So you cannot implement this template within C with macros only.</p>\n\n<p>You may be able to do a subset of C++, but the preprocessor is fundamentally unsuited for this situation.</p>\n\n<p>EDIT: Re: Boost.Preprocessor.  Iteration is faked in the Boost.Preprocessor.  There is an iteration limit of 256 in all cases, this is because the preprocessor fakes loops using repeated calls.  See boost/repetition/for.hpp for an example.</p>\n"}, {"tags": [], "owner": {"reputation": 58292, "user_id": 34824, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ri8DI.jpg?s=128&g=1", "display_name": "abelenky", "link": "https://stackoverflow.com/users/34824/abelenky"}, "is_accepted": false, "score": 4, "last_activity_date": 1461182072, "creation_date": 1461182072, "answer_id": 36753887, "question_id": 36753431, "link": "https://stackoverflow.com/questions/36753431/is-it-possible-to-implement-c-as-a-c-library-with-macros/36753887#36753887", "title": "Is it possible to implement C++ as a C library with macros?", "body": "<p>C does not have function overloading, but C++ does.</p>\n\n<p>It seems to me that it would probably be impossible to make this simple C++ code compile in C:</p>\n\n<pre><code>bool Add(int a, int b);\nbool Add(string a, string b);\n</code></pre>\n\n<p>(two overloaded functions: same name, different parameters, different implementation)</p>\n\n<p>C would report an error similar to \"redefinition of an existing function\".<br>\nC++ would compile it with no problems.</p>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 0, "last_activity_date": 1461182429, "creation_date": 1461182429, "answer_id": 36754008, "question_id": 36753431, "link": "https://stackoverflow.com/questions/36753431/is-it-possible-to-implement-c-as-a-c-library-with-macros/36754008#36754008", "title": "Is it possible to implement C++ as a C library with macros?", "body": "<p>Operator overloading might represent an issue.\nYou can go with code generation, g++ frontend probably does something of this kind. Fork it and fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "is_accepted": false, "score": 2, "last_activity_date": 1461182569, "creation_date": 1461182569, "answer_id": 36754056, "question_id": 36753431, "link": "https://stackoverflow.com/questions/36753431/is-it-possible-to-implement-c-as-a-c-library-with-macros/36754056#36754056", "title": "Is it possible to implement C++ as a C library with macros?", "body": "<p>The template mechanism is turing complete. The macro processor is not. /story</p>\n"}], "owner": {"reputation": 109, "user_id": 5208741, "user_type": "registered", "profile_image": "https://graph.facebook.com/1614679458814956/picture?type=large", "display_name": "Tomasz Garbus", "link": "https://stackoverflow.com/users/5208741/tomasz-garbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "closed_date": 1461182583, "answer_count": 4, "score": 0, "last_activity_date": 1461182569, "creation_date": 1461180671, "question_id": 36753431, "link": "https://stackoverflow.com/questions/36753431/is-it-possible-to-implement-c-as-a-c-library-with-macros", "closed_reason": "Not suitable for this site", "title": "Is it possible to implement C++ as a C library with macros?", "body": "<p>Would it be theoretically possible to implement C++ keywords, classes syntax etc. using a C library with right macros? (i.e. prepare a library which would make any C++ code compile using C compiler). I guess the answer is probably \"no\", but I wonder if you can prove it.</p>\n"}, {"tags": ["c++", "c", "parallel-processing", "openmp", "affinity"], "comments": [{"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1461189548, "post_id": 36753263, "comment_id": 61092020, "body": "How about the benefit that the user does not have to create a huge bat file every time it has to be run in parallel?"}], "answers": [{"comments": [{"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1461240860, "post_id": 36753386, "comment_id": 61115909, "body": "That last statement about <code>malloc</code> is interesting. Could you please provide some pointers to the glibc source code or the documentation to back it? I don&#39;t see <code>malloc</code> coming in different versions in glibc 2.12 or newer although ptmalloc2 could be compiled without thread safety. Besides, the library has the option to create one memory arena per core for (almost) lock-free implementation of <code>malloc</code> and at least RedHat-based distributions come with that option turned on."}, {"owner": {"reputation": 32065, "user_id": 90002, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/717b51c0020d2a527975a5ee44026d12?s=128&d=identicon&r=PG", "display_name": "Phil Miller", "link": "https://stackoverflow.com/users/90002/phil-miller"}, "reply_to_user": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1461261274, "post_id": 36753386, "comment_id": 61130655, "body": "This is from memory, but my recollection is that linking with <code>-lpthread</code> got a different version or perhaps build configuration of malloc interposed."}], "tags": [], "owner": {"reputation": 32065, "user_id": 90002, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/717b51c0020d2a527975a5ee44026d12?s=128&d=identicon&r=PG", "display_name": "Phil Miller", "link": "https://stackoverflow.com/users/90002/phil-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1461180559, "creation_date": 1461180559, "answer_id": 36753386, "question_id": 36753263, "link": "https://stackoverflow.com/questions/36753263/software-parallelization-with-openmp-versus-affinity-scheduling/36753386#36753386", "title": "Software parallelization with OpenMP versus Affinity scheduling?", "body": "<p>If your problem is a simply parallel, with no interaction among the data in the separate input files, then you would probably not see a speedup with OpenMP, and might even see a slow-down, since memory allocation and various other things then have to be thread-safe. Single-threaded processes can gain lots of efficiencies, and in fact do on GNU libc, where linking in POSIX threads support means you also get a slower implementation of <code>malloc</code></p>\n"}], "owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461180559, "creation_date": 1461180169, "question_id": 36753263, "link": "https://stackoverflow.com/questions/36753263/software-parallelization-with-openmp-versus-affinity-scheduling", "title": "Software parallelization with OpenMP versus Affinity scheduling?", "body": "<p>Scenario: I have an program which can be <em>easily</em> parallelized using OpenMP, lets say the main loop of the program is a for loop and independent data within it, so paralleizing it would be trivial. However currently I <strong>don't</strong> parallelize it, and instead use affinity scheduling.</p>\n\n<p>This program performs work on some input files specified by a folder in the command line arguments. To run this program in parallel, someone can create a bat file like so:</p>\n\n<pre><code>start \\affinity 1 \"1\" bat1\nstart \\affinity 2 \"2\" bat2\nstart \\affinity 3 \"3\" bat3\nstart \\affinity 4 \"4\" bat4\n</code></pre>\n\n<p>where bat1 - 4 is a bat file that calls <code>main.exe</code> with a different input folder for each bat file. So in this case there would be 4 instances of <code>main.exe</code> running on <code>input_folder1, input_folder2, input_folder3, input_folder4</code> respectively.</p>\n\n<p><strong>What would be the benefits of using a library like OpenMP be instead of affinity scheduling</strong>? I figure</p>\n\n<ul>\n<li>Less memory usage, single stack and heap for a single program instance as opposed to <code>n</code> instances of a program for <code>n</code> cores</li>\n<li>Better scaling</li>\n</ul>\n\n<p>But would I expect to actually see a performance boost? Why if so?</p>\n"}, {"tags": ["c++", "mpi"], "answers": [{"tags": [], "owner": {"reputation": 32065, "user_id": 90002, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/717b51c0020d2a527975a5ee44026d12?s=128&d=identicon&r=PG", "display_name": "Phil Miller", "link": "https://stackoverflow.com/users/90002/phil-miller"}, "is_accepted": true, "score": 5, "last_activity_date": 1461186535, "last_edit_date": 1461186535, "creation_date": 1461180654, "answer_id": 36753424, "question_id": 36753195, "link": "https://stackoverflow.com/questions/36753195/using-mpi-scatter-with-c-scattering-over-different-communicators/36753424#36753424", "title": "Using MPI_Scatter with C++ - Scattering over different communicators", "body": "<p><code>comm.Scatter(sendbuf, 100, MPI::INT, recvarr, 100,MPI::INT, root);</code></p>\n\n<p>The object to the left of the <code>.</code> is the MPI communicator argument. <code>MPI::COMM_WORLD</code> happens to be a pre-defined instance of an MPI communicator that corresponds to the C binding's pre-defined <code>MPI_COMM_WORLD</code></p>\n\n<p>Note that the MPI C++ bindings have been deleted in MPI-3.0, because they were underused, hard to maintain, and had clunky misunderstandings like this.</p>\n"}], "owner": {"reputation": 261, "user_id": 4237198, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9b631bcfa9118f7047e15c30b2cb1e7?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4237198/drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 36753424, "answer_count": 1, "score": 1, "last_activity_date": 1461186535, "creation_date": 1461179951, "last_edit_date": 1461180652, "question_id": 36753195, "link": "https://stackoverflow.com/questions/36753195/using-mpi-scatter-with-c-scattering-over-different-communicators", "title": "Using MPI_Scatter with C++ - Scattering over different communicators", "body": "<p>In C++, an example for using MPI_Scatter is:</p>\n\n<pre><code>MPI::COMM_WORLD.Scatter(sendbuf, 100, MPI::INT, recvarr, 100,MPI::INT, root);\n</code></pre>\n\n<p>This scatters the contents of <code>sendbuff</code> into 100 separate process to make <code>recvarr</code> on each process, <strong><em>but ONLY in the MPI World communicator</em></strong>.</p>\n\n<p>Unlike MPI_Scatter in C, the C++ version doesn't have an input for the communicator. How can I modify this example to work for any communicator, and not just MPI_COMM_WORLD?</p>\n\n<p>For example, say my communicator is named <code>comm</code>. How can I scatter <code>sendbuff</code> within the <code>comm</code> communicator group instead of MPI_COMM_WORLD?</p>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "edited": false, "score": 4, "creation_date": 1461180048, "post_id": 36753140, "comment_id": 61086682, "body": "show us what you have tried"}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "reply_to_user": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "edited": false, "score": 0, "creation_date": 1461180345, "post_id": 36753140, "comment_id": 61086858, "body": "Ok I added my attempt but it doesn&#39;t work. It gets stuck in an infinite loop and I tried a couple things that didn&#39;t work."}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1461180541, "post_id": 36753140, "comment_id": 61086984, "body": "Where do you assign a value to <code>totalsize</code>?"}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461180593, "post_id": 36753140, "comment_id": 61087016, "body": "That&#39;s the size of my vector so I don&#39;t loop over the bounds of the vector. It was declared before. This is the relevant part of my program, the other functions work"}, {"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1461180605, "post_id": 36753140, "comment_id": 61087024, "body": "Still not enough info. You aren&#39;t showing a declaration nor initialization of <code>alldoubles</code>. But I suspect that you are advancing <code>cur</code> past the end of that array, so of course it won&#39;t equal &quot;00&quot;, forever."}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461180660, "post_id": 36753140, "comment_id": 61087063, "body": "Alldoubles is the vector with the categories separated by 00. I just added that info to the post to clarify"}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1461180860, "post_id": 36753140, "comment_id": 61087180, "body": "Can you also show the current output? Is there any right now?"}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461180978, "post_id": 36753140, "comment_id": 61087249, "body": "Actually there is no output as the cout never runs"}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1461181052, "post_id": 36753140, "comment_id": 61087290, "body": "Have you tried printing the value of <code>cur</code> in the while loop? It might give a clue as to what&#39;s going on."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 1, "creation_date": 1461181056, "post_id": 36753140, "comment_id": 61087293, "body": "You never use alldouble[0]"}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461181171, "post_id": 36753140, "comment_id": 61087347, "body": "You&#39;re right I didn&#39;t realize it skips the first one. Also the curr is at 00 during the time it is stuck in infinite loop. Nope totalsize is 10445 which is correct"}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461181270, "post_id": 36753140, "comment_id": 61087417, "body": "Do you also think the general strategy that I am using is good, or should I do something else completely?"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "edited": false, "score": 0, "creation_date": 1461181534, "post_id": 36753140, "comment_id": 61087588, "body": "Strategy is not that bad....only not implemented correctly"}], "answers": [{"comments": [{"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461181333, "post_id": 36753619, "comment_id": 61087458, "body": "Oh I did get something on cout now. How did that work? I get &quot;RES &quot;"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461181379, "post_id": 36753619, "comment_id": 61087492, "body": "empty returns true if the container is empty....and it&#39;s never empty in your case...so while condition is always false..."}, {"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1461181381, "post_id": 36753619, "comment_id": 61087495, "body": "Your original loop only runs when <code>tmp.empty() != false</code> which is when <code>tmp.empty()</code>  is <code>true</code>."}, {"owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461181429, "post_id": 36753619, "comment_id": 61087529, "body": "Oh of course I shouldnt have used a !. That was a stupid mistake. However, ,the program still does not work correctl"}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "edited": false, "score": 0, "creation_date": 1461182896, "post_id": 36753619, "comment_id": 61088486, "body": "@fman edited the post with more info on how res could be handled"}], "tags": [], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "is_accepted": false, "score": 2, "last_activity_date": 1461181826, "last_edit_date": 1461181826, "creation_date": 1461181264, "answer_id": 36753619, "question_id": 36753140, "link": "https://stackoverflow.com/questions/36753140/separate-a-vector-or-array-of-strings-separated-by-a-00/36753619#36753619", "title": "Separate a vector (or array) of strings separated by a &quot;00&quot;", "body": "<p>Replace <code>while (tmp.empty()!=false)</code> by <code>while(!tmp.empty())</code>. At least....then you'll get something on <code>cout</code>. </p>\n\n<p>Also, you need to initiate <code>cur</code> with <code>alldouble[0]</code> before using it.</p>\n\n<p>Finally, <code>res</code> should be declared outside the last while loop, then, after the loop is executed, it should contain what you expected. By the way, don't forget to add spaces when you concatenate the elements into a final string.</p>\n\n<p>It  should also be possible to construct <code>res</code> on the fly while checking '00' inside the first loop. Second <code>while</code> would not be needed anymore then.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6174627, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3d09f9c8c2ebfeacb03baec1d71833ec?s=128&d=identicon&r=PG", "display_name": "random passerby", "link": "https://stackoverflow.com/users/6174627/random-passerby"}, "is_accepted": false, "score": 1, "last_activity_date": 1461182256, "creation_date": 1461182256, "answer_id": 36753952, "question_id": 36753140, "link": "https://stackoverflow.com/questions/36753140/separate-a-vector-or-array-of-strings-separated-by-a-00/36753952#36753952", "title": "Separate a vector (or array) of strings separated by a &quot;00&quot;", "body": "<p>If you have access to C++11 there's a more idiomatic way using <code>algorithm</code> and <code>iterator</code> from the standard library.</p>\n\n<pre><code>std::vector&lt;std::string&gt; stuff = {\"Pizza\", \"IceCream\", \"Bread\", \"00\", \"Windows\", \"Linux\", \"Mac\", \"00\", \"Raining\", \"Snowing\", \"00\"};\nstd::vector&lt;std::vector&lt;std::string&gt;&gt; results;\n\n//find occurance of \"00\"\nauto t = std::find(stuff.begin(), stuff.end(), \"00\");\n//save previous position for copy starting point\nauto t_old = stuff.begin(); \nwhile (t != stuff.end()) {\n    //temporary vector to hold the strings in this segment\n    auto accum = std::vector&lt;std::string&gt;( (t - t_old) );\n    //copy from last \"00\" to next \"00\" into accum\n    std::copy(t_old, t, accum.begin());\n    //bump copy point to new location of next element after last found \"00\"\n    t_old = t+1;\n    //find next \"00\"\n    t = std::find(t+1, stuff.end(), \"00\");\n    results.push_back(accum);\n}\n</code></pre>\n\n<p>This solution isn't perfect and doesn't attempt to concatenate the strings together but it's a good alternative approach that avoids many potential pitfalls.</p>\n"}, {"tags": [], "owner": {"reputation": 894, "user_id": 1919486, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/hbjXo.png?s=128&g=1", "display_name": "paceholder", "link": "https://stackoverflow.com/users/1919486/paceholder"}, "is_accepted": true, "score": 2, "last_activity_date": 1461182407, "creation_date": 1461182407, "answer_id": 36753997, "question_id": 36753140, "link": "https://stackoverflow.com/questions/36753140/separate-a-vector-or-array-of-strings-separated-by-a-00/36753997#36753997", "title": "Separate a vector (or array) of strings separated by a &quot;00&quot;", "body": "<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    std::vector&lt;std::string&gt; vv = { \"one\", \"00\",  \"two\", \"three\",  \"00\",  \"four\" , \"five\", \"six\",  \"00\", \"seven\" };\n\n    std::string const splitter(\"00\");\n\n    // !!!! add 00 to the end\n    vv.push_back(splitter);\n\n    auto bb = vv.begin();\n    auto it = std::find(vv.begin(), vv.end(), splitter);\n\n    // finds groups and prints them one by one\n    while (it != vv.end())\n    {\n        std::string accumulator;\n        for(auto it2 = bb; it2 != it; ++it2)\n            accumulator += *it2;\n\n        bb = ++it;\n\n        it = std::find(bb, vv.end(), splitter);\n        std::cout &lt;&lt; accumulator &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>one\ntwothree\nfourfivesix\nseven\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "is_accepted": false, "score": 1, "last_activity_date": 1461183346, "creation_date": 1461183346, "answer_id": 36754279, "question_id": 36753140, "link": "https://stackoverflow.com/questions/36753140/separate-a-vector-or-array-of-strings-separated-by-a-00/36754279#36754279", "title": "Separate a vector (or array) of strings separated by a &quot;00&quot;", "body": "<p>Here is a possible solution:</p>\n\n<pre><code>int main()\n{\n    vector&lt;string&gt; vec { \"Pizza\", \"IceCream\", \"Bread\", \"00\",\n                         \"Windows\", \"Mac\", \"Linux\", \"Unix\", \"00\",\n                         \"Raining\", \"Snowing\", \"Hiking\", \"00\" };\n\n    int count {};\n    string cat1;\n    string cat2;\n    string cat3;\n    for_each(begin(vec), end(vec), [&amp;](string str) {\n        if (str == \"00\") {\n            ++count;\n            return;\n        }\n        if (count == 0) {\n            for (auto&amp; c : str) \n                cat1.push_back(c);\n            cat1.push_back(' ');\n        }\n        if (count == 1) {\n            for (auto&amp; c : str) cat2.push_back(c);\n            cat2.push_back(' ');\n        }\n        if (count == 2) {\n            for (auto&amp; c : str) cat3.push_back(c);\n            cat3.push_back(' ');\n        }\n    });\n\n    cout &lt;&lt; cat1 &lt;&lt; '\\n';\n    cout &lt;&lt; cat2 &lt;&lt; '\\n';\n    cout &lt;&lt; cat3 &lt;&lt; '\\n';\n}\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 5875420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2730a9e7e5b40b68e0adb4d1149ace8f?s=128&d=identicon&r=PG&f=1", "display_name": "fman", "link": "https://stackoverflow.com/users/5875420/fman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 36753997, "answer_count": 4, "score": -1, "last_activity_date": 1461183346, "creation_date": 1461179771, "last_edit_date": 1461181647, "question_id": 36753140, "link": "https://stackoverflow.com/questions/36753140/separate-a-vector-or-array-of-strings-separated-by-a-00", "title": "Separate a vector (or array) of strings separated by a &quot;00&quot;", "body": "<p>(C++) I have a vector of strings of different \"categories\". Each category is separated by a \"00\" string  in the vector.</p>\n\n<p>So like:</p>\n\n<p>\"Pizza\"\n\"IceCream\" \n\"Bread\"\n\"00\"\n\"Windows\"\n\"Mac\"\n\"Linux\"\n\"Unix\"\n\"00\"\n\"Raining\"\n\"Snowing\"\n\"00\"\n\"Hiking\"\n\"00\"</p>\n\n<p>I am trying to figure out how to separate these categories into a vector of strings with all categories in one string like:</p>\n\n<p>\"Pizza IceCream Bread\"\n\"Windows Mac Linux Unix\"\n\"Raining Snowing\"\n\"Hiking\"</p>\n\n<p>EDIT: alldoubles is the vector name and its size is totalsize</p>\n\n<p>Attempt : Trying to add to a queue whenever the string is not 00</p>\n\n<pre><code>int loc = 0; //counter\n    queue&lt;string&gt; tmp;\n    string cur;\n    while (loc&lt;totalsize)\n    {\n        while (cur != \"00\")\n        {\n            tmp.push(cur); //add to queue when not 00\n            loc = loc + 1;\n            cur = alldoubles[loc];\n        }\n\n        while (tmp.empty()!=false)  //unload the queue into a string res \n        {                           // after an 00 was found and cout it\n            string res;\n            res = res + tmp.front();\n            tmp.pop();\n            cout &lt;&lt; \"RES \" &lt;&lt; res &lt;&lt; endl;\n        }\n    }\n</code></pre>\n\n<p>EDIT : now I get RES and the RES Pizza which is not all the food with this code</p>\n\n<pre><code>int loc = 0;\nqueue&lt;string&gt; tmp;\nstring cur;\nwhile (loc&lt;totalsize)\n{\n    while (cur != \"00\")\n    {\n        tmp.push(cur);\n        cur = alldoubles[loc];\n        loc = loc+1;\n    }\n\n    while (!tmp.empty())\n    {\n        string res;\n        res = res + tmp.front();\n        tmp.pop();\n        cout &lt;&lt; \"RES \" &lt;&lt; res &lt;&lt; endl;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "performance", "linear-algebra"], "comments": [{"owner": {"reputation": 20737, "user_id": 130659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3d3a2cce932eca144b8c13a63966404?s=128&d=identicon&r=PG", "display_name": "AlBlue", "link": "https://stackoverflow.com/users/130659/alblue"}, "edited": false, "score": 0, "creation_date": 1461189324, "post_id": 36753097, "comment_id": 61091943, "body": "Try condensing the question down further; it&#39;s unclear what it is that you&#39;re actually asking."}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "edited": false, "score": 0, "creation_date": 1461249841, "post_id": 36753754, "comment_id": 61123086, "body": "Could I ask why you would use an iterative solver? Could it really compete in terms of speed given that I have ~1024 right hand sides? I&#39;m leaning towards checking out Trilinos, as it provides a common interface to a few different iterative and direct solvers. Thanks for helping!"}, {"owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "reply_to_user": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "edited": false, "score": 0, "creation_date": 1461276840, "post_id": 36753754, "comment_id": 61139164, "body": "Well, the iterations of iterative solvers are cheap (O(N)) while it is higher for direct solvers. With a good preconditioner an iterative solver beats a direct solver. If the system matrix is well conditioned then chances are that you get the exact (or something very close to exact) LU from Incomplete LU and then an iterative solver will converge in as few as two iterations."}], "tags": [], "owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "is_accepted": false, "score": 1, "last_activity_date": 1461181634, "creation_date": 1461181634, "answer_id": 36753754, "question_id": 36753097, "link": "https://stackoverflow.com/questions/36753097/need-help-solving-sparse-ax-b/36753754#36753754", "title": "Need Help Solving Sparse Ax=b", "body": "<p>In terms of being the fastest in direct solvers I am more leaning towards <code>MUMPS</code>. \nThe libraries that are the main players and are actively developed (at least the ones I know and have used) are <code>MUMPS</code>, <code>SuperLU</code>, <code>UMFPACK</code>, <code>SuiteSparse</code>, <code>Trilinos</code> and <code>PETSc</code>.</p>\n\n<p>If I were to do this I would use a robust iterative solver and precondition it with incomplete LU factorisation. </p>\n\n<p>There is a very well known rule of thumb between users of iterative solvers, if your system is larger than 4x4 then you need to use an iterative solver. </p>\n\n<p>If you want to use iterative solvers, I would suggest to use <code>Trilinos</code> or <code>PETSc</code>. The main difference is that the former is object oriented while the later is not. There isn't much of performance difference between them.</p>\n\n<p>For GPU programming I don't have enough experience. I once used a library called PARALUTION which is a nice library. It hides the GPU implementation for you.</p>\n"}], "owner": {"reputation": 658, "user_id": 1777820, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b583c369129af2f2f6a76e0bb65711d?s=128&d=identicon&r=PG", "display_name": "user1777820", "link": "https://stackoverflow.com/users/1777820/user1777820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "closed_date": 1461189329, "answer_count": 1, "score": -2, "last_activity_date": 1461255556, "creation_date": 1461179633, "last_edit_date": 1461255556, "question_id": 36753097, "link": "https://stackoverflow.com/questions/36753097/need-help-solving-sparse-ax-b", "closed_reason": "Needs details or clarity", "title": "Need Help Solving Sparse Ax=b", "body": "<p>I know there is a lot of information out there on this topic, but I'm struggling to find the best solution for my specific problem.</p>\n\n<p>For my problem, A is extremely large (~145k X 145k) and extremely sparse (max of 9 non-zero values per row). It is not positive definite, nor symmetric, and is complex valued (single precision). The sparsity pattern can be visualized by imagining a tridiagonal matrix, and then adding two \"tridiagonals\" above and below that, N away from the main tridiagonal. This gives 3 sets of 3 non zeros in each row, with sets of 3 separated by N (N is constant for a given matrix A), and centered on the main diagonal. ~5% of rows will not fill all 9 non-zero positions, due to boundary conditions, so these rows will have a subset of the main non-zero pattern.</p>\n\n<p>I need to solve for multiple right hand sides (~1024). I also need to resolve the same system with different numeric values in A, but the same sparsity pattern.  Currently, I'm using SuperLU (single threaded) to factor A to LU and then solving using cusparse (specifically, cusparseCcsrsm_solve). </p>\n\n<p>Is a sparse direct solver using LU factorization the best approach for my problem? Which library would be the fastest for LU factorization? Which would be the fastest for solving with back substitution? </p>\n"}, {"tags": ["c++", "sublimetext3", "sublimerepl"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "edited": false, "score": 0, "creation_date": 1461239176, "post_id": 36755566, "comment_id": 61114691, "body": "Thanks@MattDMo, please tell me how to install that external shell"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "edited": false, "score": 1, "creation_date": 1461249072, "post_id": 36755566, "comment_id": 61122531, "body": "It&#39;s just the regular command line that already comes with Ubuntu."}, {"owner": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "edited": false, "score": 0, "creation_date": 1461767422, "post_id": 36755566, "comment_id": 61349914, "body": "Thanks,I dont know how exactly this can be installed, could u please share it or share any link. thanks"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "edited": false, "score": 1, "creation_date": 1461807964, "post_id": 36755566, "comment_id": 61371479, "body": "@SaleemRaza do you have access to Google? <code>ubuntu command line</code> should be informative. I&#39;m not going to hold your hand through this if you don&#39;t at least <b>try</b> to help yourself."}, {"owner": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "edited": false, "score": 0, "creation_date": 1461947842, "post_id": 36755566, "comment_id": 61445638, "body": "I have tried, and install but it doesnt work in sublime,"}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1575744164, "post_id": 36755566, "comment_id": 104671522, "body": "&quot;I have tried, and install but it doesnt work in sublime&quot; It works, quite nicely, but involves some research. It&#39;s well documented."}], "tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 1, "last_activity_date": 1582817763, "last_edit_date": 1582817763, "creation_date": 1461187801, "answer_id": 36755566, "question_id": 36752998, "link": "https://stackoverflow.com/questions/36752998/how-to-use-sublimerepl-to-get-c-user-input-in-sublime-text-3-on-ubuntu-14-04/36755566#36755566", "title": "How to use sublimeREPL to get C++ user input in Sublime Text 3 on Ubuntu 14.04", "body": "<p>SublimeREPL is only for interpreted languages that support REPLs \u2014 \"Read-Eval-Print-Loop\" \u2014 such as Perl, Python, Ruby, R, Scala, Lisp, Haskell, etc. </p>\n\n<p>C++ is a compiled language that does not have a REPL, and so is unsupported by SublimeREPL.</p>\n\n<p>You'll need to run your compiled C++ program via an external shell in order to get user input.</p>\n\n<p>See this question (<a href=\"https://stackoverflow.com/questions/3265357\">Compiled vs. Interpreted Languages</a>) for the differences between compiled and interpreted languages. Read at least the first several answers, as the terms \"compiled\" and \"interpreted\" are not very good descriptors, and are not mutually exclusive.</p>\n"}], "owner": {"reputation": 37, "user_id": 6109810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-DtpdOuyNk50/AAAAAAAAAAI/AAAAAAAAACY/uJW093CVbAo/photo.jpg?sz=128", "display_name": "Linux-Fan85", "link": "https://stackoverflow.com/users/6109810/linux-fan85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1270, "favorite_count": 0, "accepted_answer_id": 36755566, "answer_count": 1, "score": -1, "last_activity_date": 1582817763, "creation_date": 1461179350, "last_edit_date": 1575744020, "question_id": 36752998, "link": "https://stackoverflow.com/questions/36752998/how-to-use-sublimerepl-to-get-c-user-input-in-sublime-text-3-on-ubuntu-14-04", "title": "How to use sublimeREPL to get C++ user input in Sublime Text 3 on Ubuntu 14.04", "body": "<p>I  installed Sublime Text 3 and  sublimeREPL but I don't understand how  to get C++ user input from programs.</p>\n\n<p>It's been three days and I have not found the solution.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461179156, "post_id": 36752872, "comment_id": 61086086, "body": "Bogus code is bad (e.g. <code>Private:</code>, c++ is case sensitive) Don&#39;t provide bogus code when asking but provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in your question please."}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461179428, "post_id": 36752872, "comment_id": 61086276, "body": "How is this bogus code? It&#39;s real code."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461179446, "post_id": 36752872, "comment_id": 61086285, "body": "there is <code>mutable</code> that can be used to implement lazy initialization. Your const cast looks a bit fishy to me. Actually I dont understand your question at all, after casting away the const of course you can call non const methods on <code>nonConstThis</code>, a much better question is imho why are you doing this?#"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1461179690, "post_id": 36752872, "comment_id": 61086441, "body": "@Kentheglish <i>&quot;How is this bogus code ...&quot;</i> Show which compiler actually accepts <i><code>Private:    ParmsPtr theParms;</code></i> please!"}, {"owner": {"reputation": 22686, "user_id": 3758484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pJmdo.jpg?s=128&g=1", "display_name": "johnbakers", "link": "https://stackoverflow.com/users/3758484/johnbakers"}, "edited": false, "score": 0, "creation_date": 1461180119, "post_id": 36752872, "comment_id": 61086725, "body": "theLayout is a reference but you are treating it like a pointer with <code>-&gt;</code> ? is this code even the actual code you are using? because there is a difference between a const pointer and pointer to const"}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 22686, "user_id": 3758484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pJmdo.jpg?s=128&g=1", "display_name": "johnbakers", "link": "https://stackoverflow.com/users/3758484/johnbakers"}, "edited": false, "score": 0, "creation_date": 1461180851, "post_id": 36752872, "comment_id": 61087176, "body": "Hi @johnbakers, it&#39;s a reference to a smart ptr hence the usage of the <code>-&gt;</code>. It&#39;s not <i>exactly</i> the code, but very similar."}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461182042, "post_id": 36752872, "comment_id": 61087911, "body": "Hi @tobi303. Thanks for the feedback. They have to cast away constness to call the setParms function, which actually highlights my original question. <code>setParms()</code> is an inline non-const function: <code>inline const void Layout::setParms(const ParmsPtr&amp; parms)</code>. It makes sense that it is a non-const function and can thus set a data member. Compare this with the <code>calculateStart()</code> method which performs a very similar function only it&#39;s a const function! Why does this work???"}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "edited": false, "score": 0, "creation_date": 1461182182, "post_id": 36752872, "comment_id": 61088012, "body": "Someone up-vote me please, you guys are killing my stats!"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461182481, "post_id": 36752872, "comment_id": 61088229, "body": "<code>calculateStart</code> is also a quite contrived example, as it does not directly modify a member of the class"}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1461186185, "post_id": 36752872, "comment_id": 61090447, "body": "why downvoting this question ? it raises tricky problems with const qualifier uneasy to understand, as shown by some answers and comments here...."}, {"owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "reply_to_user": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1461186806, "post_id": 36752872, "comment_id": 61090809, "body": "Thank you @shrike! I know it&#39;s not the perfect question, but const qualifiers are super confusing. It seems like it should be cut an dry, but there is a lot of nuance with <code>const</code> that I see alot of the code using, but that just doesn&#39;t seem intuitive."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1461179898, "post_id": 36753020, "comment_id": 61086568, "body": "You should also note that you can make <i>both</i> const. As in <code>const Layout * const Layout</code> for example."}, {"owner": {"reputation": 22686, "user_id": 3758484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pJmdo.jpg?s=128&g=1", "display_name": "johnbakers", "link": "https://stackoverflow.com/users/3758484/johnbakers"}, "edited": false, "score": 0, "creation_date": 1461179917, "post_id": 36753020, "comment_id": 61086584, "body": "you say: &quot;Layout const&amp;, which is not the same as const Layout&amp;&quot; but see this: <a href=\"http://stackoverflow.com/questions/3694630/c-const-reference-before-vs-after-type-specifier\" title=\"c const reference before vs after type specifier\">stackoverflow.com/questions/3694630/&hellip;</a>"}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1461186447, "post_id": 36753020, "comment_id": 61090596, "body": "<code>Layout const&amp;</code>and <code>const Layout&amp;</code> are the same, they both are a reference to a const Layout. Not to be confused with <code>const Layout*</code> and <code>Layout* const</code> which are different: non-const pointer to const Layout in 1st case, const pointer to non-const Layout in 2nd case."}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "edited": false, "score": 0, "creation_date": 1461187005, "post_id": 36753020, "comment_id": 61090922, "body": "Actually, in a const member it would see it as <code>Layout * const</code>."}], "tags": [], "owner": {"reputation": 19, "user_id": 5952450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0aba0dc94527b0abf89a2f6bbd6262?s=128&d=identicon&r=PG&f=1", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/5952450/slartibartfast"}, "is_accepted": false, "score": -2, "last_activity_date": 1461179405, "creation_date": 1461179405, "answer_id": 36753020, "question_id": 36752872, "link": "https://stackoverflow.com/questions/36752872/const-member-function-can-modify-data-member/36753020#36753020", "title": "const member function can modify data member", "body": "<p>The critical question is, what exactly is being made const by declaring start() to be const?  The answer is the <em>reference</em>, not the <em>value referenced</em>.</p>\n\n<p>In your example, inside the start() method, the compiler sees the data member as having type Layout const&amp;, which is not the same as const Layout&amp;.  The same thing applies to pointers.  If your data member was a pointer type, the compiler would see the type as Layout const*.</p>\n"}, {"tags": [], "owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "is_accepted": true, "score": 1, "last_activity_date": 1461186746, "last_edit_date": 1461186746, "creation_date": 1461185567, "answer_id": 36754967, "question_id": 36752872, "link": "https://stackoverflow.com/questions/36752872/const-member-function-can-modify-data-member/36754967#36754967", "title": "const member function can modify data member", "body": "<blockquote>\n  <p>The calculator class has a const member function called calculateStart() which sets (i.e. modifies) the reference returned from calling the Parms() function in the Calculator class.</p>\n</blockquote>\n\n<p>Yes, <code>calculateStart()</code> does modify the Calculator object, which is unexpected considering the final const qualifier in its definition.<br><br>\nWhy ? Look at definition of <code>inline const ParmsPtr&amp; Layout::parms() const</code>; the final <code>const</code> tells the compiler that the function will not modify the <code>Layout</code> object, though it actually does. How ? By mischeviously <code>const_cast</code>'ing the object to a non-const object; that's where the constness is broken and that's why <code>setParms()</code> can be called.<br><br>\nThis is a bad practice, though there may be some reasons to do it. In such cases, <code>const_cast</code> serves this purpose.</p>\n"}], "owner": {"reputation": 35, "user_id": 6040234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQiT5.png?s=128&g=1", "display_name": "KyleEnglish", "link": "https://stackoverflow.com/users/6040234/kyleenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "accepted_answer_id": 36754967, "answer_count": 2, "score": -2, "last_activity_date": 1461186746, "creation_date": 1461178920, "last_edit_date": 1461180930, "question_id": 36752872, "link": "https://stackoverflow.com/questions/36752872/const-member-function-can-modify-data-member", "title": "const member function can modify data member", "body": "<p><strong>The question:</strong> Why can a const member function sometimes modify a data member and sometimes not?</p>\n\n<p><strong>The explanation:</strong> The code below is an excerpt from working code in my baseline at work. </p>\n\n<p>I have a Calculator class that owns a data member called \"theLayout\" (Header and Implementation defined below). The calculator class has a const member function called \"Parms()\" which returns a smart pointer to a Parms object that theLayout owns (by calling its own Parms() function).</p>\n\n<p>The calculator class has a const member function called calculateStart() which sets (i.e. modifies) the reference returned from calling the Parms() function in the Calculator class.</p>\n\n<p>This seems to contradict the meaning of const to me. If the const member function cannot modify the this pointer, then why can it set a value on one of the data members (theLayout) that it owns? Doesn't this \"modify\" the this pointer of the Calculator instance, and thus contradict the meaning of a const member function? Does this work because theLayout is a pointer?</p>\n\n<p><strong>Calculator Class</strong></p>\n\n<pre><code>//Header\nclass Calculator\n{\npublic:\n   Calculator();\n   //ParmsPtr is refcounted smart pointer\n   const ParmsPtr&amp; parms() const {return theLayout-&gt;parms();} \n\nprotected:\n   void calculateStart() const; //Why does this work?\n   //It seems more intuitive that this should be declared as:\n   void calculateStart() //with no const modifier.\n\n   Layout&amp;  theLayout;\n}\n\n//Implementation\nvoid Calculator::calculateStart() const\n{\n   parms()-&gt;setStart(1);\n}\n</code></pre>\n\n<p><strong>Layout Class</strong></p>\n\n<pre><code>//Header\nclass Layout : public RefCountedObject\n{\npublic:\n   Layout();\n   //ParmsPtr is refcounted smart pointer \n   inline const ParmsPtr&amp; parms() const;\n\nprivate:\n   ParmsPtr theParms;\n}\n\n//Implementation\ninline const ParmsPtr&amp; Layout::parms() const\n{\n   if (!theParms)\n   {\n      Layout* nonConstThis = const_cast&lt;Layout*&gt;(this);\n      ParmsPtr parms = new Parms();\n      nonConstThis-&gt;setParms(parms);\n   }\n\n   return theParms;\n}\n</code></pre>\n"}, {"tags": ["c++", "clang", "c++14"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 2, "creation_date": 1461178696, "post_id": 36752678, "comment_id": 61085791, "body": "Compiles on gcc 5.3.0 <a href=\"http://coliru.stacked-crooked.com/a/73b3835e4eafbc7d\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/73b3835e4eafbc7d</a> . As an aside, your <code>A</code> doesn&#39;t have a virtual destructor."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1461178702, "post_id": 36752678, "comment_id": 61085797, "body": "It is the same issue. and gcc accepts it."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1461178765, "post_id": 36752678, "comment_id": 61085831, "body": "It looks like clang has yet to fix this.  It still does not compile on clang 3.8.0"}, {"owner": {"reputation": 3837, "user_id": 1749713, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PqPOy.png?s=128&g=1", "display_name": "Micha\u0142 Walenciak", "link": "https://stackoverflow.com/users/1749713/micha%c5%82-walenciak"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1461184219, "post_id": 36752678, "comment_id": 61089380, "body": "@milleniumbug: you are 100% right about destructor, however it was just a fast draft to ilustrate problem."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 20893, "user_id": 13767, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b043ead577679feb2f4f4c3e4bb4700f?s=128&d=identicon&r=PG", "display_name": "Rafa\u0142 Rawicki", "link": "https://stackoverflow.com/users/13767/rafa%c5%82-rawicki"}, "edited": false, "score": 1, "creation_date": 1461178831, "post_id": 36752772, "comment_id": 61085886, "body": "@Rafa\u0142Rawicki, because it is a bug in CLang which still does it in C++11 mode."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 3, "creation_date": 1461178863, "post_id": 36752772, "comment_id": 61085908, "body": "It is a fix for c++11, but code should be valid in c++14.and it is a valid workaround."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 3, "last_activity_date": 1461178636, "creation_date": 1461178636, "answer_id": 36752772, "question_id": 36752678, "link": "https://stackoverflow.com/questions/36752678/clang-returning-stdunique-ptr-with-type-conversion/36752772#36752772", "title": "clang, returning std::unique_ptr with type conversion", "body": "<p>You need to <code>move</code> from the unique_ptr. Following code compiles on both CLang and gcc:</p>\n\n<pre><code>#include &lt;memory&gt;\n\nstruct A{};\nstruct B: A {};\n\nstd::unique_ptr&lt;A&gt; test() \n{\n    auto p = std::make_unique&lt;B&gt;();\n\n    return std::move(p);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1461179417, "post_id": 36752874, "comment_id": 61086270, "body": "The funny thing is that gcc still has the reverse bug - it allows this code in c++11 mode :D"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 5, "creation_date": 1461179764, "post_id": 36752874, "comment_id": 61086490, "body": "@SergeyA: In comment in linked question, there is the explanation: <i>&quot;This is a DR against C++11 and so applies retroactively. See <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1579\" rel=\"nofollow noreferrer\">CWG 1579</a>&quot;</i>."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1461180017, "post_id": 36752874, "comment_id": 61086659, "body": "@Jarod42, oh! I didn&#39;t know that! Thanks for clarifying."}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "edited": false, "score": 1, "creation_date": 1461246970, "post_id": 36752874, "comment_id": 61120863, "body": "What is a &quot;real&quot; DR-to-be-applied-retroactively is not something &quot;official&quot;, I believe. Official is only the text of the Standard, by which gcc would not be conforming pedantly. Applying certain DR resolutions to &quot;defective looking&quot; DRs retroactively is generally accepted to not change conformance. But what these certain DRs are isn&#39;t written anywhere official, as far as I am aware."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 7, "last_activity_date": 1461179421, "last_edit_date": 1461179421, "creation_date": 1461178932, "answer_id": 36752874, "question_id": 36752678, "link": "https://stackoverflow.com/questions/36752678/clang-returning-stdunique-ptr-with-type-conversion/36752874#36752874", "title": "clang, returning std::unique_ptr with type conversion", "body": "<p>This is a clang bug. From [class.copy]:</p>\n\n<blockquote>\n  <p>When the criteria for elision of a copy/move operation are met, but not for an <em>exception-declaration</em>, and the\n  object to be copied is designated by an lvalue, <strong>or</strong> when the expression in a <code>return</code> statement is a (possibly\n  parenthesized) <em>id-expression</em> that names an object with automatic storage duration declared in the body or\n  <em>parameter-declaration-clause</em> of the innermost enclosing function or <em>lambda-expression</em>, overload resolution\n  to select the constructor for the copy is first performed <strong>as if the object were designated by an rvalue</strong>.</p>\n</blockquote>\n\n<p>The criteria for elision aren't met (because <code>p</code> doesn't have the same type as the return type of the function), but the code should still be valid since overload resolution should be done as if <code>p</code> were an rvalue.</p>\n\n<p>That said, you do want move elision to happen, so prefer to not use <code>auto</code> in this case:</p>\n\n<pre><code>std::unique_ptr&lt;A&gt; test() \n{\n    std::unique_ptr&lt;A&gt; p = std::unique_ptr&lt;B&gt;();\n    return p;\n}\n</code></pre>\n\n<p>clang accepts this code <em>and</em> move elision will happen. Win win. </p>\n"}], "owner": {"reputation": 3837, "user_id": 1749713, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PqPOy.png?s=128&g=1", "display_name": "Micha\u0142 Walenciak", "link": "https://stackoverflow.com/users/1749713/micha%c5%82-walenciak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3169, "favorite_count": 3, "accepted_answer_id": 36752874, "answer_count": 2, "score": 6, "last_activity_date": 1461223796, "creation_date": 1461178416, "last_edit_date": 1495539921, "question_id": 36752678, "link": "https://stackoverflow.com/questions/36752678/clang-returning-stdunique-ptr-with-type-conversion", "title": "clang, returning std::unique_ptr with type conversion", "body": "<p>Here is my code:</p>\n\n<pre><code>#include &lt;memory&gt;\n\nstruct A{};\nstruct B: A {};\n\nstd::unique_ptr&lt;A&gt; test() \n{\n    auto p = std::make_unique&lt;B&gt;();\n\n    return p;\n}\n\nint main(int argc, char **argv)\n{\n    test();\n\n    return 0;\n}\n</code></pre>\n\n<p>It doesn't compile on clang with error:</p>\n\n<pre><code>main.cpp:11:12: error: no viable conversion from returned value of type 'unique_ptr&lt;B, default_delete&lt;B&gt;&gt;' to function return type 'unique_ptr&lt;A, default_delete&lt;A&gt;&gt;'\n</code></pre>\n\n<p>However, according to <a href=\"https://stackoverflow.com/questions/32742741/clang-error-with-stdunique-ptr\">this</a> (same situation) it should. \nDid I misunderstand something?</p>\n\n<p>My command line (clang ver 3.7):</p>\n\n<pre><code>clang++ -std=c++14 -O2 -Wall -pedantic -pthread main.cpp &amp;&amp; ./a.out\n</code></pre>\n"}, {"tags": ["c++", "windows"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1461178385, "post_id": 36752608, "comment_id": 61085597, "body": "You are using unicode. You need to use <code>wchar_t</code>. You can read <a href=\"https://msdn.microsoft.com/en-us/library/2dax2h36.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">Support for Unicode</a>"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1461179193, "post_id": 36752608, "comment_id": 61086110, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/36333429/c-visual-studio-error-c2664\">C++ visual studio error C2664</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": true, "score": 3, "last_activity_date": 1461178838, "last_edit_date": 1461178838, "creation_date": 1461178474, "answer_id": 36752699, "question_id": 36752608, "link": "https://stackoverflow.com/questions/36752608/error-c2664-int-wsprintfwlpwstr-lpcwstr-cannot-convert-argument-1-from/36752699#36752699", "title": "error C2664: &#39;int wsprintfW(LPWSTR,LPCWSTR,...)&#39;: cannot convert argument 1 from &#39;char [15]&#39; to &#39;LPWSTR&#39;", "body": "<p>Your error message:</p>\n\n<pre><code>error C2664: 'HANDLE CreateFileW(LPCWS\n                               ^ ~~~~\n</code></pre>\n\n<p>indicates you use UNICODE build (<code>W</code> indicates that CreateFile macro is defined with CreateFileW function), so you should use wide literal here (and in next wsprintf):</p>\n\n<pre><code> wsprintf(szPort, L\"COM%d\", nPort );\n                  ^ ~~~~~ !\n</code></pre>\n\n<p>and wchar_t array:</p>\n\n<pre><code>wchar_t szPort[15]; // or under winapi you would use WCHAR\nwchar_t szComParams[50];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3215374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16910e60e468d70a2f4646d82ba7d0cd?s=128&d=identicon&r=PG&f=1", "display_name": "user3215374", "link": "https://stackoverflow.com/users/3215374/user3215374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2246, "favorite_count": 0, "accepted_answer_id": 36752699, "answer_count": 1, "score": 0, "last_activity_date": 1461178838, "creation_date": 1461178200, "question_id": 36752608, "link": "https://stackoverflow.com/questions/36752608/error-c2664-int-wsprintfwlpwstr-lpcwstr-cannot-convert-argument-1-from", "title": "error C2664: &#39;int wsprintfW(LPWSTR,LPCWSTR,...)&#39;: cannot convert argument 1 from &#39;char [15]&#39; to &#39;LPWSTR&#39;", "body": "<p>I am following this tutorial for serial communication in windows (<a href=\"http://www.codeguru.com/cpp/i-n/network/serialcommunications/article.php/c2503/CSerial--A-C-Class-for-Serial-Communications.htm\" rel=\"nofollow\">http://www.codeguru.com/cpp/i-n/network/serialcommunications/article.php/c2503/CSerial--A-C-Class-for-Serial-Communications.htm</a>). I get the following errors, the code is fairly dated so I'm not sure if it is a version problem. I am using visual studio 2015 to run on Windows 10.</p>\n\n<p>Serial.cpp:\n    // Serial.cpp</p>\n\n<pre><code>#include \"stdafx.h\"\n\nCSerial::CSerial()\n{\n\n    memset( &amp;m_OverlappedRead, 0, sizeof( OVERLAPPED ) );\n    memset( &amp;m_OverlappedWrite, 0, sizeof( OVERLAPPED ) );\n    m_hIDComDev = NULL;\n    m_bOpened = FALSE;\n\n}\n\nCSerial::~CSerial()\n{\n\n    Close();\n\n}\n\nBOOL CSerial::Open( int nPort, int nBaud )\n{\n\n    if( m_bOpened ) return( TRUE );\n\n    char szPort[15];\n    char szComParams[50];\n    DCB dcb;\n\n    wsprintf(szPort, \"COM%d\", nPort );\n    m_hIDComDev = CreateFile( szPort, GENERIC_READ | GENERIC_WRITE, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL | FILE_FLAG_OVERLAPPED, NULL );\n    if( m_hIDComDev == NULL ) return( FALSE );\n\n    memset( &amp;m_OverlappedRead, 0, sizeof( OVERLAPPED ) );\n    memset( &amp;m_OverlappedWrite, 0, sizeof( OVERLAPPED ) );\n\n    COMMTIMEOUTS CommTimeOuts;\n    CommTimeOuts.ReadIntervalTimeout = 0xFFFFFFFF;\n    CommTimeOuts.ReadTotalTimeoutMultiplier = 0;\n    CommTimeOuts.ReadTotalTimeoutConstant = 0;\n    CommTimeOuts.WriteTotalTimeoutMultiplier = 0;\n    CommTimeOuts.WriteTotalTimeoutConstant = 5000;\n    SetCommTimeouts( m_hIDComDev, &amp;CommTimeOuts );\n\n    wsprintf( szComParams, \"COM%d:%d,n,8,1\", nPort, nBaud );\n\n    m_OverlappedRead.hEvent = CreateEvent( NULL, TRUE, FALSE, NULL );\n    m_OverlappedWrite.hEvent = CreateEvent( NULL, TRUE, FALSE, NULL );\n\n    dcb.DCBlength = sizeof( DCB );\n    GetCommState( m_hIDComDev, &amp;dcb );\n    dcb.BaudRate = nBaud;\n    dcb.ByteSize = 8;\n    unsigned char ucSet;\n    ucSet = (unsigned char) ( ( FC_RTSCTS &amp; FC_DTRDSR ) != 0 );\n    ucSet = (unsigned char) ( ( FC_RTSCTS &amp; FC_RTSCTS ) != 0 );\n    ucSet = (unsigned char) ( ( FC_RTSCTS &amp; FC_XONXOFF ) != 0 );\n    if( !SetCommState( m_hIDComDev, &amp;dcb ) ||\n        !SetupComm( m_hIDComDev, 10000, 10000 ) ||\n        m_OverlappedRead.hEvent == NULL ||\n        m_OverlappedWrite.hEvent == NULL ){\n        DWORD dwError = GetLastError();\n        if( m_OverlappedRead.hEvent != NULL ) CloseHandle( m_OverlappedRead.hEvent );\n        if( m_OverlappedWrite.hEvent != NULL ) CloseHandle( m_OverlappedWrite.hEvent );\n        CloseHandle( m_hIDComDev );\n        return( FALSE );\n        }\n\n    m_bOpened = TRUE;\n\n    return( m_bOpened );\n\n}\n\nBOOL CSerial::Close( void )\n{\n\n    if( !m_bOpened || m_hIDComDev == NULL ) return( TRUE );\n\n    if( m_OverlappedRead.hEvent != NULL ) CloseHandle( m_OverlappedRead.hEvent );\n    if( m_OverlappedWrite.hEvent != NULL ) CloseHandle( m_OverlappedWrite.hEvent );\n    CloseHandle( m_hIDComDev );\n    m_bOpened = FALSE;\n    m_hIDComDev = NULL;\n\n    return( TRUE );\n\n}\n\nBOOL CSerial::WriteCommByte( unsigned char ucByte )\n{\n    BOOL bWriteStat;\n    DWORD dwBytesWritten;\n\n    bWriteStat = WriteFile( m_hIDComDev, (LPSTR) &amp;ucByte, 1, &amp;dwBytesWritten, &amp;m_OverlappedWrite );\n    if( !bWriteStat &amp;&amp; ( GetLastError() == ERROR_IO_PENDING ) ){\n        if( WaitForSingleObject( m_OverlappedWrite.hEvent, 1000 ) ) dwBytesWritten = 0;\n        else{\n            GetOverlappedResult( m_hIDComDev, &amp;m_OverlappedWrite, &amp;dwBytesWritten, FALSE );\n            m_OverlappedWrite.Offset += dwBytesWritten;\n            }\n        }\n\n    return( TRUE );\n\n}\n\nint CSerial::SendData( const char *buffer, int size )\n{\n\n    if( !m_bOpened || m_hIDComDev == NULL ) return( 0 );\n\n    DWORD dwBytesWritten = 0;\n    int i;\n    for( i=0; i&lt;size; i++ ){\n        WriteCommByte( buffer[i] );\n        dwBytesWritten++;\n        }\n\n    return( (int) dwBytesWritten );\n\n}\n\nint CSerial::ReadDataWaiting( void )\n{\n\n    if( !m_bOpened || m_hIDComDev == NULL ) return( 0 );\n\n    DWORD dwErrorFlags;\n    COMSTAT ComStat;\n\n    ClearCommError( m_hIDComDev, &amp;dwErrorFlags, &amp;ComStat );\n\n    return( (int) ComStat.cbInQue );\n\n}\n\nint CSerial::ReadData( void *buffer, int limit )\n{\n\n    if( !m_bOpened || m_hIDComDev == NULL ) return( 0 );\n\n    BOOL bReadStatus;\n    DWORD dwBytesRead, dwErrorFlags;\n    COMSTAT ComStat;\n\n    ClearCommError( m_hIDComDev, &amp;dwErrorFlags, &amp;ComStat );\n    if( !ComStat.cbInQue ) return( 0 );\n\n    dwBytesRead = (DWORD) ComStat.cbInQue;\n    if( limit &lt; (int) dwBytesRead ) dwBytesRead = (DWORD) limit;\n\n    bReadStatus = ReadFile( m_hIDComDev, buffer, dwBytesRead, &amp;dwBytesRead, &amp;m_OverlappedRead );\n    if( !bReadStatus ){\n        if( GetLastError() == ERROR_IO_PENDING ){\n            WaitForSingleObject( m_OverlappedRead.hEvent, 2000 );\n            return( (int) dwBytesRead );\n            }\n        return( 0 );\n        }\n\n    return( (int) dwBytesRead );\n\n}\n</code></pre>\n\n<p>Errors: </p>\n\n<pre><code>1&gt;c:\\..\\consoleapplication2\\serial.cpp(31): error C2664: 'int wsprintfW(LPWSTR,LPCWSTR,...)': cannot convert argument 1 from 'char [15]' to 'LPWSTR'\n1&gt;c:\\..\\consoleapplication2\\serial.cpp(31): note: Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or function-style cast\n1&gt;c:\\..\\consoleapplication2\\serial.cpp(32): error C2664: 'HANDLE CreateFileW(LPCWSTR,DWORD,DWORD,LPSECURITY_ATTRIBUTES,DWORD,DWORD,HANDLE)': cannot convert argument 1 from 'char [15]' to 'LPCWSTR'\n1&gt;c:\\..\\consoleapplication2\\serial.cpp(32): note: Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or function-style cast\n1&gt;c:\\..\\consoleapplication2\\serial.cpp(46): error C2664: 'int wsprintfW(LPWSTR,LPCWSTR,...)': cannot convert argument 1 from 'char [50]' to 'LPWSTR'\n1&gt;c:\\..\\consoleapplication2\\serial.cpp(46): note: Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or function-style cast\n</code></pre>\n"}, {"tags": ["c++", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 7, "creation_date": 1461178158, "post_id": 36752575, "comment_id": 61085452, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1461178413, "post_id": 36752575, "comment_id": 61085609, "body": "please use proper indentation, the code is terrible to read"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1461180068, "post_id": 36752575, "comment_id": 61086700, "body": "Looks like you are having issues with moving characters.  You need to keep track of the characters&#39; previous location so you can restore it."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1461180432, "post_id": 36752575, "comment_id": 61086909, "body": "I recommend performing character positioning <i>before</i> you print the board.  The <code>posX</code> and <code>posY</code> don&#39;t depend on <code>i</code> or <code>j</code> and are not modified within either <code>for</code> loop.  Keep the board printing simple and focused."}, {"owner": {"reputation": 9, "user_id": 6029518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f862aff807c5fab2e8b5d817185910d1?s=128&d=identicon&r=PG&f=1", "display_name": "jarlow", "link": "https://stackoverflow.com/users/6029518/jarlow"}, "edited": false, "score": 0, "creation_date": 1461181402, "post_id": 36752575, "comment_id": 61087510, "body": "<code>&gt;for (int i=0;i&lt;size_arrx;i++) {     for (int j=0;j&lt;size_arry;j++) {     a[i][j]=&#39;x&#39;; } }     a[posX][posY]=player;     a[trollX][trollY]=troll; for (int i=0;i&lt;size_arrx;i++) {     for (int j=0;j&lt;size_arry;j++) {      cout &lt;&lt; a[i][j]; </code> using this code gave the same error. I&#39;m interpreting this as a[i][j]=&#39;x&#39; populates all positions of a[][] with X&#39;s. a[posX][posY]=player; overwrites the position of the player with an * (could be x 2 y 5 for example) and then the board gets printed by     cout &lt;&lt; a[i][j];. I dont understand how a duplicate symbol gets thrown in there."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 1, "creation_date": 1461181478, "post_id": 36752575, "comment_id": 61087552, "body": "Whether or not this solves your current problem, you really have to correct the position to stay on the board and right after the move and set the players position right after resetting the board and not during the display loop."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1461182975, "post_id": 36752575, "comment_id": 61088537, "body": "@jarlow: please look at your previous comment.  Pasting code in a comment is very difficult to read.  However, editing your post with the code, makes the code easier to read."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1461182914, "creation_date": 1461182914, "answer_id": 36754156, "question_id": 36752575, "link": "https://stackoverflow.com/questions/36752575/c-2d-array-duplication-error-in-game/36754156#36754156", "title": "C++ 2d array duplication error in game", "body": "<p>Let's simplify your program.  </p>\n\n<p>Initialize the board outside of the while loop.<br>\nThere should be no reason to keep initializing it:</p>\n\n<pre><code>for (unsigned int row = 0; row &lt; size_arry; ++row)\n{\n  std::fill(&amp;a[row][0], &amp;a[row][size_arrx], 'x'); // Fill a row.\n}\n</code></pre>\n\n<p>Printing the board should be simple:</p>\n\n<pre><code>for (unsigned int row = 0; row &lt; size_arry; ++row)\n{\n  for (unsigned int column = 0; column &lt; size_arrx; ++column)\n  {\n    cout &lt;&lt; a[row][column];\n  }\n  cout &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>Now the character logic.<br>\nEvery character has a <em>position</em>, row and column, of where it is.  To ease restoration, every character should have a previous position also.</p>\n\n<pre><code>struct Position\n{\n  unsigned int row;\n  unsigned int column;\n};\n</code></pre>\n\n<p><em>Sorry about that code, the fingers and keyboard are not cooperating.</em>  </p>\n\n<p>To move a character to a valid new position, you have to restore the previous position:  </p>\n\n<pre><code>unsigned int player_now_x;\nunsigned int player_now_y;\nunsigned int player_prev_x;\nunsigned int player_prev_y;\n//...\na[player_prev_y][player_prev_x] = 'x';\na[player_now_y][player_now_y] = player;\n</code></pre>\n\n<p>For processing single letter commands, a <code>switch</code> statement may be more readable:</p>\n\n<pre><code>// Update previous position.\nplayer_prev_x = player_now_x;\nplayer_prev_y = player_now_y;\nswitch (dir)\n{\n  case 'd':\n    if (player_now_y &lt; size_arry)\n    {\n      ++player_now_y;\n    }\n    break;\n  case 's':\n    if (player_now_x &lt; size_arrx)\n    {\n      ++player_now_x;\n    }\n    break;\n// ...\n  }\n</code></pre>\n\n<p>Simplifications.\nYou can print the board with one <code>cout</code> if you add an extra column.  The ending column of each row (except the last) will have a line ending character, '\\n'.  The last column of the last row will have a termination character, '\\0'.</p>\n\n<pre><code>struct Board\n{\n  void set_player(const Position&amp; pos, char player_token)\n  {\n    a[pos.x][pos.y] = player_token;\n  }\n\n  void move_player(const Position&amp; new_position,\n                   const Position&amp; previous_position,\n                   char            player_token)\n  {\n     set_player(previous_position, 'x');\n     set_player(new_position, player_token);\n  }\n\n  void print()\n  {\n    std::cout &lt;&lt; &amp;a[0][0] &lt;&lt; \"\\n\";\n  }\n\n  Board()\n  {\n    for (unsigned int y = 0; y &lt; size_arry; ++y)\n    {\n      std::fill(&amp;a[y][0], &amp;a[y][size_arrx], 'x');\n      a[y][size_arrx - 1] = '\\n';\n    }\n    a[size_arry - 1][size_arrx - 1] = '\\0';\n  }\n};\n\n//...\nBoard b;\nPosition player_now;\nPosition player_prev;\nconst char player_token = '*';\n\n//...\nswitch (dir)\n{\n  case 'd':\n    if (player_now.y &lt; size_arry)\n    {\n       ++player_now.y;\n    }\n  //...\n}\nb.move_player(player_now, player_previous, player_token);\n</code></pre>\n\n<p><em>Sorry again, for the above code fragment, it's the fingers typing out what they want.</em>  </p>\n"}], "owner": {"reputation": 9, "user_id": 6029518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f862aff807c5fab2e8b5d817185910d1?s=128&d=identicon&r=PG&f=1", "display_name": "jarlow", "link": "https://stackoverflow.com/users/6029518/jarlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1485859742, "creation_date": 1461178101, "last_edit_date": 1485859742, "question_id": 36752575, "link": "https://stackoverflow.com/questions/36752575/c-2d-array-duplication-error-in-game", "title": "C++ 2d array duplication error in game", "body": "<p>I'm new to C++ and I'm trying to figure out why I get two \"*\" symbols in my game board when I'm moving around. The game is supposed to be about avoiding the troll (@). But I am getting duplicate @ and * symbols, and I can't figure out why. It seems that the problem is either in one of the <code>for</code> loops or in the <code>posX</code> or <code>posY</code> variables, which I found out by commenting out segments of the code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nvoid ClearScreen()\n{\n    cout &lt;&lt; string(100, '\\n');\n}\n\nmain()\n{\n    int size_arrx = 10;\n    int size_arry = 20;\n    int posX = 0;\n    int posY = 0;\n    int trollX = size_arrx - 1;\n    int trollY = size_arry - 1;\n    char a[size_arry][size_arrx];\n    bool Alive = true;\n    char player = '*';\n    char troll = '@';\n    while (Alive == true) {\n        ClearScreen();\n        for (int i = 0; i&lt;size_arrx; i++)\n        {\n            for (int j = 0; j&lt;size_arry; j++)\n            {\n                a[i][j] = 'x';\n            }\n        }\n        for (int i = 0; i&lt;size_arrx; i++)\n        {\n            for (int j = 0; j&lt;size_arry; j++)\n            {\n                a[posX][posY] = player;\n                a[trollX][trollY] = troll;\n\n                cout &lt;&lt; a[i][j];\n\n                if (posX&lt; 0) {\n                    a[posX = 0][posY] = player;\n                    cout &lt;&lt; a[i][j];\n                }\n                else if (posY&lt; 0) {\n                    a[posX][posY = 0] = player;\n                    cout &lt;&lt; a[i][j];\n                }\n                else if (posY &gt; size_arry - 1) {\n                    a[posX][posY = size_arry - 1] = player;\n                    cout &lt;&lt; a[i][j];\n                }\n                else if (posX &gt; size_arrx - 1) {\n                    a[posX = size_arrx - 1][posY] = player;\n                    cout &lt;&lt; a[i][j];\n                }\n            }\n            cout &lt;&lt; endl;\n        }\n        char dir;\n        cin &gt;&gt; dir;\n        if (dir == 'w') {\n            trollX++;\n            posX--;\n        }\n\n        if (dir == 's') {\n            trollX--;\n            posX++;\n        }\n\n        if (dir == 'd') {\n            trollY--;\n            posY++;\n        }\n\n        if (dir == 'a') {\n            trollY++;\n            posY--;\n        }\n    }\n\n    if ((trollX == posX) &amp;&amp; (trollY == posY)) {\n        Alive == false;\n    }\n}\n</code></pre>\n\n<p>The result looks like this. I only want one *. The * can move perfectly fine, but a duplicate * follows the original * but 11 X's away.</p>\n\n<pre><code>xxxxxxxxxx*xxxxxxxxx  &lt;---- This is a duplicate *\n*xxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxx@\nxxxxxxxxx@xxxxxxxxxx &lt;---- This is a duplicate @\n</code></pre>\n\n<p>Thanks in advance if you can help me</p>\n\n<pre><code>for (int i=0;i&lt;size_arrx;i++){\n    for (int j=0;j&lt;size_arry;j++){\n        a[i][j]='x';\n}\n    }\na[posX][posY]=player;\na[trollX][trollY]=troll;\nfor (int i=0;i&lt;size_arrx;i++){\n    for (int j=0;j&lt;size_arry;j++){\n        cout &lt;&lt; a[i][j];\n</code></pre>\n\n<p>Using this code gave the same error. I'm interpreting this as <code>a[i][j]='x'</code> populates all positions of <code>a[][]</code> with X's. <code>a[posX][posY]=player;</code> overwrites the position of the player with an * (could be x 2 y 5 for example) and then the board gets printed by <code>cout &lt;&lt; a[i][j];</code>. I don't understand how a duplicate symbol gets thrown in there.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1461177528, "post_id": 36752348, "comment_id": 61085112, "body": "Welcome to Stack Overflow! It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 1, "creation_date": 1461177609, "post_id": 36752348, "comment_id": 61085152, "body": "Look at what you are doing. after first swap: <code>KO OK OK OK OK</code>, then <code>K OOK OK OK OK</code>, then <code>K OKO OK OK OK</code>...etc."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461178605, "post_id": 36752348, "comment_id": 61085733, "body": "I remember when I first stumbled across the debugger bundled with turbo C way back in the stone ages. Man, stepping through programs line by line made finding the errors in my crap logic so easy. I wanted to throttle my CS professor for being such an ass that he&#39;d never told us such things existed."}], "answers": [{"tags": [], "owner": {"reputation": 20893, "user_id": 13767, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b043ead577679feb2f4f4c3e4bb4700f?s=128&d=identicon&r=PG", "display_name": "Rafa\u0142 Rawicki", "link": "https://stackoverflow.com/users/13767/rafa%c5%82-rawicki"}, "is_accepted": true, "score": 1, "last_activity_date": 1461178198, "creation_date": 1461178198, "answer_id": 36752606, "question_id": 36752348, "link": "https://stackoverflow.com/questions/36752348/swapping-chars-in-char-array/36752606#36752606", "title": "Swapping chars in char array", "body": "<p>Every word consists of 3 chars <code>'O'</code>, <code>'K'</code>, <code>' '</code>. After swapping the first two you have to move 3 chars forward.</p>\n\n<p>Also the loop condition was incorrect - 10 instead of the string size - 15. The correct version is:</p>\n\n<pre><code>for (x = 0; x &lt; 15; x+=3) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20893, "user_id": 13767, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b043ead577679feb2f4f4c3e4bb4700f?s=128&d=identicon&r=PG", "display_name": "Rafa\u0142 Rawicki", "link": "https://stackoverflow.com/users/13767/rafa%c5%82-rawicki"}, "edited": false, "score": 0, "creation_date": 1461178441, "post_id": 36752660, "comment_id": 61085633, "body": "No, the position should be advanced by 3 places, there is also a space between words."}], "tags": [], "owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "is_accepted": false, "score": 2, "last_activity_date": 1461178558, "last_edit_date": 1461178558, "creation_date": 1461178363, "answer_id": 36752660, "question_id": 36752348, "link": "https://stackoverflow.com/questions/36752348/swapping-chars-in-char-array/36752660#36752660", "title": "Swapping chars in char array", "body": "<p>For <code>x = 0</code>, <code>test[0]</code> and <code>test[1]</code> are swapped. At this point, <code>test = KO OK ..</code>.</p>\n\n<p>For <code>x = 1</code>, <code>test[1]</code> and <code>test[2]</code> are swapped. At this point, <code>test = K OOK ..</code>.</p>\n\n<p>See the problem? </p>\n\n<p>After a swap, <code>x</code> should be advanced by <strong>3</strong> places, not 1. I.e. <code>x += 3</code> instead of <code>x++</code>.</p>\n\n<p>Note also, that usage of the numbers <code>15</code> and <code>10</code> are arbitrary. Further, note that the character at <code>x+1</code>th position need to be within the bounds of the array. I would try</p>\n\n<pre><code>char test[] = \"OK OK OK OK OK\";\nconst int length = strlen(test);\nfor (int x = 0; x+1 &lt; length; x += 3) {\n    swapIt(test[x], test[x+1]);\n}\ncout &lt;&lt; test;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6231719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6bf84a66ca97f67bb329f14e70cb51?s=128&d=identicon&r=PG&f=1", "display_name": "Jack L", "link": "https://stackoverflow.com/users/6231719/jack-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 36752606, "answer_count": 2, "score": 0, "last_activity_date": 1461178558, "creation_date": 1461177378, "question_id": 36752348, "link": "https://stackoverflow.com/questions/36752348/swapping-chars-in-char-array", "title": "Swapping chars in char array", "body": "<p>I'm trying to swap my chars in the char array so they would look like this: <code>KO KO KO KO KO</code>, however, the output isn't quite as what I expected: <code>K OK OK OK OK</code></p>\n\n<p>Any clue on what I am doing wrong?</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid swapIt (char &amp;char1, char &amp;char2) {\n    char temp;\n    temp = char1;\n    char1 = char2;\n    char2 = temp;\n}\n\nint main() {\n    char test[15] = \"OK OK OK OK OK\";\n    int x;\n    for (x = 0; x &lt; 10; x++) {\n        swapIt(test[x], test[x+1]);\n    }\n    cout &lt;&lt; test;\n}\n</code></pre>\n\n<p>So clueless right now. </p>\n"}, {"tags": ["c++", "class", "templates", "set", "arguments"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461177185, "post_id": 36752217, "comment_id": 61084891, "body": "3rd time today. Why today?"}, {"owner": {"reputation": 1, "user_id": 6231857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a123a98ed41abc16914907da097de0f?s=128&d=identicon&r=PG&f=1", "display_name": "majoremp", "link": "https://stackoverflow.com/users/6231857/majoremp"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461177346, "post_id": 36752217, "comment_id": 61084990, "body": "I looked at the other answers, but couldn&#39;t find a clear answer to the problem I&#39;m having. I tried the solutions but to no avail."}], "owner": {"reputation": 1, "user_id": 6231857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a123a98ed41abc16914907da097de0f?s=128&d=identicon&r=PG&f=1", "display_name": "majoremp", "link": "https://stackoverflow.com/users/6231857/majoremp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "closed_date": 1461177164, "answer_count": 0, "score": 0, "last_activity_date": 1461178374, "creation_date": 1461176984, "last_edit_date": 1461178374, "question_id": 36752217, "link": "https://stackoverflow.com/questions/36752217/invalid-use-of-template-name-set-without-an-argument-list-header-and-cpp-fil", "closed_reason": "Duplicate", "title": "invalid use of template-name \u2018Set\u2019 without an argument list - Header and cpp files", "body": "<p>I'm having a lot of problems converting my Set class into a template class. I have commented out all of the code other than the constructors and cannot get it to work. I have a header file and cpp file. Any advice?</p>\n\n<p>I used the solutions from the other thread, but am unable to make it work.</p>\n\n<p>Note: I only included the constructors from my cpp file since I'm working on that first. </p>\n\n<p>Header file:</p>\n\n<pre><code>#ifndef SET_H\n#define SET_H\n#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;class T&gt;\nclass Set {\n    //friend istream&amp; operator&gt;&gt;( istream&amp; in, Set&amp; set );\n    //friend ostream&amp; operator&lt;&lt;( ostream&amp; out, Set&amp; set );\n\n    public:\n            /*bool operator+( const T&amp; rhs );\n            Set operator+( const Set&amp; rhs );\n            bool operator-( const T&amp; rhs );\n            Set operator-( Set&amp; rhs );\n            Set operator^( Set&amp; rhs );\n            bool operator==( Set&amp; rhs );\n            bool operator!=( Set&amp; rhs );\n*/\n            Set();\n            Set( T2 [], int, char );\n            Set( const Set&amp; );\n            /*~Set() {\n                    delete elements;\n                    elements = NULL;\n                    numElements = pSize = 0;\n            }\n            int length() const;\n            T getElement( int ) const;\n            void display();\n            void checkUp();\n            bool add( T );\n            bool contains( T );\n            bool remove( T );\n            int findCell( int, T );\n            */\n    private:\n            static const int DEFAULT_SIZE = 5;\n            static const int emptyCell = -99999;\n            char name;\n            int pSize, numElements;\n            int *elements;\n\n};\n</code></pre>\n\n<p>cpp File:</p>\n\n<pre><code>#include \"set.h\"\n\ntemplate &lt; typename T &gt;\n\ntemplate &lt;class T2&gt; Set::Set() {\n    elements = NULL;\n    pSize = numElements = 0;\n}\n\ntemplate &lt;class T2&gt; Set::Set( T2 array[], int ps, char nm ) {\n    elements = NULL;\n    pSize = numElements = 0;\n\n    //For each member of array, we're going to add it to this\n    /*\n    for ( int i = 0; i &lt; ps; i++ )\n            this-&gt;add( array[ i ] );\n    name = nm;\n    */\n}\n\ntemplate &lt;class T2&gt; Set::Set( const Set&amp; s ) {\n    elements = NULL;\n    pSize = numElements = 0;\n\n    /*For each member of the passed set, we're going to add to this\n    for ( int i = 0; i &lt; s.length(); i++ )\n            this-&gt;add( s.getElement( i ) );\n    */\n}\n</code></pre>\n\n<p>Thanks!!</p>\n"}, {"tags": ["c++", "c", "lua", "love2d"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461181375, "post_id": 36752168, "comment_id": 61087489, "body": "Are you asking how to combine the two files into one file? Or are you asking how to <i>not</i> do that and instead how to distribute <i>two</i> files and use the <code>.lua</code> file from the executable?"}, {"owner": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461183370, "post_id": 36752168, "comment_id": 61088827, "body": "I&#39;m asking how to combine them into one file similar to that of love2d so that when said application is distributed the user isn&#39;t tempted to poke around the .lua file and so that people implementing the c++ don&#39;t need to know it and can focus on just using lua"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461183606, "post_id": 36752168, "comment_id": 61088967, "body": "<code>copy &#47;b</code> just merged the two files by stuffing one file on the end of the other file I think. So how to use that is a question of how to find the other file at the end of your file. I don&#39;t know if there&#39;s a specific way to do it but you could always just open yourself and read backwards from the end until you find your header/marker and then load it."}, {"owner": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461183611, "post_id": 36752168, "comment_id": 61088971, "body": "<a href=\"https://love2d.org/wiki/Game_Distribution\" rel=\"nofollow noreferrer\">love2d.org/wiki/Game_Distribution</a> like what is described under creating a Windows executable."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461184272, "post_id": 36752168, "comment_id": 61089417, "body": "Yeah. Like I said I don&#39;t know how love is doing it specifically but at its simplest what I said should work I believe."}, {"owner": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1461184833, "post_id": 36752168, "comment_id": 61089773, "body": "I&#39;ll try it out and then get back to you once I&#39;ve tested it, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "edited": false, "score": 0, "creation_date": 1461178055, "post_id": 36752332, "comment_id": 61085399, "body": "I understand that this is possible and i will use this if absolutely necessary but i would rather have the code in a seperate file so that it can be edited by people who aren&#39;t as proficient"}, {"owner": {"reputation": 2430, "user_id": 2546626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bee02c79f348081ac9e14edc982a0d?s=128&d=identicon&r=PG", "display_name": "Youka", "link": "https://stackoverflow.com/users/2546626/youka"}, "reply_to_user": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "edited": false, "score": 0, "creation_date": 1461277061, "post_id": 36752332, "comment_id": 61139241, "body": "@BlazingCode Then you should have a build system which converts your Lua file to C code and inserts it before compiling your executable."}], "tags": [], "owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "is_accepted": true, "score": 2, "last_activity_date": 1461177326, "creation_date": 1461177326, "answer_id": 36752332, "question_id": 36752168, "link": "https://stackoverflow.com/questions/36752168/how-to-distribute-a-lua-file-with-c/36752332#36752332", "title": "how to distribute a lua file with c++", "body": "<p>You could embed the lua code directly into your C++ source in a raw string literal like so:</p>\n\n<pre><code>const auto lua_code = R\"lua(\n...lua code here...\n)lua\";\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5463969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-EXHkH_PCSR8/AAAAAAAAAAI/AAAAAAAAAMw/VyZ-WsGSeJ0/photo.jpg?sz=128", "display_name": "Blazing Code", "link": "https://stackoverflow.com/users/5463969/blazing-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 36752332, "answer_count": 1, "score": 0, "last_activity_date": 1461177326, "creation_date": 1461176818, "question_id": 36752168, "link": "https://stackoverflow.com/questions/36752168/how-to-distribute-a-lua-file-with-c", "title": "how to distribute a lua file with c++", "body": "<p>I know how to do stuff with Lua states and what not but what i don't understand is how you would distribute the final program with a seperate lua file because say you have a .exe and a lua file in the same directory how would I make it so that it is all one executable like how L\u00f6ve 2d uses </p>\n\n<pre><code>copy /b \n</code></pre>\n\n<p>to append the lua file to the L\u00f6ve 2d interpreter so it can be distributed.\ncould someone possibly explain how this works.</p>\n\n<p>many thanks \nBlazing</p>\n"}, {"tags": ["c++", "template-meta-programming", "compile-time"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1461176731, "post_id": 36752021, "comment_id": 61084632, "body": "What are you trying to achieve here? Doesn&#39;t the <a href=\"http://stackoverflow.com/questions/257288/is-it-possible-to-write-a-c-template-to-check-for-a-functions-existence\">SFINAE</a> technique serve your purposes?"}, {"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461177022, "post_id": 36752021, "comment_id": 61084790, "body": "answered in the question body: maintainability and better error messages."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1461177038, "post_id": 36752021, "comment_id": 61084798, "body": "Could you make <code>StaticContract</code> an abstract class and have <code>DoSomething</code> take a <code>StaticContract*</code> argument? If the derived class fails to override a pure virtual function, it will be uninstantiable."}, {"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "edited": false, "score": 0, "creation_date": 1461177152, "post_id": 36752021, "comment_id": 61084873, "body": "That somewhat works for member methods, but not static methods.  One also has to be careful (using <code>final</code>) to ensure that the dispatch isn&#39;t virtual."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461177273, "post_id": 36752061, "comment_id": 61084947, "body": "Good luck implementing this technique with a miniscule number of 15 members :)"}], "tags": [], "owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "is_accepted": false, "score": 0, "last_activity_date": 1461176497, "last_edit_date": 1495540778, "creation_date": 1461176497, "answer_id": 36752061, "question_id": 36752021, "link": "https://stackoverflow.com/questions/36752021/c-compile-time-class-contracts-ie-template-metaprogramming/36752061#36752061", "title": "C++ compile-time class contracts (ie, template-metaprogramming)", "body": "<p>This trick seems to offer a breadcrumb (from <a href=\"https://stackoverflow.com/questions/7834226/detecting-typedef-at-compile-time-template-metaprogramming\">detecting typedef at compile time (template metaprogramming)</a>)</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct void_ { typedef void type; };\n\ntemplate&lt;typename T, typename = void&gt;\nstruct Foo {};\n\ntemplate&lt;typename T&gt;\nstruct Foo &lt;T, typename void_&lt;typename T::const_iterator&gt;::type&gt; {\n      void do_stuff(){ ... }\n};\n</code></pre>\n\n<p>Hmm, how to weave it into a workable pattern?</p>\n"}, {"comments": [{"owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "edited": false, "score": 0, "creation_date": 1461185125, "post_id": 36752440, "comment_id": 61089914, "body": "Lovely.  Thanks for the write-up."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1461177671, "creation_date": 1461177671, "answer_id": 36752440, "question_id": 36752021, "link": "https://stackoverflow.com/questions/36752021/c-compile-time-class-contracts-ie-template-metaprogramming/36752440#36752440", "title": "C++ compile-time class contracts (ie, template-metaprogramming)", "body": "<p>My preferred approach at this point is to borrow Yakk's <code>can_apply</code> metafunction:</p>\n\n<pre><code>namespace details {\n    template &lt;class...&gt;\n    using void_t = void;    \n\n    template &lt;template &lt;class...&gt; class Z, class, class...&gt;\n    struct can_apply : std::false_type {};\n\n    template &lt;template &lt;class...&gt; class Z, class...Ts&gt;\n    struct can_apply&lt;Z, void_t&lt;Z&lt;Ts...&gt;&gt;, Ts...&gt; : std::true_type{};\n}\n\ntemplate &lt;template &lt;class...&gt; class Z, class...Ts&gt;\nusing can_apply = details::can_apply&lt;Z, void, Ts...&gt;;\n</code></pre>\n\n<p>Stick that somewhere for safe keeping. Then, we can define contracts for our types as just expressions which we expect to be valid. In this case, we need a non-<code>const</code> member function named <code>Method</code>:</p>\n\n<pre><code>template &lt;class T&gt;\nusing StaticContract = decltype(std::declval&lt;T&amp;&gt;().Method());\n</code></pre>\n\n<p>So then we just require it:</p>\n\n<pre><code>template &lt;class T&gt;\nvoid DoSomething(T ) {\n    static_assert(can_apply&lt;StaticContract, T&gt;::value, \"!\");\n}\n</code></pre>\n\n<p>The contract can be arbitrarily complex too. Maybe you need <code>T</code> to be copy assignable and incrementable too:</p>\n\n<pre><code>template &lt;class T&gt;\nusing StaticContract = decltype(\n    std::declval&lt;T&amp;&gt;().Method(),\n    std::declval&lt;T&amp;&gt;() = std::declval&lt;T const&amp;&gt;(),\n    ++std::declval&lt;T&amp;&gt;()\n    );\n</code></pre>\n\n<p>This is all naturally SFINAE-able too, if you choose that approach instead of the <code>static_assert</code> approach. </p>\n"}], "owner": {"reputation": 37732, "user_id": 407731, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/793650b627e1896cebe3ad7c3348046e?s=128&d=identicon&r=PG", "display_name": "Dave Dopson", "link": "https://stackoverflow.com/users/407731/dave-dopson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 2, "accepted_answer_id": 36752440, "answer_count": 2, "score": 2, "last_activity_date": 1461177671, "creation_date": 1461176375, "last_edit_date": 1461177105, "question_id": 36752021, "link": "https://stackoverflow.com/questions/36752021/c-compile-time-class-contracts-ie-template-metaprogramming", "title": "C++ compile-time class contracts (ie, template-metaprogramming)", "body": "<p>Are there any patterns for defining compile-time class contracts?</p>\n\n<p>My goals are:</p>\n\n<ul>\n<li>maintainability - in a large codebase, it would be very useful to specify and validate the compile-time contracts so the dependencies are obvious.</li>\n<li>quality error messages - instead of complaining that a line of code deep inside the template can't call a method, it would be better to surface the lack of contract fulfillment.</li>\n</ul>\n\n<p>Something like...</p>\n\n<pre><code>class StaticContract {\n  static void Method();\n};\n\nclass MeetsContract {\n  static void Method();\n};\n\n// T must have all methods of StaticContract, or compile-time error.\ntemplate &lt;class T /*   : StaticContract   */&gt;\nvoid DoSomething(T t);\n</code></pre>\n\n<p>I'd accept:</p>\n\n<ul>\n<li>way of enforcing the contract at compile time</li>\n<li>patterns for capturing / documenting compile-time contracts</li>\n<li>solutions for the subsets of {static methods, member methods, typedefs, etc}</li>\n<li>solutions that redefine my problem statement</li>\n<li>best practices</li>\n</ul>\n"}, {"tags": ["c++", "qt", "qt4"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461175965, "post_id": 36751855, "comment_id": 61084157, "body": "In <code>Qt</code> you generally do this using signals and slots."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1461175998, "post_id": 36751855, "comment_id": 61084168, "body": "What does <code>c#</code> have to do with the question?"}, {"owner": {"reputation": 4046, "user_id": 4971422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4abf51a937ddda51cc6813445605c50?s=128&d=identicon&r=PG&f=1", "display_name": "FredK", "link": "https://stackoverflow.com/users/4971422/fredk"}, "edited": false, "score": 0, "creation_date": 1461176901, "post_id": 36751855, "comment_id": 61084727, "body": "QObject does not have a public field called &quot;value&quot;, nor does it have a method named &quot;DoSomething&quot;. Those are things that you have defined in your MainWindow class. to access them, &quot;parent&quot; must be declared to be an instance of MainWindow, not QObject."}, {"owner": {"reputation": 43, "user_id": 6185803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303b762021a9ce5fc010f033139f5ccb?s=128&d=identicon&r=PG&f=1", "display_name": "DLiu", "link": "https://stackoverflow.com/users/6185803/dliu"}, "edited": false, "score": 0, "creation_date": 1461182741, "post_id": 36751855, "comment_id": 61088397, "body": "Maybe I should rephrase my question. I wanted to create an object Job in MainWindow and though one of Job&#39;s function to call for MainWindow&#39;s function. What is the correct way of doing so?"}], "answers": [{"comments": [{"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1461183216, "post_id": 36752251, "comment_id": 61088719, "body": "That is global variable way? parentWindow is in one block is a parameter, in another is a global variable. No way that passes serious code review."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "edited": false, "score": 0, "creation_date": 1461183331, "post_id": 36752251, "comment_id": 61088798, "body": "@AlexanderVX there is no global variable. If you read it carefully, I proposed to declare <code>parentWindow</code> <b>inside</b> the <code>Job</code> class. However I will edit to remove any ambiguity"}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 2, "last_activity_date": 1461183352, "last_edit_date": 1461183352, "creation_date": 1461177065, "answer_id": 36752251, "question_id": 36751855, "link": "https://stackoverflow.com/questions/36751855/how-to-call-to-non-static-parent-function-from-within-child-function-in-qt-c/36752251#36752251", "title": "How to call to non-static parent function from within child function in Qt/C++?", "body": "<p>Maybe I missunderstand the question, but I think you are a bit confused about inheritance. Your <code>Job</code> is a child class of <code>QObject</code> and <code>MainWindow</code> indirectly inherits also form <code>QObject</code>, but there is no direct relation between <code>MainWindow</code> and <code>Job</code>. I am not too familiar with Qts signal and slot mechanism, which is probably the way to go here, but maybe I can offer you a different solution:</p>\n\n<pre><code>Job::Job(QObject *parent) : QObject(parent)\n{\n  // some setups\n  parent-&gt;value = 0;    // this is not working\n}\n</code></pre>\n\n<p>This is not working, because <code>QObject</code> has no member called <code>value</code>. If you can live with <code>Job</code>s constructor not taking a <code>QObject*</code> as parameter, then just declare a </p>\n\n<pre><code>MainWindow* parentWindow;\n</code></pre>\n\n<p>as a private member in <code>Job</code> and change the constructor to</p>\n\n<pre><code>Job::Job(MainWindow *parentWindow) : QObject(parentWindow)\n{\n  // some setups\n  parentWindow-&gt;value = 0;    // this will work now\n}\n</code></pre>\n\n<p>then also </p>\n\n<pre><code>void Job::DoItNow()\n{\n  parentWindow-&gt;DoSomething();  \n}\n</code></pre>\n\n<p>will work without problems.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 6185803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303b762021a9ce5fc010f033139f5ccb?s=128&d=identicon&r=PG&f=1", "display_name": "DLiu", "link": "https://stackoverflow.com/users/6185803/dliu"}, "edited": false, "score": 0, "creation_date": 1461182334, "post_id": 36752301, "comment_id": 61088116, "body": "Maybe I should rephrase my question. I wanted to create an object Job in MainWindow and though one of Job&#39;s function to call for MainWindow&#39;s function. What is the correct way of doing so?"}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "reply_to_user": {"reputation": 43, "user_id": 6185803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303b762021a9ce5fc010f033139f5ccb?s=128&d=identicon&r=PG&f=1", "display_name": "DLiu", "link": "https://stackoverflow.com/users/6185803/dliu"}, "edited": false, "score": 0, "creation_date": 1461182791, "post_id": 36752301, "comment_id": 61088427, "body": "The one I posted. But still think about signal-slot. We do both. We do the one I posted when we are lazy."}], "tags": [], "owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1461250336, "last_edit_date": 1461250336, "creation_date": 1461177229, "answer_id": 36752301, "question_id": 36751855, "link": "https://stackoverflow.com/questions/36751855/how-to-call-to-non-static-parent-function-from-within-child-function-in-qt-c/36752301#36752301", "title": "How to call to non-static parent function from within child function in Qt/C++?", "body": "<blockquote>\n  <p>How can I call the Qt 'parent' object method from the 'child'\n   object method?</p>\n</blockquote>\n\n<p>The safe and simple way to do it:</p>\n\n<pre><code>void Job::DoItNow()\n{\n   // first evaluate the pointer: is that of type we expect?\n   MainWindow* pMainWindow = qobject_cast&lt;MainWindow*&gt;(parent());\n   if (pMainWindow)\n       pMainWindow-&gt;DoSomething();  // MainWindow::DoSomething must be exposed to class Job\n}\n</code></pre>\n\n<p>But of course making two classes dependent on each other too much is a violation of OOP principles: these two objects become tightly coupled now. And there is already a good suggestion in comments: use an explicit signal-slot mechanism for that or providing the interface to interact between decoupled objects.</p>\n"}], "owner": {"reputation": 43, "user_id": 6185803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/303b762021a9ce5fc010f033139f5ccb?s=128&d=identicon&r=PG&f=1", "display_name": "DLiu", "link": "https://stackoverflow.com/users/6185803/dliu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2233, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461250336, "creation_date": 1461175808, "last_edit_date": 1461184478, "question_id": 36751855, "link": "https://stackoverflow.com/questions/36751855/how-to-call-to-non-static-parent-function-from-within-child-function-in-qt-c", "title": "How to call to non-static parent function from within child function in Qt/C++?", "body": "<p>I have difficulties in understanding how to pass parent object to child. \nIn Qt, I have a MainWindow class and a <code>DoSomething()</code> function. Then I created a Job object within MainWindow and tried to call DoSomething within Job's <code>DoItNow()</code> function. But I just don't know how to do it.</p>\n\n<p>MainWindow.h</p>\n\n<pre><code>class Job;\nclass MainWindow : public QMainWindow\n{\n  Q_OBJECT\n\n  public:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\n    int value;\n    void DoSomething();\n\n  private:\n  Job *job;\n}\n</code></pre>\n\n<p>MainWindow.cpp</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"job.h\"\n\nMainWindow::MainWindow(QWidget *parent) : QMainWindow(parent),\nui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    job = new Job(this);   // passing this pointer to child\n}\n\nvoid MainWindow::DoSomething() {  // do something }\n</code></pre>\n\n<p>Job.h</p>\n\n<pre><code>class Job : public QObject\n{\n  Q_OBJECT\n\n  private:\n    void DoItNow();\n\n  public:\n    explicit CDMcommand(QObject *parent = 0);\n}\n</code></pre>\n\n<p>Job.cpp</p>\n\n<pre><code>#include \"job.h\"\n#include \"mainwindow.h\"\n\nJob::Job(QObject *parent) : QObject(parent)\n{\n  // some setups\n  parent-&gt;value = 0;    // this is not working\n}\n\nvoid Job::DoItNow()\n{\n  parent-&gt;DoSomething();  // What is the pointer to MainWindow instance?\n}\n</code></pre>\n\n<ul>\n<li><p>How to access non-static public register in *parent?</p></li>\n<li><p>How to pass *parent to function in job instance?</p></li>\n</ul>\n"}, {"tags": ["python", "c++", "popen"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1461176139, "post_id": 36751750, "comment_id": 61084256, "body": "<code>a.communicate()</code> will wait for the process to terminate ... there is a dupe around here somewhere about streaming stdout from a long running process"}, {"owner": {"reputation": 379, "user_id": 5712767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356a38b9c8792737020099a74ff52ee8?s=128&d=identicon&r=PG&f=1", "display_name": "WreckeR", "link": "https://stackoverflow.com/users/5712767/wrecker"}, "edited": false, "score": 0, "creation_date": 1461176598, "post_id": 36751750, "comment_id": 61084541, "body": "Use pexpect to spawn the C++ binary and interact with it. This example is a good starting point for what you want to do: <a href=\"https://github.com/pexpect/pexpect/blob/master/examples/ftp.py\" rel=\"nofollow noreferrer\">github.com/pexpect/pexpect/blob/master/examples/ftp.py</a>"}, {"owner": {"reputation": 545, "user_id": 6225559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8954de43ac82de79f2161ccc9556d580?s=128&d=identicon&r=PG&f=1", "display_name": "nephlm", "link": "https://stackoverflow.com/users/6225559/nephlm"}, "edited": false, "score": 0, "creation_date": 1461176801, "post_id": 36751750, "comment_id": 61084665, "body": "The c++ program behaves differently if it is in a shell or not, specifically it buffers it&#39;s output if it is being run by subprocess.  Check out this question and the 3 dupes linked from it:  <a href=\"https://stackoverflow.com/questions/1606795/catching-stdout-in-realtime-from-subprocess\" title=\"catching stdout in realtime from subprocess\">stackoverflow.com/questions/1606795/&hellip;</a>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1461409536, "post_id": 36751750, "comment_id": 61192802, "body": "1- <code>a.stdout.read()</code> won&#39;t return until EOF (don&#39;t call it on a blocking fd if you need multiple back-and-forths). I don&#39;t see it in <a href=\"http://stackoverflow.com/q/375427\">the question @JoranBeasley linked\u2014btw, it is not a duplicate: something like pexpect&#39;s ftp example is closer to the topic</a>. Read questions from the section in <a href=\"https://stackoverflow.com/questions/tagged/subprocess\">subprocess</a> tag info: <a href=\"http://stackoverflow.com/tags/subprocess/info\">Interacting with a subprocess while it is still running</a>, try solutions yourself and make sure you understand them 2- <i>&quot;Pexpect keeps hitting pexpect.TIMEOUT:&quot;</i> is not informative. Provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "owner": {"reputation": 65, "user_id": 3869136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eCD4.jpg?s=128&g=1", "display_name": "Rudi", "link": "https://stackoverflow.com/users/3869136/rudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461408858, "creation_date": 1461175436, "last_edit_date": 1461180810, "question_id": 36751750, "link": "https://stackoverflow.com/questions/36751750/use-python-to-handle-the-stdin-and-stdout-of-a-c-program", "title": "Use Python to handle the STDIN and STDOUT of a C++ Program", "body": "<p>I have program A which is a command line application that prints out specific status messages at random times. It also takes input and runs commands based on that. What I'm trying to do is use Python to make a wrapper around that program so that when the output (stdout) meets specific criteria, a python function is run. I also have a function that will send input to Program A based on Slack- I'm using the slackhq/python-slackclient rtm_connect() to listen to a channel. However, when I run my handler, the STDIN/STDOUT don't appear (STDOUT is being sent to PIPE because of a guide), and when I manually trigger events that meet the criteria for the first python function, nothing happens. No print statement, nothing.</p>\n\n<p>Pexpect keeps hitting <code>pexpect.TIMEOUT: Timeout exceeded.</code></p>\n\n<pre><code>a = Popen([\"/proj/a\"], stdout=PIPE)\n\ndef main():\n    sc.rtm_connect() #The RTM connect\n    a_to_slack(test_message) #Post message when connected\n\n    if a:\n        print(\"A was opened previously\")\n        listen_to_a()\n    else:\n        world = Popen([\"/proj/a\"], stdout=PIPE)\n        listen_to_a()\n\ndef listen_to_a():\n    while True:\n        data, error = a.stdout.read()[0] #From duplicate, to get STDOUT\n        print(data) #Never prints\n        a_to_slack(data) #Nothing..\n        print sc.rtm_read() #Doesn't print here either\n        time.sleep(1)\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461175315, "post_id": 36751662, "comment_id": 61083745, "body": "did you try just an int instead of int8_t?"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1461175324, "post_id": 36751662, "comment_id": 61083749, "body": "What is the reason you are using <code>int8_t</code> instead of <code>int</code>?"}, {"owner": {"reputation": 3, "user_id": 6217601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb71f8f386a3e6a946752cfd0723964d?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Tethers", "link": "https://stackoverflow.com/users/6217601/nelson-tethers"}, "edited": false, "score": 0, "creation_date": 1461175533, "post_id": 36751662, "comment_id": 61083871, "body": "I used an int8_t because in that same tutorial website, different lesson, it is written that I should use it, since int8_t has a defined size and int can change from machine to machine. Is this wrong? Sorry, kind not very good at this!"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1461175937, "post_id": 36751662, "comment_id": 61084130, "body": "@NelsonTethers do not use that lessons then, they say BS"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1461182270, "post_id": 36751662, "comment_id": 61088076, "body": "As a side note: <code>bool isEven(int8_t x) { return x % 2 == 0; }</code> does the same as your version, except for the printing but is a lot simpler."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1461175399, "post_id": 36751720, "comment_id": 61083798, "body": "That is not the reason"}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 1, "creation_date": 1461175644, "post_id": 36751720, "comment_id": 61083940, "body": "<code>int8_t</code> is being read in as <code>char</code>, returning <code>&#39;1&#39;</code> the which has the ASCII value of 49.  So, using <code>int</code> everywhere will fix the issue.  See:  <a href=\"http://ideone.com/3frpKY\" rel=\"nofollow noreferrer\">ideone.com/3frpKY</a>"}, {"owner": {"reputation": 3, "user_id": 6217601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb71f8f386a3e6a946752cfd0723964d?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Tethers", "link": "https://stackoverflow.com/users/6217601/nelson-tethers"}, "edited": false, "score": 0, "creation_date": 1461175675, "post_id": 36751720, "comment_id": 61083967, "body": "Hey, that worked, thanks. Might I just ask why int8_t doesn&#39;t work?"}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "reply_to_user": {"reputation": 3, "user_id": 6217601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb71f8f386a3e6a946752cfd0723964d?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Tethers", "link": "https://stackoverflow.com/users/6217601/nelson-tethers"}, "edited": false, "score": 0, "creation_date": 1461175691, "post_id": 36751720, "comment_id": 61083980, "body": "@NelsonTethers I edited my the answer and see Chad&#39;s comment as well"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1461175740, "post_id": 36751720, "comment_id": 61084016, "body": "It is still incorrect, problem is not related to function return type"}], "tags": [], "owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1461175776, "last_edit_date": 1495541385, "creation_date": 1461175370, "answer_id": 36751720, "question_id": 36751662, "link": "https://stackoverflow.com/questions/36751662/c-even-or-odd-number-program-not-working-properly/36751720#36751720", "title": "C++ Even or Odd number program not working properly", "body": "<p>This function returns a different type than the one it supposed to return:</p>\n\n<pre><code>int getInteger()\n{\n    std::cout &lt;&lt; \"Insert an integer\" &lt;&lt; \"\\n\";\n\n    int8_t x;\n\n    std::cin &gt;&gt; x;\n\n    return x;\n}\n</code></pre>\n\n<p><code>int</code> should work fine instead of <code>int8_t</code> and see here why <a href=\"https://stackoverflow.com/questions/14515874/difference-between-int32-int-int32-t-int8-and-int8-t\"><strong>Documentation</strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6217601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb71f8f386a3e6a946752cfd0723964d?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Tethers", "link": "https://stackoverflow.com/users/6217601/nelson-tethers"}, "edited": false, "score": 0, "creation_date": 1461176174, "post_id": 36751817, "comment_id": 61084282, "body": "Marking this one has correct because he was the fastest to be the most accurate. But thanks to all!"}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 2, "last_activity_date": 1461175660, "creation_date": 1461175660, "answer_id": 36751817, "question_id": 36751662, "link": "https://stackoverflow.com/questions/36751662/c-even-or-odd-number-program-not-working-properly/36751817#36751817", "title": "C++ Even or Odd number program not working properly", "body": "<p>You have following code:</p>\n\n<pre><code>int8_t x;\nstd::cin &gt;&gt; x;\n</code></pre>\n\n<p><code>int8_t</code> is just an alias for <code>char</code> for your platform and <code>std::istream</code> when it has type <code>char</code> as argument inputs one character, not integer. So solution would be to use type <code>int</code> and you should use it from the beginning as there is no reason at all to use <code>int8_t</code> in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1461175921, "creation_date": 1461175921, "answer_id": 36751893, "question_id": 36751662, "link": "https://stackoverflow.com/questions/36751662/c-even-or-odd-number-program-not-working-properly/36751893#36751893", "title": "C++ Even or Odd number program not working properly", "body": "<p>As you have it <code>getInteger()</code> takes character text translated input, not numbers., since <code>int8_t</code> actually expands to <code>char</code> </p>\n\n<p>To fix that take a integer number in 1st place and cast to the <code>int8_t</code> type:</p>\n\n<pre><code>int getInteger()\n{\n    std::cout &lt;&lt; \"Insert an integer\" &lt;&lt; \"\\n\";\n\n    int x; // &lt;&lt;&lt;&lt;\n    std::cin &gt;&gt; x;\n    return x;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>x = (int8_t)getInteger();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 334, "user_id": 7438857, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ff6da63e6f47c7326bc9d4dc081f08?s=128&d=identicon&r=PG", "display_name": "James Ray", "link": "https://stackoverflow.com/users/7438857/james-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1492401915, "creation_date": 1492401915, "answer_id": 43444974, "question_id": 36751662, "link": "https://stackoverflow.com/questions/36751662/c-even-or-odd-number-program-not-working-properly/43444974#43444974", "title": "C++ Even or Odd number program not working properly", "body": "<p>The reason that Alex on learncpp.com specifies that it is better to use fixed width integers is because the results of the program will not vary when it is compiled on different compilers. This is not the case for non-fixed-width integral types like <code>char</code> and <code>int</code>, since the size of the type will vary between compilers. As @Slava points out, <code>int8_t</code> is a fixed width integral type for <code>char</code>, so both are used with variables that will only store a single character in memory.</p>\n\n<p>Use fixed width integers whenever the program may be used in a different compiler or machine and it is important that the results will be compiler- and platform-independent. Because the program is asking for user input for any integer, to use a fixed width integer, it would be best to use <code>int32_t</code>. <code>int8_t</code> and 'char' would be suitable for getting digits (i.e. 0\u20139). <code>int16_t</code> is suitable for integers between -2^16/2 (which equals -2^15) and 2^15-1 (i.e. between -32 768 and 32 767). 'int32_t' is suitable for integers between -2^31 and 2^31-1 (i.e. between -2 147 483 648 and 2 147 483 647).</p>\n\n<p>As Alex explains later in <a href=\"http://www.learncpp.com/cpp-tutorial/5-10-stdcin-extraction-and-dealing-with-invalid-text-input/\" rel=\"nofollow noreferrer\">5.10 \u2014 std::cin, extraction, and dealing with invalid text input</a>, it is important to handle all possible invalid user inputs.</p>\n\n<p>Here is some updated code that will work, handle invalid user inputs, and loop to ask the user if they want to check whether another number is even or odd, and so do:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// StackOverflow C++ Even or Odd number program.cpp : Defines the entry point for the console application.\r\n//\r\n\r\n#include \"stdafx.h\"\r\n#include &lt;iostream&gt; // for cin and cout\r\n//include &lt;cmath&gt;\t// pow is no longer used and is commented out below.\r\n#include &lt;cstdint&gt; // std::int32_t\r\n\r\n// I changed the variable output for the function to int32_t, since that is the type being returned.\r\nstd::int32_t getInteger()\r\n{\r\n\t/* If you don't understand some parts, like do-while loops and\r\n\thandling invalid user input, come back to it after learning it,\r\n\tand just focus on what you can understand.\r\n\t*/\r\n\r\n\t// Use int32_t since the user input could potentially be a very large number.\r\n\tstd::int32_t x{ 0 };\r\n\tbool notInt32t = 1;\r\n\tbool cinFail{1};\r\n\tdo\r\n\t{\r\n\t\t// Don't use an '/n' character when getting user input, it makes more sense to get it on the same line as the prompt.\r\n\t\tstd::cout &lt;&lt; \"Enter an integer: \";\r\n\r\n\t\tstd::cin &gt;&gt; x;\r\n\r\n\t\tcinFail = std::cin.fail();\r\n\r\n\t\tif (cinFail)\r\n\t\t{\r\n\t\t\tstd::cin.clear();\r\n\t\t\tstd::cin.ignore(32767, '\\n');\r\n\t\t\tstd::cout &lt;&lt; \"Oops, that input is invalid. This may be because you entered a number larger \\n\";\r\n\t\t\tstd::cout &lt;&lt; \"than 2147483647 (which equals 2^31-1), or less than -2147483648 (which equals -2^31); \\n\";\r\n\t\t\tstd::cout &lt;&lt; \"or you did not enter an integer only. Please try again.\\n\";\r\n\t\t}\r\n\t\t// remove any extraneous input, which would otherwise be left in the buffer, causing unexpected results.\r\n\t\telse\r\n\t\t\tstd::cin.ignore(32767,'\\n'); \r\n\r\n\t\t/*Commented out because this will not work, it will fail to extract. Left in the code for education purposes.\r\n\t\tnotInt32t = ((x &gt; (pow(2.0, 31.0) - 1)) || (x &lt; -pow(2.0, 31.0)) || !(x % 1 == 0));\r\n\t\tif (notInt32t)\r\n\t\t\tstd::cout &lt;&lt; \"Oops, you entered incorrectly!\\n\";\r\n\t\t*/\r\n\t} while (cinFail);\r\n\r\n\treturn x;\r\n}\r\n\r\nbool isEven(std::int32_t x)\r\n{\r\n\tbool isEven;\r\n\r\n\tisEven = (x % 2 == 0) ?(true):(false);\r\n\r\n\treturn isEven;\r\n}\r\n\r\n/* I have commented this out and rewrote it, as it is ambiguous.\r\nvoid printResult(bool b)\r\n{\r\n\tstd::cout &lt;&lt; std::boolalpha;\r\n\tstd::cout &lt;&lt; b &lt;&lt; \"\\n\";\r\n}*/\r\n\r\nvoid printIsEven()\r\n{\r\n\tauto x = getInteger();\r\n\r\n\tif (isEven(x))\r\n\t\tstd::cout &lt;&lt; x &lt;&lt; \" is an even integer.\\n\";\r\n\telse\r\n\t\tstd::cout &lt;&lt; x &lt;&lt; \" is an odd integer.\\n\";\r\n}\r\nvoid printIsEvenLoop()\r\n{\r\n\tstd::int8_t yOrN{};\r\n\tbool isLoop{ true };\r\n\tbool cinFail{ false };\r\n\tbool isYOrN{ false };\r\n\twhile (isLoop)\r\n\t{\r\n\t\tdo\r\n\t\t{\r\n\t\t\tstd::cout &lt;&lt; \"Would you like to check whether another integer is even or odd?\\n\";\r\n\t\t\tstd::cout &lt;&lt; \"Enter y or n (yes or no): \";\r\n\t\t\tstd::cin &gt;&gt; yOrN;\r\n\r\n\t\t\tcinFail = std::cin.fail();\r\n\r\n\t\t\tif (cinFail)\r\n\t\t\t{\r\n\t\t\t\tstd::cin.clear();\r\n\t\t\t\tstd::cin.ignore(32767, '\\n');\r\n\t\t\t\tstd::cout &lt;&lt; \"Oops, that input is invalid! Please try again.\\n\";\r\n\t\t\t}\r\n\t\t\t// remove any extraneous input, which would otherwise be left in the buffer, causing unexpected results.\r\n\t\t\telse\r\n\t\t\t\tstd::cin.ignore(32767, '\\n');\r\n\r\n\t\t\tisYOrN = ((yOrN == 'y' || yOrN == 'n'));\r\n\t\t\tif (!isYOrN)\r\n\t\t\t\tstd::cout &lt;&lt; \"Oops, you entered incorrectly! Please try again.\\n\";\r\n\r\n\t\t} while (cinFail || !isYOrN);\r\n\r\n\t\tif (yOrN == 'y')\r\n\t\t{\r\n\t\t\tisLoop = true;\r\n\t\t\tprintIsEven();\r\n\t\t}\r\n\t\telse\r\n\t\t\tisLoop = false;\r\n\t}\r\n\t\r\n}\r\nint main()\r\n{\r\n\tprintIsEven();\r\n\t\r\n\tprintIsEvenLoop();\r\n\r\n\treturn 0;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 6217601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb71f8f386a3e6a946752cfd0723964d?s=128&d=identicon&r=PG&f=1", "display_name": "Nelson Tethers", "link": "https://stackoverflow.com/users/6217601/nelson-tethers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 36751817, "answer_count": 4, "score": 0, "last_activity_date": 1492401915, "creation_date": 1461175216, "question_id": 36751662, "link": "https://stackoverflow.com/questions/36751662/c-even-or-odd-number-program-not-working-properly", "title": "C++ Even or Odd number program not working properly", "body": "<p>I'm new to C++, and I was doing the exercise found here:</p>\n\n<p><a href=\"http://www.learncpp.com/cpp-tutorial/32-arithmetic-operators/\" rel=\"nofollow\">http://www.learncpp.com/cpp-tutorial/32-arithmetic-operators/</a></p>\n\n<p>I was doing quiz 2 which tells me co create a program that receives an integer from user, and prints true of that integer is even. So I created the following code:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n\nint getInteger()\n{\n    std::cout &lt;&lt; \"Insert an integer\" &lt;&lt; \"\\n\";\n\n    int8_t x;\n\n    std::cin &gt;&gt; x;\n\n    return x;\n}\n\nbool isEven(int8_t x)\n{\n    bool b;\n    b = false;\n\n    std::cout &lt;&lt; x % 2 &lt;&lt; \"\\n\";\n\n    if(x%2 == 0)\n        {\n            b = true;\n        }\n\n    return b;\n}\n\nvoid printResult(bool b)\n{\n    std::cout &lt;&lt; std::boolalpha;\n    std::cout &lt;&lt; b &lt;&lt; \"\\n\";\n}\n\nint main()\n{\n    int8_t x;\n    x = getInteger();\n\n    bool b;\n    b = isEven(x);\n\n    printResult(b);\n\n    return 0;\n}\n</code></pre>\n\n<p>So, here is the problem. Unless I'm missing something, this should work, right? And it does, but only for integers that I input from 0 to 10. For some reason, if I input 10, or 12, it prints false, but it works fine with 2, 4, 6, and 8. Why is this happening?</p>\n"}, {"tags": ["c++", "linked-list", "hashtable", "segmentation-fault"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 2, "creation_date": 1461174995, "post_id": 36751568, "comment_id": 61083550, "body": "You need to compile your code in debug mode, and than run it inside debugger. Debugger will catch the signal. Than you will be able to look into state of variables to check what went wrong."}, {"owner": {"reputation": 2113, "user_id": 4433546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fp46R.jpg?s=128&g=1", "display_name": "TriskalJM", "link": "https://stackoverflow.com/users/4433546/triskaljm"}, "edited": false, "score": 0, "creation_date": 1461182290, "post_id": 36751568, "comment_id": 61088086, "body": "You should be more careful with <code>malloc</code>; there&#39;s no guarantee it was able to obtain enough memory for your <code>node*</code>. That may not be the error you&#39;re getting, but it&#39;s definitely something you should shore up."}, {"owner": {"reputation": 1047, "user_id": 2101084, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/huVYh.jpg?s=128&g=1", "display_name": "LibertyPaul", "link": "https://stackoverflow.com/users/2101084/libertypaul"}, "edited": false, "score": 0, "creation_date": 1461187951, "post_id": 36751568, "comment_id": 61091369, "body": "I bet you didnt even compile it because of <code>char arr[str.size()+1];</code>. It would produce error as long as str.size() is not a constant value."}], "answers": [{"comments": [{"owner": {"reputation": 7117, "user_id": 1245420, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c5a428623702851ce5f462822483fc6c?s=128&d=identicon&r=PG", "display_name": "phonetagger", "link": "https://stackoverflow.com/users/1245420/phonetagger"}, "edited": false, "score": 0, "creation_date": 1461187747, "post_id": 36754025, "comment_id": 61091270, "body": "Your <code>recursiveFreeNode()</code> function isn&#39;t actually doing anything, except guaranteeing that the <code>node</code> memory is leaked, since your pointers are simple raw pointers. Perhaps you meant to <code>delete node</code> before NULLing it? Also, since the last action of the function isn&#39;t the call to itself, it&#39;s not possible for the compiler to TCO the function. It probably won&#39;t matter in practice, but if the hashtable has an inordinate amount of collisions, it could lead to stack overflow. The function could just as easily be implemented as a loop, instead of recursively, which would not eat stack space."}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "reply_to_user": {"reputation": 7117, "user_id": 1245420, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c5a428623702851ce5f462822483fc6c?s=128&d=identicon&r=PG", "display_name": "phonetagger", "link": "https://stackoverflow.com/users/1245420/phonetagger"}, "edited": false, "score": 0, "creation_date": 1461197661, "post_id": 36754025, "comment_id": 61094541, "body": "@phonetagger: d&#39;oh! Yes, you&#39;re right: I forgot the most important line: <code>delete node</code>. Thanks. And not only: I&#39;ve given to the variable the same name of the struct. I&#39;ve tried to write a not recursive function but I don&#39;t find really elegant. Feel free to modify it or to add a better version."}], "tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 1, "last_activity_date": 1461197737, "last_edit_date": 1461197737, "creation_date": 1461182472, "answer_id": 36754025, "question_id": 36751568, "link": "https://stackoverflow.com/questions/36751568/sigsegv-error-occurs-in-implementation-of-a-hash-table-in-c/36754025#36754025", "title": "SIGSEGV error occurs in implementation of a hash table in C++", "body": "<p>I can't reproduce your problem (I'm using clang++ in a Linux platform and I suppose that your problem is platform dependent) but I see something that can explain it.</p>\n\n<p>You use <code>malloc()</code> to allocate memory for a struct with a <code>std::string</code> in it.</p>\n\n<p>This is bad.</p>\n\n<p>Really, really bad.</p>\n\n<p>Because <code>malloc()</code> can allocate the memory but can't construct the <code>data</code> member in it.</p>\n\n<p>In C++ you should use <code>new</code>; at least, allocating not trivial objects (<code>std::string</code> isn't trivial).</p>\n\n<pre><code>// node* temp=(node*)malloc(sizeof(node));  // DANGEROUS\nnode * temp = new node;\n</code></pre>\n\n<p>This is the problem that cause the sigsegv (I suppose) but your code has a lot of other problem.</p>\n\n<p>Example: the <code>while</code> in <code>display()</code> goes in loop because <code>p</code> remain unchanged; you should change <code>display()</code> in this way</p>\n\n<pre><code>void display (node * hashTable[], int m)\n{\n   node * p;\n\n   for(int i=0;i&lt;m;i++)\n    {\n      cout &lt;&lt; i &lt;&lt; \":\\n\";\n\n      for ( p = hashTable[i] ; p ; p = p-&gt;next )\n         cout &lt;&lt; p-&gt;data &lt;&lt; \" , \";\n\n      cout &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Another important point: variable length arrays isn't C++; it's C (C99). So this lines are wrong</p>\n\n<pre><code>char arr[str.size()+1];\nnode* hashTable[m];\n</code></pre>\n\n<p>You don't need the first (absolutely useless) and you can simplify <code>hashcode()</code> in this way (and please, pass the strings by const reference, when possible)</p>\n\n<pre><code>int hashCode (const string &amp; str)\n {\n   int code = 0;\n\n   for ( int i = 0 ; i &lt; str.size() ; ++i )\n      code += (i+1) * int(str[i]);\n\n   return code;\n }\n</code></pre>\n\n<p>About <code>hashTable</code>, you can substitute it with a <code>std::vector</code></p>\n\n<pre><code>  // node* hashTable[m];  no C++\n  //for(int i=0;i&lt;m;i++)   // useless\n  //{                      // useless\n  //    hashTable[i]=NULL; // useless\n  //}                      // useless\n\n  std::vector&lt;node *&gt;  hashTable(m, NULL);  // m NULL node pointers\n</code></pre>\n\n<p>Obviously, <code>putInHash()</code> should be</p>\n\n<pre><code>void putInHash (string str, std::vector&lt;node*&gt; &amp; hashTable, int m)\n</code></pre>\n\n<p>and <code>display()</code></p>\n\n<pre><code>void display (const std::vector&lt;node*&gt; &amp; hashTable, int m)\n</code></pre>\n\n<p>And remember to free the allocated memory.</p>\n\n<p>p.s.: sorry for my bad English.</p>\n\n<p><strong>--- EDIT ---</strong></p>\n\n<p>phonetagger is right: deleting the memory (a vector o linked nodes) isn't trivial.</p>\n\n<p>I suggest a function like the following</p>\n\n<pre><code>void recursiveFreeNode (node * &amp; nd)\n {\n   if ( nd )\n    {\n      recursiveFreeNode(nd-&gt;next);\n\n      delete nd; // added with EDIT 2; sorry\n\n      nd = NULL; // useless, in this, case, but good practice\n    }\n }\n</code></pre>\n\n<p>and call it (for every node of the vector) in <code>main()</code>, after <code>display()</code> calling</p>\n\n<pre><code>for ( unsigned ui = 0U ; ui &lt; hashTable.size() ; ++ui )\n   recursiveFreeNode(hashTable[ui]);\n</code></pre>\n\n<p><strong>--- EDIT 2 ---</strong></p>\n\n<p>Sorry: I've forgot the more important line: <code>delete node</code> (thanks phonetagger).</p>\n\n<p>Following the other suggestion of phonetagger, I propose a not-recursive function for deleting the hashtable's node</p>\n\n<pre><code>void loopFreeNode (node * &amp; nd)\n {\n   node *  tmp;\n\n   for ( ; nd ; nd = tmp )\n    {\n      tmp = nd-&gt;next;\n\n      delete nd;\n    }\n\n   nd = NULL;\n }\n</code></pre>\n\n<p>Obviously the <code>for</code> loop, to use <code>loopFreeNode()</code>, should be</p>\n\n<pre><code>for ( unsigned ui = 0U ; ui &lt; hashTable.size() ; ++ui )\n   loopFreeNode(hashTable[ui]);\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6003876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CBGXL.jpg?s=128&g=1", "display_name": "Anubhav Shrimal", "link": "https://stackoverflow.com/users/6003876/anubhav-shrimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461197737, "creation_date": 1461174905, "last_edit_date": 1461175993, "question_id": 36751568, "link": "https://stackoverflow.com/questions/36751568/sigsegv-error-occurs-in-implementation-of-a-hash-table-in-c", "title": "SIGSEGV error occurs in implementation of a hash table in C++", "body": "<p>I am trying to implement a hash table data structure in C++, but every time i run the program i get a run time error(SIGSEGV, segmentation fault) in line number 86 like here.</p>\n\n<p><img src=\"https://i.stack.imgur.com/M2ub6.png\" alt=\"(some thing like this)\">  </p>\n\n<blockquote>\n  <p>i.e.: <code>putInHash(str,hashTable,m); in main().</code></p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;string.h&gt;\n#include&lt;math.h&gt;\n#include&lt;stdlib.h&gt;\nusing namespace std;\n\ntypedef struct node\n{\nstruct node *next,*prev;\nstring data;\n}node;\n\nint hashCode(string str)\n{\nchar arr[str.size()+1];\nstrcpy(arr,str.c_str());\nint code=0;\n   for(int i=0;i&lt;str.size();i++)\n   {\n    code+=((i+1)*((int)arr[i]));\n   }\nreturn code;\n}\n\nint compress(int k,int m)\n{\n   double a=(sqrt(5.0)-1)/2;\n   return floor(m*(fmod(k*a,1)));\n}\n\nvoid display(node* hashTable[],int m)\n{\n   for(int i=0;i&lt;m;i++)\n   {\n       cout&lt;&lt;i&lt;&lt;\":\\n\";\n       node* p=hashTable[i];\n       while(p!=NULL)\n       {\n          cout&lt;&lt;p-&gt;data&lt;&lt;\" , \";\n       }\n       cout&lt;&lt;\"\\n\";\n   }\n}\n\nvoid putInHash(string str,node* hashTable[],int m)\n{\n   int k=hashCode(str);\n   int bucket=compress(k,m);\n   if(hashTable[bucket]==NULL)\n   {\n       hashTable[bucket]=(node*)malloc(sizeof(node));\n       hashTable[bucket]-&gt;prev=NULL;\n       hashTable[bucket]-&gt;next=NULL;\n       hashTable[bucket]-&gt;data=str;\n   }\n   else\n   {\n       node* temp=(node*)malloc(sizeof(node));\n       temp-&gt;data=str;\n       temp-&gt;next=hashTable[bucket];\n       hashTable[bucket]-&gt;prev=temp;\n       temp-&gt;prev=NULL;\n       hashTable[bucket]=temp;\n   }\n}\n\nint main()\n{\n   cout&lt;&lt;\"Enter number of strings to add in hash table: \";\n   long int n;\n   cin&gt;&gt;n;\n   cout&lt;&lt;\"\\n\";\n   int m=13;\n   node* hashTable[m];\n   for(int i=0;i&lt;m;i++)\n   {\n       hashTable[i]=NULL;\n   }\n\n   string str;\n\n   cout&lt;&lt;\"Enter the strings:\\n\";\n   for(int i=0;i&lt;n;i++)\n   {\n       cin&gt;&gt;str;\n       putInHash(str,hashTable,m);\n   }\n\n   display(hashTable,m);\n\n   return 0;\n}\n</code></pre>\n\n<p>I thought it might be due to passing the string, but it turned out this wasn't the case.</p>\n\n<p>Can somebody please guide me through it.\nI think the error may be in passing the <code>hashTable[]</code> as an argument.</p>\n"}, {"tags": ["c++", "time", "chrono"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461173730, "post_id": 36751133, "comment_id": 61082760, "body": "The result of two integral arguments divided by each other is an integral value."}, {"owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461173855, "post_id": 36751133, "comment_id": 61082845, "body": "@SergeyA That fixed the result not being a float, but it still starts at the wrong number."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461174194, "post_id": 36751133, "comment_id": 61083074, "body": "<code>return std::chrono::duration_cast&lt;ms&gt;(now.time_since_epoch()).count&zwnj;&#8203;() &#47; 1000.0F;</code>"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 2, "creation_date": 1461174312, "post_id": 36751133, "comment_id": 61083141, "body": "@Arkathorn You should get better precision if you calculate the difference on <code>std::chrono::time_point</code>s."}, {"owner": {"reputation": 32126, "user_id": 2666289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/746dd23bbe20769fbd758421e67f455c?s=128&d=identicon&r=PG", "display_name": "Holt", "link": "https://stackoverflow.com/users/2666289/holt"}, "edited": false, "score": 0, "creation_date": 1461174399, "post_id": 36751133, "comment_id": 61083185, "body": "Instead of  dividing by <code>1000</code> you should returns a custom second duration using a floating point representation."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461174794, "post_id": 36751133, "comment_id": 61083412, "body": "Just something to play with: <a href=\"http://coliru.stacked-crooked.com/a/231e117a15ed8729\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/231e117a15ed8729</a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461193801, "post_id": 36751930, "comment_id": 61093544, "body": "With this code <code>getCurrentTime().time_since_epoch().count()</code> will always return the same value. Any idea why?"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461194223, "post_id": 36751930, "comment_id": 61093657, "body": "@Arkathorn: On my system this returns the number of floating point seconds since the computer booted.  It changes as expected each time I run the program.  If I call it twice in a row, it will appear to have the same value because it prints out only to an accuracy of a tenth a second.  What platform are you on?"}, {"owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461194735, "post_id": 36751930, "comment_id": 61093795, "body": "Windows 10. It always returns <code>1.46119e+012</code>."}, {"owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461195120, "post_id": 36751930, "comment_id": 61093896, "body": "(Actually, the value is <code>1.4612e+009</code>)"}, {"owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461195470, "post_id": 36751930, "comment_id": 61094005, "body": "(Realizes that platform might not necessarily be OS) I&#39;m using MinGW."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461197967, "post_id": 36751930, "comment_id": 61094627, "body": "@Arkathorn:  Ok.  You&#39;re using either <code>system_clock</code> or <code>high_resolution_clock</code> which is an alias to <code>system_clock</code> on Windows.  This is returning the number of seconds since New Years 1970, which is currently about 1.4 billion.  If you run it again in a day or so (100,000 seconds), you&#39;ll see a change in the least significant digit of your output."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 1, "creation_date": 1461198383, "post_id": 36751930, "comment_id": 61094761, "body": "@Arkathorn:  <code>float</code> doesn&#39;t have the precision you&#39;re looking for (tracking fractions among billions of seconds).  You&#39;ll either need to switch to <code>steady_clock</code> to get a lower number of seconds since epoch, or switch to <code>double</code> to get the extra precision."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "edited": false, "score": 0, "creation_date": 1461198638, "post_id": 36751930, "comment_id": 61094832, "body": "The distance between two adjacent float values on the order of 1.4e+9 is 128 (two minutes 8 seconds).  The distance between two adjacent double values in this range is only about 200ns."}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": false, "score": 11, "last_activity_date": 1461176072, "creation_date": 1461176072, "answer_id": 36751930, "question_id": 36751133, "link": "https://stackoverflow.com/questions/36751133/proper-method-of-using-stdchrono/36751930#36751930", "title": "Proper method of using std::chrono", "body": "<ul>\n<li>Don't escape the chrono type system until you absolutely have to.  That means don't use <code>.count()</code> except for I/O or interacting with legacy API.</li>\n</ul>\n\n<p>This translates to:  Don't use <code>float</code> as time_point.</p>\n\n<ul>\n<li>Don't bother with <code>high_resolution_clock</code>.  This is always a typedef to either <code>system_clock</code> or <code>steady_clock</code>.  For more portable code, choose one of the latter.</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n\nusing Time = std::chrono::steady_clock;\nusing ms = std::chrono::milliseconds;\n</code></pre>\n\n<p>To start, you're going to need a duration with a representation of <code>float</code> and the units of <code>seconds</code>.  This is how you do that:</p>\n\n<pre><code>using float_sec = std::chrono::duration&lt;float&gt;;\n</code></pre>\n\n<p>Next you need a <code>time_point</code> which uses <code>Time</code> as the clock, and <code>float_sec</code> as its duration:</p>\n\n<pre><code>using float_time_point = std::chrono::time_point&lt;Time, float_sec&gt;;\n</code></pre>\n\n<p>Now your <code>getCurrentTime()</code> can just return <code>Time::now()</code>.  No fuss, no muss:</p>\n\n<pre><code>float_time_point\ngetCurrentTime() {\n    return Time::now();\n}\n</code></pre>\n\n<p>Your <code>main</code>, because it has to do the I/O, is responsible for unpacking the chrono types into scalars so that it can print them:</p>\n\n<pre><code>int main () {\n    auto startTime = getCurrentTime();\n    std::cout &lt;&lt; \"Start Time: \" &lt;&lt; startTime.time_since_epoch().count() &lt;&lt; \"\\n\";\n\n    while(true) {\n        std::cout &lt;&lt; (getCurrentTime() - startTime).count() &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 3, "last_activity_date": 1461182683, "creation_date": 1461182683, "answer_id": 36754087, "question_id": 36751133, "link": "https://stackoverflow.com/questions/36751133/proper-method-of-using-stdchrono/36754087#36754087", "title": "Proper method of using std::chrono", "body": "<p>This program does a similar thing. Hopefully it shows some of the capabilities (and methodology) of std::chrono:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n\n\nint main()\n{\n    using namespace std::literals;\n    namespace chrono = std::chrono;\n    using clock_type = chrono::high_resolution_clock;\n\n    auto start = clock_type::now();\n\n    for(;;) {\n        auto first = clock_type::now();\n\n        // note use of literal - this is c++14\n        std::this_thread::sleep_for(500ms);\n\n        // c++11 would be this:\n        //        std::this_thread::sleep_for(chrono::milliseconds(500));\n\n        auto last = clock_type::now();\n        auto interval = last - first;\n        auto total = last - start;\n\n        // integer cast\n        std::cout &lt;&lt; \"we just slept for \" &lt;&lt; chrono::duration_cast&lt;chrono::milliseconds&gt;(interval).count() &lt;&lt; \"ms\\n\";\n\n        // another integer cast\n        std::cout &lt;&lt; \"also known as \" &lt;&lt; chrono::duration_cast&lt;chrono::nanoseconds&gt;(interval).count() &lt;&lt; \"ns\\n\";\n\n        // floating point cast\n        using seconds_fp = chrono::duration&lt;double, chrono::seconds::period&gt;;\n        std::cout &lt;&lt; \"which is \" &lt;&lt; chrono::duration_cast&lt;seconds_fp&gt;(interval).count() &lt;&lt; \" seconds\\n\";\n\n        std::cout &lt;&lt; \"  total time wasted: \" &lt;&lt; chrono::duration_cast&lt;chrono::milliseconds&gt;(total).count() &lt;&lt; \"ms\\n\";\n        std::cout &lt;&lt; \"         in seconds: \" &lt;&lt; chrono::duration_cast&lt;seconds_fp&gt;(total).count() &lt;&lt; \"s\\n\";\n\n\n        std::cout &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>example output:</p>\n\n<pre><code>we just slept for 503ms\nalso known as 503144616ns\nwhich is 0.503145 seconds\n  total time wasted: 503ms\n         in seconds: 0.503145s\n\nwe just slept for 500ms\nalso known as 500799185ns\nwhich is 0.500799 seconds\n  total time wasted: 1004ms\n         in seconds: 1.00405s\n\nwe just slept for 505ms\nalso known as 505114589ns\nwhich is 0.505115 seconds\n  total time wasted: 1509ms\n         in seconds: 1.50923s\n\nwe just slept for 502ms\nalso known as 502478275ns\nwhich is 0.502478 seconds\n  total time wasted: 2011ms\n         in seconds: 2.01183s\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5534565, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Te_dl5bWeRg/AAAAAAAAAAI/AAAAAAAAASg/ezSaSw8kDfg/photo.jpg?sz=128", "display_name": "Arkathorn", "link": "https://stackoverflow.com/users/5534565/arkathorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6137, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1461182683, "creation_date": 1461173579, "question_id": 36751133, "link": "https://stackoverflow.com/questions/36751133/proper-method-of-using-stdchrono", "title": "Proper method of using std::chrono", "body": "<p>While I realize this is probably one of many identical questions, I can't seem to figure out how to properly use std::chrono. This is the solution I cobbled together.</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n\ntypedef std::chrono::high_resolution_clock Time;\ntypedef std::chrono::milliseconds ms;\n\nfloat startTime;\n\nfloat getCurrentTime();\n\nint main () {\n    startTime = getCurrentTime();\n    std::cout &lt;&lt; \"Start Time: \" &lt;&lt; startTime &lt;&lt; \"\\n\";\n\n    while(true) {\n        std::cout &lt;&lt; getCurrentTime() - startTime &lt;&lt; \"\\n\";\n    }\n\n    return EXIT_SUCCESS;\n}\n\nfloat getCurrentTime() {\n    auto now = Time::now();\n    return std::chrono::duration_cast&lt;ms&gt;(now.time_since_epoch()).count() / 1000;\n}\n</code></pre>\n\n<p>For some reason, this only ever returns integer values as the difference, which increments upwards at rate of 1 per second, but starting from an arbitrary, often negative, value.</p>\n\n<p>What am I doing wrong? Is there a better way of doing this?</p>\n"}, {"tags": ["c++", "header", "xerces"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 4322072, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/927a06cee007e643be0f5a98138645bb?s=128&d=identicon&r=PG&f=1", "display_name": "iheartcpp", "link": "https://stackoverflow.com/users/4322072/iheartcpp"}, "edited": false, "score": 0, "creation_date": 1461246614, "post_id": 36753882, "comment_id": 61120593, "body": "Ok, that makes sense, I also was able to compile 3.1.3, but unfortunately I have to use 2.7.0 which I cannot get to compile. I&#39;ll look into specifying an include path."}, {"owner": {"reputation": 568, "user_id": 2847010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fYr5h.jpg?s=128&g=1", "display_name": "Francesco Argese", "link": "https://stackoverflow.com/users/2847010/francesco-argese"}, "reply_to_user": {"reputation": 321, "user_id": 4322072, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/927a06cee007e643be0f5a98138645bb?s=128&d=identicon&r=PG&f=1", "display_name": "iheartcpp", "link": "https://stackoverflow.com/users/4322072/iheartcpp"}, "edited": false, "score": 0, "creation_date": 1461353466, "post_id": 36753882, "comment_id": 61177871, "body": "Do you need 2.7.0 for a specific reason? I&#39;ve not found source for this version on the official site (<a href=\"http://archive.apache.org/dist/xerces/c/2/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/xerces/c/2</a>) but only 2.8.0. Could 2.8.0 be compatible with your source code? It&#39;s available also as precompiled binaries (<a href=\"http://archive.apache.org/dist/xerces/c/2/binaries/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/xerces/c/2/binaries</a>)."}], "tags": [], "owner": {"reputation": 568, "user_id": 2847010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fYr5h.jpg?s=128&g=1", "display_name": "Francesco Argese", "link": "https://stackoverflow.com/users/2847010/francesco-argese"}, "is_accepted": false, "score": 1, "last_activity_date": 1461182049, "creation_date": 1461182049, "answer_id": 36753882, "question_id": 36751127, "link": "https://stackoverflow.com/questions/36751127/include-path-location-for-xerces-c/36753882#36753882", "title": "Include Path location for xerces C++", "body": "<p>The compiler knows the location of the header files based on the build configuration. In gcc it is possible to define the header directory through -I flag (e.g. -I/usr/local/include). </p>\n\n<p>In order to check which directory the compiler is looking for your header file see the string showing the last compiler command before the error.</p>\n\n<p>You have to find something like gcc -I etc... where directory is the directory where it is searching.</p>\n\n<p>Anyway, I've just compiled xerces-c-3-1-3 from command line on my Ubuntu 14.04 LTS without defining XERCES_ROOT using the following steps:</p>\n\n<ol>\n<li>Download from <a href=\"http://it.apache.contactlab.it//xerces/c/3/sources/xerces-c-3.1.3.tar.gz\" rel=\"nofollow\">this site</a></li>\n<li>tar zxvf xerces</li>\n<li>./configure</li>\n<li>make</li>\n</ol>\n\n<p>and it works without error.</p>\n"}], "owner": {"reputation": 321, "user_id": 4322072, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/927a06cee007e643be0f5a98138645bb?s=128&d=identicon&r=PG&f=1", "display_name": "iheartcpp", "link": "https://stackoverflow.com/users/4322072/iheartcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461188167, "creation_date": 1461173549, "last_edit_date": 1461188167, "question_id": 36751127, "link": "https://stackoverflow.com/questions/36751127/include-path-location-for-xerces-c", "title": "Include Path location for xerces C++", "body": "<p>I'm trying to build xerces in Ubuntu. I am getting a file not found error with one of the headers. This is a basic question but how does the compiler know the location of xercesc? I have defined XERCESROOT, does it use that?</p>\n\n<pre><code>#include &lt;xercesc/dom/DOMLSInput.hpp&gt;\n</code></pre>\n\n<p><a href=\"https://xerces.apache.org/xerces-c/program-dom-3.html\" rel=\"nofollow\">https://xerces.apache.org/xerces-c/program-dom-3.html</a></p>\n"}, {"tags": ["c++", "qt", "opengl"], "comments": [{"owner": {"reputation": 1025, "user_id": 1364776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f7b9f5042f040ee074e7e4b4615a2a69?s=128&d=identicon&r=PG", "display_name": "mjwach", "link": "https://stackoverflow.com/users/1364776/mjwach"}, "edited": false, "score": 1, "creation_date": 1461176560, "post_id": 36751067, "comment_id": 61084513, "body": "I&#39;m far from an expert on this, but:  Does the widget need to be explicitly added to a layout belonging to the window?"}, {"owner": {"reputation": 525, "user_id": 5869301, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86a49e0145a284ba5a05873250323f4d?s=128&d=identicon&r=PG&f=1", "display_name": "bisthebis", "link": "https://stackoverflow.com/users/5869301/bisthebis"}, "reply_to_user": {"reputation": 1025, "user_id": 1364776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f7b9f5042f040ee074e7e4b4615a2a69?s=128&d=identicon&r=PG", "display_name": "mjwach", "link": "https://stackoverflow.com/users/1364776/mjwach"}, "edited": false, "score": 0, "creation_date": 1461178681, "post_id": 36751067, "comment_id": 61085784, "body": "Not sure to understand what you mean, but I do want the widget to have a parent window"}, {"owner": {"reputation": 1025, "user_id": 1364776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f7b9f5042f040ee074e7e4b4615a2a69?s=128&d=identicon&r=PG", "display_name": "mjwach", "link": "https://stackoverflow.com/users/1364776/mjwach"}, "edited": false, "score": 0, "creation_date": 1461179166, "post_id": 36751067, "comment_id": 61086092, "body": "I meant something like this (maybe with a layout type other than QBoxLayout, if you preferred):  auto layout = new QBoxLayout(QBoxLayout::TopToBottom); window.setLayout(layout); layout-&gt;addWidget(GL);"}, {"owner": {"reputation": 525, "user_id": 5869301, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86a49e0145a284ba5a05873250323f4d?s=128&d=identicon&r=PG&f=1", "display_name": "bisthebis", "link": "https://stackoverflow.com/users/5869301/bisthebis"}, "reply_to_user": {"reputation": 1025, "user_id": 1364776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f7b9f5042f040ee074e7e4b4615a2a69?s=128&d=identicon&r=PG", "display_name": "mjwach", "link": "https://stackoverflow.com/users/1364776/mjwach"}, "edited": false, "score": 0, "creation_date": 1461179538, "post_id": 36751067, "comment_id": 61086348, "body": "@mjwach : Nice trick (I didn&#39;t know about this) for smart resizing. Thanks for it. But I think my problems lies in either OpenGL or Qt&#39;s OpenGL module"}], "answers": [{"tags": [], "owner": {"reputation": 525, "user_id": 5869301, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86a49e0145a284ba5a05873250323f4d?s=128&d=identicon&r=PG&f=1", "display_name": "bisthebis", "link": "https://stackoverflow.com/users/5869301/bisthebis"}, "is_accepted": false, "score": 1, "last_activity_date": 1461181234, "creation_date": 1461181234, "answer_id": 36753610, "question_id": 36751067, "link": "https://stackoverflow.com/questions/36751067/qt-opengl-with-widgets-whats-wrong/36753610#36753610", "title": "Qt OpenGL with Widgets : what&#39;s wrong?", "body": "<p>Finally I found out the problem(S).</p>\n\n<p>Well, at least I've found out a better way to achieve what I want.</p>\n\n<p>I was using QGLWidget and QGLFunctions, which are deprecated.\nBy using QOpenGLWidget and QOpenGLFunctions instead, I got what I wanted to get. It's really simple, just had to look at the doc</p>\n"}], "owner": {"reputation": 525, "user_id": 5869301, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/86a49e0145a284ba5a05873250323f4d?s=128&d=identicon&r=PG&f=1", "display_name": "bisthebis", "link": "https://stackoverflow.com/users/5869301/bisthebis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461181234, "creation_date": 1461173395, "last_edit_date": 1461176274, "question_id": 36751067, "link": "https://stackoverflow.com/questions/36751067/qt-opengl-with-widgets-whats-wrong", "title": "Qt OpenGL with Widgets : what&#39;s wrong?", "body": "<p>So, I've been paying around with OpenGL for a while, and now I'd like to migrate to Qt so I can embed widgets on my window.\nSince I need Qt Widgets, I do not want to use <code>QWindow</code>; thus I use <code>QGLWidget</code> that I put in a container window.\nI did manage to create a correct context and set a clear color, but I don't manage to draw anything.</p>\n\n<p>Could you help me to understand why?\n(BTW, I feel like I'm doing dirty things. If you have something cleaner to tell me that allows me to embed a GL surface as a widget, tell me!)</p>\n\n<p><strong>My main:</strong></p>\n\n<pre><code>int main(int argc, char **argv)\n{\n  QApplication app(argc, argv);\n\n  QGLFormat glFormat;\n  glFormat.setVersion(3, 3);\n  glFormat.setProfile(QGLFormat::CoreProfile); // Requires &gt;=Qt-4.8.0\n  glFormat.setSampleBuffers(true);\n\n  QWidget window;\n  window.resize(1000, 800);\n  WidgetOpenGL* GL = new WidgetOpenGL(glFormat, &amp;window);\n  GL-&gt;resize(500, 500);\n  window.show();\n\n  //GL-&gt;show();\n\n  return app.exec();\n}\n</code></pre>\n\n<p><strong>WidgetOpenGL.h:</strong></p>\n\n<pre><code>class WidgetOpenGL : public QGLWidget, protected QGLFunctions\n{\n  Q_OBJECT\n\npublic:\n  WidgetOpenGL(const QGLFormat&amp; format, QWidget* parent = nullptr);\n\nprotected:\n  void initializeGL();\n  void paintGL();\n  void resizeGL(int width, int height);\n\nsignals:\n\npublic slots :\n};\n</code></pre>\n\n<p><strong>Implementation:</strong></p>\n\n<pre><code>#include \"widgetopengl.h\"\n\nWidgetOpenGL::WidgetOpenGL(const QGLFormat&amp; format, QWidget* parent) : QGLWidget(format, parent), QGLFunctions()\n{\n    makeCurrent();\n    initializeGLFunctions(context());    \n}\n\nvoid WidgetOpenGL::initializeGL()\n{\n    glClearColor(0.0f, 0.5f, 1.0f, 1.0f);    \n\n    glEnable(GL_DEPTH_TEST);    \n}\n\nvoid WidgetOpenGL::paintGL()\n{\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    float vertices[] = {-0.5, -0.5,   0.0, 0.5,   0.5, -0.5};    \n\n    glVertexAttribPointer(0, 2, GL_FLOAT, GL_FALSE, 0, vertices);\n    glEnableVertexAttribArray(0);\n\n    glDrawArrays(GL_TRIANGLES, 0, 3);   \n\n    glDisableVertexAttribArray(0);        \n}\n\nvoid WidgetOpenGL::resizeGL(int width, int height)\n{\n    int side = qMin(width, height);\n    glViewport((width - side) / 2, (height - side) / 2, side, side);    \n}\n</code></pre>\n"}, {"tags": ["c++", "regex", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461176042, "post_id": 36751460, "comment_id": 61084194, "body": "Good answers I am writing up a full answer, but I changed the regular expression patter to ^((0[1-9])|(1[0-2]))\\/(\\d{4})$ to match MM/YYYY But it isn&#39;t working. Where is the error?"}, {"owner": {"reputation": 1368, "user_id": 1599940, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7KpaW.png?s=128&g=1", "display_name": "rootatdarkstar", "link": "https://stackoverflow.com/users/1599940/rootatdarkstar"}, "reply_to_user": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 1, "creation_date": 1461176261, "post_id": 36751460, "comment_id": 61084335, "body": "It&#39;s still return 0? Can you give output from terminal? And why you compiles pattern twice?"}, {"owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461176312, "post_id": 36751460, "comment_id": 61084365, "body": "I just noticed that. I removed the extra regcomp."}, {"owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461176422, "post_id": 36751460, "comment_id": 61084438, "body": "With the new pattern, Receiving error in regexec: undefined. Am I not escaping it properly?"}, {"owner": {"reputation": 1368, "user_id": 1599940, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7KpaW.png?s=128&g=1", "display_name": "rootatdarkstar", "link": "https://stackoverflow.com/users/1599940/rootatdarkstar"}, "reply_to_user": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461176838, "post_id": 36751460, "comment_id": 61084688, "body": "Maybe / must be \\/ to be properly escaped. Also your new regex doesn&#39;t match something like 04/1984. Try something simpler like ^(\\\\d{2})\\\\/(\\\\d{4})$"}, {"owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461177096, "post_id": 36751460, "comment_id": 61084836, "body": "Actually, also receive an undefined error with &quot;^(\\\\d{2})\\\\/(\\\\d{4})$&quot; I am sure the problem I am having is improper escaping?"}, {"owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "edited": false, "score": 0, "creation_date": 1461177515, "post_id": 36751460, "comment_id": 61085094, "body": "Wait a minute, why wouldn&#39;t &quot;^((0[1-9])|(1[0-2]))\\/(\\d{4})$&quot; match 04/1984? I also tried backspacing the &#39;(&#39; and &#39;)&#39; &quot;^\\&#40;\\\\d{2})\\\\/\\&#40;\\\\d{4}\\&#41;$&quot;;"}], "tags": [], "owner": {"reputation": 1368, "user_id": 1599940, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7KpaW.png?s=128&g=1", "display_name": "rootatdarkstar", "link": "https://stackoverflow.com/users/1599940/rootatdarkstar"}, "is_accepted": false, "score": 2, "last_activity_date": 1461174579, "creation_date": 1461174579, "answer_id": 36751460, "question_id": 36751053, "link": "https://stackoverflow.com/questions/36751053/ensuring-user-input-of-date-is-in-mm-yy/36751460#36751460", "title": "Ensuring user input of date is in (MM/YY)", "body": "<p>At first your regex must be <code>\"^[0-9][0-9]\\\\/[0-9][0-9][0-9][0-9]$\"</code> to match <code>MM/YYYY</code>.</p>\n\n<p>At second you never compiles it. You compile inputDate.</p>\n\n<pre><code>regcomp(&amp;preg, inputDate, REG_EXTENDED)\n</code></pre>\n\n<p>Try to compile your pattern:</p>\n\n<pre><code>regcomp(&amp;preg, pattern, REG_EXTENDED)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 5258433, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/3492395b6814580f5500046f18a72a08?s=128&d=identicon&r=PG&f=1", "display_name": "mask", "link": "https://stackoverflow.com/users/5258433/mask"}, "is_accepted": false, "score": 1, "last_activity_date": 1461175255, "creation_date": 1461175255, "answer_id": 36751683, "question_id": 36751053, "link": "https://stackoverflow.com/questions/36751053/ensuring-user-input-of-date-is-in-mm-yy/36751683#36751683", "title": "Ensuring user input of date is in (MM/YY)", "body": "<p>Remove <code>$</code> from the end of the pattern and try this:</p>\n\n<pre><code>if (0 != (rs = regcomp(&amp;preg, pattern, 0))) {\n    perror(\"ERROR IN REGCOMP\");\n    exit(1);\n}\n\nif (0 != (rs = regexec(&amp;preg, inputDate, nmatch, pmatch, 0))) {\n    printf(\"Failed to match '%s' with '%s',returning %d.\\n\",\n    inputDate, pattern, rs);\n    perror(\"ERROR IN REGEXEC\");\n}\nelse \n{\n    printf(\"Match\");\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5849840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1de7d0709948b61d0afe6dd87dac15c4?s=128&d=identicon&r=PG&f=1", "display_name": "amol_Dee_sandwich", "link": "https://stackoverflow.com/users/5849840/amol-dee-sandwich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461176286, "creation_date": 1461173367, "last_edit_date": 1461176286, "question_id": 36751053, "link": "https://stackoverflow.com/questions/36751053/ensuring-user-input-of-date-is-in-mm-yy", "title": "Ensuring user input of date is in (MM/YY)", "body": "<p>I need to verify that user input of a date is in the format of MM/YYYY.\n<br>I have decided to use the regcomp and regexec functions as my solution. \n<br><strong>The problem is:</strong> No matter the input the output is <strong>always Match</strong>. And the <strong>return value of the call to regexec is 0</strong>, indicating a match even if there truly isn't one. <br>Why is this happening?\n<br> I know the regex I am using will match 99/99, but I am first trying to figure out why it is matching ABCDE as well. \n<br>Below is the code in question:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;regex.h&gt;\nusing namespace std;\nint main(int argc, char ** argv)\n{\n        int rs;\n        regex_t preg;\n        size_t     nmatch = 1;\n        regmatch_t pmatch[1];\n        char * pattern = \"^((0[1-9])|(1[0-2]))\\/(\\d{4})$\";\n        char inputDate[8];\n\n//Loop until user input matches regex\n        cout &lt;&lt; \"Enter Date: \";\n        cin.getline(inputDate, 8);\n\n        if (0 != (rs = regcomp(&amp;preg, pattern, 0))) {\n                perror(\"ERROR IN REGCOMP\");\n                exit(1);\n        }\n\n        if (0 != (rs = regexec(&amp;preg, inputDate, nmatch, pmatch, 0))) {\n                 printf(\"Failed to match '%s' with '%s',returning %d.\\n\", inputDate, pattern, rs);\n                perror(\"ERROR IN REGEXEC\");\n        }\n        else\n                printf(\"Match\");\n\n        return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 1825, "user_id": 2671214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v464b.jpg?s=128&g=1", "display_name": "Tomasz Lewowski", "link": "https://stackoverflow.com/users/2671214/tomasz-lewowski"}, "edited": false, "score": 0, "creation_date": 1461173526, "post_id": 36751049, "comment_id": 61082636, "body": "do you join all threads before exiting (returning from the main function)?"}, {"owner": {"reputation": 107, "user_id": 4267249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64524a803712498fdda3494733a81dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mario_2207", "link": "https://stackoverflow.com/users/4267249/mario-2207"}, "edited": false, "score": 0, "creation_date": 1461176414, "post_id": 36751049, "comment_id": 61084432, "body": "I don&#39;t explicitly use multi-threading inside my application. My code is 1000 lines, and the problem doesn&#39;t seem code specific because as I mentioned I see that all my code is being executed just fine (by looking at the log file)."}, {"owner": {"reputation": 107, "user_id": 4267249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64524a803712498fdda3494733a81dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mario_2207", "link": "https://stackoverflow.com/users/4267249/mario-2207"}, "edited": false, "score": 0, "creation_date": 1461177045, "post_id": 36751049, "comment_id": 61084803, "body": "Voting to close just because I didn&#39;t post some code is not fair of you. At least you could ask if I can post some code first (and I explained why not). The question doesn&#39;t need code. I am basically asking why would a C++ console application not exit the process even after reaching return 0."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1461177287, "post_id": 36751049, "comment_id": 61084959, "body": "1000 lines of code you don&#39;t want to post here. Sadly we cant do a hell of a lot without it. After <code>return 0</code>, all of the variables on <code>main</code>&#39;s stack will be destroyed followed by any global variables. One of the destructors is likely hanging. One suggestion is place a log message at the end of each of your destructors to see if it&#39;s one of yours."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461177746, "post_id": 36751049, "comment_id": 61085218, "body": "<b><i>Sadly we cant do a hell of a lot without it</i></b> That is the problem."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461177850, "post_id": 36751049, "comment_id": 61085279, "body": "<b><i>I am basically asking why would a C++ console application not exit the process even after reaching return 0</i></b> Looks like it is waiting on a synchronization object."}, {"owner": {"reputation": 107, "user_id": 4267249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64524a803712498fdda3494733a81dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mario_2207", "link": "https://stackoverflow.com/users/4267249/mario-2207"}, "edited": false, "score": 0, "creation_date": 1461179415, "post_id": 36751049, "comment_id": 61086265, "body": "My code doesn&#39;t have any classes. It contains 2 structs, main method, and 5 other methods used throughout. Thanks all for trying."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461182936, "post_id": 36751049, "comment_id": 61088509, "body": "<code>struct</code>s are <code>class</code>es. Sounds strange, but true. This is a bit simplistic, but picture a <code>struct</code> as being a <code>class</code> with <code>public:</code> on the first line of the body. Anyway, if it&#39;s not you it&#39;s most likely ODBC, with which I have too little familiarity to make intelligent suggestions. Have you tried attaching your development environment&#39;s debugger to one of the hung processes? You should be able to pause and get a stack trace with function names  to help you narrow down just who is blocked."}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 4267249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64524a803712498fdda3494733a81dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mario_2207", "link": "https://stackoverflow.com/users/4267249/mario-2207"}, "is_accepted": true, "score": 1, "last_activity_date": 1462379078, "last_edit_date": 1462379078, "creation_date": 1461855871, "answer_id": 36918558, "question_id": 36751049, "link": "https://stackoverflow.com/questions/36751049/c-console-application-not-returning/36918558#36918558", "title": "C++ console application not returning", "body": "<p>I resolved my issue. </p>\n\n<p>The hang was caused by the ODBC call <code>SQLFreeHandle(SQL_HANDLE_DBC, hDbc);</code></p>\n\n<p>Here's my original code that contains the issue:</p>\n\n<pre><code>if (hStmt != SQL_NULL_HSTMT)\n    SQLFreeHandle(SQL_HANDLE_STMT, hStmt);\n\nif (hDbc != SQL_NULL_HDBC) {\n    SQLDisconnect(hDbc);\n    SQLFreeHandle(SQL_HANDLE_DBC, hDbc);\n}\n\nif (hEnv != SQL_NULL_HENV)\n    SQLFreeHandle(SQL_HANDLE_ENV, hEnv);\n</code></pre>\n\n<p>Since I'm disconnecting hDbc using <code>SQLDisconnect(hDbc);</code> then the call to <code>SQLFreeHandle(SQL_HANDLE_DBC, hDbc);</code> is causing the application to hang. The code execution continues and completes but the process hangs in waiting status.</p>\n\n<p>After I removed <code>SQLFreeHandle(SQL_HANDLE_DBC, hDbc);</code> the process no longer hangs.</p>\n"}], "owner": {"reputation": 107, "user_id": 4267249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64524a803712498fdda3494733a81dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mario_2207", "link": "https://stackoverflow.com/users/4267249/mario-2207"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "closed_date": 1461856088, "accepted_answer_id": 36918558, "answer_count": 1, "score": 0, "last_activity_date": 1462379078, "creation_date": 1461173357, "question_id": 36751049, "link": "https://stackoverflow.com/questions/36751049/c-console-application-not-returning", "closed_reason": "Not suitable for this site", "title": "C++ console application not returning", "body": "<p>I am running a C++ console application from the command line. The application queries data from a database system using ODBC and dumps the data into a text file. Occasionally, and especially when running few at the same time, the application doesn't return back leaving the command prompt waiting. I can't even stop it using ctrl-C. I have to use End-Task from Task Manager or ProcMon. I use fprintf at every step in the code and write to a separate log file, and I see that the application reached the end and supposedly called <code>return 0</code>. When it doesn't hang, the application takes about 40 seconds to query and dump the data. When the application hangs, I see that the log file and data dump files are generated as expected. \nI use ProcMon and I see that the thread is waiting for itself. I get this message: </p>\n\n<blockquote>\n  <p>one or more threads of odbcsql.exe are in waiting status.</p>\n</blockquote>\n\n<p>This is the stack trace that I find through ProcMon:</p>\n\n<ul>\n<li>ntoskrnl.exe!KeSynchronizeExecution+0x2246</li>\n<li>ntoskrnl.exe!KeWaitForMultipleObjects+0x135e</li>\n<li>ntoskrnl.exe!KeWaitForMultipleObjects+0xdd9</li>\n<li>ntoskrnl.exe!KeWaitForSingleObject+0x373</li>\n<li>ntoskrnl.exe!KeStallWhileFrozen+0x1977</li>\n<li>ntoskrnl.exe!KeIsAttachedProcess+0x95d</li>\n<li>ntoskrnl.exe!KeWaitForMultipleObjects+0x152f</li>\n<li>ntoskrnl.exe!KeWaitForMultipleObjects+0xdd9</li>\n<li>ntoskrnl.exe!KeWaitForSingleObject+0x373</li>\n<li>ntoskrnl.exe!NtWaitForSingleObject+0xb2</li>\n<li>ntoskrnl.exe!setjmpex+0x34a3</li>\n<li>wow64cpu.dll!TurboDispatchJumpAddressEnd+0x598</li>\n<li>wow64cpu.dll!TurboDispatchJumpAddressEnd+0x3e4</li>\n<li>wow64.dll!Wow64LdrpInitialize+0x23a</li>\n<li>wow64.dll!Wow64LdrpInitialize+0x172</li>\n<li>ntdll.dll!LdrInitShimEngineDynamic+0x23d5</li>\n<li>ntdll.dll!memset+0xdd1e</li>\n<li>ntdll.dll!LdrInitializeThunk+0xe</li>\n<li>UMEngx86.dll+0x242f</li>\n<li>UMEngx86.dll+0x1ec5</li>\n<li>UMEngx86.dll!_RegQueryValueExW@24+0x1ba4</li>\n<li>UMEngx86.dll!_RegQueryValueExW@24+0x18b2</li>\n<li>UMEngx86.dll!_RegQueryValueExW@24+0x17f4</li>\n<li>ntdll.dll!RtlInitializeCriticalSection+0x10e</li>\n<li>ntdll.dll!RtlInitializeCriticalSection+0x88</li>\n<li>ntdll.dll!RtlReportSilentProcessExit+0x108</li>\n<li>ntdll.dll!RtlExitUserProcess+0x81</li>\n<li>odbcsql.exe+0x2f0c</li>\n<li>odbcsql.exe+0x3185</li>\n<li>ntdll.dll!RtlInitializeExceptionChain+0x8f</li>\n<li>ntdll.dll!RtlInitializeExceptionChain+0x5a</li>\n</ul>\n\n<p>Any ideas or suggestions?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "2d", "game-physics", "sfml"], "comments": [{"owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "edited": false, "score": 0, "creation_date": 1461175081, "post_id": 36751005, "comment_id": 61083601, "body": "Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It&#39;s almost impossible to tell what&#39;s wrong otherwise."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4440095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_V0voyXRtW8/AAAAAAAAAAI/AAAAAAAAADI/VIdDIn7kzTo/photo.jpg?sz=128", "display_name": "Accepted anull", "link": "https://stackoverflow.com/users/4440095/accepted-anull"}, "edited": false, "score": 0, "creation_date": 1461174253, "post_id": 36751179, "comment_id": 61083108, "body": "No, the jumpSpeed is for jumping and gravity is applied if the sprite is not colliding with the ground anymore."}], "tags": [], "owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1461173689, "creation_date": 1461173689, "answer_id": 36751179, "question_id": 36751005, "link": "https://stackoverflow.com/questions/36751005/how-can-i-stop-my-sprite-from-jolting-up-in-air-in-sfml/36751179#36751179", "title": "How can I stop my sprite from jolting up in air in SFML?", "body": "<p>In this part, shouldn't you use gravity instead of jumpspeed?</p>\n\n<pre><code>if (!isJumping &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Space))\n{\n    //velocity.y -= jumpSpeed * deltaTime.asSeconds();\n    //              ^ should this jumpSpeed be gravity?\n    velocity.y = jumpSpeed;\n    velocity.y -=  gravity * deltaTime.asSeconds();\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4440095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_V0voyXRtW8/AAAAAAAAAAI/AAAAAAAAADI/VIdDIn7kzTo/photo.jpg?sz=128", "display_name": "Accepted anull", "link": "https://stackoverflow.com/users/4440095/accepted-anull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1461244247, "creation_date": 1461173229, "last_edit_date": 1461244247, "question_id": 36751005, "link": "https://stackoverflow.com/questions/36751005/how-can-i-stop-my-sprite-from-jolting-up-in-air-in-sfml", "title": "How can I stop my sprite from jolting up in air in SFML?", "body": "<p>How can I stop my sprite from suddenly jolting up in air when I press jump?</p>\n\n<p>My code:</p>\n\n<pre><code>sf::Vector2f velocity, position;\nconst float speed,gravity,jumpSpeed;\nbool groundCollision,jumping;\n\nif (!groundCollision) {\n    isJumping = true;\n    velocity.y += gravity;\n} else {\n    isJumping = false;\n}\nif (!isJumping &amp;&amp; sf::Keyboard::isKeyPressed(sf::Keyboard::Space)) {\n    velocity.y -= jumpSpeed;\n}\n</code></pre>\n\n<p>I want my sprite to jump up and come down smoothly when I press jump now it suddenly jolts up but comes back down smoothly.</p>\n"}, {"tags": ["c++", "doubly-linked-list", "member-variables", "member-pointers"], "comments": [{"owner": {"reputation": 2165, "user_id": 2113881, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/SvllB.png?s=128&g=1", "display_name": "Evan Carslake", "link": "https://stackoverflow.com/users/2113881/evan-carslake"}, "edited": false, "score": 0, "creation_date": 1461173402, "post_id": 36750977, "comment_id": 61082559, "body": "What exactly are you asking? and could you only post the code that is in question?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 3, "creation_date": 1461173428, "post_id": 36750977, "comment_id": 61082574, "body": "Implementing the &quot;big tree&quot; is not a nice-to-have, but a must in your case."}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 2, "last_activity_date": 1461174929, "last_edit_date": 1495541772, "creation_date": 1461173981, "answer_id": 36751280, "question_id": 36750977, "link": "https://stackoverflow.com/questions/36750977/dereferencing-a-member-pointer/36751280#36751280", "title": "Dereferencing a member Pointer", "body": "<blockquote>\n  <p>Node (I know this doesn't implement 'the big three', I would rather keep this class to a minimum):</p>\n</blockquote>\n\n<p>You should note that the copy/move constructors and assignment operators are still provided as <a href=\"https://stackoverflow.com/questions/2380747/compiler-generated-constructors\">compiler generated default versions</a>.</p>\n\n<p>To avoid that in cases you won't want to implement the <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\"><em>big three (or five)</em></a> you'll need to explicitly <code>delete</code> them:</p>\n\n<pre><code>class String{\n    public:\n    int len;\n    char *str;\n\n    String()\n    :len(0), str(nullptr){}\n\n    String(char const* S)\n    :len(strlen(S)), str(new char[len +1]){\n        assert(S != 0);\n        strcpy(str, S);\n    }\n\n    // Add these:\n    String(const String&amp;) = delete;\n    String(String&amp;&amp;) = delete;\n    String&amp; operator=(const String&amp;) = delete;\n    String&amp; operator=(String&amp;&amp;) = delete;\n\n    ~String(){\n        delete[]str;\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5971811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b2a43df97ca256f9306ce4c1e19cffd2?s=128&d=identicon&r=PG&f=1", "display_name": "iambicSam", "link": "https://stackoverflow.com/users/5971811/iambicsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1461174929, "creation_date": 1461173146, "question_id": 36750977, "link": "https://stackoverflow.com/questions/36750977/dereferencing-a-member-pointer", "title": "Dereferencing a member Pointer", "body": "<p>I am implementing a doubly linked list and I am getting a segfault when I try to access a member veritable of an object pointed at by a member pointer.  My linked list is composed of Nodes, which have a value and a next and previous pointer</p>\n\n<p>String (This is the bare bones implementation from a previous project):</p>\n\n<pre><code>class String{\n    public:\n    int len;\n    char *str;\n\n    String()\n    :len(0), str(nullptr){}\n\n    String(char const* S)\n    :len(strlen(S)), str(new char[len +1]){\n        assert(S != 0);\n        strcpy(str, S);\n    }\n\n    ~String(){\n        delete[]str;\n    }\n};\n</code></pre>\n\n<p>Node (I know this doesn't implement 'the big three', I would rather keep this class to a minimum):</p>\n\n<pre><code>#include &lt;initializer_list&gt;\n\n    template&lt;typename T&gt;\n    struct Node{\n      T value;\n      Node* next;\n      Node* prev;\n\n      Node() = default;\n      Node(T t, Node* n, Node* p)\n      :value(t), next(n), prev(p){}\n\n      Node &amp; operator=(const Node &amp; N){\n        value = N.value;\n        next = N.next;\n        prev = N.prev;\n        return *this;\n      }\n    };\n</code></pre>\n\n<p>Doubly linked list:</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct List\n{\n  List(std::initializer_list&lt;T&gt;);\n  Node&lt;T&gt;* head;\n  Node&lt;T&gt;* tail;\n  List()\n  :head(nullptr), tail(nullptr){}\n\n  //copy constructor\n  List(const List&lt;T&gt; &amp; l){\n    Node&lt;T&gt;* p = l.head;\n    head = p;\n    Node&lt;T&gt;* past;\n    while(p){\n      Node&lt;T&gt;* q = new Node&lt;T&gt;;\n      *q = *p;\n      if(head == p){\n        head = q;\n      }else{\n        past-&gt;next = q;\n        q-&gt;prev = past;\n      }\n      past = q;\n      p = q-&gt;next;\n    }\n    tail = past;\n  }\n\n\n  //copy assignment\n  List &amp; operator=(const List &amp; L){\n    List temp = L;\n    swap (*this, temp);\n    return *this;\n  }\n\n  Node&lt;T&gt;* getHead()const{\n    return head;\n  }\n\n  Node&lt;T&gt;* getTail()const{\n    return tail;\n  }\n\n  void swap(List a, List b){\n    Node&lt;T&gt;* temp1 = a.getHead();\n    Node&lt;T&gt;* temp2 = a.getTail();\n\n    a.head = b.getHead();\n    a.tail = b.tail;\n    b.head = temp1;\n    b.tail = temp2;\n  }\n\n  void push_back(T t){\n    Node&lt;T&gt;* p = new Node&lt;T&gt;(t, nullptr, tail);\n    if(tail){\n      tail-&gt;next = p; //Segfault occurs here\n    }else{\n      head = p;\n    }\n    tail = p;\n  }\n\n  int compare(const List&lt;T&gt; &amp; b)const{\n    Node&lt;T&gt;* temp1 = this-&gt;head;\n    Node&lt;T&gt;* temp2 = b.head;\n    while (temp1 != this-&gt;tail &amp;&amp; temp2 != b.tail) {\n      if (temp1-&gt;value &lt; temp2-&gt;value)\n        return -1;\n      if (temp2-&gt;value &lt; temp1-&gt;value)\n        return 1;\n    }\n    if (temp1 == this-&gt;tail) {\n      if (temp2 != this-&gt;tail)\n        return -1; // [first1, last1) is a prefix of [first2, last2)\n      else\n        return 0;  // [first1, last1) and [first2, last2) are equivalent\n    }\n    else {\n      return 1;    // [first2, last1) is a prefix  of [first1, last1)\n    }\n  }\n\n  size_t size()const{\n    size_t n = 0;\n    Node&lt;T&gt; *p = head;\n    while (p){\n      ++n;\n      p = p-&gt;next;\n    }\n    return n;\n  }\n\n  void clear(){\n    Node&lt;T&gt; *p = head;\n    while(p){\n      Node&lt;T&gt;* q = p-&gt; next;\n      delete[] p;\n      p = q;\n    }\n    head = tail = nullptr;\n  }\n\n  ~List&lt;T&gt;(){\n    clear();\n  }\n};\n\ntemplate&lt;typename T&gt;\nList&lt;T&gt;::List(std::initializer_list&lt;T&gt; list)\n{\n  for (T const&amp; elem : list)\n    push_back(elem);\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>int main()\n{\n    List&lt;String&gt; v1 =  {\"a\", \"b\", \"c\"}; //segfault occurs on second pass of initialization loop\n    return 0;\n}\n</code></pre>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["c++", "stl-algorithm"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 3, "creation_date": 1461172454, "post_id": 36750736, "comment_id": 61082034, "body": "You are very close to your solution: there is <code>std::count_if</code>"}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 3, "creation_date": 1461172597, "post_id": 36750736, "comment_id": 61082117, "body": "<code>std::count_if(v.begin(), v.end(), std::bind2nd(std::greater&lt;int&gt;(), 0))</code>"}, {"owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1461172624, "post_id": 36750736, "comment_id": 61082135, "body": "@milleniumbug, thanks a lot! I think I skipped it somehow..."}], "answers": [{"tags": [], "owner": {"reputation": 1825, "user_id": 2671214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v464b.jpg?s=128&g=1", "display_name": "Tomasz Lewowski", "link": "https://stackoverflow.com/users/2671214/tomasz-lewowski"}, "is_accepted": true, "score": 12, "last_activity_date": 1461172588, "last_edit_date": 1461172588, "creation_date": 1461172539, "answer_id": 36750788, "question_id": 36750736, "link": "https://stackoverflow.com/questions/36750736/is-there-a-function-to-count-all-positive-numbers-in-a-vector/36750788#36750788", "title": "Is there a function to count all positive numbers in a vector?", "body": "<p>The closest would be <code>std::count_if</code>.</p>\n\n<p>You can use it like that:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nint count_bigger(const std::vector&lt;int&gt;&amp; elems) {\n    return std::count_if(elems.begin(), elems.end(), [](int c){return c &gt; 0;});\n}\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 5732531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/1yaO5.png?s=128&g=1", "display_name": "lil broomstick", "link": "https://stackoverflow.com/users/5732531/lil-broomstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1696, "favorite_count": 0, "accepted_answer_id": 36750788, "answer_count": 1, "score": 3, "last_activity_date": 1461173081, "creation_date": 1461172370, "question_id": 36750736, "link": "https://stackoverflow.com/questions/36750736/is-there-a-function-to-count-all-positive-numbers-in-a-vector", "title": "Is there a function to count all positive numbers in a vector?", "body": "<p>I'm in a search of a function that can count all positive numbers in a <code>vector</code>! And I need your help. The only function that I've found so far is <code>std::count()</code> from <code>algorithm</code>, but it only searches the container for elements equivalent to a certain value. Maybe there is a way to make this function search for matches in a certain range (this range will be from 1 to +infinity in my case)? Thanks.</p>\n"}, {"tags": ["c++", "opencv", "frame", "video-capture", "ip-camera"], "comments": [{"owner": {"reputation": 326, "user_id": 2619740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714f05b64baf3ddf712192a49e225563?s=128&d=identicon&r=PG", "display_name": "Elmira", "link": "https://stackoverflow.com/users/2619740/elmira"}, "edited": false, "score": 1, "creation_date": 1461174148, "post_id": 36750685, "comment_id": 61083035, "body": "A very good example of using grab function can be found here <a href=\"https://github.com/Itseez/opencv/blob/master/samples/cpp/openni_capture.cpp\" rel=\"nofollow noreferrer\">github.com/Itseez/opencv/blob/master/samples/cpp/&hellip;</a> Make sure you do the essential checks in every step. checking if video capture is open is good but not enough."}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1461185063, "post_id": 36750685, "comment_id": 61089883, "body": ".read() is the same as .grab followed by .retrieve so your app is reading a frame and then tries to read a 2nd frame, which means to wait until a new frame is available (depending on fps it can need some time...)"}, {"owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461191933, "post_id": 36750685, "comment_id": 61092903, "body": "@Micka I tried the three options separate, all of them keep blocking the program at some point...I think I need some sort of validation or waiting time.. Any ideas?"}, {"owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461192464, "post_id": 36750685, "comment_id": 61093093, "body": "@Micka I added some example code"}, {"owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "reply_to_user": {"reputation": 326, "user_id": 2619740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714f05b64baf3ddf712192a49e225563?s=128&d=identicon&r=PG", "display_name": "Elmira", "link": "https://stackoverflow.com/users/2619740/elmira"}, "edited": false, "score": 0, "creation_date": 1461192576, "post_id": 36750685, "comment_id": 61093134, "body": "@Elmira Thanks for the suggestion. I check and I think im doing the same thing, do you think i&#39;m missing anything from the example you showed me?"}], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "edited": false, "score": 0, "creation_date": 1461250447, "post_id": 36756653, "comment_id": 61123582, "body": "Thanks for your help! I will check it out. The thing is that I am on linux, any thoughts on that?"}, {"owner": {"reputation": 3225, "user_id": 5294258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5270296f9c4ec3fae89195328e9bc7?s=128&d=identicon&r=PG&f=1", "display_name": "sturkmen", "link": "https://stackoverflow.com/users/5294258/sturkmen"}, "reply_to_user": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "edited": false, "score": 1, "creation_date": 1461251028, "post_id": 36756653, "comment_id": 61124042, "body": "if you read comments <a href=\"https://github.com/Itseez/opencv/pull/6053\" rel=\"nofollow noreferrer\">here</a> you will see my comment asking how to update opencv_ffmpeg.dll for windows. you could ask there how about linux."}, {"owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "edited": false, "score": 0, "creation_date": 1461268313, "post_id": 36756653, "comment_id": 61134667, "body": "UPDATE: I asked and I was told &quot;There is no separate opencv_ffmpeg.dll on Linux. To enable ffmpeg support in OpenCV you need to install ffmpeg development packages (-dev/-devel, depends on Linux distribution) and rerun OpenCV CMake&quot;"}], "tags": [], "owner": {"reputation": 3225, "user_id": 5294258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c5270296f9c4ec3fae89195328e9bc7?s=128&d=identicon&r=PG&f=1", "display_name": "sturkmen", "link": "https://stackoverflow.com/users/5294258/sturkmen"}, "is_accepted": false, "score": 3, "last_activity_date": 1461192981, "creation_date": 1461192981, "answer_id": 36756653, "question_id": 36750685, "link": "https://stackoverflow.com/questions/36750685/c-suddenly-blocks-on-reading-a-frame-from-ip-camera-using-videocapture/36756653#36756653", "title": "C++ suddenly blocks on reading a frame from IP camera using VideoCapture", "body": "<p>this issue is solved by <a href=\"https://github.com/Itseez/opencv/pull/6053\" rel=\"nofollow\">this merge</a> but unfortunetely opencv_ffmpeg.dll is not released yet.</p>\n\n<p>you can find <a href=\"https://github.com/alalek/opencv_3rdparty/tree/ffmpeg/master_20160207/ffmpeg\" rel=\"nofollow\">here</a> updated opencv_ffmpeg.dll and test.</p>\n"}], "owner": {"reputation": 341, "user_id": 2686308, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a27c90248db6cd19203c575efac5514?s=128&d=identicon&r=PG&f=1", "display_name": "paty.r15", "link": "https://stackoverflow.com/users/2686308/paty-r15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1461192981, "creation_date": 1461172204, "last_edit_date": 1461192420, "question_id": 36750685, "link": "https://stackoverflow.com/questions/36750685/c-suddenly-blocks-on-reading-a-frame-from-ip-camera-using-videocapture", "title": "C++ suddenly blocks on reading a frame from IP camera using VideoCapture", "body": "<p>I'm using OpenCV 3. Grabbing a frame using VideoCapture with an IP Camera is blocking if the camera goes disconnected from the network or there is an issue with a frame.\nI first check if <code>videoCapture.isOpened()</code>. If it is, I tried these methods but nothing seems to work:</p>\n\n<p><strong>1) grabber >> frame</strong></p>\n\n<pre><code>if(grabber.isOpened()) {\n    grabber &gt;&gt; frame; \n    // DO SOMETHING WITH FRAME\n}\n</code></pre>\n\n<p><strong>2) read</strong></p>\n\n<pre><code>if(grabber.isOpened()) {\n    if(!grabber.grab()){\n      cout &lt;&lt; \"failed to grab from camera\" &lt;&lt; endl;\n    } else {\n      if (grabber.retrieve(frame,0) ){\n        // DO SOMETHING WITH FRAME\n      } else {\n        // SHOW ERROR\n      }\n    }\n}\n</code></pre>\n\n<p><strong>3) grab/retrieve</strong></p>\n\n<pre><code>if(grabber.isOpened()) {\n    if ( !grabber.read(frame) ) {\n      cout &lt;&lt; \"Unable to retrieve frame from video stream.\" &lt;&lt; endl;\n    }\n    else {\n     // DO SOMETHING WITH FRAME\n    } \n}\n</code></pre>\n\n<p>The video stream gets stuck at some point grabbing a frame with all of the previous options, each one blocks but doesn't exit or returns any error.</p>\n\n<p>Do you know if there is a way to handle or solve this? Maybe some validations, try/catch or timer?</p>\n"}, {"tags": ["c++", "opengl", "rotation", "sdl-2"], "answers": [{"tags": [], "owner": {"reputation": 275, "user_id": 6214655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd16bee062fa8be2bf7f7b8710dcad5e?s=128&d=identicon&r=PG&f=1", "display_name": "Entropy", "link": "https://stackoverflow.com/users/6214655/entropy"}, "is_accepted": true, "score": 0, "last_activity_date": 1461178584, "creation_date": 1461178584, "answer_id": 36752747, "question_id": 36750609, "link": "https://stackoverflow.com/questions/36750609/glrotatef-rotates-the-camera-instead-of-the-object/36752747#36752747", "title": "glRotatef rotates the camera instead of the object", "body": "<p>Try changing:</p>\n\n<pre><code>matModelView = matModelView * rotation;\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>matModelView = rotation * matModelView;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2337191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 36752747, "answer_count": 1, "score": 0, "last_activity_date": 1461178584, "creation_date": 1461171998, "question_id": 36750609, "link": "https://stackoverflow.com/questions/36750609/glrotatef-rotates-the-camera-instead-of-the-object", "title": "glRotatef rotates the camera instead of the object", "body": "<p>I need to create a virtual trackball with c++. I have made all the calculations and I can find the rotation angle and axis values. My object rotates as I intented with every mouse drag but the problem is after every rotation it goes back to its initial position. </p>\n\n<p>So I figured out that I need to get the current modelview matrix, multiply it by the rotation matrix then load the result back to the opengl. </p>\n\n<p>I have tried it but unfortunately, glRotatef rotates my camera instead of the object. Here is my function to draw the scene</p>\n\n<pre><code>//--- Drawing code ---------------------------------------\n\n/** Drawing code for one frame. */\nvoid drawGLScene ()\n{\n  // Real time in seconds.\n  GLfloat t = frameStat-&gt;frameStart( width, height );\n\n  // Clear the frame buffer and the depth buffer\n  glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );\n\n  // Set current model-view transform:\n  glLoadIdentity();\n\n  // Looking from \"camera\" to the \"center\" point (y-axis defines the \"up\" vector)\n  gluLookAt( 0.0f, 0.0f, 10.0f,\n             center[ 0 ], center[ 1 ], center[ 2 ],\n             0.0f, 1.0f, 0.0f );\n\n  if (dragging)\n      glLoadMatrixf(matModelView.array());\n\n  glScalef( zoom, zoom, zoom );\n\n#ifdef USE_VBO\n  // scene rendering using VBO buffers:\n  scene.render();\n\n#else\n\n  // client-side vertex arrays (cube):\n  glVertexPointer( 3, GL_FLOAT, 6 * sizeof(GLfloat), vert );    // specify vertex data array\n  glColorPointer( 3, GL_FLOAT, 6 * sizeof(GLfloat), vert + 3 ); // specify vertex color array\n\n  glDrawElements( GL_QUADS, sizeof(ind) / sizeof(GLubyte), GL_UNSIGNED_BYTE, ind );\n\n#endif\n\n  frameStat-&gt;swapBuffers( drawStat );            // SDL_GL_SwapWindow() and frame statistics\n}\n\n//--- Event handling -------------------------------------\n\n/** Function to release/destroy our resources and restore the old desktop. */\nvoid Quit ( int returnCode )\n{\n  scene.deleteBuffers();\n\n  if ( glcontext )\n    SDL_GL_DeleteContext( glcontext );\n\n  // Clean up the window ..\n  SDL_Quit();\n\n  // .. and exit appropriately\n  exit( returnCode );\n}\n</code></pre>\n\n<p>And here is my mouse handling functions, I am excluding the release function since it is trivial.</p>\n\n<pre><code>//--------------------------------------------------------\n//  Mouse handling:\n\nvoid handleMouseMove ( SDL_Event &amp;ev )\n{\n\n  if ( ev.button.button == SDL_BUTTON_LEFT &amp;&amp; dragging )\n  {\n    rotation.set(MI_IDENTITY);\n    rotation.rotate(5, 0.0f, 1.0f, 0.0f);\n    matModelView = matModelView * rotation;\n  }\n}\n\nvoid handleMousePress ( SDL_Event &amp;ev )\n{\n\n  if ( ev.button.button == SDL_BUTTON_LEFT )\n  {\n    dragging   = true;\n    glMatrixMode(GL_MODELVIEW);\n\n    glGetFloatv(GL_MODELVIEW_MATRIX, (GLfloat *)matModelView.array());\n    rotation.set(MI_IDENTITY);\n  }\n}\n</code></pre>\n\n<p><code>matModelView</code> and <code>rotation</code> are 4x4 matrices. In this code, I am not included my trackball calculations. Here, I just expect it to rotate by 5 degree through the x axis as long as mouse dragging . </p>\n\n<p>Maybe it is so simple but I am stuked into this point. Any guideness, code samples would be great.  </p>\n"}, {"tags": ["c++", "codeblocks", "libraries", "sfml"], "comments": [{"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 1, "creation_date": 1461172112, "post_id": 36750521, "comment_id": 61081839, "body": "Welcome to StackOverflow! Please do not post text as image, better include it in a code block."}, {"owner": {"reputation": 381, "user_id": 1462283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/432dc2e4ef6d5364c04dad4468080926?s=128&d=identicon&r=PG", "display_name": "prkist", "link": "https://stackoverflow.com/users/1462283/prkist"}, "edited": false, "score": 1, "creation_date": 1461172137, "post_id": 36750521, "comment_id": 61081856, "body": "The linker is complaining. Have you linked the SFML libraries (and not just included) them?"}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "reply_to_user": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "edited": false, "score": 0, "creation_date": 1461172312, "post_id": 36750521, "comment_id": 61081959, "body": "@Vasfed - not source, he links to a picture of the error messages"}, {"owner": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461172357, "post_id": 36750521, "comment_id": 61081990, "body": "I linked them in the &quot;Linker settings&quot; on the build options. Like the tutorial said."}, {"owner": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461172516, "post_id": 36750521, "comment_id": 61082076, "body": "But If I don&#39;t give the path, how is codeblocks going to know where I put SFML libraries ?"}, {"owner": {"reputation": 16587, "user_id": 177053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6c516626d381a1ea383cedd1799486?s=128&d=identicon&r=PG", "display_name": "Vasfed", "link": "https://stackoverflow.com/users/177053/vasfed"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1461172674, "post_id": 36750521, "comment_id": 61082157, "body": "@KevinDTimm I do not know if the log is copyable, but it&#39;s better to include error text as text, so that question can be searched by these error texts and be of some use to future readers"}, {"owner": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461173153, "post_id": 36750521, "comment_id": 61082409, "body": "Log is not copyable. Edited my post to include my code."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461179472, "post_id": 36750782, "comment_id": 61086302, "body": "<a href=\"http://i.imgur.com/mLvPsGQ.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/mLvPsGQ.jpg</a> Not working. Same errors. Did I do something wrong ?"}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "reply_to_user": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461179910, "post_id": 36750782, "comment_id": 61086577, "body": "<code>graphics, system, windows, main</code> libraries are all in your original link line but there is no <code>main</code> in the new one.  Also, you had <code>-s-d</code>, <code>-a-d</code> and <code>-d</code> as suffixes before but now they are all <code>-d</code>.   Additionally, the errors changed format from <code>sf::String::String</code> to <code>_imp___Zn@sf....</code> now, so you used to have c++ errors, you now have name mangled errors."}, {"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "reply_to_user": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "edited": false, "score": 0, "creation_date": 1461183918, "post_id": 36750782, "comment_id": 61089172, "body": "What was the end result?"}], "tags": [], "owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "is_accepted": true, "score": 2, "last_activity_date": 1461172830, "last_edit_date": 1461172830, "creation_date": 1461172523, "answer_id": 36750782, "question_id": 36750521, "link": "https://stackoverflow.com/questions/36750521/sfml-tutorial-not-even-working/36750782#36750782", "title": "SFML tutorial not even working", "body": "<p>It's very strange to give a library location <code>-L</code> and then explicitly link to the exact library. So, instead of giving the full path to the library, just give it's name. So, instead of <code>..\\..\\..\\..\\..\\LOGICIELS\\CodeBlocks\\SFML\\libs\\libsfml-graphics-s-d.a</code> just say <code>sfml-graphics-s-d</code>. Do this for all libraries</p>\n\n<p>When you see <code>-L..\\..\\..\\..\\..\\..\\LOGICIELS\\CodeBlocks\\SFML\\lib</code> you are telling the compiler (linker) where to find the libraries. The convention with libraries is that they are prefaced with <code>lib</code> and followed by <code>.a</code>.  So, change you library linkage to just the name of your library, sans <code>lib</code> and <code>.a</code></p>\n\n<p>so, after <code>obj\\Debug\\main.o</code>, it should be <code>sfml-grphics-s-d sfml-window-a-d sfml-system-a-d sfml-main-d</code></p>\n"}], "owner": {"reputation": 81, "user_id": 6230450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HfKNZ.jpg?s=128&g=1", "display_name": "Rackover", "link": "https://stackoverflow.com/users/6230450/rackover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 36750782, "answer_count": 1, "score": 0, "last_activity_date": 1607673964, "creation_date": 1461171740, "last_edit_date": 1461173111, "question_id": 36750521, "link": "https://stackoverflow.com/questions/36750521/sfml-tutorial-not-even-working", "title": "SFML tutorial not even working", "body": "<p>I installed SFML on codeblocks with their tutorial, following it step by step. Everything has been checked and done correctly, yet their sample program is not even building correctly. It seems that codeblocks cannot even find the basic functions of SFML. \nWhat did I miss? </p>\n\n<p>Error log :</p>\n\n<p>( <a href=\"http://i.imgur.com/eaGz9HK.jpg\" rel=\"nofollow\">http://i.imgur.com/eaGz9HK.jpg</a> )</p>\n\n<p>My code :</p>\n\n<pre><code>#include &lt;SFML/Graphics.hpp&gt;\n\nint main()\n{\nsf::RenderWindow window(sf::VideoMode(200, 200), \"SFML works!\");\nsf::CircleShape shape(100.f);\nshape.setFillColor(sf::Color::Green);\n\nwhile (window.isOpen())\n{\n    sf::Event event;\n    while (window.pollEvent(event))\n    {\n        if (event.type == sf::Event::Closed)\n            window.close();\n    }\n\n    window.clear();\n    window.draw(shape);\n    window.display();\n}\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 1, "creation_date": 1461171876, "post_id": 36750457, "comment_id": 61081689, "body": "Why isn&#39;t <code>Player.cpp</code> including <code>GameMap.h</code>?"}, {"owner": {"reputation": 10110, "user_id": 1715829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0yet.jpg?s=128&g=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/1715829/buddy"}, "edited": false, "score": 1, "creation_date": 1461171903, "post_id": 36750457, "comment_id": 61081710, "body": "Why do you need to pass a <code>GameMap</code> object into <code>isTileSolid</code> if that&#39;s already a method on a <code>GameMap</code>?"}, {"owner": {"reputation": 2113, "user_id": 4433546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fp46R.jpg?s=128&g=1", "display_name": "TriskalJM", "link": "https://stackoverflow.com/users/4433546/triskaljm"}, "reply_to_user": {"reputation": 10110, "user_id": 1715829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0yet.jpg?s=128&g=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/1715829/buddy"}, "edited": false, "score": 0, "creation_date": 1461171980, "post_id": 36750457, "comment_id": 61081755, "body": "@Buddy It&#39;s possible that GameMap requires a 2nd GameMap, but I doubt that&#39;s the case. Maybe the function is supposed to be static and not inside the class?"}, {"owner": {"reputation": 35, "user_id": 6231468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81752d28ae807ec009e299cf9a932067?s=128&d=identicon&r=PG&f=1", "display_name": "Grzyboo", "link": "https://stackoverflow.com/users/6231468/grzyboo"}, "reply_to_user": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1461171985, "post_id": 36750457, "comment_id": 61081761, "body": "@JamesAdkison Oh, okay, as a stupid Java lover I don&#39;t really understand the headers. Your answer helped."}, {"owner": {"reputation": 35, "user_id": 6231468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81752d28ae807ec009e299cf9a932067?s=128&d=identicon&r=PG&f=1", "display_name": "Grzyboo", "link": "https://stackoverflow.com/users/6231468/grzyboo"}, "reply_to_user": {"reputation": 10110, "user_id": 1715829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c0yet.jpg?s=128&g=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/1715829/buddy"}, "edited": false, "score": 0, "creation_date": 1461172077, "post_id": 36750457, "comment_id": 61081815, "body": "@Buddy That&#39;s my mistake. Indeed, it shouldn&#39;t. I messed up something while rewriting the code so it doesn&#39;t show anything unnecessary here."}], "owner": {"reputation": 35, "user_id": 6231468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81752d28ae807ec009e299cf9a932067?s=128&d=identicon&r=PG&f=1", "display_name": "Grzyboo", "link": "https://stackoverflow.com/users/6231468/grzyboo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461171813, "creation_date": 1461171520, "last_edit_date": 1461171813, "question_id": 36750457, "link": "https://stackoverflow.com/questions/36750457/forward-declaration-vs-using-class-method", "title": "Forward declaration vs using class method", "body": "<p>I have such logics:</p>\n\n<p><code>GameMap</code> includes <code>Player</code>. <code>Player</code> includes <code>Entity</code> (which is a super class of <code>Player</code>). Both <code>Entity</code> and <code>Player</code> use a <code>GameMap</code> object.</p>\n\n<pre><code>// GameMap.h\n#pragma once\n#include \"Player.h\"\nclass GameMap\n{\npublic:\n    bool isTileSolid(GameMap &amp; map, int tileX, int tileY);\n};\n\n\n\n// Player.h\n#pragma once\n#include \"Entity.h\"\nclass Player : public Entity\n{\npublic:\n    bool collides(GameMap &amp; map);\n};\n\n\n// Entity.h\n#pragma once\nclass GameMap; // Forward declaration instead of including GameMap.h (it would not even compile)\nclass Entity {\n};\n\n\n\n\n// Player.cpp\n#include \"stdafx.h\"\n#include \"Player.h\"\nbool Player::collides(GameMap &amp; map)\n{\n    if (map.isTileSolid(map, 0, 0)) // BEEP! incomplete type not allowed\n        return true;\n\n    return false;\n}\n</code></pre>\n\n<p>How can I make the method <code>isTileSolid(...)</code> work inside Player source file? Can I make some kind of forward declaration for the method as well?</p>\n"}, {"tags": ["c++", "multithreading", "qt", "qthread"], "answers": [{"comments": [{"owner": {"reputation": 544, "user_id": 1563074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b16f591204b97e90e811ac664b176e9b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563074/chris"}, "edited": false, "score": 0, "creation_date": 1461177712, "post_id": 36750963, "comment_id": 61085197, "body": "But if I call deleteLater on them, then how can I reuse them? Doesn&#39;t that delete them? Or is a temporary stop?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 544, "user_id": 1563074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b16f591204b97e90e811ac664b176e9b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563074/chris"}, "edited": false, "score": 0, "creation_date": 1461177765, "post_id": 36750963, "comment_id": 61085236, "body": "@user1563074 You delete the worker objects (the subprocesses), not the threads, of course."}, {"owner": {"reputation": 544, "user_id": 1563074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b16f591204b97e90e811ac664b176e9b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563074/chris"}, "edited": false, "score": 0, "creation_date": 1461454255, "post_id": 36750963, "comment_id": 61207615, "body": "If I don&#39;t need to destroy/dispose of the threads, then why do I need a custom Thread class that is safer to destroy. Also, I have updated the code above, and it still yields the same errors."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 544, "user_id": 1563074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b16f591204b97e90e811ac664b176e9b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563074/chris"}, "edited": false, "score": 0, "creation_date": 1461589396, "post_id": 36750963, "comment_id": 61252497, "body": "@user1563074 You&#39;ll dispose of them <i>eventually</i>, I&#39;d think :)"}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1461177826, "last_edit_date": 1495541343, "creation_date": 1461173106, "answer_id": 36750963, "question_id": 36750448, "link": "https://stackoverflow.com/questions/36750448/improperly-terminating-a-thread/36750963#36750963", "title": "Improperly terminating a thread?", "body": "<p>Generally speaking, terminating a running thread leads to undefined behavior (as opposed to a thread that's blocked in a state where other data is consistent). You shouldn't be terminating the threads. Simply execute the <code>deleteLater</code> on the subprocesses, and they'll dispose of themselves automatically. Their threads won't be affected. See <a href=\"https://stackoverflow.com/a/21143459/1329652\">this answer</a> for why it's OK to call <code>deleteLater</code> on objects in other threads.</p>\n\n<p>You should keep a pool of threads for reuse, no need to recreate them. You can even reuse the <code>QThreadQueue</code> for that.</p>\n\n<p>A default <code>QThread</code> is very much unsafe to destroy, and you should use <a href=\"https://stackoverflow.com/a/25230470/1329652\">a version without that deficiency</a> instead, if you can.</p>\n"}], "owner": {"reputation": 544, "user_id": 1563074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b16f591204b97e90e811ac664b176e9b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1563074/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 36750963, "answer_count": 1, "score": 0, "last_activity_date": 1461454348, "creation_date": 1461171502, "last_edit_date": 1461454348, "question_id": 36750448, "link": "https://stackoverflow.com/questions/36750448/improperly-terminating-a-thread", "title": "Improperly terminating a thread?", "body": "<p>I have an n-body simulation that I'm parallelizing. I am using QT, so I have a custom QObject class that has the process that I have parallelized. It is controlled by another QObject inside a thread that just handles the thread. The problem is that every time one object collides with another, all the threads have to be stopped so that they can be deleted, and recreated with a different system of planets. </p>\n\n<p>Here is the thread handler class source:</p>\n\n<pre><code>#include \"threadhandler.h\"\n#include &lt;QEventLoop&gt;\n#include \"subprocess.h\"\n#include &lt;QThread&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;thread&gt;\n#include &lt;chrono&gt;\n\nThreadHandler::ThreadHandler(double scopeX, double scopeY)\n{\nint size = 100;\nint idealNum = QThread::idealThreadCount();\nint sizeForEach = size/idealNum;\n\nfor(int i = 0 ; i&lt; idealNum ;i++){\n   SubProcess* tempSub = new SubProcess(i*sizeForEach, (i+1)*sizeForEach, scopeX, scopeY);\n   QThread* tempThread = new QThread;\n   tempSub-&gt;moveToThread(tempThread);\n   QEventLoop::connect(tempSub, SIGNAL(finished()), tempThread, SLOT(deleteLater()));\n   QEventLoop::connect(tempThread, SIGNAL(started()), tempSub, SLOT(process()));\n   QEventLoop::connect(tempThread, SIGNAL(finished()), tempSub, SLOT(deleteLater()));\n   QEventLoop::connect(tempSub, SIGNAL(collided()), this,\n                       SLOT(refactorObjects()));\n   ThreadHandler::threads.push_back(tempThread);\n   ThreadHandler::objects.push_back(tempSub);\n}\n}\n\nvoid ThreadHandler::process(){\nstd::cout &lt;&lt; ThreadHandler::threads.size() &lt;&lt; std::endl;\nfor(int i = 0; i &lt; ThreadHandler::threads.size(); i++){\n    std::cout &lt;&lt; \"starting \" &lt;&lt; i+1 &lt;&lt; std::endl;\n    ThreadHandler::threads.at(i)-&gt;start();\n}\n}\n\nvoid ThreadHandler::refactorObjects(){\nSubProcess::condition = false;\nstd::this_thread::sleep_for(std::chrono::seconds(1));\nfor(int i = 0 ; i &lt; ThreadHandler::threads.size() ; i++){\n    ThreadHandler::threads.at(i)-&gt;terminate();\n}\nThreadHandler::objects.clear();\nSubProcess::sys.push_back(Body::collide(SubProcess::collidedAr.at(0), SubProcess::collidedAr.at(1)));\nSubProcess::sys.erase(std::remove(SubProcess::sys.begin(), SubProcess::sys.end(),\n                                  SubProcess::collidedAr.at(0)), SubProcess::sys.end());\nSubProcess::sys.erase(std::remove(SubProcess::sys.begin(), SubProcess::sys.end(),\n                                  SubProcess::collidedAr.at(1)), SubProcess::sys.end());\n\nint idealNum = QThread::idealThreadCount();\nint sizeForEach = SubProcess::sys.size() / idealNum;\nfor(int i = 0 ; i &lt; idealNum ; i++){\n    SubProcess* tempSub = new SubProcess(i*sizeForEach, (i+1)*sizeForEach);\n    tempSub-&gt;moveToThread(ThreadHandler::threads.at(i));\n    ThreadHandler::objects.push_back(tempSub);\n    QEventLoop::connect(tempSub, SIGNAL(finished()), ThreadHandler::threads.at(i), SLOT(deleteLater()));\n    QEventLoop::connect(ThreadHandler::threads.at(i), SIGNAL(started()), tempSub, SLOT(process()));\n    QEventLoop::connect(ThreadHandler::threads.at(i), SIGNAL(finished()), tempSub, SLOT(deleteLater()));\n    QEventLoop::connect(tempSub, SIGNAL(collided()), this,\n                        SLOT(refactorObjects()));\n}\n\nfor(int i = 0; i &lt; idealNum; i++){\n    ThreadHandler::threads.at(i)-&gt;start();\n}\nstd::cout &lt;&lt; \"refactored\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Here is the sub process source:</p>\n\n<pre><code>#include \"subprocess.h\"\n#include &lt;iostream&gt;\n\nstd::vector&lt;Body&gt; SubProcess::sys;\nstd::vector&lt;Body&gt; SubProcess::collidedAr;\ndouble SubProcess::timeScale;\nbool SubProcess::condition = true;\n\n\nSubProcess::SubProcess(double start, double end, double scopeX, double scopeY){\nfor(int i = start; i&lt; end; i++){\n    SubProcess::sys.push_back(Body::createRandomBody(scopeX, scopeY));\n}\nthis-&gt;start = start;\nthis-&gt;end = end;\n}\nSubProcess::SubProcess(double start, double end){\nthis-&gt;start = start;\nthis-&gt;end = end;\n}\n\nvoid SubProcess::process(){\nwhile(SubProcess::condition){\n    for(int i = start; i &lt; end ; i++){\n        for(int j = 0; j &lt; SubProcess::SubProcess::sys.size() ; j++){\n            if(!(SubProcess::sys.at(i)==SubProcess::sys.at(j))){\n                double F = Body::getForce(SubProcess::sys.at(i), SubProcess::sys.at(j));\n                if (F!=-1){\n                    double dX = SubProcess::sys.at(i).getX()-SubProcess::sys.at(j).getX();\n                    double dY = SubProcess::sys.at(i).getY()-SubProcess::sys.at(j).getY();\n                    SubProcess::sys.at(i).exertForce(-dY, -dX, F, timeScale);\n                } else {\n                    SubProcess::collidedAr.clear();\n                    SubProcess::collidedAr.push_back(SubProcess::sys.at(i));\n                    SubProcess::collidedAr.push_back(SubProcess::sys.at(j));\n                    SubProcess::condition = false;\n                    emit collided();\n                }\n            }\n        }\n        SubProcess::sys.at(i).tick(timeScale);\n    }\n}\nemit finished();\n}\n</code></pre>\n\n<p>Whenever I run it, it works perfectly up to the point of a collision where I get:</p>\n\n<pre><code>starting 1\nstarting 2\nstarting 3\nstarting 4\nrefactored\nrefactored\nQThread: Destroyed while thread is still running\nQThread: Destroyed while thread is still running\nQThread: Destroyed while thread is still running\nQThread: Destroyed while thread is still running\n</code></pre>\n\n<p>So what doesn't make sense to me is that the threads are deleted in the beginning of the refactoring process, and that creates no error. But for some reason AFTER the new threads are started, something is ending them. I have no idea what is going on here at all. I think that I am improperly disposing and recreating the threads and that there should be a better method to this.</p>\n"}, {"tags": ["c++", "window", "size", "resolution"], "comments": [{"owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "edited": false, "score": 0, "creation_date": 1461173315, "post_id": 36750392, "comment_id": 61082496, "body": "OK, it turns out the reason is I had my settings scaled up by 125% in my desktop settings, everything is too small to see otherwise.  But the real problem is my program isn&#39;t &quot;DPI-aware&quot;.  I have no idea what it means.  Anybody can explain it?"}], "answers": [{"comments": [{"owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "edited": false, "score": 0, "creation_date": 1461178265, "post_id": 36752557, "comment_id": 61085510, "body": "Also, just in case you&#39;re as dumb as me, new Win32 projects are DPI-Unaware by default."}], "tags": [], "owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "is_accepted": true, "score": 4, "last_activity_date": 1461178033, "creation_date": 1461178033, "answer_id": 36752557, "question_id": 36750392, "link": "https://stackoverflow.com/questions/36750392/visual-studio-creating-wrong-sized-windows-and-wrong-system-metrics/36752557#36752557", "title": "Visual studio creating wrong sized windows and wrong system metrics", "body": "<p>Well, this is a duplicate, but if this helps anyone I'll explain the problem of DPI scaling.  Basically the default Windows setting is 96 DPI.  There are options in Control Panel to \"make stuff bigger\", which is easier on the eyes.  My slider is set to the middle one, which is equivalent to 125% bigger, or 120 dpi, which is why System Metrics was returning the wrong values, and my windows were bigger.  The dpi gets bigger, so the system assumes it has to draw everything larger in proportion to the upscaling.  If you consider someone programs a window to be 200 pixels across, when someone with a super duper double resolution display runs it, it's still going to be 200 pixels across, but half the physical size, say inch-wise.  So by doubling the dpi \"setting\", not the dpi, but dpi \"setting\" from 96 to 194, or scaling it up 200% makes the window occupy 400 pixels across, but is the same size with respect to the original display. </p>\n\n<p>Anyway, the easiest fix for this, if on Visual Studio, is simply through the project properties, go down to the \"manifest\" menu, then select \"input/output\", the last option should be DPI Awareness.  Mine was on \"None\".  It's only necessary in most cases to put it on \"High DPI Aware\", and that will fix the problem.  The other option, which is \"per monitor DPI awareness\" means that it will adjust accordingly in a dynamic way, say for example the dpi scaling is changed while the app is running, or moving the window onto another monitor while it's running.  The High DPI Aware setting will do a check at startup.</p>\n\n<p>Interestingly, if you go to the properties of any exe, and under the compatibility tab, you can check \"Disable display scaling on high DPI settings\", and that will work also.  Finally, there is a free program, now owned by Microsoft, called process explorer, which is basically like task manager with extra features, and you can select the DPI Awareness column and see which programs are DPI aware.  Yes, DPI Awareness is a thing, I feel so dumb.  There are also many other ways to do it, like with function calls and merging manifests, but I have no idea about that, and am too tired to even breathe now.</p>\n"}], "owner": {"reputation": 8834, "user_id": 4696802, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AkVoc.jpg?s=128&g=1", "display_name": "Zebrafish", "link": "https://stackoverflow.com/users/4696802/zebrafish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1300, "favorite_count": 1, "accepted_answer_id": 36752557, "answer_count": 1, "score": 2, "last_activity_date": 1461178033, "creation_date": 1461171328, "last_edit_date": 1461172479, "question_id": 36750392, "link": "https://stackoverflow.com/questions/36750392/visual-studio-creating-wrong-sized-windows-and-wrong-system-metrics", "title": "Visual studio creating wrong sized windows and wrong system metrics", "body": "<p>Never mind, this question is a duplicate.  I might be able to figure this out from other sources. </p>\n\n<p>I'm so so confused.  I was working on my project and realised that the window created with CreateWindowEx() was bigger than I was specifying. I noticed the windows are bigger in release mode than in debug mode.  Then I took the values of GetSystemMetrics(SM_CXSCREEN) and SM_CXFULLSCREEN and noticed that in debug mode it gives me 1920 x 1080, which is correct, but in release mode it gives me 1536 x 864.</p>\n\n<p>Furthermore, if I just start a new Win32 project, which is up and ready to run just by pushing ctrl + F5, I get the wrong value in both debug AND release mode, same values as before, and the windows are bigger.</p>\n\n<p>I don't see how providing any code might help, I could make a video of it, but... this just doesn't make sense.  Could anyone maybe see if it happens to them by starting a new Win32 project, and seeing 1600 x 900 actually takes up that much space?  Because 1600 x 900 takes up my entire screen when it shouldn't.</p>\n\n<p>Thanks.</p>\n\n<p>On further inspection, the 1536 x 864 resolution it gives me is 80% the size that it should be, or in other words it should be 1.25 times bigger, the reciprocal.  Also if I change my desktop resolution to 1600 x 900 the metrics gives me 1280 x 720, which is again 80%, or the resolution is 1.25 bigger than what's given.</p>\n"}, {"tags": ["c++", "visual-c++"], "answers": [{"tags": [], "owner": {"reputation": 8988, "user_id": 5612363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTz0z.jpg?s=128&g=1", "display_name": "Anwarvic", "link": "https://stackoverflow.com/users/5612363/anwarvic"}, "is_accepted": false, "score": 1, "last_activity_date": 1461171986, "creation_date": 1461171986, "answer_id": 36750605, "question_id": 36750379, "link": "https://stackoverflow.com/questions/36750379/how-to-add-exsisting-in-visual-studio-c/36750605#36750605", "title": "How to add exsisting in Visual Studio C++?", "body": "<ol>\n<li><p>Open your project, then from Solution Explorer, select properties like in the below image.\n<a href=\"https://i.stack.imgur.com/vlgJt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vlgJt.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>From the pop up window select C/C++ from the right pane, then General like in the image below.\n<a href=\"https://i.stack.imgur.com/cTdDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTdDt.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Select edit.</p></li>\n<li>Finally, select the folder where your header files, you want to include, are.\n<a href=\"https://i.stack.imgur.com/Mg8TH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mg8TH.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 5531912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f2905c092cd22ef3df8cf4366493ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Tuan Nguyen Dinh", "link": "https://stackoverflow.com/users/5531912/tuan-nguyen-dinh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461171986, "creation_date": 1461171296, "last_edit_date": 1461171966, "question_id": 36750379, "link": "https://stackoverflow.com/questions/36750379/how-to-add-exsisting-in-visual-studio-c", "title": "How to add exsisting in Visual Studio C++?", "body": "<p>I have just download source code on github, and it has so many files. I want to import them to VC++ for build it. But it has below bug.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FZpwn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FZpwn.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i edit it ? Thanks.</p>\n"}, {"tags": ["c++", "arrays", "pointers", "matrix", "dynamic-arrays"], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1461175241, "post_id": 36750978, "comment_id": 61083695, "body": "More than unsafe. The vector is a lot easier to use, pass around inside the program, and clean up after than a dynamically allocated 2D array. That said, if you want good performance use a 1D vector and fake out the second dimension with <code>row * number_columns + column</code>. Read up on the impact of &quot;cache misses&quot; on a program."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1461178531, "post_id": 36750978, "comment_id": 61085691, "body": "If I have understood OP&#39;s file format the final matrix seems to be symmetric, with only the upper right part stored in the file..."}, {"owner": {"reputation": 170, "user_id": 6002930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/npEcO.jpg?s=128&g=1", "display_name": "steiner", "link": "https://stackoverflow.com/users/6002930/steiner"}, "reply_to_user": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1461229528, "post_id": 36750978, "comment_id": 61107721, "body": "Right @Bob__ I missed that point. The suboptimal solution is to add the same value in matrix[col][row]. A better solution would be to use a class to handle symmetric matrices with a one dimensional vector and the correct operator[] for access."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1461229845, "post_id": 36750978, "comment_id": 61107984, "body": "@steiner yes, it&#39;s a bit more challenging then the dense case ;) Maybe an overkill for OP&#39;s question/skill..."}], "tags": [], "owner": {"reputation": 170, "user_id": 6002930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/npEcO.jpg?s=128&g=1", "display_name": "steiner", "link": "https://stackoverflow.com/users/6002930/steiner"}, "is_accepted": false, "score": 1, "last_activity_date": 1461229395, "last_edit_date": 1461229395, "creation_date": 1461173148, "answer_id": 36750978, "question_id": 36750357, "link": "https://stackoverflow.com/questions/36750357/c-matrix-to-dynamic-2d-arrray/36750978#36750978", "title": "C++ Matrix to dynamic 2D arrray", "body": "<p>I suggest you use C++ vector from the STL instead of 2d C array which are unsafe.</p>\n\n<p>You could do something like : </p>\n\n<pre><code>ifstream myfile(\"matrix.txt\");\n\n// Read matrix size\nsize_t matrix_size = 0;  myfile &gt;&gt; matrix_size;\n\nvector&lt;vector&lt;int&gt; &gt; matrix(matrix_size);\nfor(size_t i=0; i &lt; matrix.size(); ++i)  matrix[i].resize(matrix_size);\nwhile( myfile.good() )\n{\n  // Read row,col,val and set matrix value\n  int row=0, col=0, val=0;  myfile &gt;&gt; row &gt;&gt; col &gt;&gt; val;    \n  --row; --col; // Since your indices go from 1 to N\n  if(row &lt; matrix_size &amp;&amp; row &gt;= 0 &amp;&amp; col &lt; matrix_size &amp;&amp; col &gt;= 0) {\n    matrix[row][col] = val;   matrix[col][row] = val;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "edited": false, "score": 0, "creation_date": 1461180081, "post_id": 36751976, "comment_id": 61086707, "body": "When it try to this way, i get a error saying that a is undefined."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "edited": false, "score": 0, "creation_date": 1461180742, "post_id": 36751976, "comment_id": 61087118, "body": "All I supplied was the <code>&#47;&#47;HERE I SHOULD TURN THOSE NUMBERS INTO VALUES IN 2D ARRAY</code> and the while loop around it. You still need the rest of your code to define <code>a</code> and open the file."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "edited": false, "score": 0, "creation_date": 1461180945, "post_id": 36751976, "comment_id": 61087230, "body": "Unless you&#39;re going for the matrix version. In that case you need <code>Matrix a(number, number);</code> Come to think of it, you have a nasty bug in the definition of your array. Making an edit to help you fix that."}, {"owner": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "edited": false, "score": 0, "creation_date": 1461251057, "post_id": 36751976, "comment_id": 61124067, "body": "This works, the part where i deleted it was wrong, I had to move that to the end of the code. But I also had to make a change, code did add 1&#39;s to the right places, but the other places were &quot;NULL&quot;, so i gave them all value 0 when created. Thank you :)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "edited": false, "score": 0, "creation_date": 1461258538, "post_id": 36751976, "comment_id": 61129244, "body": "Good catch. One of the cool things about a <code>std::vector</code> is it does that zeroing (or whatever value you tell it to use) for you. Sometimes that&#39;s not so cool because it takes time an you may not want everything zeroed, but you can&#39;t please everyobdy."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 2, "last_activity_date": 1461182256, "last_edit_date": 1592644375, "creation_date": 1461176226, "answer_id": 36751976, "question_id": 36750357, "link": "https://stackoverflow.com/questions/36750357/c-matrix-to-dynamic-2d-arrray/36751976#36751976", "title": "C++ Matrix to dynamic 2D arrray", "body": "<p>The easy way, but possibly not the fastest way, is to write the line into a <a href=\"http://en.cppreference.com/w/cpp/io/basic_stringstream\" rel=\"nofollow noreferrer\">std::stringstream</a>, then read back out of the stringstream into row, column, and value variables. If you are reading from a file the cost of reading the file in the first place usually dwarfs the cost of parsing the file the slow way. If it matters in your case (and profile the code first to make sure it does) look into manually parsing the file. That said, this basic logic will hold.</p>\n<pre><code>while (getline(myfile, line)){\n    cout &lt;&lt; line &lt;&lt; '\\n';\n    std::stringstream linestream(line);\n    int row;\n    int column;\n    int value;\n    if (linestream &gt;&gt; row &gt;&gt; column &gt;&gt; value)\n    {\n        a[row-1][column-1] = value;\n        a[column-1][row-1] = value;// mirror\n    }\n    else\n    {\n        // handle file formatting error\n    }\n}\n</code></pre>\n<p>Off topic, consider using a matrix class to manage a for you rather than a raw 2D Array. <a href=\"https://isocpp.org/wiki/faq/operator-overloading#matrix-subscript-op\" rel=\"nofollow noreferrer\">The matrix class here at isocppp.org is good and fast</a>, as well as wrapped in some very good general-purpose advice.</p>\n<p>The above code with the isocpp matrix looks like:</p>\n<pre><code>while (getline(myfile, line)){\n    cout &lt;&lt; line &lt;&lt; '\\n';\n    std::stringstream linestream(line);\n    int row;\n    int column;\n    int value;\n    if (linestream &gt;&gt; row &gt;&gt; column &gt;&gt; value)\n    {\n        a(row-1,column-1) = value;\n        a(column-1,row-1) = value;// mirror\n    }\n    else\n    {\n        // handle file formatting error\n    }\n}\n</code></pre>\n<p>Nearly identical and a lot easier to use because you don't have to worry about managing the memory yourself, passing the array dimensions around, or a bit of bad code (such as <code>a[4] = 0;</code>) nuking a row of your array.</p>\n<h1>Addendum</h1>\n<p>This code</p>\n<pre><code>int number;\nint **a = new int*[number];\nfor (int i = 0; i&lt;number; i++) {\n    a[i] = new int[number];\n}\nfor (int i = 0; i&lt;number; i++) {\n    delete[]a[i];\n}\ndelete[]a;\n</code></pre>\n<p>has two serious problems:</p>\n<ol>\n<li><code>a</code> is sized with <code>number</code>, and <code>number</code> hasn't been assigned yet. <code>number</code> could be anything from an instantly fatal negative number (can't have an array with a negative size) to a potentially fatal huge number (Your computer have 9,223,372,036,854,775,807 squared bytes of RAM? Didn't think so.)</li>\n<li>It deletes the storage immediately after allocating it. Freeing the memory is a great habit to get into, but it's best to free the memory after using it, not before.</li>\n</ol>\n<p>So:</p>\n<pre><code>// define `a` here\nstring line;\nifstream myfile(&quot;matrix.txt&quot;);\nif (myfile.is_open())\n{\n    getline(myfile, line);\n    istringstream(line)&gt;&gt; number; \n\n    // allocate storage for `a` here\n\n    while (getline(myfile, line)){\n        cout &lt;&lt; line &lt;&lt; '\\n';\n        //line reading code goes here\n    }\n    myfile.close();\n}\n// delete `a` somewhere down here after it's been used.\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6188472, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b1d86bc77c3a2bdca5759d183644a31?s=128&d=identicon&r=PG&f=1", "display_name": "C-PROG", "link": "https://stackoverflow.com/users/6188472/c-prog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 36751976, "answer_count": 2, "score": 1, "last_activity_date": 1461229395, "creation_date": 1461171234, "last_edit_date": 1592644375, "question_id": 36750357, "link": "https://stackoverflow.com/questions/36750357/c-matrix-to-dynamic-2d-arrray", "title": "C++ Matrix to dynamic 2D arrray", "body": "<p>let's say we have a matrix in a matrix.txt  file, stored like this:</p>\n<p><img src=\"https://i.stack.imgur.com/Wk1M8.png\" alt=\"Image1\" /></p>\n<p>and we want to transform it into:</p>\n<p><img src=\"https://i.stack.imgur.com/33MKl.png\" alt=\"Image 2\" /></p>\n<p>Number 8 (first number) means how big will 2D array be. After that it means:\n1 is connected to 2 (value of connection is 1, it will always be 1)\n1 is connected to 8\n3 is connected to 4</p>\n<p>And when transformed into 2D dynamical array, we want the value 1 in ARRRAY 0,1...0,7...2,3   and soo on (i didnt use square brackets because stackoverflow read them as links).</p>\n<pre><code>    int number;\nint **a = new int*[number];\nfor (int i = 0; i&lt;number; i++) {\n    a[i] = new int[number];\n}\nfor (int i = 0; i&lt;number; i++) {\n    delete[]a[i];\n}\n    delete[]a;\n\nstring line;\nifstream myfile(&quot;matrix.txt&quot;);\nif (myfile.is_open())\n{\n    getline(myfile, line);\n     istringstream(line)&gt;&gt; number; \n\n\n    while (getline(myfile, line)){\n        cout &lt;&lt; line &lt;&lt; '\\n';\n        //HERE I SHOULD TURN THOSE NUMBERS INTO VALUES IN 2D ARRAY\n    }\n    myfile.close();\n}\n</code></pre>\n<p>So my question is: <strong>How do i turn this numbers into matrix in 2d array?</strong></p>\n<p>Thank you</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 2, "creation_date": 1461171300, "post_id": 36750343, "comment_id": 61081360, "body": "Using the type name to document the fact that it is the size of something"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461171464, "post_id": 36750343, "comment_id": 61081455, "body": "IMHO use <code>int</code> unless <code>int</code> can&#39;t cover the range you want.  Then use <code>long long int</code>."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461171879, "post_id": 36750343, "comment_id": 61081691, "body": "@NathanOliver Object sizes and array dimensions are specifically meant to be represented with <code>std::size_t</code>, so it&#39;s good form, and <i>in theoretical edge cases</i> required, to use that in such contexts. For most other things, I would recommend the platform&#39;s native word size <i>but</i> defaulting to <code>unsigned</code> unless there&#39;s a specific need for <code>signed</code> values. It just makes sense to me."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461172166, "post_id": 36750343, "comment_id": 61081873, "body": "@NathanOliver, care to clarify your point? Why not use the type specifically created for array indexing?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1461172171, "post_id": 36750343, "comment_id": 61081878, "body": "@underscore_d using <a href=\"http://stackoverflow.com/a/24104825/4342498\">this</a> answer as a reference as I found it quick.  Unsigned sizes was a mistake and even Bjarne Stroustrup has admitted that.  Mod 2 behavior is rarely wanted in most cases."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461172239, "post_id": 36750343, "comment_id": 61081916, "body": "@NathanOliver, the linked answer discussess int vs unsigned int. Not int vs size_t."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461172810, "post_id": 36750343, "comment_id": 61082225, "body": "@SergeyA It discusses both and says neither is what you want."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1461172904, "post_id": 36750343, "comment_id": 61082282, "body": "@underscore_d One of those theoretical cases is when you have an array of <code>numeric_limits&lt;size_t&gt;::max()</code>.  In those cases using <code>size_t</code> for the index of a loop produces a infinite loop as the index will always be in range."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461179105, "post_id": 36750343, "comment_id": 61086050, "body": "@NathanOliver ...I&#39;ll have to go away and think about a clever way to get around that, if any exists. But while we&#39;re here, surely a <code>signed</code> value is no better there, as you&#39;ll be unable to reach the second half of the array?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1461179128, "post_id": 36750343, "comment_id": 61086072, "body": "@underscore_d If <code>MAX == numeric_limits&lt;size_t&gt;::max()</code> then the loop will never end.  Also trying to go backwars <code>for(size_t = foo; i &gt; 0; --i)</code> is problematic as you cannot go below 0.  IMHO there is no reason to use and unsigned type unless you are doing bitwise operations or you need an overflow guarantee.  If you need more space just grab a bigger <code>int</code>.  A signed <code>long long int</code> should work for anything outside of supercomputers."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1461179547, "post_id": 36750343, "comment_id": 61086353, "body": "@underscore_d This perfectly highlights my point.  If you used a signed integer none of this would matter.  You could write <code>for(big_enough_int = 0; i &lt; some_value; ++i)</code> and <code>for(big_enough_int = some_value; i &gt; 0; --i)</code> and now it is going to do what you want."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1461186359, "post_id": 36750343, "comment_id": 61090549, "body": "There seem to be several questions that cover this ground.  I don&#39;t see anything new introduced by this one."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461259714, "post_id": 36750343, "comment_id": 61129849, "body": "@NathanOliver fwiw, my 2nd example yesterday didn&#39;t work either. far as i can tell at the moment, the way to loop over the entire range of an unsigned type is this: <a href=\"http://stackoverflow.com/a/20986451/2757035\">stackoverflow.com/a/20986451/2757035</a> this could probably be mangled to work with <code>for</code> too, but that seems like unnecessary work."}], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1461171308, "creation_date": 1461171308, "answer_id": 36750384, "question_id": 36750343, "link": "https://stackoverflow.com/questions/36750343/c-using-size-t-vs-using-an-unsigned-integer-example/36750384#36750384", "title": "C++ using size_t vs using an unsigned integer example", "body": "<p>The answer is straightforward as well. You use <code>size_t</code> for all your array indexing and sizing needs, this is exactly what it was designed for. And you never use anything else for it.</p>\n\n<p>Apart from being a self-documenting feature, it also has another important aspect - on many platforms <code>sizeof(int)</code> is not equal to <code>sizeof(size_t)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "is_accepted": true, "score": 2, "last_activity_date": 1461172258, "creation_date": 1461172258, "answer_id": 36750706, "question_id": 36750343, "link": "https://stackoverflow.com/questions/36750343/c-using-size-t-vs-using-an-unsigned-integer-example/36750706#36750706", "title": "C++ using size_t vs using an unsigned integer example", "body": "<p><code>size_t</code> is commonly used for array indexing and loop counting.<br>\nAccording to <a href=\"http://en.cppreference.com/w/cpp/types/size_t\" rel=\"nofollow\">cppreference</a>:</p>\n\n<blockquote>\n  <p>Programs that use other types, such as unsigned int, for array indexing may fail on, e.g. 64-bit systems when the index exceeds UINT_MAX or if it relies on 32-bit modular arithmetic.</p>\n</blockquote>\n\n<p>It also states:</p>\n\n<blockquote>\n  <p>std::size_t can store the maximum size of a theoretically possible\n  object of any type (including array). A type whose size cannot be\n  represented by std::size_t is ill-formed (since C++14)</p>\n</blockquote>\n"}], "owner": {"reputation": 41223, "user_id": 175836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d3b5a5015d8459c645abe6e906b9e77b?s=128&d=identicon&r=PG", "display_name": "randombits", "link": "https://stackoverflow.com/users/175836/randombits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "closed_date": 1461193178, "accepted_answer_id": 36750706, "answer_count": 2, "score": 0, "last_activity_date": 1461219724, "creation_date": 1461171202, "last_edit_date": 1461219724, "question_id": 36750343, "link": "https://stackoverflow.com/questions/36750343/c-using-size-t-vs-using-an-unsigned-integer-example", "closed_reason": "Duplicate", "title": "C++ using size_t vs using an unsigned integer example", "body": "<p>I saw an example recently that looks like the following:</p>\n\n<pre><code>const size_t NDim = 3;  \ndouble coords[NDim];\n</code></pre>\n\n<p>My question is straight forward. When does one use <code>size_t</code> vs an <code>int</code> or <code>unsigned int</code>? In this particular case, wouldn't the following be the equivalent as the above:</p>\n\n<pre><code>const unsigned int NDim = 3;  \ndouble coords[NDim];\n</code></pre>\n"}, {"tags": ["c++", "c", "visual-studio-2015"], "comments": [{"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461171261, "post_id": 36750265, "comment_id": 61081338, "body": "Did you try the step-into option? using F-11 you could trace it. And you could put break points every where to see when and where it hits"}, {"owner": {"reputation": 347, "user_id": 3783576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8e9b2374ea146c877b1107d82febedaf?s=128&d=identicon&r=PG&f=1", "display_name": "MatthewJohnHeath", "link": "https://stackoverflow.com/users/3783576/matthewjohnheath"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461184171, "post_id": 36750265, "comment_id": 61089356, "body": "Yeah, I tried it. The debugger is not seeing that code at all, so even one &quot;step-into&quot; flies straight past everything (and it&#39;s throwing an exception somewhere in there)"}, {"owner": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461189456, "post_id": 36750265, "comment_id": 61091993, "body": "post that line of code where it doesn&#39;t step into it and the code behind where somewhere it throws an error"}, {"owner": {"reputation": 347, "user_id": 3783576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8e9b2374ea146c877b1107d82febedaf?s=128&d=identicon&r=PG&f=1", "display_name": "MatthewJohnHeath", "link": "https://stackoverflow.com/users/3783576/matthewjohnheath"}, "reply_to_user": {"reputation": 8388, "user_id": 5890227, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/M6Of5.png?s=128&g=1", "display_name": "Khalil Khalaf", "link": "https://stackoverflow.com/users/5890227/khalil-khalaf"}, "edited": false, "score": 0, "creation_date": 1461225520, "post_id": 36750265, "comment_id": 61104817, "body": "@FirstStep I&#39;ve done that now. Hope it is clear"}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 3783576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8e9b2374ea146c877b1107d82febedaf?s=128&d=identicon&r=PG&f=1", "display_name": "MatthewJohnHeath", "link": "https://stackoverflow.com/users/3783576/matthewjohnheath"}, "is_accepted": true, "score": 0, "last_activity_date": 1461253383, "creation_date": 1461253383, "answer_id": 36774488, "question_id": 36750265, "link": "https://stackoverflow.com/questions/36750265/locate-from-where-visual-studio-2015-debugger-is-reading-symbol-defs-when-source/36774488#36774488", "title": "Locate from where Visual Studio 2015 debugger is reading symbol defs when source is not available", "body": "<p>For my particular case I was able to find out where the alternative definitions come from by asking colleagues if they could think of any other dependencies that might have been interfering. Not the most satisfying solution but it will do. </p>\n"}], "owner": {"reputation": 347, "user_id": 3783576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8e9b2374ea146c877b1107d82febedaf?s=128&d=identicon&r=PG&f=1", "display_name": "MatthewJohnHeath", "link": "https://stackoverflow.com/users/3783576/matthewjohnheath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 36774488, "answer_count": 1, "score": 0, "last_activity_date": 1461253383, "creation_date": 1461170982, "last_edit_date": 1461234951, "question_id": 36750265, "link": "https://stackoverflow.com/questions/36750265/locate-from-where-visual-studio-2015-debugger-is-reading-symbol-defs-when-source", "title": "Locate from where Visual Studio 2015 debugger is reading symbol defs when source is not available", "body": "<p>I want to see from where a function definition is being read from in a project because it is neither where I expect it to be nor where \"Go To Definition\" in VS2015 claims it is.</p>\n\n<p>I have an application calling a static library which calls a second static library all included as a solution in Visual Studio and both library included as project dependencies for the application. When I go to any call from the first library to a function defined in the second in the code and right-click->\"Go To Definition\" it takes me to the correct location in the second library.</p>\n\n<p>However it definitely <em>not</em> getting the functions from that source when it runs, since it is returning the wrong answers and not giving the console output I added for debugging this problem. Another (toy) application that I wrote to check the code and is in a different solution also containing the libraries takes the definitions correctly.</p>\n\n<p>If, while debugging, I click on these functions, I am told that the source is not available. Obviously it is reading the definitions from somewhere and I can look at the disassembly. After looking at the properties of all the projects, and searching for other versions of the second library on my computer, I still have no idea from where it might be getting different definitions. So it would be useful to know from where the debugger/compiler is reading in the compiled code from which it can generate the disassembly (and do the function).</p>\n\n<p>The last line of code that is being executed from where I expect is:</p>\n\n<pre><code>dgstrf(opPt, column_permuted, relax, panel_size, etree, NULL, 0, col_perm_pt, row_perm_pt, lower, upper, glu, stats, status);\n</code></pre>\n\n<p>which according to \"Go To Definition\" should call a function that begins:</p>\n\n<pre><code>void\ndgstrf (superlu_options_t *options, SuperMatrix *A,\n    int relax, int panel_size, int *etree, void *work, int lwork,\n    int *perm_c, int *perm_r, SuperMatrix *L, SuperMatrix *U,\n    GlobalLU_t *Glu, /* persistent to facilitate multiple factorizations */\n    SuperLUStat_t *stat, int *info)\n{\n    printf(\"doing dgstrf\\n\");\n ...\n</code></pre>\n\n<p>which after a while calls:</p>\n\n<pre><code>*info = dLUMemInit(fact, work, lwork, m, n, Astore-&gt;nnz,\n                   panel_size, fill_ratio, L, U, Glu, &amp;iwork, &amp;dwork);\n</code></pre>\n\n<p>which starts:</p>\n\n<pre><code>int\n dLUMemInit(fact_t fact, void *work, int lwork, int m, int n, int annz,\n      int panel_size, double fill_ratio, SuperMatrix *L, SuperMatrix *U,\n          GlobalLU_t *Glu, int **iwork, double **dwork)\n{\n   printf(\"doing dLUMemInit\\n\");...\n</code></pre>\n\n<p>which calls in turn dLUWorkInit -> intCalloc, and then in the version that running in the real app (but not in the toy app that works) ->superlu_abort_and_exit -> fprintf</p>\n\n<p>fprintf (in stdio.h) is the first thing since my wrapper function to dgstrf for which the call stack says it has source code. </p>\n\n<p>It throws an exception \"Access violation writing to location 0x0000000000000024.\" on the lines</p>\n\n<pre><code>__crt_va_start(_ArgList, _Format);\n_Result = _vfprintf_l(_Stream, _Format, NULL, _ArgList);\n__crt_va_end(_ArgList);\nreturn _Result;\n</code></pre>\n\n<p>I've been through what <em>should</em> be the source code up to here and filled it with break points. They aren't hit and none of the console output I have set it to produce is. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "edited": false, "score": 0, "creation_date": 1461171234, "post_id": 36750103, "comment_id": 61081322, "body": "does each item list always have 7 items, or do you need to grow or shrink it? Also FYI the reason you&#39;re printing the third character is that a string in C++ is just an array of characters, so when you treat it like an array then each element in the array is a character."}, {"owner": {"reputation": 3, "user_id": 6231444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnf6J.jpg?s=128&g=1", "display_name": "LEVII777", "link": "https://stackoverflow.com/users/6231444/levii777"}, "reply_to_user": {"reputation": 3150, "user_id": 3012550, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e2667dc04d27136e29ccb9c9e19cfd3?s=128&d=identicon&r=PG", "display_name": "alexanderbird", "link": "https://stackoverflow.com/users/3012550/alexanderbird"}, "edited": false, "score": 0, "creation_date": 1461171335, "post_id": 36750103, "comment_id": 61081378, "body": "@alexanderbird No its just going to be the same 7 items, its a static list. Thanks for the tip, I got confused on how C++ saw string as arrays."}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 666779, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b348a92946dda43446b2c3417eab2bc7?s=128&d=identicon&r=PG", "display_name": "Hucker", "link": "https://stackoverflow.com/users/666779/hucker"}, "edited": false, "score": 0, "creation_date": 1461173706, "post_id": 36750174, "comment_id": 61082741, "body": "To meet the spirit of what the OP requested you might add a &quot;&quot; as the first element of the array to convert it to 1&#39;s based indexing:  std::array&lt;std::string, numwords&gt; words1 = { &quot;&quot;,&quot;Lint&quot;, &quot;Dust&quot;, &quot;Sword&quot;, &quot;Axe&quot;, &quot;Gem&quot;, &quot;Gold Key&quot;, &quot;Silver key&quot; };"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 571, "user_id": 666779, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b348a92946dda43446b2c3417eab2bc7?s=128&d=identicon&r=PG", "display_name": "Hucker", "link": "https://stackoverflow.com/users/666779/hucker"}, "edited": false, "score": 0, "creation_date": 1461173876, "post_id": 36750174, "comment_id": 61082855, "body": "@Hucker I don&#39;t think he explicitly mentioned this, but nonetheless, this could cause problems with other developers who don&#39;t know that he counts from 1 and not from 0, so it should be avoided at best."}], "tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": false, "score": 1, "last_activity_date": 1461170736, "creation_date": 1461170736, "answer_id": 36750174, "question_id": 36750103, "link": "https://stackoverflow.com/questions/36750103/treat-a-string-of-words-like-an-array-c/36750174#36750174", "title": "Treat a string of words like an array (C++)", "body": "<p>You could use an <code>std::array</code>:</p>\n\n<pre><code>//Declare list of words\nstd::array&lt;std::string, numwords&gt; words1 = { \"Lint\", \"Dust\", \"Sword\", \"Axe\", \"Gem\", \"Gold Key\", \"Silver key\" };\n</code></pre>\n\n<p>Then you can access the words like you did:</p>\n\n<pre><code>words1[3]; //\"Axe\"\nwords1[2]; //\"Sword\"\n</code></pre>\n\n<p>Note that in C++ indices start from 0, not 1, so index 3 is actually the fourth element in the array.</p>\n"}, {"comments": [{"owner": {"reputation": 1196, "user_id": 5468596, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oYsoZ.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5468596/stephen"}, "edited": false, "score": 0, "creation_date": 1461173328, "post_id": 36750185, "comment_id": 61082503, "body": "I added the const keyword because comments in the OP made it clear that the list will be static"}], "tags": [], "owner": {"reputation": 1196, "user_id": 5468596, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oYsoZ.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5468596/stephen"}, "is_accepted": true, "score": 0, "last_activity_date": 1461173270, "last_edit_date": 1461173270, "creation_date": 1461170771, "answer_id": 36750185, "question_id": 36750103, "link": "https://stackoverflow.com/questions/36750103/treat-a-string-of-words-like-an-array-c/36750185#36750185", "title": "Treat a string of words like an array (C++)", "body": "<pre><code>#include &lt;string&gt;\n\nconst std::string list[5] = {\"str1\",\"str2\",\"str3\",\"str4\",\"str5\"};\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6231444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnf6J.jpg?s=128&g=1", "display_name": "LEVII777", "link": "https://stackoverflow.com/users/6231444/levii777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 36750185, "answer_count": 2, "score": -3, "last_activity_date": 1461173270, "creation_date": 1461170488, "last_edit_date": 1461171252, "question_id": 36750103, "link": "https://stackoverflow.com/questions/36750103/treat-a-string-of-words-like-an-array-c", "title": "Treat a string of words like an array (C++)", "body": "<p>Im trying to create a text-based game, im working in a team of other guys and im having a problem creating an item list.</p>\n\n<p>I pretty much want a list of items like an array of words and being able to replace an item with another item by simply pointing to the item like you would pick up an item on your travels in the game.</p>\n\n<p>Is this possible? Every website ive looked at has went into detail about creating an expandanble list of string or memory allocation. All i want to do is have a list of values that I can call from For example I imagined It could work like so.</p>\n\n<pre><code> item1 = \"Lint, dust, sword,axe,gem,Gold key, silver key\";\n item2 = \"Lint, dust, sword,axe,gem,Gold key, silver key\";\n\ncout &lt;&lt; \"Show:\" &lt;&lt; item1[3] &lt;&lt; \" and \" &lt;&lt; item2[2]\n&lt;&lt; \"\\n\";\n\n\"Show: Sword and Axe\"\n</code></pre>\n\n<p>instead the outcome is usually \"t\", as in the 3rd character.</p>\n\n<p>Also the reason I have this idea of working is because Ive worked with Matlab in creating something similar using an array and it worked, maybe thats why I think this should work so simply.</p>\n"}, {"tags": ["c++", "smart-pointers"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1461170527, "post_id": 36750031, "comment_id": 61080894, "body": "I think what you want is actually <code>std::weak_ptr</code> or at least a wrapper using it for debug mode. I cannot really think of a safe <i>less heavyweight</i> (I don&#39;t really believe it is) implementation of <code>safe_ptr</code>."}, {"owner": {"reputation": 5099, "user_id": 97554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3bdada2addd08c8dbae280656b5e1e8?s=128&d=identicon&r=PG", "display_name": "Charles Beattie", "link": "https://stackoverflow.com/users/97554/charles-beattie"}, "edited": false, "score": 2, "creation_date": 1461170611, "post_id": 36750031, "comment_id": 61080949, "body": "I would use the primitives how they were designed. If performance is an issue you can look at running with an address sanitizer."}, {"owner": {"reputation": 693, "user_id": 5289164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622adef0cf2ee22736ade5366b7509fa?s=128&d=identicon&r=PG&f=1", "display_name": "knivil", "link": "https://stackoverflow.com/users/5289164/knivil"}, "edited": false, "score": 0, "creation_date": 1461170971, "post_id": 36750031, "comment_id": 61081165, "body": "A knife is a useful tool but it can kill. You can try to make it safe but it will also remove its usability. Therefore it stays as it is. How could it be otherwise. Raw pointers are fine mostly. Smart pointers are about stating ownership explicitly."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461170990, "post_id": 36750031, "comment_id": 61081179, "body": "<i>@Samaursa</i> Well, I just see that <a href=\"http://en.cppreference.com/w/cpp/memory/weak_ptr/weak_ptr\" rel=\"nofollow noreferrer\"><code>std::weak_ptr</code></a> doesn&#39;t work with <code>std::unique_ptr</code>."}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1461172024, "post_id": 36750031, "comment_id": 61081786, "body": "Can&#39;t you use something like this? <code>template&lt;class C, class D&gt; std::shared_ptr&lt;C&gt; shared(std::unique_ptr&lt;C, D&gt; &amp;ptr) { return std::shared_ptr&lt;C&gt;{ptr.release(), ptr.get_deleter()}; }</code>"}, {"owner": {"reputation": 15169, "user_id": 368599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/66980d1eac668f75552936922491cd82?s=128&d=identicon&r=PG", "display_name": "Samaursa", "link": "https://stackoverflow.com/users/368599/samaursa"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1461172278, "post_id": 36750031, "comment_id": 61081937, "body": "@skypjack you can but then the library code needs to have this everywhere? And then more code to react to the fact that the <code>unique_ptr</code> is gone?"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1461172375, "post_id": 36750031, "comment_id": 61081999, "body": "I understood that the problem was that sometimes you got an unique instead of a shared one..."}, {"owner": {"reputation": 15169, "user_id": 368599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/66980d1eac668f75552936922491cd82?s=128&d=identicon&r=PG", "display_name": "Samaursa", "link": "https://stackoverflow.com/users/368599/samaursa"}, "reply_to_user": {"reputation": 5099, "user_id": 97554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3bdada2addd08c8dbae280656b5e1e8?s=128&d=identicon&r=PG", "display_name": "Charles Beattie", "link": "https://stackoverflow.com/users/97554/charles-beattie"}, "edited": false, "score": 0, "creation_date": 1461172395, "post_id": 36750031, "comment_id": 61082007, "body": "@CharlesBeattie An address sanitizer? Is there one for Windows? From my experience, trivial memory leak detectors slow the game down to a crawl (impossible to test) let alone something like an address sanitizer. And I agree that we use the primitives the way they were designed - I am asking if a new one, <code>safe_ptr</code>, can be written such that the mentioned requirements are met."}, {"owner": {"reputation": 15169, "user_id": 368599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/66980d1eac668f75552936922491cd82?s=128&d=identicon&r=PG", "display_name": "Samaursa", "link": "https://stackoverflow.com/users/368599/samaursa"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1461172505, "post_id": 36750031, "comment_id": 61082072, "body": "@skypjack Right, sometimes the library is holding onto the pointer uniquely and gives the user access to it - the library did not predict how the user was going to use the pointer (and end up storing it long term) - the library at some point deletes the object when the <code>unique_ptr</code> goes out of scope. The user then attempts access and things break badly. One could say &quot;don&#39;t do that&quot;, but aren&#39;t a lot of these constructs made to avoid saying &quot;don&#39;t do that&quot; in the first place? Rust, for example, is taking that approach."}, {"owner": {"reputation": 971, "user_id": 3307279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e7af3b95de9a661d69bce0f0cc3a11?s=128&d=identicon&r=PG&f=1", "display_name": "Baiz", "link": "https://stackoverflow.com/users/3307279/baiz"}, "edited": false, "score": 0, "creation_date": 1461184788, "post_id": 36750031, "comment_id": 61089741, "body": "@Samaursa Consider the fact that a lot of null pointer dereferencing and other nasty stuff often strongly depends on timing. I&#39;ve had applications that only crashed (sometimes untraceable) in debug mode while others only crashed in release mode (RelWithDebInfo didn&#39;t crash either). So testing in debug and also using other types than in release might make your development even more difficult."}], "owner": {"reputation": 15169, "user_id": 368599, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/66980d1eac668f75552936922491cd82?s=128&d=identicon&r=PG", "display_name": "Samaursa", "link": "https://stackoverflow.com/users/368599/samaursa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1461170271, "creation_date": 1461170271, "question_id": 36750031, "link": "https://stackoverflow.com/questions/36750031/safely-using-raw-pointers-obtained-from-unique-ptr-or-shared-ptr", "title": "Safely using raw pointers obtained from unique_ptr or shared_ptr", "body": "<p>In trivial examples, it is easy to say </p>\n\n<blockquote>\n  <p>\"Use <code>shared_ptr</code> when you want to share the resources and <code>unique_ptr</code> for unique ownership, otherwise pass <code>const &amp;</code> or <code>*</code> to access the pointers\"</p>\n</blockquote>\n\n<p>In non-trivial code (in my case, game engines) there are many areas where:</p>\n\n<ul>\n<li>It is not easy for a library class to predict whether a <code>shared_ptr</code> or a <code>unique_ptr</code> of an object will be passed. This is especially problematic if the the library class stores pointers to the objects for whatever reason.</li>\n<li>An object can sometimes be a <code>shared_ptr</code> and sometimes a <code>unique_ptr</code>, depending on its usage. </li>\n<li>Users screw up all the time (which could be me, using my own game engine)</li>\n</ul>\n\n<p>Thus, most of the time, raw pointers are being passed around and then sometimes stored by the user (or even the library itself - which may not be good design, but with non-trivial code, this becomes common practice otherwise a change in the underlying interface is necessary).</p>\n\n<p>Using raw pointers can (and does) result in undefined behavior whenever the user attempts to dereference the raw pointer when the object has been destroyed either by <code>unique_ptr</code> or <code>shared_ptr</code>. Tracking down the source of these bugs (who deleted what and when) is a nightmare, especially with a corrupt call stack.</p>\n\n<p>One <em>could</em> use <code>weak_ptr</code> for some scenarios and obtain a <code>shared_ptr</code> safely, but not only are <code>shared_ptr</code> and <code>weak_ptr</code> heavy-weight compared to raw pointers (or <code>unique_ptr</code> for that matter), it cannot be predicted whether an object was stored as a <code>shared_ptr</code> all the time. Perhaps it was stored as a <code>unique_ptr</code>.</p>\n\n<p><strong>So then my question</strong> is, can one construct a semi-smart pointer e.g. <code>safe_ptr</code> where a <code>shared_ptr</code> <em>or</em> a <code>unique_ptr</code> can be converted to a <code>safe_ptr</code> i.e. <code>safe_ptr</code> becomes the default access for all smart pointers. The <code>safe_ptr</code> itself gets compiled out to a raw pointer in release builds, but in debug builds it provides valuable information when the pointer is dereferenced in cases where the object has been destroyed by <code>shared_ptr</code> and <code>unique_ptr</code> and triggers a debug break (the program was going to crash anyway with undefined behavior!)</p>\n"}, {"tags": ["c++", "linux", "sockets", "network-programming", "redhat"], "answers": [{"tags": [], "owner": {"reputation": 2048, "user_id": 6192747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-agy-meieasc/AAAAAAAAAAI/AAAAAAAAAC8/ipYF1p3tygQ/photo.jpg?sz=128", "display_name": "Stian Skjelstad", "link": "https://stackoverflow.com/users/6192747/stian-skjelstad"}, "is_accepted": false, "score": 1, "last_activity_date": 1461320734, "creation_date": 1461320734, "answer_id": 36791243, "question_id": 36749988, "link": "https://stackoverflow.com/questions/36749988/how-to-bind-sockets-to-a-virtual-interface/36791243#36791243", "title": "How to bind sockets to a virtual interface?", "body": "<p>eno1:0 is not virtual interface, it is just an alias for eno1. Binding to eno1 with IP 0.0.0.0 (INADDR_ANY) should work for the virtual interfaces aswell. A bigger problem when you have the same network address on multiple devices is the routing table, that is used to decide which interface to use when sending data</p>\n"}], "owner": {"reputation": 862, "user_id": 2625036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67b4f5e3be6c086e1d20aa4184477d28?s=128&d=identicon&r=PG", "display_name": "Ali", "link": "https://stackoverflow.com/users/2625036/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461320734, "creation_date": 1461170138, "question_id": 36749988, "link": "https://stackoverflow.com/questions/36749988/how-to-bind-sockets-to-a-virtual-interface", "title": "How to bind sockets to a virtual interface?", "body": "<p>In the setup I'm working with I have multiple interfaces and some of them have exact same IPs. i.e: ifconfig returns </p>\n\n<pre><code>eno1: ... inet 192.168.2.1  netmask 255.255.255.0 ...\neno2: ... inet 192.168.2.1  netmask 255.255.255.0 ...\n</code></pre>\n\n<p>Yes, I know it's crazy but unfortunately I can not change the IPs. So when I am binding the sockets, in this specific case they are UDP sockets to receive data, I have to bind the socket to the interface with something like this:</p>\n\n<pre><code>// if interface is provided, bind to the interface\nif (szIfr != 0)\n{\n    struct ifreq ifr;\n    memset(&amp;ifr, 0, sizeof(ifr));\n    snprintf(ifr.ifr_name, sizeof(ifr.ifr_name), szIfr);\n    if (setsockopt(m_sSocket, SOL_SOCKET, SO_BINDTODEVICE, (void *)&amp;ifr, sizeof(ifr)) &lt; 0)\n    {\n        printf(\"OPEN(): error binding to %s. Error returned: %s\\n\", szIfr, strerror(errno));\n        return CUDP_BIND;\n    }\n}\n</code></pre>\n\n<p>and it works perfectly. But I'm having problem with binding the socket with a virtual interface. This is my actual setup</p>\n\n<pre><code>...\neno1:   ... inet 192.168.2.1    netmask 255.255.255.0 ...\neno1:0: ... inet 10.24.6.1      netmask 255.255.255.0 ...\neno1:1: ... inet 10.8.6.4       netmask 255.255.255.0 ...\neno2:   ... inet 192.168.2.1    netmask 255.255.255.0 ...\n...\n</code></pre>\n\n<p>So, when I try to bind to <code>eno1:0</code> I get this error: <code>No such device</code> and it also makes sense. Because the interface is virtual and  it doesn't exist. But If I try to bind to the real interface <code>eno1</code> with the IP of the virtual interface I don't receive any packet on that socket. If I just bind it to the IP without specifying the name of the interface I don't get any error but I still don't receive the data. </p>\n\n<p>What am I doing wrong here? Is it something to do with the interface settings or I have to modify my code?</p>\n\n<p>I'm testing this code on RedHat 7.1 with kernel redhat kernel 4.1.5.</p>\n"}, {"tags": ["c++", "string", "breadth-first-search"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1461170175, "post_id": 36749977, "comment_id": 61080693, "body": "Well, did you inspect your code line by line using the debugger?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6205692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde1e744bde96469f193c43b8236257a?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel", "link": "https://stackoverflow.com/users/6205692/lionel"}, "edited": false, "score": 0, "creation_date": 1461171032, "post_id": 36750125, "comment_id": 61081213, "body": "Would you mind editing my code to illustrate the mistake of mine you found? Thanks so much for your help timrau"}], "tags": [], "owner": {"reputation": 21474, "user_id": 718379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4810c6c963334e5dce573e6671d746ec?s=128&d=identicon&r=PG", "display_name": "timrau", "link": "https://stackoverflow.com/users/718379/timrau"}, "is_accepted": false, "score": 0, "last_activity_date": 1461170584, "creation_date": 1461170584, "answer_id": 36750125, "question_id": 36749977, "link": "https://stackoverflow.com/questions/36749977/breadth-first-search-two-strings/36750125#36750125", "title": "Breadth First Search two Strings", "body": "<pre><code>     for(std:: set&lt;string&gt; :: iterator j = list[i]-&gt;edges.begin();\n         j !=list[i]-&gt;edges.end(); j++){\n         if(!visited[a]){\n             visited[a] = true;\n             q.push(end);\n         }\n     }\n</code></pre>\n\n<p>Here you looped through <code>list[i]</code> by iterator <code>j</code>, but you never cared about <code>j</code>. You only confirmed many times that <code>start</code> is visited (by checking <code>!visited[a]</code>)</p>\n"}], "owner": {"reputation": 9, "user_id": 6205692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde1e744bde96469f193c43b8236257a?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel", "link": "https://stackoverflow.com/users/6205692/lionel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461173088, "creation_date": 1461170091, "last_edit_date": 1461173088, "question_id": 36749977, "link": "https://stackoverflow.com/questions/36749977/breadth-first-search-two-strings", "title": "Breadth First Search two Strings", "body": "<p>I'm trying to create a depth first search algorithm when given two strings. I have built my graph but am having trouble with the breadth first search algorithm. I'm not exactly sure what I should do with my int a and int b that I get from my hash function.</p>\n\n<p>For context....\nVertex node has a name ex. John, and a set of string, which are a lists of other names that John is friends with. I am given two names in main ex.  John and Mary, and I want to print out the paths that connect these two names. I only have code for BFS for integers, which is why I am getting slightly confused. Any help would be greatly appreciated. </p>\n\n<pre><code> struct vertex_node {\n            string name;\n            set &lt;string&gt; edges;\n };\n\n void Graph::paths(string start, string end)\n</code></pre>\n\n<p>{</p>\n\n<pre><code>bool visited[capacity];\n    for(int i=0; i&lt;capacity; i++){\n        visited[i]=false;\n    }\n\nqueue &lt;string&gt; q;\n\nint a = hash_string(start) % capacity;\nint b = hash_string(end) % capacity;\n\nvisited[a]=true;\n\nq.push(start);\nvisited[a]=true;\n\nwhile(!q.empty()){\n    start = q.front();\n    cout &lt;&lt; start &lt;&lt; \" \";\n    q.pop();\n\n    for(int i=0;i &lt; courses-&gt;get_capacity(); i++){\n        for(std:: set&lt;string&gt; :: iterator j = list[]-&gt;edges.begin();\n        j !=list[i]-&gt;edges.end(); j++){\n        if(!visited[*j]){\n             visited[*j] = true;\n             q.push(*j);\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 3, "creation_date": 1461170189, "post_id": 36749955, "comment_id": 61080702, "body": "<code>Level::getLevel()</code> -&gt; you cannot return from a function more than once"}, {"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1461170297, "post_id": 36749955, "comment_id": 61080755, "body": "So would making a new function in Level.cpp returning only speed and calling it in Enemy.cpp solve the issue?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1461170343, "post_id": 36749955, "comment_id": 61080780, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/36645510/returning-2-values-within-a-function\">returning 2 values within a function</a>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461170482, "post_id": 36749955, "comment_id": 61080869, "body": "Why would <code>Level::getLevel()</code> return <code>speed</code> anyways?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461170484, "post_id": 36749955, "comment_id": 61080871, "body": "actually this question is not an exact duplicate of the above, it is based on a similar misunderstanding, but here you should provide a separate getter method, yes"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 3, "creation_date": 1461170488, "post_id": 36749955, "comment_id": 61080874, "body": "@JarrodA., dunno, but seeing two successive <code>return</code>s in a function makes me think you&#39;re missing some fundamental things. Also, you never call neither <code>getLevel</code> nor <code>LevelUp</code>"}, {"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1461170645, "post_id": 36749955, "comment_id": 61080967, "body": "@ForceBru LevelUp is called in score.cpp, which isn&#39;t listed above, and is used in Game.h, which Enemy.cpp uses as a header. getLevel is also called there, and I have the same sharing headers thing from Game.h, such as the health int in Enemy.cpp"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1461170654, "post_id": 36749955, "comment_id": 61080970, "body": "I mean, if you return from a function, then it literally goes to nowhere: it&#39;s literally <i>&#39;executed&#39;</i>. Once it <code>return</code>s, it can do nothing more, so your <code>return</code>s look like a giant flaw in the logic."}, {"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461170735, "post_id": 36749955, "comment_id": 61081023, "body": "@tobi303 The game works as is, no issues at all, I&#39;m just taking the next step. I only included 2 files out of 9 that I have. The game is finished per say, just adding a challenge :)"}, {"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1461170948, "post_id": 36749955, "comment_id": 61081148, "body": "@ForceBru I use <code>return level;</code> just like I do in a few other files, like the Health and Score, returning those values so that the math to increase or decrease them can update the value and output it to Game.cpp to be displayed, I&#39;m sure there are easier ways to accomplish this, or maybe my method is unnecessary, but that&#39;s how I accomplished it."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461171020, "post_id": 36749955, "comment_id": 61081202, "body": "@JarrodA. srry, it was a quite stupid comment and I will delete it in a second. I was just trying to tell you that you are obviously missing some c++ basics (no offense) and me and others might be able to clarify things and the sarcasm was a bit misplaced..."}, {"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1461171127, "post_id": 36749955, "comment_id": 61081268, "body": "@tobi303 No offense taken, I didn&#39;t take your comment aggressively or think it was sarcastic, I just didn&#39;t want to post every file I had to bloat the question with unneeded code."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "edited": false, "score": 0, "creation_date": 1461170807, "post_id": 36750158, "comment_id": 61081062, "body": "Could you point me in the right direction to accomplish that?"}], "tags": [], "owner": {"reputation": 69, "user_id": 5890099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMU45.jpg?s=128&g=1", "display_name": "JaNL", "link": "https://stackoverflow.com/users/5890099/janl"}, "is_accepted": false, "score": 0, "last_activity_date": 1461170692, "creation_date": 1461170692, "answer_id": 36750158, "question_id": 36749955, "link": "https://stackoverflow.com/questions/36749955/qt-how-to-use-a-value-from-another-function/36750158#36750158", "title": "(Qt) How to use a value from another function?", "body": "<p>not sure which design pattern you are using, but sounds you need a controller to control enemy object. So basically whenever level is changed the level obj should tell the controller, well now enemy should increase speed. Then the controller will notify the enemy.</p>\n"}], "owner": {"reputation": 83, "user_id": 5398751, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/468fffe5e7d8de6ee824b7d97d6ba320?s=128&d=identicon&r=PG&f=1", "display_name": "Jarrod A.", "link": "https://stackoverflow.com/users/5398751/jarrod-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1461171720, "creation_date": 1461170018, "last_edit_date": 1461171720, "question_id": 36749955, "link": "https://stackoverflow.com/questions/36749955/qt-how-to-use-a-value-from-another-function", "title": "(Qt) How to use a value from another function?", "body": "<p>So here's my issue. I'm making an extremely simple game in Qt, but I'm having trouble increasing the difficulty in the game. For example, once your score hits a certain value, you level up. In game the text changes and says Level 2, but the game doesn't get any harder. I have the idea to achieve this by making the enemies move faster. I have the enemies moving at a predefined value, but I want the position change to be equal to the value \"speed\" in Level.cpp. The answer is probably staring me in the face, but it's the simplest answers that always get me. Below is a header and 2 source files that connect Level.cpp and Enemy.cpp.</p>\n\n<p><strong>Enemy.cpp</strong></p>\n\n<pre><code>#include \"Enemy.h\"\n#include &lt;QTimer&gt;\n#include &lt;QGraphicsScene&gt;\n#include &lt;QList&gt;\n#include &lt;stdlib.h&gt; \n#include \"Game.h\"\n#include \"Level.h\"\n\nextern Game * game;\n\nEnemy::Enemy(QGraphicsItem *parent): QObject(), QGraphicsPixmapItem(parent){\n    //set random x position\n    int random_number = rand() % 700;\n    setPos(random_number,0);\n\n    // drew the rect\n    setPixmap(QPixmap(\":/images/enemy.png\"));\n    setTransformOriginPoint(50,50);\n\n    // make/connect a timer to move() the enemy every so often\n    QTimer * timer = new QTimer(this);\n    connect(timer,SIGNAL(timeout()),this,SLOT(move()));\n\n    // start the timer\n    timer-&gt;start(30);\n}\n\nvoid Enemy::move(){\n    // move enemy down\n    setPos(x(),y()+7);\n    //Instead of 7 above, use speed from Level.cpp\n\n    // destroy enemy when it goes out of the screen\n    if (pos().y() &gt; 600){\n        //decrease the health\n        game-&gt;health-&gt;decrease();\n        scene()-&gt;removeItem(this);\n        delete this;\n    }\n}\n</code></pre>\n\n<p><strong>Level.cpp</strong></p>\n\n<pre><code>#include \"Level.h\"\n#include \"Enemy.h\"\n#include &lt;QFont&gt;\n\nLevel::Level(QGraphicsItem *parent): QGraphicsTextItem(parent){\n    // initialize the score to 0\n    level = 1;\n    speed = 5;\n    // draw the text\n    setPlainText(QString(\"Level: \") + QString::number(level)); // Level: 0\n    setDefaultTextColor(Qt::green);\n    setFont(QFont(\"times\",16));\n}\n\n    void Level::LevelUp(){\n        level++;\n        speed = speed+2;\n        setPlainText(QString(\"Level: \") + QString::number(level)); // Level: 1\n    }\n\n    int Level::getLevel(){\n        return level;\n        return speed;\n    }\n</code></pre>\n\n<p><strong>Level.h</strong></p>\n\n<pre><code>#ifndef LEVEL_H\n#define LEVEL_H\n\n#include &lt;QGraphicsTextItem&gt;\n\nclass Level: public QGraphicsTextItem{\npublic:\n    Level(QGraphicsItem * parent=0);\n    int getLevel();\n    void LevelUp();\n    int speed; //speed is public because I got \"int is private\" errors on a few things I tried.\nprivate:\n    int level;\n};\n\n#endif // LEVEL_H\n</code></pre>\n\n<p>Thanks for any help, and if possible in-depth explanations on what you did to solve the issue.</p>\n\n<p>EDIT: Would my issue be trying to send out Speed, but being unable to because the Level function is labled as a <code>QGraphicsTextItem</code>? Will I just need to create a separate function to increase speed?</p>\n"}, {"tags": ["c#", "c++", "xamarin.ios"], "comments": [{"owner": {"reputation": 3382, "user_id": 572076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eab0149d3185d69e4f1ada67f32e0e5?s=128&d=identicon&r=PG", "display_name": "dalexsoto", "link": "https://stackoverflow.com/users/572076/dalexsoto"}, "edited": false, "score": 0, "creation_date": 1461220004, "post_id": 36749940, "comment_id": 61101159, "body": "<code>not getting copied back to Windows</code> - Can you clarify this? not sure how you are trying to reference this in the Xamarin.iOS app from visual studio"}, {"owner": {"reputation": 33, "user_id": 6041709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42952bd7341180a8dd455e05c2e33?s=128&d=identicon&r=PG&f=1", "display_name": "Rahim", "link": "https://stackoverflow.com/users/6041709/rahim"}, "reply_to_user": {"reputation": 3382, "user_id": 572076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eab0149d3185d69e4f1ada67f32e0e5?s=128&d=identicon&r=PG", "display_name": "dalexsoto", "link": "https://stackoverflow.com/users/572076/dalexsoto"}, "edited": false, "score": 0, "creation_date": 1461260822, "post_id": 36749940, "comment_id": 61130451, "body": "@dalexsoto, After the compilation process finished, the output .a file is generated in Mac machine, not in Windows. So I would like to know how can I reference this static library generated in Mac machine into the iOS visual studio project in Windows?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6041709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42952bd7341180a8dd455e05c2e33?s=128&d=identicon&r=PG&f=1", "display_name": "Rahim", "link": "https://stackoverflow.com/users/6041709/rahim"}, "edited": false, "score": 0, "creation_date": 1461345483, "post_id": 36778281, "comment_id": 61173639, "body": "Thank you very much for your answer. I think I will try Swig, as the video is very much explaining step by step how to use swig for C/C++ library to use in iOS"}, {"owner": {"reputation": 3382, "user_id": 572076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eab0149d3185d69e4f1ada67f32e0e5?s=128&d=identicon&r=PG", "display_name": "dalexsoto", "link": "https://stackoverflow.com/users/572076/dalexsoto"}, "reply_to_user": {"reputation": 33, "user_id": 6041709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42952bd7341180a8dd455e05c2e33?s=128&d=identicon&r=PG&f=1", "display_name": "Rahim", "link": "https://stackoverflow.com/users/6041709/rahim"}, "edited": false, "score": 0, "creation_date": 1461372959, "post_id": 36778281, "comment_id": 61184520, "body": "No problem at all, hope that gets you started :)"}, {"owner": {"reputation": 87, "user_id": 3244471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9100cb45f467dc8023e08523780daac?s=128&d=identicon&r=PG&f=1", "display_name": "Clusty", "link": "https://stackoverflow.com/users/3244471/clusty"}, "reply_to_user": {"reputation": 33, "user_id": 6041709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42952bd7341180a8dd455e05c2e33?s=128&d=identicon&r=PG&f=1", "display_name": "Rahim", "link": "https://stackoverflow.com/users/6041709/rahim"}, "edited": false, "score": 1, "creation_date": 1479155020, "post_id": 36778281, "comment_id": 68429831, "body": "Sorry for resurrecting this post. I am having exactly the same problem as @Rahim that libs are not &quot;downloaded&quot; to my windows.  In fact I created my own C wrapper and hand P/Invoking the C code.  My problem stems from the fact that I cannot tell VS Xamarin project that it should link with my VC++ Ios lib. Any clues ?"}], "tags": [], "owner": {"reputation": 3382, "user_id": 572076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eab0149d3185d69e4f1ada67f32e0e5?s=128&d=identicon&r=PG", "display_name": "dalexsoto", "link": "https://stackoverflow.com/users/572076/dalexsoto"}, "is_accepted": true, "score": 2, "last_activity_date": 1461265220, "last_edit_date": 1592644375, "creation_date": 1461265220, "answer_id": 36778281, "question_id": 36749940, "link": "https://stackoverflow.com/questions/36749940/c-library-in-c-ios-project-in-visual-studio/36778281#36778281", "title": "c++ library in C# IOS project in Visual studio", "body": "<p>So you have several options here, what you need to do is to have a Dll that contains the native .a library and the resources/code to interop with the native c++ library (and reference that Dll in your Visual Studio Xamarin.iOS project). You can use a Xamarin iOS Binding project as a container and one of the following options</p>\n<ul>\n<li><p>You can use <a href=\"http://www.swig.org\" rel=\"nofollow noreferrer\">swig</a> to wrap the c++ lib and there is actually a video from <a href=\"https://university.xamarin.com/lightninglectures/ios-bindings-in-cc\" rel=\"nofollow noreferrer\">Xamarin University lighting lectures from Chris Van Wyk</a> that describes the process.</p>\n</li>\n<li><p>You can use <a href=\"https://github.com/mono/CppSharp\" rel=\"nofollow noreferrer\">Mono CppSharp</a> to wrap the library (My personal favourite easier to use than swig).</p>\n</li>\n<li><p>You can write your own c wrapper around the c++ library and P/Invoke that from C#</p>\n</li>\n<li><p>You can write your own Objective-C wrapper around the c++ library and use a Xamarin.iOS Binding project to interop with it.</p>\n<p>Hope this helps.</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 6041709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e42952bd7341180a8dd455e05c2e33?s=128&d=identicon&r=PG&f=1", "display_name": "Rahim", "link": "https://stackoverflow.com/users/6041709/rahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1075, "favorite_count": 0, "accepted_answer_id": 36778281, "answer_count": 1, "score": 3, "last_activity_date": 1461265220, "creation_date": 1461169953, "question_id": 36749940, "link": "https://stackoverflow.com/questions/36749940/c-library-in-c-ios-project-in-visual-studio", "title": "c++ library in C# IOS project in Visual studio", "body": "<p>I have created a C++ static library for ios (XCode 6.1) in visual studio. But when I compile this project, the output .a file is getting created in Mac machine and not getting copied back to Windows. My concern is that how can I refer this static library in an iOS C# application project in Visual studio?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 13595, "user_id": 668501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f15b157200c05100d6baeb0ede510f0?s=128&d=identicon&r=PG", "display_name": "Soren", "link": "https://stackoverflow.com/users/668501/soren"}, "edited": false, "score": 1, "creation_date": 1461170104, "post_id": 36749925, "comment_id": 61080658, "body": "What exact error message are you getting?"}, {"owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "reply_to_user": {"reputation": 13595, "user_id": 668501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f15b157200c05100d6baeb0ede510f0?s=128&d=identicon&r=PG", "display_name": "Soren", "link": "https://stackoverflow.com/users/668501/soren"}, "edited": false, "score": 0, "creation_date": 1461170176, "post_id": 36749925, "comment_id": 61080694, "body": "A nonstatic member reference must be relative to a specific object"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "edited": false, "score": 1, "creation_date": 1461170439, "post_id": 36750002, "comment_id": 61080840, "body": "Thank you very much. That fixed it. That&#39;s what I get for starting with java I guess."}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "reply_to_user": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "edited": false, "score": 0, "creation_date": 1461170753, "post_id": 36750002, "comment_id": 61081035, "body": "Hehe, Java does a lot implict magic behind the scenes. C++ tends to be more explicit. What is better is a matter of taste I guess."}, {"owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "edited": false, "score": 0, "creation_date": 1461171106, "post_id": 36750002, "comment_id": 61081255, "body": "I had it first without the pointers and then when I got the error, I decided to change to it pointers thinking it would work."}], "tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": false, "score": 4, "last_activity_date": 1461170576, "last_edit_date": 1461170576, "creation_date": 1461170162, "answer_id": 36750002, "question_id": 36749925, "link": "https://stackoverflow.com/questions/36749925/a-nonstatic-member-reference-must-be-relative-to-a-specific-object/36750002#36750002", "title": "A nonstatic member reference must be relative to a specific object?", "body": "<p>C++ simply does not capture its \"parent\" instance, as e.g. Java does. In the nested ClassB and ClassC you need an explicit back-reference to ClassA:</p>\n\n<pre><code>class ClassA {\npublic:\n    ClassA() : object(new ClassB(*this)) {}\n    ~ClassA() { delete this-&gt;object; }\nprivate:\n    class ClassB {\n        classA &amp;parent;\n    public:\n        ClassB(classA &amp;parent) : parent(parent) {}\n    };\n    ClassB *object;\n};\n</code></pre>\n\n<p>But why do you allocate ClassB in here dynamically? This is easier to read and understand and less error prone:</p>\n\n<pre><code>class ClassA {\npublic:\n    ClassA() : object(*this) {}\n    ~ClassA() {}\nprivate:\n    class ClassB {\n        classA &amp;parent;\n    public:\n        ClassB(classA &amp;parent) : parent(parent) {}\n    };\n    ClassB object;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "edited": false, "score": 0, "creation_date": 1461170467, "post_id": 36750037, "comment_id": 61080860, "body": "Indeed the error is a bit misleading. Thanks for you help."}, {"owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "edited": false, "score": 0, "creation_date": 1461170875, "post_id": 36750037, "comment_id": 61081099, "body": "It&#39;s exactly like you said only for illustration purposes."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 3, "last_activity_date": 1461170300, "creation_date": 1461170300, "answer_id": 36750037, "question_id": 36749925, "link": "https://stackoverflow.com/questions/36749925/a-nonstatic-member-reference-must-be-relative-to-a-specific-object/36750037#36750037", "title": "A nonstatic member reference must be relative to a specific object?", "body": "<p>I would say, the error text is misleading. But in essence it means that there is no way to access parent <strong>object</strong> from child <strong>object</strong>, unless parent object is specifically captured in child's member.</p>\n\n<p>The code has a big problem with the incorrect management of pointers (see rule of 5), but since I take this is for illustration only, I won't focus on it.</p>\n"}], "owner": {"reputation": 33, "user_id": 6231367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a701f465156f40aff9c03ae47ce6a796?s=128&d=identicon&r=PG&f=1", "display_name": "zwya", "link": "https://stackoverflow.com/users/6231367/zwya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3188, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1461170576, "creation_date": 1461169915, "last_edit_date": 1461170306, "question_id": 36749925, "link": "https://stackoverflow.com/questions/36749925/a-nonstatic-member-reference-must-be-relative-to-a-specific-object", "title": "A nonstatic member reference must be relative to a specific object?", "body": "<p>I have this simple code where two inner classes are depending on each other. I can't call object's <code>functionB()</code> inside of <code>functionC()</code> although as you can see I have created a pointer to an object of <code>ClassB</code> and even instantiated the object yet I still get the error that I need to call the function from an object. I was wondering what exactly am I doing wrong here?</p>\n\n<pre><code>#include &lt;iostream&gt;\nclass ClassA\n{\npublic:\n    ClassA() { object = new ClassB(); };\n    ~ClassA();\n    void functionA() {  };\nprivate:\n    class ClassB\n    {\n    public:\n        void functionB() { std::cout &lt;&lt; \"Function B\"; };\n    };\n    class ClassC\n    {\n    public:\n        void functionC() {\n            std::cout &lt;&lt; \"Fuction C\";\n            object-&gt;functionB();\n        }; //Error here\n    };\n    ClassB* object;\n    ClassC* object1;\n};\n</code></pre>\n"}, {"tags": ["c++", "opencv", "feature-detection"], "comments": [{"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 1, "creation_date": 1461171466, "post_id": 36749923, "comment_id": 61081456, "body": "From a quick browsing of the source code it looks like there is extensive optimization for SSE and OpenCL in fastFeatureDetector: <a href=\"https://github.com/Itseez/opencv/blob/master/modules/features2d/src/fast.cpp\" rel=\"nofollow noreferrer\">github.com/Itseez/opencv/blob/master/modules/features2d/src/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "reply_to_user": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1461172556, "post_id": 36749923, "comment_id": 61082096, "body": "So, if I understand correctly, by writing code for a specific CPU, you can get over x4 speedups? Or maybe FAST detector employs GPU when possible? Both of these seem implausible, but I&#39;m no expert...."}, {"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 1, "creation_date": 1461173574, "post_id": 36749923, "comment_id": 61082660, "body": "SSE and OpenCL are not specific to any CPU. SSE utilizes the CPU&#39;s ability to perform a single instruction (calculation) on multiple pieces of data simultaneously. So depending on the CPU&#39;s architecture this can improve speeds as little as 2x or well beyond 4x. OpenCL can utilize the GPU which can also give major performance boosts to certain image processing operations."}, {"owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "reply_to_user": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1475853695, "post_id": 36749923, "comment_id": 67125065, "body": "BHawk, if you can copy your comment as an answer I will accept it. Maybe you could also take a look at the related question: <a href=\"http://stackoverflow.com/questions/39920813/opencv-fast-detector-on-gpu\" title=\"opencv fast detector on gpu\">stackoverflow.com/questions/39920813/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "is_accepted": true, "score": 2, "last_activity_date": 1475855165, "last_edit_date": 1592644375, "creation_date": 1475855165, "answer_id": 39921195, "question_id": 36749923, "link": "https://stackoverflow.com/questions/36749923/opencv-fast-detector/39921195#39921195", "title": "OpenCV FAST detector", "body": "<p>From a quick browsing of the source code it looks like there is extensive optimization for SSE and OpenCL in fastFeatureDetector: <a href=\"http://github.com/Itseez/opencv/blob/master/modules/features2d/src/%E2%80%8C\" rel=\"nofollow noreferrer\">github.com/Itseez/opencv/blob/master/modules/features2d/src/\u200c</a></p>\n<p>SSE and OpenCL are not specific to any CPU. SSE utilizes the CPU's ability to perform a single instruction (calculation) on multiple pieces of data simultaneously. So depending on the CPU's architecture this can improve speeds as little as 2x or well beyond 4x. OpenCL can utilize the GPU which can also give major performance boosts to certain image processing operations.</p>\n"}], "owner": {"reputation": 4494, "user_id": 1639049, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BHtcC.jpg?s=128&g=1", "display_name": "ancajic", "link": "https://stackoverflow.com/users/1639049/ancajic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 0, "accepted_answer_id": 39921195, "answer_count": 1, "score": 1, "last_activity_date": 1475855165, "creation_date": 1461169910, "last_edit_date": 1461170438, "question_id": 36749923, "link": "https://stackoverflow.com/questions/36749923/opencv-fast-detector", "title": "OpenCV FAST detector", "body": "<p>In my <em>main.cpp</em> I have an excerpt:</p>\n\n<pre><code>Ptr&lt;FastFeatureDetector&gt; fastDetector = FastFeatureDetector::create(80, true);\n\nwhile (true) {\n    Mat image = // get grayscale image 1280x720\n\n    timer.start();\n    detector-&gt;detect(image, keypoints);\n    myfile &lt;&lt; \"FAST\\t\" &lt;&lt; timer.end() &lt;&lt; endl; // timer.end() is how many seconds elapsed since last timer.start()\n\n\n    keypoints.clear();\n\n    timer.start();\n    for (int i = 3; i &lt; image.rows - 3; i++)\n    {\n        for (int j = 3; j &lt; image.cols - 3; j++)\n        {\n            if (inspectPoint(image.data, image.cols, i, j)) {\n                // this block is never entered\n                KeyPoint keypoint(i, j, 3);\n                keypoints.push_back(keypoint);\n            }\n        }\n    }\n    myfile &lt;&lt; \"Custom\\t\" &lt;&lt; timer.end() &lt;&lt; endl;\n    myfile &lt;&lt; endl;\n    myfile.flush();\n    ...\n}\n</code></pre>\n\n<p><em>myfile</em> is saying:</p>\n\n<pre><code>FAST    0.000515495\nCustom  0.00221361\n\nFAST    0.000485697\nCustom  0.00217653\n\nFAST    0.000490001\nCustom  0.00219044\n\nFAST    0.000484373\nCustom  0.00216329\n\nFAST    0.000561184\nCustom  0.00233214\n</code></pre>\n\n<p>So one would expect that <code>inspectPoint()</code> is a function that is actually doing something.</p>\n\n<pre><code>bool inspectPoint(const uchar* img, int cols, int i, int j) {\n    uchar p = img[i * cols + j];\n    uchar pt = img[(i - 3)*cols + j];\n    uchar pr = img[i*cols + j + 3];\n    uchar pb = img[(i + 3)*cols + j];\n    uchar pl = img[i*cols + j - 3];\n\n    return cols &lt; pt - pr + pb - pl + i; // just random check so that the optimizer doesn't skip any calculations\n}\n</code></pre>\n\n<p>I am using Visual Studio 2013 and the optimization is set to \"Full Optimization (/Ox)\".</p>\n\n<p>As far as I know, FAST algorithm goes through all pixels? I suppose it is not possible that it actually processes each pixel faster than the function <code>inspectPoint()</code>.</p>\n\n<p>How is FAST detector so fast? Or rather, why is the nested loop so slow?</p>\n"}, {"tags": ["c++", "c", "parallel-processing", "cuda"], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 5164423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aWXeOsNK6AI/AAAAAAAAAAI/AAAAAAAAABY/LdklER42QEY/photo.jpg?sz=128", "display_name": "tusharrnimje", "link": "https://stackoverflow.com/users/5164423/tusharrnimje"}, "is_accepted": true, "score": 4, "last_activity_date": 1461174566, "creation_date": 1461174566, "answer_id": 36751457, "question_id": 36749870, "link": "https://stackoverflow.com/questions/36749870/cuda-global-to-shared-memory-and-constant-memory/36751457#36751457", "title": "Cuda global to shared memory and constant memory", "body": "<p>a) <strong>Shared memory</strong>: This memory will be visible only to all threads in a block. This shared memory is useful if you are accessing data more than once from that block.So in squaring of a number it will not be useful but while matrix multiplication it is useful.<br>\nb) <strong>Constant memory</strong>: Data is stored in device global memory and data can be read through multiprocessor constant cache. 64KB constant memory and 8KB cache is given to each multiprocessor.Data is broadcast to all threads in a warp.So if all the threads in the warp request the same value, that value is delivered to in a single cycle.</p>\n\n<p>Below links helped me in understanding constant and shared memory  </p>\n\n<p>1) <a href=\"http://cuda-programming.blogspot.in/2013/01/what-is-constant-memory-in-cuda.html\" rel=\"nofollow\">http://cuda-programming.blogspot.in/2013/01/what-is-constant-memory-in-cuda.html</a><br>\n2) <a href=\"http://cuda-programming.blogspot.in/2013/01/shared-memory-and-synchronization-in.html\" rel=\"nofollow\">http://cuda-programming.blogspot.in/2013/01/shared-memory-and-synchronization-in.html</a><br>\n3) <a href=\"https://devblogs.nvidia.com/parallelforall/using-shared-memory-cuda-cc/\" rel=\"nofollow\">https://devblogs.nvidia.com/parallelforall/using-shared-memory-cuda-cc/</a>  </p>\n\n<p>Please refer this links.</p>\n"}], "owner": {"reputation": 661, "user_id": 2806570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8c13bd98acab66dd3bb64c3f511822d?s=128&d=identicon&r=PG&f=1", "display_name": "user2806570", "link": "https://stackoverflow.com/users/2806570/user2806570"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 36751457, "answer_count": 1, "score": 1, "last_activity_date": 1461174566, "creation_date": 1461169737, "question_id": 36749870, "link": "https://stackoverflow.com/questions/36749870/cuda-global-to-shared-memory-and-constant-memory", "title": "Cuda global to shared memory and constant memory", "body": "<p>I just started learning cuda and I'm having an issue converting some code to use shared memory and another to use constant memory, for comparison purposes.</p>\n\n<pre><code>__global__ void CUDA(int *device_array_Image1, int *device_array_Image2,int *device_array_Image3, int *device_array_kernel, int *device_array_Result1,int *device_array_Result2,int *device_array_Result3){\n\nint i = blockIdx.x;\nint j = threadIdx.x;\n\n\nint ArraySum1 = 0 ; // set sum = 0 initially\nint ArraySum2 = 0 ;\nint ArraySum3 = 0 ;\nfor (int N = -1 ; N &lt;= 1 ; N++)\n{\n    for (int M = -1 ; M &lt;= 1 ; M++)\n    {\n        ArraySum1 = ArraySum1 + (device_array_Image1[(i + N) * Image_Size + (j + M)]* device_array_kernel[(N + 1) * 3 + (M + 1)]);\n        ArraySum2 = ArraySum2 + (device_array_Image2[(i + N) * Image_Size + (j + M)]* device_array_kernel[(N + 1) * 3 + (M + 1)]);\n        ArraySum3 = ArraySum3 + (device_array_Image3[(i + N) * Image_Size + (j + M)]* device_array_kernel[(N + 1) * 3 + (M + 1)]);\n    }\n}\n\ndevice_array_Result1[i * Image_Size + j] = ArraySum1;\ndevice_array_Result2[i * Image_Size + j] = ArraySum2;\ndevice_array_Result3[i * Image_Size + j] = ArraySum3;\n}\n</code></pre>\n\n<p>This is what I have done so far but I'm having an issue understanding the shared and constant memory so if anyone could help with the code or point me in the right direction I'd be really grateful.</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["c++", "windows"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 4, "creation_date": 1461169487, "post_id": 36749727, "comment_id": 61080255, "body": "Are you sure that process named <i>notepad</i> is running? Not <i>notepad <b>.exe</b></i>?"}, {"owner": {"reputation": 86, "user_id": 6224954, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/r6hTl.jpg?s=128&g=1", "display_name": "ioncodes", "link": "https://stackoverflow.com/users/6224954/ioncodes"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1461170026, "post_id": 36749727, "comment_id": 61080599, "body": "@AlgirdasPreid\u017eius, you don&#39;t need to write .exe cause the names are without extension. However i tried it, and it didn&#39;t work aswell."}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 3, "creation_date": 1461170562, "post_id": 36749727, "comment_id": 61080925, "body": "Use a debugger to see what names are returned, or log the names to a file."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1461171640, "post_id": 36749727, "comment_id": 61081565, "body": "@user6224954 1) The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684839%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">documentation</a> of the <code>PROCESSENTRY32</code> states that <code>szExeFile</code> contains <code>The name of the executable file for the process</code>, and the extension, is typically part of the name. 2) The small test case that I have written, due to your claim that it doesn&#39;t contain the file extension, seems to contradict you, since <b>all</b> of the entries returned by <code>Process32First</code>, and <code>Process32Next</code> contained the file extension (and by adding the <i>.exe</i> to <i>notepad</i>, your code said that notepad is running)."}, {"owner": {"reputation": 6536, "user_id": 858968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pVU1w.png?s=128&g=1", "display_name": "josh poley", "link": "https://stackoverflow.com/users/858968/josh-poley"}, "edited": false, "score": 4, "creation_date": 1461171730, "post_id": 36749727, "comment_id": 61081613, "body": "By calling <code>Process32Next</code> immediately after <code>Process32First</code>, you never check the first process returned (e.g. you are skipping a result)."}], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 6224954, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/r6hTl.jpg?s=128&g=1", "display_name": "ioncodes", "link": "https://stackoverflow.com/users/6224954/ioncodes"}, "edited": false, "score": 0, "creation_date": 1461170753, "post_id": 36750041, "comment_id": 61081034, "body": "how i said, .exe doesnt work for me too, but do you mean &quot;Notepad.exe&quot; or &quot;notepad.exe&quot;?"}, {"owner": {"reputation": 820, "user_id": 3241143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9a1bc37ec0fb1ab51cb40d6595f22d?s=128&d=identicon&r=PG&f=1", "display_name": "0xFFFFFFFF", "link": "https://stackoverflow.com/users/3241143/0xffffffff"}, "reply_to_user": {"reputation": 86, "user_id": 6224954, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/r6hTl.jpg?s=128&g=1", "display_name": "ioncodes", "link": "https://stackoverflow.com/users/6224954/ioncodes"}, "edited": false, "score": 0, "creation_date": 1461170826, "post_id": 36750041, "comment_id": 61081078, "body": "just log your entry.szExeFile like the code I pasted, you will know. @user6224954"}, {"owner": {"reputation": 251, "user_id": 6210960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QD5L0.jpg?s=128&g=1", "display_name": "Ethan F.", "link": "https://stackoverflow.com/users/6210960/ethan-f"}, "edited": false, "score": 0, "creation_date": 1461171918, "post_id": 36750041, "comment_id": 61081724, "body": "Funny thing, my Notepad is running, however it&#39;s not in the process list generate by above codes (windows 8.1)"}], "tags": [], "owner": {"reputation": 820, "user_id": 3241143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9a1bc37ec0fb1ab51cb40d6595f22d?s=128&d=identicon&r=PG&f=1", "display_name": "0xFFFFFFFF", "link": "https://stackoverflow.com/users/3241143/0xffffffff"}, "is_accepted": false, "score": 1, "last_activity_date": 1461170637, "last_edit_date": 1461170637, "creation_date": 1461170307, "answer_id": 36750041, "question_id": 36749727, "link": "https://stackoverflow.com/questions/36749727/isprocessrunning-function-always-returns-false/36750041#36750041", "title": "IsProcessRunning function always returns false", "body": "<p>should be \"Notepad.exe\"</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n#include &lt;windows.h&gt;\n#include &lt;tlhelp32.h&gt;\n\nusing namespace std;\n\nbool IsProcessRunning(const wchar_t* processName) {\n    bool exists = false;\n    PROCESSENTRY32 entry;\n    entry.dwSize = sizeof(PROCESSENTRY32);\n\n    HANDLE snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, NULL);\n\n    if (Process32First(snapshot, &amp;entry))\n        while (Process32Next(snapshot, &amp;entry)) {\n\n            wcout &lt;&lt; entry.szExeFile &lt;&lt; endl;\n\n            if (!wcsicmp(entry.szExeFile, processName))\n                exists = true;\n        }\n\n    CloseHandle(snapshot);\n    return exists;\n}\n\nint main() {\n    if (IsProcessRunning(L\"notepad.exe\")) {\n        cout &lt;&lt; \"Notepad running!\";\n    } else {\n        cout &lt;&lt; \"Notepad not running!\";\n    }\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 6224954, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/r6hTl.jpg?s=128&g=1", "display_name": "ioncodes", "link": "https://stackoverflow.com/users/6224954/ioncodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461170637, "creation_date": 1461169302, "last_edit_date": 1461169889, "question_id": 36749727, "link": "https://stackoverflow.com/questions/36749727/isprocessrunning-function-always-returns-false", "title": "IsProcessRunning function always returns false", "body": "<p>IsProcessRunning returns always false, why? notepad is 100% running! I even tried the built version but still not working... It's strange, I can't find a solution via Google :/  </p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;cstdio&gt;\n    #include &lt;windows.h&gt;\n    #include &lt;tlhelp32.h&gt;\n\n    using namespace std;\n\n    bool IsProcessRunning(const wchar_t *processName)\n    {\n        bool exists = false;\n        PROCESSENTRY32 entry;\n        entry.dwSize = sizeof(PROCESSENTRY32);\n\n        HANDLE snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, NULL);\n\n        if (Process32First(snapshot, &amp;entry))\n            while (Process32Next(snapshot, &amp;entry))\n                if (!wcsicmp(entry.szExeFile, processName))\n                    exists = true;\n\n        CloseHandle(snapshot);\n        return exists;\n    }\n\n    int main()\n    {\n        if(IsProcessRunning(L\"notepad\"))\n        {\n            cout &lt;&lt; \"Notepad running!\";\n        }\n        else\n        {\n        cout &lt;&lt; \"Notepad not running!\";\n        }\n        cin.get();\n        return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1461169452, "post_id": 36749726, "comment_id": 61080232, "body": "Because it is function declaration instead of variable. Use <code>Baz x{};</code> instead"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1461169476, "post_id": 36749726, "comment_id": 61080249, "body": "Or simply <code>Bar x</code>;"}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1461169604, "post_id": 36749806, "comment_id": 61080323, "body": "What&#39;s need for empty braces? Also, it declares the function, not defines it."}, {"owner": {"reputation": 69, "user_id": 5890099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMU45.jpg?s=128&g=1", "display_name": "JaNL", "link": "https://stackoverflow.com/users/5890099/janl"}, "edited": false, "score": 0, "creation_date": 1461171504, "post_id": 36749806, "comment_id": 61088801, "body": "fuzzything44, the first part of your answer is correct. However once you declared your own constructor, the class loss default constructor ability"}, {"owner": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461171802, "post_id": 36749806, "comment_id": 61081656, "body": "@SergeyA, I edited the answer as per your suggestion. Is there a reason to prefer <code>Baz x;</code> over <code>Baz x{};</code>? I think there is a subtle difference between the two, but I can&#39;t remember."}, {"owner": {"reputation": 753, "user_id": 900727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6fd96911780db6971dc84ee6c7638a?s=128&d=identicon&r=PG", "display_name": "SSJ_GZ", "link": "https://stackoverflow.com/users/900727/ssj-gz"}, "edited": false, "score": 0, "creation_date": 1461171980, "post_id": 36749806, "comment_id": 61081756, "body": "The curly-bracket form performs value-initialisation; the other, default-initialisation.  Whether one is better than the other is debatable, but I always prefer to avoid uninitialised values :)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 24394, "user_id": 146041, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFOb6.jpg?s=128&g=1", "display_name": "Aaron McDaid", "link": "https://stackoverflow.com/users/146041/aaron-mcdaid"}, "edited": false, "score": 0, "creation_date": 1461172091, "post_id": 36749806, "comment_id": 61081823, "body": "@AaronMcDaid, there is. First of all, it&#39;s less typing! (good enough reason for me!). Second of all, <code>Baz x{}</code> would mean either aggregate initialization or default constructor call depending on <code>Baz</code> layout - while first thing is a default constructor fair and square. Why puzzle your readers?"}, {"owner": {"reputation": 753, "user_id": 900727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6fd96911780db6971dc84ee6c7638a?s=128&d=identicon&r=PG", "display_name": "SSJ_GZ", "link": "https://stackoverflow.com/users/900727/ssj-gz"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1461172761, "post_id": 36749806, "comment_id": 61082201, "body": "@SergeyA Is that definitely the case? 8.5.4.3 (&quot;List-initialization of an object or reference of type T is defined as follows: \u2014 If the initializer list has no elements and T is a class type with a default constructor, the object is value-initialized.&quot;) sounds to me like it suggests otherwise?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 753, "user_id": 900727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6fd96911780db6971dc84ee6c7638a?s=128&d=identicon&r=PG", "display_name": "SSJ_GZ", "link": "https://stackoverflow.com/users/900727/ssj-gz"}, "edited": false, "score": 1, "creation_date": 1461173096, "post_id": 36749806, "comment_id": 61082378, "body": "@SSJ_GZ, well, you need to keep reading. <code>To value-initialize an object of type T means: if T is a .. class type ... with either no default constructor ... or a default constructor that is user-provided or deleted, then the object is default-initialized</code>"}], "tags": [], "owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "is_accepted": true, "score": 4, "last_activity_date": 1461171729, "last_edit_date": 1461171729, "creation_date": 1461169524, "answer_id": 36749806, "question_id": 36749726, "link": "https://stackoverflow.com/questions/36749726/c-why-do-3-of-these-constructor-calls-work-but-one-doesnt/36749806#36749806", "title": "C++ Why do 3 of these constructor calls work, but one doesn&#39;t?", "body": "<p>Your statement <code>Baz x();</code> declares <code>x</code> as a function with no parameters that returns a <code>Baz</code>. Change it to <code>Baz x{};</code> or <code>Baz x;</code> to call the default constructor.</p>\n"}], "owner": {"reputation": 160, "user_id": 3147629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05ba08438b94cde0ff7ffed3a6866a63?s=128&d=identicon&r=PG&f=1", "display_name": "maxlazar", "link": "https://stackoverflow.com/users/3147629/maxlazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 36749806, "answer_count": 1, "score": 0, "last_activity_date": 1461171729, "creation_date": 1461169297, "question_id": 36749726, "link": "https://stackoverflow.com/questions/36749726/c-why-do-3-of-these-constructor-calls-work-but-one-doesnt", "title": "C++ Why do 3 of these constructor calls work, but one doesn&#39;t?", "body": "<p>I have the following imbecile program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass Baz {\npublic:\n    Baz() {cout &lt;&lt; \"Baz ctor \" &lt;&lt; endl;}\n    Baz(int i) : Baz() {}\n    ~Baz() {cout &lt;&lt; \"Baz dtor \" &lt;&lt; endl;}\n};\n\nint main() \n{\n    cout &lt;&lt; \"w\" &lt;&lt; endl;\n    Baz w;\n\n    cout &lt;&lt; \"x\" &lt;&lt; endl;\n    Baz x();\n\n    cout &lt;&lt; \"y\" &lt;&lt; endl;\n    Baz y(1);\n\n    cout &lt;&lt; \"z\" &lt;&lt; endl;\n    Baz z = Baz();\n\n    return 0;\n}\n</code></pre>\n\n<p>This produces the following output:</p>\n\n<pre><code>w\nBaz ctor \nx\ny\nBaz ctor \nz\nBaz ctor \nBaz dtor \nBaz dtor \nBaz dtor \n</code></pre>\n\n<p>My question is thus: Why don't all these calls invoke the constructor?</p>\n\n<p>I have been researching, but I have not found an explanation as to why the 2nd call does not invoke the constructor.  I would expect <code>Baz x()</code> to be equivalent to <code>Baz x = Baz()</code> the same way that <code>Baz y(1)</code> would be equivalent to <code>Baz y = Baz(1)</code>, there must be something I'm missing.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 978, "user_id": 1902082, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f46590cf12954aeab118e32b10f0ed97?s=128&d=identicon&r=PG", "display_name": "scooter me fecit", "link": "https://stackoverflow.com/users/1902082/scooter-me-fecit"}, "edited": false, "score": 2, "creation_date": 1461169557, "post_id": 36749683, "comment_id": 61080295, "body": "Short answer is, &quot;yes&quot;. Are you looking for code? Or do you have code that doesn&#39;t work?"}, {"owner": {"reputation": 1246, "user_id": 713983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809f361edc52e627d115cc68de6e16bc?s=128&d=identicon&r=PG", "display_name": "Roland W", "link": "https://stackoverflow.com/users/713983/roland-w"}, "edited": false, "score": 0, "creation_date": 1461169581, "post_id": 36749683, "comment_id": 61080306, "body": "Welcome to StackOverflow! To get an answer to your question, you should be a little more specific, like what you mean by &quot;loading a file&quot;. Also, it helps if you show us what you have tried to solve the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6231297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07de2c0cbbb004e71a213c6b5d8ba226?s=128&d=identicon&r=PG&f=1", "display_name": "DasIsGoot", "link": "https://stackoverflow.com/users/6231297/dasisgoot"}, "edited": false, "score": 0, "creation_date": 1461170484, "post_id": 36749822, "comment_id": 61080870, "body": "You have the right idea, but i guess I didn&#39;t explain it real well. The idea is that I will have a text file that contains the names of other files. From that, I want to be able to load the files who&#39;s names are in the text file for use in the program. If it helps at all, what I&#39;m trying to do is create a game engine that uses a text file to locate and load assets such as 3d models, textures, and sounds to be used in the game. Hope this helps clarify things."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "reply_to_user": {"reputation": 1, "user_id": 6231297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07de2c0cbbb004e71a213c6b5d8ba226?s=128&d=identicon&r=PG&f=1", "display_name": "DasIsGoot", "link": "https://stackoverflow.com/users/6231297/dasisgoot"}, "edited": false, "score": 0, "creation_date": 1461170801, "post_id": 36749822, "comment_id": 61081057, "body": "@DasIsGoot What is stopping you from implementing this? I am tying to understand the reason for the question and what exactly is the problem."}], "tags": [], "owner": {"reputation": 1010, "user_id": 2235488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47649ff8e61e8d4c6343ced78cf27f83?s=128&d=identicon&r=PG", "display_name": "Catsy", "link": "https://stackoverflow.com/users/2235488/catsy"}, "is_accepted": false, "score": 0, "last_activity_date": 1461169573, "creation_date": 1461169573, "answer_id": 36749822, "question_id": 36749683, "link": "https://stackoverflow.com/questions/36749683/c-loading-files-based-on-text-fiel/36749822#36749822", "title": "C++ Loading files based on text fiel", "body": "<p>It is not clear what you mean. You have a txt file that contains file names? And from all those files you want to load only those that have specific content?</p>\n\n<p>If yes, then you might like to have \"tags\" that belong to each file name, so you can look up easily what the content in those files is and read only those files.</p>\n\n<p>Otherwise, you might have to read all files, find the correct content, and re-process the files. That would be very ineffective though.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 3290529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uImQW.jpg?s=128&g=1", "display_name": "TheDealer105", "link": "https://stackoverflow.com/users/3290529/thedealer105"}, "is_accepted": false, "score": 0, "last_activity_date": 1461169623, "creation_date": 1461169623, "answer_id": 36749833, "question_id": 36749683, "link": "https://stackoverflow.com/questions/36749683/c-loading-files-based-on-text-fiel/36749833#36749833", "title": "C++ Loading files based on text fiel", "body": "<pre><code>#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n  string fileName;\n\n  ifstream myfile (\"example.txt\");\n\n  if (myfile.is_open())\n  {\n    while ( getline (myfile,fileName) )\n    {\n      ifstream myfile2 (fileName);\n      //do something\n      myfile2.close();\n    }\n    myfile.close();\n  }\n  else cout &lt;&lt; \"Unable to open file\"; \n\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6231297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07de2c0cbbb004e71a213c6b5d8ba226?s=128&d=identicon&r=PG&f=1", "display_name": "DasIsGoot", "link": "https://stackoverflow.com/users/6231297/dasisgoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1461340055, "creation_date": 1461169171, "last_edit_date": 1461340055, "question_id": 36749683, "link": "https://stackoverflow.com/questions/36749683/c-loading-files-based-on-text-fiel", "title": "C++ Loading files based on text fiel", "body": "<p>I am wondering if it is possible to load files based on the contents of a text file. Basically, I have a .txt file that looks like this:</p>\n\n<pre><code>\"File1.txt\"\n\"File2.txt\"\n\"File3.txt\"\n...\n...\n...\n</code></pre>\n\n<p>Theoretically, I could load an indefinite number of files of any type, not just .txt. I have a basic knowledge of how file loading works, but if anyone has any ideas or preferably examples of how to do this, I would be greatly thankful.</p>\n\n<p>Thank you</p>\n\n<p>EDIT:\nIt seems there is some confusion on what I am asking, so here goes nothing.</p>\n\n<p>What I would like to be able to do is have the program load multiple files based on a list of file names in a text document. The file names will be names of 3d models, sound files, images, other text documents, etc. I want the program to open the text document then grab the file names line by line and somehow enter those names into a function to be loaded. </p>\n\n<p>So the flow of the process would look like this:\nOpen text document -> Get the first file name in the text document -> Insert that file name into a function to load a file with that name -> Get the next file name in the text document -> Insert that file name into a function to load a file with that name -> etc. etc. etc.</p>\n\n<p>As of right now, the only preventing me from implementing this is that I don't know how to (and have been unable to find information on how to) read the text file line by line to get the file name, and then have the program insert those names into functions for those files to be loaded, so I'm looking for some suggestion and example code if there is any. I hope this clarifies my question. If you need any more information, please feel free to ask.</p>\n"}, {"tags": ["c++", "streaming", "accelerometer", "sensors", "robotics"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1461170748, "post_id": 36749634, "comment_id": 61081033, "body": "How much latency between points being received and being processed can your system tolerate?"}, {"owner": {"reputation": 5940, "user_id": 4605629, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/741edb45b2f1d3e3c3d9555085004ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4605629/greg"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1461171139, "post_id": 36749634, "comment_id": 61081272, "body": "Up to 400-500ms between receiving the data and having it available for the next process is okay. Ideally less then that if possible."}], "owner": {"reputation": 5940, "user_id": 4605629, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/741edb45b2f1d3e3c3d9555085004ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4605629/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461169658, "creation_date": 1461169044, "last_edit_date": 1461169658, "question_id": 36749634, "link": "https://stackoverflow.com/questions/36749634/how-to-manage-a-stream-of-3-000-telemetry-sensor-data-points-per-second", "title": "How to manage a stream of 3,000 telemetry sensor data points per second?", "body": "<p>I am working on a robotics project which streams about 3,000 data points/s of sensor data over wifi.</p>\n\n<p>Once this data arrives it needs to be accessed by two applications. </p>\n\n<p>I am confused as to how to manage this data, one option which came to mind is an in-memory database. This would allow the applications to connect to the database and access the data.</p>\n\n<p>Are there any frameworks built to handle such workloads and if not what is the best way to manage such data? </p>\n\n<p>Preferably the streaming data is stored on disk for debugging however this is not essential.</p>\n"}, {"tags": ["c++", "c", "linux", "sockets", "unix"], "comments": [{"owner": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 0, "creation_date": 1461178752, "post_id": 36749541, "comment_id": 61085825, "body": "Which language is this in, C or C++?"}, {"owner": {"reputation": 853, "user_id": 1464937, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YjsfO.png?s=128&g=1", "display_name": "musasabi", "link": "https://stackoverflow.com/users/1464937/musasabi"}, "reply_to_user": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 0, "creation_date": 1461179522, "post_id": 36749541, "comment_id": 61086335, "body": "It&#39;s very C-style C++, but it&#39;s compiled with g++, so that&#39;s what it is. I was broad with the tags because I figured sockets was... well, broad. =)"}, {"owner": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 0, "creation_date": 1461179651, "post_id": 36749541, "comment_id": 61086421, "body": "Ah, fair enough. It&#39;s worth nothing the preferred norm afaik here is to only use a single &quot;language tag&quot; excepting questions specifically about language compatibility. Still, shall leave it up to you."}, {"owner": {"reputation": 853, "user_id": 1464937, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YjsfO.png?s=128&g=1", "display_name": "musasabi", "link": "https://stackoverflow.com/users/1464937/musasabi"}, "reply_to_user": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 0, "creation_date": 1461180147, "post_id": 36749541, "comment_id": 61086740, "body": "That&#39;s a good point. Details amended. Though, it seems that @alk has offered an answer anyway. Time to test..."}], "answers": [{"tags": [], "owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "is_accepted": false, "score": 3, "last_activity_date": 1461168952, "creation_date": 1461168952, "answer_id": 36749602, "question_id": 36749541, "link": "https://stackoverflow.com/questions/36749541/hung-program-on-a-non-blocking-socket/36749602#36749602", "title": "Hung program on a non-blocking socket", "body": "<p>The option <code>SOCK_NONBLOCK</code> does not refer to the listening socket (the one passed to <code>accept4()</code>), but to the one getting created on acceptance of a connection.</p>\n\n<p>Verbatim from <a href=\"http://man7.org/linux/man-pages/man2/accept.2.html\" rel=\"nofollow\"><code>man accept4</code></a>:</p>\n\n<blockquote>\n  <p><strong>SOCK_NONBLOCK</strong>   Set the <strong>O_NONBLOCK</strong> file status flag on the new open file description. </p>\n</blockquote>\n"}], "owner": {"reputation": 853, "user_id": 1464937, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YjsfO.png?s=128&g=1", "display_name": "musasabi", "link": "https://stackoverflow.com/users/1464937/musasabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461179738, "creation_date": 1461168783, "last_edit_date": 1461179738, "question_id": 36749541, "link": "https://stackoverflow.com/questions/36749541/hung-program-on-a-non-blocking-socket", "title": "Hung program on a non-blocking socket", "body": "<p>At inconsistent intervals of time, I've seen one particular program becoming hung up lately (that is, halting execution but not crashing and not spinning the CPU). When termination with core dumps is forced, it's consistently stuck on this line:</p>\n\n<pre><code>int new_socket = accept4(listen_socket,NULL,NULL,SOCK_NONBLOCK);\n</code></pre>\n\n<p>Since this is a non-blocking accept, how can the program hang up there? It doesn't appear as if operating conditions change dramatically between functional and halted execution.</p>\n\n<p>I am no network programming expert, so please let me know what other source (if any) would provide context for tracking this down.</p>\n\n<p>EDIT: This software is running on and compiled with the following</p>\n\n<pre><code>$ uname -a\nLinux phoenix 3.16.0-30-generic #40~14.04.1-Ubuntu SMP Thu Jan 15 17:43:14 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n\n$ g++ --version\ng++ (Ubuntu 4.8.2-19ubuntu1) 4.8.2\n\n$ ldd --version\nldd (Ubuntu EGLIBC 2.19-0ubuntu6.6) 2.19\n</code></pre>\n"}, {"tags": ["c++", "unit-testing", "hippomocks"], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 1295002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/45fff7ac7f7069fd9a888b5683b46bd2?s=128&d=identicon&r=PG", "display_name": "mrAtari", "link": "https://stackoverflow.com/users/1295002/mratari"}, "is_accepted": true, "score": 1, "last_activity_date": 1470319485, "creation_date": 1470319485, "answer_id": 38769627, "question_id": 36749410, "link": "https://stackoverflow.com/questions/36749410/hippomocks-mocking-function-with-variable-count-of-args/38769627#38769627", "title": "Hippomocks - mocking function with variable count of args", "body": "<p>It does work. You have to convince the compiler with a typedef:</p>\n\n<pre><code>int Verbose(int level, ...)\n{\n    return level;\n}\n\ntypedef int (*va_func)(int level, const char* p1, int p2);\n\nTEST(check_VA_func)\n{\n    MockRepository mocks;\n\n    mocks.ExpectCallFuncOverload((va_func)Verbose).Return(22);\n\n    int result = Verbose(3,\"Hi\",9);\n\n    CHECK(result == 22);\n\n}\n</code></pre>\n\n<p>The drawback of this solution is, that you have to know at compile time, how many arguments will be called at runtime.</p>\n"}], "owner": {"reputation": 13, "user_id": 2424698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd75169ab083711ee3d6eaf79cf3c25?s=128&d=identicon&r=PG", "display_name": "kindrich", "link": "https://stackoverflow.com/users/2424698/kindrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "accepted_answer_id": 38769627, "answer_count": 1, "score": 1, "last_activity_date": 1470319485, "creation_date": 1461168417, "question_id": 36749410, "link": "https://stackoverflow.com/questions/36749410/hippomocks-mocking-function-with-variable-count-of-args", "title": "Hippomocks - mocking function with variable count of args", "body": "<p><a href=\"http://hippomocks.com/Main_Page\" rel=\"nofollow\">Hippomocks</a> have OnCallFuncOverload macro for mocking overloaded function call. I'm trying to use for mocking function with variable count of args. Can anyone give an example for overloaded function with variable count of args?</p>\n\n<p>My code</p>\n\n<pre><code>void Verbose(LPCTSTR pszFormat, ...); \nvoid Verbose(int level, LPCTSTR pszFormat, ...);\nvlevel Verbose(vlevel level, LPCTSTR pszFormat, ...);\n</code></pre>\n\n<p>I'm trying this code</p>\n\n<pre><code>TEST_F(VerboseTests, test)\n{\n    MockRepository mocks;\n    mocks.OnCallFuncOverload((void(*)(int,LPCTSTR,...))Verbose);\n}\n</code></pre>\n\n<p>Compiler output:</p>\n\n<pre><code>hippomocks/hippomocks.h:3241:103: error: invalid conversion from \u2018void (*)(int, LPCTSTR, ...) {aka void (*)(int, const char*, ...)}\u2019 to \u2018void (*)(int, const char*)\u2019 [-fpermissive]\n #define OnCallFuncOverload(func) RegisterExpect_&lt;__LINE__&gt;(func, HM_NS Any, #func,  __FILE__, __LINE__)\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1461169000, "post_id": 36749398, "comment_id": 61079943, "body": "Pass the arguments to the function by reference, instead of by value."}], "answers": [{"tags": [], "owner": {"reputation": 978, "user_id": 1902082, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f46590cf12954aeab118e32b10f0ed97?s=128&d=identicon&r=PG", "display_name": "scooter me fecit", "link": "https://stackoverflow.com/users/1902082/scooter-me-fecit"}, "is_accepted": true, "score": 0, "last_activity_date": 1461170937, "creation_date": 1461170937, "answer_id": 36750250, "question_id": 36749398, "link": "https://stackoverflow.com/questions/36749398/swapping-strings-in-a-string-array/36750250#36750250", "title": "Swapping strings in a string array", "body": "<p>You should pass the strings by reference because you are mutating them. The way your code is written, you're sending temporary copies of the strings you want to swap, in effect, swapping the copies, but not swapping them in the array. Updated code:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid doSwap(string string1, string string2);\n\nint main() {\n    string theArray[] = {\"the\", \"cat\", \"ran\", \"sideways\"};\n    int i;\n    for (i = 0; i &lt; (sizeof theArray)/sizeof(string); i++) {\n        doSwap(theArray[i], theArray[i+1]);\n        cout &lt;&lt; theArray[i] &lt;&lt; \" \";\n    }\n}\n\nvoid doSwap (string &amp;string1, string &amp;string2) {\n    string temp;\n    temp = string1;\n    string1 = string2;\n    string2 = temp;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "is_accepted": false, "score": 0, "last_activity_date": 1461171303, "creation_date": 1461171303, "answer_id": 36750383, "question_id": 36749398, "link": "https://stackoverflow.com/questions/36749398/swapping-strings-in-a-string-array/36750383#36750383", "title": "Swapping strings in a string array", "body": "<p>You could accomplish your task quite easily using the <code>&lt;algorithm&gt;</code> library:</p>\n\n<pre><code>int main()\n{\n    vector&lt;string&gt; vec { \"the\", \"cat\", \"ran\", \"sideways\" };\n    swap_ranges(begin(vec), begin(vec)+1, begin(vec)+1);\n    swap_ranges(begin(vec)+2, begin(vec)+3, begin(vec)+3);\n}\n</code></pre>\n\n<p>You don't need to make it difficult for yourself.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3511557"}, "is_accepted": false, "score": 0, "last_activity_date": 1461172062, "creation_date": 1461172062, "answer_id": 36750631, "question_id": 36749398, "link": "https://stackoverflow.com/questions/36749398/swapping-strings-in-a-string-array/36750631#36750631", "title": "Swapping strings in a string array", "body": "<p>Try this code, this will be simple:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid doSwap (int first, int last);\nstring theArray[5] = {\"the\", \"cat\", \"ran\", \"sideways\"};\nint main() {\n    int i;\n    for (i = 2; i &lt;=4; i += 2) {\n        doSwap((i-2),(i-1));\n    }\n    for(i=0;i&lt;5;i++)\n        cout &lt;&lt; theArray[i] &lt;&lt; \" \";\n}\n\nvoid doSwap (int first, int last){\n    string tmp;\n    tmp = theArray[first];\n    theArray[first] = theArray[last];\n    theArray[last] = tmp;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6206700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df0e02dc1dcb13ab46041b49a8247ade?s=128&d=identicon&r=PG&f=1", "display_name": "Jake D", "link": "https://stackoverflow.com/users/6206700/jake-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1722, "favorite_count": 0, "accepted_answer_id": 36750250, "answer_count": 3, "score": 1, "last_activity_date": 1461172062, "creation_date": 1461168382, "question_id": 36749398, "link": "https://stackoverflow.com/questions/36749398/swapping-strings-in-a-string-array", "title": "Swapping strings in a string array", "body": "<p>Not sure if I'm doing it right or not. But I'm trying to display the output <code>cat the sideways ran</code> instead of <code>the cat ran sideways</code>.</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nvoid doSwap(string string1, string string2);\n\nint main() {\n    string theArray[5] = {\"the\", \"cat\", \"ran\", \"sideways\"};\n    int i;\n    for (i = 0; i &lt; 4; i++) {\n        doSwap(theArray[i], theArray[i+1]);\n        cout &lt;&lt; theArray[i] &lt;&lt; \" \";\n    }\n}\n\nvoid doSwap (string string1, string string2) {\n    string temp;\n    temp = string1;\n    string1 = string2;\n    string2 = temp;\n}\n</code></pre>\n\n<p>Not sure if I'm doing it correctly or not.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1461168736, "post_id": 36749346, "comment_id": 61079763, "body": "It&#39;s <a href=\"https://en.wikipedia.org/wiki/Object_slicing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Object_slicing</a>.  Here&#39;s the answer: <a href=\"http://stackoverflow.com/questions/274626/what-is-object-slicing\">stackoverflow.com/questions/274626/what-is-object-slicing</a>"}, {"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1461168909, "post_id": 36749346, "comment_id": 61079887, "body": "Oh, and please read this one too: <a href=\"http://stackoverflow.com/questions/408670/stack-static-and-heap-in-c\" title=\"stack static and heap in c\">stackoverflow.com/questions/408670/stack-static-and-heap-in-&zwnj;&#8203;c</a> it&#39;s not a good idea to store address of heap objects"}, {"owner": {"reputation": 1505, "user_id": 2641513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bGWLp.jpg?s=128&g=1", "display_name": "zoska", "link": "https://stackoverflow.com/users/2641513/zoska"}, "edited": false, "score": 0, "creation_date": 1461169039, "post_id": 36749346, "comment_id": 61079970, "body": "Do not store pointer of temporary object (what you are doing with your tempDog and tempCat). You should create them dynamically."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1461177991, "post_id": 36749346, "comment_id": 61085361, "body": "Instead of <code>toString()</code> you should override <code>operator&lt;&lt;()</code> for your class."}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1461169418, "last_edit_date": 1461169418, "creation_date": 1461168955, "answer_id": 36749605, "question_id": 36749346, "link": "https://stackoverflow.com/questions/36749346/c-calling-overriden-functions-results-in-call-of-base-function/36749605#36749605", "title": "C++ Calling overriden functions results in call of base function", "body": "<pre><code>cout &lt;&lt; iter -&gt; toString() &lt;&lt; endl;\n</code></pre>\n\n<p>Is attempting to call a member function of the type of <code>*iter</code>.  Since <code>*iter</code> is an <code>Animal*</code> it does not have any member functions.  What you need to do is get the value of the iterator and then call its member function with <code>-&gt;</code> like</p>\n\n<pre><code>cout &lt;&lt; (*iter)-&gt;toString() &lt;&lt; endl;\n</code></pre>\n\n<p>Also note that if you have access to C++11 or higher you can use a ranged based for loop like</p>\n\n<pre><code>for (auto&amp; e : animals)\n    cout &lt;&lt; e-&gt;toString() &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>I also changed to <code>\"\\n\"</code> instead of <code>endl</code> as typically you do not need the call to <code>flush</code> so you should only do that when you know you need to.</p>\n\n<hr>\n\n<p>You also have undefined behavior in your code.</p>\n\n<pre><code>if(type == \"dog\"){\n    Dog tempDog(name, age, weight);\n    animals.push_back(&amp;tempDog);\n}\n</code></pre>\n\n<p>Is going to add a pointer to a automatic object into the vector.  When you leave the if block that automatic object get automatically destroyed.  After it is destroyed you now have a pointer to an object that no longer exist.  The quick fix is to use <code>new</code> to dynamically allocate the object like</p>\n\n<pre><code>if(type == \"dog\"){\n    Dog* tempDog = new Dog(name, age, weight);\n    animals.push_back(tempDog);\n}\n</code></pre>\n\n<p>Now the pointer in the vector will still be valid.  Unfortunately now you need to remember to delete all of those pointers when you are done with them.  Instead of having to do manual memory management you can use a smart pointer like a <code>std::unique_ptr</code> or <code>std::shared_ptr</code> which will manage the memory for you.</p>\n"}], "owner": {"reputation": 318, "user_id": 4992160, "user_type": "registered", "accept_rate": 26, "profile_image": "https://graph.facebook.com/682839341822419/picture?type=large", "display_name": "\u041a\u0440\u0438\u0441\u0438 \u0421\u0442\u043e\u044f\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/4992160/%d0%9a%d1%80%d0%b8%d1%81%d0%b8-%d0%a1%d1%82%d0%be%d1%8f%d0%bd%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461176131, "creation_date": 1461168208, "last_edit_date": 1461176131, "question_id": 36749346, "link": "https://stackoverflow.com/questions/36749346/c-calling-overriden-functions-results-in-call-of-base-function", "title": "C++ Calling overriden functions results in call of base function", "body": "<p>I am new to C++ as I made the switch from Java/C#. Can somebody explain why my code doesn't work like I think it should. I have a simple hierarchy of Animal class which is then inherited by Dog and Cat. The only difference between the classes is their virtual method toString() /which obviously returns a string based on which of the classes it is called on/. Okay so I am inputting information and creating the classes with cin and pushing them into a vector of Animals. However when I tried to call their toString() I got the result from the base toString() and not the overriden one. Here is the code at this point:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include \"animal.h\"\n#include \"cat.h\"\n#include \"dog.h\"\n\nusing namespace std;\n\nint main()\n{\n    vector&lt;Animal&gt; animals;\n\n    string type;\n    string name;\n    int age;\n    int weight;\n\n    while(cin &gt;&gt; type){\n        cin &gt;&gt; name &gt;&gt; age &gt;&gt; weight;\n        if(type == \"dog\"){\n            animals.push_back(Dog(name, age, weight);\n        }\n\n        else {\n            animals.push_back(Cat(name, age, weight);\n        }\n    }\n\n    for(vector&lt;Animal&gt;::iterator iter = animals.begin(); iter != animals.end();\n        iter++){\n            cout &lt;&lt; iter -&gt; toString() &lt;&lt; endl;\n        }\n\n    return 0;\n}\n</code></pre>\n\n<p>But then after I did some googling I found a suggestion that I should use pointers because of something called object slicing. So then my code turned into this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include \"animal.h\"\n#include \"cat.h\"\n#include \"dog.h\"\n\nusing namespace std;\n\nint main()\n{\n    vector&lt;Animal*&gt; animals;\n\n    string type;\n    string name;\n    int age;\n    int weight;\n\n    while(cin &gt;&gt; type){\n        cin &gt;&gt; name &gt;&gt; age &gt;&gt; weight;\n        if(type == \"dog\"){\n            Dog tempDog(name, age, weight);\n            animals.push_back(&amp;tempDog);\n        }\n\n        else {\n            Cat tempCat(name, age, weight);\n            animals.push_back(&amp;tempCat);\n        }\n    }\n\n    for(vector&lt;Animal*&gt;::iterator iter = animals.begin(); iter != animals.end();\n        iter++){\n            cout &lt;&lt; iter -&gt; toString() &lt;&lt; endl;\n        }\n\n    return 0;\n}\n</code></pre>\n\n<p>And now I am getting a compiler error suggesting I should use '->';</p>\n\n<p>Also a side question while I am here I would like to ask. Is there a way of overriding a virtual method from the .cpp file and not the header file where the class is defined. I am recently getting into the oop in c++ and to my idea is that in the header file I just define prototypes of the members of the class and I do the implementation in a different .cpp file.</p>\n"}, {"tags": ["c++", "binary-tree", "binary-search-tree"], "answers": [{"tags": [], "owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "is_accepted": true, "score": 1, "last_activity_date": 1461169096, "creation_date": 1461169096, "answer_id": 36749647, "question_id": 36749301, "link": "https://stackoverflow.com/questions/36749301/binary-tree-behavior/36749647#36749647", "title": "Binary Tree &quot;behavior&quot;", "body": "<blockquote>\n  <p>the data from k is being inserted into the tree and THEN then the variable k is deleted</p>\n</blockquote>\n\n<p>No, k is just a pointer. It points to a nod(e). You are inserting this node into your tree (by passing it as a pointer). It is not a copy, it is that same node. delete does not delete a variable, it deletes the node, so you are also removing it from your tree. </p>\n\n<p>A big argument against raw pointers like you are using, is that it is difficult to express who is the owner of the object. This is evidence supporting that argument. You were expecting that the tree owned its nodes, your program shows the opposite behavior. </p>\n\n<p>To properly dispose of the nodes you would need a destructor that traverses the tree and deletes each node upon the destruction of the tree. You would also need to hide the actual nodes from your trees users by using inserts like <code>avl::insert(int info, int h);</code></p>\n"}], "owner": {"reputation": 75, "user_id": 5600989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e8458214e2b23658afb7d46a0e50030?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/5600989/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 36749647, "answer_count": 1, "score": 0, "last_activity_date": 1461169096, "creation_date": 1461168094, "last_edit_date": 1461168398, "question_id": 36749301, "link": "https://stackoverflow.com/questions/36749301/binary-tree-behavior", "title": "Binary Tree &quot;behavior&quot;", "body": "<p>I have the following binary search tree (in C++) and i have a question to a specific line of code :</p>\n\n<pre><code>delete k;\n</code></pre>\n\n<p>My code is working if i remove that line , and I don't understand why.\nBy my understanding : the data from k is being inserted into the tree and THEN then the variable k is deleted.\nWhy is the data deleting from the Tree too?</p>\n\n<p>here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nstruct nod\n{\nnod *st=NULL;\nint info;\nnod *dr=NULL;\nint h;\nnod *par=NULL;       // par = \"father\"\n};\nstruct avl     \n{\nnod *rad=NULL;                  //rad = root;\nvoid insert(nod *z)             //INSERT\n{\n    nod *y = NULL;\n    nod *x = rad;\n    while (x != NULL)\n    {\n        y = x;\n        if (z-&gt;info &lt; x-&gt;info)\n        {\n            x = x-&gt;st;         // st = left\n        }\n        else\n        {\n            x = x-&gt;dr;        //dr = right\n        }\n    }\n    if (y == NULL)\n    {\n        rad = z;\n    }\n    else\n    {\n        if (z-&gt;info &lt; y-&gt;info)\n        {\n            y-&gt;st = z;\n        }\n        else\n        {\n            y-&gt;dr = z;\n        }\n    }\n    z-&gt;par = y;\n}\nvoid inordine(nod *k)\n{\n    if (k)\n    {\n        inordine(k-&gt;st);\n        cout &lt;&lt; k-&gt;info&lt;&lt;\"\\t\";\n        inordine(k-&gt;dr);\n    }\n}\n};\nint main(void)\n{\navl *arbore = new avl;\nint el = 5;\narbore-&gt;rad=NULL;\nwhile (el &gt;= 0)\n{\n    cout &lt;&lt; \"element\\n\";\n    cin &gt;&gt; el;\n        nod *k = new nod;\n        k-&gt;dr = NULL;\n        k-&gt;st = NULL;\n        k-&gt;par = NULL;\n        k-&gt;info = el;\n        arbore-&gt;insert(k);\n        delete k;\n}\ncout &lt;&lt; \"print inordine\\n\";\narbore-&gt;inordine(arbore-&gt;rad);\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance", "constructor"], "answers": [{"comments": [{"owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1461170515, "post_id": 36749332, "comment_id": 61080888, "body": "Yes.  We should not answer well written questions about commonly encountered errors with no discoverable answers on StackOverflow.  Very foolish of me to not stick my nose up and close vote it."}], "tags": [], "owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "is_accepted": false, "score": 1, "last_activity_date": 1461168178, "creation_date": 1461168178, "answer_id": 36749332, "question_id": 36749287, "link": "https://stackoverflow.com/questions/36749287/constructor-error-expected-at-end-of-input/36749332#36749332", "title": "Constructor error: expected \u2018{\u2019 at end of input", "body": "<pre><code>bar() : foo_double();\n</code></pre>\n\n<p>Is not a constructor.</p>\n\n<pre><code>bar() : foo_double() { }\n</code></pre>\n\n<p>is.</p>\n"}, {"comments": [{"owner": {"reputation": 608, "user_id": 4462877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e40ef77dcc62d93436a2a5ded444e517?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Li", "link": "https://stackoverflow.com/users/4462877/mohammed-li"}, "edited": false, "score": 1, "creation_date": 1461168506, "post_id": 36749339, "comment_id": 61079625, "body": "It is not a typo if you add a constructor definition in a separate source file."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 608, "user_id": 4462877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e40ef77dcc62d93436a2a5ded444e517?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Li", "link": "https://stackoverflow.com/users/4462877/mohammed-li"}, "edited": false, "score": 1, "creation_date": 1461169080, "post_id": 36749339, "comment_id": 61079992, "body": "@wka Yes it is still a typo.  If you are just declaring the constructor then you would have <code>bar();</code>"}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 5, "last_activity_date": 1461168185, "creation_date": 1461168185, "answer_id": 36749339, "question_id": 36749287, "link": "https://stackoverflow.com/questions/36749287/constructor-error-expected-at-end-of-input/36749339#36749339", "title": "Constructor error: expected \u2018{\u2019 at end of input", "body": "<p>Member initialize list can only be used with the constructor definition. So you need to define it as</p>\n\n<pre><code>bar() : foo_double() {}\n</code></pre>\n\n<p>And the base class will be default constructed by default, so you don't need to do it at all. Just</p>\n\n<pre><code>bar() {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "is_accepted": false, "score": 1, "last_activity_date": 1461168491, "creation_date": 1461168491, "answer_id": 36749435, "question_id": 36749287, "link": "https://stackoverflow.com/questions/36749287/constructor-error-expected-at-end-of-input/36749435#36749435", "title": "Constructor error: expected \u2018{\u2019 at end of input", "body": "<p>You forgot the curly braces <code>{ }</code></p>\n\n<pre><code>bar() : foo_double() { }\n              //     ^^^\n</code></pre>\n"}], "owner": {"reputation": 608, "user_id": 4462877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e40ef77dcc62d93436a2a5ded444e517?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Li", "link": "https://stackoverflow.com/users/4462877/mohammed-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "accepted_answer_id": 36749339, "answer_count": 3, "score": 0, "last_activity_date": 1461168491, "creation_date": 1461168073, "last_edit_date": 1461168241, "question_id": 36749287, "link": "https://stackoverflow.com/questions/36749287/constructor-error-expected-at-end-of-input", "title": "Constructor error: expected \u2018{\u2019 at end of input", "body": "<p>I am having trouble declaring a constructor from in a subclass whose superclass is created from a template.</p>\n\n<p>The example code looks like this:</p>\n\n<pre><code>template &lt;class T&gt;\nclass foo{\n    public:\n        foo();\n};\n\ntypedef foo&lt;double&gt; foo_double;\n\nclass bar : public foo_double\n{\n    bar() : foo_double();\n};\n\nint main(){\n}\n</code></pre>\n\n<p>when I compile, I get an error:</p>\n\n<pre><code>In constructor \u2018bar::bar()\u2019:\nexpected \u2018{\u2019 at end of input\n</code></pre>\n\n<p>I am at a bit of a loss here.</p>\n"}, {"tags": ["c++", "menu", "builder"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461168653, "post_id": 36749243, "comment_id": 61079716, "body": "Standard c++ has no menu, form or GUI at all. What framework are you using so that someone can possibly help?"}, {"owner": {"reputation": 1, "user_id": 6224747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebebf9836381a3af68bd2eb5cfdbd0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marik Decide", "link": "https://stackoverflow.com/users/6224747/marik-decide"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461168808, "post_id": 36749243, "comment_id": 61079811, "body": "I write in Rad Studio. I don&#39;t have Framework."}, {"owner": {"reputation": 1, "user_id": 6224747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebebf9836381a3af68bd2eb5cfdbd0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marik Decide", "link": "https://stackoverflow.com/users/6224747/marik-decide"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1461168914, "post_id": 36749243, "comment_id": 61079892, "body": "I read about the property Mainmenu of the &quot;Automerge&quot;, but I can&#39;t do anything"}], "owner": {"reputation": 1, "user_id": 6224747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebebf9836381a3af68bd2eb5cfdbd0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marik Decide", "link": "https://stackoverflow.com/users/6224747/marik-decide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544326824, "creation_date": 1461167976, "last_edit_date": 1544326824, "question_id": 36749243, "link": "https://stackoverflow.com/questions/36749243/mainmenu-on-several-form-c-builder", "title": "mainmenu on several form C++ builder", "body": "<p>I want to get one menu to the MainMenu component on eight forms. It is obvious that to copy the event handlers and to do every form saw each other is a bulky variant. As for easier?</p>\n"}]